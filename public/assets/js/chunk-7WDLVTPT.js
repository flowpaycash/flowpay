import{a as Vu}from"./chunk-X5WLLEPQ.js";import{$ as n5,$a as Ku,A as Cn,Aa as e8,Ab as Pn,B as W,Ba as t8,Bb as sn,C as Jr,Ca as n8,Cb as eb,D as Ha,Da as a8,Db as b5,E as Qr,Ea as r8,Eb as tb,F as K6,Fa as $6,Fb as qe,G as ve,Ga as s8,Gb as i1,H as In,Ha as i8,I as p0,Ia as o8,J as $0,Ja as c8,K as Le,Ka as d8,L as qr,La as Y6,Lb as Ut,M as Mu,Ma as Gu,N as Zi,Na as e1,O as Xi,Oa as t1,P as o0,Pa as n1,Q as e5,Qa as rn,R as c0,Ra as a1,S,Sa as f8,T as Ou,Ta as Ct,U as t5,Ua as Qn,V as Ft,Va as ct,W as ku,Wa as I0,X as N0,Xa as d5,Y as Ru,Ya as zu,Z as Bu,Za as r1,_ as an,_a as f5,a as ji,aa as Fu,ab as Wu,b as An,ba as Lu,bb as Ce,c as Be,ca as a5,cb as J6,d as O,da as r5,db as p5,e as _u,ea as Uu,eb as Lt,f as Yr,fa as Hu,fb as ye,g as Su,ga as W6,gb as s1,h as Nu,ha as Ga,hb as Ka,i as $i,ia as s5,ib as Wa,j as Kd,ja as Zr,jb as Se,k as Yi,ka as Va,kb as Ke,l as vn,la as i5,lb as p8,m as Jn,ma as Wd,mb as Q6,n as Du,na as jd,nb as ju,o as F0,oa as $d,ob as It,p as Ji,pa as Yd,pb as $u,q as C0,qa as Jd,qb as Yu,r as Qi,ra as Xr,rb as u5,s as le,sa as za,sb as Ju,t as a0,ta as Qd,tb as u8,u as qi,ua as qd,ub as b8,v as ce,va as Zd,vb as l8,w as F,wa as j6,wb as Qu,x as ze,xa as o5,xb as qu,y as H0,ya as Xd,yb as Zu,z as Fe,za as c5,zb as Xu}from"./chunk-KYL6WK6Y.js";import{a as Ki,b as zd,c as Wi,d as Ua}from"./chunk-2PHWXKVH.js";import{a as uu,j as Pu,k as zi}from"./chunk-AQSRTDKO.js";import{a as Iu}from"./chunk-G5KA7DMQ.js";import{A as Gd,B as Vd,C as Q,D as Eu,E as La,F as Gi,G as Au,H as vu,I as Vi,J as Cu,K as Z,L as En,a as $r,b as yu,d as mu,f as Dh,m as Mh,o as hu,r as Tu,u as xu,v as Yn,w as ee,x as z6,y as wu,z as Hi}from"./chunk-GWB75M73.js";import{a as w,b as A,f as O0}from"./chunk-W44JATXS.js";import{b as gu}from"./chunk-BXV67TBK.js";import{l as bu,m as lu}from"./chunk-E62CRSR5.js";import{d as Nh,e as jr,g as f0}from"./chunk-BG6P72OF.js";var x4=Nh((dc0,T4)=>{T4.exports=hi;hi.default=hi;hi.stable=h4;hi.stableStringify=h4;var xd="[...]",y4="[Circular]",Hr=[],Ur=[];function m4(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function hi(t,e,n,a){typeof a>"u"&&(a=m4()),cp(t,"",0,[],void 0,0,a);var r;try{Ur.length===0?r=JSON.stringify(t,e,n):r=JSON.stringify(t,g4(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Hr.length!==0;){var s=Hr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return r}function F6(t,e,n,a){var r=Object.getOwnPropertyDescriptor(a,n);r.get!==void 0?r.configurable?(Object.defineProperty(a,n,{value:t}),Hr.push([a,n,e,r])):Ur.push([e,n,t]):(a[n]=t,Hr.push([a,n,e]))}function cp(t,e,n,a,r,s,i){s+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<a.length;o++)if(a[o]===t){F6(y4,t,e,r);return}if(typeof i.depthLimit<"u"&&s>i.depthLimit){F6(xd,t,e,r);return}if(typeof i.edgesLimit<"u"&&n+1>i.edgesLimit){F6(xd,t,e,r);return}if(a.push(t),Array.isArray(t))for(o=0;o<t.length;o++)cp(t[o],o,o,a,t,s,i);else{var c=Object.keys(t);for(o=0;o<c.length;o++){var d=c[o];cp(t[d],d,o,a,t,s,i)}}a.pop()}}function UA(t,e){return t<e?-1:t>e?1:0}function h4(t,e,n,a){typeof a>"u"&&(a=m4());var r=dp(t,"",0,[],void 0,0,a)||t,s;try{Ur.length===0?s=JSON.stringify(r,e,n):s=JSON.stringify(r,g4(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Hr.length!==0;){var i=Hr.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function dp(t,e,n,a,r,s,i){s+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<a.length;o++)if(a[o]===t){F6(y4,t,e,r);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof i.depthLimit<"u"&&s>i.depthLimit){F6(xd,t,e,r);return}if(typeof i.edgesLimit<"u"&&n+1>i.edgesLimit){F6(xd,t,e,r);return}if(a.push(t),Array.isArray(t))for(o=0;o<t.length;o++)dp(t[o],o,o,a,t,s,i);else{var c={},d=Object.keys(t).sort(UA);for(o=0;o<d.length;o++){var f=d[o];dp(t[f],f,o,a,t,s,i),c[f]=t[f]}if(typeof r<"u")Hr.push([r,e,t]),r[e]=c;else return c}a.pop()}}function g4(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Ur.length>0)for(var a=0;a<Ur.length;a++){var r=Ur[a];if(r[1]===e&&r[0]===n){n=r[2],Ur.splice(a,1);break}}return t.call(this,e,n)}}});var nb=f0(O0()),q6=nb.default.getLogger("auth");q6.setLevel("error");var o1=f0(mu()),y5=f0(O0()),l5=y5.default.getLogger("http-helpers");l5.setLevel(y5.levels.INFO);var ab="torus-default",rb="",Oh="x-api-key",kh="x-embed-host",sb=null,Rh=[],Bh=[];async function Z6(t,e){let n=null;try{n=new URL(t)}catch{}return sb&&n&&(Rh.includes(n.origin)||Bh.includes(n.pathname))?await sb.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function X6(){let t={};return ab&&(t[Oh]=ab),rb&&(t[kh]=rb),t}function es(t){l5.info(`Response: ${t.status} ${t.statusText}`),l5.info(`Url: ${t.url}`)}function Fh(t){let e=t.headers.get("x-web3-correlation-id");e&&l5.info(`Request tracing with traceID = ${e}`)}var Lh=async(t,e)=>{let n=null;try{let a=new Promise((s,i)=>{n=setTimeout(()=>{i(new Error(`Timed out in ${t}ms`))},t)}),r=await Promise.race([e,a]);return n!=null&&clearTimeout(n),r}catch(a){throw n!=null&&clearTimeout(n),a}},dt=async(t,e={},n={})=>{let a={mode:"cors",headers:{}};n.useAPIKey&&(a.headers=A(A({},a.headers),X6())),e.method="GET";let r=(0,o1.default)(a,e),s=await Z6(t,r);if(s.ok){let i=s.headers.get("content-type");return i!=null&&i.includes("application/json")?s.json():s.text()}throw es(s),s},qn=(t,e={},n={},a={})=>{let r={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};a.useAPIKey&&(r.headers=A(A({},r.headers),X6())),n.method="POST";let s=(0,o1.default)(r,n);return a.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e),Lh(a.timeout||6e4,Z6(t,s).then(i=>{if(a.logTracingHeader&&Fh(i),i.ok){let o=i.headers.get("content-type");return o!=null&&o.includes("application/json")?i.json():i.text()}throw es(i),i}))},ib=async(t,e={},n={},a={})=>{let r={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};a.useAPIKey&&(r.headers=A(A({},r.headers),X6())),n.method="PATCH";let s=(0,o1.default)(r,n);a.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e);let i=await Z6(t,s);if(i.ok){let o=i.headers.get("content-type");return o!=null&&o.includes("application/json")?i.json():i.text()}throw es(i),i},ob=async(t,e={},n={},a={})=>{let r={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};a.useAPIKey&&(r.headers=A(A({},r.headers),X6())),n.method="PUT";let s=(0,o1.default)(r,n);a.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e);let i=await Z6(t,s);if(i.ok){let o=i.headers.get("content-type");return o!=null&&o.includes("application/json")?i.json():i.text()}throw es(i),i},cb=async(t,e={},n={},a={})=>{let r={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};a.useAPIKey&&(r.headers=A(A({},r.headers),X6())),n.method="DELETE";let s=(0,o1.default)(r,n);a.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e);let i=await Z6(t,s);if(i.ok){let o=i.headers.get("content-type");return o!=null&&o.includes("application/json")?i.json():i.text()}throw es(i),i};var fb=f0(Mh());function db(t,e,n){try{Reflect.apply(t,e,n)}catch(a){setTimeout(()=>{throw a})}}function Uh(t){let e=t.length,n=new Array(e);for(let a=0;a<e;a+=1)n[a]=t[a];return n}var on=class extends fb.EventEmitter{emit(e,...n){let a=e==="error",r=this._events;if(r!==void 0)a=a&&r.error===void 0;else if(!a)return!1;if(a){let i;if(n.length>0&&([i]=n),i instanceof Error)throw i;let o=new Error(`Unhandled error.${i?` (${i.message})`:""}`);throw o.context=i,o}let s=r[e];if(s===void 0)return!1;if(typeof s=="function")db(s,this,n);else{let i=s.length,o=Uh(s);for(let c=0;c<i;c+=1)db(o[c],this,n)}return!0}};var pb=f0(hu()),Zn=class extends Error{constructor({code:e,message:n,data:a}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),w(this,"code",void 0),w(this,"data",void 0),this.code=e,a!==void 0&&(this.data=a)}toString(){return(0,pb.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}};var xb=f0(hu());var we={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},y8={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};var yb=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)},ub=we.rpc.internal,Hh="Unspecified error message. This is a bug, please report it.",Gh="Unspecified server error.";function mb(t){return Number.isInteger(t)}function bb(t){return typeof t=="string"&&t.length>0}function m5(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function hb(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function Vh(t){return t>=-32099&&t<=-32e3}function gb(t){let e=t;return!(!e||!mb(e.code)||!bb(e.message)||e.stack&&!bb(e.stack))}function c1(t,e=Hh){if(mb(t)){let n=t.toString();if(yb(y8,n))return y8[n].message;if(Vh(t))return Gh}return e}var zh={code:ub,message:c1(ub)};function m8(t){try{JSON.parse(JSON.stringify(t,(e,n)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof n=="function"||typeof n=="symbol")throw new Error("Not valid json");return n}),(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n})}catch{return!1}return!0}function lb(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{let a=t[n];return m8(a)&&(e[n]=a),e},{})}function h8(t){return Array.isArray(t)?t.map(e=>m8(e)?e:m5(e)?lb(e):null):m5(t)?lb(t):m8(t)?t:null}function Kh(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(gb(t))return t;let n=h8(t);return A(A({},e),{},{data:{cause:n}})}function h5(t,{fallbackError:e=zh,shouldIncludeStack:n=!0}={}){if(!gb(e))throw new Error("Must provide fallback error with integer number code and string message.");let a=Kh(t,e);return n||delete a.stack,a}function Tb(t){return m5(t)&&yb(t,"cause")&&m5(t.cause)}var Wh=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};function jh(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function $h(t,e){if(e!=="[Circular]")return e}var ts=class extends Error{constructor(e,n,a){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');Tb(a)?(super(n,{cause:a.cause}),w(this,"cause",void 0),w(this,"code",void 0),w(this,"data",void 0),Wh(this,"cause")||Object.assign(this,{cause:a.cause})):(super(n),w(this,"cause",void 0),w(this,"code",void 0),w(this,"data",void 0)),a!==void 0&&(this.data=a),this.code=e,this.cause=a?.cause}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,hb(this.data)&&(e.data.cause=h8(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,xb.default)(this.serialize(),{replacer:$h,space:2})}},ns=class extends ts{constructor(e,n,a){if(!jh(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,a)}};function wb(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}function Pt(t,e){let[n,a]=wb(e);return new ts(t,n??c1(t),a)}function as(t,e){let[n,a]=wb(e);return new ns(t,n??c1(t),a)}var P0={parse:t=>Pt(we.rpc.parse,t),invalidRequest:t=>Pt(we.rpc.invalidRequest,t),invalidParams:t=>Pt(we.rpc.invalidParams,t),methodNotFound:t=>Pt(we.rpc.methodNotFound,t),internal:t=>Pt(we.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Pt(e,t)},invalidInput:t=>Pt(we.rpc.invalidInput,t),resourceNotFound:t=>Pt(we.rpc.resourceNotFound,t),resourceUnavailable:t=>Pt(we.rpc.resourceUnavailable,t),transactionRejected:t=>Pt(we.rpc.transactionRejected,t),methodNotSupported:t=>Pt(we.rpc.methodNotSupported,t),limitExceeded:t=>Pt(we.rpc.limitExceeded,t)},rs={userRejectedRequest:t=>as(we.provider.userRejectedRequest,t),unauthorized:t=>as(we.provider.unauthorized,t),unsupportedMethod:t=>as(we.provider.unsupportedMethod,t),disconnected:t=>as(we.provider.disconnected,t),chainDisconnected:t=>as(we.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:e,message:n,data:a}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new ns(e,n,a)}};var Yh=f0(xu());function g5(t){return(e,n,a,r)=>{let s=t[e.method];return s===void 0?a():typeof s=="function"?s(e,n,a,r):(n.result=s,r())}}function de(t){return async(e,n,a,r)=>{let s,i=new Promise(f=>{s=f}),o=null,c=!1,d=async()=>{c=!0,a(f=>{o=f,s()}),await i};try{await t(e,n,d),c?(await i,o(null)):r(null)}catch(f){let p=f;o?o(p):r(p)}}}var Jh=f0(xu());function g8(t){let{message:e="",code:n=-32603,stack:a="Stack trace is not available.",data:r=""}=t,s=parseInt(n?.toString()||"-32603");return{message:e||t?.toString()||c1(s),code:s,stack:a,data:r||e||t?.toString()}}var _n=class t extends on{constructor(){super(),w(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,a){let r=[],s=null,i=!1;for(let o of a)if([s,i]=await t._runMiddleware(e,n,o,r),i)break;return[s,i,r.reverse()]}static _runMiddleware(e,n,a,r){return new Promise(s=>{let i=c=>{let d=c||n.error;d&&(typeof d=="object"&&Object.keys(d).includes("stack")===!1&&(d.stack="Stack trace is not available."),q6.error(d),n.error=h5(d,{shouldIncludeStack:!0,fallbackError:g8(d)})),s([d,!0])},o=c=>{n.error?i(n.error):(c&&(typeof c!="function"&&i(new Zn({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),r.push(c)),s([null,!1]))};try{a(e,n,o,i)}catch(c){i(c)}})}static async _runReturnHandlers(e){for(let n of e)await new Promise((a,r)=>{n(s=>s?r(s):a())})}static _checkForCompletion(e,n,a){if(!("result"in n)&&!("error"in n))throw new Zn({code:-32603,message:"Response has no error or result for request"});if(!a)throw new Zn({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,a,r)=>{try{let[s,i,o]=await t._runAllMiddleware(e,n,this._middleware);return i?(await t._runReturnHandlers(o),r(s)):a(async c=>{try{await t._runReturnHandlers(o)}catch(d){return c(d)}return c()})}catch(s){return r(s)}}}async _handleBatch(e,n){try{let a=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,a):a}catch(a){if(n)return n(a);throw a}}_promiseHandle(e){return new Promise((n,a)=>{this._handle(e,(r,s)=>{r&&s===void 0?a(r):n(s)}).catch(a)})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){let i=new Zn({code:-32603,message:"request must be plain object"});return n(i,{id:void 0,jsonrpc:"2.0",error:i})}if(typeof e.method!="string"){let i=new Zn({code:-32603,message:"method must be string"});return n(i,{id:e.id,jsonrpc:"2.0",error:i})}let a=A({},e),r={id:a.id,jsonrpc:a.jsonrpc},s=null;try{await this._processRequest(a,r)}catch(i){s=i}return s&&(delete r.result,r.error||(typeof s=="object"&&Object.keys(s).includes("stack")===!1&&(s.stack="Stack trace is not available."),q6.error(s),r.error=h5(s,{shouldIncludeStack:!0,fallbackError:g8(s)}))),n(s,r)}async _processRequest(e,n){let[a,r,s]=await t._runAllMiddleware(e,n,this._middleware);if(t._checkForCompletion(e,n,r),await t._runReturnHandlers(s),a)throw a}};function ja(t){let e=new _n;return t.forEach(n=>{e.push(n)}),e.asMiddleware()}function d1(t){let e=new on;return e.sendAsync=async n=>{let a=await t.handle(n);if(a.error){typeof a.error=="object"&&Object.keys(a.error).includes("stack")===!1&&(a.error.stack="Stack trace is not available."),q6.error(a.error);let r=h5(a.error,{fallbackError:g8(a.error),shouldIncludeStack:!0});throw P0.internal(r)}return a.result},e.send=(n,a)=>{if(typeof a!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,a)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{let a=A(A({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(a)},e}function T8(t){let e=new _n;return e.push(t),d1(e)}var S0=class extends on{constructor({config:e={},state:n={}}){super(),w(this,"defaultConfig",{}),w(this,"defaultState",{}),w(this,"disabled",!1),w(this,"name","BaseController"),w(this,"initialConfig",void 0),w(this,"initialState",void 0),w(this,"internalConfig",this.defaultConfig),w(this,"internalState",this.defaultState),this.initialState=n,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,n=!1,a=!0){if(a){this.internalConfig=n?e:Object.assign(this.internalConfig,e);for(let r in this.internalConfig)typeof this.internalConfig[r]<"u"&&(this[r]=this.internalConfig[r])}else for(let r in e)typeof this.internalConfig[r]<"u"&&(this.internalConfig[r]=e[r],this[r]=e[r])}update(e,n=!1){this.internalState=n?A({},e):A(A({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}};var Qh=1e3,qh=(t,e)=>t+e,ss=class extends S0{constructor({config:e={},state:n={}}){super({config:e,state:n}),w(this,"name","BaseBlockTracker"),w(this,"_blockResetTimeout",void 0),this.defaultState={_currentBlock:{idempotencyKey:""},_isRunning:!1},this.defaultConfig={blockResetDuration:20*Qh},this.initialize(),this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this.state._isRunning}getCurrentBlock(){return this.state._currentBlock}async getLatestBlock(){return this.state._currentBlock.idempotencyKey?this.state._currentBlock:await new Promise(n=>{this.once("latest",a=>{a&&n(a)})})}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_start(){}_end(){}_newPotentialLatest(e){let n=this.state._currentBlock;n&&e.idempotencyKey===n.idempotencyKey||this._setCurrentBlock(e)}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener)}_onNewListener(){this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this.state._isRunning||(this.state._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this.state._isRunning&&(this.state._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return["latest","sync"].map(n=>this.listenerCount(n)).reduce(qh)}_setCurrentBlock(e){let n=this.state._currentBlock;this.update({_currentBlock:e}),this.emit("latest",e),this.emit("sync",{oldBlock:n,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this.config.blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this.update({_currentBlock:{idempotencyKey:""}})}};var Zh=()=>!0,Xh=["newListener","removeListener"],eg=t=>!Xh.includes(t);function tg(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function x8(t,e){let a=(e||{}).eventFilter||Zh;if(typeof a=="string"&&a==="skipInternal"&&(a=eg),typeof a!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let r=t,s=o=>{if(r===o)return;let c=r;r=o,c.eventNames().filter(a).forEach(f=>{tg(c,f).forEach(p=>{o.on(f,p)})}),c.removeAllListeners()};return new Proxy({},{get:(o,c)=>c==="setTarget"?s:r[c],set:(o,c,d)=>c==="setTarget"?(s=d,!0):(r[c]=d,!0),has:(o,c)=>c[0]==="_"?!1:c in r})}function w8(t){let e=t,n=r=>{e=r};return new Proxy({},{get:(r,s)=>s==="setTarget"?n:e[s],set:(r,s,i)=>s==="setTarget"?(n=i,!0):(e[s]=i,!0),has:(r,s)=>s[0]==="_"?!1:s in e})}var ng=6e5,is=class extends S0{constructor({config:e={},state:n}){super({config:e,state:n}),this.defaultState={currentCurrency:"usd",conversionRate:0,conversionDate:"N/A",nativeCurrency:"ETH"},this.defaultConfig={pollInterval:ng},this.initialize()}getNativeCurrency(){return this.state.nativeCurrency}setNativeCurrency(e){this.update({nativeCurrency:e,ticker:e})}getCurrentCurrency(){return this.state.currentCurrency}setCurrentCurrency(e){this.update({currentCurrency:e})}getConversionRate(){return this.state.conversionRate}setConversionRate(e){this.update({conversionRate:e})}getConversionDate(){return this.state.conversionDate}setConversionDate(e){this.update({conversionDate:e})}};var E8="walletActivity.send";var A8="walletActivity.receive";var T5={GET_PROVIDER_STATE:"wallet_get_provider_state",WALLET_SWITCH_CHAIN:"wallet_switchChain"};var x5=(function(t){return t.UserUnauthorized="user.unauthorized",t})({});function f1(t,e){return de(async(n,a,r)=>{let{method:s}=n;if(s!==t)return r();if(!e)throw new Error(`CommunicationMiddleware - ${t} not provided`);let i=await e(n);if(!i)return r();a.result=i})}var Eb={ETH_TRANSACTION:"eth_sendTransaction",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_SIGN:"personal_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage"},Ab={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},p1={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},u1={INTERNAL:"internal",NETWORK:"network"},vb={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"};var k0={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"};var We=()=>Math.random().toString(36).slice(2);function v8(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}function w5(t,e,n){let a=Gd(e),r=Gd(n),s=wu(t),i=v8(Buffer.from(Vd(a)).toString("hex"),64),o=v8(Buffer.from(Vd(r)).toString("hex"),64),c=ee(Eu(s));return Q(i.concat(o,c))}function os(t){return new Promise(e=>{let n=window.setTimeout(()=>{e(),window.clearTimeout(n)},t)})}var C8=(t,e)=>({headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json; charset=utf-8","public-address":e}}),cs=(t,e="usd",n=!1)=>{let a=En.isBigNumber(t)?t.toNumber():t;if(!Number.isFinite(a))return"";let r=e.toLowerCase()==="usd"?parseFloat(Number(a).toFixed(2)):parseFloat(Number(a).toFixed(5)),s=r>0?"~ ":"";return`${e.toLowerCase()==="usd"||n?"":s}${Number(r)} ${e.toUpperCase()}`},E5=(t,e=5)=>t?t.length<11?t:typeof t!="string"?"":`${t.slice(0,e)}...${t.slice(-e)}`:"",I8=(t,e=!1,n=2)=>{let a=En.isBigNumber(t)?t:new En(t);if(a.isZero())return a;e&&(a=a.times(new En(100)));let r;a.gte(new En(1))?r=n:r=n-1+Math.ceil(Math.log10(new En("1").div(a).toNumber()));let s=new En(10).pow(new En(r));return Math.round(s.times(a).toNumber())/s.toNumber()};var $a=(t,e)=>typeof t.chainId<"u"?t.chainId===e:!1,P8=t=>{let e=Buffer.from(t,"utf8"),n=Cu(e);return Buffer.from(n)},_8=async(t,e)=>{let n=Buffer.from(t,"hex"),a=ee(e),r=Vi(Buffer.from(a,"hex"),n);return w5(Buffer.from(Hi(r.v)),Buffer.from(r.r),Buffer.from(r.s))};function S8(){var t;if((t=navigator)!==null&&t!==void 0&&t.brave)return{browser:"Brave"}}var ds=t=>t instanceof Response&&t.status===401,N8=t=>{try{let e=t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},fs=t=>{try{return new URL(t).hostname}catch{return""}},ps=t=>{if(t)return t.chainNamespace===k0.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===k0.SOLANA?`${t.chainNamespace}:${vb[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`};var us=class extends S0{constructor({config:e={},state:n}){var a;super({config:e,state:n}),this.defaultState={wallets:(a=n.wallets)!==null&&a!==void 0?a:[]},this.initialize()}async signAuthMessage(e,n){let a=this.state.wallets.find(i=>i.address===e);if(!a)throw new Error("key does not exist");let r=P8(n).toString("hex");return await _8(a.privateKey,r)}};var _0={UNAPPROVED:"unapproved",SIGNED:"signed",PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",FAILED:"failed"},Ht={UNAPPROVED_MESSAGE:"unapprovedMessage"};var ft=class extends S0{constructor({config:e,state:n}){super({config:e,state:n}),w(this,"messages",void 0),this.defaultState={unapprovedMessages:{},unapprovedMessagesCount:0},this.messages=[],this.defaultConfig={},super.initialize()}getMessage(e){return this.messages.find(n=>n.id===e)}getAllMessages(){return this.messages}setMetadata(e,n){let a=this.getMessage(e);if(!a)throw new Error(`${this.name}: Message not found for id: ${e}.`);a.metadata=n,this.updateMessage(a)}getUnapprovedMessages(){return this.messages.filter(e=>e.status===_0.UNAPPROVED).reduce((e,n)=>(e[n.id]=n,e),{})}async addMessage(e){this.messages.push(e),this.saveMessageList()}approveMessage(e,n){return this.setMessageStatus(e,_0.APPROVED),this.prepMessageForSigning(n)}setMessageStatus(e,n){let a=this.getMessage(e);if(!a)throw new Error(`${this.name}: Message not found for id: ${e}.`);a.status=n,this.updateMessage(a),this.emit(`${e}:${n}`,a),(n===_0.REJECTED||n===_0.SIGNED||n===_0.FAILED)&&this.emit(`${e}:finished`,a)}async waitForFinishStatus(e,n){return new Promise((a,r)=>{let s=i=>i.status===_0.REJECTED?r(rs.userRejectedRequest(`${n} Signature: User denied message signature`)):i.status===_0.FAILED?r(P0.internal(`${n} Signature: failed to sign message ${i.error}`)):i.status===_0.SIGNED?a(i.rawSig):r(P0.internal(`${n} Signature: Unknown problem: ${JSON.stringify(e)}`));this.once(`${e.id}:finished`,s)})}updateMessage(e){let n=this.messages.findIndex(a=>e.id===a.id);n!==-1&&(this.messages[n]=e),this.saveMessageList()}saveMessageList(){let e=this.getUnapprovedMessages(),n=Object.keys(e).length;this.update({unapprovedMessages:e,unapprovedMessagesCount:n})}};function D8({analytics:t,providerConfig:e}){return(n,a,r)=>{if(!Object.values(Eb).includes(n.method))return r();let s=Date.now();r(i=>{let o={method:n.method,chain_id:ps(e),chain_rpc_target:fs(e.rpcTarget),is_aa_provider_request:n.isAAProviderRequest};a.error?t?.track(p1.JRPC_REQUEST_FAILED,A(A(A({request_type:u1.INTERNAL},o),N8(a.error)),{},{duration:Date.now()-s})):t?.track(p1.JRPC_REQUEST_COMPLETED,A(A({request_type:u1.INTERNAL},o),{},{duration:Date.now()-s})),i()})}}var ag=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function rg(t){switch(t.status){case 405:throw P0.methodNotFound();case 418:throw P0.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw P0.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function sg(t){return new Promise(e=>{setTimeout(e,t)})}function ig(t,e){if(t.status!==200)throw P0.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var n;throw P0.internal({data:e.error,message:(n=e.error)===null||n===void 0?void 0:n.message})}return e.result}function Cb({req:t,rpcTarget:e,originHttpHeaderKey:n}){let a=new URL(e),r={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},s=t.origin,i=JSON.stringify(r),o={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:i};return n&&s&&(o.headers[n]=s),{fetchUrl:a.href,fetchParams:o}}function b1({rpcTarget:t,originHttpHeaderKey:e,analytics:n,providerConfig:a}){return de(async(r,s,i)=>{let{fetchUrl:o,fetchParams:c}=Cb({req:r,rpcTarget:t,originHttpHeaderKey:e}),d=5,f=1e3,p=Date.now(),u=!Object.values(Ab).includes(r.method),b={chain_id:ps(a),chain_rpc_target:fs(o),method:r.method};for(let l=0;l<d;l++){try{let y=await fetch(o,c);rg(y);let m=await y.json(),h=ig(y,m);s.result=h,u||n?.track(p1.JRPC_REQUEST_COMPLETED,A(A({request_type:u1.NETWORK},b),{},{duration:Date.now()-p}));return}catch(y){let m=(y.message||y).toString();if(!ag.some(g=>m.includes(g)))throw u||n?.track(p1.JRPC_REQUEST_FAILED,A(A({request_type:u1.NETWORK},b),{},{error_code:y?.code,error_message:m,duration:Date.now()-p})),await Tu(y)}await sg(f)}})}var y1=f0(O0());function bs(t,e){let n={};for(let[a,r]of Object.entries(t))e(r,a)||(n[a]=r);return n}function l1(t,e){let n={};for(let[a,r]of Object.entries(t))e(r,a)&&(n[a]=r);return n}function Ze(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n))}}function M8(t,e){return t.slice().sort((n,a)=>n[e]<a[e]?-1:n[e]>a[e]?1:0)}function O8(t,e){return t.reduce((n,a)=>{let r=a[e];return(typeof r=="string"||typeof r=="number")&&(n[r.toString()]=a),n},{})}function k8(t,e){return Object.fromEntries(Object.entries(t).map(([n,a])=>[n,e(a,n)]))}function og(){let t,e=new Promise(n=>{t=n});return{resolve:t,promise:e}}function R8({cacheIdentifierForRequest:t}){let e={};async function n(r,s){let{resolve:i,promise:o}=og();return s.push(c=>{r.result=Ze(c.result),r.error=Ze(c.error),i()}),o}function a(r,s){setTimeout(()=>{s.forEach(i=>{try{i(r)}catch(o){y1.default.error(o)}})})}return de(async(r,s,i)=>{if(r.skipCache)return i();let o=t(r);if(!o)return y1.default.info("Request is not cacheable, proceeding. req = %o",r),i();let c=e[o];if(c){y1.default.info("Running %i handler(s) for request %o",c.length,r),await n(s,c);return}c=[],e[o]=c,y1.default.info("Carrying original request forward %o",r),await i(),delete e[o],y1.default.info("Running %i collected handler(s) for request %o",c.length,r),a(s,c)})}var Pb=f0(Dh()),Ne=f0(O0());var Gt=(function(t){return t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.PUT=2]="PUT",t[t.PATCH=3]="PATCH",t[t.DELETE=4]="DELETE",t})(Gt||{}),cg=({jwtToken:t,publicAddress:e,eoaAddress:n,chainNamespace:a})=>{let r={Authorization:`Bearer ${t}`,"public-address":e,"chain-namespace":a};return n&&(r["eoa-address"]=n),{headers:r}},ls=async(t,e)=>{try{return await t()}catch(n){throw ds(n)&&e.emit(x5.UserUnauthorized),n}},dg=t=>{let n=Iu(t).exp*1e3;return new Date().getTime()>=n},Ib=(t,e)=>{let n=(a,r,s,i,o)=>{if(dg(i.jwtToken))throw e.emit(x5.UserUnauthorized),new Response(null,{status:401,statusText:"Unauthorized"});let c=A({"Content-Type":"application/json; charset=utf-8"},cg(i));if(a===Gt.GET)return ls(()=>dt(r,c,o),e);if(a===Gt.POST)return ls(()=>qn(r,s,c,o),e);if(a===Gt.PUT)return ls(()=>ob(r,s,c,o),e);if(a===Gt.PATCH)return ls(()=>ib(r,s,c,o),e);if(a===Gt.DELETE)return ls(()=>cb(r,s,c,o),e)};return{authGet:(a,r,s)=>n(Gt.GET,`${t}/${a}`,{},r,s),authPost:(a,r,s,i)=>n(Gt.POST,`${t}/${a}`,r,s,i),authPut:(a,r,s,i)=>n(Gt.PUT,`${t}/${a}`,r,s,i),authPatch:(a,r,s,i)=>n(Gt.PATCH,`${t}/${a}`,r,s,i),authRemove:(a,r,s,i)=>n(Gt.DELETE,`${t}/${a}`,r,s,i)}};var _t={NORMAL:"normal",THRESHOLD:"threshold",IMPORTED:"imported",APP_SCOPED:"app_scoped",ACCOUNT_ABSTRACTION:"account_abstraction",EXTERNAL:"external",MPC:"mpc",SFA:"sfa",SFA_ACCOUNT_ABSTRACTION:"sfa_account_abstraction",APP_SCOPED_DERIVED:"app_scoped_derived"};var fg=180*1e3,_b={selectedCurrency:"USD",theme:"dark",locale:"en",accountType:_t.NORMAL,contacts:[],jwtToken:"",fetchedPastTx:[],pastTransactions:[],paymentTx:[],defaultPublicAddress:"",customTokens:[],customNfts:[],crashReport:!0,userInfo:{email:"",name:"",profileImage:"",authConnectionId:"",userId:"",authConnection:yu.GOOGLE,groupedAuthConnectionId:""}},ys=class extends S0{constructor({config:e,state:n,defaultPreferences:a,signAuthMessage:r,validateSignMessage:s}){if(super({config:e,state:n}),w(this,"name","PreferencesController"),w(this,"iframeOrigin",void 0),w(this,"wsApiClient",void 0),w(this,"chainNamespace",void 0),w(this,"signAuthMessage",void 0),w(this,"validateSignMessage",void 0),w(this,"defaultPreferences",void 0),!e.api)throw new Error("PreferencesController - no api specified in config.");this.defaultState={identities:{},selectedAddress:"",lastErrorMessage:"",lastSuccessMessage:""},this.defaultConfig={api:e.api,pollInterval:fg},this.initialize(),this.defaultPreferences=A(A({},_b),a),this.signAuthMessage=r,this.validateSignMessage=s,this.wsApiClient=Ib(this.config.api,this)}setIframeOrigin(e){this.iframeOrigin=e}getAddressState(e){let n=e||this.state.selectedAddress;return this.state.identities[n]}setSelectedAddress(e){this.update({selectedAddress:e})}async getUser(e){return(await this.wsApiClient.authGet("user?fetchTx=false",this.authCredentials(e),{useAPIKey:!0})).data}async createUser(e){let{selectedCurrency:n,theme:a,authConnectionId:r,groupedAuthConnectionId:s,userId:i,locale:o,address:c,idToken:d,type:f,web3AuthNetwork:p,metadata:u}=e,b=A({default_currency:n,theme:a,verifier:s||r,verifier_id:i,locale:o,idToken:d,account_type:f,web3auth_network:p},u);await this.wsApiClient.authPost("user",b,this.authCredentials(c),{useAPIKey:!0}),this.updateState({theme:a,defaultPublicAddress:c,selectedCurrency:n,locale:o,accountType:f},c)}async storeUserLogin(e){let{authConnectionId:n,groupedAuthConnectionId:a,userId:r,options:s,address:i,idToken:o,web3AuthClientId:c,web3AuthNetwork:d,sessionPubKey:f,loginMode:p}=e;if(!s.rehydrate){let u=Pb.default.getParser(window.navigator.userAgent),b=S8(),l={os:u.getOSName(),os_version:u.getOSVersion()||"unidentified",browser:b?.browser||u.getBrowserName()||"unidentified",browser_version:u.getBrowserVersion()||"unidentified",platform:u.getPlatform().type||"desktop",hostname:this.iframeOrigin,verifier:a||n,verifier_id:r,idToken:o,web3auth_client_id:c,web3auth_network:d,session_pub_key:f,login_mode:p};await this.wsApiClient.authPost("user/recordLogin",l,this.authCredentials(i),{useAPIKey:!0})}}async setCrashReport(e){var n;if(e===((n=this.getAddressState())===null||n===void 0?void 0:n.crashReport))return!0;try{return await this.wsApiClient.authPatch("user",{enable_crash_reporter:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({crashReport:e}),!0}catch(a){return Ne.default.error(a),!1}}async setUserTheme(e){var n;if(e===((n=this.getAddressState())===null||n===void 0?void 0:n.theme))return!0;try{return await this.wsApiClient.authPatch("user",{theme:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({theme:e}),!0}catch(a){return Ne.default.error(a),!1}}async setUserLocale(e){var n;if(e!==((n=this.getAddressState())===null||n===void 0?void 0:n.locale))try{return await this.wsApiClient.authPatch("user",{locale:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({locale:e}),!0}catch(a){return Ne.default.error("unable to set locale",a),!1}}async setSelectedCurrency(e){var n;if(e.selectedCurrency===((n=this.getAddressState())===null||n===void 0?void 0:n.selectedCurrency))return!0;try{return await this.wsApiClient.authPatch("user",{default_currency:e.selectedCurrency},this.authCredentials(),{useAPIKey:!0}),this.updateState({selectedCurrency:e.selectedCurrency}),!0}catch(a){return Ne.default.error(a),!1}}async addContact(e){try{var n;let a=await this.wsApiClient.authPost("contact",e,this.authCredentials(),{useAPIKey:!0});return this.updateState({contacts:[...((n=this.getAddressState())===null||n===void 0?void 0:n.contacts)||[],a.data]}),!0}catch(a){return Ne.default.error("unable to add contact",a),!1}}async deleteContact(e){try{var n;let a=await this.wsApiClient.authRemove(`contact/${e}`,{},this.authCredentials(),{useAPIKey:!0}),r=(n=this.getAddressState())===null||n===void 0?void 0:n.contacts.filter(s=>s.id!==a.data.id);return r&&this.updateState({contacts:[...r]}),!0}catch(a){return Ne.default.error("unable to delete contact",a),!1}}async revokeDiscord(e){try{let n=await this.wsApiClient.authPost("revoke/discord",{token:e},this.authCredentials(),{useAPIKey:!0});Ne.default.info(n)}catch(n){Ne.default.error(n)}}async patchPastTx(e,n){try{let a=await this.wsApiClient.authPatch("transaction",e,this.authCredentials(n),{useAPIKey:!0});Ne.default.info("successfully patched",a)}catch(a){Ne.default.error("unable to patch tx",a)}}async postPastTx(e,n){try{let a=await this.wsApiClient.authPost("transaction",e,this.authCredentials(n),{useAPIKey:!0});return Ne.default.info("successfully posted tx",a),a}catch(a){Ne.default.error(a,"unable to insert transaction")}}async getWalletOrders(e){try{let n=await this.wsApiClient.authGet("transaction",this.authCredentials(e),{useAPIKey:!0});return n.success?n.data?n.data:[]:[]}catch(n){return Ne.default.error("unable to get wallet orders tx",n),[]}}async getTopUpOrders(e){try{return(await this.wsApiClient.authGet("transaction",this.authCredentials(e),{useAPIKey:!0})).data||[]}catch(n){Ne.default.error("unable to fetch past Top up orders",n)}}async getBillBoardData(){try{let e=await this.wsApiClient.authGet("billboard",this.authCredentials(),{useAPIKey:!0});return e.success?e.data:[]}catch(e){return Ne.default.error("unable to get billboard data",e),[]}}async getMessageForSigning(e,n){return(await qn(`${this.config.api}/auth/message`,{public_address:e,id_token:n,chain_namespace:this.chainNamespace},{},{useAPIKey:!0})).message}async getTwitterId(e){let n=await this.wsApiClient.authGet(`twitter?screen_name=${e.nick}`,this.authCredentials(),{useAPIKey:!0});return`${e.typeOfLogin.toLowerCase()}|${n.data.toString()}`}async sendEmail(e){return this.wsApiClient.authPost("transaction/sendemail",e.emailObject,this.authCredentials(),{useAPIKey:!0})}async refreshJwt(){let e=this.state.selectedAddress,n=await this.getMessageForSigning(e);await this.validateSignMessage(n);let a=await this.signAuthMessage(e,n),r=await qn(`${this.config.api}/auth/verify`,{challenge:n,public_address:e,signed_message:a,chain_namespace:this.chainNamespace},{},{useAPIKey:!0});this.updateState({jwtToken:r.token},e)}async getDappList(){try{let e=await this.wsApiClient.authGet("dapps",this.authCredentials(),{useAPIKey:!0});return e.success?e.data:[]}catch(e){return Ne.default.error("unable to get dapps list",e),[]}}async init(e){let{address:n,userInfo:a,idToken:r,metadata:s={},type:i}=e;if(this.getAddressState(n))return;let o;switch(i){case _t.EXTERNAL:{if(!r)throw new Error("SIWW idToken must be present");o=(await qn(`${this.config.api}/auth/verify`,A({account_type:i,public_address:n,id_token:r,verifier:a.groupedAuthConnectionId||a.authConnectionId,verifier_id:a.userId,chain_namespace:this.chainNamespace},s),{},{useAPIKey:!0})).token;break}case _t.IMPORTED:case _t.APP_SCOPED_DERIVED:case _t.ACCOUNT_ABSTRACTION:{if(!r)throw new Error("Web3Auth idToken must be present");o=(await qn(`${this.config.api}/auth/verify`,A({public_address:n,id_token:r,verifier:a.groupedAuthConnectionId||a.authConnectionId,verifier_id:a.userId,account_type:i,chain_namespace:this.chainNamespace},s),{},{useAPIKey:!0})).token;break}case _t.MPC:case _t.SFA:case _t.SFA_ACCOUNT_ABSTRACTION:{if(!s.signatures)throw new Error("web3auth signatures must be present");o=(await qn(`${this.config.api}/auth/verify`,A({public_address:n,verifier:a.groupedAuthConnectionId||a.authConnectionId,verifier_id:a.userId,account_type:i,chain_namespace:this.chainNamespace},s),{},{useAPIKey:!0})).token;break}case _t.NORMAL:case _t.THRESHOLD:case _t.APP_SCOPED:default:if(!r)throw new Error("Web3Auth idToken must be present");o=r;break}this.updateState({jwtToken:o,userInfo:a,accountType:i??this.defaultPreferences.accountType},n)}updateState(e,n){let a=n||this.state.selectedAddress,r=this.getAddressState(a)||Ze(this.defaultPreferences),s=A(A({},r),e);return this.update({identities:A(A({},this.state.identities),{},{[a]:s})}),s}authCredentials(e){var n;let a=e||this.state.selectedAddress;return{jwtToken:((n=this.getAddressState(a))===null||n===void 0?void 0:n.jwtToken)||"",publicAddress:a,chainNamespace:this.chainNamespace}}headers(e){var n;let a=e||this.state.selectedAddress;return C8(((n=this.getAddressState(a))===null||n===void 0?void 0:n.jwtToken)||"",a)}};var Y=(function(t){return t.approved="approved",t.cancelled="cancelled",t.cancelling="cancelling",t.confirmed="confirmed",t.failed="failed",t.finalized="finalized",t.processed="processed",t.rejected="rejected",t.signed="signed",t.submitted="submitted",t.unapproved="unapproved",t.dropped="dropped",t.expired="expired",t.pending="pending",t})({}),St={CANCEL:"cancel",RETRY:"retry",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",WASM_BASED_DEPLOY:"wasmBasedDeploy",STANDARD_TRANSACTION:"transaction",STANDARD_PAYMENT_TRANSACTION:"payment_transaction",SENT_ETHER:"sentEther",SENT_SOL:"sentSol",TOKEN_METHOD_TRANSFER:"transfer",TOKEN_METHOD_TRANSFER_FROM:"transferFrom",TOKEN_METHOD_APPROVE:"approve",TOKEN_BURN:"burn",COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM:"safeTransferFrom",SET_APPROVAL_FOR_ALL:"setApprovalForAll"},Q0={TX_WARNING:"tx:warning",TX_ERROR:"tx:error",TX_FAILED:"tx:failed",TX_CONFIRMED:"tx:confirmed",TX_DROPPED:"tx:dropped",TX_EXPIRED:"tx:expired",TX_STATUS_UPDATE:"tx:status_update",TX_UNAPPROVED:"tx:unapproved",TX_RETRY:"tx:retry",TX_BLOCK_UPDATE:"tx:block_update"};var ms=class extends S0{constructor({config:e,state:n,getCurrentChainId:a}){super({config:e,state:n}),w(this,"getCurrentChainId",void 0),this.defaultConfig={txHistoryLimit:40},this.defaultState={transactions:{},unapprovedTxs:{},currentNetworkTxsList:[]},this.initialize(),this.getCurrentChainId=a}getUnapprovedTxList(){let e=this.getCurrentChainId();return l1(this.state.transactions,n=>n.status===Y.unapproved&&$a(n,e))}getTransaction(e){let{transactions:n}=this.state;return n[e]}updateTransaction(e){let n=e.id;e.updated_at=new Date().toISOString(),this.update({transactions:A(A({},this.state.transactions),{},{[n]:e})})}setTxStatusRejected(e){this._setTransactionStatus(e,Y.rejected),this._deleteTransaction(e)}setTxStatusUnapproved(e){this._setTransactionStatus(e,Y.unapproved)}setTxStatusApproved(e){this._setTransactionStatus(e,Y.approved)}setTxStatusSigned(e,n){this._setTransactionStatus(e,Y.signed,n)}setTxStatusSubmitted(e){this._setTransactionStatus(e,Y.submitted)}setTxStatusDropped(e){this._setTransactionStatus(e,Y.dropped)}setTxStatusExpired(e){this._setTransactionStatus(e,Y.expired)}setTxStatusConfirmed(e){this._setTransactionStatus(e,Y.confirmed)}setTxStatusFailed(e,n){let a=n||new Error("Internal torus failure"),r=this.getTransaction(e);r.error=a,this.updateTransaction(r),this._setTransactionStatus(e,Y.failed)}isFinalState(e){return e===Y.rejected||e===Y.submitted||e===Y.confirmed||e===Y.failed||e===Y.cancelled||e===Y.expired}clearUnapprovedTxs(){this.update({transactions:bs(this.state.transactions,e=>e.status===Y.unapproved)})}_addTransactionsToState(e){this.update({transactions:e.reduce((n,a)=>(n[a.id]=a,n),this.state.transactions)})}_setTransactionsToState(e){this.update({transactions:e.reduce((n,a)=>(n[a.id]=a,n),{})})}_deleteTransaction(e){let{transactions:n}=this.state;delete n[e],this.update({transactions:n})}_deleteTransactions(e){let{transactions:n}=this.state;e.forEach(a=>{delete n[a]}),this.update({transactions:n})}_setTransactionStatus(e,n,a){let r=this.getTransaction(e);r&&(r.status=n,this.updateTransaction(r),this.emit(Q0.TX_STATUS_UPDATE,{txId:e,status:n}),this.isFinalState(n)||a?this.emit(`${r.id}:finished`,r):this.emit(`${r.id}:${n}`,e))}};var Sb=f0(O0());var je=class{constructor(e,n){w(this,"idleTimeTracker",void 0),w(this,"pollingInterval",void 0),w(this,"isPolling",!1),this.pollingInterval=n,this.idleTimeTracker=e}start(e){this.idleTimeTracker.on("active",this.poll.bind(this,e)),this.idleTimeTracker.on("idle",this.stop.bind(this)),this.poll(e)}stop(){this.isPolling=!1}async poll(e){if(!this.isPolling)for(this.isPolling=!0;this.isPolling;){if(this.idleTimeTracker.checkIfIdle()){this.isPolling=!1;return}try{await e()}catch(n){Sb.default.error(n)}await os(this.pollingInterval)}}};var eB=new Error("timeout while waiting for mutex to become available"),tB=new Error("mutex already locked"),pg=new Error("request for lock canceled"),ug=function(t,e,n,a){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(f){try{d(a.next(f))}catch(p){i(p)}}function c(f){try{d(a.throw(f))}catch(p){i(p)}}function d(f){f.done?s(f.value):r(f.value).then(o,c)}d((a=a.apply(t,e||[])).next())})},B8=class{constructor(e,n=pg){this._value=e,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(e=1,n=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((a,r)=>{let s={resolve:a,reject:r,weight:e,priority:n},i=Nb(this._queue,o=>n<=o.priority);i===-1&&e<=this._value?this._dispatchItem(s):this._queue.splice(i+1,0,s)})}runExclusive(e){return ug(this,arguments,void 0,function*(n,a=1,r=0){let[s,i]=yield this.acquire(a,r);try{return yield n(s)}finally{i()}})}waitForUnlock(e=1,n=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return this._couldLockImmediately(e,n)?Promise.resolve():new Promise(a=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),bg(this._weightedWaiters[e-1],{resolve:a,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatchQueue()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatchQueue()}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(e){let n=this._value;this._value-=e.weight,e.resolve([n,this._newReleaser(e.weight)])}_newReleaser(e){let n=!1;return()=>{n||(n=!0,this.release(e))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let e=this._value;e>0;e--){let n=this._weightedWaiters[e-1];n&&(n.forEach(a=>a.resolve()),this._weightedWaiters[e-1]=[])}else{let e=this._queue[0].priority;for(let n=this._value;n>0;n--){let a=this._weightedWaiters[n-1];if(!a)continue;let r=a.findIndex(s=>s.priority<=e);(r===-1?a:a.splice(0,r)).forEach((s=>s.resolve()))}}}_couldLockImmediately(e,n){return(this._queue.length===0||this._queue[0].priority<n)&&e<=this._value}};function bg(t,e){let n=Nb(t,a=>e.priority<=a.priority);t.splice(n+1,0,e)}function Nb(t,e){for(let n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1}var lg=function(t,e,n,a){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(f){try{d(a.next(f))}catch(p){i(p)}}function c(f){try{d(a.throw(f))}catch(p){i(p)}}function d(f){f.done?s(f.value):r(f.value).then(o,c)}d((a=a.apply(t,e||[])).next())})},cn=class{constructor(e){this._semaphore=new B8(1,e)}acquire(){return lg(this,arguments,void 0,function*(e=0){let[,n]=yield this._semaphore.acquire(1,e);return n})}runExclusive(e,n=0){return this._semaphore.runExclusive(()=>e(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(e=0){return this._semaphore.waitForUnlock(1,e)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var Db="6.15.0";function yg(t,e,n){let a=e.split("|").map(s=>s.trim());for(let s=0;s<a.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let r=new Error(`invalid value for type ${e}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${n}`,r.value=t,r}async function te(t){let e=Object.keys(t);return(await Promise.all(e.map(a=>Promise.resolve(t[a])))).reduce((a,r,s)=>(a[e[s]]=r,a),{})}function V(t,e,n){for(let a in e){let r=e[a],s=n?n[a]:null;s&&yg(r,s,a),Object.defineProperty(t,a,{enumerable:!0,value:r,writable:!1})}}function m1(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>m1(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){let n="0123456789abcdef",a="0x";for(let r=0;r<t.length;r++)a+=n[t[r]>>4],a+=n[t[r]&15];return a}if(typeof t=="object"&&typeof t.toJSON=="function")return m1(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let n=Object.keys(t);return n.sort(),"{ "+n.map(a=>`${m1(a,e)}: ${m1(t[a],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function L0(t,e){return t&&t.code===e}function Ya(t){return L0(t,"CALL_EXCEPTION")}function T0(t,e,n){let a=t;{let s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${m1(n)}`);for(let i in n){if(i==="shortMessage")continue;let o=n[i];s.push(i+"="+m1(o))}}s.push(`code=${e}`),s.push(`version=${Db}`),s.length&&(t+=" ("+s.join(", ")+")")}let r;switch(e){case"INVALID_ARGUMENT":r=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(t);break;default:r=new Error(t)}return V(r,{code:e}),n&&Object.assign(r,n),r.shortMessage==null&&V(r,{shortMessage:a}),r}function _(t,e,n,a){if(!t)throw T0(e,n,a)}function T(t,e,n,a){_(t,e,"INVALID_ARGUMENT",{argument:n,value:a})}function h1(t,e,n){n==null&&(n=""),n&&(n=": "+n),_(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),_(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}var mg=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");t.push(e)}catch{}return t},[]);function A5(t){_(mg.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function Sn(t,e,n){if(n==null&&(n=""),t!==e){let a=n,r="new";n&&(a+=".",r+=" "+n),_(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function Ob(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let a=new Uint8Array((t.length-2)/2),r=2;for(let s=0;s<a.length;s++)a[s]=parseInt(t.substring(r,r+2),16),r+=2;return a}T(!1,"invalid BytesLike value",e||"value",t)}function J(t,e){return Ob(t,e,!1)}function ne(t,e){return Ob(t,e,!0)}function i0(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Xn(t){return i0(t,!0)||t instanceof Uint8Array}var Mb="0123456789abcdef";function k(t){let e=J(t),n="0x";for(let a=0;a<e.length;a++){let r=e[a];n+=Mb[(r&240)>>4]+Mb[r&15]}return n}function l0(t){return"0x"+t.map(e=>k(e).substring(2)).join("")}function Vt(t){return i0(t,!0)?(t.length-2)/2:J(t).length}function R0(t,e,n){let a=J(t);return n!=null&&n>a.length&&_(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:n}),k(a.slice(e??0,n??a.length))}function kb(t,e,n){let a=J(t);_(e>=a.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(a),length:e,offset:e+1});let r=new Uint8Array(e);return r.fill(0),n?r.set(a,e-a.length):r.set(a,0),k(r)}function Ue(t,e){return kb(t,e,!0)}function v5(t,e){return kb(t,e,!1)}var C5=BigInt(0),zt=BigInt(1),g1=9007199254740991;function I5(t,e){let n=x1(t,"value"),a=BigInt(n0(e,"width"));if(_(n>>a===C5,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>a-zt){let r=(zt<<a)-zt;return-((~n&r)+zt)}return n}function T1(t,e){let n=L(t,"value"),a=BigInt(n0(e,"width")),r=zt<<a-zt;if(n<C5){n=-n,_(n<=r,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let s=(zt<<a)-zt;return(~n&s)+zt}else _(n<r,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Nn(t,e){let n=x1(t,"value"),a=BigInt(n0(e,"bits"));return n&(zt<<a)-zt}function L(t,e){switch(typeof t){case"bigint":return t;case"number":return T(Number.isInteger(t),"underflow",e||"value",t),T(t>=-g1&&t<=g1,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){T(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}T(!1,"invalid BigNumberish value",e||"value",t)}function x1(t,e){let n=L(t,e);return _(n>=C5,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}var Rb="0123456789abcdef";function Ja(t){if(t instanceof Uint8Array){let e="0x0";for(let n of t)e+=Rb[n>>4],e+=Rb[n&15];return BigInt(e)}return L(t)}function n0(t,e){switch(typeof t){case"bigint":return T(t>=-g1&&t<=g1,"overflow",e||"value",t),Number(t);case"number":return T(Number.isInteger(t),"underflow",e||"value",t),T(t>=-g1&&t<=g1,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return n0(BigInt(t),e)}catch(n){T(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}T(!1,"invalid numeric value",e||"value",t)}function P5(t){return n0(Ja(t))}function $e(t,e){let a=x1(t,"value").toString(16);if(e==null)a.length%2&&(a="0"+a);else{let r=n0(e,"width");for(_(r*2>=a.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});a.length<r*2;)a="0"+a}return"0x"+a}function G0(t){let e=x1(t,"value");if(e===C5)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);let a=new Uint8Array(n.length/2);for(let r=0;r<a.length;r++){let s=r*2;a[r]=parseInt(n.substring(s,s+2),16)}return a}function q0(t){let e=k(Xn(t)?t:G0(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var Bb="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var yB=BigInt(0),Fb=BigInt(58);function _5(t){let e=J(t),n=Ja(e),a="";for(;n;)a=Bb[Number(n%Fb)]+a,n/=Fb;for(let r=0;r<e.length&&!e[r];r++)a=Bb[0]+a;return a}function F8(t){t=atob(t);let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return J(e)}function L8(t){let e=J(t),n="";for(let a=0;a<e.length;a++)n+=String.fromCharCode(e[a]);return btoa(n)}var ea=class{filter;emitter;#e;constructor(e,n,a){this.#e=n,V(this,{emitter:e,filter:a})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}};function hg(t,e,n,a,r){T(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function Lb(t,e,n,a,r){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let i=e+1;i<n.length&&n[i]>>6===2;i++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function gg(t,e,n,a,r){return t==="OVERLONG"?(T(typeof r=="number","invalid bad code point for replacement","badCodepoint",r),a.push(r),0):(a.push(65533),Lb(t,e,n,a,r))}var U8=Object.freeze({error:hg,ignore:Lb,replace:gg});function Tg(t,e){e==null&&(e=U8.error);let n=J(t,"bytes"),a=[],r=0;for(;r<n.length;){let s=n[r++];if(s>>7===0){a.push(s);continue}let i=null,o=null;if((s&224)===192)i=1,o=127;else if((s&240)===224)i=2,o=2047;else if((s&248)===240)i=3,o=65535;else{(s&192)===128?r+=e("UNEXPECTED_CONTINUE",r-1,n,a):r+=e("BAD_PREFIX",r-1,n,a);continue}if(r-1+i>=n.length){r+=e("OVERRUN",r-1,n,a);continue}let c=s&(1<<8-i-1)-1;for(let d=0;d<i;d++){let f=n[r];if((f&192)!=128){r+=e("MISSING_CONTINUE",r,n,a),c=null;break}c=c<<6|f&63,r++}if(c!==null){if(c>1114111){r+=e("OUT_OF_RANGE",r-1-i,n,a,c);continue}if(c>=55296&&c<=57343){r+=e("UTF16_SURROGATE",r-1-i,n,a,c);continue}if(c<=o){r+=e("OVERLONG",r-1-i,n,a,c);continue}a.push(c)}}return a}function me(t,e){T(typeof t=="string","invalid string value","str",t),e!=null&&(A5(e),t=t.normalize(e));let n=[];for(let a=0;a<t.length;a++){let r=t.charCodeAt(a);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(r&63|128);else if((r&64512)==55296){a++;let s=t.charCodeAt(a);T(a<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);let i=65536+((r&1023)<<10)+(s&1023);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(i&63|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(r&63|128)}return new Uint8Array(n)}function xg(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Dn(t,e){return xg(Tg(t,e))}function S5(t){async function e(n,a){_(a==null||!a.cancelled,"request cancelled before sending","CANCELLED");let r=n.url.split(":")[0].toLowerCase();_(r==="http"||r==="https",`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),_(r==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null,i=new AbortController,o=setTimeout(()=>{s=T0("request timeout","TIMEOUT"),i.abort()},n.timeout);a&&a.addListener(()=>{s=T0("request cancelled","CANCELLED"),i.abort()});let c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:i.signal}),d;try{d=await fetch(n.url,c)}catch(b){throw clearTimeout(o),s||b}clearTimeout(o);let f={};d.headers.forEach((b,l)=>{f[l.toLowerCase()]=b});let p=await d.arrayBuffer(),u=p==null?null:new Uint8Array(p);return{statusCode:d.status,statusMessage:d.statusText,headers:f,body:u}}return e}var CB=S5({});var wg=12,Eg=250,Ub=S5(),Ag=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),vg=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),H8=!1;async function Gb(t,e){try{let n=t.match(Ag);if(!n)throw new Error("invalid data");return new dn(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?F8(n[3]):Cg(n[3]))}catch{return new dn(599,"BAD REQUEST (invalid data: URI)",{},null,new Xe(t))}}function Vb(t){async function e(n,a){try{let r=n.match(vg);if(!r)throw new Error("invalid link");return new Xe(`${t}${r[2]}`)}catch{return new dn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Xe(n))}}return e}var N5={data:Gb,ipfs:Vb("https://gateway.ipfs.io/ipfs/")},zb=new WeakMap,hs=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,zb.set(e,()=>{if(!this.#t){this.#t=!0;for(let n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){_(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){_(!this.cancelled,"cancelled","CANCELLED",{})}};function D5(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Xe=class t{#e;#t;#n;#a;#r;#i;#s;#o;#b;#d;#l;#y;#c;#f;#p;get url(){return this.#i}set url(e){this.#i=String(e)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}set body(e){if(e==null)this.#s=void 0,this.#o=void 0;else if(typeof e=="string")this.#s=me(e),this.#o="text/plain";else if(e instanceof Uint8Array)this.#s=e,this.#o="application/octet-stream";else if(typeof e=="object")this.#s=me(JSON.stringify(e)),this.#o="application/json";else throw new Error("invalid body")}hasBody(){return this.#s!=null}get method(){return this.#a?this.#a:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#a=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#n);return this.#b&&(e.authorization=`Basic ${L8(me(this.#b))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#o&&(e["content-type"]=this.#o),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){let e=this.headers,n=Object.keys(e),a=0;return{next:()=>{if(a<n.length){let r=n[a++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#b||null}setCredentials(e,n){T(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#b=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#r}set timeout(e){T(e>=0,"timeout must be non-zero","timeout",e),this.#r=e}get preflightFunc(){return this.#d||null}set preflightFunc(e){this.#d=e}get processFunc(){return this.#l||null}set processFunc(e){this.#l=e}get retryFunc(){return this.#y||null}set retryFunc(e){this.#y=e}get getUrlFunc(){return this.#p||Ub}set getUrlFunc(e){this.#p=e}constructor(e){this.#i=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#a="",this.#r=3e5,this.#f={slotInterval:Eg,maxAttempts:wg},this.#p=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?k(this.#s):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#f.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#f.maxAttempts=e.maxAttempts)}async#u(e,n,a,r,s){if(e>=this.#f.maxAttempts)return s.makeServerError("exceeded maximum retry limit");_(Hb()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),a>0&&await Ig(a);let i=this.clone(),o=(i.url.split(":")[0]||"").toLowerCase();if(o in N5){let f=await N5[o](i.url,D5(r.#c));if(f instanceof dn){let p=f;if(this.processFunc){D5(r.#c);try{p=await this.processFunc(i,p)}catch(u){(u.throttle==null||typeof u.stall!="number")&&p.makeServerError("error in post-processing function",u).assertOk()}}return p}i=f}this.preflightFunc&&(i=await this.preflightFunc(i));let c=await this.getUrlFunc(i,D5(r.#c)),d=new dn(c.statusCode,c.statusMessage,c.headers,c.body,r);if(d.statusCode===301||d.statusCode===302){try{let f=d.headers.location||"";return i.redirect(f).#u(e+1,n,0,r,d)}catch{}return d}else if(d.statusCode===429&&(this.retryFunc==null||await this.retryFunc(i,d,e))){let f=d.headers["retry-after"],p=this.#f.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof f=="string"&&f.match(/^[1-9][0-9]*$/)&&(p=parseInt(f)),i.clone().#u(e+1,n,p,r,d)}if(this.processFunc){D5(r.#c);try{d=await this.processFunc(i,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk();let p=this.#f.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(p=f.stall),i.clone().#u(e+1,n,p,r,d)}}return d}send(){return _(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new hs(this),this.#u(0,Hb()+this.timeout,0,this,new dn(0,"",{},null,this))}cancel(){_(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=zb.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let n=this.url.split(":")[0].toLowerCase(),a=e.split(":")[0].toLowerCase();_(this.method==="GET"&&(n!=="https"||a!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let r=new t(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#n=Object.assign({},this.#n),this.#s&&(r.#s=new Uint8Array(this.#s)),r.#o=this.#o,r}clone(){let e=new t(this.url);return e.#a=this.#a,this.#s&&(e.#s=this.#s),e.#o=this.#o,e.#n=Object.assign({},this.#n),e.#b=this.#b,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#d=this.#d,e.#l=this.#l,e.#y=this.#y,e.#f=Object.assign({},this.#f),e.#p=this.#p,e}static lockConfig(){H8=!0}static getGateway(e){return N5[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(H8)throw new Error("gateways locked");N5[e]=n}static registerGetUrl(e){if(H8)throw new Error("gateways locked");Ub=e}static createGetUrlFunc(e){return S5(e)}static createDataGateway(){return Gb}static createIpfsGatewayFunc(e){return Vb(e)}},dn=class t{#e;#t;#n;#a;#r;#i;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#a?k(this.#a):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#a==null?null:new Uint8Array(this.#a)}get bodyText(){try{return this.#a==null?"":Dn(this.#a)}catch{_(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{_(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,n=Object.keys(e),a=0;return{next:()=>{if(a<n.length){let r=n[a++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,a,r,s){this.#e=e,this.#t=n,this.#n=Object.keys(a).reduce((i,o)=>(i[o.toLowerCase()]=String(a[o]),i),{}),this.#a=r==null?null:new Uint8Array(r),this.#r=s||null,this.#i={message:""}}makeServerError(e,n){let a;e?a=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,a=`CLIENT ESCALATED SERVER ERROR (${e})`);let r=new t(599,a,this.headers,this.body,this.#r||void 0);return r.#i={message:e,error:n},r}throwThrottleError(e,n){n==null?n=-1:T(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);let a=new Error(e||"throttling requests");throw V(a,{stall:n,throttle:!0}),a}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#a!=null}get request(){return this.#r}ok(){return this.#i.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#i;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let a=null;this.request&&(a=this.request.url);let r=null;try{this.#a&&(r=Dn(this.#a))}catch{}_(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:a,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function Hb(){return new Date().getTime()}function Cg(t){return me(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Ig(t){return new Promise(e=>setTimeout(e,t))}function Pg(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Kb(t,e,n){let a=0;for(let r=0;r<n;r++)a=a*256+t[e+r];return a}function Wb(t,e,n,a){let r=[];for(;n<e+1+a;){let s=jb(t,n);r.push(s.result),n+=s.consumed,_(n<=e+1+a,"child data too short","BUFFER_OVERRUN",{buffer:t,length:a,offset:e})}return{consumed:1+a,result:r}}function jb(t,e){_(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let n=a=>{_(a<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:a})};if(t[e]>=248){let a=t[e]-247;n(e+1+a);let r=Kb(t,e+1,a);return n(e+1+a+r),Wb(t,e,e+1+a,a+r)}else if(t[e]>=192){let a=t[e]-192;return n(e+1+a),Wb(t,e,e+1,a)}else if(t[e]>=184){let a=t[e]-183;n(e+1+a);let r=Kb(t,e+1,a);n(e+1+a+r);let s=k(t.slice(e+1+a,e+1+a+r));return{consumed:1+a+r,result:s}}else if(t[e]>=128){let a=t[e]-128;n(e+1+a);let r=k(t.slice(e+1,e+1+a));return{consumed:1+a,result:r}}return{consumed:1,result:Pg(t[e])}}function ta(t){let e=J(t,"data"),n=jb(e,0);return T(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function $b(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Jb(t){if(Array.isArray(t)){let a=[];if(t.forEach(function(s){a=a.concat(Jb(s))}),a.length<=55)return a.unshift(192+a.length),a;let r=$b(a.length);return r.unshift(247+r.length),r.concat(a)}let e=Array.prototype.slice.call(J(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let n=$b(e.length);return n.unshift(183+n.length),n.concat(e)}var Yb="0123456789abcdef";function Nt(t){let e="0x";for(let n of Jb(t))e+=Yb[n>>4],e+=Yb[n&15];return e}var De=32,G8=new Uint8Array(De),Dg=["then"],M5={},Zb=new WeakMap;function Qa(t){return Zb.get(t)}function Qb(t,e){Zb.set(t,e)}function gs(t,e){let n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function V8(t,e,n){return t.indexOf(null)>=0?e.map((a,r)=>a instanceof fn?V8(Qa(a),a,n):a):t.reduce((a,r,s)=>{let i=e.getValue(r);return r in a||(n&&i instanceof fn&&(i=V8(Qa(i),i,n)),a[r]=i),a},{})}var fn=class t extends Array{#e;constructor(...e){let n=e[0],a=e[1],r=(e[2]||[]).slice(),s=!0;n!==M5&&(a=e,r=[],s=!1),super(a.length),a.forEach((c,d)=>{this[d]=c});let i=r.reduce((c,d)=>(typeof d=="string"&&c.set(d,(c.get(d)||0)+1),c),new Map);if(Qb(this,Object.freeze(a.map((c,d)=>{let f=r[d];return f!=null&&i.get(f)===1?f:null}))),this.#e=[],this.#e==null&&this.#e,!s)return;Object.freeze(this);let o=new Proxy(this,{get:(c,d,f)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){let u=n0(d,"%index");if(u<0||u>=this.length)throw new RangeError("out of result range");let b=c[u];return b instanceof Error&&gs(`index ${u}`,b),b}if(Dg.indexOf(d)>=0)return Reflect.get(c,d,f);let p=c[d];if(p instanceof Function)return function(...u){return p.apply(this===f?c:this,u)};if(!(d in c))return c.getValue.apply(this===f?c:this,[d])}return Reflect.get(c,d,f)}});return Qb(o,Qa(this)),o}toArray(e){let n=[];return this.forEach((a,r)=>{a instanceof Error&&gs(`index ${r}`,a),e&&a instanceof t&&(a=a.toArray(e)),n.push(a)}),n}toObject(e){let n=Qa(this);return n.reduce((a,r,s)=>(_(r!=null,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),V8(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let a=Qa(this),r=[],s=[];for(let i=e;i<n;i++)r.push(this[i]),s.push(a[i]);return new t(M5,r,s)}filter(e,n){let a=Qa(this),r=[],s=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&gs(`index ${i}`,o),e.call(n,o,i,this)&&(r.push(o),s.push(a[i]))}return new t(M5,r,s)}map(e,n){let a=[];for(let r=0;r<this.length;r++){let s=this[r];s instanceof Error&&gs(`index ${r}`,s),a.push(e.call(n,s,r,this))}return a}getValue(e){let n=Qa(this).indexOf(e);if(n===-1)return;let a=this[n];return a instanceof Error&&gs(`property ${JSON.stringify(e)}`,a.error),a}static fromItems(e,n){return new t(M5,e,n)}};function qb(t){let e=G0(t);return _(e.length<=De,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:De,offset:e.length}),e.length!==De&&(e=ne(l0([G8.slice(e.length%De),e]))),e}var he=class{name;type;localName;dynamic;constructor(e,n,a,r){V(this,{name:e,type:n,localName:a,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){T(!1,e,this.localName,n)}},qa=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return l0(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(ne(e.data))}writeBytes(e){let n=ne(e),a=n.length%De;return a&&(n=ne(l0([n,G8.slice(a)]))),this.#n(n)}writeValue(e){return this.#n(qb(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(G8),this.#t+=De,n=>{this.#e[e]=qb(n)}}},O5=class t{allowLoose;#e;#t;#n;#a;#r;constructor(e,n,a){V(this,{allowLoose:!!n}),this.#e=ne(e),this.#n=0,this.#a=null,this.#r=a??1024,this.#t=0}get data(){return k(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#i(e){if(this.#a)return this.#a.#i(e);this.#n+=e,_(this.#r<1||this.#n<=this.#r*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#r} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ne(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#s(e,n,a){let r=Math.ceil(n/De)*De;return this.#t+r>this.#e.length&&(this.allowLoose&&a&&this.#t+n<=this.#e.length?r=n:_(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ne(this.#e),length:this.#e.length,offset:this.#t+r})),this.#e.slice(this.#t,this.#t+r)}subReader(e){let n=new t(this.#e.slice(this.#t+e),this.allowLoose,this.#r);return n.#a=this,n}readBytes(e,n){let a=this.#s(0,e,!!n);return this.#i(e),this.#t+=a.length,a.slice(0,e)}readValue(){return Ja(this.readBytes(De))}readIndex(){return P5(this.readBytes(De))}};function Ts(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function xs(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Xb(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ts(t.outputLen),Ts(t.blockLen)}function Mn(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function k5(t,e){xs(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var R5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var el=t=>t instanceof Uint8Array;var tl=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),B5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Kt=(t,e)=>t<<32-e|t>>>e,Mg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Mg)throw new Error("Non little-endian hardware is not supported");function Og(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function aa(t){if(typeof t=="string"&&(t=Og(t)),!el(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function nl(...t){let e=new Uint8Array(t.reduce((a,r)=>a+r.length,0)),n=0;return t.forEach(a=>{if(!el(a))throw new Error("Uint8Array expected");e.set(a,n),n+=a.length}),e}var na=class{clone(){return this._cloneInto()}},nF={}.toString;function w1(t){let e=a=>t().update(aa(a)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function al(t){let e=(a,r)=>t(r).update(aa(a)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=a=>t(a),e}function rl(t=32){if(R5&&typeof R5.getRandomValues=="function")return R5.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var F5=class extends na{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Xb(e);let a=aa(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,s=new Uint8Array(r);s.set(a.length>r?e.create().update(a).digest():a);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(e){return Mn(this),this.iHash.update(e),this}digestInto(e){Mn(this),xs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:a,finished:r,destroyed:s,blockLen:i,outputLen:o}=this;return e=e,e.finished=r,e.destroyed=s,e.blockLen=i,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=a._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},z8=(t,e,n)=>new F5(t,e).update(n).digest();z8.create=(t,e)=>new F5(t,e);function kg(t,e,n,a){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,a);let r=BigInt(32),s=BigInt(4294967295),i=Number(n>>r&s),o=Number(n&s),c=a?4:0,d=a?0:4;t.setUint32(e+c,i,a),t.setUint32(e+d,o,a)}var E1=class extends na{constructor(e,n,a,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=a,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=B5(this.buffer)}update(e){Mn(this);let{view:n,buffer:a,blockLen:r}=this;e=aa(e);let s=e.length;for(let i=0;i<s;){let o=Math.min(r-this.pos,s-i);if(o===r){let c=B5(e);for(;r<=s-i;i+=r)this.process(c,i);continue}a.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mn(this),k5(e,this),this.finished=!0;let{buffer:n,view:a,blockLen:r,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(a,0),i=0);for(let p=i;p<r;p++)n[p]=0;kg(a,r-8,BigInt(this.length*8),s),this.process(a,0);let o=B5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)o.setUint32(4*p,f[p],s)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let a=e.slice(0,n);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:a,length:r,finished:s,destroyed:i,pos:o}=this;return e.length=r,e.pos=o,e.finished=s,e.destroyed=i,r%n&&e.buffer.set(a),e}};var Rg=(t,e,n)=>t&e^~t&n,Bg=(t,e,n)=>t&e^t&n^e&n,Fg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ra=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sa=new Uint32Array(64),K8=class extends E1{constructor(){super(64,32,8,!1),this.A=ra[0]|0,this.B=ra[1]|0,this.C=ra[2]|0,this.D=ra[3]|0,this.E=ra[4]|0,this.F=ra[5]|0,this.G=ra[6]|0,this.H=ra[7]|0}get(){let{A:e,B:n,C:a,D:r,E:s,F:i,G:o,H:c}=this;return[e,n,a,r,s,i,o,c]}set(e,n,a,r,s,i,o,c){this.A=e|0,this.B=n|0,this.C=a|0,this.D=r|0,this.E=s|0,this.F=i|0,this.G=o|0,this.H=c|0}process(e,n){for(let p=0;p<16;p++,n+=4)sa[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){let u=sa[p-15],b=sa[p-2],l=Kt(u,7)^Kt(u,18)^u>>>3,y=Kt(b,17)^Kt(b,19)^b>>>10;sa[p]=y+sa[p-7]+l+sa[p-16]|0}let{A:a,B:r,C:s,D:i,E:o,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let u=Kt(o,6)^Kt(o,11)^Kt(o,25),b=f+u+Rg(o,c,d)+Fg[p]+sa[p]|0,y=(Kt(a,2)^Kt(a,13)^Kt(a,22))+Bg(a,r,s)|0;f=d,d=c,c=o,o=i+b|0,i=s,s=r,r=a,a=b+y|0}a=a+this.A|0,r=r+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(a,r,s,i,o,c,d,f)}roundClean(){sa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var L5=w1(()=>new K8);var U5=BigInt(4294967295),W8=BigInt(32);function sl(t,e=!1){return e?{h:Number(t&U5),l:Number(t>>W8&U5)}:{h:Number(t>>W8&U5)|0,l:Number(t&U5)|0}}function j8(t,e=!1){let n=new Uint32Array(t.length),a=new Uint32Array(t.length);for(let r=0;r<t.length;r++){let{h:s,l:i}=sl(t[r],e);[n[r],a[r]]=[s,i]}return[n,a]}var Lg=(t,e)=>BigInt(t>>>0)<<W8|BigInt(e>>>0),Ug=(t,e,n)=>t>>>n,Hg=(t,e,n)=>t<<32-n|e>>>n,Gg=(t,e,n)=>t>>>n|e<<32-n,Vg=(t,e,n)=>t<<32-n|e>>>n,zg=(t,e,n)=>t<<64-n|e>>>n-32,Kg=(t,e,n)=>t>>>n-32|e<<64-n,Wg=(t,e)=>e,jg=(t,e)=>t,$8=(t,e,n)=>t<<n|e>>>32-n,Y8=(t,e,n)=>e<<n|t>>>32-n,J8=(t,e,n)=>e<<n-32|t>>>64-n,Q8=(t,e,n)=>t<<n-32|e>>>64-n;function $g(t,e,n,a){let r=(e>>>0)+(a>>>0);return{h:t+n+(r/2**32|0)|0,l:r|0}}var Yg=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Jg=(t,e,n,a)=>e+n+a+(t/2**32|0)|0,Qg=(t,e,n,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0),qg=(t,e,n,a,r)=>e+n+a+r+(t/2**32|0)|0,Zg=(t,e,n,a,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0)+(r>>>0),Xg=(t,e,n,a,r,s)=>e+n+a+r+s+(t/2**32|0)|0;var eT={fromBig:sl,split:j8,toBig:Lg,shrSH:Ug,shrSL:Hg,rotrSH:Gg,rotrSL:Vg,rotrBH:zg,rotrBL:Kg,rotr32H:Wg,rotr32L:jg,rotlSH:$8,rotlSL:Y8,rotlBH:J8,rotlBL:Q8,add:$g,add3L:Yg,add3H:Jg,add4L:Qg,add4H:qg,add5H:Xg,add5L:Zg},d0=eT;var[tT,nT]=d0.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ia=new Uint32Array(80),oa=new Uint32Array(80),q8=class extends E1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:n,Bh:a,Bl:r,Ch:s,Cl:i,Dh:o,Dl:c,Eh:d,El:f,Fh:p,Fl:u,Gh:b,Gl:l,Hh:y,Hl:m}=this;return[e,n,a,r,s,i,o,c,d,f,p,u,b,l,y,m]}set(e,n,a,r,s,i,o,c,d,f,p,u,b,l,y,m){this.Ah=e|0,this.Al=n|0,this.Bh=a|0,this.Bl=r|0,this.Ch=s|0,this.Cl=i|0,this.Dh=o|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=u|0,this.Gh=b|0,this.Gl=l|0,this.Hh=y|0,this.Hl=m|0}process(e,n){for(let x=0;x<16;x++,n+=4)ia[x]=e.getUint32(n),oa[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){let C=ia[x-15]|0,I=oa[x-15]|0,E=d0.rotrSH(C,I,1)^d0.rotrSH(C,I,8)^d0.shrSH(C,I,7),v=d0.rotrSL(C,I,1)^d0.rotrSL(C,I,8)^d0.shrSL(C,I,7),P=ia[x-2]|0,U=oa[x-2]|0,D=d0.rotrSH(P,U,19)^d0.rotrBH(P,U,61)^d0.shrSH(P,U,6),B=d0.rotrSL(P,U,19)^d0.rotrBL(P,U,61)^d0.shrSL(P,U,6),$=d0.add4L(v,B,oa[x-7],oa[x-16]),X=d0.add4H($,E,D,ia[x-7],ia[x-16]);ia[x]=X|0,oa[x]=$|0}let{Ah:a,Al:r,Bh:s,Bl:i,Ch:o,Cl:c,Dh:d,Dl:f,Eh:p,El:u,Fh:b,Fl:l,Gh:y,Gl:m,Hh:h,Hl:g}=this;for(let x=0;x<80;x++){let C=d0.rotrSH(p,u,14)^d0.rotrSH(p,u,18)^d0.rotrBH(p,u,41),I=d0.rotrSL(p,u,14)^d0.rotrSL(p,u,18)^d0.rotrBL(p,u,41),E=p&b^~p&y,v=u&l^~u&m,P=d0.add5L(g,I,v,nT[x],oa[x]),U=d0.add5H(P,h,C,E,tT[x],ia[x]),D=P|0,B=d0.rotrSH(a,r,28)^d0.rotrBH(a,r,34)^d0.rotrBH(a,r,39),$=d0.rotrSL(a,r,28)^d0.rotrBL(a,r,34)^d0.rotrBL(a,r,39),X=a&s^a&o^s&o,b0=r&i^r&c^i&c;h=y|0,g=m|0,y=b|0,m=l|0,b=p|0,l=u|0,{h:p,l:u}=d0.add(d|0,f|0,U|0,D|0),d=o|0,f=c|0,o=s|0,c=i|0,s=a|0,i=r|0;let R=d0.add3L(D,$,b0);a=d0.add3H(R,U,B,X),r=R|0}({h:a,l:r}=d0.add(this.Ah|0,this.Al|0,a|0,r|0)),{h:s,l:i}=d0.add(this.Bh|0,this.Bl|0,s|0,i|0),{h:o,l:c}=d0.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:d,l:f}=d0.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:u}=d0.add(this.Eh|0,this.El|0,p|0,u|0),{h:b,l}=d0.add(this.Fh|0,this.Fl|0,b|0,l|0),{h:y,l:m}=d0.add(this.Gh|0,this.Gl|0,y|0,m|0),{h,l:g}=d0.add(this.Hh|0,this.Hl|0,h|0,g|0),this.set(a,r,s,i,o,c,d,f,p,u,b,l,y,m,h,g)}roundClean(){ia.fill(0),oa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var il=w1(()=>new q8);function aT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var ol=aT(),wF=ol.crypto||ol.msCrypto;function Z8(t){switch(t){case"sha256":return L5.create();case"sha512":return il.create()}T(!1,"invalid hashing algorithm name","algorithm",t)}var[fl,pl,ul]=[[],[],[]],rT=BigInt(0),ws=BigInt(1),sT=BigInt(2),iT=BigInt(7),oT=BigInt(256),cT=BigInt(113);for(let t=0,e=ws,n=1,a=0;t<24;t++){[n,a]=[a,(2*n+3*a)%5],fl.push(2*(5*a+n)),pl.push((t+1)*(t+2)/2%64);let r=rT;for(let s=0;s<7;s++)e=(e<<ws^(e>>iT)*cT)%oT,e&sT&&(r^=ws<<(ws<<BigInt(s))-ws);ul.push(r)}var[dT,fT]=j8(ul,!0),cl=(t,e,n)=>n>32?J8(t,e,n):$8(t,e,n),dl=(t,e,n)=>n>32?Q8(t,e,n):Y8(t,e,n);function pT(t,e=24){let n=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){let o=(i+8)%10,c=(i+2)%10,d=n[c],f=n[c+1],p=cl(d,f,1)^n[o],u=dl(d,f,1)^n[o+1];for(let b=0;b<50;b+=10)t[i+b]^=p,t[i+b+1]^=u}let r=t[2],s=t[3];for(let i=0;i<24;i++){let o=pl[i],c=cl(r,s,o),d=dl(r,s,o),f=fl[i];r=t[f],s=t[f+1],t[f]=c,t[f+1]=d}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=t[i+o];for(let o=0;o<10;o++)t[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=dT[a],t[1]^=fT[a]}n.fill(0)}var H5=class t extends na{constructor(e,n,a,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=a,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ts(a),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=tl(this.state)}keccak(){pT(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Mn(this);let{blockLen:n,state:a}=this;e=aa(e);let r=e.length;for(let s=0;s<r;){let i=Math.min(n-this.pos,r-s);for(let o=0;o<i;o++)a[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:a,blockLen:r}=this;e[a]^=n,(n&128)!==0&&a===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Mn(this,!1),xs(e),this.finish();let n=this.state,{blockLen:a}=this;for(let r=0,s=e.length;r<s;){this.posOut>=a&&this.keccak();let i=Math.min(a-this.posOut,s-r);e.set(n.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ts(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(k5(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:n,suffix:a,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new t(n,a,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=a,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}},ca=(t,e,n)=>w1(()=>new H5(e,t,n)),IF=ca(6,144,224/8),PF=ca(6,136,256/8),_F=ca(6,104,384/8),SF=ca(6,72,512/8),NF=ca(1,144,224/8),bl=ca(1,136,256/8),DF=ca(1,104,384/8),MF=ca(1,72,512/8),ll=(t,e,n)=>al((a={})=>new H5(e,t,a.dkLen===void 0?n:a.dkLen,!0)),OF=ll(31,168,128/8),kF=ll(31,136,256/8);var yl=!1,ml=function(t){return bl(t)},hl=ml;function h0(t){let e=J(t,"data");return k(hl(e))}h0._=ml;h0.lock=function(){yl=!0};h0.register=function(t){if(yl)throw new TypeError("keccak256 is locked");hl=t};Object.freeze(h0);var gl=function(t){return Z8("sha256").update(t).digest()},Tl=function(t){return Z8("sha512").update(t).digest()},xl=gl,wl=Tl,El=!1,Al=!1;function On(t){let e=J(t,"data");return k(xl(e))}On._=gl;On.lock=function(){El=!0};On.register=function(t){if(El)throw new Error("sha256 is locked");xl=t};Object.freeze(On);function Es(t){let e=J(t,"data");return k(wl(e))}Es._=Tl;Es.lock=function(){Al=!0};Es.register=function(t){if(Al)throw new Error("sha512 is locked");wl=t};Object.freeze(On);var nf={};jr(nf,{bitGet:()=>gT,bitLen:()=>hT,bitMask:()=>As,bitSet:()=>TT,bytesToHex:()=>Za,bytesToNumberBE:()=>kn,bytesToNumberLE:()=>z5,concatBytes:()=>A1,createHmacDrbg:()=>tf,ensureBytes:()=>pt,equalBytes:()=>yT,hexToBytes:()=>Xa,hexToNumber:()=>ef,numberToBytesBE:()=>da,numberToBytesLE:()=>K5,numberToHexUnpadded:()=>Il,numberToVarBytesBE:()=>lT,utf8ToBytes:()=>mT,validateObject:()=>fa});var Cl=BigInt(0),G5=BigInt(1),uT=BigInt(2),V5=t=>t instanceof Uint8Array,bT=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Za(t){if(!V5(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=bT[t[n]];return e}function Il(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function ef(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Xa(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(e/2);for(let a=0;a<n.length;a++){let r=a*2,s=t.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[a]=i}return n}function kn(t){return ef(Za(t))}function z5(t){if(!V5(t))throw new Error("Uint8Array expected");return ef(Za(Uint8Array.from(t).reverse()))}function da(t,e){return Xa(t.toString(16).padStart(e*2,"0"))}function K5(t,e){return da(t,e).reverse()}function lT(t){return Xa(Il(t))}function pt(t,e,n){let a;if(typeof e=="string")try{a=Xa(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(V5(e))a=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let r=a.length;if(typeof n=="number"&&r!==n)throw new Error(`${t} expected ${n} bytes, got ${r}`);return a}function A1(...t){let e=new Uint8Array(t.reduce((a,r)=>a+r.length,0)),n=0;return t.forEach(a=>{if(!V5(a))throw new Error("Uint8Array expected");e.set(a,n),n+=a.length}),e}function yT(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function mT(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function hT(t){let e;for(e=0;t>Cl;t>>=G5,e+=1);return e}function gT(t,e){return t>>BigInt(e)&G5}var TT=(t,e,n)=>t|(n?G5:Cl)<<BigInt(e),As=t=>(uT<<BigInt(t-1))-G5,X8=t=>new Uint8Array(t),vl=t=>Uint8Array.from(t);function tf(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let a=X8(t),r=X8(t),s=0,i=()=>{a.fill(1),r.fill(0),s=0},o=(...p)=>n(r,a,...p),c=(p=X8())=>{r=o(vl([0]),p),a=o(),p.length!==0&&(r=o(vl([1]),p),a=o())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,u=[];for(;p<e;){a=o();let b=a.slice();u.push(b),p+=a.length}return A1(...u)};return(p,u)=>{i(),c(p);let b;for(;!(b=u(d()));)c();return i(),b}}var xT={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function fa(t,e,n={}){let a=(r,s,i)=>{let o=xT[s];if(typeof o!="function")throw new Error(`Invalid validator "${s}", expected function`);let c=t[r];if(!(i&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(r)}=${c} (${typeof c}), expected ${s}`)};for(let[r,s]of Object.entries(e))a(r,s,!1);for(let[r,s]of Object.entries(n))a(r,s,!0);return t}var Ee=BigInt(0),ae=BigInt(1),er=BigInt(2),wT=BigInt(3),af=BigInt(4),Pl=BigInt(5),_l=BigInt(8),ET=BigInt(9),AT=BigInt(16);function He(t,e){let n=t%e;return n>=Ee?n:e+n}function vT(t,e,n){if(n<=Ee||e<Ee)throw new Error("Expected power/modulo > 0");if(n===ae)return Ee;let a=ae;for(;e>Ee;)e&ae&&(a=a*t%n),t=t*t%n,e>>=ae;return a}function ut(t,e,n){let a=t;for(;e-- >Ee;)a*=a,a%=n;return a}function W5(t,e){if(t===Ee||e<=Ee)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=He(t,e),a=e,r=Ee,s=ae,i=ae,o=Ee;for(;n!==Ee;){let d=a/n,f=a%n,p=r-i*d,u=s-o*d;a=n,n=f,r=i,s=o,i=p,o=u}if(a!==ae)throw new Error("invert: does not exist");return He(r,e)}function CT(t){let e=(t-ae)/er,n,a,r;for(n=t-ae,a=0;n%er===Ee;n/=er,a++);for(r=er;r<t&&vT(r,e,t)!==t-ae;r++);if(a===1){let i=(t+ae)/af;return function(c,d){let f=c.pow(d,i);if(!c.eql(c.sqr(f),d))throw new Error("Cannot find square root");return f}}let s=(n+ae)/er;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let d=a,f=o.pow(o.mul(o.ONE,r),n),p=o.pow(c,s),u=o.pow(c,n);for(;!o.eql(u,o.ONE);){if(o.eql(u,o.ZERO))return o.ZERO;let b=1;for(let y=o.sqr(u);b<d&&!o.eql(y,o.ONE);b++)y=o.sqr(y);let l=o.pow(f,ae<<BigInt(d-b-1));f=o.sqr(l),p=o.mul(p,l),u=o.mul(u,f),d=b}return p}}function IT(t){if(t%af===wT){let e=(t+ae)/af;return function(a,r){let s=a.pow(r,e);if(!a.eql(a.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%_l===Pl){let e=(t-Pl)/_l;return function(a,r){let s=a.mul(r,er),i=a.pow(s,e),o=a.mul(r,i),c=a.mul(a.mul(o,er),i),d=a.mul(o,a.sub(c,a.ONE));if(!a.eql(a.sqr(d),r))throw new Error("Cannot find square root");return d}}return t%AT,CT(t)}var PT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rf(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=PT.reduce((a,r)=>(a[r]="function",a),e);return fa(t,n)}function _T(t,e,n){if(n<Ee)throw new Error("Expected power > 0");if(n===Ee)return t.ONE;if(n===ae)return e;let a=t.ONE,r=e;for(;n>Ee;)n&ae&&(a=t.mul(a,r)),r=t.sqr(r),n>>=ae;return a}function ST(t,e){let n=new Array(e.length),a=e.reduce((s,i,o)=>t.is0(i)?s:(n[o]=s,t.mul(s,i)),t.ONE),r=t.inv(a);return e.reduceRight((s,i,o)=>t.is0(i)?s:(n[o]=t.mul(s,n[o]),t.mul(s,i)),r),n}function sf(t,e){let n=e!==void 0?e:t.toString(2).length,a=Math.ceil(n/8);return{nBitLength:n,nByteLength:a}}function Sl(t,e,n=!1,a={}){if(t<=Ee)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:r,nByteLength:s}=sf(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let i=IT(t),o=Object.freeze({ORDER:t,BITS:r,BYTES:s,MASK:As(r),ZERO:Ee,ONE:ae,create:c=>He(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ee<=c&&c<t},is0:c=>c===Ee,isOdd:c=>(c&ae)===ae,neg:c=>He(-c,t),eql:(c,d)=>c===d,sqr:c=>He(c*c,t),add:(c,d)=>He(c+d,t),sub:(c,d)=>He(c-d,t),mul:(c,d)=>He(c*d,t),pow:(c,d)=>_T(o,c,d),div:(c,d)=>He(c*W5(d,t),t),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>W5(c,t),sqrt:a.sqrt||(c=>i(o,c)),invertBatch:c=>ST(o,c),cmov:(c,d,f)=>f?d:c,toBytes:c=>n?K5(c,s):da(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?z5(c):kn(c)}});return Object.freeze(o)}function Nl(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function of(t){let e=Nl(t);return e+Math.ceil(e/2)}function Dl(t,e,n=!1){let a=t.length,r=Nl(e),s=of(e);if(a<16||a<s||a>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${a}`);let i=n?kn(t):z5(t),o=He(i,e-ae)+ae;return n?K5(o,r):da(o,r)}var DT=BigInt(0),cf=BigInt(1);function Ml(t,e){let n=(r,s)=>{let i=s.negate();return r?i:s},a=r=>{let s=Math.ceil(e/r)+1,i=2**(r-1);return{windows:s,windowSize:i}};return{constTimeNegate:n,unsafeLadder(r,s){let i=t.ZERO,o=r;for(;s>DT;)s&cf&&(i=i.add(o)),o=o.double(),s>>=cf;return i},precomputeWindow(r,s){let{windows:i,windowSize:o}=a(s),c=[],d=r,f=d;for(let p=0;p<i;p++){f=d,c.push(f);for(let u=1;u<o;u++)f=f.add(d),c.push(f);d=f.double()}return c},wNAF(r,s,i){let{windows:o,windowSize:c}=a(r),d=t.ZERO,f=t.BASE,p=BigInt(2**r-1),u=2**r,b=BigInt(r);for(let l=0;l<o;l++){let y=l*c,m=Number(i&p);i>>=b,m>c&&(m-=u,i+=cf);let h=y,g=y+Math.abs(m)-1,x=l%2!==0,C=m<0;m===0?f=f.add(n(x,s[h])):d=d.add(n(C,s[g]))}return{p:d,f}},wNAFCached(r,s,i,o){let c=r._WINDOW_SIZE||1,d=s.get(r);return d||(d=this.precomputeWindow(r,c),c!==1&&s.set(r,o(d))),this.wNAF(c,d,i)}}}function df(t){return rf(t.Fp),fa(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sf(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function MT(t){let e=df(t);fa(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:a,a:r}=e;if(n){if(!a.eql(r,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:OT,hexToBytes:kT}=nf,tr={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=tr;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let n=t[1],a=t.subarray(2,n+2);if(!n||a.length!==n)throw new e("Invalid signature integer: wrong length");if(a[0]&128)throw new e("Invalid signature integer: negative");if(a[0]===0&&!(a[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:OT(a),l:t.subarray(n+2)}},toSig(t){let{Err:e}=tr,n=typeof t=="string"?kT(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let a=n.length;if(a<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==a-2)throw new e("Invalid signature: incorrect length");let{d:r,l:s}=tr._parseInt(n.subarray(2)),{d:i,l:o}=tr._parseInt(s);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r,s:i}},hexFromSig(t){let e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,n=d=>{let f=d.toString(16);return f.length&1?`0${f}`:f},a=e(n(t.s)),r=e(n(t.r)),s=a.length/2,i=r.length/2,o=n(s),c=n(i);return`30${n(i+s+4)}02${c}${r}02${o}${a}`}},Rn=BigInt(0),Dt=BigInt(1),JF=BigInt(2),Ol=BigInt(3),QF=BigInt(4);function RT(t){let e=MT(t),{Fp:n}=e,a=e.toBytes||((l,y,m)=>{let h=y.toAffine();return A1(Uint8Array.from([4]),n.toBytes(h.x),n.toBytes(h.y))}),r=e.fromBytes||(l=>{let y=l.subarray(1),m=n.fromBytes(y.subarray(0,n.BYTES)),h=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:m,y:h}});function s(l){let{a:y,b:m}=e,h=n.sqr(l),g=n.mul(h,l);return n.add(n.add(g,n.mul(l,y)),m)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function i(l){return typeof l=="bigint"&&Rn<l&&l<e.n}function o(l){if(!i(l))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(l){let{allowedPrivateKeyLengths:y,nByteLength:m,wrapPrivateKey:h,n:g}=e;if(y&&typeof l!="bigint"){if(l instanceof Uint8Array&&(l=Za(l)),typeof l!="string"||!y.includes(l.length))throw new Error("Invalid key");l=l.padStart(m*2,"0")}let x;try{x=typeof l=="bigint"?l:kn(pt("private key",l,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof l}`)}return h&&(x=He(x,g)),o(x),x}let d=new Map;function f(l){if(!(l instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(y,m,h){if(this.px=y,this.py=m,this.pz=h,y==null||!n.isValid(y))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(h==null||!n.isValid(h))throw new Error("z required")}static fromAffine(y){let{x:m,y:h}=y||{};if(!y||!n.isValid(m)||!n.isValid(h))throw new Error("invalid affine point");if(y instanceof p)throw new Error("projective point not allowed");let g=x=>n.eql(x,n.ZERO);return g(m)&&g(h)?p.ZERO:new p(m,h,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let m=n.invertBatch(y.map(h=>h.pz));return y.map((h,g)=>h.toAffine(m[g])).map(p.fromAffine)}static fromHex(y){let m=p.fromAffine(r(pt("pointHex",y)));return m.assertValidity(),m}static fromPrivateKey(y){return p.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:y,y:m}=this.toAffine();if(!n.isValid(y)||!n.isValid(m))throw new Error("bad point: x or y not FE");let h=n.sqr(m),g=s(y);if(!n.eql(h,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){f(y);let{px:m,py:h,pz:g}=this,{px:x,py:C,pz:I}=y,E=n.eql(n.mul(m,I),n.mul(x,g)),v=n.eql(n.mul(h,I),n.mul(C,g));return E&&v}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){let{a:y,b:m}=e,h=n.mul(m,Ol),{px:g,py:x,pz:C}=this,I=n.ZERO,E=n.ZERO,v=n.ZERO,P=n.mul(g,g),U=n.mul(x,x),D=n.mul(C,C),B=n.mul(g,x);return B=n.add(B,B),v=n.mul(g,C),v=n.add(v,v),I=n.mul(y,v),E=n.mul(h,D),E=n.add(I,E),I=n.sub(U,E),E=n.add(U,E),E=n.mul(I,E),I=n.mul(B,I),v=n.mul(h,v),D=n.mul(y,D),B=n.sub(P,D),B=n.mul(y,B),B=n.add(B,v),v=n.add(P,P),P=n.add(v,P),P=n.add(P,D),P=n.mul(P,B),E=n.add(E,P),D=n.mul(x,C),D=n.add(D,D),P=n.mul(D,B),I=n.sub(I,P),v=n.mul(D,U),v=n.add(v,v),v=n.add(v,v),new p(I,E,v)}add(y){f(y);let{px:m,py:h,pz:g}=this,{px:x,py:C,pz:I}=y,E=n.ZERO,v=n.ZERO,P=n.ZERO,U=e.a,D=n.mul(e.b,Ol),B=n.mul(m,x),$=n.mul(h,C),X=n.mul(g,I),b0=n.add(m,h),R=n.add(x,C);b0=n.mul(b0,R),R=n.add(B,$),b0=n.sub(b0,R),R=n.add(m,g);let G=n.add(x,I);return R=n.mul(R,G),G=n.add(B,X),R=n.sub(R,G),G=n.add(h,g),E=n.add(C,I),G=n.mul(G,E),E=n.add($,X),G=n.sub(G,E),P=n.mul(U,R),E=n.mul(D,X),P=n.add(E,P),E=n.sub($,P),P=n.add($,P),v=n.mul(E,P),$=n.add(B,B),$=n.add($,B),X=n.mul(U,X),R=n.mul(D,R),$=n.add($,X),X=n.sub(B,X),X=n.mul(U,X),R=n.add(R,X),B=n.mul($,R),v=n.add(v,B),B=n.mul(G,R),E=n.mul(b0,E),E=n.sub(E,B),B=n.mul(b0,$),P=n.mul(G,P),P=n.add(P,B),new p(E,v,P)}subtract(y){return this.add(y.negate())}is0(){return this.equals(p.ZERO)}wNAF(y){return b.wNAFCached(this,d,y,m=>{let h=n.invertBatch(m.map(g=>g.pz));return m.map((g,x)=>g.toAffine(h[x])).map(p.fromAffine)})}multiplyUnsafe(y){let m=p.ZERO;if(y===Rn)return m;if(o(y),y===Dt)return this;let{endo:h}=e;if(!h)return b.unsafeLadder(this,y);let{k1neg:g,k1:x,k2neg:C,k2:I}=h.splitScalar(y),E=m,v=m,P=this;for(;x>Rn||I>Rn;)x&Dt&&(E=E.add(P)),I&Dt&&(v=v.add(P)),P=P.double(),x>>=Dt,I>>=Dt;return g&&(E=E.negate()),C&&(v=v.negate()),v=new p(n.mul(v.px,h.beta),v.py,v.pz),E.add(v)}multiply(y){o(y);let m=y,h,g,{endo:x}=e;if(x){let{k1neg:C,k1:I,k2neg:E,k2:v}=x.splitScalar(m),{p:P,f:U}=this.wNAF(I),{p:D,f:B}=this.wNAF(v);P=b.constTimeNegate(C,P),D=b.constTimeNegate(E,D),D=new p(n.mul(D.px,x.beta),D.py,D.pz),h=P.add(D),g=U.add(B)}else{let{p:C,f:I}=this.wNAF(m);h=C,g=I}return p.normalizeZ([h,g])[0]}multiplyAndAddUnsafe(y,m,h){let g=p.BASE,x=(I,E)=>E===Rn||E===Dt||!I.equals(g)?I.multiplyUnsafe(E):I.multiply(E),C=x(this,m).add(x(y,h));return C.is0()?void 0:C}toAffine(y){let{px:m,py:h,pz:g}=this,x=this.is0();y==null&&(y=x?n.ONE:n.inv(g));let C=n.mul(m,y),I=n.mul(h,y),E=n.mul(g,y);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:C,y:I}}isTorsionFree(){let{h:y,isTorsionFree:m}=e;if(y===Dt)return!0;if(m)return m(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:m}=e;return y===Dt?this:m?m(p,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),a(p,this,y)}toHex(y=!0){return Za(this.toRawBytes(y))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);let u=e.nBitLength,b=Ml(p,e.endo?Math.ceil(u/2):u);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:i}}function BT(t){let e=df(t);return fa(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function kl(t){let e=BT(t),{Fp:n,n:a}=e,r=n.BYTES+1,s=2*n.BYTES+1;function i(R){return Rn<R&&R<n.ORDER}function o(R){return He(R,a)}function c(R){return W5(R,a)}let{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:u}=RT({...e,toBytes(R,G,e0){let z=G.toAffine(),t0=n.toBytes(z.x),M0=A1;return e0?M0(Uint8Array.from([G.hasEvenY()?2:3]),t0):M0(Uint8Array.from([4]),t0,n.toBytes(z.y))},fromBytes(R){let G=R.length,e0=R[0],z=R.subarray(1);if(G===r&&(e0===2||e0===3)){let t0=kn(z);if(!i(t0))throw new Error("Point is not on curve");let M0=p(t0),oe=n.sqrt(M0),J0=(oe&Dt)===Dt;return(e0&1)===1!==J0&&(oe=n.neg(oe)),{x:t0,y:oe}}else if(G===s&&e0===4){let t0=n.fromBytes(z.subarray(0,n.BYTES)),M0=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:t0,y:M0}}else throw new Error(`Point of length ${G} was invalid. Expected ${r} compressed bytes or ${s} uncompressed bytes`)}}),b=R=>Za(da(R,e.nByteLength));function l(R){let G=a>>Dt;return R>G}function y(R){return l(R)?o(-R):R}let m=(R,G,e0)=>kn(R.slice(G,e0));class h{constructor(G,e0,z){this.r=G,this.s=e0,this.recovery=z,this.assertValidity()}static fromCompact(G){let e0=e.nByteLength;return G=pt("compactSignature",G,e0*2),new h(m(G,0,e0),m(G,e0,2*e0))}static fromDER(G){let{r:e0,s:z}=tr.toSig(pt("DER",G));return new h(e0,z)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(G){return new h(this.r,this.s,G)}recoverPublicKey(G){let{r:e0,s:z,recovery:t0}=this,M0=v(pt("msgHash",G));if(t0==null||![0,1,2,3].includes(t0))throw new Error("recovery id invalid");let oe=t0===2||t0===3?e0+e.n:e0;if(oe>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let J0=(t0&1)===0?"02":"03",it=d.fromHex(J0+b(oe)),Re=c(oe),ot=o(-M0*Re),nn=o(z*Re),wn=d.BASE.multiplyAndAddUnsafe(it,ot,nn);if(!wn)throw new Error("point at infinify");return wn.assertValidity(),wn}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Xa(this.toDERHex())}toDERHex(){return tr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xa(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}let g={isValidPrivateKey(R){try{return f(R),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let R=of(e.n);return Dl(e.randomBytes(R),e.n)},precompute(R=8,G=d.BASE){return G._setWindowSize(R),G.multiply(BigInt(3)),G}};function x(R,G=!0){return d.fromPrivateKey(R).toRawBytes(G)}function C(R){let G=R instanceof Uint8Array,e0=typeof R=="string",z=(G||e0)&&R.length;return G?z===r||z===s:e0?z===2*r||z===2*s:R instanceof d}function I(R,G,e0=!0){if(C(R))throw new Error("first arg must be private key");if(!C(G))throw new Error("second arg must be public key");return d.fromHex(G).multiply(f(R)).toRawBytes(e0)}let E=e.bits2int||function(R){let G=kn(R),e0=R.length*8-e.nBitLength;return e0>0?G>>BigInt(e0):G},v=e.bits2int_modN||function(R){return o(E(R))},P=As(e.nBitLength);function U(R){if(typeof R!="bigint")throw new Error("bigint expected");if(!(Rn<=R&&R<P))throw new Error(`bigint expected < 2^${e.nBitLength}`);return da(R,e.nByteLength)}function D(R,G,e0=B){if(["recovered","canonical"].some(U0=>U0 in e0))throw new Error("sign() legacy options not supported");let{hash:z,randomBytes:t0}=e,{lowS:M0,prehash:oe,extraEntropy:J0}=e0;M0==null&&(M0=!0),R=pt("msgHash",R),oe&&(R=pt("prehashed msgHash",z(R)));let it=v(R),Re=f(G),ot=[U(Re),U(it)];if(J0!=null){let U0=J0===!0?t0(n.BYTES):J0;ot.push(pt("extraEntropy",U0))}let nn=A1(...ot),wn=it;function s0(U0){let W0=E(U0);if(!u(W0))return;let j0=c(W0),E0=d.BASE.multiply(W0).toAffine(),X0=o(E0.x);if(X0===Rn)return;let pe=o(j0*o(wn+X0*Re));if(pe===Rn)return;let ue=(E0.x===X0?0:2)|Number(E0.y&Dt),be=pe;return M0&&l(pe)&&(be=y(pe),ue^=1),new h(X0,be,ue)}return{seed:nn,k2sig:s0}}let B={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function X(R,G,e0=B){let{seed:z,k2sig:t0}=D(R,G,e0),M0=e;return tf(M0.hash.outputLen,M0.nByteLength,M0.hmac)(z,t0)}d.BASE._setWindowSize(8);function b0(R,G,e0,z=$){let t0=R;if(G=pt("msgHash",G),e0=pt("publicKey",e0),"strict"in z)throw new Error("options.strict was renamed to lowS");let{lowS:M0,prehash:oe}=z,J0,it;try{if(typeof t0=="string"||t0 instanceof Uint8Array)try{J0=h.fromDER(t0)}catch(E0){if(!(E0 instanceof tr.Err))throw E0;J0=h.fromCompact(t0)}else if(typeof t0=="object"&&typeof t0.r=="bigint"&&typeof t0.s=="bigint"){let{r:E0,s:X0}=t0;J0=new h(E0,X0)}else throw new Error("PARSE");it=d.fromHex(e0)}catch(E0){if(E0.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M0&&J0.hasHighS())return!1;oe&&(G=e.hash(G));let{r:Re,s:ot}=J0,nn=v(G),wn=c(ot),s0=o(nn*wn),U0=o(Re*wn),W0=d.BASE.multiplyAndAddUnsafe(it,s0,U0)?.toAffine();return W0?o(W0.x)===Re:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:I,sign:X,verify:b0,ProjectivePoint:d,Signature:h,utils:g}}function FT(t){return{hash:t,hmac:(e,...n)=>z8(t,e,nl(...n)),randomBytes:rl}}function Rl(t,e){let n=a=>kl({...t,...FT(a)});return Object.freeze({...n(e),create:n})}var Ll=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bl=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),LT=BigInt(1),ff=BigInt(2),Fl=(t,e)=>(t+e/ff)/e;function UT(t){let e=Ll,n=BigInt(3),a=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),d=t*t*t%e,f=d*d*t%e,p=ut(f,n,e)*f%e,u=ut(p,n,e)*f%e,b=ut(u,ff,e)*d%e,l=ut(b,r,e)*b%e,y=ut(l,s,e)*l%e,m=ut(y,o,e)*y%e,h=ut(m,c,e)*m%e,g=ut(h,o,e)*y%e,x=ut(g,n,e)*f%e,C=ut(x,i,e)*l%e,I=ut(C,a,e)*d%e,E=ut(I,ff,e);if(!pf.eql(pf.sqr(E),t))throw new Error("Cannot find square root");return E}var pf=Sl(Ll,void 0,void 0,{sqrt:UT}),Bn=Rl({a:BigInt(0),b:BigInt(7),Fp:pf,n:Bl,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Bl,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-LT*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),o=Fl(s*t,e),c=Fl(-a*t,e),d=He(t-o*n-c*r,e),f=He(-o*a-c*s,e),p=d>i,u=f>i;if(p&&(d=e-d),u&&(f=e-f),d>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:u,k2:f}}}},L5),sL=BigInt(0);var iL=Bn.ProjectivePoint;var Fn="0x0000000000000000000000000000000000000000";var j5="0x0000000000000000000000000000000000000000000000000000000000000000";var uf=`Ethereum Signed Message:
`;var Ul=BigInt(0),Hl=BigInt(1),Gl=BigInt(2),Vl=BigInt(27),zl=BigInt(28),$5=BigInt(35),v1={};function Kl(t){return Ue(G0(t),32)}var ge=class t{#e;#t;#n;#a;get r(){return this.#e}set r(e){T(Vt(e)===32,"invalid r","value",e),this.#e=k(e)}get s(){return T(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){T(Vt(e)===32,"invalid s","value",e),this.#t=k(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){let n=n0(e,"value");T(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#a}get legacyChainId(){let e=this.networkV;return e==null?null:t.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=J(this.s);return this.yParity&&(e[0]|=128),k(e)}get compactSerialized(){return l0([this.r,this.yParityAndS])}get serialized(){return l0([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,a,r){Sn(e,v1,"Signature"),this.#e=n,this.#t=a,this.#n=r,this.#a=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new t(v1,this.r,this._s,this.v);return this.networkV&&(e.#a=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){let n=L(e,"v");return n==Vl||n==zl?Ul:(T(n>=$5,"invalid EIP-155 v","v",e),(n-$5)/Gl)}static getChainIdV(e,n){return L(e)*Gl+BigInt(35+n-27)}static getNormalizedV(e){let n=L(e);return n===Ul||n===Vl?27:n===Hl||n===zl?28:(T(n>=$5,"invalid v","v",e),n&Hl?27:28)}static from(e){function n(d,f){T(d,f,"signature",e)}if(e==null)return new t(v1,j5,j5,27);if(typeof e=="string"){let d=J(e,"signature");if(d.length===64){let f=k(d.slice(0,32)),p=d.slice(32,64),u=p[0]&128?28:27;return p[0]&=127,new t(v1,f,k(p),u)}if(d.length===65){let f=k(d.slice(0,32)),p=k(d.slice(32,64)),u=t.getNormalizedV(d[64]);return new t(v1,f,p,u)}n(!1,"invalid raw signature length")}if(e instanceof t)return e.clone();let a=e.r;n(a!=null,"missing r");let r=Kl(a),s=(function(d,f){if(d!=null)return Kl(d);if(f!=null){n(i0(f,32),"invalid yParityAndS");let p=J(f);return p[0]&=127,k(p)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:i,v:o}=(function(d,f,p){if(d!=null){let u=L(d);return{networkV:u>=$5?u:void 0,v:t.getNormalizedV(u)}}if(f!=null)return n(i0(f,32),"invalid yParityAndS"),{v:J(f)[0]&128?28:27};if(p!=null){switch(n0(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new t(v1,r,s,o);return i&&(c.#a=i),n(e.yParity==null||n0(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};var bt=class t{#e;constructor(e){T(Vt(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=k(e)}get privateKey(){return this.#e}get publicKey(){return t.computePublicKey(this.#e)}get compressedPublicKey(){return t.computePublicKey(this.#e,!0)}sign(e){T(Vt(e)===32,"invalid digest length","digest",e);let n=Bn.sign(ne(e),ne(this.#e),{lowS:!0});return ge.from({r:$e(n.r,32),s:$e(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){let n=t.computePublicKey(e);return k(Bn.getSharedSecret(ne(this.#e),J(n),!1))}static computePublicKey(e,n){let a=J(e,"key");if(a.length===32){let s=Bn.getPublicKey(a,!!n);return k(s)}if(a.length===64){let s=new Uint8Array(65);s[0]=4,s.set(a,1),a=s}let r=Bn.ProjectivePoint.fromHex(a);return k(r.toRawBytes(n))}static recoverPublicKey(e,n){T(Vt(e)===32,"invalid digest length","digest",e);let a=ge.from(n),r=Bn.Signature.fromCompact(ne(l0([a.r,a.s])));r=r.addRecoveryBit(a.yParity);let s=r.recoverPublicKey(ne(e));return T(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,a){let r=Bn.ProjectivePoint.fromHex(t.computePublicKey(e).substring(2)),s=Bn.ProjectivePoint.fromHex(t.computePublicKey(n).substring(2));return"0x"+r.add(s).toHex(!!a)}};var HT=BigInt(0),GT=BigInt(36);function Wl(t){t=t.toLowerCase();let e=t.substring(2).split(""),n=new Uint8Array(40);for(let r=0;r<40;r++)n[r]=e[r].charCodeAt(0);let a=J(h0(n));for(let r=0;r<40;r+=2)a[r>>1]>>4>=8&&(e[r]=e[r].toUpperCase()),(a[r>>1]&15)>=8&&(e[r+1]=e[r+1].toUpperCase());return"0x"+e.join("")}var bf={};for(let t=0;t<10;t++)bf[String(t)]=String(t);for(let t=0;t<26;t++)bf[String.fromCharCode(65+t)]=String(10+t);var jl=15;function VT(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(a=>bf[a]).join("");for(;e.length>=jl;){let a=e.substring(0,jl);e=parseInt(a,10)%97+e.substring(a.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}var zT=(function(){let t={};for(let e=0;e<36;e++){let n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})();function KT(t){t=t.toLowerCase();let e=HT;for(let n=0;n<t.length;n++)e=e*GT+zT[t[n]];return e}function r0(t){if(T(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=Wl(t);return T(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){T(t.substring(2,4)===VT(t),"bad icap checksum","address",t);let e=KT(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Wl("0x"+e)}T(!1,"invalid address","address",t)}function lf(t){let e=r0(t.from),a=L(t.nonce,"tx.nonce").toString(16);return a==="0"?a="0x":a.length%2?a="0x0"+a:a="0x"+a,r0(R0(h0(Nt([e,a])),12))}function Y5(t){return t&&typeof t.getAddress=="function"}async function yf(t,e){let n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(_(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),T(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),r0(n)}function Te(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?r0(t):(_(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),yf(t,e.resolveName(t)));if(Y5(t))return yf(t,t.getAddress());if(t&&typeof t.then=="function")return yf(t,t);T(!1,"unsupported addressable value","target",t)}var Wt={};function K(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new B0(Wt,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function w0(t,e){return new B0(Wt,`bytes${e||""}`,t,{size:e})}var $l=Symbol.for("_ethers_typed"),B0=class t{type;value;#e;_typedSymbol;constructor(e,n,a,r){r==null&&(r=null),Sn(Wt,e,"Typed"),V(this,{_typedSymbol:$l,type:n,value:a}),this.#e=r,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new t(Wt,e,n)}static uint8(e){return K(e,8)}static uint16(e){return K(e,16)}static uint24(e){return K(e,24)}static uint32(e){return K(e,32)}static uint40(e){return K(e,40)}static uint48(e){return K(e,48)}static uint56(e){return K(e,56)}static uint64(e){return K(e,64)}static uint72(e){return K(e,72)}static uint80(e){return K(e,80)}static uint88(e){return K(e,88)}static uint96(e){return K(e,96)}static uint104(e){return K(e,104)}static uint112(e){return K(e,112)}static uint120(e){return K(e,120)}static uint128(e){return K(e,128)}static uint136(e){return K(e,136)}static uint144(e){return K(e,144)}static uint152(e){return K(e,152)}static uint160(e){return K(e,160)}static uint168(e){return K(e,168)}static uint176(e){return K(e,176)}static uint184(e){return K(e,184)}static uint192(e){return K(e,192)}static uint200(e){return K(e,200)}static uint208(e){return K(e,208)}static uint216(e){return K(e,216)}static uint224(e){return K(e,224)}static uint232(e){return K(e,232)}static uint240(e){return K(e,240)}static uint248(e){return K(e,248)}static uint256(e){return K(e,256)}static uint(e){return K(e,256)}static int8(e){return K(e,-8)}static int16(e){return K(e,-16)}static int24(e){return K(e,-24)}static int32(e){return K(e,-32)}static int40(e){return K(e,-40)}static int48(e){return K(e,-48)}static int56(e){return K(e,-56)}static int64(e){return K(e,-64)}static int72(e){return K(e,-72)}static int80(e){return K(e,-80)}static int88(e){return K(e,-88)}static int96(e){return K(e,-96)}static int104(e){return K(e,-104)}static int112(e){return K(e,-112)}static int120(e){return K(e,-120)}static int128(e){return K(e,-128)}static int136(e){return K(e,-136)}static int144(e){return K(e,-144)}static int152(e){return K(e,-152)}static int160(e){return K(e,-160)}static int168(e){return K(e,-168)}static int176(e){return K(e,-176)}static int184(e){return K(e,-184)}static int192(e){return K(e,-192)}static int200(e){return K(e,-200)}static int208(e){return K(e,-208)}static int216(e){return K(e,-216)}static int224(e){return K(e,-224)}static int232(e){return K(e,-232)}static int240(e){return K(e,-240)}static int248(e){return K(e,-248)}static int256(e){return K(e,-256)}static int(e){return K(e,-256)}static bytes1(e){return w0(e,1)}static bytes2(e){return w0(e,2)}static bytes3(e){return w0(e,3)}static bytes4(e){return w0(e,4)}static bytes5(e){return w0(e,5)}static bytes6(e){return w0(e,6)}static bytes7(e){return w0(e,7)}static bytes8(e){return w0(e,8)}static bytes9(e){return w0(e,9)}static bytes10(e){return w0(e,10)}static bytes11(e){return w0(e,11)}static bytes12(e){return w0(e,12)}static bytes13(e){return w0(e,13)}static bytes14(e){return w0(e,14)}static bytes15(e){return w0(e,15)}static bytes16(e){return w0(e,16)}static bytes17(e){return w0(e,17)}static bytes18(e){return w0(e,18)}static bytes19(e){return w0(e,19)}static bytes20(e){return w0(e,20)}static bytes21(e){return w0(e,21)}static bytes22(e){return w0(e,22)}static bytes23(e){return w0(e,23)}static bytes24(e){return w0(e,24)}static bytes25(e){return w0(e,25)}static bytes26(e){return w0(e,26)}static bytes27(e){return w0(e,27)}static bytes28(e){return w0(e,28)}static bytes29(e){return w0(e,29)}static bytes30(e){return w0(e,30)}static bytes31(e){return w0(e,31)}static bytes32(e){return w0(e,32)}static address(e){return new t(Wt,"address",e)}static bool(e){return new t(Wt,"bool",!!e)}static bytes(e){return new t(Wt,"bytes",e)}static string(e){return new t(Wt,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new t(Wt,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===$l}static dereference(e,n){if(t.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};var J5=class extends he{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let a=B0.dereference(n,"string");try{a=r0(a)}catch(r){return this._throwError(r.message,n)}return e.writeValue(a)}decode(e){return r0($e(e.readValue(),20))}};var Q5=class extends he{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}};function mf(t,e,n){let a=[];if(Array.isArray(n))a=n;else if(n&&typeof n=="object"){let c={};a=e.map(d=>{let f=d.localName;return _(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:n}),_(!c[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:n}),c[f]=!0,n[f]})}else T(!1,"invalid tuple value","tuple",n);T(e.length===a.length,"types/value length mismatch","tuple",n);let r=new qa,s=new qa,i=[];e.forEach((c,d)=>{let f=a[d];if(c.dynamic){let p=s.length;c.encode(s,f);let u=r.writeUpdatableValue();i.push(b=>{u(b+p)})}else c.encode(r,f)}),i.forEach(c=>{c(r.length)});let o=t.appendWriter(r);return o+=t.appendWriter(s),o}function hf(t,e){let n=[],a=[],r=t.subReader(0);return e.forEach(s=>{let i=null;if(s.dynamic){let o=t.readIndex(),c=r.subReader(o);try{i=s.decode(c)}catch(d){if(L0(d,"BUFFER_OVERRUN"))throw d;i=d,i.baseType=s.name,i.name=s.localName,i.type=s.type}}else try{i=s.decode(t)}catch(o){if(L0(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=s.name,i.name=s.localName,i.type=s.type}if(i==null)throw new Error("investigate");n.push(i),a.push(s.localName||null)}),fn.fromItems(n,a)}var q5=class extends he{coder;length;constructor(e,n,a){let r=e.type+"["+(n>=0?n:"")+"]",s=n===-1||e.dynamic;super("array",r,a,s),V(this,{coder:e,length:n})}defaultValue(){let e=this.coder.defaultValue(),n=[];for(let a=0;a<this.length;a++)n.push(e);return n}encode(e,n){let a=B0.dereference(n,"array");Array.isArray(a)||this._throwError("expected array value",a);let r=this.length;r===-1&&(r=a.length,e.writeValue(a.length)),h1(a.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let i=0;i<a.length;i++)s.push(this.coder);return mf(e,s,a)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),_(n*De<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*De,length:e.dataLength}));let a=[];for(let r=0;r<n;r++)a.push(new Q5(this.coder));return hf(e,a)}};var Z5=class extends he{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){let a=B0.dereference(n,"bool");return e.writeValue(a?1:0)}decode(e){return!!e.readValue()}};var vs=class extends he{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=ne(n);let a=e.writeValue(n.length);return a+=e.writeBytes(n),a}decode(e){return e.readBytes(e.readIndex(),!0)}},X5=class extends vs{constructor(e){super("bytes",e)}decode(e){return k(super.decode(e))}};var eo=class extends he{size;constructor(e,n){let a="bytes"+String(e);super(a,a,n,!1),V(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let a=ne(B0.dereference(n,this.type));return a.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(a)}decode(e){return k(e.readBytes(this.size))}};var WT=new Uint8Array([]),to=class extends he{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(WT)}decode(e){return e.readBytes(0),null}};var jT=BigInt(0),$T=BigInt(1),YT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),no=class extends he{size;signed;constructor(e,n,a){let r=(n?"int":"uint")+e*8;super(r,r,a,!1),V(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let a=L(B0.dereference(n,this.type)),r=Nn(YT,De*8);if(this.signed){let s=Nn(r,this.size*8-1);(a>s||a<-(s+$T))&&this._throwError("value out-of-bounds",n),a=T1(a,8*De)}else(a<jT||a>Nn(r,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(a)}decode(e){let n=Nn(e.readValue(),this.size*8);return this.signed&&(n=I5(n,this.size*8)),n}};var ao=class extends vs{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,me(B0.dereference(n,"string")))}decode(e){return Dn(super.decode(e))}};var nr=class extends he{coders;constructor(e,n){let a=!1,r=[];e.forEach(i=>{i.dynamic&&(a=!0),r.push(i.type)});let s="tuple("+r.join(",")+")";super("tuple",s,n,a),V(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(a=>{e.push(a.defaultValue())});let n=this.coders.reduce((a,r)=>{let s=r.localName;return s&&(a[s]||(a[s]=0),a[s]++),a},{});return this.coders.forEach((a,r)=>{let s=a.localName;!s||n[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[r]))}),Object.freeze(e)}encode(e,n){let a=B0.dereference(n,"tuple");return mf(e,this.coders,a)}decode(e){return hf(e,this.coders)}};function gf(t,e){return{address:r0(t),storageKeys:e.map((n,a)=>(T(i0(n,32),"invalid slot",`storageKeys[${a}]`,n),n.toLowerCase()))}}function et(t){if(Array.isArray(t))return t.map((n,a)=>Array.isArray(n)?(T(n.length===2,"invalid slot set",`value[${a}]`,n),gf(n[0],n[1])):(T(n!=null&&typeof n=="object","invalid address-slot set","value",t),gf(n.address,n.storageKeys)));T(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(n=>{let a=t[n].reduce((r,s)=>(r[s]=!0,r),{});return gf(n,Object.keys(a).sort())});return e.sort((n,a)=>n.address.localeCompare(a.address)),e}function C1(t){return{address:r0(t.address),nonce:L(t.nonce!=null?t.nonce:0),chainId:L(t.chainId!=null?t.chainId:0),signature:ge.from(t.signature)}}function Yl(t){let e;return typeof t=="string"?e=bt.computePublicKey(t,!1):e=t.publicKey,r0(h0("0x"+e.substring(4)).substring(26))}function Tf(t,e){return Yl(bt.recoverPublicKey(t,e))}var Ie=BigInt(0),JT=BigInt(2),QT=BigInt(27),qT=BigInt(28),ZT=BigInt(35),XT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),xf=4096*32;function ex(t){return{blobToKzgCommitment:a=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return J(t.blobToKzgCommitment(k(a)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return J(t.blobToKzgCommitment(a));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return J(t.blobToKZGCommitment(k(a)));T(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(a,r)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return J(t.computeBlobProof(k(a),k(r)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(a,r);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return J(t.computeBlobKZGProof(k(a),k(r)));T(!1,"unsupported KZG library","kzg",t)}}}function Jl(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=On(e).substring(4),"0x"+n}function I1(t){return t==="0x"?null:r0(t)}function ro(t,e){try{return et(t)}catch(n){T(!1,n.message,e,t)}}function tx(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");let n=[];for(let a=0;a<t.length;a++){let r=t[a];if(!Array.isArray(r))throw new Error(`authorization[${a}]: invalid array`);if(r.length!==6)throw new Error(`authorization[${a}]: wrong length`);if(!r[1])throw new Error(`authorization[${a}]: null address`);n.push({address:I1(r[1]),nonce:D0(r[2],"nonce"),chainId:D0(r[0],"chainId"),signature:ge.from({yParity:ar(r[3],"yParity"),r:Ue(r[4],32),s:Ue(r[5],32)})})}return n}catch(n){T(!1,n.message,e,t)}}function ar(t,e){return t==="0x"?0:n0(t,e)}function D0(t,e){if(t==="0x")return Ie;let n=L(t,e);return T(n<=XT,"value exceeds uint size",e,n),n}function y0(t,e){let n=L(t,"value"),a=G0(n);return T(a.length<=32,"value too large",`tx.${e}`,n),a}function so(t){return et(t).map(e=>[e.address,e.storageKeys])}function nx(t){return t.map(e=>[y0(e.chainId,"chainId"),e.address,y0(e.nonce,"nonce"),y0(e.signature.yParity,"yParity"),G0(e.signature.r),G0(e.signature.s)])}function ax(t,e){T(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)T(i0(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function rx(t){let e=ta(t);T(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let n={type:0,nonce:ar(e[0],"nonce"),gasPrice:D0(e[1],"gasPrice"),gasLimit:D0(e[2],"gasLimit"),to:I1(e[3]),value:D0(e[4],"value"),data:k(e[5]),chainId:Ie};if(e.length===6)return n;let a=D0(e[6],"v"),r=D0(e[7],"r"),s=D0(e[8],"s");if(r===Ie&&s===Ie)n.chainId=a;else{let i=(a-ZT)/JT;i<Ie&&(i=Ie),n.chainId=i,T(i!==Ie||a===QT||a===qT,"non-canonical legacy v","v",e[6]),n.signature=ge.from({r:Ue(e[7],32),s:Ue(e[8],32),v:a})}return n}function sx(t,e){let n=[y0(t.nonce,"nonce"),y0(t.gasPrice||0,"gasPrice"),y0(t.gasLimit,"gasLimit"),t.to||"0x",y0(t.value,"value"),t.data],a=Ie;if(t.chainId!=Ie)a=L(t.chainId,"tx.chainId"),T(!e||e.networkV==null||e.legacyChainId===a,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let s=t.signature.legacyChainId;s!=null&&(a=s)}if(!e)return a!==Ie&&(n.push(G0(a)),n.push("0x"),n.push("0x")),Nt(n);let r=BigInt(27+e.yParity);return a!==Ie?r=ge.getChainIdV(a,e.v):BigInt(e.v)!==r&&T(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(G0(r)),n.push(G0(e.r)),n.push(G0(e.s)),Nt(n)}function io(t,e){let n;try{if(n=ar(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{T(!1,"invalid yParity","yParity",e[0])}let a=Ue(e[1],32),r=Ue(e[2],32),s=ge.from({r:a,s:r,yParity:n});t.signature=s}function ix(t){let e=ta(J(t).slice(1));T(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",k(t));let n={type:2,chainId:D0(e[0],"chainId"),nonce:ar(e[1],"nonce"),maxPriorityFeePerGas:D0(e[2],"maxPriorityFeePerGas"),maxFeePerGas:D0(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:D0(e[4],"gasLimit"),to:I1(e[5]),value:D0(e[6],"value"),data:k(e[7]),accessList:ro(e[8],"accessList")};return e.length===9||io(n,e.slice(9)),n}function ox(t,e){let n=[y0(t.chainId,"chainId"),y0(t.nonce,"nonce"),y0(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),y0(t.maxFeePerGas||0,"maxFeePerGas"),y0(t.gasLimit,"gasLimit"),t.to||"0x",y0(t.value,"value"),t.data,so(t.accessList||[])];return e&&(n.push(y0(e.yParity,"yParity")),n.push(G0(e.r)),n.push(G0(e.s))),l0(["0x02",Nt(n)])}function cx(t){let e=ta(J(t).slice(1));T(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",k(t));let n={type:1,chainId:D0(e[0],"chainId"),nonce:ar(e[1],"nonce"),gasPrice:D0(e[2],"gasPrice"),gasLimit:D0(e[3],"gasLimit"),to:I1(e[4]),value:D0(e[5],"value"),data:k(e[6]),accessList:ro(e[7],"accessList")};return e.length===8||io(n,e.slice(8)),n}function dx(t,e){let n=[y0(t.chainId,"chainId"),y0(t.nonce,"nonce"),y0(t.gasPrice||0,"gasPrice"),y0(t.gasLimit,"gasLimit"),t.to||"0x",y0(t.value,"value"),t.data,so(t.accessList||[])];return e&&(n.push(y0(e.yParity,"recoveryParam")),n.push(G0(e.r)),n.push(G0(e.s))),l0(["0x01",Nt(n)])}function fx(t){let e=ta(J(t).slice(1)),n="3",a=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";let s=e[1],i=e[2],o=e[3];T(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),T(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),T(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),T(s.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",e),T(s.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",e),a=[];for(let c=0;c<e[1].length;c++)a.push({data:s[c],commitment:i[c],proof:o[c]});e=e[0]}T(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",k(t));let r={type:3,chainId:D0(e[0],"chainId"),nonce:ar(e[1],"nonce"),maxPriorityFeePerGas:D0(e[2],"maxPriorityFeePerGas"),maxFeePerGas:D0(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:D0(e[4],"gasLimit"),to:I1(e[5]),value:D0(e[6],"value"),data:k(e[7]),accessList:ro(e[8],"accessList"),maxFeePerBlobGas:D0(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};a&&(r.blobs=a),T(r.to!=null,`invalid address for transaction type: ${n}`,"data",t),T(Array.isArray(r.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<r.blobVersionedHashes.length;s++)T(i0(r.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||io(r,e.slice(11)),r}function px(t,e,n){let a=[y0(t.chainId,"chainId"),y0(t.nonce,"nonce"),y0(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),y0(t.maxFeePerGas||0,"maxFeePerGas"),y0(t.gasLimit,"gasLimit"),t.to||Fn,y0(t.value,"value"),t.data,so(t.accessList||[]),y0(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ax(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(a.push(y0(e.yParity,"yParity")),a.push(G0(e.r)),a.push(G0(e.s)),n)?l0(["0x03",Nt([a,n.map(r=>r.data),n.map(r=>r.commitment),n.map(r=>r.proof)])]):l0(["0x03",Nt(a)])}function ux(t){let e=ta(J(t).slice(1));T(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",k(t));let n={type:4,chainId:D0(e[0],"chainId"),nonce:ar(e[1],"nonce"),maxPriorityFeePerGas:D0(e[2],"maxPriorityFeePerGas"),maxFeePerGas:D0(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:D0(e[4],"gasLimit"),to:I1(e[5]),value:D0(e[6],"value"),data:k(e[7]),accessList:ro(e[8],"accessList"),authorizationList:tx(e[9],"authorizationList")};return e.length===10||io(n,e.slice(10)),n}function bx(t,e){let n=[y0(t.chainId,"chainId"),y0(t.nonce,"nonce"),y0(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),y0(t.maxFeePerGas||0,"maxFeePerGas"),y0(t.gasLimit,"gasLimit"),t.to||"0x",y0(t.value,"value"),t.data,so(t.accessList||[]),nx(t.authorizationList||[])];return e&&(n.push(y0(e.yParity,"yParity")),n.push(G0(e.r)),n.push(G0(e.s))),l0(["0x04",Nt(n)])}var pn=class t{#e;#t;#n;#a;#r;#i;#s;#o;#b;#d;#l;#y;#c;#f;#p;#u;#h;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:T(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?Fn:e}set to(e){this.#t=e==null?null:r0(e)}get nonce(){return this.#a}set nonce(e){this.#a=n0(e,"value")}get gasLimit(){return this.#r}set gasLimit(e){this.#r=L(e)}get gasPrice(){let e=this.#i;return e==null&&(this.type===0||this.type===1)?Ie:e}set gasPrice(e){this.#i=e==null?null:L(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#s;return e??(this.type===2||this.type===3?Ie:null)}set maxPriorityFeePerGas(e){this.#s=e==null?null:L(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#o;return e??(this.type===2||this.type===3?Ie:null)}set maxFeePerGas(e){this.#o=e==null?null:L(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=k(e)}get value(){return this.#b}set value(e){this.#b=L(e,"value")}get chainId(){return this.#d}set chainId(e){this.#d=L(e)}get signature(){return this.#l||null}set signature(e){this.#l=e==null?null:ge.from(e)}get accessList(){let e=this.#y||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#y=e==null?null:et(e)}get authorizationList(){let e=this.#h||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#h=e==null?null:e.map(n=>C1(n))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?Ie:e}set maxFeePerBlobGas(e){this.#c=e==null?null:L(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#f;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){T(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)T(i0(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#f=e}get blobs(){return this.#u==null?null:this.#u.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#u=null;return}let n=[],a=[];for(let r=0;r<e.length;r++){let s=e[r];if(Xn(s)){_(this.#p,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let i=J(s);if(T(i.length<=xf,"blob is too large",`blobs[${r}]`,s),i.length!==xf){let d=new Uint8Array(xf);d.set(i),i=d}let o=this.#p.blobToKzgCommitment(i),c=k(this.#p.computeBlobKzgProof(i,o));n.push({data:k(i),commitment:k(o),proof:c}),a.push(Jl(1,o))}else{let i=k(s.commitment);n.push({data:k(s.data),commitment:i,proof:k(s.proof)}),a.push(Jl(1,i))}}this.#u=n,this.#f=a}get kzg(){return this.#p}set kzg(e){e==null?this.#p=null:this.#p=ex(e)}constructor(){this.#e=null,this.#t=null,this.#a=0,this.#r=Ie,this.#i=null,this.#s=null,this.#o=null,this.#n="0x",this.#b=Ie,this.#d=Ie,this.#l=null,this.#y=null,this.#c=null,this.#f=null,this.#p=null,this.#u=null,this.#h=null}get hash(){return this.signature==null?null:h0(this.#m(!0,!1))}get unsignedHash(){return h0(this.unsignedSerialized)}get from(){return this.signature==null?null:Tf(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:bt.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m(e,n){_(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let a=e?this.signature:null;switch(this.inferType()){case 0:return sx(this,a);case 1:return dx(this,a);case 2:return ox(this,a);case 3:return px(this,a,n?this.blobs:null);case 4:return bx(this,a)}_(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,a=this.accessList!=null,r=this.#c!=null||this.#f;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&_(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),_(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),_(this.type!==0||!a,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),a||s.push(0)):a?(s.push(1),s.push(2)):(r&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return t.from(this)}toJSON(){let e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new t;if(typeof e=="string"){let a=J(e);if(a[0]>=127)return t.from(rx(a));switch(a[0]){case 1:return t.from(cx(a));case 2:return t.from(ix(a));case 3:return t.from(fx(a));case 4:return t.from(ux(a))}_(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let n=new t;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=ge.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(T(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),T(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(T(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),T(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};function Mt(t){return h0(me(t))}var lx="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",Ql=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),ql=4;function yx(t){let e=0;function n(){return t[e++]<<8|t[e++]}let a=n(),r=1,s=[0,1];for(let I=1;I<a;I++)s.push(r+=n());let i=n(),o=e;e+=i;let c=0,d=0;function f(){return c==0&&(d=d<<8|t[e++],c=8),d>>--c&1}let p=31,u=2**p,b=u>>>1,l=b>>1,y=u-1,m=0;for(let I=0;I<p;I++)m=m<<1|f();let h=[],g=0,x=u;for(;;){let I=Math.floor(((m-g+1)*r-1)/x),E=0,v=a;for(;v-E>1;){let D=E+v>>>1;I<s[D]?v=D:E=D}if(E==0)break;h.push(E);let P=g+Math.floor(x*s[E]/r),U=g+Math.floor(x*s[E+1]/r)-1;for(;((P^U)&b)==0;)m=m<<1&y|f(),P=P<<1&y,U=U<<1&y|1;for(;P&~U&l;)m=m&b|m<<1&y>>>1|f(),P=P<<1^b,U=(U^b)<<1|b|1;g=P,x=1+U-P}let C=a-4;return h.map(I=>{switch(I-C){case 3:return C+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return C+256+(t[o++]<<8|t[o++]);case 1:return C+t[o++];default:return I-1}})}function mx(t){let e=0;return()=>t[e++]}function ty(t){return mx(yx(hx(t)))}function hx(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((r,s)=>e[r.charCodeAt(0)]=s);let n=t.length,a=new Uint8Array(6*n>>3);for(let r=0,s=0,i=0,o=0;r<n;r++)o=o<<6|e[t.charCodeAt(r)],i+=6,i>=8&&(a[s++]=o>>(i-=8));return a}function gx(t){return t&1?~t>>1:t>>1}function Tx(t,e){let n=Array(t);for(let a=0,r=0;a<t;a++)n[a]=r+=gx(e());return n}function Ps(t,e=0){let n=[];for(;;){let a=t(),r=t();if(!r)break;e+=a;for(let s=0;s<r;s++)n.push(e+s);e+=r+1}return n}function ny(t){return _s(()=>{let e=Ps(t);if(e.length)return e})}function ay(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(xx(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(wx(n,t))}return e.flat()}function _s(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function ry(t,e,n){let a=Array(t).fill().map(()=>[]);for(let r=0;r<e;r++)Tx(t,n).forEach((s,i)=>a[i].push(s));return a}function xx(t,e){let n=1+e(),a=e(),r=_s(e);return ry(r.length,1+t,e).flatMap((i,o)=>{let[c,...d]=i;return Array(r[o]).fill().map((f,p)=>{let u=p*a;return[c+p*n,d.map(b=>b+u)]})})}function wx(t,e){let n=1+e();return ry(n,1+t,e).map(r=>[r[0],r.slice(1)])}function Ex(t){let e=[],n=Ps(t);return r(a([]),[]),e;function a(s){let i=t(),o=_s(()=>{let c=Ps(t).map(d=>n[d]);if(c.length)return a(c)});return{S:i,B:o,Q:s}}function r({S:s,B:i},o,c){if(!(s&4&&c===o[o.length-1])){s&2&&(c=o[o.length-1]),s&1&&e.push(o);for(let d of i)for(let f of d.Q)r(d,[...o,f],c)}}}function Ax(t){return t.toString(16).toUpperCase().padStart(2,"0")}function sy(t){return`{${Ax(t)}}`}function vx(t){let e=[];for(let n=0,a=t.length;n<a;){let r=t.codePointAt(n);n+=r<65536?1:2,e.push(r)}return e}function S1(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let a=[];for(let r=0;r<n;)a.push(String.fromCodePoint(...t.slice(r,r+=4096)));return a.join("")}function Cx(t,e){let n=t.length,a=n-e.length;for(let r=0;a==0&&r<n;r++)a=t[r]-e[r];return a}var Ix="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",Ss=44032,co=4352,fo=4449,po=4519,iy=19,oy=21,N1=28,uo=oy*N1,Px=iy*uo,_x=Ss+Px,Sx=co+iy,Nx=fo+oy,Dx=po+N1;function Cs(t){return t>>24&255}function cy(t){return t&16777215}var Ef,Zl,Af,oo;function Mx(){let t=ty(Ix);Ef=new Map(ny(t).flatMap((e,n)=>e.map(a=>[a,n+1<<24]))),Zl=new Set(Ps(t)),Af=new Map,oo=new Map;for(let[e,n]of ay(t)){if(!Zl.has(e)&&n.length==2){let[a,r]=n,s=oo.get(a);s||(s=new Map,oo.set(a,s)),s.set(r,e)}Af.set(e,n.reverse())}}function dy(t){return t>=Ss&&t<_x}function Ox(t,e){if(t>=co&&t<Sx&&e>=fo&&e<Nx)return Ss+(t-co)*uo+(e-fo)*N1;if(dy(t)&&e>po&&e<Dx&&(t-Ss)%N1==0)return t+(e-po);{let n=oo.get(t);return n&&(n=n.get(e),n)?n:-1}}function fy(t){Ef||Mx();let e=[],n=[],a=!1;function r(s){let i=Ef.get(s);i&&(a=!0,s|=i),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(dy(s)){let i=s-Ss,o=i/uo|0,c=i%uo/N1|0,d=i%N1;r(co+o),r(fo+c),d>0&&r(po+d)}else{let i=Af.get(s);i?n.push(...i):r(s)}if(!n.length)break;s=n.pop()}if(a&&e.length>1){let s=Cs(e[0]);for(let i=1;i<e.length;i++){let o=Cs(e[i]);if(o==0||s<=o){s=o;continue}let c=i-1;for(;;){let d=e[c+1];if(e[c+1]=e[c],e[c]=d,!c||(s=Cs(e[--c]),s<=o))break}s=Cs(e[i])}}return e}function kx(t){let e=[],n=[],a=-1,r=0;for(let s of t){let i=Cs(s),o=cy(s);if(a==-1)i==0?a=o:e.push(o);else if(r>0&&r>=i)i==0?(e.push(a,...n),n.length=0,a=o):n.push(o),r=i;else{let c=Ox(a,o);c>=0?a=c:r==0&&i==0?(e.push(a),a=o):(n.push(o),r=i)}}return a>=0&&e.push(a,...n),e}function py(t){return fy(t).map(cy)}function Rx(t){return kx(fy(t))}var Xl=45;var uy=".",by=65039,ly=1,bo=t=>Array.from(t);function Ns(t,e){return t.P.has(e)||t.Q.has(e)}var vf=class extends Array{get is_emoji(){return!0}},Cf,yy,sr,If,my,Bx,_1,wf,P1,rr,ey,Pf;function _f(){if(Cf)return;let t=ty(lx),e=()=>Ps(t),n=()=>new Set(e()),a=(f,p)=>p.forEach(u=>f.add(u));Cf=new Map(ay(t)),yy=n(),sr=e(),If=new Set(e().map(f=>sr[f])),sr=new Set(sr),my=n(),Bx=n();let r=ny(t),s=t(),i=()=>{let f=new Set;return e().forEach(p=>a(f,r[p])),a(f,e()),f};_1=_s(f=>{let p=_s(t).map(u=>u+96);if(p.length){let u=f>=s;p[0]-=32,p=S1(p),u&&(p=`Restricted[${p}]`);let b=i(),l=i(),y=!t();return{N:p,P:b,Q:l,M:y,R:u}}}),wf=n(),P1=new Map;let o=e().concat(bo(wf)).sort((f,p)=>f-p);o.forEach((f,p)=>{let u=t(),b=o[p]=u?o[p-u]:{V:[],M:new Map};b.V.push(f),wf.has(f)||P1.set(f,b)});for(let{V:f,M:p}of new Set(P1.values())){let u=[];for(let l of f){let y=_1.filter(h=>Ns(h,l)),m=u.find(({G:h})=>y.some(g=>h.has(g)));m||(m={G:new Set,V:[]},u.push(m)),m.V.push(l),a(m.G,y)}let b=u.flatMap(l=>bo(l.G));for(let{G:l,V:y}of u){let m=new Set(b.filter(h=>!l.has(h)));for(let h of y)p.set(h,m)}}rr=new Set;let c=new Set,d=f=>rr.has(f)?c.add(f):rr.add(f);for(let f of _1){for(let p of f.P)d(p);for(let p of f.Q)d(p)}for(let f of rr)!P1.has(f)&&!c.has(f)&&P1.set(f,ly);a(rr,py(rr)),ey=Ex(t).map(f=>vf.from(f)).sort(Cx),Pf=new Map;for(let f of ey){let p=[Pf];for(let u of f){let b=p.map(l=>{let y=l.get(u);return y||(y=new Map,l.set(u,y)),y});u===by?p.push(...b):p=b}for(let u of p)u.V=f}}function Sf(t){return(hy(t)?"":`${Nf(lo([t]))} `)+sy(t)}function Nf(t){return`"${t}"\u200E`}function Fx(t){if(t.length>=4&&t[2]==Xl&&t[3]==Xl)throw new Error(`invalid label extension: "${S1(t.slice(0,4))}"`)}function Lx(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Ux(t){let e=t[0],n=Ql.get(e);if(n)throw Is(`leading ${n}`);let a=t.length,r=-1;for(let s=1;s<a;s++){e=t[s];let i=Ql.get(e);if(i){if(r==s)throw Is(`${n} + ${i}`);r=s+1,n=i}}if(r==a)throw Is(`trailing ${n}`)}function lo(t,e=1/0,n=sy){let a=[];Hx(t[0])&&a.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let r=0,s=t.length;for(let i=0;i<s;i++){let o=t[i];hy(o)&&(a.push(S1(t.slice(r,i))),a.push(n(o)),r=i+1)}return a.push(S1(t.slice(r,s))),a.join("")}function Hx(t){return _f(),sr.has(t)}function hy(t){return _f(),my.has(t)}function gy(t){return Kx(Gx(t,Rx,$x))}function Gx(t,e,n){if(!t)return[];_f();let a=0;return t.split(uy).map(r=>{let s=vx(r),i={input:s,offset:a};a+=s.length+1;try{let o=i.tokens=jx(s,e,n),c=o.length,d;if(!c)throw new Error("empty label");let f=i.output=o.flat();if(Lx(f),!(i.emoji=c>1||o[0].is_emoji)&&f.every(u=>u<128))Fx(f),d="ASCII";else{let u=o.flatMap(b=>b.is_emoji?[]:b);if(!u.length)d="Emoji";else{if(sr.has(f[0]))throw Is("leading combining mark");for(let y=1;y<c;y++){let m=o[y];if(!m.is_emoji&&sr.has(m[0]))throw Is(`emoji + combining mark: "${S1(o[y-1])} + ${lo([m[0]])}"`)}Ux(f);let b=bo(new Set(u)),[l]=zx(b);Wx(l,u),Vx(l,b),d=l.N}}i.type=d}catch(o){i.error=o}return i})}function Vx(t,e){let n,a=[];for(let r of e){let s=P1.get(r);if(s===ly)return;if(s){let i=s.M.get(r);if(n=n?n.filter(o=>i.has(o)):bo(i),!n.length)return}else a.push(r)}if(n){for(let r of n)if(a.every(s=>Ns(r,s)))throw new Error(`whole-script confusable: ${t.N}/${r.N}`)}}function zx(t){let e=_1;for(let n of t){let a=e.filter(r=>Ns(r,n));if(!a.length)throw _1.some(r=>Ns(r,n))?xy(e[0],n):Ty(n);if(e=a,a.length==1)break}return e}function Kx(t){return t.map(({input:e,error:n,output:a})=>{if(n){let r=n.message;throw new Error(t.length==1?r:`Invalid label ${Nf(lo(e,63))}: ${r}`)}return S1(a)}).join(uy)}function Ty(t){return new Error(`disallowed character: ${Sf(t)}`)}function xy(t,e){let n=Sf(e),a=_1.find(r=>r.P.has(e));return a&&(n=`${a.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Is(t){return new Error(`illegal placement: ${t}`)}function Wx(t,e){for(let n of e)if(!Ns(t,n))throw xy(t,n);if(t.M){let n=py(e);for(let a=1,r=n.length;a<r;a++)if(If.has(n[a])){let s=a+1;for(let i;s<r&&If.has(i=n[s]);s++)for(let o=a;o<s;o++)if(n[o]==i)throw new Error(`duplicate non-spacing marks: ${Sf(i)}`);if(s-a>ql)throw new Error(`excessive non-spacing marks: ${Nf(lo(n.slice(a-1,s)))} (${s-a}/${ql})`);a=s}}}function jx(t,e,n){let a=[],r=[];for(t=t.slice().reverse();t.length;){let s=Yx(t);if(s)r.length&&(a.push(e(r)),r=[]),a.push(n(s));else{let i=t.pop();if(rr.has(i))r.push(i);else{let o=Cf.get(i);if(o)r.push(...o);else if(!yy.has(i))throw Ty(i)}}}return r.length&&a.push(e(r)),a}function $x(t){return t.filter(e=>e!=by)}function Yx(t,e){let n=Pf,a,r=t.length;for(;r&&(n=n.get(t[--r]),!!n);){let{V:s}=n;s&&(a=s,e&&e.push(...t.slice(r).reverse()),t.length=r)}return a}var Ey=new Uint8Array(32);Ey.fill(0);function wy(t){return T(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Ay(t){let e=me(Df(t)),n=[];if(t.length===0)return n;let a=0;for(let r=0;r<e.length;r++)e[r]===46&&(n.push(wy(e.slice(a,r))),a=r+1);return T(a<e.length,"invalid ENS name; empty component","name",t),n.push(wy(e.slice(a))),n}function Df(t){try{if(t.length===0)throw new Error("empty label");return gy(t)}catch(e){T(!1,`invalid ENS name (${e.message})`,"name",t)}}function ir(t){T(typeof t=="string","invalid ENS name; not a string","name",t),T(t.length,"invalid ENS name (empty label)","name",t);let e=Ey,n=Ay(t);for(;n.length;)e=h0(l0([e,h0(n.pop())]));return k(e)}function yo(t,e){let n=e??63;return T(n<=255,"DNS encoded label cannot exceed 255","length",n),k(l0(Ay(t).map(a=>{T(a.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);let r=new Uint8Array(a.length+1);return r.set(a,1),r[0]=r.length-1,r})))+"00"}function mo(t){return typeof t=="string"&&(t=me(t)),h0(l0([me(uf),me(String(t.length)),t]))}var Py=new Uint8Array(32);Py.fill(0);var Jx=BigInt(-1),_y=BigInt(0),Sy=BigInt(1),Qx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function qx(t){let e=J(t),n=e.length%32;return n?l0([e,Py.slice(n)]):k(e)}var Zx=$e(Sy,32),Xx=$e(_y,32),vy={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Mf=["name","version","chainId","verifyingContract","salt"];function Cy(t){return function(e){return T(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var ew={name:Cy("name"),version:Cy("version"),chainId:function(t){let e=L(t,"domain.chainId");return T(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):q0(e)},verifyingContract:function(t){try{return r0(t).toLowerCase()}catch{}T(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=J(t,"domain.salt");return T(e.length===32,'invalid domain value "salt"',"domain.salt",t),k(e)}};function Of(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let n=e[1]==="",a=parseInt(e[2]);T(a%8===0&&a!==0&&a<=256&&e[2]===String(a),"invalid numeric width","type",t);let r=Nn(Qx,n?a-1:a),s=n?(r+Sy)*Jx:_y;return function(i){let o=L(i,"value");return T(o>=s&&o<=r,`value out-of-bounds for ${t}`,"value",o),$e(n?T1(o,256):o,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let n=parseInt(e[1]);return T(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(a){let r=J(a);return T(r.length===n,`invalid length for ${t}`,"value",a),qx(a)}}}switch(t){case"address":return function(e){return Ue(r0(e),32)};case"bool":return function(e){return e?Zx:Xx};case"bytes":return function(e){return h0(e)};case"string":return function(e){return Mt(e)}}return null}function Iy(t,e){return`${t}(${e.map(({name:n,type:a})=>a+" "+n).join(",")})`}function ho(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Ln=class t{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;let n=new Map,a=new Map,r=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:d,type:f})=>{let{base:p,index:u}=ho(f);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:d,type:p+(u||"")}}),n.set(c,new Set),a.set(c,[]),r.set(c,new Set)}),this.#e=JSON.stringify(s);for(let c in s){let d=new Set;for(let f of s[c]){T(!d.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),d.add(f.name);let p=ho(f.type).base;T(p!==c,`circular type reference to ${JSON.stringify(p)}`,"types",e),!Of(p)&&(T(a.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),a.get(p).push(c),n.get(c).add(p))}}let i=Array.from(a.keys()).filter(c=>a.get(c).length===0);T(i.length!==0,"missing primary type","types",e),T(i.length===1,`ambiguous primary types or unused types: ${i.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),V(this,{primaryType:i[0]});function o(c,d){T(!d.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),d.add(c);for(let f of n.get(c))if(a.has(f)){o(f,d);for(let p of d)r.get(p).add(f)}d.delete(c)}o(this.primaryType,new Set);for(let[c,d]of r){let f=Array.from(d);f.sort(),this.#t.set(c,Iy(c,s[c])+f.map(p=>Iy(p,s[p])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#a(e),this.#n.set(e,n)),n}#a(e){{let r=Of(e);if(r)return r}let n=ho(e).array;if(n){let r=n.prefix,s=this.getEncoder(r);return i=>{T(n.count===-1||n.count===i.length,`array length mismatch; expected length ${n.count}`,"value",i);let o=i.map(s);return this.#t.has(r)&&(o=o.map(h0)),h0(l0(o))}}let a=this.types[e];if(a){let r=Mt(this.#t.get(e));return s=>{let i=a.map(({name:o,type:c})=>{let d=this.getEncoder(c)(s[o]);return this.#t.has(c)?h0(d):d});return i.unshift(r),l0(i)}}T(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let n=this.#t.get(e);return T(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return h0(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,a){if(Of(e))return a(e,n);let r=ho(e).array;if(r)return T(r.count===-1||r.count===n.length,`array length mismatch; expected length ${r.count}`,"value",n),n.map(i=>this._visit(r.prefix,i,a));let s=this.types[e];if(s)return s.reduce((i,{name:o,type:c})=>(i[o]=this._visit(c,n[o],a),i),{});T(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,n,a){return t.from(n).hashStruct(e,a)}static hashDomain(e){let n=[];for(let a in e){if(e[a]==null)continue;let r=vy[a];T(r,`invalid typed-data domain key: ${JSON.stringify(a)}`,"domain",e),n.push({name:a,type:r})}return n.sort((a,r)=>Mf.indexOf(a.name)-Mf.indexOf(r.name)),t.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,a){return l0(["0x1901",t.hashDomain(e),t.from(n).hash(a)])}static hash(e,n,a){return h0(t.encode(e,n,a))}static async resolveNames(e,n,a,r){e=Object.assign({},e);for(let o in e)e[o]==null&&delete e[o];let s={};e.verifyingContract&&!i0(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");let i=t.from(n);i.visit(a,(o,c)=>(o==="address"&&!i0(c,20)&&(s[c]="0x"),c));for(let o in s)s[o]=await r(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),a=i.visit(a,(o,c)=>o==="address"&&s[c]?s[c]:c),{domain:e,value:a}}static getPayload(e,n,a){t.hashDomain(e);let r={},s=[];Mf.forEach(c=>{let d=e[c];d!=null&&(r[c]=ew[c](d),s.push({name:c,type:vy[c]}))});let i=t.from(n);n=i.types;let o=Object.assign({},n);return T(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),o.EIP712Domain=s,i.encode(a),{types:o,domain:r,primaryType:i.primaryType,message:i.visit(a,(c,d)=>{if(c.match(/^bytes(\d*)/))return k(J(d));if(c.match(/^u?int/))return L(d).toString();switch(c){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return T(typeof d=="string","invalid string","value",d),d}T(!1,"unsupported type","type",c)})}}};function Ye(t){let e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}var rw="external public payable override",sw=Ye(rw.split(" ")),Uy="constant external internal payable private public pure view override",iw=Ye(Uy.split(" ")),Hy="constructor error event fallback function receive struct",Gy=Ye(Hy.split(" ")),Vy="calldata memory storage payable indexed",ow=Ye(Vy.split(" ")),cw="tuple returns",dw=[Hy,Vy,cw,Uy].join(" "),fw=Ye(dw.split(" ")),pw={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},uw=new RegExp("^(\\s*)"),bw=new RegExp("^([0-9]+)"),lw=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),zy=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Ky=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),jt=class t{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new t(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new t(this.#t.slice(e,n).map(a=>Object.freeze(Object.assign({},a,{match:a.match-e,linkBack:a.linkBack-e,linkNext:a.linkNext-e}))))}popKeyword(e){let n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let n=[];for(;this.#e<e.match-1;){let a=this.peek().linkNext;n.push(this.#n(this.#e+1,a)),this.#e=a}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;let n=this.peek();return n.type===e?n.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let n=this.#e;n<this.#t.length;n++){let a=this.#t[n];e.push(`${a.type}:${a.text}`)}return`<TokenString ${e.join(" ")}>`}};function ya(t){let e=[],n=i=>{let o=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${o} at ${s}: ${i}`)},a=[],r=[],s=0;for(;s<t.length;){let i=t.substring(s),o=i.match(uw);o&&(s+=o[1].length,i=t.substring(s));let c={depth:a.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let d=pw[i[0]]||"";if(d){if(c.type=d,c.text=i[0],s++,d==="OPEN_PAREN")a.push(e.length-1),r.push(e.length-1);else if(d=="CLOSE_PAREN")a.length===0&&n("no matching open bracket"),c.match=a.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=r.pop(),e[c.linkBack].linkNext=e.length-1;else if(d==="COMMA")c.linkBack=r.pop(),e[c.linkBack].linkNext=e.length-1,r.push(e.length-1);else if(d==="OPEN_BRACKET")c.type="BRACKET";else if(d==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let p=e.pop().text;f=p+f,e[e.length-1].value=n0(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(o=i.match(lw),o){if(c.text=o[1],s+=c.text.length,fw.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Ky)){c.type="TYPE";continue}c.type="ID";continue}if(o=i.match(bw),o){c.text=o[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${s}`)}return new jt(e.map(i=>Object.freeze(i)))}function Ny(t,e){let n=[];for(let a in e.keys())t.has(a)&&n.push(a);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function go(t,e){if(e.peekKeyword(Gy)){let n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Hn(t,e){let n=new Set;for(;;){let a=t.peekType("KEYWORD");if(a==null||e&&!e.has(a))break;if(t.pop(),n.has(a))throw new Error(`duplicate keywords: ${JSON.stringify(a)}`);n.add(a)}return Object.freeze(n)}function Wy(t){let e=Hn(t,iw);return Ny(e,Ye("constant payable nonpayable".split(" "))),Ny(e,Ye("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Un(t,e){return t.popParams().map(n=>xe.from(n,e))}function jy(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return L(t.pop().text);throw new Error("invalid gas")}return null}function or(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}var yw=new RegExp(/^(.*)\[([0-9]*)\]$/);function Dy(t){let e=t.match(Ky);if(T(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let n=parseInt(e[2]);T(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){let n=parseInt(e[3]);T(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}var Z0={},tt=Symbol.for("_ethers_internal"),My="_ParamTypeInternal",Oy="_ErrorInternal",ky="_EventInternal",Ry="_ConstructorInternal",By="_FallbackInternal",Fy="_FunctionInternal",Ly="_StructInternal",xe=class t{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,a,r,s,i,o,c){if(Sn(e,Z0,"ParamType"),Object.defineProperty(this,tt,{value:My}),i&&(i=Object.freeze(i.slice())),r==="array"){if(o==null||c==null)throw new Error("")}else if(o!=null||c!=null)throw new Error("");if(r==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");V(this,{name:n,type:a,baseType:r,indexed:s,components:i,arrayLength:o,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let a=this.name||"";if(this.isArray()){let s=JSON.parse(this.arrayChildren.format("json"));return s.name=a,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}let r={type:this.baseType==="tuple"?"tuple":this.type,name:a};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(r)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(a=>a.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let a=this;return e.map(r=>a.arrayChildren.walk(r,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let a=this;return e.map((r,s)=>a.components[s].walk(r,n))}return n(this.type,e)}#e(e,n,a,r){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");let i=this.arrayChildren,o=n.slice();o.forEach((c,d)=>{i.#e(e,c,a,f=>{o[d]=f})}),r(o);return}if(this.isTuple()){let i=this.components,o;if(Array.isArray(n))o=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");o=i.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((c,d)=>{i[d].#e(e,c,a,f=>{o[d]=f})}),r(o);return}let s=a(this.type,n);s.then?e.push((async function(){r(await s)})()):r(s)}async walkAsync(e,n){let a=[],r=[e];return this.#e(a,e,n,s=>{r[0]=s}),a.length&&await Promise.all(a),r[0]}static from(e,n){if(t.isParamType(e))return e;if(typeof e=="string")try{return t.from(ya(e),n)}catch{T(!1,"invalid param type","obj",e)}else if(e instanceof jt){let o="",c="",d=null;Hn(e,Ye(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",d=e.popParams().map(y=>t.from(y)),o=`tuple(${d.map(y=>y.format()).join(",")})`):(o=Dy(e.popType("TYPE")),c=o);let f=null,p=null;for(;e.length&&e.peekType("BRACKET");){let y=e.pop();f=new t(Z0,"",o,c,null,d,p,f),p=y.value,o+=y.text,c="array",d=null}let u=null;if(Hn(e,ow).has("indexed")){if(!n)throw new Error("");u=!0}let l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(Z0,l,o,c,u,d,p,f)}let a=e.name;T(!a||typeof a=="string"&&a.match(zy),"invalid name","obj.name",a);let r=e.indexed;r!=null&&(T(n,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let s=e.type,i=s.match(yw);if(i){let o=parseInt(i[2]||"-1"),c=t.from({type:i[1],components:e.components});return new t(Z0,a||"",s,"array",r,null,o,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){let o=e.components!=null?e.components.map(d=>t.from(d)):null;return new t(Z0,a||"",s,"tuple",r,o,null,null)}return s=Dy(e.type),new t(Z0,a||"",s,s,r,null,null,null)}static isParamType(e){return e&&e[tt]===My}},la=class t{type;inputs;constructor(e,n,a){Sn(e,Z0,"Fragment"),a=Object.freeze(a.slice()),V(this,{type:n,inputs:a})}static from(e){if(typeof e=="string"){try{t.from(JSON.parse(e))}catch{}return t.from(ya(e))}if(e instanceof jt)switch(e.peekKeyword(Gy)){case"constructor":return ua.from(e);case"error":return lt.from(e);case"event":return pa.from(e);case"fallback":case"receive":return Ms.from(e);case"function":return ba.from(e);case"struct":return D1.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return ua.from(e);case"error":return lt.from(e);case"event":return pa.from(e);case"fallback":case"receive":return Ms.from(e);case"function":return ba.from(e);case"struct":return D1.from(e)}_(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}T(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ua.isFragment(e)}static isError(e){return lt.isFragment(e)}static isEvent(e){return pa.isFragment(e)}static isFunction(e){return ba.isFragment(e)}static isStruct(e){return D1.isFragment(e)}},cr=class extends la{name;constructor(e,n,a,r){super(e,n,r),T(typeof a=="string"&&a.match(zy),"invalid identifier","name",a),r=Object.freeze(r.slice()),V(this,{name:a})}};function Ds(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}var lt=class t extends cr{constructor(e,n,a){super(e,"error",n,a),Object.defineProperty(this,tt,{value:Oy})}get selector(){return Mt(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});let n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Ds(e,this.inputs)),n.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")return t.from(ya(e));if(e instanceof jt){let n=go("error",e),a=Un(e);return or(e),new t(Z0,n,a)}return new t(Z0,e.name,e.inputs?e.inputs.map(xe.from):[])}static isFragment(e){return e&&e[tt]===Oy}},pa=class t extends cr{anonymous;constructor(e,n,a,r){super(e,"event",n,a),Object.defineProperty(this,tt,{value:ky}),V(this,{anonymous:r})}get topicHash(){return Mt(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});let n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+Ds(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(r=>xe.from(r)),new t(Z0,e,n,!1).topicHash}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(ya(e))}catch{T(!1,"invalid event fragment","obj",e)}else if(e instanceof jt){let n=go("event",e),a=Un(e,!0),r=!!Hn(e,Ye(["anonymous"])).has("anonymous");return or(e),new t(Z0,n,a,r)}return new t(Z0,e.name,e.inputs?e.inputs.map(n=>xe.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[tt]===ky}},ua=class t extends la{payable;gas;constructor(e,n,a,r,s){super(e,n,a),Object.defineProperty(this,tt,{value:Ry}),V(this,{payable:r,gas:s})}format(e){if(_(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});let n=[`constructor${Ds(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(ya(e))}catch{T(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof jt){Hn(e,Ye(["constructor"]));let n=Un(e),a=!!Hn(e,sw).has("payable"),r=jy(e);return or(e),new t(Z0,"constructor",n,a,r)}return new t(Z0,"constructor",e.inputs?e.inputs.map(xe.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[tt]===Ry}},Ms=class t extends la{payable;constructor(e,n,a){super(e,"fallback",n),Object.defineProperty(this,tt,{value:By}),V(this,{payable:a})}format(e){let n=this.inputs.length===0?"receive":"fallback";if(e==="json"){let a=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:a})}return`${n}()${this.payable?" payable":""}`}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(ya(e))}catch{T(!1,"invalid fallback fragment","obj",e)}else if(e instanceof jt){let n=e.toString(),a=e.peekKeyword(Ye(["fallback","receive"]));if(T(a,"type must be fallback or receive","obj",n),e.popKeyword(Ye(["fallback","receive"]))==="receive"){let o=Un(e);return T(o.length===0,"receive cannot have arguments","obj.inputs",o),Hn(e,Ye(["payable"])),or(e),new t(Z0,[],!0)}let s=Un(e);s.length?T(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(o=>o.format("minimal")).join(", ")):s=[xe.from("bytes")];let i=Wy(e);if(T(i==="nonpayable"||i==="payable","fallback cannot be constants","obj.stateMutability",i),Hn(e,Ye(["returns"])).has("returns")){let o=Un(e);T(o.length===1&&o[0].type==="bytes","invalid fallback outputs","obj.outputs",o.map(c=>c.format("minimal")).join(", "))}return or(e),new t(Z0,s,i==="payable")}if(e.type==="receive")return new t(Z0,[],!0);if(e.type==="fallback"){let n=[xe.from("bytes")],a=e.stateMutability==="payable";return new t(Z0,n,a)}T(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[tt]===By}},ba=class t extends cr{constant;outputs;stateMutability;payable;gas;constructor(e,n,a,r,s,i){super(e,"function",n,r),Object.defineProperty(this,tt,{value:Fy}),s=Object.freeze(s.slice()),V(this,{constant:a==="view"||a==="pure",gas:i,outputs:s,payable:a==="payable",stateMutability:a})}get selector(){return Mt(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(e))),outputs:this.outputs.map(a=>JSON.parse(a.format(e)))});let n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+Ds(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Ds(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(r=>xe.from(r)),new t(Z0,e,"view",n,[],null).selector}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(ya(e))}catch{T(!1,"invalid function fragment","obj",e)}else if(e instanceof jt){let a=go("function",e),r=Un(e),s=Wy(e),i=[];Hn(e,Ye(["returns"])).has("returns")&&(i=Un(e));let o=jy(e);return or(e),new t(Z0,a,s,r,i,o)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new t(Z0,e.name,n,e.inputs?e.inputs.map(xe.from):[],e.outputs?e.outputs.map(xe.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[tt]===Fy}},D1=class t extends cr{constructor(e,n,a){super(e,"struct",n,a),Object.defineProperty(this,tt,{value:Ly})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return t.from(ya(e))}catch{T(!1,"invalid struct fragment","obj",e)}else if(e instanceof jt){let n=go("struct",e),a=Un(e);return or(e),new t(Z0,n,a)}return new t(Z0,e.name,e.inputs?e.inputs.map(xe.from):[])}static isFragment(e){return e&&e[tt]===Ly}};var $t=new Map;$t.set(0,"GENERIC_PANIC");$t.set(1,"ASSERT_FALSE");$t.set(17,"OVERFLOW");$t.set(18,"DIVIDE_BY_ZERO");$t.set(33,"ENUM_RANGE_ERROR");$t.set(34,"BAD_STORAGE_DATA");$t.set(49,"STACK_UNDERFLOW");$t.set(50,"ARRAY_RANGE_ERROR");$t.set(65,"OUT_OF_MEMORY");$t.set(81,"UNINITIALIZED_FUNCTION_CALL");var mw=new RegExp(/^bytes([0-9]*)$/),hw=new RegExp(/^(u?int)([0-9]*)$/),kf=null,$y=1024;function gw(t,e,n,a){let r="missing revert data",s=null,i=null,o=null;if(n){r="execution reverted";let d=J(n);if(n=k(n),d.length===0)r+=" (no data present; likely require(false) occurred",s="require(false)";else if(d.length%32!==4)r+=" (could not decode reason; invalid data length)";else if(k(d.slice(0,4))==="0x08c379a0")try{s=a.decode(["string"],d.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},r+=`: ${JSON.stringify(s)}`}catch{r+=" (could not decode reason; invalid string data)"}else if(k(d.slice(0,4))==="0x4e487b71")try{let f=Number(a.decode(["uint256"],d.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[f]},s=`Panic due to ${$t.get(f)||"UNKNOWN"}(${f})`,r+=`: ${s}`}catch{r+=" (could not decode panic code)"}else r+=" (unknown custom error)"}let c={to:e.to?r0(e.to):null,data:e.data||"0x"};return e.from&&(c.from=r0(e.from)),T0(r,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:c,invocation:i,revert:o})}var Gn=class t{#e(e){if(e.isArray())return new q5(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new nr(e.components.map(a=>this.#e(a)),e.name);switch(e.baseType){case"address":return new J5(e.name);case"bool":return new Z5(e.name);case"string":return new ao(e.name);case"bytes":return new X5(e.name);case"":return new to(e.name)}let n=e.type.match(hw);if(n){let a=parseInt(n[2]||"256");return T(a!==0&&a<=256&&a%8===0,"invalid "+n[1]+" bit length","param",e),new no(a/8,n[1]==="int",e.name)}if(n=e.type.match(mw),n){let a=parseInt(n[1]);return T(a!==0&&a<=32,"invalid bytes length","param",e),new eo(a,e.name)}T(!1,"invalid type","type",e.type)}getDefaultValue(e){let n=e.map(r=>this.#e(xe.from(r)));return new nr(n,"_").defaultValue()}encode(e,n){h1(n.length,e.length,"types/values length mismatch");let a=e.map(i=>this.#e(xe.from(i))),r=new nr(a,"_"),s=new qa;return r.encode(s,n),s.data}decode(e,n,a){let r=e.map(i=>this.#e(xe.from(i)));return new nr(r,"_").decode(new O5(n,a,$y))}static _setDefaultMaxInflation(e){T(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),$y=e}static defaultAbiCoder(){return kf==null&&(kf=new t),kf}static getBuiltinCallException(e,n,a){return gw(e,n,a,t.defaultAbiCoder())}};var Os=class{fragment;name;signature;topic;args;constructor(e,n,a){let r=e.name,s=e.format();V(this,{fragment:e,name:r,signature:s,topic:n,args:a})}},ks=class{fragment;name;args;signature;selector;value;constructor(e,n,a,r){let s=e.name,i=e.format();V(this,{fragment:e,name:s,args:a,signature:i,selector:n,value:r})}},Rs=class{fragment;name;args;signature;selector;constructor(e,n,a){let r=e.name,s=e.format();V(this,{fragment:e,name:r,args:a,signature:s,selector:n})}},M1=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){V(this,{hash:e,_isIndexed:!0})}},Yy={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Jy={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Yy[t.toString()]&&(e=Yy[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},un=class t{fragments;deploy;fallback;receive;#e;#t;#n;#a;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;let a=[];for(let i of n)try{a.push(la.from(i))}catch{}V(this,{fragments:Object.freeze(a)});let r=null,s=!1;this.#a=this.getAbiCoder(),this.fragments.forEach((i,o)=>{let c;switch(i.type){case"constructor":if(this.deploy)return;V(this,{deploy:i});return;case"fallback":i.inputs.length===0?s=!0:(T(!r||i.payable!==r.payable,"conflicting fallback fragments",`fragments[${o}]`,i),r=i,s=r.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let d=i.format();c.has(d)||c.set(d,i)}),this.deploy||V(this,{deploy:ua.from("constructor()")}),V(this,{fallback:r,receive:s})}format(e){let n=e?"minimal":"full";return this.fragments.map(r=>r.format(n))}formatJson(){let e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Gn.defaultAbiCoder()}#r(e,n,a){if(i0(e)){let s=e.toLowerCase();for(let i of this.#n.values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){let s=[];for(let[i,o]of this.#n)i.split("(")[0]===e&&s.push(o);if(n){let i=n.length>0?n[n.length-1]:null,o=n.length,c=!0;B0.isTyped(i)&&i.type==="overrides"&&(c=!1,o--);for(let d=s.length-1;d>=0;d--){let f=s[d].inputs.length;f!==o&&(!c||f!==o-1)&&s.splice(d,1)}for(let d=s.length-1;d>=0;d--){let f=s[d].inputs;for(let p=0;p<n.length;p++)if(B0.isTyped(n[p])){if(p>=f.length){if(n[p].type==="overrides")continue;s.splice(d,1);break}if(n[p].type!==f[p].baseType){s.splice(d,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){let i=n[n.length-1];(i==null||Array.isArray(i)||typeof i!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&a){let i=s.map(o=>JSON.stringify(o.format())).join(", ");T(!1,`ambiguous function description (i.e. matches ${i})`,"key",e)}return s[0]}let r=this.#n.get(ba.from(e).format());return r||null}getFunctionName(e){let n=this.#r(e,null,!1);return T(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#r(e,null,!1)}getFunction(e,n){return this.#r(e,n||null,!0)}forEachFunction(e){let n=Array.from(this.#n.keys());n.sort((a,r)=>a.localeCompare(r));for(let a=0;a<n.length;a++){let r=n[a];e(this.#n.get(r),a)}}#i(e,n,a){if(i0(e)){let s=e.toLowerCase();for(let i of this.#t.values())if(s===i.topicHash)return i;return null}if(e.indexOf("(")===-1){let s=[];for(let[i,o]of this.#t)i.split("(")[0]===e&&s.push(o);if(n){for(let i=s.length-1;i>=0;i--)s[i].inputs.length<n.length&&s.splice(i,1);for(let i=s.length-1;i>=0;i--){let o=s[i].inputs;for(let c=0;c<n.length;c++)if(B0.isTyped(n[c])&&n[c].type!==o[c].baseType){s.splice(i,1);break}}}if(s.length===0)return null;if(s.length>1&&a){let i=s.map(o=>JSON.stringify(o.format())).join(", ");T(!1,`ambiguous event description (i.e. matches ${i})`,"key",e)}return s[0]}let r=this.#t.get(pa.from(e).format());return r||null}getEventName(e){let n=this.#i(e,null,!1);return T(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#i(e,null,!1)}getEvent(e,n){return this.#i(e,n||null,!0)}forEachEvent(e){let n=Array.from(this.#t.keys());n.sort((a,r)=>a.localeCompare(r));for(let a=0;a<n.length;a++){let r=n[a];e(this.#t.get(r),a)}}getError(e,n){if(i0(e)){let r=e.toLowerCase();if(Jy[r])return lt.from(Jy[r].signature);for(let s of this.#e.values())if(r===s.selector)return s;return null}if(e.indexOf("(")===-1){let r=[];for(let[s,i]of this.#e)s.split("(")[0]===e&&r.push(i);if(r.length===0)return e==="Error"?lt.from("error Error(string)"):e==="Panic"?lt.from("error Panic(uint256)"):null;if(r.length>1){let s=r.map(i=>JSON.stringify(i.format())).join(", ");T(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return r[0]}if(e=lt.from(e).format(),e==="Error(string)")return lt.from("error Error(string)");if(e==="Panic(uint256)")return lt.from("error Panic(uint256)");let a=this.#e.get(e);return a||null}forEachError(e){let n=Array.from(this.#e.keys());n.sort((a,r)=>a.localeCompare(r));for(let a=0;a<n.length;a++){let r=n[a];e(this.#e.get(r),a)}}_decodeParams(e,n){return this.#a.decode(e,n)}_encodeParams(e,n){return this.#a.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){let a=this.getError(e);T(a,"unknown error","fragment",e),e=a}return T(R0(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,R0(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){let a=this.getError(e);T(a,"unknown error","fragment",e),e=a}return l0([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){let a=this.getFunction(e);T(a,"unknown function","fragment",e),e=a}return T(R0(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,R0(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){let a=this.getFunction(e);T(a,"unknown function","fragment",e),e=a}return l0([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){let s=this.getFunction(e);T(s,"unknown function","fragment",e),e=s}let a="invalid length for result data",r=ne(n);if(r.length%32===0)try{return this.#a.decode(e.outputs,r)}catch{a="could not decode result data"}_(!1,a,"BAD_DATA",{value:k(r),info:{method:e.name,signature:e.format()}})}makeError(e,n){let a=J(e,"data"),r=Gn.getBuiltinCallException("call",n,a);if(r.message.startsWith("execution reverted (unknown custom error)")){let o=k(a.slice(0,4)),c=this.getError(o);if(c)try{let d=this.#a.decode(c.inputs,a.slice(4));r.revert={name:c.name,signature:c.format(),args:d},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch{r.message="execution reverted (coult not decode custom error)"}}let i=this.parseTransaction(n);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,n){if(typeof e=="string"){let a=this.getFunction(e);T(a,"unknown function","fragment",e),e=a}return k(this.#a.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){let s=this.getEvent(e);T(s,"unknown event","eventFragment",e),e=s}_(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});let a=[];e.anonymous||a.push(e.topicHash);let r=(s,i)=>s.type==="string"?Mt(i):s.type==="bytes"?h0(k(i)):(s.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":s.type.match(/^u?int/)?i=$e(i):s.type.match(/^bytes/)?i=v5(i,32):s.type==="address"&&this.#a.encode(["address"],[i]),Ue(k(i),32));for(n.forEach((s,i)=>{let o=e.inputs[i];if(!o.indexed){T(s==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?a.push(null):o.baseType==="array"||o.baseType==="tuple"?T(!1,"filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?a.push(s.map(c=>r(o,c))):a.push(r(o,s))});a.length&&a[a.length-1]===null;)a.pop();return a}encodeEventLog(e,n){if(typeof e=="string"){let i=this.getEvent(e);T(i,"unknown event","eventFragment",e),e=i}let a=[],r=[],s=[];return e.anonymous||a.push(e.topicHash),T(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((i,o)=>{let c=n[o];if(i.indexed)if(i.type==="string")a.push(Mt(c));else if(i.type==="bytes")a.push(h0(c));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");a.push(this.#a.encode([i.type],[c]))}else r.push(i),s.push(c)}),{data:this.#a.encode(r,s),topics:a}}decodeEventLog(e,n,a){if(typeof e=="string"){let b=this.getEvent(e);T(b,"unknown event","eventFragment",e),e=b}if(a!=null&&!e.anonymous){let b=e.topicHash;T(i0(a[0],32)&&a[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",a[0]),a=a.slice(1)}let r=[],s=[],i=[];e.inputs.forEach((b,l)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(r.push(xe.from({type:"bytes32",name:b.name})),i.push(!0)):(r.push(b),i.push(!1)):(s.push(b),i.push(!1))});let o=a!=null?this.#a.decode(r,l0(a)):null,c=this.#a.decode(s,n,!0),d=[],f=[],p=0,u=0;return e.inputs.forEach((b,l)=>{let y=null;if(b.indexed)if(o==null)y=new M1(null);else if(i[l])y=new M1(o[u++]);else try{y=o[u++]}catch(m){y=m}else try{y=c[p++]}catch(m){y=m}d.push(y),f.push(b.name||null)}),fn.fromItems(d,f)}parseTransaction(e){let n=J(e.data,"tx.data"),a=L(e.value!=null?e.value:0,"tx.value"),r=this.getFunction(k(n.slice(0,4)));if(!r)return null;let s=this.#a.decode(r.inputs,n.slice(4));return new ks(r,r.selector,s,a)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Os(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){let n=k(e),a=this.getError(R0(n,0,4));if(!a)return null;let r=this.#a.decode(a.inputs,R0(n,4));return new Rs(a,a.selector,r)}static from(e){return e instanceof t?e:typeof e=="string"?new t(JSON.parse(e)):typeof e.formatJson=="function"?new t(e.formatJson()):typeof e.format=="function"?new t(e.format("json")):new t(e)}};var qy=BigInt(0);function O1(t){return t??null}function fe(t){return t==null?null:t.toString()}var k1=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,a){V(this,{gasPrice:O1(e),maxFeePerGas:O1(n),maxPriorityFeePerGas:O1(a)})}toJSON(){let{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:a}=this;return{_type:"FeeData",gasPrice:fe(e),maxFeePerGas:fe(n),maxPriorityFeePerGas:fe(a)}}};function ha(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=k(t.data));let n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let r of n)!(r in t)||t[r]==null||(e[r]=L(t[r],`request.${r}`));let a="type,nonce".split(/,/);for(let r of a)!(r in t)||t[r]==null||(e[r]=n0(t[r],`request.${r}`));return t.accessList&&(e.accessList=et(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(r=>Xn(r)?k(r):Object.assign({},r))),e}var Bs=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(a=>typeof a!="string"?new ma(a,n):a),V(this,{provider:n,hash:O1(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:O1(e.prevRandao),extraData:e.extraData,baseFeePerGas:O1(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(_(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:n,extraData:a,gasLimit:r,gasUsed:s,hash:i,miner:o,prevRandao:c,nonce:d,number:f,parentHash:p,parentBeaconBlockRoot:u,stateRoot:b,receiptsRoot:l,timestamp:y,transactions:m}=this;return{_type:"Block",baseFeePerGas:fe(e),difficulty:fe(n),extraData:a,gasLimit:fe(r),gasUsed:fe(s),blobGasUsed:fe(this.blobGasUsed),excessBlobGas:fe(this.excessBlobGas),hash:i,miner:o,prevRandao:c,nonce:d,number:f,parentHash:p,timestamp:y,parentBeaconBlockRoot:u,stateRoot:b,receiptsRoot:l,transactions:m}}[Symbol.iterator](){let e=0,n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{let a=e.toLowerCase();for(let r of this.#e)if(typeof r=="string"){if(r!==a)continue;n=r;break}else{if(r.hash!==a)continue;n=r;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){let n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(let a of n)if(a.hash===e)return a;T(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Tw(this)}},Yt=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;let a=Object.freeze(e.topics.slice());V(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:a,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:n,blockNumber:a,data:r,index:s,removed:i,topics:o,transactionHash:c,transactionIndex:d}=this;return{_type:"log",address:e,blockHash:n,blockNumber:a,data:r,index:s,removed:i,topics:o,transactionHash:c,transactionIndex:d}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return _(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return _(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return _(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return xw(this)}},dr=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(r=>new Yt(r,n)));let a=qy;e.effectiveGasPrice!=null?a=e.effectiveGasPrice:e.gasPrice!=null&&(a=e.gasPrice),V(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:a,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:n,contractAddress:a,hash:r,index:s,blockHash:i,blockNumber:o,logsBloom:c,logs:d,status:f,root:p}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:o,contractAddress:a,cumulativeGasUsed:fe(this.cumulativeGasUsed),from:n,gasPrice:fe(this.gasPrice),blobGasUsed:fe(this.blobGasUsed),blobGasPrice:fe(this.blobGasPrice),gasUsed:fe(this.gasUsed),hash:r,index:s,logs:d,logsBloom:c,root:p,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Xy(this)}reorderedEvent(e){return _(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Zy(this,e)}},ma=class t{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:n,index:a,hash:r,type:s,to:i,from:o,nonce:c,data:d,signature:f,accessList:p,blobVersionedHashes:u}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:n,blobVersionedHashes:u,chainId:fe(this.chainId),data:d,from:o,gasLimit:fe(this.gasLimit),gasPrice:fe(this.gasPrice),hash:r,maxFeePerGas:fe(this.maxFeePerGas),maxPriorityFeePerGas:fe(this.maxPriorityFeePerGas),maxFeePerBlobGas:fe(this.maxFeePerBlobGas),nonce:c,signature:f,to:i,index:a,type:s,value:fe(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let a=await this.getTransaction();a&&(e=a.blockNumber)}if(e==null)return null;let n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:n,blockNumber:a}=await te({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:a-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){let a=e??1,r=n??0,s=this.#e,i=-1,o=s===-1,c=async()=>{if(o)return null;let{blockNumber:u,nonce:b}=await te({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){s=u;return}if(o)return null;let l=await this.getTransaction();if(!(l&&l.blockNumber!=null))for(i===-1&&(i=s-3,i<this.#e&&(i=this.#e));i<=u;){if(o)return null;let y=await this.provider.getBlock(i,!0);if(y==null)return;for(let m of y)if(m===this.hash)return;for(let m=0;m<y.length;m++){let h=await y.getTransaction(m);if(h.from===this.from&&h.nonce===this.nonce){if(o)return null;let g=await this.provider.getTransactionReceipt(h.hash);if(g==null||u-g.blockNumber+1<a)return;let x="replaced";h.data===this.data&&h.to===this.to&&h.value===this.value?x="repriced":h.data==="0x"&&h.from===h.to&&h.value===qy&&(x="cancelled"),_(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:h.replaceableTransaction(s),hash:h.hash,receipt:g})}}i++}},d=u=>{if(u==null||u.status!==0)return u;_(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:u.to,from:u.from,data:""},receipt:u})},f=await this.provider.getTransactionReceipt(this.hash);if(a===0)return d(f);if(f){if(a===1||await f.confirmations()>=a)return d(f)}else if(await c(),a===0)return null;return await new Promise((u,b)=>{let l=[],y=()=>{l.forEach(h=>h())};if(l.push(()=>{o=!0}),r>0){let h=setTimeout(()=>{y(),b(T0("wait for transaction timeout","TIMEOUT"))},r);l.push(()=>{clearTimeout(h)})}let m=async h=>{if(await h.confirmations()>=a){y();try{u(d(h))}catch(g){b(g)}}};if(l.push(()=>{this.provider.off(this.hash,m)}),this.provider.on(this.hash,m),s>=0){let h=async()=>{try{await c()}catch(g){if(L0(g,"TRANSACTION_REPLACED")){y(),b(g);return}}o||this.provider.once("block",h)};l.push(()=>{this.provider.off("block",h)}),this.provider.once("block",h)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return _(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Xy(this)}reorderedEvent(e){return _(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),_(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Zy(this,e)}replaceableTransaction(e){T(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let n=new t(this,this.provider);return n.#e=e,n}};function Tw(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function Zy(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Xy(t){return{orphan:"drop-transaction",tx:t}}function xw(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var fr=class extends Yt{interface;fragment;args;constructor(e,n,a){super(e,e.provider);let r=n.decodeEventLog(a,e.data,e.topics);V(this,{args:r,fragment:a,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},R1=class extends Yt{error;constructor(e,n){super(e,e.provider),V(this,{error:n})}},To=class extends dr{#e;constructor(e,n,a){super(a,n),this.#e=e}get logs(){return super.logs.map(e=>{let n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new fr(e,this.#e,n)}catch(a){return new R1(e,a)}return e})}},pr=class extends ma{#e;constructor(e,n,a){super(a,n),this.#e=e}async wait(e,n){let a=await super.wait(e,n);return a==null?null:new To(this.#e,this.provider,a)}},B1=class extends ea{log;constructor(e,n,a,r){super(e,n,a),V(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},Fs=class extends B1{constructor(e,n,a,r,s){super(e,n,a,new fr(s,e.interface,r));let i=e.interface.decodeEventLog(r,this.log.data,this.log.topics);V(this,{args:i,fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var em=BigInt(0);function nm(t){return t&&typeof t.call=="function"}function am(t){return t&&typeof t.estimateGas=="function"}function Eo(t){return t&&typeof t.resolveName=="function"}function rm(t){return t&&typeof t.sendTransaction=="function"}function sm(t){if(t!=null){if(Eo(t))return t;if(t.provider)return t.provider}}var Rf=class{#e;fragment;constructor(e,n,a){if(V(this,{fragment:n}),n.inputs.length<a.length)throw new Error("too many arguments");let r=br(e.runner,"resolveName"),s=Eo(r)?r:null;this.#e=(async function(){let i=await Promise.all(n.inputs.map((o,c)=>a[c]==null?null:o.walkAsync(a[c],(f,p)=>f==="address"?Array.isArray(p)?Promise.all(p.map(u=>Te(u,s))):Te(p,s):p)));return e.interface.encodeFilterTopics(n,i)})()}getTopicFilter(){return this.#e}};function br(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ur(t){return t==null?null:t.provider||null}async function im(t,e){let n=B0.dereference(t,"overrides");T(typeof n=="object","invalid overrides parameter","overrides",t);let a=ha(n);return T(a.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",a.to),T(a.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",a.data),a.from&&(a.from=a.from),a}async function ww(t,e,n){let a=br(t,"resolveName"),r=Eo(a)?a:null;return await Promise.all(e.map((s,i)=>s.walkAsync(n[i],(o,c)=>(c=B0.dereference(c,o),o==="address"?Te(c,r):c))))}function Ew(t){let e=async function(i){let o=await im(i,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await Te(o.from,sm(t.runner)));let c=t.interface,d=L(o.value||em,"overrides.value")===em,f=(o.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!f&&!d&&T(!1,"cannot send data to receive or send value to non-payable fallback","overrides",i),T(c.fallback||f,"cannot send data to receive-only contract","overrides.data",o.data);let p=c.receive||c.fallback&&c.fallback.payable;return T(p||d,"cannot send value to non-payable fallback","overrides.value",o.value),T(c.fallback||f,"cannot send data to receive-only contract","overrides.data",o.data),o},n=async function(i){let o=br(t.runner,"call");_(nm(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(i);try{return await o.call(c)}catch(d){throw Ya(d)&&d.data?t.interface.makeError(d.data,c):d}},a=async function(i){let o=t.runner;_(rm(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await o.sendTransaction(await e(i)),d=ur(t.runner);return new pr(t.interface,d,c)},r=async function(i){let o=br(t.runner,"estimateGas");return _(am(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(i))},s=async i=>await a(i);return V(s,{_contract:t,estimateGas:r,populateTransaction:e,send:a,staticCall:n}),s}function Aw(t,e){let n=function(...d){let f=t.interface.getFunction(e,d);return _(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:d}}),f},a=async function(...d){let f=n(...d),p={};if(f.inputs.length+1===d.length&&(p=await im(d.pop()),p.from&&(p.from=await Te(p.from,sm(t.runner)))),f.inputs.length!==d.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let u=await ww(t.runner,f.inputs,d);return Object.assign({},p,await te({to:t.getAddress(),data:t.interface.encodeFunctionData(f,u)}))},r=async function(...d){let f=await o(...d);return f.length===1?f[0]:f},s=async function(...d){let f=t.runner;_(rm(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let p=await f.sendTransaction(await a(...d)),u=ur(t.runner);return new pr(t.interface,u,p)},i=async function(...d){let f=br(t.runner,"estimateGas");return _(am(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await a(...d))},o=async function(...d){let f=br(t.runner,"call");_(nm(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let p=await a(...d),u="0x";try{u=await f.call(p)}catch(l){throw Ya(l)&&l.data?t.interface.makeError(l.data,p):l}let b=n(...d);return t.interface.decodeFunctionResult(b,u)},c=async(...d)=>n(...d).constant?await r(...d):await s(...d);return V(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:i,populateTransaction:a,send:s,staticCall:r,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let d=t.interface.getFunction(e);return _(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),d}}),c}function vw(t,e){let n=function(...r){let s=t.interface.getEvent(e,r);return _(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),s},a=function(...r){return new Rf(t,n(...r),r)};return V(a,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{let r=t.interface.getEvent(e);return _(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),a}var wo=Symbol.for("_ethersInternal_contract"),om=new WeakMap;function Cw(t,e){om.set(t[wo],e)}function yt(t){return om.get(t[wo])}function Iw(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function Lf(t,e){let n,a=null;if(Array.isArray(e)){let s=function(i){if(i0(i,32))return i;let o=t.interface.getEvent(i);return T(o,"unknown fragment","name",i),o.topicHash};n=e.map(i=>i==null?null:Array.isArray(i)?i.map(s):s(i))}else e==="*"?n=[null]:typeof e=="string"?i0(e,32)?n=[e]:(a=t.interface.getEvent(e),T(a,"unknown fragment","event",e),n=[a.topicHash]):Iw(e)?n=await e.getTopicFilter():"fragment"in e?(a=e.fragment,n=[a.topicHash]):T(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){let i=Array.from(new Set(s.map(o=>o.toLowerCase())).values());return i.length===1?i[0]:(i.sort(),i)}return s.toLowerCase()});let r=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:a,tag:r,topics:n}}async function Ls(t,e){let{subs:n}=yt(t);return n.get((await Lf(t,e)).tag)||null}async function tm(t,e,n){let a=ur(t.runner);_(a,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:r,tag:s,topics:i}=await Lf(t,n),{addr:o,subs:c}=yt(t),d=c.get(s);if(!d){let p={address:o||t,topics:i},u=m=>{let h=r;if(h==null)try{h=t.interface.getEvent(m.topics[0])}catch{}if(h){let g=h,x=r?t.interface.decodeEventLog(r,m.data,m.topics):[];Ff(t,n,x,C=>new Fs(t,C,n,g,m))}else Ff(t,n,[],g=>new B1(t,g,n,m))},b=[];d={tag:s,listeners:[],start:()=>{b.length||b.push(a.on(p,u))},stop:async()=>{if(b.length==0)return;let m=b;b=[],await Promise.all(m),a.off(p,u)}},c.set(s,d)}return d}var Bf=Promise.resolve();async function Pw(t,e,n,a){await Bf;let r=await Ls(t,e);if(!r)return!1;let s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{let c=Array.from(n);a&&c.push(a(o?null:i));try{i.call(t,...c)}catch{}return!o}),r.listeners.length===0&&(r.stop(),yt(t).subs.delete(r.tag)),s>0}async function Ff(t,e,n,a){try{await Bf}catch{}let r=Pw(t,e,n,a);return Bf=r,await r}var xo=["then"],Us=class t{target;interface;runner;filters;[wo];fallback;constructor(e,n,a,r){T(typeof e=="string"||Y5(e),"invalid value for Contract target","target",e),a==null&&(a=null);let s=un.from(n);V(this,{target:e,runner:a,interface:s}),Object.defineProperty(this,wo,{value:{}});let i,o=null,c=null;if(r){let p=ur(a);c=new pr(this.interface,p,r)}let d=new Map;if(typeof e=="string")if(i0(e))o=e,i=Promise.resolve(e);else{let p=br(a,"resolveName");if(!Eo(p))throw T0("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=p.resolveName(e).then(u=>{if(u==null)throw T0("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return yt(this).addr=u,u})}else i=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return yt(this).addr=p,p});Cw(this,{addrPromise:i,addr:o,deployTx:c,subs:d});let f=new Proxy({},{get:(p,u,b)=>{if(typeof u=="symbol"||xo.indexOf(u)>=0)return Reflect.get(p,u,b);try{return this.getEvent(u)}catch(l){if(!L0(l,"INVALID_ARGUMENT")||l.argument!=="key")throw l}},has:(p,u)=>xo.indexOf(u)>=0?Reflect.has(p,u):Reflect.has(p,u)||this.interface.hasEvent(String(u))});return V(this,{filters:f}),V(this,{fallback:s.receive||s.fallback?Ew(this):null}),new Proxy(this,{get:(p,u,b)=>{if(typeof u=="symbol"||u in p||xo.indexOf(u)>=0)return Reflect.get(p,u,b);try{return p.getFunction(u)}catch(l){if(!L0(l,"INVALID_ARGUMENT")||l.argument!=="key")throw l}},has:(p,u)=>typeof u=="symbol"||u in p||xo.indexOf(u)>=0?Reflect.has(p,u):p.interface.hasFunction(u)})}connect(e){return new t(this.target,this.interface,e)}attach(e){return new t(e,this.interface,this.runner)}async getAddress(){return await yt(this).addrPromise}async getDeployedCode(){let e=ur(this.runner);_(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let a=ur(this.runner);return _(a!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((r,s)=>{let i=async()=>{try{if(await this.getDeployedCode()!=null)return r(this);a.once("block",i)}catch(o){s(o)}};i()})}deploymentTransaction(){return yt(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Aw(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),vw(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,a){n==null&&(n=0),a==null&&(a="latest");let{addr:r,addrPromise:s}=yt(this),i=r||await s,{fragment:o,topics:c}=await Lf(this,e),d={address:i,topics:c,fromBlock:n,toBlock:a},f=ur(this.runner);return _(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(d)).map(p=>{let u=o;if(u==null)try{u=this.interface.getEvent(p.topics[0])}catch{}if(u)try{return new fr(p,this.interface,u)}catch(b){return new R1(p,b)}return new Yt(p,f)})}async on(e,n){let a=await tm(this,"on",e);return a.listeners.push({listener:n,once:!1}),a.start(),this}async once(e,n){let a=await tm(this,"once",e);return a.listeners.push({listener:n,once:!0}),a.start(),this}async emit(e,...n){return await Ff(this,e,n,null)}async listenerCount(e){if(e){let r=await Ls(this,e);return r?r.listeners.length:0}let{subs:n}=yt(this),a=0;for(let{listeners:r}of n.values())a+=r.length;return a}async listeners(e){if(e){let r=await Ls(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let{subs:n}=yt(this),a=[];for(let{listeners:r}of n.values())a=a.concat(r.map(({listener:s})=>s));return a}async off(e,n){let a=await Ls(this,e);if(!a)return this;if(n){let r=a.listeners.map(({listener:s})=>s).indexOf(n);r>=0&&a.listeners.splice(r,1)}return(n==null||a.listeners.length===0)&&(a.stop(),yt(this).subs.delete(a.tag)),this}async removeAllListeners(e){if(e){let n=await Ls(this,e);if(!n)return this;n.stop(),yt(this).subs.delete(n.tag)}else{let{subs:n}=yt(this);for(let{tag:a,stop:r}of n.values())r(),n.delete(a)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends t{constructor(r,s=null){super(r,e,s)}}return n}static from(e,n,a){return a==null&&(a=null),new this(e,n,a)}};function _w(){return Us}var re=class extends _w(){};function Uf(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):T(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var Ao=class{name;constructor(e){V(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}};var dm=new RegExp("^(ipfs)://(.*)$","i"),cm=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),dm,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],F1=class t{provider;address;name;#e;#t;constructor(e,n,a){V(this,{provider:e,address:n,name:a}),this.#e=null,this.#t=new re(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(L0(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();let a=this.#t.interface;n.unshift(ir(this.name));let r=null;await this.supportsWildcard()&&(r=a.getFunction(e),_(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[yo(this.name,255),a.encodeFunctionData(r,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{let s=await this.#t[e](...n);return r?a.decodeFunctionResult(r,s)[0]:s}catch(s){if(!L0(s,"CALL_EXCEPTION"))throw s}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{let s=await this.#n("addr(bytes32)");return s==null||s===Fn?null:s}catch(s){if(L0(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648,i=await this.#n("addr(bytes32,uint)",[s]);if(i0(i,20))return r0(i)}let n=null;for(let s of this.provider.plugins)if(s instanceof Ao&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;let a=await this.#n("addr(bytes32,uint)",[e]);if(a==null||a==="0x")return null;let r=await n.decodeAddress(e,a);if(r!=null)return r;_(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:a}})}async getText(e){let n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){let e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;let n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let r=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${r}://${_5("0x"+n[2])}`}let a=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(a&&a[1].length===64)return`bzz://${a[1]}`;_(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let a=0;a<cm.length;a++){let r=n.match(cm[a]);if(r==null)continue;let s=r[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{let i=Uf(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:i}),{linkage:e,url:i}}case"erc721":case"erc1155":{let i=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});let o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(r[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:r[2]||""}),{url:null,linkage:e};let d=c[1],f=new re(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){let y=await f.ownerOf(d);if(o!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(s==="erc1155"){let y=await f.balanceOf(o,d);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let p=await f[i](d);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),s==="erc1155"&&(p=p.replace("{id}",$e(d,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=Uf(p)),e.push({type:"metadata-url",value:p});let u={},b=await new Xe(p).send();b.assertOk();try{u=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{let h=b.body;return h&&e.push({type:"!metadata",value:k(h)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!u)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(u)});let l=u.image;if(typeof l!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!l.match(/^(https:\/\/|data:)/i)){if(l.match(dm)==null)return e.push({type:"!imageUrl-ipfs",value:l}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:l}),l=Uf(l)}return e.push({type:"url",value:l}),{linkage:e,url:l}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let n=await e.getNetwork(),a=n.getPlugin("org.ethers.plugins.network.Ens");return _(a,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),a.address}static async#a(e,n){let a=await t.getEnsAddress(e);try{let s=await new re(a,["function resolver(bytes32) view returns (address)"],e).resolver(ir(n),{enableCcipRead:!0});return s===Fn?null:s}catch(r){throw r}return null}static async fromName(e,n){let a=n;for(;;){if(a===""||a==="."||n!=="eth"&&a==="eth")return null;let r=await t.#a(e,a);if(r!=null){let s=new t(e,r,n);return a!==n&&!await s.supportsWildcard()?null:s}a=a.split(".").slice(1).join(".")}}};var fm=BigInt(0);function m0(t,e){return(function(n){return n==null?e:t(n)})}function Hs(t,e){return(n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(a=>t(a))})}function Gs(t,e){return(n=>{let a={};for(let r in t){let s=r;if(e&&r in e&&!(s in n)){for(let i of e[r])if(i in n){s=i;break}}try{let i=t[r](n[s]);i!==void 0&&(a[r]=i)}catch(i){let o=i instanceof Error?i.message:"not-an-error";_(!1,`invalid value for value.${r} (${o})`,"BAD_DATA",{value:n})}}return a})}function Sw(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}T(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function L1(t){return T(i0(t,!0),"invalid data","value",t),t}function Me(t){return T(i0(t,32),"invalid hash","value",t),t}var Nw=Gs({address:r0,blockHash:Me,blockNumber:n0,data:L1,index:n0,removed:m0(Sw,!1),topics:Hs(Me),transactionHash:Me,transactionIndex:n0},{index:["logIndex"]});function pm(t){return Nw(t)}var Dw=Gs({hash:m0(Me),parentHash:Me,parentBeaconBlockRoot:m0(Me,null),number:n0,timestamp:n0,nonce:m0(L1),difficulty:L,gasLimit:L,gasUsed:L,stateRoot:m0(Me,null),receiptsRoot:m0(Me,null),blobGasUsed:m0(L,null),excessBlobGas:m0(L,null),miner:m0(r0),prevRandao:m0(Me,null),extraData:L1,baseFeePerGas:m0(L)},{prevRandao:["mixHash"]});function um(t){let e=Dw(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Hf(n)),e}var Mw=Gs({transactionIndex:n0,blockNumber:n0,transactionHash:Me,address:r0,topics:Hs(Me),data:L1,index:n0,blockHash:Me},{index:["logIndex"]});function Ow(t){return Mw(t)}var kw=Gs({to:m0(r0,null),from:m0(r0,null),contractAddress:m0(r0,null),index:n0,root:m0(k),gasUsed:L,blobGasUsed:m0(L,null),logsBloom:m0(L1),blockHash:Me,hash:Me,logs:Hs(Ow),blockNumber:n0,cumulativeGasUsed:L,effectiveGasPrice:m0(L),blobGasPrice:m0(L,null),status:m0(n0),type:m0(n0,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function bm(t){return kw(t)}function Hf(t){t.to&&L(t.to)===fm&&(t.to="0x0000000000000000000000000000000000000000");let e=Gs({hash:Me,index:m0(n0,void 0),type:n=>n==="0x"||n==null?0:n0(n),accessList:m0(et,null),blobVersionedHashes:m0(Hs(Me,!0),null),authorizationList:m0(Hs(n=>{let a;if(n.signature)a=n.signature;else{let r=n.yParity;r==="0x1b"?r=0:r==="0x1c"&&(r=1),a=Object.assign({},n,{yParity:r})}return{address:r0(n.address),chainId:L(n.chainId),nonce:L(n.nonce),signature:ge.from(a)}},!1),null),blockHash:m0(Me,null),blockNumber:m0(n0,null),transactionIndex:m0(n0,null),from:r0,gasPrice:m0(L),maxPriorityFeePerGas:m0(L),maxFeePerGas:m0(L),maxFeePerBlobGas:m0(L,null),gasLimit:L,to:m0(r0,null),value:L,nonce:n0,data:L1,creates:m0(r0,null),chainId:m0(L,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=lf(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=ge.from(t.signature):e.signature=ge.from(t),e.chainId==null){let n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&L(e.blockHash)===fm&&(e.blockHash=null),e}var Rw="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",U1=class t{name;constructor(e){V(this,{name:e})}clone(){return new t(this.name)}},H1=class t extends U1{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let a={effectiveBlock:e};function r(s,i){let o=(n||{})[s];o==null&&(o=i),T(typeof o=="number",`invalud value for ${s}`,"costs",n),a[s]=o}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),V(this,a)}clone(){return new t(this.effectiveBlock,this)}},G1=class t extends U1{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),V(this,{address:e||Rw,targetNetwork:n??1})}clone(){return new t(this.address,this.targetNetwork)}};var Vs=class extends U1{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}};var Gf=new Map,mt=class t{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=L(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=L(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===L(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===L(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===L(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){let e=new t(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){let n=this.getPlugin("org.ethers.plugins.network.GasCost")||new H1,a=n.txBase;if(e.to==null&&(a+=n.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)e.data.substring(r,r+2)==="00"?a+=n.txDataZero:a+=n.txDataNonzero;if(e.accessList){let r=et(e.accessList);for(let s in r)a+=n.txAccessListAddress+n.txAccessListStorageKey*r[s].storageKeys.length}return a}static from(e){if(Bw(),e==null)return t.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let n=Gf.get(e);if(n)return n();if(typeof e=="bigint")return new t("unknown",e);T(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){T(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let n=new t(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new G1(e.ensAddress,e.ensNetwork)),n}T(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));let a=Gf.get(e);a&&T(!1,`conflicting network for ${JSON.stringify(a.name)}`,"nameOrChainId",e),Gf.set(e,n)}};function lm(t,e){let n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let a=n.split(".");if(a.length===1&&a.push(""),a.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;a[1].length<e;)a[1]+="0";if(a[1].length>9){let r=BigInt(a[1].substring(0,9));a[1].substring(9).match(/^0+$/)||r++,a[1]=r.toString()}return BigInt(a[0]+a[1])}function ym(t){return new Vs(t,async(e,n,a)=>{a.setHeader("User-Agent","ethers");let r;try{let[s,i]=await Promise.all([a.send(),e()]);r=s;let o=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:lm(o.maxFee,9),maxPriorityFeePerGas:lm(o.maxPriorityFee,9)}}catch(s){_(!1,`error encountered with polygon gas station (${JSON.stringify(a.url)})`,"SERVER_ERROR",{request:a,response:r,error:s})}})}var mm=!1;function Bw(){if(mm)return;mm=!0;function t(e,n,a){let r=function(){let s=new mt(e,n);return a.ensNetwork!=null&&s.attachPlugin(new G1(null,a.ensNetwork)),s.attachPlugin(new H1),(a.plugins||[]).forEach(i=>{s.attachPlugin(i)}),s};mt.register(e,r),mt.register(n,r),a.altNames&&a.altNames.forEach(s=>{mt.register(s,r)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[ym("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[ym("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Vf(t){return JSON.parse(JSON.stringify(t))}var vo=class{#e;#t;#n;#a;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#a=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#r(){try{let e=await this.#e.getBlockNumber();if(this.#a===-2){this.#a=e;return}if(e!==this.#a){for(let n=this.#a+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#a=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#r.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#r.bind(this),this.#n),this.#r())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#a=-2)}resume(){this.start()}},zs=class{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},Co=class extends zs{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){let a=await n.getBlock(this.#e);a!=null&&(this.#t===-2?this.#t=a.number:a.number>this.#t&&(n.emit(this.#e,a.number),this.#t=a.number))}},Io=class extends zs{#e;constructor(e,n){super(e),this.#e=Vf(n)}async _poll(e,n){throw new Error("@TODO")}},Po=class extends zs{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){let a=await n.getTransactionReceipt(this.#e);a&&n.emit(this.#e,a)}},ga=class{#e;#t;#n;#a;#r;constructor(e,n){this.#e=e,this.#t=Vf(n),this.#n=this.#i.bind(this),this.#a=!1,this.#r=-2}async#i(e){if(this.#r===-2)return;let n=Vf(this.#t);n.fromBlock=this.#r+1,n.toBlock=e;let a=await this.#e.getLogs(n);if(a.length===0){this.#r<e-60&&(this.#r=e-60);return}for(let r of a)this.#e.emit(this.#t,r),this.#r=r.blockNumber}start(){this.#a||(this.#a=!0,this.#r===-2&&this.#e.getBlockNumber().then(e=>{this.#r=e}),this.#e.on("block",this.#n))}stop(){this.#a&&(this.#a=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}};var Fw=BigInt(2),Lw=10;function _o(t){return t&&typeof t.then=="function"}function So(t,e){return t+":"+JSON.stringify(e,(n,a)=>{if(a==null)return"null";if(typeof a=="bigint")return`bigint:${a.toString()}`;if(typeof a=="string")return a.toLowerCase();if(typeof a=="object"&&!Array.isArray(a)){let r=Object.keys(a);return r.sort(),r.reduce((s,i)=>(s[i]=a[i],s),{})}return a})}var V1=class{name;constructor(e){V(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function Uw(t){return JSON.parse(JSON.stringify(t))}function Wf(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function zf(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(i0(t,32)){let n=t.toLowerCase();return{type:"transaction",tag:So("tx",{hash:n}),hash:n}}if(t.orphan){let n=t;return{type:"orphan",tag:So("orphan",n),filter:Uw(n)}}if(t.address||t.topics){let n=t,a={topics:(n.topics||[]).map(r=>r==null?null:Array.isArray(r)?Wf(r.map(s=>s.toLowerCase())):r.toLowerCase())};if(n.address){let r=[],s=[],i=o=>{i0(o)?r.push(o):s.push((async()=>{r.push(await Te(o,e))})())};Array.isArray(n.address)?n.address.forEach(i):i(n.address),s.length&&await Promise.all(s),a.address=Wf(r.map(o=>o.toLowerCase()))}return{filter:a,tag:So("event",a),type:"event"}}T(!1,"unknown ProviderEvent","event",t)}function Kf(){return new Date().getTime()}var Hw={cacheTimeout:250,pollingInterval:4e3},Ks=class{#e;#t;#n;#a;#r;#i;#s;#o;#b;#d;#l;#y;constructor(e,n){if(this.#y=Object.assign({},Hw,n||{}),e==="any")this.#i=!0,this.#r=null;else if(e){let a=mt.from(e);this.#i=!1,this.#r=Promise.resolve(a),setTimeout(()=>{this.emit("network",a,null)},0)}else this.#i=!1,this.#r=null;this.#o=-1,this.#s=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#a=!1,this.#b=1,this.#d=new Map,this.#l=!1}get pollingInterval(){return this.#y.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#l}set disableCcipRead(e){this.#l=!!e}async#c(e){let n=this.#y.cacheTimeout;if(n<0)return await this._perform(e);let a=So(e.method,e),r=this.#s.get(a);return r||(r=this._perform(e),this.#s.set(a,r),setTimeout(()=>{this.#s.get(a)===r&&this.#s.delete(a)},n)),await r}async ccipReadFetch(e,n,a){if(this.disableCcipRead||a.length===0||e.to==null)return null;let r=e.to.toLowerCase(),s=n.toLowerCase(),i=[];for(let o=0;o<a.length;o++){let c=a[o],d=c.replace("{sender}",r).replace("{data}",s),f=new Xe(d);c.indexOf("{data}")===-1&&(f.body={data:s,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:o,urls:a});let p="unknown error",u;try{u=await f.send()}catch(b){i.push(b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:{error:b}});continue}try{let b=u.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:b}),b.data;b.message&&(p=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:b})}catch{}_(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:p}}),i.push(p)}_(!1,`error encountered during CCIP fetch: ${i.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:a,errorMessages:i}})}_wrapBlock(e,n){return new Bs(um(e),this)}_wrapLog(e,n){return new Yt(pm(e),this)}_wrapTransactionReceipt(e,n){return new dr(bm(e),this)}_wrapTransactionResponse(e,n){return new ma(Hf(e),this)}_detectNetwork(){_(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){_(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=n0(await this.#c({method:"getBlockNumber"}),"%response");return this.#o>=0&&(this.#o=e),e}_getAddress(e){return Te(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(i0(e))return i0(e,32)?e:q0(e);if(typeof e=="bigint"&&(e=n0(e,"blockTag")),typeof e=="number")return e>=0?q0(e):this.#o>=0?q0(this.#o+e):this.getBlockNumber().then(n=>q0(n+e));T(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Wf(c.map(d=>d.toLowerCase())):c.toLowerCase()),a="blockHash"in e?e.blockHash:void 0,r=(c,d,f)=>{let p;switch(c.length){case 0:break;case 1:p=c[0];break;default:c.sort(),p=c}if(a&&(d!=null||f!=null))throw new Error("invalid filter");let u={};return p&&(u.address=p),n.length&&(u.topics=n),d&&(u.fromBlock=d),f&&(u.toBlock=f),a&&(u.blockHash=a),u},s=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let i;"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||i!=null&&typeof i!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(s),i,o]).then(c=>r(c[0],c[1],c[2])):r(s,i,o)}_getTransactionRequest(e){let n=ha(e),a=[];if(["to","from"].forEach(r=>{if(n[r]==null)return;let s=Te(n[r],this);_o(s)?a.push((async function(){n[r]=await s})()):n[r]=s}),n.blockTag!=null){let r=this._getBlockTag(n.blockTag);_o(r)?a.push((async function(){n.blockTag=await r})()):n.blockTag=r}return a.length?(async function(){return await Promise.all(a),n})():n}async getNetwork(){if(this.#r==null){let r=(async()=>{try{let s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw this.#r===r&&(this.#r=null),s}})();return this.#r=r,(await r).clone()}let e=this.#r,[n,a]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==a.chainId&&(this.#i?(this.emit("network",a,n),this.#r===e&&(this.#r=Promise.resolve(a))):_(!1,`network changed: ${n.chainId} => ${a.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){let e=await this.getNetwork(),n=async()=>{let{_block:r,gasPrice:s,priorityFee:i}=await te({_block:this.#h("latest",!1),gasPrice:(async()=>{try{let f=await this.#c({method:"getGasPrice"});return L(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let f=await this.#c({method:"getPriorityFee"});return L(f,"%response")}catch{}return null})()}),o=null,c=null,d=this._wrapBlock(r,e);return d&&d.baseFeePerGas&&(c=i??BigInt("1000000000"),o=d.baseFeePerGas*Fw+c),new k1(s,o,c)},a=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(a){let r=new Xe(a.url),s=await a.processFunc(n,this,r);return new k1(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return _o(n)&&(n=await n),L(await this.#c({method:"estimateGas",transaction:n}),"%response")}async#f(e,n,a){_(a<Lw,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});let r=ha(e);try{return k(await this._perform({method:"call",transaction:r,blockTag:n}))}catch(s){if(!this.disableCcipRead&&Ya(s)&&s.data&&a>=0&&n==="latest"&&r.to!=null&&R0(s.data,0,4)==="0x556f1830"){let i=s.data,o=await Te(r.to,this),c;try{c=Ww(R0(s.data,4))}catch(p){_(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:i}})}_(c.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let d=await this.ccipReadFetch(r,c.calldata,c.urls);_(d!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:s.data,errorArgs:c.errorArgs}});let f={to:o,data:l0([c.selector,Kw([d,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{let p=await this.#f(f,n,a+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:p}),p}}throw s}}async#p(e){let{value:n}=await te({network:this.getNetwork(),value:e});return n}async call(e){let{tx:n,blockTag:a}=await te({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#p(this.#f(n,a,e.enableCcipRead?0:-1))}async#u(e,n,a){let r=this._getAddress(n),s=this._getBlockTag(a);return(typeof r!="string"||typeof s!="string")&&([r,s]=await Promise.all([r,s])),await this.#p(this.#c(Object.assign(e,{address:r,blockTag:s})))}async getBalance(e,n){return L(await this.#u({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return n0(await this.#u({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return k(await this.#u({method:"getCode"},e,n))}async getStorage(e,n,a){let r=L(n,"position");return k(await this.#u({method:"getStorage",position:r},e,a))}async broadcastTransaction(e){let{blockNumber:n,hash:a,network:r}=await te({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=pn.from(e);if(s.hash!==a)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,r).replaceableTransaction(n)}async#h(e,n){if(i0(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:n});let a=this._getBlockTag(e);return typeof a!="string"&&(a=await a),await this.#c({method:"getBlock",blockTag:a,includeTransactions:n})}async getBlock(e,n){let{network:a,params:r}=await te({network:this.getNetwork(),params:this.#h(e,!!n)});return r==null?null:this._wrapBlock(r,a)}async getTransaction(e){let{network:n,params:a}=await te({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return a==null?null:this._wrapTransactionResponse(a,n)}async getTransactionReceipt(e){let{network:n,params:a}=await te({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(a==null)return null;if(a.gasPrice==null&&a.effectiveGasPrice==null){let r=await this.#c({method:"getTransaction",hash:e});if(r==null)throw new Error("report this; could not find tx or effectiveGasPrice");a.effectiveGasPrice=r.gasPrice}return this._wrapTransactionReceipt(a,n)}async getTransactionResult(e){let{result:n}=await te({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return n==null?null:k(n)}async getLogs(e){let n=this._getFilter(e);_o(n)&&(n=await n);let{network:a,params:r}=await te({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:n})});return r.map(s=>this._wrapLog(s,a))}_getProvider(e){_(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await F1.fromName(this,e)}async getAvatar(e){let n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){let n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=r0(e);let n=ir(e.substring(2).toLowerCase()+".addr.reverse");try{let a=await F1.getEnsAddress(this),s=await new re(a,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===Fn)return null;let o=await new re(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(o)!==e?null:o}catch(a){if(L0(a,"BAD_DATA")&&a.value==="0x"||L0(a,"CALL_EXCEPTION"))return null;throw a}return null}async waitForTransaction(e,n,a){let r=n??1;return r===0?this.getTransactionReceipt(e):new Promise(async(s,i)=>{let o=null,c=(async d=>{try{let f=await this.getTransactionReceipt(e);if(f!=null&&d-f.blockNumber+1>=r){s(f),o&&(clearTimeout(o),o=null);return}}catch{}this.once("block",c)});a!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",c),i(T0("timeout","TIMEOUT",{reason:"timeout"})))},a)),c(await this.getBlockNumber())})}async waitForBlock(e){_(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let n=this.#d.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#d.delete(e))}_setTimeout(e,n){n==null&&(n=0);let a=this.#b++,r=()=>{this.#d.delete(a),e()};if(this.paused)this.#d.set(a,{timer:null,func:r,time:n});else{let s=setTimeout(r,n);this.#d.set(a,{timer:s,func:r,time:Kf()})}return a}_forEachSubscriber(e){for(let n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new V1(e.type);case"block":{let n=new vo(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new Co(this,e.type);case"event":return new ga(this,e.filter);case"transaction":return new Po(this,e.hash);case"orphan":return new Io(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(let a of this.#e.values())if(a.subscriber===e){a.started&&a.subscriber.stop(),a.subscriber=n,a.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#m(e,n){let a=await zf(e,this);return a.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(a=await zf({orphan:"drop-log",log:n[0]},this)),this.#e.get(a.tag)||null}async#g(e){let n=await zf(e,this),a=n.tag,r=this.#e.get(a);return r||(r={subscriber:this._getSubscriber(n),tag:a,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(a,r)),r}async on(e,n){let a=await this.#g(e);return a.listeners.push({listener:n,once:!1}),a.started||(a.subscriber.start(),a.started=!0,this.#n!=null&&a.subscriber.pause(this.#n)),this}async once(e,n){let a=await this.#g(e);return a.listeners.push({listener:n,once:!0}),a.started||(a.subscriber.start(),a.started=!0,this.#n!=null&&a.subscriber.pause(this.#n)),this}async emit(e,...n){let a=await this.#m(e,n);if(!a||a.listeners.length===0)return!1;let r=a.listeners.length;return a.listeners=a.listeners.filter(({listener:s,once:i})=>{let o=new ea(this,i?null:s,e);try{s.call(this,...n,o)}catch{}return!i}),a.listeners.length===0&&(a.started&&a.subscriber.stop(),this.#e.delete(a.tag)),r>0}async listenerCount(e){if(e){let a=await this.#m(e);return a?a.listeners.length:0}let n=0;for(let{listeners:a}of this.#e.values())n+=a.length;return n}async listeners(e){if(e){let a=await this.#m(e);return a?a.listeners.map(({listener:r})=>r):[]}let n=[];for(let{listeners:a}of this.#e.values())n=n.concat(a.map(({listener:r})=>r));return n}async off(e,n){let a=await this.#m(e);if(!a)return this;if(n){let r=a.listeners.map(({listener:s})=>s).indexOf(n);r>=0&&a.listeners.splice(r,1)}return(!n||a.listeners.length===0)&&(a.started&&a.subscriber.stop(),this.#e.delete(a.tag)),this}async removeAllListeners(e){if(e){let{tag:n,started:a,subscriber:r}=await this.#g(e);a&&r.stop(),this.#e.delete(n)}else for(let[n,{started:a,subscriber:r}]of this.#e)a&&r.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#a}destroy(){this.removeAllListeners();for(let e of this.#d.keys())this._clearTimeout(e);this.#a=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#o=-1,this.#n!=null){if(this.#n==!!e)return;_(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(let n of this.#d.values())n.timer&&clearTimeout(n.timer),n.time=Kf()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(let e of this.#d.values()){let n=e.time;n<0&&(n=0),e.time=Kf(),setTimeout(e.func,n)}}}};function Gw(t,e){try{let n=jf(t,e);if(n)return Dn(n)}catch{}return null}function jf(t,e){if(t==="0x")return null;try{let n=n0(R0(t,e,e+32)),a=n0(R0(t,n,n+32));return R0(t,n+32,n+32+a)}catch{}return null}function hm(t){let e=G0(t);if(e.length>32)throw new Error("internal; should not happen");let n=new Uint8Array(32);return n.set(e,32-e.length),n}function Vw(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}var zw=new Uint8Array([]);function Kw(t){let e=[],n=0;for(let a=0;a<t.length;a++)e.push(zw),n+=32;for(let a=0;a<t.length;a++){let r=J(t[a]);e[a]=hm(n),e.push(hm(r.length)),e.push(Vw(r)),n+=32+Math.ceil(r.length/32)*32}return l0(e)}var gm="0x0000000000000000000000000000000000000000000000000000000000000000";function Ww(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};_(Vt(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let n=R0(t,0,32);_(R0(n,0,12)===R0(gm,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=R0(n,12);try{let a=[],r=n0(R0(t,32,64)),s=n0(R0(t,r,r+32)),i=R0(t,r+32);for(let o=0;o<s;o++){let c=Gw(i,o*32);if(c==null)throw new Error("abort");a.push(c)}e.urls=a}catch{_(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let a=jf(t,64);if(a==null)throw new Error("abort");e.calldata=a}catch{_(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}_(R0(t,100,128)===R0(gm,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=R0(t,96,100);try{let a=jf(t,128);if(a==null)throw new Error("abort");e.extraData=a}catch{_(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(a=>e[a]),e}function lr(t,e){if(t.provider)return t.provider;_(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Tm(t,e){let n=ha(e);if(n.to!=null&&(n.to=Te(n.to,t)),n.from!=null){let a=n.from;n.from=Promise.all([t.getAddress(),Te(a,t)]).then(([r,s])=>(T(r.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),r))}else n.from=t.getAddress();return await te(n)}var Ws=class{provider;constructor(e){V(this,{provider:e||null})}async getNonce(e){return lr(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Tm(this,e)}async populateTransaction(e){let n=lr(this,"populateTransaction"),a=await Tm(this,e);a.nonce==null&&(a.nonce=await this.getNonce("pending")),a.gasLimit==null&&(a.gasLimit=await this.estimateGas(a));let r=await this.provider.getNetwork();if(a.chainId!=null){let i=L(a.chainId);T(i===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else a.chainId=r.chainId;let s=a.maxFeePerGas!=null||a.maxPriorityFeePerGas!=null;if(a.gasPrice!=null&&(a.type===2||s)?T(!1,"eip-1559 transaction do not support gasPrice","tx",e):(a.type===0||a.type===1)&&s&&T(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(a.type===2||a.type==null)&&a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)a.type=2;else if(a.type===0||a.type===1){let i=await n.getFeeData();_(i.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),a.gasPrice==null&&(a.gasPrice=i.gasPrice)}else{let i=await n.getFeeData();if(a.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(a.authorizationList&&a.authorizationList.length?a.type=4:a.type=2,a.gasPrice!=null){let o=a.gasPrice;delete a.gasPrice,a.maxFeePerGas=o,a.maxPriorityFeePerGas=o}else a.maxFeePerGas==null&&(a.maxFeePerGas=i.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(_(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),a.gasPrice==null&&(a.gasPrice=i.gasPrice),a.type=0):_(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(a.type===2||a.type===3||a.type===4)&&(a.maxFeePerGas==null&&(a.maxFeePerGas=i.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return await te(a)}async populateAuthorization(e){let n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await lr(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return lr(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return lr(this,"call").call(await this.populateCall(e))}async resolveName(e){return await lr(this,"resolveName").resolveName(e)}async sendTransaction(e){let n=lr(this,"sendTransaction"),a=await this.populateTransaction(e);delete a.from;let r=pn.from(a);return await n.broadcastTransaction(await this.signTransaction(r))}authorize(e){_(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}};function jw(t){return JSON.parse(JSON.stringify(t))}var No=class{#e;#t;#n;#a;#r;#i;constructor(e){this.#e=e,this.#t=null,this.#n=this.#s.bind(this),this.#a=!1,this.#r=null,this.#i=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#s(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(s){if(!L0(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let a=await this.#e.getNetwork();if(this.#r||(this.#r=a),this.#r.chainId!==a.chainId)throw new Error("chaid changed");if(this.#i)return;let r=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,r)}catch{}this.#e.once("block",this.#n)}#o(){let e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#a||(this.#a=!0,this.#s(-2))}stop(){this.#a&&(this.#a=!1,this.#i=!0,this.#o(),this.#e.off("block",this.#n))}pause(e){e&&this.#o(),this.#e.off("block",this.#n)}resume(){this.start()}},Do=class extends No{#e;constructor(e,n){super(e),this.#e=jw(n)}_recover(e){return new ga(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(let a of n)e.emit(this.#e,e._wrapLog(a,e._network))}},Mo=class extends No{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(let a of n)e.emit("pending",a)}};var $w="bigint,boolean,function,number,string,symbol".split(/,/g);function Oo(t){if(t==null||$w.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Oo);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Yw(t){return new Promise(e=>{setTimeout(e,t)})}function z1(t){return t&&t.toLowerCase()}function xm(t){return t&&typeof t.pollingInterval=="number"}var wm={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},yr=class extends Ws{address;constructor(e,n){super(e),n=r0(n),V(this,{address:n})}connect(e){_(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let n=Oo(e),a=[];if(n.from){let s=n.from;a.push((async()=>{let i=await Te(s,this.provider);T(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i})())}else n.from=this.address;if(n.gasLimit==null&&a.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){let s=n.to;a.push((async()=>{n.to=await Te(s,this.provider)})())}a.length&&await Promise.all(a);let r=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){let n=await this.provider.getBlockNumber(),a=await this.sendUncheckedTransaction(e);return await new Promise((r,s)=>{let i=[1e3,100],o=0,c=async()=>{try{let d=await this.provider.getTransaction(a);if(d!=null){r(d.replaceableTransaction(n));return}}catch(d){if(L0(d,"CANCELLED")||L0(d,"BAD_DATA")||L0(d,"NETWORK_ERROR")||L0(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=a,s(d);return}if(L0(d,"INVALID_ARGUMENT")&&(o++,d.info==null&&(d.info={}),d.info.sendTransactionHash=a,o>10)){s(d);return}this.provider.emit("error",T0("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{c()},i.pop()||4e3)};c()})}async signTransaction(e){let n=Oo(e);if(n.from){let r=await Te(n.from,this.provider);T(r!=null&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=r}else n.from=this.address;let a=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[a])}async signMessage(e){let n=typeof e=="string"?me(e):e;return await this.provider.send("personal_sign",[k(n),this.address.toLowerCase()])}async signTypedData(e,n,a){let r=Oo(a),s=await Ln.resolveNames(e,n,r,async i=>{let o=await Te(i);return T(o!=null,"TypedData does not support null address","value",i),o});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ln.getPayload(s.domain,n,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let n=typeof e=="string"?me(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),k(n)])}},js=class extends Ks{#e;#t;#n;#a;#r;#i;#s;#o(){if(this.#a)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#a=setTimeout(()=>{this.#a=null;let n=this.#n;for(this.#n=[];n.length;){let a=[n.shift()];for(;n.length&&a.length!==this.#e.batchMaxCount;)if(a.push(n.shift()),JSON.stringify(a.map(s=>s.payload)).length>this.#e.batchMaxSize){n.unshift(a.pop());break}(async()=>{let r=a.length===1?a[0].payload:a.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{let s=await this._send(r);this.emit("debug",{action:"receiveRpcResult",result:s});for(let{resolve:i,reject:o,payload:c}of a){if(this.destroyed){o(T0("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let d=s.filter(f=>f.id===c.id)[0];if(d==null){let f=T0("missing response for request","BAD_DATA",{value:s,info:{payload:c}});this.emit("error",f),o(f);continue}if("error"in d){o(this.getRpcError(c,d));continue}i(d.result)}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(let{reject:i}of a)i(s)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},wm,n||{}),this.#n=[],this.#a=null,this.#i=null,this.#s=null;{let r=null,s=new Promise(i=>{r=i});this.#r={promise:s,resolve:r}}let a=this._getOption("staticNetwork");typeof a=="boolean"?(T(!a||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),a&&e!=null&&(this.#i=mt.from(e))):a&&(T(e==null||a.matches(e),"staticNetwork MUST match network object","options",n),this.#i=a)}_getOption(e){return this.#e[e]}get _network(){return _(this.#i,"network is not available yet","NETWORK_ERROR"),this.#i}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let a=e.transaction;if(a&&a.type!=null&&L(a.type)&&a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null){let r=await this.getFeeData();r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},a,{type:void 0})}))}}let n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#i)return this.#i}else return e;return this.#s?await this.#s:this.ready?(this.#s=(async()=>{try{let n=mt.from(L(await this.send("eth_chainId",[])));return this.#s=null,n}catch(n){throw this.#s=null,n}})(),await this.#s):(this.#s=(async()=>{let n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let a;try{a=(await this._send(n))[0],this.#s=null}catch(r){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:r}),r}if(this.emit("debug",{action:"receiveRpcResult",result:a}),"result"in a)return mt.from(L(a.result));throw this.getRpcError(n,a)})(),await this.#s)}_start(){this.#r==null||this.#r.resolve==null||(this.#r.resolve(),this.#r=null,(async()=>{for(;this.#i==null&&!this.destroyed;)try{this.#i=await this._detectNetwork()}catch(e){if(this.destroyed)break;this.emit("error",T0("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Yw(1e3)}this.#o()})())}async _waitUntilReady(){if(this.#r!=null)return await this.#r.promise}_getSubscriber(e){return e.type==="pending"?new Mo(this):e.type==="event"?this._getOption("polling")?new ga(this,e.filter):new Do(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new V1("orphan"):super._getSubscriber(e)}get ready(){return this.#r==null}getRpcTransaction(e){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(a=>{if(e[a]==null)return;let r=a;a==="gasLimit"&&(r="gas"),n[r]=q0(L(e[a],`tx.${a}`))}),["from","to","data"].forEach(a=>{e[a]!=null&&(n[a]=k(e[a]))}),e.accessList&&(n.accessList=et(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(a=>a.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(a=>{let r=C1(a);return{address:r.address,nonce:q0(r.nonce),chainId:q0(r.chainId),yParity:q0(r.signature.yParity),r:q0(r.signature.r),s:q0(r.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[z1(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[z1(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[z1(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[z1(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(z1):e.filter.address=z1(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){let{method:a}=e,{error:r}=n;if(a==="eth_estimateGas"&&r.message){let o=r.message;if(!o.match(/revert/i)&&o.match(/insufficient funds/i))return T0("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(o.match(/nonce/i)&&o.match(/too low/i))return T0("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if(a==="eth_call"||a==="eth_estimateGas"){let o=$f(r),c=Gn.getBuiltinCallException(a==="eth_call"?"call":"estimateGas",e.params[0],o?o.data:null);return c.info={error:r,payload:e},c}let s=JSON.stringify(Jw(r));if(typeof r.message=="string"&&r.message.match(/user denied|ethers-user-denied/i))return T0("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[a]||"unknown",reason:"rejected",info:{payload:e,error:r}});if(a==="eth_sendRawTransaction"||a==="eth_sendTransaction"){let o=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return T0("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return T0("nonce has already been used","NONCE_EXPIRED",{transaction:o,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return T0("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o,info:{error:r}});if(s.match(/only replay-protected/i))return T0("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:a,info:{transaction:o,info:{error:r}}})}let i=!!s.match(/the method .* does not exist/i);return i||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(i=!0),i?T0("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):T0("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(T0("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let a=this.#t++,r=new Promise((s,i)=>{this.#n.push({resolve:s,reject:i,payload:{method:e,params:n,id:a,jsonrpc:"2.0"}})});return this.#o(),r}async getSigner(e){e==null&&(e=0);let n=this.send("eth_accounts",[]);if(typeof e=="number"){let r=await n;if(e>=r.length)throw new Error("no such account");return new yr(this,r[e])}let{accounts:a}=await te({network:this.getNetwork(),accounts:n});e=r0(e);for(let r of a)if(r0(r)===e)return new yr(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new yr(this,n))}destroy(){this.#a&&(clearTimeout(this.#a),this.#a=null);for(let{payload:e,reject:n}of this.#n)n(T0("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}},$s=class extends js{#e;constructor(e,n){super(e,n);let a=this._getOption("pollingInterval");a==null&&(a=wm.pollingInterval),this.#e=a}_getSubscriber(e){let n=super._getSubscriber(e);return xm(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{xm(n)&&(n.pollingInterval=this.#e)})}},K1=class extends $s{#e;constructor(e,n,a){e==null&&(e="http://localhost:8545"),super(n,a),typeof e=="string"?this.#e=new Xe(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){let n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");let a=await n.send();a.assertOk();let r=a.bodyJson;return Array.isArray(r)||(r=[r]),r}};function $f(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&i0(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let n=$f(t[e]);if(n)return n}return null}if(typeof t=="string")try{return $f(JSON.parse(t))}catch{}return null}function Yf(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let n in t)Yf(t[n],e);if(typeof t=="string")try{return Yf(JSON.parse(t),e)}catch{}}}function Jw(t){let e=[];return Yf(t,e),e}var bn=class t extends $s{#e;#t;constructor(e,n,a){let r=Object.assign({},a??{},{batchMaxCount:1});T(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,r),this.#t=null,a&&a.providerInfo&&(this.#t=a.providerInfo),this.#e=async(s,i)=>{let o={method:s,params:i};this.emit("debug",{action:"sendEip1193Request",payload:o});try{let c=await e.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let d=new Error(c.message);throw d.code=c.code,d.data=c.data,d.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){T(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);let n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(a=>a.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){let a=n.payload;throw this.getRpcError(a,{id:a.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new t(e.provider);let n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;let a=e.anyProvider;if(a&&n.ethereum)return new t(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;let r=e.timeout?e.timeout:300;return r===0?null:await new Promise((s,i)=>{let o=[],c=p=>{o.push(p.detail),a&&d()},d=()=>{if(clearTimeout(f),o.length)if(e&&e.filter){let p=e.filter(o.map(u=>Object.assign({},u.info)));if(p==null)s(null);else if(p instanceof t)s(p);else{let u=null;if(p.uuid&&(u=o.filter(l=>p.uuid===l.info.uuid)[0]),u){let{provider:b,info:l}=u;s(new t(b,void 0,{providerInfo:l}))}else i(T0("filter returned unknown info","UNSUPPORTED_OPERATION",{value:p}))}}else{let{provider:p,info:u}=o[0];s(new t(p,void 0,{providerInfo:u}))}else s(null);n.removeEventListener("eip6963:announceProvider",c)},f=setTimeout(()=>{d()},r);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};var Vo=f0(O0());var Ys=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"}],Ta=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],xa=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"isOperator",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"_interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Js=[{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[{name:"user",type:"address"},{name:"token",type:"address"}],name:"tokenBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"users",type:"address[]"},{name:"tokens",type:"address[]"}],name:"balances",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"}];var Qw="localhost",ei="eth",j1="erc20",Ae="erc721",ht="erc1155",Jf="0xd9b67a26",Qf="0x80ac58cd",qw="0x5b5e139f",Zw="0x780e9d63",Ot="0x1",wa="0x89",Ea="0x38",Aa="0xa86a",Em="0x64",mr="0xa4b1",va="0xa",Qs="0xa4ec",W1="0x2105",qs="0xe708",Zs="0xaa36a7",ko="0x13882",Ro="0x61",Bo="0xa869",Fo="0x66eee",Xs="0xaa37dc",Lo="0x14a34",Uo="0xe705",Jt=process.env.VITE_APP_INFURA_PROJECT_KEY,gt={[Ot]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://etherscan.io",chainId:Ot,displayName:"Ethereum",logo:"eth.svg",rpcTarget:`https://mainnet.infura.io/v3/${Jt}`,ticker:"ETH",tickerName:"Ethereum"},[wa]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://polygonscan.com",chainId:wa,displayName:"Polygon",logo:"polygon.svg",rpcTarget:`https://polygon-mainnet.infura.io/v3/${Jt}`,ticker:"POL",tickerName:"Polygon Ecosystem Token"},[Ea]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://bscscan.com",chainId:Ea,displayName:"Binance Smart Chain (BSC)",logo:"bnb_logo.svg",rpcTarget:"https://bsc-dataseed.binance.org",ticker:"BNB",tickerName:"Binance Coin"},[Aa]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://snowtrace.io",chainId:Aa,displayName:"Avalanche",logo:"avax.svg",rpcTarget:"https://api.avax.network/ext/bc/C/rpc",ticker:"AVAX",tickerName:"Avalanche"},[va]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://optimistic.etherscan.io",chainId:va,displayName:"Optimism",logo:"optimism.svg",rpcTarget:`https://optimism-mainnet.infura.io/v3/${Jt}`,ticker:"ETH",tickerName:"Ethereum"},[Qs]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://explorer.celo.org",chainId:Qs,displayName:"Celo Mainnet",logo:"celo.svg",rpcTarget:`https://celo-mainnet.infura.io/v3/${Jt}`,ticker:"CELO",tickerName:"Celo"},[mr]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://arbiscan.io",chainId:mr,displayName:"Arbitrum One",logo:"arbitrum.svg",rpcTarget:`https://arbitrum-mainnet.infura.io/v3/${Jt}`,ticker:"ETH",tickerName:"Ethereum"},[W1]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://basescan.org",chainId:W1,displayName:"Base",logo:"base.svg",rpcTarget:"https://mainnet.base.org",ticker:"ETH",tickerName:"Ethereum"},[qs]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://lineascan.build",chainId:qs,displayName:"Linea",logo:"linea.svg",rpcTarget:`https://linea-mainnet.infura.io/v3/${Jt}`,ticker:"ETH",tickerName:"Ethereum"},[Zs]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.etherscan.io",chainId:Zs,displayName:"Sepolia Test Network",logo:"eth.svg",rpcTarget:`https://sepolia.infura.io/v3/${Jt}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[Uo]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.lineascan.build",chainId:Uo,displayName:"Linea Sepolia Testnet",logo:"linea.svg",rpcTarget:`https://linea-sepolia.infura.io/v3/${Jt}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[ko]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://amoy.polygonscan.com",chainId:ko,displayName:"Polygon Amoy",logo:"polygon.svg",rpcTarget:`https://polygon-amoy.infura.io/v3/${Jt}`,ticker:"POL",tickerName:"Polygon Ecosystem Token",isTestnet:!0},[Ro]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://testnet.bscscan.com",chainId:Ro,displayName:"Binance Smart Chain Testnet",logo:"bnb_logo.svg",rpcTarget:"https://data-seed-prebsc-1-s1.binance.org:8545",ticker:"BNB",tickerName:"Binance Coin",isTestnet:!0},[Bo]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://testnet.snowtrace.io",chainId:Bo,displayName:"Avalanche Testnet C-Chain",logo:"avax.svg",rpcTarget:"https://api.avax-test.network/ext/bc/C/rpc",ticker:"AVAX",tickerName:"Avalanche",isTestnet:!0},[Fo]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.arbiscan.io",chainId:Fo,displayName:"Arbitrum Sepolia",logo:"arbitrum.svg",rpcTarget:`https://arbitrum-sepolia.infura.io/v3/${Jt}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[Xs]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://sepolia-optimistic.etherscan.io",chainId:Xs,displayName:"Optimism Sepolia",logo:"optimism.svg",rpcTarget:`https://optimism-sepolia.infura.io/v3/${Jt}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[Lo]:{chainNamespace:k0.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.basescan.org",chainId:Lo,displayName:"Base Sepolia",logo:"base.svg",rpcTarget:"https://sepolia.base.org",ticker:"ETH",tickerName:"Ethereum",isTestnet:!0}},j={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_ESTIMATE_USER_OPERATION_GAS:"eth_estimateUserOperationGas",ETH_GET_SUPPORTED_ENTRY_POINTS:"eth_supportedEntryPoints",ETH_GET_USER_OPERATION:"eth_getUserOperationByHash",ETH_GET_USER_OPERATION_RECEIPT:"eth_getUserOperationReceipt",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",PIMLICO_GET_USER_OPERATION_GAS_PRICE:"pimlico_getUserOperationGasPrice",PIMLICO_GET_USER_OPERATION_STATUS:"pimlico_getUserOperationStatus",PIMLICO_SIMULATE_ASSET_CHANGES:"pimlico_simulateAssetChanges",BICONOMY_GET_GAS_FEE_VALUES:"biconomy_getGasFeeValues",BICONOMY_GET_USER_OPERATION_STATUS:"biconomy_getUserOperationStatus",ETH_GET_PAYMASTER_DATA:"pm_getPaymasterData",ETH_GET_PAYMASTER_STUB_DATA:"pm_getPaymasterStubData",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",ETH_GET_FEE_QUOTE_OR_DATA:"pm_getFeeQuoteOrData",PIMLICO_GET_TOKEN_QUOTES:"pimlico_getTokenQuotes",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"},Ho=[j.ETH_ESTIMATE_USER_OPERATION_GAS,j.ETH_GET_SUPPORTED_ENTRY_POINTS,j.ETH_GET_USER_OPERATION,j.ETH_GET_USER_OPERATION_RECEIPT,j.ETH_SEND_USER_OPERATION,j.PIMLICO_GET_USER_OPERATION_GAS_PRICE,j.PIMLICO_GET_USER_OPERATION_STATUS,j.PIMLICO_SIMULATE_ASSET_CHANGES,j.BICONOMY_GET_GAS_FEE_VALUES,j.BICONOMY_GET_USER_OPERATION_STATUS],Go=[j.ETH_GET_PAYMASTER_DATA,j.ETH_GET_PAYMASTER_STUB_DATA,j.ETH_SPONSOR_USER_OPERATION,j.PIMLICO_GET_TOKEN_QUOTES,j.ETH_GET_FEE_QUOTE_OR_DATA],kt={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},Qt={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"},qf={[va]:1,[Xs]:1},Zf={"0x06012c8cf97bead5deae237070f9587f8e7a266d":{name:"Cryptokitties",logo:"dapp-cryptokitty.svg",erc20:!0,symbol:"CK",decimals:0}},Xf=[Zs],ti=[Ot,Zs,Ea,Ro,va,Xs,Aa,Bo,mr,Fo,wa,ko,Qs,W1,Lo,qs,Uo],e2=[Ot,wa,Ea,Aa,qs,W1],t2=new Set(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]),n2={[wa]:{platform:"polygon-pos",currency:"pol"},[Ea]:{platform:"binance-smart-chain",currency:"bnb"},[Ot]:{platform:"ethereum",currency:"eth"},[mr]:{platform:"arbitrum-one",currency:"eth"},[va]:{platform:"optimistic-ethereum",currency:"eth"},[Qs]:{platform:"celo",currency:"celo"},[Em]:{platform:"xdai",currency:"xDAI"},[Aa]:{platform:"avalanche",currency:"avax"},[W1]:{platform:"base",currency:"eth"}},Tt={BICONOMY:"biconomy",KERNEL:"kernel",SAFE:"safe",TRUST:"trust",LIGHT:"light",SIMPLE:"simple",NEXUS:"nexus",METAMASK:"metamask"};var ni={[Ot]:"0xb1f8e55c7f64d203c1400b9d8555d050f94adf39",[Ea]:"0x2352c63A83f9Fd126af8676146721Fa00924d7e4",[va]:"0xB1c568e9C3E6bdaf755A60c7418C269eb11524FC",[wa]:"0x2352c63A83f9Fd126af8676146721Fa00924d7e4",[Aa]:"0xD023D153a0DFa485130ECFdE2FAA7e612EF94818",[mr]:"0x151E24A486D7258dd7C33Fb67E4bB01919B7B32c"};var Xw="0x0000000000000000000000000000000000000000",a2=class extends S0{constructor({config:e,state:n,provider:a,blockTracker:r,getIdentities:s,onPreferencesStateChange:i,getCurrentChainId:o}){super({config:e,state:n}),w(this,"provider",void 0),w(this,"blockTracker",void 0),w(this,"mutex",new cn),w(this,"ethersProvider",void 0),w(this,"getIdentities",void 0),w(this,"getCurrentChainId",void 0),this.defaultState={accounts:{}},this.initialize(),this.provider=a,this.blockTracker=r,this.ethersProvider=new bn(this.provider,"any"),this.getIdentities=s,this.getCurrentChainId=o,i(()=>{this.syncAccounts()&&(Vo.default.info("onPreferencesStateChange called"),this.refresh())}),this.blockTrackerListener=this.blockTrackerListener.bind(this)}blockTrackerListener(){this.refresh()}startPolling(){this.stopPolling(),Object.keys(this.state.accounts).length>0&&this.blockTracker.on("latest",this.blockTrackerListener)}stopPolling(){this.blockTracker.removeListener("latest",this.blockTrackerListener)}syncAccounts(){let{accounts:e}=this.state,n=Object.keys(this.getIdentities()),a=Object.keys(e),r=n.filter(o=>a.indexOf(o)===-1),s=a.filter(o=>n.indexOf(o)===-1),i=!1;return r.forEach(o=>{i=!0,e[o]={balance:"0x0"}}),s.forEach(o=>{i=!0,delete e[o]}),this.update({accounts:A({},e)}),i}async refresh(){let e=await this.mutex.acquire();try{this._updateAccounts()}catch{}finally{e()}}async _updateAccounts(){let{accounts:e}=this.state,n=Object.keys(e),a=this.getCurrentChainId();if(a!=="loading"&&n.length>0){if(ni[a]){await this._updateAccountsViaBalanceChecker(n,ni[a]);return}Vo.default.info("falling back to ethQuery.getBalance"),await Promise.all(n.map(r=>this._updateAccount(r)))}}async _updateAccount(e){let n=await this.provider.request({method:"eth_getBalance",params:[e,"latest"]}),{accounts:a}=this.state;a[e]&&(a[e]={balance:q0(n)},this.update({accounts:a}))}async _updateAccountsViaBalanceChecker(e,n){let a=new re(n,Js,this.ethersProvider);try{let r=await a.balances(e,[Xw]),{accounts:s}=this.state;return e.forEach((i,o)=>{let c=q0(r[o]);s[i]&&(s[i]={balance:c})}),this.update({accounts:s})}catch(r){return Vo.default.warn("Torus - Account Tracker single call balance fetch failed",r),Promise.all(e.map(s=>this._updateAccount(s)))}}};var M9=f0(O0());function M(t,e,n){let a=t[e.name];if(typeof a=="function")return a;let r=t[n];return typeof r=="function"?r:s=>e(t,s)}var zo=class extends O{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}};var Am="/docs/contract/encodeEventTopics";function ln(t){let{abi:e,eventName:n,args:a}=t,r=e[0];if(n){let c=e5({abi:e,name:n});if(!c)throw new Kd(n,{docsPath:Am});r=c}if(r.type!=="event")throw new Kd(void 0,{docsPath:Am});let s=ji(r),i=Jr(s),o=[];if(a&&"inputs"in r){let c=r.inputs?.filter(f=>"indexed"in f&&f.indexed),d=Array.isArray(a)?a:Object.values(a).length>0?c?.map(f=>a[f.name])??[]:[];d.length>0&&(o=c?.map((f,p)=>Array.isArray(d[p])?d[p].map((u,b)=>vm({param:f,value:d[p][b]})):typeof d[p]<"u"&&d[p]!==null?vm({param:f,value:d[p]}):null)??[])}return[i,...o]}function vm({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return W(H0(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new zo(t.type);return o0([t],[e])}function Ca(t,{method:e}){let n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:a,response:r,status:s,transport:i})=>{s==="success"&&e===a&&(n[r]=i.request)}),(a=>n[a]||t.request)}async function Ko(t,e){let{address:n,abi:a,args:r,eventName:s,fromBlock:i,strict:o,toBlock:c}=e,d=Ca(t,{method:"eth_newFilter"}),f=s?ln({abi:a,args:r,eventName:s}):void 0,p=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?F(i):i,toBlock:typeof c=="bigint"?F(c):c,topics:f}]});return{abi:a,args:r,eventName:s,id:p,request:d(p),strict:!!o,type:"event"}}var eE=3;function xt(t,{abi:e,address:n,args:a,docsPath:r,functionName:s,sender:i}){let o=t instanceof Zr?t:t instanceof O?t.walk(l=>"data"in l)||t.walk():{},{code:c,data:d,details:f,message:p,shortMessage:u}=o,b=t instanceof Yr?new s5({functionName:s}):[eE,Xr.code].includes(c)&&(d||f||p||u)?new Ga({abi:e,data:typeof d=="object"?d.data:d,functionName:s,message:o instanceof i5?f:u??p}):t;return new W6(b,{abi:e,args:a,contractAddress:n,docsPath:r,functionName:s,sender:i})}function Cm(t){let e=W(`0x${t.substring(4)}`).substring(26);return K6(`0x${e}`)}async function Pm({hash:t,signature:e}){let n=An(t)?t:a0(t),{secp256k1:a}=await import("./secp256k1-YEZ3KALT.js");return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:d,s:f,v:p,yParity:u}=e,b=Number(u??p),l=Im(b);return new a.Signature(C0(d),C0(f)).addRecoveryBit(l)}let i=An(e)?e:a0(e);if(Be(i)!==65)throw new Error("invalid signature length");let o=le(`0x${i.slice(130)}`),c=Im(o);return a.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Im(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Wo({hash:t,signature:e}){return Cm(await Pm({hash:t,signature:e}))}function jo(t,e="hex"){let n=_m(t),a=t5(new Uint8Array(n.length));return n.encode(a),e==="hex"?ce(a.bytes):a.bytes}function _m(t){return Array.isArray(t)?tE(t.map(e=>_m(e))):nE(t)}function tE(t){let e=t.reduce((r,s)=>r+s.length,0),n=Sm(e);return{length:e<=55?1+e:1+n+e,encode(r){e<=55?r.pushByte(192+e):(r.pushByte(247+n),n===1?r.pushUint8(e):n===2?r.pushUint16(e):n===3?r.pushUint24(e):r.pushUint32(e));for(let{encode:s}of t)s(r)}}}function nE(t){let e=typeof t=="string"?Fe(t):t,n=Sm(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(r){e.length===1&&e[0]<128?r.pushBytes(e):e.length<=55?(r.pushByte(128+e.length),r.pushBytes(e)):(r.pushByte(183+n),n===1?r.pushUint8(e.length):n===2?r.pushUint16(e.length):n===3?r.pushUint24(e.length):r.pushUint32(e.length),r.pushBytes(e))}}}function Sm(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new O("Length is too large.")}function Nm(t){let{chainId:e,nonce:n,to:a}=t,r=t.contractAddress??t.address,s=W($0(["0x05",jo([e?F(e):"0x",r,n?F(n):"0x"])]));return a==="bytes"?Fe(s):s}async function $o(t){let{authorization:e,signature:n}=t;return Wo({hash:Nm(e),signature:n??e})}var Yo=class extends O{constructor(e,{account:n,docsPath:a,chain:r,data:s,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:f,to:p,value:u}){let b=n5({from:n?.address,to:p,value:typeof u<"u"&&`${Bu(u)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:i,gasPrice:typeof o<"u"&&`${an(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${an(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${an(d)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}};function Dm(t,{docsPath:e,...n}){let a=(()=>{let r=t1(t,n);return r instanceof e1?t:r})();return new Yo(a,{docsPath:e,...n})}var Jo=class extends O{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},Ia=class extends O{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},Qo=class extends O{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${an(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}};var $1=class extends O{constructor({blockHash:e,blockNumber:n}){let a="Block";e&&(a=`Block at hash "${e}"`),n&&(a=`Block at number "${n}"`),super(`${a} could not be found.`,{name:"BlockNotFoundError"})}};var r2={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function qo(t){let e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?le(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?le(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?r2[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=aE(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function aE(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Zo(t){let e=(t.transactions??[]).map(n=>typeof n=="string"?n:qo(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Ge(t,{blockHash:e,blockNumber:n,blockTag:a=t.experimental_blockTag??"latest",includeTransactions:r}={}){let s=r??!1,i=n!==void 0?F(n):void 0,o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):o=await t.request({method:"eth_getBlockByNumber",params:[i||a,s]},{dedupe:!!i}),!o)throw new $1({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||Zo)(o)}async function Y1(t){let e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Mm(t,e){return s2(t,e)}async function s2(t,e){let{block:n,chain:a=t.chain,request:r}=e||{};try{let s=a?.fees?.maxPriorityFeePerGas??a?.fees?.defaultPriorityFee;if(typeof s=="function"){let o=n||await M(t,Ge,"getBlock")({}),c=await s({block:o,client:t,request:r});if(c===null)throw new Error;return c}if(typeof s<"u")return s;let i=await t.request({method:"eth_maxPriorityFeePerGas"});return C0(i)}catch{let[s,i]=await Promise.all([n?Promise.resolve(n):M(t,Ge,"getBlock")({}),M(t,Y1,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new Ia;let o=i-s.baseFeePerGas;return o<0n?0n:o}}async function Xo(t,e){return ec(t,e)}async function ec(t,e){let{block:n,chain:a=t.chain,request:r,type:s="eip1559"}=e||{},i=await(async()=>typeof a?.fees?.baseFeeMultiplier=="function"?a.fees.baseFeeMultiplier({block:n,client:t,request:r}):a?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new Jo;let c=10**(i.toString().split(".")[1]?.length??0),d=u=>u*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await M(t,Ge,"getBlock")({});if(typeof a?.fees?.estimateFeesPerGas=="function"){let u=await a.fees.estimateFeesPerGas({block:n,client:t,multiply:d,request:r,type:s});if(u!==null)return u}if(s==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Ia;let u=typeof r?.maxPriorityFeePerGas=="bigint"?r.maxPriorityFeePerGas:await s2(t,{block:f,chain:a,request:r}),b=d(f.baseFeePerGas);return{maxFeePerGas:r?.maxFeePerGas??b+u,maxPriorityFeePerGas:u}}return{gasPrice:r?.gasPrice??d(await M(t,Y1,"getGasPrice")({}))}}async function Pa(t,{address:e,blockTag:n="latest",blockNumber:a}){let r=await t.request({method:"eth_getTransactionCount",params:[e,typeof a=="bigint"?F(a):n]},{dedupe:!!a});return le(r)}function tc(t){let{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),a=typeof t.blobs[0]=="string"?t.blobs.map(s=>Fe(s)):t.blobs,r=[];for(let s of a)r.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?r:r.map(s=>ce(s))}function nc(t){let{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),a=typeof t.blobs[0]=="string"?t.blobs.map(i=>Fe(i)):t.blobs,r=typeof t.commitments[0]=="string"?t.commitments.map(i=>Fe(i)):t.commitments,s=[];for(let i=0;i<a.length;i++){let o=a[i],c=r[i];s.push(Uint8Array.from(e.computeBlobKzgProof(o,c)))}return n==="bytes"?s:s.map(i=>ce(i))}function Om(t,e){let n=e||"hex",a=Pu(An(t,{strict:!1})?H0(t):t);return n==="bytes"?a:a0(a)}function km(t){let{commitment:e,version:n=1}=t,a=t.to??(typeof e=="string"?"hex":"bytes"),r=Om(e,"bytes");return r.set([n],0),a==="bytes"?r:ce(r)}function Rm(t){let{commitments:e,version:n}=t,a=t.to??(typeof e[0]=="string"?"hex":"bytes"),r=[];for(let s of e)r.push(km({commitment:s,to:a,version:n}));return r}var ac=class extends O{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}},rc=class extends O{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}};function Bm(t){let e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Fe(t.data):t.data,a=Be(n);if(!a)throw new rc;if(a>761855)throw new ac({maxSize:761855,size:a});let r=[],s=!0,i=0;for(;s;){let o=t5(new Uint8Array(131072)),c=0;for(;c<4096;){let d=n.slice(i,i+31);if(o.pushByte(0),o.pushBytes(d),d.length<31){o.pushByte(128),s=!1;break}c++,i+=31}r.push(o)}return e==="bytes"?r.map(o=>o.bytes):r.map(o=>ce(o.bytes))}function Fm(t){let{data:e,kzg:n,to:a}=t,r=t.blobs??Bm({data:e,to:a}),s=t.commitments??tc({blobs:r,kzg:n,to:a}),i=t.proofs??nc({blobs:r,commitments:s,kzg:n,to:a}),o=[];for(let c=0;c<r.length;c++)o.push({blob:r[c],commitment:s[c],proof:i[c]});return o}function Lm(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Fu({transaction:t})}async function V0(t){let e=await t.request({method:"eth_chainId"},{dedupe:!0});return le(e)}var i2=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Um=new Map;async function _a(t,e){let{account:n=t.account,blobs:a,chain:r,gas:s,kzg:i,nonce:o,nonceManager:c,parameters:d=i2,type:f}=e,p=n&&c0(n),u={...e,...p?{from:p?.address}:{}},b;async function l(){return b||(b=await M(t,Ge,"getBlock")({blockTag:"latest"}),b)}let y;async function m(){return y||(r?r.id:typeof e.chainId<"u"?e.chainId:(y=await M(t,V0,"getChainId")({}),y))}if(d.includes("nonce")&&typeof o>"u"&&p)if(c){let h=await m();u.nonce=await c.consume({address:p.address,chainId:h,client:t})}else u.nonce=await M(t,Pa,"getTransactionCount")({address:p.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&a&&i){let h=tc({blobs:a,kzg:i});if(d.includes("blobVersionedHashes")){let g=Rm({commitments:h,to:"hex"});u.blobVersionedHashes=g}if(d.includes("sidecars")){let g=nc({blobs:a,commitments:h,kzg:i}),x=Fm({blobs:a,commitments:h,proofs:g,to:"hex"});u.sidecars=x}}if(d.includes("chainId")&&(u.chainId=await m()),(d.includes("fees")||d.includes("type"))&&typeof f>"u")try{u.type=Lm(u)}catch{let h=Um.get(t.uid);typeof h>"u"&&(h=typeof(await l())?.baseFeePerGas=="bigint",Um.set(t.uid,h)),u.type=h?"eip1559":"legacy"}if(d.includes("fees"))if(u.type!=="legacy"&&u.type!=="eip2930"){if(typeof u.maxFeePerGas>"u"||typeof u.maxPriorityFeePerGas>"u"){let h=await l(),{maxFeePerGas:g,maxPriorityFeePerGas:x}=await ec(t,{block:h,chain:r,request:u});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<x)throw new Qo({maxPriorityFeePerGas:x});u.maxPriorityFeePerGas=x,u.maxFeePerGas=g}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new Ia;if(typeof e.gasPrice>"u"){let h=await l(),{gasPrice:g}=await ec(t,{block:h,chain:r,request:u,type:"legacy"});u.gasPrice=g}}return d.includes("gas")&&typeof s>"u"&&(u.gas=await M(t,J1,"estimateGas")({...u,account:p&&{address:p.address,type:"json-rpc"}})),Ct(u),delete u.parameters,u}async function sc(t,{address:e,blockNumber:n,blockTag:a=t.experimental_blockTag??"latest"}){let r=typeof n=="bigint"?F(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,r||a]});return BigInt(s)}async function J1(t,e){let{account:n=t.account}=e,a=n?c0(n):void 0;try{let B=function(X){let{block:b0,request:R,rpcStateOverride:G}=X;return t.request({method:"eth_estimateGas",params:G?[R,b0??t.experimental_blockTag??"latest",G]:b0?[R,b0]:[R]})},{accessList:r,authorizationList:s,blobs:i,blobVersionedHashes:o,blockNumber:c,blockTag:d,data:f,gas:p,gasPrice:u,maxFeePerBlobGas:b,maxFeePerGas:l,maxPriorityFeePerGas:y,nonce:m,value:h,stateOverride:g,...x}=await _a(t,{...e,parameters:a?.type==="local"?void 0:["blobVersionedHashes"]}),I=(typeof c=="bigint"?F(c):void 0)||d,E=a1(g),v=await(async()=>{if(x.to)return x.to;if(s&&s.length>0)return await $o({authorization:s[0]}).catch(()=>{throw new O("`to` is required. Could not infer from `authorizationList`")})})();Ct(e);let P=t.chain?.formatters?.transactionRequest?.format,D=(P||rn)({...n1(x,{format:P}),from:a?.address,accessList:r,authorizationList:s,blobs:i,blobVersionedHashes:o,data:f,gas:p,gasPrice:u,maxFeePerBlobGas:b,maxFeePerGas:l,maxPriorityFeePerGas:y,nonce:m,to:v,value:h}),$=BigInt(await B({block:I,request:D,rpcStateOverride:E}));if(s){let X=await sc(t,{address:D.from}),b0=await Promise.all(s.map(async R=>{let{address:G}=R,e0=await B({block:I,request:{authorizationList:void 0,data:f,from:a?.address,to:G,value:F(X)},rpcStateOverride:E}).catch(()=>100000n);return 2n*BigInt(e0)}));$+=b0.reduce((R,G)=>R+G,0n)}return $}catch(r){throw Dm(r,{...e,account:a,chain:t.chain})}}async function Hm(t,e){let{abi:n,address:a,args:r,functionName:s,dataSuffix:i,...o}=e,c=S({abi:n,args:r,functionName:s});try{return await M(t,J1,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:a,...o})}catch(d){let f=o.account?c0(o.account):void 0;throw xt(d,{abi:n,address:a,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:f?.address})}}var Gm="/docs/contract/decodeEventLog";function Q1(t){let{abi:e,data:n,strict:a,topics:r}=t,s=a??!0,[i,...o]=r;if(!i)throw new Nu({docsPath:Gm});let c=e.find(y=>y.type==="event"&&i===Jr(ji(y)));if(!(c&&"name"in c)||c.type!=="event")throw new $i(i,{docsPath:Gm});let{name:d,inputs:f}=c,p=f?.some(y=>!("name"in y&&y.name)),u=p?[]:{},b=f.map((y,m)=>[y,m]).filter(([y])=>"indexed"in y&&y.indexed);for(let y=0;y<b.length;y++){let[m,h]=b[y],g=o[y];if(!g)throw new Jn({abiItem:c,param:m});u[p?h:m.name||h]=sE({param:m,value:g})}let l=f.filter(y=>!("indexed"in y&&y.indexed));if(l.length>0){if(n&&n!=="0x")try{let y=Ft(l,n);if(y)if(p)for(let m=0;m<f.length;m++)u[m]=u[m]??y.shift();else for(let m=0;m<l.length;m++)u[l[m].name]=y[m]}catch(y){if(s)throw y instanceof _u||y instanceof Ou?new vn({abiItem:c,data:n,params:l,size:Be(n)}):y}else if(s)throw new vn({abiItem:c,data:"0x",params:l,size:0})}return{eventName:d,args:Object.values(u).length>0?u:void 0}}function sE({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Ft([t],e)||[])[0]}function q1(t){let{abi:e,args:n,logs:a,strict:r=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return a.map(i=>{try{let o=e.find(d=>d.type==="event"&&i.topics[0]===Jr(d));if(!o)return null;let c=Q1({...i,abi:[o],strict:r});return s&&!s.includes(c.eventName)||!iE({args:c.args,inputs:o.inputs,matchArgs:n})?null:{...c,...i}}catch(o){let c,d;if(o instanceof $i)return null;if(o instanceof vn||o instanceof Jn){if(r)return null;c=o.abiItem.name,d=o.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...i,args:d?[]:{},eventName:c}}}).filter(Boolean)}function iE(t){let{args:e,inputs:n,matchArgs:a}=t;if(!a)return!0;if(!e)return!1;function r(s,i,o){try{return s.type==="address"?Qn(i,o):s.type==="string"||s.type==="bytes"?W(H0(i))===o:i===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(a)?a.every((s,i)=>{if(s==null)return!0;let o=n[i];return o?(Array.isArray(s)?s:[s]).some(d=>r(o,d,e[i])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof a=="object"&&!Array.isArray(a)?Object.entries(a).every(([s,i])=>{if(i==null)return!0;let o=n.find(d=>d.name===s);return o?(Array.isArray(i)?i:[i]).some(d=>r(o,d,e[s])):!1}):!1}function Pe(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Z1(t,{address:e,blockHash:n,fromBlock:a,toBlock:r,event:s,events:i,args:o,strict:c}={}){let d=c??!1,f=i??(s?[s]:void 0),p=[];f&&(p=[f.flatMap(y=>ln({abi:[y],eventName:y.name,args:i?void 0:o}))],s&&(p=p[0]));let u;n?u=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,blockHash:n}]}):u=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,fromBlock:typeof a=="bigint"?F(a):a,toBlock:typeof r=="bigint"?F(r):r}]});let b=u.map(l=>Pe(l));return f?q1({abi:f,args:o,logs:b,strict:d}):b}async function ic(t,e){let{abi:n,address:a,args:r,blockHash:s,eventName:i,fromBlock:o,toBlock:c,strict:d}=e,f=i?e5({abi:n,name:i}):void 0,p=f?void 0:n.filter(u=>u.type==="event");return M(t,Z1,"getLogs")({address:a,args:r,blockHash:s,event:f,events:p,fromBlock:o,toBlock:c,strict:d})}async function H(t,e){let{abi:n,address:a,args:r,functionName:s,...i}=e,o=S({abi:n,args:r,functionName:s});try{let{data:c}=await M(t,Ut,"call")({...i,data:o,to:a});return ct({abi:n,args:r,functionName:s,data:c||"0x"})}catch(c){throw xt(c,{abi:n,address:a,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function q(t,e){let{abi:n,address:a,args:r,dataSuffix:s,functionName:i,...o}=e,c=o.account?c0(o.account):t.account,d=S({abi:n,args:r,functionName:i});try{let{data:f}=await M(t,Ut,"call")({batch:!1,data:`${d}${s?s.replace("0x",""):""}`,to:a,...o,account:c}),p=ct({abi:n,args:r,functionName:i,data:f||"0x"}),u=n.filter(b=>"name"in b&&b.name===e.functionName);return{result:p,request:{abi:u,address:a,args:r,dataSuffix:s,functionName:i,...o,account:c}}}catch(f){throw xt(f,{abi:n,address:a,args:r,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}var o2=new Map,Vm=new Map,oE=0;function _e(t,e,n){let a=++oE,r=()=>o2.get(t)||[],s=()=>{let f=r();o2.set(t,f.filter(p=>p.id!==a))},i=()=>{let f=r();if(!f.some(u=>u.id===a))return;let p=Vm.get(t);if(f.length===1&&p){let u=p();u instanceof Promise&&u.catch(()=>{})}s()},o=r();if(o2.set(t,[...o,{id:a,fns:e}]),o&&o.length>0)return i;let c={};for(let f in e)c[f]=((...p)=>{let u=r();if(u.length!==0)for(let b of u)b.fns[f]?.(...p)});let d=n(c);return typeof d=="function"&&Vm.set(t,d),i}async function ai(t){return new Promise(e=>setTimeout(e,t))}function nt(t,{emitOnBegin:e,initialWaitTime:n,interval:a}){let r=!0,s=()=>r=!1;return(async()=>{let o;e&&(o=await t({unpoll:s}));let c=await n?.(o)??a;await ai(c);let d=async()=>{r&&(await t({unpoll:s}),await ai(a),d())};d()})(),s}var cE=new Map,dE=new Map;function zm(t){let e=(r,s)=>({clear:()=>s.delete(r),get:()=>s.get(r),set:i=>s.set(r,i)}),n=e(t,cE),a=e(t,dE);return{clear:()=>{n.clear(),a.clear()},promise:n,response:a}}async function Km(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){let a=zm(e),r=a.response.get();if(r&&n>0&&new Date().getTime()-r.created.getTime()<n)return r.data;let s=a.promise.get();s||(s=t(),a.promise.set(s));try{let i=await s;return a.response.set({created:new Date,data:i}),i}finally{a.promise.clear()}}var fE=t=>`blockNumber.${t}`;async function yn(t,{cacheTime:e=t.cacheTime}={}){let n=await Km(()=>t.request({method:"eth_blockNumber"}),{cacheKey:fE(t.uid),cacheTime:e});return BigInt(n)}async function Sa(t,{filter:e}){let n="strict"in e&&e.strict,a=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof a[0]=="string")return a;let r=a.map(s=>Pe(s));return!("abi"in e)||!e.abi?r:q1({abi:e.abi,logs:r,strict:n})}async function Na(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Wm(t,e){let{abi:n,address:a,args:r,batch:s=!0,eventName:i,fromBlock:o,onError:c,onLogs:d,poll:f,pollingInterval:p=t.pollingInterval,strict:u}=e;return(typeof f<"u"?f:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{let m=u??!1,h=N0(["watchContractEvent",a,r,s,t.uid,i,p,m,o]);return _e(h,{onLogs:d,onError:c},g=>{let x;o!==void 0&&(x=o-1n);let C,I=!1,E=nt(async()=>{if(!I){try{C=await M(t,Ko,"createContractEventFilter")({abi:n,address:a,args:r,eventName:i,strict:m,fromBlock:o})}catch{}I=!0;return}try{let v;if(C)v=await M(t,Sa,"getFilterChanges")({filter:C});else{let P=await M(t,yn,"getBlockNumber")({});x&&x<P?v=await M(t,ic,"getContractEvents")({abi:n,address:a,args:r,eventName:i,fromBlock:x+1n,toBlock:P,strict:m}):v=[],x=P}if(v.length===0)return;if(s)g.onLogs(v);else for(let P of v)g.onLogs([P])}catch(v){C&&v instanceof za&&(I=!1),g.onError?.(v)}},{emitOnBegin:!0,interval:p});return async()=>{C&&await M(t,Na,"uninstallFilter")({filter:C}),E()}})})():(()=>{let m=u??!1,h=N0(["watchContractEvent",a,r,s,t.uid,i,p,m]),g=!0,x=()=>g=!1;return _e(h,{onLogs:d,onError:c},C=>((async()=>{try{let I=(()=>{if(t.transport.type==="fallback"){let P=t.transport.transports.find(U=>U.config.type==="webSocket"||U.config.type==="ipc");return P?P.value:t.transport}return t.transport})(),E=i?ln({abi:n,eventName:i,args:r}):[],{unsubscribe:v}=await I.subscribe({params:["logs",{address:a,topics:E}],onData(P){if(!g)return;let U=P.result;try{let{eventName:D,args:B}=Q1({abi:n,data:U.data,topics:U.topics,strict:u}),$=Pe(U,{args:B,eventName:D});C.onLogs([$])}catch(D){let B,$;if(D instanceof vn||D instanceof Jn){if(u)return;B=D.abiItem.name,$=D.abiItem.inputs?.some(b0=>!("name"in b0&&b0.name))}let X=Pe(U,{args:$?[]:{},eventName:B});C.onLogs([X])}},onError(P){C.onError?.(P)}});x=v,g||x()}catch(I){c?.(I)}})(),()=>x()))})()}var se=class extends O{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},Da=class extends O{constructor({docsPath:e,metaMessages:n,type:a}){super(`Account type "${a}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}};function oc({chain:t,currentChainId:e}){if(!t)throw new Xu;if(e!==t.id)throw new Zu({chain:t,currentChainId:e})}function cc(t,{docsPath:e,...n}){let a=(()=>{let r=t1(t,n);return r instanceof e1?t:r})();return new Lu(a,{docsPath:e,...n})}async function X1(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}var c2=new Qr(128);async function Ma(t,e){let{account:n=t.account,chain:a=t.chain,accessList:r,authorizationList:s,blobs:i,data:o,gas:c,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:u,nonce:b,type:l,value:y,...m}=e;if(typeof n>"u")throw new se({docsPath:"/docs/actions/wallet/sendTransaction"});let h=n?c0(n):null;try{Ct(e);let g=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await $o({authorization:s[0]}).catch(()=>{throw new O("`to` is required. Could not infer from `authorizationList`.")})})();if(h?.type==="json-rpc"||h===null){let x;a!==null&&(x=await M(t,V0,"getChainId")({}),oc({currentChainId:x,chain:a}));let C=t.chain?.formatters?.transactionRequest?.format,E=(C||rn)({...n1(m,{format:C}),accessList:r,authorizationList:s,blobs:i,chainId:x,data:o,from:h?.address,gas:c,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:u,nonce:b,to:g,type:l,value:y}),v=c2.get(t.uid),P=v?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:P,params:[E]},{retryCount:0})}catch(U){if(v===!1)throw U;let D=U;if(D.name==="InvalidInputRpcError"||D.name==="InvalidParamsRpcError"||D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[E]},{retryCount:0}).then(B=>(c2.set(t.uid,!0),B)).catch(B=>{let $=B;throw $.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError"?(c2.set(t.uid,!1),D):$});throw D}}if(h?.type==="local"){let x=await M(t,_a,"prepareTransactionRequest")({account:h,accessList:r,authorizationList:s,blobs:i,chain:a,data:o,gas:c,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:p,maxPriorityFeePerGas:u,nonce:b,nonceManager:h.nonceManager,parameters:[...i2,"sidecars"],type:l,value:y,...m,to:g}),C=a?.serializers?.transaction,I=await h.signTransaction(x,{serializer:C});return await M(t,X1,"sendRawTransaction")({serializedTransaction:I})}throw h?.type==="smart"?new Da({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Da({docsPath:"/docs/actions/wallet/sendTransaction",type:h?.type})}catch(g){throw g instanceof Da?g:cc(g,{...e,account:h,chain:e.chain||void 0})}}async function A0(t,e){let{abi:n,account:a=t.account,address:r,args:s,dataSuffix:i,functionName:o,...c}=e;if(typeof a>"u")throw new se({docsPath:"/docs/contract/writeContract"});let d=a?c0(a):null,f=S({abi:n,args:s,functionName:o});try{return await M(t,Ma,"sendTransaction")({data:`${f}${i?i.replace("0x",""):""}`,to:r,account:d,...c})}catch(p){throw xt(p,{abi:n,address:r,args:s,docsPath:"/docs/contract/writeContract",functionName:o,sender:d?.address})}}var dc=class extends O{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}};function hr(t,{delay:e=100,retryCount:n=2,shouldRetry:a=()=>!0}={}){return new Promise((r,s)=>{let i=async({count:o=0}={})=>{let c=async({error:d})=>{let f=typeof e=="function"?e({count:o,error:d}):e;f&&await ai(f),i({count:o+1})};try{let d=await t();r(d)}catch(d){if(o<n&&await a({count:o,error:d}))return c({error:d});s(d)}};i()})}var d2={"0x0":"reverted","0x1":"success"};function fc(t){let e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Pe(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?le(t.transactionIndex):null,status:t.status?d2[t.status]:null,type:t.type?r2[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}var f2="0x5792579257925792579257925792579257925792579257925792579257925792",p2=F(0,{size:32});async function jm(t,e){let{account:n=t.account,capabilities:a,chain:r=t.chain,experimental_fallback:s,experimental_fallbackDelay:i=32,forceAtomic:o=!1,id:c,version:d="2.0.0"}=e,f=n?c0(n):null,p=e.calls.map(u=>{let b=u,l=b.abi?S({abi:b.abi,functionName:b.functionName,args:b.args}):b.data;return{data:b.dataSuffix&&l?p0([l,b.dataSuffix]):l,to:b.to,value:b.value?F(b.value):void 0}});try{let u=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:p,capabilities:a,chainId:F(r.id),from:f?.address,id:c,version:d}]},{retryCount:0});return typeof u=="string"?{id:u}:u}catch(u){let b=u;if(s&&(b.name==="MethodNotFoundRpcError"||b.name==="MethodNotSupportedRpcError"||b.name==="UnknownRpcError"||b.details.toLowerCase().includes("does not exist / is not available")||b.details.toLowerCase().includes("missing or invalid. request()")||b.details.toLowerCase().includes("did not match any variant of untagged enum")||b.details.toLowerCase().includes("account upgraded to unsupported contract")||b.details.toLowerCase().includes("eip-7702 not supported")||b.details.toLowerCase().includes("unsupported wc_ method")||b.details.toLowerCase().includes("feature toggled misconfigured"))){if(a&&Object.values(a).some(g=>!g.optional)){let g="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new $6(new O(g,{details:g}))}if(o&&p.length>1){let h="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Y6(new O(h,{details:h}))}let l=[];for(let h of p){let g=Ma(t,{account:f,chain:r,data:h.data,to:h.to,value:h.value?C0(h.value):void 0});l.push(g),i>0&&await new Promise(x=>setTimeout(x,i))}let y=await Promise.allSettled(l);if(y.every(h=>h.status==="rejected"))throw y[0].reason;let m=y.map(h=>h.status==="fulfilled"?h.value:p2);return{id:p0([...m,F(r.id,{size:32}),f2])}}throw cc(u,{...e,account:f,chain:e.chain})}}async function pc(t,e){async function n(f){if(f.endsWith(f2.slice(2))){let u=Ji(qr(f,-64,-32)),b=qr(f,0,-64).slice(2).match(/.{1,64}/g),l=await Promise.all(b.map(m=>p2.slice(2)!==m?t.request({method:"eth_getTransactionReceipt",params:[`0x${m}`]},{dedupe:!0}):void 0)),y=l.some(m=>m===null)?100:l.every(m=>m?.status==="0x1")?200:l.every(m=>m?.status==="0x0")?500:600;return{atomic:!1,chainId:le(u),receipts:l.filter(Boolean),status:y,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[f]})}let{atomic:a=!1,chainId:r,receipts:s,version:i="2.0.0",...o}=await n(e.id),[c,d]=(()=>{let f=o.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...o,atomic:a,chainId:r?le(r):void 0,receipts:s?.map(f=>({...f,blockNumber:C0(f.blockNumber),gasUsed:C0(f.gasUsed),status:d2[f.status]}))??[],statusCode:d,status:c,version:i}}async function $m(t,e){let{id:n,pollingInterval:a=t.pollingInterval,status:r=({statusCode:y})=>y===200||y>=300,retryCount:s=4,retryDelay:i=({count:y})=>~~(1<<y)*200,timeout:o=6e4,throwOnFailure:c=!1}=e,d=N0(["waitForCallsStatus",t.uid,n]),{promise:f,resolve:p,reject:u}=b5(),b,l=_e(d,{resolve:p,reject:u},y=>{let m=nt(async()=>{let h=g=>{clearTimeout(b),m(),g(),l()};try{let g=await hr(async()=>{let x=await pc(t,{id:n});if(c&&x.status==="failure")throw new dc(x);return x},{retryCount:s,delay:i});if(!r(g))return;h(()=>y.resolve(g))}catch(g){h(()=>y.reject(g))}},{interval:a,emitOnBegin:!0});return m});return b=o?setTimeout(()=>{l(),clearTimeout(b),u(new u2({id:n}))},o):void 0,await f}var u2=class extends O{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}};var uc=256,bc;function lc(t=11){if(!bc||uc+t>256*2){bc="",uc=0;for(let e=0;e<256;e++)bc+=(256+Math.random()*256|0).toString(16).substring(1)}return bc.substring(uc,uc+++t)}function Oa(t){let{batch:e,chain:n,ccipRead:a,key:r="base",name:s="Base Client",type:i="base"}=t,o=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,d=Math.min(Math.max(Math.floor(c/2),500),4e3),f=t.pollingInterval??d,p=t.cacheTime??f,u=t.account?c0(t.account):void 0,{config:b,request:l,value:y}=t.transport({chain:n,pollingInterval:f}),m={...b,...y},h={account:u,batch:e,cacheTime:p,ccipRead:a,chain:n,key:r,name:s,pollingInterval:f,request:l,transport:m,type:i,uid:lc(),...o?{experimental_blockTag:o}:{}};function g(x){return C=>{let I=C(x);for(let v in h)delete I[v];let E={...x,...I};return Object.assign(E,{extend:g(E)})}}return Object.assign(h,{extend:g(h)})}var yc=new Qr(8192);function Ym(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(yc.get(n))return yc.get(n);let a=t().finally(()=>yc.delete(n));return yc.set(n,a),a}function Jm(t,e={}){return async(n,a={})=>{let{dedupe:r=!1,methods:s,retryDelay:i=150,retryCount:o=3,uid:c}={...e,...a},{method:d}=n;if(s?.exclude?.includes(d))throw new j6(new Error("method not supported"),{method:d});if(s?.include&&!s.include.includes(d))throw new j6(new Error("method not supported"),{method:d});let f=r?ze(`${c}.${N0(n)}`):void 0;return Ym(()=>hr(async()=>{try{return await t(n)}catch(p){let u=p;switch(u.code){case jd.code:throw new jd(u);case $d.code:throw new $d(u);case Yd.code:throw new Yd(u,{method:n.method});case Jd.code:throw new Jd(u);case Xr.code:throw new Xr(u);case za.code:throw new za(u);case Qd.code:throw new Qd(u);case qd.code:throw new qd(u);case Zd.code:throw new Zd(u);case j6.code:throw new j6(u,{method:n.method});case o5.code:throw new o5(u);case Xd.code:throw new Xd(u);case c5.code:throw new c5(u);case e8.code:throw new e8(u);case t8.code:throw new t8(u);case n8.code:throw new n8(u);case a8.code:throw new a8(u);case r8.code:throw new r8(u);case $6.code:throw new $6(u);case s8.code:throw new s8(u);case i8.code:throw new i8(u);case o8.code:throw new o8(u);case c8.code:throw new c8(u);case d8.code:throw new d8(u);case Y6.code:throw new Y6(u);case 5e3:throw new c5(u);default:throw p instanceof O?p:new Gu(u)}}},{delay:({count:p,error:u})=>{if(u&&u instanceof Va){let b=u?.headers?.get("Retry-After");if(b?.match(/\d/))return Number.parseInt(b)*1e3}return~~(1<<p)*i},retryCount:o,shouldRetry:({error:p})=>pE(p)}),{enabled:r,id:f})}}function pE(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===o5.code||t.code===Xr.code:t instanceof Va&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function mc({key:t,methods:e,name:n,request:a,retryCount:r=3,retryDelay:s=150,timeout:i,type:o},c){let d=lc();return{config:{key:t,methods:e,name:n,request:a,retryCount:r,retryDelay:s,timeout:i,type:o},request:Jm(a,{methods:e,retryCount:r,retryDelay:s,uid:d}),value:c}}function gr(t,e={}){let{key:n="custom",methods:a,name:r="Custom Provider",retryDelay:s}=e;return({retryCount:i})=>mc({key:n,methods:a,name:r,request:t.request.bind(t),retryCount:e.retryCount??i,retryDelay:s,type:"custom"})}var hc=class extends O{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};function Qm(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:a}){return new Promise((r,s)=>{(async()=>{let i;try{let o=new AbortController;n>0&&(i=setTimeout(()=>{a?o.abort():s(e)},n)),r(await t({signal:o?.signal||null}))}catch(o){o?.name==="AbortError"&&s(e),s(o)}finally{clearTimeout(i)}})()})}function uE(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var b2=uE();function qm(t,e={}){return{async request(n){let{body:a,onRequest:r=e.onRequest,onResponse:s=e.onResponse,timeout:i=e.timeout??1e4}=n,o={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:d,signal:f}=o;try{let p=await Qm(async({signal:b})=>{let l={...o,body:Array.isArray(a)?N0(a.map(g=>({jsonrpc:"2.0",id:g.id??b2.take(),...g}))):N0({jsonrpc:"2.0",id:a.id??b2.take(),...a}),headers:{"Content-Type":"application/json",...c},method:d||"POST",signal:f||(i>0?b:null)},y=new Request(t,l),m=await r?.(y,l)??{...l,url:t};return await fetch(m.url??t,m)},{errorInstance:new Wd({body:a,url:t}),timeout:i,signal:!0});s&&await s(p);let u;if(p.headers.get("Content-Type")?.startsWith("application/json"))u=await p.json();else{u=await p.text();try{u=JSON.parse(u||"{}")}catch(b){if(p.ok)throw b;u={error:u}}}if(!p.ok)throw new Va({body:a,details:N0(u.error)||p.statusText,headers:p.headers,status:p.status,url:t});return u}catch(p){throw p instanceof Va||p instanceof Wd?p:new Va({body:a,cause:p,url:t})}}}}function l2(t,e={}){let{batch:n,fetchOptions:a,key:r="http",methods:s,name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:d,raw:f}=e;return({chain:p,retryCount:u,timeout:b})=>{let{batchSize:l=1e3,wait:y=0}=typeof n=="object"?n:{},m=e.retryCount??u,h=b??e.timeout??1e4,g=t||p?.rpcUrls.default.http[0];if(!g)throw new hc;let x=qm(g,{fetchOptions:a,onRequest:o,onResponse:c,timeout:h});return mc({key:r,methods:s,name:i,async request({method:C,params:I}){let E={method:C,params:I},{schedule:v}=tb({id:g,wait:y,shouldSplitBatch(B){return B.length>l},fn:B=>x.request({body:B}),sort:(B,$)=>B.id-$.id}),P=async B=>n?v(B):[await x.request({body:B})],[{error:U,result:D}]=await P(E);if(f)return{error:U,result:D};if(U)throw new i5({body:E,error:U,url:g});return D},retryCount:m,retryDelay:d,timeout:h,type:"http"},{fetchOptions:a,url:g})}}function e6(t){if(!(t instanceof O))return!1;let e=t.walk(n=>n instanceof Ga);return e instanceof Ga?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function gc(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;let e=`0x${t.slice(1,65)}`;return An(e)?e:null}function ri(t){let e=new Uint8Array(32).fill(0);if(!t)return ce(e);let n=t.split(".");for(let a=n.length-1;a>=0;a-=1){let r=gc(n[a]),s=r?H0(r):W(Cn(n[a]),"bytes");e=W(p0([e,s]),"bytes")}return ce(e)}function Zm(t){return`[${t.slice(2)}]`}function Xm(t){let e=new Uint8Array(32).fill(0);return t?gc(t)||W(Cn(t)):ce(e)}function t6(t){let e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);let n=new Uint8Array(Cn(e).byteLength+2),a=0,r=e.split(".");for(let s=0;s<r.length;s++){let i=Cn(r[s]);i.byteLength>255&&(i=Cn(Zm(Xm(r[s])))),n[a]=i.length,n.set(i,a+1),a+=i.length+1}return n.byteLength!==a+1?n.slice(0,a+1):n}async function e3(t,e){let{blockNumber:n,blockTag:a,coinType:r,name:s,gatewayUrls:i,strict:o}=e,{chain:c}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(u=>s.endsWith(u)))return null;let p=r!=null?[ri(s),BigInt(r)]:[ri(s)];try{let u=S({abi:b8,functionName:"addr",args:p}),b={address:d,abi:u5,functionName:"resolveWithGateways",args:[a0(t6(s)),u,i??[i1]],blockNumber:n,blockTag:a},y=await M(t,H,"readContract")(b);if(y[0]==="0x")return null;let m=ct({abi:b8,args:p,functionName:"addr",data:y[0]});return m==="0x"||Ji(m)==="0x00"?null:m}catch(u){if(o)throw u;if(e6(u))return null;throw u}}var Tc=class extends O{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},ka=class extends O{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},n6=class extends O{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},xc=class extends O{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}};var bE=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,lE=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,yE=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,mE=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function hE(t){try{let e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{let a=new Image;a.onload=()=>{n(!0)},a.onerror=()=>{n(!1)},a.src=t})}}function t3(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function y2({uri:t,gatewayUrls:e}){let n=yE.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};let a=t3(e?.ipfs,"https://ipfs.io"),r=t3(e?.arweave,"https://arweave.net"),s=t.match(bE),{protocol:i,subpath:o,target:c,subtarget:d=""}=s?.groups||{},f=i==="ipns:/"||o==="ipns/",p=i==="ipfs:/"||o==="ipfs/"||lE.test(t);if(t.startsWith("http")&&!f&&!p){let b=t;return e?.arweave&&(b=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||p)&&c)return{uri:`${a}/${f?"ipns":"ipfs"}/${c}${d}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${r}/${c}${d||""}`,isOnChain:!1,isEncoded:!1};let u=t.replace(mE,"");if(u.startsWith("<svg")&&(u=`data:image/svg+xml;base64,${btoa(u)}`),u.startsWith("data:")||u.startsWith("{"))return{uri:u,isOnChain:!0,isEncoded:!1};throw new n6({uri:t})}function m2(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Tc({data:t});return t.image||t.image_url||t.image_data}async function n3({gatewayUrls:t,uri:e}){try{let n=await fetch(e).then(r=>r.json());return await wc({gatewayUrls:t,uri:m2(n)})}catch{throw new n6({uri:e})}}async function wc({gatewayUrls:t,uri:e}){let{uri:n,isOnChain:a}=y2({uri:e,gatewayUrls:t});if(a||await hE(n))return n;throw new n6({uri:e})}function a3(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));let[n,a,r]=e.split("/"),[s,i]=n.split(":"),[o,c]=a.split(":");if(!s||s.toLowerCase()!=="eip155")throw new ka({reason:"Only EIP-155 supported"});if(!i)throw new ka({reason:"Chain ID not found"});if(!c)throw new ka({reason:"Contract address not found"});if(!r)throw new ka({reason:"Token ID not found"});if(!o)throw new ka({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:o.toLowerCase(),contractAddress:c,tokenID:r}}async function r3(t,{nft:e}){if(e.namespace==="erc721")return H(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return H(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new xc({namespace:e.namespace})}async function s3(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?gE(t,{gatewayUrls:e,record:n}):wc({uri:n,gatewayUrls:e})}async function gE(t,{gatewayUrls:e,record:n}){let a=a3(n),r=await r3(t,{nft:a}),{uri:s,isOnChain:i,isEncoded:o}=y2({uri:r,gatewayUrls:e});if(i&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){let d=o?atob(s.replace("data:application/json;base64,","")):s,f=JSON.parse(d);return wc({uri:m2(f),gatewayUrls:e})}let c=a.tokenID;return a.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),n3({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function Ec(t,e){let{blockNumber:n,blockTag:a,key:r,name:s,gatewayUrls:i,strict:o}=e,{chain:c}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(p=>s.endsWith(p)))return null;try{let p={address:d,abi:u5,args:[a0(t6(s)),S({abi:u8,functionName:"text",args:[ri(s),r]}),i??[i1]],functionName:"resolveWithGateways",blockNumber:n,blockTag:a},b=await M(t,H,"readContract")(p);if(b[0]==="0x")return null;let l=ct({abi:u8,functionName:"text",data:b[0]});return l===""?null:l}catch(p){if(o)throw p;if(e6(p))return null;throw p}}async function i3(t,{blockNumber:e,blockTag:n,assetGatewayUrls:a,name:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let c=await M(t,Ec,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:r,universalResolverAddress:o,gatewayUrls:s,strict:i});if(!c)return null;try{return await s3(t,{record:c,gatewayUrls:a})}catch{return null}}async function o3(t,e){let{address:n,blockNumber:a,blockTag:r,coinType:s=60n,gatewayUrls:i,strict:o}=e,{chain:c}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sn({blockNumber:a,chain:c,contract:"ensUniversalResolver"})})();try{let f={address:d,abi:Ju,args:[n,s,i??[i1]],functionName:"reverseWithGateways",blockNumber:a,blockTag:r},p=M(t,H,"readContract"),[u]=await p(f);return u||null}catch(f){if(o)throw f;if(e6(f))return null;throw f}}async function c3(t,e){let{blockNumber:n,blockTag:a,name:r}=e,{chain:s}=t,i=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return sn({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),o=s?.ensTlds;if(o&&!o.some(d=>r.endsWith(d)))throw new Error(`${r} is not a valid ENS TLD (${o?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);let[c]=await M(t,H,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[a0(t6(r))],blockNumber:n,blockTag:a});return c}async function Ac(t,e){let{account:n=t.account,blockNumber:a,blockTag:r="latest",blobs:s,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,to:u,value:b,...l}=e,y=n?c0(n):void 0;try{Ct(e);let h=(typeof a=="bigint"?F(a):void 0)||r,g=t.chain?.formatters?.transactionRequest?.format,C=(g||rn)({...n1(l,{format:g}),from:y?.address,blobs:s,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,to:u,value:b}),I=await t.request({method:"eth_createAccessList",params:[C,h]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(m){throw eb(m,{...e,account:y,chain:t.chain})}}async function d3(t){let e=Ca(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function vc(t,{address:e,args:n,event:a,events:r,fromBlock:s,strict:i,toBlock:o}={}){let c=r??(a?[a]:void 0),d=Ca(t,{method:"eth_newFilter"}),f=[];c&&(f=[c.flatMap(b=>ln({abi:[b],eventName:b.name,args:n}))],a&&(f=f[0]));let p=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?F(s):s,toBlock:typeof o=="bigint"?F(o):o,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:a?a.name:void 0,fromBlock:s,id:p,request:d(p),strict:!!i,toBlock:o,type:"event"}}async function Cc(t){let e=Ca(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function f3(t){let e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function p3(t,{blockHash:e,blockNumber:n,blockTag:a="latest"}={}){let r=n!==void 0?F(n):void 0,s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[r||a]},{dedupe:!!r}),le(s)}async function qt(t,{address:e,blockNumber:n,blockTag:a="latest"}){let r=n!==void 0?F(n):void 0,s=await t.request({method:"eth_getCode",params:[e,r||a]},{dedupe:!!r});if(s!=="0x")return s}var Ic=class extends O{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}};async function u3(t,e){let{address:n,factory:a,factoryData:r}=e;try{let[s,i,o,c,d,f,p]=await M(t,H,"readContract")({abi:TE,address:n,functionName:"eip712Domain",factory:a,factoryData:r});return{domain:{name:i,version:o,chainId:Number(c),verifyingContract:d,salt:f},extensions:p,fields:s}}catch(s){let i=s;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Ic({address:n}):i}}var TE=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function b3(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function l3(t,{blockCount:e,blockNumber:n,blockTag:a="latest",rewardPercentiles:r}){let s=typeof n=="bigint"?F(n):void 0,i=await t.request({method:"eth_feeHistory",params:[F(e),s||a,r]},{dedupe:!!s});return b3(i)}async function y3(t,{filter:e}){let n=e.strict??!1,r=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Pe(s));return e.abi?q1({abi:e.abi,logs:r,strict:n}):r}function h2(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}var Pc=class extends O{constructor({domain:e}){super(`Invalid domain "${N0(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},_c=class extends O{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},Sc=class extends O{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};function Oe(t){let{domain:e={},message:n,primaryType:a}=t,r={EIP712Domain:mn({domain:e}),...t.types};Vn({domain:e,message:n,primaryType:a,types:r});let s=["0x1901"];return e&&s.push(Nc({domain:e,types:r})),a!=="EIP712Domain"&&s.push(g2({data:n,primaryType:a,types:r})),W(p0(s))}function Nc({domain:t,types:e}){return g2({data:t,primaryType:"EIP712Domain",types:e})}function g2({data:t,primaryType:e,types:n}){let a=m3({data:t,primaryType:e,types:n});return W(a)}function m3({data:t,primaryType:e,types:n}){let a=[{type:"bytes32"}],r=[xE({primaryType:e,types:n})];for(let s of n[e]){let[i,o]=g3({types:n,name:s.name,type:s.type,value:t[s.name]});a.push(i),r.push(o)}return o0(a,r)}function xE({primaryType:t,types:e}){let n=a0(wE({primaryType:t,types:e}));return W(n)}function wE({primaryType:t,types:e}){let n="",a=h3({primaryType:t,types:e});a.delete(t);let r=[t,...Array.from(a).sort()];for(let s of r)n+=`${s}(${e[s].map(({name:i,type:o})=>`${o} ${i}`).join(",")})`;return n}function h3({primaryType:t,types:e},n=new Set){let r=t.match(/^\w*/u)?.[0];if(n.has(r)||e[r]===void 0)return n;n.add(r);for(let s of e[r])h3({primaryType:s.type,types:e},n);return n}function g3({types:t,name:e,type:n,value:a}){if(t[n]!==void 0)return[{type:"bytes32"},W(m3({data:a,primaryType:n,types:t}))];if(n==="bytes")return a=`0x${(a.length%2?"0":"")+a.slice(2)}`,[{type:"bytes32"},W(a)];if(n==="string")return[{type:"bytes32"},W(a0(a))];if(n.lastIndexOf("]")===n.length-1){let r=n.slice(0,n.lastIndexOf("[")),s=a.map(i=>g3({name:e,type:r,types:t,value:i}));return[{type:"bytes32"},W(o0(s.map(([i])=>i),s.map(([,i])=>i)))]}return[{type:n},a]}function T2(t){let{domain:e,message:n,primaryType:a,types:r}=t,s=(c,d)=>{let f={...d};for(let p of c){let{name:u,type:b}=p;b==="address"&&(f[u]=f[u].toLowerCase())}return f},i=r.EIP712Domain?e?s(r.EIP712Domain,e):{}:{},o=(()=>{if(a!=="EIP712Domain")return s(r[a],n)})();return N0({domain:i,message:o,primaryType:a,types:r})}function Vn(t){let{domain:e,message:n,primaryType:a,types:r}=t,s=(i,o)=>{for(let c of i){let{name:d,type:f}=c,p=o[d],u=f.match(Xi);if(u&&(typeof p=="number"||typeof p=="bigint")){let[y,m,h]=u;F(p,{signed:m==="int",size:Number.parseInt(h)/8})}if(f==="address"&&typeof p=="string"&&!In(p))throw new Ha({address:p});let b=f.match(Zi);if(b){let[y,m]=b;if(m&&Be(p)!==Number.parseInt(m))throw new Yi({expectedSize:Number.parseInt(m),givenSize:Be(p)})}let l=r[f];l&&(EE(f),s(l,p))}};if(r.EIP712Domain&&e){if(typeof e!="object")throw new Pc({domain:e});s(r.EIP712Domain,e)}if(a!=="EIP712Domain")if(r[a])s(r[a],n);else throw new _c({primaryType:a,types:r})}function mn({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function si({domain:t}){return Nc({domain:t,types:{EIP712Domain:mn({domain:t})}})}function EE(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Sc({type:t})}function z0(t,e){if(t.length!==e.length)throw new Su({expectedLength:t.length,givenLength:e.length});let n=[];for(let a=0;a<t.length;a++){let r=t[a],s=e[a];n.push(T3(r,s))}return $0(n)}function T3(t,e,n=!1){if(t==="address"){let i=e;if(!In(i))throw new Ha({address:i});return F0(i.toLowerCase(),{size:n?32:null})}if(t==="string")return ze(e);if(t==="bytes")return e;if(t==="bool")return F0(qi(e),{size:n?32:1});let a=t.match(Xi);if(a){let[i,o,c="256"]=a,d=Number.parseInt(c)/8;return F(e,{size:n?32:d,signed:o==="int"})}let r=t.match(Zi);if(r){let[i,o]=r;if(Number.parseInt(o)!==(e.length-2)/2)throw new Yi({expectedSize:Number.parseInt(o),givenSize:(e.length-2)/2});return F0(e,{dir:"right",size:n?32:null})}let s=t.match(Mu);if(s&&Array.isArray(e)){let[i,o]=s,c=[];for(let d=0;d<e.length;d++)c.push(T3(o,e[d],!0));return c.length===0?"0x":$0(c)}throw new Du(t)}function x2(t){return!t||typeof t!="object"||!("BYTES_PER_ELEMENT"in t)?!1:t.BYTES_PER_ELEMENT===1&&t.constructor.name==="Uint8Array"}function Tr(t){return t.opcode==="CREATE2"?w3(t):x3(t)}function x3(t){let e=H0(ve(t.from)),n=H0(t.nonce);return n[0]===0&&(n=new Uint8Array([])),ve(`0x${W(jo([e,n],"bytes")).slice(26)}`)}function w3(t){let e=H0(ve(t.from)),n=F0(x2(t.salt)?t.salt:H0(t.salt),{size:32}),a="bytecodeHash"in t?x2(t.bytecodeHash)?t.bytecodeHash:H0(t.bytecodeHash):W(t.bytecode,"bytes");return ve(Le(W(p0([H0("0xff"),e,n,a])),12))}var E3=`Ethereum Signed Message:
`;function A3(t){let e=typeof t=="string"?ze(t):typeof t.raw=="string"?t.raw:ce(t.raw),n=ze(`${E3}${Be(e)}`);return p0([n,e])}function Je(t,e){return W(A3(t),e)}var Dc="0x6492649264926492649264926492649264926492649264926492649264926492";function v3(t){return qr(t,-32)===Dc}function a6(t){let{address:e,data:n,signature:a,to:r="hex"}=t,s=$0([o0([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,a]),Dc]);return r==="hex"?s:Fe(s)}var Mc=class extends O{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}};function C3(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new Mc({value:t});let[n,a="0"]=t.split("."),r=n.startsWith("-");if(r&&(n=n.slice(1)),a=a.replace(/(0+)$/,""),e===0)Math.round(+`.${a}`)===1&&(n=`${BigInt(n)+1n}`),a="";else if(a.length>e){let[s,i,o]=[a.slice(0,e-1),a.slice(e-1,e),a.slice(e)],c=Math.round(+`${i}.${o}`);c>9?a=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):a=`${s}${c}`,a.length>e&&(a=a.slice(1),n=`${BigInt(n)+1n}`),a=a.slice(0,e)}else a=a.padEnd(e,"0");return BigInt(`${r?"-":""}${n}${a}`)}function w2(t,e="wei"){return C3(t,Ru[e])}function E2(t){let{source:e}=t,n=new Map,a=new Qr(8192),r=new Map,s=({address:i,chainId:o})=>`${i}.${o}`;return{async consume({address:i,chainId:o,client:c}){let d=s({address:i,chainId:o}),f=this.get({address:i,chainId:o,client:c});this.increment({address:i,chainId:o});let p=await f;return await e.set({address:i,chainId:o},p),a.set(d,p),p},async increment({address:i,chainId:o}){let c=s({address:i,chainId:o}),d=n.get(c)??0;n.set(c,d+1)},async get({address:i,chainId:o,client:c}){let d=s({address:i,chainId:o}),f=r.get(d);return f||(f=(async()=>{try{let u=await e.get({address:i,chainId:o,client:c}),b=a.get(d)??0;return b>0&&u<=b?b+1:(a.delete(d),u)}finally{this.reset({address:i,chainId:o})}})(),r.set(d,f)),(n.get(d)??0)+await f},reset({address:i,chainId:o}){let c=s({address:i,chainId:o});n.delete(c),r.delete(c)}}}function AE(){return{async get(t){let{address:e,client:n}=t;return Pa(n,{address:e,blockTag:"pending"})},set(){}}}var vZ=E2({source:AE()});function _E(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function I3(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?le(t.nonce):void 0,storageProof:t.storageProof?_E(t.storageProof):void 0}}async function P3(t,{address:e,blockNumber:n,blockTag:a,storageKeys:r}){let s=a??"latest",i=n!==void 0?F(n):void 0,o=await t.request({method:"eth_getProof",params:[e,r,i||s]});return I3(o)}async function _3(t,{address:e,blockNumber:n,blockTag:a="latest",slot:r}){let s=n!==void 0?F(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,r,s||a]})}async function r6(t,{blockHash:e,blockNumber:n,blockTag:a,hash:r,index:s}){let i=a||"latest",o=n!==void 0?F(n):void 0,c=null;if(r?c=await t.request({method:"eth_getTransactionByHash",params:[r]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,F(s)]},{dedupe:!0}):(o||i)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||i,F(s)]},{dedupe:!!o})),!c)throw new a5({blockHash:e,blockNumber:n,blockTag:i,hash:r,index:s});return(t.chain?.formatters?.transaction?.format||qo)(c)}async function S3(t,{hash:e,transactionReceipt:n}){let[a,r]=await Promise.all([M(t,yn,"getBlockNumber")({}),e?M(t,r6,"getTransaction")({hash:e}):void 0]),s=n?.blockNumber||r?.blockNumber;return s?a-s+1n:0n}async function s6(t,{hash:e}){let n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new r5({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||fc)(n)}async function N3(t,e){let{account:n,authorizationList:a,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:c,stateOverride:d}=e,f=e.contracts,p=s??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024),u=c;if(!u){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");u=sn({blockNumber:i,chain:t.chain,contract:"multicall3"})}let b=[[]],l=0,y=0;for(let g=0;g<f.length;g++){let{abi:x,address:C,args:I,functionName:E}=f[g];try{let v=S({abi:x,args:I,functionName:E});y+=(v.length-2)/2,p>0&&y>p&&b[l].length>0&&(l++,y=(v.length-2)/2,b[l]=[]),b[l]=[...b[l],{allowFailure:!0,callData:v,target:C}]}catch(v){let P=xt(v,{abi:x,address:C,args:I,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!r)throw P;b[l]=[...b[l],{allowFailure:!0,callData:"0x",target:C}]}}let m=await Promise.allSettled(b.map(g=>M(t,H,"readContract")({abi:Yu,account:n,address:u,args:[g],authorizationList:a,blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:d}))),h=[];for(let g=0;g<m.length;g++){let x=m[g];if(x.status==="rejected"){if(!r)throw x.reason;for(let I=0;I<b[g].length;I++)h.push({status:"failure",error:x.reason,result:void 0});continue}let C=x.value;for(let I=0;I<C.length;I++){let{returnData:E,success:v}=C[I],{callData:P}=b[g][I],{abi:U,address:D,functionName:B,args:$}=f[h.length];try{if(P==="0x")throw new Yr;if(!v)throw new Zr({data:E});let X=ct({abi:U,args:$,data:E,functionName:B});h.push(r?{result:X,status:"success"}:X)}catch(X){let b0=xt(X,{abi:U,address:D,args:$,docsPath:"/docs/contract/multicall",functionName:B});if(!r)throw b0;h.push({error:b0,result:void 0,status:"failure"})}}}if(h.length!==f.length)throw new O("multicall results mismatch");return h}async function ii(t,e){let{blockNumber:n,blockTag:a=t.experimental_blockTag??"latest",blocks:r,returnFullTransactions:s,traceTransfers:i,validation:o}=e;try{let c=[];for(let u of r){let b=u.blockOverrides?$u(u.blockOverrides):void 0,l=u.calls.map(m=>{let h=m,g=h.account?c0(h.account):void 0,x=h.abi?S(h):h.data,C={...h,data:h.dataSuffix?p0([x||"0x",h.dataSuffix]):x,from:h.from??g?.address};return Ct(C),rn(C)}),y=u.stateOverrides?a1(u.stateOverrides):void 0;c.push({blockOverrides:b,calls:l,stateOverrides:y})}let f=(typeof n=="bigint"?F(n):void 0)||a;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:i,validation:o},f]})).map((u,b)=>({...Zo(u),calls:u.calls.map((l,y)=>{let{abi:m,args:h,functionName:g,to:x}=r[b].calls[y],C=l.error?.data??l.returnData,I=BigInt(l.gasUsed),E=l.logs?.map(D=>Pe(D)),v=l.status==="0x1"?"success":"failure",P=m&&v==="success"&&C!=="0x"?ct({abi:m,data:C,functionName:g}):null,U=(()=>{if(v==="success")return;let D;if(l.error?.data==="0x"?D=new Yr:l.error&&(D=new Zr(l.error)),!!D)return xt(D,{abi:m??[],address:x??"0x",args:h,functionName:g??"<unknown>"})})();return{data:C,gasUsed:I,logs:E,status:v,...v==="success"?{result:P}:{error:U}}})}))}catch(c){let d=c,f=t1(d,{});throw f instanceof e1?d:f}}function Oc(t,e={}){let{as:n=typeof t=="string"?"Hex":"Bytes"}=e,a=gu(zu(t));return n==="Bytes"?a:Lt(a)}var kc=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}};var NE={checksum:new kc(8192)},Rc=NE.checksum;var i6={};jr(i6,{InvalidCompressedPrefixError:()=>Fc,InvalidError:()=>Bc,InvalidPrefixError:()=>ci,InvalidSerializedSizeError:()=>Uc,InvalidUncompressedPrefixError:()=>Lc,assert:()=>Hc,compress:()=>DE,from:()=>ME,fromBytes:()=>O3,fromHex:()=>v2,toBytes:()=>OE,toHex:()=>k3,validate:()=>kE});function Hc(t,e={}){let{compressed:n}=e,{prefix:a,x:r,y:s}=t;if(n===!1||typeof r=="bigint"&&typeof s=="bigint"){if(a!==4)throw new ci({prefix:a,cause:new Lc});return}if(n===!0||typeof r=="bigint"&&typeof s>"u"){if(a!==3&&a!==2)throw new ci({prefix:a,cause:new Fc});return}throw new Bc({publicKey:t})}function DE(t){let{x:e,y:n}=t;return{prefix:n%2n===0n?2:3,x:e}}function ME(t){let e=(()=>{if(Q6(t))return v2(t);if(Wu(t))return O3(t);let{prefix:n,x:a,y:r}=t;return typeof a=="bigint"&&typeof r=="bigint"?{prefix:n??4,x:a,y:r}:{prefix:n,x:a}})();return Hc(e),e}function O3(t){return v2(Lt(t))}function v2(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new Uc({publicKey:t});if(t.length===130){let a=BigInt(Se(t,0,32)),r=BigInt(Se(t,32,64));return{prefix:4,x:a,y:r}}if(t.length===132){let a=Number(Se(t,0,1)),r=BigInt(Se(t,1,33)),s=BigInt(Se(t,33,65));return{prefix:a,x:r,y:s}}let e=Number(Se(t,0,1)),n=BigInt(Se(t,1,33));return{prefix:e,x:n}}function OE(t,e={}){return r1(k3(t,e))}function k3(t,e={}){Hc(t);let{prefix:n,x:a,y:r}=t,{includePrefix:s=!0}=e;return Ce(s?ye(n,{size:1}):"0x",ye(a,{size:32}),typeof r=="bigint"?ye(r,{size:32}):"0x")}function kE(t,e={}){try{return Hc(t,e),!0}catch{return!1}}var Bc=class extends I0{constructor({publicKey:e}){super(`Value \`${d5(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},ci=class extends I0{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},Fc=class extends I0{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},Lc=class extends I0{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},Uc=class extends I0{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Ke(J6(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};var RE=/^0x[a-fA-F0-9]{40}$/;function o6(t,e={}){let{strict:n=!0}=e;if(!RE.test(t))throw new Gc({address:t,cause:new C2});if(n){if(t.toLowerCase()===t)return;if(R3(t)!==t)throw new Gc({address:t,cause:new I2})}}function R3(t){if(Rc.has(t))return Rc.get(t);o6(t,{strict:!1});let e=t.substring(2).toLowerCase(),n=Oc(f5(e),{as:"Bytes"}),a=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&a[s]&&(a[s]=a[s].toUpperCase()),(n[s>>1]&15)>=8&&a[s+1]&&(a[s+1]=a[s+1].toUpperCase());let r=`0x${a.join("")}`;return Rc.set(t,r),r}function Vc(t,e={}){let{strict:n=!0}=e??{};try{return o6(t,{strict:n}),!0}catch{return!1}}var Gc=class extends I0{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},C2=class extends I0{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},I2=class extends I0{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};function Wc(t){let e=!0,n="",a=0,r="",s=!1;for(let i=0;i<t.length;i++){let o=t[i];if(["(",")",","].includes(o)&&(e=!0),o==="("&&a++,o===")"&&a--,!!e){if(a===0){if(o===" "&&["event","function","error",""].includes(r))r="";else if(r+=o,o===")"){s=!0;break}continue}if(o===" "){t[i-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}r+=o,n+=o}}if(!s)throw new I0("Unable to normalize signature.");return r}function Kc(t,e){let n=typeof t,a=e.type;switch(a){case"address":return Vc(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return a==="tuple"&&"components"in e?Object.values(e.components).every((r,s)=>Kc(Object.values(t)[s],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a)?Array.isArray(t)&&t.every(r=>Kc(r,{...e,type:a.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function P2(t,e,n){for(let a in t){let r=t[a],s=e[a];if(r.type==="tuple"&&s.type==="tuple"&&"components"in r&&"components"in s)return P2(r.components,s.components,n[a]);let i=[r.type,s.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Vc(n[a],{strict:!1}):i.includes("address")&&i.includes("bytes")?Vc(n[a],{strict:!1}):!1)return i}}function jc(t,e={}){let{prepare:n=!0}=e,a=Array.isArray(t)?Wi(t):typeof t=="string"?Wi(t):t;return{...a,...n?{hash:c6(a)}:{}}}function B3(t,e,n){let{args:a=[],prepare:r=!0}=n??{},s=Q6(e,{strict:!1}),i=t.filter(d=>s?d.type==="function"||d.type==="error"?S2(d)===Se(e,0,4):d.type==="event"?c6(d)===e:!1:"name"in d&&d.name===e);if(i.length===0)throw new wr({name:e});if(i.length===1)return{...i[0],...r?{hash:c6(i[0])}:{}};let o;for(let d of i){if(!("inputs"in d))continue;if(!a||a.length===0){if(!d.inputs||d.inputs.length===0)return{...d,...r?{hash:c6(d)}:{}};continue}if(!d.inputs||d.inputs.length===0||d.inputs.length!==a.length)continue;if(a.every((p,u)=>{let b="inputs"in d&&d.inputs[u];return b?Kc(p,b):!1})){if(o&&"inputs"in o&&o.inputs){let p=P2(d.inputs,o.inputs,a);if(p)throw new _2({abiItem:d,type:p[0]},{abiItem:o,type:p[1]})}o=d}}let c=(()=>{if(o)return o;let[d,...f]=i;return{...d,overloads:f}})();if(!c)throw new wr({name:e});return{...c,...r?{hash:c6(c)}:{}}}function S2(t){return Se(c6(t),0,4)}function FE(t){let e=typeof t=="string"?t:Ki(t);return Wc(e)}function c6(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Oc(s1(FE(t)))}var _2=class extends I0{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Wc(Ki(e.abiItem))}\`, and`,`\`${n.type}\` in \`${Wc(Ki(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},wr=class extends I0{constructor({name:e,data:n,type:a="item"}){let r=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${a}${r} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}};var F3=/^(.*)\[([0-9]*)\]$/,L3=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$c=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,_X=2n**(8n-1n)-1n,SX=2n**(16n-1n)-1n,NX=2n**(24n-1n)-1n,DX=2n**(32n-1n)-1n,MX=2n**(40n-1n)-1n,OX=2n**(48n-1n)-1n,kX=2n**(56n-1n)-1n,RX=2n**(64n-1n)-1n,BX=2n**(72n-1n)-1n,FX=2n**(80n-1n)-1n,LX=2n**(88n-1n)-1n,UX=2n**(96n-1n)-1n,HX=2n**(104n-1n)-1n,GX=2n**(112n-1n)-1n,VX=2n**(120n-1n)-1n,zX=2n**(128n-1n)-1n,KX=2n**(136n-1n)-1n,WX=2n**(144n-1n)-1n,jX=2n**(152n-1n)-1n,$X=2n**(160n-1n)-1n,YX=2n**(168n-1n)-1n,JX=2n**(176n-1n)-1n,QX=2n**(184n-1n)-1n,qX=2n**(192n-1n)-1n,ZX=2n**(200n-1n)-1n,XX=2n**(208n-1n)-1n,e00=2n**(216n-1n)-1n,t00=2n**(224n-1n)-1n,n00=2n**(232n-1n)-1n,a00=2n**(240n-1n)-1n,r00=2n**(248n-1n)-1n,s00=2n**(256n-1n)-1n,i00=-(2n**(8n-1n)),o00=-(2n**(16n-1n)),c00=-(2n**(24n-1n)),d00=-(2n**(32n-1n)),f00=-(2n**(40n-1n)),p00=-(2n**(48n-1n)),u00=-(2n**(56n-1n)),b00=-(2n**(64n-1n)),l00=-(2n**(72n-1n)),y00=-(2n**(80n-1n)),m00=-(2n**(88n-1n)),h00=-(2n**(96n-1n)),g00=-(2n**(104n-1n)),T00=-(2n**(112n-1n)),x00=-(2n**(120n-1n)),w00=-(2n**(128n-1n)),E00=-(2n**(136n-1n)),A00=-(2n**(144n-1n)),v00=-(2n**(152n-1n)),C00=-(2n**(160n-1n)),I00=-(2n**(168n-1n)),P00=-(2n**(176n-1n)),_00=-(2n**(184n-1n)),S00=-(2n**(192n-1n)),N00=-(2n**(200n-1n)),D00=-(2n**(208n-1n)),M00=-(2n**(216n-1n)),O00=-(2n**(224n-1n)),k00=-(2n**(232n-1n)),R00=-(2n**(240n-1n)),B00=-(2n**(248n-1n)),F00=-(2n**(256n-1n)),L00=2n**8n-1n,U00=2n**16n-1n,H00=2n**24n-1n,G00=2n**32n-1n,V00=2n**40n-1n,z00=2n**48n-1n,K00=2n**56n-1n,W00=2n**64n-1n,j00=2n**72n-1n,$00=2n**80n-1n,Y00=2n**88n-1n,J00=2n**96n-1n,Q00=2n**104n-1n,q00=2n**112n-1n,Z00=2n**120n-1n,X00=2n**128n-1n,ee0=2n**136n-1n,te0=2n**144n-1n,ne0=2n**152n-1n,ae0=2n**160n-1n,re0=2n**168n-1n,se0=2n**176n-1n,ie0=2n**184n-1n,oe0=2n**192n-1n,ce0=2n**200n-1n,de0=2n**208n-1n,fe0=2n**216n-1n,pe0=2n**224n-1n,ue0=2n**232n-1n,be0=2n**240n-1n,le0=2n**248n-1n,D2=2n**256n-1n;function U3({checksumAddress:t,parameters:e,values:n}){let a=[];for(let r=0;r<e.length;r++)a.push(O2({checksumAddress:t,parameter:e[r],value:n[r]}));return a}function O2({checksumAddress:t=!1,parameter:e,value:n}){let a=e,r=WE(a.type);if(r){let[s,i]=r;return UE(n,{checksumAddress:t,length:s,parameter:{...a,type:i}})}if(a.type==="tuple")return KE(n,{checksumAddress:t,parameter:a});if(a.type==="address")return LE(n,{checksum:t});if(a.type==="bool")return GE(n);if(a.type.startsWith("uint")||a.type.startsWith("int")){let s=a.type.startsWith("int"),[,,i="256"]=$c.exec(a.type)??[];return VE(n,{signed:s,size:Number(i)})}if(a.type.startsWith("bytes"))return HE(n,{type:a.type});if(a.type==="string")return zE(n);throw new fi(a.type)}function Yc(t){let e=0;for(let s=0;s<t.length;s++){let{dynamic:i,encoded:o}=t[s];i?e+=32:e+=Ke(o)}let n=[],a=[],r=0;for(let s=0;s<t.length;s++){let{dynamic:i,encoded:o}=t[s];i?(n.push(ye(e+r,{size:32})),a.push(o),r+=Ke(o)):n.push(o)}return Ce(...n,...a)}function LE(t,e){let{checksum:n=!1}=e;return o6(t,{strict:n}),{dynamic:!1,encoded:Ka(t.toLowerCase())}}function UE(t,e){let{checksumAddress:n,length:a,parameter:r}=e,s=a===null;if(!Array.isArray(t))throw new Qc(t);if(!s&&t.length!==a)throw new Jc({expectedLength:a,givenLength:t.length,type:`${r.type}[${a}]`});let i=!1,o=[];for(let c=0;c<t.length;c++){let d=O2({checksumAddress:n,parameter:r,value:t[c]});d.dynamic&&(i=!0),o.push(d)}if(s||i){let c=Yc(o);if(s){let d=ye(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Ce(d,c):d}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ce(...o.map(({encoded:c})=>c))}}function HE(t,{type:e}){let[,n]=e.split("bytes"),a=Ke(t);if(!n){let r=t;return a%32!==0&&(r=Wa(r,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Ce(Ka(ye(a,{size:32})),r)}}if(a!==Number.parseInt(n))throw new di({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Wa(t)}}function GE(t){if(typeof t!="boolean")throw new I0(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ka(p5(t))}}function VE(t,{signed:e,size:n}){if(typeof n=="number"){let a=2n**(BigInt(n)-(e?1n:0n))-1n,r=e?-a-1n:0n;if(t>a||t<r)throw new ju({max:a.toString(),min:r.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:ye(t,{size:32,signed:e})}}function zE(t){let e=s1(t),n=Math.ceil(Ke(e)/32),a=[];for(let r=0;r<n;r++)a.push(Wa(Se(e,r*32,(r+1)*32)));return{dynamic:!0,encoded:Ce(Wa(ye(Ke(e),{size:32})),...a)}}function KE(t,e){let{checksumAddress:n,parameter:a}=e,r=!1,s=[];for(let i=0;i<a.components.length;i++){let o=a.components[i],c=Array.isArray(t)?i:o.name,d=O2({checksumAddress:n,parameter:o,value:t[c]});s.push(d),d.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Yc(s):Ce(...s.map(({encoded:i})=>i))}}function WE(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Xc(t,e,n){let{checksumAddress:a=!1}=n??{};if(t.length!==e.length)throw new Zc({expectedLength:t.length,givenLength:e.length});let r=U3({checksumAddress:a,parameters:t,values:e}),s=Yc(r);return s.length===0?"0x":s}function k2(t,e){if(t.length!==e.length)throw new Zc({expectedLength:t.length,givenLength:e.length});let n=[];for(let a=0;a<t.length;a++){let r=t[a],s=e[a];n.push(k2.encode(r,s))}return Ce(...n)}(function(t){function e(n,a,r=!1){if(n==="address"){let c=a;return o6(c),Ka(c.toLowerCase(),r?32:0)}if(n==="string")return s1(a);if(n==="bytes")return a;if(n==="bool")return Ka(p5(a),r?32:1);let s=n.match($c);if(s){let[c,d,f="256"]=s,p=Number.parseInt(f)/8;return ye(a,{size:r?32:p,signed:d==="int"})}let i=n.match(L3);if(i){let[c,d]=i;if(Number.parseInt(d)!==(a.length-2)/2)throw new di({expectedSize:Number.parseInt(d),value:a});return Wa(a,r?32:0)}let o=n.match(F3);if(o&&Array.isArray(a)){let[c,d]=o,f=[];for(let p=0;p<a.length;p++)f.push(e(d,a[p],!0));return f.length===0?"0x":Ce(...f)}throw new fi(n)}t.encode=e})(k2||(k2={}));var Jc=class extends I0{constructor({expectedLength:e,givenLength:n,type:a}){super(`Array length mismatch for type \`${a}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},di=class extends I0{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ke(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},Zc=class extends I0{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},Qc=class extends I0{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},fi=class extends I0{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};function H3(t,e){let{bytecode:n,args:a}=e;return Ce(n,t.inputs?.length&&a?.length?Xc(t.inputs,a):"0x")}function G3(t){return jc(t)}function z3(t,...e){let{overloads:n}=t,a=n?YE([t,...n],t.name,{args:e[0]}):t,r=JE(a),s=e.length>0?Xc(a.inputs,e[0]):void 0;return s?Ce(r,s):r}function Er(t,e={}){return jc(t,e)}function YE(t,e,n){let a=B3(t,e,n);if(a.type!=="function")throw new wr({name:e,type:"function"});return a}function JE(t){return S2(t)}var R2="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",K0="0x0000000000000000000000000000000000000000";var QE="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function W3(t,e){let{blockNumber:n,blockTag:a,calls:r,stateOverrides:s,traceAssetChanges:i,traceTransfers:o,validation:c}=e,d=e.account?c0(e.account):void 0;if(i&&!d)throw new O("`account` is required when `traceAssetChanges` is true");let f=d?H3(G3("constructor(bytes, bytes)"),{bytecode:Qu,args:[QE,z3(Er("function getBalance(address)"),[d.address])]}):void 0,p=i?await Promise.all(e.calls.map(async z=>{if(!z.data&&!z.abi)return;let{accessList:t0}=await Ac(t,{account:d.address,...z,data:z.abi?S(z):z.data});return t0.map(({address:M0,storageKeys:oe})=>oe.length>0?M0:null)})).then(z=>z.flat().filter(Boolean)):[],u=await ii(t,{blockNumber:n,blockTag:a,blocks:[...i?[{calls:[{data:f}],stateOverrides:s},{calls:p.map((z,t0)=>({abi:[Er("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:z,from:K0,nonce:t0})),stateOverrides:[{address:K0,nonce:0}]}]:[],{calls:[...r,{}].map(z=>({...z,from:d?.address})),stateOverrides:s},...i?[{calls:[{data:f}]},{calls:p.map((z,t0)=>({abi:[Er("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:z,from:K0,nonce:t0})),stateOverrides:[{address:K0,nonce:0}]},{calls:p.map((z,t0)=>({to:z,abi:[Er("function decimals() returns (uint256)")],functionName:"decimals",from:K0,nonce:t0})),stateOverrides:[{address:K0,nonce:0}]},{calls:p.map((z,t0)=>({to:z,abi:[Er("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:K0,nonce:t0})),stateOverrides:[{address:K0,nonce:0}]},{calls:p.map((z,t0)=>({to:z,abi:[Er("function symbol() returns (string)")],functionName:"symbol",from:K0,nonce:t0})),stateOverrides:[{address:K0,nonce:0}]}]:[]],traceTransfers:o,validation:c}),b=i?u[2]:u[0],[l,y,,m,h,g,x,C]=i?u:[],{calls:I,...E}=b,v=I.slice(0,-1)??[],P=l?.calls??[],U=y?.calls??[],D=[...P,...U].map(z=>z.status==="success"?C0(z.data):null),B=m?.calls??[],$=h?.calls??[],X=[...B,...$].map(z=>z.status==="success"?C0(z.data):null),b0=(g?.calls??[]).map(z=>z.status==="success"?z.result:null),R=(C?.calls??[]).map(z=>z.status==="success"?z.result:null),G=(x?.calls??[]).map(z=>z.status==="success"?z.result:null),e0=[];for(let[z,t0]of X.entries()){let M0=D[z];if(typeof t0!="bigint"||typeof M0!="bigint")continue;let oe=b0[z-1],J0=R[z-1],it=G[z-1],Re=z===0?{address:R2,decimals:18,symbol:"ETH"}:{address:p[z-1],decimals:it||oe?Number(oe??1):void 0,symbol:J0??void 0};e0.some(ot=>ot.token.address===Re.address)||e0.push({token:Re,value:{pre:M0,post:t0,diff:t0-M0}})}return{assetChanges:e0,block:E,results:v}}function j3({r:t,s:e,to:n="hex",v:a,yParity:r}){let s=(()=>{if(r===0||r===1)return r;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Vu.Signature(C0(t),C0(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?i:Fe(i)}async function d6(t,e){let{address:n,factory:a,factoryData:r,hash:s,signature:i,universalSignatureVerifierAddress:o=t.chain?.contracts?.universalSignatureVerifier?.address,...c}=e,d=An(i)?i:typeof i=="object"&&"r"in i&&"s"in i?j3(i):ce(i),f=await(async()=>!a&&!r||v3(d)?d:a6({address:a,data:r,signature:d}))();try{let p=o?{to:o,data:S({abi:l8,functionName:"isValidSig",args:[n,s,f]}),...c}:{data:Pn({abi:l8,args:[n,s,f],bytecode:qu}),...c},{data:u}=await M(t,Ut,"call")(p);return Qi(u??"0x0")}catch(p){try{if(Qn(ve(n),await Wo({hash:s,signature:i})))return!0}catch{}if(p instanceof Hu)return!1;throw p}}async function $3(t,{address:e,message:n,factory:a,factoryData:r,signature:s,...i}){let o=Je(n);return d6(t,{address:e,factory:a,factoryData:r,hash:o,signature:s,...i})}async function Y3(t,e){let{address:n,factory:a,factoryData:r,signature:s,message:i,primaryType:o,types:c,domain:d,...f}=e,p=Oe({message:i,primaryType:o,types:c,domain:d});return d6(t,{address:n,factory:a,factoryData:r,hash:p,signature:s,...f})}function ed(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:a,onError:r,poll:s,pollingInterval:i=t.pollingInterval}){let o=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),c;return o?(()=>{let p=N0(["watchBlockNumber",t.uid,e,n,i]);return _e(p,{onBlockNumber:a,onError:r},u=>nt(async()=>{try{let b=await M(t,yn,"getBlockNumber")({cacheTime:0});if(c){if(b===c)return;if(b-c>1&&n)for(let l=c+1n;l<b;l++)u.onBlockNumber(l,c),c=l}(!c||b>c)&&(u.onBlockNumber(b,c),c=b)}catch(b){u.onError?.(b)}},{emitOnBegin:e,interval:i}))})():(()=>{let p=N0(["watchBlockNumber",t.uid,e,n]);return _e(p,{onBlockNumber:a,onError:r},u=>{let b=!0,l=()=>b=!1;return(async()=>{try{let y=(()=>{if(t.transport.type==="fallback"){let h=t.transport.transports.find(g=>g.config.type==="webSocket"||g.config.type==="ipc");return h?h.value:t.transport}return t.transport})(),{unsubscribe:m}=await y.subscribe({params:["newHeads"],onData(h){if(!b)return;let g=C0(h.result?.number);u.onBlockNumber(g,c),c=g},onError(h){u.onError?.(h)}});l=m,b||l()}catch(y){r?.(y)}})(),()=>l()})})()}async function J3(t,e){let{checkReplacement:n=!0,confirmations:a=1,hash:r,onReplaced:s,retryCount:i=6,retryDelay:o=({count:I})=>~~(1<<I)*200,timeout:c=18e4}=e,d=N0(["waitForTransactionReceipt",t.uid,r]),f=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval,p,u,b,l=!1,y,m,{promise:h,resolve:g,reject:x}=b5(),C=c?setTimeout(()=>{m?.(),y?.(),x(new Uu({hash:r}))},c):void 0;return y=_e(d,{onReplaced:s,resolve:g,reject:x},async I=>{if(b=await M(t,s6,"getTransactionReceipt")({hash:r}).catch(()=>{}),b&&a<=1){clearTimeout(C),I.resolve(b),y?.();return}m=M(t,ed,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){let v=U=>{clearTimeout(C),m?.(),U(),y?.()},P=E;if(!l)try{if(b){if(a>1&&(!b.blockNumber||P-b.blockNumber+1n<a))return;v(()=>I.resolve(b));return}if(n&&!p&&(l=!0,await hr(async()=>{p=await M(t,r6,"getTransaction")({hash:r}),p.blockNumber&&(P=p.blockNumber)},{delay:o,retryCount:i}),l=!1),b=await M(t,s6,"getTransactionReceipt")({hash:r}),a>1&&(!b.blockNumber||P-b.blockNumber+1n<a))return;v(()=>I.resolve(b))}catch(U){if(U instanceof a5||U instanceof r5){if(!p){l=!1;return}try{u=p,l=!0;let D=await hr(()=>M(t,Ge,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:X})=>X instanceof $1});l=!1;let B=D.transactions.find(({from:X,nonce:b0})=>X===u.from&&b0===u.nonce);if(!B||(b=await M(t,s6,"getTransactionReceipt")({hash:B.hash}),a>1&&(!b.blockNumber||P-b.blockNumber+1n<a)))return;let $="replaced";B.to===u.to&&B.value===u.value&&B.input===u.input?$="repriced":B.from===B.to&&B.value===0n&&($="cancelled"),v(()=>{I.onReplaced?.({reason:$,replacedTransaction:u,transaction:B,transactionReceipt:b}),I.resolve(b)})}catch(D){v(()=>I.reject(D))}}else v(()=>I.reject(U))}}})}),h}function Q3(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:a=!1,onBlock:r,onError:s,includeTransactions:i,poll:o,pollingInterval:c=t.pollingInterval}){let d=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=i??!1,p;return d?(()=>{let l=N0(["watchBlocks",t.uid,e,n,a,f,c]);return _e(l,{onBlock:r,onError:s},y=>nt(async()=>{try{let m=await M(t,Ge,"getBlock")({blockTag:e,includeTransactions:f});if(m.number!==null&&p?.number!=null){if(m.number===p.number)return;if(m.number-p.number>1&&n)for(let h=p?.number+1n;h<m.number;h++){let g=await M(t,Ge,"getBlock")({blockNumber:h,includeTransactions:f});y.onBlock(g,p),p=g}}(p?.number==null||e==="pending"&&m?.number==null||m.number!==null&&m.number>p.number)&&(y.onBlock(m,p),p=m)}catch(m){y.onError?.(m)}},{emitOnBegin:a,interval:c}))})():(()=>{let l=!0,y=!0,m=()=>l=!1;return(async()=>{try{a&&M(t,Ge,"getBlock")({blockTag:e,includeTransactions:f}).then(x=>{l&&y&&(r(x,void 0),y=!1)}).catch(s);let h=(()=>{if(t.transport.type==="fallback"){let x=t.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return x?x.value:t.transport}return t.transport})(),{unsubscribe:g}=await h.subscribe({params:["newHeads"],async onData(x){if(!l)return;let C=await M(t,Ge,"getBlock")({blockNumber:x.result?.number,includeTransactions:f}).catch(()=>{});l&&(r(C,p),y=!1,p=C)},onError(x){s?.(x)}});m=g,l||m()}catch(h){s?.(h)}})(),()=>m()})()}function q3(t,{address:e,args:n,batch:a=!0,event:r,events:s,fromBlock:i,onError:o,onLogs:c,poll:d,pollingInterval:f=t.pollingInterval,strict:p}){let u=typeof d<"u"?d:typeof i=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),b=p??!1;return u?(()=>{let m=N0(["watchEvent",e,n,a,t.uid,r,f,i]);return _e(m,{onLogs:c,onError:o},h=>{let g;i!==void 0&&(g=i-1n);let x,C=!1,I=nt(async()=>{if(!C){try{x=await M(t,vc,"createEventFilter")({address:e,args:n,event:r,events:s,strict:b,fromBlock:i})}catch{}C=!0;return}try{let E;if(x)E=await M(t,Sa,"getFilterChanges")({filter:x});else{let v=await M(t,yn,"getBlockNumber")({});g&&g!==v?E=await M(t,Z1,"getLogs")({address:e,args:n,event:r,events:s,fromBlock:g+1n,toBlock:v}):E=[],g=v}if(E.length===0)return;if(a)h.onLogs(E);else for(let v of E)h.onLogs([v])}catch(E){x&&E instanceof za&&(C=!1),h.onError?.(E)}},{emitOnBegin:!0,interval:f});return async()=>{x&&await M(t,Na,"uninstallFilter")({filter:x}),I()}})})():(()=>{let m=!0,h=()=>m=!1;return(async()=>{try{let g=(()=>{if(t.transport.type==="fallback"){let E=t.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return E?E.value:t.transport}return t.transport})(),x=s??(r?[r]:void 0),C=[];x&&(C=[x.flatMap(v=>ln({abi:[v],eventName:v.name,args:n}))],r&&(C=C[0]));let{unsubscribe:I}=await g.subscribe({params:["logs",{address:e,topics:C}],onData(E){if(!m)return;let v=E.result;try{let{eventName:P,args:U}=Q1({abi:x??[],data:v.data,topics:v.topics,strict:b}),D=Pe(v,{args:U,eventName:P});c([D])}catch(P){let U,D;if(P instanceof vn||P instanceof Jn){if(p)return;U=P.abiItem.name,D=P.abiItem.inputs?.some($=>!("name"in $&&$.name))}let B=Pe(v,{args:D?[]:{},eventName:U});c([B])}},onError(E){o?.(E)}});h=I,m||h()}catch(g){o?.(g)}})(),()=>h()})()}function Z3(t,{batch:e=!0,onError:n,onTransactions:a,poll:r,pollingInterval:s=t.pollingInterval}){return(typeof r<"u"?r:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{let d=N0(["watchPendingTransactions",t.uid,e,s]);return _e(d,{onTransactions:a,onError:n},f=>{let p,u=nt(async()=>{try{if(!p)try{p=await M(t,Cc,"createPendingTransactionFilter")({});return}catch(l){throw u(),l}let b=await M(t,Sa,"getFilterChanges")({filter:p});if(b.length===0)return;if(e)f.onTransactions(b);else for(let l of b)f.onTransactions([l])}catch(b){f.onError?.(b)}},{emitOnBegin:!0,interval:s});return async()=>{p&&await M(t,Na,"uninstallFilter")({filter:p}),u()}})})():(()=>{let d=!0,f=()=>d=!1;return(async()=>{try{let{unsubscribe:p}=await t.transport.subscribe({params:["newPendingTransactions"],onData(u){if(!d)return;let b=u.result;a([b])},onError(u){n?.(u)}});f=p,d||f()}catch(p){n?.(p)}})(),()=>f()})()}function X3(t){let{scheme:e,statement:n,...a}=t.match(qE)?.groups??{},{chainId:r,expirationTime:s,issuedAt:i,notBefore:o,requestId:c,...d}=t.match(ZE)?.groups??{},f=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...a,...d,...r?{chainId:Number(r)}:{},...s?{expirationTime:new Date(s)}:{},...i?{issuedAt:new Date(i)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}var qE=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ZE=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function e9(t){let{address:e,domain:n,message:a,nonce:r,scheme:s,time:i=new Date}=t;if(n&&a.domain!==n||r&&a.nonce!==r||s&&a.scheme!==s||a.expirationTime&&i>=a.expirationTime||a.notBefore&&i<a.notBefore)return!1;try{if(!a.address||!In(a.address,{strict:!1})||e&&!Qn(a.address,e))return!1}catch{return!1}return!0}async function t9(t,e){let{address:n,domain:a,message:r,nonce:s,scheme:i,signature:o,time:c=new Date,...d}=e,f=X3(r);if(!f.address||!e9({address:n,domain:a,message:f,nonce:s,scheme:i,time:c}))return!1;let u=Je(r);return d6(t,{address:f.address,hash:u,signature:o,...d})}function n9(t){return{call:e=>Ut(t,e),createAccessList:e=>Ac(t,e),createBlockFilter:()=>d3(t),createContractEventFilter:e=>Ko(t,e),createEventFilter:e=>vc(t,e),createPendingTransactionFilter:()=>Cc(t),estimateContractGas:e=>Hm(t,e),estimateGas:e=>J1(t,e),getBalance:e=>sc(t,e),getBlobBaseFee:()=>f3(t),getBlock:e=>Ge(t,e),getBlockNumber:e=>yn(t,e),getBlockTransactionCount:e=>p3(t,e),getBytecode:e=>qt(t,e),getChainId:()=>V0(t),getCode:e=>qt(t,e),getContractEvents:e=>ic(t,e),getEip712Domain:e=>u3(t,e),getEnsAddress:e=>e3(t,e),getEnsAvatar:e=>i3(t,e),getEnsName:e=>o3(t,e),getEnsResolver:e=>c3(t,e),getEnsText:e=>Ec(t,e),getFeeHistory:e=>l3(t,e),estimateFeesPerGas:e=>Xo(t,e),getFilterChanges:e=>Sa(t,e),getFilterLogs:e=>y3(t,e),getGasPrice:()=>Y1(t),getLogs:e=>Z1(t,e),getProof:e=>P3(t,e),estimateMaxPriorityFeePerGas:e=>Mm(t,e),getStorageAt:e=>_3(t,e),getTransaction:e=>r6(t,e),getTransactionConfirmations:e=>S3(t,e),getTransactionCount:e=>Pa(t,e),getTransactionReceipt:e=>s6(t,e),multicall:e=>N3(t,e),prepareTransactionRequest:e=>_a(t,e),readContract:e=>H(t,e),sendRawTransaction:e=>X1(t,e),simulate:e=>ii(t,e),simulateBlocks:e=>ii(t,e),simulateCalls:e=>W3(t,e),simulateContract:e=>q(t,e),verifyMessage:e=>$3(t,e),verifySiweMessage:e=>t9(t,e),verifyTypedData:e=>Y3(t,e),uninstallFilter:e=>Na(t,e),waitForTransactionReceipt:e=>J3(t,e),watchBlocks:e=>Q3(t,e),watchBlockNumber:e=>ed(t,e),watchContractEvent:e=>Wm(t,e),watchEvent:e=>q3(t,e),watchPendingTransactions:e=>Z3(t,e)}}function B2(t){let{key:e="public",name:n="Public Client"}=t;return Oa({...t,key:e,name:n,type:"publicClient"}).extend(n9)}async function a9(t,{chain:e}){let{id:n,name:a,nativeCurrency:r,rpcUrls:s,blockExplorers:i}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:F(n),chainName:a,nativeCurrency:r,rpcUrls:s.default.http,blockExplorerUrls:i?Object.values(i).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function r9(t,e){let{abi:n,args:a,bytecode:r,...s}=e,i=Pn({abi:n,args:a,bytecode:r});return Ma(t,{...s,...s.authorizationList?{to:null}:{},data:i})}async function s9(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>K6(n))}async function i9(t,e={}){let{account:n=t.account,chainId:a}=e,r=n?c0(n):void 0,s=a?[r?.address,[F(a)]]:[r?.address],i=await t.request({method:"wallet_getCapabilities",params:s}),o={};for(let[c,d]of Object.entries(i)){o[Number(c)]={};for(let[f,p]of Object.entries(d))f==="addSubAccount"&&(f="unstable_addSubAccount"),o[Number(c)][f]=p}return typeof a=="number"?o[a]:o}async function o9(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Ar(t,e){let{account:n=t.account,chainId:a,nonce:r}=e;if(!n)throw new se({docsPath:"/docs/eip7702/prepareAuthorization"});let s=c0(n),i=(()=>{if(e.executor)return e.executor==="self"?e.executor:c0(e.executor)})(),o={address:e.contractAddress??e.address,chainId:a,nonce:r};return typeof o.chainId>"u"&&(o.chainId=t.chain?.id??await M(t,V0,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await M(t,Pa,"getTransactionCount")({address:s.address,blockTag:"pending"}),(i==="self"||i?.address&&Qn(i.address,s.address))&&(o.nonce+=1)),o}async function c9(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>ve(n))}async function d9(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function f9(t,e){let{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function p9(t,e){let{account:n=t.account}=e;if(!n)throw new se({docsPath:"/docs/eip7702/signAuthorization"});let a=c0(n);if(!a.signAuthorization)throw new Da({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});let r=await Ar(t,e);return a.signAuthorization(r)}async function vr(t,{account:e=t.account,message:n}){if(!e)throw new se({docsPath:"/docs/actions/wallet/signMessage"});let a=c0(e);if(a.signMessage)return a.signMessage({message:n});let r=typeof n=="string"?ze(n):n.raw instanceof Uint8Array?a0(n.raw):n.raw;return t.request({method:"personal_sign",params:[r,a.address]},{retryCount:0})}async function u9(t,e){let{account:n=t.account,chain:a=t.chain,...r}=e;if(!n)throw new se({docsPath:"/docs/actions/wallet/signTransaction"});let s=c0(n);Ct({account:s,...e});let i=await M(t,V0,"getChainId")({});a!==null&&oc({currentChainId:i,chain:a});let c=(a?.formatters||t.chain?.formatters)?.transactionRequest?.format||rn;return s.signTransaction?s.signTransaction({...r,chainId:i},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(r),chainId:F(i),from:s.address}]},{retryCount:0})}async function pi(t,e){let{account:n=t.account,domain:a,message:r,primaryType:s}=e;if(!n)throw new se({docsPath:"/docs/actions/wallet/signTypedData"});let i=c0(n),o={EIP712Domain:mn({domain:a}),...e.types};if(Vn({domain:a,message:r,primaryType:s,types:o}),i.signTypedData)return i.signTypedData({domain:a,message:r,primaryType:s,types:o});let c=T2({domain:a,message:r,primaryType:s,types:o});return t.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function b9(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:F(e)}]},{retryCount:0})}async function l9(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function y9(t){return{addChain:e=>a9(t,e),deployContract:e=>r9(t,e),getAddresses:()=>s9(t),getCallsStatus:e=>pc(t,e),getCapabilities:e=>i9(t,e),getChainId:()=>V0(t),getPermissions:()=>o9(t),prepareAuthorization:e=>Ar(t,e),prepareTransactionRequest:e=>_a(t,e),requestAddresses:()=>c9(t),requestPermissions:e=>d9(t,e),sendCalls:e=>jm(t,e),sendRawTransaction:e=>X1(t,e),sendTransaction:e=>Ma(t,e),showCallsStatus:e=>f9(t,e),signAuthorization:e=>p9(t,e),signMessage:e=>vr(t,e),signTransaction:e=>u9(t,e),signTypedData:e=>pi(t,e),switchChain:e=>b9(t,e),waitForCallsStatus:e=>$m(t,e),watchAsset:e=>l9(t,e),writeContract:e=>A0(t,e)}}function ui(t){let{key:e="wallet",name:n="Wallet Client",transport:a}=t;return Oa({...t,key:e,name:n,transport:a,type:"walletClient"}).extend(y9)}var ad={};jr(ad,{fromBytes:()=>F2,fromHex:()=>tA,fromString:()=>nA,toBytes:()=>L2,toHex:()=>aA,toString:()=>rA});var XE=new TextEncoder,eA=new TextDecoder,td=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[e,t.charCodeAt(0)])),nd={...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[t.charCodeAt(0),e])),61:0,45:62,95:63};function F2(t,e={}){let{pad:n=!0,url:a=!1}=e,r=new Uint8Array(Math.ceil(t.length/3)*4);for(let c=0,d=0;d<t.length;c+=4,d+=3){let f=(t[d]<<16)+(t[d+1]<<8)+(t[d+2]|0);r[c]=td[f>>18],r[c+1]=td[f>>12&63],r[c+2]=td[f>>6&63],r[c+3]=td[f&63]}let s=t.length%3,i=Math.floor(t.length/3)*4+(s&&s+1),o=eA.decode(new Uint8Array(r.buffer,0,i));return n&&s===1&&(o+="=="),n&&s===2&&(o+="="),a&&(o=o.replaceAll("+","-").replaceAll("/","_")),o}function tA(t,e={}){return F2(r1(t),e)}function nA(t,e={}){return F2(f5(t),e)}function L2(t){let e=t.replace(/=+$/,""),n=e.length,a=new Uint8Array(n+3);XE.encodeInto(e+"===",a);for(let s=0,i=0;s<e.length;s+=4,i+=3){let o=(nd[a[s]]<<18)+(nd[a[s+1]]<<12)+(nd[a[s+2]]<<6)+nd[a[s+3]];a[i]=o>>16,a[i+1]=o>>8&255,a[i+2]=o&255}let r=(n>>2)*3+(n%4&&n%4-1);return new Uint8Array(a.buffer,0,r)}function aA(t){return Lt(L2(t))}function rA(t){return Ku(L2(t))}var p6={};jr(p6,{InvalidRError:()=>sd,InvalidSError:()=>id,InvalidSerializedSizeError:()=>rd,InvalidVError:()=>od,InvalidYParityError:()=>Cr,MissingPropertiesError:()=>f6,assert:()=>cd,extract:()=>sA,from:()=>H2,fromBytes:()=>m9,fromDerBytes:()=>iA,fromDerHex:()=>h9,fromHex:()=>U2,fromLegacy:()=>g9,fromRpc:()=>T9,fromTuple:()=>oA,toBytes:()=>cA,toDerBytes:()=>dA,toDerHex:()=>fA,toHex:()=>x9,toLegacy:()=>pA,toRpc:()=>uA,toTuple:()=>bA,vToYParity:()=>dd,validate:()=>lA,yParityToV:()=>G2});function cd(t,e={}){let{recovered:n}=e;if(typeof t.r>"u")throw new f6({signature:t});if(typeof t.s>"u")throw new f6({signature:t});if(n&&typeof t.yParity>"u")throw new f6({signature:t});if(t.r<0n||t.r>D2)throw new sd({value:t.r});if(t.s<0n||t.s>D2)throw new id({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new Cr({value:t.yParity})}function m9(t){return U2(Lt(t))}function U2(t){if(t.length!==130&&t.length!==132)throw new rd({signature:t});let e=BigInt(Se(t,0,32)),n=BigInt(Se(t,32,64)),a=(()=>{let r=+`0x${t.slice(130)}`;if(!Number.isNaN(r))try{return dd(r)}catch{throw new Cr({value:r})}})();return typeof a>"u"?{r:e,s:n}:{r:e,s:n,yParity:a}}function sA(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return H2(t)}function H2(t){let e=typeof t=="string"?U2(t):t instanceof Uint8Array?m9(t):typeof t.r=="string"?T9(t):t.v?g9(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return cd(e),e}function iA(t){return h9(Lt(t))}function h9(t){let{r:e,s:n}=zi.Signature.fromDER(J6(t).slice(2));return{r:e,s:n}}function g9(t){return{r:t.r,s:t.s,yParity:dd(t.v)}}function T9(t){let e=(()=>{let n=t.v?Number(t.v):void 0,a=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof a!="number"&&(a=dd(n)),typeof a!="number")throw new Cr({value:t.yParity});return a})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function oA(t){let[e,n,a]=t;return H2({r:n==="0x"?0n:BigInt(n),s:a==="0x"?0n:BigInt(a),yParity:e==="0x"?0:Number(e)})}function cA(t){return r1(x9(t))}function x9(t){cd(t);let e=t.r,n=t.s;return Ce(ye(e,{size:32}),ye(n,{size:32}),typeof t.yParity=="number"?ye(G2(t.yParity),{size:1}):"0x")}function dA(t){return new zi.Signature(t.r,t.s).toDERRawBytes()}function fA(t){return`0x${new zi.Signature(t.r,t.s).toDERHex()}`}function pA(t){return{r:t.r,s:t.s,v:G2(t.yParity)}}function uA(t){let{r:e,s:n,yParity:a}=t;return{r:ye(e,{size:32}),s:ye(n,{size:32}),yParity:a===0?"0x0":"0x1"}}function bA(t){let{r:e,s:n,yParity:a}=t;return[a?"0x01":"0x",e===0n?"0x":p8(ye(e)),n===0n?"0x":p8(ye(n))]}function lA(t,e={}){try{return cd(t,e),!0}catch{return!1}}function dd(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new od({value:t})}function G2(t){if(t===0)return 27;if(t===1)return 28;throw new Cr({value:t})}var rd=class extends I0{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ke(J6(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},f6=class extends I0{constructor({signature:e}){super(`Signature \`${d5(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},sd=class extends I0{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},id=class extends I0{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},Cr=class extends I0{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},od=class extends I0{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};var zn=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],Kn=[{inputs:[{name:"success",type:"bool"},{name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"},{name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];function fd(t){let{authorization:e,factory:n,factoryData:a}=t;if(n==="0x7702"||n==="0x7702000000000000000000000000000000000000"){if(!e)return"0x7702000000000000000000000000000000000000";let r=e.address;return p0([r,a??"0x"])}return n?p0([n,a??"0x"]):"0x"}function Ir(t){let{callGasLimit:e,callData:n,maxPriorityFeePerGas:a,maxFeePerGas:r,paymaster:s,paymasterData:i,paymasterPostOpGasLimit:o,paymasterVerificationGasLimit:c,sender:d,signature:f="0x",verificationGasLimit:p}=t,u=p0([F0(F(p||0n),{size:16}),F0(F(e||0n),{size:16})]),b=fd(t),l=p0([F0(F(a||0n),{size:16}),F0(F(r||0n),{size:16})]),y=t.nonce??0n,m=s?p0([s,F0(F(c||0n),{size:16}),F0(F(o||0n),{size:16}),i||"0x"]):"0x",h=t.preVerificationGas??0n;return{accountGasLimits:u,callData:n,initCode:b,gasFees:l,nonce:y,paymasterAndData:m,preVerificationGas:h,sender:d,signature:f}}var yA={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function w9(t){let{chainId:e,entryPointAddress:n,userOperation:a}=t,r=Ir(a);return{types:yA,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:e,verifyingContract:n},message:r}}function Wn(t){let{chainId:e,entryPointAddress:n,entryPointVersion:a}=t,r=t.userOperation,{authorization:s,callData:i="0x",callGasLimit:o,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:f,paymasterAndData:p="0x",preVerificationGas:u,sender:b,verificationGasLimit:l}=r;if(a==="0.8")return Oe(w9({chainId:e,entryPointAddress:n,userOperation:r}));let y=(()=>{if(a==="0.6"){let m=r.initCode?.slice(0,42),h=r.initCode?.slice(42),g=fd({authorization:s,factory:m,factoryData:h});return o0([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[b,f,W(g),W(i),o,l,u,c,d,W(p)])}if(a==="0.7"){let m=Ir(r);return o0([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[m.sender,m.nonce,W(m.initCode),W(m.callData),m.accountGasLimits,m.preVerificationGas,m.gasFees,W(m.paymasterAndData)])}throw new Error(`entryPointVersion "${a}" not supported.`)})();return W(o0([{type:"bytes32"},{type:"address"},{type:"uint256"}],[W(y),n,BigInt(e)]))}async function wt(t){let{extend:e,nonceKeyManager:n=E2({source:{get(){return Date.now()},set(){}}}),...a}=t,r=!1,s=await t.getAddress();return{...e,...a,address:s,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:t.getFactoryArgs()},async getNonce(i){let o=i?.key??BigInt(await n.consume({address:s,chainId:t.client.chain.id,client:t.client}));return t.getNonce?await t.getNonce({...i,key:o}):await H(t.client,{abi:zd(["function getNonce(address, uint192) pure returns (uint256)"]),address:t.entryPoint.address,functionName:"getNonce",args:[s,o]})},async isDeployed(){return r?!0:(r=!!await M(t.client,qt,"getCode")({address:s}),r)},...t.sign?{async sign(i){let[{factory:o,factoryData:c},d]=await Promise.all([this.getFactoryArgs(),t.sign(i)]);return o&&c?a6({address:o,data:c,signature:d}):d}}:{},async signMessage(i){let[{factory:o,factoryData:c},d]=await Promise.all([this.getFactoryArgs(),t.signMessage(i)]);return o&&c&&o!=="0x7702"?a6({address:o,data:c,signature:d}):d},async signTypedData(i){let[{factory:o,factoryData:c},d]=await Promise.all([this.getFactoryArgs(),t.signTypedData(i)]);return o&&c&&o!=="0x7702"?a6({address:o,data:c,signature:d}):d},type:"smart"}}function V2(t){if(typeof t=="string"){if(!In(t,{strict:!1}))throw new Ha({address:t});return{address:t,type:"json-rpc"}}if(!In(t.address,{strict:!1}))throw new Ha({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}var u6=class extends O{constructor({cause:e}){super("Smart Account is not deployed.",{cause:e,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}};Object.defineProperty(u6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});var hn=class extends O{constructor({cause:e,data:n,message:a}={}){let r=a?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n}};Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521});Object.defineProperty(hn,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});var b6=class extends O{constructor({cause:e}){super("Failed to send funds to beneficiary.",{cause:e,name:"FailedToSendToBeneficiaryError"})}};Object.defineProperty(b6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});var l6=class extends O{constructor({cause:e}){super("Gas value overflowed.",{cause:e,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}};Object.defineProperty(l6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});var y6=class extends O{constructor({cause:e}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:e,name:"HandleOpsOutOfGasError"})}};Object.defineProperty(y6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});var m6=class extends O{constructor({cause:e,factory:n,factoryData:a,initCode:r}){super("Failed to simulate deployment for Smart Account.",{cause:e,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)",`- Smart Account deployment execution reverted with an error
`,n&&`factory: ${n}`,a&&`factoryData: ${a}`,r&&`initCode: ${r}`].filter(Boolean),name:"InitCodeFailedError"})}};Object.defineProperty(m6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});var h6=class extends O{constructor({cause:e,factory:n,factoryData:a,initCode:r}){super("Smart Account initialization implementation did not create an account.",{cause:e,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid",`- Smart Account initialization implementation is incorrect
`,n&&`factory: ${n}`,a&&`factoryData: ${a}`,r&&`initCode: ${r}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}};Object.defineProperty(h6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});var g6=class extends O{constructor({cause:e,factory:n,factoryData:a,initCode:r,sender:s}){super("Smart Account initialization implementation does not return the expected sender.",{cause:e,metaMessages:["This could arise when:",`Smart Account initialization implementation does not return a sender address
`,n&&`factory: ${n}`,a&&`factoryData: ${a}`,r&&`initCode: ${r}`,s&&`sender: ${s}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}};Object.defineProperty(g6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});var T6=class extends O{constructor({cause:e}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:e,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}};Object.defineProperty(T6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});var x6=class extends O{constructor({cause:e}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:e,name:"InternalCallOnlyError"})}};Object.defineProperty(x6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});var w6=class extends O{constructor({cause:e}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:e,name:"InvalidAggregatorError"})}};Object.defineProperty(w6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});var E6=class extends O{constructor({cause:e,nonce:n}){super("Invalid Smart Account nonce used for User Operation.",{cause:e,metaMessages:[n&&`nonce: ${n}`].filter(Boolean),name:"InvalidAccountNonceError"})}};Object.defineProperty(E6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});var A6=class extends O{constructor({cause:e}){super("Bundler has not set a beneficiary address.",{cause:e,name:"InvalidBeneficiaryError"})}};Object.defineProperty(A6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});var Pr=class extends O{constructor({cause:e}){super("Invalid fields set on User Operation.",{cause:e,name:"InvalidFieldsError"})}};Object.defineProperty(Pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});var v6=class extends O{constructor({cause:e,paymasterAndData:n}){super("Paymaster properties provided are invalid.",{cause:e,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",n&&`paymasterAndData: ${n}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}};Object.defineProperty(v6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});var gn=class extends O{constructor({cause:e}){super("Paymaster deposit for the User Operation is too low.",{cause:e,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}};Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508});Object.defineProperty(gn,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});var C6=class extends O{constructor({cause:e}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:e,name:"PaymasterFunctionRevertedError"})}};Object.defineProperty(C6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});var I6=class extends O{constructor({cause:e}){super("The Paymaster contract has not been deployed.",{cause:e,name:"PaymasterNotDeployedError"})}};Object.defineProperty(I6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});var _r=class extends O{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterRateLimitError"})}};Object.defineProperty(_r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});var Sr=class extends O{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterStakeTooLowError"})}};Object.defineProperty(Sr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});var P6=class extends O{constructor({cause:e}){super("Paymaster `postOp` function reverted.",{cause:e,name:"PaymasterPostOpFunctionRevertedError"})}};Object.defineProperty(P6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});var _6=class extends O{constructor({cause:e,factory:n,factoryData:a,initCode:r}){super("Smart Account has already been deployed.",{cause:e,metaMessages:["Remove the following properties and try again:",n&&"`factory`",a&&"`factoryData`",r&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}};Object.defineProperty(_6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});var Nr=class extends O{constructor({cause:e}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:e,name:"SignatureCheckFailedError"})}};Object.defineProperty(Nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});var S6=class extends O{constructor({cause:e}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:e,name:"SmartAccountFunctionRevertedError"})}};Object.defineProperty(S6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});var Dr=class extends O{constructor({cause:e}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:e,name:"UnsupportedSignatureAggregatorError"})}};Object.defineProperty(Dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});var N6=class extends O{constructor({cause:e}){super("User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}};Object.defineProperty(N6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});var D6=class extends O{constructor({cause:e}){super("Paymaster for User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}};Object.defineProperty(D6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});var M6=class extends O{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}};Object.defineProperty(M6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});var O6=class extends O{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}};Object.defineProperty(O6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});var Mr=class extends O{constructor({cause:e}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:e,name:"UserOperationRejectedByEntryPointError"})}};Object.defineProperty(Mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});var Or=class extends O{constructor({cause:e}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:e,name:"UserOperationRejectedByPaymasterError"})}};Object.defineProperty(Or,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});var kr=class extends O{constructor({cause:e}){super("User Operation rejected with op code validation error.",{cause:e,name:"UserOperationRejectedByOpCodeError"})}};Object.defineProperty(kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});var Rr=class extends O{constructor({cause:e}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:e,name:"UserOperationOutOfTimeRangeError"})}};Object.defineProperty(Rr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});var pd=class extends O{constructor({cause:e}){super(`An error occurred while executing user operation: ${e?.shortMessage}`,{cause:e,name:"UnknownBundlerError"})}},k6=class extends O{constructor({cause:e}){super("User Operation verification gas limit exceeded.",{cause:e,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}};Object.defineProperty(k6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});var R6=class extends O{constructor({cause:e}){super("User Operation verification gas limit is too low.",{cause:e,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}};Object.defineProperty(R6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});var ud=class extends O{constructor(e,{callData:n,callGasLimit:a,docsPath:r,factory:s,factoryData:i,initCode:o,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:f,paymaster:p,paymasterAndData:u,paymasterData:b,paymasterPostOpGasLimit:l,paymasterVerificationGasLimit:y,preVerificationGas:m,sender:h,signature:g,verificationGasLimit:x}){let C=n5({callData:n,callGasLimit:a,factory:s,factoryData:i,initCode:o,maxFeePerGas:typeof c<"u"&&`${an(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${an(d)} gwei`,nonce:f,paymaster:p,paymasterAndData:u,paymasterData:b,paymasterPostOpGasLimit:l,paymasterVerificationGasLimit:y,preVerificationGas:m,sender:h,signature:g,verificationGasLimit:x});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",C].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},bd=class extends O{constructor({hash:e}){super(`User Operation receipt with hash "${e}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}},ld=class extends O{constructor({hash:e}){super(`User Operation with hash "${e}" could not be found.`,{name:"UserOperationNotFoundError"})}},bi=class extends O{constructor({hash:e}){super(`Timed out while waiting for User Operation with hash "${e}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}};var mA=[hn,Pr,gn,_r,Sr,Nr,Dr,Rr,Mr,Or,kr];function E9(t,e){let n=(t.details||"").toLowerCase();if(u6.message.test(n))return new u6({cause:t});if(b6.message.test(n))return new b6({cause:t});if(l6.message.test(n))return new l6({cause:t});if(y6.message.test(n))return new y6({cause:t});if(m6.message.test(n))return new m6({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(h6.message.test(n))return new h6({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(g6.message.test(n))return new g6({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode,sender:e.sender});if(T6.message.test(n))return new T6({cause:t});if(x6.message.test(n))return new x6({cause:t});if(E6.message.test(n))return new E6({cause:t,nonce:e.nonce});if(w6.message.test(n))return new w6({cause:t});if(A6.message.test(n))return new A6({cause:t});if(v6.message.test(n))return new v6({cause:t});if(gn.message.test(n))return new gn({cause:t});if(C6.message.test(n))return new C6({cause:t});if(I6.message.test(n))return new I6({cause:t});if(P6.message.test(n))return new P6({cause:t});if(S6.message.test(n))return new S6({cause:t});if(_6.message.test(n))return new _6({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(N6.message.test(n))return new N6({cause:t});if(D6.message.test(n))return new D6({cause:t});if(O6.message.test(n))return new O6({cause:t});if(M6.message.test(n))return new M6({cause:t});if(k6.message.test(n))return new k6({cause:t});if(R6.message.test(n))return new R6({cause:t});let a=t.walk(r=>mA.some(s=>s.code===r.code));if(a){if(a.code===hn.code)return new hn({cause:t,data:a.data,message:a.details});if(a.code===Pr.code)return new Pr({cause:t});if(a.code===gn.code)return new gn({cause:t});if(a.code===_r.code)return new _r({cause:t});if(a.code===Sr.code)return new Sr({cause:t});if(a.code===Nr.code)return new Nr({cause:t});if(a.code===Dr.code)return new Dr({cause:t});if(a.code===Rr.code)return new Rr({cause:t});if(a.code===Mr.code)return new Mr({cause:t});if(a.code===Or.code)return new Or({cause:t});if(a.code===kr.code)return new kr({cause:t})}return new pd({cause:t})}function yd(t,{calls:e,docsPath:n,...a}){let r=(()=>{let s=E9(t,a);if(e&&s instanceof hn){let i=hA(s),o=e?.filter(c=>c.abi);if(i&&o.length>0)return gA({calls:o,revertData:i})}return s})();return new ud(r,{docsPath:n,...a})}function hA(t){let e;return t.walk(n=>{let a=n;if(typeof a.data=="string"||typeof a.data?.revertData=="string"||!(a instanceof O)&&typeof a.message=="string"){let r=(a.data?.revertData||a.data||a.message).match?.(/(0x[A-Za-z0-9]*)/);if(r)return e=r[1],!0}return!1}),e}function gA(t){let{calls:e,revertData:n}=t,{abi:a,functionName:r,args:s,to:i}=(()=>{let c=e?.filter(f=>!!f.abi);if(c.length===1)return c[0];let d=c.filter(f=>{try{return!!ku({abi:f.abi,data:n})}catch{return!1}});return d.length===1?d[0]:{abi:[],functionName:c.reduce((f,p)=>`${f?`${f} | `:""}${p.functionName}`,""),args:void 0,to:void 0}})(),o=n==="0x"?new s5({functionName:r}):new Ga({abi:a,data:n,functionName:r});return new W6(o,{abi:a,args:s,contractAddress:i,functionName:r})}function A9(t){let e={};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),e}function Ra(t){let e={};return typeof t.callData<"u"&&(e.callData=t.callData),typeof t.callGasLimit<"u"&&(e.callGasLimit=F(t.callGasLimit)),typeof t.factory<"u"&&(e.factory=t.factory),typeof t.factoryData<"u"&&(e.factoryData=t.factoryData),typeof t.initCode<"u"&&(e.initCode=t.initCode),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=F(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=F(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=F(t.nonce)),typeof t.paymaster<"u"&&(e.paymaster=t.paymaster),typeof t.paymasterAndData<"u"&&(e.paymasterAndData=t.paymasterAndData||"0x"),typeof t.paymasterData<"u"&&(e.paymasterData=t.paymasterData),typeof t.paymasterPostOpGasLimit<"u"&&(e.paymasterPostOpGasLimit=F(t.paymasterPostOpGasLimit)),typeof t.paymasterVerificationGasLimit<"u"&&(e.paymasterVerificationGasLimit=F(t.paymasterVerificationGasLimit)),typeof t.preVerificationGas<"u"&&(e.preVerificationGas=F(t.preVerificationGas)),typeof t.sender<"u"&&(e.sender=t.sender),typeof t.signature<"u"&&(e.signature=t.signature),typeof t.verificationGasLimit<"u"&&(e.verificationGasLimit=F(t.verificationGasLimit)),typeof t.authorization<"u"&&(e.eip7702Auth=TA(t.authorization)),e}function TA(t){return{address:t.address,chainId:F(t.chainId),nonce:F(t.nonce),r:t.r?F(BigInt(t.r),{size:32}):F0("0x",{size:32}),s:t.s?F(BigInt(t.s),{size:32}):F0("0x",{size:32}),yParity:t.yParity?F(t.yParity,{size:1}):F0("0x",{size:32})}}async function md(t,e){let{chainId:n,entryPointAddress:a,context:r,...s}=e,i=Ra(s),{paymasterPostOpGasLimit:o,paymasterVerificationGasLimit:c,...d}=await t.request({method:"pm_getPaymasterData",params:[{...i,callGasLimit:i.callGasLimit??"0x0",verificationGasLimit:i.verificationGasLimit??"0x0",preVerificationGas:i.preVerificationGas??"0x0"},a,F(n),r]});return{...d,...o&&{paymasterPostOpGasLimit:C0(o)},...c&&{paymasterVerificationGasLimit:C0(c)}}}async function hd(t,e){let{chainId:n,entryPointAddress:a,context:r,...s}=e,i=Ra(s),{paymasterPostOpGasLimit:o,paymasterVerificationGasLimit:c,...d}=await t.request({method:"pm_getPaymasterStubData",params:[{...i,callGasLimit:i.callGasLimit??"0x0",verificationGasLimit:i.verificationGasLimit??"0x0",preVerificationGas:i.preVerificationGas??"0x0"},a,F(n),r]});return{...d,...o&&{paymasterPostOpGasLimit:C0(o)},...c&&{paymasterVerificationGasLimit:C0(c)}}}var xA=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function B6(t,e){let n=e,{account:a=t.account,parameters:r=xA,stateOverride:s}=n;if(!a)throw new se;let i=c0(a),o=t,c=n.paymaster??o?.paymaster,d=typeof c=="string"?c:void 0,{getPaymasterStubData:f,getPaymasterData:p}=(()=>{if(c===!0)return{getPaymasterStubData:E=>M(o,hd,"getPaymasterStubData")(E),getPaymasterData:E=>M(o,md,"getPaymasterData")(E)};if(typeof c=="object"){let{getPaymasterStubData:E,getPaymasterData:v}=c;return{getPaymasterStubData:v&&E?E:v,getPaymasterData:v&&E?v:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),u=n.paymasterContext?n.paymasterContext:o?.paymasterContext,b={...n,paymaster:d,sender:i.address},[l,y,m,h,g]=await Promise.all([(async()=>n.calls?i.encodeCalls(n.calls.map(E=>{let v=E;return v.abi?{data:S(v),to:v.to,value:v.value}:v})):n.callData)(),(async()=>{if(!r.includes("factory"))return;if(n.initCode)return{initCode:n.initCode};if(n.factory&&n.factoryData)return{factory:n.factory,factoryData:n.factoryData};let{factory:E,factoryData:v}=await i.getFactoryArgs();return i.entryPoint.version==="0.6"?{initCode:E&&v?p0([E,v]):void 0}:{factory:E,factoryData:v}})(),(async()=>{if(r.includes("fees")){if(typeof n.maxFeePerGas=="bigint"&&typeof n.maxPriorityFeePerGas=="bigint")return b;if(o?.userOperation?.estimateFeesPerGas){let E=await o.userOperation.estimateFeesPerGas({account:i,bundlerClient:o,userOperation:b});return{...b,...E}}try{let E=o.client??t,v=await M(E,Xo,"estimateFeesPerGas")({chain:E.chain,type:"eip1559"});return{maxFeePerGas:typeof n.maxFeePerGas=="bigint"?n.maxFeePerGas:BigInt(2n*v.maxFeePerGas),maxPriorityFeePerGas:typeof n.maxPriorityFeePerGas=="bigint"?n.maxPriorityFeePerGas:BigInt(2n*v.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(r.includes("nonce"))return typeof n.nonce=="bigint"?n.nonce:i.getNonce()})(),(async()=>{if(r.includes("authorization")){if(typeof n.authorization=="object")return n.authorization;if(i.authorization&&!await i.isDeployed())return{...await Ar(i.client,i.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);typeof l<"u"&&(b.callData=l),typeof y<"u"&&(b={...b,...y}),typeof m<"u"&&(b={...b,...m}),typeof h<"u"&&(b.nonce=h),typeof g<"u"&&(b.authorization=g),r.includes("signature")&&(typeof n.signature<"u"?b.signature=n.signature:b.signature=await i.getStubSignature(b)),i.entryPoint.version==="0.6"&&!b.initCode&&(b.initCode="0x");let x;async function C(){return x||(t.chain?t.chain.id:(x=await M(t,V0,"getChainId")({}),x))}let I=!1;if(r.includes("paymaster")&&f&&!d&&!n.paymasterAndData){let{isFinal:E=!1,sponsor:v,...P}=await f({chainId:await C(),entryPointAddress:i.entryPoint.address,context:u,...b});I=E,b={...b,...P}}if(i.entryPoint.version==="0.6"&&!b.paymasterAndData&&(b.paymasterAndData="0x"),r.includes("gas")){if(i.userOperation?.estimateGas){let E=await i.userOperation.estimateGas(b);b={...b,...E}}if(typeof b.callGasLimit>"u"||typeof b.preVerificationGas>"u"||typeof b.verificationGasLimit>"u"||b.paymaster&&typeof b.paymasterPostOpGasLimit>"u"||b.paymaster&&typeof b.paymasterVerificationGasLimit>"u"){let E=await M(o,gd,"estimateUserOperationGas")({account:i,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:s,...b.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...b});b={...b,callGasLimit:b.callGasLimit??E.callGasLimit,preVerificationGas:b.preVerificationGas??E.preVerificationGas,verificationGasLimit:b.verificationGasLimit??E.verificationGasLimit,paymasterPostOpGasLimit:b.paymasterPostOpGasLimit??E.paymasterPostOpGasLimit,paymasterVerificationGasLimit:b.paymasterVerificationGasLimit??E.paymasterVerificationGasLimit}}}if(r.includes("paymaster")&&p&&!d&&!n.paymasterAndData&&!I){let E=await p({chainId:await C(),entryPointAddress:i.entryPoint.address,context:u,...b});b={...b,...E}}return delete b.calls,delete b.parameters,delete b.paymasterContext,typeof b.paymaster!="string"&&delete b.paymaster,b}async function gd(t,e){let{account:n=t.account,entryPointAddress:a,stateOverride:r}=e;if(!n&&!e.sender)throw new se;let s=n?c0(n):void 0,i=a1(r),o=s?await M(t,B6,"prepareUserOperation")({...e,parameters:["authorization","factory","nonce","paymaster","signature"]}):e;try{let c=[Ra(o),a??s?.entryPoint?.address],d=await t.request({method:"eth_estimateUserOperationGas",params:i?[...c,i]:[...c]});return A9(d)}catch(c){let d=e.calls;throw yd(c,{...o,...d?{calls:d}:{}})}}function v9(t){return t.request({method:"eth_supportedEntryPoints"})}function C9(t){let e={...t};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.maxFeePerGas&&(e.maxFeePerGas=BigInt(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=BigInt(t.maxPriorityFeePerGas)),t.nonce&&(e.nonce=BigInt(t.nonce)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),e}async function I9(t,{hash:e}){let n=await t.request({method:"eth_getUserOperationByHash",params:[e]},{dedupe:!0});if(!n)throw new ld({hash:e});let{blockHash:a,blockNumber:r,entryPoint:s,transactionHash:i,userOperation:o}=n;return{blockHash:a,blockNumber:BigInt(r),entryPoint:s,transactionHash:i,userOperation:C9(o)}}function P9(t){let e={...t};return t.actualGasCost&&(e.actualGasCost=BigInt(t.actualGasCost)),t.actualGasUsed&&(e.actualGasUsed=BigInt(t.actualGasUsed)),t.logs&&(e.logs=t.logs.map(n=>Pe(n))),t.receipt&&(e.receipt=fc(e.receipt)),e}async function Td(t,{hash:e}){let n=await t.request({method:"eth_getUserOperationReceipt",params:[e]},{dedupe:!0});if(!n)throw new bd({hash:e});return P9(n)}async function _9(t,e){let{account:n=t.account,entryPointAddress:a}=e;if(!n&&!e.sender)throw new se;let r=n?c0(n):void 0,s=r?await M(t,B6,"prepareUserOperation")(e):e,i=e.signature||await r?.signUserOperation?.(s),o=Ra({...s,signature:i});try{return await t.request({method:"eth_sendUserOperation",params:[o,a??r?.entryPoint?.address]},{retryCount:0})}catch(c){let d=e.calls;throw yd(c,{...s,...d?{calls:d}:{},signature:i})}}function S9(t,e){let{hash:n,pollingInterval:a=t.pollingInterval,retryCount:r,timeout:s=12e4}=e,i=0,o=N0(["waitForUserOperationReceipt",t.uid,n]);return new Promise((c,d)=>{let f=_e(o,{resolve:c,reject:d},p=>{let u=l=>{b(),l(),f()},b=nt(async()=>{r&&i>=r&&u(()=>p.reject(new bi({hash:n})));try{let l=await M(t,Td,"getUserOperationReceipt")({hash:n});u(()=>p.resolve(l))}catch(l){let y=l;y.name!=="UserOperationReceiptNotFoundError"&&u(()=>p.reject(y))}i++},{emitOnBegin:!0,interval:a});return s&&setTimeout(()=>u(()=>p.reject(new bi({hash:n}))),s),b})})}function N9(t){return{estimateUserOperationGas:e=>gd(t,e),getChainId:()=>V0(t),getSupportedEntryPoints:()=>v9(t),getUserOperation:e=>I9(t,e),getUserOperationReceipt:e=>Td(t,e),prepareUserOperation:e=>B6(t,e),sendUserOperation:e=>_9(t,e),waitForUserOperationReceipt:e=>S9(t,e)}}function D9(t){return{getPaymasterData:e=>md(t,e),getPaymasterStubData:e=>hd(t,e)}}function z2(t){let{client:e,key:n="bundler",name:a="Bundler Client",paymaster:r,paymasterContext:s,transport:i,userOperation:o}=t;return Object.assign(Oa({...t,chain:t.chain??e?.chain,key:n,name:a,transport:i,type:"bundlerClient"}),{client:e,paymaster:r,paymasterContext:s,userOperation:o}).extend(N9)}function K2(t){let{key:e="bundler",name:n="Bundler Client",transport:a}=t;return Oa({...t,key:e,name:n,transport:a,type:"PaymasterClient"}).extend(D9)}var jn="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",Zt="0x0000000071727De22E5E9d8BAf0edAc6f37da032";var O9=t=>(e,n,a,r)=>{if(e.isAAProviderRequest=!0,e.method==="eth_accounts"||e.method==="eth_requestAccounts"){n.result=[t],r();return}a()};function k9(t){return async(e,n,a,r)=>{try{let s=await t.request(e);return n.result=s,r()}catch(s){return r(s)}}}var W2=class extends S0{constructor({config:e,state:n,getProviderConfig:a,onNetworkStateChange:r}){super({state:n,config:e}),w(this,"_smartAccount",void 0),w(this,"_publicClient",void 0),w(this,"_bundlerClient",void 0),w(this,"_paymasterClient",void 0),w(this,"getProviderConfig",void 0),this.initialize(),this.getProviderConfig=a,r(s=>{s.chainId!==this.config.chainId&&this.configure({chainId:s.chainId})})}get smartAccount(){return this._smartAccount}get bundlerClient(){return this._bundlerClient}async setupProvider(e,n){let a=this.getProviderConfig(),r=h2({id:Number.parseInt(a.chainId,16),name:a.displayName,rpcUrls:{default:{http:[a.rpcTarget],webSocket:[a.wsTarget]}},blockExplorers:a.blockExplorerUrl?{default:{name:"explorer",url:a.blockExplorerUrl}}:void 0,nativeCurrency:{name:a.tickerName,symbol:a.ticker,decimals:a.decimals||18}});this._publicClient=B2({chain:r,transport:l2(a.rpcTarget)});let s=new _n;s.push(O9(n)),s.push(k9(e));let i=d1(s),o=ui({account:n,chain:r,transport:gr(i)});this._smartAccount=await this.config.smartAccountInit.getSmartAccount({walletClient:o,client:this._publicClient}),this.config.paymasterConfig&&(this._paymasterClient=K2(A(A({},this.config.paymasterConfig),{},{transport:gr(i)}))),this._bundlerClient=z2(A(A({},this.config.bundlerConfig),{},{account:this.smartAccount,client:this._publicClient,transport:gr(i),paymaster:this._paymasterClient})),M9.default.info("check: this._smartAccount",this.smartAccount.address),this.update({smartAccountAddress:this.smartAccount.address})}async sendTransaction(e,n,a){var r,s,i,o,c,d;if(a.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let f=n,p={account:this.smartAccount,calls:[{to:f.to,value:f.value?BigInt(f.value):void 0,data:f.data}],maxFeePerGas:f.maxFeePerGas?BigInt(f.maxFeePerGas):void 0,maxPriorityFeePerGas:f.maxPriorityFeePerGas?BigInt(f.maxPriorityFeePerGas):void 0,callGasLimit:f.callGasLimit?BigInt(f.callGasLimit):void 0,preVerificationGas:f.preVerificationGas?BigInt(f.preVerificationGas):void 0,verificationGasLimit:f.verificationGasLimit?BigInt(f.verificationGasLimit):void 0,paymasterVerificationGasLimit:f.paymasterVerificationGasLimit?BigInt(f.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:f.paymasterPostOpGasLimit?BigInt(f.paymasterPostOpGasLimit):void 0},u={transactionParams:f,chainId:(r=f.chainId)!==null&&r!==void 0?r:this.getProviderConfig().chainId,createdAt:new Date,status:Y.approved};this.updateUserOpMeta(e,u);let b=await this.bundlerClient.sendUserOperation(p);this.updateUserOpMeta(e,{userOpHash:b,status:Y.submitted});let l=await this.bundlerClient.waitForUserOperationReceipt({hash:b});return this.updateUserOpMeta(e,{receipt:{transactionHash:(s=l.receipt)===null||s===void 0?void 0:s.transactionHash,nonce:(i=l.nonce)===null||i===void 0?void 0:i.toString(),gasUsed:Q((o=l.receipt)===null||o===void 0||(o=o.gasUsed)===null||o===void 0?void 0:o.toString(16)),effectiveGasPrice:Q((c=l.receipt)===null||c===void 0||(c=c.effectiveGasPrice)===null||c===void 0?void 0:c.toString(16)),type:(d=l.receipt)===null||d===void 0?void 0:d.type,reason:l.reason},status:l.success?Y.confirmed:Y.failed}),l.receipt.transactionHash}async signTransaction(e,n,a){var r;if(a.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let s=n,i={transactionParams:s,chainId:(r=s.chainId)!==null&&r!==void 0?r:this.getProviderConfig().chainId,createdAt:new Date,status:Y.approved};this.updateUserOpMeta(e,i);let o=await this.bundlerClient.prepareUserOperation({account:this.smartAccount,calls:[{to:s.to,value:s.value?BigInt(s.value):void 0,data:s.data}],maxFeePerGas:s.maxFeePerGas?BigInt(s.maxFeePerGas):void 0,maxPriorityFeePerGas:s.maxPriorityFeePerGas?BigInt(s.maxPriorityFeePerGas):void 0,callGasLimit:s.callGasLimit?BigInt(s.callGasLimit):void 0,preVerificationGas:s.preVerificationGas?BigInt(s.preVerificationGas):void 0,verificationGasLimit:s.verificationGasLimit?BigInt(s.verificationGasLimit):void 0,paymasterVerificationGasLimit:s.paymasterVerificationGasLimit?BigInt(s.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:s.paymasterPostOpGasLimit?BigInt(s.paymasterPostOpGasLimit):void 0}),c=await this.smartAccount.signUserOperation(o);return this.updateUserOpMeta(e,{signature:c,status:Y.signed}),c}async estimateGas(e,n){if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let a=[{to:e.to,value:e.value?BigInt(e.value):void 0,data:e.data}],r=e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,s=e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,i={account:this.smartAccount,calls:a,maxFeePerGas:r,maxPriorityFeePerGas:s,stateOverride:[{address:this.smartAccount.address,balance:w2("1")}]},o;this.smartAccount.entryPoint.version!=="0.6"&&(o=await this.smartAccount.getFactoryArgs()),o&&(o.factory&&(i.factory=o.factory),o.factoryData&&(i.factoryData=o.factoryData));let c=await this.bundlerClient.estimateUserOperationGas(i),d={callGasLimit:a0(c.callGasLimit),preVerificationGas:a0(c.preVerificationGas),verificationGasLimit:a0(c.verificationGasLimit)};return c.paymasterVerificationGasLimit&&(d.paymasterVerificationGasLimit=a0(c.paymasterVerificationGasLimit)),c.paymasterPostOpGasLimit&&(d.paymasterPostOpGasLimit=a0(c.paymasterPostOpGasLimit)),d}async signMessage(e,n){if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return this.smartAccount.sign({hash:e})}async signPersonalMessage(e,n){var a;if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return(a=this.smartAccount)===null||a===void 0?void 0:a.signMessage({message:i0(e)?{raw:e}:e})}async signTypedData(e,n){var a;if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return(a=this.smartAccount)===null||a===void 0?void 0:a.signTypedData({domain:A(A({},e.domain),{},{verifyingContract:e.domain.verifyingContract,salt:e.domain.salt,chainId:Number(e.domain.chainId)}),primaryType:e.primaryType,types:e.types,message:e.message})}updateUserOpMeta(e,n){let a=this.state.userOperations[e];this.update({userOperations:A(A({},this.state.userOperations),{},{[e]:A(A({},a),n)})})}};var j2=f0(O0()),wA=20,EA=2,R9=1e3,li=class extends ss{constructor({config:e,state:n={},idleTimeTracker:a}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");if(!a)throw new Error("PollingBlockTracker - no idleTimeTracker specified.");super({config:e,state:n}),w(this,"pollingManager",void 0);let r=e.pollingInterval||wA,s=e.retryTimeout||EA;this.defaultConfig={provider:e.provider,pollingInterval:r*R9,retryTimeout:s*R9,setSkipCacheFlag:e.setSkipCacheFlag||!1},this.initialize(),this.pollingManager=new je(a,r)}async checkForLatestBlock(){return await this._updateLatestBlock(),this.getLatestBlock()}_start(){this.pollingManager.start(async()=>{await this._synchronize().catch(e=>{this.emit("error",e)})})}_end(){this.pollingManager.stop()}async _synchronize(){try{await this._updateLatestBlock()}catch(e){let n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",n)}catch{j2.default.error(n)}await os(this.config.retryTimeout)}}async _updateLatestBlock(){let e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){try{let e=await this.config.provider.request({method:"eth_getBlockByNumber",params:["latest",!1]});return{blockHash:e.hash,idempotencyKey:e.number,timestamp:e.timestamp,baseFeePerGas:e.baseFeePerGas,gasLimit:e.gasLimit}}catch(e){throw j2.default.error("Polling Block Tracker: ",e),new Error(`PollingBlockTracker - encountered error fetching block:
${e.message}`)}}};var B9=f0(O0()),$2=class extends is{constructor({config:e,state:n,idleTimeTracker:a,onNetworkChanged:r}){super({config:e,state:n}),w(this,"pollingManager",void 0),this.defaultState=A(A({},this.defaultState),{},{commonDenomination:"USD",commonDenominatorPrice:0}),this.initialize(),r(s=>{s.providerConfig.ticker.toUpperCase()!==this.state.nativeCurrency.toUpperCase()&&(this.setNativeCurrency(s.providerConfig.ticker),this.updateConversionRate())}),this.pollingManager=new je(a,this.config.pollInterval)}setCommonDenomination(e){this.update({commonDenomination:e})}getCommonDenomination(){return this.state.commonDenomination}setCommonDenominatorPrice(e){this.update({commonDenominatorPrice:e})}getCommonDenominatorPrice(){return this.state.commonDenominatorPrice}async scheduleConversionInterval(){this.pollingManager.start(this.updateConversionRate.bind(this))}async updateConversionRate(){let e=this.getCurrentCurrency(),n=this.getNativeCurrency(),a=this.getCommonDenomination(),r=await this.retrieveConversionRate(n,e,a),s=Number.parseFloat(r[e.toUpperCase()]),i=Number.parseFloat(r[a.toUpperCase()]);s||i?(this.setConversionRate(s),this.setConversionDate(Math.floor(Date.now()/1e3).toString()),e.toUpperCase()===a.toUpperCase()?this.setCommonDenominatorPrice(s):this.setCommonDenominatorPrice(i)):(this.setConversionRate(0),this.setConversionDate("N/A"))}async retrieveConversionRate(e,n,a){try{let r=`${this.config.api}/currency?fsym=${e.toUpperCase()}&tsyms=${n.toUpperCase()}`;return a&&a.toUpperCase()!==n.toUpperCase()&&(r+=`,${a.toUpperCase()}`),await dt(r)}catch(r){B9.default.error(r,`CurrencyController - updateCommonDenominatorPrice: Failed to query rate for currency: ${e}/ ${n}`)}return{[n.toUpperCase()]:"0",[a.toUpperCase()]:"0"}}};var J2=f0(O0());function Xt(t){if(t==null)throw new TypeError("Cannot destructure "+t)}var L9=f0(uu()),AA=["aBase","bBase"],vA=["aBase","bBase"],CA=["multiplicandBase","multiplierBase"],U9=new Z("1000000000000000000"),H9=new Z("1000000000"),G9=new Z("1"),F9={hex:t=>new Z(ee(t),16),dec:t=>new Z(String(t),10),BN:t=>new Z(t.toString(16),16)},IA={WEI:t=>t.div(U9),GWEI:t=>t.div(H9),ETH:t=>t.div(G9)},PA={WEI:t=>t.times(U9).dp(0,Z.ROUND_HALF_UP),GWEI:t=>t.times(H9).dp(9,Z.ROUND_HALF_UP),ETH:t=>t.times(G9).dp(9,Z.ROUND_HALF_UP)},_A={hex:t=>t.toString(16),dec:t=>new Z(t).toString(10),BN:t=>new L9.default(t.toString(16))},Br=t=>Number.isInteger(t)&&t>1,Rt=({value:t,fromNumericBase:e,fromDenomination:n,fromCurrency:a,toNumericBase:r,toDenomination:s,toCurrency:i,numberOfDecimals:o,conversionRate:c,invertConversionRate:d,roundDown:f})=>{let p=e?F9[e](t):t;if(n&&(p=IA[n](p)),a!==i){if(c==null)throw new Error(`Converting from ${a} to ${i} requires a conversionRate, but one was not provided`);let u=F9.dec(c);d&&(u=new Z(1).div(c)),p=p.times(u)}return s&&(p=PA[s](p)),o&&(p=p.dp(o,Z.ROUND_HALF_DOWN)),f&&(p=p.dp(f,Z.ROUND_DOWN)),r&&(p=_A[r](p)),p},Y2=(t,{fromCurrency:e=null,toCurrency:n=e,fromNumericBase:a,toNumericBase:r,fromDenomination:s,toDenomination:i,numberOfDecimals:o,conversionRate:c,invertConversionRate:d})=>e!==n&&!c?0:Rt({fromCurrency:e,toCurrency:n,fromNumericBase:a,toNumericBase:r,fromDenomination:s,toDenomination:i,numberOfDecimals:o,conversionRate:c,invertConversionRate:d,value:t}),Fr=(t,e)=>{if(!Br(e))throw new Error("Must specificy valid base");return typeof t=="string"||t instanceof Z?new Z(t,e):new Z(String(t),e)},SA=(t,e,n={})=>{let{aBase:a,bBase:r}=n,s=$r(n,AA);if(!Br(a)||!Br(r))throw new Error("Must specify valid aBase and bBase");let i=Fr(t,a).plus(Fr(e,r));return Rt(A({value:i},s))},NA=(t,e,n={})=>{let{aBase:a,bBase:r}=n,s=$r(n,vA);if(!Br(a)||!Br(r))throw new Error("Must specify valid aBase and bBase");let i=Fr(t,a).minus(Fr(e,r));return Rt(A({value:i},s))},V9=(t,e,n={})=>{let{multiplicandBase:a,multiplierBase:r}=n,s=$r(n,CA);if(!Br(a)||!Br(r))throw new Error("Must specify valid multiplicandBase and multiplierBase");let i=Fr(t,a).times(Fr(e,r));return Rt(A({value:i},s))},z9=(t,e)=>{let n=Object.assign({},(Xt(e),e)),a=Object.assign({},(Xt(t),t)),r=Rt(A({},a)),s=Rt(A({},n));return r.gt(s)},DA=(t,e)=>{let n=Object.assign({},(Xt(e),e)),a=Object.assign({},(Xt(t),t)),r=Rt(A({},a)),s=Rt(A({},n));return r.lt(s)},MA=(t,e)=>{let n=Object.assign({},(Xt(e),e)),a=Object.assign({},(Xt(t),t));return z9(A({},a),A({},n))?a.value:n.value},OA=(t,e)=>{let n=Object.assign({},(Xt(e),e)),a=Object.assign({},(Xt(t),t)),r=Rt(A({},a)),s=Rt(A({},n));return r.isGreaterThanOrEqualTo(s)},kA=(t,e)=>{let n=Object.assign({},(Xt(e),e)),a=Object.assign({},(Xt(t),t)),r=Rt(A({},a)),s=Rt(A({},n));return r.isLessThanOrEqualTo(s)},RA=(t,e={})=>V9(t,-1,e),at=t=>Y2(t,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"}),en=t=>Y2(t,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"});function Lr(t){let e=at(new Z(t));return en(e)}async function K9(t){let e=await dt(t);return{estimatedBaseFee:Lr(e.estimatedBaseFee).toString(10),low:A(A({},e.low),{},{suggestedMaxPriorityFeePerGas:Lr(e.low.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:Lr(e.low.suggestedMaxFeePerGas).toString(10)}),medium:A(A({},e.medium),{},{suggestedMaxPriorityFeePerGas:Lr(e.medium.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:Lr(e.medium.suggestedMaxFeePerGas).toString(10)}),high:A(A({},e.high),{},{suggestedMaxPriorityFeePerGas:Lr(e.high.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:Lr(e.high.suggestedMaxFeePerGas).toString(10)})}}async function W9(t){let n="latest",a=[10,50,95],r=await t.request({method:"eth_feeHistory",params:[10,n,a]}),s=r.baseFeePerGas[r.baseFeePerGas.length-1],i=r.reward.filter(d=>d[0]!=="0x0"||d[1]!=="0x0"||d[2]!=="0x0"),o,c;if(i.length>0)o=i.reduce((d,f)=>({slow:d.slow.plus(new Z(f[0],16)),average:d.average.plus(new Z(f[1],16)),fast:d.fast.plus(new Z(f[2],16))}),{slow:new Z(0),average:new Z(0),fast:new Z(0)}),c=i.length;else{let d=await t.request({method:"eth_maxPriorityFeePerGas"}),f=new Z(d,16);o={slow:f,average:f.multipliedBy(1.1),fast:f.multipliedBy(1.5)},c=1}return{estimatedBaseFee:en(s).toString(10),high:{maxWaitTimeEstimate:3e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:en(o.fast.div(c).plus(s).toString(16)).toString(),suggestedMaxPriorityFeePerGas:en(o.fast.div(c).toString(16)).toString()},medium:{maxWaitTimeEstimate:45e3,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:en(o.average.div(c).plus(s).toString(16)).toString(),suggestedMaxPriorityFeePerGas:en(o.average.div(c).toString(16)).toString()},low:{maxWaitTimeEstimate:6e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:en(o.slow.div(c).plus(s).toString(16)).toString(),suggestedMaxPriorityFeePerGas:en(o.slow.div(c).toString(16)).toString()}}}async function j9(t){let e=await dt(t,{referrer:t,referrerPolicy:"no-referrer-when-downgrade",method:"GET"});return{low:e.SafeGasPrice,medium:e.ProposeGasPrice,high:e.FastGasPrice}}async function $9(t){let e=await t.request({method:j.ETH_GET_GAS_PRICE});return{gasPrice:en(e).toString()}}function Y9(t,e,n){let{low:a,medium:r,high:s,estimatedBaseFee:i}=n,o=new Z(at(new Z(t)),16),c=new Z(at(new Z(e)),16),d=new Z(at(new Z(i)),16),f=Z.min(o,c.minus(d)),p=new Z(at(new Z(a.suggestedMaxPriorityFeePerGas)),16),u=new Z(at(new Z(r.suggestedMaxPriorityFeePerGas)),16),b=new Z(at(new Z(s.suggestedMaxPriorityFeePerGas)),16),l,y;return f.lt(p)?(l=null,y="unknown"):f.gte(p)&&f.lt(u)?(l=a.minWaitTimeEstimate,y=a.maxWaitTimeEstimate):f.gte(u)&&f.lt(b)?(l=r.minWaitTimeEstimate,y=r.maxWaitTimeEstimate):f.eq(b)?(l=s.minWaitTimeEstimate,y=s.maxWaitTimeEstimate):(l=0,y=s.maxWaitTimeEstimate),{lowerTimeBound:l,upperTimeBound:y}}var BA="https://mock-gas-server.herokuapp.com/",FA="https://api.metaswap.codefi.network/gasPrices",Q2=class extends S0{constructor({config:e,state:n,idleTimeTracker:a,getNetworkIdentifier:r,getProvider:s,fetchGasEstimates:i=K9,fetchEthGasPriceEstimate:o=$9,fetchLegacyGasPriceEstimates:c=j9,fetchGasEstimatesViaEthFeeHistory:d=W9,getCurrentNetworkLegacyGasAPICompatibility:f,getCurrentNetworkEIP1559Compatibility:p,getCurrentAccountEIP1559Compatibility:u,onNetworkStateChange:b}){super({config:e,state:n}),w(this,"name","GasFeeController"),w(this,"API_SUPPORTED_CHAINIDS",new Set(["0x1","0x5","0xa4b1","0xa86a","0x2105","0x38","0xfa","0xa","0x89"])),w(this,"provider",void 0),w(this,"currentChainId",void 0),w(this,"getNetworkIdentifier",void 0),w(this,"getProvider",void 0),w(this,"fetchGasEstimates",void 0),w(this,"fetchGasEstimatesViaEthFeeHistory",void 0),w(this,"fetchEthGasPriceEstimate",void 0),w(this,"fetchLegacyGasPriceEstimates",void 0),w(this,"getCurrentNetworkEIP1559Compatibility",void 0),w(this,"getCurrentAccountEIP1559Compatibility",void 0),w(this,"getCurrentNetworkLegacyGasAPICompatibility",void 0),w(this,"pollingManager",void 0),this.getNetworkIdentifier=r,this.getProvider=s,this.fetchGasEstimates=i,this.fetchEthGasPriceEstimate=o,this.fetchLegacyGasPriceEstimates=c,this.getCurrentNetworkEIP1559Compatibility=p,this.getCurrentNetworkLegacyGasAPICompatibility=f,this.getCurrentAccountEIP1559Compatibility=u,this.fetchGasEstimatesViaEthFeeHistory=d,this.defaultConfig={interval:3e4,legacyAPIEndpoint:FA,EIP1559APIEndpoint:BA},this.defaultState={gasFeeEstimates:{},estimatedGasFeeTimeBounds:{},gasEstimateType:Qt.NONE},this.currentChainId=this.getNetworkIdentifier(),this.provider=this.getProvider(),this.initialize(),b(()=>{this.onNetworkStateChange()}),this.pollingManager=new je(a,this.config.interval)}async onNetworkStateChange(){this.provider=this.getProvider();let e=this.getNetworkIdentifier();this.currentChainId!==e&&(this.currentChainId=e,await this.fetchGasFeeEstimates())}async resetPolling(){this.stopPolling(),await this.getGasFeeEstimatesAndStartPolling()}async fetchGasFeeEstimates(){return this._fetchGasFeeEstimateData()}async getGasFeeEstimatesAndStartPolling(){await this._fetchGasFeeEstimateData(),this._startPolling()}disconnectPoller(){this.stopPolling()}destroy(){this.stopPolling()}stopPolling(){this.resetState()}async _fetchGasFeeEstimateData(){let e,n=this.getCurrentNetworkLegacyGasAPICompatibility(),a=this.getNetworkIdentifier();if(a==="loading")return;let r;typeof a=="string"&&Yn(Q(a))&&(r=Number.parseInt(a,16));try{e=await this.getEIP1559Compatibility(),J2.default.info("eip1559 compatible",e)}catch(i){J2.default.warn(i),e=!1}let s=Ze(this.defaultState);try{if(e){let i;try{if(this.API_SUPPORTED_CHAINIDS.has(a))i=await this.fetchGasEstimates(this.config.EIP1559APIEndpoint.replace("<chain_id>",`${r}`));else throw new Error("ChainId not supported by api")}catch{i=await this.fetchGasEstimatesViaEthFeeHistory(this.provider)}let{suggestedMaxPriorityFeePerGas:o,suggestedMaxFeePerGas:c}=i.medium,d=this.getTimeEstimate(o,c);s={gasFeeEstimates:i,estimatedGasFeeTimeBounds:d,gasEstimateType:Qt.FEE_MARKET}}else if(n)s={gasFeeEstimates:await this.fetchLegacyGasPriceEstimates(this.config.legacyAPIEndpoint.replace("<chain_id>",`${r}`)),estimatedGasFeeTimeBounds:{},gasEstimateType:Qt.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{s={gasFeeEstimates:await this.fetchEthGasPriceEstimate(this.provider),estimatedGasFeeTimeBounds:{},gasEstimateType:Qt.ETH_GASPRICE}}catch(i){throw new Error(`Gas fee/price estimation failed. Message: ${i.message}`)}}return this.update(s),s}async _startPolling(){this.pollingManager.start(async()=>{await this._fetchGasFeeEstimateData()})}resetState(){this.update(Ze(this.defaultState))}async getEIP1559Compatibility(){var e,n;let a=await this.getCurrentNetworkEIP1559Compatibility(),r=(e=(n=this.getCurrentAccountEIP1559Compatibility)===null||n===void 0?void 0:n.call(this))!==null&&e!==void 0?e:!0;return a&&r}getTimeEstimate(e,n){return!this.state.gasFeeEstimates||this.state.gasEstimateType!==Qt.FEE_MARKET?{}:Y9(e,n,this.state.gasFeeEstimates)}};var q2=class extends us{constructor({config:e,state:n}){super({config:e,state:n}),this.defaultState={wallets:[]},this.initialize()}async signTransaction(e,n){let a=this._getWalletForAccount(n),r=new bt(Q(a.privateKey)),s=e;return s.signature=r.sign(s.unsignedHash),s}getAccounts(){return this.state.wallets.map(e=>e.publicKey)}importAccount(e){let n=e.padStart(64,"0"),a=Buffer.from(n,"hex"),r=z6(Au(a)),s=Gi(z6(vu(a))),i=this.state.wallets.find(o=>o.address===s);return i?i.address:(this.update({wallets:[...this.state.wallets,{publicKey:r,privateKey:e,address:s}]}),s)}removeAccount(e){let n=[...this.state.wallets],a=n.findIndex(r=>r.address===e);a!==-1&&(n.splice(a,1),this.update({wallets:n}))}getBufferPrivateKey(e){let n=ee(e);return Buffer.from(n,"hex")}async signMessage(e,n){let a=this._getWalletForAccount(n),r=this.getBufferPrivateKey(a.privateKey),s=Vi(Buffer.from(ee(e),"hex"),r);return w5(Buffer.from(Hi(s.v)),Buffer.from(s.r),Buffer.from(s.s))}async signPersonalMessage(e,n){let a=this._getWalletForAccount(n),r=new bt(Q(a.privateKey)),s=Yn(e)?Buffer.from(ee(e),"hex"):Buffer.from(e);return r.sign(mo(s)).serialized}async signTypedData(e,n){let a=this._getWalletForAccount(n),r=new bt(Q(a.privateKey));return delete e.types.EIP712Domain,r.sign(Ln.hash(e.domain,e.types,e.message)).serialized}_getWalletForAccount(e){let n=e.toLowerCase(),a=this.state.wallets.find(r=>r.address.toLowerCase()===n);if(!a)throw new Error("Torus Keyring - Unable to find matching address.");return a}};var J9=f0(O0());var LA=/^[0-9A-Fa-f]+$/gu;function Z2(t,e){if(!t||typeof t!="string"||!La(t))throw new Error(`Invalid "${e}" address: ${t} must be a valid string.`)}function yi(t){let{from:e,data:n}=t;if(Z2(e,"from"),!n||typeof n!="string")throw new Error(`Invalid message "data": ${n} must be a valid string.`)}function mi(t){try{let e=ee(t);if(e.match(LA))return Q(e)}catch{}return z6(Buffer.from(t,"utf8"))}async function X2(t,e){if(Z2(t.from,"from"),!t.data||Array.isArray(t.data)||typeof t.data!="object"&&typeof t.data!="string")throw new Error('Invalid message "data": Must be a valid string or object.');let n;if(typeof t.data=="object")n=t.data;else try{n=JSON.parse(t.data)}catch{throw new Error("Data must be passed as a valid JSON string.")}if(!e)throw new Error("Current chainId cannot be null or undefined.");let{chainId:a}=n.domain;if(a){typeof a=="string"&&(a=parseInt(a,a.startsWith("0x")?16:10));let r=parseInt(e,16);if(Number.isNaN(r))throw new Error(`Cannot sign messages for chainId "${a}", because MetaMask is switching networks.`);if(a!==r)throw new Error(`Provided chainId "${a}" must match the active chainId "${r}"`)}}async function ep(t){let{chainId:e,rpcUrls:n,nativeCurrency:a}=t||{};if(!e)throw new Error("Invalid add chain params: please pass chainId in params");if(!i0(e))throw new Error("Invalid add chain params: please pass a valid hex chainId in params, for: ex: 0x1");if(!n||n.length===0)throw new Error("params.rpcUrls not provided");if(!a)throw new Error("params.nativeCurrency not provided");let{name:r,symbol:s,decimals:i}=a;if(!r)throw new Error("params.nativeCurrency.name not provided");if(!s)throw new Error("params.nativeCurrency.symbol not provided");if(i===void 0)throw new Error("params.nativeCurrency.decimals not provided");let o=new K1(n[0],"any"),{chainId:c}=await o.getNetwork();if(Number.parseInt(c.toString())!==Number.parseInt(e,16))throw new Error(`Provided rpc url's chainId version is not matching with provided chainId, expected: ${q0(c)}, received: ${e}`)}function tp(t){let{chainId:e}=t||{};if(!e)throw new Error("Invalid switch chain params: please pass chainId in params");if(!i0(e)){let[n,a]=e.split(":");if(n!==k0.SOLANA&&n!==k0.EIP155)throw new Error("Invalid switch chain params: invalid namespace");if(!a||isNaN(Number(a)))throw new Error("Invalid switch chain params: invalid chainId")}}var np=class extends ft{constructor({config:e,state:n,addChain:a}){super({config:e,state:n}),w(this,"name","AddChainController"),w(this,"addChain",void 0),this.addChain=a,this.initialize()}async processAddChain(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{return await this.approveMessage(e,n.messageParams),await this.addChain(n.messageParams),this.updateMessage(A(A({},n),{},{rawSig:JSON.stringify(n.messageParams)})),this.setMessageStatus(e,_0.SIGNED),null}catch(a){J9.default.error(a),n.error=a?.message||a?.toString(),this.setMessageStatus(e,_0.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){n&&(e.origin=n.origin),await ep(e);let a=e.id||We(),r={id:a,messageParams:e,status:_0.UNAPPROVED,time:Date.now(),type:j.ADD_CHAIN};return await this.addMessage(r),this.emit(Ht.UNAPPROVED_MESSAGE,{messageData:r,req:n}),a}prepMessageForSigning(e){return Promise.resolve(e)}};var Q9=f0(O0());var ap=class extends ft{constructor({config:e,state:n,signMessage:a}){super({config:e,state:n}),w(this,"name","MessageController"),w(this,"signMessage",void 0),this.signMessage=a,this.initialize()}async processSignMessage(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{let a=await this.approveMessage(e,n.messageParams),r=await this.signMessage(a.data,a.from);return this.updateMessage(A(A({},n),{},{rawSig:r})),this.setMessageStatus(e,_0.SIGNED),r}catch(a){Q9.default.error(a),n.error=a?.message||a?.toString(),this.setMessageStatus(e,_0.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){yi(e),n&&(e.origin=n.origin),e.data=mi(e.data);let a=e.id||We(),r={id:a,messageParams:e,status:_0.UNAPPROVED,time:Date.now(),type:j.ETH_SIGN};return await this.addMessage(r),this.emit(Ht.UNAPPROVED_MESSAGE,{messageData:r,req:n}),a}prepMessageForSigning(e){return Promise.resolve(e)}};var q9=f0(O0());var rp=class extends ft{constructor({config:e,state:n,signPersonalMessage:a}){super({config:e,state:n}),w(this,"name","PersonalMessageController"),w(this,"signPersonalMessage",void 0),this.signPersonalMessage=a,this.initialize()}async processSignPersonalMessage(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{let a=await this.approveMessage(e,n.messageParams),r=await this.signPersonalMessage(a.data,a.from);return this.updateMessage(A(A({},n),{},{rawSig:r})),this.setMessageStatus(e,_0.SIGNED),r}catch(a){q9.default.error(a),n.error=a?.message||a?.toString(),this.setMessageStatus(e,_0.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){yi(e),n&&(e.origin=n.origin),e.data=mi(e.data);let a=e.id||We(),r={id:a,messageParams:e,status:_0.UNAPPROVED,time:Date.now(),type:j.PERSONAL_SIGN};return await this.addMessage(r),this.emit(Ht.UNAPPROVED_MESSAGE,{messageData:r,req:n}),a}prepMessageForSigning(e){return Promise.resolve(e)}};var Z9=f0(O0());var sp=class extends ft{constructor({config:e,state:n,switchChain:a}){super({config:e,state:n}),w(this,"name","SwitchChainController"),w(this,"switchChain",void 0),this.switchChain=a,this.initialize()}async processSwitchChain(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{return await this.approveMessage(e,n.messageParams),this.switchChain({chainId:n.messageParams.chainId}),this.updateMessage(A(A({},n),{},{rawSig:JSON.stringify(n.messageParams)})),this.setMessageStatus(e,_0.SIGNED),null}catch(a){Z9.default.error(a),n.error=a?.message||a?.toString(),this.setMessageStatus(e,_0.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){tp(e),n&&(e.origin=n.origin);let a=e.id||We(),r={id:a,messageParams:e,status:_0.UNAPPROVED,time:Date.now(),type:j.SWITCH_CHAIN};return await this.addMessage(r),this.emit(Ht.UNAPPROVED_MESSAGE,{messageData:r,req:n}),a}prepMessageForSigning(e){return Promise.resolve(e)}};var X9=f0(O0());var ip=class extends ft{constructor({config:e,state:n,signTypedData:a,getNetworkIdentifier:r}){super({config:e,state:n}),w(this,"name","TypedMessageController"),w(this,"signTypedData",void 0),w(this,"getNetworkIdentifier",void 0),this.signTypedData=a,this.getNetworkIdentifier=r,this.initialize()}async processSignTypedMessage(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{let a=await this.approveMessage(e,n.messageParams),r=JSON.parse(a.data),s=await this.signTypedData(r,a.from);return this.updateMessage(A(A({},n),{},{rawSig:s})),this.setMessageStatus(e,_0.SIGNED),s}catch(a){X9.default.error(a),n.error=a?.message||a?.toString(),this.setMessageStatus(e,_0.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){let a=this.getNetworkIdentifier();await X2(e,a),typeof e.data!="string"&&(e.data=JSON.stringify(e.data)),n&&(e.origin=n.origin);let r=e.id||We(),s={id:r,messageParams:e,status:_0.UNAPPROVED,time:Date.now(),type:j.ETH_SIGN_TYPED_DATA_V4};return await this.addMessage(s),this.emit(Ht.UNAPPROVED_MESSAGE,{messageData:s,req:n}),r}prepMessageForSigning(e){return Promise.resolve(e)}};function e4({getAccounts:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.GET_ACCOUNTS)return a();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");let s=await t(e);n.result=s})}function t4({processTransaction:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.ETH_TRANSACTION)return a();if(!t)throw new Error("WalletMiddleware - opts.processTransaction not provided");n.result=await t(e.params,e)})}function n4({processSignTransaction:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.ETH_SIGN_TRANSACTION)return a();if(!t)throw new Error("WalletMiddleware - opts.processSignTransaction not provided");n.result=await t(e.params,e)})}function a4({processEstimateUserOperationGas:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.ETH_ESTIMATE_AA_TRANSACTION_GAS)return a();if(!t)throw new Error("WalletMiddleware - opts.processEstimateUserOperationGas not provided");n.result=await t(e.params,e)})}function r4({processEthSignMessage:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.ETH_SIGN)return a();if(!t)throw new Error("WalletMiddleware - opts.processEthSignMessage not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let s=e.params;if(Array.isArray(e.params)){if(e.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${r} method. expected [address, message]`);let i=e.params,o=i[0],c=i[1];s={from:o,data:c}}n.result=await t(s,e)})}function s4({processTypedMessageV4:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.ETH_SIGN_TYPED_DATA_V4)return a();if(!t)throw new Error("WalletMiddleware - opts.processTypedMessageV4 is not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let s=e.params;if(Array.isArray(e.params)){if(e.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${r} method. expected [address, typedData]`);let i=e.params,o=i[0],c=i[1];s={from:o,data:c}}n.result=await t(s,e)})}function i4({processPersonalMessage:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.PERSONAL_SIGN)return a();if(!t)throw new Error("WalletMiddleware - opts.processPersonalMessage is not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let s=e.params;if(Array.isArray(e.params)){if(!(e.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${r} method. expected [message, address]`);let i=e.params;if(typeof i[0]=="object"){let{challenge:o,address:c}=i[0];s={from:c,data:o}}else{let o=i[0];s={from:i[1],data:o}}}n.result=await t(s,e)})}function o4({getPendingNonce:t}){return de(async(e,n,a)=>{let{params:r,method:s}=e;if(s!==j.ETH_GET_TRANSACTION_COUNT)return a();let{blockReference:i}=r;if(i!=="pending")return a();n.result=await t(r,e)})}function c4(t){let{r:e,s:n,v:a,txReceipt:r,transaction:s,transactionHash:i,accessList:o}=t,{to:c,data:d,nonce:f,gas:p,from:u,value:b,gasPrice:l,maxFeePerGas:y,maxPriorityFeePerGas:m}=s,h={v:a,r:e,s:n,to:c,gas:p,from:u,hash:i,nonce:f,input:d||"0x",value:b||"0x0",accessList:o||null,blockHash:r?.blockHash||null,blockNumber:r?.blockNumber||null,transactionIndex:r?.transactionIndex||null,type:null};return y&&m?(h.maxFeePerGas=y,h.maxPriorityFeePerGas=m,h.type=kt.FEE_MARKET):(h.gasPrice=l,h.type=kt.LEGACY),h}function d4({getPendingTransactionByHash:t}){return de(async(e,n,a)=>{let{params:r,method:s}=e;if(s!==j.ETH_GET_TRANSACTION_BY_HASH)return a();if(!t)throw new Error("WalletMiddleware - opts.getPendingTransactionByHash not provided");let i=await t(r,e);if(!i)return a();n.result=c4(i)})}function f4({processSwitchEthereumChain:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.SWITCH_CHAIN)return a();if(!t)throw new Error("WalletMiddleware - opts.processSwitchEthereumChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let s=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${r} method. expected [data]`);let[i]=e.params;s=i}n.result=await t(s,e)})}function p4({processWalletSwitchChain:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==T5.WALLET_SWITCH_CHAIN)return a();if(!t)throw new Error("WalletMiddleware - opts.processWalletSwitchChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let s=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${r} method. expected [data]`);let[i]=e.params;s=i}n.result=await t(s,e)})}function u4({processAddEthereumChain:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!==j.ADD_CHAIN)return a();if(!t)throw new Error("WalletMiddleware - opts.processAddEthereumChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let s=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${r} method. expected [data]`);let[i]=e.params;s=i}n.result=await t(s,e)})}function b4({requestAccounts:t}){return de(async(e,n,a)=>{let{method:r}=e;if(r!=="eth_requestAccounts")return a();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");let s=await t(e);n.result=s})}function l4({bundlerUrl:t,paymasterUrl:e,providerConfig:n,analytics:a}){let r=[],s=(o,c,d,f)=>{if(!Ho.includes(o.method)&&!Go.includes(o.method))return d();let p=o.id,u=Math.floor(Math.random()*1e6);o.id=u,c.id=u,d(b=>{o.id=p,c.id=p,b()})},i=b1({rpcTarget:t,providerConfig:n,analytics:a});if(r.push(s),r.push((o,c,d,f)=>{if(!Ho.includes(o.method))return d();i(o,c,d,f)}),e){let o=b1({rpcTarget:e,providerConfig:n,analytics:a});r.push((c,d,f,p)=>{if(!Go.includes(c.method))return f();o(c,d,f,p)})}return ja(r)}function op(t,e,n){let{requestAccounts:a,getAccounts:r,getPrivateKey:s,getPublicKey:i,processTransaction:o,processSignTransaction:c,processEstimateUserOperationGas:d,processEthSignMessage:f,processTypedMessageV4:p,processPersonalMessage:u,getPendingNonce:b,getPendingTransactionByHash:l,processSwitchEthereumChain:y,processWalletSwitchChain:m,processAddEthereumChain:h,getProviderState:g,aaConfig:x,version:C}=t,I=[g5({version:C,[T5.GET_PROVIDER_STATE]:g}),b4({requestAccounts:a}),e4({getAccounts:r}),f1(j.ETH_PRIVATE_KEY,s),f1(j.PRIVATE_KEY,s),f1(j.ETH_PUBLIC_KEY,i),f1(j.PUBLIC_KEY,i),t4({processTransaction:o}),n4({processSignTransaction:c}),a4({processEstimateUserOperationGas:d}),r4({processEthSignMessage:f}),s4({processTypedMessageV4:p}),i4({processPersonalMessage:u}),o4({getPendingNonce:b}),d4({getPendingTransactionByHash:l}),f4({processSwitchEthereumChain:y}),p4({processWalletSwitchChain:m}),u4({processAddEthereumChain:h})];return x&&I.push(l4({bundlerUrl:x.bundlerUrl,paymasterUrl:x.paymasterUrl,providerConfig:e,analytics:n})),ja(I)}var w4=f0(x4()),gi=(function(t){return t.Block="block",t.Fork="fork",t.Never="never",t.Permanent="perma",t})({});function HA(t){switch(t){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function GA(t){switch(t){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return gi.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return gi.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return gi.Block;default:return gi.Never}}function VA(t){return GA(t)!==gi.Never}function zA(t){if(!t.params)return[];let e=HA(t.method);return e===void 0||!Array.isArray(t.params)||e>=t.params.length?t.params:t.method==="eth_getBlockByNumber"?t.params.slice(1):t.params.slice(0,e)}function E4(t,e){var n;let a=e?zA(t):(n=t.params)!==null&&n!==void 0?n:[];return VA(t.method)?`${t.method}:${(0,w4.default)(a)}`:null}function A4(t){return(e,n,a,r)=>e.method==="eth_chainId"?(n.result=t,r()):e.method==="net_version"?(n.result=Number.parseInt(t,16).toString(10),r()):a()}function v4(t){return(e,n,a,r)=>e.method==="eth_provider_config"?(n.result=t,r()):a()}function fp(t,e,n,a){let{chainId:r,rpcTarget:s}=t,i=b1({rpcTarget:s,providerConfig:t,analytics:a}),o=T8(i),c=new li({config:A(A({},e),{},{provider:o}),state:{},idleTimeTracker:n});return{networkMiddleware:ja([A4(r),v4(t),R8({cacheIdentifierForRequest:E4}),i]),blockTracker:c}}var pp=f0(O0());var KA=["chainId","rpcTarget"],up=class extends S0{constructor({config:e,state:n,idleTimeTracker:a,analytics:r}){super({config:e,state:n}),w(this,"name","NetworkController"),w(this,"providerProxy",void 0),w(this,"blockTrackerProxy",void 0),w(this,"mutex",new cn),w(this,"provider",null),w(this,"blockTracker",null),w(this,"baseProviderHandlers",void 0),w(this,"idleTimeTracker",void 0),w(this,"analytics",void 0),this.defaultState={chainId:"loading",properties:{EIPS_1559:void 0},providerConfig:gt[Ot]},this.analytics=r,this.initialize(),this.idleTimeTracker=a}getNetworkIdentifier(){return this.state.chainId}getNetworkRPCUrl(){return this.state.providerConfig.rpcTarget}initializeProvider(e){return this.baseProviderHandlers=e,this.configureProvider(),this.lookupNetwork(),this.providerProxy}getProvider(){return this.providerProxy}getBlockTracker(){return this.blockTrackerProxy}getProviderConfig(){return this.state.providerConfig}setProviderConfig(e){this.update({providerConfig:A({},e)}),this.refreshNetwork()}async getEIP1559Compatibility(){let{EIPS_1559:e}=this.state.properties;if(e!==void 0)return e;let n=await this.blockTracker.getLatestBlock(),a=n&&n.baseFeePerGas!==void 0;return this.update({properties:{EIPS_1559:a}}),a}async lookupNetwork(){let{chainId:e,rpcTarget:n}=this.getProviderConfig();if(!e||!n||!this.provider){this.update({chainId:"loading",properties:{}});return}let a=await this.mutex.acquire();try{let[r]=await Promise.all([this.provider.request({method:"eth_chainId"}),this.getEIP1559Compatibility()]);pp.default.info("network fetched chain id",r),this.update({chainId:r}),this.emit("networkDidChange")}catch{this.update({chainId:"loading"})}finally{a()}}configureProvider(){let e=this.getProviderConfig(),{chainId:n,rpcTarget:a}=e,r=$r(e,KA);if(!n||!a)throw new Error("chainId and rpcTarget must be provider in providerConfig");this.configureStandardProvider(A({chainId:n,rpcTarget:a},r))}setNetworkClient({networkMiddleware:e,blockTracker:n}){let a=op(this.baseProviderHandlers,this.getProviderConfig(),this.analytics),r=new _n;r.push(D8({providerConfig:this.getProviderConfig(),analytics:this.analytics})),r.push(a),r.push(e);let s=d1(r);this.setProvider({provider:s,blockTracker:n})}setProvider({provider:e,blockTracker:n}){this.providerProxy?this.providerProxy.setTarget(e):this.providerProxy=w8(e),this.blockTrackerProxy?this.blockTrackerProxy.setTarget(n):this.blockTrackerProxy=x8(n,{eventFilter:"skipInternal"}),this.provider=e,e.setMaxListeners(10),this.blockTracker=n}configureStandardProvider(e){let n=fp(e,this.config,this.idleTimeTracker,this.analytics);pp.default.info("networkClient",n),this.setNetworkClient(n)}refreshNetwork(){this.update({chainId:"loading",properties:{}}),this.configureProvider(),this.lookupNetwork()}};var Ep=f0(O0());var D4=f0(O0());var I4=f0(O0());var WA=new un(Ys),jA=new un(Ta),$A=new un(xa),C4={from:(t,e=!0)=>e?Q(t).toLowerCase():Q(t),to:(t,e=!0)=>e?Q(t).toLowerCase():Q(t),nonce:t=>Q(t),customNonceValue:t=>Q(t),value:t=>Q(t),data:t=>Q(t),gas:t=>Q(t),gasPrice:t=>Q(t),type:Q,maxFeePerGas:Q,maxPriorityFeePerGas:Q,callGasLimit:Q,preVerificationGas:Q,verificationGasLimit:Q,paymasterVerificationGasLimit:Q,paymasterPostOpGasLimit:Q};function wd(t,e=!0){let n={id:t.id||We(),from:t.from};for(let a in C4){let r=a;t[r]&&(n[r]=C4[r](t[r],e))}return n}function YA(t,e){return typeof t.chainId<"u"?t.chainId===e:!1}function Ed(t){var e,n;return Yn(Q(t==null||(e=t.transaction)===null||e===void 0?void 0:e.maxFeePerGas))&&Yn(Q(t==null||(n=t.transaction)===null||n===void 0?void 0:n.maxPriorityFeePerGas))}function JA(t){return typeof t.transaction.maxFeePerGas>"u"&&typeof t.transaction.maxPriorityFeePerGas>"u"&&(typeof t.transaction.gasPrice>"u"||Yn(Q(t.transaction.gasPrice)))}function Ti(t,e,n){if(typeof t[n]<"u")throw P0.invalidParams(`Invalid transaction params: specified ${e} but also included ${n}, these cannot be mixed`)}function L6(t,e){if(typeof t[e]!="string")throw P0.invalidParams(`Invalid transaction params: ${e} is not a string. got: (${t[e]})`)}function bp(t,e){switch(e){case"maxFeePerGas":case"maxPriorityFeePerGas":if(t.type&&t.type!==kt.FEE_MARKET)throw P0.invalidParams(`Invalid transaction envelope type: specified type "${t.type}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${kt.FEE_MARKET}"`);break;case"gasPrice":default:if(t.type&&t.type===kt.FEE_MARKET)throw P0.invalidParams(`Invalid transaction envelope type: specified type "${t.type}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function P4(t){if(typeof t.from!="string")throw P0.invalidParams(`Invalid "from" address "${t.from}": not a string.`);if(!La(t.from))throw P0.invalidParams('Invalid "from" address.')}function _4(t){if(t.to==="0x"||t.to===null)if(t.data)delete t.to;else throw P0.invalidParams('Invalid "to" address.');else if(t.to!==void 0&&!La(t.to))throw P0.invalidParams('Invalid "to" address.');return t}function Ad(t,e=!0){if(!t||typeof t!="object"||Array.isArray(t))throw P0.invalidParams("Invalid transaction params: must be an object.");if(!t.to&&!t.data)throw P0.invalidParams('Invalid transaction params: must specify "data" for contract deployments, or "to" (and optionally "data") for all other types of transactions.');if(Ed({transaction:t})&&!e)throw P0.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559");Object.entries(t).forEach(([n,a])=>{switch(n){case"from":P4(t);break;case"to":_4(t);break;case"gasPrice":bp(t,"gasPrice"),Ti(t,"gasPrice","maxFeePerGas"),Ti(t,"gasPrice","maxPriorityFeePerGas"),L6(t,"gasPrice");break;case"maxFeePerGas":bp(t,"maxFeePerGas"),Ti(t,"maxFeePerGas","gasPrice"),L6(t,"maxFeePerGas");break;case"maxPriorityFeePerGas":bp(t,"maxPriorityFeePerGas"),Ti(t,"maxPriorityFeePerGas","gasPrice"),L6(t,"maxPriorityFeePerGas");break;case"value":if(L6(t,"value"),a.toString().includes("-"))throw P0.invalidParams(`Invalid transaction value "${a}": not a positive number.`);if(a.toString().includes("."))throw P0.invalidParams(`Invalid transaction value of "${a}": number must be in wei.`);break;case"chainId":if(typeof a!="number"&&typeof a!="string")throw P0.invalidParams(`Invalid transaction params: ${n} is not a Number or hex string. got: (${a})`);break;default:L6(t,n)}})}function vd(t,e=!0){let n=wd(t,e);return Ad(n),n}function lp(){return[Y.rejected,Y.confirmed,Y.failed,Y.dropped]}function S4(t){try{let e=WA.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:j1}}catch{}try{let e=jA.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:Ae}}catch{}try{let e=$A.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:ht}}catch{}}var N4=async(t,e)=>{let n;try{n=await t.request({method:j.ETH_GET_CODE,params:[e,"latest"]})}catch{n=null}return{contractCode:n,isContractAddress:n?n!=="0x"&&n!=="0x0":!1}};async function xi(t,e){let{data:n,to:a}=t,r="",s=[],i="";try{({name:r,methodParams:s,type:i}=n&&S4(n)||{})}catch(d){I4.default.debug("Failed to parse transaction data",d)}let o,c="";if(n&&!a)o=St.DEPLOY_CONTRACT;else{let{contractCode:d,isContractAddress:f}=await N4(e,a);if(c=d,f){let p=t.value&&Number(t.value)!==0,u=[St.TOKEN_METHOD_APPROVE,St.TOKEN_METHOD_TRANSFER,St.TOKEN_METHOD_TRANSFER_FROM,St.COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM,St.SET_APPROVAL_FOR_ALL].find(b=>{var l;return b.toLowerCase()===((l=r)===null||l===void 0?void 0:l.toLowerCase())});o=n&&u&&!p?u:St.CONTRACT_INTERACTION}else o=St.SENT_ETHER}return{type:i||ei,category:o,methodParams:s,getCodeResponse:c}}function QA(t){return new Z(ee(t),16)}function qA(t){return Q(t.toString(16))}function ZA(t,e){return gt[e]?`${gt[e].blockExplorerUrl}/tx/${t}`:""}var U6=t=>{var e;let{transaction:n,lowerCaseSelectedAddress:a,blockExplorerUrl:r}=t,s="";n.type===Ae||n.type===ht?s=n.symbol:n.type===j1?s=cs(Number.parseFloat(n.total_amount),n.symbol,!0):s=cs(Number.parseFloat(n.total_amount),n.type_name,!0);let i=n.type===Ae||n.type===ht||n.isEtherscan?"":cs(Number.parseFloat(n.currency_amount),n.selected_currency,!0);return{id:n.created_at.toString(),date:new Date(n.created_at).toString(),from:n.from,from_aa_address:n.from_aa_address,slicedFrom:typeof n.from=="string"?E5(n.from):"",to:n.to,slicedTo:typeof n.to=="string"?E5(n.to):"",action:a===((e=n.to)===null||e===void 0?void 0:e.toLowerCase())?A8:E8,totalAmount:n.total_amount,totalAmountString:s,currencyAmount:n.currency_amount,currencyAmountString:i,amount:`${s} / ${i}`,status:n.status,etherscanLink:r?`${r}/tx/${n.transaction_hash}`:"",chainId:n.chain_id,ethRate:Number.parseFloat(n?.total_amount)&&Number.parseFloat(n?.currency_amount)?`1 ${n.symbol} = ${I8(Number.parseFloat(n.currency_amount)/Number.parseFloat(n.total_amount))}`:"",currencyUsed:n.selected_currency,type:n.type,type_name:n.type_name,type_image_link:n.type_image_link,transaction_hash:n.transaction_hash,transaction_category:n.transaction_category,isEtherscan:n.isEtherscan,input:n.input||"",token_id:n.token_id||"",contract_address:n.contract_address||"",nonce:n.nonce||"",is_cancel:!!n.is_cancel||!1,gas:n.gas||"",gasPrice:n.gasPrice||""}},yp=async(t,e)=>{try{let n=await e.request({method:j.ETH_GET_TRANSACTION_RECEIPT,params:[t]});return n===null?Y.submitted:n&&n.status==="0x1"?Y.confirmed:n&&n.status==="0x0"?Y.rejected:void 0}catch(n){D4.default.warn("unable to fetch transaction status",n);return}};function mp(t){let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=new Date(t),a=n.getDate(),r=e[n.getMonth()],s=n.getFullYear();return`${a} ${r} ${s}`}function hp(t){return new Date(t).toTimeString().slice(0,8)}function M4(t,e){return La(t)}function XA(t,e){return M4(t)?Gi(t):t}var gp={SIMPLE:Q("5208"),BASE_TOKEN_ESTIMATE:Q("186a0")};function Tp(t,e){return t==null||e===null||e===void 0?null:new Z(t,10).lt(e,10)}var O4=t=>`https://infura-ipfs.io/${t}`;function wi(t){let e=t;if(t!=null&&t.startsWith("ipfs")){let n=t.split("ipfs://")[1];e=O4(n)}return e}function xp(t){return t===Ot?"mainnet":Xf.includes(t)?"testnet":"custom"}var wp=async t=>{let{txn:e,lowerCaseSelectedAddress:n,provider:a,chainId:r,blockExplorerUrl:s}=t;return(await Promise.all(e.map(async c=>{var d,f;let{category:p,type:u}=await xi(A(A({},c),{},{data:c.input}),a);return c.transaction_category=c.transaction_category||p,c.type_image_link=((d=gt[r])===null||d===void 0?void 0:d.logo)||"",c.type_name=(f=gt[r])===null||f===void 0?void 0:f.ticker,c.type=u,c}))).reduce((c,d)=>{var f,p;let u=d.value?new Z(d.value).div(new Z(10).pow(new Z(d.tokenDecimal||18))).toString():"",b=ei;d.contractAddress!==""&&(d.tokenID?b=d.tokenValue?ht:Ae:b=j1),b===ht&&(u=d.tokenValue);let l={type:b,type_image_link:d.type_image_link||"n/a",type_name:d.tokenName||((f=gt[r])===null||f===void 0?void 0:f.ticker)||"n/a",symbol:d.tokenSymbol||((p=gt[r])===null||p===void 0?void 0:p.ticker),token_id:d.tokenID||"",total_amount:u,created_at:new Date(Number(d.timeStamp)*1e3),from:d.from,to:d.to,transaction_hash:d.hash,status:d.txreceipt_status&&d.txreceipt_status==="0"?Y.failed:Y.confirmed,isEtherscan:!0,input:d.input,contract_address:d.contractAddress,transaction_category:d.transaction_category,gas:`0x${new Z(d.gasUsed||0,10).toString(16)}`,gasPrice:`0x${new Z(d.gasPrice||0,10).toString(16)}`,chain_id:r,currency_amount:"",nonce:d.nonce,from_aa_address:"",is_cancel:!1,selected_currency:""};return c.push(U6({transaction:l,lowerCaseSelectedAddress:n,blockExplorerUrl:s})),c},[])};var Ei=class{constructor({chainId:e,contractAddress:n,contractImage:a,contractName:r,contractSymbol:s,nftStandard:i,provider:o,contractDescription:c,contractFallbackLogo:d,contractSupply:f}){w(this,"contractAddress",void 0),w(this,"contractName",void 0),w(this,"contractSymbol",void 0),w(this,"contractImage",void 0),w(this,"contractSupply",void 0),w(this,"contractFallbackLogo",void 0),w(this,"nftStandard",void 0),w(this,"contractDescription",void 0),w(this,"chainId",void 0),w(this,"provider",void 0),w(this,"isSpecial",void 0),this.chainId=e,this.contractAddress=n,this.contractImage=a,this.contractName=r,this.contractSymbol=s,this.nftStandard=i,this.provider=o,this.contractDescription=c,this.contractFallbackLogo=d,this.contractSupply=f}async getNftMetadata(e,n){let a=A({description:"",image:"",name:"",tokenBalance:"",tokenId:"",decimals:"1"},n),[r,s]=await Promise.all([this.getCollectibleTokenURI(a.tokenId,this.nftStandard),a.tokenBalance?Promise.resolve("0"):this.fetchNftBalance(e,a.tokenId)]);a.tokenBalance=a.tokenBalance||s;try{let o=JSON.parse(r);a.image=a.image||wi(o.image),a.name=a.name||o.name,a.description=a.description||o.description,a.decimals=a.decimals||o.decimals}catch(o){Ep.default.warn("Token uri is not a valid json object",o)}let i=wi(r);try{if(!a.description||!a.image||!a.name){let o=await dt(i);a.image=a.image||wi(o.image),a.name=a.name||o.name,a.description=a.description||o.description,a.decimals=a.decimals||o.decimals}}catch(o){Ep.default.error("Failed to fetch nft metadata",o)}return a}async getContractMetadata(){let e={chainId:this.chainId,contractAddress:this.contractAddress,contractName:this.contractName,contractSymbol:this.contractSymbol,nftStandard:this.nftStandard,contractImage:this.contractImage,contractDescription:this.contractDescription,contractFallbackLogo:this.contractFallbackLogo,contractSupply:this.contractSupply};if(!this.nftStandard){let{standard:n,isSpecial:a}=await this.checkNftStandard();e.nftStandard=n,this.nftStandard=n,this.isSpecial=a}if(!this.contractName||!this.contractSymbol||!this.contractDescription){let n=this.nftStandard===Ae?Ta:xa,a=new re(this.contractAddress,n,this.provider),[r,s]=await Promise.all([a.name(),a.symbol()]);e.contractName=r,e.contractSymbol=s,this.contractName||(this.contractName=r),this.contractSymbol||(this.contractSymbol=s)}return e}async fetchNftBalance(e,n){let{standard:a}=await this.checkNftStandard(),r=a===Ae?Ta:xa,s=new re(this.contractAddress,r,this.provider);if(a===ht)return await s.balanceOf(e,n);let i="";try{i=await s.ownerOf(n)}catch{throw new Error("Token id doesn't exists")}return i.toLowerCase()===e.toLowerCase()?"1":"0"}async checkNftStandard(){if(this.nftStandard&&this.isSpecial!==void 0)return;if(Object.prototype.hasOwnProperty.call(Zf,this.contractAddress.toLowerCase()))return this.nftStandard=Ae,this.isSpecial=!0,{standard:Ae,isSpecial:!0};if(await this.contractSupportsInterface(Ae,Qf))return this.nftStandard=Ae,this.isSpecial=!1,{standard:Ae,isSpecial:!1};if(await this.contractSupportsInterface(ht,Jf))return this.nftStandard=ht,this.isSpecial=!1,{standard:ht,isSpecial:!1};throw new Error("Unsupported nft standard")}async contractSupportsInterface(e,n){let a=e===Ae?Ta:xa;return new re(this.contractAddress,a,this.provider).supportsInterface(n)}async getCollectibleTokenURI(e,n=Ae){let a=n===Ae?"tokenURI":"uri",r=n===Ae?Ta:xa;return new re(this.contractAddress,r,this.provider)[a](e)}};var k4=f0(mu());var Ap=f0(O0());var ev=180*1e3,vp=class extends S0{constructor({config:e,state:n,provider:a,getCustomNfts:r,getSimpleHashNfts:s,onPreferencesStateChange:i,onNetworkStateChange:o,idleTimeTracker:c}){super({config:e,state:n}),w(this,"name","NftsController"),w(this,"provider",void 0),w(this,"ethersProvider",void 0),w(this,"getCustomNfts",void 0),w(this,"getSimpleHashNfts",void 0),w(this,"pollingManager",void 0),this.provider=a,this.ethersProvider=new bn(this.provider,"any"),this.getCustomNfts=r,this.getSimpleHashNfts=s,this.defaultConfig={interval:ev,selectedAddress:"",chainId:""},this.defaultState={nfts:{}},this.initialize(),i(d=>{d.selectedAddress!==this.config.selectedAddress&&(this.configure({selectedAddress:d.selectedAddress}),this.restartNftDetection())}),o(d=>{let{chainId:f}=d.providerConfig;f!==this.config.chainId&&(this.configure({chainId:f}),this.restartNftDetection())}),this.pollingManager=new je(c,this.config.interval)}get userSelectedAddress(){return this.config.selectedAddress}get userNfts(){var e;return this.userSelectedAddress?(e=this.state.nfts[this.userSelectedAddress])!==null&&e!==void 0?e:[]:[]}startNftDetection(e){this.configure({selectedAddress:e}),this.restartNftDetection()}restartNftDetection(){this.userSelectedAddress&&this.pollingManager.start(()=>{this.detectNewNfts(),this.refreshNftBalances()})}detectNewNfts(){let e=this.userSelectedAddress;if(!e)return;let n=this.config.chainId,a=[];if(!n){this.update({nfts:{[e]:[...a]}});return}if(this.getCustomNfts){let s=this.getCustomNfts(e).reduce((i,o)=>{if(o.network===n){let c={description:"",image:"",name:"",tokenBalance:"",tokenId:o.nft_id,customNftId:o.id.toString()};if(i[o.nft_address])i[o.nft_address].assets.push(c);else{let d={assets:[c],chainId:o.network,contractAddress:o.nft_address,contractName:"",contractSymbol:"",contractImage:"",nftStandard:o.nft_contract_standard,contractDescription:""};i[o.nft_address]=d}}return i},{});a.push(...Object.values(s))}this.update({nfts:{[e]:[...a]}})}async refreshNftBalances(e){let n=this.userSelectedAddress;if(n==="")return;let a=[...this.userNfts],r=[];try{let s=this.config.chainId;if(e2.includes(s)){let i=await this.getSimpleHashNfts(n,s,e);r.push(...i),this.update({nfts:{[n]:r}})}a.length>0&&this.getNftBalancesUsingHandler(a)}catch(s){Ap.default.error(s,"unable to fetch nft balances")}}async getNftBalancesUsingHandler(e){if(!this.userSelectedAddress)return;let n=this.userSelectedAddress,a=e,s=(await Promise.allSettled(a.map(async i=>{try{let o=new Ei(A(A({},i),{},{provider:this.ethersProvider})),c=await o.getContractMetadata(),d=await Promise.allSettled(i.assets.map(f=>o.getNftMetadata(n,f)));return A(A({},c),{},{assets:d.filter(f=>f.status==="fulfilled").map(f=>f.value)})}catch(o){Ap.default.warn("Invalid contract address while fetching",o);return}}))).filter(i=>i.status==="fulfilled"&&i.value).map(i=>i.value);this.update({nfts:{[n]:(0,k4.default)(this.userNfts,s)}})}};var tn=f0(O0());var Cp=class extends ys{constructor({config:e,state:n,provider:a,signAuthMessage:r,getProviderConfig:s,setProviderConfig:i,validateSignMessage:o}){super({config:e,state:n,defaultPreferences:{formattedPastTransactions:[],fetchedPastTx:[],paymentTx:[],etherscanTransactions:[]},signAuthMessage:r,validateSignMessage:o}),w(this,"chainNamespace",k0.EIP155),w(this,"_handle",void 0),w(this,"_mutex",new cn),w(this,"getProviderConfig",void 0),w(this,"setProviderConfig",void 0),w(this,"provider",void 0),this.provider=a,this.getProviderConfig=s,this.setProviderConfig=i}async poll(e){var n;let a=await this._mutex.acquire();e&&this.configure({pollInterval:e}),this._handle&&window.clearTimeout(this._handle);let r=this.state.selectedAddress;r&&(n=this.getAddressState(r))!==null&&n!==void 0&&n.jwtToken&&(await this.sync(r),a(),this._handle=window.setTimeout(()=>{this.poll(this.config.pollInterval)},this.config.pollInterval))}async initPreferences(e){let{address:n,jwtToken:a,calledFromEmbed:r,userInfo:s,rehydrate:i,locale:o="en",type:c,signatures:d,web3AuthClientId:f,web3AuthNetwork:p,loginMode:u,sessionPubKey:b,aaProvider:l,eoaAddress:y,mainAddress:m}=e,{chainId:h}=this.getProviderConfig();await super.init({address:n,userInfo:s,idToken:a,type:c,metadata:{email:s.email,signatures:d,network:p,eoa_address:y,aa_provider:l,chain_id:h,main_address:m}});let{groupedAuthConnectionId:g,authConnectionId:x,userId:C}=s||{};if(!await this.sync(n)){let E=this.getAddressState(n);await this.createUser({selectedCurrency:E.selectedCurrency,theme:E.theme,groupedAuthConnectionId:g,authConnectionId:x,userId:C,locale:o,address:n,type:c,web3AuthNetwork:p,metadata:{aa_provider:l,chain_id:h,eoa_address:y}})}y&&this.updateState({eoaAddress:y},n),this.storeUserLogin({groupedAuthConnectionId:g,authConnectionId:x,userId:C,options:{calledFromEmbed:r,rehydrate:i},address:n,web3AuthClientId:f,web3AuthNetwork:p,sessionPubKey:b,loginMode:u})}getSelectedAddress(){return this.state.selectedAddress}async sync(e){try{let n=await this.getUser(e);if(n){let{default_currency:a,contacts:r,theme:s,locale:i,public_address:o,default_public_address:c,customNetworks:d,customTokens:f,customNfts:p,account_type:u}=n||{};return this.updateState({contacts:r,theme:s,selectedCurrency:a,locale:i,defaultPublicAddress:c||o,customTokens:f,customNfts:p,customNetworks:d,accountType:u},e),!0}return!1}catch(n){if(ds(n))throw n;return tn.default.error(n),!1}finally{this.getWalletOrders(e).then(n=>{n&&n.length>0&&(this.updateState({fetchedPastTx:[...n]},e),this.calculatePastTx(n,e))}).catch(n=>tn.default.error(n))}}async patchNewTx(e,n){var a;let r=U6({transaction:e,blockExplorerUrl:this.getBlockExplorerUrl()}),s=((a=this.getAddressState(n))===null||a===void 0?void 0:a.formattedPastTransactions)||[],i=s.findIndex(c=>c.transaction_hash===e.transaction_hash&&c.chainId===e.chain_id);if(e.status===Y.submitted||e.status===Y.confirmed)if(i===-1){var o;let c=this.cancelTxCalculate([...s,r]);e.is_cancel=r.is_cancel,e.to=(o=e.to)===null||o===void 0?void 0:o.toLowerCase(),e.from=e.from.toLowerCase(),this.updateState({formattedPastTransactions:c},n),this.postPastTx(e,n)}else r.is_cancel=s[i].is_cancel,s[i]=r,this.updateState({formattedPastTransactions:this.cancelTxCalculate([...s])},n)}recalculatePastTx(e){let n=e||this.state.selectedAddress,a=this.getAddressState(n);a!=null&&a.fetchedPastTx&&this.calculatePastTx(a.fetchedPastTx,n)}async refetchEtherscanTx(e){var n;let a=e||this.state.selectedAddress;if(!a)return[];let r=a?.toLowerCase();if((n=this.getAddressState(a))!==null&&n!==void 0&&n.jwtToken){let{chainId:s}=this.getProviderConfig();if(ti.includes(s)){let i=await this.fetchEtherscanTx({selectedAddress:a,chainId:this.getProviderConfig().chainId}),o=await wp({txn:i,lowerCaseSelectedAddress:r,provider:this.provider,chainId:s,blockExplorerUrl:this.getBlockExplorerUrl()});return tn.default.info("Formatted Etherscan Response",o),this.updateState({etherscanTransactions:o}),i}}}async fetchEtherscanTx(e){try{let n=await this.wsApiClient.authGet(`etherscan?chainId=${e.chainId}`,this.authCredentials(e.selectedAddress));return tn.default.info("Etherscan Response API",n),n.success?n.data:[]}catch(n){return tn.default.error("unable to fetch etherscan tx",n),[]}}async fetchQuote(e){try{let n=await this.wsApiClient.authPost("quote",e,this.authCredentials());return n.success?n.data:[]}catch(n){return tn.default.error("unable to get swap quote",n),[]}}async getEtherScanTokens(e,n,a){let s=`tokens?chainId=${n}&address=${e}`;return a&&(s+="&skipCache=true"),(await this.wsApiClient.authGet(s,this.authCredentials())).data}async getSimpleHashNfts(e,n,a){let s=`nfts?chainId=${n}&address=${e}`;return a&&(s+="&skipCache=true"),(await this.wsApiClient.authGet(s,this.authCredentials())).data}getCustomTokens(e){var n,a;return(n=(a=this.getAddressState(e))===null||a===void 0?void 0:a.customTokens)!==null&&n!==void 0?n:[]}getCustomNfts(e){var n,a;return(n=(a=this.getAddressState(e))===null||a===void 0?void 0:a.customNfts)!==null&&n!==void 0?n:[]}isChainIdSupported(e,n){return!!this.getChainOptions(e).find(s=>ee(s.chainId)===n)}async addChain(e){if(this.getChainOptions().find(i=>i.chainId===e.chainId))return;let r={displayName:e.chainName,rpcTarget:e.rpcUrls[0],ticker:e.nativeCurrency.symbol,chainId:e.chainId,blockExplorerUrl:e.blockExplorerUrls[0],tickerName:e.nativeCurrency.name,logo:e.nativeCurrency.symbol};if(!await this.addCustomNetwork({network:r}))throw new Error("unable to add custom network")}switchChain(e){let a=this.getChainOptions().find(r=>r.chainId===e.chainId);if(a)this.setProviderConfig(a);else throw new Error(`chainId ${e.chainId} is not supported`)}async addCustomNetwork({network:e}){try{let{selectedAddress:n}=this.state,a={network_name:e.displayName,rpc_url:e.rpcTarget,chain_id:e.chainId,symbol:e.ticker,block_explorer_url:e.blockExplorerUrl||void 0,is_testnet:e.isTestnet||!1,logo:e.logo,symbol_name:e.tickerName},r=await this.wsApiClient.authPost("customnetwork",a,this.authCredentials(n),{useAPIKey:!0});return await this.sync(n),r.data.id}catch{return tn.default.error("error adding custom network"),null}}async deleteCustomNetwork(e){try{let{selectedAddress:n}=this.state;return await this.wsApiClient.authRemove(`customnetwork/${e}`,{},this.authCredentials(n),{useAPIKey:!0}),await this.sync(n),!0}catch{return tn.default.error("error deleting custom network"),!1}}async editCustomNetwork({network:e,id:n}){try{let{selectedAddress:a}=this.state,r={network_name:e.displayName,rpc_url:e.rpcTarget,chain_id:e.chainId,symbol:e.ticker||void 0,block_explorer_url:e.blockExplorerUrl||void 0,is_testnet:e.isTestnet||!1};return await this.wsApiClient.authPatch(`customnetwork/${n}`,r,this.authCredentials(a),{useAPIKey:!0}),await this.sync(a),!0}catch{return tn.default.error("error editing custom network"),!1}}getChainOptions(e=this.state.selectedAddress){var n,a;let{identities:r}=this.state,s=(n=(a=r[e])===null||a===void 0?void 0:a.customNetworks)!==null&&n!==void 0?n:[],i=Object.values(s).reduce((c,d)=>{let f={blockExplorerUrl:d.block_explorer_url,chainId:d.chain_id,displayName:d.network_name,logo:"eth.svg",rpcTarget:d.rpc_url,ticker:d.symbol,tickerName:d.symbol.toUpperCase(),isCustom:!0,id:d.id};return Object.keys(gt).includes(f.chainId)||c.push(f),c},[]);return[...Object.values(gt).reduce((c,d)=>(c.push(d),c),[]),...i]}getBlockExplorerUrl(){let n=this.getChainOptions().find(a=>a.chainId===this.getProviderConfig().chainId);return n?`${n.blockExplorerUrl}`:""}async calculatePastTx(e,n){let a=[],r=[],s=n.toLowerCase(),o=this.getChainOptions(n).find(u=>u.chainId===this.getProviderConfig().chainId);for(let u of e){var c;if(o?.chainId===u.chain_id&&u.to&&u.from&&(s===u.from.toLowerCase()||s===((c=u.to)===null||c===void 0?void 0:c.toLowerCase())))if(u.status!=="confirmed")r.push(u);else{let b=U6({transaction:u,lowerCaseSelectedAddress:s,blockExplorerUrl:this.getBlockExplorerUrl()});a.push(b)}}let d=r.map(u=>yp(u.transaction_hash,this.provider).catch(b=>tn.default.error(b))),f=await Promise.all(d);for(let[u,b]of r.entries()){let l=U6({transaction:b,lowerCaseSelectedAddress:s,blockExplorerUrl:this.getBlockExplorerUrl()});l.status=f[u]||Y.submitted,a.push(l),s===b.from.toLowerCase()&&l.status&&l.status!==b.status&&this.patchPastTx({id:b.id,status:l.status},n)}let p=this.cancelTxCalculate(a);this.updateState({formattedPastTransactions:[...p]},n)}cancelTxCalculate(e){let n={};for(let a of e)n[a.nonce]?n[a.nonce].push(a):n[a.nonce]=[a];for(let[,a]of Object.entries(n))if(a.length>1){let r=a.sort((i,o)=>{let c=new Date(i.date).getTime();return new Date(o.date).getTime()-c}),s=r[0];s.is_cancel=!0,r.slice(1).forEach(i=>{i.hasCancel=!0,i.status=s.status==="confirmed"?Y.cancelled:Y.cancelling,i.cancelDateInitiated=`${hp(new Date(s.date).getTime())} - ${mp(s.date)}`,i.etherscanLink=s.etherscanLink,i.cancelGas=s.gas,i.cancelGasPrice=s.gasPrice})}return e}};var R4=f0(O0());var Ai=class{constructor({address:e,symbol:n,decimals:a,name:r,provider:s}){w(this,"address",void 0),w(this,"symbol",void 0),w(this,"decimals",void 0),w(this,"name",void 0),w(this,"contract",void 0),this.address=e,this.contract=new re(e,Ys,s),this.symbol=n,this.decimals=a,this.name=r}async getSymbol(){return(!this.symbol||this.symbol==="ERC20")&&(this.symbol=await this.contract.symbol()),this.symbol}async getDecimals(){try{return this.decimals||(this.decimals=await this.contract.decimals()),this.decimals}catch(e){return R4.default.warn(`Could not get decimals for token ${this.address}`,e),0}}async getName(){return this.name||(this.name=await this.contract.name()),this.name}async getUserBalance(e){return this.decimals||await this.getDecimals(),(await this.contract.balanceOf(e)).toString(16)}};var B4=f0(O0());var vi="eth",Ip=class extends S0{constructor({config:e,state:n,idleTimeTracker:a,onPreferencesStateChange:r,onNetworkStateChange:s,onTokensStateChange:i}){super({config:e,state:n}),w(this,"pollingManager",void 0),this.defaultState=A(A({},this.defaultState),{},{contractExchangeRates:{}}),this.initialize(),r(o=>{let{selectedAddress:c}=o;this.configure({selectedAddress:c})}),s(o=>{let{chainId:c,ticker:d}=o.providerConfig;this.configure({chainId:c,nativeCurrency:d})}),i(o=>{let{tokens:c}=o,d=c[this.config.selectedAddress];d?.length>0&&this.config.tokens!==c[this.config.selectedAddress]&&(this.configure({tokens:c[this.config.selectedAddress]}),this.updateExchangeRates())}),this.pollingManager=new je(a,this.config.pollInterval)}async scheduleConversionInterval(){this.pollingManager.start(this.updateExchangeRates.bind(this))}async updateExchangeRates(){let e=n2[this.config.chainId],n={};e?n=await this.fetchExchangeRates(this.config.nativeCurrency,e):(B4.default.info(`ChainId ${this.config.chainId} not supported by coingecko`),this.config.tokens.forEach(a=>{n[a.tokenAddress]=void 0})),this.update({contractExchangeRates:n})}async fetchExchangeRates(e,n){let a=this.config.tokens.map(c=>c.tokenAddress);if(t2.has(e.toLowerCase())){let c=await dt(`${this.config.currencyApi}/currency/exchange-rates?platform=${n.platform}&contract_addresses=${a.join(",")}&vs_currencies=${e.toLowerCase()}`),d={};return Object.keys(c).forEach(f=>{d[f]=c[f][e.toLowerCase()]||0}),d}let[s,i]=await Promise.all([dt(`${this.config.currencyApi}/currency/exchange-rates?platform=${n.platform}&contract_addresses=${a.join(",")}&vs_currencies=${vi}`),dt(`${this.config.currencyApi}/currency?fsym=${e.toUpperCase()}&tsyms=${vi.toUpperCase()}`)]),o={};return Object.keys(s).forEach(c=>{o[c]=s[c][vi]*Number.parseFloat(i[vi])||0}),o}};var Pp=f0(O0());var tv=180*1e3,_p=class extends S0{constructor({config:e,state:n,provider:a,idleTimeTracker:r,getCustomTokens:s,getEtherScanTokens:i,getProviderConfig:o,onPreferencesStateChange:c,onNetworkStateChange:d}){super({config:e,state:n}),w(this,"name","TokensController"),w(this,"provider",void 0),w(this,"ethersProvider",void 0),w(this,"pollingManager",void 0),w(this,"getProviderConfig",void 0),w(this,"getCustomTokens",void 0),w(this,"getEtherScanTokens",void 0),this.provider=a,this.ethersProvider=new bn(this.provider,"any"),this.getCustomTokens=s,this.getEtherScanTokens=i,this.getProviderConfig=o,this.defaultConfig={interval:tv,selectedAddress:"",chainId:""},this.defaultState={tokens:{}},this.initialize(),c(f=>{f.selectedAddress!==this.config.selectedAddress&&(this.configure({selectedAddress:f.selectedAddress}),this.restartTokenDetection())}),d(f=>{let{chainId:p}=f.providerConfig;p!==this.config.chainId&&(this.configure({chainId:p}),this.restartTokenDetection())}),this.pollingManager=new je(r,this.config.interval)}get userSelectedAddress(){return this.config.selectedAddress}get userTokens(){var e;return this.userSelectedAddress?(e=this.state.tokens[this.userSelectedAddress])!==null&&e!==void 0?e:[]:[]}startTokenDetection(e){this.configure({selectedAddress:e}),this.restartTokenDetection()}restartTokenDetection(){this.userSelectedAddress&&this.pollingManager.start(async()=>{this.detectNewTokens(),await this.refreshTokenBalances()})}detectNewTokens(){let e=this.userSelectedAddress;if(!e)return;let n=this.config.chainId,a=[];if(!n){this.update({tokens:{[e]:[...a]}});return}let r=this.getProviderConfig();if(r!=null&&r.isErc20&&r!==null&&r!==void 0&&r.tokenAddress&&a.push({tokenAddress:r.tokenAddress,name:r.tickerName,logo:r.logo,erc20:!0,symbol:r.ticker,decimals:"18",chainId:n}),this.getCustomTokens){let s=this.getCustomTokens(e);a.push(...s.reduce((i,o)=>(o.network===n&&i.push({tokenAddress:o.token_address,name:o.token_name,logo:"eth.svg",erc20:!0,symbol:o.token_symbol,decimals:o.decimals,balance:"",customTokenId:o.id.toString(),chainId:o.network}),i),[]))}this.update({tokens:{[e]:[...a]}})}async refreshTokenBalances(e){let n=this.userSelectedAddress;if(n==="")return;let a=[...this.userTokens];try{let r=[],s=this.config.chainId;if(ti.includes(s)){let o=await this.getEtherScanTokens(n,s,e);r.push(...o)}let i=a.filter(o=>!r.find(c=>{var d,f;return((d=c.tokenAddress)===null||d===void 0?void 0:d.toLocaleLowerCase())===((f=o.tokenAddress)===null||f===void 0?void 0:f.toLocaleLowerCase())}));if(i.length>0){let o=i.map(d=>d.tokenAddress),c=ni[s];if(c){let f=await new re(c,Js,this.ethersProvider).balances([n],o);o.forEach((p,u)=>{let b=q0(f[u]);b&&b!=="0x0"&&r.push(A(A({},i[u]),{},{balance:b,chainId:s}))})}else{let d=await this.getTokenBalancesUsingHandler(i);r.push(...d)}}this.update({tokens:{[n]:r}})}catch(r){Pp.default.error(r,"unable to fetch token balances using single call balance address");let s=await this.getTokenBalancesUsingHandler(a);this.update({tokens:{[n]:s}})}}async getTokenBalancesUsingHandler(e){if(!this.userSelectedAddress)return[];let n=e;return(await Promise.allSettled(n.map(async s=>{try{let i=new Ai({address:s.tokenAddress,decimals:Number.parseInt(s.decimals),name:s.name,symbol:s.symbol,provider:this.ethersProvider}),o=await i.getUserBalance(this.userSelectedAddress);return{decimals:i.decimals.toString(),erc20:!0,logo:s.logo||"eth.svg",name:i.name,symbol:i.symbol,tokenAddress:i.address,balance:`0x${o}`,customTokenId:s.customTokenId,network:s.chainId,chainId:s.chainId}}catch(i){Pp.default.warn("could not fetch user token balance",i);return}}))).reduce((s,i)=>(i.status==="fulfilled"&&i.value&&s.push(i.value),s),[])}};var Ci=class{constructor({provider:e,blockTracker:n,getPendingTransactions:a,getConfirmedTransactions:r}){w(this,"provider",void 0),w(this,"blockTracker",void 0),w(this,"getPendingTransactions",void 0),w(this,"getConfirmedTransactions",void 0),w(this,"lockMap",void 0),this.provider=e,this.blockTracker=n,this.getPendingTransactions=a,this.getConfirmedTransactions=r,this.lockMap={}}async getGlobalLock(){return{releaseLock:await this._lookupMutex("global").acquire()}}async getNonceLock(e){await this._globalMutexFree();let n=await this._takeMutex(e);try{let a={},r=await this._getNetworkNextNonce(e),s=this._getHighestLocallyConfirmed(e),i=r.nonce,o=Math.max(i,s),c=this.getPendingTransactions(e),d=this._getHighestContinuousFrom(c,o);return a.params={highestLocallyConfirmed:s,highestSuggested:o,nextNetworkNonce:i},a.local=d,a.network=r,{nextNonce:Math.max(r.nonce,d.nonce),nonceDetails:a,releaseLock:n}}catch(a){throw n(),a}}async _globalMutexFree(){(await this._lookupMutex("global").acquire())()}async _takeMutex(e){return await this._lookupMutex(e).acquire()}_lookupMutex(e){let n=this.lockMap[e];return n||(n=new cn,this.lockMap[e]=n),n}async _getNetworkNextNonce(e){let n=await this.blockTracker.getLatestBlock(),a=await this.provider.request({method:j.ETH_GET_TRANSACTION_COUNT,params:[e,n.idempotencyKey]}),r=Number.parseInt(a,16);return{name:"network",nonce:r,details:{block:n,baseCount:r}}}_getHighestLocallyConfirmed(e){let n=this.getConfirmedTransactions(e),a=this._getHighestNonce(n);return Number.isInteger(a)?a+1:0}_getHighestNonce(e){let n=e.map(r=>{let{nonce:s}=r.transaction;return Number.parseInt(s,16)});return Math.max.apply(null,n)}_getHighestContinuousFrom(e,n){let a=new Set(e.map(s=>{let{nonce:i}=s.transaction;return Number.parseInt(i,16)})),r=n;for(;a.has(r);)r+=1;return{name:"local",nonce:r,details:{startPoint:n,highest:r}}}};var Cd=f0(O0());var Ii=class extends on{constructor({provider:e,nonceTracker:n,approveTransaction:a,publishTransaction:r,getPendingTransactions:s,getConfirmedTransactions:i}){super(),w(this,"DROPPED_BUFFER_COUNT",3),w(this,"nonceTracker",void 0),w(this,"provider",void 0),w(this,"approveTransaction",void 0),w(this,"droppedBlocksBufferByHash",void 0),w(this,"getConfirmedTransactions",void 0),w(this,"getPendingTransactions",void 0),w(this,"publishTransaction",void 0),this.provider=e,this.nonceTracker=n,this.approveTransaction=a,this.publishTransaction=r,this.getPendingTransactions=s,this.getConfirmedTransactions=i,this.droppedBlocksBufferByHash=new Map}async updatePendingTxs(){let e=await this.nonceTracker.getGlobalLock();try{let n=this.getPendingTransactions();await Promise.all(n.map(a=>this._checkPendingTx(a)))}catch(n){Cd.default.error("PendingTransactionTracker - Error updating pending transactions"),Cd.default.error(n)}e.releaseLock()}async resubmitPendingTxs(e){let n=this.getPendingTransactions();if(n.length!==0)for(let r of n)try{await this._resubmitTx(r,e.idempotencyKey)}catch(s){var a;let i=((a=s.value)===null||a===void 0||(a=a.message)===null||a===void 0?void 0:a.toLowerCase())||s.message.toLowerCase();if(i.includes("replacement transaction underpriced")||i.includes("known transaction")||i.includes("gas price too low to replace")||i.includes("transaction with the same hash was already imported")||i.includes("gateway timeout")||i.includes("nonce too low"))return;r.warning={error:i,message:"There was an error when resubmitting this transaction."},this.emit(Q0.TX_WARNING,{txMeta:r,txId:r.id})}}async _resubmitTx(e,n){if(e.userOpHash)return;e.firstRetryBlockNumber||this.emit(Q0.TX_BLOCK_UPDATE,{txMeta:e,latestBlockNumber:n,txId:e.id});let a=e.firstRetryBlockNumber||n,r=Number.parseInt(n,16)-Number.parseInt(a,16),s=e.retryCount||0;if(r<=Math.min(50,2**s))return;if(!("rawTransaction"in e))return this.approveTransaction(e.id);let{rawTransaction:i}=e,o=await this.publishTransaction(i);return this.emit(Q0.TX_RETRY,{txMeta:e,txId:e.id}),o}async _checkPendingTx(e){let n=e,a=n.transactionHash,r=n.id;if(!(n.status!==Y.submitted||n.isUserOperation)){if(!a){let s=new Error("We had an error while submitting this transaction, please try again.");s.name="NoTxHashError",this.emit(Q0.TX_FAILED,{txId:r,error:s});return}if(this._checkIfNonceIsTaken(n)){this.emit(Q0.TX_DROPPED,{txId:r});return}try{let s=await this.provider.request({method:j.ETH_GET_TRANSACTION_RECEIPT,params:[a]});if(s!=null&&s.blockNumber){let{baseFeePerGas:i,timestamp:o}=await this.provider.request({method:j.ETH_GET_BLOCK_BY_HASH,params:[s.blockHash,!1]});this.emit(Q0.TX_CONFIRMED,{txId:r,txReceipt:s,baseFeePerGas:i,blockTimestamp:o});return}}catch(s){Cd.default.error("error while loading tx",s),n.warning={error:s.message,message:"There was a problem loading this transaction."},this.emit(Q0.TX_WARNING,{txMeta:n,txId:r})}await this._checkIfTxWasDropped(n)&&this.emit(Q0.TX_DROPPED,{txId:r})}}async _checkIfTxWasDropped(e){let{transactionHash:n,transaction:{nonce:a,from:r}}=e,s=await this.provider.request({method:j.ETH_GET_TRANSACTION_COUNT,params:[r,"latest"]});if(Number.parseInt(a,16)>=Number.parseInt(s,16))return!1;this.droppedBlocksBufferByHash.has(n)||this.droppedBlocksBufferByHash.set(n,0);let i=this.droppedBlocksBufferByHash.get(n);return i<this.DROPPED_BUFFER_COUNT?(this.droppedBlocksBufferByHash.set(n,i+1),!1):(this.droppedBlocksBufferByHash.delete(n),!0)}_checkIfNonceIsTaken(e){let n=e.transaction.from;return this.getConfirmedTransactions(n).some(r=>r.id===e.id?!1:r.transaction.nonce===e.transaction.nonce)}};var Ba=f0(O0());var H6=f0(uu()),F4=f0(O0()),Pi=class{constructor(e,n){w(this,"provider",void 0),w(this,"blockTracker",void 0),this.provider=e,this.blockTracker=n}async analyzeGasUsage(e){let n=await this.blockTracker.getLatestBlock(),r=new H6.BN(ee(n.gasLimit),16).mul(new H6.BN(19)).div(new H6.BN(20)),s=Q(r.toString("hex")),i;try{s=await this.estimateTxGas(e)}catch(o){F4.default.warn(o),i={reason:o.message,errorKey:o.errorKey,debug:{blockNumber:n.idempotencyKey,blockGasLimit:n.gasLimit}}}return{blockGasLimit:n.gasLimit,estimatedGasHex:s,simulationFails:i}}addGasBuffer(e,n,a=1.5){let r=new H6.BN(ee(e),16),i=new H6.BN(ee(n),16).muln(.9),o=r.muln(a);return r.gt(i)?Q(r.toString("hex")):o.lt(i)?Q(o.toString("hex")):Q(i.toString("hex"))}async estimateTxGas(e){let n=Ze(e.transaction);return delete n.gasPrice,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,this.provider.request({method:"eth_estimateGas",params:[n]})}};var Sp={};jr(Sp,{JsonPatchError:()=>ie,_areEquals:()=>Ni,applyOperation:()=>Gr,applyPatch:()=>Md,applyReducer:()=>iv,deepClone:()=>rv,getValueByPointer:()=>Nd,validate:()=>U4,validator:()=>Dd});var nv=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var s in r)r.hasOwnProperty(s)&&(a[s]=r[s])},t(e,n)};return function(e,n){t(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}})(),av=Object.prototype.hasOwnProperty;function Pd(t,e){return av.call(t,e)}function _d(t){if(Array.isArray(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var a=[];for(var r in t)Pd(t,r)&&a.push(r);return a}function ke(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function Sd(t){for(var e=0,n=t.length,a;e<n;){if(a=t.charCodeAt(e),a>=48&&a<=57){e++;continue}return!1}return!0}function Tn(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function _i(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function Id(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,n=t.length;e<n;e++)if(Id(t[e]))return!0}else if(typeof t=="object"){for(var a=_d(t),r=a.length,s=0;s<r;s++)if(Id(t[a[s]]))return!0}}return!1}function L4(t,e){var n=[t];for(var a in e){var r=typeof e[a]=="object"?JSON.stringify(e[a],null,2):e[a];typeof r<"u"&&n.push(a+": "+r)}return n.join(`
`)}var Si=(function(t){nv(e,t);function e(n,a,r,s,i){var o=this.constructor,c=t.call(this,L4(n,{name:a,index:r,operation:s,tree:i}))||this;return c.name=a,c.index=r,c.operation=s,c.tree=i,Object.setPrototypeOf(c,o.prototype),c.message=L4(n,{name:a,index:r,operation:s,tree:i}),c}return e})(Error);var ie=Si,rv=ke,G6={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var a=t[e];return delete t[e],{newDocument:n,removed:a}},replace:function(t,e,n){var a=t[e];return t[e]=this.value,{newDocument:n,removed:a}},move:function(t,e,n){var a=Nd(n,this.path);a&&(a=ke(a));var r=Gr(n,{op:"remove",path:this.from}).removed;return Gr(n,{op:"add",path:this.path,value:r}),{newDocument:n,removed:a}},copy:function(t,e,n){var a=Nd(n,this.from);return Gr(n,{op:"add",path:this.path,value:ke(a)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:Ni(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}},sv={add:function(t,e,n){return Sd(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var a=t.splice(e,1);return{newDocument:n,removed:a[0]}},replace:function(t,e,n){var a=t[e];return t[e]=this.value,{newDocument:n,removed:a}},move:G6.move,copy:G6.copy,test:G6.test,_get:G6._get};function Nd(t,e){if(e=="")return t;var n={op:"_get",path:e};return Gr(t,n),n.value}function Gr(t,e,n,a,r,s){if(n===void 0&&(n=!1),a===void 0&&(a=!0),r===void 0&&(r=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(e,0,t,e.path):Dd(e,0)),e.path===""){var i={newDocument:t};if(e.op==="add")return i.newDocument=e.value,i;if(e.op==="replace")return i.newDocument=e.value,i.removed=t,i;if(e.op==="move"||e.op==="copy")return i.newDocument=Nd(t,e.from),e.op==="move"&&(i.removed=t),i;if(e.op==="test"){if(i.test=Ni(t,e.value),i.test===!1)throw new ie("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return i.newDocument=t,i}else{if(e.op==="remove")return i.removed=t,i.newDocument=null,i;if(e.op==="_get")return e.value=t,i;if(n)throw new ie("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,t);return i}}else{a||(t=ke(t));var o=e.path||"",c=o.split("/"),d=t,f=1,p=c.length,u=void 0,b=void 0,l=void 0;for(typeof n=="function"?l=n:l=Dd;;){if(b=c[f],b&&b.indexOf("~")!=-1&&(b=_i(b)),r&&(b=="__proto__"||b=="prototype"&&f>0&&c[f-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&u===void 0&&(d[b]===void 0?u=c.slice(0,f).join("/"):f==p-1&&(u=e.path),u!==void 0&&l(e,0,t,u)),f++,Array.isArray(d)){if(b==="-")b=d.length;else{if(n&&!Sd(b))throw new ie("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,t);Sd(b)&&(b=~~b)}if(f>=p){if(n&&e.op==="add"&&b>d.length)throw new ie("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,t);var i=sv[e.op].call(e,d,b,t);if(i.test===!1)throw new ie("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return i}}else if(f>=p){var i=G6[e.op].call(e,d,b,t);if(i.test===!1)throw new ie("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return i}if(d=d[b],n&&f<p&&(!d||typeof d!="object"))throw new ie("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,t)}}}function Md(t,e,n,a,r){if(a===void 0&&(a=!0),r===void 0&&(r=!0),n&&!Array.isArray(e))throw new ie("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");a||(t=ke(t));for(var s=new Array(e.length),i=0,o=e.length;i<o;i++)s[i]=Gr(t,e[i],n,!0,r,i),t=s[i].newDocument;return s.newDocument=t,s}function iv(t,e,n){var a=Gr(t,e);if(a.test===!1)throw new ie("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return a.newDocument}function Dd(t,e,n,a){if(typeof t!="object"||t===null||Array.isArray(t))throw new ie("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(G6[t.op]){if(typeof t.path!="string")throw new ie("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new ie('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new ie("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new ie("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&Id(t.value))throw new ie("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var r=t.path.split("/").length,s=a.split("/").length;if(r!==s+1&&r!==s)throw new ie("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==a)throw new ie("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var i={op:"_get",path:t.from,value:void 0},o=U4([i],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new ie("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new ie("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function U4(t,e,n){try{if(!Array.isArray(t))throw new ie("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Md(ke(e),ke(t),n||!0);else{n=n||Dd;for(var a=0;a<t.length;a++)n(t[a],a,e,void 0)}}catch(r){if(r instanceof ie)return r;throw r}}function Ni(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),a=Array.isArray(e),r,s,i;if(n&&a){if(s=t.length,s!=e.length)return!1;for(r=s;r--!==0;)if(!Ni(t[r],e[r]))return!1;return!0}if(n!=a)return!1;var o=Object.keys(t);if(s=o.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!e.hasOwnProperty(o[r]))return!1;for(r=s;r--!==0;)if(i=o[r],!Ni(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Op={};jr(Op,{compare:()=>lv,generate:()=>Np,observe:()=>bv,unobserve:()=>uv});var Dp=new WeakMap,ov=(function(){function t(e){this.observers=new Map,this.obj=e}return t})(),cv=(function(){function t(e,n){this.callback=e,this.observer=n}return t})();function dv(t){return Dp.get(t)}function fv(t,e){return t.observers.get(e)}function pv(t,e){t.observers.delete(e.callback)}function uv(t,e){e.unobserve()}function bv(t,e){var n=[],a,r=dv(t);if(!r)r=new ov(t),Dp.set(t,r);else{var s=fv(r,e);a=s&&s.observer}if(a)return a;if(a={},r.value=ke(t),e){a.callback=e,a.next=null;var i=function(){Np(a)},o=function(){clearTimeout(a.next),a.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return a.patches=n,a.object=t,a.unobserve=function(){Np(a),clearTimeout(a.next),pv(r,a),typeof window<"u"&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},r.observers.set(e,new cv(e,a)),a}function Np(t,e){e===void 0&&(e=!1);var n=Dp.get(t.object);Mp(n.value,t.object,t.patches,"",e),t.patches.length&&Md(n.value,t.patches);var a=t.patches;return a.length>0&&(t.patches=[],t.callback&&t.callback(a)),a}function Mp(t,e,n,a,r){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var s=_d(e),i=_d(t),o=!1,c=!1,d=i.length-1;d>=0;d--){var f=i[d],p=t[f];if(Pd(e,f)&&!(e[f]===void 0&&p!==void 0&&Array.isArray(e)===!1)){var u=e[f];typeof p=="object"&&p!=null&&typeof u=="object"&&u!=null&&Array.isArray(p)===Array.isArray(u)?Mp(p,u,n,a+"/"+Tn(f),r):p!==u&&(o=!0,r&&n.push({op:"test",path:a+"/"+Tn(f),value:ke(p)}),n.push({op:"replace",path:a+"/"+Tn(f),value:ke(u)}))}else Array.isArray(t)===Array.isArray(e)?(r&&n.push({op:"test",path:a+"/"+Tn(f),value:ke(p)}),n.push({op:"remove",path:a+"/"+Tn(f)}),c=!0):(r&&n.push({op:"test",path:a,value:t}),n.push({op:"replace",path:a,value:e}),o=!0)}if(!(!c&&s.length==i.length))for(var d=0;d<s.length;d++){var f=s[d];!Pd(t,f)&&e[f]!==void 0&&n.push({op:"add",path:a+"/"+Tn(f),value:ke(e[f])})}}}function lv(t,e,n){n===void 0&&(n=!1);var a=[];return Mp(t,e,a,"",n),a}var kp=Object.assign({},Sp,Op,{JsonPatchError:Si,deepClone:ke,escapePathComponent:Tn,unescapePathComponent:_i});function Rp(t,e,n){let a=kp.compare(t,e);return a[0]&&(n&&(a[0].note=n),a[0].timestamp=Date.now()),a}function Bp(t){return Ze(t).reduce((n,a)=>kp.applyPatch(n,a).newDocument)}function Od(t){let e=A({},t);return delete e.history,Ze(e)}var Di=class extends ms{constructor({config:e,state:n,getCurrentChainId:a}){super({config:e,state:n,getCurrentChainId:a})}generateTxMeta(e={}){var n;let a=this.getCurrentChainId();if(a==="loading")throw new Error("Torus is having trouble connecting to the network");let r=null;return e.transaction&&typeof e.origin=="string"&&e.origin!=="torus"&&(typeof e.transaction.gasPrice<"u"?r={gasPrice:e.transaction.gasPrice}:(typeof e.transaction.maxFeePerGas<"u"||typeof e.transaction.maxPriorityFeePerGas<"u")&&(r={maxPriorityFeePerGas:e.transaction.maxPriorityFeePerGas,maxFeePerGas:e.transaction.maxFeePerGas}),typeof e.transaction.gas<"u"&&(r=A(A({},r),{},{gas:e.transaction.gas}))),A({id:((n=e.transaction)===null||n===void 0?void 0:n.id)||We(),time:Date.now(),status:Y.unapproved,loadingDefaults:!0,chainId:a,dappSuggestedGasFees:r},e)}addTransactionToState(e){e.transaction&&(e.transaction=vd(e.transaction,!1)),this.once(`${e.id}:signed`,()=>{this.removeAllListeners(`${e.id}:rejected`)}),this.once(`${e.id}:rejected`,()=>{this.removeAllListeners(`${e.id}:signed`)}),e.history=[];let n=Od(e);e.history.push(n);let a=this.getTransactions({filterToCurrentNetwork:!1}),{txHistoryLimit:r}=this.config,s=new Set,i=a.reverse().filter(o=>{let{nonce:c}=o.transaction,{chainId:d,status:f}=o,p=`${c}-${d}`;return s.has(p)?!1:s.size<r-1||lp().includes(f)===!1?(s.add(p),!1):!0}).map(o=>o.id);return this._deleteTransactions(i),this._addTransactionsToState([e]),e}wipeTransactions(e){let{transactions:n}=this.state,a=this.getCurrentChainId();this.update({transactions:bs(n,r=>{let s=$a(r,a);return r.transaction.from===e&&s})})}getTransactions({searchCriteria:e={},initialList:n=void 0,filterToCurrentNetwork:a=!0,limit:r=void 0}={}){let s=this.getCurrentChainId(),i=k8(e,d=>typeof d=="function"?d:f=>f===d),o=n?O8(n,"id"):this.state.transactions,c=M8(Object.values(l1(o,d=>{let f=$a(d,s);if(a&&!f)return!1;for(let[p,u]of Object.entries(i))if(p in d.transaction){if(u(d.transaction[p])===!1)return!1}else if(u(d[p])===!1)return!1;return!0})),"time");if(r!==void 0){let d=new Set,f=[];for(let p=c.length-1;p>-1;p-=1){let u=c[p],{nonce:b}=u.transaction;if(!d.has(b))if(d.size<r)d.add(b);else continue;f.unshift(u)}return f}return c}getApprovedTransactions(e){let n={status:Y.approved};return e&&(n.from=e),this.getTransactions({searchCriteria:n})}getSubmittedTransactions(e){let n={status:Y.submitted};return e&&(n.from=e),this.getTransactions({searchCriteria:n})}getPendingTransactions(e){let n=this.getSubmittedTransactions(e),a=this.getApprovedTransactions(e);return[...n,...a]}getConfirmedTransactions(e){let n={status:Y.confirmed};return e&&(n.from=e),this.getTransactions({searchCriteria:n})}getUnapprovedTxList(){let e=this.getCurrentChainId();return l1(this.state.transactions,n=>{let a=$a(n,e);return n.status===Y.unapproved&&a})}updateTransactionInState(e,n){e.transaction&&(e.transaction=vd(e.transaction,!1));let a=Od(e),r=Bp(e.history),s=Rp(r,a,n);s.length>0&&e.history.push(s),this.updateTransaction(e)}_setTransactionStatus(e,n,a){let r=this.getTransaction(e);r&&(r.status=n,this.updateTransactionInState(r),this.emit(Q0.TX_STATUS_UPDATE,{txId:e,status:n}),this.isFinalState(n)||a?this.emit(`${r.id}:finished`,r):this.emit(`${r.id}:${n}`,e))}};var Fp=class extends Di{constructor({config:e,state:n,provider:a,blockTracker:r,signEthTx:s,getCurrentChainId:i,getCurrentNetworkEIP1559Compatibility:o,getCurrentAccountEIP1559Compatibility:c,getSelectedAddress:d,getEIP1559GasFeeEstimates:f}){super({config:e,state:n,getCurrentChainId:i}),w(this,"getSelectedAddress",void 0),w(this,"getEIP1559GasFeeEstimates",void 0),w(this,"nonceTracker",void 0),w(this,"pendingTxTracker",void 0),w(this,"txGasUtil",void 0),w(this,"_getCurrentNetworkEIP1559Compatibility",void 0),w(this,"_getCurrentAccountEIP1559Compatibility",void 0),w(this,"signEthTx",void 0),w(this,"provider",void 0),w(this,"blockTracker",void 0),w(this,"inProcessOfSigning",new Set),w(this,"getUnapprovedTxCount",()=>Object.keys(this.getUnapprovedTxList()).length),w(this,"getPendingTxCount",p=>this.getPendingTransactions(p).length),this.blockTracker=r,this._getCurrentNetworkEIP1559Compatibility=o,this._getCurrentAccountEIP1559Compatibility=c,this.getSelectedAddress=d,this.getEIP1559GasFeeEstimates=f,this.signEthTx=s,this.provider=a,this.txGasUtil=new Pi(this.provider,this.blockTracker),this.nonceTracker=new Ci({provider:a,blockTracker:r,getConfirmedTransactions:this.getConfirmedTransactions.bind(this),getPendingTransactions:this.getSubmittedTransactions.bind(this)}),this.pendingTxTracker=new Ii({provider:a,nonceTracker:this.nonceTracker,getPendingTransactions:this.getPendingTransactions.bind(this),getConfirmedTransactions:this.getConfirmedTransactions.bind(this),approveTransaction:this.approveTransaction.bind(this),publishTransaction:p=>this.provider.request({method:j.ETH_SEND_RAW_TRANSACTION,params:[p]})}),this._setupListeners()}addTransactionUnapproved(e){this.addTransactionToState(e),this.emit(`${e.id}:unapproved`,e)}async addNewUnapprovedTransaction(e,n){let a=await this.createTransaction(e,n);return this.processApproval(a)}async processApproval(e){return new Promise((n,a)=>{let r=s=>s.status===Y.rejected?a(rs.userRejectedRequest("Transaction Signature: User denied message signature")):s.status===Y.failed?a(P0.internal(`Transaction Signature: failed to sign message ${s.error}`)):s.status===Y.signed&&s.isSignOnly?n(s.rawTransaction):s.status===Y.submitted?n(s.transactionHash):a(P0.internal(`Transaction Signature: Unknown problem: ${JSON.stringify(e.transaction)}`));this.once(`${e.id}:finished`,r)})}async approveTransaction(e){let n=this.getTransaction(e);if(this.inProcessOfSigning.has(e))return;this.inProcessOfSigning.add(e);let a;try{this.setTxStatusApproved(e);let r=n.transaction.from,{customNonceValue:s}=n.transaction,i=Number(s);a=await this.nonceTracker.getNonceLock(r);let o=a.nextNonce,c=i===0?s:s||o;n.transaction.nonce=Q(c.toString(16)),n.nonceDetails=a.nonceDetails,this.updateTransactionInState(n,"transactions#approveTransaction"),await this.signTransaction(e,n.isSignOnly),n.isSignOnly||await this.publishTransaction(e),a.releaseLock()}catch(r){try{this.setTxStatusFailed(e,r)}catch(s){Ba.default.error(s)}throw a&&a.releaseLock(),r}finally{this.inProcessOfSigning.delete(e)}}async signTransaction(e,n){let a=this.getTransaction(e),r=this.getCurrentChainId(),s=Ed(a)?kt.FEE_MARKET:kt.LEGACY,i={type:Number.parseInt(s,16),chainId:r,gasLimit:a.transaction.gas,accessList:a.transaction.accessList,data:a.transaction.data,gasPrice:a.transaction.gasPrice,maxFeePerGas:a.transaction.maxFeePerGas,maxPriorityFeePerGas:a.transaction.maxPriorityFeePerGas,nonce:Number.parseInt(a.transaction.nonce,16),to:a.transaction.to,value:a.transaction.value},o=a.transaction.from,c=pn.from(i),d=await this.signEthTx(c,o);a.r=d.signature.r,a.s=d.signature.s,a.v=Q(d.signature.v.toString(16));let f=d.serialized;return a.rawTransaction=f,this.updateTransactionInState(a,"transactions#signTransaction: add r, s, v values and rawTx"),this.setTxStatusSigned(e,n),f}async publishTransaction(e){let a=this.getTransaction(e).rawTransaction,r;try{r=await this.provider.request({method:j.ETH_SEND_RAW_TRANSACTION,params:[a]})}catch(s){if(s.message.toLowerCase().includes("known transaction"))r=h0(Q(a)),r=Q(r);else throw s}this.setTxHash(e,r),this.setTxStatusSubmitted(e)}async confirmTransaction(e){let{txId:n,txReceipt:a}=e;Ba.default.info(e,"confirm params");let r=this.getTransaction(n);if(r)try{r.txReceipt=A({},a),this.setTxStatusConfirmed(n),this.markNonceDuplicatesDropped(n),this.updateTransactionInState(r,"transactions#confirmTransaction - add txReceipt")}catch(s){Ba.default.error(s)}}cancelTransaction(e){throw new Error(`Method not implemented. ${e}`)}async getEIP1559Compatibility(e){let n=await this._getCurrentNetworkEIP1559Compatibility(),a=await this._getCurrentAccountEIP1559Compatibility(e);return n&&a}async addTransactionGasDefaults(e){if(e.isUserOperation)return e;let n=e;try{n=await this.addTxGasDefaults(e)}catch(a){throw Ba.default.warn(a),n=this.getTransaction(e.id),n.loadingDefaults=!1,this.updateTransactionInState(e,"Failed to calculate gas defaults."),a}return n.loadingDefaults=!1,this.updateTransactionInState(n,"Added new unapproved transaction."),n}async addTxGasDefaults(e){let n=e.transaction.type!==kt.LEGACY&&await this.getEIP1559Compatibility(),{gasPrice:a,maxFeePerGas:r,maxPriorityFeePerGas:s}=await this.getDefaultGasFees(e,n),{gasLimit:i,simulationFails:o}=await this.getDefaultGasLimit(e);return e=this.getTransaction(e.id),o&&(e.simulationFails=o),n?(e.transaction.gasPrice&&!e.transaction.maxFeePerGas&&!e.transaction.maxPriorityFeePerGas?(e.transaction.maxFeePerGas=e.transaction.gasPrice,e.transaction.maxPriorityFeePerGas=Tp(typeof s=="string"?ee(s):s,typeof e.transaction.gasPrice=="string"?ee(e.transaction.gasPrice):e.transaction.gasPrice)?s:e.transaction.gasPrice):(r&&!e.transaction.maxFeePerGas&&(e.transaction.maxFeePerGas=r),s&&!e.transaction.maxPriorityFeePerGas&&(e.transaction.maxPriorityFeePerGas=s),a&&!e.transaction.maxFeePerGas&&(e.transaction.maxFeePerGas=a),e.transaction.maxFeePerGas&&!e.transaction.maxPriorityFeePerGas&&(e.transaction.maxPriorityFeePerGas=e.transaction.maxFeePerGas)),delete e.transaction.gasPrice):(delete e.transaction.maxPriorityFeePerGas,delete e.transaction.maxFeePerGas),a&&!e.transaction.gasPrice&&!e.transaction.maxPriorityFeePerGas&&!e.transaction.maxFeePerGas&&(e.transaction.gasPrice=a),i&&!e.transaction.gas&&(e.transaction.gas=i),e}setTxHash(e,n){let a=this.getTransaction(e);a.transactionHash=n,this.updateTransactionInState(a,"transactions#setTxHash")}async getDefaultGasFees(e,n){if(!n&&e.transaction.gasPrice||n&&e.transaction.maxFeePerGas&&e.transaction.maxPriorityFeePerGas)return{};try{let{gasFeeEstimates:r,gasEstimateType:s}=await this.getEIP1559GasFeeEstimates();if(n&&s===Qt.FEE_MARKET){let{medium:{suggestedMaxPriorityFeePerGas:i,suggestedMaxFeePerGas:o}={}}=r;if(i&&o)return{maxFeePerGas:Q(at(new Z(o)).toString(16)),maxPriorityFeePerGas:Q(at(new Z(i)).toString(16))}}else if(s===Qt.LEGACY){let{medium:i}=r;return{gasPrice:Q(at(new Z(i)).toString(16))}}else if(s===Qt.ETH_GASPRICE){let{gasPrice:i}=r;return{gasPrice:Q(at(new Z(i)).toString(16))}}}catch(r){Ba.default.error(r)}let a=await this.provider.request({method:j.ETH_GET_GAS_PRICE});return{gasPrice:a&&Q(a)}}async getDefaultGasLimit(e){let n=this.getCurrentChainId(),a=qf[n],r=xp(n);if(e.transaction.gas)return{};if(e.transaction.to&&e.transactionCategory===St.SENT_ETHER&&r!=="custom"&&!e.transaction.data)return{gasLimit:gp.SIMPLE};let{blockGasLimit:s,estimatedGasHex:i,simulationFails:o}=await this.txGasUtil.analyzeGasUsage(e);return{gasLimit:this.txGasUtil.addGasBuffer(Q(i),s,a),simulationFails:o}}async createTransaction(e,n){let a=wd(e),r=await this.getEIP1559Compatibility(e.from);Ad(a,r);let s=this.generateTxMeta({transaction:a,origin:n.origin}),{type:i,category:o,methodParams:c}=await xi(e,this.provider);return s.contractType=i,s.transactionCategory=o,s.methodParams=c,s.isUserOperation=n.isUserOperation,s.isSignOnly=n.isSignOnly,s.transaction.value=s.transaction.value?Q(s.transaction.value):"0x0",this.emit(`${s.id}:unapproved`,s),s=this.addTransactionToState(s),s=await this.addTransactionGasDefaults(s),this.emit(Q0.TX_UNAPPROVED,{txMeta:s,req:n}),s}_setupListeners(){this.setupBlockTrackerListener(),this.pendingTxTracker.on(Q0.TX_WARNING,e=>{this.updateTransactionInState(e.txMeta)}),this.pendingTxTracker.on(Q0.TX_DROPPED,e=>this.setTxStatusDropped(e.txId)),this.pendingTxTracker.on(Q0.TX_BLOCK_UPDATE,({txMeta:e,latestBlockNumber:n})=>{e.firstRetryBlockNumber||(e.firstRetryBlockNumber=n,this.updateTransactionInState(e))}),this.pendingTxTracker.on(Q0.TX_RETRY,e=>{"retryCount"in e.txMeta||(e.txMeta.retryCount=0),e.txMeta.retryCount+=1,this.updateTransactionInState(e.txMeta)}),this.pendingTxTracker.on(Q0.TX_FAILED,e=>{this.setTxStatusFailed(e.txId,e.error)}),this.pendingTxTracker.on(Q0.TX_CONFIRMED,e=>this.confirmTransaction(e))}setupBlockTrackerListener(){let e=!1,n=this.onLatestBlock.bind(this);this.on(Q0.TX_STATUS_UPDATE,()=>{let a=this.getPendingTransactions();!e&&a.length>0?(this.blockTracker.on("latest",n),e=!0):e&&!a.length&&(this.blockTracker.removeListener("latest",n),e=!1)})}async onLatestBlock(e){try{await this.pendingTxTracker.updatePendingTxs()}catch(n){Ba.default.error(n)}try{await this.pendingTxTracker.resubmitPendingTxs(e)}catch(n){Ba.default.error(n)}}markNonceDuplicatesDropped(e){let n=this.getTransaction(e),{nonce:a,from:r}=n.transaction,s=this.getTransactions({searchCriteria:{from:r,nonce:a}});s.length&&s.forEach(i=>{i.id!==e&&(this.updateTransactionInState(n,"transactions/pending-tx-tracker#event: tx:confirmed reference to confirmed txHash with same nonce"),i.status!==Y.failed&&this.setTxStatusDropped(i.id))})}};var xn=async(t,e)=>{let{address:n,entryPointAddress:a,key:r=BigInt(0)}=e;return await M(t,H,"readContract")({address:a,abi:[{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"getNonce",args:[n,r]})};var yv="0x60806040526102a28038038091610015826100ae565b6080396040816080019112610093576080516001600160a01b03811681036100935760a0516001600160401b0381116100935782609f82011215610093578060800151610061816100fc565b9361006f60405195866100d9565b81855260a082840101116100935761008e9160a0602086019101610117565b610196565b600080fd5b634e487b7160e01b600052604160045260246000fd5b6080601f91909101601f19168101906001600160401b038211908210176100d457604052565b610098565b601f909101601f19168101906001600160401b038211908210176100d457604052565b6001600160401b0381116100d457601f01601f191660200190565b60005b83811061012a5750506000910152565b818101518382015260200161011a565b6040916020825261015a8151809281602086015260208686019101610117565b601f01601f1916010190565b3d15610191573d90610177826100fc565b9161018560405193846100d9565b82523d6000602084013e565b606090565b600091908291826040516101cd816101bf6020820195639b249f6960e01b87526024830161013a565b03601f1981018352826100d9565b51925af16101d9610166565b906102485760048151116000146101f7576024015160005260206000f35b60405162461bcd60e51b8152602060048201526024808201527f67657453656e64657241646472657373206661696c656420776974686f7574206044820152636461746160e01b6064820152608490fd5b60405162461bcd60e51b815260206004820152602b60248201527f67657453656e6465724164647265737320646964206e6f74207265766572742060448201526a185cc8195e1c1958dd195960aa1b6064820152608490fdfe",mv=[{inputs:[{internalType:"address",name:"_entryPoint",type:"address"},{internalType:"bytes",name:"initCode",type:"bytes"}],stateMutability:"payable",type:"constructor"}];var Mi=async(t,e)=>{let{initCode:n,entryPointAddress:a,factory:r,factoryData:s}=e;if(!n&&!r&&!s)throw new Error("Either `initCode` or `factory` and `factoryData` must be provided");let i=n||p0([r,s]),{data:o}=await M(t,Ut,"call")({data:Pn({abi:mv,bytecode:yv,args:[a,i]})});if(!o)throw new Error("Failed to get sender address");return Ft([{type:"address"}],o)[0]};async function rt({owner:t,address:e}){if("type"in t&&t.type==="local")return t;let n;if("request"in t){if(!e)try{[e]=await t.request({method:"eth_requestAccounts"})}catch{[e]=await t.request({method:"eth_accounts"})}if(!e)throw new Error("address is required");n=ui({account:e,transport:gr(t)})}return n||(n=t),V2({address:n.account.address,async signMessage({message:a}){return n.signMessage({message:a})},async signTypedData(a){return M(n,pi,"signTypedData")(a)},async signTransaction(a){throw new Error("Smart account signer doesn't need to sign transactions")}})}var H4=async t=>{try{let n=qe({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],data:t}),a=[];for(let r=0;r<n.args[0].length;r++)a.push({to:n.args[0][r],value:n.args[1][r],data:n.args[2][r]});return a}catch{}let e=qe({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],data:t});return[{to:e.args[0],value:e.args[1],data:e.args[2]}]};var G4=async t=>{if(t.length>1)return S({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"executeBatch",args:[t.map(n=>n.to),t.map(n=>n.value??0n),t.map(n=>n.data??"0x")]});let e=t.length===0?void 0:t[0];if(!e)throw new Error("No calls to encode");return S({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"execute",args:[e.to,e.value??0n,e.data??"0x"]})};var V4=async({bytes:t,index:e,secp256k1VerificationFacetAddress:n})=>S({abi:[{inputs:[{internalType:"address",name:"_verificationFacet",type:"address"},{internalType:"bytes",name:"_owner",type:"bytes"},{internalType:"uint256",name:"_salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract Barz",name:"barz",type:"address"}],stateMutability:"nonpayable",type:"function"}],functionName:"createAccount",args:[n,t,e]});async function z4(t,e,n,a){return t.signTypedData({domain:{chainId:Number(e),name:"Barz",verifyingContract:n,version:"v0.2.0"},types:{BarzMessage:[{name:"message",type:"bytes"}]},message:{message:a},primaryType:"BarzMessage"})}var K4={secp256k1VerificationFacetAddress:"0x81b9E3689390C7e74cF526594A105Dea21a8cdD5",factoryAddress:"0x729c310186a57833f622630a16d13f710b83272a"};async function Lp(t){let{owner:e,client:n,index:a=0n,address:r,factoryAddress:s=K4.factoryAddress,secp256k1VerificationFacetAddress:i=K4.secp256k1VerificationFacetAddress}=t,o=await rt({owner:e}),c=r,d={address:t.entryPoint?.address??jn,abi:zn,version:t.entryPoint?.version??"0.6"},f,p=async()=>f||(f=n.chain?n.chain.id:await M(n,V0,"getChainId")({}),f),u=async()=>({factory:s,factoryData:await V4({bytes:o.address,secp256k1VerificationFacetAddress:i,index:a})});return wt({client:n,entryPoint:d,getFactoryArgs:u,async getAddress(){if(c)return c;let{factory:b,factoryData:l}=await u();return c=await Mi(n,{factory:b,factoryData:l,entryPointAddress:d.address}),c},async encodeCalls(b){return G4(b)},async decodeCalls(b){return H4(b)},async getNonce(b){return xn(n,{address:await this.getAddress(),entryPointAddress:d.address,key:t?.nonceKey??b?.key})},async getStubSignature(){return"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"},async sign({hash:b}){return this.signMessage({message:b})},async signMessage({message:b}){return z4(o,await p(),await this.getAddress(),Je(b))},async signTypedData(b){return z4(o,await p(),await this.getAddress(),Oe(b))},async signUserOperation(b){let{chainId:l=await p(),...y}=b;return vr(n,{account:o,message:{raw:Wn({userOperation:{...y,sender:y.sender??await this.getAddress(),signature:"0x"},entryPointAddress:d.address,entryPointVersion:d.version,chainId:l})}})}})}function Vr(t){let n=qe({abi:[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],data:t}),a=n.args[0],r=n.args[1],s=Le(a,0,1),i=Le(a,1,2),o=Le(a,3,7),c=Le(a,7),d;switch(BigInt(s)){case BigInt(0):d="call";break;case BigInt(1):d="batchcall";break;case BigInt(255):d="delegatecall";break;default:throw new Error("Invalid call type")}let f={type:d,revertOnError:BigInt(i)===BigInt(1),selector:o,context:c};if(f.type==="batchcall"){let[l]=Ft([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],r);return{mode:f,callData:l.map(y=>({to:y.target,value:y.value,data:y.callData}))}}let p=ve(Le(r,0,20)),u=BigInt(Le(r,20,52)),b=Be(r)>52?Le(r,52):"0x";return{mode:f,callData:[{to:p,value:u,data:b}]}}function hv(t){switch(t){case"call":return"0x00";case"batchcall":return"0x01";case"delegatecall":return"0xff"}}function Up({type:t,revertOnError:e,selector:n,context:a}){return z0(["bytes1","bytes1","bytes4","bytes4","bytes22"],[a0(H0(hv(t),{size:1})),a0(H0(e?"0x01":"0x00",{size:1})),a0(H0("0x0",{size:4})),a0(H0(n??"0x",{size:4})),a0(H0(a??"0x",{size:22}))])}function zr({mode:t,callData:e}){if(e.length>1&&t?.type!=="batchcall")throw new Error(`mode ${JSON.stringify(t)} does not supported for batchcall calldata`);let n=[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}];if(e.length>1)return S({abi:n,functionName:"execute",args:[Up(t),o0([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],[e.map(r=>({target:r.to,value:r.value??0n,callData:r.data??"0x"}))])]});let a=e.length===0?void 0:e[0];if(!a)throw new Error("No calls to encode");return S({abi:n,functionName:"execute",args:[Up(t),$0([a.to,a0(a.value??0n,{size:32}),a.data??"0x"])]})}var W4=async(t,e)=>!!await qt(t,{address:e});var Oi=t=>{t.sort((r,s)=>r.signer.toLowerCase().localeCompare(s.signer.toLowerCase()));let e=65,n="0x",a="";for(let r of t)if(r.dynamic){let s=(t.length*e+a.length/2).toString(16).padStart(64,"0"),i=(r.data.slice(2).length/2).toString(16).padStart(64,"0"),o=`${r.signer.slice(2).padStart(64,"0")}${s}00`,c=`${i}${r.data.slice(2)}`;n+=o,a+=c}else n+=r.data.slice(2);return n+=a,n},kd=async({owner:t,hash:e})=>{let{signature:n,webauthn:a}=await t.sign({hash:e}),r=p6.fromHex(n),s=a.clientDataJSON.match(/^\{"type":"webauthn.get","challenge":"[A-Za-z0-9\-_]{43}",(.*)\}$/);if(!s)throw new Error("challenge not found in client data JSON");let[,i]=s;return o0([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],[a.authenticatorData,i,[BigInt(r.r),BigInt(r.s)]])};async function j4(t){let{chainId:e,entryPoint:n,validAfter:a=0,validUntil:r=0,safe4337ModuleAddress:s,version:i,owners:o,signatures:c,account:d,...f}=t,{safe4337ModuleAddress:p}=Vp(i,n.version,{safe4337ModuleAddress:s}),u={safe:f.sender,callData:f.callData,nonce:f.nonce,initCode:f.initCode??"0x",maxFeePerGas:f.maxFeePerGas,maxPriorityFeePerGas:f.maxPriorityFeePerGas,preVerificationGas:f.preVerificationGas,verificationGasLimit:f.verificationGasLimit,callGasLimit:f.callGasLimit,paymasterAndData:f.paymasterAndData??"0x",validAfter:a,validUntil:r,entryPoint:n.address};if("initCode"in f&&(u.paymasterAndData=f.paymasterAndData??"0x"),"factory"in f){if(f.factory&&f.factoryData&&(u.initCode=$0([f.factory,f.factoryData])),!f.sender)throw new Error("Sender is required");u.paymasterAndData=$4({...f,sender:f.sender})}let b=Bt(d)?d:await rt({owner:d}),l=Bt(b)?t.safeWebAuthnSharedSignerAddress:b.address;if(!l)throw new Error("no signer found");let y=[];if(c)try{y=Ft([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],c)[0]}catch{y=Ft([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"}],name:"signatures",type:"tuple[]"}],c)[0].map(g=>({...g,dynamic:!1}))}let m=[...y,{signer:l,dynamic:Bt(b),data:await(async()=>{if(Bt(b)){let h=Oe({domain:{chainId:e,verifyingContract:p},types:n.version==="0.6"?Hp:Gp,primaryType:"SafeOp",message:u});return kd({owner:b,hash:h})}return b.signTypedData({domain:{chainId:e,verifyingContract:p},types:n.version==="0.6"?Hp:Gp,primaryType:"SafeOp",message:u})})()}];return m.length!==o.length?o0([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],[m]):z0(["uint48","uint48","bytes"],[a,r,Oi(m)])}var Z4=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],gv=[{type:"function",name:"initSafe7579",inputs:[{name:"safe7579",type:"address",internalType:"address"},{name:"executors",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"fallbacks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"hooks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"attesters",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint8",internalType:"uint8"}],outputs:[],stateMutability:"nonpayable"}],Tv=[{type:"function",name:"preValidationSetup",inputs:[{name:"initHash",type:"bytes32",internalType:"bytes32"},{name:"to",type:"address",internalType:"address"},{name:"preInit",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],xv=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],wv=[{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"}],Ev=[{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"}],Av=[{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],Y4=[{type:"function",name:"setupSafe",inputs:[{name:"initData",type:"tuple",internalType:"struct Safe7579Launchpad.InitData",components:[{name:"singleton",type:"address",internalType:"address"},{name:"owners",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint256",internalType:"uint256"},{name:"setupTo",type:"address",internalType:"address"},{name:"setupData",type:"bytes",internalType:"bytes"},{name:"safe7579",type:"address",internalType:"contract ISafe7579"},{name:"validators",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"}],J4=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"}],Hp={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint256",name:"callGasLimit"},{type:"uint256",name:"verificationGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint256",name:"maxFeePerGas"},{type:"uint256",name:"maxPriorityFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},Gp={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint128",name:"verificationGasLimit"},{type:"uint128",name:"callGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint128",name:"maxPriorityFeePerGas"},{type:"uint128",name:"maxFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},vv={"1.4.1":{"0.6":{SAFE_MODULE_SETUP_ADDRESS:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",SAFE_4337_MODULE_ADDRESS:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2"},"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}},"1.5.0":{"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x14F2982D601c9458F93bd70B218933A6f8165e7b",SAFE_SINGLETON_ADDRESS:"0xFf51A5898e281Db6DfC7855790607438dF2ca44b",MULTI_SEND_ADDRESS:"0x218543288004CD07832472D464648173c77D7eB7",MULTI_SEND_CALL_ONLY_ADDRESS:"0xA83c336B20401Af773B6219BA5027174338D1836",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}}},Q4=(t,e)=>{let n=[0,1,27,28],a=27,r=Number.parseInt(e.slice(-2),16);if(!n.includes(r))throw new Error("Invalid signature");return t==="eth_sign"&&(r<a&&(r+=a),r+=4),t==="eth_signTypedData"&&r<a&&(r+=a),e.slice(0,-2)+r.toString(16)},zp=t=>{let e=t;return typeof e=="string"||e.raw?Je(e):Oe(t)},Cv=t=>z0(["uint8","address","uint256","uint256","bytes"],[t.operation,t.to,t.value,BigInt(t.data.slice(2).length/2),t.data]).slice(2),X4=t=>{let e=`0x${t.map(n=>Cv(n)).join("")}`;return S({abi:Z4,functionName:"multiSend",args:[e]})},e7=({safe4337ModuleAddress:t,safeSingletonAddress:e,erc7579LaunchpadAddress:n,safeWebAuthnSharedSignerAddress:a,owners:r,validators:s,executors:i,fallbacks:o,hooks:c,attesters:d,threshold:f,attestersThreshold:p})=>{let u=r.map(l=>{if("type"in l&&l.type==="webAuthn"){if(!a)throw new Error("safeWebAuthnSharedSignerAddress not defined");return a}if("address"in l&&l.address)return l.address;throw new Error("Incorrect owner found")});return{singleton:e,owners:u,threshold:f,setupTo:n,setupData:S({abi:gv,functionName:"initSafe7579",args:[t,i.map(l=>({module:l.address,initData:l.context})),o.map(l=>({module:l.address,initData:l.context})),c.map(l=>({module:l.address,initData:l.context})),d.sort((l,y)=>l.toLowerCase().localeCompare(y.toLowerCase())),p]}),safe7579:t,validators:s}},Bt=t=>"type"in t&&t.type==="webAuthn",t7=async({owners:t,threshold:e,safeModuleSetupAddress:n,safe4337ModuleAddress:a,safeWebAuthnSharedSignerAddress:r,safeP256VerifierAddress:s,multiSendAddress:i,safeSingletonAddress:o,erc7579LaunchpadAddress:c,setupTransactions:d=[],safeModules:f=[],validators:p=[],executors:u=[],fallbacks:b=[],hooks:l=[],attesters:y=[],attestersThreshold:m=0,paymentToken:h=K0,payment:g=BigInt(0),paymentReceiver:x=K0})=>{if(c){let P=e7({safe4337ModuleAddress:a,safeSingletonAddress:o,safeWebAuthnSharedSignerAddress:r,erc7579LaunchpadAddress:c,owners:t,validators:p,executors:u,fallbacks:b,threshold:e,hooks:l,attesters:y,attestersThreshold:m}),U=W(o0([{internalType:"address",name:"singleton",type:"address"},{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256",name:"threshold",type:"uint256"},{internalType:"address",name:"setupTo",type:"address"},{internalType:"bytes",name:"setupData",type:"bytes"},{internalType:"contract ISafe7579",name:"safe7579",type:"address"},{internalType:"struct ModuleInit[]",name:"validators",type:"tuple[]",components:[{internalType:"address",name:"module",type:"address"},{internalType:"bytes",name:"initData",type:"bytes"}]}],[P.singleton,P.owners,P.threshold,P.setupTo,P.setupData,P.safe7579,P.validators.map(D=>({module:D.address,initData:D.context}))]));return S({abi:Tv,functionName:"preValidationSetup",args:[U,K0,"0x"]})}let C=t.reduce((P,U)=>Bt(U)?U:P,void 0),I=t.map(P=>{if(Bt(P)){if(!r)throw new Error("safeWebAuthnSharedSignerAddress not defined");return r}if("address"in P&&P.address)return P.address;throw new Error("Incorrect owner found")}),E=[{to:n,data:S({abi:xv,functionName:"enableModules",args:[[a,...f]]}),value:BigInt(0),operation:1}];if(C&&r&&s){let P=i6.fromHex(C.publicKey);E.push({to:r,data:S({abi:wv,functionName:"configure",args:[{x:P.x,y:P.y,verifiers:BigInt(s)}]}),value:BigInt(0),operation:1})}for(let P of d)E.push({...P,operation:0});let v=X4(E);return S({abi:Ev,functionName:"setup",args:[I,e,i,v,a,h,g,x]})};function $4(t){return t.paymaster?p0([t.paymaster,F0(a0(t.paymasterVerificationGasLimit||BigInt(0)),{size:16}),F0(a0(t.paymasterPostOpGasLimit||BigInt(0)),{size:16}),t.paymasterData||"0x"]):"0x"}var Iv=async({owners:t,threshold:e,safeModuleSetupAddress:n,safe4337ModuleAddress:a,safeSingletonAddress:r,erc7579LaunchpadAddress:s,safeWebAuthnSharedSignerAddress:i,safeP256VerifierAddress:o,multiSendAddress:c,paymentToken:d,payment:f,paymentReceiver:p,saltNonce:u=BigInt(0),setupTransactions:b=[],safeModules:l=[],validators:y=[],executors:m=[],fallbacks:h=[],hooks:g=[],attesters:x=[],attestersThreshold:C=0})=>{let I=await t7({owners:t,threshold:e,safeModuleSetupAddress:n,safeWebAuthnSharedSignerAddress:i,safeP256VerifierAddress:o,safe4337ModuleAddress:a,multiSendAddress:c,setupTransactions:b,safeSingletonAddress:r,safeModules:l,erc7579LaunchpadAddress:s,validators:y,executors:m,fallbacks:h,hooks:g,attesters:x,attestersThreshold:C,paymentToken:d,payment:f,paymentReceiver:p});return S({abi:Av,functionName:"createProxyWithNonce",args:[s??r,I,u]})},Vp=(t,e,{addModuleLibAddress:n,safeModuleSetupAddress:a,safe4337ModuleAddress:r,safeProxyFactoryAddress:s,safeSingletonAddress:i,multiSendAddress:o,multiSendCallOnlyAddress:c,safeWebAuthnSharedSignerAddress:d,safeP256VerifierAddress:f})=>{let p=vv[t][e];if(!p)throw new Error(`Safe version ${t} does not support EntryPoint version ${e}`);let u=a??n??p.SAFE_MODULE_SETUP_ADDRESS,b=r??p.SAFE_4337_MODULE_ADDRESS,l=s??p.SAFE_PROXY_FACTORY_ADDRESS,y=i??p.SAFE_SINGLETON_ADDRESS,m=o??p.MULTI_SEND_ADDRESS,h=c??p.MULTI_SEND_CALL_ONLY_ADDRESS,g=d??p.WEB_AUTHN_SHARED_SIGNER_ADDRESS,x=f??p.SAFE_P256_VERIFIER_ADDRESS;return{safeModuleSetupAddress:u,safe4337ModuleAddress:b,safeProxyFactoryAddress:l,safeSingletonAddress:y,multiSendAddress:m,multiSendCallOnlyAddress:h,safeWebAuthnSharedSignerAddress:g,safeP256VerifierAddress:x}};function q4(t){return t.erc7579LaunchpadAddress!==void 0}var Pv=[{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],_v=async({client:t,owners:e,threshold:n,safeModuleSetupAddress:a,safe4337ModuleAddress:r,safeProxyFactoryAddress:s,safeSingletonAddress:i,multiSendAddress:o,safeWebAuthnSharedSignerAddress:c,safeP256VerifierAddress:d,erc7579LaunchpadAddress:f,paymentToken:p,payment:u,paymentReceiver:b,setupTransactions:l=[],safeModules:y=[],saltNonce:m=BigInt(0),validators:h=[],executors:g=[],fallbacks:x=[],hooks:C=[],attesters:I=[],attestersThreshold:E=0})=>{let v=await H(t,{abi:Pv,address:s,functionName:"proxyCreationCode"}),P=await t7({owners:e,threshold:n,safeModuleSetupAddress:a,safe4337ModuleAddress:r,safeWebAuthnSharedSignerAddress:c,safeP256VerifierAddress:d,multiSendAddress:o,setupTransactions:l,safeSingletonAddress:i,safeModules:y,erc7579LaunchpadAddress:f,validators:h,executors:g,fallbacks:x,hooks:C,attesters:I,attestersThreshold:E,paymentToken:p,payment:u,paymentReceiver:b}),U=z0(["bytes","uint256"],[v,C0(f??i)]),D=W(z0(["bytes32","uint256"],[W(z0(["bytes"],[P])),m]));return Tr({from:s,salt:D,bytecode:U,opcode:"CREATE2"})};async function Kp(t){let{client:e,owners:n,address:a,threshold:r=BigInt(n.length),version:s,safe4337ModuleAddress:i,safeProxyFactoryAddress:o,safeSingletonAddress:c,erc7579LaunchpadAddress:d,saltNonce:f=BigInt(0),validUntil:p=0,validAfter:u=0,nonceKey:b,paymentToken:l,payment:y,paymentReceiver:m,onchainIdentifier:h}=t,g=await Promise.all(n.map(async s0=>"account"in s0?s0.account:"request"in s0?rt({owner:s0}):s0)),x=await Promise.all(n.filter(s0=>!!("type"in s0&&s0.type==="local"||"request"in s0||"account"in s0||Bt(s0))).map(s0=>Bt(s0)?s0:rt({owner:s0}))),C={address:t.entryPoint?.address??Zt,abi:(t.entryPoint?.version??"0.7")==="0.6"?zn:Kn,version:t.entryPoint?.version??"0.7"},I,E,v,P,U=[],D=[],B=[],$=[],X=[],b0=[],R=0;q4(t)||(I=t.safeModuleSetupAddress,E=t.multiSendAddress,v=t.multiSendCallOnlyAddress,P=t.safeModules,U=t.setupTransactions??[]),q4(t)&&(D=t.validators??[],B=t.executors??[],$=t.fallbacks??[],X=t.hooks??[],b0=t.attesters??[],R=t.attestersThreshold??0);let{safeModuleSetupAddress:G,safe4337ModuleAddress:e0,safeProxyFactoryAddress:z,safeSingletonAddress:t0,multiSendAddress:M0,multiSendCallOnlyAddress:oe,safeWebAuthnSharedSignerAddress:J0,safeP256VerifierAddress:it}=Vp(s,C.version,{safeModuleSetupAddress:I,safe4337ModuleAddress:i,safeProxyFactoryAddress:o,safeSingletonAddress:c,multiSendAddress:E,multiSendCallOnlyAddress:v,safeWebAuthnSharedSignerAddress:t.safeWebAuthnSharedSignerAddress,safeP256VerifierAddress:t.safeP256VerifierAddress}),Re=a,ot,nn=async()=>ot||(ot=e.chain?e.chain.id:await M(e,V0,"getChainId")({}),ot);return wt({client:e,entryPoint:C,getFactoryArgs:async()=>({factory:z,factoryData:await Iv({owners:g,threshold:r,safeModuleSetupAddress:G,safe4337ModuleAddress:e0,safeSingletonAddress:t0,safeWebAuthnSharedSignerAddress:J0,safeP256VerifierAddress:it,multiSendAddress:M0,erc7579LaunchpadAddress:d,saltNonce:f,setupTransactions:U,safeModules:P,validators:D,executors:B,fallbacks:$,hooks:X,attesters:b0,attestersThreshold:R,paymentToken:l,payment:y,paymentReceiver:m})}),async getAddress(){return Re||(Re=await _v({client:e,owners:g,threshold:r,safeModuleSetupAddress:G,safe4337ModuleAddress:e0,safeProxyFactoryAddress:z,safeSingletonAddress:t0,safeWebAuthnSharedSignerAddress:J0,safeP256VerifierAddress:it,multiSendAddress:M0,erc7579LaunchpadAddress:d,saltNonce:f,setupTransactions:U,safeModules:P,validators:D,executors:B,fallbacks:$,hooks:X,attesters:b0,attestersThreshold:R,paymentToken:l,payment:y,paymentReceiver:m}),Re)},async encodeCalls(s0){let U0=s0.length>1;if(d){if(!await W4(e,await this.getAddress())){let be=e7({safe4337ModuleAddress:e0,safeSingletonAddress:t0,erc7579LaunchpadAddress:d,safeWebAuthnSharedSignerAddress:J0,owners:g,threshold:r,validators:D,executors:B,fallbacks:$,hooks:X,attesters:b0,attestersThreshold:R});return S({abi:Y4,functionName:"setupSafe",args:[{...be,validators:be.validators.map(Ui=>({module:Ui.address,initData:Ui.context})),callData:zr({mode:{type:U0?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:s0})}]})}return zr({mode:{type:U0?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:s0})}let W0,j0,E0,X0=0;if(U0)W0=oe,j0=BigInt(0),E0=X4(s0.map(ue=>({to:ue.to,value:ue.value??0n,data:ue.data??"0x",operation:0}))),X0=1;else{let ue=s0.length===0?void 0:s0[0];if(!ue)throw new Error("No calls to encode");W0=ue.to,E0=ue.data??"0x",j0=ue.value??0n}let pe=S({abi:J4,functionName:"executeUserOpWithErrorString",args:[W0,j0,E0,X0]});return h?p0([pe,h]):pe},async decodeCalls(s0){try{let X0=qe({abi:Y4,data:s0});return Vr(X0.args[0].callData).callData}catch{}try{return Vr(s0).callData}catch{}let U0=qe({abi:J4,data:s0}),W0=U0.args[0],j0=U0.args[1],E0=U0.args[2];if(W0===oe){let pe=qe({abi:Z4,data:E0}).args[0],ue=[],be=0,Ui=Be(pe);for(;be<Ui;){be+=1;let Ph=ve(Le(pe,be,be+20));be+=20;let _h=BigInt(Le(pe,be,be+32));be+=32;let pu=Number(BigInt(Le(pe,be,be+32))*BigInt(2));be+=32;let Sh=Le(pe,be,be+pu);be+=pu,ue.push({to:Ph,value:_h,data:Sh})}return ue}return[{to:W0,value:j0,data:E0}]},async getNonce(s0){return xn(e,{address:await this.getAddress(),entryPointAddress:C.address,key:b??s0?.key})},async getStubSignature(){let s0=g.map(U0=>{let W0=J0,j0=!0,E0="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c";if(Bt(U0)?E0=o0([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'"origin":"http://somelargdomainheresothatwehaveenoughbytes.com","crossOrigin":false',[44941127272049826721201904734628716258498742255959991581049806490182030242267n,9910254599581058084911561569808925251374718953855182016200087235935345969636n]]):(W0=U0.address,j0=!1),!W0)throw new Error("No signer found");return{signer:W0,data:E0,dynamic:j0}});return z0(["uint48","uint48","bytes"],[0,0,Oi(s0)])},async sign({hash:s0}){return this.signMessage({message:s0})},async signMessage({message:s0}){if(x.length<Number(r))throw new Error("Owners length mismatch, currently not supported");if(d&&s==="1.5.0")throw new Error("Safe 7579 & version 1.5.0 are not compatible");let U0=Oe({domain:{chainId:await nn(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:zp(s0)}}),W0=await Promise.all(x.map(async E0=>{let X0=J0,pe,ue=!0;if(Bt(E0)?pe=await kd({owner:E0,hash:U0}):(X0=E0.address,pe=Q4("eth_sign",await E0.signMessage({message:{raw:H0(U0)}})),ue=!1),!X0)throw new Error("no signer found");return{signer:X0,dynamic:ue,data:pe}})),j0=Oi(W0);return d?p0([K0,j0]):j0},async signTypedData(s0){if(x.length<Number(r))throw new Error("Owners length mismatch, currently not supported");if(d&&s==="1.5.0")throw new Error("Safe 7579 & version 1.5.0 are not compatible");let U0=await Promise.all(x.map(async j0=>{let E0=J0,X0,pe=!0;if(!Bt(j0))E0=j0.address,X0=Q4("eth_signTypedData",await j0.signTypedData({domain:{chainId:await nn(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:zp(s0)}})),pe=!1;else{let ue=Oe({domain:{chainId:await nn(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:zp(s0)}});X0=await kd({owner:j0,hash:ue})}if(!E0)throw new Error("no signer found");return{signer:E0,dynamic:pe,data:X0}})),W0=Oi(U0);return d?p0([K0,W0]):W0},async signUserOperation(s0){let{chainId:U0=await nn(),...W0}=s0;if(x.length<Number(r))throw new Error("Owners length mismatch use SafeSmartAccount.signUserOperation from `permissionless/accounts/safe`");let j0;for(let E0 of x)j0=await j4({...W0,version:s,entryPoint:C,owners:x,account:E0,chainId:U0,signatures:j0,validAfter:u,validUntil:p,safe4337ModuleAddress:e0,safeWebAuthnSharedSignerAddress:J0});if(!j0)throw new Error("No signatures found");return j0}})}var ki=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Operation",name:"",type:"uint8"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Call[]",name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"}],n7=[{inputs:[{internalType:"contract IKernelValidator",name:"_defaultValidator",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"}];var a7=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],r7=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"},{name:"initConfig",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"}];var s7=[{type:"function",name:"createAccount",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}];var i7=[{type:"function",name:"deployWithFactory",inputs:[{name:"factory",type:"address",internalType:"contract KernelFactory"},{name:"createData",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}];var Wp="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",o7="0x00000000",Bd={ROOT:"0x00",VALIDATOR:"0x01",PERMISSION:"0x02"},Rd;(function(t){t.DEFAULT="0x00",t.ENABLE="0x01"})(Rd||(Rd={}));var Et=t=>/0\.2\.\d+/.test(t);var c7=({kernelVersion:t,callData:e})=>{if(Et(t)){let n=qe({abi:ki,data:e});if(n.functionName==="executeBatch")return n.args[0].map(a=>({to:a.to,value:a.value,data:a.data}));if(n.functionName==="execute"){let[a,r,s]=n.args;return[{to:a,value:r,data:s}]}throw new Error("Invalid function name")}return Vr(e).callData};var d7=({kernelVersion:t,calls:e})=>{if(Et(t)){if(e.length>1)return S({abi:ki,functionName:"executeBatch",args:[e.map(a=>({to:a.to,value:a.value??0n,data:a.data??"0x"}))]});let n=e.length===0?void 0:e[0];if(!n)throw new Error("No calls to encode");return S({abi:ki,functionName:"execute",args:[n.to,n.value??0n,n.data??"0x",0]})}return zr({mode:{type:e.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})};var f7=(t,e,n=0n)=>{if(Et(t))return n;if(n>f8)throw new Error(`nonce key must be equal or less than 2 bytes(maxUint16) for Kernel version ${t}`);let a=Rd.DEFAULT,r=Bd.ROOT,s=F0($0([a,r,e,a0(n,{size:2})]),{size:24});return BigInt(s)};var $n=t=>t.type==="webAuthn";var Ri=(t,{accountAddress:e,kernelVersion:n,chainId:a})=>{let r=si({domain:{name:"Kernel",version:n,chainId:a,verifyingContract:e}}),s=Et(n)?t:W(o0([{type:"bytes32"},{type:"bytes32"}],[W(ze("Kernel(bytes32 hash)")),t]));return W($0(["0x1901",r,s]))};async function Bi({message:t,owner:e,accountAddress:n,kernelVersion:a,chainId:r}){if($n(e)){let i;if(typeof t=="string")i=Ri(Je(t),{kernelVersion:a,accountAddress:n,chainId:r});else if("raw"in t&&typeof t.raw=="string")i=t.raw;else if("raw"in t&&t.raw instanceof Uint8Array)i=t.raw.toString();else throw new Error("Unsupported message format");let{signature:o,webauthn:c}=await e.sign({hash:i}),d=p6.fromHex(o);return o0([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],[c.authenticatorData,c.clientDataJSON,BigInt(c.typeIndex),BigInt(d.r),BigInt(d.s),!1])}if(a==="0.2.1"||a==="0.2.2")return e.signMessage({message:t});let s=Ri(Je(t),{kernelVersion:a,accountAddress:n,chainId:r});return e.signMessage({message:{raw:s}})}async function p7(t){let{owner:e,accountAddress:n,kernelVersion:a,chainId:r,...s}=t;if((a==="0.2.1"||a==="0.2.2")&&!$n(e))return e.signTypedData({...s});let{message:i,primaryType:o,types:c,domain:d}=s,f={EIP712Domain:mn({domain:d}),...c};Vn({domain:d,message:i,primaryType:o,types:f});let p=Oe({message:i,primaryType:o,types:f,domain:d}),u=Ri(p,{kernelVersion:a,accountAddress:n,chainId:r});return $n(e)?Bi({message:{raw:u},owner:e,accountAddress:n,kernelVersion:a,chainId:r}):e.signMessage({message:{raw:u}})}var Sv=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"}],Nv={"0.2.1":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xf048AD83CB2dfd6037A43902a2A5Be04e53cd2Eb",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.2":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0x0DA6a956B9488eD4dd761E59f52FDc6c8068E6B5",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.3":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xD3F582F6B4814E989Ee8E96bc3175320B5A540ab",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.4":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xd3082872F8B06073A021b4602e022d5A070d7cfC",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.3.0-beta":{ECDSA_VALIDATOR:"0x8104e3Ad430EA6d354d013A6789fDFc71E671c43",ACCOUNT_LOGIC:"0x94F097E1ebEB4ecA3AAE54cabb08905B239A7D27",FACTORY_ADDRESS:"0x6723b44Abeec4E71eBE3232BD5B455805baDD22f",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"},"0.3.1":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xBAC849bB641841b44E965fB01A4Bf5F074f84b4D",FACTORY_ADDRESS:"0xaac5D4240AF87249B3f71BC8E4A2cae074A3E419",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"},"0.3.2":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xD830D15D3dc0C269F3dBAa0F3e8626d33CFdaBe1",FACTORY_ADDRESS:"0x7a1dBAB750f12a90EB1B60D2Ae3aD17D4D81EfFe",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"},"0.3.3":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xd6CEDDe84be40893d153Be9d467CD6aD37875b28",FACTORY_ADDRESS:"0x2577507b78c2008Ff367261CB6285d44ba5eF2E9",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"}},Dv=(t,e,n)=>n?"0.3.3":e||(t==="0.6"?"0.2.2":"0.3.0-beta"),Mv=({validatorAddress:t,accountLogicAddress:e,factoryAddress:n,metaFactoryAddress:a,kernelVersion:r,isWebAuthn:s})=>{let i=Nv[r],o=t??(s?i.WEB_AUTHN_VALIDATOR:i.ECDSA_VALIDATOR),c=e??i.ACCOUNT_LOGIC,d=n??i.FACTORY_ADDRESS,f=a??i?.META_FACTORY_ADDRESS??K0;return{validatorAddress:o,accountLogicAddress:c,factoryAddress:d,metaFactoryAddress:f}},Fd=t=>$0([Bd.VALIDATOR,t]),Ov=({entryPoint:{version:t},kernelVersion:e,validatorData:n,validatorAddress:a})=>t==="0.6"?S({abi:n7,functionName:"initialize",args:[a,n]}):e==="0.3.0-beta"?S({abi:a7,functionName:"initialize",args:[Fd(a),K0,n,"0x"]}):S({abi:r7,functionName:"initialize",args:[Fd(a),K0,n,"0x",[]]}),kv=async t=>{if(t.type==="local")return t.address;if($n(t)){let e=i6.fromHex(t.publicKey),n=W(It.fromBytes(ad.toBytes(t.id)));return o0([{components:[{name:"x",type:"uint256"},{name:"y",type:"uint256"}],name:"webAuthnData",type:"tuple"},{name:"authenticatorIdHash",type:"bytes32"}],[{x:e.x,y:e.y},n])}throw new Error("Invalid owner type")},Rv=async({entryPointVersion:t,kernelVersion:e,validatorData:n,index:a,factoryAddress:r,accountLogicAddress:s,validatorAddress:i,useMetaFactory:o})=>{let c=Ov({entryPoint:{version:t},kernelVersion:e,validatorAddress:i,validatorData:n});return t==="0.6"?S({abi:Sv,functionName:"createAccount",args:[s,c,a]}):o?S({abi:i7,functionName:"deployWithFactory",args:[r,c,a0(a,{size:32})]}):S({abi:s7,functionName:"createAccount",args:[c,a0(a,{size:32})]})};async function u7(t){let{client:e,address:n,index:a=0n,version:r,validatorAddress:s,factoryAddress:i,metaFactoryAddress:o,accountLogicAddress:c,useMetaFactory:d=!0,eip7702:f=!1}=t,p=(()=>{if(f&&"owner"in t)return[t.owner];if("owners"in t)return t.owners;throw new Error("Invalid parameters")})(),u=p[0].type==="webAuthn",b=await(u?p[0]:rt({owner:p[0]})),l=(()=>{let D=t.entryPoint?.address??Zt,B=t.entryPoint?.version??"0.7",$=Kn;return B==="0.6"&&($=zn),{address:D,abi:$,version:B}})(),y=Dv(l.version,r,f),{accountLogicAddress:m,validatorAddress:h,factoryAddress:g,metaFactoryAddress:x}=Mv({validatorAddress:s,accountLogicAddress:c,factoryAddress:i,metaFactoryAddress:o,kernelVersion:y,isWebAuthn:u});if(!h)throw new Error("Validator address is required");let C=async D=>Rv({entryPointVersion:l.version,kernelVersion:y,validatorData:await kv(b),index:a,factoryAddress:g,accountLogicAddress:m,validatorAddress:h,useMetaFactory:D}),I,E=async()=>I||(I=e.chain?e.chain.id:await M(e,V0,"getChainId")({}),I),v=D=>async()=>({factory:l.version==="0.6"||D===!1?g:x,factoryData:await C(D)}),{accountAddress:P,getFactoryArgs:U}=await(async()=>{if(f)return{accountAddress:b.address,getFactoryArgs:async()=>({factory:void 0,factoryData:void 0})};let D=v(d==="optional"?!0:d);if(n&&d!=="optional")return{accountAddress:n,getFactoryArgs:D};let{factory:B,factoryData:$}=await D(),X=await Mi(e,{factory:B,factoryData:$,entryPointAddress:l.address});if(n===X)return{accountAddress:X,getFactoryArgs:D};if(d==="optional"&&X===K0){D=v(!1);let{factory:b0,factoryData:R}=await D();X=await Mi(e,{factory:b0,factoryData:R,entryPointAddress:l.address})}return{accountAddress:X,getFactoryArgs:D}})();return wt({client:e,entryPoint:l,getFactoryArgs:U,extend:f?{implementation:m}:void 0,authorization:f?{address:m,account:b}:void 0,async getAddress(){return P},async encodeCalls(D){return d7({calls:D,kernelVersion:y})},async decodeCalls(D){return c7({callData:D,kernelVersion:y})},async getNonce(D){return xn(e,{address:await this.getAddress(),entryPointAddress:l.address,key:f7(y,h,t.nonceKey??0n)})},async getStubSignature(){return Et(y)?$0([o7,Wp]):$n(b)?o0([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'{"type":"webauthn.get","challenge":"tbxXNFS9X_4Byr1cMwqKrIGB-_30a0QhZ6y7ucM0BOE","origin":"http://localhost:3000","crossOrigin":false, "other_keys_can_be_added_here":"do not compare clientDataJSON against a template. See https://goo.gl/yabPex"}',1n,44941127272049826721201904734628716258498742255959991581049806490182030242267n,9910254599581058084911561569808925251374718953855182016200087235935345969636n,!1]):Wp},async sign({hash:D}){return this.signMessage({message:D})},async signMessage({message:D}){if(f)throw new Error("Kernel with EIP-7702 isn't 1271 compliant");let B=await Bi({owner:b,message:D,accountAddress:await this.getAddress(),kernelVersion:y,chainId:await E()});return Et(y)?B:$0([Fd(h),B])},async signTypedData(D){if(f)throw new Error("Kernel with EIP-7702 isn't 1271 compliant");let B=await p7({owner:b,chainId:await E(),...D,accountAddress:await this.getAddress(),kernelVersion:y});return Et(y)?B:$0([Fd(h),B])},async signUserOperation(D){let{chainId:B=await E(),...$}=D,X=Wn({userOperation:{...$,sender:$.sender??await this.getAddress(),signature:"0x"},entryPointAddress:l.address,entryPointVersion:l.version,chainId:B}),b0=$n(b)?await Bi({owner:b,message:{raw:X},chainId:B,accountAddress:await this.getAddress(),kernelVersion:y}):await b.signMessage({message:{raw:X}});return Et(y)?$0(["0x00000000",b0]):b0}})}async function jp(t){return u7({...t,validatorAddress:t.validatorAddress??t.ecdsaValidatorAddress})}var b7=[{inputs:[{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"},{internalType:"uint256",name:"index",type:"uint256"}],name:"deployCounterFactualAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],Kr=[{inputs:[{internalType:"address",name:"handler",type:"address"},{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"}],name:"init",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"eoaOwner",type:"address"}],name:"initForSmartAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute_ncC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch_y6U",outputs:[],stateMutability:"nonpayable",type:"function"}];var Bv="0x6080346100aa57601f61012038819003918201601f19168301916001600160401b038311848410176100af578084926020946040528339810103126100aa57516001600160a01b0381168082036100aa5715610065573055604051605a90816100c68239f35b60405162461bcd60e51b815260206004820152601e60248201527f496e76616c696420696d706c656d656e746174696f6e206164647265737300006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608060405230546000808092368280378136915af43d82803e156020573d90f35b3d90fdfea2646970667358221220a03b18dce0be0b4c9afe58a9eb85c35205e2cf087da098bbf1d23945bf89496064736f6c63430008110033",Ld={ECDSA_OWNERSHIP_REGISTRY_MODULE:"0x0000001c5b32F37F5beA87BDD5374eB2aC54eA8e",FACTORY_ADDRESS:"0x000000a56Aaca3e9a4C479ea6b6CD0DbcB6634F5",ACCOUNT_V2_0_LOGIC:"0x0000002512019Dafb59528B82CB92D3c5D2423aC",DEFAULT_FALLBACK_HANDLER_ADDRESS:"0x0bBa6d96BD616BedC6BFaa341742FD43c60b83C1"},Fv=async({owner:t,index:e,ecdsaModuleAddress:n})=>{if(!t)throw new Error("Owner account not found");let a=S({abi:Kr,functionName:"initForSmartAccount",args:[t]});return S({abi:b7,functionName:"deployCounterFactualAccount",args:[n,a,e]})},Lv=async({factoryAddress:t,accountLogicAddress:e,fallbackHandlerAddress:n,ecdsaModuleAddress:a,owner:r,index:s=BigInt(0)})=>{let i=S({abi:Kr,functionName:"initForSmartAccount",args:[r]}),o=S({abi:Kr,functionName:"init",args:[n,a,i]}),c=z0(["bytes","uint256"],[Bv,C0(e)]),d=W(z0(["bytes32","uint256"],[W(z0(["bytes"],[o])),s]));return Tr({from:t,salt:d,bytecode:c,opcode:"CREATE2"})};async function $p(t){let{owners:e,client:n,index:a=0n,address:r,accountLogicAddress:s=Ld.ACCOUNT_V2_0_LOGIC,fallbackHandlerAddress:i=Ld.DEFAULT_FALLBACK_HANDLER_ADDRESS,ecdsaModuleAddress:o=Ld.ECDSA_OWNERSHIP_REGISTRY_MODULE,factoryAddress:c=Ld.FACTORY_ADDRESS}=t,d=await rt({owner:e[0]}),f={address:t.entryPoint?.address??jn,abi:zn,version:t.entryPoint?.version??"0.6"},p=r;return wt({client:n,entryPoint:f,getFactoryArgs:async()=>({factory:c,factoryData:await Fv({owner:d.address,index:a,ecdsaModuleAddress:o})}),async getAddress(){return p||(p=await Lv({owner:d.address,ecdsaModuleAddress:o,factoryAddress:c,accountLogicAddress:s,fallbackHandlerAddress:i,index:a}),p)},async getNonce(b){let l=await this.getAddress();return xn(n,{address:l,entryPointAddress:f.address,key:t?.nonceKey??b?.key})},encodeCalls:async b=>{if(b.length>1)return S({abi:Kr,functionName:"executeBatch_y6U",args:[b.map(y=>y.to),b.map(y=>y.value??0n),b.map(y=>y.data??"0x")]});let l=b.length===0?void 0:b[0];if(!l)throw new Error("No calls to encode");return S({abi:Kr,functionName:"execute_ncC",args:[l.to,l.value??0n,l.data??"0x"]})},decodeCalls:async b=>{let l=qe({abi:Kr,data:b});if(l.functionName==="execute_ncC")return[{to:l.args[0],value:l.args[1],data:l.args[2]}];if(l.functionName==="executeBatch_y6U"){let y=[];for(let m=0;m<l.args[0].length;m++)y.push({to:l.args[0][m],value:l.args[1][m],data:l.args[2][m]});return y}throw new Error("Invalid function name")},async getStubSignature(){return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${o.substring(2).padEnd(40,"0")}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:b}){return this.signMessage({message:b})},async signMessage({message:b}){let l=await d.signMessage({message:b}),y=Number.parseInt(l.slice(-2),16);if(![27,28].includes(y)){let m=y+27;l=l.slice(0,-2)+m.toString(16)}return o0([{type:"bytes"},{type:"address"}],[l,o])},async signTypedData(b){let l=await d.signTypedData(b),y=Number.parseInt(l.slice(-2),16);if(![27,28].includes(y)){let m=y+27;l=l.slice(0,-2)+m.toString(16)}return o0([{type:"bytes"},{type:"address"}],[l,o])},async signUserOperation(b){let{chainId:l=n.chain?.id,...y}=b;if(!l)throw new Error("Chain id not found");let m=Wn({userOperation:{...y,sender:y.sender??await this.getAddress(),signature:"0x"},entryPointAddress:f.address,entryPointVersion:f.version,chainId:l}),h=await vr(n,{account:d,message:{raw:m}});return o0(Ua("bytes, address"),[h,o])}})}var l7=(t,{accountAddress:e,version:n,chainId:a})=>{let r=si({domain:{name:"Nexus",version:n,chainId:a,verifyingContract:e}}),s=W(o0([{type:"bytes32"},{type:"bytes32"}],[W(ze("PersonalSign(bytes prefixed)")),t]));return W($0(["0x1901",r,s]))},y7={K1_VALIDATOR_FACTORY_ADDRESS:"0x00000bb19a3579F4D779215dEf97AFbd0e30DB55",K1_VALIDATOR_ADDRESS:"0x00000004171351c442B202678c48D8AB5B321E8f"};async function Yp(t){let{owners:e,client:n,index:a=0n,address:r,version:s,factoryAddress:i=y7.K1_VALIDATOR_FACTORY_ADDRESS,validatorAddress:o=y7.K1_VALIDATOR_ADDRESS,attesters:c=[],threshold:d=0}=t,f=await rt({owner:e[0]}),p={address:t.entryPoint?.address??Zt,abi:Kn,version:t.entryPoint?.version??"0.7"},u=r,b=async()=>({factory:i,factoryData:S({abi:[{name:"createAccount",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"createAccount",args:[f.address,a,c.sort((m,h)=>m.toLowerCase().localeCompare(h.toLowerCase())),d]})}),l,y=async()=>l||(l=n.chain?n.chain.id:await M(n,V0,"getChainId")({}),l);return wt({client:n,entryPoint:p,getFactoryArgs:b,async getAddress(){return u||(u=await H(n,{address:i,abi:[{name:"computeAccountAddress",type:"function",stateMutability:"view",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"computeAccountAddress",args:[f.address,a,c.sort((m,h)=>m.toLowerCase().localeCompare(h.toLowerCase())),d]}),u)},async getNonce(m){let g=(m?.key??0n)%16777215n,C=p0([a0(g,{size:3}),"0x00",o]),I=await this.getAddress();return xn(n,{address:I,entryPointAddress:p.address,key:BigInt(C)})},encodeCalls:async m=>zr({mode:{type:m.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:m}),async decodeCalls(m){return Vr(m).callData},async getStubSignature(){return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${o.substring(2).padEnd(40,"0")}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:m}){return this.signMessage({message:m})},async signMessage({message:m}){let h=l7(Je(m),{version:s,accountAddress:await this.getAddress(),chainId:await y()}),g=await f.signMessage({message:{raw:h}});return z0(["address","bytes"],[o,g])},async signTypedData(m){let{message:h,primaryType:g,types:x,domain:C}=m,I={EIP712Domain:mn({domain:C}),...x};Vn({domain:C,message:h,primaryType:g,types:I});let E=Oe({message:h,primaryType:g,types:I,domain:C}),v=l7(E,{version:s,accountAddress:await this.getAddress(),chainId:await y()}),P=await f.signMessage({message:{raw:v}});return z0(["address","bytes"],[o,P])},async signUserOperation(m){let{chainId:h=await y(),...g}=m;if(!h)throw new Error("Chain id not found");let x=Wn({userOperation:{...g,sender:g.sender??await this.getAddress(),signature:"0x"},entryPointAddress:p.address,entryPointVersion:p.version,chainId:h});return await f.signMessage({message:{raw:x}})}})}var Jp=class{constructor(e){w(this,"name",Tt.BICONOMY),w(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,a;return $p(A(A(A({},this.options||{}),{},{entryPoint:{address:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.address)||jn,version:((a=this.options)===null||a===void 0||(a=a.entryPoint)===null||a===void 0?void 0:a.version)||"0.6"}},e),{},{owners:[e.walletClient],client:e.client}))}};var Qp=class{constructor(e){w(this,"name",Tt.KERNEL),w(this,"options",void 0),this.options=e}async getSmartAccount(e){return jp(A(A(A({},this.options||{}),e),{},{owners:[e.walletClient],client:e.client}))}};var Uv=Object.defineProperty,x0=(t,e)=>{for(var n in e)Uv(t,n,{get:e[n],enumerable:!0})};var At={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x00e0251aaA263dfE3B3541B758A82D1CBA1c3B6D",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},Fa={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},Wr={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},u0={mainnet:1,polygon:137,bsc:56,optimism:10,arbitrum:42161,linea:59144,base:8453,gnosis:100,sepolia:11155111,lineaSepolia:59141,baseSepolia:84532,megaEthTestnet:6342,chiado:10200,lineaGoerli:59140},m7={"1.0.0":{[u0.optimism]:Wr,[u0.polygon]:Wr,[u0.base]:Wr,[u0.arbitrum]:Wr,[u0.linea]:Wr,[u0.sepolia]:{...Wr,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},[u0.lineaSepolia]:{...Wr,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{[u0.arbitrum]:Fa,[u0.base]:Fa,[u0.linea]:Fa,[u0.optimism]:Fa,[u0.polygon]:Fa,[u0.sepolia]:Fa,[u0.lineaSepolia]:Fa,[u0.baseSepolia]:{...Fa,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{[u0.mainnet]:At,[u0.polygon]:At,[u0.bsc]:At,[u0.optimism]:At,[u0.arbitrum]:At,[u0.linea]:At,[u0.base]:At,[u0.gnosis]:At,[u0.sepolia]:At,[u0.lineaSepolia]:At,[u0.baseSepolia]:At,[u0.megaEthTestnet]:At,[u0.chiado]:At}};var Hv=Object.defineProperty,N=(t,e)=>{for(var n in e)Hv(t,n,{get:e[n],enumerable:!0})},Gv={};N(Gv,{abi:()=>Vv,bytecode:()=>zv});var Vv=[{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]}],zv="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212204a050c4fa34153d3fae9d282b8c08f593842bb7e1d0caa440348574559167b6a64736f6c63430008170033",Kv={};N(Kv,{abi:()=>Wv,bytecode:()=>jv});var Wv=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedMethods_",type:"bytes4[]",internalType:"bytes4[]"}],stateMutability:"pure"}],jv="0x608060405234801561001057600080fd5b506107fc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610512565b50505050505050505050565b005b610076610086366004610512565b6100b4565b61009e6100993660046105df565b610197565b6040516100ab9190610621565b60405180910390f35b856100c08160006102e5565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101228160006102e5565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b506101898c8c89896102fc565b505050505050505050505050565b60606000826101a7600482610685565b1580156101b357508015155b6102135760405162461bcd60e51b815260206004820152602b60248201527f416c6c6f7765644d6574686f6473456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610108565b61021e6004826106af565b67ffffffffffffffff811115610236576102366106c3565b60405190808252806020026020018201604052801561025f578160200160208202803683370190505b50925060005b818110156102dc5785818661027b8260046106d9565b92610288939291906106ec565b61029191610716565b8484815181106102a3576102a3610746565b6001600160e01b031990921660209283029190910190910152826102c68161075c565b93506102d590506004826106d9565b9050610265565b50505092915050565b6001600160f81b0319828116908216145b92915050565b366000610309848461045c565b90945092505050600481101561037e5760405162461bcd60e51b815260206004820152603460248201527f416c6c6f7765644d6574686f6473456e666f726365723a696e76616c69642d656044820152730f0cac6eae8d2dedc5ac8c2e8c25ad8cadccee8d60631b6064820152608401610108565b600061038d60048284866106ec565b61039691610716565b905060006103a48888610197565b805190915060005b818110156103fb578281815181106103c6576103c6610746565b60200260200101516001600160e01b031916846001600160e01b031916036103f357505050505050610456565b6001016103ac565b5060405162461bcd60e51b815260206004820152602960248201527f416c6c6f7765644d6574686f6473456e666f726365723a6d6574686f642d6e6f6044820152681d0b585b1b1bddd95960ba1b6064820152608401610108565b50505050565b600080368161046e60148287896106ec565b61047791610775565b60601c935061048a6034601487896106ec565b610493916107a8565b92506104a285603481896106ec565b949793965094505050565b60008083601f8401126104bf57600080fd5b50813567ffffffffffffffff8111156104d757600080fd5b6020830191508360208285010111156104ef57600080fd5b9250929050565b80356001600160a01b038116811461050d57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561053157600080fd5b8a3567ffffffffffffffff8082111561054957600080fd5b6105558e838f016104ad565b909c509a5060208d013591508082111561056e57600080fd5b61057a8e838f016104ad565b909a50985060408d0135975060608d013591508082111561059a57600080fd5b506105a78d828e016104ad565b90965094505060808b013592506105c060a08c016104f6565b91506105ce60c08c016104f6565b90509295989b9194979a5092959850565b600080602083850312156105f257600080fd5b823567ffffffffffffffff81111561060957600080fd5b610615858286016104ad565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156106635783516001600160e01b0319168352928401929184019160010161063d565b50909695505050505050565b634e487b7160e01b600052601260045260246000fd5b6000826106945761069461066f565b500690565b634e487b7160e01b600052601160045260246000fd5b6000826106be576106be61066f565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156102f6576102f6610699565b600080858511156106fc57600080fd5b8386111561070957600080fd5b5050820193919092039150565b6001600160e01b0319813581811691600485101561073e5780818660040360031b1b83161692505b505092915050565b634e487b7160e01b600052603260045260246000fd5b60006001820161076e5761076e610699565b5060010190565b6bffffffffffffffffffffffff19813581811691601485101561073e5760149490940360031b84901b1690921692915050565b803560208310156102f657600019602084900360031b1b169291505056fea26469706673582212200b708c0be5e7b588370a3a50ea4c9e1f7cb79f4e1abc8d9c979a4f6d6867e5ae64736f6c63430008170033",$v={};N($v,{abi:()=>Yv,bytecode:()=>Jv});var Yv=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedTargets_",type:"address[]",internalType:"address[]"}],stateMutability:"pure"}],Jv="0x608060405234801561001057600080fd5b50610736806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461047b565b50505050505050505050565b005b61007661008636600461047b565b6100b4565b61009e610099366004610548565b61025e565b6040516100ab919061058a565b60405180910390f35b856100c08160006103ae565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101228160006103ae565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b50600061018988886103c5565b5050509050600061019a8e8e61025e565b805190915060005b818110156101ed578281815181106101bc576101bc6105d7565b60200260200101516001600160a01b0316846001600160a01b0316036101e55750505050610250565b6001016101a2565b5060405162461bcd60e51b815260206004820152603160248201527f416c6c6f77656454617267657473456e666f726365723a7461726765742d6164604482015270191c995cdccb5b9bdd0b585b1b1bddd959607a1b6064820152608401610108565b505050505050505050505050565b606060008261026e601482610603565b15801561027a57508015155b6102da5760405162461bcd60e51b815260206004820152602b60248201527f416c6c6f77656454617267657473456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610108565b6102e560148261062d565b67ffffffffffffffff8111156102fd576102fd610641565b604051908082528060200260200182016040528015610326578160200160208202803683370190505b50925060005b818110156103a557858186610342826014610657565b9261034f9392919061066a565b61035891610694565b60601c84848151811061036d5761036d6105d7565b6001600160a01b03909216602092830291909101909101528261038f816106c9565b935061039e9050601482610657565b905061032c565b50505092915050565b6001600160f81b0319828116908216145b92915050565b60008036816103d7601482878961066a565b6103e091610694565b60601c93506103f360346014878961066a565b6103fc916106e2565b925061040b856034818961066a565b949793965094505050565b60008083601f84011261042857600080fd5b50813567ffffffffffffffff81111561044057600080fd5b60208301915083602082850101111561045857600080fd5b9250929050565b80356001600160a01b038116811461047657600080fd5b919050565b60008060008060008060008060008060e08b8d03121561049a57600080fd5b8a3567ffffffffffffffff808211156104b257600080fd5b6104be8e838f01610416565b909c509a5060208d01359150808211156104d757600080fd5b6104e38e838f01610416565b909a50985060408d0135975060608d013591508082111561050357600080fd5b506105108d828e01610416565b90965094505060808b0135925061052960a08c0161045f565b915061053760c08c0161045f565b90509295989b9194979a5092959850565b6000806020838503121561055b57600080fd5b823567ffffffffffffffff81111561057257600080fd5b61057e85828601610416565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156105cb5783516001600160a01b0316835292840192918401916001016105a6565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b600082610612576106126105ed565b500690565b634e487b7160e01b600052601160045260246000fd5b60008261063c5761063c6105ed565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156103bf576103bf610617565b6000808585111561067a57600080fd5b8386111561068757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106c15780818660140360031b1b83161692505b505092915050565b6000600182016106db576106db610617565b5060010190565b803560208310156103bf57600019602084900360031b1b169291505056fea2646970667358221220192854344f7cbe5e3a46630068ff1c57d1382d110f4c7dae36ce8f18206bd1c864736f6c63430008170033",Qv={};N(Qv,{abi:()=>qv,bytecode:()=>Zv});var qv=[],Zv="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088f05df9a321ebbfd15b9ae491704455fd55c5a0ef490ba4f3111c5cd7aa944764736f6c63430008170033",Xv={};N(Xv,{abi:()=>eC,bytecode:()=>tC});var eC=[],tC="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ba35151db75ea04dd32865d4b2bd18ac453d87dfd60b81ec325260f801c1709564736f6c63430008170033",nC={};N(nC,{abi:()=>aC,bytecode:()=>rC});var aC=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DifferentArgsAndTerms",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"terms",type:"bytes",indexed:!1,internalType:"bytes"},{name:"args",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1}],rC="0x608060405234801561001057600080fd5b506103b7806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063414c3e3314610051578063a145832a1461006d578063d3eddcc514610051578063ed46336714610051575b600080fd5b61006b61005f366004610249565b50505050505050505050565b005b61006b61007b366004610249565b85600881901b6001600160f81b03198116156100ec5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5088886040516100fd929190610316565b60405180910390208b8b604051610115929190610316565b6040518091039020146101d75783826001600160a01b0316336001600160a01b03167f07fc5f2898fc1f1cf9d6012177b7abb8d010b9e64055979af3a5bcd274e2a11a8e8e8e8e60405161016c949392919061034f565b60405180910390a460405162461bcd60e51b815260206004820152603260248201527f41726773457175616c697479436865636b456e666f726365723a646966666572604482015271656e742d617267732d616e642d7465726d7360701b60648201526084016100e3565b5050505050505050505050565b60008083601f8401126101f657600080fd5b50813567ffffffffffffffff81111561020e57600080fd5b60208301915083602082850101111561022657600080fd5b9250929050565b80356001600160a01b038116811461024457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561026857600080fd5b8a3567ffffffffffffffff8082111561028057600080fd5b61028c8e838f016101e4565b909c509a5060208d01359150808211156102a557600080fd5b6102b18e838f016101e4565b909a50985060408d0135975060608d01359150808211156102d157600080fd5b506102de8d828e016101e4565b90965094505060808b013592506102f760a08c0161022d565b915061030560c08c0161022d565b90509295989b9194979a5092959850565b8183823760009101908152919050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b604081526000610363604083018688610326565b8281036020840152610376818587610326565b97965050505050505056fea264697066735822122078e67ed2011e86335117ad2962f5a7ffbe2179a19bda7b4e0f3c3beff2ca893c64736f6c63430008170033",sC={};N(sC,{abi:()=>iC,bytecode:()=>oC});var iC=[],oC="0x",cC={};N(cC,{abi:()=>dC,bytecode:()=>fC});var dC=[{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]}],fC="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122010c6b66ba2fc3a92f070bf47f6d02e68772a73d44eed07c73bca1c9f7fab44e964736f6c63430008170033",pC={};N(pC,{abi:()=>uC,bytecode:()=>bC});var uC=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"}],bC="0x",v0={};N(v0,{abi:()=>lC,bytecode:()=>yC});var lC=[{type:"receive",stateMutability:"payable"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],yC="0x",mC={};N(mC,{abi:()=>hC,bytecode:()=>gC});var hC=[{type:"constructor",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_swapApiSigner",type:"address",internalType:"address"},{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_metaSwap",type:"address",internalType:"contract IMetaSwap"},{name:"_argsEqualityCheckEnforcer",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"WHITELIST_ENFORCED",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"WHITELIST_NOT_ENFORCED",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"argsEqualityCheckEnforcer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"isAggregatorAllowed",inputs:[{name:"aggregatorIdHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"allowed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isTokenAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}],outputs:[{name:"allowed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"metaSwap",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IMetaSwap"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setSwapApiSigner",inputs:[{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swapApiSigner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"swapByDelegation",inputs:[{name:"_signatureData",type:"tuple",internalType:"struct DelegationMetaSwapAdapter.SignatureData",components:[{name:"apiData",type:"bytes",internalType:"bytes"},{name:"expiration",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"_delegations",type:"tuple[]",internalType:"struct Delegation[]",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"_useTokenWhitelist",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swapTokens",inputs:[{name:"_aggregatorId",type:"string",internalType:"string"},{name:"_tokenFrom",type:"address",internalType:"contract IERC20"},{name:"_tokenTo",type:"address",internalType:"contract IERC20"},{name:"_recipient",type:"address",internalType:"address"},{name:"_amountFrom",type:"uint256",internalType:"uint256"},{name:"_balanceFromBefore",type:"uint256",internalType:"uint256"},{name:"_swapData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateAllowedAggregatorIds",inputs:[{name:"_aggregatorIds",type:"string[]",internalType:"string[]"},{name:"_statuses",type:"bool[]",internalType:"bool[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateAllowedTokens",inputs:[{name:"_tokens",type:"address[]",internalType:"contract IERC20[]"},{name:"_statuses",type:"bool[]",internalType:"bool[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"_token",type:"address",internalType:"contract IERC20"},{name:"_amount",type:"uint256",internalType:"uint256"},{name:"_recipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ChangedAggregatorIdStatus",inputs:[{name:"aggregatorIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"aggregatorId",type:"string",indexed:!1,internalType:"string"},{name:"status",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ChangedTokenStatus",inputs:[{name:"token",type:"address",indexed:!1,internalType:"contract IERC20"},{name:"status",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SentTokens",inputs:[{name:"token",type:"address",indexed:!0,internalType:"contract IERC20"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SetArgsEqualityCheckEnforcer",inputs:[{name:"newArgsEqualityCheckEnforcer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetMetaSwap",inputs:[{name:"newMetaSwap",type:"address",indexed:!0,internalType:"contract IMetaSwap"}],anonymous:!1},{type:"event",name:"SwapApiSignerUpdated",inputs:[{name:"newSigner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"AggregatorIdIsNotAllowed",inputs:[{name:"aggregatorId",type:"string",internalType:"string"}]},{type:"error",name:"AmountFromMismatch",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"FailedNativeTokenTransfer",inputs:[{name:"recipient",type:"address",internalType:"address"}]},{type:"error",name:"InputLengthsMismatch",inputs:[]},{type:"error",name:"InsufficientTokens",inputs:[]},{type:"error",name:"InvalidApiSignature",inputs:[]},{type:"error",name:"InvalidEmptyDelegations",inputs:[]},{type:"error",name:"InvalidIdenticalTokens",inputs:[]},{type:"error",name:"InvalidSwapFunctionSelector",inputs:[]},{type:"error",name:"InvalidZeroAddress",inputs:[]},{type:"error",name:"MissingArgsEqualityCheckEnforcer",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotLeafDelegator",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]},{type:"error",name:"SignatureExpired",inputs:[]},{type:"error",name:"TokenFromIsNotAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}]},{type:"error",name:"TokenFromMismatch",inputs:[]},{type:"error",name:"TokenToIsNotAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],gC="0x60e06040523480156200001157600080fd5b506040516200306738038062003067833981016040819052620000349162000258565b846001600160a01b0381166200006457604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6200006f81620001d4565b506001600160a01b03841615806200008e57506001600160a01b038316155b80620000a157506001600160a01b038216155b80620000b457506001600160a01b038116155b15620000d35760405163f6b2911f60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0386811691821790925584821660805283821660a05290821660c0526040517fdeeca532e75e413fdd750935f0d28d3686b7e2074831c42f70db2ca0dc7b32d090600090a26040516001600160a01b038416907fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038316907f5a3c783d657606d324917524307587fd272edc5e8b257da020bb6072226b6b2c90600090a26040516001600160a01b038216907fb21681281e4a8a2f3a982e391c6e8b4638d9ccd60e9fa9715dc26c7e3cd15bbe90600090a25050505050620002d8565b600180546001600160a01b0319169055620001ef81620001f2565b50565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0381168114620001ef57600080fd5b600080600080600060a086880312156200027157600080fd5b85516200027e8162000242565b6020870151909550620002918162000242565b6040870151909450620002a48162000242565b6060870151909350620002b78162000242565b6080870151909250620002ca8162000242565b809150509295509295909350565b60805160a05160c051612d356200033260003960008181610288015261136801526000818161033201528181610f4601528181610fd601526110010152600081816103a4015281816109120152610cf30152612d356000f3fe6080604052600436106101235760003560e01c8063ab7180f7116100a0578063ea4d3c9b11610064578063ea4d3c9b14610392578063ea9c6555146103c6578063f2fde38b1461040a578063f9eaee0d1461042a578063fcdea7a91461045a57600080fd5b8063ab7180f7146102aa578063b555ddad14610300578063cb2ef5fe14610320578063d691c96414610354578063e30c39781461037457600080fd5b8063715018a6116100e7578063715018a61461020e57806379ba5097146102235780638da5cb5b1461023857806390ef4d1b14610256578063a42ff9311461027657600080fd5b8063059ba4ee1461012f578063178984911461016c5780636451b418146101ac57806367ebd8a2146101ce57806369328dec146101ee57600080fd5b3661012a57005b600080fd5b34801561013b57600080fd5b5060025461014f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561017857600080fd5b5061019c610187366004611e85565b60046020526000908152604090205460ff1681565b6040519015158152602001610163565b3480156101b857600080fd5b506101cc6101c7366004612108565b61047a565b005b3480156101da57600080fd5b506101cc6101e9366004612281565b61098c565b3480156101fa57600080fd5b506101cc61020936600461229e565b610a05565b34801561021a57600080fd5b506101cc610a1d565b34801561022f57600080fd5b506101cc610a31565b34801561024457600080fd5b506000546001600160a01b031661014f565b34801561026257600080fd5b506101cc61027136600461232b565b610a75565b34801561028257600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b3480156102b657600080fd5b506102f36040518060400160405280601c81526020017f546f6b656e2d57686974656c6973742d4e6f742d456e666f726365640000000081525081565b60405161016391906123e6565b34801561030c57600080fd5b506101cc61031b36600461232b565b610bcb565b34801561032c57600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b61036761036236600461243a565b610ce6565b60405161016391906124df565b34801561038057600080fd5b506001546001600160a01b031661014f565b34801561039e57600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b3480156103d257600080fd5b506102f360405180604001604052806018815260200177151bdad95b8b55da1a5d195b1a5cdd0b515b999bdc98d95960421b81525081565b34801561041657600080fd5b506101cc610425366004612281565b610e1f565b34801561043657600080fd5b5061019c610445366004612281565b60036020526000908152604090205460ff1681565b34801561046657600080fd5b506101cc6104753660046124f2565b610e90565b61048b610486846125b4565b6110ba565b6000808080806104a361049e898061262a565b611194565b94509450945094509450600087519050806000036104d45760405163478bfa6560e01b815260040160405180910390fd5b836001600160a01b0316856001600160a01b03160361050657604051634e570e4560e01b815260040160405180910390fd5b61051285858a8a61132c565b600460008760405160200161052791906123e6565b60408051601f198184030181529181528151602092830120835290820192909252016000205460ff16610578578560405163b55e93d160e01b815260040161056f91906123e6565b60405180910390fd5b336001600160a01b03168860008151811061059557610595612670565b6020026020010151602001516001600160a01b0316146105c85760405163a711bbaf60e01b815260040160405180910390fd5b60003063fcdea7a98888888d6105df60018961269c565b815181106105ef576105ef612670565b602002602001015160200151896106058d6115b4565b8a60405160240161061c97969594939291906126af565b60408051601f19818403018152918152602080830180516001600160e01b031660e09590951b94909417909352805160028082526060820190925291945060009350909182015b60608152602001906001900390816106635790505090508960405160200161068b919061270f565b604051602081830303815290604052816000815181106106ad576106ad612670565b6020908102919091010152600060405190808252806020026020018201604052801561073957816020015b6107266040518060c0016040528060006001600160a01b0316815260200160006001600160a01b03168152602001600080191681526020016060815260200160008152602001606081525090565b8152602001906001900390816106d85790505b5060405160200161074a919061270f565b6040516020818303038152906040528160018151811061076c5761076c612670565b6020908102919091010152604080516002808252606082019092526000918160200160208202803683370190505090506107a4611639565b816000815181106107b7576107b7612670565b6020026020010181815250506107cb611639565b816001815181106107de576107de612670565b602090810291909101015260408051600280825260608201909252600091816020015b60608152602001906001900390816108015790505090506001600160a01b0389166108635761084030886040518060200160405280600081525061164c565b8160008151811061085357610853612670565b60200260200101819052506108d1565b6040513060248201526044810188905260009060640160408051601f198184030181529190526020810180516001600160e01b031663a9059cbb60e01b17905290506108b18a60008361164c565b826000815181106108c4576108c4612670565b6020026020010181905250505b6108dd3060008661164c565b816001815181106108f0576108f0612670565b602090810291909101015260405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061094b90869086908690600401612841565b600060405180830381600087803b15801561096557600080fd5b505af1158015610979573d6000803e3d6000fd5b5050505050505050505050505050505050565b61099461167b565b6001600160a01b0381166109bb5760405163f6b2911f60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0383169081179091556040517fdeeca532e75e413fdd750935f0d28d3686b7e2074831c42f70db2ca0dc7b32d090600090a250565b610a0d61167b565b610a188383836116a8565b505050565b610a2561167b565b610a2f60006117a1565b565b60015433906001600160a01b03168114610a695760405163118cdaa760e01b81526001600160a01b038216600482015260240161056f565b610a72816117a1565b50565b610a7d61167b565b82818114610a9e57604051637e26301b60e11b815260040160405180910390fd5b60005b81811015610bc3576000868683818110610abd57610abd612670565b9050602002810190610acf919061262a565b604051602001610ae09291906128d4565b6040516020818303038152906040528051906020012090506000858584818110610b0c57610b0c612670565b9050602002016020810190610b2191906128f0565b60008381526004602052604090205490915060ff16151581151514610bb9576000828152600460205260409020805460ff1916821515179055817ffe89a7e0da76ce9087f67dbe71c999de74699125edabbdd3ef09b42dafdf9e55898986818110610b8e57610b8e612670565b9050602002810190610ba0919061262a565b84604051610bb09392919061290d565b60405180910390a25b5050600101610aa1565b505050505050565b610bd361167b565b82818114610bf457604051637e26301b60e11b815260040160405180910390fd5b60005b81811015610bc3576000868683818110610c1357610c13612670565b9050602002016020810190610c289190612281565b90506000858584818110610c3e57610c3e612670565b9050602002016020810190610c5391906128f0565b6001600160a01b03831660009081526003602052604090205490915060ff16151581151514610cdc576001600160a01b038216600081815260036020908152604091829020805460ff19168515159081179091558251938452908301527fd0847c60d8132f1d2a3af347506243fa046f163a2c9c6698c43b31e1d7d95bc4910160405180910390a15b5050600101610bf7565b6060336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610d3157604051630692ce8160e21b815260040160405180910390fd5b83600881901b6001600160f81b0319821615610d6c57604051632e5bf3f960e21b81526001600160f81b03198316600482015260240161056f565b6001600160f81b0319811615610da1576040516308c3ee0360e11b81526001600160f81b03198216600482015260240161056f565b600080366000610db189896117ba565b6040805160018082528183019092529498509296509094509250816020015b6060815260200190600190039081610dd0579050509650610df38484848461180b565b87600081518110610e0657610e06612670565b60200260200101819052505050505050505b9392505050565b610e2761167b565b600180546001600160a01b0383166001600160a01b03199091168117909155610e586000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b333014610eb0576040516314e1dbf760e11b815260040160405180910390fd5b600083610ebc896115b4565b610ec6919061269c565b905084811015610ee9576040516378dbf0af60e11b815260040160405180910390fd5b84811115610f0557610f0588610eff878461269c565b886116a8565b6000610f10886115b4565b905060006001600160a01b038a16610f29575085610fff565b604051636eb1769f60e11b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166024830152600091908c169063dd62ed3e90604401602060405180830381865afa158015610f99573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fbd9190612933565b905087811015610ffd57610ffd6001600160a01b038c167f0000000000000000000000000000000000000000000000000000000000000000600019611841565b505b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316635f575529828e8e8e8c8b8b6040518863ffffffff1660e01b81526004016110569695949392919061294c565b6000604051808303818588803b15801561106f57600080fd5b505af1158015611083573d6000803e3d6000fd5b50505050506000826110948b6115b4565b61109e919061269c565b90506110ab8a828b6116a8565b50505050505050505050505050565b806020015142106110de57604051630819bdcd60e01b815260040160405180910390fd5b6000816000015182602001516040516020016110fb929190612996565b604051602081830303815290604052805190602001209050600061114c827f19457468657265756d205369676e6564204d6573736167653a0a3332000000006000908152601c91909152603c902090565b9050600061115e8285604001516118cb565b6002549091506001600160a01b0380831691161461118e57604051626d46e960e31b815260040160405180910390fd5b50505050565b60606000808083816111a9600482898b6129b8565b6111b2916129e2565b90506001600160e01b03198116635f57552960e01b146111e557604051632033702760e11b815260040160405180910390fd5b60006111f4886004818c6129b8565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505082519293506112419284016020908101925084019050612a62565b60408051600060208201819052959c50939a50919750955082918291829182910160408051601f1981840301815290829052611281918a90602001612af9565b6040516020818303038152906040528060200190518101906112a39190612b28565b98505097505050955095509550508a6001600160a01b0316856001600160a01b0316146112e3576040516356cf902d60e01b815260040160405180910390fd5b801580156112fa5750886112f78484612be6565b14155b1561131857604051632f0e599760e11b815260040160405180910390fd5b839950505050505050509295509295909350565b60006001835161133c919061269c565b905082818151811061135057611350612670565b60200260200101516060015151600014806113d857507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168382815181106113a2576113a2612670565b6020026020010151606001516000815181106113c0576113c0612670565b6020026020010151600001516001600160a01b031614155b156113f65760405163113f78d160e31b815260040160405180910390fd5b8115611518576001600160a01b03851660009081526003602052604090205460ff166114405760405163550a4b9360e01b81526001600160a01b038616600482015260240161056f565b6001600160a01b03841660009081526003602052604090205460ff166114845760405163022330e760e61b81526001600160a01b038516600482015260240161056f565b60405180604001604052806018815260200177151bdad95b8b55da1a5d195b1a5cdd0b515b999bdc98d95960421b8152506040516020016114c591906123e6565b6040516020818303038152906040528382815181106114e6576114e6612670565b60200260200101516060015160008151811061150457611504612670565b6020026020010151604001819052506115ad565b6040518060400160405280601c81526020017f546f6b656e2d57686974656c6973742d4e6f742d456e666f726365640000000081525060405160200161155e91906123e6565b60405160208183030381529060405283828151811061157f5761157f612670565b60200260200101516060015160008151811061159d5761159d612670565b6020026020010151604001819052505b5050505050565b60006001600160a01b0382166115cb575047919050565b6040516370a0823160e01b81523060048201526001600160a01b038316906370a0823190602401602060405180830381865afa15801561160f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116339190612933565b92915050565b6000611647818080806118f5565b905090565b606083838360405160200161166393929190612bf9565b60405160208183030381529060405290509392505050565b6000546001600160a01b03163314610a2f5760405163118cdaa760e01b815233600482015260240161056f565b6001600160a01b03831661173b576000816001600160a01b03168360405160006040518083038185875af1925050503d8060008114611703576040519150601f19603f3d011682016040523d82523d6000602084013e611708565b606091505b5050905080611735576040516312988bef60e21b81526001600160a01b038316600482015260240161056f565b5061174f565b61174f6001600160a01b0384168284611960565b806001600160a01b0316836001600160a01b03167f2c42af0ac449800f98313b961b8c9e7d69c3065be5b86449ed4c358e01d3a7808460405161179491815260200190565b60405180910390a3505050565b600180546001600160a01b0319169055610a72816119bf565b60008036816117cc60148287896129b8565b6117d591612c38565b60601c93506117e86034601487896129b8565b6117f191612c6b565b925061180085603481896129b8565b949793965094505050565b60405181838237600038838387895af1611828573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b604051636eb1769f60e11b81523060048201526001600160a01b0383811660248301526000919085169063dd62ed3e90604401602060405180830381865afa158015611891573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118b59190612933565b905061118e84846118c68585612be6565b611a0f565b6000806000806118db8686611a9f565b9250925092506118eb8282611aec565b5090949350505050565b604080516001600160f81b03198087166020830152851660218201526000602282018190526001600160e01b03198516602683015269ffffffffffffffffffff198416602a830152910160405160208183030381529060405261195790612c89565b95945050505050565b6040516001600160a01b03838116602483015260448201839052610a1891859182169063a9059cbb906064015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050611ba9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663095ea7b360e01b179052611a608482611c0c565b61118e576040516001600160a01b03848116602483015260006044830152611a9591869182169063095ea7b39060640161198d565b61118e8482611ba9565b60008060008351604103611ad95760208401516040850151606086015160001a611acb88828585611caf565b955095509550505050611ae5565b50508151600091506002905b9250925092565b6000826003811115611b0057611b00612cb0565b03611b09575050565b6001826003811115611b1d57611b1d612cb0565b03611b3b5760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611b4f57611b4f612cb0565b03611b705760405163fce698f760e01b81526004810182905260240161056f565b6003826003811115611b8457611b84612cb0565b03611ba5576040516335e2f38360e21b81526004810182905260240161056f565b5050565b6000611bbe6001600160a01b03841683611d7e565b90508051600014158015611be3575080806020019051810190611be19190612cc6565b155b15610a1857604051635274afe760e01b81526001600160a01b038416600482015260240161056f565b6000806000846001600160a01b031684604051611c299190612ce3565b6000604051808303816000865af19150503d8060008114611c66576040519150601f19603f3d011682016040523d82523d6000602084013e611c6b565b606091505b5091509150818015611c95575080511580611c95575080806020019051810190611c959190612cc6565b80156119575750505050506001600160a01b03163b151590565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115611cea5750600091506003905082611d74565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa158015611d3e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116611d6a57506000925060019150829050611d74565b9250600091508190505b9450945094915050565b6060610e188383600084600080856001600160a01b03168486604051611da49190612ce3565b60006040518083038185875af1925050503d8060008114611de1576040519150601f19603f3d011682016040523d82523d6000602084013e611de6565b606091505b5091509150611df6868383611e00565b9695505050505050565b606082611e1557611e1082611e5c565b610e18565b8151158015611e2c57506001600160a01b0384163b155b15611e5557604051639996b31560e01b81526001600160a01b038516600482015260240161056f565b5080610e18565b805115611e6c5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b600060208284031215611e9757600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b0381118282101715611ed657611ed6611e9e565b60405290565b60405160c081016001600160401b0381118282101715611ed657611ed6611e9e565b604051601f8201601f191681016001600160401b0381118282101715611f2657611f26611e9e565b604052919050565b60006001600160401b03821115611f4757611f47611e9e565b5060051b60200190565b6001600160a01b0381168114610a7257600080fd5b8035611f7181611f51565b919050565b60006001600160401b03821115611f8f57611f8f611e9e565b50601f01601f191660200190565b600082601f830112611fae57600080fd5b8135611fc1611fbc82611f76565b611efe565b818152846020838601011115611fd657600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f83011261200457600080fd5b81356020612014611fbc83611f2e565b82815260059290921b8401810191818101908684111561203357600080fd5b8286015b848110156120e45780356001600160401b03808211156120575760008081fd5b908801906060828b03601f19018113156120715760008081fd5b612079611eb4565b8784013561208681611f51565b81526040848101358481111561209c5760008081fd5b6120aa8e8b83890101611f9d565b838b0152509184013591838311156120c25760008081fd5b6120d08d8a85880101611f9d565b908201528652505050918301918301612037565b509695505050505050565b8015158114610a7257600080fd5b8035611f71816120ef565b60008060006060848603121561211d57600080fd5b83356001600160401b038082111561213457600080fd5b908501906060828803121561214857600080fd5b909350602090858201358181111561215f57600080fd5b8601601f8101881361217057600080fd5b803561217e611fbc82611f2e565b81815260059190911b8201840190848101908a83111561219d57600080fd5b8584015b83811015612262578035868111156121b857600080fd5b850160c0818e03601f190112156121ce57600080fd5b6121d6611edc565b6121e1898301611f66565b81526121ef60408301611f66565b898201526060820135604082015260808201358881111561220f57600080fd5b61221d8f8b83860101611ff3565b60608301525060a0820135608082015260c0820135888111156122405760008081fd5b61224e8f8b83860101611f9d565b60a0830152508452509186019186016121a1565b50809750505050505050612278604085016120fd565b90509250925092565b60006020828403121561229357600080fd5b8135610e1881611f51565b6000806000606084860312156122b357600080fd5b83356122be81611f51565b92506020840135915060408401356122d581611f51565b809150509250925092565b60008083601f8401126122f257600080fd5b5081356001600160401b0381111561230957600080fd5b6020830191508360208260051b850101111561232457600080fd5b9250929050565b6000806000806040858703121561234157600080fd5b84356001600160401b038082111561235857600080fd5b612364888389016122e0565b9096509450602087013591508082111561237d57600080fd5b5061238a878288016122e0565b95989497509550505050565b60005b838110156123b1578181015183820152602001612399565b50506000910152565b600081518084526123d2816020860160208601612396565b601f01601f19169290920160200192915050565b602081526000610e1860208301846123ba565b60008083601f84011261240b57600080fd5b5081356001600160401b0381111561242257600080fd5b60208301915083602082850101111561232457600080fd5b60008060006040848603121561244f57600080fd5b8335925060208401356001600160401b0381111561246c57600080fd5b612478868287016123f9565b9497909650939450505050565b60008282518085526020808601955060208260051b8401016020860160005b848110156124d257601f198684030189526124c08383516123ba565b988401989250908301906001016124a4565b5090979650505050505050565b602081526000610e186020830184612485565b600080600080600080600080600060e08a8c03121561251057600080fd5b89356001600160401b038082111561252757600080fd5b6125338d838e016123f9565b909b50995060208c0135915061254882611f51565b90975060408b01359061255a82611f51565b90965060608b01359061256c82611f51565b90955060808b0135945060a08b0135935060c08b0135908082111561259057600080fd5b5061259d8c828d016123f9565b915080935050809150509295985092959850929598565b6000606082360312156125c657600080fd5b6125ce611eb4565b82356001600160401b03808211156125e557600080fd5b6125f136838701611f9d565b835260208501356020840152604085013591508082111561261157600080fd5b5061261e36828601611f9d565b60408301525092915050565b6000808335601e1984360301811261264157600080fd5b8301803591506001600160401b0382111561265b57600080fd5b60200191503681900382131561232457600080fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561163357611633612686565b60e0815260006126c260e083018a6123ba565b6001600160a01b0389811660208501528881166040850152871660608401526080830186905260a0830185905282810360c084015261270181856123ba565b9a9950505050505050505050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b8281101561283457603f19888603018452815160c0860160018060a01b038083511688528089840151168989015260408301516040890152606083015160c060608a015282815180855260e08b01915060e08160051b8c010194508b8301925060005b818110156127f85760df198c870301835283518581511687528d81015160608f8901526127c960608901826123ba565b90506040820151915087810360408901526127e481836123ba565b97505050928c0192918c0191600101612799565b50505050506080820151608088015260a0820151915086810360a088015261282081836123ba565b965050509285019290850190600101612736565b5092979650505050505050565b6060815260006128546060830186612485565b82810360208481019190915285518083528682019282019060005b8181101561288b5784518352938301939183019160010161286f565b5050848103604086015261289f8187612485565b98975050505050505050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6020815260006128e86020830184866128ab565b949350505050565b60006020828403121561290257600080fd5b8135610e18816120ef565b6040815260006129216040830185876128ab565b90508215156020830152949350505050565b60006020828403121561294557600080fd5b5051919050565b60808152600061296060808301888a6128ab565b6001600160a01b03871660208401526040830186905282810360608401526129898185876128ab565b9998505050505050505050565b6040815260006129a960408301856123ba565b90508260208301529392505050565b600080858511156129c857600080fd5b838611156129d557600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015612a0a5780818660040360031b1b83161692505b505092915050565b6000612a20611fbc84611f76565b9050828152838383011115612a3457600080fd5b610e18836020830184612396565b600082601f830112612a5357600080fd5b610e1883835160208501612a12565b60008060008060808587031215612a7857600080fd5b84516001600160401b0380821115612a8f57600080fd5b818701915087601f830112612aa357600080fd5b612ab288835160208501612a12565b955060208701519150612ac482611f51565b60408701516060880151929550935080821115612ae057600080fd5b50612aed87828801612a42565b91505092959194509250565b60008351612b0b818460208801612396565b835190830190612b1f818360208801612396565b01949350505050565b60008060008060008060008060006101208a8c031215612b4757600080fd5b8951612b5281611f51565b60208b0151909950612b6381611f51565b60408b0151909850612b7481611f51565b8097505060608a0151955060808a0151945060a08a01516001600160401b03811115612b9f57600080fd5b612bab8c828d01612a42565b94505060c08a0151925060e08a0151612bc381611f51565b6101008b0151909250612bd5816120ef565b809150509295985092959850929598565b8082018082111561163357611633612686565b6bffffffffffffffffffffffff198460601b16815282601482015260008251612c29816034850160208701612396565b91909101603401949350505050565b6bffffffffffffffffffffffff198135818116916014851015612a0a5760149490940360031b84901b1690921692915050565b8035602083101561163357600019602084900360031b1b1692915050565b80516020808301519190811015612caa576000198160200360031b1b821691505b50919050565b634e487b7160e01b600052602160045260246000fd5b600060208284031215612cd857600080fd5b8151610e18816120ef565b60008251612cf5818460208701612396565b919091019291505056fea2646970667358221220e6349ea62bd7b0c0d8eed7da3947908c16ca3383370cc10da3a8b2b40c83b05264736f6c63430008170033",TC={};N(TC,{abi:()=>xC,bytecode:()=>wC});var xC=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"blockAfterThreshold_",type:"uint128",internalType:"uint128"},{name:"blockBeforeThreshold_",type:"uint128",internalType:"uint128"}],stateMutability:"pure"}],wC="0x608060405234801561001057600080fd5b506104ed806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610345565b50505050505050505050565b005b610076610086366004610345565b6100c2565b61009e610099366004610412565b61023e565b604080516001600160801b0393841681529290911660208301520160405180910390f35b85600881901b6001600160f81b03198116156101335760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806101418d8d61023e565b90925090506001600160801b038216156101b957816001600160801b031643116101b95760405162461bcd60e51b8152602060048201526024808201527f426c6f636b4e756d626572456e666f726365723a6561726c792d64656c6567616044820152633a34b7b760e11b606482015260840161012a565b6001600160801b0381161561022f57806001600160801b0316431061022f5760405162461bcd60e51b815260206004820152602660248201527f426c6f636b4e756d626572456e666f726365723a657870697265642d64656c6560448201526533b0ba34b7b760d11b606482015260840161012a565b50505050505050505050505050565b600080602083146102a25760405162461bcd60e51b815260206004820152602860248201527f426c6f636b4e756d626572456e666f726365723a696e76616c69642d7465726d6044820152670e65ad8cadccee8d60c31b606482015260840161012a565b6102b0601060008587610454565b6102b99161047e565b60801c91506102cb8360108187610454565b6102d49161047e565b60801c90509250929050565b60008083601f8401126102f257600080fd5b50813567ffffffffffffffff81111561030a57600080fd5b60208301915083602082850101111561032257600080fd5b9250929050565b80356001600160a01b038116811461034057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561036457600080fd5b8a3567ffffffffffffffff8082111561037c57600080fd5b6103888e838f016102e0565b909c509a5060208d01359150808211156103a157600080fd5b6103ad8e838f016102e0565b909a50985060408d0135975060608d01359150808211156103cd57600080fd5b506103da8d828e016102e0565b90965094505060808b013592506103f360a08c01610329565b915061040160c08c01610329565b90509295989b9194979a5092959850565b6000806020838503121561042557600080fd5b823567ffffffffffffffff81111561043c57600080fd5b610448858286016102e0565b90969095509350505050565b6000808585111561046457600080fd5b8386111561047157600080fd5b5050820193919092039150565b6fffffffffffffffffffffffffffffffff1981358181169160108510156104af5780818660100360031b1b83161692505b50509291505056fea2646970667358221220e786ddc75b5e54c089f23ff0a2c6c7b67417725b5021ebc3aa3b2726c852e6cb64736f6c63430008170033",EC={};N(EC,{abi:()=>AC,bytecode:()=>vC});var AC=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"computeAddress",inputs:[{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"expectedAddress_",type:"address",internalType:"address"},{name:"salt_",type:"bytes32",internalType:"bytes32"},{name:"bytecode_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"event",name:"DeployedContract",inputs:[{name:"contractAddress",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"SkippedDeployment",inputs:[{name:"contractAddress",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"DeployedEmptyContract",inputs:[{name:"contractAddress",type:"address",internalType:"address"}]}],vC="0x608060405234801561001057600080fd5b50610748806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063481286e614610083578063a145832a146100b3578063b99deb0e146100c6578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046104fe565b50505050505050505050565b005b6100966100913660046105cb565b6100e8565b6040516001600160a01b0390911681526020015b60405180910390f35b6100816100c13660046104fe565b6100fd565b6100d96100d43660046105ed565b61026d565b6040516100aa9392919061062f565b60006100f48284610353565b90505b92915050565b85600881901b6001600160f81b031981161561016e5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b50600080600061017e8e8e61026d565b919450925090506001600160a01b0383163b156101d9576040516001600160a01b03841681527f641dafeb23238fae3ef71c64fced975da90c34dede63890507f3dda6b1e0dfef9060200160405180910390a1505050610260565b60006101e58284610360565b9050836001600160a01b0316816001600160a01b03161461025b5760405162461bcd60e51b815260206004820152602a60248201527f4465706c6f796564456e666f726365723a6465706c6f7965642d6164647265736044820152690e65adad2e6dac2e8c6d60b31b6064820152608401610165565b505050505b5050505050505050505050565b6000806060603484116102d05760405162461bcd60e51b815260206004820152602560248201527f4465706c6f796564456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b6064820152608401610165565b6102de601460008688610695565b6102e7916106bf565b60601c92506102fa603460148688610695565b610303916106f4565b91506103128460348188610695565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509598949750919550929350505050565b60006100f48383306103e8565b600061036e60008385610412565b9050806001600160a01b03163b6000036103a6576040516352c7cd4960e11b81526001600160a01b0382166004820152602401610165565b6040516001600160a01b03821681527faf3c4b03f515b5a38f3c238fdc24abf10854a2f27f2a85743a71de17e9bc7e7f9060200160405180910390a192915050565b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b60008347101561043e5760405163392efb2b60e21b815247600482015260248101859052604401610165565b815160000361046057604051631328927760e21b815260040160405180910390fd5b8282516020840186f590506001600160a01b03811661049257604051633a0ba96160e11b815260040160405180910390fd5b9392505050565b60008083601f8401126104ab57600080fd5b50813567ffffffffffffffff8111156104c357600080fd5b6020830191508360208285010111156104db57600080fd5b9250929050565b80356001600160a01b03811681146104f957600080fd5b919050565b60008060008060008060008060008060e08b8d03121561051d57600080fd5b8a3567ffffffffffffffff8082111561053557600080fd5b6105418e838f01610499565b909c509a5060208d013591508082111561055a57600080fd5b6105668e838f01610499565b909a50985060408d0135975060608d013591508082111561058657600080fd5b506105938d828e01610499565b90965094505060808b013592506105ac60a08c016104e2565b91506105ba60c08c016104e2565b90509295989b9194979a5092959850565b600080604083850312156105de57600080fd5b50508035926020909101359150565b6000806020838503121561060057600080fd5b823567ffffffffffffffff81111561061757600080fd5b61062385828601610499565b90969095509350505050565b60018060a01b03841681526000602084602084015260606040840152835180606085015260005b8181101561067257858101830151858201608001528201610656565b506000608082860101526080601f19601f83011685010192505050949350505050565b600080858511156106a557600080fd5b838611156106b257600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106ec5780818660140360031b1b83161692505b505092915050565b803560208310156100f757600019602084900360031b1b169291505056fea264697066735822122012632a27b82f8f9b4b083a1f26c705dcd1ceb840e52519ff7902232eb956870464736f6c63430008170033",CC={};N(CC,{abi:()=>IC,bytecode:()=>PC});var IC=[],PC="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212201124664c489cae3f1f240552ace1b72f497b65d8c9bdbce66e0c2b36268dcd2c64736f6c63430008170033",_C={};N(_C,{abi:()=>SC,bytecode:()=>NC});var SC=[{type:"receive",stateMutability:"payable"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"InvalidEIP712NameLength",inputs:[]},{type:"error",name:"InvalidEIP712VersionLength",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UnauthorizedCallContext",inputs:[]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],NC="0x",DC={};N(DC,{abi:()=>MC,bytecode:()=>OC});var MC=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_recipient",type:"address",internalType:"address"},{name:"_tokenId",type:"uint256",internalType:"uint256"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"tokenId_",type:"uint256",internalType:"uint256"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],OC="0x608060405234801561001057600080fd5b506109cb806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b99deb0e1161005b578063b99deb0e14610122578063d0a3529f1461016b578063d3eddcc51461017e578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c5578063a145832a146100e1578063b5e54492146100f4575b600080fd5b6100b061009b3660046106cb565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610749565b50505050505050505050565b005b6100df6100ef366004610749565b610191565b6101146101023660046106cb565b60006020819052908152604090205481565b6040519081526020016100bc565b610135610130366004610816565b610350565b6040805195151586526001600160a01b03948516602087015292909316918401919091526060830152608082015260a0016100bc565b610114610179366004610858565b61045d565b6100df61018c366004610749565b610476565b85600881901b6101a2816000610661565b6102015760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060008060006102118e8e610350565b50935093509350506000610228338585858c610678565b60008181526001602052604090205490915060ff16156102a25760405162461bcd60e51b815260206004820152602f60248201527f4552433131353542616c616e63654368616e6765456e666f726365723a656e6660448201526e1bdc98d95c8b5a5ccb5b1bd8dad959608a1b60648201526084016101f8565b6000818152600160208190526040808320805460ff191690921790915551627eeac760e11b81526001600160a01b0385811660048301526024820185905286169062fdd58e90604401602060405180830381865afa158015610308573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061032c91906108ad565b60009283526020839052604090922091909155505050505050505050505050505050565b600080808080606986146103c05760405162461bcd60e51b815260206004820152603160248201527f4552433131353542616c616e63654368616e6765456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101f8565b868660008181106103d3576103d36108c6565b909101356001600160f81b031916151595506103f5905060156001888a6108dc565b6103fe91610906565b60601c935061041160296015888a6108dc565b61041a91610906565b60601c925061042d60496029888a6108dc565b6104369161093b565b9150610445866049818a6108dc565b61044e9161093b565b60001c90509295509295909350565b600061046c8686868686610678565b9695505050505050565b60008060008060006104888f8f610350565b9450945094509450945060006104a1338686868d610678565b600081815260016020526040808220805460ff1916905551627eeac760e11b81526001600160a01b03878116600483015260248201879052929350909187169062fdd58e90604401602060405180830381865afa158015610506573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061052a91906108ad565b905086156105bf5760008281526020819052604090205461054c90849061096f565b8110156105ba5760405162461bcd60e51b815260206004820152603660248201527f4552433131353542616c616e63654368616e6765456e666f726365723a65786360448201527565656465642d62616c616e63652d646563726561736560501b60648201526084016101f8565b61064e565b6000828152602081905260409020546105d9908490610982565b81101561064e5760405162461bcd60e51b815260206004820152603a60248201527f4552433131353542616c616e63654368616e6765456e666f726365723a696e7360448201527f756666696369656e742d62616c616e63652d696e63726561736500000000000060648201526084016101f8565b5050505050505050505050505050505050565b6001600160f81b0319828116908216145b92915050565b604080516001600160a01b0396871660208083019190915295871681830152939095166060840152608083019190915260a0808301919091528351808303909101815260c0909101909252815191012090565b6000602082840312156106dd57600080fd5b5035919050565b60008083601f8401126106f657600080fd5b50813567ffffffffffffffff81111561070e57600080fd5b60208301915083602082850101111561072657600080fd5b9250929050565b80356001600160a01b038116811461074457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561076857600080fd5b8a3567ffffffffffffffff8082111561078057600080fd5b61078c8e838f016106e4565b909c509a5060208d01359150808211156107a557600080fd5b6107b18e838f016106e4565b909a50985060408d0135975060608d01359150808211156107d157600080fd5b506107de8d828e016106e4565b90965094505060808b013592506107f760a08c0161072d565b915061080560c08c0161072d565b90509295989b9194979a5092959850565b6000806020838503121561082957600080fd5b823567ffffffffffffffff81111561084057600080fd5b61084c858286016106e4565b90969095509350505050565b600080600080600060a0868803121561087057600080fd5b6108798661072d565b94506108876020870161072d565b93506108956040870161072d565b94979396509394606081013594506080013592915050565b6000602082840312156108bf57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b600080858511156108ec57600080fd5b838611156108f957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156109335780818660140360031b1b83161692505b505092915050565b8035602083101561067257600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561067257610672610959565b808201808211156106725761067261095956fea264697066735822122095ab63871cc701b6845065f3118822a1bb1778b7d93ba045a40145ebc06f19af64736f6c63430008170033",Ve={};N(Ve,{abi:()=>kC,bytecode:()=>RC});var kC=[{type:"constructor",inputs:[{name:"_owner",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"ANY_DELEGATE",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"ROOT_AUTHORITY",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disabledDelegations",inputs:[{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"isDisabled",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDelegationHash",inputs:[{name:"_input",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DisabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"EnabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"RedeemedDelegation",inputs:[{name:"rootDelegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"SetDomain",inputs:[{name:"domainHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"domainVersion",type:"string",indexed:!1,internalType:"string"},{name:"chainId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"contractAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadyDisabled",inputs:[]},{type:"error",name:"AlreadyEnabled",inputs:[]},{type:"error",name:"BatchDataLengthMismatch",inputs:[]},{type:"error",name:"CannotUseADisabledDelegation",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"EmptySignature",inputs:[]},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]},{type:"error",name:"InvalidAuthority",inputs:[]},{type:"error",name:"InvalidDelegate",inputs:[]},{type:"error",name:"InvalidDelegator",inputs:[]},{type:"error",name:"InvalidEOASignature",inputs:[]},{type:"error",name:"InvalidERC1271Signature",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],RC="0x6101606040523480156200001257600080fd5b506040516200334f3803806200334f833981016040819052620000359162000384565b60408051808201825260118152702232b632b3b0ba34b7b726b0b730b3b2b960791b602080830191909152825180840190935260018352603160f81b9083015290826001600160a01b038116620000a757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b620000b28162000204565b506001805460ff60a01b19169055620000cd82600262000222565b61012052620000de81600362000222565b61014052815160208084019190912060e052815190820120610100524660a0526200015b60e05161010051604080516000805160206200332f83398151915260208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c0526000620001706200025b565b9050306001600160a01b0316817f04a46d9007577c7ff1e513b900545162ec25d25991ae3dc60cf26ec01a84806d604051806040016040528060118152602001702232b632b3b0ba34b7b726b0b730b3b2b960791b815250604051806040016040528060018152602001603160f81b81525046604051620001f493929190620003fe565b60405180910390a35050620005e5565b600180546001600160a01b03191690556200021f81620002f1565b50565b600060208351101562000242576200023a8362000341565b905062000255565b816200024f8482620004df565b5060ff90505b92915050565b600060c0516001600160a01b0316306001600160a01b031614801562000282575060a05146145b156200028f575060805190565b620002ec60e05161010051604080516000805160206200332f83398151915260208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b905090565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600080829050601f815111156200036f578260405163305a27a960e01b81526004016200009e9190620005ab565b80516200037c82620005c0565b179392505050565b6000602082840312156200039757600080fd5b81516001600160a01b0381168114620003af57600080fd5b9392505050565b6000815180845260005b81811015620003de57602081850181015186830182015201620003c0565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000620004136060830186620003b6565b8281036020840152620004278186620003b6565b915050826040830152949350505050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200046357607f821691505b6020821081036200048457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620004da576000816000526020600020601f850160051c81016020861015620004b55750805b601f850160051c820191505b81811015620004d657828155600101620004c1565b5050505b505050565b81516001600160401b03811115620004fb57620004fb62000438565b62000513816200050c84546200044e565b846200048a565b602080601f8311600181146200054b5760008415620005325750858301515b600019600386901b1c1916600185901b178555620004d6565b600085815260208120601f198616915b828110156200057c578886015182559484019460019091019084016200055b565b50858210156200059b5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b602081526000620003af6020830184620003b6565b80516020808301519190811015620004845760001960209190910360031b1b16919050565b60805160a05160c05160e051610100516101205161014051612cef620006406000396000611bda01526000611bad01526000611b1201526000611aea01526000611a4501526000611a6f01526000611a990152612cef6000f3fe608060405234801561001057600080fd5b506004361061012c5760003560e01c806383ebb771116100ad578063acb8cc4911610071578063acb8cc491461027f578063cef6d2091461029f578063e30c3978146102b2578063f2fde38b146102c3578063ffa1ad74146102d657600080fd5b806383ebb771146102065780638456cb591461020e57806384b0196e146102165780638da5cb5b14610231578063a3f4df7e1461024257600080fd5b806358909ebc116100f457806358909ebc146101b05780635c975abb146101d157806366134607146101e3578063715018a6146101f657806379ba5097146101fe57600080fd5b80631b13cac2146101315780632d40d0521461014d5780633ed01015146101805780633f4ba83a14610195578063499340471461019d575b600080fd5b61013a60001981565b6040519081526020015b60405180910390f35b61017061015b3660046120e6565b60046020526000908152604090205460ff1681565b6040519015158152602001610144565b61019361018e3660046120ff565b6102fa565b005b6101936103f4565b6101936101ab3660046120ff565b610406565b6101b9610a1181565b6040516001600160a01b039091168152602001610144565b600154600160a01b900460ff16610170565b61013a6101f13660046120ff565b6104f6565b61019361050f565b610193610521565b61013a61056a565b610193610579565b61021e610589565b6040516101449796959493929190612190565b6000546001600160a01b03166101b9565b610272604051806040016040528060118152602001702232b632b3b0ba34b7b726b0b730b3b2b960791b81525081565b6040516101449190612229565b610272604051806040016040528060018152602001603160f81b81525081565b6101936102ad366004612287565b6105cf565b6001546001600160a01b03166101b9565b6101936102d136600461233c565b611891565b610272604051806040016040528060058152602001640312e332e360dc1b81525081565b61030a604082016020830161233c565b6001600160a01b03811633146103335760405163b9f0f17160e01b815260040160405180910390fd5b600061033e836104f6565b60008181526004602052604090205490915060ff1661037057604051637952fbad60e11b815260040160405180910390fd5b6000818152600460209081526040909120805460ff191690556103959084018461233c565b6001600160a01b03166103ae604085016020860161233c565b6001600160a01b0316827f3feadce88fc1b49db633a56fd5307ed6ee18734df83bcc4011daa720c9cd95f1866040516103e79190612484565b60405180910390a4505050565b6103fc611902565b61040461192f565b565b610416604082016020830161233c565b6001600160a01b038116331461043f5760405163b9f0f17160e01b815260040160405180910390fd5b600061044a836104f6565b60008181526004602052604090205490915060ff161561047c57604051625ecddb60e01b815260040160405180910390fd5b6000818152600460209081526040909120805460ff191660011790556104a49084018461233c565b6001600160a01b03166104bd604085016020860161233c565b6001600160a01b0316827fea589ba9473ee1fe77d352c7ed919747715a5d22931b972de9b02a907c66d5dd866040516103e79190612484565b600061050961050483612823565b611984565b92915050565b610517611902565b6104046000611a1f565b60015433906001600160a01b0316811461055e5760405163118cdaa760e01b81526001600160a01b03821660048201526024015b60405180910390fd5b61056781611a1f565b50565b6000610574611a38565b905090565b610581611902565b610404611b63565b60006060806000806000606061059d611ba6565b6105a5611bd3565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b6105d7611c00565b8481811415806105e75750808414155b1561060557604051631bcaf69f60e01b815260040160405180910390fd5b6000816001600160401b0381111561061f5761061f612555565b60405190808252806020026020018201604052801561065257816020015b606081526020019060019003908161063d5790505b5090506000826001600160401b0381111561066f5761066f612555565b6040519080825280602002602001820160405280156106a257816020015b606081526020019060019003908161068d5790505b50905060005b83811015610c815760008a8a838181106106c4576106c461282f565b90506020028101906106d69190612845565b8101906106e3919061288b565b905080516000036107d1576040805160008082526020820190925290610765565b6107526040518060c0016040528060006001600160a01b0316815260200160006001600160a01b03168152602001600080191681526020016060815260200160008152602001606081525090565b8152602001906001900390816107045790505b508483815181106107785761077861282f565b602090810291909101015260006040519080825280602002602001820160405280156107ae578160200160208202803683370190505b508383815181106107c1576107c161282f565b6020026020010181905250610c78565b808483815181106107e4576107e461282f565b6020026020010181905250600081516001600160401b0381111561080a5761080a612555565b604051908082528060200260200182016040528015610833578160200160208202803683370190505b509050808484815181106108495761084961282f565b6020026020010181905250336001600160a01b0316826000815181106108715761087161282f565b6020026020010151600001516001600160a01b0316141580156108c65750610a116001600160a01b0316826000815181106108ae576108ae61282f565b6020026020010151600001516001600160a01b031614155b156108e457604051632d618d8160e21b815260040160405180910390fd5b60005b8251811015610ab55760008382815181106109045761090461282f565b6020026020010151905061091781611984565b8383815181106109295761092961282f565b60200260200101818152505080602001516001600160a01b03163b6000036109dc57600061099e61099461095b61056a565b86868151811061096d5761096d61282f565b602002602001015160405161190160f01b8152600281019290925260228201526042902090565b8360a00151611c2b565b905081602001516001600160a01b0316816001600160a01b0316146109d657604051630f6d9e4760e21b815260040160405180910390fd5b50610aac565b60006109fb6109e961056a565b85858151811061096d5761096d61282f565b9050600082602001516001600160a01b0316631626ba7e838560a001516040518363ffffffff1660e01b8152600401610a3592919061293b565b602060405180830381865afa158015610a52573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a76919061295c565b6001600160e01b0319169050630b135d3f60e11b8114610aa95760405163155ff42760e01b815260040160405180910390fd5b50505b506001016108e7565b5060005b8251811015610c755760046000838381518110610ad857610ad861282f565b60209081029190910181015182528101919091526040016000205460ff1615610b14576040516302dd502960e11b815260040160405180910390fd5b60018351610b22919061299c565b8114610c2b5781610b348260016129af565b81518110610b4457610b4461282f565b6020026020010151838281518110610b5e57610b5e61282f565b60200260200101516040015114610b8857604051636f6a1b8760e11b815260040160405180910390fd5b600083610b968360016129af565b81518110610ba657610ba661282f565b6020026020010151600001519050610a116001600160a01b0316816001600160a01b031614158015610c075750806001600160a01b0316848381518110610bef57610bef61282f565b6020026020010151602001516001600160a01b031614155b15610c2557604051632d618d8160e21b815260040160405180910390fd5b50610c6d565b60001960001b838281518110610c4357610c4361282f565b60200260200101516040015114610c6d57604051636f6a1b8760e11b815260040160405180910390fd5b600101610ab9565b50505b506001016106a8565b5060005b83811015610ea6576000838281518110610ca157610ca161282f565b6020026020010151511115610e9e5760005b838281518110610cc557610cc561282f565b602002602001015151811015610e9c576000848381518110610ce957610ce961282f565b60200260200101518281518110610d0257610d0261282f565b602002602001015160600151905060005b8151811015610e92576000828281518110610d3057610d3061282f565b6020026020010151600001519050806001600160a01b031663414c3e33848481518110610d5f57610d5f61282f565b602002602001015160200151858581518110610d7d57610d7d61282f565b6020026020010151604001518f8f8a818110610d9b57610d9b61282f565b905060200201358e8e8b818110610db457610db461282f565b9050602002810190610dc69190612845565b8c8c81518110610dd857610dd861282f565b60200260200101518b81518110610df157610df161282f565b60200260200101518e8d81518110610e0b57610e0b61282f565b60200260200101518c81518110610e2457610e2461282f565b602002602001015160200151336040518963ffffffff1660e01b8152600401610e549897969594939291906129c2565b600060405180830381600087803b158015610e6e57600080fd5b505af1158015610e82573d6000803e3d6000fd5b5050505050806001019050610d13565b5050600101610cb3565b505b600101610c85565b5060005b838110156114ca57828181518110610ec457610ec461282f565b602002602001015151600003610f82573363d691c964898984818110610eec57610eec61282f565b90506020020135888885818110610f0557610f0561282f565b9050602002810190610f179190612845565b6040518463ffffffff1660e01b8152600401610f3593929190612a2d565b6000604051808303816000875af1158015610f54573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610f7c9190810190612a50565b506114c2565b60005b838281518110610f9757610f9761282f565b60200260200101515181101561116e576000848381518110610fbb57610fbb61282f565b60200260200101518281518110610fd457610fd461282f565b602002602001015160600151905060005b81518110156111645760008282815181106110025761100261282f565b6020026020010151600001519050806001600160a01b031663a145832a8484815181106110315761103161282f565b60200260200101516020015185858151811061104f5761104f61282f565b6020026020010151604001518f8f8a81811061106d5761106d61282f565b905060200201358e8e8b8181106110865761108661282f565b90506020028101906110989190612845565b8c8c815181106110aa576110aa61282f565b60200260200101518b815181106110c3576110c361282f565b60200260200101518e8d815181106110dd576110dd61282f565b60200260200101518c815181106110f6576110f661282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016111269897969594939291906129c2565b600060405180830381600087803b15801561114057600080fd5b505af1158015611154573d6000803e3d6000fd5b5050505050806001019050610fe5565b5050600101610f85565b508281815181106111815761118161282f565b6020026020010151600184838151811061119d5761119d61282f565b6020026020010151516111b0919061299c565b815181106111c0576111c061282f565b6020026020010151602001516001600160a01b031663d691c9648989848181106111ec576111ec61282f565b905060200201358888858181106112055761120561282f565b90506020028101906112179190612845565b6040518463ffffffff1660e01b815260040161123593929190612a2d565b6000604051808303816000875af1158015611254573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261127c9190810190612a50565b5060008382815181106112915761129161282f565b60200260200101515190505b80156114c05760008483815181106112b7576112b761282f565b60200260200101516001836112cc919061299c565b815181106112dc576112dc61282f565b60200260200101516060015190506000815190505b80156114ad5760008261130560018461299c565b815181106113155761131561282f565b6020026020010151600001519050806001600160a01b031663d3eddcc584600185611340919061299c565b815181106113505761135061282f565b6020026020010151602001518560018661136a919061299c565b8151811061137a5761137a61282f565b6020026020010151604001518f8f8a8181106113985761139861282f565b905060200201358e8e8b8181106113b1576113b161282f565b90506020028101906113c39190612845565b8c8c815181106113d5576113d561282f565b602002602001015160018c6113ea919061299c565b815181106113fa576113fa61282f565b60200260200101518e8d815181106114145761141461282f565b602002602001015160018d611429919061299c565b815181106114395761143961282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016114699897969594939291906129c2565b600060405180830381600087803b15801561148357600080fd5b505af1158015611497573d6000803e3d6000fd5b5050505050806114a690612b2f565b90506112f1565b5050806114b990612b2f565b905061129d565b505b600101610eaa565b5060005b838110156117465760008382815181106114ea576114ea61282f565b602002602001015151111561173e57600083828151811061150d5761150d61282f565b60200260200101515190505b801561173c5760008483815181106115335761153361282f565b6020026020010151600183611548919061299c565b815181106115585761155861282f565b60200260200101516060015190506000815190505b80156117295760008261158160018461299c565b815181106115915761159161282f565b6020026020010151600001519050806001600160a01b031663ed463367846001856115bc919061299c565b815181106115cc576115cc61282f565b602002602001015160200151856001866115e6919061299c565b815181106115f6576115f661282f565b6020026020010151604001518f8f8a8181106116145761161461282f565b905060200201358e8e8b81811061162d5761162d61282f565b905060200281019061163f9190612845565b8c8c815181106116515761165161282f565b602002602001015160018c611666919061299c565b815181106116765761167661282f565b60200260200101518e8d815181106116905761169061282f565b602002602001015160018d6116a5919061299c565b815181106116b5576116b561282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016116e59897969594939291906129c2565b600060405180830381600087803b1580156116ff57600080fd5b505af1158015611713573d6000803e3d6000fd5b50505050508061172290612b2f565b905061156d565b50508061173590612b2f565b9050611519565b505b6001016114ce565b5060005b838110156118855760008382815181106117665761176661282f565b602002602001015151111561187d5760005b83828151811061178a5761178a61282f565b60200260200101515181101561187b57336001600160a01b03168483815181106117b6576117b661282f565b602002602001015160018685815181106117d2576117d261282f565b6020026020010151516117e5919061299c565b815181106117f5576117f561282f565b6020026020010151602001516001600160a01b03167f40dadaa36c6c2e3d7317e24757451ffb2d603d875f0ad5e92c5dd156573b187386858151811061183d5761183d61282f565b602002602001015184815181106118565761185661282f565b602002602001015160405161186b9190612b46565b60405180910390a3600101611778565b505b60010161174a565b50505050505050505050565b611899611902565b600180546001600160a01b0383166001600160a01b031990911681179091556118ca6000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b6000546001600160a01b031633146104045760405163118cdaa760e01b8152336004820152602401610555565b611937611c55565b6001805460ff60a01b191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b6000807f88c1d2ecf185adf710588203a5f263f0ff61be0d33da39792cde19ba9aa4331e8360000151846020015185604001516119c48760600151611c7f565b6080808901516040805160208101989098526001600160a01b03968716908801529490931660608601529184015260a083015260c082015260e0015b60408051601f1981840301815291905280516020909101209392505050565b600180546001600160a01b031916905561056781611d4a565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611a9157507f000000000000000000000000000000000000000000000000000000000000000046145b15611abb57507f000000000000000000000000000000000000000000000000000000000000000090565b610574604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b611b6b611c00565b6001805460ff60a01b1916600160a01b1790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586119673390565b60606105747f00000000000000000000000000000000000000000000000000000000000000006002611d9a565b60606105747f00000000000000000000000000000000000000000000000000000000000000006003611d9a565b600154600160a01b900460ff16156104045760405163d93c066560e01b815260040160405180910390fd5b600080600080611c3b8686611e45565b925092509250611c4b8282611e92565b5090949350505050565b600154600160a01b900460ff1661040457604051638dfc202b60e01b815260040160405180910390fd5b60008082516001600160401b03811115611c9b57611c9b612555565b604051908082528060200260200182016040528015611cc4578160200160208202803683370190505b50905060005b8351811015611d1a57611cf5848281518110611ce857611ce861282f565b6020026020010151611f4f565b828281518110611d0757611d0761282f565b6020908102919091010152600101611cca565b5080604051602001611d2c9190612c33565b60405160208183030381529060405280519060200120915050919050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b606060ff8314611db457611dad83611fb0565b9050610509565b818054611dc090612c69565b80601f0160208091040260200160405190810160405280929190818152602001828054611dec90612c69565b8015611e395780601f10611e0e57610100808354040283529160200191611e39565b820191906000526020600020905b815481529060010190602001808311611e1c57829003601f168201915b50505050509050610509565b60008060008351604103611e7f5760208401516040850151606086015160001a611e7188828585611fef565b955095509550505050611e8b565b50508151600091506002905b9250925092565b6000826003811115611ea657611ea6612ca3565b03611eaf575050565b6001826003811115611ec357611ec3612ca3565b03611ee15760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611ef557611ef5612ca3565b03611f165760405163fce698f760e01b815260048101829052602401610555565b6003826003811115611f2a57611f2a612ca3565b03611f4b576040516335e2f38360e21b815260048101829052602401610555565b5050565b6000807f80ad7e1b04ee6d994a125f4714ca0720908bd80ed16063ec8aee4b88e9253e2d8360000151846020015180519060200120604051602001611a00939291909283526001600160a01b03919091166020830152604082015260600190565b60606000611fbd836120be565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a084111561202a57506000915060039050826120b4565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa15801561207e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166120aa575060009250600191508290506120b4565b9250600091508190505b9450945094915050565b600060ff8216601f81111561050957604051632cd44ac360e21b815260040160405180910390fd5b6000602082840312156120f857600080fd5b5035919050565b60006020828403121561211157600080fd5b81356001600160401b0381111561212757600080fd5b820160c0818503121561213957600080fd5b9392505050565b60005b8381101561215b578181015183820152602001612143565b50506000910152565b6000815180845261217c816020860160208601612140565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e060208401526121b160e084018a612164565b83810360408501526121c3818a612164565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b81811015612217578351835292840192918401916001016121fb565b50909c9b505050505050505050505050565b6020815260006121396020830184612164565b60008083601f84011261224e57600080fd5b5081356001600160401b0381111561226557600080fd5b6020830191508360208260051b850101111561228057600080fd5b9250929050565b600080600080600080606087890312156122a057600080fd5b86356001600160401b03808211156122b757600080fd5b6122c38a838b0161223c565b909850965060208901359150808211156122dc57600080fd5b6122e88a838b0161223c565b9096509450604089013591508082111561230157600080fd5b5061230e89828a0161223c565b979a9699509497509295939492505050565b80356001600160a01b038116811461233757600080fd5b919050565b60006020828403121561234e57600080fd5b61213982612320565b6000808335601e1984360301811261236e57600080fd5b83016020810192503590506001600160401b0381111561238d57600080fd5b80360382131561228057600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561247657858403601f19018a52823536899003605e19018112612404578283fd5b880160606001600160a01b0361241983612320565b16865261242887830183612357565b828989015261243a838901828461239c565b92505050604061244c81840184612357565b93508783038289015261246083858361239c565b9d89019d975050509386019350506001016123df565b509198975050505050505050565b6020815260006001600160a01b038061249c85612320565b166020840152806124af60208601612320565b16604084015250604083013560608301526060830135601e198436030181126124d757600080fd5b83016020810190356001600160401b038111156124f357600080fd5b8060051b360382131561250557600080fd5b60c0608085015261251a60e0850182846123c5565b915050608084013560a084015261253460a0850185612357565b848303601f190160c086015261254b83828461239c565b9695505050505050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b038111828210171561258d5761258d612555565b60405290565b60405160c081016001600160401b038111828210171561258d5761258d612555565b604051601f8201601f191681016001600160401b03811182821017156125dd576125dd612555565b604052919050565b60006001600160401b038211156125fe576125fe612555565b5060051b60200190565b60006001600160401b0382111561262157612621612555565b50601f01601f191660200190565b600082601f83011261264057600080fd5b813561265361264e82612608565b6125b5565b81815284602083860101111561266857600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f83011261269657600080fd5b813560206126a661264e836125e5565b82815260059290921b840181019181810190868411156126c557600080fd5b8286015b848110156127745780356001600160401b03808211156126e95760008081fd5b908801906060828b03601f19018113156127035760008081fd5b61270b61256b565b612716888501612320565b81526040808501358481111561272c5760008081fd5b61273a8e8b8389010161262f565b838b0152509184013591838311156127525760008081fd5b6127608d8a8588010161262f565b9082015286525050509183019183016126c9565b509695505050505050565b600060c0828403121561279157600080fd5b612799612593565b90506127a482612320565b81526127b260208301612320565b60208201526040820135604082015260608201356001600160401b03808211156127db57600080fd5b6127e785838601612685565b60608401526080840135608084015260a084013591508082111561280a57600080fd5b506128178482850161262f565b60a08301525092915050565b6000610509368361277f565b634e487b7160e01b600052603260045260246000fd5b6000808335601e1984360301811261285c57600080fd5b8301803591506001600160401b0382111561287657600080fd5b60200191503681900382131561228057600080fd5b6000602080838503121561289e57600080fd5b82356001600160401b03808211156128b557600080fd5b818501915085601f8301126128c957600080fd5b81356128d761264e826125e5565b81815260059190911b830184019084810190888311156128f657600080fd5b8585015b8381101561292e578035858111156129125760008081fd5b6129208b89838a010161277f565b8452509186019186016128fa565b5098975050505050505050565b8281526040602082015260006129546040830184612164565b949350505050565b60006020828403121561296e57600080fd5b81516001600160e01b03198116811461213957600080fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561050957610509612986565b8082018082111561050957610509612986565b60e0815260006129d560e083018b612164565b82810360208401526129e7818b612164565b90508860408401528281036060840152612a0281888a61239c565b608084019690965250506001600160a01b0392831660a0820152911660c09091015295945050505050565b838152604060208201526000612a4760408301848661239c565b95945050505050565b60006020808385031215612a6357600080fd5b82516001600160401b0380821115612a7a57600080fd5b818501915085601f830112612a8e57600080fd5b8151612a9c61264e826125e5565b81815260059190911b83018401908481019088831115612abb57600080fd5b8585015b8381101561292e57805185811115612ad75760008081fd5b8601603f81018b13612ae95760008081fd5b878101516040612afb61264e83612608565b8281528d82848601011115612b105760008081fd5b612b1f838c8301848701612140565b8652505050918601918601612abf565b600081612b3e57612b3e612986565b506000190190565b602080825282516001600160a01b0390811683830152838201518116604080850191909152808501516060808601919091528086015160c06080870152805160e0870181905260009594610100600583901b8901810195919493870193919290890190885b81811015612c055760ff198b8903018352855187815116895289810151858b8b0152612bd9868b0182612164565b918701518a83038b890152919050612bf18183612164565b995050509488019491880191600101612bab565b50505050505050608085015160a085015260a08501519150601f198482030160c0850152612a478183612164565b815160009082906020808601845b83811015612c5d57815185529382019390820190600101612c41565b50929695505050505050565b600181811c90821680612c7d57607f821691505b602082108103612c9d57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052602160045260246000fdfea2646970667358221220ca409e8c9582544b3b8d8c05ed7b77fb8b148a77f098b1aea58f1517227de31d64736f6c634300081700338b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f",BC={};N(BC,{abi:()=>FC,bytecode:()=>LC});var FC=[{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]}],LC="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212204f453c45fd8890597438ba3740ed042994be373737c9bd8ac833ff249df3eaab64736f6c63430008170033",UC={};N(UC,{abi:()=>HC,bytecode:()=>GC});var HC=[{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],GC="0x",Ud={};N(Ud,{abi:()=>VC,bytecode:()=>zC});var VC=[{type:"constructor",inputs:[{name:"implementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"fallback",stateMutability:"payable"},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]}],zC="0x60806040526040516103f03803806103f08339810160408190526100229161025e565b61002c8282610033565b5050610341565b61003c82610091565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a280511561008557610080828261010c565b505050565b61008d61017f565b5050565b806001600160a01b03163b5f036100cb57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60605f80846001600160a01b0316846040516101289190610326565b5f60405180830381855af49150503d805f8114610160576040519150601f19603f3d011682016040523d82523d5f602084013e610165565b606091505b5090925090506101768583836101a0565b95945050505050565b341561019e5760405163b398979f60e01b815260040160405180910390fd5b565b6060826101b5576101b0826101ff565b6101f8565b81511580156101cc57506001600160a01b0384163b155b156101f557604051639996b31560e01b81526001600160a01b03851660048201526024016100c2565b50805b9392505050565b80511561020f5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b634e487b7160e01b5f52604160045260245ffd5b5f5b8381101561025657818101518382015260200161023e565b50505f910152565b5f806040838503121561026f575f80fd5b82516001600160a01b0381168114610285575f80fd5b60208401519092506001600160401b03808211156102a1575f80fd5b818501915085601f8301126102b4575f80fd5b8151818111156102c6576102c6610228565b604051601f8201601f19908116603f011681019083821181831017156102ee576102ee610228565b81604052828152886020848701011115610306575f80fd5b61031783602083016020880161023c565b80955050505050509250929050565b5f825161033781846020870161023c565b9190910192915050565b60a38061034d5f395ff3fe6080604052600a600c565b005b60186014601a565b6050565b565b5f604b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b365f80375f80365f845af43d5f803e8080156069573d5ff35b3d5ffdfea2646970667358221220fd2cc92935c943d341edacaf5318a0b9ab0185ce62ef72e95ab393ef358730c464736f6c63430008170033",KC={};N(KC,{abi:()=>WC,bytecode:()=>jC});var WC=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"dataStart_",type:"uint256",internalType:"uint256"},{name:"value_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"}],jC="0x608060405234801561001057600080fd5b506106dc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046104a2565b50505050505050505050565b005b6100766100863660046104a2565b6100b5565b61009e61009936600461056f565b610198565b6040516100ac9291906105b1565b60405180910390f35b856100c1816000610265565b6101125760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610123816000610265565b61017d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610109565b5061018a8c8c898961027c565b505050505050505050505050565b6000606060218310156102005760405162461bcd60e51b815260206004820152602a60248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d6044820152697465726d732d73697a6560b01b6064820152608401610109565b61020e602060008587610608565b61021791610632565b91506102268360208187610608565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250949792965091945050505050565b6001600160f81b0319828116908216145b92915050565b6000606036600061028d86866103d6565b93509350505061029d8888610198565b80519195509350816102af8287610650565b11156103155760405162461bcd60e51b815260206004820152602f60248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d60448201526e0c6c2d8d8c8c2e8c25ad8cadccee8d608b1b6064820152608401610109565b61036e8386846103258583610650565b9261033293929190610608565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250889250610427915050565b6103cb5760405162461bcd60e51b815260206004820152602860248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d60448201526763616c6c6461746160c01b6064820152608401610109565b505050505050505050565b60008036816103e86014828789610608565b6103f191610671565b60601c9350610404603460148789610608565b61040d91610632565b925061041c8560348189610608565b949793965094505050565b8051602091820120825192909101919091201490565b60008083601f84011261044f57600080fd5b50813567ffffffffffffffff81111561046757600080fd5b60208301915083602082850101111561047f57600080fd5b9250929050565b80356001600160a01b038116811461049d57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156104c157600080fd5b8a3567ffffffffffffffff808211156104d957600080fd5b6104e58e838f0161043d565b909c509a5060208d01359150808211156104fe57600080fd5b61050a8e838f0161043d565b909a50985060408d0135975060608d013591508082111561052a57600080fd5b506105378d828e0161043d565b90965094505060808b0135925061055060a08c01610486565b915061055e60c08c01610486565b90509295989b9194979a5092959850565b6000806020838503121561058257600080fd5b823567ffffffffffffffff81111561059957600080fd5b6105a58582860161043d565b90969095509350505050565b8281526000602060406020840152835180604085015260005b818110156105e6578581018301518582016060015282016105ca565b506000606082860101526060601f19601f830116850101925050509392505050565b6000808585111561061857600080fd5b8386111561062557600080fd5b5050820193919092039150565b8035602083101561027657600019602084900360031b1b1692915050565b8082018082111561027657634e487b7160e01b600052601160045260246000fd5b6bffffffffffffffffffffffff19813581811691601485101561069e5780818660140360031b1b83161692505b50509291505056fea2646970667358221220040ece6946150f16c5413920be7d1b9c5d49d2aae2b6945d7da6faa6f92f5ef664736f6c63430008170033",$C={};N($C,{abi:()=>YC,bytecode:()=>JC});var YC=[],JC="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220e387e66c46ba5a334fec27a4edf89a8be9952b587b8297dbf10cb57e8c1726d964736f6c63430008170033",QC={};N(QC,{abi:()=>qC,bytecode:()=>ZC});var qC=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedContract_",type:"address",internalType:"address"},{name:"maxTokens_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"spentMap",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],ZC="0x608060405234801561001057600080fd5b5061081e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780639dd5d9ab14610083578063a145832a146100be578063b99deb0e146100d1578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046105c3565b50505050505050505050565b005b6100ab610091366004610690565b600060208181529281526040808220909352908152205481565b6040519081526020015b60405180910390f35b6100816100cc3660046105c3565b610103565b6100e46100df3660046106ba565b610247565b604080516001600160a01b0390931683526020830191909152016100b5565b8561010f8160006102df565b6101605760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101718160006102df565b6101cb5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610157565b506000806101dc8e8e8b8b8b6102f6565b9150915086856001600160a01b0316336001600160a01b03167fc026e493323d526061a052b5dd562495120e2f648797a48be61966d3a6beec8d858560405161022f929190918252602082015260400190565b60405180910390a45050505050505050505050505050565b600080603483146102a15760405162461bcd60e51b815260206004820152603060248201526000805160206107c983398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b6064820152608401610157565b6102af6014600085876106fc565b6102b891610726565b60601c91506102ca83601481876106fc565b6102d39161075b565b60001c90509250929050565b6001600160f81b0319828116908216145b92915050565b6000806000366000610308888861050d565b9295509350909150506044811461036c5760405162461bcd60e51b815260206004820152603460248201526000805160206107c98339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b6064820152608401610157565b60006103788b8b610247565b965090506001600160a01b03808216908516146103da5760405162461bcd60e51b815260206004820152602c60248201526000805160206107c983398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b6064820152608401610157565b63a9059cbb60e01b6103f06004600085876106fc565b6103f991610779565b6001600160e01b031916146104515760405162461bcd60e51b815260206004820152602a60248201526000805160206107c98339815191526044820152691b1a590b5b595d1a1bd960b21b6064820152608401610157565b61045f6044602484866106fc565b6104689161075b565b336000908152602081815260408083208b8452909152812080549091906104909084906107a7565b9250508190559450858511156104ff5760405162461bcd60e51b815260206004820152602e60248201527f45524332305472616e73666572416d6f756e74456e666f726365723a616c6c6f60448201526d1dd85b98d94b595e18d95959195960921b6064820152608401610157565b505050509550959350505050565b600080368161051f60148287896106fc565b61052891610726565b60601c935061053b6034601487896106fc565b6105449161075b565b925061055385603481896106fc565b949793965094505050565b60008083601f84011261057057600080fd5b50813567ffffffffffffffff81111561058857600080fd5b6020830191508360208285010111156105a057600080fd5b9250929050565b80356001600160a01b03811681146105be57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156105e257600080fd5b8a3567ffffffffffffffff808211156105fa57600080fd5b6106068e838f0161055e565b909c509a5060208d013591508082111561061f57600080fd5b61062b8e838f0161055e565b909a50985060408d0135975060608d013591508082111561064b57600080fd5b506106588d828e0161055e565b90965094505060808b0135925061067160a08c016105a7565b915061067f60c08c016105a7565b90509295989b9194979a5092959850565b600080604083850312156106a357600080fd5b6106ac836105a7565b946020939093013593505050565b600080602083850312156106cd57600080fd5b823567ffffffffffffffff8111156106e457600080fd5b6106f08582860161055e565b90969095509350505050565b6000808585111561070c57600080fd5b8386111561071957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156107535780818660140360031b1b83161692505b505092915050565b803560208310156102f057600019602084900360031b1b1692915050565b6001600160e01b031981358181169160048510156107535760049490940360031b84901b1690921692915050565b808201808211156102f057634e487b7160e01b600052601160045260246000fdfe45524332305472616e73666572416d6f756e74456e666f726365723a696e7661a2646970667358221220936350618a5001f34797bf97c50cd107709e028340c60e13df9fe9a2d10d7fb364736f6c63430008170033",XC={};N(XC,{abi:()=>eI,bytecode:()=>tI});var eI=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],tI="0x608060405234801561001057600080fd5b50610d12806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610a20565b50505050505050505050565b005b6100b16100ac366004610aed565b61018e565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df366004610b47565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610a20565b610265565b61016461015f366004610b71565b61034a565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a081018352815481526001820154938101939093526002810154918301829052600381015460608401526004015460808301528291829115610203576101f781610416565b9350935093505061025b565b6000806000610212898961034a565b9350935093505060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061024f81610416565b97509750975050505050505b9450945094915050565b856102718160006104aa565b6102c25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102d38160006104aa565b61032d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102b9565b5061033c8c8c898989886104c1565b505050505050505050505050565b6000808080607485146103a65760405162461bcd60e51b81526020600482015260306024820152600080516020610cbd83398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016102b9565b6103b4601460008789610bb3565b6103bd91610bdd565b60601c93506103d0603460148789610bb3565b6103d991610c12565b92506103e9605460348789610bb3565b6103f291610c12565b9150610402607460548789610bb3565b61040b91610c12565b939692955090935050565b60008060008360400151421015610435575060009150819050806104a3565b602084015160408501516104499042610c46565b6104539190610c59565b61045e906001610c7b565b90508084606001511415915060008261047b57846080015161047e565b60005b90508085600001511161049257600061049f565b845161049f908290610c46565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60003660006104d0878761096a565b929550935090915050604481146105345760405162461bcd60e51b81526020600482015260346024820152600080516020610cbd8339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b60648201526084016102b9565b6000806000806105448d8d61034a565b9350935093509350866001600160a01b0316846001600160a01b0316146105b05760405162461bcd60e51b815260206004820152602c6024820152600080516020610cbd83398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b60648201526084016102b9565b63a9059cbb60e01b6105c660046000888a610bb3565b6105cf91610c8e565b6001600160e01b031916146106275760405162461bcd60e51b815260206004820152602a6024820152600080516020610cbd8339815191526044820152691b1a590b5b595d1a1bd960b21b60648201526084016102b9565b336000908152602081815260408083208c8452909152812060028101549091036107e157600082116106a55760405162461bcd60e51b81526020600482015260336024820152600080516020610cbd8339815191526044820152726c69642d7a65726f2d73746172742d6461746560681b60648201526084016102b9565b600084116107025760405162461bcd60e51b81526020600482015260366024820152600080516020610cbd8339815191526044820152751b1a590b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d60521b60648201526084016102b9565b600083116107665760405162461bcd60e51b81526020600482015260386024820152600080516020610cbd83398151915260448201527f6c69642d7a65726f2d706572696f642d6475726174696f6e000000000000000060648201526084016102b9565b814210156107cf5760405162461bcd60e51b815260206004820152603060248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e60448201526f1cd9995c8b5b9bdd0b5cdd185c9d195960821b60648201526084016102b9565b83815560018101839055600281018290555b600080600061082c846040518060a001604052908160008201548152602001600182015481526020016002820154815260200160038201548152602001600482015481525050610416565b919450925090506000610843604460248c8e610bb3565b61084c91610c12565b9050838111156108bb5760405162461bcd60e51b815260206004820152603460248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e6044820152731cd9995c8b585b5bdd5b9d0b595e18d95959195960621b60648201526084016102b9565b82156108d05760038501829055600060048601555b808560040160008282546108e49190610c7b565b90915550506004850154604080516001600160a01b038c81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a4505050505050505050505050505050505050565b600080368161097c6014828789610bb3565b61098591610bdd565b60601c9350610998603460148789610bb3565b6109a191610c12565b92506109b08560348189610bb3565b949793965094505050565b60008083601f8401126109cd57600080fd5b50813567ffffffffffffffff8111156109e557600080fd5b6020830191508360208285010111156109fd57600080fd5b9250929050565b80356001600160a01b0381168114610a1b57600080fd5b919050565b60008060008060008060008060008060e08b8d031215610a3f57600080fd5b8a3567ffffffffffffffff80821115610a5757600080fd5b610a638e838f016109bb565b909c509a5060208d0135915080821115610a7c57600080fd5b610a888e838f016109bb565b909a50985060408d0135975060608d0135915080821115610aa857600080fd5b50610ab58d828e016109bb565b90965094505060808b01359250610ace60a08c01610a04565b9150610adc60c08c01610a04565b90509295989b9194979a5092959850565b60008060008060608587031215610b0357600080fd5b84359350610b1360208601610a04565b9250604085013567ffffffffffffffff811115610b2f57600080fd5b610b3b878288016109bb565b95989497509550505050565b60008060408385031215610b5a57600080fd5b610b6383610a04565b946020939093013593505050565b60008060208385031215610b8457600080fd5b823567ffffffffffffffff811115610b9b57600080fd5b610ba7858286016109bb565b90969095509350505050565b60008085851115610bc357600080fd5b83861115610bd057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610c0a5780818660140360031b1b83161692505b505092915050565b803560208310156104bb57600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156104bb576104bb610c30565b600082610c7657634e487b7160e01b600052601260045260246000fd5b500490565b808201808211156104bb576104bb610c30565b6001600160e01b03198135818116916004851015610c0a5760049490940360031b84901b169092169291505056fe4552433230506572696f645472616e73666572456e666f726365723a696e7661a264697066735822122078259b929dc2fea71614ebe238bd74e88ff3ea3542e0d11a18122c300122d3f664736f6c63430008170033",nI={};N(nI,{abi:()=>aI,bytecode:()=>rI});var aI=[{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],rI="0x",sI={};N(sI,{abi:()=>iI,bytecode:()=>oI});var iI=[],oI="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ac220b672ee89e055a56513b249d66df06ecb6da367b913fa0b7b7f3f838634764736f6c63430008170033",cI={};N(cI,{abi:()=>dI,bytecode:()=>fI});var dI=[{type:"event",name:"AdminChanged",inputs:[{name:"previousAdmin",type:"address",indexed:!1,internalType:"address"},{name:"newAdmin",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeaconUpgraded",inputs:[{name:"beacon",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"ERC1967InvalidAdmin",inputs:[{name:"admin",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidBeacon",inputs:[{name:"beacon",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]}],fI="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220bf999523a2735d33a4f148563c82738a41cc465257ff9df9a8912b831ab5af9564736f6c63430008170033",pI={};N(pI,{abi:()=>uI,bytecode:()=>bI});var uI=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"InvalidEIP712NameLength",inputs:[]},{type:"error",name:"InvalidEIP712VersionLength",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UnauthorizedCallContext",inputs:[]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],bI="0x6101c060405230610160523480156200001757600080fd5b50604051620031b0380380620031b08339810160408190526200003a91620002b3565b81816040518060400160405280601981526020017f4549503737303253746174656c65737344656c654761746f7200000000000000815250604051806040016040528060018152602001603160f81b8152508181620000a46000836200021560201b90919060201c565b61012052620000b581600162000215565b61014052815160208084019190912060e052815190820120610100524660a0526200014360e05161010051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c0528151601f10156200017057604051631ad9af3960e21b815260040160405180910390fd5b601f8151111562000194576040516309203c9d60e41b815260040160405180910390fd5b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a2505050505050620004db565b600060208351101562000235576200022d836200024e565b905062000248565b8162000242848262000399565b5060ff90505b92915050565b600080829050601f8151111562000285578260405163305a27a960e01b81526004016200027c919062000465565b60405180910390fd5b80516200029282620004b6565b179392505050565b6001600160a01b0381168114620002b057600080fd5b50565b60008060408385031215620002c757600080fd5b8251620002d4816200029a565b6020840151909250620002e7816200029a565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200031d57607f821691505b6020821081036200033e57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111562000394576000816000526020600020601f850160051c810160208610156200036f5750805b601f850160051c820191505b8181101562000390578281556001016200037b565b5050505b505050565b81516001600160401b03811115620003b557620003b5620002f2565b620003cd81620003c6845462000308565b8462000344565b602080601f831160018114620004055760008415620003ec5750858301515b600019600386901b1c1916600185901b17855562000390565b600085815260208120601f198616915b82811015620004365788860151825594840194600190910190840162000415565b5085821015620004555787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620004955785810183015185820160400152820162000477565b506000604082860101526040601f19601f8301168501019250505092915050565b805160208083015191908110156200033e5760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051612bb1620005ff60003960008181610471015281816107f7015281816108c20152818161094001528181610aa401528181610b9a01528181610bf201528181610c7401528181610ce601528181610e1001528181610e8f01528181611015015281816112cd01526115ce01526000818161057a015281816109a301528181610a2601528181610b0701528181610ef201526110590152600081816106190152818161073a015281816107960152818161083f01528181610b4601528181610da7015261162101526000611960015260006119330152600061174c015260006117240152600061167f015260006116a9015260006116d30152612bb16000f3fe6080604052600436106101c65760003560e01c806384b0196e116100f7578063d03c791411610095578063ea4d3c9b11610064578063ea4d3c9b14610568578063ed8101b51461059c578063f23a6e61146105bc578063ffa1ad74146105dc57600080fd5b8063d03c791414610500578063d087d28814610520578063d691c96414610535578063e9ae5c531461055557600080fd5b8063b0d691fe116100d1578063b0d691fe1461045f578063bc197c81146104ab578063c399ec88146104cb578063cef6d209146104e057600080fd5b806384b0196e146103b4578063a3f4df7e146103dc578063acb8cc491461043257600080fd5b80633ed01015116101645780634a58db191161013e5780634a58db19146103645780635c1c6dcd1461036c5780637f07bfdc1461037f57806383ebb7711461039f57600080fd5b80633ed0101514610302578063445140b814610324578063499340471461034457600080fd5b80631626ba7e116101a05780631626ba7e1461026e57806319822f7c1461028e5780632b3afd99146102ae5780633e1b0812146102e257600080fd5b806301ffc9a7146101d257806306394d6714610207578063150b7a021461023557600080fd5b366101cd57005b600080fd5b3480156101de57600080fd5b506101f26101ed366004611fb2565b61060d565b60405190151581526020015b60405180910390f35b34801561021357600080fd5b50610227610222366004611ff5565b6106f9565b6040519081526020016101fe565b34801561024157600080fd5b506102556102503660046120fb565b61072e565b6040516001600160e01b031990911681526020016101fe565b34801561027a57600080fd5b506102556102893660046121ae565b61078a565b34801561029a57600080fd5b506102276102a93660046121f9565b6107ea565b3480156102ba57600080fd5b506102277fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156102ee57600080fd5b506102276102fd366004612246565b61089b565b34801561030e57600080fd5b5061032261031d36600461226f565b610935565b005b34801561033057600080fd5b506101f261033f3660046122a9565b610a0d565b34801561035057600080fd5b5061032261035f36600461226f565b610a99565b610322610b3c565b61032261037a3660046122c2565b610be7565b34801561038b57600080fd5b5061032261039a3660046122fc565b610c69565b3480156103ab57600080fd5b50610227610d46565b3480156103c057600080fd5b506103c9610d55565b6040516101fe979695949392919061236e565b3480156103e857600080fd5b506104256040518060400160405280601981526020017f4549503737303253746174656c65737344656c654761746f720000000000000081525081565b6040516101fe9190612407565b34801561043e57600080fd5b50610425604051806040016040528060018152602001603160f81b81525081565b34801561046b57600080fd5b506104937f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016101fe565b3480156104b757600080fd5b506102556104c6366004612499565b610d9b565b3480156104d757600080fd5b50610227610df8565b3480156104ec57600080fd5b506103226104fb36600461258a565b610e84565b34801561050c57600080fd5b506101f261051b3660046122a9565b610f6b565b34801561052c57600080fd5b50610227610ff6565b6105486105433660046121ae565b61104c565b6040516101fe9190612623565b6103226105633660046121ae565b6112c2565b34801561057457600080fd5b506104937f000000000000000000000000000000000000000000000000000000000000000081565b3480156105a857600080fd5b506102276105b7366004611ff5565b6114d3565b3480156105c857600080fd5b506102556105d7366004612687565b611615565b3480156105e857600080fd5b50610425604051806040016040528060058152602001640312e332e360dc1b81525081565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361065857604051634f81d01360e11b815260040160405180910390fd5b6001600160e01b031982166335a4725960e21b148061068757506001600160e01b03198216630a85bd0160e11b145b806106a257506001600160e01b03198216630271189760e51b145b806106bd57506001600160e01b031982166301ffc9a760e01b145b806106d857506001600160e01b03198216630b135d3f60e11b145b806106f357506001600160e01b03198216633992254760e01b145b92915050565b60006106f3610706611672565b61070f846114d3565b60405161190160f01b8152600281019290925260228201526042902090565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361077957604051634f81d01360e11b815260040160405180910390fd5b50630a85bd0160e11b949350505050565b60006001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001630036107d557604051634f81d01360e11b815260040160405180910390fd5b6107e084848461179d565b90505b9392505050565b6000336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461083557604051636b31ba1560e11b815260040160405180910390fd5b6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361087e57604051634f81d01360e11b815260040160405180910390fd5b6108908461088b866106f9565b611816565b90506107e38261185e565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610911573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f391906126ef565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061096e5750333014155b1561098c57604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed01015906109d8908490600401612837565b600060405180830381600087803b1580156109f257600080fd5b505af1158015610a06573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610a75573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f39190612908565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ad25750333014155b15610af057604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906349934047906109d8908490600401612837565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610b8557604051634f81d01360e11b815260040160405180910390fd5b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b1580156109f257600080fd5b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610c205750333014155b15610c3e57604051630796d94560e01b815260040160405180910390fd5b610c65610c4e602083018361292a565b6020830135610c606040850185612947565b6118f6565b5050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ca25750333014155b15610cc057604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b158015610d2a57600080fd5b505af1158015610d3e573d6000803e3d6000fd5b505050505050565b6000610d50611672565b905090565b600060608060008060006060610d6961192c565b610d71611959565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b60006001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610de657604051634f81d01360e11b815260040160405180910390fd5b5063bc197c8160e01b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015610e60573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d5091906126ef565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ebd5750333014155b15610edb57604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d20990610f31908990899089908990899089906004016129ee565b600060405180830381600087803b158015610f4b57600080fd5b505af1158015610f5f573d6000803e3d6000fd5b50505050505050505050565b600081600881901b603082901b605083901b610f878486611986565b80610f9b5750610f9b84600160f81b611986565b8015610fc15750610fad836000611986565b80610fc15750610fc183600160f81b611986565b8015610fd557506001600160e01b03198216155b8015610fec575069ffffffffffffffffffff198116155b9695505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401610e43565b6060336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461109757604051630692ce8160e21b815260040160405180910390fd5b83600881901b6110ab82600160f81b611986565b15611131573660006110bd8787611998565b90925090506110cd836000611986565b156110e3576110dc8282611a31565b945061112a565b6110f183600160f81b611986565b15611100576110dc8282611af2565b6040516308c3ee0360e11b81526001600160f81b0319841660048201526024015b60405180910390fd5b50506112b9565b61113c826000611986565b15611294576000803660006111518989611c1f565b6040805160018082528183019092529498509296509094509250816020015b606081526020019060019003908161117057905050965060006111938682611986565b156111c7576111a4858585856118f6565b886000815181106111b7576111b7612a57565b602002602001018190525061128a565b6111d586600160f81b611986565b15611265576111e685858585611c70565b896000815181106111f9576111f9612a57565b6020908102919091010152905080611260577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008960008151811061124157611241612a57565b6020026020010151604051611257929190612a6d565b60405180910390a15b61128a565b6040516308c3ee0360e11b81526001600160f81b031987166004820152602401611121565b50505050506112b9565b604051632e5bf3f960e21b81526001600160f81b031983166004820152602401611121565b50509392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906112fb5750333014155b1561131957604051630796d94560e01b815260040160405180910390fd5b82600881901b61132d82600160f81b611986565b156113885736600061133f8686611998565b909250905061134f836000611986565b156113645761135e8282611a31565b50611381565b61137283600160f81b611986565b156111005761135e8282611af2565b5050610a06565b611393826000611986565b15611294576000803660006113a88888611c1f565b93509350935093506113be85600060f81b611986565b156113d5576113cf848484846118f6565b506114ca565b6113e385600160f81b611986565b156114a557604080516001808252818301909252600091816020015b60608152602001906001900390816113ff579050509050600061142486868686611c70565b8360008151811061143757611437612a57565b602090810291909101015290508061149e577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008360008151811061147f5761147f612a57565b6020026020010151604051611495929190612a6d565b60405180910390a15b50506114ca565b6040516308c3ee0360e11b81526001600160f81b031986166004820152602401611121565b50505050610a06565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc18611503602084018461292a565b60208401356115156040860186612947565b604051611523929190612a86565b6040519081900390206115396060870187612947565b604051611547929190612a86565b604051908190039020608087013560a088013560c089013561156c60e08b018b612947565b60405161157a929190612a86565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361166057604051634f81d01360e11b815260040160405180910390fd5b5063f23a6e6160e01b95945050505050565b6000306001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480156116cb57507f000000000000000000000000000000000000000000000000000000000000000046145b156116f557507f000000000000000000000000000000000000000000000000000000000000000090565b610d50604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b6000306001600160a01b03166117e98585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250611ca192505050565b6001600160a01b0316036118055750630b135d3f60e11b6107e3565b506001600160e01b03199392505050565b6000806118308361182b610100870187612947565b61179d565b90506374eca2c160e11b6001600160e01b03198216016118545760009150506106f3565b5060019392505050565b80156118f357604051600090339060001990849084818181858888f193505050503d80600081146118ab576040519150601f19603f3d011682016040523d82523d6000602084013e6118b0565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a2505b50565b60405181838237600038838387895af1611913573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b6060610d507f00000000000000000000000000000000000000000000000000000000000000006000611ccb565b6060610d507f00000000000000000000000000000000000000000000000000000000000000006001611ccb565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156119d05763ba597e7e6000526004601cfd5b8315611a27578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715611a1e5763ba597e7e6000526004601cfd5b505050826119da575b5050509250929050565b606081806001600160401b03811115611a4c57611a4c612046565b604051908082528060200260200182016040528015611a7f57816020015b6060815260200190600190039081611a6a5790505b50915060005b81811015611aea5736858583818110611aa057611aa0612a57565b9050602002810190611ab29190612a96565b9050611ac4610c4e602083018361292a565b848381518110611ad657611ad6612a57565b602090810291909101015250600101611a85565b505092915050565b606081806001600160401b03811115611b0d57611b0d612046565b604051908082528060200260200182016040528015611b4057816020015b6060815260200190600190039081611b2b5790505b50915060005b81811015611aea5736858583818110611b6157611b61612a57565b9050602002810190611b739190612a96565b90506000611b9e611b87602084018461292a565b6020840135611b996040860186612947565b611c70565b868581518110611bb057611bb0612a57565b6020908102919091010152905080611c15577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110611bf657611bf6612a57565b6020026020010151604051611c0c929190612a6d565b60405180910390a15b5050600101611b46565b6000803681611c316014828789612ab6565b611c3a91612ae0565b60601c9350611c4d603460148789612ab6565b611c5691612b13565b9250611c658560348189612ab6565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080611cb18686611d76565b925092509250611cc18282611dc3565b5090949350505050565b606060ff8314611ce557611cde83611e7c565b90506106f3565b818054611cf190612b31565b80601f0160208091040260200160405190810160405280929190818152602001828054611d1d90612b31565b8015611d6a5780601f10611d3f57610100808354040283529160200191611d6a565b820191906000526020600020905b815481529060010190602001808311611d4d57829003601f168201915b505050505090506106f3565b60008060008351604103611db05760208401516040850151606086015160001a611da288828585611ebb565b955095509550505050611dbc565b50508151600091506002905b9250925092565b6000826003811115611dd757611dd7612b65565b03611de0575050565b6001826003811115611df457611df4612b65565b03611e125760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611e2657611e26612b65565b03611e475760405163fce698f760e01b815260048101829052602401611121565b6003826003811115611e5b57611e5b612b65565b03610c65576040516335e2f38360e21b815260048101829052602401611121565b60606000611e8983611f8a565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115611ef65750600091506003905082611f80565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa158015611f4a573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116611f7657506000925060019150829050611f80565b9250600091508190505b9450945094915050565b600060ff8216601f8111156106f357604051632cd44ac360e21b815260040160405180910390fd5b600060208284031215611fc457600080fd5b81356001600160e01b0319811681146107e357600080fd5b60006101208284031215611fef57600080fd5b50919050565b60006020828403121561200757600080fd5b81356001600160401b0381111561201d57600080fd5b61202984828501611fdc565b949350505050565b6001600160a01b03811681146118f357600080fd5b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b038111828210171561208457612084612046565b604052919050565b600082601f83011261209d57600080fd5b81356001600160401b038111156120b6576120b6612046565b6120c9601f8201601f191660200161205c565b8181528460208386010111156120de57600080fd5b816020850160208301376000918101602001919091529392505050565b6000806000806080858703121561211157600080fd5b843561211c81612031565b9350602085013561212c81612031565b92506040850135915060608501356001600160401b0381111561214e57600080fd5b61215a8782880161208c565b91505092959194509250565b60008083601f84011261217857600080fd5b5081356001600160401b0381111561218f57600080fd5b6020830191508360208285010111156121a757600080fd5b9250929050565b6000806000604084860312156121c357600080fd5b8335925060208401356001600160401b038111156121e057600080fd5b6121ec86828701612166565b9497909650939450505050565b60008060006060848603121561220e57600080fd5b83356001600160401b0381111561222457600080fd5b61223086828701611fdc565b9660208601359650604090950135949350505050565b60006020828403121561225857600080fd5b81356001600160c01b03811681146107e357600080fd5b60006020828403121561228157600080fd5b81356001600160401b0381111561229757600080fd5b820160c081850312156107e357600080fd5b6000602082840312156122bb57600080fd5b5035919050565b6000602082840312156122d457600080fd5b81356001600160401b038111156122ea57600080fd5b8201606081850312156107e357600080fd5b6000806040838503121561230f57600080fd5b823561231a81612031565b946020939093013593505050565b6000815180845260005b8181101561234e57602081850181015186830182015201612332565b506000602082860101526020601f19601f83011685010191505092915050565b60ff60f81b881681526000602060e0602084015261238f60e084018a612328565b83810360408501526123a1818a612328565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156123f5578351835292840192918401916001016123d9565b50909c9b505050505050505050505050565b6020815260006107e36020830184612328565b600082601f83011261242b57600080fd5b813560206001600160401b0382111561244657612446612046565b8160051b61245582820161205c565b928352848101820192828101908785111561246f57600080fd5b83870192505b8483101561248e57823582529183019190830190612475565b979650505050505050565b600080600080600060a086880312156124b157600080fd5b85356124bc81612031565b945060208601356124cc81612031565b935060408601356001600160401b03808211156124e857600080fd5b6124f489838a0161241a565b9450606088013591508082111561250a57600080fd5b61251689838a0161241a565b9350608088013591508082111561252c57600080fd5b506125398882890161208c565b9150509295509295909350565b60008083601f84011261255857600080fd5b5081356001600160401b0381111561256f57600080fd5b6020830191508360208260051b85010111156121a757600080fd5b600080600080600080606087890312156125a357600080fd5b86356001600160401b03808211156125ba57600080fd5b6125c68a838b01612546565b909850965060208901359150808211156125df57600080fd5b6125eb8a838b01612546565b9096509450604089013591508082111561260457600080fd5b5061261189828a01612546565b979a9699509497509295939492505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b8281101561267a57603f19888603018452612668858351612328565b9450928501929085019060010161264c565b5092979650505050505050565b600080600080600060a0868803121561269f57600080fd5b85356126aa81612031565b945060208601356126ba81612031565b9350604086013592506060860135915060808601356001600160401b038111156126e357600080fd5b6125398882890161208c565b60006020828403121561270157600080fd5b5051919050565b6000808335601e1984360301811261271f57600080fd5b83016020810192503590506001600160401b0381111561273e57600080fd5b8036038213156121a757600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561282957858403601f19018a52823536899003605e190181126127b5578283fd5b8801606081356127c481612031565b6001600160a01b031686526127db82880183612708565b82898901526127ed838901828461274d565b9250505060406127ff81840184612708565b93508783038289015261281383858361274d565b9d89019d97505050938601935050600101612790565b509198975050505050505050565b602081526000823561284881612031565b6001600160a01b039081166020848101919091528401359061286982612031565b80821660408501525050604083013560608301526060830135601e1984360301811261289457600080fd5b83016020810190356001600160401b038111156128b057600080fd5b8060051b36038213156128c257600080fd5b60c060808501526128d760e085018284612776565b915050608084013560a08401526128f160a0850185612708565b848303601f190160c0860152610fec83828461274d565b60006020828403121561291a57600080fd5b815180151581146107e357600080fd5b60006020828403121561293c57600080fd5b81356107e381612031565b6000808335601e1984360301811261295e57600080fd5b8301803591506001600160401b0382111561297857600080fd5b6020019150368190038213156121a757600080fd5b6000838385526020808601955060208560051b8301018460005b878110156129e157848303601f190189526129c28288612708565b6129cd85828461274d565b9a86019a94505050908301906001016129a7565b5090979650505050505050565b606081526000612a0260608301888a61298d565b8281036020848101919091528682528791810160005b88811015612a3457833582529282019290820190600101612a18565b508481036040860152612a4881878961298d565b9b9a5050505050505050505050565b634e487b7160e01b600052603260045260246000fd5b8281526040602082015260006107e06040830184612328565b8183823760009101908152919050565b60008235605e19833603018112612aac57600080fd5b9190910192915050565b60008085851115612ac657600080fd5b83861115612ad357600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015611aea5760149490940360031b84901b1690921692915050565b803560208310156106f357600019602084900360031b1b1692915050565b600181811c90821680612b4557607f821691505b602082108103611fef57634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fdfea26469706673582212202a8fc88ef923739742bc7ec1685cd9198a7251cfb58c7e873c821a7e716b2ca664736f6c63430008170033",lI={};N(lI,{abi:()=>yI,bytecode:()=>mI});var yI=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],mI="0x608060405234801561001057600080fd5b5061095e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780638678d6ef146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610677565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d33660046106f5565b50505050505050505050565b005b6100f46100ef3660046107c2565b61018d565b6040519081526020016100bc565b6100df6101103660046106f5565b6101a2565b6100f4610123366004610677565b60006020819052908152604090205481565b6101486101433660046107fe565b610353565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df6101883660046106f5565b610440565b600061019a84848461061d565b949350505050565b85600881901b6101b3816000610660565b6102125760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102208d8d610353565b509250925050600061023333848961061d565b60008181526001602052604090205490915060ff16156102ab5760405162461bcd60e51b815260206004820152602d60248201527f455243323042616c616e63654368616e6765456e666f726365723a656e666f7260448201526c18d95c8b5a5ccb5b1bd8dad959609a1b6064820152608401610209565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa15801561030c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103309190610840565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c05760405162461bcd60e51b815260206004820152602f60248201527f455243323042616c616e63654368616e6765456e666f726365723a696e76616c60448201526e0d2c85ae8cae4dae65ad8cadccee8d608b1b6064820152608401610209565b858560008181106103d3576103d3610859565b909101356001600160f81b031916151594506103f5905060156001878961086f565b6103fe91610899565b60601c925061041160296015878961086f565b61041a91610899565b60601c915061042c856029818961086f565b610435916108ce565b939692955090935050565b6000806000806104508e8e610353565b9350935093509350600061046533858a61061d565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104c5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e99190610840565b9050851561057c5760008281526020819052604090205461050b908490610902565b8110156105775760405162461bcd60e51b815260206004820152603460248201527f455243323042616c616e63654368616e6765456e666f726365723a65786365656044820152736465642d62616c616e63652d646563726561736560601b6064820152608401610209565b61060b565b600082815260208190526040902054610596908490610915565b81101561060b5760405162461bcd60e51b815260206004820152603860248201527f455243323042616c616e63654368616e6765456e666f726365723a696e73756660448201527f66696369656e742d62616c616e63652d696e63726561736500000000000000006064820152608401610209565b50505050505050505050505050505050565b604080516001600160a01b039485166020808301919091529390941684820152606080850192909252805180850390920182526080909301909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561068957600080fd5b5035919050565b60008083601f8401126106a257600080fd5b50813567ffffffffffffffff8111156106ba57600080fd5b6020830191508360208285010111156106d257600080fd5b9250929050565b80356001600160a01b03811681146106f057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561071457600080fd5b8a3567ffffffffffffffff8082111561072c57600080fd5b6107388e838f01610690565b909c509a5060208d013591508082111561075157600080fd5b61075d8e838f01610690565b909a50985060408d0135975060608d013591508082111561077d57600080fd5b5061078a8d828e01610690565b90965094505060808b013592506107a360a08c016106d9565b91506107b160c08c016106d9565b90509295989b9194979a5092959850565b6000806000606084860312156107d757600080fd5b6107e0846106d9565b92506107ee602085016106d9565b9150604084013590509250925092565b6000806020838503121561081157600080fd5b823567ffffffffffffffff81111561082857600080fd5b61083485828601610690565b90969095509350505050565b60006020828403121561085257600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561087f57600080fd5b8386111561088c57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108c65780818660140360031b1b83161692505b505092915050565b8035602083101561067157600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610671576106716108ec565b80820180821115610671576106716108ec56fea26469706673582212202ee065285e6d78b8f4f72189bef225cff106ed6fed2f250af767e847d4faa24364736f6c63430008170033",hI={};N(hI,{abi:()=>gI,bytecode:()=>TI});var gI=[],TI="0x60556032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea26469706673582212201dfea0fb90d440a56b093020135bfa0529382b21cf5681ce6bf65b9ef384b15664736f6c63430008170033",xI={};N(xI,{abi:()=>wI,bytecode:()=>EI});var wI=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_recipient",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],EI="0x608060405234801561001057600080fd5b5061097c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780635f6f02e0146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610686565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610704565b50505050505050505050565b005b6100f46100ef3660046107d1565b61018d565b6040519081526020016100bc565b6100df610110366004610704565b6101a4565b6100f4610123366004610686565b60006020819052908152604090205481565b61014861014336600461081c565b610357565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df610188366004610704565b610445565b600061019b85858585610624565b95945050505050565b85600881901b6101b581600061066f565b6102145760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102228d8d610357565b50925092505060006102363384848a610624565b60008181526001602052604090205490915060ff16156102af5760405162461bcd60e51b815260206004820152602e60248201527f45524337323142616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b606482015260840161020b565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa158015610310573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610334919061085e565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c55760405162461bcd60e51b815260206004820152603060248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b606482015260840161020b565b858560008181106103d8576103d8610877565b909101356001600160f81b031916151594506103fa905060156001878961088d565b610403916108b7565b60601c925061041660296015878961088d565b61041f916108b7565b60601c9150610431856029818961088d565b61043a916108ec565b939692955090935050565b6000806000806104558e8e610357565b9350935093509350600061046b3385858b610624565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ef919061085e565b9050851561058357600082815260208190526040902054610511908490610920565b81101561057e5760405162461bcd60e51b815260206004820152603560248201527f45524337323142616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b606482015260840161020b565b610612565b60008281526020819052604090205461059d908490610933565b8110156106125760405162461bcd60e51b815260206004820152603960248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e63726561736500000000000000606482015260840161020b565b50505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152948616818301529290941660608301526080808301919091528351808303909101815260a0909101909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561069857600080fd5b5035919050565b60008083601f8401126106b157600080fd5b50813567ffffffffffffffff8111156106c957600080fd5b6020830191508360208285010111156106e157600080fd5b9250929050565b80356001600160a01b03811681146106ff57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561072357600080fd5b8a3567ffffffffffffffff8082111561073b57600080fd5b6107478e838f0161069f565b909c509a5060208d013591508082111561076057600080fd5b61076c8e838f0161069f565b909a50985060408d0135975060608d013591508082111561078c57600080fd5b506107998d828e0161069f565b90965094505060808b013592506107b260a08c016106e8565b91506107c060c08c016106e8565b90509295989b9194979a5092959850565b600080600080608085870312156107e757600080fd5b6107f0856106e8565b93506107fe602086016106e8565b925061080c604086016106e8565b9396929550929360600135925050565b6000806020838503121561082f57600080fd5b823567ffffffffffffffff81111561084657600080fd5b6108528582860161069f565b90969095509350505050565b60006020828403121561087057600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561089d57600080fd5b838611156108aa57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108e45780818660140360031b1b83161692505b505092915050565b8035602083101561068057600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156106805761068061090a565b808201808211156106805761068061090a56fea26469706673582212201a908643c89c30b103124ac1346de2de7964be6fc4c537dea357364db407b9ad64736f6c63430008170033",AI={};N(AI,{abi:()=>vI,bytecode:()=>CI});var vI=[{type:"error",name:"ERC7579DecodingError",inputs:[]}],CI="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220e31e42482ef7832f3e446f04f27415313e49db77c6e6717169033c8535b19d3764736f6c63430008170033",II={};N(II,{abi:()=>PI,bytecode:()=>_I});var PI=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"permittedContract_",type:"address",internalType:"address"},{name:"permittedTokenId_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"}],_I="0x608060405234801561001057600080fd5b50610821806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046105ea565b50505050505050505050565b005b6100766100863660046105ea565b6100c1565b61009e6100993660046106bd565b61047c565b604080516001600160a01b03909316835260208301919091520160405180910390f35b856100cd816000610521565b61011e5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61012f816000610521565b6101895760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610115565b506000806101978e8e61047c565b9150915060003660006101aa8c8c610538565b929550935090915050606481101561021b5760405162461bcd60e51b815260206004820152602e60248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d6360448201526d0c2d8d8c8c2e8c25ad8cadccee8d60931b6064820152608401610115565b6000808061022c84600481886106ff565b8101906102399190610729565b919450925090506001600160a01b038316158061025d57506001600160a01b038216155b156102b95760405162461bcd60e51b815260206004820152602660248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d6160448201526564647265737360d01b6064820152608401610115565b60006102c860048287896106ff565b6102d19161076a565b9050886001600160a01b0316876001600160a01b0316146103505760405162461bcd60e51b815260206004820152603360248201527f4552433732315472616e73666572456e666f726365723a756e617574686f72696044820152721e99590b58dbdb9d1c9858dd0b5d185c99d95d606a1b6064820152608401610115565b6001600160e01b031981166323b872dd60e01b1480159061038257506001600160e01b03198116632142170760e11b14155b801561039f57506001600160e01b03198116635c46a7ef60e11b14155b156104015760405162461bcd60e51b815260206004820152602c60248201527f4552433732315472616e73666572456e666f726365723a756e617574686f726960448201526b3d32b216b9b2b632b1ba37b960a11b6064820152608401610115565b8782146104655760405162461bcd60e51b815260206004820152602c60248201527f4552433732315472616e73666572456e666f726365723a756e617574686f726960448201526b1e99590b5d1bdad95b8b5a5960a21b6064820152608401610115565b505050505050505050505050505050505050505050565b600080603483146104e35760405162461bcd60e51b815260206004820152602b60248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610115565b6104f16014600085876106ff565b6104fa9161079a565b60601c915061050c83601481876106ff565b610515916107cd565b60001c90509250929050565b6001600160f81b0319828116908216145b92915050565b600080368161054a60148287896106ff565b6105539161079a565b60601c93506105666034601487896106ff565b61056f916107cd565b925061057e85603481896106ff565b949793965094505050565b60008083601f84011261059b57600080fd5b50813567ffffffffffffffff8111156105b357600080fd5b6020830191508360208285010111156105cb57600080fd5b9250929050565b6001600160a01b03811681146105e757600080fd5b50565b60008060008060008060008060008060e08b8d03121561060957600080fd5b8a3567ffffffffffffffff8082111561062157600080fd5b61062d8e838f01610589565b909c509a5060208d013591508082111561064657600080fd5b6106528e838f01610589565b909a50985060408d0135975060608d013591508082111561067257600080fd5b5061067f8d828e01610589565b90965094505060808b0135925060a08b013561069a816105d2565b915060c08b01356106aa816105d2565b809150509295989b9194979a5092959850565b600080602083850312156106d057600080fd5b823567ffffffffffffffff8111156106e757600080fd5b6106f385828601610589565b90969095509350505050565b6000808585111561070f57600080fd5b8386111561071c57600080fd5b5050820193919092039150565b60008060006060848603121561073e57600080fd5b8335610749816105d2565b92506020840135610759816105d2565b929592945050506040919091013590565b6001600160e01b031981358181169160048510156107925780818660040360031b1b83161692505b505092915050565b6bffffffffffffffffffffffff1981358181169160148510156107925760149490940360031b84901b1690921692915050565b8035602083101561053257600019602084900360031b1b169291505056fea264697066735822122059baae7c286b09a388772bb8a0feea8851f9a4fec98691fdc00e38b6eb1a59b964736f6c63430008170033",SI={};N(SI,{abi:()=>NI,bytecode:()=>DI});var NI=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"initialAmount_",type:"uint256",internalType:"uint256"},{name:"maxAmount_",type:"uint256",internalType:"uint256"},{name:"amountPerSecond_",type:"uint256",internalType:"uint256"},{name:"startTime_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"streamingAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"initialAmount",type:"uint256",internalType:"uint256"},{name:"maxAmount",type:"uint256",internalType:"uint256"},{name:"amountPerSecond",type:"uint256",internalType:"uint256"},{name:"startTime",type:"uint256",internalType:"uint256"},{name:"spent",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"initialAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amountPerSecond",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"},{name:"lastUpdateTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],DI="0x608060405234801561001057600080fd5b50610b7d806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100fb578063fb7d2c5b1461011c57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610910565b50505050505050505050565b005b61009c6100ac366004610910565b610189565b6100c46100bf3660046109dd565b61026e565b604080516001600160a01b0390961686526020860194909452928401919091526060830152608082015260a0015b60405180910390f35b61010e610109366004610a1f565b610365565b6040519081526020016100f2565b61016161012a366004610a1f565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100f2565b856101958160006103d0565b6101e65760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101f78160006103d0565b6102515760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101dd565b506102608c8c898989886103e7565b505050505050505050505050565b600080808080609486146102d85760405162461bcd60e51b815260206004820152602b60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b60648201526084016101dd565b6102e660146000888a610a49565b6102ef91610a73565b60601c945061030260346014888a610a49565b61030b91610aa8565b935061031b60546034888a610a49565b61032491610aa8565b925061033460746054888a610a49565b61033d91610aa8565b915061034d60946074888a610a49565b61035691610aa8565b60001c90509295509295909350565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a081018352815481526001820154938101939093526002810154918301919091526003810154606083015260048101546080830152906103c8906107d9565b949350505050565b6001600160f81b0319828116908216145b92915050565b60003660006103f6878761085a565b929550935090915050604481146104675760405162461bcd60e51b815260206004820152602f60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6560448201526e0f0cac6eae8d2dedc5ad8cadccee8d608b1b60648201526084016101dd565b60008060008060006104798e8e61026e565b94509450945094509450838310156104e55760405162461bcd60e51b815260206004820152602960248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6d604482015268185e0b585b5bdd5b9d60ba1b60648201526084016101dd565b6000811161054c5760405162461bcd60e51b815260206004820152602e60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d7a60448201526d65726f2d73746172742d74696d6560901b60648201526084016101dd565b876001600160a01b0316856001600160a01b0316146105bd5760405162461bcd60e51b815260206004820152602760248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d636044820152661bdb9d1c9858dd60ca1b60648201526084016101dd565b63a9059cbb60e01b6105d360046000898b610a49565b6105dc91610ac6565b6001600160e01b031916146106415760405162461bcd60e51b815260206004820152602560248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6d604482015264195d1a1bd960da1b60648201526084016101dd565b336000908152602081815260408083208d84529091528120600481015490910361067e578481556001810184905560028101839055600381018290555b600061068e604460248a8c610a49565b61069791610aa8565b6040805160a081018252845481526001850154602082015260028501549181019190915260038401546060820152600484015460808201529091506106db906107d9565b81111561073c5760405162461bcd60e51b815260206004820152602960248201527f455243323053747265616d696e67456e666f726365723a616c6c6f77616e63656044820152680b595e18d95959195960ba1b60648201526084016101dd565b808260040160008282546107509190610b0a565b90915550506004820154604080516001600160a01b038a81168252602082018a9052818301899052606082018890526080820187905260a08201939093524260c082015290518e928e169133917f30ceca901166c86cac9d1024230d7f5740b26cce6bdd9bad7b1d6e616904ea639181900360e00190a450505050505050505050505050505050565b600081606001514210156107ef57506000919050565b60008260600151426108019190610b1d565b905060008184604001516108159190610b30565b84516108219190610b0a565b90508360200151811115610836575060208301515b8084608001511061084b575060009392505050565b60808401516103c89082610b1d565b600080368161086c6014828789610a49565b61087591610a73565b60601c9350610888603460148789610a49565b61089191610aa8565b92506108a08560348189610a49565b949793965094505050565b60008083601f8401126108bd57600080fd5b50813567ffffffffffffffff8111156108d557600080fd5b6020830191508360208285010111156108ed57600080fd5b9250929050565b80356001600160a01b038116811461090b57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561092f57600080fd5b8a3567ffffffffffffffff8082111561094757600080fd5b6109538e838f016108ab565b909c509a5060208d013591508082111561096c57600080fd5b6109788e838f016108ab565b909a50985060408d0135975060608d013591508082111561099857600080fd5b506109a58d828e016108ab565b90965094505060808b013592506109be60a08c016108f4565b91506109cc60c08c016108f4565b90509295989b9194979a5092959850565b600080602083850312156109f057600080fd5b823567ffffffffffffffff811115610a0757600080fd5b610a13858286016108ab565b90969095509350505050565b60008060408385031215610a3257600080fd5b610a3b836108f4565b946020939093013593505050565b60008085851115610a5957600080fd5b83861115610a6657600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610aa05780818660140360031b1b83161692505b505092915050565b803560208310156103e157600019602084900360031b1b1692915050565b6001600160e01b03198135818116916004851015610aa05760049490940360031b84901b1690921692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103e1576103e1610af4565b818103818111156103e1576103e1610af4565b80820281158282048414176103e1576103e1610af456fea2646970667358221220d9282c553e448eac7b4631259f5a457c28077fd4d88ef08db72ec3df532e99ed64736f6c63430008170033",MI={};N(MI,{abi:()=>OI,bytecode:()=>kI});var OI=[{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}],kI="0x",RI={};N(RI,{abi:()=>BI,bytecode:()=>FI});var BI=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"callData_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"}],FI="0x608060405234801561001057600080fd5b50610559806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610338565b50505050505050505050565b005b610076610086366004610338565b6100b4565b61009e610099366004610405565b61022b565b6040516100ab9190610447565b60405180910390f35b856100c081600061026b565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61012281600061026b565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b5036600061018a8989610282565b935093505050600061019c8f8f61022b565b905082826040516101ae929190610496565b604051809103902081805190602001201461021a5760405162461bcd60e51b815260206004820152602660248201527f457861637443616c6c64617461456e666f726365723a696e76616c69642d63616044820152656c6c6461746160d01b6064820152608401610108565b505050505050505050505050505050565b606082828080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929695505050505050565b6001600160f81b0319828116908216145b92915050565b600080368161029460148287896104a6565b61029d916104d0565b60601c93506102b06034601487896104a6565b6102b991610505565b92506102c885603481896104a6565b949793965094505050565b60008083601f8401126102e557600080fd5b50813567ffffffffffffffff8111156102fd57600080fd5b60208301915083602082850101111561031557600080fd5b9250929050565b80356001600160a01b038116811461033357600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035757600080fd5b8a3567ffffffffffffffff8082111561036f57600080fd5b61037b8e838f016102d3565b909c509a5060208d013591508082111561039457600080fd5b6103a08e838f016102d3565b909a50985060408d0135975060608d01359150808211156103c057600080fd5b506103cd8d828e016102d3565b90965094505060808b013592506103e660a08c0161031c565b91506103f460c08c0161031c565b90509295989b9194979a5092959850565b6000806020838503121561041857600080fd5b823567ffffffffffffffff81111561042f57600080fd5b61043b858286016102d3565b90969095509350505050565b60006020808352835180602085015260005b8181101561047557858101830151858201604001528201610459565b506000604082860101526040601f19601f8301168501019250505092915050565b8183823760009101908152919050565b600080858511156104b657600080fd5b838611156104c357600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156104fd5780818660140360031b1b83161692505b505092915050565b8035602083101561027c57600019602084900360031b1b169291505056fea26469706673582212207ea2be587c5142bd07609ab1e9e3d82af76502619dbab0e88f14c164094d01e564736f6c63430008170033",LI={};N(LI,{abi:()=>UI,bytecode:()=>HI});var UI=[{type:"function",name:"aggregateSignatures",inputs:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"aggregatedSignature",type:"bytes",internalType:"bytes"}],stateMutability:"view"},{type:"function",name:"validateSignatures",inputs:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"view"},{type:"function",name:"validateUserOpSignature",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"sigForUserOp",type:"bytes",internalType:"bytes"}],stateMutability:"view"}],HI="0x",GI={};N(GI,{abi:()=>VI,bytecode:()=>zI});var VI=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"execution_",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],zI="0x608060405234801561001057600080fd5b5061062f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103e9565b50505050505050505050565b005b6100766100863660046103e9565b6100b4565b61009e6100993660046104b6565b610197565b6040516100ab91906104f8565b60405180910390f35b856100c0816000610210565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610122816000610210565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b506101898c8c8989610227565b505050505050505050505050565b604080516060808201835260008083526020830152918101919091526101bd8383610333565b81818080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050506040860152505060208301526001600160a01b0316815292915050565b6001600160f81b0319828116908216145b92915050565b6000803660006102378686610333565b929650909450925090506001600160a01b038416610259601460008a8c61056c565b61026291610596565b60601c14801561028757508261027c603460148a8c61056c565b610285916105cb565b145b80156102cc5750818160405161029e9291906105e9565b6040519081900390206102b4886034818c61056c565b6040516102c29291906105e9565b6040518091039020145b6103295760405162461bcd60e51b815260206004820152602860248201527f4578616374457865637574696f6e456e666f726365723a696e76616c69642d656044820152673c32b1baba34b7b760c11b6064820152608401610108565b5050505050505050565b6000803681610345601482878961056c565b61034e91610596565b60601c935061036160346014878961056c565b61036a916105cb565b9250610379856034818961056c565b949793965094505050565b60008083601f84011261039657600080fd5b50813567ffffffffffffffff8111156103ae57600080fd5b6020830191508360208285010111156103c657600080fd5b9250929050565b80356001600160a01b03811681146103e457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561040857600080fd5b8a3567ffffffffffffffff8082111561042057600080fd5b61042c8e838f01610384565b909c509a5060208d013591508082111561044557600080fd5b6104518e838f01610384565b909a50985060408d0135975060608d013591508082111561047157600080fd5b5061047e8d828e01610384565b90965094505060808b0135925061049760a08c016103cd565b91506104a560c08c016103cd565b90509295989b9194979a5092959850565b600080602083850312156104c957600080fd5b823567ffffffffffffffff8111156104e057600080fd5b6104ec85828601610384565b90969095509350505050565b6000602080835260018060a01b038451166020840152602084015160408401526040840151606080850152805180608086015260005b8181101561054a5782810184015186820160a00152830161052e565b50600060a0828701015260a0601f19601f830116860101935050505092915050565b6000808585111561057c57600080fd5b8386111561058957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105c35780818660140360031b1b83161692505b505092915050565b8035602083101561022157600019602084900360031b1b1692915050565b818382376000910190815291905056fea2646970667358221220e961f8992a129634c5841f6f8ff7eac208b6822d2646363c613c0f46bcd65a0b64736f6c63430008170033",KI={};N(KI,{abi:()=>WI,bytecode:()=>jI});var WI=[{type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"}],jI="0x",$I={};N($I,{abi:()=>YI,bytecode:()=>JI});var YI=[{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disabledDelegations",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDelegationHash",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DisabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"EnabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"RedeemedDelegation",inputs:[{name:"rootDelegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"SetDomain",inputs:[{name:"domainHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"domainVersion",type:"string",indexed:!1,internalType:"string"},{name:"chainId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"contractAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadyDisabled",inputs:[]},{type:"error",name:"AlreadyEnabled",inputs:[]},{type:"error",name:"BatchDataLengthMismatch",inputs:[]},{type:"error",name:"CannotUseADisabledDelegation",inputs:[]},{type:"error",name:"EmptySignature",inputs:[]},{type:"error",name:"InvalidAuthority",inputs:[]},{type:"error",name:"InvalidDelegate",inputs:[]},{type:"error",name:"InvalidDelegator",inputs:[]},{type:"error",name:"InvalidEOASignature",inputs:[]},{type:"error",name:"InvalidERC1271Signature",inputs:[]}],JI="0x",qp={};N(qp,{abi:()=>QI,bytecode:()=>qI});var QI=[{type:"receive",stateMutability:"payable"},{type:"function",name:"addStake",inputs:[{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegateAndRevert",inputs:[{name:"target",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"deposits",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getSenderAddress",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"handleAggregatedOps",inputs:[{name:"opsPerAggregator",type:"tuple[]",internalType:"struct IEntryPoint.UserOpsPerAggregator[]",components:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"aggregator",type:"address",internalType:"contract IAggregator"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"handleOps",inputs:[{name:"ops",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"innerHandleOp",inputs:[{name:"callData",type:"bytes",internalType:"bytes"},{name:"opInfo",type:"tuple",internalType:"struct EntryPoint.UserOpInfo",components:[{name:"mUserOp",type:"tuple",internalType:"struct EntryPoint.MemoryUserOp",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256",internalType:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"paymaster",type:"address",internalType:"address"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"prefund",type:"uint256",internalType:"uint256"},{name:"contextOffset",type:"uint256",internalType:"uint256"},{name:"preOpGas",type:"uint256",internalType:"uint256"}]},{name:"context",type:"bytes",internalType:"bytes"}],outputs:[{name:"actualGasCost",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"nonceSequenceNumber",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AccountDeployed",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"factory",type:"address",indexed:!1,internalType:"address"},{name:"paymaster",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeforeExecution",inputs:[],anonymous:!1},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PostOpRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"SignatureAggregatorChanged",inputs:[{name:"aggregator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationEvent",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"paymaster",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"},{name:"actualGasCost",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actualGasUsed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationPrefundTooLow",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"DelegateAndRevert",inputs:[{name:"success",type:"bool",internalType:"bool"},{name:"ret",type:"bytes",internalType:"bytes"}]},{type:"error",name:"FailedOp",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"}]},{type:"error",name:"FailedOpWithRevert",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"},{name:"inner",type:"bytes",internalType:"bytes"}]},{type:"error",name:"PostOpReverted",inputs:[{name:"returnData",type:"bytes",internalType:"bytes"}]},{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]},{type:"error",name:"SenderAddressResult",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"SignatureValidationFailed",inputs:[{name:"aggregator",type:"address",internalType:"address"}]}],qI="0x60a0604052604051620000129062000051565b604051809103905ff0801580156200002c573d5f803e3d5ffd5b506001600160a01b031660805234801562000045575f80fd5b5060016002556200005f565b6101ff806200374883390190565b6080516136c96200007f5f395f8181610de0015261271501526136c95ff3fe608060405260043610610107575f3560e01c806370a0823111610092578063b760faf911610062578063b760faf914610425578063bb9fe6bf14610438578063c23a5cea1461044c578063dbed18e01461046b578063fc7e286d1461048a575f80fd5b806370a0823114610394578063765e827f146103c8578063850aaf62146103e75780639b249f6914610406575f80fd5b80631b2e01b8116100d85780631b2e01b8146101ae578063205c2878146101e457806322cdde4c1461020357806335567e1a146102225780635287ce1214610280575f80fd5b806242dc531461011b57806301ffc9a71461014d5780630396cb601461017c5780630bd28e3b1461018f575f80fd5b366101175761011533610530565b005b5f80fd5b348015610126575f80fd5b5061013a610135366004612c4f565b610584565b6040519081526020015b60405180910390f35b348015610158575f80fd5b5061016c610167366004612d06565b610702565b6040519015158152602001610144565b61011561018a366004612d2d565b610789565b34801561019a575f80fd5b506101156101a9366004612d66565b610a14565b3480156101b9575f80fd5b5061013a6101c8366004612d7f565b600160209081525f928352604080842090915290825290205481565b3480156101ef575f80fd5b506101156101fe366004612db2565b610a4a565b34801561020e575f80fd5b5061013a61021d366004612ddc565b610b96565b34801561022d575f80fd5b5061013a61023c366004612d7f565b6001600160a01b0382165f9081526001602090815260408083206001600160c01b038516845290915290819020549082901b67ffffffffffffffff19161792915050565b34801561028b575f80fd5b5061033a61029a366004612e13565b6040805160a0810182525f80825260208201819052918101829052606081018290526080810191909152506001600160a01b03165f9081526020818152604091829020825160a0810184528154815260019091015460ff811615159282019290925261010082046001600160701b031692810192909252600160781b810463ffffffff166060830152600160981b900465ffffffffffff16608082015290565b60405161014491905f60a082019050825182526020830151151560208301526001600160701b03604084015116604083015263ffffffff606084015116606083015265ffffffffffff608084015116608083015292915050565b34801561039f575f80fd5b5061013a6103ae366004612e13565b6001600160a01b03165f9081526020819052604090205490565b3480156103d3575f80fd5b506101156103e2366004612e6e565b610bd7565b3480156103f2575f80fd5b50610115610401366004612ec0565b610d4c565b348015610411575f80fd5b50610115610420366004612f10565b610dc7565b610115610433366004612e13565b610530565b348015610443575f80fd5b50610115610e7e565b348015610457575f80fd5b50610115610466366004612e13565b610fa8565b348015610476575f80fd5b50610115610485366004612e6e565b6111c7565b348015610495575f80fd5b506104ed6104a4366004612e13565b5f602081905290815260409020805460019091015460ff81169061010081046001600160701b031690600160781b810463ffffffff1690600160981b900465ffffffffffff1685565b6040805195865293151560208601526001600160701b039092169284019290925263ffffffff909116606083015265ffffffffffff16608082015260a001610144565b5f61053b82346115ce565b9050816001600160a01b03167f2da466a7b24304f47e87fa2e1e5a81b9831ce54fec19055ce277ca2f39ba42c48260405161057891815260200190565b60405180910390a25050565b5f805a90503330146105dd5760405162461bcd60e51b815260206004820152601760248201527f4141393220696e7465726e616c2063616c6c206f6e6c7900000000000000000060448201526064015b60405180910390fd5b8451606081015160a082015181016127100160405a603f028161060257610602612f4e565b0410156106185763deaddead60e01b5f5260205ffd5b87515f90156106a6575f610631845f01515f8c86611600565b9050806106a4575f610644610800611616565b80519091501561069e57845f01516001600160a01b03168a602001517f1c4fada7374c0a9ee8841fc38afe82932dc0f8e69012e927f061a8bae611a201876020015184604051610695929190612faf565b60405180910390a35b60019250505b505b5f88608001515a86030190506106f4828a8a8a8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250879250611641915050565b9a9950505050505050505050565b5f6001600160e01b0319821663307e35b760e11b148061073257506001600160e01b0319821663122a0e9b60e31b145b8061074d57506001600160e01b0319821663cf28ef9760e01b145b8061076857506001600160e01b03198216633e84f02160e01b145b8061078357506301ffc9a760e01b6001600160e01b03198316145b92915050565b335f90815260208190526040902063ffffffff82166107ea5760405162461bcd60e51b815260206004820152601a60248201527f6d757374207370656369667920756e7374616b652064656c617900000000000060448201526064016105d4565b600181015463ffffffff600160781b9091048116908316101561084f5760405162461bcd60e51b815260206004820152601c60248201527f63616e6e6f7420646563726561736520756e7374616b652074696d650000000060448201526064016105d4565b60018101545f9061086f90349061010090046001600160701b0316612fdb565b90505f81116108b55760405162461bcd60e51b81526020600482015260126024820152711b9bc81cdd185ad9481cdc1958da599a595960721b60448201526064016105d4565b6001600160701b038111156108fd5760405162461bcd60e51b815260206004820152600e60248201526d7374616b65206f766572666c6f7760901b60448201526064016105d4565b6040805160a08101825283548152600160208083018281526001600160701b0386811685870190815263ffffffff8a8116606088018181525f60808a0181815233808352828a52918c90209a518b55965199909801805494519151965165ffffffffffff16600160981b0265ffffffffffff60981b1997909416600160781b029690961669ffffffffffffffffffff60781b1991909516610100026effffffffffffffffffffffffffff0019991515999099166effffffffffffffffffffffffffffff1990941693909317979097179190911691909117179055835185815290810192909252917fa5ae833d0bb1dcd632d98a8b70973e8516812898e19bf27b70071ebc8dc52c01910160405180910390a2505050565b335f9081526001602090815260408083206001600160c01b03851684529091528120805491610a4283612fee565b919050555050565b335f9081526020819052604090208054821115610aa95760405162461bcd60e51b815260206004820152601960248201527f576974686472617720616d6f756e7420746f6f206c617267650000000000000060448201526064016105d4565b8054610ab6908390613006565b8155604080516001600160a01b03851681526020810184905233917fd1c19fbcd4551a5edfb66d43d2e337c04837afda3482b42bdf569a8fccdae5fb910160405180910390a25f836001600160a01b0316836040515f6040518083038185875af1925050503d805f8114610b45576040519150601f19603f3d011682016040523d82523d5f602084013e610b4a565b606091505b5050905080610b905760405162461bcd60e51b81526020600482015260126024820152716661696c656420746f20776974686472617760701b60448201526064016105d4565b50505050565b5f610ba0826117f9565b6040805160208101929092523090820152466060820152608001604051602081830303815290604052805190602001209050919050565b610bdf611811565b815f816001600160401b03811115610bf957610bf9612a5a565b604051908082528060200260200182016040528015610c3257816020015b610c1f6129d0565b815260200190600190039081610c175790505b5090505f5b82811015610ca7575f828281518110610c5257610c52613019565b602002602001015190505f80610c8c848a8a87818110610c7457610c74613019565b9050602002810190610c86919061302d565b85611839565b91509150610c9c8483835f611a3b565b505050600101610c37565b506040515f907fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972908290a15f5b83811015610d2f57610d2381888884818110610cf257610cf2613019565b9050602002810190610d04919061302d565b858481518110610d1657610d16613019565b6020026020010151611bd5565b90910190600101610cd4565b50610d3a8482611e83565b505050610d476001600255565b505050565b5f80846001600160a01b03168484604051610d6892919061304c565b5f60405180830381855af49150503d805f8114610da0576040519150601f19603f3d011682016040523d82523d5f602084013e610da5565b606091505b50915091508181604051632650415560e21b81526004016105d492919061305b565b604051632b870d1b60e11b81525f906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063570e1a3690610e17908690869060040161309d565b6020604051808303815f875af1158015610e33573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610e5791906130b0565b604051633653dc0360e11b81526001600160a01b03821660048201529091506024016105d4565b335f90815260208190526040812060018101549091600160781b90910463ffffffff169003610edc5760405162461bcd60e51b815260206004820152600a6024820152691b9bdd081cdd185ad95960b21b60448201526064016105d4565b600181015460ff16610f245760405162461bcd60e51b8152602060048201526011602482015270616c726561647920756e7374616b696e6760781b60448201526064016105d4565b60018101545f90610f4290600160781b900463ffffffff16426130cb565b60018301805460ff65ffffffffffff60981b011916600160981b65ffffffffffff841690810260ff19169190911790915560405190815290915033907ffa9b3c14cc825c412c9ed81b3ba365a5b459439403f18829e572ed53a4180f0a90602001610578565b335f908152602081905260409020600181015461010090046001600160701b03168061100d5760405162461bcd60e51b81526020600482015260146024820152734e6f207374616b6520746f20776974686472617760601b60448201526064016105d4565b6001820154600160981b900465ffffffffffff1661106d5760405162461bcd60e51b815260206004820152601d60248201527f6d7573742063616c6c20756e6c6f636b5374616b65282920666972737400000060448201526064016105d4565b600182015442600160981b90910465ffffffffffff1611156110d15760405162461bcd60e51b815260206004820152601b60248201527f5374616b65207769746864726177616c206973206e6f7420647565000000000060448201526064016105d4565b600182018054610100600160c81b0319169055604080516001600160a01b03851681526020810183905233917fb7c918e0e249f999e965cafeb6c664271b3f4317d296461500e71da39f0cbda3910160405180910390a25f836001600160a01b0316826040515f6040518083038185875af1925050503d805f8114611171576040519150601f19603f3d011682016040523d82523d5f602084013e611176565b606091505b5050905080610b905760405162461bcd60e51b815260206004820152601860248201527f6661696c656420746f207769746864726177207374616b65000000000000000060448201526064016105d4565b6111cf611811565b815f805b8281101561133657368686838181106111ee576111ee613019565b905060200281019061120091906130f1565b9050365f61120e8380613105565b90925090505f6112246040850160208601612e13565b90505f196001600160a01b0382160161127f5760405162461bcd60e51b815260206004820152601760248201527f4141393620696e76616c69642061676772656761746f7200000000000000000060448201526064016105d4565b6001600160a01b0381161561131a576001600160a01b038116632dd8113384846112ac604089018961314a565b6040518563ffffffff1660e01b81526004016112cb94939291906132ab565b5f6040518083038186803b1580156112e1575f80fd5b505afa9250505080156112f2575060015b61131a5760405163086a9f7560e41b81526001600160a01b03821660048201526024016105d4565b6113248287612fdb565b955050600190930192506111d3915050565b505f816001600160401b0381111561135057611350612a5a565b60405190808252806020026020018201604052801561138957816020015b6113766129d0565b81526020019060019003908161136e5790505b5090505f805b8481101561146057368888838181106113aa576113aa613019565b90506020028101906113bc91906130f1565b9050365f6113ca8380613105565b90925090505f6113e06040850160208601612e13565b9050815f5b8181101561144e575f89898151811061140057611400613019565b602002602001015190505f806114228b898987818110610c7457610c74613019565b9150915061143284838389611a3b565b8a61143c81612fee565b9b5050600190930192506113e5915050565b50506001909401935061138f92505050565b506040517fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972905f90a1505f80805b8581101561158a57368989838181106114a9576114a9613019565b90506020028101906114bb91906130f1565b90506114cd6040820160208301612e13565b6001600160a01b03167f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d60405160405180910390a2365f61150e8380613105565b9092509050805f5b81811015611579576115588885858481811061153457611534613019565b9050602002810190611546919061302d565b8b8b81518110610d1657610d16613019565b6115629088612fdb565b96508761156e81612fee565b985050600101611516565b50506001909301925061148e915050565b506040515f907f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d908290a26115bf8682611e83565b5050505050610d476001600255565b6001600160a01b0382165f908152602081905260408120805482906115f4908590612fdb565b91829055509392505050565b5f805f845160208601878987f195945050505050565b60603d828111156116245750815b604051602082018101604052818152815f602083013e9392505050565b5f805a85519091505f908161165582611f78565b60e08301519091506001600160a01b038116611674578251935061172b565b8093505f8851111561172b57868202955060028a600281111561169957611699613325565b1461172b5760a0830151604051637c627b2160e01b81526001600160a01b03831691637c627b21916116d5908e908d908c908990600401613339565b5f604051808303815f88803b1580156116ec575f80fd5b5087f1935050505080156116fe575060015b61172b575f61170e610800611616565b905080604051632b5e552f60e21b81526004016105d49190613380565b5a60a0840151606085015160808c01519288039990990198019088038082111561175e576064600a828403020498909801975b505060408901518783029650868110156117b75760028b600281111561178657611786613325565b036117a8578096506117978a611fa9565b6117a38a5f898b611ff8565b6117eb565b63deadaa5160e01b5f5260205ffd5b8681036117c486826115ce565b505f808d60028111156117d9576117d9613325565b1490506117e88c828b8d611ff8565b50505b505050505050949350505050565b5f61180382612073565b805190602001209050919050565b600280540361183357604051633ee5aeb560e01b815260040160405180910390fd5b60028055565b5f805f5a845190915061184c8682612128565b61185586610b96565b6020860152604081015161012082015161010083015160a08401516080850151606086015160c0870151861717171717176effffffffffffffffffffffffffffff8111156118e55760405162461bcd60e51b815260206004820152601860248201527f41413934206761732076616c756573206f766572666c6f77000000000000000060448201526064016105d4565b5f6119138460c081015160a08201516080830151606084015160408501516101009095015194010101010290565b90506119228a8a8a8487612234565b9650611935845f015185602001516123c5565b61198b5789604051631101335b60e11b81526004016105d4918152604060208201819052601a908201527f4141323520696e76616c6964206163636f756e74206e6f6e6365000000000000606082015260800190565b825a860311156119e75789604051631101335b60e11b81526004016105d4918152604060208201819052601e908201527f41413236206f76657220766572696669636174696f6e4761734c696d69740000606082015260800190565b60e08401516060906001600160a01b031615611a0e57611a098b8b8b85612411565b975090505b604089018290528060608a015260a08a01355a870301896080018181525050505050505050935093915050565b5f80611a46856125c8565b91509150816001600160a01b0316836001600160a01b031614611aac5785604051631101335b60e11b81526004016105d49181526040602082018190526014908201527320a0991a1039b4b3b730ba3ab9329032b93937b960611b606082015260800190565b8015611b045785604051631101335b60e11b81526004016105d49181526040602082018190526017908201527f414132322065787069726564206f72206e6f7420647565000000000000000000606082015260800190565b5f611b0e856125c8565b925090506001600160a01b03811615611b6a5786604051631101335b60e11b81526004016105d49181526040602082018190526014908201527320a0999a1039b4b3b730ba3ab9329032b93937b960611b606082015260800190565b8115611bcc5786604051631101335b60e11b81526004016105d49181526040602082018190526021908201527f41413332207061796d61737465722065787069726564206f72206e6f742064756060820152606560f81b608082015260a00190565b50505050505050565b5f805a90505f611be6846060015190565b6040519091505f903682611bfd60608a018a61314a565b9150915060605f826003811115611c1357843591505b506372288ed160e01b6001600160e01b0319821601611cc0575f8b8b60200151604051602401611c44929190613392565b60408051601f198184030181529181526020820180516001600160e01b0316638dd7712f60e01b1790525190915030906242dc5390611c8b9084908f908d9060240161345d565b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050925050611d15565b306001600160a01b03166242dc5385858d8b604051602401611ce5949392919061349c565b604051602081830303815290604052915060e01b6020820180516001600160e01b03838183161783525050505091505b60205f8351602085015f305af195505f51985084604052505050505080611e79575f3d80602003611d4a5760205f803e5f5191505b5063deaddead60e01b8103611d9d5787604051631101335b60e11b81526004016105d4918152604060208201819052600f908201526e41413935206f7574206f662067617360881b606082015260800190565b63deadaa5160e01b8103611dec575f86608001515a611dbc9087613006565b611dc69190612fdb565b6040880151909150611dd788611fa9565b611de3885f8385611ff8565b9550611e779050565b855180516020808901519201516001600160a01b0390911691907ff62676f440ff169a3a9afdbf812e89e7f95975ee8e5c31214ffdef631c5f479290611e33610800611616565b604051611e41929190612faf565b60405180910390a35f86608001515a611e5a9087613006565b611e649190612fdb565b9050611e736002888684611641565b9550505b505b5050509392505050565b6001600160a01b038216611ed95760405162461bcd60e51b815260206004820152601860248201527f4141393020696e76616c69642062656e6566696369617279000000000000000060448201526064016105d4565b5f826001600160a01b0316826040515f6040518083038185875af1925050503d805f8114611f22576040519150601f19603f3d011682016040523d82523d5f602084013e611f27565b606091505b5050905080610d475760405162461bcd60e51b815260206004820152601f60248201527f41413931206661696c65642073656e6420746f2062656e65666963696172790060448201526064016105d4565b6101008101516101208201515f9190808203611f95575092915050565b611fa182488301612617565b949350505050565b80518051602080840151928101516040519081526001600160a01b0390921692917f67b4fa9642f42120bf031f3051d1824b0fe25627945b27b8a6a65d5761d5482e910160405180910390a350565b835160e081015181516020808801519301516040516001600160a01b039384169492909316927f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f916120659189908990899093845291151560208401526040830152606082015260800190565b60405180910390a450505050565b6060813560208301355f61209261208d604087018761314a565b61262e565b90505f6120a561208d606088018861314a565b9050608086013560a087013560c08801355f6120c761208d60e08c018c61314a565b604080516001600160a01b039a909a1660208b015289810198909852606089019690965250608087019390935260a086019190915260c085015260e08401526101008084019190915281518084039091018152610120909201905292915050565b6121356020830183612e13565b6001600160a01b03168152602082810135908201526001600160801b036080808401358281166060850152811c604084015260a084013560c0808501919091528401359182166101008401521c610120820152365f61219760e085018561314a565b9092509050801561221a5760348110156121f35760405162461bcd60e51b815260206004820152601d60248201527f4141393320696e76616c6964207061796d6173746572416e644461746100000060448201526064016105d4565b6121fd8282612640565b60a086015260808501526001600160a01b031660e0840152610b90565b5f60e084018190526080840181905260a084015250505050565b825180515f9190612252888761224d60408b018b61314a565b6126a7565b60e08201515f6001600160a01b038216612293576001600160a01b0383165f9081526020819052604090205487811161228d5780880361228f565b5f5b9150505b60208801516040516306608bdf60e21b81526001600160a01b038516916319822f7c9189916122c9918e919087906004016134d2565b6020604051808303815f8887f193505050508015612304575060408051601f3d908101601f19168201909252612301918101906134f6565b60015b61232f5789612314610800611616565b6040516365c8fd4d60e01b81526004016105d492919061350d565b94506001600160a01b0382166123b8576001600160a01b0383165f9081526020819052604090208054808911156123b2578b604051631101335b60e11b81526004016105d49181526040602082018190526017908201527f41413231206469646e2774207061792070726566756e64000000000000000000606082015260800190565b88900390555b5050505095945050505050565b6001600160a01b0382165f90815260016020908152604080832084821c80855292528220805484916001600160401b03831691908561240383612fee565b909155501495945050505050565b60605f805a855160e08101516001600160a01b0381165f9081526020819052604090208054939450919290919087811015612498578a604051631101335b60e11b81526004016105d4918152604060208201819052601e908201527f41413331207061796d6173746572206465706f73697420746f6f206c6f770000606082015260800190565b878103825f01819055505f84608001519050836001600160a01b03166352b7512c828d8d602001518d6040518563ffffffff1660e01b81526004016124df939291906134d2565b5f604051808303815f8887f19350505050801561251d57506040513d5f823e601f3d908101601f1916820160405261251a9190810190613549565b60015b612548578b61252d610800611616565b6040516365c8fd4d60e01b81526004016105d49291906135c4565b9098509650805a870311156125b9578b604051631101335b60e11b81526004016105d49181526040602082018190526027908201527f41413336206f766572207061796d6173746572566572696669636174696f6e47606082015266185cd31a5b5a5d60ca1b608082015260a00190565b50505050505094509492505050565b5f80825f036125db57505f928392509050565b5f6125e584612961565b9050806040015165ffffffffffff1642118061260c5750806020015165ffffffffffff1642105b905194909350915050565b5f8183106126255781612627565b825b9392505050565b5f604051828085833790209392505050565b5f80806126506014828688613600565b61265991613627565b60601c61266a602460148789613600565b6126739161365c565b60801c61268460346024888a613600565b61268d9161365c565b9194506001600160801b0316925060801c90509250925092565b8015610b90578251516001600160a01b0381163b156127125784604051631101335b60e11b81526004016105d4918152604060208201819052601f908201527f414131302073656e64657220616c726561647920636f6e737472756374656400606082015260800190565b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663570e1a36865f01516040015186866040518463ffffffff1660e01b815260040161276992919061309d565b6020604051808303815f8887f1158015612785573d5f803e3d5ffd5b50505050506040513d601f19601f820116820180604052508101906127aa91906130b0565b90506001600160a01b03811661280c5785604051631101335b60e11b81526004016105d4918152604060208201819052601b908201527f4141313320696e6974436f6465206661696c6564206f72204f4f470000000000606082015260800190565b816001600160a01b0316816001600160a01b0316146128765785604051631101335b60e11b81526004016105d491815260406020808301829052908201527f4141313420696e6974436f6465206d7573742072657475726e2073656e646572606082015260800190565b806001600160a01b03163b5f036128d85785604051631101335b60e11b81526004016105d491815260406020808301829052908201527f4141313520696e6974436f6465206d757374206372656174652073656e646572606082015260800190565b5f6128e66014828688613600565b6128ef91613627565b60601c9050826001600160a01b031686602001517fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d83895f015160e001516040516129509291906001600160a01b0392831681529116602082015260400190565b60405180910390a350505050505050565b604080516060810182525f80825260208201819052918101919091528160a081901c65ffffffffffff81165f0361299b575065ffffffffffff5b604080516060810182526001600160a01b03909316835260d09490941c602083015265ffffffffffff16928101929092525090565b6040518060a00160405280612a396040518061014001604052805f6001600160a01b031681526020015f81526020015f81526020015f81526020015f81526020015f81526020015f81526020015f6001600160a01b031681526020015f81526020015f81525090565b81526020015f80191681526020015f81526020015f81526020015f81525090565b634e487b7160e01b5f52604160045260245ffd5b60405160a081016001600160401b0381118282101715612a9057612a90612a5a565b60405290565b60405161014081016001600160401b0381118282101715612a9057612a90612a5a565b604051601f8201601f191681016001600160401b0381118282101715612ae157612ae1612a5a565b604052919050565b5f6001600160401b03821115612b0157612b01612a5a565b50601f01601f191660200190565b6001600160a01b0381168114612b23575f80fd5b50565b8035612b3181612b0f565b919050565b5f8183036101c0811215612b48575f80fd5b612b50612a6e565b915061014080821215612b61575f80fd5b612b69612a96565b9150612b7484612b26565b82526020840135602083015260408401356040830152606084013560608301526080840135608083015260a084013560a083015260c084013560c0830152612bbe60e08501612b26565b60e0830152610100848101359083015261012080850135908301529082528201356020820152610160820135604082015261018082013560608201526101a0909101356080820152919050565b5f8083601f840112612c1b575f80fd5b5081356001600160401b03811115612c31575f80fd5b602083019150836020828501011115612c48575f80fd5b9250929050565b5f805f806102008587031215612c63575f80fd5b84356001600160401b0380821115612c79575f80fd5b818701915087601f830112612c8c575f80fd5b8135612c9f612c9a82612ae9565b612ab9565b818152896020838601011115612cb3575f80fd5b816020850160208301375f602083830101528097505050612cd78860208901612b36565b94506101e0870135915080821115612ced575f80fd5b50612cfa87828801612c0b565b95989497509550505050565b5f60208284031215612d16575f80fd5b81356001600160e01b031981168114612627575f80fd5b5f60208284031215612d3d575f80fd5b813563ffffffff81168114612627575f80fd5b80356001600160c01b0381168114612b31575f80fd5b5f60208284031215612d76575f80fd5b61262782612d50565b5f8060408385031215612d90575f80fd5b8235612d9b81612b0f565b9150612da960208401612d50565b90509250929050565b5f8060408385031215612dc3575f80fd5b8235612dce81612b0f565b946020939093013593505050565b5f60208284031215612dec575f80fd5b81356001600160401b03811115612e01575f80fd5b82016101208185031215612627575f80fd5b5f60208284031215612e23575f80fd5b813561262781612b0f565b5f8083601f840112612e3e575f80fd5b5081356001600160401b03811115612e54575f80fd5b6020830191508360208260051b8501011115612c48575f80fd5b5f805f60408486031215612e80575f80fd5b83356001600160401b03811115612e95575f80fd5b612ea186828701612e2e565b9094509250506020840135612eb581612b0f565b809150509250925092565b5f805f60408486031215612ed2575f80fd5b8335612edd81612b0f565b925060208401356001600160401b03811115612ef7575f80fd5b612f0386828701612c0b565b9497909650939450505050565b5f8060208385031215612f21575f80fd5b82356001600160401b03811115612f36575f80fd5b612f4285828601612c0b565b90969095509350505050565b634e487b7160e01b5f52601260045260245ffd5b5f5b83811015612f7c578181015183820152602001612f64565b50505f910152565b5f8151808452612f9b816020860160208601612f62565b601f01601f19169290920160200192915050565b828152604060208201525f611fa16040830184612f84565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561078357610783612fc7565b5f60018201612fff57612fff612fc7565b5060010190565b8181038181111561078357610783612fc7565b634e487b7160e01b5f52603260045260245ffd5b5f823561011e19833603018112613042575f80fd5b9190910192915050565b818382375f9101908152919050565b8215158152604060208201525f611fa16040830184612f84565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b602081525f611fa1602083018486613075565b5f602082840312156130c0575f80fd5b815161262781612b0f565b65ffffffffffff8181168382160190808211156130ea576130ea612fc7565b5092915050565b5f8235605e19833603018112613042575f80fd5b5f808335601e1984360301811261311a575f80fd5b8301803591506001600160401b03821115613133575f80fd5b6020019150600581901b3603821315612c48575f80fd5b5f808335601e1984360301811261315f575f80fd5b8301803591506001600160401b03821115613178575f80fd5b602001915036819003821315612c48575f80fd5b5f808335601e198436030181126131a1575f80fd5b83016020810192503590506001600160401b038111156131bf575f80fd5b803603821315612c48575f80fd5b5f6101206131eb846131de85612b26565b6001600160a01b03169052565b60208301356020850152613202604084018461318c565b8260408701526132158387018284613075565b92505050613226606084018461318c565b8583036060870152613239838284613075565b925050506080830135608085015260a083013560a085015260c083013560c085015261326860e084018461318c565b85830360e087015261327b838284613075565b9250505061010061328e8185018561318c565b868403838801526132a0848284613075565b979650505050505050565b604080825281018490525f6060600586901b8301810190830187835b8881101561330f57858403605f190183528135368b900361011e190181126132ed575f80fd5b6132f9858c83016131cd565b94505060209283019291909101906001016132c7565b50505082810360208401526132a0818587613075565b634e487b7160e01b5f52602160045260245ffd5b5f6003861061335657634e487b7160e01b5f52602160045260245ffd5b8582526080602083015261336d6080830186612f84565b6040830194909452506060015292915050565b602081525f6126276020830184612f84565b604081525f6133a460408301856131cd565b90508260208301529392505050565b805180516001600160a01b031683526020810151602084015260408101516040840152606081015160608401526080810151608084015260a081015160a084015260c081015160c084015260e081015161341860e08501826001600160a01b03169052565b5061010081810151908401526101209081015190830152602081015161014083015260408101516101608301526060810151610180830152608001516101a090910152565b5f61020080835261347081840187612f84565b905061347f60208401866133b3565b8281036101e08401526134928185612f84565b9695505050505050565b5f6102008083526134b08184018789613075565b90506134bf60208401866133b3565b8281036101e08401526132a08185612f84565b606081525f6134e460608301866131cd565b60208301949094525060400152919050565b5f60208284031215613506575f80fd5b5051919050565b82815260606020820152600d60608201526c10504c8cc81c995d995c9d1959609a1b608082015260a060408201525f611fa160a0830184612f84565b5f806040838503121561355a575f80fd5b82516001600160401b0381111561356f575f80fd5b8301601f8101851361357f575f80fd5b805161358d612c9a82612ae9565b8181528660208385010111156135a1575f80fd5b6135b2826020830160208601612f62565b60209590950151949694955050505050565b82815260606020820152600d60608201526c10504cccc81c995d995c9d1959609a1b608082015260a060408201525f611fa160a0830184612f84565b5f808585111561360e575f80fd5b8386111561361a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156136545780818660140360031b1b83161692505b505092915050565b6fffffffffffffffffffffffffffffffff1981358181169160108510156136545760109490940360031b84901b169092169291505056fea2646970667358221220397996f36f516bad9951ba1f23ade372bdd0ef7639623362f57652a7762031c164736f6c63430008170033608060405234801561000f575f80fd5b506101e28061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063570e1a361461002d575b5f80fd5b61004061003b3660046100e4565b61005c565b6040516001600160a01b03909116815260200160405180910390f35b5f8061006b6014828587610150565b61007491610177565b60601c90505f6100878460148188610150565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525084519495509360209350849250905082850182875af190505f519350806100db575f93505b50505092915050565b5f80602083850312156100f5575f80fd5b823567ffffffffffffffff8082111561010c575f80fd5b818501915085601f83011261011f575f80fd5b81358181111561012d575f80fd5b86602082850101111561013e575f80fd5b60209290920196919550909350505050565b5f808585111561015e575f80fd5b8386111561016a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156101a45780818660140360031b1b83161692505b50509291505056fea264697066735822122078c1aaa9f040f8c523cf2b642dd06415593eec30d2e75021458af7e0c704e6fb64736f6c63430008170033",ZI={};N(ZI,{abi:()=>XI,bytecode:()=>eP});var XI=[{type:"function",name:"executeUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"}],eP="0x",tP={};N(tP,{abi:()=>nP,bytecode:()=>aP});var nP=[{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"onERC1155Received",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],aP="0x",rP={};N(rP,{abi:()=>sP,bytecode:()=>iP});var sP=[{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{name:"accounts",type:"address[]",internalType:"address[]"},{name:"ids",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"account",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"safeBatchTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"ApprovalForAll",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"ids",type:"uint256[]",indexed:!1,internalType:"uint256[]"},{name:"values",type:"uint256[]",indexed:!1,internalType:"uint256[]"}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"value",type:"string",indexed:!1,internalType:"string"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],iP="0x",oP={};N(oP,{abi:()=>cP,bytecode:()=>dP});var cP=[{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"}],dP="0x",fP={};N(fP,{abi:()=>pP,bytecode:()=>uP});var pP=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"approveAndCall",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"approveAndCall",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferAndCall",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferAndCall",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFromAndCall",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFromAndCall",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],uP="0x",bP={};N(bP,{abi:()=>lP,bytecode:()=>yP});var lP=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],yP="0x",mP={};N(mP,{abi:()=>hP,bytecode:()=>gP});var hP=[{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],gP="0x",TP={};N(TP,{abi:()=>xP,bytecode:()=>wP});var xP=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"executions_",type:"tuple[]",internalType:"struct Execution[]",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],wP="0x608060405234801561001057600080fd5b5061083a806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610417565b50505050505050505050565b005b610076610086366004610417565b6100b4565b61009e6100993660046104e4565b6102fd565b6040516100ab9190610526565b60405180910390f35b85600160f81b6001600160f81b03198216146101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6001600160f81b03198116156101835760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b503660006101918989610319565b9150915060006101a18f8f6102fd565b8051909150821461020a5760405162461bcd60e51b815260206004820152602d60248201527f457861637443616c6c646174614261746368456e666f726365723a696e76616c60448201526c69642d62617463682d73697a6560981b606482015260840161010e565b60005b828110156102eb57838382818110610227576102276105e8565b905060200281019061023991906105fe565b61024790604081019061061e565b604051610255929190610665565b604051809103902082828151811061026f5761026f6105e8565b60200260200101516040015180519060200120146102e35760405162461bcd60e51b815260206004820152602b60248201527f457861637443616c6c646174614261746368456e666f726365723a696e76616c60448201526a69642d63616c6c6461746160a81b606482015260840161010e565b60010161020d565b50505050505050505050505050505050565b60606103098383610319565b610312916106e5565b9392505050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156103515763ba597e7e6000526004601cfd5b83156103a8578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c171561039f5763ba597e7e6000526004601cfd5b5050508261035b575b5050509250929050565b60008083601f8401126103c457600080fd5b50813567ffffffffffffffff8111156103dc57600080fd5b6020830191508360208285010111156103f457600080fd5b9250929050565b80356001600160a01b038116811461041257600080fd5b919050565b60008060008060008060008060008060e08b8d03121561043657600080fd5b8a3567ffffffffffffffff8082111561044e57600080fd5b61045a8e838f016103b2565b909c509a5060208d013591508082111561047357600080fd5b61047f8e838f016103b2565b909a50985060408d0135975060608d013591508082111561049f57600080fd5b506104ac8d828e016103b2565b90965094505060808b013592506104c560a08c016103fb565b91506104d360c08c016103fb565b90509295989b9194979a5092959850565b600080602083850312156104f757600080fd5b823567ffffffffffffffff81111561050e57600080fd5b61051a858286016103b2565b90969095509350505050565b600060208083018184528085518083526040925060408601915060408160051b8701018488016000805b848110156105d957898403603f19018652825180516001600160a01b0316855288810151898601528701516060888601819052815190860181905283905b808210156105ac578282018b015187830160800152908a019061058e565b8681016080908101869052988b0198601f909101601f191690960190950194505091870191600101610550565b50919998505050505050505050565b634e487b7160e01b600052603260045260246000fd5b60008235605e1983360301811261061457600080fd5b9190910192915050565b6000808335601e1984360301811261063557600080fd5b83018035915067ffffffffffffffff82111561065057600080fd5b6020019150368190038213156103f457600080fd5b8183823760009101908152919050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff811182821017156106ae576106ae610675565b60405290565b604051601f8201601f1916810167ffffffffffffffff811182821017156106dd576106dd610675565b604052919050565b600067ffffffffffffffff8084111561070057610700610675565b8360051b60206107118183016106b4565b86815291850191818101903684111561072957600080fd5b865b848110156107f8578035868111156107435760008081fd5b880160603682900312156107575760008081fd5b61075f61068b565b610768826103fb565b81528582013586820152604080830135898111156107865760008081fd5b9290920191601f368185011261079c5760008081fd5b83358a8111156107ae576107ae610675565b6107bf818301601f19168a016106b4565b915080825236898287010111156107d65760008081fd5b808986018a84013760009082018901529082015284525091830191830161072b565b5097965050505050505056fea26469706673582212208d28ccd8e989ae016d34ead1b420bc19b8be9eaa747049c2602c587d0a44891264736f6c63430008170033",EP={};N(EP,{abi:()=>AP,bytecode:()=>vP});var AP=[{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"}],vP="0x",CP={};N(CP,{abi:()=>IP,bytecode:()=>PP});var IP=[{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"}],PP="0x",_P={};N(_P,{abi:()=>SP,bytecode:()=>NP});var SP=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"executions_",type:"tuple[]",internalType:"struct Execution[]",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],NP="0x608060405234801561001057600080fd5b50610870806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103e9565b50505050505050505050565b005b6100766100863660046103e9565b6100b4565b61009e6100993660046104b6565b6102cf565b6040516100ab91906104f8565b60405180910390f35b85600160f81b6001600160f81b03198216146101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6001600160f81b03198116156101835760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b5036600061019189896102eb565b9150915060006101a18f8f6102cf565b8051909150821461020b5760405162461bcd60e51b815260206004820152602e60248201527f4578616374457865637574696f6e4261746368456e666f726365723a696e766160448201526d6c69642d62617463682d73697a6560901b606482015260840161010e565b8060405160200161021c91906104f8565b6040516020818303038152906040528051906020012083836040516020016102459291906105ba565b60405160208183030381529060405280519060200120146102be5760405162461bcd60e51b815260206004820152602d60248201527f4578616374457865637574696f6e4261746368456e666f726365723a696e766160448201526c3634b216b2bc32b1baba34b7b760991b606482015260840161010e565b505050505050505050505050505050565b60606102db83836102eb565b6102e49161071b565b9392505050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156103235763ba597e7e6000526004601cfd5b831561037a578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156103715763ba597e7e6000526004601cfd5b5050508261032d575b5050509250929050565b60008083601f84011261039657600080fd5b50813567ffffffffffffffff8111156103ae57600080fd5b6020830191508360208285010111156103c657600080fd5b9250929050565b80356001600160a01b03811681146103e457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561040857600080fd5b8a3567ffffffffffffffff8082111561042057600080fd5b61042c8e838f01610384565b909c509a5060208d013591508082111561044557600080fd5b6104518e838f01610384565b909a50985060408d0135975060608d013591508082111561047157600080fd5b5061047e8d828e01610384565b90965094505060808b0135925061049760a08c016103cd565b91506104a560c08c016103cd565b90509295989b9194979a5092959850565b600080602083850312156104c957600080fd5b823567ffffffffffffffff8111156104e057600080fd5b6104ec85828601610384565b90969095509350505050565b600060208083018184528085518083526040925060408601915060408160051b8701018488016000805b848110156105ab57898403603f19018652825180516001600160a01b0316855288810151898601528701516060888601819052815190860181905283905b8082101561057e578282018b015187830160800152908a0190610560565b8681016080908101869052988b0198601f909101601f191690960190950194505091870191600101610522565b50919998505050505050505050565b60208082528181018390526000906040808401600586901b8501820187855b8881101561069d57878303603f190184528135368b9003605e190181126105ff57600080fd5b8a0160606001600160a01b03610614836103cd565b168552878201358886015286820135601e1983360301811261063557600080fd5b90910187810191903567ffffffffffffffff81111561065357600080fd5b80360383131561066257600080fd5b8188870152808287015260809150808383880137600086820183015295880195601f01601f19169094019093019250908501906001016105d9565b509098975050505050505050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff811182821017156106e4576106e46106ab565b60405290565b604051601f8201601f1916810167ffffffffffffffff81118282101715610713576107136106ab565b604052919050565b600067ffffffffffffffff80841115610736576107366106ab565b8360051b60206107478183016106ea565b86815291850191818101903684111561075f57600080fd5b865b8481101561082e578035868111156107795760008081fd5b8801606036829003121561078d5760008081fd5b6107956106c1565b61079e826103cd565b81528582013586820152604080830135898111156107bc5760008081fd5b9290920191601f36818501126107d25760008081fd5b83358a8111156107e4576107e46106ab565b6107f5818301601f19168a016106ea565b9150808252368982870101111561080c5760008081fd5b808986018a840137600090820189015290820152845250918301918301610761565b5097965050505050505056fea26469706673582212205e0b91ba43666d3d9ebd5eb11438023697fc7df67dea03687ac126f13d8d464564736f6c63430008170033",DP={};N(DP,{abi:()=>MP,bytecode:()=>OP});var MP=[{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ExecutionFailed",inputs:[]}],OP="0x6080604052348015600f57600080fd5b50603f80601d6000396000f3fe6080604052600080fdfea264697066735822122070e8319b78da08f58cb6bf69f50e33c8c919ae6c2113f3ef3b34f1da6bf44c5f64736f6c63430008170033",kP={};N(kP,{abi:()=>RP,bytecode:()=>BP});var RP=[{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1}],BP="0x",FP={};N(FP,{abi:()=>LP,bytecode:()=>UP});var LP=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],UP="0x",HP={};N(HP,{abi:()=>GP,bytecode:()=>VP});var GP=[{type:"function",name:"approve",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"operator",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],VP="0x",zP={};N(zP,{abi:()=>KP,bytecode:()=>WP});var KP=[{type:"function",name:"accountId",inputs:[],outputs:[{name:"accountImplementationId",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"installModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"isModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"additionalContext",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"encodedMode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"uninstallModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"deInitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"ModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"ModuleUninstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1}],WP="0x",jP={};N(jP,{abi:()=>$P,bytecode:()=>YP});var $P=[{type:"function",name:"postOp",inputs:[{name:"mode",type:"uint8",internalType:"enum IPaymaster.PostOpMode"},{name:"context",type:"bytes",internalType:"bytes"},{name:"actualGasCost",type:"uint256",internalType:"uint256"},{name:"actualUserOpFeePerGas",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"validatePaymasterUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"maxCost",type:"uint256",internalType:"uint256"}],outputs:[{name:"context",type:"bytes",internalType:"bytes"},{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}],YP="0x",JP={};N(JP,{abi:()=>QP,bytecode:()=>qP});var QP=[{type:"function",name:"addStake",inputs:[{name:"_unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],qP="0x",ZP={};N(ZP,{abi:()=>XP,bytecode:()=>e_});var XP=[{type:"function",name:"addStake",inputs:[{name:"_unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegateAndRevert",inputs:[{name:"target",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getSenderAddress",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"handleAggregatedOps",inputs:[{name:"opsPerAggregator",type:"tuple[]",internalType:"struct IEntryPoint.UserOpsPerAggregator[]",components:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"aggregator",type:"address",internalType:"contract IAggregator"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"handleOps",inputs:[{name:"ops",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AccountDeployed",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"factory",type:"address",indexed:!1,internalType:"address"},{name:"paymaster",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeforeExecution",inputs:[],anonymous:!1},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PostOpRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"SignatureAggregatorChanged",inputs:[{name:"aggregator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationEvent",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"paymaster",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"},{name:"actualGasCost",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actualGasUsed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationPrefundTooLow",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"DelegateAndRevert",inputs:[{name:"success",type:"bool",internalType:"bool"},{name:"ret",type:"bytes",internalType:"bytes"}]},{type:"error",name:"FailedOp",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"}]},{type:"error",name:"FailedOpWithRevert",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"},{name:"inner",type:"bytes",internalType:"bytes"}]},{type:"error",name:"PostOpReverted",inputs:[{name:"returnData",type:"bytes",internalType:"bytes"}]},{type:"error",name:"SenderAddressResult",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"SignatureValidationFailed",inputs:[{name:"aggregator",type:"address",internalType:"address"}]}],e_="0x",t_={};N(t_,{abi:()=>n_,bytecode:()=>a_});var n_=[{type:"function",name:"adapters",inputs:[{name:"id",type:"string",internalType:"string"}],outputs:[{name:"",type:"tuple",internalType:"struct IMetaSwap.Adapter",components:[{name:"addr",type:"address",internalType:"address"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"data",type:"bytes",internalType:"bytes"}]}],stateMutability:"view"},{type:"function",name:"removeAdapter",inputs:[{name:"aggregatorId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setAdapter",inputs:[{name:"aggregatorId",type:"string",internalType:"string"},{name:"addr",type:"address",internalType:"address"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swap",inputs:[{name:"aggregatorId",type:"string",internalType:"string"},{name:"tokenFrom",type:"address",internalType:"contract IERC20"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],a_="0x",Y0={};N(Y0,{abi:()=>r_,bytecode:()=>s_});var r_=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"addKey",inputs:[{name:"_keyId",type:"string",internalType:"string"},{name:"_x",type:"uint256",internalType:"uint256"},{name:"_y",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getKey",inputs:[{name:"_keyId",type:"string",internalType:"string"}],outputs:[{name:"x_",type:"uint256",internalType:"uint256"},{name:"y_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getKeyIdHashes",inputs:[],outputs:[{name:"",type:"bytes32[]",internalType:"bytes32[]"}],stateMutability:"view"},{type:"function",name:"getKeyIdHashesCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"reinitialize",inputs:[{name:"_version",type:"uint8",internalType:"uint8"},{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"},{name:"_deleteP256Keys",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeKey",inputs:[{name:"_keyId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateSigners",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AddedP256Key",inputs:[{name:"keyIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"keyId",type:"string",indexed:!1,internalType:"string"},{name:"x",type:"uint256",indexed:!1,internalType:"uint256"},{name:"y",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RemovedP256Key",inputs:[{name:"keyIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"x",type:"uint256",indexed:!1,internalType:"uint256"},{name:"y",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"CannotRemoveLastSigner",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InputLengthsMismatch",inputs:[{name:"keyIdsLength",type:"uint256",internalType:"uint256"},{name:"xValuesLength",type:"uint256",internalType:"uint256"},{name:"yValuesLength",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidEmptyKey",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"KeyAlreadyExists",inputs:[{name:"keyIdHash",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"KeyDoesNotExist",inputs:[{name:"keyIdHash",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"KeyNotOnCurve",inputs:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"SignersCannotBeEmpty",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],s_="0x6101c0604052306080523480156200001657600080fd5b506040516200556538038062005565833981016040819052620000399162000319565b81816040518060400160405280600f81526020016e243cb13934b22232b632a3b0ba37b960891b815250604051806040016040528060018152602001603160f81b815250818162000095600083620001ca60201b90919060201c565b61014052620000a6816001620001ca565b61016052815160208084019190912061010052815190820120610120524660c052620001366101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0526200014962000203565b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a250505050505062000541565b6000602083511015620001ea57620001e283620002b7565b9050620001fd565b81620001f78482620003ff565b5060ff90505b92915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff1615620002545760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b0390811614620002b45780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b600080829050601f81511115620002ee578260405163305a27a960e01b8152600401620002e59190620004cb565b60405180910390fd5b8051620002fb826200051c565b179392505050565b6001600160a01b0381168114620002b457600080fd5b600080604083850312156200032d57600080fd5b82516200033a8162000303565b60208401519092506200034d8162000303565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200038357607f821691505b602082108103620003a457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620003fa576000816000526020600020601f850160051c81016020861015620003d55750805b601f850160051c820191505b81811015620003f657828155600101620003e1565b5050505b505050565b81516001600160401b038111156200041b576200041b62000358565b62000433816200042c84546200036e565b84620003aa565b602080601f8311600181146200046b5760008415620004525750858301515b600019600386901b1c1916600185901b178555620003f6565b600085815260208120601f198616915b828110156200049c578886015182559484019460019091019084016200047b565b5085821015620004bb5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620004fb57858101830151858201604001528201620004dd565b506000604082860101526040601f19601f8301168501019250505092915050565b80516020808301519190811015620003a45760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051614eeb6200067a6000396000818161068c0152818161091e015281816109cb01528181610abe01528181610b3c01528181610ca001528181610d5501528181610de001528181610e5001528181610f3c01528181610ff701528181611069015281816112c301528181611342015281816113ab015281816114a60152818161156501528181611a1b01528181611d0e01528181611d7c0152612d4e0152600081816107ff01528181610b9f01528181610c2201528181610d030152818161140e01526117ac0152600061275a0152600061272d01526000611f3e01526000611f1601526000611e7101526000611e9b01526000611ec5015260008181612190015281816121b901526126100152614eeb6000f3fe6080604052600436106102765760003560e01c80638da5cb5b1161014f578063c8561e73116100c1578063e9ae5c531161007a578063e9ae5c53146107da578063ea4d3c9b146107ed578063ed8101b514610821578063f23a6e6114610841578063f2fde38b14610861578063ffa1ad741461088157600080fd5b8063c8561e7314610710578063cef6d20914610730578063d087d28814610750578063d37aec9214610765578063d5d33b551461079a578063d691c964146107ba57600080fd5b8063acb8cc4911610113578063acb8cc491461061c578063ad3cb1cc14610649578063b0d691fe1461067a578063b3c65015146106ae578063bc197c81146106db578063c399ec88146106fb57600080fd5b80638da5cb5b1461054d5780638ebf95331461058c578063a24c8f32146105ac578063a3f4df7e146105bf578063aaf10f421461060757600080fd5b8063445140b8116101e85780635c1c6dcd116101ac5780635c1c6dcd146104a8578063715018a6146104bb57806378a68ecf146104d05780637f07bfdc146104f057806383ebb7711461051057806384b0196e1461052557600080fd5b8063445140b81461043857806349934047146104585780634a58db19146104785780634f1ef2861461048057806352d1902d1461049357600080fd5b806319822f7c1161023a57806319822f7c146103605780631c03010a146103805780632b3afd99146103a25780632ffeaad6146103d65780633e1b0812146103f85780633ed010151461041857600080fd5b806301ffc9a71461028257806306394d67146102b7578063074feff3146102e5578063150b7a02146103075780631626ba7e1461034057600080fd5b3661027d57005b600080fd5b34801561028e57600080fd5b506102a261029d366004613d03565b6108b2565b60405190151581526020015b60405180910390f35b3480156102c357600080fd5b506102d76102d2366004613d46565b6108de565b6040519081526020016102ae565b3480156102f157600080fd5b50610305610300366004613ded565b610913565b005b34801561031357600080fd5b50610327610322366004613f5c565b610984565b6040516001600160e01b031990911681526020016102ae565b34801561034c57600080fd5b5061032761035b366004614008565b61099f565b34801561036c57600080fd5b506102d761037b366004614053565b6109be565b34801561038c57600080fd5b50600080516020614e36833981519152546102d7565b3480156103ae57600080fd5b506102d77fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156103e257600080fd5b506103eb610a2e565b6040516102ae91906140a0565b34801561040457600080fd5b506102d76104133660046140d8565b610a97565b34801561042457600080fd5b50610305610433366004614101565b610b31565b34801561044457600080fd5b506102a261045336600461413b565b610c09565b34801561046457600080fd5b50610305610473366004614101565b610c95565b610305610d38565b61030561048e366004614154565b610da2565b34801561049f57600080fd5b506102d7610db8565b6103056104b63660046141a3565b610dd5565b3480156104c757600080fd5b50610305610e45565b3480156104dc57600080fd5b506103056104eb3660046141f6565b610ea8565b3480156104fc57600080fd5b5061030561050b3660046142c8565b610fec565b34801561051c57600080fd5b506102d76110c9565b34801561053157600080fd5b5061053a6110d8565b6040516102ae9796959493929190614344565b34801561055957600080fd5b50600080516020614e16833981519152546001600160a01b03165b6040516001600160a01b0390911681526020016102ae565b34801561059857600080fd5b506103056105a7366004613ded565b61111e565b6103056105ba366004614154565b610daa565b3480156105cb57600080fd5b506105fa6040518060400160405280600f81526020016e243cb13934b22232b632a3b0ba37b960891b81525081565b6040516102ae91906143dd565b34801561061357600080fd5b5061057461123a565b34801561062857600080fd5b506105fa604051806040016040528060018152602001603160f81b81525081565b34801561065557600080fd5b506105fa604051806040016040528060058152602001640352e302e360dc1b81525081565b34801561068657600080fd5b506105747f000000000000000000000000000000000000000000000000000000000000000081565b3480156106ba57600080fd5b506106c361125b565b6040516001600160401b0390911681526020016102ae565b3480156106e757600080fd5b506103276106f636600461446f565b61128e565b34801561070757600080fd5b506102d76112ab565b34801561071c57600080fd5b5061030561072b36600461451c565b611337565b34801561073c57600080fd5b5061030561074b36600461456c565b6113a0565b34801561075c57600080fd5b506102d7611487565b34801561077157600080fd5b50610785610780366004614605565b6114dd565b604080519283526020830191909152016102ae565b3480156107a657600080fd5b506103056107b5366004614605565b61155a565b6107cd6107c8366004614008565b61179f565b6040516102ae9190614646565b6103056107e8366004614008565b611a10565b3480156107f957600080fd5b506105747f000000000000000000000000000000000000000000000000000000000000000081565b34801561082d57600080fd5b506102d761083c366004613d46565b611c13565b34801561084d57600080fd5b5061032761085c3660046146aa565b611d55565b34801561086d57600080fd5b5061030561087c366004614712565b611d71565b34801561088d57600080fd5b506105fa604051806040016040528060058152602001640312e332e360dc1b81525081565b60006108bd82611dd4565b806108d857506001600160e01b031982166307f5828d60e41b145b92915050565b60006108d86108eb611e64565b6108f484611c13565b60405161190160f01b8152600281019290925260228201526042902090565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061094c5750333014155b1561096a57604051630796d94560e01b815260040160405180910390fd5b61097b878787878787876001611f8f565b50505050505050565b600061098e612185565b50630a85bd0160e11b949350505050565b60006109a9612185565b6109b484848461222a565b90505b9392505050565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610a0957604051636b31ba1560e11b815260040160405180910390fd5b610a11612185565b610a2384610a1e866108de565b61244e565b90506109b782612496565b60606000600080516020614e1683398151915260028101805460408051602080840282018101909252828152939450830182828015610a8c57602002820191906000526020600020905b815481526020019060010190808311610a78575b505050505091505090565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610b0d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d8919061472f565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610b6a5750333014155b15610b8857604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed0101590610bd4908490600401614877565b600060405180830381600087803b158015610bee57600080fd5b505af1158015610c02573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610c71573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d89190614953565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610cce5750333014155b15610cec57604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690634993404790610bd4908490600401614877565b610d40612185565b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b158015610bee57600080fd5b610daa61252d565b610db482826125ea565b5050565b6000610dc2612605565b50600080516020614e5683398151915290565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610e1e57604051636b31ba1560e11b815260040160405180910390fd5b610db4610e2e6020830183614712565b6020830135610e406040850185614970565b61264e565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610e7e5750333014155b15610e9c57604051630796d94560e01b815260040160405180910390fd5b610ea66000612684565b565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805460ff8b81169291600160401b90041680610ef2575080546001600160401b03808416911610155b15610f105760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b178155336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610f6a5750333014155b15610f8857604051630796d94560e01b815260040160405180910390fd5b610f988a8a8a8a8a8a8a8a611f8f565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15050505050505050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906110255750333014155b1561104357604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156110ad57600080fd5b505af11580156110c1573d6000803e3d6000fd5b505050505050565b60006110d3611e64565b905090565b6000606080600080600060606110ec612726565b6110f4612753565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff1615906001600160401b03166000811580156111635750825b90506000826001600160401b0316600114801561117f5750303b155b90508115801561118d575080155b156111ab5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156111d557845460ff60401b1916600160401b1785555b6111e68c8c8c8c8c8c8c6000611f8f565b831561122c57845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050505050565b60006110d3600080516020614e56833981519152546001600160a01b031690565b60006110d37ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00546001600160401b031690565b6000611298612185565b5063bc197c8160e01b5b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015611313573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110d3919061472f565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906113705750333014155b1561138e57604051630796d94560e01b815260040160405180910390fd5b61139a84848484612780565b50505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906113d95750333014155b156113f757604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061144d90899089908990899089908990600401614a17565b600060405180830381600087803b15801561146757600080fd5b505af115801561147b573d6000803e3d6000fd5b50505050505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a906044016112f6565b60008080600080516020614e1683398151915290506000816001016000878760405160200161150d929190614a80565b60408051601f198184030181529181528151602092830120835282820193909352908201600020825180840190935280548084526001909101549290910182905297909650945050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906115935750333014155b156115b157604051630796d94560e01b815260040160405180910390fd5b604051600080516020614e16833981519152906000906115d79085908590602001614a80565b60408051601f198184030181528282528051602091820120600081815260018088018452908490208585019094528354808652930154918401829052935081158015611621575080155b1561164757604051631a36430d60e31b8152600481018590526024015b60405180910390fd5b6002850154600181148015611664575085546001600160a01b0316155b156116825760405163c4c8547360e01b815260040160405180910390fd5b60005b611690600183614aa6565b81101561171557858760020182815481106116ad576116ad614ab9565b90600052602060002001540361170d57600287016116cc600184614aa6565b815481106116dc576116dc614ab9565b90600052602060002001548760020182815481106116fc576116fc614ab9565b600091825260209091200155611715565b600101611685565b508560020180548061172957611729614acf565b60008281526020808220830160001990810183905590920190925586825260018881018252604080842084815590910192909255815185815290810184905286917facf0e8088062f44f734bbcb5223794fd8bb6f6db1c199cb6a72df119d002a71b910160405180910390a25050505050505050565b6060336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146117ea57604051630692ce8160e21b815260040160405180910390fd5b83600881901b6117fe82600160f81b6128fd565b1561187f57366000611810878761290f565b90925090506118208360006128fd565b156118365761182f82826129a8565b9450611878565b61184483600160f81b6128fd565b156118535761182f8282612a69565b6040516308c3ee0360e11b81526001600160f81b03198416600482015260240161163e565b5050611a07565b61188a8260006128fd565b156119e25760008036600061189f8989612b96565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816118be57905050965060006118e186826128fd565b15611915576118f28585858561264e565b8860008151811061190557611905614ab9565b60200260200101819052506119d8565b61192386600160f81b6128fd565b156119b35761193485858585612be7565b8960008151811061194757611947614ab9565b60209081029190910101529050806119ae577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008960008151811061198f5761198f614ab9565b60200260200101516040516119a5929190614ae5565b60405180910390a15b6119d8565b6040516308c3ee0360e11b81526001600160f81b03198716600482015260240161163e565b5050505050611a07565b604051632e5bf3f960e21b81526001600160f81b03198316600482015260240161163e565b50509392505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611a5957604051636b31ba1560e11b815260040160405180910390fd5b82600881901b611a6d82600160f81b6128fd565b15611ac857366000611a7f868661290f565b9092509050611a8f8360006128fd565b15611aa457611a9e82826129a8565b50611ac1565b611ab283600160f81b6128fd565b1561185357611a9e8282612a69565b5050610c02565b611ad38260006128fd565b156119e257600080366000611ae88888612b96565b9350935093509350611afe85600060f81b6128fd565b15611b1557611b0f8484848461264e565b50611c0a565b611b2385600160f81b6128fd565b15611be557604080516001808252818301909252600091816020015b6060815260200190600190039081611b3f5790505090506000611b6486868686612be7565b83600081518110611b7757611b77614ab9565b6020908102919091010152905080611bde577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb7600083600081518110611bbf57611bbf614ab9565b6020026020010151604051611bd5929190614ae5565b60405180910390a15b5050611c0a565b6040516308c3ee0360e11b81526001600160f81b03198616600482015260240161163e565b50505050610c02565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc18611c436020840184614712565b6020840135611c556040860186614970565b604051611c63929190614a80565b604051908190039020611c796060870187614970565b604051611c87929190614a80565b604051908190039020608087013560a088013560c0890135611cac60e08b018b614970565b604051611cba929190614a80565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b6000611d5f612185565b5063f23a6e6160e01b95945050505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611daa5750333014155b15611dc857604051630796d94560e01b815260040160405180910390fd5b611dd181612684565b50565b6000611dde612185565b6001600160e01b031982166335a4725960e21b1480611e0d57506001600160e01b03198216630a85bd0160e11b145b80611e2857506001600160e01b03198216630271189760e51b145b80611e4357506001600160e01b031982166301ffc9a760e01b145b806108d8575050630b135d3f60e11b6001600160e01b03198216145b919050565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611ebd57507f000000000000000000000000000000000000000000000000000000000000000046145b15611ee757507f000000000000000000000000000000000000000000000000000000000000000090565b6110d3604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b856001600160a01b038916158015611fa5575080155b8015611fae5750815b15611fcc576040516312da594d60e11b815260040160405180910390fd5b8085141580611fdb5750808314155b1561200a5760405163a297991b60e01b815260048101829052602481018690526044810184905260640161163e565b81156120ff57600080516020614e3683398151915254600080516020614e168339815191529080156120fc5760005b818110156120ed57600083600201828154811061205857612058614ab9565b6000918252602080832090910154808352600180880180845260408086208151808301835281548152938101805485880190815286895293909652869055949093558051925193519194509284927facf0e8088062f44f734bbcb5223794fd8bb6f6db1c199cb6a72df119d002a71b926120db9290918252602082015260400190565b60405180910390a25050600101612039565b506120fc600283016000613cd1565b50505b60005b818110156121705761216889898381811061211f5761211f614ab9565b90506020028101906121319190614970565b89898581811061214357612143614ab9565b9050602002013588888681811061215c5761215c614ab9565b90506020020135612780565b600101612102565b5061217a89612684565b505050505050505050565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148061220c57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316612200600080516020614e56833981519152546001600160a01b031690565b6001600160a01b031614155b15610ea65760405163703e46dd60e11b815260040160405180910390fd5b60008160418190036122c757600080516020614e16833981519152546001600160a01b03166001600160a01b03166122988686868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250612c1892505050565b6001600160a01b0316036122b65750630b135d3f60e11b90506109b7565b506001600160e01b031990506109b7565b60608110156122e157506001600160e01b031990506109b7565b600080516020614e1683398151915260006122ff6020828789614afe565b61230891614b28565b60008181526001808501602090815260409283902083518085019094528054808552920154908301529192509015801561234457506020810151155b1561235e57506001600160e01b031993506109b792505050565b8360601480156123b257506123b28888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050855160208701519092509050612c42565b156123cb5750630b135d3f60e11b93506109b792505050565b8360601415801561242057506124208888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050855160208701519092509050612ce0565b156124395750630b135d3f60e11b93506109b792505050565b506001600160e01b031993506109b792505050565b60008061246883612463610100870187614970565b61222a565b90506374eca2c160e11b6001600160e01b031982160161248c5760009150506108d8565b5060019392505050565b8015611dd157604051600090339060001990849084818181858888f193505050503d80600081146124e3576040519150601f19603f3d011682016040523d82523d6000602084013e6124e8565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a25050565b600080516020614e3683398151915254600080516020614e168339815191529060005b818110156125a05782600101600084600201838154811061257357612573614ab9565b60009182526020808320909101548352820192909252604001812081815560019081019190915501612550565b506125af600283016000613cd1565b81546001600160a01b03191682556040517feb09d532980c3cc73dcad99b80e264204a667a54cbb7b63ec8d68dcb1c7096be90600090a15050565b6125f2612185565b6125fb82612d43565b610db48282612d9a565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610ea65760405163703e46dd60e11b815260040160405180910390fd5b60405181838237600038838387895af161266b573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b600080516020614e3683398151915254600080516020614e16833981519152901580156126b857506001600160a01b038216155b156126d65760405163c4c8547360e01b815260040160405180910390fd5b80546001600160a01b031981166001600160a01b03848116918217845560405192169182907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3505050565b60606110d37f00000000000000000000000000000000000000000000000000000000000000006000612e5c565b60606110d37f00000000000000000000000000000000000000000000000000000000000000006001612e5c565b61278a8282612f07565b6127b1576040516313c3d61f60e01b8152600481018390526024810182905260440161163e565b600084846040516020016127c6929190614a80565b6040516020818303038152906040528051906020012090508484905060000361280257604051637e25658160e11b815260040160405180910390fd5b60008181527fa2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694901602052604090208054600080516020614e1683398151915291901515806128525750600181015415155b15612873576040516361db108160e01b81526004810184905260240161163e565b604080518082018252868152602080820187815260008781526001808801845285822094518555915193820193909355600286018054918201815583529120018490555183907fd00539cb08a7c24166308150d64d603150c01baf89d3d3e4c6063d6db7c6983d906128ec908a908a908a908a90614b46565b60405180910390a250505050505050565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156129475763ba597e7e6000526004601cfd5b831561299e578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156129955763ba597e7e6000526004601cfd5b50505082612951575b5050509250929050565b606081806001600160401b038111156129c3576129c3613e99565b6040519080825280602002602001820160405280156129f657816020015b60608152602001906001900390816129e15790505b50915060005b81811015612a615736858583818110612a1757612a17614ab9565b9050602002810190612a299190614b6d565b9050612a3b610e2e6020830183614712565b848381518110612a4d57612a4d614ab9565b6020908102919091010152506001016129fc565b505092915050565b606081806001600160401b03811115612a8457612a84613e99565b604051908082528060200260200182016040528015612ab757816020015b6060815260200190600190039081612aa25790505b50915060005b81811015612a615736858583818110612ad857612ad8614ab9565b9050602002810190612aea9190614b6d565b90506000612b15612afe6020840184614712565b6020840135612b106040860186614970565b612be7565b868581518110612b2757612b27614ab9565b6020908102919091010152905080612b8c577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612b6d57612b6d614ab9565b6020026020010151604051612b83929190614ae5565b60405180910390a15b5050600101612abd565b6000803681612ba86014828789614afe565b612bb191614b8d565b60601c9350612bc4603460148789614afe565b612bcd91614b28565b9250612bdc8560348189614afe565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080612c288686612f6a565b925092509250612c388282612fb7565b5090949350505050565b6000806000612c5086613070565b915091506000600288604051602001612c6b91815260200190565b60408051601f1981840301815290829052612c8591614bc0565b602060405180830381855afa158015612ca2573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190612cc5919061472f565b9050612cd48184848989613092565b98975050505050505050565b600080612cec85613241565b9050612d3986604051602001612d0491815260200190565b60408051601f198184030181529181528301516060840151608085015160a086015160c0870151875160208901518c8c6132bf565b9695505050505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590612d7c5750333014155b15611dd157604051630796d94560e01b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015612df4575060408051601f3d908101601f19168201909252612df19181019061472f565b60015b612e1c57604051634c9c8ce360e01b81526001600160a01b038316600482015260240161163e565b600080516020614e568339815191528114612e4d57604051632a87526960e21b81526004810182905260240161163e565b612e57838361345d565b505050565b606060ff8314612e7657612e6f836134b3565b90506108d8565b818054612e8290614bd2565b80601f0160208091040260200160405190810160405280929190818152602001828054612eae90614bd2565b8015612efb5780601f10612ed057610100808354040283529160200191612efb565b820191906000526020600020905b815481529060010190602001808311612ede57829003601f168201915b505050505090506108d8565b60006109b76ffffffffeffffffffffffffffffffffff60601b197fffffffff00000001000000000000000000000000fffffffffffffffffffffffc7f5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b86866134f2565b60008060008351604103612fa45760208401516040850151606086015160001a612f968882858561359d565b955095509550505050612fb0565b50508151600091506002905b9250925092565b6000826003811115612fcb57612fcb614c06565b03612fd4575050565b6001826003811115612fe857612fe8614c06565b036130065760405163f645eedf60e01b815260040160405180910390fd5b600282600381111561301a5761301a614c06565b0361303b5760405163fce698f760e01b81526004810182905260240161163e565b600382600381111561304f5761304f614c06565b03610db4576040516335e2f38360e21b81526004810182905260240161163e565b600080828060200190518101906130879190614c1c565b909590945092505050565b60006130bf60027fffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551614c60565b8411156130ce575060006112a2565b6040805160208101889052908101869052606081018590526080810184905260a0810183905260009060c00160405160208183030381529060405290506000806101006001600160a01b0316836040516131289190614bc0565b600060405180830381855afa9150503d8060008114613163576040519150601f19603f3d011682016040523d82523d6000602084013e613168565b606091505b5080519193509150151582801561317c5750805b156131a35781806020019051810190613195919061472f565b6001149450505050506112a2565b60405163a1f3128160e01b8152600481018b9052602481018a905260448101899052606481018890526084810187905273__$b8f96b288d4d0429e38b8ed50fd423070f$__9063a1f312819060a401602060405180830381865af415801561320f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132339190614953565b9a9950505050505050505050565b6132836040518060e001604052806000815260200160008152602001606081526020016000151581526020016060815260200160608152602001600081525090565b818060200190518101906132979190614cc7565b60c089015260a088015260808701521515606086015260408501526020840152825250919050565b600060258a5110806132f957506132f78a6020815181106132e2576132e2614ab9565b01602001516001600160f81b0319168a61366c565b155b1561330657506000613233565b6000886133128d6136d2565b8960405160200161332593929190614d86565b60408051601f198184030181528282019091526015825274113a3cb832911d113bb2b130baba34371733b2ba1160591b6020830152915061336781838a6138df565b61337657600092505050613233565b60006002836040516133889190614bc0565b602060405180830381855afa1580156133a5573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906133c8919061472f565b9050600060028e836040516020016133e1929190614dc9565b60408051601f19818403018152908290526133fb91614bc0565b602060405180830381855afa158015613418573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061343b919061472f565b905061344a818a8a8a8a613092565b9f9e505050505050505050505050505050565b6134668261398e565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a28051156134ab57612e5782826139f3565b610db4613a60565b606060006134c083613a7f565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600082158015613500575081155b8061350b5750858310155b806135165750858210155b15613523575060006112a2565b6000868061353357613533614c4a565b83840990506000878061354857613548614c4a565b888061355657613556614c4a565b888709898061356757613567614c4a565b878b8061357657613576614c4a565b898a0909089050878061358b5761358b614c4a565b86820891909114979650505050505050565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08411156135d85750600091506003905082613662565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa15801561362c573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661365857506000925060019150829050613662565b9250600091508190505b9450945094915050565b6000600160f81b83811614613683575060006108d8565b8180156136965750600160fa1b83811614155b156136a3575060006108d8565b600160fb1b838116146136c957600f60fc1b600160fc1b8416016136c9575060006108d8565b50600192915050565b606060006136df83613aa7565b9050600081905060006002825111801561372a575081600283516137039190614aa6565b8151811061371357613713614ab9565b6020910101516001600160f81b031916603d60f81b145b1561373757506002613782565b60018251118015613779575081600183516137529190614aa6565b8151811061376257613762614ab9565b6020910101516001600160f81b031916603d60f81b145b15613782575060015b60008183516137919190614aa6565b90506000816001600160401b038111156137ad576137ad613e99565b6040519080825280601f01601f1916602001820160405280156137d7576020820181803683370190505b50905060005b828110156138d4578481815181106137f7576137f7614ab9565b01602001516001600160f81b031916602b60f81b0361384357602d60f81b82828151811061382757613827614ab9565b60200101906001600160f81b031916908160001a9053506138cc565b84818151811061385557613855614ab9565b01602001516001600160f81b031916602f60f81b0361388557605f60f81b82828151811061382757613827614ab9565b84818151811061389757613897614ab9565b602001015160f81c60f81b8282815181106138b4576138b4614ab9565b60200101906001600160f81b031916908160001a9053505b6001016137dd565b509695505050505050565b825182516000918591859190845b8281101561397f57816139008289614deb565b10613913576000955050505050506109b7565b8361391e8289614deb565b8151811061392e5761392e614ab9565b602001015160f81c60f81b6001600160f81b03191685828151811061395557613955614ab9565b01602001516001600160f81b03191614613977576000955050505050506109b7565b6001016138ed565b50600198975050505050505050565b806001600160a01b03163b6000036139c457604051634c9c8ce360e01b81526001600160a01b038216600482015260240161163e565b600080516020614e5683398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b031684604051613a109190614bc0565b600060405180830381855af49150503d8060008114613a4b576040519150601f19603f3d011682016040523d82523d6000602084013e613a50565b606091505b50915091506112a2858383613acd565b3415610ea65760405163b398979f60e01b815260040160405180910390fd5b600060ff8216601f8111156108d857604051632cd44ac360e21b815260040160405180910390fd5b60606108d882604051806060016040528060408152602001614e76604091396001613b29565b606082613ae257613add82613ca8565b6109b7565b8151158015613af957506001600160a01b0384163b155b15613b2257604051639996b31560e01b81526001600160a01b038516600482015260240161163e565b50806109b7565b60608351600003613b4957506040805160208101909152600081526109b7565b600082613b7a57600385516004613b609190614dfe565b613b6b906002614deb565b613b759190614c60565b613b9f565b600385516002613b8a9190614deb565b613b949190614c60565b613b9f906004614dfe565b90506000816001600160401b03811115613bbb57613bbb613e99565b6040519080825280601f01601f191660200182016040528015613be5576020820181803683370190505b50905060018501602082018788518901602081018051600082525b82841015613c5b576003840193508351603f8160121c168701518653600186019550603f81600c1c168701518653600186019550603f8160061c168701518653600186019550603f8116870151865350600185019450613c00565b905250508515613c9c57600388510660018114613c7f5760028114613c9257613c9a565b603d6001830353603d6002830353613c9a565b603d60018303535b505b50909695505050505050565b805115613cb85780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b5080546000825590600052602060002090810190611dd191905b80821115613cff5760008155600101613ceb565b5090565b600060208284031215613d1557600080fd5b81356001600160e01b0319811681146109b757600080fd5b60006101208284031215613d4057600080fd5b50919050565b600060208284031215613d5857600080fd5b81356001600160401b03811115613d6e57600080fd5b613d7a84828501613d2d565b949350505050565b6001600160a01b0381168114611dd157600080fd5b8035611e5f81613d82565b60008083601f840112613db457600080fd5b5081356001600160401b03811115613dcb57600080fd5b6020830191508360208260051b8501011115613de657600080fd5b9250929050565b60008060008060008060006080888a031215613e0857600080fd5b8735613e1381613d82565b965060208801356001600160401b0380821115613e2f57600080fd5b613e3b8b838c01613da2565b909850965060408a0135915080821115613e5457600080fd5b613e608b838c01613da2565b909650945060608a0135915080821115613e7957600080fd5b50613e868a828b01613da2565b989b979a50959850939692959293505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715613ed757613ed7613e99565b604052919050565b60006001600160401b03821115613ef857613ef8613e99565b50601f01601f191660200190565b600082601f830112613f1757600080fd5b8135613f2a613f2582613edf565b613eaf565b818152846020838601011115613f3f57600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215613f7257600080fd5b8435613f7d81613d82565b93506020850135613f8d81613d82565b92506040850135915060608501356001600160401b03811115613faf57600080fd5b613fbb87828801613f06565b91505092959194509250565b60008083601f840112613fd957600080fd5b5081356001600160401b03811115613ff057600080fd5b602083019150836020828501011115613de657600080fd5b60008060006040848603121561401d57600080fd5b8335925060208401356001600160401b0381111561403a57600080fd5b61404686828701613fc7565b9497909650939450505050565b60008060006060848603121561406857600080fd5b83356001600160401b0381111561407e57600080fd5b61408a86828701613d2d565b9660208601359650604090950135949350505050565b6020808252825182820181905260009190848201906040850190845b81811015613c9c578351835292840192918401916001016140bc565b6000602082840312156140ea57600080fd5b81356001600160c01b03811681146109b757600080fd5b60006020828403121561411357600080fd5b81356001600160401b0381111561412957600080fd5b820160c081850312156109b757600080fd5b60006020828403121561414d57600080fd5b5035919050565b6000806040838503121561416757600080fd5b823561417281613d82565b915060208301356001600160401b0381111561418d57600080fd5b61419985828601613f06565b9150509250929050565b6000602082840312156141b557600080fd5b81356001600160401b038111156141cb57600080fd5b8201606081850312156109b757600080fd5b8015158114611dd157600080fd5b8035611e5f816141dd565b600080600080600080600080600060c08a8c03121561421457600080fd5b893560ff8116811461422557600080fd5b985061423360208b01613d97565b975060408a01356001600160401b038082111561424f57600080fd5b61425b8d838e01613da2565b909950975060608c013591508082111561427457600080fd5b6142808d838e01613da2565b909750955060808c013591508082111561429957600080fd5b506142a68c828d01613da2565b90945092506142b9905060a08b016141eb565b90509295985092959850929598565b600080604083850312156142db57600080fd5b82356142e681613d82565b946020939093013593505050565b60005b8381101561430f5781810151838201526020016142f7565b50506000910152565b600081518084526143308160208601602086016142f4565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e0602084015261436560e084018a614318565b8381036040850152614377818a614318565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156143cb578351835292840192918401916001016143af565b50909c9b505050505050505050505050565b6020815260006109b76020830184614318565b600082601f83011261440157600080fd5b813560206001600160401b0382111561441c5761441c613e99565b8160051b61442b828201613eaf565b928352848101820192828101908785111561444557600080fd5b83870192505b848310156144645782358252918301919083019061444b565b979650505050505050565b600080600080600060a0868803121561448757600080fd5b853561449281613d82565b945060208601356144a281613d82565b935060408601356001600160401b03808211156144be57600080fd5b6144ca89838a016143f0565b945060608801359150808211156144e057600080fd5b6144ec89838a016143f0565b9350608088013591508082111561450257600080fd5b5061450f88828901613f06565b9150509295509295909350565b6000806000806060858703121561453257600080fd5b84356001600160401b0381111561454857600080fd5b61455487828801613fc7565b90989097506020870135966040013595509350505050565b6000806000806000806060878903121561458557600080fd5b86356001600160401b038082111561459c57600080fd5b6145a88a838b01613da2565b909850965060208901359150808211156145c157600080fd5b6145cd8a838b01613da2565b909650945060408901359150808211156145e657600080fd5b506145f389828a01613da2565b979a9699509497509295939492505050565b6000806020838503121561461857600080fd5b82356001600160401b0381111561462e57600080fd5b61463a85828601613fc7565b90969095509350505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b8281101561469d57603f1988860301845261468b858351614318565b9450928501929085019060010161466f565b5092979650505050505050565b600080600080600060a086880312156146c257600080fd5b85356146cd81613d82565b945060208601356146dd81613d82565b9350604086013592506060860135915060808601356001600160401b0381111561470657600080fd5b61450f88828901613f06565b60006020828403121561472457600080fd5b81356109b781613d82565b60006020828403121561474157600080fd5b5051919050565b6000808335601e1984360301811261475f57600080fd5b83016020810192503590506001600160401b0381111561477e57600080fd5b803603821315613de657600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561486957858403601f19018a52823536899003605e190181126147f5578283fd5b88016060813561480481613d82565b6001600160a01b0316865261481b82880183614748565b828989015261482d838901828461478d565b92505050604061483f81840184614748565b93508783038289015261485383858361478d565b9d89019d975050509386019350506001016147d0565b509198975050505050505050565b602081526000823561488881613d82565b6001600160a01b03908116602084810191909152840135906148a982613d82565b80821660408501525050604083013560608301526060830135601e198436030181126148d457600080fd5b83016020810190356001600160401b038111156148f057600080fd5b8060051b360382131561490257600080fd5b60c0608085015261491760e0850182846147b6565b915050608084013560a084015261493160a0850185614748565b848303601f190160c0860152612d3983828461478d565b8051611e5f816141dd565b60006020828403121561496557600080fd5b81516109b7816141dd565b6000808335601e1984360301811261498757600080fd5b8301803591506001600160401b038211156149a157600080fd5b602001915036819003821315613de657600080fd5b6000838385526020808601955060208560051b8301018460005b87811015614a0a57848303601f190189526149eb8288614748565b6149f685828461478d565b9a86019a94505050908301906001016149d0565b5090979650505050505050565b606081526000614a2b60608301888a6149b6565b8281036020848101919091528682528791810160005b88811015614a5d57833582529282019290820190600101614a41565b508481036040860152614a718187896149b6565b9b9a5050505050505050505050565b8183823760009101908152919050565b634e487b7160e01b600052601160045260246000fd5b818103818111156108d8576108d8614a90565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b8281526040602082015260006109b46040830184614318565b60008085851115614b0e57600080fd5b83861115614b1b57600080fd5b5050820193919092039150565b803560208310156108d857600019602084900360031b1b1692915050565b606081526000614b5a60608301868861478d565b6020830194909452506040015292915050565b60008235605e19833603018112614b8357600080fd5b9190910192915050565b6bffffffffffffffffffffffff198135818116916014851015612a615760149490940360031b84901b1690921692915050565b60008251614b838184602087016142f4565b600181811c90821680614be657607f821691505b602082108103613d4057634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b600080600060608486031215614c3157600080fd5b8351925060208401519150604084015190509250925092565b634e487b7160e01b600052601260045260246000fd5b600082614c7d57634e487b7160e01b600052601260045260246000fd5b500490565b600082601f830112614c9357600080fd5b8151614ca1613f2582613edf565b818152846020838601011115614cb657600080fd5b613d7a8260208301602087016142f4565b600080600080600080600080610100898b031215614ce457600080fd5b88519750602089015196506040890151955060608901516001600160401b0380821115614d1057600080fd5b614d1c8c838d01614c82565b9650614d2a60808c01614948565b955060a08b0151915080821115614d4057600080fd5b614d4c8c838d01614c82565b945060c08b0151915080821115614d6257600080fd5b50614d6f8b828c01614c82565b92505060e089015190509295985092959890939650565b60008451614d988184602089016142f4565b845190830190614dac8183602089016142f4565b8451910190614dbf8183602088016142f4565b0195945050505050565b60008351614ddb8184602088016142f4565b9190910191825250602001919050565b808201808211156108d8576108d8614a90565b80820281158282048414176108d8576108d8614a9056fea2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694900a2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694902360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2fa2646970667358221220d641f685fbc825f5c1c752f10b46c0f81d9143a8b41e10871b92196f03c53fe864736f6c63430008170033",i_={};N(i_,{abi:()=>o_,bytecode:()=>c_});var o_=[],c_="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212203d81846f7dee1e1b6ac5ec7facf37349f677e4fb70664eb5852e6414aa31b93064736f6c63430008170033",d_={};N(d_,{abi:()=>f_,bytecode:()=>p_});var f_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getIsUsed",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegator",type:"address",internalType:"address"},{name:"_id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"id_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"UsedId",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],p_="0x608060405234801561001057600080fd5b50610518806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063595dce4814610083578063a145832a146100ab578063b99deb0e146100be578063d3eddcc514610067578063ed46336714610067575b600080fd5b610081610075366004610379565b50505050505050505050565b005b610096610091366004610446565b6100df565b60405190151581526020015b60405180910390f35b6100816100b9366004610379565b610116565b6100d16100cc366004610482565b61028c565b6040519081526020016100a2565b6001600160a01b03808416600090815260208181526040808320938616835292905290812061010e90836102ef565b949350505050565b85600881901b6001600160f81b03198116156101875760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101948c8c61028c565b90506101a13385836100df565b156101ee5760405162461bcd60e51b815260206004820152601a60248201527f4964456e666f726365723a69642d616c72656164792d75736564000000000000604482015260640161017e565b336000908152602081815260408083206001600160a01b03881684528252808320600885901c845290915290208054600160ff84161b179055826001600160a01b0316846001600160a01b0316336001600160a01b03167f6286af1aaf28b34723a53056e5608eabb40c823d1ce093ff371cf08c502431d68460405161027691815260200190565b60405180910390a4505050505050505050505050565b6000602082146102de5760405162461bcd60e51b815260206004820152601f60248201527f4964456e666f726365723a696e76616c69642d7465726d732d6c656e67746800604482015260640161017e565b6102e882846104c4565b9392505050565b600881901c600090815260208390526040902054600160ff83161b1615155b92915050565b60008083601f84011261032657600080fd5b50813567ffffffffffffffff81111561033e57600080fd5b60208301915083602082850101111561035657600080fd5b9250929050565b80356001600160a01b038116811461037457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561039857600080fd5b8a3567ffffffffffffffff808211156103b057600080fd5b6103bc8e838f01610314565b909c509a5060208d01359150808211156103d557600080fd5b6103e18e838f01610314565b909a50985060408d0135975060608d013591508082111561040157600080fd5b5061040e8d828e01610314565b90965094505060808b0135925061042760a08c0161035d565b915061043560c08c0161035d565b90509295989b9194979a5092959850565b60008060006060848603121561045b57600080fd5b6104648461035d565b92506104726020850161035d565b9150604084013590509250925092565b6000806020838503121561049557600080fd5b823567ffffffffffffffff8111156104ac57600080fd5b6104b885828601610314565b90969095509350505050565b8035602083101561030e57600019602084900360031b1b169291505056fea26469706673582212204a96dd3b9054d6055c3a36da342d1ecb848915fb596c41cf0571e73299243bf864736f6c63430008170033",u_={};N(u_,{abi:()=>b_,bytecode:()=>l_});var b_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"callCounts",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"count",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"limit_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"IncreasedCount",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"callCount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],l_="0x608060405234801561001057600080fd5b506104e9806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806319054d8914610067578063414c3e33146100a1578063a145832a146100bd578063b99deb0e146100d0578063d3eddcc5146100a1578063ed463367146100a1575b600080fd5b61008f6100753660046102ec565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100bb6100af36600461035f565b50505050505050505050565b005b6100bb6100cb36600461035f565b6100e3565b61008f6100de36600461042c565b610244565b85600881901b6100f48160006102b9565b6101535760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101608c8c610244565b33600090815260208181526040808320898452909152812080549293509091829061018a9061046e565b91829055509050818111156101ed5760405162461bcd60e51b815260206004820152602360248201527f4c696d6974656443616c6c73456e666f726365723a6c696d69742d657863656560448201526219195960ea1b606482015260840161014a565b604080518381526020810183905287916001600160a01b0387169133917f449da07f2c06c9d1a6b19d2454ffe749e8cf991d22f686e076a1a4844c5ff370910160405180910390a450505050505050505050505050565b6000602082146102a85760405162461bcd60e51b815260206004820152602960248201527f4c696d6974656443616c6c73456e666f726365723a696e76616c69642d7465726044820152680dae65ad8cadccee8d60bb1b606482015260840161014a565b6102b28284610495565b9392505050565b6001600160f81b0319828116908216145b92915050565b80356001600160a01b03811681146102e757600080fd5b919050565b600080604083850312156102ff57600080fd5b610308836102d0565b946020939093013593505050565b60008083601f84011261032857600080fd5b50813567ffffffffffffffff81111561034057600080fd5b60208301915083602082850101111561035857600080fd5b9250929050565b60008060008060008060008060008060e08b8d03121561037e57600080fd5b8a3567ffffffffffffffff8082111561039657600080fd5b6103a28e838f01610316565b909c509a5060208d01359150808211156103bb57600080fd5b6103c78e838f01610316565b909a50985060408d0135975060608d01359150808211156103e757600080fd5b506103f48d828e01610316565b90965094505060808b0135925061040d60a08c016102d0565b915061041b60c08c016102d0565b90509295989b9194979a5092959850565b6000806020838503121561043f57600080fd5b823567ffffffffffffffff81111561045657600080fd5b61046285828601610316565b90969095509350505050565b60006001820161048e57634e487b7160e01b600052601160045260246000fd5b5060010190565b803560208310156102ca57600019602084900360031b1b169291505056fea264697066735822122058fb87f0b8e8aa4745b9ef395d8bd725c313f876828d7be4c479f4049d6644ac64736f6c63430008170033",y_={};N(y_,{abi:()=>m_,bytecode:()=>h_});var m_=[{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"}],h_="0x",g_={};N(g_,{abi:()=>T_,bytecode:()=>x_});var T_=[],x_="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220f3b6a0af2d4dff4702805c39f40ed768201654e38f4d05a5ef7ae0498666b77964736f6c63430008170033",w_={};N(w_,{abi:()=>E_,bytecode:()=>A_});var E_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"initialAmount_",type:"uint256",internalType:"uint256"},{name:"maxAmount_",type:"uint256",internalType:"uint256"},{name:"amountPerSecond_",type:"uint256",internalType:"uint256"},{name:"startTime_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"streamingAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"initialAmount",type:"uint256",internalType:"uint256"},{name:"maxAmount",type:"uint256",internalType:"uint256"},{name:"amountPerSecond",type:"uint256",internalType:"uint256"},{name:"startTime",type:"uint256",internalType:"uint256"},{name:"spent",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"initialAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amountPerSecond",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"},{name:"lastUpdateTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],A_="0x608060405234801561001057600080fd5b506109a4806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100e9578063fb7d2c5b1461010a57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610765565b50505050505050505050565b005b61009c6100ac366004610765565b610177565b6100c46100bf366004610832565b61025c565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b6100fc6100f7366004610874565b610338565b6040519081526020016100e0565b61014f610118366004610874565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100e0565b856101838160006103a3565b6101d45760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101e58160006103a3565b61023f5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101cb565b5061024e8c8c898989886103ba565b505050505050505050505050565b6000808080608085146102cb5760405162461bcd60e51b815260206004820152603160248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101cb565b6102d960206000878961089e565b6102e2916108c8565b93506102f260406020878961089e565b6102fb916108c8565b925061030b60606040878961089e565b610314916108c8565b915061032460806060878961089e565b61032d916108c8565b939692955090935050565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a0810183528154815260018201549381019390935260028101549183019190915260038101546060830152600481015460808301529061039b9061062e565b949350505050565b6001600160f81b0319828116908216145b92915050565b60006103c685856106af565b50509150506000806000806103db8b8b61025c565b93509350935093508383101561044b5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e7660448201526e185b1a590b5b585e0b585b5bdd5b9d608a1b60648201526084016101cb565b600081116104b85760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e76604482015273616c69642d7a65726f2d73746172742d74696d6560601b60648201526084016101cb565b336000908152602081815260408083208a8452909152812060048101549091036104f5578481556001810184905560028101839055600381018290555b6040805160a081018252825481526001830154602082015260028301549181019190915260038201546060820152600482015460808201526105369061062e565b86111561059d5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a616c6c60448201526e1bddd85b98d94b595e18d959591959608a1b60648201526084016101cb565b858160040160008282546105b191906108fc565b9091555050600481015460408051878152602081018790529081018590526060810184905260808101919091524260a082015288906001600160a01b0389169033907fa4d5df1d290378aabb8f054b2f3100faf35e2266bb7fbe661f947dfc686704ae9060c00160405180910390a4505050505050505050505050565b6000816060015142101561064457506000919050565b6000826060015142610656919061090f565b9050600081846040015161066a9190610922565b845161067691906108fc565b9050836020015181111561068b575060208301515b808460800151106106a0575060009392505050565b608084015161039b908261090f565b60008036816106c1601482878961089e565b6106ca91610939565b60601c93506106dd60346014878961089e565b6106e6916108c8565b92506106f5856034818961089e565b949793965094505050565b60008083601f84011261071257600080fd5b50813567ffffffffffffffff81111561072a57600080fd5b60208301915083602082850101111561074257600080fd5b9250929050565b80356001600160a01b038116811461076057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561078457600080fd5b8a3567ffffffffffffffff8082111561079c57600080fd5b6107a88e838f01610700565b909c509a5060208d01359150808211156107c157600080fd5b6107cd8e838f01610700565b909a50985060408d0135975060608d01359150808211156107ed57600080fd5b506107fa8d828e01610700565b90965094505060808b0135925061081360a08c01610749565b915061082160c08c01610749565b90509295989b9194979a5092959850565b6000806020838503121561084557600080fd5b823567ffffffffffffffff81111561085c57600080fd5b61086885828601610700565b90969095509350505050565b6000806040838503121561088757600080fd5b61089083610749565b946020939093013593505050565b600080858511156108ae57600080fd5b838611156108bb57600080fd5b5050820193919092039150565b803560208310156103b457600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103b4576103b46108e6565b818103818111156103b4576103b46108e6565b80820281158282048414176103b4576103b46108e6565b6bffffffffffffffffffffffff1981358181169160148510156109665780818660140360031b1b83161692505b50509291505056fea264697066735822122052704058a3717c34d4c81be20ba9801f9b76f6f0c65ef9abba014d246806f21f64736f6c63430008170033",v_={};N(v_,{abi:()=>C_,bytecode:()=>I_});var C_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],I_="0x608060405234801561001057600080fd5b50610263806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063d3eddcc51461008b578063e38ad59014610099578063ed4633671461005c575b600080fd5b61007661006a366004610139565b50505050505050505050565b005b610076610086366004610139565b6100b4565b610076610057366004610139565b6100a260005481565b60405190815260200160405180910390f35b6000805490806100c383610206565b919050555050505050505050505050565b60008083601f8401126100e657600080fd5b50813567ffffffffffffffff8111156100fe57600080fd5b60208301915083602082850101111561011657600080fd5b9250929050565b80356001600160a01b038116811461013457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561015857600080fd5b8a3567ffffffffffffffff8082111561017057600080fd5b61017c8e838f016100d4565b909c509a5060208d013591508082111561019557600080fd5b6101a18e838f016100d4565b909a50985060408d0135975060608d01359150808211156101c157600080fd5b506101ce8d828e016100d4565b90965094505060808b013592506101e760a08c0161011d565b91506101f560c08c0161011d565b90509295989b9194979a5092959850565b60006001820161022657634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220bcf0049f14343021d3eb32b64d949a39aec074b673cc386de61163856ad518a964736f6c63430008170033",P_={};N(P_,{abi:()=>__,bytecode:()=>S_});var __=[],S_="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122074ec8ae00f245173ca026cab4a450417e87849694c5e94ec4fdf9b92eee9682e64736f6c63430008170033",N_={};N(N_,{abi:()=>D_,bytecode:()=>M_});var D_=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"nonpayable"},{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]}],M_="0x60a060405234801561001057600080fd5b50604051610fa1380380610fa183398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b608051610efc6100a560003960008181609c0152818160f8015281816102010152818161030201526103f60152610efc6000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610071578063d3eddcc514610084578063ea4d3c9b14610097578063ed463367146100da575b600080fd5b61006f61006a36600461084c565b6100ed565b005b61006f61007f36600461084c565b6101c7565b61006f61009236600461084c565b6102c8565b6100be7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b61006f6100e836600461084c565b6103bc565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461013e5760405162461bcd60e51b815260040161013590610918565b60405180910390fd5b6101bb8a8a8a8a6040518060a001604052808c81526020018b8b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018a90526001600160a01b03808a166040830152881660609091015263414c3e3360e01b6104ac565b50505050505050505050565b85600881901b6001600160f81b03198116156101f55760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461023e5760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b16604083015289166060909101526350a2c19560e11b6104ac565b5050505050505050505050565b85600881901b6001600160f81b03198116156102f65760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461033f5760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b166040830152891660609091015263d3eddcc560e01b6104ac565b85600881901b6001600160f81b03198116156103ea5760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104335760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b166040830152891660609091015263ed46336760e01b5b60006104ba86880188610af1565b905060006104ca85870187610cf3565b905081518160000151106105355760405162461bcd60e51b815260206004820152602c60248201527f4c6f676963616c4f7257726170706572456e666f726365723a696e76616c696460448201526b05acee4deeae05ad2dcc8caf60a31b6064820152608401610135565b60008282600001518151811061054d5761054d610ddb565b602002602001015190506000816000015151905080836020015151146105d15760405162461bcd60e51b815260206004820152603360248201527f4c6f676963616c4f7257726170706572456e666f726365723a696e76616c696460448201527205ac6c2eccac2e85ac2e4cee65ad8cadccee8d606b1b6064820152608401610135565b60005b818110156102bb576106a8836000015182815181106105f5576105f5610ddb565b602002602001015160000151878560000151848151811061061857610618610ddb565b6020026020010151602001518760200151858151811061063a5761063a610ddb565b60200260200101518b600001518c602001518d604001518e606001518f608001516040516024016106719796959493929190610e41565b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b0319909316929092179091526106b1565b506001016105d4565b60606106bf838360006106c6565b9392505050565b6060814710156106eb5760405163cd78605960e01b8152306004820152602401610135565b600080856001600160a01b031684866040516107079190610eaa565b60006040518083038185875af1925050503d8060008114610744576040519150601f19603f3d011682016040523d82523d6000602084013e610749565b606091505b5091509150610759868383610763565b9695505050505050565b60608261077857610773826107bf565b6106bf565b815115801561078f57506001600160a01b0384163b155b156107b857604051639996b31560e01b81526001600160a01b0385166004820152602401610135565b50806106bf565b8051156107cf5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b60008083601f8401126107fa57600080fd5b5081356001600160401b0381111561081157600080fd5b60208301915083602082850101111561082957600080fd5b9250929050565b80356001600160a01b038116811461084757600080fd5b919050565b60008060008060008060008060008060e08b8d03121561086b57600080fd5b8a356001600160401b038082111561088257600080fd5b61088e8e838f016107e8565b909c509a5060208d01359150808211156108a757600080fd5b6108b38e838f016107e8565b909a50985060408d0135975060608d01359150808211156108d357600080fd5b506108e08d828e016107e8565b90965094505060808b013592506108f960a08c01610830565b915061090760c08c01610830565b90509295989b9194979a5092959850565b60208082526030908201527f4c6f676963616c4f7257726170706572456e666f726365723a6f6e6c792d646560408201526f3632b3b0ba34b7b716b6b0b730b3b2b960811b606082015260800190565b60208082526025908201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6040820152642d7479706560d81b606082015260800190565b634e487b7160e01b600052604160045260246000fd5b604051602081016001600160401b03811182821017156109e5576109e56109ad565b60405290565b604051606081016001600160401b03811182821017156109e5576109e56109ad565b604080519081016001600160401b03811182821017156109e5576109e56109ad565b604051601f8201601f191681016001600160401b0381118282101715610a5757610a576109ad565b604052919050565b60006001600160401b03821115610a7857610a786109ad565b5060051b60200190565b600082601f830112610a9357600080fd5b81356001600160401b03811115610aac57610aac6109ad565b610abf601f8201601f1916602001610a2f565b818152846020838601011115610ad457600080fd5b816020850160208301376000918101602001919091529392505050565b600060208284031215610b0357600080fd5b6001600160401b0382351115610b1857600080fd5b8135820183601f820112610b2b57600080fd5b610b3d610b388235610a5f565b610a2f565b81358082526020808301929160051b840101861015610b5b57600080fd5b602083015b6020843560051b850101811015610ce9576001600160401b0381351115610b8657600080fd5b6020813585018803601f19011215610b9d57600080fd5b610ba56109c3565b6001600160401b0360208335870101351115610bc057600080fd5b81358501602081013501603f81018913610bd957600080fd5b610be9610b386020830135610a5f565b602082810135808352908201919060051b83016040018b1015610c0b57600080fd5b604083015b6040602085013560051b850101811015610cd6576001600160401b0381351115610c3957600080fd5b803584016060818e03603f19011215610c5157600080fd5b610c596109eb565b610c6560408301610830565b81526001600160401b0360608301351115610c7f57600080fd5b610c928e60406060850135850101610a82565b60208201526001600160401b0360808301351115610caf57600080fd5b610cc28e60406080850135850101610a82565b604082015284525060209283019201610c10565b5083525050835260209283019201610b60565b5095945050505050565b60006020808385031215610d0657600080fd5b82356001600160401b0380821115610d1d57600080fd5b9084019060408287031215610d3157600080fd5b610d39610a0d565b823581528383013582811115610d4e57600080fd5b80840193505086601f840112610d6357600080fd5b8235610d71610b3882610a5f565b81815260059190911b84018501908581019089831115610d9057600080fd5b8686015b83811015610dc857803586811115610dac5760008081fd5b610dba8c8a838b0101610a82565b845250918701918701610d94565b5095830195909552509695505050505050565b634e487b7160e01b600052603260045260246000fd5b60005b83811015610e0c578181015183820152602001610df4565b50506000910152565b60008151808452610e2d816020860160208601610df1565b601f01601f19169290920160200192915050565b60e081526000610e5460e083018a610e15565b8281036020840152610e66818a610e15565b90508760408401528281036060840152610e808188610e15565b608084019690965250506001600160a01b0392831660a0820152911660c090910152949350505050565b60008251610ebc818460208701610df1565b919091019291505056fea2646970667358221220849f3e028a14dd0caba34e88e124f67834a95e85298a8ec49d35e542d61e676b64736f6c63430008170033",O_={};N(O_,{abi:()=>k_,bytecode:()=>R_});var k_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],R_="0x608060405234801561001057600080fd5b5061028c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780637c46d3c814610083578063a145832a1461009e578063d3eddcc5146100b1578063e38ad590146100c4578063ed46336714610067575b600080fd5b610081610075366004610162565b50505050505050505050565b005b61008c60015481565b60405190815260200160405180910390f35b6100816100ac366004610162565b6100cd565b6100816100bf366004610162565b6100ed565b61008c60005481565b6000805490806100dc8361022f565b919050555050505050505050505050565b600180549060006100dc8361022f565b60008083601f84011261010f57600080fd5b50813567ffffffffffffffff81111561012757600080fd5b60208301915083602082850101111561013f57600080fd5b9250929050565b80356001600160a01b038116811461015d57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561018157600080fd5b8a3567ffffffffffffffff8082111561019957600080fd5b6101a58e838f016100fd565b909c509a5060208d01359150808211156101be57600080fd5b6101ca8e838f016100fd565b909a50985060408d0135975060608d01359150808211156101ea57600080fd5b506101f78d828e016100fd565b90965094505060808b0135925061021060a08c01610146565b915061021e60c08c01610146565b90509295989b9194979a5092959850565b60006001820161024f57634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220fbb59fec9ec7bf6cdda251d9d498ff456d0623f22ca1f4ef5f02ab03744fc44c64736f6c63430008170033",B_={};N(B_,{abi:()=>F_,bytecode:()=>L_});var F_=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_argsEqualityCheckEnforcer",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"argsEqualityCheckEnforcer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"ValidatedPayment",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!1,internalType:"address"},{name:"redeemer",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],L_="0x60c060405234801561001057600080fd5b506040516111b73803806111b783398101604081905261002f9161005e565b6001600160a01b039182166080521660a052610098565b6001600160a01b038116811461005b57600080fd5b50565b6000806040838503121561007157600080fd5b825161007c81610046565b602084015190925061008d81610046565b809150509250929050565b60805160a0516110e66100d16000396000818160a301526103c001526000818161011901528181610273015261065a01526110e66000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063b99deb0e1161005b578063b99deb0e146100e2578063d3eddcc514610082578063ea4d3c9b14610114578063ed4633671461013b57600080fd5b8063414c3e3314610082578063a145832a14610082578063a42ff9311461009e575b600080fd5b61009c6100903660046108d5565b50505050505050505050565b005b6100c57f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100f56100f03660046109a2565b61014e565b604080516001600160a01b0390931683526020830191909152016100d9565b6100c57f000000000000000000000000000000000000000000000000000000000000000081565b61009c6101493660046108d5565b6101fc565b600080603483146101be5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a696e76616c60448201526e0d2c85ae8cae4dae65ad8cadccee8d608b1b60648201526084015b60405180910390fd5b6101cc6014600085876109e4565b6101d591610a0e565b60601c91506101e783601481876109e4565b6101f091610a43565b60001c90509250929050565b85600881901b61020d8160006107ac565b6102675760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101b5565b50336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146102fb5760405162461bcd60e51b815260206004820152603260248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a6f6e6c792d6044820152713232b632b3b0ba34b7b716b6b0b730b3b2b960711b60648201526084016101b5565b6000806103088d8d61014e565b9092509050600061031b8b8d018d610c88565b905060008151116103945760405162461bcd60e51b815260206004820152603f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a696e76616c60448201527f69642d616c6c6f77616e63652d64656c65676174696f6e732d6c656e6774680060648201526084016101b5565b6000816000815181106103a9576103a9610dcd565b6020026020010151606001515111801561043057507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316816000815181106103fb576103fb610dcd565b60200260200101516060015160008151811061041957610419610dcd565b6020026020010151600001516001600160a01b0316145b6104a25760405162461bcd60e51b815260206004820152603c60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a6d6973736960448201527f6e672d61726773457175616c697479436865636b456e666f726365720000000060648201526084016101b5565b86856040516020016104d092919091825260601b6bffffffffffffffffffffffff1916602082015260340190565b604051602081830303815290604052816000815181106104f2576104f2610dcd565b60200260200101516060015160008151811061051057610510610dcd565b602090810291909101015160409081019190915280516001808252818301909252600091816020015b6060815260200190600190039081610539579050509050816040516020016105619190610e33565b6040516020818303038152906040528160008151811061058357610583610dcd565b6020908102919091010152604080516001808252818301909252600091816020015b60608152602001906001900390816105a55790505090506105d68585604051806020016040528060008152506107c3565b816000815181106105e9576105e9610dcd565b60209081029190910101526040805160018082528183019092526000918160200160208202803683370190505090506106206107f2565b8160008151811061063357610633610dcd565b602090810291909101015260405163cef6d20960e01b81526001600160a01b0380881631917f00000000000000000000000000000000000000000000000000000000000000009091169063cef6d2099061069590879086908890600401610fbf565b600060405180830381600087803b1580156106af57600080fd5b505af11580156106c3573d6000803e3d6000fd5b505050506001600160a01b038716316106dc8783611029565b8110156107435760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a7061796d6560448201526e1b9d0b5b9bdd0b5c9958d95a5d9959608a1b60648201526084016101b5565b604080516001600160a01b038d811682528c81166020830152918101899052908916908d9033907fac266e0d9b66169d0dc4479d531985bcec62dfd9d7992d0f6865afdbb7baa5e29060600160405180910390a450505050505050505050505050505050505050565b6001600160f81b0319828116908216145b92915050565b60608383836040516020016107da9392919061104a565b60405160208183030381529060405290509392505050565b600061080081808080610805565b905090565b604080516001600160f81b03198087166020830152851660218201526000602282018190526001600160e01b03198516602683015269ffffffffffffffffffff198416602a830152910160405160208183030381529060405261086790611089565b95945050505050565b60008083601f84011261088257600080fd5b50813567ffffffffffffffff81111561089a57600080fd5b6020830191508360208285010111156108b257600080fd5b9250929050565b80356001600160a01b03811681146108d057600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108f457600080fd5b8a3567ffffffffffffffff8082111561090c57600080fd5b6109188e838f01610870565b909c509a5060208d013591508082111561093157600080fd5b61093d8e838f01610870565b909a50985060408d0135975060608d013591508082111561095d57600080fd5b5061096a8d828e01610870565b90965094505060808b0135925061098360a08c016108b9565b915061099160c08c016108b9565b90509295989b9194979a5092959850565b600080602083850312156109b557600080fd5b823567ffffffffffffffff8111156109cc57600080fd5b6109d885828601610870565b90969095509350505050565b600080858511156109f457600080fd5b83861115610a0157600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610a3b5780818660140360031b1b83161692505b505092915050565b803560208310156107bd57600019602084900360031b1b1692915050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff81118282101715610a9a57610a9a610a61565b60405290565b60405160c0810167ffffffffffffffff81118282101715610a9a57610a9a610a61565b604051601f8201601f1916810167ffffffffffffffff81118282101715610aec57610aec610a61565b604052919050565b600067ffffffffffffffff821115610b0e57610b0e610a61565b5060051b60200190565b600082601f830112610b2957600080fd5b813567ffffffffffffffff811115610b4357610b43610a61565b610b56601f8201601f1916602001610ac3565b818152846020838601011115610b6b57600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f830112610b9957600080fd5b81356020610bae610ba983610af4565b610ac3565b82815260059290921b84018101918181019086841115610bcd57600080fd5b8286015b84811015610c7d57803567ffffffffffffffff80821115610bf25760008081fd5b908801906060828b03601f1901811315610c0c5760008081fd5b610c14610a77565b610c1f8885016108b9565b815260408085013584811115610c355760008081fd5b610c438e8b83890101610b18565b838b015250918401359183831115610c5b5760008081fd5b610c698d8a85880101610b18565b908201528652505050918301918301610bd1565b509695505050505050565b60006020808385031215610c9b57600080fd5b823567ffffffffffffffff80821115610cb357600080fd5b818501915085601f830112610cc757600080fd5b8135610cd5610ba982610af4565b81815260059190911b83018401908481019088831115610cf457600080fd5b8585015b83811015610dc057803585811115610d0f57600080fd5b860160c0818c03601f19011215610d265760008081fd5b610d2e610aa0565b610d398983016108b9565b81526040610d488184016108b9565b8a83015260608084013582840152608091508184013589811115610d6c5760008081fd5b610d7a8f8d83880101610b88565b82850152505060a0808401358284015260c0840135915088821115610d9f5760008081fd5b610dad8e8c84870101610b18565b9083015250845250918601918601610cf8565b5098975050505050505050565b634e487b7160e01b600052603260045260246000fd5b60005b83811015610dfe578181015183820152602001610de6565b50506000910152565b60008151808452610e1f816020860160208601610de3565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610f5857603f19888603018452815160c0860160018060a01b038083511688528089840151168989015260408301516040890152606083015160c060608a015282815180855260e08b01915060e08160051b8c010194508b8301925060005b81811015610f1c5760df198c870301835283518581511687528d81015160608f890152610eed6060890182610e07565b9050604082015191508781036040890152610f088183610e07565b97505050928c0192918c0191600101610ebd565b50505050506080820151608088015260a0820151915086810360a0880152610f448183610e07565b965050509285019290850190600101610e5a565b5092979650505050505050565b60008282518085526020808601955060208260051b8401016020860160005b84811015610fb257601f19868403018952610fa0838351610e07565b98840198925090830190600101610f84565b5090979650505050505050565b606081526000610fd26060830186610f65565b82810360208481019190915285518083528682019282019060005b8181101561100957845183529383019391830191600101610fed565b5050848103604086015261101d8187610f65565b98975050505050505050565b808201808211156107bd57634e487b7160e01b600052601160045260246000fd5b6bffffffffffffffffffffffff198460601b1681528260148201526000825161107a816034850160208701610de3565b91909101603401949350505050565b805160208083015191908110156110aa576000198160200360031b1b821691505b5091905056fea264697066735822122085080b51672c95cef1f0b772853b91117f909ad9d873a40d2cad7c2b29f5117c64736f6c63430008170033",U_={};N(U_,{abi:()=>H_,bytecode:()=>G_});var H_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],G_="0x608060405234801561001057600080fd5b50610b57806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610893565b50505050505050505050565b005b6100b16100ac366004610960565b61017f565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df3660046109ba565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610893565b610255565b61016461015f3660046109e4565b61033a565b604080519384526020840192909252908201526060016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a0810183528154815260018201549381019390935260028101549183018290526003810154606084015260040154608083015282918291156101f4576101e8816103f0565b9350935093505061024b565b6000806000610203898961033a565b92509250925060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061023f816103f0565b97509750975050505050505b9450945094915050565b85610261816000610484565b6102b25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102c3816000610484565b61031d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102a9565b5061032c8c8c8989898861049b565b505050505050505050505050565b600080806060841461039b5760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152750e474d2dcecc2d8d2c85ae8cae4dae65ad8cadccee8d60531b60648201526084016102a9565b6103a9602060008688610a26565b6103b291610a50565b92506103c2604060208688610a26565b6103cb91610a50565b91506103db606060408688610a26565b6103e491610a50565b60001c90509250925092565b6000806000836040015142101561040f5750600091508190508061047d565b602084015160408501516104239042610a84565b61042d9190610a97565b610438906001610ab9565b905080846060015114159150600082610455578460800151610458565b60005b90508085600001511161046c576000610479565b8451610479908290610a84565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60006104a785856107dd565b505091505060008060006104bb8a8a61033a565b336000908152602081815260408083208c84529091528120600281015494975092955090935090919003610684576000821161054d5760405162461bcd60e51b81526020600482015260396024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d73746172742d646174650000000000000060648201526084016102a9565b600084116105b15760405162461bcd60e51b815260206004820152603c6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d616d6f756e740000000060648201526084016102a9565b600083116106155760405162461bcd60e51b815260206004820152603e6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d6475726174696f6e000060648201526084016102a9565b814210156106725760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152751c8e9d1c985b9cd9995c8b5b9bdd0b5cdd185c9d195960521b60648201526084016102a9565b83815560018101839055600281018290555b60008060006106cf846040518060a0016040529081600082015481526020016001820154815260200160028201548152602001600382015481526020016004820154815250506103f0565b925092509250828811156107395760405162461bcd60e51b815260206004820152603a6024820152600080516020610b0283398151915260448201527f723a7472616e736665722d616d6f756e742d657863656564656400000000000060648201526084016102a9565b811561074e5760038401819055600060048501555b878460040160008282546107629190610ab9565b909155505060028401546004850154604080518a8152602081018a90529081019290925260608201524260808201528a906001600160a01b038b169033907f22e1bbd8bc0380d336958afc37cd8cb128d6c43891ed276162c30e8df467734d9060a00160405180910390a45050505050505050505050505050565b60008036816107ef6014828789610a26565b6107f891610acc565b60601c935061080b603460148789610a26565b61081491610a50565b92506108238560348189610a26565b949793965094505050565b60008083601f84011261084057600080fd5b50813567ffffffffffffffff81111561085857600080fd5b60208301915083602082850101111561087057600080fd5b9250929050565b80356001600160a01b038116811461088e57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108b257600080fd5b8a3567ffffffffffffffff808211156108ca57600080fd5b6108d68e838f0161082e565b909c509a5060208d01359150808211156108ef57600080fd5b6108fb8e838f0161082e565b909a50985060408d0135975060608d013591508082111561091b57600080fd5b506109288d828e0161082e565b90965094505060808b0135925061094160a08c01610877565b915061094f60c08c01610877565b90509295989b9194979a5092959850565b6000806000806060858703121561097657600080fd5b8435935061098660208601610877565b9250604085013567ffffffffffffffff8111156109a257600080fd5b6109ae8782880161082e565b95989497509550505050565b600080604083850312156109cd57600080fd5b6109d683610877565b946020939093013593505050565b600080602083850312156109f757600080fd5b823567ffffffffffffffff811115610a0e57600080fd5b610a1a8582860161082e565b90969095509350505050565b60008085851115610a3657600080fd5b83861115610a4357600080fd5b5050820193919092039150565b8035602083101561049557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561049557610495610a6e565b600082610ab457634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561049557610495610a6e565b6bffffffffffffffffffffffff198135818116916014851015610af95780818660140360031b1b83161692505b50509291505056fe4e6174697665546f6b656e506572696f645472616e73666572456e666f726365a2646970667358221220ddbfb33bfc3119eae666e9c14c2e492d38eed690114f0ed176d6eb49d0bc21a364736f6c63430008170033",V_={};N(V_,{abi:()=>z_,bytecode:()=>K_});var z_=[{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"nonceSequenceNumber",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],K_="0x",W_={};N(W_,{abi:()=>j_,bytecode:()=>$_});var j_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"currentNonce",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"nonce_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"incrementNonce",inputs:[{name:"_delegationManager",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"UsedNonce",inputs:[{name:"delegationManager",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],$_="0x608060405234801561001057600080fd5b5061050e806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063b99deb0e1161005b578063b99deb0e146100eb578063d3eddcc5146100bc578063ed463367146100bc578063f5743c4c146100fe57600080fd5b80632bd4ed2114610082578063414c3e33146100bc578063a145832a146100d8575b600080fd5b6100aa610090366004610314565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100d66100ca366004610390565b50505050505050505050565b005b6100d66100e6366004610390565b610111565b6100aa6100f936600461045d565b61020f565b6100d661010c36600461049f565b61027d565b85600881901b6101228160006102e1565b6101815760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b50600061018e8c8c61020f565b336000908152602081815260408083206001600160a01b038916845290915290205490915081146102015760405162461bcd60e51b815260206004820152601b60248201527f4e6f6e6365456e666f726365723a696e76616c69642d6e6f6e636500000000006044820152606401610178565b505050505050505050505050565b60006020821461026c5760405162461bcd60e51b815260206004820152602260248201527f4e6f6e6365456e666f726365723a696e76616c69642d7465726d732d6c656e676044820152610e8d60f31b6064820152608401610178565b61027682846104ba565b9392505050565b6001600160a01b038116600081815260208181526040808320338085529083529281902080546001810190915590518181529093917fe02d340254c92bc3ad96f0fceb790db939e11c669c1f4c8a549d248f17130b33910160405180910390a35050565b6001600160f81b0319828116908216145b92915050565b80356001600160a01b038116811461030f57600080fd5b919050565b6000806040838503121561032757600080fd5b610330836102f8565b915061033e602084016102f8565b90509250929050565b60008083601f84011261035957600080fd5b50813567ffffffffffffffff81111561037157600080fd5b60208301915083602082850101111561038957600080fd5b9250929050565b60008060008060008060008060008060e08b8d0312156103af57600080fd5b8a3567ffffffffffffffff808211156103c757600080fd5b6103d38e838f01610347565b909c509a5060208d01359150808211156103ec57600080fd5b6103f88e838f01610347565b909a50985060408d0135975060608d013591508082111561041857600080fd5b506104258d828e01610347565b90965094505060808b0135925061043e60a08c016102f8565b915061044c60c08c016102f8565b90509295989b9194979a5092959850565b6000806020838503121561047057600080fd5b823567ffffffffffffffff81111561048757600080fd5b61049385828601610347565b90969095509350505050565b6000602082840312156104b157600080fd5b610276826102f8565b803560208310156102f257600019602084900360031b1b169291505056fea26469706673582212205626dd2329dbdfa25ba379781a5be6c8fc6ae0eb3a22e9122f5d8207bb7de74564736f6c63430008170033",Y_={};N(Y_,{abi:()=>J_,bytecode:()=>Q_});var J_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAllTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"tokens_",type:"address[]",internalType:"address[]"},{name:"periodAmounts_",type:"uint256[]",internalType:"uint256[]"},{name:"periodDurations_",type:"uint256[]",internalType:"uint256[]"},{name:"startDates_",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"pure"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_tokenIndex",type:"uint256",internalType:"uint256"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Q_="0x608060405234801561001057600080fd5b5061148b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063a145832a11610066578063a145832a1461014b578063d3eddcc5146100c4578063da8081c21461015e578063ed463367146100c4578063f5c7d74e146101c357600080fd5b806319de6ebc14610098578063414c3e33146100c4578063733c0d80146100e05780638572e3191461011d575b600080fd5b6100ab6100a6366004610f6f565b6101e4565b6040516100bb9493929190610fed565b60405180910390f35b6100de6100d2366004611094565b50505050505050505050565b005b6100f36100ee366004611161565b6104b6565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100bb565b61013061012b3660046111ad565b61062a565b604080519384529115156020840152908201526060016100bb565b6100de610159366004611094565b6106fc565b61019b61016c366004611237565b600060208190529081526040902080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100bb565b6101d66101d1366004611250565b6107de565b6040519081526020016100bb565b6060808080846101f56074826112a8565b15801561020157508015155b6102265760405162461bcd60e51b815260040161021d906112bc565b60405180910390fd5b600061023360748361130d565b90508067ffffffffffffffff81111561024e5761024e611321565b604051908082528060200260200182016040528015610277578160200160208202803683370190505b5095508067ffffffffffffffff81111561029357610293611321565b6040519080825280602002602001820160405280156102bc578160200160208202803683370190505b5094508067ffffffffffffffff8111156102d8576102d8611321565b604051908082528060200260200182016040528015610301578160200160208202803683370190505b5093508067ffffffffffffffff81111561031d5761031d611321565b604051908082528060200260200182016040528015610346578160200160208202803683370190505b50925060005b818110156104aa576000610361826074611337565b905089818a61037182601461134e565b9261037e93929190611361565b6103879161138b565b60601c88838151811061039c5761039c6113c0565b6001600160a01b039092166020928302919091019091015289896103c183601461134e565b906103cd84603461134e565b926103da93929190611361565b6103e3916113d6565b60001c8783815181106103f8576103f86113c0565b6020908102919091010152898961041083603461134e565b9061041c84605461134e565b9261042993929190611361565b610432916113d6565b60001c868381518110610447576104476113c0565b6020908102919091010152898961045f83605461134e565b9061046b84607461134e565b9261047893929190611361565b610481916113d6565b60001c858381518110610496576104966113c0565b60209081029190910101525060010161034c565b50505092959194509250565b60008080808580158015906104d357506104d16074826112a8565b155b6104ef5760405162461bcd60e51b815260040161021d906112bc565b60006104fc60748361130d565b90508087106105505760405162461bcd60e51b815260206004820152602c602482015260008051602061143683398151915260448201526b05ae8ded6cadc5ad2dcc8caf60a31b606482015260840161021d565b600061055d886074611337565b905089818a61056d82601461134e565b9261057a93929190611361565b6105839161138b565b60601c9650898961059583601461134e565b906105a184603461134e565b926105ae93929190611361565b6105b7916113d6565b955089896105c683603461134e565b906105d284605461134e565b926105df93929190611361565b6105e8916113d6565b945089896105f783605461134e565b9061060384607461134e565b9261061093929190611361565b610619916113d6565b60001c935050505093509350935093565b60008060008060008060006106438d8d8d8d8d8d6107f5565b60008481526020818152604091829020825160a081018452815481526001820154928101929092526002810154928201839052600381015460608301526004015460808201529498509296509094509250156106b2576106a28161083c565b97509750975050505050506106f0565b6040805160a0810182528581526020810185905290810183905260006060820181905260808201526106e38161083c565b9850985098505050505050505b96509650969350505050565b856107088160006108d0565b6107545760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d74797065604482015260640161021d565b86600881901b6107658160006108d0565b6107bf5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161021d565b506107d08c8c8c8c8b8b8b8a6108e7565b505050505050505050505050565b60006107ec85858585610e8b565b95945050505050565b60008080808061080786880188611237565b905060006108168a8a846104b6565b91975095509350905061082b8b828e85610e8b565b955050509650965096509692505050565b6000806000836040015142101561085b575060009150819050806108c9565b6020840151604085015161086f90426113f4565b610879919061130d565b61088490600161134e565b9050808460600151141591506000826108a15784608001516108a4565b60005b9050808560000151116108b85760006108c5565b84516108c59082906113f4565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b6000806000803660006108fa8a8a610ed5565b935093509350935081819050604403610a0657821561096f5760405162461bcd60e51b8152602060048201526038602482015260008051602061143683398151915260448201527f2d76616c75652d696e2d65726332302d7472616e736665720000000000000000606482015260840161021d565b63a9059cbb60e01b610985600460008486611361565b61098e91611407565b6001600160e01b031916146109e35760405162461bcd60e51b815260206004820152602760248201526000805160206114368339815191526044820152660b5b595d1a1bd960ca1b606482015260840161021d565b92935083926109f6604460248385611361565b6109ff916113d6565b9550610acf565b6000819003610a7f5760008311610a735760405162461bcd60e51b815260206004820152603e602482015260008051602061143683398151915260448201527f2d7a65726f2d76616c75652d696e2d6e61746976652d7472616e736665720000606482015260840161021d565b60009450829550610acf565b60405162461bcd60e51b8152602060048201526031602482015260008051602061143683398151915260448201527005ac6c2d8d85ac8c2e8c25ad8cadccee8d607b1b606482015260840161021d565b5060009250610ae3915050888a018a611237565b9050600080600080610af68f8f876104b6565b9350935093509350836001600160a01b0316866001600160a01b031614610b6f5760405162461bcd60e51b815260206004820152602760248201527f4d756c7469546f6b656e506572696f64456e666f726365723a746f6b656e2d6d6044820152660d2e6dac2e8c6d60cb1b606482015260840161021d565b6000610b7d33888c89610e8b565b60008181526020819052604081206002810154929350919003610d1f5760008311610bf15760405162461bcd60e51b8152602060048201526030602482015260008051602061143683398151915260448201526f2d7a65726f2d73746172742d6461746560801b606482015260840161021d565b60008511610c4b5760405162461bcd60e51b815260206004820152603360248201526000805160206114368339815191526044820152720b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d606a1b606482015260840161021d565b60008411610ca75760405162461bcd60e51b8152602060048201526035602482015260008051602061143683398151915260448201527416bd32b93796b832b934b7b216b23ab930ba34b7b760591b606482015260840161021d565b82421015610d0d5760405162461bcd60e51b815260206004820152602d60248201527f4d756c7469546f6b656e506572696f64456e666f726365723a7472616e73666560448201526c1c8b5b9bdd0b5cdd185c9d1959609a1b606482015260840161021d565b84815560018101849055600281018390555b6000806000610d6a846040518060a00160405290816000820154815260200160018201548152602001600282015481526020016003820154815260200160048201548152505061083c565b925092509250828c1115610dda5760405162461bcd60e51b815260206004820152603160248201527f4d756c7469546f6b656e506572696f64456e666f726365723a7472616e7366656044820152701c8b585b5bdd5b9d0b595e18d959591959607a1b606482015260840161021d565b8115610def5760038401819055600060048501555b8b846004016000828254610e03919061134e565b90915550506004840154604080516001600160a01b038e81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a45050505050505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152949095168582015260608501929092526080808501919091528151808503909101815260a09093019052815191012090565b6000803681610ee76014828789611361565b610ef09161138b565b60601c9350610f03603460148789611361565b610f0c916113d6565b9250610f1b8560348189611361565b949793965094505050565b60008083601f840112610f3857600080fd5b50813567ffffffffffffffff811115610f5057600080fd5b602083019150836020828501011115610f6857600080fd5b9250929050565b60008060208385031215610f8257600080fd5b823567ffffffffffffffff811115610f9957600080fd5b610fa585828601610f26565b90969095509350505050565b60008151808452602080850194506020840160005b83811015610fe257815187529582019590820190600101610fc6565b509495945050505050565b6080808252855190820181905260009060209060a0840190828901845b8281101561102f5781516001600160a01b03168452928401929084019060010161100a565b50505083810360208501526110448188610fb1565b91505082810360408401526110598186610fb1565b9050828103606084015261106d8185610fb1565b979650505050505050565b80356001600160a01b038116811461108f57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156110b357600080fd5b8a3567ffffffffffffffff808211156110cb57600080fd5b6110d78e838f01610f26565b909c509a5060208d01359150808211156110f057600080fd5b6110fc8e838f01610f26565b909a50985060408d0135975060608d013591508082111561111c57600080fd5b506111298d828e01610f26565b90965094505060808b0135925061114260a08c01611078565b915061115060c08c01611078565b90509295989b9194979a5092959850565b60008060006040848603121561117657600080fd5b833567ffffffffffffffff81111561118d57600080fd5b61119986828701610f26565b909790965060209590950135949350505050565b600080600080600080608087890312156111c657600080fd5b863595506111d660208801611078565b9450604087013567ffffffffffffffff808211156111f357600080fd5b6111ff8a838b01610f26565b9096509450606089013591508082111561121857600080fd5b5061122589828a01610f26565b979a9699509497509295939492505050565b60006020828403121561124957600080fd5b5035919050565b6000806000806080858703121561126657600080fd5b61126f85611078565b935061127d60208601611078565b93969395505050506040820135916060013590565b634e487b7160e01b600052601260045260246000fd5b6000826112b7576112b7611292565b500690565b6020808252602d9082015260008051602061143683398151915260408201526c05ae8cae4dae65ad8cadccee8d609b1b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b60008261131c5761131c611292565b500490565b634e487b7160e01b600052604160045260246000fd5b80820281158282048414176108e1576108e16112f7565b808201808211156108e1576108e16112f7565b6000808585111561137157600080fd5b8386111561137e57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156113b85780818660140360031b1b83161692505b505092915050565b634e487b7160e01b600052603260045260246000fd5b803560208310156108e157600019602084900360031b1b1692915050565b818103818111156108e1576108e16112f7565b6001600160e01b031981358181169160048510156113b85760049490940360031b84901b169092169291505056fe4d756c7469546f6b656e506572696f64456e666f726365723a696e76616c6964a264697066735822122024c53d9970ff849bf9025e90cc5d34bfc99b0f5ee6a61ef6c48512264a9b0a3164736f6c63430008170033",q_={};N(q_,{abi:()=>Z_,bytecode:()=>X_});var Z_=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],X_="0x608060405234801561001057600080fd5b50610824806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461016d578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c5578063a145832a146100e1578063a79a0db5146100f4575b600080fd5b6100b061009b366004610568565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d33660046105e6565b50505050505050505050565b005b6100df6100ef3660046105e6565b610180565b6101076101023660046106b3565b6102c6565b6040519081526020016100bc565b610107610123366004610568565b60006020819052908152604090205481565b6101486101433660046106dd565b6102db565b6040805193151584526001600160a01b039092166020840152908201526060016100bc565b6100df61017b3660046105e6565b6103ad565b85600881901b6001600160f81b03198116156101f15760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101fe338661052b565b9050600061020c8d8d6102db565b5060008481526001602052604090205490925060ff161590506102885760405162461bcd60e51b815260206004820152602e60248201527f4e617469766542616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b60648201526084016101e8565b6000918252600160208181526040808520805460ff19169093179092558390529091206001600160a01b039091163190555050505050505050505050565b60006102d2838361052b565b90505b92915050565b60008080603584146103485760405162461bcd60e51b815260206004820152603060248201527f4e617469766542616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016101e8565b8484600081811061035b5761035b61071f565b909101356001600160f81b0319161515935061037d9050601560018688610735565b6103869161075f565b60601c91506103988460158188610735565b6103a191610794565b60001c90509250925092565b60008060006103bc8d8d6102db565b92509250925060006103ce338861052b565b6000818152600160205260409020805460ff1916905590508315610482576000818152602081905260409020546104069083906107c8565b836001600160a01b031631101561047d5760405162461bcd60e51b815260206004820152603560248201527f4e617469766542616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b60648201526084016101e8565b61051b565b60008181526020819052604090205461049c9083906107db565b836001600160a01b031631101561051b5760405162461bcd60e51b815260206004820152603960248201527f4e617469766542616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e6372656173650000000000000060648201526084016101e8565b5050505050505050505050505050565b604080516001600160a01b038416602082015290810182905260009060600160405160208183030381529060405280519060200120905092915050565b60006020828403121561057a57600080fd5b5035919050565b60008083601f84011261059357600080fd5b50813567ffffffffffffffff8111156105ab57600080fd5b6020830191508360208285010111156105c357600080fd5b9250929050565b80356001600160a01b03811681146105e157600080fd5b919050565b60008060008060008060008060008060e08b8d03121561060557600080fd5b8a3567ffffffffffffffff8082111561061d57600080fd5b6106298e838f01610581565b909c509a5060208d013591508082111561064257600080fd5b61064e8e838f01610581565b909a50985060408d0135975060608d013591508082111561066e57600080fd5b5061067b8d828e01610581565b90965094505060808b0135925061069460a08c016105ca565b91506106a260c08c016105ca565b90509295989b9194979a5092959850565b600080604083850312156106c657600080fd5b6106cf836105ca565b946020939093013593505050565b600080602083850312156106f057600080fd5b823567ffffffffffffffff81111561070757600080fd5b61071385828601610581565b90969095509350505050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561074557600080fd5b8386111561075257600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff19813581811691601485101561078c5780818660140360031b1b83161692505b505092915050565b803560208310156102d557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156102d5576102d56107b2565b808201808211156102d5576102d56107b256fea2646970667358221220b33a5c188759ed62e28774f4ab95ff422856e7b7a36f7de87da5f14ed435ece964736f6c63430008170033",eS={};N(eS,{abi:()=>tS,bytecode:()=>nS});var tS=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],nS="0x",aS={};N(aS,{abi:()=>rS,bytecode:()=>sS});var rS=[],sS="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220709bae2a6201f60c7dd916d94e8aed6e76d68870a93207bbf209cbf2ce9581c664736f6c63430008170033",iS={};N(iS,{abi:()=>oS,bytecode:()=>cS});var oS=[{type:"function",name:"onERC721Received",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"}],cS="0x",dS={};N(dS,{abi:()=>fS,bytecode:()=>pS});var fS=[{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]}],pS="0x",st={};N(st,{abi:()=>uS,bytecode:()=>bS});var uS=[{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],bS="0x",lS={};N(lS,{abi:()=>yS,bytecode:()=>mS});var yS=[{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],mS="0x",Zp={};N(Zp,{abi:()=>hS,bytecode:()=>gS});var hS=[{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]}],gS="0x",TS={};N(TS,{abi:()=>xS,bytecode:()=>wS});var xS=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowance_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"spentMap",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],wS="0x608060405234801561001057600080fd5b506105cd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780639dd5d9ab14610083578063a145832a146100bd578063b99deb0e146100d0578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046103a7565b50505050505050505050565b005b6100ab610091366004610474565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100816100cb3660046103a7565b6100e3565b6100ab6100de36600461049e565b6102c5565b856100ef8160006102da565b6101405760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101518160006102da565b6101ab5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610137565b5060006101b88d8d6102c5565b905060006101c689896102f1565b5050336000908152602081815260408083208c845290915281208054929450909250839183906101f79084906104e0565b92505081905590508281111561026c5760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e5472616e73666572416d6f756e74456e666f7263656044820152731c8e985b1b1bddd85b98d94b595e18d95959195960621b6064820152608401610137565b604080518481526020810183905289916001600160a01b0389169133917fc026e493323d526061a052b5dd562495120e2f648797a48be61966d3a6beec8d910160405180910390a4505050505050505050505050505050565b60006102d382840184610501565b9392505050565b6001600160f81b0319828116908216145b92915050565b6000803681610303601482878961051a565b61030c91610544565b60601c935061031f60346014878961051a565b61032891610579565b9250610337856034818961051a565b949793965094505050565b60008083601f84011261035457600080fd5b50813567ffffffffffffffff81111561036c57600080fd5b60208301915083602082850101111561038457600080fd5b9250929050565b80356001600160a01b03811681146103a257600080fd5b919050565b60008060008060008060008060008060e08b8d0312156103c657600080fd5b8a3567ffffffffffffffff808211156103de57600080fd5b6103ea8e838f01610342565b909c509a5060208d013591508082111561040357600080fd5b61040f8e838f01610342565b909a50985060408d0135975060608d013591508082111561042f57600080fd5b5061043c8d828e01610342565b90965094505060808b0135925061045560a08c0161038b565b915061046360c08c0161038b565b90509295989b9194979a5092959850565b6000806040838503121561048757600080fd5b6104908361038b565b946020939093013593505050565b600080602083850312156104b157600080fd5b823567ffffffffffffffff8111156104c857600080fd5b6104d485828601610342565b90969095509350505050565b808201808211156102eb57634e487b7160e01b600052601160045260246000fd5b60006020828403121561051357600080fd5b5035919050565b6000808585111561052a57600080fd5b8386111561053757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105715780818660140360031b1b83161692505b505092915050565b803560208310156102eb57600019602084900360031b1b169291505056fea2646970667358221220242bcbb545bdb30c0cc3054c27d7e861e0e03c97037d12e0a3a635b723f4c96064736f6c63430008170033",ES={};N(ES,{abi:()=>AS,bytecode:()=>vS});var AS=[],vS="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220d7aca7990ce9da4d7914667722de1ec02253803fb163d86029328ca9bb504b0164736f6c63430008170033",CS={};N(CS,{abi:()=>IS,bytecode:()=>PS});var IS=[{type:"fallback",stateMutability:"nonpayable"}],PS="0x608060405234801561001057600080fd5b5061022e806100206000396000f3fe608060405234801561001057600080fd5b50600036606060a0821461004057604080516000602082015201604051602081830303815290604052905061017b565b600061004f6020828587610186565b610058916101b0565b9050600061006a604060208688610186565b610073916101b0565b90506000610085606060408789610186565b61008e916101b0565b905060006100a060806060888a610186565b6100a9916101b0565b905060006100bb60a06080898b610186565b6100c4916101b0565b60405163a1f3128160e01b8152600481018790526024810186905260448101859052606481018490526084810182905290915073__$b8f96b288d4d0429e38b8ed50fd423070f$__9063a1f312819060a401602060405180830381865af4158015610133573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061015791906101cf565b60408051911515602083015201604051602081830303815290604052955050505050505b915050805190602001f35b6000808585111561019657600080fd5b838611156101a357600080fd5b5050820193919092039150565b803560208310156101c957600019602084900360031b1b165b92915050565b6000602082840312156101e157600080fd5b815180151581146101f157600080fd5b939250505056fea26469706673582212203dafaa4c8f34ad767d36775120cdf65742956a98b33a9913f2e11f858baf2d9e64736f6c63430008170033",_S={};N(_S,{abi:()=>SS,bytecode:()=>NS});var SS=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"targetContract_",type:"address",internalType:"address"}],stateMutability:"pure"},{type:"event",name:"OwnershipTransferEnforced",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newOwner",type:"address",indexed:!1,internalType:"address"}],anonymous:!1}],NS="0x608060405234801561001057600080fd5b506106af806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461049f565b50505050505050505050565b005b61007661008636600461049f565b6100ba565b61009e61009936600461056c565b6101e7565b6040516001600160a01b03909116815260200160405180910390f35b856100c6816000610252565b6101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610128816000610252565b6101825760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b5060006101918d8d8a8a610269565b6040516001600160a01b038083168252919250879186169033907f0f026cada0b544ae1cc47ac006f1f4c3d7e94832af22aa0065351de49f9284d79060200160405180910390a450505050505050505050505050565b60006014821461023e5760405162461bcd60e51b815260206004820152602e602482015260008051602061065a83398151915260448201526d0c85ae8cae4dae65ad8cadccee8d60931b606482015260840161010e565b61024882846105ae565b60601c9392505050565b6001600160f81b0319828116908216145b92915050565b60008036600061027986866103e9565b929550935090915050602481146102db5760405162461bcd60e51b8152602060048201526032602482015260008051602061065a8339815191526044820152710c85acaf0cac6eae8d2dedc5ad8cadccee8d60731b606482015260840161010e565b60006102ea60048284866105e3565b6102f39161060d565b90506001600160e01b0319811663f2fde38b60e01b146103545760405162461bcd60e51b8152602060048201526028602482015260008051602061065a833981519152604482015267190b5b595d1a1bd960c21b606482015260840161010e565b60006103608a8a6101e7565b9050846001600160a01b0316816001600160a01b0316146103c45760405162461bcd60e51b815260206004820152602a602482015260008051602061065a833981519152604482015269190b58dbdb9d1c9858dd60b21b606482015260840161010e565b6103d26024600485876105e3565b6103db9161063b565b9a9950505050505050505050565b60008036816103fb60148287896105e3565b610404916105ae565b60601c93506104176034601487896105e3565b6104209161063b565b925061042f85603481896105e3565b949793965094505050565b60008083601f84011261044c57600080fd5b50813567ffffffffffffffff81111561046457600080fd5b60208301915083602082850101111561047c57600080fd5b9250929050565b80356001600160a01b038116811461049a57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156104be57600080fd5b8a3567ffffffffffffffff808211156104d657600080fd5b6104e28e838f0161043a565b909c509a5060208d01359150808211156104fb57600080fd5b6105078e838f0161043a565b909a50985060408d0135975060608d013591508082111561052757600080fd5b506105348d828e0161043a565b90965094505060808b0135925061054d60a08c01610483565b915061055b60c08c01610483565b90509295989b9194979a5092959850565b6000806020838503121561057f57600080fd5b823567ffffffffffffffff81111561059657600080fd5b6105a28582860161043a565b90969095509350505050565b6bffffffffffffffffffffffff1981358181169160148510156105db5780818660140360031b1b83161692505b505092915050565b600080858511156105f357600080fd5b8386111561060057600080fd5b5050820193919092039150565b6001600160e01b031981358181169160048510156105db5760049490940360031b84901b1690921692915050565b8035602083101561026357600019602084900360031b1b169291505056fe4f776e6572736869705472616e73666572456e666f726365723a696e76616c69a2646970667358221220ca5ae6d7f1b90ba5d22d1aa6d07431cba5451fcdcfda2c53ba5014e9bf6c30cc64736f6c63430008170033",DS={};N(DS,{abi:()=>MS,bytecode:()=>OS});var MS=[{type:"error",name:"SafeERC20FailedDecreaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"currentAllowance",type:"uint256",internalType:"uint256"},{name:"requestedDecrease",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]}],OS="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088a0aa059cfc49869da70b79266115a887b85b6bf4a5e84a430f64ac0e13ee7c64736f6c63430008170033",kS={};N(kS,{abi:()=>RS,bytecode:()=>BS});var RS=[{type:"function",name:"createSender",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[{name:"sender",type:"address",internalType:"address"}],stateMutability:"nonpayable"}],BS="0x608060405234801561000f575f80fd5b506101e28061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063570e1a361461002d575b5f80fd5b61004061003b3660046100e4565b61005c565b6040516001600160a01b03909116815260200160405180910390f35b5f8061006b6014828587610150565b61007491610177565b60601c90505f6100878460148188610150565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525084519495509360209350849250905082850182875af190505f519350806100db575f93505b50505092915050565b5f80602083850312156100f5575f80fd5b823567ffffffffffffffff8082111561010c575f80fd5b818501915085601f83011261011f575f80fd5b81358181111561012d575f80fd5b86602082850101111561013e575f80fd5b60209290920196919550909350505050565b5f808585111561015e575f80fd5b8386111561016a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156101a45780818660140360031b1b83161692505b50509291505056fea264697066735822122078c1aaa9f040f8c523cf2b642dd06415593eec30d2e75021458af7e0c704e6fb64736f6c63430008170033",FS={};N(FS,{abi:()=>LS,bytecode:()=>US});var LS=[{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]}],US="0x",HS={};N(HS,{abi:()=>GS,bytecode:()=>VS});var GS=[{type:"error",name:"SafeCastOverflowedIntDowncast",inputs:[{name:"bits",type:"uint8",internalType:"uint8"},{name:"value",type:"int256",internalType:"int256"}]},{type:"error",name:"SafeCastOverflowedIntToUint",inputs:[{name:"value",type:"int256",internalType:"int256"}]},{type:"error",name:"SafeCastOverflowedUintDowncast",inputs:[{name:"bits",type:"uint8",internalType:"uint8"},{name:"value",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SafeCastOverflowedUintToInt",inputs:[{name:"value",type:"uint256",internalType:"uint256"}]}],VS="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122061ebdeb3510df44a7d9170525bd3fc61f93c656e67274c3f3b4aa33ec92dc13864736f6c63430008170033",zS={};N(zS,{abi:()=>KS,bytecode:()=>WS});var KS=[],WS="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212203d65f4321e18e96a0e0a3e6a8d19e56735de368638fd48b184c923bf46a5170f64736f6c63430008170033",jS={};N(jS,{abi:()=>$S,bytecode:()=>YS});var $S=[{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],YS="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088910c5f67a05f7b05fc7425f62972b57385080dd0be1e4dea1ea74435bca86f64736f6c63430008170033",V6={};N(V6,{abi:()=>JS,bytecode:()=>QS});var JS=[{type:"function",name:"computeAddress",inputs:[{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"deploy",inputs:[{name:"_bytecode",type:"bytes",internalType:"bytes"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"event",name:"Deployed",inputs:[{name:"addr",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SimpleFactoryEmptyContract",inputs:[{name:"deployed",type:"address",internalType:"address"}]}],QS="0x608060405234801561001057600080fd5b506102ef806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063481286e61461003b5780634af63f021461006a575b600080fd5b61004e6100493660046101cc565b61007d565b6040516001600160a01b03909116815260200160405180910390f35b61004e610078366004610204565b610090565b60006100898284610115565b9392505050565b600061009e60008385610122565b9050806001600160a01b03163b6000036100db576040516301e3495560e61b81526001600160a01b03821660048201526024015b60405180910390fd5b6040516001600160a01b038216907ff40fcec21964ffb566044d083b4073f29f7f7929110ea19e1b3ebe375d89055e90600090a292915050565b60006100898383306101a2565b60008347101561014e5760405163392efb2b60e21b8152476004820152602481018590526044016100d2565b815160000361017057604051631328927760e21b815260040160405180910390fd5b8282516020840186f590506001600160a01b03811661008957604051633a0ba96160e11b815260040160405180910390fd5b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b600080604083850312156101df57600080fd5b50508035926020909101359150565b634e487b7160e01b600052604160045260246000fd5b6000806040838503121561021757600080fd5b823567ffffffffffffffff8082111561022f57600080fd5b818501915085601f83011261024357600080fd5b813581811115610255576102556101ee565b604051601f8201601f19908116603f0116810190838211818310171561027d5761027d6101ee565b8160405282815288602084870101111561029657600080fd5b82602086016020830137600060209382018401529896909101359650505050505056fea264697066735822122060b446de0182f6cf23546703f0e9eb0c1da6c4f00138f5d151474f865157cd3164736f6c63430008170033",qS={};N(qS,{abi:()=>ZS,bytecode:()=>XS});var ZS=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedRedeemers_",type:"address[]",internalType:"address[]"}],stateMutability:"pure"}],XS="0x608060405234801561001057600080fd5b5061064b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103ae565b50505050505050505050565b005b6100766100863660046103ae565b6100b4565b61009e61009936600461047b565b6101e8565b6040516100ab91906104bd565b60405180910390f35b85600881901b6100c5816000610332565b6101245760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101318c8c6101e8565b805190915060005b81811015610183578281815181106101535761015361050a565b60200260200101516001600160a01b0316856001600160a01b03160361017b575050506101db565b600101610139565b5060405162461bcd60e51b815260206004820152602660248201527f52656465656d6572456e666f726365723a756e617574686f72697a65642d72656044820152653232b2b6b2b960d11b606482015260840161011b565b5050505050505050505050565b606060008280158015906102045750610202601482610536565b155b61025e5760405162461bcd60e51b815260206004820152602560248201527f52656465656d6572456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b606482015260840161011b565b610269601482610560565b67ffffffffffffffff81111561028157610281610574565b6040519080825280602002602001820160405280156102aa578160200160208202803683370190505b50925060005b81811015610329578581866102c682601461058a565b926102d39392919061059d565b6102dc916105c7565b60601c8484815181106102f1576102f161050a565b6001600160a01b039092166020928302919091019091015282610313816105fc565b9350610322905060148261058a565b90506102b0565b50505092915050565b6001600160f81b0319828116908216145b92915050565b60008083601f84011261035b57600080fd5b50813567ffffffffffffffff81111561037357600080fd5b60208301915083602082850101111561038b57600080fd5b9250929050565b80356001600160a01b03811681146103a957600080fd5b919050565b60008060008060008060008060008060e08b8d0312156103cd57600080fd5b8a3567ffffffffffffffff808211156103e557600080fd5b6103f18e838f01610349565b909c509a5060208d013591508082111561040a57600080fd5b6104168e838f01610349565b909a50985060408d0135975060608d013591508082111561043657600080fd5b506104438d828e01610349565b90965094505060808b0135925061045c60a08c01610392565b915061046a60c08c01610392565b90509295989b9194979a5092959850565b6000806020838503121561048e57600080fd5b823567ffffffffffffffff8111156104a557600080fd5b6104b185828601610349565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156104fe5783516001600160a01b0316835292840192918401916001016104d9565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b60008261054557610545610520565b500690565b634e487b7160e01b600052601160045260246000fd5b60008261056f5761056f610520565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156103435761034361054a565b600080858511156105ad57600080fd5b838611156105ba57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105f45780818660140360031b1b83161692505b505092915050565b60006001820161060e5761060e61054a565b506001019056fea264697066735822122021c89a0ebcdb2523c453552212243b747d81b7c16f2f3e22d20bb9692240f3a364736f6c63430008170033",eN={};N(eN,{abi:()=>tN,bytecode:()=>nN});var tN=[],nN="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212209bac814741dd376ccf59547680acabccb0310545d980db81a1b4c6c7f17cdbc164736f6c63430008170033",aN={};N(aN,{abi:()=>rN,bytecode:()=>sN});var rN=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"termsData_",type:"tuple",internalType:"struct SpecificActionERC20TransferBatchEnforcer.TermsData",components:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"recipient",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"firstTarget",type:"address",internalType:"address"},{name:"firstCalldata",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"},{type:"function",name:"usedDelegations",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"DelegationExecuted",inputs:[{name:"delegationManager",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],sN="0x608060405234801561001057600080fd5b50610ccf806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063a145832a14610083578063b99deb0e14610096578063b9cf5249146100bf578063d3eddcc514610067578063ed46336714610067575b600080fd5b610081610075366004610958565b50505050505050505050565b005b610081610091366004610958565b6100fa565b6100a96100a4366004610a25565b6106ce565b6040516100b69190610a67565b60405180910390f35b6100ea6100cd366004610af5565b600060208181529281526040808220909352908152205460ff1681565b60405190151581526020016100b6565b8561010981600160f81b610843565b61015a5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61016b816000610843565b6101c55760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610151565b503360009081526020818152604080832088845290915290205460ff1615610245576040805162461bcd60e51b8152602060048201526024810191909152600080516020610c7a83398151915260448201527f456e666f726365723a64656c65676174696f6e2d616c72656164792d757365646064820152608401610151565b336000908152602081815260408083208884529091528120805460ff191660011790553690610274898961085a565b9092509050600281146102dd5760405162461bcd60e51b815260206004820152603b6024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d62617463682d73697a6500000000006064820152608401610151565b60006102e98f8f6106ce565b905080606001516001600160a01b03168383600081811061030c5761030c610b1f565b905060200281019061031e9190610b35565b61032c906020810190610b55565b6001600160a01b031614158061036957508282600081811061035057610350610b1f565b90506020028101906103629190610b35565b6020013515155b806103c757508060800151805190602001208383600081811061038e5761038e610b1f565b90506020028101906103a09190610b35565b6103ae906040810190610b77565b6040516103bc929190610bbe565b604051809103902014155b156104335760405162461bcd60e51b81526020600482015260426024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d66697273742d7472616e736163746960648201526137b760f11b608482015260a401610151565b80516001600160a01b03168383600181811061045157610451610b1f565b90506020028101906104639190610b35565b610471906020810190610b55565b6001600160a01b03161415806104ae57508282600181811061049557610495610b1f565b90506020028101906104a79190610b35565b6020013515155b806104ee5750828260018181106104c7576104c7610b1f565b90506020028101906104d99190610b35565b6104e7906040810190610b77565b9050604414155b80610554575063a9059cbb60e01b8383600181811061050f5761050f610b1f565b90506020028101906105219190610b35565b61052f906040810190610b77565b61053e91600491600091610bce565b61054791610bf8565b6001600160e01b03191614155b806105bf575080602001516001600160a01b03168383600181811061057b5761057b610b1f565b905060200281019061058d9190610b35565b61059b906040810190610b77565b6105aa91602491600491610bce565b6105b391610c28565b6001600160a01b031614155b8061061857508060400151838360018181106105dd576105dd610b1f565b90506020028101906105ef9190610b35565b6105fd906040810190610b77565b61060c91604491602491610bce565b61061591610c28565b14155b156106855760405162461bcd60e51b81526020600482015260436024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d7365636f6e642d7472616e7361637460648201526234b7b760e91b608482015260a401610151565b6040516001600160a01b03881690899033907f76f83a16f9924b51c0c3ad67a44af3e517fbdec68ffa3729776df2ac0f03144090600090a4505050505050505050505050505050565b61071b6040518060a0016040528060006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160006001600160a01b03168152602001606081525090565b605c8210156107805760405162461bcd60e51b815260206004820152603d6024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d7465726d732d6c656e6774680000006064820152608401610151565b61078e601460008486610bce565b61079791610c46565b60601c81526107aa602860148486610bce565b6107b391610c46565b60601c60208201526107c9604860288486610bce565b6107d291610c28565b60408201526107e5605c60488486610bce565b6107ee91610c46565b606090811c9082015261080482605c8186610bce565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505050608082015292915050565b6001600160f81b0319828116908216145b92915050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156108925763ba597e7e6000526004601cfd5b83156108e9578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156108e05763ba597e7e6000526004601cfd5b5050508261089c575b5050509250929050565b60008083601f84011261090557600080fd5b50813567ffffffffffffffff81111561091d57600080fd5b60208301915083602082850101111561093557600080fd5b9250929050565b80356001600160a01b038116811461095357600080fd5b919050565b60008060008060008060008060008060e08b8d03121561097757600080fd5b8a3567ffffffffffffffff8082111561098f57600080fd5b61099b8e838f016108f3565b909c509a5060208d01359150808211156109b457600080fd5b6109c08e838f016108f3565b909a50985060408d0135975060608d01359150808211156109e057600080fd5b506109ed8d828e016108f3565b90965094505060808b01359250610a0660a08c0161093c565b9150610a1460c08c0161093c565b90509295989b9194979a5092959850565b60008060208385031215610a3857600080fd5b823567ffffffffffffffff811115610a4f57600080fd5b610a5b858286016108f3565b90969095509350505050565b6000602080835260018060a01b038085511660208501528060208601511660408501526040850151606085015280606086015116608085015250608084015160a08085015280518060c086015260005b81811015610ad35782810184015186820160e001528301610ab7565b50600060e0828701015260e0601f19601f830116860101935050505092915050565b60008060408385031215610b0857600080fd5b610b118361093c565b946020939093013593505050565b634e487b7160e01b600052603260045260246000fd5b60008235605e19833603018112610b4b57600080fd5b9190910192915050565b600060208284031215610b6757600080fd5b610b708261093c565b9392505050565b6000808335601e19843603018112610b8e57600080fd5b83018035915067ffffffffffffffff821115610ba957600080fd5b60200191503681900382131561093557600080fd5b8183823760009101908152919050565b60008085851115610bde57600080fd5b83861115610beb57600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015610c205780818660040360031b1b83161692505b505092915050565b8035602083101561085457600019602084900360031b1b1692915050565b6bffffffffffffffffffffffff198135818116916014851015610c205760149490940360031b84901b169092169291505056fe5370656369666963416374696f6e45524332305472616e736665724261746368a2646970667358221220e8d1de6d5cca88243b7e7a1d3b3a1ae6b1a75dad78f305486212fafaf9e3ca5264736f6c63430008170033",iN={};N(iN,{abi:()=>oN,bytecode:()=>cN});var oN=[{type:"receive",stateMutability:"payable"},{type:"function",name:"addStake",inputs:[{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"deposits",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],cN="0x",dN={};N(dN,{abi:()=>fN,bytecode:()=>pN});var fN=[{type:"error",name:"StringsInsufficientHexLength",inputs:[{name:"value",type:"uint256",internalType:"uint256"},{name:"length",type:"uint256",internalType:"uint256"}]}],pN="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ce1bfc0cd5aac1e748b751339a93cc065f5fd20fd73be10a7844adf26543eb8164736f6c63430008170033",uN={};N(uN,{abi:()=>bN,bytecode:()=>lN});var bN=[],lN="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122089188054053227534294662d666312081d2f72553264bdfc0ce4a353c15e0f6364736f6c63430008170033",yN={};N(yN,{abi:()=>mN,bytecode:()=>hN});var mN=[{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"}],hN="0x",gN={};N(gN,{abi:()=>TN,bytecode:()=>xN});var TN=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"value_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"}],xN="0x608060405234801561001057600080fd5b506104f8806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610336565b50505050505050505050565b005b610076610086366004610336565b6100b0565b61009e610099366004610403565b6101f8565b60405190815260200160405180910390f35b856100bc816000610269565b61010d5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61011e816000610269565b6101785760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610104565b5060006101858888610280565b505091505060006101968e8e6101f8565b9050808211156101e85760405162461bcd60e51b815260206004820152601f60248201527f56616c75654c7465456e666f726365723a76616c75652d746f6f2d68696768006044820152606401610104565b5050505050505050505050505050565b6000602082146102585760405162461bcd60e51b815260206004820152602560248201527f56616c75654c7465456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b6064820152608401610104565b6102628284610445565b9392505050565b6001600160f81b0319828116908216145b92915050565b60008036816102926014828789610463565b61029b9161048d565b60601c93506102ae603460148789610463565b6102b791610445565b92506102c68560348189610463565b949793965094505050565b60008083601f8401126102e357600080fd5b50813567ffffffffffffffff8111156102fb57600080fd5b60208301915083602082850101111561031357600080fd5b9250929050565b80356001600160a01b038116811461033157600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035557600080fd5b8a3567ffffffffffffffff8082111561036d57600080fd5b6103798e838f016102d1565b909c509a5060208d013591508082111561039257600080fd5b61039e8e838f016102d1565b909a50985060408d0135975060608d01359150808211156103be57600080fd5b506103cb8d828e016102d1565b90965094505060808b013592506103e460a08c0161031a565b91506103f260c08c0161031a565b90509295989b9194979a5092959850565b6000806020838503121561041657600080fd5b823567ffffffffffffffff81111561042d57600080fd5b610439858286016102d1565b90969095509350505050565b8035602083101561027a57600019602084900360031b1b1692915050565b6000808585111561047357600080fd5b8386111561048057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156104ba5780818660140360031b1b83161692505b50509291505056fea26469706673582212201b32f956e1bfeecade9436bbfc83066c0610b5679c49ae7d06d58eaeb4e24ff564736f6c63430008170033",wN={};N(wN,{abi:()=>EN,bytecode:()=>AN});var EN=[{type:"function",name:"PAYMASTER_DATA_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PAYMASTER_POSTOP_GAS_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PAYMASTER_VALIDATION_GAS_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],AN="0x60a7610034600b8282823980515f1a60731461002857634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106046575f3560e01c806325093e1b14604a578063b29a8ff4146063578063ede3150214606a575b5f80fd5b6051602481565b60405190815260200160405180910390f35b6051601481565b605160348156fea2646970667358221220e3e47e9c438ff94c86dca42d7dcd69637923bbba71e55fc90068fd2fbb4991dc64736f6c63430008170033",vN={};N(vN,{abi:()=>CN,bytecode:()=>IN});var CN=[{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}],IN="0x",PN={};N(PN,{abi:()=>_N,bytecode:()=>SN});var _N=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"timestampAfterThreshold_",type:"uint128",internalType:"uint128"},{name:"timestampBeforeThreshold_",type:"uint128",internalType:"uint128"}],stateMutability:"pure"}],SN="0x608060405234801561001057600080fd5b506104e7806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461033f565b50505050505050505050565b005b61007661008636600461033f565b6100c2565b61009e61009936600461040c565b61023a565b604080516001600160801b0393841681529290911660208301520160405180910390f35b85600881901b6001600160f81b03198116156101335760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806101418d8d61023a565b90925090506001600160801b038216156101b857816001600160801b031642116101b85760405162461bcd60e51b815260206004820152602260248201527f54696d657374616d70456e666f726365723a6561726c792d64656c656761746960448201526137b760f11b606482015260840161012a565b6001600160801b0381161561022b57806001600160801b0316421061022b5760405162461bcd60e51b8152602060048201526024808201527f54696d657374616d70456e666f726365723a657870697265642d64656c6567616044820152633a34b7b760e11b606482015260840161012a565b50505050505050505050505050565b6000806020831461029c5760405162461bcd60e51b815260206004820152602660248201527f54696d657374616d70456e666f726365723a696e76616c69642d7465726d732d6044820152650d8cadccee8d60d31b606482015260840161012a565b6102a9836010818761044e565b6102b291610478565b60801c90506102c560106000858761044e565b6102ce91610478565b60801c91509250929050565b60008083601f8401126102ec57600080fd5b50813567ffffffffffffffff81111561030457600080fd5b60208301915083602082850101111561031c57600080fd5b9250929050565b80356001600160a01b038116811461033a57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035e57600080fd5b8a3567ffffffffffffffff8082111561037657600080fd5b6103828e838f016102da565b909c509a5060208d013591508082111561039b57600080fd5b6103a78e838f016102da565b909a50985060408d0135975060608d01359150808211156103c757600080fd5b506103d48d828e016102da565b90965094505060808b013592506103ed60a08c01610323565b91506103fb60c08c01610323565b90509295989b9194979a5092959850565b6000806020838503121561041f57600080fd5b823567ffffffffffffffff81111561043657600080fd5b610442858286016102da565b90969095509350505050565b6000808585111561045e57600080fd5b8386111561046b57600080fd5b5050820193919092039150565b6fffffffffffffffffffffffffffffffff1981358181169160108510156104a95780818660100360031b1b83161692505b50509291505056fea2646970667358221220493f1dd46bf21857fc13b6e41e6f29c1c53fbb939ca84fcd1536c7cf1000d18064736f6c63430008170033",NN={};N(NN,{abi:()=>DN,bytecode:()=>MN});var DN=[{type:"fallback",stateMutability:"payable"}],MN="0x",ON={};N(ON,{abi:()=>kN,bytecode:()=>RN});var kN=[],RN="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122034801a6b4534dfc9cfe9c8b31e018c344c3329b6bf478762f2158ce5781d2b7a64736f6c63430008170033",g0={};N(g0,{abi:()=>BN,bytecode:()=>FN});var BN=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"MAX_NUMBER_OF_SIGNERS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"addSigner",inputs:[{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getSigners",inputs:[],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getSignersCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getThreshold",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isSigner",inputs:[{name:"_addr",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"reinitialize",inputs:[{name:"_version",type:"uint64",internalType:"uint64"},{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"},{name:"_clearSigners",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeSigner",inputs:[{name:"_oldSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"replaceSigner",inputs:[{name:"_oldSigner",type:"address",internalType:"address"},{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"updateMultiSigParameters",inputs:[{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"},{name:"_clearSigners",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateThreshold",inputs:[{name:"_threshold",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AddedSigner",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"RemovedSigner",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ReplacedSigner",inputs:[{name:"oldSigner",type:"address",indexed:!0,internalType:"address"},{name:"newSigner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"UpdatedThreshold",inputs:[{name:"threshold",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AlreadyASigner",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientSigners",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"InvalidSignerAddress",inputs:[]},{type:"error",name:"InvalidThreshold",inputs:[]},{type:"error",name:"NotASigner",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"TooManySigners",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],FN="0x6101c0604052306080523480156200001657600080fd5b506040516200492838038062004928833981016040819052620000399162000392565b81816040518060400160405280601181526020017026bab63a34a9b4b3a232b632a3b0ba37b960791b815250604051806040016040528060018152602001603160f81b8152508181620000976000836200021f60201b90919060201c565b61014052620000a88160016200021f565b61016052815160208084019190912061010052815190820120610120524660c052620001386101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0526200014b62000258565b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a2505050506000620001d66200030c60201b60201c565b600019600282018190556040519081529091507f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d039060200160405180910390a1505050620005ba565b60006020835110156200023f57620002378362000330565b905062000252565b816200024c848262000478565b5060ff90505b92915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff1615620002a95760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b0390811614620003095780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b7fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c0090565b600080829050601f8151111562000367578260405163305a27a960e01b81526004016200035e919062000544565b60405180910390fd5b8051620003748262000595565b179392505050565b6001600160a01b03811681146200030957600080fd5b60008060408385031215620003a657600080fd5b8251620003b3816200037c565b6020840151909250620003c6816200037c565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680620003fc57607f821691505b6020821081036200041d57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111562000473576000816000526020600020601f850160051c810160208610156200044e5750805b601f850160051c820191505b818110156200046f578281556001016200045a565b5050505b505050565b81516001600160401b03811115620004945762000494620003d1565b620004ac81620004a58454620003e7565b8462000423565b602080601f831160018114620004e45760008415620004cb5750858301515b600019600386901b1c1916600185901b1785556200046f565b600085815260208120601f198616915b828110156200051557888601518255948401946001909101908401620004f4565b5085821015620005345787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620005745785810183015185820160400152820162000556565b506000604082860101526040601f19601f8301168501019250505092915050565b805160208083015191908110156200041d5760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051614235620006f3600039600081816106d8015281816109cd01528181610c2d01528181610cb701528181610d3501528181610e9901528181610f4e01528181610fd90152818161115e0152818161124e015281816113010152818161137301528181611523015281816115a20152818161169d0152818161195501528181611a4b01528181611c6101528181611e64015281816120da0152612d0d01526000818161084a01528181610d9801528181610e1b01528181610efc0152818161160501526116e1015260006129970152600061296a015260006122be01526000612296015260006121f10152600061221b0152600061224501526000818161214801528181612171015261267101526142356000f3fe6080604052600436106102815760003560e01c806394cf795e1161014f578063cef6d209116100c1578063e9ae5c531161007a578063e9ae5c5314610825578063ea4d3c9b14610838578063eb12d61e1461086c578063ed8101b51461088c578063f23a6e61146108ac578063ffa1ad74146108cc57600080fd5b8063cef6d2091461075c578063d087d2881461077c578063d691c96414610791578063d7d7442f146107b1578063e3d9109f146107d1578063e75235b8146107f157600080fd5b8063acb8cc4911610113578063acb8cc4914610668578063ad3cb1cc14610695578063b0d691fe146106c6578063b3c65015146106fa578063bc197c8114610727578063c399ec881461074757600080fd5b806394cf795e1461059a578063a0c1deb4146105bc578063a24c8f32146105de578063a3f4df7e146105f1578063aaf10f421461063b57600080fd5b806349934047116101f357806365ee81d8116101ac57806365ee81d8146104b757806378979a80146104d75780637df73e27146104f75780637f07bfdc1461053d57806383ebb7711461055d57806384b0196e1461057257600080fd5b806349934047146104345780634a58db19146104545780634f1ef2861461045c57806352d1902d1461046f5780635c1c6dcd1461048457806360b5bb3f1461049757600080fd5b806319822f7c1161024557806319822f7c1461036b5780632b3afd991461038b5780633e1b0812146103bf5780633ed01015146103df578063445140b8146103ff5780634891161f1461041f57600080fd5b806301ffc9a71461028d57806306394d67146102c25780630e316ab7146102f0578063150b7a02146103125780631626ba7e1461034b57600080fd5b3661028857005b600080fd5b34801561029957600080fd5b506102ad6102a8366004613309565b6108fd565b60405190151581526020015b60405180910390f35b3480156102ce57600080fd5b506102e26102dd36600461334c565b61098d565b6040519081526020016102b9565b3480156102fc57600080fd5b5061031061030b36600461339d565b6109c2565b005b34801561031e57600080fd5b5061033261032d36600461346f565b610be6565b6040516001600160e01b031990911681526020016102b9565b34801561035757600080fd5b50610332610366366004613522565b610c01565b34801561037757600080fd5b506102e261038636600461356d565b610c20565b34801561039757600080fd5b506102e27fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156103cb57600080fd5b506102e26103da3660046135ba565b610c90565b3480156103eb57600080fd5b506103106103fa3660046135e3565b610d2a565b34801561040b57600080fd5b506102ad61041a36600461361d565b610e02565b34801561042b57600080fd5b506102e2601e81565b34801561044057600080fd5b5061031061044f3660046135e3565b610e8e565b610310610f31565b61031061046a366004613636565b610f9b565b34801561047b57600080fd5b506102e2610fb1565b610310610492366004613685565b610fce565b3480156104a357600080fd5b506103106104b2366004613703565b61103e565b3480156104c357600080fd5b506103106104d236600461375c565b611153565b3480156104e357600080fd5b506103106104f23660046137ba565b6111bc565b34801561050357600080fd5b506102ad61051236600461339d565b6001600160a01b031660009081526000805160206141c0833981519152602052604090205460ff1690565b34801561054957600080fd5b50610310610558366004613836565b6112f6565b34801561056957600080fd5b506102e26113d3565b34801561057e57600080fd5b506105876113e2565b6040516102b997969594939291906138b2565b3480156105a657600080fd5b506105af611428565b6040516102b9919061394b565b3480156105c857600080fd5b506000805160206141a0833981519152546102e2565b6103106105ec366004613636565b610fa3565b3480156105fd57600080fd5b5061062e6040518060400160405280601181526020017026bab63a34a9b4b3a232b632a3b0ba37b960791b81525081565b6040516102b99190613998565b34801561064757600080fd5b5061065061149b565b6040516001600160a01b0390911681526020016102b9565b34801561067457600080fd5b5061062e604051806040016040528060018152602001603160f81b81525081565b3480156106a157600080fd5b5061062e604051806040016040528060058152602001640352e302e360dc1b81525081565b3480156106d257600080fd5b506106507f000000000000000000000000000000000000000000000000000000000000000081565b34801561070657600080fd5b5061070f6114bc565b6040516001600160401b0390911681526020016102b9565b34801561073357600080fd5b50610332610742366004613a2a565b6114ef565b34801561075357600080fd5b506102e261150b565b34801561076857600080fd5b50610310610777366004613ad7565b611597565b34801561078857600080fd5b506102e261167e565b6107a461079f366004613522565b6116d4565b6040516102b99190613b70565b3480156107bd57600080fd5b506103106107cc36600461361d565b61194a565b3480156107dd57600080fd5b506103106107ec366004613bd4565b611a40565b3480156107fd57600080fd5b507fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c02546102e2565b610310610833366004613522565b611c56565b34801561084457600080fd5b506106507f000000000000000000000000000000000000000000000000000000000000000081565b34801561087857600080fd5b5061031061088736600461339d565b611e59565b34801561089857600080fd5b506102e26108a736600461334c565b611fdf565b3480156108b857600080fd5b506103326108c7366004613c0d565b612121565b3480156108d857600080fd5b5061062e604051806040016040528060058152602001640312e332e360dc1b81525081565b600061090761213d565b6001600160e01b031982166335a4725960e21b148061093657506001600160e01b03198216630a85bd0160e11b145b8061095157506001600160e01b03198216630271189760e51b145b8061096c57506001600160e01b031982166301ffc9a760e01b145b8061098757506001600160e01b03198216630b135d3f60e11b145b92915050565b600061098761099a6121e4565b6109a384611fdf565b60405161190160f01b8152600281019290925260228201526042902090565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906109fb5750333014155b15610a1957604051630796d94560e01b815260040160405180910390fd5b6001600160a01b03811660009081526000805160206141c0833981519152602081905260409091205460ff16610a625760405163da0357f760e01b815260040160405180910390fd5b600181015460028201548103610a8b576040516361774dcf60e11b815260040160405180910390fd5b60005b610a99600183613c8b565b811015610b6357836001600160a01b0316836001018281548110610abf57610abf613c9e565b6000918252602090912001546001600160a01b031603610b5b5782600101600183610aea9190613c8b565b81548110610afa57610afa613c9e565b6000918252602090912001546001840180546001600160a01b039092169183908110610b2857610b28613c9e565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550610b63565b600101610a8e565b5081600101805480610b7757610b77613cb4565b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b038516808352908490526040808320805460ff191690555190917fb0073c14ccc2332b5b461c0d2fb94366f38d3954a82745e74827aa0811c9f98191a2505050565b6000610bf061213d565b50630a85bd0160e11b949350505050565b6000610c0b61213d565b610c1684848461230f565b90505b9392505050565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610c6b57604051636b31ba1560e11b815260040160405180910390fd5b610c7361213d565b610c8584610c808661098d565b6124ae565b9050610c19826124f6565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610d06573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109879190613cca565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610d635750333014155b15610d8157604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed0101590610dcd908490600401613e12565b600060405180830381600087803b158015610de757600080fd5b505af1158015610dfb573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610e6a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109879190613eed565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ec75750333014155b15610ee557604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690634993404790610dcd908490600401613e12565b610f3961213d565b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b158015610de757600080fd5b610fa361258e565b610fad828261264b565b5050565b6000610fbb612666565b506000805160206141e083398151915290565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461101757604051636b31ba1560e11b815260040160405180910390fd5b610fad611027602083018361339d565b60208301356110396040850185613f0a565b6126af565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff1615906001600160401b03166000811580156110835750825b90506000826001600160401b0316600114801561109f5750303b155b9050811580156110ad575080155b156110cb5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156110f557845460ff60401b1916600160401b1785555b61110288888860006126e5565b831561114957845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d2906020015b60405180910390a15b5050505050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061118c5750333014155b156111aa57604051630796d94560e01b815260040160405180910390fd5b6111b6848484846126e5565b50505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054869190600160401b900460ff1680611204575080546001600160401b03808416911610155b156112225760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b178155336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061127c5750333014155b1561129a57604051630796d94560e01b815260040160405180910390fd5b6112a6868686866126e5565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a150505050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061132f5750333014155b1561134d57604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156113b757600080fd5b505af11580156113cb573d6000803e3d6000fd5b505050505050565b60006113dd6121e4565b905090565b6000606080600080600060606113f6612963565b6113fe612990565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b606060006000805160206141c08339815191526001810180546040805160208084028201810190925282815293945083018282801561149057602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611472575b505050505091505090565b60006113dd6000805160206141e0833981519152546001600160a01b031690565b60006113dd7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00546001600160401b031690565b60006114f961213d565b5063bc197c8160e01b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015611573573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113dd9190613cca565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906115d05750333014155b156115ee57604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061164490899089908990899089908990600401613fb1565b600060405180830381600087803b15801561165e57600080fd5b505af1158015611672573d6000803e3d6000fd5b50505050505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401611556565b6060336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461171f57604051630692ce8160e21b815260040160405180910390fd5b83600881901b61173382600160f81b6129bd565b156117b95736600061174587876129cf565b90925090506117558360006129bd565b1561176b576117648282612a68565b94506117b2565b61177983600160f81b6129bd565b15611788576117648282612b29565b6040516308c3ee0360e11b81526001600160f81b0319841660048201526024015b60405180910390fd5b5050611941565b6117c48260006129bd565b1561191c576000803660006117d98989612c56565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816117f8579050509650600061181b86826129bd565b1561184f5761182c858585856126af565b8860008151811061183f5761183f613c9e565b6020026020010181905250611912565b61185d86600160f81b6129bd565b156118ed5761186e85858585612ca7565b8960008151811061188157611881613c9e565b60209081029190910101529050806118e8577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb76000896000815181106118c9576118c9613c9e565b60200260200101516040516118df92919061401a565b60405180910390a15b611912565b6040516308c3ee0360e11b81526001600160f81b0319871660048201526024016117a9565b5050505050611941565b604051632e5bf3f960e21b81526001600160f81b0319831660048201526024016117a9565b50509392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906119835750333014155b156119a157604051630796d94560e01b815260040160405180910390fd5b806000036119c25760405163aabd5a0960e01b815260040160405180910390fd5b6000805160206141a0833981519152546000805160206141c083398151915290821115611a025760405163aabd5a0960e01b815260040160405180910390fd5b600281018290556040518281527f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d039060200160405180910390a15050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611a795750333014155b15611a9757604051630796d94560e01b815260040160405180910390fd5b6001600160a01b0381161580611ab657506001600160a01b0381163b15155b15611ad457604051634501a91960e01b815260040160405180910390fd5b6001600160a01b03821660009081526000805160206141c0833981519152602081905260409091205460ff16611b1d5760405163da0357f760e01b815260040160405180910390fd5b6001600160a01b03821660009081526020829052604090205460ff1615611b5757604051631985f4ab60e31b815260040160405180910390fd5b600181015460005b81811015611bf157846001600160a01b0316836001018281548110611b8657611b86613c9e565b6000918252602090912001546001600160a01b031603611be95783836001018281548110611bb657611bb6613c9e565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550611bf1565b600101611b5f565b506001600160a01b03808516600081815260208590526040808220805460ff199081169091559387168083528183208054909516600117909455517f53a7b6f060162826746b07f3ff5cc66b83afad3bc9a57c9f34d7802901c6e8299190a350505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611c9f57604051636b31ba1560e11b815260040160405180910390fd5b82600881901b611cb382600160f81b6129bd565b15611d0e57366000611cc586866129cf565b9092509050611cd58360006129bd565b15611cea57611ce48282612a68565b50611d07565b611cf883600160f81b6129bd565b1561178857611ce48282612b29565b5050610dfb565b611d198260006129bd565b1561191c57600080366000611d2e8888612c56565b9350935093509350611d4485600060f81b6129bd565b15611d5b57611d55848484846126af565b50611e50565b611d6985600160f81b6129bd565b15611e2b57604080516001808252818301909252600091816020015b6060815260200190600190039081611d855790505090506000611daa86868686612ca7565b83600081518110611dbd57611dbd613c9e565b6020908102919091010152905080611e24577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb7600083600081518110611e0557611e05613c9e565b6020026020010151604051611e1b92919061401a565b60405180910390a15b5050611e50565b6040516308c3ee0360e11b81526001600160f81b0319861660048201526024016117a9565b50505050610dfb565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611e925750333014155b15611eb057604051630796d94560e01b815260040160405180910390fd5b6001600160a01b0381161580611ecf57506001600160a01b0381163b15155b15611eed57604051634501a91960e01b815260040160405180910390fd5b6000805160206141a0833981519152546000805160206141c083398151915290601d1901611f2e57604051630dc92ed360e11b815260040160405180910390fd5b6001600160a01b03821660009081526020829052604090205460ff1615611f6857604051631985f4ab60e31b815260040160405180910390fd5b6001818101805480830182556000918252602080832090910180546001600160a01b0319166001600160a01b038716908117909155808352908490526040808320805460ff191690941790935591517f82b74755d483f0688b80354268454667c377a5684e64a4dbb6820fc11a6276d49190a25050565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1861200f602084018461339d565b60208401356120216040860186613f0a565b60405161202f929190614033565b6040519081900390206120456060870187613f0a565b604051612053929190614033565b604051908190039020608087013560a088013560c089013561207860e08b018b613f0a565b604051612086929190614033565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b600061212b61213d565b5063f23a6e6160e01b95945050505050565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614806121c457507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166121b86000805160206141e0833981519152546001600160a01b031690565b6001600160a01b031614155b156121e25760405163703e46dd60e11b815260040160405180910390fd5b565b6000306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801561223d57507f000000000000000000000000000000000000000000000000000000000000000046145b1561226757507f000000000000000000000000000000000000000000000000000000000000000090565b6113dd604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b7fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c02546000906000805160206141c08339815191529061235090604190614043565b831461236757506001600160e01b03199050610c19565b600061237460418561405a565b600283015490915060008080805b858110156124965760008a8a612399604185614043565b9060416123a786600161407c565b6123b19190614043565b926123be9392919061408f565b8080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092935061240292508e9150839050612cd8565b9350846001600160a01b0316846001600160a01b031611158061243e57506001600160a01b03841660009081526020899052604090205460ff16155b1561245c57506001600160e01b03199750610c199650505050505050565b82612466816140b9565b9350508583106124885750630b135d3f60e11b9750610c199650505050505050565b509192508291600101612382565b506001600160e01b03199a9950505050505050505050565b6000806124c8836124c3610100870187613f0a565b61230f565b90506374eca2c160e11b6001600160e01b03198216016124ec576000915050610987565b5060019392505050565b801561258b57604051600090339060001990849084818181858888f193505050503d8060008114612543576040519150601f19603f3d011682016040523d82523d6000602084013e612548565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a2505b50565b6000805160206141a0833981519152546000805160206141c08339815191529060005b81811015612608578260000160008460010183815481106125d4576125d4613c9e565b60009182526020808320909101546001600160a01b031683528201929092526040019020805460ff191690556001016125b1565b506126176001830160006132d7565b6000600283018190556040517feb09d532980c3cc73dcad99b80e264204a667a54cbb7b63ec8d68dcb1c7096be9190a15050565b61265361213d565b61265c82612d02565b610fad8282612d59565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146121e25760405163703e46dd60e11b815260040160405180910390fd5b60405181838237600038838387895af16126cc573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b6000805160206141a08339815191525483906000805160206141c08339815191529060008461271d57612718828561407c565b61271f565b835b905085158061272d57508086115b1561274b5760405163aabd5a0960e01b815260040160405180910390fd5b601e81111561276d57604051630dc92ed360e11b815260040160405180910390fd5b84156128015760005b828110156127f257600084600101828154811061279557612795613c9e565b60009182526020808320909101546001600160a01b0316808352908790526040808320805460ff191690555190925082917fb0073c14ccc2332b5b461c0d2fb94366f38d3954a82745e74827aa0811c9f98191a250600101612776565b506128016001840160006132d7565b60005b8481101561292b57600089898381811061282057612820613c9e565b9050602002016020810190612835919061339d565b6001600160a01b03811660009081526020879052604090205490915060ff161561287257604051631985f4ab60e31b815260040160405180910390fd5b6001600160a01b038116158061289157506001600160a01b0381163b15155b156128af57604051634501a91960e01b815260040160405180910390fd5b6001858101805480830182556000918252602080832090910180546001600160a01b0319166001600160a01b038616908117909155808352908890526040808320805460ff191690941790935591517f82b74755d483f0688b80354268454667c377a5684e64a4dbb6820fc11a6276d49190a250600101612804565b50600283018690556040518681527f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d0390602001611140565b60606113dd7f00000000000000000000000000000000000000000000000000000000000000006000612e1b565b60606113dd7f00000000000000000000000000000000000000000000000000000000000000006001612e1b565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c1715612a075763ba597e7e6000526004601cfd5b8315612a5e578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715612a555763ba597e7e6000526004601cfd5b50505082612a11575b5050509250929050565b606081806001600160401b03811115612a8357612a836133ba565b604051908082528060200260200182016040528015612ab657816020015b6060815260200190600190039081612aa15790505b50915060005b81811015612b215736858583818110612ad757612ad7613c9e565b9050602002810190612ae991906140d2565b9050612afb611027602083018361339d565b848381518110612b0d57612b0d613c9e565b602090810291909101015250600101612abc565b505092915050565b606081806001600160401b03811115612b4457612b446133ba565b604051908082528060200260200182016040528015612b7757816020015b6060815260200190600190039081612b625790505b50915060005b81811015612b215736858583818110612b9857612b98613c9e565b9050602002810190612baa91906140d2565b90506000612bd5612bbe602084018461339d565b6020840135612bd06040860186613f0a565b612ca7565b868581518110612be757612be7613c9e565b6020908102919091010152905080612c4c577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612c2d57612c2d613c9e565b6020026020010151604051612c4392919061401a565b60405180910390a15b5050600101612b7d565b6000803681612c68601482878961408f565b612c71916140f2565b60601c9350612c8460346014878961408f565b612c8d91614125565b9250612c9c856034818961408f565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080612ce88686612ec6565b925092509250612cf88282612f13565b5090949350505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590612d3b5750333014155b1561258b57604051630796d94560e01b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015612db3575060408051601f3d908101601f19168201909252612db091810190613cca565b60015b612ddb57604051634c9c8ce360e01b81526001600160a01b03831660048201526024016117a9565b6000805160206141e08339815191528114612e0c57604051632a87526960e21b8152600481018290526024016117a9565b612e168383612fcc565b505050565b606060ff8314612e3557612e2e83613022565b9050610987565b818054612e4190614143565b80601f0160208091040260200160405190810160405280929190818152602001828054612e6d90614143565b8015612eba5780601f10612e8f57610100808354040283529160200191612eba565b820191906000526020600020905b815481529060010190602001808311612e9d57829003601f168201915b50505050509050610987565b60008060008351604103612f005760208401516040850151606086015160001a612ef288828585613061565b955095509550505050612f0c565b50508151600091506002905b9250925092565b6000826003811115612f2757612f27614177565b03612f30575050565b6001826003811115612f4457612f44614177565b03612f625760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115612f7657612f76614177565b03612f975760405163fce698f760e01b8152600481018290526024016117a9565b6003826003811115612fab57612fab614177565b03610fad576040516335e2f38360e21b8152600481018290526024016117a9565b612fd582613130565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561301a57612e168282613195565b610fad61320b565b6060600061302f8361322a565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a084111561309c5750600091506003905082613126565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa1580156130f0573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661311c57506000925060019150829050613126565b9250600091508190505b9450945094915050565b806001600160a01b03163b60000361316657604051634c9c8ce360e01b81526001600160a01b03821660048201526024016117a9565b6000805160206141e083398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b0316846040516131b2919061418d565b600060405180830381855af49150503d80600081146131ed576040519150601f19603f3d011682016040523d82523d6000602084013e6131f2565b606091505b5091509150613202858383613252565b95945050505050565b34156121e25760405163b398979f60e01b815260040160405180910390fd5b600060ff8216601f81111561098757604051632cd44ac360e21b815260040160405180910390fd5b60608261326757613262826132ae565b610c19565b815115801561327e57506001600160a01b0384163b155b156132a757604051639996b31560e01b81526001600160a01b03851660048201526024016117a9565b5080610c19565b8051156132be5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b508054600082559060005260206000209081019061258b91905b8082111561330557600081556001016132f1565b5090565b60006020828403121561331b57600080fd5b81356001600160e01b031981168114610c1957600080fd5b6000610120828403121561334657600080fd5b50919050565b60006020828403121561335e57600080fd5b81356001600160401b0381111561337457600080fd5b61338084828501613333565b949350505050565b6001600160a01b038116811461258b57600080fd5b6000602082840312156133af57600080fd5b8135610c1981613388565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b03811182821017156133f8576133f86133ba565b604052919050565b600082601f83011261341157600080fd5b81356001600160401b0381111561342a5761342a6133ba565b61343d601f8201601f19166020016133d0565b81815284602083860101111561345257600080fd5b816020850160208301376000918101602001919091529392505050565b6000806000806080858703121561348557600080fd5b843561349081613388565b935060208501356134a081613388565b92506040850135915060608501356001600160401b038111156134c257600080fd5b6134ce87828801613400565b91505092959194509250565b60008083601f8401126134ec57600080fd5b5081356001600160401b0381111561350357600080fd5b60208301915083602082850101111561351b57600080fd5b9250929050565b60008060006040848603121561353757600080fd5b8335925060208401356001600160401b0381111561355457600080fd5b613560868287016134da565b9497909650939450505050565b60008060006060848603121561358257600080fd5b83356001600160401b0381111561359857600080fd5b6135a486828701613333565b9660208601359650604090950135949350505050565b6000602082840312156135cc57600080fd5b81356001600160c01b0381168114610c1957600080fd5b6000602082840312156135f557600080fd5b81356001600160401b0381111561360b57600080fd5b820160c08185031215610c1957600080fd5b60006020828403121561362f57600080fd5b5035919050565b6000806040838503121561364957600080fd5b823561365481613388565b915060208301356001600160401b0381111561366f57600080fd5b61367b85828601613400565b9150509250929050565b60006020828403121561369757600080fd5b81356001600160401b038111156136ad57600080fd5b820160608185031215610c1957600080fd5b60008083601f8401126136d157600080fd5b5081356001600160401b038111156136e857600080fd5b6020830191508360208260051b850101111561351b57600080fd5b60008060006040848603121561371857600080fd5b83356001600160401b0381111561372e57600080fd5b61373a868287016136bf565b909790965060209590950135949350505050565b801515811461258b57600080fd5b6000806000806060858703121561377257600080fd5b84356001600160401b0381111561378857600080fd5b613794878288016136bf565b9095509350506020850135915060408501356137af8161374e565b939692955090935050565b6000806000806000608086880312156137d257600080fd5b85356001600160401b0380821682146137ea57600080fd5b9095506020870135908082111561380057600080fd5b5061380d888289016136bf565b9095509350506040860135915060608601356138288161374e565b809150509295509295909350565b6000806040838503121561384957600080fd5b823561385481613388565b946020939093013593505050565b60005b8381101561387d578181015183820152602001613865565b50506000910152565b6000815180845261389e816020860160208601613862565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e060208401526138d360e084018a613886565b83810360408501526138e5818a613886565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156139395783518352928401929184019160010161391d565b50909c9b505050505050505050505050565b6020808252825182820181905260009190848201906040850190845b8181101561398c5783516001600160a01b031683529284019291840191600101613967565b50909695505050505050565b602081526000610c196020830184613886565b600082601f8301126139bc57600080fd5b813560206001600160401b038211156139d7576139d76133ba565b8160051b6139e68282016133d0565b9283528481018201928281019087851115613a0057600080fd5b83870192505b84831015613a1f57823582529183019190830190613a06565b979650505050505050565b600080600080600060a08688031215613a4257600080fd5b8535613a4d81613388565b94506020860135613a5d81613388565b935060408601356001600160401b0380821115613a7957600080fd5b613a8589838a016139ab565b94506060880135915080821115613a9b57600080fd5b613aa789838a016139ab565b93506080880135915080821115613abd57600080fd5b50613aca88828901613400565b9150509295509295909350565b60008060008060008060608789031215613af057600080fd5b86356001600160401b0380821115613b0757600080fd5b613b138a838b016136bf565b90985096506020890135915080821115613b2c57600080fd5b613b388a838b016136bf565b90965094506040890135915080821115613b5157600080fd5b50613b5e89828a016136bf565b979a9699509497509295939492505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b82811015613bc757603f19888603018452613bb5858351613886565b94509285019290850190600101613b99565b5092979650505050505050565b60008060408385031215613be757600080fd5b8235613bf281613388565b91506020830135613c0281613388565b809150509250929050565b600080600080600060a08688031215613c2557600080fd5b8535613c3081613388565b94506020860135613c4081613388565b9350604086013592506060860135915060808601356001600160401b03811115613c6957600080fd5b613aca88828901613400565b634e487b7160e01b600052601160045260246000fd5b8181038181111561098757610987613c75565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b600060208284031215613cdc57600080fd5b5051919050565b6000808335601e19843603018112613cfa57600080fd5b83016020810192503590506001600160401b03811115613d1957600080fd5b80360382131561351b57600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b88811015613e0457858403601f19018a52823536899003605e19018112613d90578283fd5b880160608135613d9f81613388565b6001600160a01b03168652613db682880183613ce3565b8289890152613dc88389018284613d28565b925050506040613dda81840184613ce3565b935087830382890152613dee838583613d28565b9d89019d97505050938601935050600101613d6b565b509198975050505050505050565b6020815260008235613e2381613388565b6001600160a01b0390811660208481019190915284013590613e4482613388565b80821660408501525050604083013560608301526060830135601e19843603018112613e6f57600080fd5b83016020810190356001600160401b03811115613e8b57600080fd5b8060051b3603821315613e9d57600080fd5b60c06080850152613eb260e085018284613d51565b915050608084013560a0840152613ecc60a0850185613ce3565b848303601f190160c0860152613ee3838284613d28565b9695505050505050565b600060208284031215613eff57600080fd5b8151610c198161374e565b6000808335601e19843603018112613f2157600080fd5b8301803591506001600160401b03821115613f3b57600080fd5b60200191503681900382131561351b57600080fd5b6000838385526020808601955060208560051b8301018460005b87811015613fa457848303601f19018952613f858288613ce3565b613f90858284613d28565b9a86019a9450505090830190600101613f6a565b5090979650505050505050565b606081526000613fc560608301888a613f50565b8281036020848101919091528682528791810160005b88811015613ff757833582529282019290820190600101613fdb565b50848103604086015261400b818789613f50565b9b9a5050505050505050505050565b828152604060208201526000610c166040830184613886565b8183823760009101908152919050565b808202811582820484141761098757610987613c75565b60008261407757634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561098757610987613c75565b6000808585111561409f57600080fd5b838611156140ac57600080fd5b5050820193919092039150565b6000600182016140cb576140cb613c75565b5060010190565b60008235605e198336030181126140e857600080fd5b9190910192915050565b6bffffffffffffffffffffffff198135818116916014851015612b215760149490940360031b84901b1690921692915050565b8035602083101561098757600019602084900360031b1b1692915050565b600181811c9082168061415757607f821691505b60208210810361334657634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b600082516140e881846020870161386256feb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c01b005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c00360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbca26469706673582212205fc6fdc85503c31560366339056f5ba5c2624d0697f326aa98f14cda48fe6f7164736f6c63430008170033",LN={};N(LN,{abi:()=>UN,bytecode:()=>HN});var UN=[{type:"function",name:"verify",inputs:[{name:"message",type:"bytes32",internalType:"bytes32"},{name:"r",type:"uint256",internalType:"uint256"},{name:"s",type:"uint256",internalType:"uint256"},{name:"qx",type:"uint256",internalType:"uint256"},{name:"qy",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],HN="0x610c9761003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100355760003560e01c8063a1f312811461003a575b600080fd5b61004d610048366004610bf0565b610061565b604051901515815260200160405180910390f35b600084158061007e5750600080516020610c428339815191528510155b80610087575083155b806100a05750600080516020610c428339815191528410155b156100ad5750600061020a565b6100fe600160601b63ffffffff60c01b03196bfffffffffffffffffffffffd63ffffffff60c01b03197f5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b8686610213565b151560000361010f5750600061020a565b600061011a856102be565b90506000600080516020610c4283398151915282890990506000600080516020610c42833981519152838909905060006040518060c00160405280888152602001878152602001600160601b63ffffffff60c01b031981526020016bfffffffffffffffffffffffd63ffffffff60c01b031981526020017f6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c29681526020017f4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5815250905060006101ea828585610337565b509050600080516020610c428339815191528a8103820815955050505050505b95945050505050565b600082158015610221575081155b8061022c5750858310155b806102375750858210155b156102445750600061020a565b6000868061025457610254610c2b565b83840990506000878061026957610269610c2b565b888061027757610277610c2b565b888709898061028857610288610c2b565b878b8061029757610297610c2b565b898a090908905087806102ac576102ac610c2b565b86820891909114979650505050505050565b600060405160208152602080820152602060408201528260608201527fffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc63254f6080820152600080516020610c4283398151915260a082015260208160c0836005600019fa610330576107fe60405260206040fd5b5192915050565b600080600160ff1b8415801561034b575083155b1561035d576000809250925050610be8565b60008061080060405101604052604088015161082060405101526108206040510151610466565b6000806000808886600209898182098a8188098b82840992508b8c8d8c8d098f098d8e8b8c096003090895508b8b840993508b8a830994508b8c8260028f03098d8889090896508b8c828e03890887099150508a818c8a8509089450505082890392509650965096509692505050565b9086039086828186890908955086818803888588090894506000806000808a898a0993508a89850992508a84880991508a83890990508a84860996508a8b8860028e03098c858e038e8e8f09080893508a8a8c868e038a080994508a8b84880986089250975097509750979350505050565b60a0898101516080808c01516040519182015291820152600160c0820181905260e0909101526104a760608a01518260018060a08e015160808f0151610384565b95509350955095506104d683838789610100604051019081526020810191909152604081019190915260600152565b6104ed8160a08b015160808c015186868a8c6103f4565b955093509550955061051c83838789610180604051019081526020810191909152604081019190915260600152565b61054c60018060208c015160008d0151610200604051019081526020810191909152604081019190915260600152565b6080890151955060a089015194506105728160208b015160008c01516001808a8c6103f4565b95509350955095506105a183838789610280604051019081526020810191909152604081019190915260600152565b6105b88160a08b015160808c015186868a8c6103f4565b95509350955095506105e783838789610300604051019081526020810191909152604081019190915260600152565b6105fe8160a08b015160808c015186868a8c6103f4565b955093509550955061062d83838789610380604051019081526020810191909152604081019190915260600152565b600089015195506020890151945061064e60608a015182600180898b610384565b955093509550955061067d83838789610400604051019081526020810191909152604081019190915260600152565b6106948160a08b015160808c015186868a8c6103f4565b95509350955095506106c383838789610480604051019081526020810191909152604081019190915260600152565b6106da8160a08b015160808c015186868a8c6103f4565b955093509550955061070983838789610500604051019081526020810191909152604081019190915260600152565b6107208160a08b015160808c015186868a8c6103f4565b955093509550955061074f83838789610580604051019081526020810191909152604081019190915260600152565b6104006040510151955061042060405101519450610440604051015191506104606040510151925061078e8160208b015160008c015186868a8c6103f4565b95509350955095506107bd83838789610600604051019081526020810191909152604081019190915260600152565b6107d48160a08b015160808c015186868a8c6103f4565b955093509550955061080383838789610680604051019081526020810191909152604081019190915260600152565b61081a8160a08b015160808c015186868a8c6103f4565b955093509550955061084983838789610700604051019081526020810191909152604081019190915260600152565b6108608160a08b015160808c015186868a8c6103f4565b95509350955095505061089082828688610780604051019081526020810191909152604081019190915260600152565b600091505b816108d5578286161560010360031b8360011c87161560010360021b018388161560010360011b8460011c891615600103010191508260021c9250610895565b506040805160079290921b82018051602082015192820151606090920151610820850151919750929550919290915b8415610b7d5780866002098181820982818a09838284099250838487880960608f015109848186878e8f09600309089050848885099750848784099650600285039a508485838d0986838409089a5084858387038d088209925050508281848a850908830397508291508790506002098181820982818a09838284099250838487880960608f015109848186878e8f09600309089050848885099750848784099650600285039a508485838d0986838409089a5084858387038d088209925050508281848a850908975050508488161560010360031b8560011c89161560010360021b01858a161560010360011b8660011c8b1615600103010180610a0d575094850394610b72565b60071b828101805160609091015161086085015284610a48579083016020810151604082015160609092015192995097509094509250610b72565b82836108608601518a09848885602001880151090861084085015290830160400151908280838b0984038487840908610840850151610b005780610b005783896002860309925083838409905083818b09610840860152838184099250838487880960608f0151099150838285868d8e09600309089150838784099650838682099550838461084087015160028703098584850908995083848b8603610840880151088309905083848a850982089850505050610b72565b83818209915083818309905083838584890909955083838b0992508361086086015185838a09099650838485846002880309850985838703876108408a01516108408b01510908089950838284099150838482866108608901518d090985610840880151878e89038708090898505050505b8460021c9450610904565b61088060408190526108e085905260208082526108a08190526108c08190526001198301610900526109208390529092508260c0816005600019fa610bc8576107ff60405260206040fd5b808251870995508082518409925080838409925080838809965050505050505b935093915050565b600080600080600060a08688031215610c0857600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b634e487b7160e01b600052601260045260246000fdfeffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551a26469706673582212202032a0a92437c4c7498b5f3dbbeea2851a22a8974a563aed836730aa07e1cdda64736f6c63430008170033";function Xp(t){return`0x${bu(t)}`}function h7(t){return lu(t.slice(2))}function eu(t){let e=typeof t=="string"?h7(t):t,n=e.slice(0,32),a=e.slice(32,64);return{r:BigInt(Xp(n)),s:BigInt(Xp(a))}}var Fi=(t=K0,e=0n,n="0x")=>({target:t,value:e,callData:n}),tu="0x0000000000000000000000000000000000000000000000000000000000000000";var g7="0x0100000000000000000000000000000000000000000000000000000000000000";var GN=[{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"callData"}],VN=t=>z0(["address","uint256","bytes"],[t.target,t.value,t.callData]),zN=t=>o0([{components:GN,name:"executions",type:"tuple[]"}],[t]),Hd=t=>{if(t.length==0)throw new Error("Error while getting the execution calldatas, executions is empty");if(t.length==1){let e=t[0];return VN(e)}return zN(t)},Li=t=>{if(t.length==0)throw new Error("Error while getting the execution calldatas, executionsBatch is empty");return t.map(Hd)};var Eu0={[u0.mainnet]:"https://etherscan.io",[u0.optimism]:"https://optimistic.etherscan.io",[u0.polygon]:"https://polygonscan.com",[u0.base]:"https://basescan.org",[u0.arbitrum]:"https://arbiscan.io",[u0.linea]:"https://lineascan.build",[u0.sepolia]:"https://sepolia.etherscan.io",[u0.lineaSepolia]:"https://sepolia.lineascan.build"};var KN=[{type:"address",name:"enforcer"},{type:"bytes",name:"terms"},{type:"bytes",name:"args"}],vu0=W(a0("Caveat(address enforcer,bytes terms)"));var vt=(t=>(t[t.MultiSig=0]="MultiSig",t[t.Hybrid=1]="Hybrid",t))(vt||{});var Qe=t=>{let e=t.caveats.map(a=>({enforcer:ve(a.enforcer),terms:a.terms,args:a.args})),n=t.salt==="0x"?0n:BigInt(t.salt);return{delegate:ve(t.delegate),delegator:ve(t.delegator),authority:t.authority===void 0?jN:t.authority,caveats:e,salt:n,signature:t.signature}},WN=t=>{let e=t.map(Qe);return o0([{components:$N,name:"delegations",type:"tuple[]"}],[e])},nu=t=>t.map(n=>WN(n)),jN="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff";var Iu0=W(a0("Delegation(address delegate,address delegator,bytes32 authority,Caveat[] caveats,uint256 salt)Caveat(address enforcer,bytes terms)")),$N=[{type:"address",name:"delegate"},{type:"address",name:"delegator"},{type:"bytes32",name:"authority"},{type:"tuple[]",name:"caveats",components:KN},{type:"uint256",name:"salt"},{type:"bytes",name:"signature"}],T7={Caveat:[{name:"enforcer",type:"address"},{name:"terms",type:"bytes"}],Delegation:[{name:"delegate",type:"address"},{name:"delegator",type:"address"},{name:"authority",type:"bytes32"},{name:"caveats",type:"Caveat[]"},{name:"salt",type:"uint256"}]};var YN="1.3.0",JN={"1.0.0":{},"1.1.0":{},"1.2.0":{},"1.3.0":{}};function x7(t,e=YN){let n=JN[e][t];if(n)return n;let a=m7[e]?.[t];if(!a)throw new Error(`No contracts found for version ${e} chain ${t}`);return QN(a)}function QN(t){return{DelegationManager:t.DelegationManager,EntryPoint:t.EntryPoint,SimpleFactory:t.SimpleFactory,implementations:{MultiSigDeleGatorImpl:t.MultiSigDeleGatorImpl,HybridDeleGatorImpl:t.HybridDeleGatorImpl},caveatEnforcers:{AllowedCalldataEnforcer:t.AllowedCalldataEnforcer,AllowedMethodsEnforcer:t.AllowedMethodsEnforcer,AllowedTargetsEnforcer:t.AllowedTargetsEnforcer,ArgsEqualityCheckEnforcer:t.ArgsEqualityCheckEnforcer,BlockNumberEnforcer:t.BlockNumberEnforcer,DeployedEnforcer:t.DeployedEnforcer,ERC20BalanceChangeEnforcer:t.ERC20BalanceChangeEnforcer,ERC20TransferAmountEnforcer:t.ERC20TransferAmountEnforcer,ERC20StreamingEnforcer:t.ERC20StreamingEnforcer,ERC721BalanceChangeEnforcer:t.ERC721BalanceChangeEnforcer,ERC721TransferEnforcer:t.ERC721TransferEnforcer,ERC1155BalanceChangeEnforcer:t.ERC1155BalanceChangeEnforcer,IdEnforcer:t.IdEnforcer,LimitedCallsEnforcer:t.LimitedCallsEnforcer,NonceEnforcer:t.NonceEnforcer,TimestampEnforcer:t.TimestampEnforcer,ValueLteEnforcer:t.ValueLteEnforcer,NativeTokenTransferAmountEnforcer:t.NativeTokenTransferAmountEnforcer,NativeBalanceChangeEnforcer:t.NativeBalanceChangeEnforcer,NativeTokenStreamingEnforcer:t.NativeTokenStreamingEnforcer,NativeTokenPaymentEnforcer:t.NativeTokenPaymentEnforcer,OwnershipTransferEnforcer:t.OwnershipTransferEnforcer,RedeemerEnforcer:t.RedeemerEnforcer,SpecificActionERC20TransferBatchEnforcer:t.SpecificActionERC20TransferBatchEnforcer,ERC20PeriodTransferEnforcer:t.ERC20PeriodTransferEnforcer,NativeTokenPeriodTransferEnforcer:t.NativeTokenPeriodTransferEnforcer,ExactCalldataBatchEnforcer:t.ExactCalldataBatchEnforcer,ExactCalldataEnforcer:t.ExactCalldataEnforcer,ExactExecutionEnforcer:t.ExactExecutionEnforcer,ExactExecutionBatchEnforcer:t.ExactExecutionBatchEnforcer,MultiTokenPeriodEnforcer:t.MultiTokenPeriodEnforcer}}}var w7={PackedUserOperation:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"entryPoint",type:"address"}]};var E7=115792089210356248762697446949407573529996955224135760342422259061068512044369n,qN=E7/2n,A7=Ua("bytes32, uint256, uint256, bytes, bool, string, string, uint256"),ZN=t=>{try{let{challenge:e}=JSON.parse(t);if(e===void 0)throw new Error('No "challenge" found in the input string');return t.split(e)}catch(e){throw new Error('No "challenge" found in the input string',{cause:e})}},XN=t=>{try{let e=t.indexOf('"type":');if(e===-1)throw new Error('No "type" found in the input string');return BigInt(e)}catch(e){throw new Error('No "type" found in the input string',{cause:e})}};function v7(t,e,n,a){let r=W(z0(["string"],[t])),{r:s,s:i}=eu(e);for(;i>qN;)i=E7-i;let[o,c]=ZN(n),{userVerified:d}=tD(a),f=XN(n);return o0(A7,[r,s,i,a,d,o,c,f])}var eD=32;function tD(t){return{userVerified:(Buffer.from(t.slice(2),"hex").readUInt8(eD)&4)!==0}}var C7=t=>{let e=W(z0(["string"],["AuthenticatorData"])),r=p0([e,"0x05","0x00000000"]),s=W(z0(["string"],[t])),i=57896044605178124381348723474703786764998477612067880171211129530534256022184n;return o0(A7,[s,i,i,r,!0,'{"type":"webauthn.get","challenge":"','","origin":"passkey-domain","crossOrigin":false}',1n])},nD=["ECDSA"],au=({signatures:t})=>{if(t.length===0)return"0x";for(let{type:n}of t)if(!nD.includes(n))throw new Error(`Invalid signature type: ${n}`);let e=[...t].sort((n,a)=>n.signer.localeCompare(a.signer));return p0(e.map(({signature:n})=>n))};var su="0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",aD=t=>{let{implementation:e}=t;if(e===vt.Hybrid)return rD(t.signatory);if(e===vt.MultiSig)return sD(t.signatory);throw new Error(`Implementation type '${e}' not supported`)},I7=t=>({signMessage:t.walletClient.signMessage,signTypedData:e=>t.walletClient.signTypedData(e),getStubSignature:async()=>su}),P7=t=>({signMessage:t.account.signMessage,signTypedData:t.account.signTypedData,getStubSignature:async()=>su}),rD=t=>{if("walletClient"in t)return I7(t);if("account"in t){let{signMessage:e,signTypedData:n,getStubSignature:a}=P7(t);if(!e)throw new Error("Account does not support signMessage");if(!n)throw new Error("Account does not support signTypedData");return{signMessage:e,signTypedData:n,getStubSignature:a}}else{let{keyId:e,webAuthnAccount:n}=t;if(n.type!=="webAuthn")throw new Error("Account is not a webAuthn account");let a=({signature:o,webauthn:c})=>v7(e,o,c.clientDataJSON,c.authenticatorData);return{signMessage:async o=>n.signMessage(o).then(a),signTypedData:async o=>n.signTypedData(o).then(a),getStubSignature:async()=>C7(e)}}},sD=t=>{let e=t.map(s=>{let i,o,c;if("walletClient"in s){let{signMessage:d,signTypedData:f}=I7(s);i=d,o=f,c=s.walletClient.account.address}else{let{signMessage:d,signTypedData:f}=P7(s);if(!d)throw new Error("Account does not support signMessage");if(!f)throw new Error("Account does not support signTypedData");i=d,o=f,c=s.account.address}return{address:c,individualSignMessage:i,individualSignTypedData:o}});return{signMessage:async s=>{let i=e.map(async({individualSignMessage:c,address:d})=>({signature:await c(s),signer:d,type:"ECDSA"})),o=await Promise.all(i);return au({signatures:o})},signTypedData:async s=>{let i=e.map(async({individualSignTypedData:c,address:d})=>({signature:await c(s),signer:d,type:"ECDSA"})),o=await Promise.all(i);return au({signatures:o})},getStubSignature:async()=>p0(e.map(()=>su))}},_7={};x0(_7,{addKey:()=>oD,initializeHybridDeleGator:()=>S7,reinitializeHybridDeleGator:()=>fD,removeKey:()=>uD,updateSigners:()=>lD});var iD=({client:t,hybridDeleGatorAddress:e,p256Owner:n})=>q(t,{address:e,abi:Y0.abi,functionName:"addKey",args:[n.keyId,n.x,n.y]}),oD=({p256Owner:t})=>S({abi:Y0.abi,functionName:"addKey",args:[t.keyId,t.x,t.y]}),cD=({client:t,hybridDeleGatorAddress:e,eoaOwner:n,p256Owners:a})=>q(t,{address:e,abi:Y0.abi,functionName:"initialize",args:[n,a.map(r=>r.keyId),a.map(r=>r.x),a.map(r=>r.y)]}),S7=({eoaOwner:t,p256Owners:e})=>S({abi:Y0.abi,functionName:"initialize",args:[t,e.map(n=>n.keyId),e.map(n=>n.x),e.map(n=>n.y)]}),dD=({client:t,hybridDeleGatorAddress:e,version:n,eoaOwner:a,p256Owners:r,removeExistingP256Owners:s})=>q(t,{address:e,abi:Y0.abi,functionName:"reinitialize",args:[n,a,r.map(i=>i.keyId),r.map(i=>i.x),r.map(i=>i.y),s]}),fD=({version:t,eoaOwner:e,p256Owners:n,removeExistingP256Owners:a})=>S({abi:Y0.abi,functionName:"reinitialize",args:[t,e,n.map(r=>r.keyId),n.map(r=>r.x),n.map(r=>r.y),a]}),pD=({client:t,hybridDeleGatorAddress:e,keyId:n})=>q(t,{address:e,abi:Y0.abi,functionName:"removeKey",args:[n]}),uD=({keyId:t})=>S({abi:Y0.abi,functionName:"removeKey",args:[t]}),bD=({client:t,hybridDeleGatorAddress:e,eoaOwner:n,p256Owners:a})=>q(t,{address:e,abi:Y0.abi,functionName:"updateSigners",args:[n,a.map(r=>r.keyId),a.map(r=>r.x),a.map(r=>r.y)]}),lD=({eoaOwner:t,p256Owners:e})=>S({abi:Y0.abi,functionName:"updateSigners",args:[t,e.map(n=>n.keyId),e.map(n=>n.x),e.map(n=>n.y)]}),N7={};x0(N7,{addSigner:()=>mD,initializeMultiSigDeleGator:()=>D7,reinitializeMultiSigDeleGator:()=>TD,removeSigner:()=>wD,replaceSigner:()=>AD,updateMultiSigParameters:()=>PD,updateThreshold:()=>CD});var yD=({client:t,multiSigDeleGatorAddress:e,signer:n})=>q(t,{address:e,abi:g0.abi,functionName:"addSigner",args:[n]}),mD=({signer:t})=>S({abi:g0.abi,functionName:"addSigner",args:[t]}),hD=({client:t,multiSigDeleGatorAddress:e,owners:n,threshold:a})=>q(t,{address:e,abi:g0.abi,functionName:"initialize",args:[n,a]}),D7=({owners:t,threshold:e})=>S({abi:g0.abi,functionName:"initialize",args:[t,e]}),gD=({client:t,multiSigDeleGatorAddress:e,version:n,owners:a,threshold:r,removeExistingOwners:s})=>q(t,{address:e,abi:g0.abi,functionName:"reinitialize",args:[n,a,r,s]}),TD=({version:t,owners:e,threshold:n,removeExistingOwners:a})=>S({abi:g0.abi,functionName:"reinitialize",args:[t,e,n,a]}),xD=({client:t,multiSigDeleGatorAddress:e,signer:n})=>q(t,{address:e,abi:g0.abi,functionName:"removeSigner",args:[n]}),wD=({signer:t})=>S({abi:g0.abi,functionName:"removeSigner",args:[t]}),ED=({client:t,multiSigDeleGatorAddress:e,oldSigner:n,newSigner:a})=>q(t,{address:e,abi:g0.abi,functionName:"replaceSigner",args:[n,a]}),AD=({oldSigner:t,newSigner:e})=>S({abi:g0.abi,functionName:"replaceSigner",args:[t,e]}),vD=({client:t,multiSigDeleGatorAddress:e,threshold:n})=>q(t,{address:e,abi:g0.abi,functionName:"updateThreshold",args:[n]}),CD=({threshold:t})=>S({abi:g0.abi,functionName:"updateThreshold",args:[t]}),ID=({client:t,multiSigDeleGatorAddress:e,owners:n,threshold:a,removeExistingOwners:r})=>q(t,{address:e,abi:g0.abi,functionName:"updateMultiSigParameters",args:[n,a,r]}),PD=({owners:t,threshold:e,removeExistingOwners:n})=>S({abi:g0.abi,functionName:"updateMultiSigParameters",args:[t,e,n]}),M7={};x0(M7,{create2Deploy:()=>k7});var O7=({client:t,factoryAddress:e,creationCode:n,salt:a})=>q(t,{address:e,abi:V6.abi,functionName:"deploy",args:[n,a]}),k7=(t,e)=>S({abi:V6.abi,functionName:"deploy",args:[t,e]}),_D=async({client:t,factoryAddress:e,creationCode:n,salt:a})=>{let{request:r}=await O7({client:t,factoryAddress:e,creationCode:n,salt:a});return A0(t,r)},SD={};x0(SD,{encodeProxyCreationCode:()=>L7,isContractDeployed:()=>F7,isImplementationExpected:()=>FD});var R7={};x0(R7,{getDelegationManager:()=>ND,getDeposit:()=>DD,getEntryPoint:()=>MD,getNonce:()=>OD,getProxyImplementation:()=>B7,getProxyVersion:()=>kD,isValidSignature:()=>RD});var ND=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:v0.abi,functionName:"delegationManager"}),DD=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:v0.abi,functionName:"getDeposit"}),MD=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:v0.abi,functionName:"entryPoint"}),OD=async({client:t,contractAddress:e,key:n})=>await H(t,{address:e,abi:v0.abi,functionName:"getNonce",args:n?[n]:void 0}),B7=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:v0.abi,functionName:"getImplementation"}),kD=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:v0.abi,functionName:"getInitializedVersion"}),RD=async({client:t,contractAddress:e,hash:n,signature:a})=>await H(t,{address:e,abi:v0.abi,functionName:"isValidSignature",args:[n,a]}),BD=({hash:t,signature:e})=>S({abi:v0.abi,functionName:"isValidSignature",args:[t,e]});async function F7({client:t,contractAddress:e}){let n=await qt(t,{address:e});return!!n&&n!=="0x"}async function FD({client:t,contractAddress:e,expectedImplementationAddress:n}){return await F7({client:t,contractAddress:e})?await B7({client:t,contractAddress:e})===n:!1}var L7=({implementationAddress:t,initcode:e})=>Pn({abi:Ud.abi,args:[t,e],bytecode:Ud.bytecode}),LD=async({factory:t,implementations:e,implementation:n,deployParams:a,deploySalt:r})=>{let s,i;switch(n){case vt.Hybrid:let[p,u,b,l]=a;s=e.HybridDeleGatorImpl;let y=u.map((g,x)=>({keyId:g,x:b[x],y:l[x]}));i=S7({eoaOwner:p,p256Owners:y});break;case vt.MultiSig:let[m,h]=a;s=e.MultiSigDeleGatorImpl,i=D7({owners:m,threshold:h});break;default:throw new Error(`Implementation type '${n}' not supported`)}let o=F0(r,{dir:"left",size:32}),c=L7({implementationAddress:s,initcode:i}),d=Tr({bytecode:c,from:t,opcode:"CREATE2",salt:o});return{factoryData:k7(c,o),address:d}},U7={};x0(U7,{disableDelegation:()=>HD,enableDelegation:()=>VD,execute:()=>z7,executeWithMode:()=>W7,isValidSignature:()=>BD,upgradeToAndCall:()=>jD});var H7=({client:t,delegationManagerAddress:e,delegation:n})=>{let a=v0.abi,r=Qe(n);return q(t,{address:e,abi:a,functionName:"disableDelegation",args:[r]})},UD=async({client:t,delegationManagerAddress:e,delegation:n})=>{let{request:a}=await H7({client:t,delegationManagerAddress:e,delegation:n});return A0(t,a)},HD=({delegation:t})=>{let e=Qe(t);return S({abi:v0.abi,functionName:"disableDelegation",args:[e]})},G7=({client:t,delegationManagerAddress:e,delegation:n})=>{let a=v0.abi,r=Qe(n);return q(t,{address:e,abi:a,functionName:"enableDelegation",args:[r]})},GD=async({client:t,delegationManagerAddress:e,delegation:n})=>{let{request:a}=await G7({client:t,delegationManagerAddress:e,delegation:n});return A0(t,a)},VD=({delegation:t})=>{let e=Qe(t);return S({abi:v0.abi,functionName:"enableDelegation",args:[e]})},V7=({client:t,contractAddress:e,execution:n})=>q(t,{address:e,abi:v0.abi,functionName:"execute",args:[n]}),zD=async({client:t,contractAddress:e,execution:n})=>{let{request:a}=await V7({client:t,contractAddress:e,execution:n});return A0(t,a)},z7=({execution:t})=>S({abi:v0.abi,functionName:"execute",args:[t]}),K7=({client:t,contractAddress:e,mode:n,executions:a})=>q(t,{address:e,abi:v0.abi,functionName:"execute",args:[n,Hd(a)]}),KD=async({client:t,contractAddress:e,mode:n,executions:a})=>{let{request:r}=await K7({client:t,contractAddress:e,mode:n,executions:a});return A0(t,r)},W7=({mode:t,executions:e})=>S({abi:v0.abi,functionName:"execute",args:[t,Hd(e)]}),j7=({client:t,contractAddress:e,implementation:n,data:a})=>q(t,{address:e,abi:v0.abi,functionName:"upgradeToAndCall",args:[n,a]}),WD=async({client:t,contractAddress:e,implementation:n,data:a})=>{let{request:r}=await j7({client:t,contractAddress:e,implementation:n,data:a});return A0(t,r)},jD=({implementation:t,data:e})=>S({abi:v0.abi,functionName:"upgradeToAndCall",args:[t,e]}),$D=async(t,e)=>{if(e.length===1){let n=e[0];if(n.to===t&&!ru(n))return n.data||"0x"}return YD(e)},YD=t=>{if(t.length===1&&!ru(t[0])){let{to:a,value:r,data:s}=t[0],i=Fi(a,r,s);return z7({execution:i})}let e=t.map(a=>{if(ru(a)){let{permissionsContext:r,delegationManager:s}=a,i=S({abi:Ve.abi,functionName:"redeemDelegations",args:[[r],[tu],Li([[Fi(a.to,a.value,a.data)]])]});return Fi(s,0n,i)}else{let{to:r,value:s,data:i}=a;return Fi(r,s,i)}}),n=t.length===1?tu:g7;return W7({mode:n,executions:e})},ru=t=>"permissionsContext"in t&&"delegationManager"in t,$7={};x0($7,{entryPointGetNonce:()=>Y7});var Y7=async({client:t,entryPoint:e,contractAddress:n,key:a})=>await H(t,{address:e,abi:qp.abi,functionName:"getNonce",args:[n,a]}),JD="0.7";async function iu(t){let{client:e,client:{chain:n},implementation:a}=t;if(!n)throw new Error("Chain not specified");let r=aD({implementation:a,signatory:t.signatory}),s=t.environment??x7(n.id),i=a===vt.Hybrid?"HybridDeleGator":"MultiSigDeleGator",o,c;if(t.address)c=void 0,o=t.address;else{let g=await LD({factory:s.SimpleFactory,implementations:s.implementations,implementation:a,deployParams:t.deployParams,deploySalt:t.deploySalt});o=g.address,c=g.factoryData}let d={abi:Kn,address:s.EntryPoint,version:JD},f=async()=>{if(c===void 0)throw new Error("Deploy params were not provided, so factory args cannot be inferred");return{factoryData:c,factory:s.SimpleFactory}},p=g=>{let{delegation:x,chainId:C}=g,I=Qe({...x,signature:"0x"});return r.signTypedData({domain:{chainId:C||n.id,name:"DelegationManager",version:"1",verifyingContract:s.DelegationManager},types:T7,primaryType:"Delegation",message:I})},u=async g=>{let{chainId:x}=g,C=Ir({sender:o,...g,signature:"0x"});return await r.signTypedData({domain:{chainId:x||n.id,name:i,version:"1",verifyingContract:o},types:w7,primaryType:"PackedUserOperation",message:{...C,entryPoint:d.address}})},b=a===vt.Hybrid?Y0.abi:g0.abi;return await wt({abi:b,client:e,entryPoint:d,environment:s,getAddress:async()=>o,getFactoryArgs:f,encodeCalls:async g=>$D(o,g),getNonce:()=>Y7({client:e,entryPoint:s.EntryPoint,contractAddress:o,key:0n}),signUserOperation:u,signDelegation:p,...r})}var J7={};x0(J7,{disableDelegation:()=>qD,enableDelegation:()=>XD,redeemDelegations:()=>tM});var Q7=({client:t,delegationManagerAddress:e,delegation:n})=>{let a=Ve.abi,r=Qe(n);return q(t,{address:e,abi:a,functionName:"disableDelegation",args:[r]})},QD=async({client:t,delegationManagerAddress:e,delegation:n})=>{let{request:a}=await Q7({client:t,delegationManagerAddress:e,delegation:n});return A0(t,a)},qD=({delegation:t})=>{let e=Qe(t);return S({abi:Ve.abi,functionName:"disableDelegation",args:[e]})},q7=({client:t,delegationManagerAddress:e,delegation:n})=>{let a=Ve.abi,r=Qe(n);return q(t,{address:e,abi:a,functionName:"enableDelegation",args:[r]})},ZD=async({client:t,delegationManagerAddress:e,delegation:n})=>{let{request:a}=await q7({client:t,delegationManagerAddress:e,delegation:n});return A0(t,a)},XD=({delegation:t})=>{let e=Qe(t);return S({abi:Ve.abi,functionName:"enableDelegation",args:[e]})},Z7=({client:t,delegationManagerAddress:e,delegations:n,modes:a,executions:r})=>{let s=Ve.abi;return q(t,{address:e,abi:s,functionName:"redeemDelegations",args:[nu(n),a,Li(r)]})},eM=async({client:t,delegationManagerAddress:e,delegations:n,modes:a,executions:r})=>{let{request:s}=await Z7({client:t,delegationManagerAddress:e,delegations:n,modes:a,executions:r});return A0(t,s)},tM=({delegations:t,modes:e,executions:n})=>S({abi:Ve.abi,functionName:"redeemDelegations",args:[nu(t),e,Li(n)]}),X7={};x0(X7,{disableDelegation:()=>QD,enableDelegation:()=>ZD,redeemDelegations:()=>eM});var eh={};x0(eh,{getAnyDelegate:()=>nM,getRootAuthority:()=>aM});var nM=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:Ve.abi,functionName:"ANY_DELEGATE"}),aM=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:Ve.abi,functionName:"ROOT_AUTHORITY"}),th={};x0(th,{disableDelegation:()=>Q7,enableDelegation:()=>q7,redeemDelegations:()=>Z7});var rM={};x0(rM,{ANY_DELEGATE:()=>dM,DOMAIN_VERSION:()=>oM,NAME:()=>sM,ROOT_AUTHORITY:()=>cM,VERSION:()=>iM});var sM="DelegationManager",iM="1.3.0",oM="1",cM="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",dM="0x0000000000000000000000000000000000000a11",nh={};x0(nh,{disableDelegation:()=>UD,enableDelegation:()=>GD,execute:()=>zD,executeWithMode:()=>KD,upgradeToAndCall:()=>WD});var ah={};x0(ah,{disableDelegation:()=>H7,enableDelegation:()=>G7,execute:()=>V7,executeWithMode:()=>K7,upgradeToAndCall:()=>j7});var rh={};x0(rh,{getContractName:()=>fM,getContractVersion:()=>pM,getDomainVersion:()=>uM});var fM=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:[{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"NAME"}),pM=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:[{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"VERSION"}),uM=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:[{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"DOMAIN_VERSION"}),sh={};x0(sh,{getKey:()=>bM,getKeyIdHashes:()=>lM,getKeyIdHashesCount:()=>yM});var bM=async({client:t,hybridDeleGatorAddress:e,keyId:n})=>await H(t,{address:e,abi:Y0.abi,functionName:"getKey",args:[n]}),lM=async({client:t,hybridDeleGatorAddress:e})=>await H(t,{address:e,abi:Y0.abi,functionName:"getKeyIdHashes"}),yM=async({client:t,hybridDeleGatorAddress:e})=>await H(t,{address:e,abi:Y0.abi,functionName:"getKeyIdHashesCount"}),ih={};x0(ih,{addKey:()=>iD,initializeHybridDeleGator:()=>cD,reinitializeHybridDeleGator:()=>dD,removeKey:()=>pD,updateSigners:()=>bD});var mM={};x0(mM,{ANY_DELEGATE:()=>wM,DOMAIN_VERSION:()=>TM,NAME:()=>hM,ROOT_AUTHORITY:()=>xM,VERSION:()=>gM});var hM="HybridDeleGator",gM="1.3.0",TM="1",xM="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",wM="0x0000000000000000000000000000000000000a11",oh={};x0(oh,{getMaxNumberOfSigners:()=>IM,getSigners:()=>EM,getSignersCount:()=>AM,getThreshold:()=>vM,isSigner:()=>CM});var EM=async({client:t,multiSigDeleGatorAddress:e})=>await H(t,{address:e,abi:g0.abi,functionName:"getSigners"}),AM=async({client:t,multiSigDeleGatorAddress:e})=>await H(t,{address:e,abi:g0.abi,functionName:"getSignersCount"}),vM=async({client:t,multiSigDeleGatorAddress:e})=>await H(t,{address:e,abi:g0.abi,functionName:"getThreshold"}),CM=async({client:t,multiSigDeleGatorAddress:e,signer:n})=>await H(t,{address:e,abi:g0.abi,functionName:"isSigner",args:[n]}),IM=async({client:t,multiSigDeleGatorAddress:e})=>await H(t,{address:e,abi:g0.abi,functionName:"MAX_NUMBER_OF_SIGNERS"}),ch={};x0(ch,{addSigner:()=>yD,initializeMultiSigDeleGator:()=>hD,reinitializeMultiSigDeleGator:()=>gD,removeSigner:()=>xD,replaceSigner:()=>ED,updateMultiSigParameters:()=>ID,updateThreshold:()=>vD});var PM={};x0(PM,{MAX_NUMBER_OF_SIGNERS:()=>_M});var _M=30,dh={};x0(dh,{getOwner:()=>NM,getPendingOwner:()=>SM});var SM=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:st.abi,functionName:"pendingOwner"}),NM=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:st.abi,functionName:"owner"}),fh={};x0(fh,{acceptOwnership:()=>RM,renounceOwnership:()=>OM,transferOwnership:()=>DM});var ph=({client:t,contractAddress:e,account:n})=>q(t,{address:e,abi:st.abi,functionName:"transferOwnership",args:[n]}),DM=async({client:t,contractAddress:e,account:n})=>{let{request:a}=await ph({client:t,contractAddress:e,account:n});return A0(t,a)},MM=t=>S({abi:st.abi,functionName:"transferOwnership",args:[t]}),uh=({client:t,contractAddress:e})=>q(t,{address:e,abi:st.abi,functionName:"renounceOwnership"}),OM=async({client:t,contractAddress:e})=>{let{request:n}=await uh({client:t,contractAddress:e});return A0(t,n)},kM=()=>S({abi:st.abi,functionName:"renounceOwnership"}),bh=({client:t,contractAddress:e})=>q(t,{address:e,abi:st.abi,functionName:"acceptOwnership"}),RM=async({client:t,contractAddress:e})=>{let{request:n}=await bh({client:t,contractAddress:e});return A0(t,n)},BM=()=>S({abi:st.abi,functionName:"acceptOwnership"}),lh={};x0(lh,{acceptOwnership:()=>BM,renounceOwnership:()=>kM,transferOwnership:()=>MM});var yh={};x0(yh,{acceptOwnership:()=>bh,renounceOwnership:()=>uh,transferOwnership:()=>ph});var mh={};x0(mh,{isPaused:()=>FM});var FM=async({client:t,contractAddress:e})=>await H(t,{address:e,abi:Zp.abi,functionName:"paused"}),hh={};x0(hh,{pause:()=>LM,unpause:()=>HM});var gh=[{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"}],Th=({client:t,contractAddress:e})=>q(t,{address:e,abi:gh,functionName:"pause"}),LM=async({client:t,contractAddress:e})=>{let{request:n}=await Th({client:t,contractAddress:e});return A0(t,n)},UM=()=>S({abi:gh,functionName:"pause"}),xh=[{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"}],wh=({client:t,contractAddress:e})=>q(t,{address:e,abi:xh,functionName:"unpause"}),HM=async({client:t,contractAddress:e})=>{let{request:n}=await wh({client:t,contractAddress:e});return A0(t,n)},GM=()=>S({abi:xh,functionName:"unpause"}),Eh={};x0(Eh,{pause:()=>UM,unpause:()=>GM});var Ah={};x0(Ah,{pause:()=>Th,unpause:()=>wh});var vh={};x0(vh,{getCreate2Address:()=>VM});var VM=(t,e,n,a)=>H(t,{address:e,abi:V6.abi,functionName:"computeAddress",args:[n,a]}),Ch={};x0(Ch,{create2Deploy:()=>O7});var Ih={};x0(Ih,{create2Deploy:()=>_D});var Iy0={..._7,...N7,...J7,...U7,...lh,...Eh,...M7},Py0={...X7,...fh,...hh,...Ih,...nh},_y0={...sh,...oh,...R7,...eh,...$7,...rh,...dh,...mh,...vh},Sy0={...ih,...ch,...th,...ah,...yh,...Ah,...Ch};function zM(t){return t===vt.Hybrid}var ou=class{constructor(e){w(this,"name",Tt.METAMASK),w(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,a,r,s,i,o,c,d,f,p,u,b,l,y;let m={walletClient:e.walletClient,webAuthnAccount:(n=this.options)===null||n===void 0||(n=n.hybridParams)===null||n===void 0?void 0:n.webAuthnAccount,keyId:(a=this.options)===null||a===void 0||(a=a.hybridParams)===null||a===void 0?void 0:a.keyId},h=[{walletClient:e.walletClient},...(((r=this.options)===null||r===void 0||(r=r.multiSigParams)===null||r===void 0?void 0:r.additionalSignerWalletClients)||[]).map(v=>({walletClient:v}))],[g]=await e.walletClient.getAddresses(),x=[g,[...((s=this.options)===null||s===void 0||(s=s.hybridParams)===null||s===void 0?void 0:s.p256KeyIds)||[]],[...((i=this.options)===null||i===void 0||(i=i.hybridParams)===null||i===void 0?void 0:i.p256XValues)||[]],[...((o=this.options)===null||o===void 0||(o=o.hybridParams)===null||o===void 0?void 0:o.p256YValues)||[]]],C=[[g,...((c=this.options)===null||c===void 0||(c=c.multiSigParams)===null||c===void 0?void 0:c.additionalSignerAddresses)||[]],(d=(f=this.options)===null||f===void 0||(f=f.multiSigParams)===null||f===void 0?void 0:f.threshold)!==null&&d!==void 0?d:BigInt(1+(((p=this.options)===null||p===void 0||(p=p.multiSigParams)===null||p===void 0||(p=p.additionalSignerWalletClients)===null||p===void 0?void 0:p.length)||0))],I={client:e.client,deploySalt:(u=(b=this.options)===null||b===void 0?void 0:b.deploySalt)!==null&&u!==void 0?u:"0x0"},E=(l=(y=this.options)===null||y===void 0?void 0:y.implementation)!==null&&l!==void 0?l:vt.Hybrid;if(zM(E)){let v=A(A({},I),{},{implementation:E,deployParams:x,signatory:m});return iu(v)}else{let v=A(A({},I),{},{implementation:E,deployParams:C,signatory:h});return iu(v)}}};var cu=class{constructor(e){w(this,"name",Tt.NEXUS),w(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,a,r;return Yp(A(A(A({},this.options||{}),{},{entryPoint:{address:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.address)||Zt,version:((a=this.options)===null||a===void 0||(a=a.entryPoint)===null||a===void 0?void 0:a.version)||"0.7"},version:((r=this.options)===null||r===void 0?void 0:r.version)||"1.0.0"},e),{},{owners:[e.walletClient],client:e.client}))}};var du=class{constructor(e){w(this,"name",Tt.SAFE),w(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,a,r;return Kp(A(A(A({},this.options||{}),{},{entryPoint:{address:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.address)||Zt,version:((a=this.options)===null||a===void 0||(a=a.entryPoint)===null||a===void 0?void 0:a.version)||"0.7"},version:((r=this.options)===null||r===void 0?void 0:r.version)||"1.4.1"},e),{},{owners:[e.walletClient],client:e.client}))}};var fu=class{constructor(e){w(this,"name",Tt.TRUST),w(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,a;return Lp(A(A(A({},this.options||{}),{},{entryPoint:{address:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.address)||jn,version:((a=this.options)===null||a===void 0||(a=a.entryPoint)===null||a===void 0?void 0:a.version)||"0.6"}},e),{},{owner:e.walletClient,client:e.client}))}};export{Ys as a,Ta as b,xa as c,Js as d,Qw as e,ei as f,j1 as g,Ae as h,ht as i,Jf as j,Qf as k,qw as l,Zw as m,Ot as n,wa as o,Ea as p,Aa as q,Em as r,mr as s,va as t,Qs as u,W1 as v,qs as w,Zs as x,ko as y,Ro as z,Bo as A,Fo as B,Xs as C,Lo as D,Uo as E,gt as F,j as G,Ho as H,Go as I,kt as J,Qt as K,qf as L,Zf as M,Xf as N,ti as O,e2 as P,t2 as Q,n2 as R,Tt as S,a2 as T,gr as U,l2 as V,h2 as W,B2 as X,ui as Y,z2 as Z,K2 as _,O9 as $,k9 as aa,W2 as ba,li as ca,$2 as da,Y2 as ea,Fr as fa,SA as ga,NA as ha,V9 as ia,z9 as ja,DA as ka,MA as la,OA as ma,kA as na,RA as oa,at as pa,en as qa,Q2 as ra,q2 as sa,Z2 as ta,yi as ua,mi as va,X2 as wa,ep as xa,tp as ya,np as za,ap as Aa,rp as Ba,sp as Ca,ip as Da,e4 as Ea,t4 as Fa,n4 as Ga,a4 as Ha,r4 as Ia,s4 as Ja,i4 as Ka,o4 as La,c4 as Ma,d4 as Na,f4 as Oa,p4 as Pa,u4 as Qa,b4 as Ra,l4 as Sa,op as Ta,A4 as Ua,v4 as Va,fp as Wa,up as Xa,wd as Ya,YA as Za,Ed as _a,JA as $a,Ti as ab,L6 as bb,P4 as cb,_4 as db,Ad as eb,vd as fb,lp as gb,S4 as hb,N4 as ib,xi as jb,QA as kb,qA as lb,ZA as mb,U6 as nb,yp as ob,mp as pb,hp as qb,M4 as rb,XA as sb,gp as tb,Tp as ub,O4 as vb,wi as wb,xp as xb,wp as yb,Ei as zb,vp as Ab,Cp as Bb,Ai as Cb,vi as Db,Ip as Eb,_p as Fb,Ci as Gb,Ii as Hb,Pi as Ib,Rp as Jb,Bp as Kb,Od as Lb,Di as Mb,Fp as Nb,Jp as Ob,Qp as Pb,ou as Qb,cu as Rb,du as Sb,fu as Tb};
