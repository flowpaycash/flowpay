var A8t=Object.create;var aU=Object.defineProperty;var _8t=Object.getOwnPropertyDescriptor;var T8t=Object.getOwnPropertyNames;var S8t=Object.getPrototypeOf,C8t=Object.prototype.hasOwnProperty;var ene=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),L4e=t=>e=>{var n=t[e];if(n)return n();throw new Error("Module not found in bundle: "+e)};var B=(t,e)=>()=>(t&&(e=t(t=0)),e);var le=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),$t=(t,e)=>{for(var n in e)aU(t,n,{get:e[n],enumerable:!0})},iU=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of T8t(e))!C8t.call(t,i)&&i!==n&&aU(t,i,{get:()=>e[i],enumerable:!(r=_8t(e,i))||r.enumerable});return t},Hc=(t,e,n)=>(iU(t,e,"default"),n&&iU(n,e,"default")),fe=(t,e,n)=>(n=t!=null?A8t(S8t(t)):{},iU(e||!t||!t.__esModule?aU(n,"default",{value:t,enumerable:!0}):n,t)),u3=t=>iU(aU({},"__esModule",{value:!0}),t);function U4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var F4e=B(()=>{});function Wf(t,e){if(t==null)return{};var n,r,i=U4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var V9=B(()=>{F4e()});function f3(t){"@babel/helpers - typeof";return f3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f3(t)}var tne=B(()=>{});function H4e(t,e){if(f3(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(f3(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z4e=B(()=>{tne()});function j4e(t){var e=H4e(t,"string");return f3(e)=="symbol"?e:e+""}var G4e=B(()=>{tne();z4e()});function K(t,e,n){return(e=j4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qe=B(()=>{G4e()});function V4e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4e(Object(n),!0).forEach(function(r){K(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var st=B(()=>{Qe()});var nne=le(()=>{});var dI=le((K4e,rne)=>{(function(t,e){"use strict";function n(S,y){if(!S)throw new Error(y||"Assertion failed")}function r(S,y){S.super_=y;var b=function(){};b.prototype=y.prototype,S.prototype=new b,S.prototype.constructor=S}function i(S,y,b){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((y==="le"||y==="be")&&(b=y,y=10),this._init(S||0,y||10,b||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=nne().Buffer}catch{}i.isBN=function(y){return y instanceof i?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===i.wordSize&&Array.isArray(y.words)},i.max=function(y,b){return y.cmp(b)>0?y:b},i.min=function(y,b){return y.cmp(b)<0?y:b},i.prototype._init=function(y,b,_){if(typeof y=="number")return this._initNumber(y,b,_);if(typeof y=="object")return this._initArray(y,b,_);b==="hex"&&(b=16),n(b===(b|0)&&b>=2&&b<=36),y=y.toString().replace(/\s+/g,"");var A=0;y[0]==="-"&&(A++,this.negative=1),A<y.length&&(b===16?this._parseHex(y,A,_):(this._parseBase(y,b,A),_==="le"&&this._initArray(this.toArray(),b,_)))},i.prototype._initNumber=function(y,b,_){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(n(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),b,_)},i.prototype._initArray=function(y,b,_){if(n(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T,E,k=0;if(_==="be")for(A=y.length-1,T=0;A>=0;A-=3)E=y[A]|y[A-1]<<8|y[A-2]<<16,this.words[T]|=E<<k&67108863,this.words[T+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,T++);else if(_==="le")for(A=0,T=0;A<y.length;A+=3)E=y[A]|y[A+1]<<8|y[A+2]<<16,this.words[T]|=E<<k&67108863,this.words[T+1]=E>>>26-k&67108863,k+=24,k>=26&&(k-=26,T++);return this._strip()};function o(S,y){var b=S.charCodeAt(y);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;n(!1,"Invalid character in "+S)}function s(S,y,b){var _=o(S,b);return b-1>=y&&(_|=o(S,b-1)<<4),_}i.prototype._parseHex=function(y,b,_){this.length=Math.ceil((y.length-b)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T=0,E=0,k;if(_==="be")for(A=y.length-1;A>=b;A-=2)k=s(y,b,A)<<T,this.words[E]|=k&67108863,T>=18?(T-=18,E+=1,this.words[E]|=k>>>26):T+=8;else{var L=y.length-b;for(A=L%2===0?b+1:b;A<y.length;A+=2)k=s(y,b,A)<<T,this.words[E]|=k&67108863,T>=18?(T-=18,E+=1,this.words[E]|=k>>>26):T+=8}this._strip()};function c(S,y,b,_){for(var A=0,T=0,E=Math.min(S.length,b),k=y;k<E;k++){var L=S.charCodeAt(k)-48;A*=_,L>=49?T=L-49+10:L>=17?T=L-17+10:T=L,n(L>=0&&T<_,"Invalid character"),A+=T}return A}i.prototype._parseBase=function(y,b,_){this.words=[0],this.length=1;for(var A=0,T=1;T<=67108863;T*=b)A++;A--,T=T/b|0;for(var E=y.length-_,k=E%A,L=Math.min(E,E-k)+_,R=0,U=_;U<L;U+=A)R=c(y,U,U+A,b),this.imuln(T),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(k!==0){var j=1;for(R=c(y,U,y.length,b),U=0;U<k;U++)j*=b;this.imuln(j),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this._strip()},i.prototype.copy=function(y){y.words=new Array(this.length);for(var b=0;b<this.length;b++)y.words[b]=this.words[b];y.length=this.length,y.negative=this.negative,y.red=this.red};function l(S,y){S.words=y.words,S.length=y.length,S.negative=y.negative,S.red=y.red}if(i.prototype._move=function(y){l(y,this)},i.prototype.clone=function(){var y=new i(null);return this.copy(y),y},i.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{i.prototype.inspect=u}else i.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(y,b){y=y||10,b=b|0||1;var _;if(y===16||y==="hex"){_="";for(var A=0,T=0,E=0;E<this.length;E++){var k=this.words[E],L=((k<<A|T)&16777215).toString(16);T=k>>>24-A&16777215,A+=2,A>=26&&(A-=26,E--),T!==0||E!==this.length-1?_=f[6-L.length]+L+_:_=L+_}for(T!==0&&(_=T.toString(16)+_);_.length%b!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(y===(y|0)&&y>=2&&y<=36){var R=d[y],U=p[y];_="";var j=this.clone();for(j.negative=0;!j.isZero();){var z=j.modrn(U).toString(y);j=j.idivn(U),j.isZero()?_=z+_:_=f[R-z.length]+z+_}for(this.isZero()&&(_="0"+_);_.length%b!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(y,b){return this.toArrayLike(a,y,b)}),i.prototype.toArray=function(y,b){return this.toArrayLike(Array,y,b)};var h=function(y,b){return y.allocUnsafe?y.allocUnsafe(b):new y(b)};i.prototype.toArrayLike=function(y,b,_){this._strip();var A=this.byteLength(),T=_||Math.max(1,A);n(A<=T,"byte array longer than desired length"),n(T>0,"Requested array length <= 0");var E=h(y,T),k=b==="le"?"LE":"BE";return this["_toArrayLike"+k](E,A),E},i.prototype._toArrayLikeLE=function(y,b){for(var _=0,A=0,T=0,E=0;T<this.length;T++){var k=this.words[T]<<E|A;y[_++]=k&255,_<y.length&&(y[_++]=k>>8&255),_<y.length&&(y[_++]=k>>16&255),E===6?(_<y.length&&(y[_++]=k>>24&255),A=0,E=0):(A=k>>>24,E+=2)}if(_<y.length)for(y[_++]=A;_<y.length;)y[_++]=0},i.prototype._toArrayLikeBE=function(y,b){for(var _=y.length-1,A=0,T=0,E=0;T<this.length;T++){var k=this.words[T]<<E|A;y[_--]=k&255,_>=0&&(y[_--]=k>>8&255),_>=0&&(y[_--]=k>>16&255),E===6?(_>=0&&(y[_--]=k>>24&255),A=0,E=0):(A=k>>>24,E+=2)}if(_>=0)for(y[_--]=A;_>=0;)y[_--]=0},Math.clz32?i.prototype._countBits=function(y){return 32-Math.clz32(y)}:i.prototype._countBits=function(y){var b=y,_=0;return b>=4096&&(_+=13,b>>>=13),b>=64&&(_+=7,b>>>=7),b>=8&&(_+=4,b>>>=4),b>=2&&(_+=2,b>>>=2),_+b},i.prototype._zeroBits=function(y){if(y===0)return 26;var b=y,_=0;return(b&8191)===0&&(_+=13,b>>>=13),(b&127)===0&&(_+=7,b>>>=7),(b&15)===0&&(_+=4,b>>>=4),(b&3)===0&&(_+=2,b>>>=2),(b&1)===0&&_++,_},i.prototype.bitLength=function(){var y=this.words[this.length-1],b=this._countBits(y);return(this.length-1)*26+b};function m(S){for(var y=new Array(S.bitLength()),b=0;b<y.length;b++){var _=b/26|0,A=b%26;y[b]=S.words[_]>>>A&1}return y}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,b=0;b<this.length;b++){var _=this._zeroBits(this.words[b]);if(y+=_,_!==26)break}return y},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},i.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var b=0;b<y.length;b++)this.words[b]=this.words[b]|y.words[b];return this._strip()},i.prototype.ior=function(y){return n((this.negative|y.negative)===0),this.iuor(y)},i.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},i.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},i.prototype.iuand=function(y){var b;this.length>y.length?b=y:b=this;for(var _=0;_<b.length;_++)this.words[_]=this.words[_]&y.words[_];return this.length=b.length,this._strip()},i.prototype.iand=function(y){return n((this.negative|y.negative)===0),this.iuand(y)},i.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},i.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},i.prototype.iuxor=function(y){var b,_;this.length>y.length?(b=this,_=y):(b=y,_=this);for(var A=0;A<_.length;A++)this.words[A]=b.words[A]^_.words[A];if(this!==b)for(;A<b.length;A++)this.words[A]=b.words[A];return this.length=b.length,this._strip()},i.prototype.ixor=function(y){return n((this.negative|y.negative)===0),this.iuxor(y)},i.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},i.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},i.prototype.inotn=function(y){n(typeof y=="number"&&y>=0);var b=Math.ceil(y/26)|0,_=y%26;this._expand(b),_>0&&b--;for(var A=0;A<b;A++)this.words[A]=~this.words[A]&67108863;return _>0&&(this.words[A]=~this.words[A]&67108863>>26-_),this._strip()},i.prototype.notn=function(y){return this.clone().inotn(y)},i.prototype.setn=function(y,b){n(typeof y=="number"&&y>=0);var _=y/26|0,A=y%26;return this._expand(_+1),b?this.words[_]=this.words[_]|1<<A:this.words[_]=this.words[_]&~(1<<A),this._strip()},i.prototype.iadd=function(y){var b;if(this.negative!==0&&y.negative===0)return this.negative=0,b=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,b=this.isub(y),y.negative=1,b._normSign();var _,A;this.length>y.length?(_=this,A=y):(_=y,A=this);for(var T=0,E=0;E<A.length;E++)b=(_.words[E]|0)+(A.words[E]|0)+T,this.words[E]=b&67108863,T=b>>>26;for(;T!==0&&E<_.length;E++)b=(_.words[E]|0)+T,this.words[E]=b&67108863,T=b>>>26;if(this.length=_.length,T!==0)this.words[this.length]=T,this.length++;else if(_!==this)for(;E<_.length;E++)this.words[E]=_.words[E];return this},i.prototype.add=function(y){var b;return y.negative!==0&&this.negative===0?(y.negative=0,b=this.sub(y),y.negative^=1,b):y.negative===0&&this.negative!==0?(this.negative=0,b=y.sub(this),this.negative=1,b):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},i.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var b=this.iadd(y);return y.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var _=this.cmp(y);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,T;_>0?(A=this,T=y):(A=y,T=this);for(var E=0,k=0;k<T.length;k++)b=(A.words[k]|0)-(T.words[k]|0)+E,E=b>>26,this.words[k]=b&67108863;for(;E!==0&&k<A.length;k++)b=(A.words[k]|0)+E,E=b>>26,this.words[k]=b&67108863;if(E===0&&k<A.length&&A!==this)for(;k<A.length;k++)this.words[k]=A.words[k];return this.length=Math.max(this.length,k),A!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(y){return this.clone().isub(y)};function w(S,y,b){b.negative=y.negative^S.negative;var _=S.length+y.length|0;b.length=_,_=_-1|0;var A=S.words[0]|0,T=y.words[0]|0,E=A*T,k=E&67108863,L=E/67108864|0;b.words[0]=k;for(var R=1;R<_;R++){for(var U=L>>>26,j=L&67108863,z=Math.min(R,y.length-1),V=Math.max(0,R-S.length+1);V<=z;V++){var $=R-V|0;A=S.words[$]|0,T=y.words[V]|0,E=A*T+j,U+=E/67108864|0,j=E&67108863}b.words[R]=j|0,L=U|0}return L!==0?b.words[R]=L|0:b.length--,b._strip()}var g=function(y,b,_){var A=y.words,T=b.words,E=_.words,k=0,L,R,U,j=A[0]|0,z=j&8191,V=j>>>13,$=A[1]|0,W=$&8191,J=$>>>13,X=A[2]|0,te=X&8191,ne=X>>>13,ue=A[3]|0,ce=ue&8191,oe=ue>>>13,xe=A[4]|0,ye=xe&8191,Se=xe>>>13,_t=A[5]|0,Xe=_t&8191,qe=_t>>>13,Lt=A[6]|0,nt=Lt&8191,it=Lt>>>13,br=A[7]|0,Be=br&8191,ot=br>>>13,kn=A[8]|0,Et=kn&8191,ht=kn>>>13,ti=A[9]|0,Ot=ti&8191,Zt=ti>>>13,ca=T[0]|0,tn=ca&8191,Vt=ca>>>13,o0=T[1]|0,Yt=o0&8191,nn=o0>>>13,Ou=T[2]|0,En=Ou&8191,Fe=Ou>>>13,$n=T[3]|0,vt=$n&8191,It=$n>>>13,lr=T[4]|0,mt=lr&8191,Jt=lr>>>13,s0=T[5]|0,Mt=s0&8191,pn=s0>>>13,Y=T[6]|0,Z=Y&8191,Q=Y>>>13,G=T[7]|0,ee=G&8191,se=G>>>13,pe=T[8]|0,he=pe&8191,Ae=pe>>>13,Bt=T[9]|0,We=Bt&8191,Qt=Bt>>>13;_.negative=y.negative^b.negative,_.length=19,L=Math.imul(z,tn),R=Math.imul(z,Vt),R=R+Math.imul(V,tn)|0,U=Math.imul(V,Vt);var wt=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(wt>>>26)|0,wt&=67108863,L=Math.imul(W,tn),R=Math.imul(W,Vt),R=R+Math.imul(J,tn)|0,U=Math.imul(J,Vt),L=L+Math.imul(z,Yt)|0,R=R+Math.imul(z,nn)|0,R=R+Math.imul(V,Yt)|0,U=U+Math.imul(V,nn)|0;var rn=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(rn>>>26)|0,rn&=67108863,L=Math.imul(te,tn),R=Math.imul(te,Vt),R=R+Math.imul(ne,tn)|0,U=Math.imul(ne,Vt),L=L+Math.imul(W,Yt)|0,R=R+Math.imul(W,nn)|0,R=R+Math.imul(J,Yt)|0,U=U+Math.imul(J,nn)|0,L=L+Math.imul(z,En)|0,R=R+Math.imul(z,Fe)|0,R=R+Math.imul(V,En)|0,U=U+Math.imul(V,Fe)|0;var ln=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(ln>>>26)|0,ln&=67108863,L=Math.imul(ce,tn),R=Math.imul(ce,Vt),R=R+Math.imul(oe,tn)|0,U=Math.imul(oe,Vt),L=L+Math.imul(te,Yt)|0,R=R+Math.imul(te,nn)|0,R=R+Math.imul(ne,Yt)|0,U=U+Math.imul(ne,nn)|0,L=L+Math.imul(W,En)|0,R=R+Math.imul(W,Fe)|0,R=R+Math.imul(J,En)|0,U=U+Math.imul(J,Fe)|0,L=L+Math.imul(z,vt)|0,R=R+Math.imul(z,It)|0,R=R+Math.imul(V,vt)|0,U=U+Math.imul(V,It)|0;var xn=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(xn>>>26)|0,xn&=67108863,L=Math.imul(ye,tn),R=Math.imul(ye,Vt),R=R+Math.imul(Se,tn)|0,U=Math.imul(Se,Vt),L=L+Math.imul(ce,Yt)|0,R=R+Math.imul(ce,nn)|0,R=R+Math.imul(oe,Yt)|0,U=U+Math.imul(oe,nn)|0,L=L+Math.imul(te,En)|0,R=R+Math.imul(te,Fe)|0,R=R+Math.imul(ne,En)|0,U=U+Math.imul(ne,Fe)|0,L=L+Math.imul(W,vt)|0,R=R+Math.imul(W,It)|0,R=R+Math.imul(J,vt)|0,U=U+Math.imul(J,It)|0,L=L+Math.imul(z,mt)|0,R=R+Math.imul(z,Jt)|0,R=R+Math.imul(V,mt)|0,U=U+Math.imul(V,Jt)|0;var bn=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(bn>>>26)|0,bn&=67108863,L=Math.imul(Xe,tn),R=Math.imul(Xe,Vt),R=R+Math.imul(qe,tn)|0,U=Math.imul(qe,Vt),L=L+Math.imul(ye,Yt)|0,R=R+Math.imul(ye,nn)|0,R=R+Math.imul(Se,Yt)|0,U=U+Math.imul(Se,nn)|0,L=L+Math.imul(ce,En)|0,R=R+Math.imul(ce,Fe)|0,R=R+Math.imul(oe,En)|0,U=U+Math.imul(oe,Fe)|0,L=L+Math.imul(te,vt)|0,R=R+Math.imul(te,It)|0,R=R+Math.imul(ne,vt)|0,U=U+Math.imul(ne,It)|0,L=L+Math.imul(W,mt)|0,R=R+Math.imul(W,Jt)|0,R=R+Math.imul(J,mt)|0,U=U+Math.imul(J,Jt)|0,L=L+Math.imul(z,Mt)|0,R=R+Math.imul(z,pn)|0,R=R+Math.imul(V,Mt)|0,U=U+Math.imul(V,pn)|0;var un=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(un>>>26)|0,un&=67108863,L=Math.imul(nt,tn),R=Math.imul(nt,Vt),R=R+Math.imul(it,tn)|0,U=Math.imul(it,Vt),L=L+Math.imul(Xe,Yt)|0,R=R+Math.imul(Xe,nn)|0,R=R+Math.imul(qe,Yt)|0,U=U+Math.imul(qe,nn)|0,L=L+Math.imul(ye,En)|0,R=R+Math.imul(ye,Fe)|0,R=R+Math.imul(Se,En)|0,U=U+Math.imul(Se,Fe)|0,L=L+Math.imul(ce,vt)|0,R=R+Math.imul(ce,It)|0,R=R+Math.imul(oe,vt)|0,U=U+Math.imul(oe,It)|0,L=L+Math.imul(te,mt)|0,R=R+Math.imul(te,Jt)|0,R=R+Math.imul(ne,mt)|0,U=U+Math.imul(ne,Jt)|0,L=L+Math.imul(W,Mt)|0,R=R+Math.imul(W,pn)|0,R=R+Math.imul(J,Mt)|0,U=U+Math.imul(J,pn)|0,L=L+Math.imul(z,Z)|0,R=R+Math.imul(z,Q)|0,R=R+Math.imul(V,Z)|0,U=U+Math.imul(V,Q)|0;var hn=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(hn>>>26)|0,hn&=67108863,L=Math.imul(Be,tn),R=Math.imul(Be,Vt),R=R+Math.imul(ot,tn)|0,U=Math.imul(ot,Vt),L=L+Math.imul(nt,Yt)|0,R=R+Math.imul(nt,nn)|0,R=R+Math.imul(it,Yt)|0,U=U+Math.imul(it,nn)|0,L=L+Math.imul(Xe,En)|0,R=R+Math.imul(Xe,Fe)|0,R=R+Math.imul(qe,En)|0,U=U+Math.imul(qe,Fe)|0,L=L+Math.imul(ye,vt)|0,R=R+Math.imul(ye,It)|0,R=R+Math.imul(Se,vt)|0,U=U+Math.imul(Se,It)|0,L=L+Math.imul(ce,mt)|0,R=R+Math.imul(ce,Jt)|0,R=R+Math.imul(oe,mt)|0,U=U+Math.imul(oe,Jt)|0,L=L+Math.imul(te,Mt)|0,R=R+Math.imul(te,pn)|0,R=R+Math.imul(ne,Mt)|0,U=U+Math.imul(ne,pn)|0,L=L+Math.imul(W,Z)|0,R=R+Math.imul(W,Q)|0,R=R+Math.imul(J,Z)|0,U=U+Math.imul(J,Q)|0,L=L+Math.imul(z,ee)|0,R=R+Math.imul(z,se)|0,R=R+Math.imul(V,ee)|0,U=U+Math.imul(V,se)|0;var fn=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(fn>>>26)|0,fn&=67108863,L=Math.imul(Et,tn),R=Math.imul(Et,Vt),R=R+Math.imul(ht,tn)|0,U=Math.imul(ht,Vt),L=L+Math.imul(Be,Yt)|0,R=R+Math.imul(Be,nn)|0,R=R+Math.imul(ot,Yt)|0,U=U+Math.imul(ot,nn)|0,L=L+Math.imul(nt,En)|0,R=R+Math.imul(nt,Fe)|0,R=R+Math.imul(it,En)|0,U=U+Math.imul(it,Fe)|0,L=L+Math.imul(Xe,vt)|0,R=R+Math.imul(Xe,It)|0,R=R+Math.imul(qe,vt)|0,U=U+Math.imul(qe,It)|0,L=L+Math.imul(ye,mt)|0,R=R+Math.imul(ye,Jt)|0,R=R+Math.imul(Se,mt)|0,U=U+Math.imul(Se,Jt)|0,L=L+Math.imul(ce,Mt)|0,R=R+Math.imul(ce,pn)|0,R=R+Math.imul(oe,Mt)|0,U=U+Math.imul(oe,pn)|0,L=L+Math.imul(te,Z)|0,R=R+Math.imul(te,Q)|0,R=R+Math.imul(ne,Z)|0,U=U+Math.imul(ne,Q)|0,L=L+Math.imul(W,ee)|0,R=R+Math.imul(W,se)|0,R=R+Math.imul(J,ee)|0,U=U+Math.imul(J,se)|0,L=L+Math.imul(z,he)|0,R=R+Math.imul(z,Ae)|0,R=R+Math.imul(V,he)|0,U=U+Math.imul(V,Ae)|0;var xt=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(xt>>>26)|0,xt&=67108863,L=Math.imul(Ot,tn),R=Math.imul(Ot,Vt),R=R+Math.imul(Zt,tn)|0,U=Math.imul(Zt,Vt),L=L+Math.imul(Et,Yt)|0,R=R+Math.imul(Et,nn)|0,R=R+Math.imul(ht,Yt)|0,U=U+Math.imul(ht,nn)|0,L=L+Math.imul(Be,En)|0,R=R+Math.imul(Be,Fe)|0,R=R+Math.imul(ot,En)|0,U=U+Math.imul(ot,Fe)|0,L=L+Math.imul(nt,vt)|0,R=R+Math.imul(nt,It)|0,R=R+Math.imul(it,vt)|0,U=U+Math.imul(it,It)|0,L=L+Math.imul(Xe,mt)|0,R=R+Math.imul(Xe,Jt)|0,R=R+Math.imul(qe,mt)|0,U=U+Math.imul(qe,Jt)|0,L=L+Math.imul(ye,Mt)|0,R=R+Math.imul(ye,pn)|0,R=R+Math.imul(Se,Mt)|0,U=U+Math.imul(Se,pn)|0,L=L+Math.imul(ce,Z)|0,R=R+Math.imul(ce,Q)|0,R=R+Math.imul(oe,Z)|0,U=U+Math.imul(oe,Q)|0,L=L+Math.imul(te,ee)|0,R=R+Math.imul(te,se)|0,R=R+Math.imul(ne,ee)|0,U=U+Math.imul(ne,se)|0,L=L+Math.imul(W,he)|0,R=R+Math.imul(W,Ae)|0,R=R+Math.imul(J,he)|0,U=U+Math.imul(J,Ae)|0,L=L+Math.imul(z,We)|0,R=R+Math.imul(z,Qt)|0,R=R+Math.imul(V,We)|0,U=U+Math.imul(V,Qt)|0;var Ht=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,L=Math.imul(Ot,Yt),R=Math.imul(Ot,nn),R=R+Math.imul(Zt,Yt)|0,U=Math.imul(Zt,nn),L=L+Math.imul(Et,En)|0,R=R+Math.imul(Et,Fe)|0,R=R+Math.imul(ht,En)|0,U=U+Math.imul(ht,Fe)|0,L=L+Math.imul(Be,vt)|0,R=R+Math.imul(Be,It)|0,R=R+Math.imul(ot,vt)|0,U=U+Math.imul(ot,It)|0,L=L+Math.imul(nt,mt)|0,R=R+Math.imul(nt,Jt)|0,R=R+Math.imul(it,mt)|0,U=U+Math.imul(it,Jt)|0,L=L+Math.imul(Xe,Mt)|0,R=R+Math.imul(Xe,pn)|0,R=R+Math.imul(qe,Mt)|0,U=U+Math.imul(qe,pn)|0,L=L+Math.imul(ye,Z)|0,R=R+Math.imul(ye,Q)|0,R=R+Math.imul(Se,Z)|0,U=U+Math.imul(Se,Q)|0,L=L+Math.imul(ce,ee)|0,R=R+Math.imul(ce,se)|0,R=R+Math.imul(oe,ee)|0,U=U+Math.imul(oe,se)|0,L=L+Math.imul(te,he)|0,R=R+Math.imul(te,Ae)|0,R=R+Math.imul(ne,he)|0,U=U+Math.imul(ne,Ae)|0,L=L+Math.imul(W,We)|0,R=R+Math.imul(W,Qt)|0,R=R+Math.imul(J,We)|0,U=U+Math.imul(J,Qt)|0;var yt=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(yt>>>26)|0,yt&=67108863,L=Math.imul(Ot,En),R=Math.imul(Ot,Fe),R=R+Math.imul(Zt,En)|0,U=Math.imul(Zt,Fe),L=L+Math.imul(Et,vt)|0,R=R+Math.imul(Et,It)|0,R=R+Math.imul(ht,vt)|0,U=U+Math.imul(ht,It)|0,L=L+Math.imul(Be,mt)|0,R=R+Math.imul(Be,Jt)|0,R=R+Math.imul(ot,mt)|0,U=U+Math.imul(ot,Jt)|0,L=L+Math.imul(nt,Mt)|0,R=R+Math.imul(nt,pn)|0,R=R+Math.imul(it,Mt)|0,U=U+Math.imul(it,pn)|0,L=L+Math.imul(Xe,Z)|0,R=R+Math.imul(Xe,Q)|0,R=R+Math.imul(qe,Z)|0,U=U+Math.imul(qe,Q)|0,L=L+Math.imul(ye,ee)|0,R=R+Math.imul(ye,se)|0,R=R+Math.imul(Se,ee)|0,U=U+Math.imul(Se,se)|0,L=L+Math.imul(ce,he)|0,R=R+Math.imul(ce,Ae)|0,R=R+Math.imul(oe,he)|0,U=U+Math.imul(oe,Ae)|0,L=L+Math.imul(te,We)|0,R=R+Math.imul(te,Qt)|0,R=R+Math.imul(ne,We)|0,U=U+Math.imul(ne,Qt)|0;var Tt=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,L=Math.imul(Ot,vt),R=Math.imul(Ot,It),R=R+Math.imul(Zt,vt)|0,U=Math.imul(Zt,It),L=L+Math.imul(Et,mt)|0,R=R+Math.imul(Et,Jt)|0,R=R+Math.imul(ht,mt)|0,U=U+Math.imul(ht,Jt)|0,L=L+Math.imul(Be,Mt)|0,R=R+Math.imul(Be,pn)|0,R=R+Math.imul(ot,Mt)|0,U=U+Math.imul(ot,pn)|0,L=L+Math.imul(nt,Z)|0,R=R+Math.imul(nt,Q)|0,R=R+Math.imul(it,Z)|0,U=U+Math.imul(it,Q)|0,L=L+Math.imul(Xe,ee)|0,R=R+Math.imul(Xe,se)|0,R=R+Math.imul(qe,ee)|0,U=U+Math.imul(qe,se)|0,L=L+Math.imul(ye,he)|0,R=R+Math.imul(ye,Ae)|0,R=R+Math.imul(Se,he)|0,U=U+Math.imul(Se,Ae)|0,L=L+Math.imul(ce,We)|0,R=R+Math.imul(ce,Qt)|0,R=R+Math.imul(oe,We)|0,U=U+Math.imul(oe,Qt)|0;var Rt=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,L=Math.imul(Ot,mt),R=Math.imul(Ot,Jt),R=R+Math.imul(Zt,mt)|0,U=Math.imul(Zt,Jt),L=L+Math.imul(Et,Mt)|0,R=R+Math.imul(Et,pn)|0,R=R+Math.imul(ht,Mt)|0,U=U+Math.imul(ht,pn)|0,L=L+Math.imul(Be,Z)|0,R=R+Math.imul(Be,Q)|0,R=R+Math.imul(ot,Z)|0,U=U+Math.imul(ot,Q)|0,L=L+Math.imul(nt,ee)|0,R=R+Math.imul(nt,se)|0,R=R+Math.imul(it,ee)|0,U=U+Math.imul(it,se)|0,L=L+Math.imul(Xe,he)|0,R=R+Math.imul(Xe,Ae)|0,R=R+Math.imul(qe,he)|0,U=U+Math.imul(qe,Ae)|0,L=L+Math.imul(ye,We)|0,R=R+Math.imul(ye,Qt)|0,R=R+Math.imul(Se,We)|0,U=U+Math.imul(Se,Qt)|0;var pt=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(pt>>>26)|0,pt&=67108863,L=Math.imul(Ot,Mt),R=Math.imul(Ot,pn),R=R+Math.imul(Zt,Mt)|0,U=Math.imul(Zt,pn),L=L+Math.imul(Et,Z)|0,R=R+Math.imul(Et,Q)|0,R=R+Math.imul(ht,Z)|0,U=U+Math.imul(ht,Q)|0,L=L+Math.imul(Be,ee)|0,R=R+Math.imul(Be,se)|0,R=R+Math.imul(ot,ee)|0,U=U+Math.imul(ot,se)|0,L=L+Math.imul(nt,he)|0,R=R+Math.imul(nt,Ae)|0,R=R+Math.imul(it,he)|0,U=U+Math.imul(it,Ae)|0,L=L+Math.imul(Xe,We)|0,R=R+Math.imul(Xe,Qt)|0,R=R+Math.imul(qe,We)|0,U=U+Math.imul(qe,Qt)|0;var ge=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(ge>>>26)|0,ge&=67108863,L=Math.imul(Ot,Z),R=Math.imul(Ot,Q),R=R+Math.imul(Zt,Z)|0,U=Math.imul(Zt,Q),L=L+Math.imul(Et,ee)|0,R=R+Math.imul(Et,se)|0,R=R+Math.imul(ht,ee)|0,U=U+Math.imul(ht,se)|0,L=L+Math.imul(Be,he)|0,R=R+Math.imul(Be,Ae)|0,R=R+Math.imul(ot,he)|0,U=U+Math.imul(ot,Ae)|0,L=L+Math.imul(nt,We)|0,R=R+Math.imul(nt,Qt)|0,R=R+Math.imul(it,We)|0,U=U+Math.imul(it,Qt)|0;var ve=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(ve>>>26)|0,ve&=67108863,L=Math.imul(Ot,ee),R=Math.imul(Ot,se),R=R+Math.imul(Zt,ee)|0,U=Math.imul(Zt,se),L=L+Math.imul(Et,he)|0,R=R+Math.imul(Et,Ae)|0,R=R+Math.imul(ht,he)|0,U=U+Math.imul(ht,Ae)|0,L=L+Math.imul(Be,We)|0,R=R+Math.imul(Be,Qt)|0,R=R+Math.imul(ot,We)|0,U=U+Math.imul(ot,Qt)|0;var je=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(je>>>26)|0,je&=67108863,L=Math.imul(Ot,he),R=Math.imul(Ot,Ae),R=R+Math.imul(Zt,he)|0,U=Math.imul(Zt,Ae),L=L+Math.imul(Et,We)|0,R=R+Math.imul(Et,Qt)|0,R=R+Math.imul(ht,We)|0,U=U+Math.imul(ht,Qt)|0;var ke=(k+L|0)+((R&8191)<<13)|0;k=(U+(R>>>13)|0)+(ke>>>26)|0,ke&=67108863,L=Math.imul(Ot,We),R=Math.imul(Ot,Qt),R=R+Math.imul(Zt,We)|0,U=Math.imul(Zt,Qt);var Me=(k+L|0)+((R&8191)<<13)|0;return k=(U+(R>>>13)|0)+(Me>>>26)|0,Me&=67108863,E[0]=wt,E[1]=rn,E[2]=ln,E[3]=xn,E[4]=bn,E[5]=un,E[6]=hn,E[7]=fn,E[8]=xt,E[9]=Ht,E[10]=yt,E[11]=Tt,E[12]=Rt,E[13]=pt,E[14]=ge,E[15]=ve,E[16]=je,E[17]=ke,E[18]=Me,k!==0&&(E[19]=k,_.length++),_};Math.imul||(g=w);function x(S,y,b){b.negative=y.negative^S.negative,b.length=S.length+y.length;for(var _=0,A=0,T=0;T<b.length-1;T++){var E=A;A=0;for(var k=_&67108863,L=Math.min(T,y.length-1),R=Math.max(0,T-S.length+1);R<=L;R++){var U=T-R,j=S.words[U]|0,z=y.words[R]|0,V=j*z,$=V&67108863;E=E+(V/67108864|0)|0,$=$+k|0,k=$&67108863,E=E+($>>>26)|0,A+=E>>>26,E&=67108863}b.words[T]=k,_=E,E=A}return _!==0?b.words[T]=_:b.length--,b._strip()}function C(S,y,b){return x(S,y,b)}i.prototype.mulTo=function(y,b){var _,A=this.length+y.length;return this.length===10&&y.length===10?_=g(this,y,b):A<63?_=w(this,y,b):A<1024?_=x(this,y,b):_=C(this,y,b),_};function P(S,y){this.x=S,this.y=y}P.prototype.makeRBT=function(y){for(var b=new Array(y),_=i.prototype._countBits(y)-1,A=0;A<y;A++)b[A]=this.revBin(A,_,y);return b},P.prototype.revBin=function(y,b,_){if(y===0||y===_-1)return y;for(var A=0,T=0;T<b;T++)A|=(y&1)<<b-T-1,y>>=1;return A},P.prototype.permute=function(y,b,_,A,T,E){for(var k=0;k<E;k++)A[k]=b[y[k]],T[k]=_[y[k]]},P.prototype.transform=function(y,b,_,A,T,E){this.permute(E,y,b,_,A,T);for(var k=1;k<T;k<<=1)for(var L=k<<1,R=Math.cos(2*Math.PI/L),U=Math.sin(2*Math.PI/L),j=0;j<T;j+=L)for(var z=R,V=U,$=0;$<k;$++){var W=_[j+$],J=A[j+$],X=_[j+$+k],te=A[j+$+k],ne=z*X-V*te;te=z*te+V*X,X=ne,_[j+$]=W+X,A[j+$]=J+te,_[j+$+k]=W-X,A[j+$+k]=J-te,$!==L&&(ne=R*z-U*V,V=R*V+U*z,z=ne)}},P.prototype.guessLen13b=function(y,b){var _=Math.max(b,y)|1,A=_&1,T=0;for(_=_/2|0;_;_=_>>>1)T++;return 1<<T+1+A},P.prototype.conjugate=function(y,b,_){if(!(_<=1))for(var A=0;A<_/2;A++){var T=y[A];y[A]=y[_-A-1],y[_-A-1]=T,T=b[A],b[A]=-b[_-A-1],b[_-A-1]=-T}},P.prototype.normalize13b=function(y,b){for(var _=0,A=0;A<b/2;A++){var T=Math.round(y[2*A+1]/b)*8192+Math.round(y[2*A]/b)+_;y[A]=T&67108863,T<67108864?_=0:_=T/67108864|0}return y},P.prototype.convert13b=function(y,b,_,A){for(var T=0,E=0;E<b;E++)T=T+(y[E]|0),_[2*E]=T&8191,T=T>>>13,_[2*E+1]=T&8191,T=T>>>13;for(E=2*b;E<A;++E)_[E]=0;n(T===0),n((T&-8192)===0)},P.prototype.stub=function(y){for(var b=new Array(y),_=0;_<y;_++)b[_]=0;return b},P.prototype.mulp=function(y,b,_){var A=2*this.guessLen13b(y.length,b.length),T=this.makeRBT(A),E=this.stub(A),k=new Array(A),L=new Array(A),R=new Array(A),U=new Array(A),j=new Array(A),z=new Array(A),V=_.words;V.length=A,this.convert13b(y.words,y.length,k,A),this.convert13b(b.words,b.length,U,A),this.transform(k,E,L,R,A,T),this.transform(U,E,j,z,A,T);for(var $=0;$<A;$++){var W=L[$]*j[$]-R[$]*z[$];R[$]=L[$]*z[$]+R[$]*j[$],L[$]=W}return this.conjugate(L,R,A),this.transform(L,R,V,E,A,T),this.conjugate(V,E,A),this.normalize13b(V,A),_.negative=y.negative^b.negative,_.length=y.length+b.length,_._strip()},i.prototype.mul=function(y){var b=new i(null);return b.words=new Array(this.length+y.length),this.mulTo(y,b)},i.prototype.mulf=function(y){var b=new i(null);return b.words=new Array(this.length+y.length),C(this,y,b)},i.prototype.imul=function(y){return this.clone().mulTo(y,this)},i.prototype.imuln=function(y){var b=y<0;b&&(y=-y),n(typeof y=="number"),n(y<67108864);for(var _=0,A=0;A<this.length;A++){var T=(this.words[A]|0)*y,E=(T&67108863)+(_&67108863);_>>=26,_+=T/67108864|0,_+=E>>>26,this.words[A]=E&67108863}return _!==0&&(this.words[A]=_,this.length++),this.length=y===0?1:this.length,b?this.ineg():this},i.prototype.muln=function(y){return this.clone().imuln(y)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(y){var b=m(y);if(b.length===0)return new i(1);for(var _=this,A=0;A<b.length&&b[A]===0;A++,_=_.sqr());if(++A<b.length)for(var T=_.sqr();A<b.length;A++,T=T.sqr())b[A]!==0&&(_=_.mul(T));return _},i.prototype.iushln=function(y){n(typeof y=="number"&&y>=0);var b=y%26,_=(y-b)/26,A=67108863>>>26-b<<26-b,T;if(b!==0){var E=0;for(T=0;T<this.length;T++){var k=this.words[T]&A,L=(this.words[T]|0)-k<<b;this.words[T]=L|E,E=k>>>26-b}E&&(this.words[T]=E,this.length++)}if(_!==0){for(T=this.length-1;T>=0;T--)this.words[T+_]=this.words[T];for(T=0;T<_;T++)this.words[T]=0;this.length+=_}return this._strip()},i.prototype.ishln=function(y){return n(this.negative===0),this.iushln(y)},i.prototype.iushrn=function(y,b,_){n(typeof y=="number"&&y>=0);var A;b?A=(b-b%26)/26:A=0;var T=y%26,E=Math.min((y-T)/26,this.length),k=67108863^67108863>>>T<<T,L=_;if(A-=E,A=Math.max(0,A),L){for(var R=0;R<E;R++)L.words[R]=this.words[R];L.length=E}if(E!==0)if(this.length>E)for(this.length-=E,R=0;R<this.length;R++)this.words[R]=this.words[R+E];else this.words[0]=0,this.length=1;var U=0;for(R=this.length-1;R>=0&&(U!==0||R>=A);R--){var j=this.words[R]|0;this.words[R]=U<<26-T|j>>>T,U=j&k}return L&&U!==0&&(L.words[L.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(y,b,_){return n(this.negative===0),this.iushrn(y,b,_)},i.prototype.shln=function(y){return this.clone().ishln(y)},i.prototype.ushln=function(y){return this.clone().iushln(y)},i.prototype.shrn=function(y){return this.clone().ishrn(y)},i.prototype.ushrn=function(y){return this.clone().iushrn(y)},i.prototype.testn=function(y){n(typeof y=="number"&&y>=0);var b=y%26,_=(y-b)/26,A=1<<b;if(this.length<=_)return!1;var T=this.words[_];return!!(T&A)},i.prototype.imaskn=function(y){n(typeof y=="number"&&y>=0);var b=y%26,_=(y-b)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(b!==0&&_++,this.length=Math.min(_,this.length),b!==0){var A=67108863^67108863>>>b<<b;this.words[this.length-1]&=A}return this._strip()},i.prototype.maskn=function(y){return this.clone().imaskn(y)},i.prototype.iaddn=function(y){return n(typeof y=="number"),n(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},i.prototype._iaddn=function(y){this.words[0]+=y;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},i.prototype.isubn=function(y){if(n(typeof y=="number"),n(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},i.prototype.addn=function(y){return this.clone().iaddn(y)},i.prototype.subn=function(y){return this.clone().isubn(y)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(y,b,_){var A=y.length+_,T;this._expand(A);var E,k=0;for(T=0;T<y.length;T++){E=(this.words[T+_]|0)+k;var L=(y.words[T]|0)*b;E-=L&67108863,k=(E>>26)-(L/67108864|0),this.words[T+_]=E&67108863}for(;T<this.length-_;T++)E=(this.words[T+_]|0)+k,k=E>>26,this.words[T+_]=E&67108863;if(k===0)return this._strip();for(n(k===-1),k=0,T=0;T<this.length;T++)E=-(this.words[T]|0)+k,k=E>>26,this.words[T]=E&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(y,b){var _=this.length-y.length,A=this.clone(),T=y,E=T.words[T.length-1]|0,k=this._countBits(E);_=26-k,_!==0&&(T=T.ushln(_),A.iushln(_),E=T.words[T.length-1]|0);var L=A.length-T.length,R;if(b!=="mod"){R=new i(null),R.length=L+1,R.words=new Array(R.length);for(var U=0;U<R.length;U++)R.words[U]=0}var j=A.clone()._ishlnsubmul(T,1,L);j.negative===0&&(A=j,R&&(R.words[L]=1));for(var z=L-1;z>=0;z--){var V=(A.words[T.length+z]|0)*67108864+(A.words[T.length+z-1]|0);for(V=Math.min(V/E|0,67108863),A._ishlnsubmul(T,V,z);A.negative!==0;)V--,A.negative=0,A._ishlnsubmul(T,1,z),A.isZero()||(A.negative^=1);R&&(R.words[z]=V)}return R&&R._strip(),A._strip(),b!=="div"&&_!==0&&A.iushrn(_),{div:R||null,mod:A}},i.prototype.divmod=function(y,b,_){if(n(!y.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var A,T,E;return this.negative!==0&&y.negative===0?(E=this.neg().divmod(y,b),b!=="mod"&&(A=E.div.neg()),b!=="div"&&(T=E.mod.neg(),_&&T.negative!==0&&T.iadd(y)),{div:A,mod:T}):this.negative===0&&y.negative!==0?(E=this.divmod(y.neg(),b),b!=="mod"&&(A=E.div.neg()),{div:A,mod:E.mod}):(this.negative&y.negative)!==0?(E=this.neg().divmod(y.neg(),b),b!=="div"&&(T=E.mod.neg(),_&&T.negative!==0&&T.isub(y)),{div:E.div,mod:T}):y.length>this.length||this.cmp(y)<0?{div:new i(0),mod:this}:y.length===1?b==="div"?{div:this.divn(y.words[0]),mod:null}:b==="mod"?{div:null,mod:new i(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new i(this.modrn(y.words[0]))}:this._wordDiv(y,b)},i.prototype.div=function(y){return this.divmod(y,"div",!1).div},i.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},i.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},i.prototype.divRound=function(y){var b=this.divmod(y);if(b.mod.isZero())return b.div;var _=b.div.negative!==0?b.mod.isub(y):b.mod,A=y.ushrn(1),T=y.andln(1),E=_.cmp(A);return E<0||T===1&&E===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},i.prototype.modrn=function(y){var b=y<0;b&&(y=-y),n(y<=67108863);for(var _=(1<<26)%y,A=0,T=this.length-1;T>=0;T--)A=(_*A+(this.words[T]|0))%y;return b?-A:A},i.prototype.modn=function(y){return this.modrn(y)},i.prototype.idivn=function(y){var b=y<0;b&&(y=-y),n(y<=67108863);for(var _=0,A=this.length-1;A>=0;A--){var T=(this.words[A]|0)+_*67108864;this.words[A]=T/y|0,_=T%y}return this._strip(),b?this.ineg():this},i.prototype.divn=function(y){return this.clone().idivn(y)},i.prototype.egcd=function(y){n(y.negative===0),n(!y.isZero());var b=this,_=y.clone();b.negative!==0?b=b.umod(y):b=b.clone();for(var A=new i(1),T=new i(0),E=new i(0),k=new i(1),L=0;b.isEven()&&_.isEven();)b.iushrn(1),_.iushrn(1),++L;for(var R=_.clone(),U=b.clone();!b.isZero();){for(var j=0,z=1;(b.words[0]&z)===0&&j<26;++j,z<<=1);if(j>0)for(b.iushrn(j);j-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(R),T.isub(U)),A.iushrn(1),T.iushrn(1);for(var V=0,$=1;(_.words[0]&$)===0&&V<26;++V,$<<=1);if(V>0)for(_.iushrn(V);V-- >0;)(E.isOdd()||k.isOdd())&&(E.iadd(R),k.isub(U)),E.iushrn(1),k.iushrn(1);b.cmp(_)>=0?(b.isub(_),A.isub(E),T.isub(k)):(_.isub(b),E.isub(A),k.isub(T))}return{a:E,b:k,gcd:_.iushln(L)}},i.prototype._invmp=function(y){n(y.negative===0),n(!y.isZero());var b=this,_=y.clone();b.negative!==0?b=b.umod(y):b=b.clone();for(var A=new i(1),T=new i(0),E=_.clone();b.cmpn(1)>0&&_.cmpn(1)>0;){for(var k=0,L=1;(b.words[0]&L)===0&&k<26;++k,L<<=1);if(k>0)for(b.iushrn(k);k-- >0;)A.isOdd()&&A.iadd(E),A.iushrn(1);for(var R=0,U=1;(_.words[0]&U)===0&&R<26;++R,U<<=1);if(R>0)for(_.iushrn(R);R-- >0;)T.isOdd()&&T.iadd(E),T.iushrn(1);b.cmp(_)>=0?(b.isub(_),A.isub(T)):(_.isub(b),T.isub(A))}var j;return b.cmpn(1)===0?j=A:j=T,j.cmpn(0)<0&&j.iadd(y),j},i.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var b=this.clone(),_=y.clone();b.negative=0,_.negative=0;for(var A=0;b.isEven()&&_.isEven();A++)b.iushrn(1),_.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;_.isEven();)_.iushrn(1);var T=b.cmp(_);if(T<0){var E=b;b=_,_=E}else if(T===0||_.cmpn(1)===0)break;b.isub(_)}while(!0);return _.iushln(A)},i.prototype.invm=function(y){return this.egcd(y).a.umod(y)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(y){return this.words[0]&y},i.prototype.bincn=function(y){n(typeof y=="number");var b=y%26,_=(y-b)/26,A=1<<b;if(this.length<=_)return this._expand(_+1),this.words[_]|=A,this;for(var T=A,E=_;T!==0&&E<this.length;E++){var k=this.words[E]|0;k+=T,T=k>>>26,k&=67108863,this.words[E]=k}return T!==0&&(this.words[E]=T,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(y){var b=y<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this._strip();var _;if(this.length>1)_=1;else{b&&(y=-y),n(y<=67108863,"Number is too big");var A=this.words[0]|0;_=A===y?0:A<y?-1:1}return this.negative!==0?-_|0:_},i.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var b=this.ucmp(y);return this.negative!==0?-b|0:b},i.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var b=0,_=this.length-1;_>=0;_--){var A=this.words[_]|0,T=y.words[_]|0;if(A!==T){A<T?b=-1:A>T&&(b=1);break}}return b},i.prototype.gtn=function(y){return this.cmpn(y)===1},i.prototype.gt=function(y){return this.cmp(y)===1},i.prototype.gten=function(y){return this.cmpn(y)>=0},i.prototype.gte=function(y){return this.cmp(y)>=0},i.prototype.ltn=function(y){return this.cmpn(y)===-1},i.prototype.lt=function(y){return this.cmp(y)===-1},i.prototype.lten=function(y){return this.cmpn(y)<=0},i.prototype.lte=function(y){return this.cmp(y)<=0},i.prototype.eqn=function(y){return this.cmpn(y)===0},i.prototype.eq=function(y){return this.cmp(y)===0},i.red=function(y){return new v(y)},i.prototype.toRed=function(y){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(y){return this.red=y,this},i.prototype.forceRed=function(y){return n(!this.red,"Already a number in reduction context"),this._forceRed(y)},i.prototype.redAdd=function(y){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},i.prototype.redIAdd=function(y){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},i.prototype.redSub=function(y){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},i.prototype.redISub=function(y){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},i.prototype.redShl=function(y){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},i.prototype.redMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},i.prototype.redIMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(y){return n(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var D={k256:null,p224:null,p192:null,p25519:null};function F(S,y){this.name=S,this.p=new i(y,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var y=new i(null);return y.words=new Array(Math.ceil(this.n/13)),y},F.prototype.ireduce=function(y){var b=y,_;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),_=b.bitLength();while(_>this.n);var A=_<this.n?-1:b.ucmp(this.p);return A===0?(b.words[0]=0,b.length=1):A>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},F.prototype.split=function(y,b){y.iushrn(this.n,0,b)},F.prototype.imulK=function(y){return y.imul(this.k)};function H(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(H,F),H.prototype.split=function(y,b){for(var _=4194303,A=Math.min(y.length,9),T=0;T<A;T++)b.words[T]=y.words[T];if(b.length=A,y.length<=9){y.words[0]=0,y.length=1;return}var E=y.words[9];for(b.words[b.length++]=E&_,T=10;T<y.length;T++){var k=y.words[T]|0;y.words[T-10]=(k&_)<<4|E>>>22,E=k}E>>>=22,y.words[T-10]=E,E===0&&y.length>10?y.length-=10:y.length-=9},H.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var b=0,_=0;_<y.length;_++){var A=y.words[_]|0;b+=A*977,y.words[_]=b&67108863,b=A*64+(b/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function O(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(O,F);function M(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(M,F);function N(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(N,F),N.prototype.imulK=function(y){for(var b=0,_=0;_<y.length;_++){var A=(y.words[_]|0)*19+b,T=A&67108863;A>>>=26,y.words[_]=T,b=A}return b!==0&&(y.words[y.length++]=b),y},i._prime=function(y){if(D[y])return D[y];var b;if(y==="k256")b=new H;else if(y==="p224")b=new O;else if(y==="p192")b=new M;else if(y==="p25519")b=new N;else throw new Error("Unknown prime "+y);return D[y]=b,b};function v(S){if(typeof S=="string"){var y=i._prime(S);this.m=y.p,this.prime=y}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}v.prototype._verify1=function(y){n(y.negative===0,"red works only with positives"),n(y.red,"red works only with red numbers")},v.prototype._verify2=function(y,b){n((y.negative|b.negative)===0,"red works only with positives"),n(y.red&&y.red===b.red,"red works only with red numbers")},v.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(l(y,y.umod(this.m)._forceRed(this)),y)},v.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},v.prototype.add=function(y,b){this._verify2(y,b);var _=y.add(b);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},v.prototype.iadd=function(y,b){this._verify2(y,b);var _=y.iadd(b);return _.cmp(this.m)>=0&&_.isub(this.m),_},v.prototype.sub=function(y,b){this._verify2(y,b);var _=y.sub(b);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},v.prototype.isub=function(y,b){this._verify2(y,b);var _=y.isub(b);return _.cmpn(0)<0&&_.iadd(this.m),_},v.prototype.shl=function(y,b){return this._verify1(y),this.imod(y.ushln(b))},v.prototype.imul=function(y,b){return this._verify2(y,b),this.imod(y.imul(b))},v.prototype.mul=function(y,b){return this._verify2(y,b),this.imod(y.mul(b))},v.prototype.isqr=function(y){return this.imul(y,y.clone())},v.prototype.sqr=function(y){return this.mul(y,y)},v.prototype.sqrt=function(y){if(y.isZero())return y.clone();var b=this.m.andln(3);if(n(b%2===1),b===3){var _=this.m.add(new i(1)).iushrn(2);return this.pow(y,_)}for(var A=this.m.subn(1),T=0;!A.isZero()&&A.andln(1)===0;)T++,A.iushrn(1);n(!A.isZero());var E=new i(1).toRed(this),k=E.redNeg(),L=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new i(2*R*R).toRed(this);this.pow(R,L).cmp(k)!==0;)R.redIAdd(k);for(var U=this.pow(R,A),j=this.pow(y,A.addn(1).iushrn(1)),z=this.pow(y,A),V=T;z.cmp(E)!==0;){for(var $=z,W=0;$.cmp(E)!==0;W++)$=$.redSqr();n(W<V);var J=this.pow(U,new i(1).iushln(V-W-1));j=j.redMul(J),U=J.redSqr(),z=z.redMul(U),V=W}return j},v.prototype.invm=function(y){var b=y._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},v.prototype.pow=function(y,b){if(b.isZero())return new i(1).toRed(this);if(b.cmpn(1)===0)return y.clone();var _=4,A=new Array(1<<_);A[0]=new i(1).toRed(this),A[1]=y;for(var T=2;T<A.length;T++)A[T]=this.mul(A[T-1],y);var E=A[0],k=0,L=0,R=b.bitLength()%26;for(R===0&&(R=26),T=b.length-1;T>=0;T--){for(var U=b.words[T],j=R-1;j>=0;j--){var z=U>>j&1;if(E!==A[0]&&(E=this.sqr(E)),z===0&&k===0){L=0;continue}k<<=1,k|=z,L++,!(L!==_&&(T!==0||j!==0))&&(E=this.mul(E,A[k]),L=0,k=0)}R=26}return E},v.prototype.convertTo=function(y){var b=y.umod(this.m);return b===y?b.clone():b},v.prototype.convertFrom=function(y){var b=y.clone();return b.red=null,b},i.mont=function(y){return new I(y)};function I(S){v.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(I,v),I.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},I.prototype.convertFrom=function(y){var b=this.imod(y.mul(this.rinv));return b.red=null,b},I.prototype.imul=function(y,b){if(y.isZero()||b.isZero())return y.words[0]=0,y.length=1,y;var _=y.imul(b),A=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=_.isub(A).iushrn(this.shift),E=T;return T.cmp(this.m)>=0?E=T.isub(this.m):T.cmpn(0)<0&&(E=T.iadd(this.m)),E._forceRed(this)},I.prototype.mul=function(y,b){if(y.isZero()||b.isZero())return new i(0)._forceRed(this);var _=y.mul(b),A=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=_.isub(A).iushrn(this.shift),E=T;return T.cmp(this.m)>=0?E=T.isub(this.m):T.cmpn(0)<0&&(E=T.iadd(this.m)),E._forceRed(this)},I.prototype.invm=function(y){var b=this.imod(y._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(typeof rne>"u"||rne,K4e)});var d3,$4e=B(()=>{d3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function Ss(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Li(t,...e){if(!Ss(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function K9(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");zc(t.outputLen),zc(t.blockLen)}function Kp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pI(t,e){Li(t);let n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function W4e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Yf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function oU(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function y1(t,e){return t<<32-e|t>>>e}function R8t(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function O8t(t){for(let e=0;e<t.length;e++)t[e]=R8t(t[e]);return t}function va(t){if(Li(t),Y4e)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=N8t[t[n]];return e}function q4e(t){if(t>=W6._0&&t<=W6._9)return t-W6._0;if(t>=W6.A&&t<=W6.F)return t-(W6.A-10);if(t>=W6.a&&t<=W6.f)return t-(W6.a-10)}function c0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Y4e)return Uint8Array.fromHex(t);let e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){let o=q4e(t.charCodeAt(a)),s=q4e(t.charCodeAt(a+1));if(o===void 0||s===void 0){let c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[i]=o*16+s}return r}function Jf(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function p3(t){return typeof t=="string"&&(t=Jf(t)),Li(t),t}function rr(...t){let e=0;for(let r=0;r<t.length;r++){let i=t[r];Li(i),e+=i.length}let n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let a=t[r];n.set(a,i),i+=a.length}return n}function hI(t){let e=r=>t().update(p3(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Cs(t=32){if(d3&&typeof d3.getRandomValues=="function")return d3.getRandomValues(new Uint8Array(t));if(d3&&typeof d3.randomBytes=="function")return Uint8Array.from(d3.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var I8t,ine,Y4e,N8t,W6,Jy,Is=B(()=>{$4e();I8t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;ine=I8t?t=>t:O8t,Y4e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",N8t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));W6={_0:48,_9:57,A:65,F:70,a:97,f:102};Jy=class{}});function P8t(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,s,r)}function J4e(t,e,n){return t&e^~t&n}function Q4e(t,e,n){return t&e^t&n^e&n}var mI,Y6,l0,Z4e=B(()=>{Is();mI=class extends Jy{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=oU(this.buffer)}update(e){Kp(this),e=p3(e),Li(e);let{view:n,buffer:r,blockLen:i}=this,a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let c=oU(e);for(;i<=a-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Kp(this),pI(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:a}=this,{pos:o}=this;n[o++]=128,Yf(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;P8t(r,i-8,BigInt(this.length*8),a),this.process(r,0);let s=oU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)s.setUint32(4*f,u[f],a)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:i,finished:a,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=a,e.length=i,e.pos=s,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}},Y6=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l0=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function k8t(t,e=!1){return e?{h:Number(t&sU),l:Number(t>>X4e&sU)}:{h:Number(t>>X4e&sU)|0,l:Number(t&sU)|0}}function cU(t,e=!1){let n=t.length,r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){let{h:o,l:s}=k8t(t[a],e);[r[a],i[a]]=[o,s]}return[r,i]}function $p(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}var sU,X4e,ane,one,h3,m3,yI,bI,e9e,t9e,n9e,r9e,i9e,a9e,o9e,s9e,c9e,l9e,sne=B(()=>{sU=BigInt(4294967295),X4e=BigInt(32);ane=(t,e,n)=>t>>>n,one=(t,e,n)=>t<<32-n|e>>>n,h3=(t,e,n)=>t>>>n|e<<32-n,m3=(t,e,n)=>t<<32-n|e>>>n,yI=(t,e,n)=>t<<64-n|e>>>n-32,bI=(t,e,n)=>t>>>n-32|e<<64-n,e9e=(t,e,n)=>t<<n|e>>>32-n,t9e=(t,e,n)=>e<<n|t>>>32-n,n9e=(t,e,n)=>e<<n-32|t>>>64-n,r9e=(t,e,n)=>t<<n-32|e>>>64-n;i9e=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),a9e=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,o9e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),s9e=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,c9e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),l9e=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0});var B8t,Qy,lU,u9e,D8t,L8t,Zy,Xy,cne,Tl,f9e,$9=B(()=>{Z4e();sne();Is();B8t=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qy=new Uint32Array(64),lU=class extends mI{constructor(e=32){super(64,e,8,!1),this.A=Y6[0]|0,this.B=Y6[1]|0,this.C=Y6[2]|0,this.D=Y6[3]|0,this.E=Y6[4]|0,this.F=Y6[5]|0,this.G=Y6[6]|0,this.H=Y6[7]|0}get(){let{A:e,B:n,C:r,D:i,E:a,F:o,G:s,H:c}=this;return[e,n,r,i,a,o,s,c]}set(e,n,r,i,a,o,s,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Qy[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){let d=Qy[f-15],p=Qy[f-2],h=y1(d,7)^y1(d,18)^d>>>3,m=y1(p,17)^y1(p,19)^p>>>10;Qy[f]=m+Qy[f-7]+h+Qy[f-16]|0}let{A:r,B:i,C:a,D:o,E:s,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=y1(s,6)^y1(s,11)^y1(s,25),p=u+d+J4e(s,c,l)+B8t[f]+Qy[f]|0,m=(y1(r,2)^y1(r,13)^y1(r,22))+Q4e(r,i,a)|0;u=l,l=c,c=s,s=o+p|0,o=a,a=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,a,o,s,c,l,u)}roundClean(){Yf(Qy)}destroy(){this.set(0,0,0,0,0,0,0,0),Yf(this.buffer)}},u9e=cU(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),D8t=u9e[0],L8t=u9e[1],Zy=new Uint32Array(80),Xy=new Uint32Array(80),cne=class extends mI{constructor(e=64){super(128,e,16,!1),this.Ah=l0[0]|0,this.Al=l0[1]|0,this.Bh=l0[2]|0,this.Bl=l0[3]|0,this.Ch=l0[4]|0,this.Cl=l0[5]|0,this.Dh=l0[6]|0,this.Dl=l0[7]|0,this.Eh=l0[8]|0,this.El=l0[9]|0,this.Fh=l0[10]|0,this.Fl=l0[11]|0,this.Gh=l0[12]|0,this.Gl=l0[13]|0,this.Hh=l0[14]|0,this.Hl=l0[15]|0}get(){let{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:o,Dh:s,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:w}=this;return[e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w]}set(e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=o|0,this.Dh=s|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let C=0;C<16;C++,n+=4)Zy[C]=e.getUint32(n),Xy[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){let P=Zy[C-15]|0,D=Xy[C-15]|0,F=h3(P,D,1)^h3(P,D,8)^ane(P,D,7),H=m3(P,D,1)^m3(P,D,8)^one(P,D,7),O=Zy[C-2]|0,M=Xy[C-2]|0,N=h3(O,M,19)^yI(O,M,61)^ane(O,M,6),v=m3(O,M,19)^bI(O,M,61)^one(O,M,6),I=o9e(H,v,Xy[C-7],Xy[C-16]),S=s9e(I,F,N,Zy[C-7],Zy[C-16]);Zy[C]=S|0,Xy[C]=I|0}let{Ah:r,Al:i,Bh:a,Bl:o,Ch:s,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:w,Hh:g,Hl:x}=this;for(let C=0;C<80;C++){let P=h3(f,d,14)^h3(f,d,18)^yI(f,d,41),D=m3(f,d,14)^m3(f,d,18)^bI(f,d,41),F=f&p^~f&m,H=d&h^~d&w,O=c9e(x,D,H,L8t[C],Xy[C]),M=l9e(O,g,P,F,D8t[C],Zy[C]),N=O|0,v=h3(r,i,28)^yI(r,i,34)^yI(r,i,39),I=m3(r,i,28)^bI(r,i,34)^bI(r,i,39),S=r&a^r&s^a&s,y=i&o^i&c^o&c;g=m|0,x=w|0,m=p|0,w=h|0,p=f|0,h=d|0,{h:f,l:d}=$p(l|0,u|0,M|0,N|0),l=s|0,u=c|0,s=a|0,c=o|0,a=r|0,o=i|0;let b=i9e(N,I,y);r=a9e(b,M,v,S),i=b|0}({h:r,l:i}=$p(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l:o}=$p(this.Bh|0,this.Bl|0,a|0,o|0),{h:s,l:c}=$p(this.Ch|0,this.Cl|0,s|0,c|0),{h:l,l:u}=$p(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=$p(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=$p(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:w}=$p(this.Gh|0,this.Gl|0,m|0,w|0),{h:g,l:x}=$p(this.Hh|0,this.Hl|0,g|0,x|0),this.set(r,i,a,o,s,c,l,u,f,d,p,h,m,w,g,x)}roundClean(){Yf(Zy,Xy)}destroy(){Yf(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Tl=hI(()=>new lU),f9e=hI(()=>new cne)});var uU,y3,fU=B(()=>{Is();uU=class extends Jy{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,K9(e);let r=p3(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),Yf(a)}update(e){return Kp(this),this.iHash.update(e),this}digestInto(e){Kp(this),Li(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:o,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},y3=(t,e,n)=>new uU(t,e).update(n).digest();y3.create=(t,e)=>new uU(t,e)});function U8t(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function p9e(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function dU(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function fne(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function une(t){if(!Array.isArray(t))throw new Error("array expected")}function pU(t,e){if(!p9e(!0,e))throw new Error(`${t}: array of strings expected`)}function F8t(t,e){if(!p9e(!1,e))throw new Error(`${t}: array of numbers expected`)}function H8t(...t){let e=a=>a,n=(a,o)=>s=>a(o(s)),r=t.map(a=>a.encode).reduceRight(n,e),i=t.map(a=>a.decode).reduce(n,e);return{encode:r,decode:i}}function z8t(t){let e=typeof t=="string"?t.split(""):t,n=e.length;pU("alphabet",e);let r=new Map(e.map((i,a)=>[i,a]));return{encode:i=>(une(i),i.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${t}`);return e[a]})),decode:i=>(une(i),i.map(a=>{dU("alphabet.decode",a);let o=r.get(a);if(o===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${t}`);return o}))}}function j8t(t=""){return dU("join",t),{encode:e=>(pU("join.decode",e),e.join(t)),decode:e=>(dU("join.decode",e),e.split(t))}}function G8t(t,e="="){return fne(t),dU("padding",e),{encode(n){for(pU("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){pU("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function d9e(t,e,n,r){if(une(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(hU(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${hU(e,n)}`);let i=0,a=0,o=lne[e],s=lne[n]-1,c=[];for(let l of t){if(fne(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,a+e>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${e}`);for(a+=e;a>=n;a-=n)c.push((i>>a-n&s)>>>0);let u=lne[a];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-a&s,!r&&a>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&a>0&&c.push(i>>>0),c}function V8t(t,e=!1){if(fne(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(hU(8,t)>32||hU(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!U8t(n))throw new Error("radix2.encode input should be Uint8Array");return d9e(Array.from(n),8,t,!e)},decode:n=>(F8t("radix2.decode",n),Uint8Array.from(d9e(n,t,8,e)))}}var h9e,hU,lne,m9e,y9e=B(()=>{h9e=(t,e)=>e===0?t:h9e(e,t%e),hU=(t,e)=>t+(e-h9e(t,e)),lne=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();m9e=H8t(V8t(5),z8t("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),G8t(5),j8t(""))});var eb=le((JEn,g9e)=>{g9e.exports=b9e;function b9e(t,e){if(!t)throw new Error(e||"Assertion failed")}b9e.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)}});var Qf=le((QEn,dne)=>{typeof Object.create=="function"?dne.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:dne.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}});var b1=le(Ui=>{"use strict";var K8t=eb(),$8t=Qf();Ui.inherits=$8t;function q8t(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function W8t(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=a&63|128):q8t(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=a&63|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=a&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}Ui.toArray=W8t;function Y8t(t){for(var e="",n=0;n<t.length;n++)e+=v9e(t[n].toString(16));return e}Ui.toHex=Y8t;function w9e(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ui.htonl=w9e;function J8t(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=w9e(i)),n+=E9e(i.toString(16))}return n}Ui.toHex32=J8t;function v9e(t){return t.length===1?"0"+t:t}Ui.zero2=v9e;function E9e(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ui.zero8=E9e;function Q8t(t,e,n,r){var i=n-e;K8t(i%4===0);for(var a=new Array(i/4),o=0,s=e;o<a.length;o++,s+=4){var c;r==="big"?c=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:c=t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],a[o]=c>>>0}return a}Ui.join32=Q8t;function Z8t(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var a=t[r];e==="big"?(n[i]=a>>>24,n[i+1]=a>>>16&255,n[i+2]=a>>>8&255,n[i+3]=a&255):(n[i+3]=a>>>24,n[i+2]=a>>>16&255,n[i+1]=a>>>8&255,n[i]=a&255)}return n}Ui.split32=Z8t;function X8t(t,e){return t>>>e|t<<32-e}Ui.rotr32=X8t;function e3t(t,e){return t<<e|t>>>32-e}Ui.rotl32=e3t;function t3t(t,e){return t+e>>>0}Ui.sum32=t3t;function n3t(t,e,n){return t+e+n>>>0}Ui.sum32_3=n3t;function r3t(t,e,n,r){return t+e+n+r>>>0}Ui.sum32_4=r3t;function i3t(t,e,n,r,i){return t+e+n+r+i>>>0}Ui.sum32_5=i3t;function a3t(t,e,n,r){var i=t[e],a=t[e+1],o=r+a>>>0,s=(o<r?1:0)+n+i;t[e]=s>>>0,t[e+1]=o}Ui.sum64=a3t;function o3t(t,e,n,r){var i=e+r>>>0,a=(i<e?1:0)+t+n;return a>>>0}Ui.sum64_hi=o3t;function s3t(t,e,n,r){var i=e+r;return i>>>0}Ui.sum64_lo=s3t;function c3t(t,e,n,r,i,a,o,s){var c=0,l=e;l=l+r>>>0,c+=l<e?1:0,l=l+a>>>0,c+=l<a?1:0,l=l+s>>>0,c+=l<s?1:0;var u=t+n+i+o+c;return u>>>0}Ui.sum64_4_hi=c3t;function l3t(t,e,n,r,i,a,o,s){var c=e+r+a+s;return c>>>0}Ui.sum64_4_lo=l3t;function u3t(t,e,n,r,i,a,o,s,c,l){var u=0,f=e;f=f+r>>>0,u+=f<e?1:0,f=f+a>>>0,u+=f<a?1:0,f=f+s>>>0,u+=f<s?1:0,f=f+l>>>0,u+=f<l?1:0;var d=t+n+i+o+c+u;return d>>>0}Ui.sum64_5_hi=u3t;function f3t(t,e,n,r,i,a,o,s,c,l){var u=e+r+a+s+l;return u>>>0}Ui.sum64_5_lo=f3t;function d3t(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Ui.rotr64_hi=d3t;function p3t(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Ui.rotr64_lo=p3t;function h3t(t,e,n){return t>>>n}Ui.shr64_hi=h3t;function m3t(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Ui.shr64_lo=m3t});var q9=le(A9e=>{"use strict";var x9e=b1(),y3t=eb();function mU(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}A9e.BlockHash=mU;mU.prototype.update=function(e,n){if(e=x9e.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=x9e.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};mU.prototype.digest=function(e){return this.update(this._pad()),y3t(this.pending===null),this._digest(e)};mU.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var a=1;a<r;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,o=8;o<this.padLength;o++)i[a++]=0;return i}});var pne=le(J6=>{"use strict";var b3t=b1(),qp=b3t.rotr32;function g3t(t,e,n,r){if(t===0)return _9e(e,n,r);if(t===1||t===3)return S9e(e,n,r);if(t===2)return T9e(e,n,r)}J6.ft_1=g3t;function _9e(t,e,n){return t&e^~t&n}J6.ch32=_9e;function T9e(t,e,n){return t&e^t&n^e&n}J6.maj32=T9e;function S9e(t,e,n){return t^e^n}J6.p32=S9e;function w3t(t){return qp(t,2)^qp(t,13)^qp(t,22)}J6.s0_256=w3t;function v3t(t){return qp(t,6)^qp(t,11)^qp(t,25)}J6.s1_256=v3t;function E3t(t){return qp(t,7)^qp(t,18)^t>>>3}J6.g0_256=E3t;function x3t(t){return qp(t,17)^qp(t,19)^t>>>10}J6.g1_256=x3t});var R9e=le((txn,I9e)=>{"use strict";var W9=b1(),A3t=q9(),_3t=pne(),hne=W9.rotl32,gI=W9.sum32,T3t=W9.sum32_5,S3t=_3t.ft_1,C9e=A3t.BlockHash,C3t=[1518500249,1859775393,2400959708,3395469782];function Wp(){if(!(this instanceof Wp))return new Wp;C9e.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}W9.inherits(Wp,C9e);I9e.exports=Wp;Wp.blockSize=512;Wp.outSize=160;Wp.hmacStrength=80;Wp.padLength=64;Wp.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=hne(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var a=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),f=T3t(hne(a,5),S3t(u,o,s,c),l,r[i],C3t[u]);l=c,c=s,s=hne(o,30),o=a,a=f}this.h[0]=gI(this.h[0],a),this.h[1]=gI(this.h[1],o),this.h[2]=gI(this.h[2],s),this.h[3]=gI(this.h[3],c),this.h[4]=gI(this.h[4],l)};Wp.prototype._digest=function(e){return e==="hex"?W9.toHex32(this.h,"big"):W9.split32(this.h,"big")}});var mne=le((nxn,N9e)=>{"use strict";var Y9=b1(),I3t=q9(),J9=pne(),R3t=eb(),g1=Y9.sum32,O3t=Y9.sum32_4,N3t=Y9.sum32_5,P3t=J9.ch32,k3t=J9.maj32,M3t=J9.s0_256,B3t=J9.s1_256,D3t=J9.g0_256,L3t=J9.g1_256,O9e=I3t.BlockHash,U3t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yp(){if(!(this instanceof Yp))return new Yp;O9e.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=U3t,this.W=new Array(64)}Y9.inherits(Yp,O9e);N9e.exports=Yp;Yp.blockSize=512;Yp.outSize=256;Yp.hmacStrength=192;Yp.padLength=64;Yp.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=O3t(L3t(r[i-2]),r[i-7],D3t(r[i-15]),r[i-16]);var a=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],f=this.h[6],d=this.h[7];for(R3t(this.k.length===r.length),i=0;i<r.length;i++){var p=N3t(d,B3t(l),P3t(l,u,f),this.k[i],r[i]),h=g1(M3t(a),k3t(a,o,s));d=f,f=u,u=l,l=g1(c,p),c=s,s=o,o=a,a=g1(p,h)}this.h[0]=g1(this.h[0],a),this.h[1]=g1(this.h[1],o),this.h[2]=g1(this.h[2],s),this.h[3]=g1(this.h[3],c),this.h[4]=g1(this.h[4],l),this.h[5]=g1(this.h[5],u),this.h[6]=g1(this.h[6],f),this.h[7]=g1(this.h[7],d)};Yp.prototype._digest=function(e){return e==="hex"?Y9.toHex32(this.h,"big"):Y9.split32(this.h,"big")}});var M9e=le((rxn,k9e)=>{"use strict";var yne=b1(),P9e=mne();function Q6(){if(!(this instanceof Q6))return new Q6;P9e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}yne.inherits(Q6,P9e);k9e.exports=Q6;Q6.blockSize=512;Q6.outSize=224;Q6.hmacStrength=192;Q6.padLength=64;Q6.prototype._digest=function(e){return e==="hex"?yne.toHex32(this.h.slice(0,7),"big"):yne.split32(this.h.slice(0,7),"big")}});var wne=le((ixn,U9e)=>{"use strict";var Sl=b1(),F3t=q9(),H3t=eb(),Jp=Sl.rotr64_hi,Qp=Sl.rotr64_lo,B9e=Sl.shr64_hi,D9e=Sl.shr64_lo,tb=Sl.sum64,bne=Sl.sum64_hi,gne=Sl.sum64_lo,z3t=Sl.sum64_4_hi,j3t=Sl.sum64_4_lo,G3t=Sl.sum64_5_hi,V3t=Sl.sum64_5_lo,L9e=F3t.BlockHash,K3t=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w1(){if(!(this instanceof w1))return new w1;L9e.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=K3t,this.W=new Array(160)}Sl.inherits(w1,L9e);U9e.exports=w1;w1.blockSize=1024;w1.outSize=512;w1.hmacStrength=192;w1.padLength=128;w1.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var a=nwt(r[i-4],r[i-3]),o=rwt(r[i-4],r[i-3]),s=r[i-14],c=r[i-13],l=ewt(r[i-30],r[i-29]),u=twt(r[i-30],r[i-29]),f=r[i-32],d=r[i-31];r[i]=z3t(a,o,s,c,l,u,f,d),r[i+1]=j3t(a,o,s,c,l,u,f,d)}};w1.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],f=this.h[7],d=this.h[8],p=this.h[9],h=this.h[10],m=this.h[11],w=this.h[12],g=this.h[13],x=this.h[14],C=this.h[15];H3t(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var D=x,F=C,H=Z3t(d,p),O=X3t(d,p),M=$3t(d,p,h,m,w,g),N=q3t(d,p,h,m,w,g),v=this.k[P],I=this.k[P+1],S=r[P],y=r[P+1],b=G3t(D,F,H,O,M,N,v,I,S,y),_=V3t(D,F,H,O,M,N,v,I,S,y);D=J3t(i,a),F=Q3t(i,a),H=W3t(i,a,o,s,c,l),O=Y3t(i,a,o,s,c,l);var A=bne(D,F,H,O),T=gne(D,F,H,O);x=w,C=g,w=h,g=m,h=d,m=p,d=bne(u,f,b,_),p=gne(f,f,b,_),u=c,f=l,c=o,l=s,o=i,s=a,i=bne(b,_,A,T),a=gne(b,_,A,T)}tb(this.h,0,i,a),tb(this.h,2,o,s),tb(this.h,4,c,l),tb(this.h,6,u,f),tb(this.h,8,d,p),tb(this.h,10,h,m),tb(this.h,12,w,g),tb(this.h,14,x,C)};w1.prototype._digest=function(e){return e==="hex"?Sl.toHex32(this.h,"big"):Sl.split32(this.h,"big")};function $3t(t,e,n,r,i){var a=t&n^~t&i;return a<0&&(a+=4294967296),a}function q3t(t,e,n,r,i,a){var o=e&r^~e&a;return o<0&&(o+=4294967296),o}function W3t(t,e,n,r,i){var a=t&n^t&i^n&i;return a<0&&(a+=4294967296),a}function Y3t(t,e,n,r,i,a){var o=e&r^e&a^r&a;return o<0&&(o+=4294967296),o}function J3t(t,e){var n=Jp(t,e,28),r=Jp(e,t,2),i=Jp(e,t,7),a=n^r^i;return a<0&&(a+=4294967296),a}function Q3t(t,e){var n=Qp(t,e,28),r=Qp(e,t,2),i=Qp(e,t,7),a=n^r^i;return a<0&&(a+=4294967296),a}function Z3t(t,e){var n=Jp(t,e,14),r=Jp(t,e,18),i=Jp(e,t,9),a=n^r^i;return a<0&&(a+=4294967296),a}function X3t(t,e){var n=Qp(t,e,14),r=Qp(t,e,18),i=Qp(e,t,9),a=n^r^i;return a<0&&(a+=4294967296),a}function ewt(t,e){var n=Jp(t,e,1),r=Jp(t,e,8),i=B9e(t,e,7),a=n^r^i;return a<0&&(a+=4294967296),a}function twt(t,e){var n=Qp(t,e,1),r=Qp(t,e,8),i=D9e(t,e,7),a=n^r^i;return a<0&&(a+=4294967296),a}function nwt(t,e){var n=Jp(t,e,19),r=Jp(e,t,29),i=B9e(t,e,6),a=n^r^i;return a<0&&(a+=4294967296),a}function rwt(t,e){var n=Qp(t,e,19),r=Qp(e,t,29),i=D9e(t,e,6),a=n^r^i;return a<0&&(a+=4294967296),a}});var z9e=le((axn,H9e)=>{"use strict";var vne=b1(),F9e=wne();function Z6(){if(!(this instanceof Z6))return new Z6;F9e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}vne.inherits(Z6,F9e);H9e.exports=Z6;Z6.blockSize=1024;Z6.outSize=384;Z6.hmacStrength=192;Z6.padLength=128;Z6.prototype._digest=function(e){return e==="hex"?vne.toHex32(this.h.slice(0,12),"big"):vne.split32(this.h.slice(0,12),"big")}});var j9e=le(Q9=>{"use strict";Q9.sha1=R9e();Q9.sha224=M9e();Q9.sha256=mne();Q9.sha384=z9e();Q9.sha512=wne()});var W9e=le(q9e=>{"use strict";var b3=b1(),iwt=q9(),yU=b3.rotl32,G9e=b3.sum32,wI=b3.sum32_3,V9e=b3.sum32_4,$9e=iwt.BlockHash;function Zp(){if(!(this instanceof Zp))return new Zp;$9e.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}b3.inherits(Zp,$9e);q9e.ripemd160=Zp;Zp.blockSize=512;Zp.outSize=160;Zp.hmacStrength=192;Zp.padLength=64;Zp.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],c=r,l=i,u=a,f=o,d=s,p=0;p<80;p++){var h=G9e(yU(V9e(r,K9e(p,i,a,o),e[swt[p]+n],awt(p)),lwt[p]),s);r=s,s=o,o=yU(a,10),a=i,i=h,h=G9e(yU(V9e(c,K9e(79-p,l,u,f),e[cwt[p]+n],owt(p)),uwt[p]),d),c=d,d=f,f=yU(u,10),u=l,l=h}h=wI(this.h[1],a,f),this.h[1]=wI(this.h[2],o,d),this.h[2]=wI(this.h[3],s,c),this.h[3]=wI(this.h[4],r,l),this.h[4]=wI(this.h[0],i,u),this.h[0]=h};Zp.prototype._digest=function(e){return e==="hex"?b3.toHex32(this.h,"little"):b3.split32(this.h,"little")};function K9e(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function awt(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function owt(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var swt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],cwt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],lwt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],uwt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var J9e=le((cxn,Y9e)=>{"use strict";var fwt=b1(),dwt=eb();function Z9(t,e,n){if(!(this instanceof Z9))return new Z9(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(fwt.toArray(e,n))}Y9e.exports=Z9;Z9.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),dwt(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Z9.prototype.update=function(e,n){return this.inner.update(e,n),this};Z9.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var bU=le(Q9e=>{var u0=Q9e;u0.utils=b1();u0.common=q9();u0.sha=j9e();u0.ripemd=W9e();u0.hmac=J9e();u0.sha1=u0.sha.sha1;u0.sha256=u0.sha.sha256;u0.sha224=u0.sha.sha224;u0.sha384=u0.sha.sha384;u0.sha512=u0.sha.sha512;u0.ripemd160=u0.ripemd.ripemd160});var Z9e=le((uxn,pwt)=>{pwt.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Xp=le((X9e,Ene)=>{(function(t,e){"use strict";function n(N,v){if(!N)throw new Error(v||"Assertion failed")}function r(N,v){N.super_=v;var I=function(){};I.prototype=v.prototype,N.prototype=new I,N.prototype.constructor=N}function i(N,v,I){if(i.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((v==="le"||v==="be")&&(I=v,v=10),this._init(N||0,v||10,I||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=nne().Buffer}catch{}i.isBN=function(v){return v instanceof i?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===i.wordSize&&Array.isArray(v.words)},i.max=function(v,I){return v.cmp(I)>0?v:I},i.min=function(v,I){return v.cmp(I)<0?v:I},i.prototype._init=function(v,I,S){if(typeof v=="number")return this._initNumber(v,I,S);if(typeof v=="object")return this._initArray(v,I,S);I==="hex"&&(I=16),n(I===(I|0)&&I>=2&&I<=36),v=v.toString().replace(/\s+/g,"");var y=0;v[0]==="-"&&(y++,this.negative=1),y<v.length&&(I===16?this._parseHex(v,y,S):(this._parseBase(v,I,y),S==="le"&&this._initArray(this.toArray(),I,S)))},i.prototype._initNumber=function(v,I,S){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(n(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),I,S)},i.prototype._initArray=function(v,I,S){if(n(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var b,_,A=0;if(S==="be")for(y=v.length-1,b=0;y>=0;y-=3)_=v[y]|v[y-1]<<8|v[y-2]<<16,this.words[b]|=_<<A&67108863,this.words[b+1]=_>>>26-A&67108863,A+=24,A>=26&&(A-=26,b++);else if(S==="le")for(y=0,b=0;y<v.length;y+=3)_=v[y]|v[y+1]<<8|v[y+2]<<16,this.words[b]|=_<<A&67108863,this.words[b+1]=_>>>26-A&67108863,A+=24,A>=26&&(A-=26,b++);return this.strip()};function o(N,v){var I=N.charCodeAt(v);return I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:I-48&15}function s(N,v,I){var S=o(N,I);return I-1>=v&&(S|=o(N,I-1)<<4),S}i.prototype._parseHex=function(v,I,S){this.length=Math.ceil((v.length-I)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var b=0,_=0,A;if(S==="be")for(y=v.length-1;y>=I;y-=2)A=s(v,I,y)<<b,this.words[_]|=A&67108863,b>=18?(b-=18,_+=1,this.words[_]|=A>>>26):b+=8;else{var T=v.length-I;for(y=T%2===0?I+1:I;y<v.length;y+=2)A=s(v,I,y)<<b,this.words[_]|=A&67108863,b>=18?(b-=18,_+=1,this.words[_]|=A>>>26):b+=8}this.strip()};function c(N,v,I,S){for(var y=0,b=Math.min(N.length,I),_=v;_<b;_++){var A=N.charCodeAt(_)-48;y*=S,A>=49?y+=A-49+10:A>=17?y+=A-17+10:y+=A}return y}i.prototype._parseBase=function(v,I,S){this.words=[0],this.length=1;for(var y=0,b=1;b<=67108863;b*=I)y++;y--,b=b/I|0;for(var _=v.length-S,A=_%y,T=Math.min(_,_-A)+S,E=0,k=S;k<T;k+=y)E=c(v,k,k+y,I),this.imuln(b),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(A!==0){var L=1;for(E=c(v,k,v.length,I),k=0;k<A;k++)L*=I;this.imuln(L),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this.strip()},i.prototype.copy=function(v){v.words=new Array(this.length);for(var I=0;I<this.length;I++)v.words[I]=this.words[I];v.length=this.length,v.negative=this.negative,v.red=this.red},i.prototype.clone=function(){var v=new i(null);return this.copy(v),v},i.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(v,I){v=v||10,I=I|0||1;var S;if(v===16||v==="hex"){S="";for(var y=0,b=0,_=0;_<this.length;_++){var A=this.words[_],T=((A<<y|b)&16777215).toString(16);b=A>>>24-y&16777215,y+=2,y>=26&&(y-=26,_--),b!==0||_!==this.length-1?S=l[6-T.length]+T+S:S=T+S}for(b!==0&&(S=b.toString(16)+S);S.length%I!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(v===(v|0)&&v>=2&&v<=36){var E=u[v],k=f[v];S="";var L=this.clone();for(L.negative=0;!L.isZero();){var R=L.modn(k).toString(v);L=L.idivn(k),L.isZero()?S=R+S:S=l[E-R.length]+R+S}for(this.isZero()&&(S="0"+S);S.length%I!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(v,I){return n(typeof a<"u"),this.toArrayLike(a,v,I)},i.prototype.toArray=function(v,I){return this.toArrayLike(Array,v,I)},i.prototype.toArrayLike=function(v,I,S){var y=this.byteLength(),b=S||Math.max(1,y);n(y<=b,"byte array longer than desired length"),n(b>0,"Requested array length <= 0"),this.strip();var _=I==="le",A=new v(b),T,E,k=this.clone();if(_){for(E=0;!k.isZero();E++)T=k.andln(255),k.iushrn(8),A[E]=T;for(;E<b;E++)A[E]=0}else{for(E=0;E<b-y;E++)A[E]=0;for(E=0;!k.isZero();E++)T=k.andln(255),k.iushrn(8),A[b-E-1]=T}return A},Math.clz32?i.prototype._countBits=function(v){return 32-Math.clz32(v)}:i.prototype._countBits=function(v){var I=v,S=0;return I>=4096&&(S+=13,I>>>=13),I>=64&&(S+=7,I>>>=7),I>=8&&(S+=4,I>>>=4),I>=2&&(S+=2,I>>>=2),S+I},i.prototype._zeroBits=function(v){if(v===0)return 26;var I=v,S=0;return(I&8191)===0&&(S+=13,I>>>=13),(I&127)===0&&(S+=7,I>>>=7),(I&15)===0&&(S+=4,I>>>=4),(I&3)===0&&(S+=2,I>>>=2),(I&1)===0&&S++,S},i.prototype.bitLength=function(){var v=this.words[this.length-1],I=this._countBits(v);return(this.length-1)*26+I};function d(N){for(var v=new Array(N.bitLength()),I=0;I<v.length;I++){var S=I/26|0,y=I%26;v[I]=(N.words[S]&1<<y)>>>y}return v}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,I=0;I<this.length;I++){var S=this._zeroBits(this.words[I]);if(v+=S,S!==26)break}return v},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},i.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var I=0;I<v.length;I++)this.words[I]=this.words[I]|v.words[I];return this.strip()},i.prototype.ior=function(v){return n((this.negative|v.negative)===0),this.iuor(v)},i.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},i.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},i.prototype.iuand=function(v){var I;this.length>v.length?I=v:I=this;for(var S=0;S<I.length;S++)this.words[S]=this.words[S]&v.words[S];return this.length=I.length,this.strip()},i.prototype.iand=function(v){return n((this.negative|v.negative)===0),this.iuand(v)},i.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},i.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},i.prototype.iuxor=function(v){var I,S;this.length>v.length?(I=this,S=v):(I=v,S=this);for(var y=0;y<S.length;y++)this.words[y]=I.words[y]^S.words[y];if(this!==I)for(;y<I.length;y++)this.words[y]=I.words[y];return this.length=I.length,this.strip()},i.prototype.ixor=function(v){return n((this.negative|v.negative)===0),this.iuxor(v)},i.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},i.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},i.prototype.inotn=function(v){n(typeof v=="number"&&v>=0);var I=Math.ceil(v/26)|0,S=v%26;this._expand(I),S>0&&I--;for(var y=0;y<I;y++)this.words[y]=~this.words[y]&67108863;return S>0&&(this.words[y]=~this.words[y]&67108863>>26-S),this.strip()},i.prototype.notn=function(v){return this.clone().inotn(v)},i.prototype.setn=function(v,I){n(typeof v=="number"&&v>=0);var S=v/26|0,y=v%26;return this._expand(S+1),I?this.words[S]=this.words[S]|1<<y:this.words[S]=this.words[S]&~(1<<y),this.strip()},i.prototype.iadd=function(v){var I;if(this.negative!==0&&v.negative===0)return this.negative=0,I=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,I=this.isub(v),v.negative=1,I._normSign();var S,y;this.length>v.length?(S=this,y=v):(S=v,y=this);for(var b=0,_=0;_<y.length;_++)I=(S.words[_]|0)+(y.words[_]|0)+b,this.words[_]=I&67108863,b=I>>>26;for(;b!==0&&_<S.length;_++)I=(S.words[_]|0)+b,this.words[_]=I&67108863,b=I>>>26;if(this.length=S.length,b!==0)this.words[this.length]=b,this.length++;else if(S!==this)for(;_<S.length;_++)this.words[_]=S.words[_];return this},i.prototype.add=function(v){var I;return v.negative!==0&&this.negative===0?(v.negative=0,I=this.sub(v),v.negative^=1,I):v.negative===0&&this.negative!==0?(this.negative=0,I=v.sub(this),this.negative=1,I):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},i.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var I=this.iadd(v);return v.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var S=this.cmp(v);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,b;S>0?(y=this,b=v):(y=v,b=this);for(var _=0,A=0;A<b.length;A++)I=(y.words[A]|0)-(b.words[A]|0)+_,_=I>>26,this.words[A]=I&67108863;for(;_!==0&&A<y.length;A++)I=(y.words[A]|0)+_,_=I>>26,this.words[A]=I&67108863;if(_===0&&A<y.length&&y!==this)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=Math.max(this.length,A),y!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(v){return this.clone().isub(v)};function p(N,v,I){I.negative=v.negative^N.negative;var S=N.length+v.length|0;I.length=S,S=S-1|0;var y=N.words[0]|0,b=v.words[0]|0,_=y*b,A=_&67108863,T=_/67108864|0;I.words[0]=A;for(var E=1;E<S;E++){for(var k=T>>>26,L=T&67108863,R=Math.min(E,v.length-1),U=Math.max(0,E-N.length+1);U<=R;U++){var j=E-U|0;y=N.words[j]|0,b=v.words[U]|0,_=y*b+L,k+=_/67108864|0,L=_&67108863}I.words[E]=L|0,T=k|0}return T!==0?I.words[E]=T|0:I.length--,I.strip()}var h=function(v,I,S){var y=v.words,b=I.words,_=S.words,A=0,T,E,k,L=y[0]|0,R=L&8191,U=L>>>13,j=y[1]|0,z=j&8191,V=j>>>13,$=y[2]|0,W=$&8191,J=$>>>13,X=y[3]|0,te=X&8191,ne=X>>>13,ue=y[4]|0,ce=ue&8191,oe=ue>>>13,xe=y[5]|0,ye=xe&8191,Se=xe>>>13,_t=y[6]|0,Xe=_t&8191,qe=_t>>>13,Lt=y[7]|0,nt=Lt&8191,it=Lt>>>13,br=y[8]|0,Be=br&8191,ot=br>>>13,kn=y[9]|0,Et=kn&8191,ht=kn>>>13,ti=b[0]|0,Ot=ti&8191,Zt=ti>>>13,ca=b[1]|0,tn=ca&8191,Vt=ca>>>13,o0=b[2]|0,Yt=o0&8191,nn=o0>>>13,Ou=b[3]|0,En=Ou&8191,Fe=Ou>>>13,$n=b[4]|0,vt=$n&8191,It=$n>>>13,lr=b[5]|0,mt=lr&8191,Jt=lr>>>13,s0=b[6]|0,Mt=s0&8191,pn=s0>>>13,Y=b[7]|0,Z=Y&8191,Q=Y>>>13,G=b[8]|0,ee=G&8191,se=G>>>13,pe=b[9]|0,he=pe&8191,Ae=pe>>>13;S.negative=v.negative^I.negative,S.length=19,T=Math.imul(R,Ot),E=Math.imul(R,Zt),E=E+Math.imul(U,Ot)|0,k=Math.imul(U,Zt);var Bt=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,T=Math.imul(z,Ot),E=Math.imul(z,Zt),E=E+Math.imul(V,Ot)|0,k=Math.imul(V,Zt),T=T+Math.imul(R,tn)|0,E=E+Math.imul(R,Vt)|0,E=E+Math.imul(U,tn)|0,k=k+Math.imul(U,Vt)|0;var We=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(W,Ot),E=Math.imul(W,Zt),E=E+Math.imul(J,Ot)|0,k=Math.imul(J,Zt),T=T+Math.imul(z,tn)|0,E=E+Math.imul(z,Vt)|0,E=E+Math.imul(V,tn)|0,k=k+Math.imul(V,Vt)|0,T=T+Math.imul(R,Yt)|0,E=E+Math.imul(R,nn)|0,E=E+Math.imul(U,Yt)|0,k=k+Math.imul(U,nn)|0;var Qt=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,T=Math.imul(te,Ot),E=Math.imul(te,Zt),E=E+Math.imul(ne,Ot)|0,k=Math.imul(ne,Zt),T=T+Math.imul(W,tn)|0,E=E+Math.imul(W,Vt)|0,E=E+Math.imul(J,tn)|0,k=k+Math.imul(J,Vt)|0,T=T+Math.imul(z,Yt)|0,E=E+Math.imul(z,nn)|0,E=E+Math.imul(V,Yt)|0,k=k+Math.imul(V,nn)|0,T=T+Math.imul(R,En)|0,E=E+Math.imul(R,Fe)|0,E=E+Math.imul(U,En)|0,k=k+Math.imul(U,Fe)|0;var wt=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(wt>>>26)|0,wt&=67108863,T=Math.imul(ce,Ot),E=Math.imul(ce,Zt),E=E+Math.imul(oe,Ot)|0,k=Math.imul(oe,Zt),T=T+Math.imul(te,tn)|0,E=E+Math.imul(te,Vt)|0,E=E+Math.imul(ne,tn)|0,k=k+Math.imul(ne,Vt)|0,T=T+Math.imul(W,Yt)|0,E=E+Math.imul(W,nn)|0,E=E+Math.imul(J,Yt)|0,k=k+Math.imul(J,nn)|0,T=T+Math.imul(z,En)|0,E=E+Math.imul(z,Fe)|0,E=E+Math.imul(V,En)|0,k=k+Math.imul(V,Fe)|0,T=T+Math.imul(R,vt)|0,E=E+Math.imul(R,It)|0,E=E+Math.imul(U,vt)|0,k=k+Math.imul(U,It)|0;var rn=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(rn>>>26)|0,rn&=67108863,T=Math.imul(ye,Ot),E=Math.imul(ye,Zt),E=E+Math.imul(Se,Ot)|0,k=Math.imul(Se,Zt),T=T+Math.imul(ce,tn)|0,E=E+Math.imul(ce,Vt)|0,E=E+Math.imul(oe,tn)|0,k=k+Math.imul(oe,Vt)|0,T=T+Math.imul(te,Yt)|0,E=E+Math.imul(te,nn)|0,E=E+Math.imul(ne,Yt)|0,k=k+Math.imul(ne,nn)|0,T=T+Math.imul(W,En)|0,E=E+Math.imul(W,Fe)|0,E=E+Math.imul(J,En)|0,k=k+Math.imul(J,Fe)|0,T=T+Math.imul(z,vt)|0,E=E+Math.imul(z,It)|0,E=E+Math.imul(V,vt)|0,k=k+Math.imul(V,It)|0,T=T+Math.imul(R,mt)|0,E=E+Math.imul(R,Jt)|0,E=E+Math.imul(U,mt)|0,k=k+Math.imul(U,Jt)|0;var ln=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(ln>>>26)|0,ln&=67108863,T=Math.imul(Xe,Ot),E=Math.imul(Xe,Zt),E=E+Math.imul(qe,Ot)|0,k=Math.imul(qe,Zt),T=T+Math.imul(ye,tn)|0,E=E+Math.imul(ye,Vt)|0,E=E+Math.imul(Se,tn)|0,k=k+Math.imul(Se,Vt)|0,T=T+Math.imul(ce,Yt)|0,E=E+Math.imul(ce,nn)|0,E=E+Math.imul(oe,Yt)|0,k=k+Math.imul(oe,nn)|0,T=T+Math.imul(te,En)|0,E=E+Math.imul(te,Fe)|0,E=E+Math.imul(ne,En)|0,k=k+Math.imul(ne,Fe)|0,T=T+Math.imul(W,vt)|0,E=E+Math.imul(W,It)|0,E=E+Math.imul(J,vt)|0,k=k+Math.imul(J,It)|0,T=T+Math.imul(z,mt)|0,E=E+Math.imul(z,Jt)|0,E=E+Math.imul(V,mt)|0,k=k+Math.imul(V,Jt)|0,T=T+Math.imul(R,Mt)|0,E=E+Math.imul(R,pn)|0,E=E+Math.imul(U,Mt)|0,k=k+Math.imul(U,pn)|0;var xn=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(xn>>>26)|0,xn&=67108863,T=Math.imul(nt,Ot),E=Math.imul(nt,Zt),E=E+Math.imul(it,Ot)|0,k=Math.imul(it,Zt),T=T+Math.imul(Xe,tn)|0,E=E+Math.imul(Xe,Vt)|0,E=E+Math.imul(qe,tn)|0,k=k+Math.imul(qe,Vt)|0,T=T+Math.imul(ye,Yt)|0,E=E+Math.imul(ye,nn)|0,E=E+Math.imul(Se,Yt)|0,k=k+Math.imul(Se,nn)|0,T=T+Math.imul(ce,En)|0,E=E+Math.imul(ce,Fe)|0,E=E+Math.imul(oe,En)|0,k=k+Math.imul(oe,Fe)|0,T=T+Math.imul(te,vt)|0,E=E+Math.imul(te,It)|0,E=E+Math.imul(ne,vt)|0,k=k+Math.imul(ne,It)|0,T=T+Math.imul(W,mt)|0,E=E+Math.imul(W,Jt)|0,E=E+Math.imul(J,mt)|0,k=k+Math.imul(J,Jt)|0,T=T+Math.imul(z,Mt)|0,E=E+Math.imul(z,pn)|0,E=E+Math.imul(V,Mt)|0,k=k+Math.imul(V,pn)|0,T=T+Math.imul(R,Z)|0,E=E+Math.imul(R,Q)|0,E=E+Math.imul(U,Z)|0,k=k+Math.imul(U,Q)|0;var bn=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(bn>>>26)|0,bn&=67108863,T=Math.imul(Be,Ot),E=Math.imul(Be,Zt),E=E+Math.imul(ot,Ot)|0,k=Math.imul(ot,Zt),T=T+Math.imul(nt,tn)|0,E=E+Math.imul(nt,Vt)|0,E=E+Math.imul(it,tn)|0,k=k+Math.imul(it,Vt)|0,T=T+Math.imul(Xe,Yt)|0,E=E+Math.imul(Xe,nn)|0,E=E+Math.imul(qe,Yt)|0,k=k+Math.imul(qe,nn)|0,T=T+Math.imul(ye,En)|0,E=E+Math.imul(ye,Fe)|0,E=E+Math.imul(Se,En)|0,k=k+Math.imul(Se,Fe)|0,T=T+Math.imul(ce,vt)|0,E=E+Math.imul(ce,It)|0,E=E+Math.imul(oe,vt)|0,k=k+Math.imul(oe,It)|0,T=T+Math.imul(te,mt)|0,E=E+Math.imul(te,Jt)|0,E=E+Math.imul(ne,mt)|0,k=k+Math.imul(ne,Jt)|0,T=T+Math.imul(W,Mt)|0,E=E+Math.imul(W,pn)|0,E=E+Math.imul(J,Mt)|0,k=k+Math.imul(J,pn)|0,T=T+Math.imul(z,Z)|0,E=E+Math.imul(z,Q)|0,E=E+Math.imul(V,Z)|0,k=k+Math.imul(V,Q)|0,T=T+Math.imul(R,ee)|0,E=E+Math.imul(R,se)|0,E=E+Math.imul(U,ee)|0,k=k+Math.imul(U,se)|0;var un=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(un>>>26)|0,un&=67108863,T=Math.imul(Et,Ot),E=Math.imul(Et,Zt),E=E+Math.imul(ht,Ot)|0,k=Math.imul(ht,Zt),T=T+Math.imul(Be,tn)|0,E=E+Math.imul(Be,Vt)|0,E=E+Math.imul(ot,tn)|0,k=k+Math.imul(ot,Vt)|0,T=T+Math.imul(nt,Yt)|0,E=E+Math.imul(nt,nn)|0,E=E+Math.imul(it,Yt)|0,k=k+Math.imul(it,nn)|0,T=T+Math.imul(Xe,En)|0,E=E+Math.imul(Xe,Fe)|0,E=E+Math.imul(qe,En)|0,k=k+Math.imul(qe,Fe)|0,T=T+Math.imul(ye,vt)|0,E=E+Math.imul(ye,It)|0,E=E+Math.imul(Se,vt)|0,k=k+Math.imul(Se,It)|0,T=T+Math.imul(ce,mt)|0,E=E+Math.imul(ce,Jt)|0,E=E+Math.imul(oe,mt)|0,k=k+Math.imul(oe,Jt)|0,T=T+Math.imul(te,Mt)|0,E=E+Math.imul(te,pn)|0,E=E+Math.imul(ne,Mt)|0,k=k+Math.imul(ne,pn)|0,T=T+Math.imul(W,Z)|0,E=E+Math.imul(W,Q)|0,E=E+Math.imul(J,Z)|0,k=k+Math.imul(J,Q)|0,T=T+Math.imul(z,ee)|0,E=E+Math.imul(z,se)|0,E=E+Math.imul(V,ee)|0,k=k+Math.imul(V,se)|0,T=T+Math.imul(R,he)|0,E=E+Math.imul(R,Ae)|0,E=E+Math.imul(U,he)|0,k=k+Math.imul(U,Ae)|0;var hn=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(hn>>>26)|0,hn&=67108863,T=Math.imul(Et,tn),E=Math.imul(Et,Vt),E=E+Math.imul(ht,tn)|0,k=Math.imul(ht,Vt),T=T+Math.imul(Be,Yt)|0,E=E+Math.imul(Be,nn)|0,E=E+Math.imul(ot,Yt)|0,k=k+Math.imul(ot,nn)|0,T=T+Math.imul(nt,En)|0,E=E+Math.imul(nt,Fe)|0,E=E+Math.imul(it,En)|0,k=k+Math.imul(it,Fe)|0,T=T+Math.imul(Xe,vt)|0,E=E+Math.imul(Xe,It)|0,E=E+Math.imul(qe,vt)|0,k=k+Math.imul(qe,It)|0,T=T+Math.imul(ye,mt)|0,E=E+Math.imul(ye,Jt)|0,E=E+Math.imul(Se,mt)|0,k=k+Math.imul(Se,Jt)|0,T=T+Math.imul(ce,Mt)|0,E=E+Math.imul(ce,pn)|0,E=E+Math.imul(oe,Mt)|0,k=k+Math.imul(oe,pn)|0,T=T+Math.imul(te,Z)|0,E=E+Math.imul(te,Q)|0,E=E+Math.imul(ne,Z)|0,k=k+Math.imul(ne,Q)|0,T=T+Math.imul(W,ee)|0,E=E+Math.imul(W,se)|0,E=E+Math.imul(J,ee)|0,k=k+Math.imul(J,se)|0,T=T+Math.imul(z,he)|0,E=E+Math.imul(z,Ae)|0,E=E+Math.imul(V,he)|0,k=k+Math.imul(V,Ae)|0;var fn=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(fn>>>26)|0,fn&=67108863,T=Math.imul(Et,Yt),E=Math.imul(Et,nn),E=E+Math.imul(ht,Yt)|0,k=Math.imul(ht,nn),T=T+Math.imul(Be,En)|0,E=E+Math.imul(Be,Fe)|0,E=E+Math.imul(ot,En)|0,k=k+Math.imul(ot,Fe)|0,T=T+Math.imul(nt,vt)|0,E=E+Math.imul(nt,It)|0,E=E+Math.imul(it,vt)|0,k=k+Math.imul(it,It)|0,T=T+Math.imul(Xe,mt)|0,E=E+Math.imul(Xe,Jt)|0,E=E+Math.imul(qe,mt)|0,k=k+Math.imul(qe,Jt)|0,T=T+Math.imul(ye,Mt)|0,E=E+Math.imul(ye,pn)|0,E=E+Math.imul(Se,Mt)|0,k=k+Math.imul(Se,pn)|0,T=T+Math.imul(ce,Z)|0,E=E+Math.imul(ce,Q)|0,E=E+Math.imul(oe,Z)|0,k=k+Math.imul(oe,Q)|0,T=T+Math.imul(te,ee)|0,E=E+Math.imul(te,se)|0,E=E+Math.imul(ne,ee)|0,k=k+Math.imul(ne,se)|0,T=T+Math.imul(W,he)|0,E=E+Math.imul(W,Ae)|0,E=E+Math.imul(J,he)|0,k=k+Math.imul(J,Ae)|0;var xt=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(xt>>>26)|0,xt&=67108863,T=Math.imul(Et,En),E=Math.imul(Et,Fe),E=E+Math.imul(ht,En)|0,k=Math.imul(ht,Fe),T=T+Math.imul(Be,vt)|0,E=E+Math.imul(Be,It)|0,E=E+Math.imul(ot,vt)|0,k=k+Math.imul(ot,It)|0,T=T+Math.imul(nt,mt)|0,E=E+Math.imul(nt,Jt)|0,E=E+Math.imul(it,mt)|0,k=k+Math.imul(it,Jt)|0,T=T+Math.imul(Xe,Mt)|0,E=E+Math.imul(Xe,pn)|0,E=E+Math.imul(qe,Mt)|0,k=k+Math.imul(qe,pn)|0,T=T+Math.imul(ye,Z)|0,E=E+Math.imul(ye,Q)|0,E=E+Math.imul(Se,Z)|0,k=k+Math.imul(Se,Q)|0,T=T+Math.imul(ce,ee)|0,E=E+Math.imul(ce,se)|0,E=E+Math.imul(oe,ee)|0,k=k+Math.imul(oe,se)|0,T=T+Math.imul(te,he)|0,E=E+Math.imul(te,Ae)|0,E=E+Math.imul(ne,he)|0,k=k+Math.imul(ne,Ae)|0;var Ht=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,T=Math.imul(Et,vt),E=Math.imul(Et,It),E=E+Math.imul(ht,vt)|0,k=Math.imul(ht,It),T=T+Math.imul(Be,mt)|0,E=E+Math.imul(Be,Jt)|0,E=E+Math.imul(ot,mt)|0,k=k+Math.imul(ot,Jt)|0,T=T+Math.imul(nt,Mt)|0,E=E+Math.imul(nt,pn)|0,E=E+Math.imul(it,Mt)|0,k=k+Math.imul(it,pn)|0,T=T+Math.imul(Xe,Z)|0,E=E+Math.imul(Xe,Q)|0,E=E+Math.imul(qe,Z)|0,k=k+Math.imul(qe,Q)|0,T=T+Math.imul(ye,ee)|0,E=E+Math.imul(ye,se)|0,E=E+Math.imul(Se,ee)|0,k=k+Math.imul(Se,se)|0,T=T+Math.imul(ce,he)|0,E=E+Math.imul(ce,Ae)|0,E=E+Math.imul(oe,he)|0,k=k+Math.imul(oe,Ae)|0;var yt=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(yt>>>26)|0,yt&=67108863,T=Math.imul(Et,mt),E=Math.imul(Et,Jt),E=E+Math.imul(ht,mt)|0,k=Math.imul(ht,Jt),T=T+Math.imul(Be,Mt)|0,E=E+Math.imul(Be,pn)|0,E=E+Math.imul(ot,Mt)|0,k=k+Math.imul(ot,pn)|0,T=T+Math.imul(nt,Z)|0,E=E+Math.imul(nt,Q)|0,E=E+Math.imul(it,Z)|0,k=k+Math.imul(it,Q)|0,T=T+Math.imul(Xe,ee)|0,E=E+Math.imul(Xe,se)|0,E=E+Math.imul(qe,ee)|0,k=k+Math.imul(qe,se)|0,T=T+Math.imul(ye,he)|0,E=E+Math.imul(ye,Ae)|0,E=E+Math.imul(Se,he)|0,k=k+Math.imul(Se,Ae)|0;var Tt=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,T=Math.imul(Et,Mt),E=Math.imul(Et,pn),E=E+Math.imul(ht,Mt)|0,k=Math.imul(ht,pn),T=T+Math.imul(Be,Z)|0,E=E+Math.imul(Be,Q)|0,E=E+Math.imul(ot,Z)|0,k=k+Math.imul(ot,Q)|0,T=T+Math.imul(nt,ee)|0,E=E+Math.imul(nt,se)|0,E=E+Math.imul(it,ee)|0,k=k+Math.imul(it,se)|0,T=T+Math.imul(Xe,he)|0,E=E+Math.imul(Xe,Ae)|0,E=E+Math.imul(qe,he)|0,k=k+Math.imul(qe,Ae)|0;var Rt=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,T=Math.imul(Et,Z),E=Math.imul(Et,Q),E=E+Math.imul(ht,Z)|0,k=Math.imul(ht,Q),T=T+Math.imul(Be,ee)|0,E=E+Math.imul(Be,se)|0,E=E+Math.imul(ot,ee)|0,k=k+Math.imul(ot,se)|0,T=T+Math.imul(nt,he)|0,E=E+Math.imul(nt,Ae)|0,E=E+Math.imul(it,he)|0,k=k+Math.imul(it,Ae)|0;var pt=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(pt>>>26)|0,pt&=67108863,T=Math.imul(Et,ee),E=Math.imul(Et,se),E=E+Math.imul(ht,ee)|0,k=Math.imul(ht,se),T=T+Math.imul(Be,he)|0,E=E+Math.imul(Be,Ae)|0,E=E+Math.imul(ot,he)|0,k=k+Math.imul(ot,Ae)|0;var ge=(A+T|0)+((E&8191)<<13)|0;A=(k+(E>>>13)|0)+(ge>>>26)|0,ge&=67108863,T=Math.imul(Et,he),E=Math.imul(Et,Ae),E=E+Math.imul(ht,he)|0,k=Math.imul(ht,Ae);var ve=(A+T|0)+((E&8191)<<13)|0;return A=(k+(E>>>13)|0)+(ve>>>26)|0,ve&=67108863,_[0]=Bt,_[1]=We,_[2]=Qt,_[3]=wt,_[4]=rn,_[5]=ln,_[6]=xn,_[7]=bn,_[8]=un,_[9]=hn,_[10]=fn,_[11]=xt,_[12]=Ht,_[13]=yt,_[14]=Tt,_[15]=Rt,_[16]=pt,_[17]=ge,_[18]=ve,A!==0&&(_[19]=A,S.length++),S};Math.imul||(h=p);function m(N,v,I){I.negative=v.negative^N.negative,I.length=N.length+v.length;for(var S=0,y=0,b=0;b<I.length-1;b++){var _=y;y=0;for(var A=S&67108863,T=Math.min(b,v.length-1),E=Math.max(0,b-N.length+1);E<=T;E++){var k=b-E,L=N.words[k]|0,R=v.words[E]|0,U=L*R,j=U&67108863;_=_+(U/67108864|0)|0,j=j+A|0,A=j&67108863,_=_+(j>>>26)|0,y+=_>>>26,_&=67108863}I.words[b]=A,S=_,_=y}return S!==0?I.words[b]=S:I.length--,I.strip()}function w(N,v,I){var S=new g;return S.mulp(N,v,I)}i.prototype.mulTo=function(v,I){var S,y=this.length+v.length;return this.length===10&&v.length===10?S=h(this,v,I):y<63?S=p(this,v,I):y<1024?S=m(this,v,I):S=w(this,v,I),S};function g(N,v){this.x=N,this.y=v}g.prototype.makeRBT=function(v){for(var I=new Array(v),S=i.prototype._countBits(v)-1,y=0;y<v;y++)I[y]=this.revBin(y,S,v);return I},g.prototype.revBin=function(v,I,S){if(v===0||v===S-1)return v;for(var y=0,b=0;b<I;b++)y|=(v&1)<<I-b-1,v>>=1;return y},g.prototype.permute=function(v,I,S,y,b,_){for(var A=0;A<_;A++)y[A]=I[v[A]],b[A]=S[v[A]]},g.prototype.transform=function(v,I,S,y,b,_){this.permute(_,v,I,S,y,b);for(var A=1;A<b;A<<=1)for(var T=A<<1,E=Math.cos(2*Math.PI/T),k=Math.sin(2*Math.PI/T),L=0;L<b;L+=T)for(var R=E,U=k,j=0;j<A;j++){var z=S[L+j],V=y[L+j],$=S[L+j+A],W=y[L+j+A],J=R*$-U*W;W=R*W+U*$,$=J,S[L+j]=z+$,y[L+j]=V+W,S[L+j+A]=z-$,y[L+j+A]=V-W,j!==T&&(J=E*R-k*U,U=E*U+k*R,R=J)}},g.prototype.guessLen13b=function(v,I){var S=Math.max(I,v)|1,y=S&1,b=0;for(S=S/2|0;S;S=S>>>1)b++;return 1<<b+1+y},g.prototype.conjugate=function(v,I,S){if(!(S<=1))for(var y=0;y<S/2;y++){var b=v[y];v[y]=v[S-y-1],v[S-y-1]=b,b=I[y],I[y]=-I[S-y-1],I[S-y-1]=-b}},g.prototype.normalize13b=function(v,I){for(var S=0,y=0;y<I/2;y++){var b=Math.round(v[2*y+1]/I)*8192+Math.round(v[2*y]/I)+S;v[y]=b&67108863,b<67108864?S=0:S=b/67108864|0}return v},g.prototype.convert13b=function(v,I,S,y){for(var b=0,_=0;_<I;_++)b=b+(v[_]|0),S[2*_]=b&8191,b=b>>>13,S[2*_+1]=b&8191,b=b>>>13;for(_=2*I;_<y;++_)S[_]=0;n(b===0),n((b&-8192)===0)},g.prototype.stub=function(v){for(var I=new Array(v),S=0;S<v;S++)I[S]=0;return I},g.prototype.mulp=function(v,I,S){var y=2*this.guessLen13b(v.length,I.length),b=this.makeRBT(y),_=this.stub(y),A=new Array(y),T=new Array(y),E=new Array(y),k=new Array(y),L=new Array(y),R=new Array(y),U=S.words;U.length=y,this.convert13b(v.words,v.length,A,y),this.convert13b(I.words,I.length,k,y),this.transform(A,_,T,E,y,b),this.transform(k,_,L,R,y,b);for(var j=0;j<y;j++){var z=T[j]*L[j]-E[j]*R[j];E[j]=T[j]*R[j]+E[j]*L[j],T[j]=z}return this.conjugate(T,E,y),this.transform(T,E,U,_,y,b),this.conjugate(U,_,y),this.normalize13b(U,y),S.negative=v.negative^I.negative,S.length=v.length+I.length,S.strip()},i.prototype.mul=function(v){var I=new i(null);return I.words=new Array(this.length+v.length),this.mulTo(v,I)},i.prototype.mulf=function(v){var I=new i(null);return I.words=new Array(this.length+v.length),w(this,v,I)},i.prototype.imul=function(v){return this.clone().mulTo(v,this)},i.prototype.imuln=function(v){n(typeof v=="number"),n(v<67108864);for(var I=0,S=0;S<this.length;S++){var y=(this.words[S]|0)*v,b=(y&67108863)+(I&67108863);I>>=26,I+=y/67108864|0,I+=b>>>26,this.words[S]=b&67108863}return I!==0&&(this.words[S]=I,this.length++),this.length=v===0?1:this.length,this},i.prototype.muln=function(v){return this.clone().imuln(v)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(v){var I=d(v);if(I.length===0)return new i(1);for(var S=this,y=0;y<I.length&&I[y]===0;y++,S=S.sqr());if(++y<I.length)for(var b=S.sqr();y<I.length;y++,b=b.sqr())I[y]!==0&&(S=S.mul(b));return S},i.prototype.iushln=function(v){n(typeof v=="number"&&v>=0);var I=v%26,S=(v-I)/26,y=67108863>>>26-I<<26-I,b;if(I!==0){var _=0;for(b=0;b<this.length;b++){var A=this.words[b]&y,T=(this.words[b]|0)-A<<I;this.words[b]=T|_,_=A>>>26-I}_&&(this.words[b]=_,this.length++)}if(S!==0){for(b=this.length-1;b>=0;b--)this.words[b+S]=this.words[b];for(b=0;b<S;b++)this.words[b]=0;this.length+=S}return this.strip()},i.prototype.ishln=function(v){return n(this.negative===0),this.iushln(v)},i.prototype.iushrn=function(v,I,S){n(typeof v=="number"&&v>=0);var y;I?y=(I-I%26)/26:y=0;var b=v%26,_=Math.min((v-b)/26,this.length),A=67108863^67108863>>>b<<b,T=S;if(y-=_,y=Math.max(0,y),T){for(var E=0;E<_;E++)T.words[E]=this.words[E];T.length=_}if(_!==0)if(this.length>_)for(this.length-=_,E=0;E<this.length;E++)this.words[E]=this.words[E+_];else this.words[0]=0,this.length=1;var k=0;for(E=this.length-1;E>=0&&(k!==0||E>=y);E--){var L=this.words[E]|0;this.words[E]=k<<26-b|L>>>b,k=L&A}return T&&k!==0&&(T.words[T.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(v,I,S){return n(this.negative===0),this.iushrn(v,I,S)},i.prototype.shln=function(v){return this.clone().ishln(v)},i.prototype.ushln=function(v){return this.clone().iushln(v)},i.prototype.shrn=function(v){return this.clone().ishrn(v)},i.prototype.ushrn=function(v){return this.clone().iushrn(v)},i.prototype.testn=function(v){n(typeof v=="number"&&v>=0);var I=v%26,S=(v-I)/26,y=1<<I;if(this.length<=S)return!1;var b=this.words[S];return!!(b&y)},i.prototype.imaskn=function(v){n(typeof v=="number"&&v>=0);var I=v%26,S=(v-I)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(I!==0&&S++,this.length=Math.min(S,this.length),I!==0){var y=67108863^67108863>>>I<<I;this.words[this.length-1]&=y}return this.strip()},i.prototype.maskn=function(v){return this.clone().imaskn(v)},i.prototype.iaddn=function(v){return n(typeof v=="number"),n(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},i.prototype._iaddn=function(v){this.words[0]+=v;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},i.prototype.isubn=function(v){if(n(typeof v=="number"),n(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},i.prototype.addn=function(v){return this.clone().iaddn(v)},i.prototype.subn=function(v){return this.clone().isubn(v)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(v,I,S){var y=v.length+S,b;this._expand(y);var _,A=0;for(b=0;b<v.length;b++){_=(this.words[b+S]|0)+A;var T=(v.words[b]|0)*I;_-=T&67108863,A=(_>>26)-(T/67108864|0),this.words[b+S]=_&67108863}for(;b<this.length-S;b++)_=(this.words[b+S]|0)+A,A=_>>26,this.words[b+S]=_&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,b=0;b<this.length;b++)_=-(this.words[b]|0)+A,A=_>>26,this.words[b]=_&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(v,I){var S=this.length-v.length,y=this.clone(),b=v,_=b.words[b.length-1]|0,A=this._countBits(_);S=26-A,S!==0&&(b=b.ushln(S),y.iushln(S),_=b.words[b.length-1]|0);var T=y.length-b.length,E;if(I!=="mod"){E=new i(null),E.length=T+1,E.words=new Array(E.length);for(var k=0;k<E.length;k++)E.words[k]=0}var L=y.clone()._ishlnsubmul(b,1,T);L.negative===0&&(y=L,E&&(E.words[T]=1));for(var R=T-1;R>=0;R--){var U=(y.words[b.length+R]|0)*67108864+(y.words[b.length+R-1]|0);for(U=Math.min(U/_|0,67108863),y._ishlnsubmul(b,U,R);y.negative!==0;)U--,y.negative=0,y._ishlnsubmul(b,1,R),y.isZero()||(y.negative^=1);E&&(E.words[R]=U)}return E&&E.strip(),y.strip(),I!=="div"&&S!==0&&y.iushrn(S),{div:E||null,mod:y}},i.prototype.divmod=function(v,I,S){if(n(!v.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,b,_;return this.negative!==0&&v.negative===0?(_=this.neg().divmod(v,I),I!=="mod"&&(y=_.div.neg()),I!=="div"&&(b=_.mod.neg(),S&&b.negative!==0&&b.iadd(v)),{div:y,mod:b}):this.negative===0&&v.negative!==0?(_=this.divmod(v.neg(),I),I!=="mod"&&(y=_.div.neg()),{div:y,mod:_.mod}):(this.negative&v.negative)!==0?(_=this.neg().divmod(v.neg(),I),I!=="div"&&(b=_.mod.neg(),S&&b.negative!==0&&b.isub(v)),{div:_.div,mod:b}):v.length>this.length||this.cmp(v)<0?{div:new i(0),mod:this}:v.length===1?I==="div"?{div:this.divn(v.words[0]),mod:null}:I==="mod"?{div:null,mod:new i(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new i(this.modn(v.words[0]))}:this._wordDiv(v,I)},i.prototype.div=function(v){return this.divmod(v,"div",!1).div},i.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},i.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},i.prototype.divRound=function(v){var I=this.divmod(v);if(I.mod.isZero())return I.div;var S=I.div.negative!==0?I.mod.isub(v):I.mod,y=v.ushrn(1),b=v.andln(1),_=S.cmp(y);return _<0||b===1&&_===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},i.prototype.modn=function(v){n(v<=67108863);for(var I=(1<<26)%v,S=0,y=this.length-1;y>=0;y--)S=(I*S+(this.words[y]|0))%v;return S},i.prototype.idivn=function(v){n(v<=67108863);for(var I=0,S=this.length-1;S>=0;S--){var y=(this.words[S]|0)+I*67108864;this.words[S]=y/v|0,I=y%v}return this.strip()},i.prototype.divn=function(v){return this.clone().idivn(v)},i.prototype.egcd=function(v){n(v.negative===0),n(!v.isZero());var I=this,S=v.clone();I.negative!==0?I=I.umod(v):I=I.clone();for(var y=new i(1),b=new i(0),_=new i(0),A=new i(1),T=0;I.isEven()&&S.isEven();)I.iushrn(1),S.iushrn(1),++T;for(var E=S.clone(),k=I.clone();!I.isZero();){for(var L=0,R=1;(I.words[0]&R)===0&&L<26;++L,R<<=1);if(L>0)for(I.iushrn(L);L-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(E),b.isub(k)),y.iushrn(1),b.iushrn(1);for(var U=0,j=1;(S.words[0]&j)===0&&U<26;++U,j<<=1);if(U>0)for(S.iushrn(U);U-- >0;)(_.isOdd()||A.isOdd())&&(_.iadd(E),A.isub(k)),_.iushrn(1),A.iushrn(1);I.cmp(S)>=0?(I.isub(S),y.isub(_),b.isub(A)):(S.isub(I),_.isub(y),A.isub(b))}return{a:_,b:A,gcd:S.iushln(T)}},i.prototype._invmp=function(v){n(v.negative===0),n(!v.isZero());var I=this,S=v.clone();I.negative!==0?I=I.umod(v):I=I.clone();for(var y=new i(1),b=new i(0),_=S.clone();I.cmpn(1)>0&&S.cmpn(1)>0;){for(var A=0,T=1;(I.words[0]&T)===0&&A<26;++A,T<<=1);if(A>0)for(I.iushrn(A);A-- >0;)y.isOdd()&&y.iadd(_),y.iushrn(1);for(var E=0,k=1;(S.words[0]&k)===0&&E<26;++E,k<<=1);if(E>0)for(S.iushrn(E);E-- >0;)b.isOdd()&&b.iadd(_),b.iushrn(1);I.cmp(S)>=0?(I.isub(S),y.isub(b)):(S.isub(I),b.isub(y))}var L;return I.cmpn(1)===0?L=y:L=b,L.cmpn(0)<0&&L.iadd(v),L},i.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var I=this.clone(),S=v.clone();I.negative=0,S.negative=0;for(var y=0;I.isEven()&&S.isEven();y++)I.iushrn(1),S.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;S.isEven();)S.iushrn(1);var b=I.cmp(S);if(b<0){var _=I;I=S,S=_}else if(b===0||S.cmpn(1)===0)break;I.isub(S)}while(!0);return S.iushln(y)},i.prototype.invm=function(v){return this.egcd(v).a.umod(v)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(v){return this.words[0]&v},i.prototype.bincn=function(v){n(typeof v=="number");var I=v%26,S=(v-I)/26,y=1<<I;if(this.length<=S)return this._expand(S+1),this.words[S]|=y,this;for(var b=y,_=S;b!==0&&_<this.length;_++){var A=this.words[_]|0;A+=b,b=A>>>26,A&=67108863,this.words[_]=A}return b!==0&&(this.words[_]=b,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(v){var I=v<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this.strip();var S;if(this.length>1)S=1;else{I&&(v=-v),n(v<=67108863,"Number is too big");var y=this.words[0]|0;S=y===v?0:y<v?-1:1}return this.negative!==0?-S|0:S},i.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var I=this.ucmp(v);return this.negative!==0?-I|0:I},i.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var I=0,S=this.length-1;S>=0;S--){var y=this.words[S]|0,b=v.words[S]|0;if(y!==b){y<b?I=-1:y>b&&(I=1);break}}return I},i.prototype.gtn=function(v){return this.cmpn(v)===1},i.prototype.gt=function(v){return this.cmp(v)===1},i.prototype.gten=function(v){return this.cmpn(v)>=0},i.prototype.gte=function(v){return this.cmp(v)>=0},i.prototype.ltn=function(v){return this.cmpn(v)===-1},i.prototype.lt=function(v){return this.cmp(v)===-1},i.prototype.lten=function(v){return this.cmpn(v)<=0},i.prototype.lte=function(v){return this.cmp(v)<=0},i.prototype.eqn=function(v){return this.cmpn(v)===0},i.prototype.eq=function(v){return this.cmp(v)===0},i.red=function(v){return new O(v)},i.prototype.toRed=function(v){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(v){return this.red=v,this},i.prototype.forceRed=function(v){return n(!this.red,"Already a number in reduction context"),this._forceRed(v)},i.prototype.redAdd=function(v){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},i.prototype.redIAdd=function(v){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},i.prototype.redSub=function(v){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},i.prototype.redISub=function(v){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},i.prototype.redShl=function(v){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},i.prototype.redMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},i.prototype.redIMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(v){return n(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var x={k256:null,p224:null,p192:null,p25519:null};function C(N,v){this.name=N,this.p=new i(v,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var v=new i(null);return v.words=new Array(Math.ceil(this.n/13)),v},C.prototype.ireduce=function(v){var I=v,S;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),S=I.bitLength();while(S>this.n);var y=S<this.n?-1:I.ucmp(this.p);return y===0?(I.words[0]=0,I.length=1):y>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},C.prototype.split=function(v,I){v.iushrn(this.n,0,I)},C.prototype.imulK=function(v){return v.imul(this.k)};function P(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(P,C),P.prototype.split=function(v,I){for(var S=4194303,y=Math.min(v.length,9),b=0;b<y;b++)I.words[b]=v.words[b];if(I.length=y,v.length<=9){v.words[0]=0,v.length=1;return}var _=v.words[9];for(I.words[I.length++]=_&S,b=10;b<v.length;b++){var A=v.words[b]|0;v.words[b-10]=(A&S)<<4|_>>>22,_=A}_>>>=22,v.words[b-10]=_,_===0&&v.length>10?v.length-=10:v.length-=9},P.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var I=0,S=0;S<v.length;S++){var y=v.words[S]|0;I+=y*977,v.words[S]=I&67108863,I=y*64+(I/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function D(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(D,C);function F(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(F,C);function H(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(H,C),H.prototype.imulK=function(v){for(var I=0,S=0;S<v.length;S++){var y=(v.words[S]|0)*19+I,b=y&67108863;y>>>=26,v.words[S]=b,I=y}return I!==0&&(v.words[v.length++]=I),v},i._prime=function(v){if(x[v])return x[v];var I;if(v==="k256")I=new P;else if(v==="p224")I=new D;else if(v==="p192")I=new F;else if(v==="p25519")I=new H;else throw new Error("Unknown prime "+v);return x[v]=I,I};function O(N){if(typeof N=="string"){var v=i._prime(N);this.m=v.p,this.prime=v}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}O.prototype._verify1=function(v){n(v.negative===0,"red works only with positives"),n(v.red,"red works only with red numbers")},O.prototype._verify2=function(v,I){n((v.negative|I.negative)===0,"red works only with positives"),n(v.red&&v.red===I.red,"red works only with red numbers")},O.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},O.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},O.prototype.add=function(v,I){this._verify2(v,I);var S=v.add(I);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},O.prototype.iadd=function(v,I){this._verify2(v,I);var S=v.iadd(I);return S.cmp(this.m)>=0&&S.isub(this.m),S},O.prototype.sub=function(v,I){this._verify2(v,I);var S=v.sub(I);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},O.prototype.isub=function(v,I){this._verify2(v,I);var S=v.isub(I);return S.cmpn(0)<0&&S.iadd(this.m),S},O.prototype.shl=function(v,I){return this._verify1(v),this.imod(v.ushln(I))},O.prototype.imul=function(v,I){return this._verify2(v,I),this.imod(v.imul(I))},O.prototype.mul=function(v,I){return this._verify2(v,I),this.imod(v.mul(I))},O.prototype.isqr=function(v){return this.imul(v,v.clone())},O.prototype.sqr=function(v){return this.mul(v,v)},O.prototype.sqrt=function(v){if(v.isZero())return v.clone();var I=this.m.andln(3);if(n(I%2===1),I===3){var S=this.m.add(new i(1)).iushrn(2);return this.pow(v,S)}for(var y=this.m.subn(1),b=0;!y.isZero()&&y.andln(1)===0;)b++,y.iushrn(1);n(!y.isZero());var _=new i(1).toRed(this),A=_.redNeg(),T=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new i(2*E*E).toRed(this);this.pow(E,T).cmp(A)!==0;)E.redIAdd(A);for(var k=this.pow(E,y),L=this.pow(v,y.addn(1).iushrn(1)),R=this.pow(v,y),U=b;R.cmp(_)!==0;){for(var j=R,z=0;j.cmp(_)!==0;z++)j=j.redSqr();n(z<U);var V=this.pow(k,new i(1).iushln(U-z-1));L=L.redMul(V),k=V.redSqr(),R=R.redMul(k),U=z}return L},O.prototype.invm=function(v){var I=v._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},O.prototype.pow=function(v,I){if(I.isZero())return new i(1).toRed(this);if(I.cmpn(1)===0)return v.clone();var S=4,y=new Array(1<<S);y[0]=new i(1).toRed(this),y[1]=v;for(var b=2;b<y.length;b++)y[b]=this.mul(y[b-1],v);var _=y[0],A=0,T=0,E=I.bitLength()%26;for(E===0&&(E=26),b=I.length-1;b>=0;b--){for(var k=I.words[b],L=E-1;L>=0;L--){var R=k>>L&1;if(_!==y[0]&&(_=this.sqr(_)),R===0&&A===0){T=0;continue}A<<=1,A|=R,T++,!(T!==S&&(b!==0||L!==0))&&(_=this.mul(_,y[A]),T=0,A=0)}E=26}return _},O.prototype.convertTo=function(v){var I=v.umod(this.m);return I===v?I.clone():I},O.prototype.convertFrom=function(v){var I=v.clone();return I.red=null,I},i.mont=function(v){return new M(v)};function M(N){O.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(M,O),M.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},M.prototype.convertFrom=function(v){var I=this.imod(v.mul(this.rinv));return I.red=null,I},M.prototype.imul=function(v,I){if(v.isZero()||I.isZero())return v.words[0]=0,v.length=1,v;var S=v.imul(I),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=S.isub(y).iushrn(this.shift),_=b;return b.cmp(this.m)>=0?_=b.isub(this.m):b.cmpn(0)<0&&(_=b.iadd(this.m)),_._forceRed(this)},M.prototype.mul=function(v,I){if(v.isZero()||I.isZero())return new i(0)._forceRed(this);var S=v.mul(I),y=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=S.isub(y).iushrn(this.shift),_=b;return b.cmp(this.m)>=0?_=b.isub(this.m):b.cmpn(0)<0&&(_=b.iadd(this.m)),_._forceRed(this)},M.prototype.invm=function(v){var I=this.imod(v._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(typeof Ene>"u"||Ene,X9e)});var xne=le(nEe=>{"use strict";var gU=nEe;function hwt(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t!="string"){for(var r=0;r<t.length;r++)n[r]=t[r]|0;return n}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(var r=0;r<t.length;r++){var i=t.charCodeAt(r),a=i>>8,o=i&255;a?n.push(a,o):n.push(o)}return n}gU.toArray=hwt;function eEe(t){return t.length===1?"0"+t:t}gU.zero2=eEe;function tEe(t){for(var e="",n=0;n<t.length;n++)e+=eEe(t[n].toString(16));return e}gU.toHex=tEe;gU.encode=function(e,n){return n==="hex"?tEe(e):e}});var Nu=le(rEe=>{"use strict";var v1=rEe,mwt=Xp(),ywt=eb(),wU=xne();v1.assert=ywt;v1.toArray=wU.toArray;v1.zero2=wU.zero2;v1.toHex=wU.toHex;v1.encode=wU.encode;function bwt(t,e,n){var r=new Array(Math.max(t.bitLength(),n)+1),i;for(i=0;i<r.length;i+=1)r[i]=0;var a=1<<e+1,o=t.clone();for(i=0;i<r.length;i++){var s,c=o.andln(a-1);o.isOdd()?(c>(a>>1)-1?s=(a>>1)-c:s=c,o.isubn(s)):s=0,r[i]=s,o.iushrn(1)}return r}v1.getNAF=bwt;function gwt(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r=0,i=0,a;t.cmpn(-r)>0||e.cmpn(-i)>0;){var o=t.andln(3)+r&3,s=e.andln(3)+i&3;o===3&&(o=-1),s===3&&(s=-1);var c;(o&1)===0?c=0:(a=t.andln(7)+r&7,(a===3||a===5)&&s===2?c=-o:c=o),n[0].push(c);var l;(s&1)===0?l=0:(a=e.andln(7)+i&7,(a===3||a===5)&&o===2?l=-s:l=s),n[1].push(l),2*r===c+1&&(r=1-r),2*i===l+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return n}v1.getJSF=gwt;function wwt(t,e,n){var r="_"+e;t.prototype[e]=function(){return this[r]!==void 0?this[r]:this[r]=n.call(this)}}v1.cachedProperty=wwt;function vwt(t){return typeof t=="string"?v1.toArray(t,"hex"):t}v1.parseBytes=vwt;function Ewt(t){return new mwt(t,"hex","le")}v1.intFromLE=Ewt});var Ane=le(()=>{});var Cne=le((mxn,Sne)=>{var _ne;Sne.exports=function(e){return _ne||(_ne=new nb(null)),_ne.generate(e)};function nb(t){this.rand=t}Sne.exports.Rand=nb;nb.prototype.generate=function(e){return this._rand(e)};nb.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var n=new Uint8Array(e),r=0;r<n.length;r++)n[r]=this.rand.getByte();return n};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?nb.prototype._rand=function(e){var n=new Uint8Array(e);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?nb.prototype._rand=function(e){var n=new Uint8Array(e);return self.msCrypto.getRandomValues(n),n}:typeof window=="object"&&(nb.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Tne=Ane(),typeof Tne.randomBytes!="function")throw new Error("Not supported");nb.prototype._rand=function(e){return Tne.randomBytes(e)}}catch{}var Tne});var EI=le((yxn,iEe)=>{"use strict";var g3=Xp(),vI=Nu(),vU=vI.getNAF,xwt=vI.getJSF,EU=vI.assert;function rb(t,e){this.type=t,this.p=new g3(e.p,16),this.red=e.prime?g3.red(e.prime):g3.mont(this.p),this.zero=new g3(0).toRed(this.red),this.one=new g3(1).toRed(this.red),this.two=new g3(2).toRed(this.red),this.n=e.n&&new g3(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}iEe.exports=rb;rb.prototype.point=function(){throw new Error("Not implemented")};rb.prototype.validate=function(){throw new Error("Not implemented")};rb.prototype._fixedNafMul=function(e,n){EU(e.precomputed);var r=e._getDoubles(),i=vU(n,1,this._bitLength),a=(1<<r.step+1)-(r.step%2===0?2:1);a/=3;var o=[],s,c;for(s=0;s<i.length;s+=r.step){c=0;for(var l=s+r.step-1;l>=s;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=a;d>0;d--){for(s=0;s<o.length;s++)c=o[s],c===d?f=f.mixedAdd(r.points[s]):c===-d&&(f=f.mixedAdd(r.points[s].neg()));u=u.add(f)}return u.toP()};rb.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var a=i.points,o=vU(n,r,this._bitLength),s=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,s=s.dblp(l),c<0)break;var u=o[c];EU(u!==0),e.type==="affine"?u>0?s=s.mixedAdd(a[u-1>>1]):s=s.mixedAdd(a[-u-1>>1].neg()):u>0?s=s.add(a[u-1>>1]):s=s.add(a[-u-1>>1].neg())}return e.type==="affine"?s.toP():s};rb.prototype._wnafMulAdd=function(e,n,r,i,a){var o=this._wnafT1,s=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=n[u];var p=d._getNAFPoints(e);o[u]=p.wnd,s[u]=p.points}for(u=i-1;u>=1;u-=2){var h=u-1,m=u;if(o[h]!==1||o[m]!==1){c[h]=vU(r[h],o[h],this._bitLength),c[m]=vU(r[m],o[m],this._bitLength),l=Math.max(c[h].length,l),l=Math.max(c[m].length,l);continue}var w=[n[h],null,null,n[m]];n[h].y.cmp(n[m].y)===0?(w[1]=n[h].add(n[m]),w[2]=n[h].toJ().mixedAdd(n[m].neg())):n[h].y.cmp(n[m].y.redNeg())===0?(w[1]=n[h].toJ().mixedAdd(n[m]),w[2]=n[h].add(n[m].neg())):(w[1]=n[h].toJ().mixedAdd(n[m]),w[2]=n[h].toJ().mixedAdd(n[m].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],x=xwt(r[h],r[m]);for(l=Math.max(x[0].length,l),c[h]=new Array(l),c[m]=new Array(l),f=0;f<l;f++){var C=x[0][f]|0,P=x[1][f]|0;c[h][f]=g[(C+1)*3+(P+1)],c[m][f]=0,s[h]=w}}var D=this.jpoint(null,null,null),F=this._wnafT4;for(u=l;u>=0;u--){for(var H=0;u>=0;){var O=!0;for(f=0;f<i;f++)F[f]=c[f][u]|0,F[f]!==0&&(O=!1);if(!O)break;H++,u--}if(u>=0&&H++,D=D.dblp(H),u<0)break;for(f=0;f<i;f++){var M=F[f];M!==0&&(M>0?d=s[f][M-1>>1]:M<0&&(d=s[f][-M-1>>1].neg()),d.type==="affine"?D=D.mixedAdd(d):D=D.add(d))}}for(u=0;u<i;u++)s[u]=null;return a?D:D.toP()};function Zf(t,e){this.curve=t,this.type=e,this.precomputed=null}rb.BasePoint=Zf;Zf.prototype.eq=function(){throw new Error("Not implemented")};Zf.prototype.validate=function(){return this.curve.validate(this)};rb.prototype.decodePoint=function(e,n){e=vI.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?EU(e[e.length-1]%2===0):e[0]===7&&EU(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};Zf.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Zf.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};Zf.prototype.encode=function(e,n){return vI.encode(this._encode(n),e)};Zf.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};Zf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};Zf.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,a=0;a<n;a+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};Zf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),a=1;a<r;a++)n[a]=n[a-1].add(i);return{wnd:e,points:n}};Zf.prototype._getBeta=function(){return null};Zf.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n}});var oEe=le((bxn,aEe)=>{"use strict";var Awt=Nu(),Xa=Xp(),Ine=Qf(),X9=EI(),_wt=Awt.assert;function Xf(t){X9.call(this,"short",t),this.a=new Xa(t.a,16).toRed(this.red),this.b=new Xa(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ine(Xf,X9);aEe.exports=Xf;Xf.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new Xa(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new Xa(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(n))===0?r=a[0]:(r=a[1],_wt(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(s){return{a:new Xa(s.a,16),b:new Xa(s.b,16)}}):o=this._getEndoBasis(r),{beta:n,lambda:r,basis:o}}};Xf.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:Xa.mont(e),r=new Xa(2).toRed(n).redInvm(),i=r.redNeg(),a=new Xa(3).toRed(n).redNeg().redSqrt().redMul(r),o=i.redAdd(a).fromRed(),s=i.redSub(a).fromRed();return[o,s]};Xf.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),a=new Xa(1),o=new Xa(0),s=new Xa(0),c=new Xa(1),l,u,f,d,p,h,m,w=0,g,x;r.cmpn(0)!==0;){var C=i.div(r);g=i.sub(C.mul(r)),x=s.sub(C.mul(a));var P=c.sub(C.mul(o));if(!f&&g.cmp(n)<0)l=m.neg(),u=a,f=g.neg(),d=x;else if(f&&++w===2)break;m=g,i=r,r=g,s=a,a=x,c=o,o=P}p=g.neg(),h=x;var D=f.sqr().add(d.sqr()),F=p.sqr().add(h.sqr());return F.cmp(D)>=0&&(p=l,h=u),f.negative&&(f=f.neg(),d=d.neg()),p.negative&&(p=p.neg(),h=h.neg()),[{a:f,b:d},{a:p,b:h}]};Xf.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],a=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=a.mul(r.a),c=o.mul(i.a),l=a.mul(r.b),u=o.mul(i.b),f=e.sub(s).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Xf.prototype.pointFromX=function(e,n){e=new Xa(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(n&&!a||!n&&a)&&(i=i.redNeg()),this.point(e,i)};Xf.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),a=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(a).cmpn(0)===0};Xf.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(n[o]),c=e[o],l=c._getBeta();s.k1.negative&&(s.k1.ineg(),c=c.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,a[o*2]=s.k1,a[o*2+1]=s.k2}for(var u=this._wnafMulAdd(1,i,a,o*2,r),f=0;f<o*2;f++)i[f]=null,a[f]=null;return u};function Rs(t,e,n,r){X9.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Xa(e,16),this.y=new Xa(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ine(Rs,X9.BasePoint);Xf.prototype.point=function(e,n,r){return new Rs(this,e,n,r)};Xf.prototype.pointFromJSON=function(e,n){return Rs.fromJSON(this,e,n)};Rs.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(a){return r.point(a.x.redMul(r.endo.beta),a.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};Rs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Rs.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function a(s){return e.point(s[0],s[1],r)}var o=n[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(a))}},i};Rs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Rs.prototype.isInfinity=function(){return this.inf};Rs.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};Rs.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),o=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)};Rs.prototype.getX=function(){return this.x.fromRed()};Rs.prototype.getY=function(){return this.y.fromRed()};Rs.prototype.mul=function(e){return e=new Xa(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Rs.prototype.mulAdd=function(e,n,r){var i=[this,n],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Rs.prototype.jmulAdd=function(e,n,r){var i=[this,n],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Rs.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Rs.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(a){return a.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};Rs.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function f0(t,e,n,r){X9.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Xa(0)):(this.x=new Xa(e,16),this.y=new Xa(n,16),this.z=new Xa(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ine(f0,X9.BasePoint);Xf.prototype.jpoint=function(e,n,r){return new f0(this,e,n,r)};f0.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};f0.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};f0.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),a=e.x.redMul(r),o=this.y.redMul(n.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),c=i.redSub(a),l=o.redSub(s);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),p=l.redSqr().redIAdd(f).redISub(d).redISub(d),h=l.redMul(d.redISub(p)).redISub(o.redMul(f)),m=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(p,h,m)};f0.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),a=this.y,o=e.y.redMul(n).redMul(this.z),s=r.redSub(i),c=a.redSub(o);if(s.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),f=r.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),p=c.redMul(f.redISub(d)).redISub(a.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(d,p,h)};f0.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,a=this.curve.tinv,o=this.x,s=this.y,c=this.z,l=c.redSqr().redSqr(),u=s.redAdd(s);for(n=0;n<e;n++){var f=o.redSqr(),d=u.redSqr(),p=d.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),m=o.redMul(d),w=h.redSqr().redISub(m.redAdd(m)),g=m.redISub(w),x=h.redMul(g);x=x.redIAdd(x).redISub(p);var C=u.redMul(c);n+1<e&&(l=l.redMul(p)),o=w,c=C,u=x}return this.curve.jpoint(o,u.redMul(a),c)};f0.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};f0.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,n=c.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),p=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(f).redISub(p);h=h.redIAdd(h);var m=f.redAdd(f).redIAdd(f),w=m.redSqr(),g=p.redIAdd(p);g=g.redIAdd(g),g=g.redIAdd(g),e=w.redISub(h).redISub(h),n=m.redMul(h.redISub(e)).redISub(g),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};f0.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(s).redISub(s);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),n=c.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),p=this.x.redMul(d),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var m=p.redIAdd(p);m=m.redIAdd(m);var w=m.redAdd(m);e=h.redSqr().redISub(w),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var g=d.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g),n=h.redMul(m.redISub(e)).redISub(g)}return this.curve.jpoint(e,n,r)};f0.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,a=i.redSqr().redSqr(),o=n.redSqr(),s=r.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),l=n.redAdd(n);l=l.redIAdd(l);var u=l.redMul(s),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),p=s.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var h=c.redMul(d).redISub(p),m=r.redAdd(r).redMul(i);return this.curve.jpoint(f,h,m)};f0.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),s=this.x.redAdd(n).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var c=s.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=a.redIAdd(s).redSqr().redISub(o).redISub(c).redISub(l),f=n.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var p=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(c)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(c);return this.curve.jpoint(d,p,h)};f0.prototype.mul=function(e,n){return e=new Xa(e,n),this.curve._wnafMul(this,e)};f0.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),a=r.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};f0.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};f0.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};f0.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var lEe=le((gxn,cEe)=>{"use strict";var eE=Xp(),sEe=Qf(),xU=EI(),Twt=Nu();function tE(t){xU.call(this,"mont",t),this.a=new eE(t.a,16).toRed(this.red),this.b=new eE(t.b,16).toRed(this.red),this.i4=new eE(4).toRed(this.red).redInvm(),this.two=new eE(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}sEe(tE,xU);cEe.exports=tE;tE.prototype.validate=function(e){var n=e.normalize().x,r=n.redSqr(),i=r.redMul(n).redAdd(r.redMul(this.a)).redAdd(n),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Os(t,e,n){xU.BasePoint.call(this,t,"projective"),e===null&&n===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new eE(e,16),this.z=new eE(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}sEe(Os,xU.BasePoint);tE.prototype.decodePoint=function(e,n){return this.point(Twt.toArray(e,n),1)};tE.prototype.point=function(e,n){return new Os(this,e,n)};tE.prototype.pointFromJSON=function(e){return Os.fromJSON(this,e)};Os.prototype.precompute=function(){};Os.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Os.fromJSON=function(e,n){return new Os(e,n[0],n[1]||e.one)};Os.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Os.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Os.prototype.dbl=function(){var e=this.x.redAdd(this.z),n=e.redSqr(),r=this.x.redSub(this.z),i=r.redSqr(),a=n.redSub(i),o=n.redMul(i),s=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(o,s)};Os.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Os.prototype.diffAdd=function(e,n){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),o=e.x.redSub(e.z),s=o.redMul(r),c=a.redMul(i),l=n.z.redMul(s.redAdd(c).redSqr()),u=n.x.redMul(s.redISub(c).redSqr());return this.curve.point(l,u)};Os.prototype.mul=function(e){for(var n=e.clone(),r=this,i=this.curve.point(null,null),a=this,o=[];n.cmpn(0)!==0;n.iushrn(1))o.push(n.andln(1));for(var s=o.length-1;s>=0;s--)o[s]===0?(r=r.diffAdd(i,a),i=i.dbl()):(i=r.diffAdd(i,a),r=r.dbl());return i};Os.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Os.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Os.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Os.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Os.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var dEe=le((wxn,fEe)=>{"use strict";var Swt=Nu(),X6=Xp(),uEe=Qf(),AU=EI(),Cwt=Swt.assert;function eh(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,AU.call(this,"edwards",t),this.a=new X6(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new X6(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new X6(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Cwt(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}uEe(eh,AU);fEe.exports=eh;eh.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};eh.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};eh.prototype.jpoint=function(e,n,r,i){return this.point(e,n,r,i)};eh.prototype.pointFromX=function(e,n){e=new X6(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),a=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(a.redInvm()),s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=s.fromRed().isOdd();return(n&&!c||!n&&c)&&(s=s.redNeg()),this.point(e,s)};eh.prototype.pointFromY=function(e,n){e=new X6(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),a=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(a.redInvm());if(o.cmp(this.zero)===0){if(n)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==n&&(s=s.redNeg()),this.point(s,e)};eh.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var n=e.x.redSqr(),r=e.y.redSqr(),i=n.redMul(this.a).redAdd(r),a=this.c2.redMul(this.one.redAdd(this.d.redMul(n).redMul(r)));return i.cmp(a)===0};function $i(t,e,n,r,i){AU.BasePoint.call(this,t,"projective"),e===null&&n===null&&r===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new X6(e,16),this.y=new X6(n,16),this.z=r?new X6(r,16):this.curve.one,this.t=i&&new X6(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}uEe($i,AU.BasePoint);eh.prototype.pointFromJSON=function(e){return $i.fromJSON(this,e)};eh.prototype.point=function(e,n,r,i){return new $i(this,e,n,r,i)};$i.fromJSON=function(e,n){return new $i(e,n[0],n[1],n[2])};$i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};$i.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};$i.prototype._extDbl=function(){var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(n),o=i.redAdd(n),s=o.redSub(r),c=i.redSub(n),l=a.redMul(s),u=o.redMul(c),f=a.redMul(c),d=s.redMul(o);return this.curve.point(l,u,d,f)};$i.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),r=this.y.redSqr(),i,a,o,s,c,l;if(this.curve.twisted){s=this.curve._mulA(n);var u=s.redAdd(r);this.zOne?(i=e.redSub(n).redSub(r).redMul(u.redSub(this.curve.two)),a=u.redMul(s.redSub(r)),o=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),l=u.redSub(c).redISub(c),i=e.redSub(n).redISub(r).redMul(l),a=u.redMul(s.redSub(r)),o=u.redMul(l))}else s=n.redAdd(r),c=this.curve._mulC(this.z).redSqr(),l=s.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(s)).redMul(l),a=this.curve._mulC(s).redMul(n.redISub(r)),o=s.redMul(l);return this.curve.point(i,a,o)};$i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};$i.prototype._extAdd=function(e){var n=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(n),s=a.redSub(i),c=a.redAdd(i),l=r.redAdd(n),u=o.redMul(s),f=c.redMul(l),d=o.redMul(l),p=s.redMul(c);return this.curve.point(u,f,p,d)};$i.prototype._projAdd=function(e){var n=this.z.redMul(e.z),r=n.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(a),s=r.redSub(o),c=r.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=n.redMul(s).redMul(l),f,d;return this.curve.twisted?(f=n.redMul(c).redMul(a.redSub(this.curve._mulA(i))),d=s.redMul(c)):(f=n.redMul(c).redMul(a.redSub(i)),d=this.curve._mulC(s).redMul(c)),this.curve.point(u,f,d)};$i.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};$i.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};$i.prototype.mulAdd=function(e,n,r){return this.curve._wnafMulAdd(1,[this,n],[e,r],2,!1)};$i.prototype.jmulAdd=function(e,n,r){return this.curve._wnafMulAdd(1,[this,n],[e,r],2,!0)};$i.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};$i.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};$i.prototype.getX=function(){return this.normalize(),this.x.fromRed()};$i.prototype.getY=function(){return this.normalize(),this.y.fromRed()};$i.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};$i.prototype.eqXToP=function(e){var n=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(n)===0)return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};$i.prototype.toP=$i.prototype.normalize;$i.prototype.mixedAdd=$i.prototype.add});var Rne=le(pEe=>{"use strict";var _U=pEe;_U.base=EI();_U.short=oEe();_U.mont=lEe();_U.edwards=dEe()});var mEe=le((Exn,hEe)=>{hEe.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var TU=le(gEe=>{"use strict";var Nne=gEe,ib=bU(),One=Rne(),Iwt=Nu(),yEe=Iwt.assert;function bEe(t){t.type==="short"?this.curve=new One.short(t):t.type==="edwards"?this.curve=new One.edwards(t):this.curve=new One.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,yEe(this.g.validate(),"Invalid curve"),yEe(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Nne.PresetCurve=bEe;function ab(t,e){Object.defineProperty(Nne,t,{configurable:!0,enumerable:!0,get:function(){var n=new bEe(e);return Object.defineProperty(Nne,t,{configurable:!0,enumerable:!0,value:n}),n}})}ab("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ib.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});ab("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ib.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});ab("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ib.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});ab("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ib.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});ab("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ib.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});ab("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ib.sha256,gRed:!1,g:["9"]});ab("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ib.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Pne;try{Pne=mEe()}catch{Pne=void 0}ab("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ib.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Pne]})});var EEe=le((Axn,vEe)=>{"use strict";var Rwt=bU(),w3=xne(),wEe=eb();function ob(t){if(!(this instanceof ob))return new ob(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=w3.toArray(t.entropy,t.entropyEnc||"hex"),n=w3.toArray(t.nonce,t.nonceEnc||"hex"),r=w3.toArray(t.pers,t.persEnc||"hex");wEe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}vEe.exports=ob;ob.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ob.prototype._hmac=function(){return new Rwt.hmac(this.hash,this.K)};ob.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ob.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=w3.toArray(e,n),r=w3.toArray(r,i),wEe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};ob.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=w3.toArray(r,i||"hex"),this._update(r));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(r),this._reseed++,w3.encode(o,n)}});var AEe=le((_xn,xEe)=>{"use strict";var Owt=Xp(),Nwt=Nu(),kne=Nwt.assert;function K0(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}xEe.exports=K0;K0.fromPublic=function(e,n,r){return n instanceof K0?n:new K0(e,{pub:n,pubEnc:r})};K0.fromPrivate=function(e,n,r){return n instanceof K0?n:new K0(e,{priv:n,privEnc:r})};K0.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};K0.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};K0.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};K0.prototype._importPrivate=function(e,n){this.priv=new Owt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};K0.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?kne(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&kne(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};K0.prototype.derive=function(e){return e.validate()||kne(e.validate(),"public point not validated"),e.mul(this.priv).getX()};K0.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};K0.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};K0.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var SEe=le((Txn,TEe)=>{"use strict";var SU=Xp(),Dne=Nu(),Pwt=Dne.assert;function CU(t,e){if(t instanceof CU)return t;this._importDER(t,e)||(Pwt(t.r&&t.s,"Signature without r or s"),this.r=new SU(t.r,16),this.s=new SU(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}TEe.exports=CU;function kwt(){this.place=0}function Mne(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,a=0,o=e.place;a<r;a++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function _Ee(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}CU.prototype._importDER=function(e,n){e=Dne.toArray(e,n);var r=new kwt;if(e[r.place++]!==48)return!1;var i=Mne(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var a=Mne(e,r);if(a===!1||(e[r.place]&128)!==0)return!1;var o=e.slice(r.place,a+r.place);if(r.place+=a,e[r.place++]!==2)return!1;var s=Mne(e,r);if(s===!1||e.length!==s+r.place||(e[r.place]&128)!==0)return!1;var c=e.slice(r.place,s+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new SU(o),this.s=new SU(c),this.recoveryParam=null,!0};function Bne(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}CU.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=_Ee(n),r=_Ee(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Bne(i,n.length),i=i.concat(n),i.push(2),Bne(i,r.length);var a=i.concat(r),o=[48];return Bne(o,a.length),o=o.concat(a),Dne.encode(o,e)}});var REe=le((Sxn,IEe)=>{"use strict";var E1=Xp(),CEe=EEe(),Mwt=Nu(),Lne=TU(),Bwt=Cne(),v3=Mwt.assert,Une=AEe(),IU=SEe();function ed(t){if(!(this instanceof ed))return new ed(t);typeof t=="string"&&(v3(Object.prototype.hasOwnProperty.call(Lne,t),"Unknown curve "+t),t=Lne[t]),t instanceof Lne.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}IEe.exports=ed;ed.prototype.keyPair=function(e){return new Une(this,e)};ed.prototype.keyFromPrivate=function(e,n){return Une.fromPrivate(this,e,n)};ed.prototype.keyFromPublic=function(e,n){return Une.fromPublic(this,e,n)};ed.prototype.genKeyPair=function(e){e||(e={});for(var n=new CEe({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Bwt(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new E1(2));;){var a=new E1(n.generate(r));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};ed.prototype._truncateToN=function(e,n,r){var i;if(E1.isBN(e)||typeof e=="number")e=new E1(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new E1(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new E1(a,16)}typeof r!="number"&&(r=i*8);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};ed.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!E1.isBN(e)){v3(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),v3(e.length>>>0===e.length);for(var a=0;a<e.length;a++)v3((e[a]&255)===e[a])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),v3(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),s=n.getPrivate().toArray("be",o),c=e.toArray("be",o);v3(new E1(c).eq(e),"Can not sign message");for(var l=new CEe({hash:this.hash,entropy:s,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new E1(1)),f=0;;f++){var d=i.k?i.k(f):new E1(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var h=p.getX(),m=h.umod(this.n);if(m.cmpn(0)!==0){var w=d.invm(this.n).mul(m.mul(n.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var g=(p.getY().isOdd()?1:0)|(h.cmp(m)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),g^=1),new IU({r:m,s:w,recoveryParam:g})}}}}}};ed.prototype.verify=function(e,n,r,i,a){a||(a={}),e=this._truncateToN(e,!1,a.msgBitLength),r=this.keyFromPublic(r,i),n=new IU(n,"hex");var o=n.r,s=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var c=s.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,r.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,r.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};ed.prototype.recoverPubKey=function(t,e,n,r){v3((3&n)===n,"The recovery param is more than two bits"),e=new IU(e,r);var i=this.n,a=new E1(t),o=e.r,s=e.s,c=n&1,l=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(a).mul(u).umod(i),d=s.mul(u).umod(i);return this.g.mulAdd(f,o,d)};ed.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new IU(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")}});var kEe=le((Cxn,PEe)=>{"use strict";var xI=Nu(),NEe=xI.assert,OEe=xI.parseBytes,nE=xI.cachedProperty;function Ns(t,e){this.eddsa=t,this._secret=OEe(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=OEe(e.pub)}Ns.fromPublic=function(e,n){return n instanceof Ns?n:new Ns(e,{pub:n})};Ns.fromSecret=function(e,n){return n instanceof Ns?n:new Ns(e,{secret:n})};Ns.prototype.secret=function(){return this._secret};nE(Ns,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});nE(Ns,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});nE(Ns,"privBytes",function(){var e=this.eddsa,n=this.hash(),r=e.encodingLength-1,i=n.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i});nE(Ns,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});nE(Ns,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});nE(Ns,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ns.prototype.sign=function(e){return NEe(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ns.prototype.verify=function(e,n){return this.eddsa.verify(e,n,this)};Ns.prototype.getSecret=function(e){return NEe(this._secret,"KeyPair is public only"),xI.encode(this.secret(),e)};Ns.prototype.getPublic=function(e){return xI.encode(this.pubBytes(),e)};PEe.exports=Ns});var DEe=le((Ixn,BEe)=>{"use strict";var Dwt=Xp(),RU=Nu(),MEe=RU.assert,OU=RU.cachedProperty,Lwt=RU.parseBytes;function E3(t,e){this.eddsa=t,typeof e!="object"&&(e=Lwt(e)),Array.isArray(e)&&(MEe(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),MEe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Dwt&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}OU(E3,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});OU(E3,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});OU(E3,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});OU(E3,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});E3.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};E3.prototype.toHex=function(){return RU.encode(this.toBytes(),"hex").toUpperCase()};BEe.exports=E3});var zEe=le((Rxn,HEe)=>{"use strict";var Uwt=bU(),Fwt=TU(),rE=Nu(),Hwt=rE.assert,UEe=rE.parseBytes,FEe=kEe(),LEe=DEe();function Cl(t){if(Hwt(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Cl))return new Cl(t);t=Fwt[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Uwt.sha512}HEe.exports=Cl;Cl.prototype.sign=function(e,n){e=UEe(e);var r=this.keyFromSecret(n),i=this.hashInt(r.messagePrefix(),e),a=this.g.mul(i),o=this.encodePoint(a),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=i.add(s).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:o})};Cl.prototype.verify=function(e,n,r){if(e=UEe(e),n=this.makeSignature(n),n.S().gte(n.eddsa.curve.n)||n.S().isNeg())return!1;var i=this.keyFromPublic(r),a=this.hashInt(n.Rencoded(),i.pubBytes(),e),o=this.g.mul(n.S()),s=n.R().add(i.pub().mul(a));return s.eq(o)};Cl.prototype.hashInt=function(){for(var e=this.hash(),n=0;n<arguments.length;n++)e.update(arguments[n]);return rE.intFromLE(e.digest()).umod(this.curve.n)};Cl.prototype.keyFromPublic=function(e){return FEe.fromPublic(this,e)};Cl.prototype.keyFromSecret=function(e){return FEe.fromSecret(this,e)};Cl.prototype.makeSignature=function(e){return e instanceof LEe?e:new LEe(this,e)};Cl.prototype.encodePoint=function(e){var n=e.getY().toArray("le",this.encodingLength);return n[this.encodingLength-1]|=e.getX().isOdd()?128:0,n};Cl.prototype.decodePoint=function(e){e=rE.parseBytes(e);var n=e.length-1,r=e.slice(0,n).concat(e[n]&-129),i=(e[n]&128)!==0,a=rE.intFromLE(r);return this.curve.pointFromY(a,i)};Cl.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Cl.prototype.decodeInt=function(e){return rE.intFromLE(e)};Cl.prototype.isPoint=function(e){return e instanceof this.pointClass}});var AI=le(jEe=>{"use strict";var x3=jEe;x3.version=Z9e().version;x3.utils=Nu();x3.rand=Cne();x3.curve=Rne();x3.curves=TU();x3.ec=REe();x3.eddsa=zEe()});var Ze,Ma,A3=B(()=>{Ze={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},Ma={POPUP:"popup",REDIRECT:"redirect"}});var Ao=le((Pxn,KEe)=>{"use strict";var zwt=function(e){return jwt(e)&&!Gwt(e)};function jwt(t){return!!t&&typeof t=="object"}function Gwt(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||$wt(t)}var Vwt=typeof Symbol=="function"&&Symbol.for,Kwt=Vwt?Symbol.for("react.element"):60103;function $wt(t){return t.$$typeof===Kwt}function qwt(t){return Array.isArray(t)?[]:{}}function _I(t,e){return e.clone!==!1&&e.isMergeableObject(t)?iE(qwt(t),t,e):t}function Wwt(t,e,n){return t.concat(e).map(function(r){return _I(r,n)})}function Ywt(t,e){if(!e.customMerge)return iE;var n=e.customMerge(t);return typeof n=="function"?n:iE}function Jwt(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function GEe(t){return Object.keys(t).concat(Jwt(t))}function VEe(t,e){try{return e in t}catch{return!1}}function Qwt(t,e){return VEe(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Zwt(t,e,n){var r={};return n.isMergeableObject(t)&&GEe(t).forEach(function(i){r[i]=_I(t[i],n)}),GEe(e).forEach(function(i){Qwt(t,i)||(VEe(t,i)&&n.isMergeableObject(e[i])?r[i]=Ywt(i,n)(t[i],e[i],n):r[i]=_I(e[i],n))}),r}function iE(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Wwt,n.isMergeableObject=n.isMergeableObject||zwt,n.cloneUnlessOtherwiseSpecified=_I;var r=Array.isArray(e),i=Array.isArray(t),a=r===i;return a?r?n.arrayMerge(t,e,n):Zwt(t,e,n):_I(e,n)}iE.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return iE(r,i,n)},{})};var Xwt=iE;KEe.exports=Xwt});var Ln=le(($Ee,NU)=>{(function(t,e){"use strict";typeof define=="function"&&define.amd?define(e):typeof NU=="object"&&NU.exports?NU.exports=e():t.log=e()})($Ee,function(){"use strict";var t=function(){},e="undefined",n=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],i={},a=null;function o(h,m){var w=h[m];if(typeof w.bind=="function")return w.bind(h);try{return Function.prototype.bind.call(w,h)}catch{return function(){return Function.prototype.apply.apply(w,[h,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(h){return h==="debug"&&(h="log"),typeof console===e?!1:h==="trace"&&n?s:console[h]!==void 0?o(console,h):console.log!==void 0?o(console,"log"):t}function l(){for(var h=this.getLevel(),m=0;m<r.length;m++){var w=r[m];this[w]=m<h?t:this.methodFactory(w,h,this.name)}if(this.log=this.debug,typeof console===e&&h<this.levels.SILENT)return"No console available for logging"}function u(h){return function(){typeof console!==e&&(l.call(this),this[h].apply(this,arguments))}}function f(h,m,w){return c(h)||u.apply(this,arguments)}function d(h,m){var w=this,g,x,C,P="loglevel";typeof h=="string"?P+=":"+h:typeof h=="symbol"&&(P=void 0);function D(N){var v=(r[N]||"silent").toUpperCase();if(!(typeof window===e||!P)){try{window.localStorage[P]=v;return}catch{}try{window.document.cookie=encodeURIComponent(P)+"="+v+";"}catch{}}}function F(){var N;if(!(typeof window===e||!P)){try{N=window.localStorage[P]}catch{}if(typeof N===e)try{var v=window.document.cookie,I=encodeURIComponent(P),S=v.indexOf(I+"=");S!==-1&&(N=/^([^;]+)/.exec(v.slice(S+I.length+1))[1])}catch{}return w.levels[N]===void 0&&(N=void 0),N}}function H(){if(!(typeof window===e||!P)){try{window.localStorage.removeItem(P)}catch{}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function O(N){var v=N;if(typeof v=="string"&&w.levels[v.toUpperCase()]!==void 0&&(v=w.levels[v.toUpperCase()]),typeof v=="number"&&v>=0&&v<=w.levels.SILENT)return v;throw new TypeError("log.setLevel() called with invalid level: "+N)}w.name=h,w.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},w.methodFactory=m||f,w.getLevel=function(){return C??x??g},w.setLevel=function(N,v){return C=O(N),v!==!1&&D(C),l.call(w)},w.setDefaultLevel=function(N){x=O(N),F()||w.setLevel(N,!1)},w.resetLevel=function(){C=null,H(),l.call(w)},w.enableAll=function(N){w.setLevel(w.levels.TRACE,N)},w.disableAll=function(N){w.setLevel(w.levels.SILENT,N)},w.rebuild=function(){if(a!==w&&(g=O(a.getLevel())),l.call(w),a===w)for(var N in i)i[N].rebuild()},g=O(a?a.getLevel():"WARN");var M=F();M!=null&&(C=O(M)),l.call(w)}a=new d,a.getLogger=function(m){if(typeof m!="symbol"&&typeof m!="string"||m==="")throw new TypeError("You must supply a name when creating a logger.");var w=i[m];return w||(w=i[m]=new d(m,a.methodFactory)),w};var p=typeof window!==e?window.log:void 0;return a.noConflict=function(){return typeof window!==e&&window.log===a&&(window.log=p),a},a.getLoggers=function(){return i},a.default=a,a})});async function MU(t,e){let n=null;try{n=new URL(t)}catch{}return YEe&&n&&(nvt.includes(n.origin)||rvt.includes(n.pathname))?await YEe.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function BU(){let t={};return qEe&&(t[evt]=qEe),WEe&&(t[tvt]=WEe),t}function DU(t){PU.info(`Response: ${t.status} ${t.statusText}`),PU.info(`Url: ${t.url}`)}function ivt(t){let e=t.headers.get("x-web3-correlation-id");e&&PU.info(`Request tracing with traceID = ${e}`)}var TI,kU,PU,qEe,WEe,evt,tvt,YEe,nvt,rvt,avt,Il,JEe,QEe,ZEe,sb=B(()=>{st();TI=fe(Ao()),kU=fe(Ln()),PU=kU.default.getLogger("http-helpers");PU.setLevel(kU.levels.INFO);qEe="torus-default",WEe="",evt="x-api-key",tvt="x-embed-host",YEe=null,nvt=[],rvt=[];avt=async(t,e)=>{let n=null;try{let r=new Promise((a,o)=>{n=setTimeout(()=>{o(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,r]);return n!=null&&clearTimeout(n),i}catch(r){throw n!=null&&clearTimeout(n),r}},Il=async(t,e={},n={})=>{let r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=q(q({},r.headers),BU())),e.method="GET";let i=(0,TI.default)(r,e),a=await MU(t,i);if(a.ok){let o=a.headers.get("content-type");return o!=null&&o.includes("application/json")?a.json():a.text()}throw DU(a),a},JEe=(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),BU())),n.method="POST";let a=(0,TI.default)(i,n);return r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e),avt(r.timeout||6e4,MU(t,a).then(o=>{if(r.logTracingHeader&&ivt(o),o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw DU(o),o}))},QEe=async(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),BU())),n.method="PATCH";let a=(0,TI.default)(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);let o=await MU(t,a);if(o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw DU(o),o},ZEe=async(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),BU())),n.method="PUT";let a=(0,TI.default)(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);let o=await MU(t,a);if(o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw DU(o),o}});var XEe=le(Fne=>{"use strict";Object.defineProperty(Fne,"__esModule",{value:!0});function ovt(t){var e=4,n=t.length,r=n%e;if(!r)return t;var i=n,a=e-r,o=n+a,s=Buffer.alloc(o);for(s.write(t);a--;)s.write("=",i++);return s.toString()}Fne.default=ovt});var txe=le(jne=>{"use strict";Object.defineProperty(jne,"__esModule",{value:!0});var svt=XEe();function exe(t,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(t)?Hne(t.toString("base64")):Hne(Buffer.from(t,e).toString("base64"))}function cvt(t,e){return e===void 0&&(e="utf8"),Buffer.from(zne(t),"base64").toString(e)}function zne(t){return t=t.toString(),svt.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function Hne(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lvt(t){return Buffer.from(zne(t),"base64")}var aE=exe;aE.encode=exe;aE.decode=cvt;aE.toBase64=zne;aE.fromBase64=Hne;aE.toBuffer=lvt;jne.default=aE});var oE=le((Lxn,LU)=>{LU.exports=txe().default;LU.exports.default=LU.exports});var CI=le((SI,Gne)=>{(function(t,e){typeof SI=="object"&&typeof Gne=="object"?Gne.exports=e():typeof define=="function"&&define.amd?define([],e):typeof SI=="object"?SI.bowser=e():t.bowser=e()})(SI,(function(){return(function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,a){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:a})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(a,o,function(s){return r[s]}.bind(null,o));return a},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)})({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(18),i=(function(){function a(){}return a.getFirstMatch=function(o,s){var c=s.match(o);return c&&c.length>0&&c[1]||""},a.getSecondMatch=function(o,s){var c=s.match(o);return c&&c.length>1&&c[2]||""},a.matchAndReturnConst=function(o,s,c){if(o.test(s))return c},a.getWindowsVersionName=function(o){switch(o){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},a.getMacOSVersionName=function(o){var s=o.split(".").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},a.getAndroidVersionName=function(o){var s=o.split(".").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},a.getVersionPrecision=function(o){return o.split(".").length},a.compareVersions=function(o,s,c){c===void 0&&(c=!1);var l=a.getVersionPrecision(o),u=a.getVersionPrecision(s),f=Math.max(l,u),d=0,p=a.map([o,s],(function(h){var m=f-a.getVersionPrecision(h),w=h+new Array(m+1).join(".0");return a.map(w.split("."),(function(g){return new Array(20-g.length).join("0")+g})).reverse()}));for(c&&(d=f-Math.min(l,u)),f-=1;f>=d;){if(p[0][f]>p[1][f])return 1;if(p[0][f]===p[1][f]){if(f===d)return 0;f-=1}else if(p[0][f]<p[1][f])return-1}},a.map=function(o,s){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(o,s);for(c=0;c<o.length;c+=1)l.push(s(o[c]));return l},a.find=function(o,s){var c,l;if(Array.prototype.find)return Array.prototype.find.call(o,s);for(c=0,l=o.length;c<l;c+=1){var u=o[c];if(s(u,c))return u}},a.assign=function(o){for(var s,c,l=o,u=arguments.length,f=new Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];if(Object.assign)return Object.assign.apply(Object,[o].concat(f));var p=function(){var h=f[s];typeof h=="object"&&h!==null&&Object.keys(h).forEach((function(m){l[m]=h[m]}))};for(s=0,c=f.length;s<c;s+=1)p();return o},a.getBrowserAlias=function(o){return r.BROWSER_ALIASES_MAP[o]},a.getBrowserTypeByAlias=function(o){return r.BROWSER_MAP[o]||""},a})();e.default=i,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(c,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}var s=(function(){function c(){}var l,u,f;return c.getParser=function(d,p){if(p===void 0&&(p=!1),typeof d!="string")throw new Error("UserAgent should be a string");return new i.default(d,p)},c.parse=function(d){return new i.default(d).getResult()},l=c,f=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],(u=null)&&o(l.prototype,u),f&&o(l,f),c})();e.default=s,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),a=c(n(94)),o=c(n(95)),s=c(n(17));function c(u){return u&&u.__esModule?u:{default:u}}var l=(function(){function u(d,p){if(p===void 0&&(p=!1),d==null||d==="")throw new Error("UserAgent parameter can't be empty");this._ua=d,this.parsedResult={},p!==!0&&this.parse()}var f=u.prototype;return f.getUA=function(){return this._ua},f.test=function(d){return d.test(this._ua)},f.parseBrowser=function(){var d=this;this.parsedResult.browser={};var p=s.default.find(r.default,(function(h){if(typeof h.test=="function")return h.test(d);if(Array.isArray(h.test))return h.test.some((function(m){return d.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},f.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},f.getBrowserName=function(d){return d?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},f.getBrowserVersion=function(){return this.getBrowser().version},f.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},f.parseOS=function(){var d=this;this.parsedResult.os={};var p=s.default.find(i.default,(function(h){if(typeof h.test=="function")return h.test(d);if(Array.isArray(h.test))return h.test.some((function(m){return d.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},f.getOSName=function(d){var p=this.getOS().name;return d?String(p).toLowerCase()||"":p||""},f.getOSVersion=function(){return this.getOS().version},f.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},f.getPlatformType=function(d){d===void 0&&(d=!1);var p=this.getPlatform().type;return d?String(p).toLowerCase()||"":p||""},f.parsePlatform=function(){var d=this;this.parsedResult.platform={};var p=s.default.find(a.default,(function(h){if(typeof h.test=="function")return h.test(d);if(Array.isArray(h.test))return h.test.some((function(m){return d.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},f.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},f.getEngineName=function(d){return d?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},f.parseEngine=function(){var d=this;this.parsedResult.engine={};var p=s.default.find(o.default,(function(h){if(typeof h.test=="function")return h.test(d);if(Array.isArray(h.test))return h.test.some((function(m){return d.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},f.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},f.getResult=function(){return s.default.assign({},this.parsedResult)},f.satisfies=function(d){var p=this,h={},m=0,w={},g=0;if(Object.keys(d).forEach((function(M){var N=d[M];typeof N=="string"?(w[M]=N,g+=1):typeof N=="object"&&(h[M]=N,m+=1)})),m>0){var x=Object.keys(h),C=s.default.find(x,(function(M){return p.isOS(M)}));if(C){var P=this.satisfies(h[C]);if(P!==void 0)return P}var D=s.default.find(x,(function(M){return p.isPlatform(M)}));if(D){var F=this.satisfies(h[D]);if(F!==void 0)return F}}if(g>0){var H=Object.keys(w),O=s.default.find(H,(function(M){return p.isBrowser(M,!0)}));if(O!==void 0)return this.compareVersion(w[O])}},f.isBrowser=function(d,p){p===void 0&&(p=!1);var h=this.getBrowserName().toLowerCase(),m=d.toLowerCase(),w=s.default.getBrowserTypeByAlias(m);return p&&w&&(m=w.toLowerCase()),m===h},f.compareVersion=function(d){var p=[0],h=d,m=!1,w=this.getBrowserVersion();if(typeof w=="string")return d[0]===">"||d[0]==="<"?(h=d.substr(1),d[1]==="="?(m=!0,h=d.substr(2)):p=[],d[0]===">"?p.push(1):p.push(-1)):d[0]==="="?h=d.substr(1):d[0]==="~"&&(m=!0,h=d.substr(1)),p.indexOf(s.default.compareVersions(w,h,m))>-1},f.isOS=function(d){return this.getOSName(!0)===String(d).toLowerCase()},f.isPlatform=function(d){return this.getPlatformType(!0)===String(d).toLowerCase()},f.isEngine=function(d){return this.getEngineName(!0)===String(d).toLowerCase()},f.is=function(d,p){return p===void 0&&(p=!1),this.isBrowser(d,p)||this.isOS(d)||this.isPlatform(d)},f.some=function(d){var p=this;return d===void 0&&(d=[]),d.some((function(h){return p.is(h)}))},u})();e.default=l,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(s){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(s){var c={name:"Opera"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(s){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(s){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(s){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/PaleMoon/i],describe:function(s){var c={name:"Pale Moon"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(s){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(s){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(s){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(s){var c={name:"Opera Coast"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(s){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(s){var c={name:"UC Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(s){var c={name:"Maxthon"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(s){var c={name:"Epiphany"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(s){var c={name:"Puffin"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(s){var c={name:"Sleipnir"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(s){var c={name:"K-Meleon"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(s){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(s){var c={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(s){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(s){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(s){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(s){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(s){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(s){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(s){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(s){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(s){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var c={name:"BlackBerry"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(s){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(s){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(s){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(s){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(s){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(s){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(s){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(s){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){var c=!s.test(/like android/i),l=s.test(/android/i);return c&&l},describe:function(s){var c={name:"Android Browser"},l=i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(s){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(s){var c={name:"Safari"},l=i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(s){var c=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,s),version:i.default.getSecondMatch(c,s)}}}];e.default=o,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(s){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:a.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(s){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(s){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),l=i.default.getWindowsVersionName(c);return{name:a.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var c={name:a.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(s){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),u={name:a.OS_MAP.MacOS,version:c};return l&&(u.versionName=l),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:c}}},{test:function(s){var c=!s.test(/like android/i),l=s.test(/android/i);return c&&l},describe:function(s){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),l=i.default.getAndroidVersionName(c),u={name:a.OS_MAP.Android,version:c};return l&&(u.versionName=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),l={name:a.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||i.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:a.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(s){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(s){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.PlayStation4,version:c}}}];e.default=o,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:a.PLATFORMS_MAP.bot,vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var c=i.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",l={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(s){var c=s.test(/ipod|iphone/i),l=s.test(/like (ipod|iphone)/i);return c&&!l},describe:function(s){var c=i.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe:function(s){var c=i.default.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,s),l={type:a.PLATFORMS_MAP.mobile,vendor:"Nokia"};return c&&(l.model=c),l}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var c=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:a.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:a.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(s){var c={name:a.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){return s.test(/presto/i)},describe:function(s){var c={name:a.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){var c=s.test(/gecko/i),l=s.test(/like gecko/i);return c&&!l},describe:function(s){var c={name:a.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var c={name:a.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}}];e.default=o,t.exports=e.default}})}))});var nxe,e5,Vne=B(()=>{nxe=fe(Ln()),e5=nxe.default.getLogger("customauth")});function Kne(t,e){return e?t:t.toLowerCase()}function sE(t){let e;try{e=window[t];let n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){let r=n;return r&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function OI(){let t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,n=1200,r=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,o=1,s=Math.abs((i-n)/2/o+t),c=Math.abs((a-r)/2/o+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/o},width=${n/o},top=${c},left=${s}`}function cb(t){let{baseURL:e,query:n,hash:r}=t,i=new URL(e);if(n&&Object.keys(n).forEach(a=>{i.searchParams.append(a,n[a])}),r){let a=new URL(cb({baseURL:e,query:r})).searchParams.toString();i.hash=a}return i.toString()}function rxe(){let e=UU.default.getParser(navigator.userAgent).getPlatform();return e.type===UU.default.PLATFORMS_MAP.tablet||e.type===UU.default.PLATFORMS_MAP.mobile}function S3(t){return(t===Ze.FACEBOOK||t===Ze.LINE)&&rxe()?1e3*30:1e3*1}function C3(t){let[e,n]=t.split(".");return{header:JSON.parse(FU.default.decode(e)),payload:JSON.parse(FU.default.decode(n))}}var FU,UU,II,RI,_3,$ne,t5,T3,qne,lb=B(()=>{FU=fe(oE()),UU=fe(CI());A3();II={[Ze.APPLE]:"apple",[Ze.GITHUB]:"github",[Ze.LINKEDIN]:"linkedin",[Ze.TWITTER]:"twitter",[Ze.LINE]:"line",[Ze.EMAIL_PASSWORDLESS]:"email",[Ze.SMS_PASSWORDLESS]:"sms"},RI=t=>t.href.endsWith("/")?t.href:`${t.href}/`,_3=()=>Math.random().toString(36).slice(2),$ne={webWorkerSupport:!1};t5=(t,e,n,r=!0)=>{let{name:i,sub:a}=t;if(n)return Kne(t[n],r);switch(e){case Ze.EMAIL_PASSWORDLESS:case Ze.SMS_PASSWORDLESS:case Ze.AUTHENTICATOR:return Kne(i,r);case Ze.GITHUB:case Ze.TWITTER:case Ze.APPLE:case Ze.LINKEDIN:case Ze.LINE:case Ze.WECHAT:case Ze.KAKAO:case Ze.FARCASTER:case Ze.CUSTOM:return Kne(a,r);default:throw new Error("Invalid login type to get auth connection id")}};T3=t=>{try{return new URL(decodeURIComponent(t))}catch(e){throw new Error(`${e?.message||""}, Note: Your jwt domain: (i.e ${t}) must have http:// or https:// prefix`)}},qne=t=>JSON.parse(FU.default.decode(t))});var Ps=le((zxn,Wne)=>{"use strict";var cE=typeof Reflect=="object"?Reflect:null,ixe=cE&&typeof cE.apply=="function"?cE.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},HU;cE&&typeof cE.ownKeys=="function"?HU=cE.ownKeys:Object.getOwnPropertySymbols?HU=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:HU=function(e){return Object.getOwnPropertyNames(e)};function uvt(t){console&&console.warn&&console.warn(t)}var oxe=Number.isNaN||function(e){return e!==e};function _i(){_i.init.call(this)}Wne.exports=_i;Wne.exports.once=hvt;_i.EventEmitter=_i;_i.prototype._events=void 0;_i.prototype._eventsCount=0;_i.prototype._maxListeners=void 0;var axe=10;function zU(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(_i,"defaultMaxListeners",{enumerable:!0,get:function(){return axe},set:function(t){if(typeof t!="number"||t<0||oxe(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");axe=t}});_i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};_i.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||oxe(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function sxe(t){return t._maxListeners===void 0?_i.defaultMaxListeners:t._maxListeners}_i.prototype.getMaxListeners=function(){return sxe(this)};_i.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=a[e];if(c===void 0)return!1;if(typeof c=="function")ixe(c,this,n);else for(var l=c.length,u=dxe(c,l),r=0;r<l;++r)ixe(u[r],this,n);return!0};function cxe(t,e,n,r){var i,a,o;if(zU(n),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]),o===void 0)o=a[e]=n,++t._eventsCount;else if(typeof o=="function"?o=a[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=sxe(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=o.length,uvt(s)}return t}_i.prototype.addListener=function(e,n){return cxe(this,e,n,!1)};_i.prototype.on=_i.prototype.addListener;_i.prototype.prependListener=function(e,n){return cxe(this,e,n,!0)};function fvt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function lxe(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=fvt.bind(r);return i.listener=n,r.wrapFn=i,i}_i.prototype.once=function(e,n){return zU(n),this.on(e,lxe(this,e,n)),this};_i.prototype.prependOnceListener=function(e,n){return zU(n),this.prependListener(e,lxe(this,e,n)),this};_i.prototype.removeListener=function(e,n){var r,i,a,o,s;if(zU(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(a=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){s=r[o].listener,a=o;break}if(a<0)return this;a===0?r.shift():dvt(r,a),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,s||n)}return this};_i.prototype.off=_i.prototype.removeListener;_i.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var a=Object.keys(r),o;for(i=0;i<a.length;++i)o=a[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function uxe(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?pvt(i):dxe(i,i.length)}_i.prototype.listeners=function(e){return uxe(this,e,!0)};_i.prototype.rawListeners=function(e){return uxe(this,e,!1)};_i.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):fxe.call(t,e)};_i.prototype.listenerCount=fxe;function fxe(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}_i.prototype.eventNames=function(){return this._eventsCount>0?HU(this._events):[]};function dxe(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function dvt(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function pvt(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function hvt(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,a),r(o)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}pxe(t,e,a,{once:!0}),e!=="error"&&mvt(t,i,{once:!0})})}function mvt(t,e,n){typeof t.on=="function"&&pxe(t,"error",e,n)}function pxe(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){r.once&&t.removeEventListener(e,i),n(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var hxe,x1,NI=B(()=>{Qe();hxe=fe(Ps());lb();x1=class extends hxe.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4}){super(),K(this,"url",void 0),K(this,"target",void 0),K(this,"features",void 0),K(this,"window",void 0),K(this,"windowTimer",void 0),K(this,"iClosedWindow",void 0),K(this,"timeout",void 0),this.url=e,this.target=n||"_blank",this.features=r||OI(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw new Error("popup window is blocked");return(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}});function yxe(t){return!!(t&&typeof t.then=="function")}function lE(t,e){return t||(t=0),new Promise(n=>{setTimeout(()=>n(e),t)})}function bxe(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function ub(){return Math.random().toString(36).substring(2)}function jc(){let t=Date.now()*1e3;return t<=Yne&&(t=Yne+1),Yne=t,t}var mxe,td,Yne,$0,fb=B(()=>{mxe=fe(Ln());Promise.resolve(!1);Promise.resolve(!0);td=Promise.resolve();Yne=0;$0=mxe.default.getLogger("broadcast-channel");$0.setLevel("error")});function yvt(t){let e=gxe()-t.ttl,n=t.map[Symbol.iterator]();for(;;){let r=n.next().value;if(!r)return;let i=r[0];if(r[1]<e)t.map.delete(i);else return}}function gxe(){return Date.now()}var db,jU=B(()=>{db=class{ttl;map=new Map;_to=!1;constructor(e){this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,gxe()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,yvt(this)},0))}clear(){this.map.clear()}}});var qi,pb,bvt,gvt,wvt,vvt,Evt,Jne,Qne,wxe=B(()=>{qi={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},pb={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},bvt={[qi.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[qi.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[qi.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[qi.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[qi.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},gvt={[qi.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:pb.SAPPHIRE_MAINNET},[qi.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:pb.SAPPHIRE_MAINNET},[qi.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:pb.SAPPHIRE_MAINNET},[qi.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:pb.SAPPHIRE_MAINNET},[qi.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:pb.SAPPHIRE_DEVNET}},wvt={[qi.MAINNET]:"mainnet",[qi.TESTNET]:"goerli",[qi.CYAN]:"polygon-mainnet",[qi.AQUA]:"polygon-mainnet",[qi.CELESTE]:"polygon-mainnet"},vvt={[pb.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[pb.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[qi.MAINNET]:"https://api.web3auth.io/signer-service",[qi.TESTNET]:"https://api.web3auth.io/signer-service",[qi.CYAN]:"https://api.web3auth.io/signer-polygon-service",[qi.AQUA]:"https://api.web3auth.io/signer-polygon-service",[qi.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},Evt={[qi.MAINNET]:"https://api.web3auth.io/metadata-service",[qi.TESTNET]:"https://api.web3auth.io/metadata-service",[qi.CYAN]:"https://api.web3auth.io/metadata-service",[qi.AQUA]:"https://api.web3auth.io/metadata-service",[qi.CELESTE]:"https://api.web3auth.io/metadata-service"},Jne="https://api.web3auth.io/session-service",Qne="https://session.web3auth.io"});var vxe=B(()=>{wxe()});function hb(t={}){let e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),e.server||(e.server={}),e.server.api_url||(e.server.api_url=`${Jne}/v2`),e.server.socket_url||(e.server.socket_url=`${Qne}`),e.server.removeTimeout||(e.server.removeTimeout=1e3*60*5),t.methods&&(e.methods=t.methods),e}var PI=B(()=>{vxe()});var MI={};$t(MI,{TRANSACTION_SETTINGS:()=>uE,averageResponseTime:()=>Pvt,canBeUsed:()=>Nvt,cleanOldMessages:()=>Sxe,close:()=>Ivt,commitIndexedDBTransaction:()=>kI,create:()=>Svt,createDatabase:()=>Exe,getAllMessages:()=>Tvt,getIdb:()=>Zne,getMessagesHigherThan:()=>Axe,getOldMessages:()=>Txe,microSeconds:()=>xvt,onMessage:()=>Ovt,postMessage:()=>Rvt,removeMessagesById:()=>_xe,type:()=>_vt,writeMessage:()=>xxe});function Zne(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){let t=window;if(typeof t.mozIndexedDB<"u")return t.mozIndexedDB;if(typeof t.webkitIndexedDB<"u")return t.webkitIndexedDB;if(typeof t.msIndexedDB<"u")return t.msIndexedDB}return!1}function kI(t){t.commit&&t.commit()}function Exe(t){let e=Zne();if(!e)return Promise.reject(new Error("IndexedDB not available"));let n=Avt+t,r=e.open(n);return r.onupgradeneeded=a=>{a.target.result.createObjectStore(A1,{keyPath:"id",autoIncrement:!0})},new Promise((a,o)=>{r.onerror=s=>o(s),r.onsuccess=()=>{a(r.result)}})}function xxe(t,e,n){let r=Date.now(),i={uuid:e,time:r,data:n},a=t.transaction([A1],"readwrite",uE);return new Promise((o,s)=>{a.oncomplete=()=>o(),a.onerror=l=>s(l),a.objectStore(A1).add(i),kI(a)})}function Tvt(t){let e=t.transaction(A1,"readonly",uE),n=e.objectStore(A1),r=[];return new Promise(i=>{n.openCursor().onsuccess=a=>{let o=a.target.result;o?(r.push(o.value),o.continue()):(kI(e),i(r))}})}function Axe(t,e){let n=t.transaction(A1,"readonly",uE),r=n.objectStore(A1),i=[],a=IDBKeyRange.bound(e+1,1/0);if(r.getAll){let s=r.getAll(a);return new Promise((c,l)=>{s.onerror=u=>l(u),s.onsuccess=function(u){c(u.target.result)}})}function o(){try{return a=IDBKeyRange.bound(e+1,1/0),r.openCursor(a)}catch{return r.openCursor()}}return new Promise((s,c)=>{let l=o();l.onerror=u=>c(u),l.onsuccess=u=>{let f=u.target.result;f?f.value.id<e+1?f.continue(e+1):(i.push(f.value),f.continue()):(kI(n),s(i))}})}function _xe(t,e){let r=t.transaction([A1],"readwrite",uE).objectStore(A1);return Promise.all(e.map(i=>{let a=r.delete(i);return new Promise(o=>{a.onsuccess=()=>o()})}))}function Txe(t,e){let n=Date.now()-e,r=t.transaction(A1,"readonly",uE),i=r.objectStore(A1),a=[];return new Promise(o=>{i.openCursor().onsuccess=s=>{let c=s.target.result;if(c){let l=c.value;l.time<n?(a.push(l),c.continue()):(kI(r),o(a))}else o(a)}})}function Sxe(t,e){return Txe(t,e).then(n=>_xe(t,n.map(r=>r.id)))}function Svt(t,e){return e=hb(e),Exe(t).then(n=>{let r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:ub(),eMIs:new db(e.idb.ttl*2),writeBlockPromise:td,messagesCallback:null,readQueuePromises:[],db:n,time:jc()};return n.onclose=function(){r.closed=!0,e.idb.onclose&&e.idb.onclose()},Cxe(r),r})}function Cxe(t){t.closed||Ixe(t).then(()=>lE(t.options.idb.fallbackInterval)).then(()=>Cxe(t)).catch(e=>{throw e})}function Cvt(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function Ixe(t){return t.closed?td:t.messagesCallback?Axe(t.db,t.lastCursorId).then(e=>(e.filter(r=>!!r).map(r=>(r.id>t.lastCursorId&&(t.lastCursorId=r.id),r)).filter(r=>Cvt(r,t)).sort((r,i)=>r.time-i.time).forEach(r=>{t.messagesCallback&&(t.eMIs.add(r.id),t.messagesCallback(r.data))}),td)):td}function Ivt(t){t.closed=!0,t.db.close()}function Rvt(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(()=>xxe(t.db,t.uuid,e)).then(()=>(bxe(0,10)===0&&Sxe(t.db,t.options.idb.ttl),td)),t.writeBlockPromise}function Ovt(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,Ixe(t)}function Nvt(){return!!Zne()}function Pvt(t){return t.idb.fallbackInterval*2}var xvt,Avt,A1,uE,_vt,Xne=B(()=>{fb();jU();PI();xvt=jc,Avt="pubkey.broadcast-channel-0-",A1="messages",uE={durability:"relaxed"},_vt="idb"});var BI={};$t(BI,{addStorageEventListener:()=>Rxe,averageResponseTime:()=>Fvt,canBeUsed:()=>Nxe,close:()=>Lvt,create:()=>Dvt,getLocalStorage:()=>tre,microSeconds:()=>kvt,onMessage:()=>Uvt,postMessage:()=>Bvt,removeStorageEventListener:()=>Oxe,storageKey:()=>nre,type:()=>ere});function tre(){let t=null;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function nre(t){return Mvt+t}function Bvt(t,e){return new Promise((n,r)=>{lE().then(()=>{var i;let a=nre(t.channelName),o={token:ub(),time:Date.now(),data:e,uuid:t.uuid},s=JSON.stringify(o);(i=tre())===null||i===void 0||i.setItem(a,s);let c=document.createEvent("StorageEvent");c.initStorageEvent("storage",!0,!0,a,null,s,"",null),window.dispatchEvent(c),n()}).catch(r)})}function Rxe(t,e){let n=nre(t),r=i=>{i.key===n&&i.newValue&&e(JSON.parse(i.newValue))};return window.addEventListener("storage",r),r}function Oxe(t){window.removeEventListener("storage",t)}function Nxe(){let t=tre();if(!t)return!1;try{let e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function Dvt(t,e){let n=hb(e);if(!Nxe())throw new Error("BroadcastChannel: localstorage cannot be used");let r=ub(),i=new db(n.localstorage.removeTimeout),a={channelName:t,uuid:r,time:jc(),eMIs:i};return a.listener=Rxe(t,o=>{a.messagesCallback&&o.uuid!==r&&(!o.token||i.has(o.token)||o.data.time&&o.data.time<(a.messagesCallbackTime||0)||(i.add(o.token),a.messagesCallback(o.data)))}),a}function Lvt(t){t.listener&&Oxe(t.listener)}function Uvt(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function Fvt(){let e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120}var kvt,Mvt,ere,GU=B(()=>{jU();PI();fb();kvt=jc,Mvt="pubkey.broadcastChannel-",ere="localstorage"});var DI={};$t(DI,{averageResponseTime:()=>$vt,canBeUsed:()=>Kvt,close:()=>jvt,create:()=>zvt,microSeconds:()=>Hvt,onMessage:()=>Vvt,postMessage:()=>Gvt,type:()=>rre});function zvt(t){let e={time:jc(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=n=>{e.messagesCallback&&e.messagesCallback(n.data)},e}function jvt(t){t.bc.close(),t.subFns=[]}function Gvt(t,e){try{return t.bc.postMessage(e),td}catch(n){return Promise.reject(n)}}function Vvt(t,e){t.messagesCallback=e}function Kvt(){if(typeof window>"u")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1}function $vt(){return 150}var Hvt,rre,VU=B(()=>{fb();Hvt=jc,rre="native"});function Pu(t,e){if(!t)throw new Error(e||"Assertion failed")}function Yvt(t){return Buffer.isBuffer(t)&&t.length===32}function UI(t){return Yvt(t)?t.compare(Wvt)>0&&t.compare(qvt)<0:!1}function Jvt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function LI(t){if(typeof ku.getRandomValues>"u")return Buffer.from(ku.randomBytes(t));let e=new Uint8Array(t);return ku.getRandomValues(e),Buffer.from(e)}async function kxe(t){if(!ku.createHash){let r=await mb.digest("SHA-512",t);return new Uint8Array(r)}let n=ku.createHash("sha512").update(t).digest();return new Uint8Array(n)}function Mxe(t){return async function(e,n,r){if(mb&&mb[t]&&mb.importKey){let i={name:"AES-CBC"},a=await mb.importKey("raw",n,i,!1,[t]),o={name:"AES-CBC",iv:e},s=await mb[t](o,a,r);return Buffer.from(new Uint8Array(s))}else if(t==="encrypt"&&ku.createCipheriv){let i=ku.createCipheriv("aes-256-cbc",n,e),a=i.update(r),o=i.final();return Buffer.concat([a,o])}else if(t==="decrypt"&&ku.createDecipheriv){let i=ku.createDecipheriv("aes-256-cbc",n,e),a=i.update(r),o=i.final();return Buffer.concat([a,o])}throw new Error(`Unsupported operation: ${t}`)}}async function Bxe(t,e){if(!ku.createHmac){let i={name:"HMAC",hash:{name:"SHA-256"}},a=await mb.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),o=await mb.sign("HMAC",a,e);return Buffer.from(new Uint8Array(o))}let n=ku.createHmac("sha256",Buffer.from(t));return n.update(e),n.digest()}async function Xvt(t,e,n){let r=await Bxe(t,e);return Jvt(r,n)}var Pxe,KU,ku,mb,qvt,Wvt,Qvt,Zvt,Dxe,_1,fE,Lxe,Uxe,ire,$U=B(()=>{Pxe=fe(AI()),KU=new Pxe.ec("secp256k1"),ku=globalThis.crypto||globalThis.msCrypto||{},mb=ku.subtle||ku.webkitSubtle,qvt=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Wvt=Buffer.alloc(32,0);Qvt=Mxe("encrypt"),Zvt=Mxe("decrypt");Dxe=function(){let t=LI(32);for(;!UI(t);)t=LI(32);return t},_1=function(t){return Pu(t.length===32,"Bad private key"),Pu(UI(t),"Bad private key"),Buffer.from(KU.keyFromPrivate(t).getPublic("array"))},fE=async function(t,e){return Pu(t.length===32,"Bad private key"),Pu(UI(t),"Bad private key"),Pu(e.length>0,"Message should not be empty"),Pu(e.length<=32,"Message is too long"),Buffer.from(KU.sign(e,t,{canonical:!0}).toDER())},Lxe=async function(t,e,n){Pu(Buffer.isBuffer(t),"Bad private key"),Pu(Buffer.isBuffer(e),"Bad public key"),Pu(t.length===32,"Bad private key"),Pu(UI(t),"Bad private key"),Pu(e.length===65||e.length===33,"Bad public key"),e.length===65&&Pu(e[0]===4,"Bad public key"),e.length===33&&Pu(e[0]===2||e[0]===3,"Bad public key");let r=KU.keyFromPrivate(t),i=KU.keyFromPublic(e),a=r.derive(i.getPublic());return n?Buffer.from(a.toString(16,64),"hex"):Buffer.from(a.toArray())},Uxe=async function(t,e,n){n=n||{};let r=n.ephemPrivateKey||LI(32);for(;!UI(r);)r=n.ephemPrivateKey||LI(32);let i=_1(r),a=await Lxe(r,t,n.padding),o=await kxe(a),s=n.iv||LI(16),c=o.slice(0,32),l=o.slice(32),f=await Qvt(s,Buffer.from(c),e),d=Buffer.concat([s,i,f]),p=await Bxe(Buffer.from(l),d);return{iv:s,ephemPublicKey:i,ciphertext:f,mac:p}},ire=async function(t,e,n){let r=await Lxe(t,e.ephemPublicKey,n),i=await kxe(r),a=i.slice(0,32),o=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),c=await Xvt(Buffer.from(o),s,e.mac);if(!c&&!n)return ire(t,e,!0);if(!c&&n===!0)throw new Error("bad MAC after trying padded");let l=await Zvt(e.iv,Buffer.from(a),e.ciphertext);return Buffer.from(new Uint8Array(l))}});var Gxe=le((fAn,jxe)=>{"use strict";var qU,Pn,Fxe={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},are;function yb(t){throw{name:"SyntaxError",message:t,at:qU,text:are}}function Fr(t){return t&&t!==Pn&&yb("Expected '"+t+"' instead of '"+Pn+"'"),Pn=are.charAt(qU),qU+=1,Pn}function Hxe(){var t,e="";for(Pn==="-"&&(e="-",Fr("-"));Pn>="0"&&Pn<="9";)e+=Pn,Fr();if(Pn===".")for(e+=".";Fr()&&Pn>="0"&&Pn<="9";)e+=Pn;if(Pn==="e"||Pn==="E")for(e+=Pn,Fr(),(Pn==="-"||Pn==="+")&&(e+=Pn,Fr());Pn>="0"&&Pn<="9";)e+=Pn,Fr();return t=Number(e),isFinite(t)||yb("Bad number"),t}function zxe(){var t,e,n="",r;if(Pn==='"')for(;Fr();){if(Pn==='"')return Fr(),n;if(Pn==="\\")if(Fr(),Pn==="u"){for(r=0,e=0;e<4&&(t=parseInt(Fr(),16),!!isFinite(t));e+=1)r=r*16+t;n+=String.fromCharCode(r)}else if(typeof Fxe[Pn]=="string")n+=Fxe[Pn];else break;else n+=Pn}yb("Bad string")}function n5(){for(;Pn&&Pn<=" ";)Fr()}function e4t(){switch(Pn){case"t":return Fr("t"),Fr("r"),Fr("u"),Fr("e"),!0;case"f":return Fr("f"),Fr("a"),Fr("l"),Fr("s"),Fr("e"),!1;case"n":return Fr("n"),Fr("u"),Fr("l"),Fr("l"),null;default:yb("Unexpected '"+Pn+"'")}}function t4t(){var t=[];if(Pn==="["){if(Fr("["),n5(),Pn==="]")return Fr("]"),t;for(;Pn;){if(t.push(WU()),n5(),Pn==="]")return Fr("]"),t;Fr(","),n5()}}yb("Bad array")}function n4t(){var t,e={};if(Pn==="{"){if(Fr("{"),n5(),Pn==="}")return Fr("}"),e;for(;Pn;){if(t=zxe(),n5(),Fr(":"),Object.prototype.hasOwnProperty.call(e,t)&&yb('Duplicate key "'+t+'"'),e[t]=WU(),n5(),Pn==="}")return Fr("}"),e;Fr(","),n5()}}yb("Bad object")}function WU(){switch(n5(),Pn){case"{":return n4t();case"[":return t4t();case'"':return zxe();case"-":return Hxe();default:return Pn>="0"&&Pn<="9"?Hxe():e4t()}}jxe.exports=function(t,e){var n;return are=t,qU=0,Pn=" ",n=WU(),n5(),Pn&&yb("Syntax error"),typeof e=="function"?(function r(i,a){var o,s,c=i[a];if(c&&typeof c=="object")for(o in WU)Object.prototype.hasOwnProperty.call(c,o)&&(s=r(c,o),typeof s>"u"?delete c[o]:c[o]=s);return e.call(i,a,c)})({"":n},""):n}});var Kxe=le((dAn,Vxe)=>{"use strict";var ore=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Mu,YU,r4t={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},I3;function sre(t){return ore.lastIndex=0,ore.test(t)?'"'+t.replace(ore,function(e){var n=r4t[e];return typeof n=="string"?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function JU(t,e){var n,r,i,a,o=Mu,s,c=e[t];switch(c&&typeof c=="object"&&typeof c.toJSON=="function"&&(c=c.toJSON(t)),typeof I3=="function"&&(c=I3.call(e,t,c)),typeof c){case"string":return sre(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(Mu+=YU,s=[],Object.prototype.toString.apply(c)==="[object Array]"){for(a=c.length,n=0;n<a;n+=1)s[n]=JU(n,c)||"null";return i=s.length===0?"[]":Mu?`[
`+Mu+s.join(`,
`+Mu)+`
`+o+"]":"["+s.join(",")+"]",Mu=o,i}if(I3&&typeof I3=="object")for(a=I3.length,n=0;n<a;n+=1)r=I3[n],typeof r=="string"&&(i=JU(r,c),i&&s.push(sre(r)+(Mu?": ":":")+i));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=JU(r,c),i&&s.push(sre(r)+(Mu?": ":":")+i));return i=s.length===0?"{}":Mu?`{
`+Mu+s.join(`,
`+Mu)+`
`+o+"}":"{"+s.join(",")+"}",Mu=o,i;default:}}Vxe.exports=function(t,e,n){var r;if(Mu="",YU="",typeof n=="number")for(r=0;r<n;r+=1)YU+=" ";else typeof n=="string"&&(YU=n);if(I3=e,e&&typeof e!="function"&&(typeof e!="object"||typeof e.length!="number"))throw new Error("JSON.stringify");return JU("",{"":t})}});var $xe=le(cre=>{"use strict";cre.parse=Gxe();cre.stringify=Kxe()});var Wxe=le((hAn,qxe)=>{var i4t={}.toString;qxe.exports=Array.isArray||function(t){return i4t.call(t)=="[object Array]"}});var lre=le((mAn,Jxe)=>{"use strict";var Yxe=Object.prototype.toString;Jxe.exports=function(e){var n=Yxe.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Yxe.call(e.callee)==="[object Function]"),r}});var aAe=le((yAn,iAe)=>{"use strict";var rAe;Object.keys||(FI=Object.prototype.hasOwnProperty,ure=Object.prototype.toString,Qxe=lre(),fre=Object.prototype.propertyIsEnumerable,Zxe=!fre.call({toString:null},"toString"),Xxe=fre.call(function(){},"prototype"),HI=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],QU=function(t){var e=t.constructor;return e&&e.prototype===t},eAe={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},tAe=(function(){if(typeof window>"u")return!1;for(var t in window)try{if(!eAe["$"+t]&&FI.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{QU(window[t])}catch{return!0}}catch{return!0}return!1})(),nAe=function(t){if(typeof window>"u"||!tAe)return QU(t);try{return QU(t)}catch{return!1}},rAe=function(e){var n=e!==null&&typeof e=="object",r=ure.call(e)==="[object Function]",i=Qxe(e),a=n&&ure.call(e)==="[object String]",o=[];if(!n&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var s=Xxe&&r;if(a&&e.length>0&&!FI.call(e,0))for(var c=0;c<e.length;++c)o.push(String(c));if(i&&e.length>0)for(var l=0;l<e.length;++l)o.push(String(l));else for(var u in e)!(s&&u==="prototype")&&FI.call(e,u)&&o.push(String(u));if(Zxe)for(var f=nAe(e),d=0;d<HI.length;++d)!(f&&HI[d]==="constructor")&&FI.call(e,HI[d])&&o.push(HI[d]);return o});var FI,ure,Qxe,fre,Zxe,Xxe,HI,QU,eAe,tAe,nAe;iAe.exports=rAe});var lAe=le((bAn,cAe)=>{"use strict";var a4t=Array.prototype.slice,o4t=lre(),oAe=Object.keys,ZU=oAe?function(e){return oAe(e)}:aAe(),sAe=Object.keys;ZU.shim=function(){if(Object.keys){var e=(function(){var n=Object.keys(arguments);return n&&n.length===arguments.length})(1,2);e||(Object.keys=function(r){return o4t(r)?sAe(a4t.call(r)):sAe(r)})}else Object.keys=ZU;return Object.keys||ZU};cAe.exports=ZU});var dre=le((gAn,uAe)=>{"use strict";uAe.exports=Object});var dAe=le((wAn,fAe)=>{"use strict";fAe.exports=Error});var hAe=le((vAn,pAe)=>{"use strict";pAe.exports=EvalError});var yAe=le((EAn,mAe)=>{"use strict";mAe.exports=RangeError});var gAe=le((xAn,bAe)=>{"use strict";bAe.exports=ReferenceError});var pre=le((AAn,wAe)=>{"use strict";wAe.exports=SyntaxError});var zI=le((_An,vAe)=>{"use strict";vAe.exports=TypeError});var xAe=le((TAn,EAe)=>{"use strict";EAe.exports=URIError});var _Ae=le((SAn,AAe)=>{"use strict";AAe.exports=Math.abs});var SAe=le((CAn,TAe)=>{"use strict";TAe.exports=Math.floor});var IAe=le((IAn,CAe)=>{"use strict";CAe.exports=Math.max});var OAe=le((RAn,RAe)=>{"use strict";RAe.exports=Math.min});var PAe=le((OAn,NAe)=>{"use strict";NAe.exports=Math.pow});var MAe=le((NAn,kAe)=>{"use strict";kAe.exports=Math.round});var DAe=le((PAn,BAe)=>{"use strict";BAe.exports=Number.isNaN||function(e){return e!==e}});var UAe=le((kAn,LAe)=>{"use strict";var s4t=DAe();LAe.exports=function(e){return s4t(e)||e===0?e:e<0?-1:1}});var HAe=le((MAn,FAe)=>{"use strict";FAe.exports=Object.getOwnPropertyDescriptor});var jI=le((BAn,zAe)=>{"use strict";var XU=HAe();if(XU)try{XU([],"length")}catch{XU=null}zAe.exports=XU});var GI=le((DAn,jAe)=>{"use strict";var eF=Object.defineProperty||!1;if(eF)try{eF({},"a",{value:1})}catch{eF=!1}jAe.exports=eF});var VAe=le((LAn,GAe)=>{"use strict";GAe.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var qAe=le((UAn,$Ae)=>{"use strict";var KAe=typeof Symbol<"u"&&Symbol,c4t=VAe();$Ae.exports=function(){return typeof KAe!="function"||typeof Symbol!="function"||typeof KAe("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:c4t()}});var hre=le((FAn,WAe)=>{"use strict";WAe.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var mre=le((HAn,YAe)=>{"use strict";var l4t=dre();YAe.exports=l4t.getPrototypeOf||null});var ZAe=le((zAn,QAe)=>{"use strict";var u4t="Function.prototype.bind called on incompatible ",f4t=Object.prototype.toString,d4t=Math.max,p4t="[object Function]",JAe=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var a=0;a<n.length;a+=1)r[a+e.length]=n[a];return r},h4t=function(e,n){for(var r=[],i=n||0,a=0;i<e.length;i+=1,a+=1)r[a]=e[i];return r},m4t=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};QAe.exports=function(e){var n=this;if(typeof n!="function"||f4t.apply(n)!==p4t)throw new TypeError(u4t+n);for(var r=h4t(arguments,1),i,a=function(){if(this instanceof i){var u=n.apply(this,JAe(r,arguments));return Object(u)===u?u:this}return n.apply(e,JAe(r,arguments))},o=d4t(0,n.length-r.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+m4t(s,",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var dE=le((jAn,XAe)=>{"use strict";var y4t=ZAe();XAe.exports=Function.prototype.bind||y4t});var tF=le((GAn,e_e)=>{"use strict";e_e.exports=Function.prototype.call});var nF=le((VAn,t_e)=>{"use strict";t_e.exports=Function.prototype.apply});var r_e=le((KAn,n_e)=>{"use strict";n_e.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var yre=le(($An,i_e)=>{"use strict";var b4t=dE(),g4t=nF(),w4t=tF(),v4t=r_e();i_e.exports=v4t||b4t.call(w4t,g4t)});var rF=le((qAn,a_e)=>{"use strict";var E4t=dE(),x4t=zI(),A4t=tF(),_4t=yre();a_e.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new x4t("a function is required");return _4t(E4t,A4t,e)}});var f_e=le((WAn,u_e)=>{"use strict";var T4t=rF(),o_e=jI(),c_e;try{c_e=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var bre=!!c_e&&o_e&&o_e(Object.prototype,"__proto__"),l_e=Object,s_e=l_e.getPrototypeOf;u_e.exports=bre&&typeof bre.get=="function"?T4t([bre.get]):typeof s_e=="function"?function(e){return s_e(e==null?e:l_e(e))}:!1});var y_e=le((YAn,m_e)=>{"use strict";var d_e=hre(),p_e=mre(),h_e=f_e();m_e.exports=d_e?function(e){return d_e(e)}:p_e?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return p_e(e)}:h_e?function(e){return h_e(e)}:null});var g_e=le((JAn,b_e)=>{"use strict";var S4t=Function.prototype.call,C4t=Object.prototype.hasOwnProperty,I4t=dE();b_e.exports=I4t.call(S4t,C4t)});var vre=le((QAn,__e)=>{"use strict";var fr,R4t=dre(),O4t=dAe(),N4t=hAe(),P4t=yAe(),k4t=gAe(),yE=pre(),mE=zI(),M4t=xAe(),B4t=_Ae(),D4t=SAe(),L4t=IAe(),U4t=OAe(),F4t=PAe(),H4t=MAe(),z4t=UAe(),x_e=Function,gre=function(t){try{return x_e('"use strict"; return ('+t+").constructor;")()}catch{}},VI=jI(),j4t=GI(),wre=function(){throw new mE},G4t=VI?(function(){try{return arguments.callee,wre}catch{try{return VI(arguments,"callee").get}catch{return wre}}})():wre,pE=qAe()(),ks=y_e(),V4t=mre(),K4t=hre(),A_e=nF(),KI=tF(),hE={},$4t=typeof Uint8Array>"u"||!ks?fr:ks(Uint8Array),R3={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?fr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?fr:ArrayBuffer,"%ArrayIteratorPrototype%":pE&&ks?ks([][Symbol.iterator]()):fr,"%AsyncFromSyncIteratorPrototype%":fr,"%AsyncFunction%":hE,"%AsyncGenerator%":hE,"%AsyncGeneratorFunction%":hE,"%AsyncIteratorPrototype%":hE,"%Atomics%":typeof Atomics>"u"?fr:Atomics,"%BigInt%":typeof BigInt>"u"?fr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?fr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?fr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?fr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":O4t,"%eval%":eval,"%EvalError%":N4t,"%Float16Array%":typeof Float16Array>"u"?fr:Float16Array,"%Float32Array%":typeof Float32Array>"u"?fr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?fr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?fr:FinalizationRegistry,"%Function%":x_e,"%GeneratorFunction%":hE,"%Int8Array%":typeof Int8Array>"u"?fr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?fr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?fr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":pE&&ks?ks(ks([][Symbol.iterator]())):fr,"%JSON%":typeof JSON=="object"?JSON:fr,"%Map%":typeof Map>"u"?fr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!pE||!ks?fr:ks(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":R4t,"%Object.getOwnPropertyDescriptor%":VI,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?fr:Promise,"%Proxy%":typeof Proxy>"u"?fr:Proxy,"%RangeError%":P4t,"%ReferenceError%":k4t,"%Reflect%":typeof Reflect>"u"?fr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?fr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!pE||!ks?fr:ks(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?fr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":pE&&ks?ks(""[Symbol.iterator]()):fr,"%Symbol%":pE?Symbol:fr,"%SyntaxError%":yE,"%ThrowTypeError%":G4t,"%TypedArray%":$4t,"%TypeError%":mE,"%Uint8Array%":typeof Uint8Array>"u"?fr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?fr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?fr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?fr:Uint32Array,"%URIError%":M4t,"%WeakMap%":typeof WeakMap>"u"?fr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?fr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?fr:WeakSet,"%Function.prototype.call%":KI,"%Function.prototype.apply%":A_e,"%Object.defineProperty%":j4t,"%Object.getPrototypeOf%":V4t,"%Math.abs%":B4t,"%Math.floor%":D4t,"%Math.max%":L4t,"%Math.min%":U4t,"%Math.pow%":F4t,"%Math.round%":H4t,"%Math.sign%":z4t,"%Reflect.getPrototypeOf%":K4t};if(ks)try{null.error}catch(t){w_e=ks(ks(t)),R3["%Error.prototype%"]=w_e}var w_e,q4t=function t(e){var n;if(e==="%AsyncFunction%")n=gre("async function () {}");else if(e==="%GeneratorFunction%")n=gre("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=gre("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ks&&(n=ks(i.prototype))}return R3[e]=n,n},v_e={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$I=dE(),iF=g_e(),W4t=$I.call(KI,Array.prototype.concat),Y4t=$I.call(A_e,Array.prototype.splice),E_e=$I.call(KI,String.prototype.replace),aF=$I.call(KI,String.prototype.slice),J4t=$I.call(KI,RegExp.prototype.exec),Q4t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z4t=/\\(\\)?/g,X4t=function(e){var n=aF(e,0,1),r=aF(e,-1);if(n==="%"&&r!=="%")throw new yE("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new yE("invalid intrinsic syntax, expected opening `%`");var i=[];return E_e(e,Q4t,function(a,o,s,c){i[i.length]=s?E_e(c,Z4t,"$1"):o||a}),i},e9t=function(e,n){var r=e,i;if(iF(v_e,r)&&(i=v_e[r],r="%"+i[0]+"%"),iF(R3,r)){var a=R3[r];if(a===hE&&(a=q4t(r)),typeof a>"u"&&!n)throw new mE("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:a}}throw new yE("intrinsic "+e+" does not exist!")};__e.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new mE("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new mE('"allowMissing" argument must be a boolean');if(J4t(/^%?[^%]*%?$/,e)===null)throw new yE("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=X4t(e),i=r.length>0?r[0]:"",a=e9t("%"+i+"%",n),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],Y4t(r,W4t([0,1],l)));for(var u=1,f=!0;u<r.length;u+=1){var d=r[u],p=aF(d,0,1),h=aF(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new yE("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(c=!0),i+="."+d,o="%"+i+"%",iF(R3,o))s=R3[o];else if(s!=null){if(!(d in s)){if(!n)throw new mE("base intrinsic for "+e+" exists, but the property is not available.");return}if(VI&&u+1>=r.length){var m=VI(s,d);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?s=m.get:s=s[d]}else f=iF(s,d),s=s[d];f&&!c&&(R3[o]=s)}}return s}});var I_e=le((ZAn,C_e)=>{"use strict";var T_e=GI(),t9t=pre(),bE=zI(),S_e=jI();C_e.exports=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new bE("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new bE("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new bE("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new bE("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new bE("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new bE("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!S_e&&S_e(e,n);if(T_e)T_e(e,n,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:r,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[n]=r;else throw new t9t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var N_e=le((XAn,O_e)=>{"use strict";var Ere=GI(),R_e=function(){return!!Ere};R_e.hasArrayLengthDefineBug=function(){if(!Ere)return null;try{return Ere([],"length",{value:1}).length!==1}catch{return!0}};O_e.exports=R_e});var D_e=le((e_n,B_e)=>{"use strict";var n9t=vre(),P_e=I_e(),r9t=N_e()(),k_e=jI(),M_e=zI(),i9t=n9t("%Math.floor%");B_e.exports=function(e,n){if(typeof e!="function")throw new M_e("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||i9t(n)!==n)throw new M_e("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&k_e){var o=k_e(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!r)&&(r9t?P_e(e,"length",n,!0,!0):P_e(e,"length",n)),e}});var U_e=le((t_n,L_e)=>{"use strict";var a9t=dE(),o9t=nF(),s9t=yre();L_e.exports=function(){return s9t(a9t,o9t,arguments)}});var z_e=le((n_n,oF)=>{"use strict";var c9t=D_e(),F_e=GI(),l9t=rF(),H_e=U_e();oF.exports=function(e){var n=l9t(arguments),r=e.length-(arguments.length-1);return c9t(n,1+(r>0?r:0),!0)};F_e?F_e(oF.exports,"apply",{value:H_e}):oF.exports.apply=H_e});var K_e=le((r_n,V_e)=>{"use strict";var j_e=vre(),G_e=rF(),u9t=G_e([j_e("%String.prototype.indexOf%")]);V_e.exports=function(e,n){var r=j_e(e,!!n);return typeof r=="function"&&u9t(e,".prototype.")>-1?G_e([r]):r}});var O3=le((i_n,W_e)=>{"use strict";var sF=(typeof JSON<"u"?JSON:$xe()).stringify,f9t=Wxe(),d9t=lAe(),p9t=z_e(),cF=K_e(),h9t=cF("Array.prototype.join"),$_e=cF("Array.prototype.indexOf"),m9t=cF("Array.prototype.splice"),y9t=cF("Array.prototype.sort"),q_e=function(e,n){for(var r="",i=0;i<e;i+=1)r+=n;return r},b9t=function(t,e,n){return n};W_e.exports=function(e){var n=arguments.length>1?arguments[1]:void 0,r=n&&n.space||"";typeof r=="number"&&(r=q_e(r," "));var i=!!n&&typeof n.cycles=="boolean"&&n.cycles,a=n&&n.replacer?p9t(n.replacer):b9t;if(n&&typeof n.collapseEmpty<"u"&&typeof n.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var o=!!n&&n.collapseEmpty,s=typeof n=="function"?n:n&&n.cmp,c=s&&function(u){var f=s.length>2&&function(p){return u[p]};return function(d,p){return s({key:d,value:u[d]},{key:p,value:u[p]},f?{__proto__:null,get:f}:void 0)}},l=[];return(function u(f,d,p,h){var m=r?`
`+q_e(h,r):"",w=r?": ":":";if(p&&p.toJSON&&typeof p.toJSON=="function"&&(p=p.toJSON()),p=a(f,d,p),p!==void 0){if(typeof p!="object"||p===null)return sF(p);var g=function(O,M){return o&&O.length===0?M:(M==="[]"?"[":"{")+h9t(O,",")+m+(M==="[]"?"]":"}")};if(f9t(p)){for(var D=[],x=0;x<p.length;x++){var C=u(p,x,p[x],h+1)||sF(null);D[D.length]=m+r+C}return g(D,"[]")}if($_e(l,p)!==-1){if(i)return sF("__cycle__");throw new TypeError("Converting circular structure to JSON")}else l[l.length]=p;for(var P=y9t(d9t(p),c&&c(p)),D=[],x=0;x<P.length;x++){var d=P[x],F=u(p,d,p[d],h+1);if(F){var H=sF(d)+w+F;D[D.length]=m+r+H}}return m9t(l,$_e(l,p),1),g(D,"{}")}})({"":e},"",e,0)}});function T9t(t,e=24){let n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let s=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=Y_e(l,u,1)^n[s],d=J_e(l,u,1)^n[s+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let i=t[2],a=t[3];for(let o=0;o<24;o++){let s=Z_e[o],c=Y_e(i,a,s),l=J_e(i,a,s),u=Q_e[o];i=t[u],a=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let s=0;s<10;s++)n[s]=t[o+s];for(let s=0;s<10;s++)t[o+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=A9t[r],t[1]^=_9t[r]}Yf(n)}var g9t,qI,w9t,v9t,E9t,x9t,Q_e,Z_e,X_e,eTe,A9t,_9t,Y_e,J_e,xre,lF,uF,Gc,fF,dF,N3=B(()=>{sne();Is();g9t=BigInt(0),qI=BigInt(1),w9t=BigInt(2),v9t=BigInt(7),E9t=BigInt(256),x9t=BigInt(113),Q_e=[],Z_e=[],X_e=[];for(let t=0,e=qI,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Q_e.push(2*(5*r+n)),Z_e.push((t+1)*(t+2)/2%64);let i=g9t;for(let a=0;a<7;a++)e=(e<<qI^(e>>v9t)*x9t)%E9t,e&w9t&&(i^=qI<<(qI<<BigInt(a))-qI);X_e.push(i)}eTe=cU(X_e,!0),A9t=eTe[0],_9t=eTe[1],Y_e=(t,e,n)=>n>32?n9e(t,e,n):e9e(t,e,n),J_e=(t,e,n)=>n>32?r9e(t,e,n):t9e(t,e,n);xre=class t extends Jy{constructor(e,n,r,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,zc(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=W4e(this.state)}clone(){return this._cloneInto()}keccak(){ine(this.state32),T9t(this.state32,this.rounds),ine(this.state32),this.posOut=0,this.pos=0}update(e){Kp(this),e=p3(e),Li(e);let{blockLen:n,state:r}=this,i=e.length;for(let a=0;a<i;){let o=Math.min(n-this.pos,i-a);for(let s=0;s<o;s++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Kp(this,!1),Li(e),this.finish();let n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pI(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Yf(this.state)}_cloneInto(e){let{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:o}=this;return e||(e=new t(n,r,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}},lF=(t,e,n)=>hI(()=>new xre(e,t,n)),uF=lF(1,144,224/8),Gc=lF(1,136,256/8),fF=lF(1,104,384/8),dF=lF(1,72,512/8)});var pF,Are=B(()=>{Is();pF=Li});function WI(t){return e=>(pF(e),t(e))}var tTe=B(()=>{Are()});var m_n,nTe,y_n,b_n,rTe=B(()=>{N3();tTe();m_n=WI(uF),nTe=(()=>{let t=WI(Gc);return t.create=Gc.create,t})(),y_n=WI(fF),b_n=WI(dF)});function r5(t){return Buffer.from(nTe(t))}var iTe,_re,Tre=B(()=>{iTe=fe(AI());rTe();_re=new iTe.ec("secp256k1")});function aTe(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function oTe(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function P3(t,e){let n=JSON.stringify(e),r=Buffer.from(n,"utf-8"),i=await Uxe(_1(Buffer.from(t,"hex")),r),a=oTe(i);return JSON.stringify(a)}async function YI(t,e){let n=JSON.parse(e),r=aTe(n),i=_re.keyFromPrivate(t),o=(await ire(Buffer.from(i.getPrivate().toString("hex",64),"hex"),r)).toString("utf-8");return JSON.parse(o)}var sTe=B(()=>{$U();Tre()});var Sre=B(()=>{Tre();sTe()});var T1,JI,QI,hF=B(()=>{T1=Object.create(null);T1.open="0";T1.close="1";T1.ping="2";T1.pong="3";T1.message="4";T1.upgrade="5";T1.noop="6";JI=Object.create(null);Object.keys(T1).forEach(t=>{JI[T1[t]]=t});QI={type:"error",data:"parser error"}});function lTe(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function pTe(t,e){if(uTe&&t.data instanceof Blob)return t.data.arrayBuffer().then(lTe).then(e);if(fTe&&(t.data instanceof ArrayBuffer||dTe(t.data)))return e(lTe(t.data));ZI(t,!1,n=>{Cre||(Cre=new TextEncoder),e(Cre.encode(n))})}var uTe,fTe,dTe,ZI,cTe,Cre,hTe=B(()=>{hF();uTe=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fTe=typeof ArrayBuffer=="function",dTe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ZI=({type:t,data:e},n,r)=>uTe&&e instanceof Blob?n?r(e):cTe(e,r):fTe&&(e instanceof ArrayBuffer||dTe(e))?n?r(e):cTe(new Blob([e]),r):r(T1[t]+(e||"")),cTe=(t,e)=>{let n=new FileReader;return n.onload=function(){let r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)}});var mTe,XI,yTe,bTe=B(()=>{mTe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",XI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<mTe.length;t++)XI[mTe.charCodeAt(t)]=t;yTe=t=>{let e=t.length*.75,n=t.length,r,i=0,a,o,s,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)a=XI[t.charCodeAt(r)],o=XI[t.charCodeAt(r+1)],s=XI[t.charCodeAt(r+2)],c=XI[t.charCodeAt(r+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|s>>2,u[i++]=(s&3)<<6|c&63;return l}});var S9t,eR,C9t,gTe,wTe=B(()=>{hF();bTe();S9t=typeof ArrayBuffer=="function",eR=(t,e)=>{if(typeof t!="string")return{type:"message",data:gTe(t,e)};let n=t.charAt(0);return n==="b"?{type:"message",data:C9t(t.substring(1),e)}:JI[n]?t.length>1?{type:JI[n],data:t.substring(1)}:{type:JI[n]}:QI},C9t=(t,e)=>{if(S9t){let n=yTe(t);return gTe(n,e)}else return{base64:!0,data:t}},gTe=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}}});function ATe(){return new TransformStream({transform(t,e){pTe(t,n=>{let r=n.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);let a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}function mF(t){return t.reduce((e,n)=>e+n.length,0)}function yF(t,e){if(t[0].length===e)return t.shift();let n=new Uint8Array(e),r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function _Te(t,e){Ire||(Ire=new TextDecoder);let n=[],r=0,i=-1,a=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(r===0){if(mF(n)<1)break;let c=yF(n,1);a=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(mF(n)<2)break;let c=yF(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(mF(n)<8)break;let c=yF(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(QI);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(mF(n)<i)break;let c=yF(n,i);s.enqueue(eR(a?c:Ire.decode(c),e)),r=0}if(i===0||i>t){s.enqueue(QI);break}}}})}var vTe,ETe,xTe,Ire,Rre,gE=B(()=>{hTe();wTe();hF();vTe="",ETe=(t,e)=>{let n=t.length,r=new Array(n),i=0;t.forEach((a,o)=>{ZI(a,!1,s=>{r[o]=s,++i===n&&e(r.join(vTe))})})},xTe=(t,e)=>{let n=t.split(vTe),r=[];for(let i=0;i<n.length;i++){let a=eR(n[i],e);if(r.push(a),a.type==="error")break}return r};Rre=4});function Wi(t){if(t)return I9t(t)}function I9t(t){for(var e in Wi.prototype)t[e]=Wi.prototype[e];return t}var k3=B(()=>{Wi.prototype.on=Wi.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Wi.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Wi.prototype.off=Wi.prototype.removeListener=Wi.prototype.removeAllListeners=Wi.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Wi.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Wi.prototype.emitReserved=Wi.prototype.emit;Wi.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Wi.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var i5,Vc,TTe,M3=B(()=>{i5=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Vc=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),TTe="arraybuffer"});function bF(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function a5(t,e){e.useNativeTimers?(t.setTimeoutFn=R9t.bind(Vc),t.clearTimeoutFn=O9t.bind(Vc)):(t.setTimeoutFn=Vc.setTimeout.bind(Vc),t.clearTimeoutFn=Vc.clearTimeout.bind(Vc))}function STe(t){return typeof t=="string"?P9t(t):Math.ceil((t.byteLength||t.size)*N9t)}function P9t(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function gF(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var R9t,O9t,N9t,B3=B(()=>{M3();R9t=Vc.setTimeout,O9t=Vc.clearTimeout;N9t=1.33});function CTe(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function ITe(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}var Ore=B(()=>{});var wF,o5,tR=B(()=>{gE();k3();B3();Ore();wF=class extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}},o5=class extends Wi{constructor(e){super(),this.writable=!1,a5(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new wF(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let n=eR(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let n=CTe(e);return n.length?"?"+n:""}}});var nR,Nre=B(()=>{tR();B3();gE();nR=class extends o5{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};xTe(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ETe(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=gF()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}});var RTe,OTe,NTe=B(()=>{RTe=!1;try{RTe=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}OTe=RTe});function k9t(){}function PTe(){for(let t in bb.requests)bb.requests.hasOwnProperty(t)&&bb.requests[t].abort()}function kTe(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||OTe))return new XMLHttpRequest}catch{}if(!e)try{return new Vc[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Pre,bb,M9t,gb,vF=B(()=>{Nre();k3();B3();M3();NTe();Pre=class extends nR{constructor(e){if(super(e),typeof location<"u"){let n=location.protocol==="https:",r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){let r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}},bb=class t extends Wi{constructor(e,n,r){super(),this.createRequest=e,a5(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;let n=bF(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=t.requestsCount++,t.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=k9t,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};bb.requestsCount=0;bb.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",PTe);else if(typeof addEventListener=="function"){let t="onpagehide"in Vc?"pagehide":"unload";addEventListener(t,PTe,!1)}}M9t=(function(){let t=kTe({xdomain:!1});return t&&t.responseType!==null})(),gb=class extends Pre{constructor(e){super(e);let n=e&&e.forceBase64;this.supportsBinary=M9t&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new bb(kTe,this.uri(),e)}}});var MTe,Mre,kre,wb,EF=B(()=>{tR();B3();gE();M3();MTe=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Mre=class extends o5{get name(){return"websocket"}doOpen(){let e=this.uri(),n=this.opts.protocols,r=MTe?{}:bF(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;ZI(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&i5(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=gF()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}},kre=Vc.WebSocket||Vc.MozWebSocket,wb=class extends Mre{createSocket(e,n,r){return MTe?new kre(e,n,r):n?new kre(e,n):new kre(e)}doWrite(e,n){this.ws.send(n)}}});var wE,Bre=B(()=>{tR();M3();gE();wE=class extends o5{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let n=_Te(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=ATe();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let a=()=>{r.read().then(({done:s,value:c})=>{s||(this.onPacket(c),a())}).catch(s=>{})};a();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&i5(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var Dre,Lre=B(()=>{vF();EF();Bre();Dre={websocket:wb,webtransport:wE,polling:gb}});function vE(t){if(t.length>8e3)throw"URI too long";let e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=B9t.exec(t||""),a={},o=14;for(;o--;)a[D9t[o]]=i[o]||"";return n!=-1&&r!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=L9t(a,a.path),a.queryKey=U9t(a,a.query),a}function L9t(t,e){let n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function U9t(t,e){let n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}var B9t,D9t,Ure=B(()=>{B9t=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,D9t=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var Fre,xF,D3,AF,EE,Hre=B(()=>{Lre();B3();Ore();Ure();k3();gE();M3();Fre=typeof addEventListener=="function"&&typeof removeEventListener=="function",xF=[];Fre&&addEventListener("offline",()=>{xF.forEach(t=>t())},!1);D3=class t extends Wi{constructor(e,n){if(super(),this.binaryType=TTe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){let r=vE(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=vE(n.host).host);a5(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{let i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ITe(this.opts.query)),Fre&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},xF.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let n=Object.assign({},this.opts.query);n.EIO=Rre,n.transport=e,this.id&&(n.sid=this.id);let r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){let i=this.writeBuffer[r].data;if(i&&(n+=STe(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,i5(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let a={type:e,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Fre&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let r=xF.indexOf(this._offlineEventListener);r!==-1&&xF.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}};D3.protocol=Rre;AF=class extends D3{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;D3.priorWebsocketSuccess=!1;let i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;D3.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{let d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function a(){r||(r=!0,u(),n.close(),n=null)}let o=f=>{let d=new Error("probe error: "+f);d.transport=n.name,a(),this.emitReserved("upgradeError",d)};function s(){o("transport closed")}function c(){o("socket closed")}function l(f){n&&f.name!==n.name&&a()}let u=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",s),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",o),n.once("close",s),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}},EE=class extends AF{constructor(e,n={}){let r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Dre[i]).filter(i=>!!i)),super(e,r)}}});var BTe=B(()=>{Nre()});var LTn,_F=B(()=>{Hre();Hre();tR();Lre();B3();Ure();M3();BTe();vF();vF();EF();EF();Bre();LTn=EE.protocol});function DTe(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=vE(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+e,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}var LTe=B(()=>{_F()});function iR(t){return H9t&&(t instanceof ArrayBuffer||z9t(t))||j9t&&t instanceof Blob||G9t&&t instanceof File}function rR(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(rR(t[n]))return!0;return!1}if(iR(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return rR(t.toJSON(),!0);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&rR(t[n]))return!0;return!1}var H9t,z9t,UTe,j9t,G9t,zre=B(()=>{H9t=typeof ArrayBuffer=="function",z9t=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,UTe=Object.prototype.toString,j9t=typeof Blob=="function"||typeof Blob<"u"&&UTe.call(Blob)==="[object BlobConstructor]",G9t=typeof File=="function"||typeof File<"u"&&UTe.call(File)==="[object FileConstructor]"});function FTe(t){let e=[],n=t.data,r=t;return r.data=jre(n,e),r.attachments=e.length,{packet:r,buffers:e}}function jre(t,e){if(!t)return t;if(iR(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){let n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=jre(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=jre(t[r],e));return n}return t}function HTe(t,e){return t.data=Gre(t.data,e),delete t.attachments,t}function Gre(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Gre(t[n],e);else if(typeof t=="object")for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Gre(t[n],e));return t}var zTe=B(()=>{zre()});var qre={};$t(qre,{Decoder:()=>Kre,Encoder:()=>Vre,PacketType:()=>gr,protocol:()=>GTe});function jTe(t){return Object.prototype.toString.call(t)==="[object Object]"}var V9t,GTe,gr,Vre,Kre,$re,TF=B(()=>{k3();zTe();zre();V9t=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],GTe=5;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(gr||(gr={}));Vre=class{constructor(e){this.replacer=e}encode(e){return(e.type===gr.EVENT||e.type===gr.ACK)&&rR(e)?this.encodeAsBinary({type:e.type===gr.EVENT?gr.BINARY_EVENT:gr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===gr.BINARY_EVENT||e.type===gr.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){let n=FTe(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};Kre=class t extends Wi{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);let r=n.type===gr.BINARY_EVENT;r||n.type===gr.BINARY_ACK?(n.type=r?gr.EVENT:gr.ACK,this.reconstructor=new $re(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(iR(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,r={type:Number(e.charAt(0))};if(gr[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===gr.BINARY_EVENT||r.type===gr.BINARY_ACK){let a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let o=e.substring(a,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){let a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(a,n)}else r.nsp="/";let i=e.charAt(n+1);if(i!==""&&Number(i)==i){let a=n+1;for(;++n;){let o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){let a=this.tryParse(e.substr(n));if(t.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case gr.CONNECT:return jTe(n);case gr.DISCONNECT:return n===void 0;case gr.CONNECT_ERROR:return typeof n=="string"||jTe(n);case gr.EVENT:case gr.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&V9t.indexOf(n[0])===-1);case gr.ACK:case gr.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},$re=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=HTe(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function Bu(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Wre=B(()=>{});var K9t,xE,Yre=B(()=>{TF();Wre();k3();K9t=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),xE=class extends Wi{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Bu(e,"open",this.onopen.bind(this)),Bu(e,"packet",this.onpacket.bind(this)),Bu(e,"error",this.onerror.bind(this)),Bu(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,a;if(K9t.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;let o={type:gr.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let u=this.ids++,f=n.pop();this._registerAckCallback(u,f),o.id=u}let s=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!s||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}let a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},i),o=(...s)=>{this.io.clearTimeoutFn(a),n.apply(this,s)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{let a=(o,s)=>o?i(o):r(s);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:gr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case gr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gr.EVENT:case gr.BINARY_EVENT:this.onevent(e);break;case gr.ACK:case gr.BINARY_ACK:this.onack(e);break;case gr.DISCONNECT:this.ondisconnect();break;case gr.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let n=this,r=!1;return function(...i){r||(r=!0,n.packet({type:gr.ACK,id:e,data:i}))}}onack(e){let n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let r of n)r.apply(this,e.data)}}}});function L3(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}var VTe=B(()=>{L3.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};L3.prototype.reset=function(){this.attempts=0};L3.prototype.setMin=function(t){this.ms=t};L3.prototype.setMax=function(t){this.max=t};L3.prototype.setJitter=function(t){this.jitter=t}});var AE,KTe=B(()=>{_F();Yre();TF();Wre();VTe();k3();AE=class extends Wi{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,a5(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new L3({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let i=n.parser||qre;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new EE(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Bu(n,"open",function(){r.onopen(),e&&e()}),a=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),e?e(s):this.maybeReconnectOnOpen()},o=Bu(n,"error",a);if(this._timeout!==!1){let s=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},s);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Bu(e,"ping",this.onping.bind(this)),Bu(e,"data",this.ondata.bind(this)),Bu(e,"error",this.onerror.bind(this)),Bu(e,"close",this.onclose.bind(this)),Bu(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){i5(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new xE(this,e,n),this.nsps[e]=r),r}_destroy(e){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active)return;this._close()}_packet(e){let n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function s5(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let n=DTe(t,e.path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=aR[i]&&a in aR[i].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||o,c;return s?c=new AE(r,e):(aR[i]||(aR[i]=new AE(r,e)),c=aR[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}var aR,SF=B(()=>{LTe();KTe();Yre();TF();_F();aR={};Object.assign(s5,{Manager:AE,Socket:xE,io:s5,connect:s5})});var cR={};$t(cR,{averageResponseTime:()=>eEt,canBeUsed:()=>J9t,close:()=>Z9t,create:()=>Q9t,getSocketInstance:()=>$Te,microSeconds:()=>$9t,onMessage:()=>X9t,postMessage:()=>W9t,removeStorageEventListener:()=>Y9t,setupSocketConnection:()=>qTe,storageKey:()=>Qre,type:()=>Jre});function Qre(t){return q9t+t}function W9t(t,e){return new Promise((n,r)=>{lE().then(async()=>{let i=Qre(t.channelName),a=r5(Buffer.from(i,"utf8")),o=await P3(a.toString("hex"),{token:ub(),time:Date.now(),data:e,uuid:t.uuid}),s={allowedOrigin:t.server.allowed_origin,sameIpCheck:!0,key:_1(a).toString("hex"),data:o,signature:(await fE(a,r5(Buffer.from(o,"utf8")))).toString("hex")};return t.timeout&&(s.timeout=t.timeout),fetch(`${t.server.api_url}/channel/set`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(n).catch(r)}).catch(r)})}function $Te(t){if(oR)return oR;let e=s5(t,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",n=>{e.io.opts.transports=["polling","websocket"],$0.error("connect error",n)}),e.on("connect",async()=>{let{engine:n}=e.io;$0.debug("initially connected to",n.transport.name),n.once("upgrade",()=>{$0.debug("upgraded",n.transport.name)}),n.once("close",r=>{$0.debug("connection closed",r)})}),e.on("error",n=>{$0.error("socket errored",n),e.disconnect()}),oR=e,e}function qTe(t,e,n){let r=$Te(t),i=Qre(e.channelName),a=r5(Buffer.from(i,"utf8")),o=_1(a).toString("hex");r.connected?r.emit("v2:check_auth_status",o,{sameIpCheck:!0,allowedOrigin:e.server.allowed_origin}):r.once("connect",()=>{$0.debug("connected with socket"),r.emit("v2:check_auth_status",o,{sameIpCheck:!0,allowedOrigin:e.server.allowed_origin})});let s=()=>{r.once("connect",async()=>{sR.has(e.channelName)&&r.emit("v2:check_auth_status",o,{sameIpCheck:!0,allowedOrigin:e.server.allowed_origin})})},c=()=>{if(!r||!sR.has(e.channelName)){document.removeEventListener("visibilitychange",c);return}!r.connected&&document.visibilityState==="visible"&&s()},l=async u=>{try{let f=await YI(a.toString("hex"),u);$0.info(f),n(f)}catch(f){$0.error(f)}};return r.on("disconnect",()=>{$0.debug("socket disconnected"),sR.has(e.channelName)&&($0.error("socket disconnected unexpectedly, reconnecting socket"),s())}),r.on(`${o}_success`,l),typeof document<"u"&&document.addEventListener("visibilitychange",c),r}function Y9t(){oR&&oR.disconnect()}function J9t(){return!0}function Q9t(t,e){e=hb(e);let n=ub(),r=new db(e.server.removeTimeout),i={channelName:t,uuid:n,eMIs:r,server:{api_url:e.server.api_url,socket_url:e.server.socket_url,allowed_origin:e.server.allowed_origin},time:jc()};return e.server.timeout&&(i.timeout=e.server.timeout),qTe(e.server.socket_url,i,a=>{i.messagesCallback&&a.uuid!==i.uuid&&(!a.token||i.eMIs.has(a.token)||(i.eMIs.add(a.token),i.messagesCallback(a.data)))}),sR.add(t),i}function Z9t(t){sR.delete(t.channelName)}function X9t(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function eEt(){return 500}var $9t,q9t,Jre,oR,sR,CF=B(()=>{$U();Sre();jU();SF();PI();fb();$9t=jc,q9t="pubkey.broadcastChannel-",Jre="server",oR=null,sR=new Set});var eie={};$t(eie,{SIMULATE_DELAY_TIME:()=>Xre,averageResponseTime:()=>sEt,canBeUsed:()=>oEt,close:()=>rEt,create:()=>nEt,microSeconds:()=>tEt,onMessage:()=>aEt,postMessage:()=>iEt,type:()=>IF});function nEt(t){let e={time:jc(),name:t,messagesCallback:null};return Zre.add(e),e}function rEt(t){Zre.delete(t)}function iEt(t,e){return new Promise(n=>{setTimeout(()=>{Array.from(Zre).forEach(i=>{i.name===t.name&&i!==t&&i.messagesCallback&&i.time<e.time&&i.messagesCallback(e)}),n()},Xre)})}function aEt(t,e){t.messagesCallback=e}function oEt(){return!0}function sEt(){return Xre}var tEt,IF,Zre,Xre,tie=B(()=>{fb();tEt=jc,IF="simulate",Zre=new Set,Xre=5});function RF(t){let e=[].concat(t.methods||[],WTe).filter(Boolean);if(t.type){if(t.type==="simulate")return eie;let r=e.find(i=>i.type===t.type);if(r)return r;throw new Error(`method-type ${t.type} not found`)}t.webWorkerSupport||(e=e.filter(r=>r.type!=="idb"));let n=e.find(r=>r.canBeUsed(t));if(n)return n;throw new Error(`No useable method found in ${JSON.stringify(WTe.map(r=>r.type))}`)}var WTe,nie=B(()=>{Xne();GU();VU();CF();tie();WTe=[DI,MI,BI,cR]});function ZTe(t){rie=t}function YTe(t,e,n){let i={time:t.method.microSeconds(),type:e,data:n};return(t._prepP?t._prepP:td).then(()=>{let o=t.method.postMessage(t._state,i);return t._uMP.add(o),o.catch(()=>{}).then(()=>t._uMP.delete(o)),o})}function lEt(t){let e=t.method.create(t.name,t.options);if(yxe(e)){let n=e;t._prepP=n,n.then(r=>(t._state=r,r)).catch(r=>{throw r})}else t._state=e}function XTe(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function uEt(t){if(!t._iL&&XTe(t)){let e=r=>{t._addEL[r.type].forEach(i=>{(r.time>=i.time||t.method.type==="server")&&i.fn(r.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(()=>(t._iL=!0,t.method.onMessage(t._state,e,n),!0)).catch(r=>{throw r}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}function fEt(t){if(t._iL&&!XTe(t)){t._iL=!1;let e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}function JTe(t,e,n){t._addEL[e].push(n),uEt(t)}function QTe(t,e,n){n&&(t._addEL[e]=t._addEL[e].filter(r=>r!==n),fEt(t))}var rie,OF,cEt,U3,iie=B(()=>{Qe();nie();PI();fb();OF=new Set,cEt=0,U3=class{constructor(e,n){K(this,"id",void 0),K(this,"name",void 0),K(this,"options",void 0),K(this,"method",void 0),K(this,"closed",void 0),K(this,"_addEL",void 0),K(this,"_prepP",void 0),K(this,"_state",void 0),K(this,"_uMP",void 0),K(this,"_iL",void 0),K(this,"_onML",void 0),K(this,"_befC",void 0),this.id=cEt++,OF.add(this),this.name=e,rie&&(n=rie),this.options=hb(n||{}),this.method=RF(this.options),this.closed=!1,this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,lEt(this)}get type(){return this.method.type}get isClosed(){return this.closed}set onmessage(e){let r={time:this.method.microSeconds(),fn:e};QTe(this,"message",this._onML),e&&typeof e=="function"?(this._onML=r,JTe(this,"message",r)):this._onML=null}postMessage(e){if(this.closed)throw new Error(`BroadcastChannel.postMessage(): Cannot post message after channel has closed ${JSON.stringify(e)}`);return YTe(this,"message",e)}postInternal(e){return YTe(this,"internal",e)}addEventListener(e,n){let i={time:this.method.microSeconds(),fn:n};JTe(this,e,i)}removeEventListener(e,n){let r=this._addEL[e].find(i=>i.fn===n);QTe(this,e,r)}close(){if(this.closed)return Promise.resolve();OF.delete(this),this.closed=!0;let e=this._prepP?this._prepP:td;return this._onML=null,this._addEL.message=[],e.then(()=>Promise.all(Array.from(this._uMP))).then(()=>Promise.all(this._befC.map(n=>n()))).then(()=>this.method.close?this.method.close(this._state):td)}};K(U3,"_pubkey",!0)});var NF,e7e=B(()=>{st();Qe();iie();GU();VU();CF();tie();fb();NF=class{constructor(e,n={}){K(this,"name",void 0),K(this,"options",void 0),K(this,"closed",void 0),K(this,"onML",void 0),K(this,"methodPriority",void 0),K(this,"channels",void 0),K(this,"listeners",void 0),K(this,"processedNonces",void 0),K(this,"nonce",void 0),this.name=e,this.options=n,this.closed=!1,this.onML=null,this.methodPriority=[rre,ere,Jre],this.channels=new Map,this.listeners=new Set,this.processedNonces=new Set,this.nonce=0,this.initChannels()}set onmessage(e){this.removeEventListener("message",this.onML),e&&typeof e=="function"?(this.onML=e,this.addEventListener("message",e)):this.onML=null}initChannels(){if(this.options.type===IF&&(this.methodPriority=[IF]),this.methodPriority.forEach(e=>{try{let n=new U3(this.name,q(q({},this.options),{},{type:e}));this.channels.set(e,n),$0.debug(`Succeeded to initialize ${e} method in channel ${this.name}`),n.onmessage=r=>this.handleMessage(r)}catch(n){$0.warn(`Failed to initialize ${e} method in channel ${this.name}: ${n instanceof Error?n.message:String(n)}`)}}),this.channels.size===0)throw new Error("Failed to initialize any communication method")}allChannels(){return Array.from(this.channels.keys())}hasChannel(e){return this.channels.has(e)}handleMessage(e){if(e&&e.nonce){if(this.processedNonces.has(e.nonce))return;if(this.processedNonces.add(e.nonce),this.processedNonces.size>1e3){let r=Array.from(this.processedNonces).sort()[0];this.processedNonces.delete(r)}this.listeners.forEach(n=>{n(e.message)})}}async postMessage(e){if(this.closed)throw new Error(`AdaptiveBroadcastChannel.postMessage(): Cannot post message after channel has closed ${JSON.stringify(e)}`);let r={nonce:this.generateNonce(),message:e},i=Array.from(this.channels.entries()).map(([s,c])=>c.postMessage(r).catch(l=>{throw $0.warn(`Failed to send via ${s}: ${l.message}`),l}));if(!(await Promise.allSettled(i)).some(s=>s.status==="fulfilled"))throw new Error("Failed to send message through any method");return e}generateNonce(){return`${Date.now()}-${this.nonce++}`}addEventListener(e,n){this.listeners.add(n)}removeEventListener(e,n){this.listeners.delete(n)}async close(){if(this.closed)return;this.onML=null;let e=[];for(let n of this.channels.values())e.push(n.close());await Promise.all(e),this.channels.clear(),this.listeners.clear(),this.closed=!0}}});var t7e={};$t(t7e,{BroadcastChannel:()=>U3,IndexedDbMethod:()=>MI,LocalstorageMethod:()=>BI,NativeMethod:()=>DI,OPEN_BROADCAST_CHANNELS:()=>OF,RedundantAdaptiveBroadcastChannel:()=>NF,ServerMethod:()=>cR,chooseMethod:()=>RF,enforceOptions:()=>ZTe});var n7e=B(()=>{Xne();GU();VU();CF();iie();nie();e7e()});var r7e,dEt,zo,th=B(()=>{V9();st();Qe();r7e=fe(oE());A3();lb();Vne();NI();dEt=["access_token","id_token"],zo=class{constructor(e){K(this,"nonce",_3()),K(this,"finalURL",void 0),K(this,"params",void 0),this.params=e}get state(){return encodeURIComponent(r7e.default.encode(JSON.stringify(q(q({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){let n=new x1({url:this.finalURL,features:e.popupFeatures,timeout:S3(this.params.authConnection)});if(this.params.uxMode===Ma.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else{let{RedundantAdaptiveBroadcastChannel:r}=await Promise.resolve().then(()=>(n7e(),t7e));return new Promise((i,a)=>{let o,s=async c=>{try{let{error:l,data:u}=c,f=u||{},{instanceParams:d,hashParams:{access_token:p,id_token:h}}=f,m=Wf(f.hashParams,dEt);if(l){e5.error(c),a(new Error(`Error: ${l}. Info: ${JSON.stringify(c.data||{})}`));return}c.data&&d.authConnectionId===this.params.authConnectionId&&(e5.info(c.data),!this.params.redirectToOpener&&o&&await o.postMessage({success:!0}),i(q(q({accessToken:p,idToken:h||""},m),{},{state:d})))}catch(l){e5.error(l),a(l)}};if(!this.params.redirectToOpener)o=new r(`redirect_channel_${this.nonce}`,$ne),o.addEventListener("message",async c=>{await s(c),o.close(),n.close()});else{let c=async l=>{if(!l.data)return;let u=l.data;u.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",c),s(u),n.close())};window.addEventListener("message",c)}try{n.open()}catch(c){e5.error(c),a(c);return}n.once("close",()=>{o&&o.close(),a(new Error("user closed popup"))})})}return null}}});var i7e,PF,a7e=B(()=>{Qe();sb();i7e=fe(Ao());th();PF=class extends zo{constructor(e){super(e),K(this,"RESPONSE_TYPE","token"),K(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://discord.com/api/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=(0,i7e.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{let a=i;r[a]&&e.searchParams.append(a,r[a])}),this.finalURL=e}async getUserInfo(e){let{accessToken:n}=e,r=await Il("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${n}`}}),{id:i,avatar:a,email:o="",username:s="",discriminator:c=""}=r;return{profileImage:a===null?`https://cdn.discordapp.com/embed/avatars/${Number(c)%5}.png`:`https://cdn.discordapp.com/avatars/${i}/${a}.png?size=2048`,name:`${s}#${c}`,email:o,userId:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}});var o7e,kF,s7e=B(()=>{Qe();sb();o7e=fe(Ao());th();kF=class extends zo{constructor(e){super(e),K(this,"RESPONSE_TYPE","token"),K(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=(0,o7e.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{let a=i;r[a]&&e.searchParams.append(a,r[a])}),this.finalURL=e}async getUserInfo(e){let{accessToken:n}=e,r=await Il("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${n}`}}),{name:i="",id:a,picture:o,email:s=""}=r;return{email:s,name:i,profileImage:o.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:a}}}});var c7e,MF,l7e=B(()=>{Qe();sb();c7e=fe(Ao());th();MF=class extends zo{constructor(e){super(e),K(this,"RESPONSE_TYPE","token id_token"),K(this,"SCOPE","profile email openid"),K(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=(0,c7e.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},n);Object.keys(r).forEach(i=>{let a=i;r[a]&&e.searchParams.append(a,r[a])}),this.finalURL=e}async getUserInfo(e){let{accessToken:n}=e,r=await Il("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${n}`}}),{picture:i="",email:a="",name:o=""}=r;return{email:a,name:o,profileImage:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:a.toLowerCase()}}}});var u7e,f7e,BF,d7e=B(()=>{Qe();sb();u7e=fe(Ao()),f7e=fe(Ln());lb();th();BF=class extends zo{constructor(e){super(e),K(this,"SCOPE","openid profile email"),K(this,"RESPONSE_TYPE","token id_token"),K(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams,n=T3(e);n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";let r=JSON.parse(JSON.stringify(this.params.jwtParams));delete r.domain;let i=(0,u7e.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:II[this.params.authConnection],nonce:this.nonce},r);Object.keys(i).forEach(a=>{let o=a;i[o]&&n.searchParams.append(o,i[o])}),this.finalURL=n}async getUserInfo(e){let{idToken:n,accessToken:r}=e,{domain:i,userIdField:a,isUserIdCaseSensitive:o,user_info_route:s="userinfo"}=this.params.jwtParams;if(r)try{let c=new URL(i),l=await Il(`${RI(c)}${s}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:u,name:f,email:d}=l;return{email:d,name:f,profileImage:u,userId:t5(l,this.params.authConnection,a,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(c){f7e.default.warn(c,"Unable to get userinfo from endpoint")}if(n){let c=C3(n).payload,{name:l,email:u,picture:f}=c;return{profileImage:f,name:l,email:u,userId:t5(c,this.params.authConnection,a,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}}});var p7e,h7e,DF,m7e=B(()=>{sb();p7e=fe(Ao()),h7e=fe(Ln());A3();lb();NI();th();DF=class extends zo{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){let e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;let n=(0,p7e.default)({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(cb({baseURL:this.params.redirect_uri,query:null,hash:n}))}async getUserInfo(e){let{idToken:n,accessToken:r}=e,{domain:i,userIdField:a,isUserIdCaseSensitive:o,user_info_route:s="userinfo"}=this.params.jwtParams;if(r)try{let c=new URL(i),l=await Il(`${RI(c)}${s}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:u,name:f,email:d}=l;return{email:d,name:f,profileImage:u,userId:t5(l,this.params.authConnection,a,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(c){h7e.default.warn(c,"Unable to get userinfo from endpoint")}if(n){let c=C3(n).payload,{name:l,email:u,picture:f}=c;return{profileImage:f,name:l,email:u,userId:t5(c,this.params.authConnection,a,o),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}handleLoginWindow(e){let{id_token:n,access_token:r}=this.params.jwtParams,i=new x1({url:this.finalURL,features:e.popupFeatures});if(this.params.uxMode===Ma.REDIRECT)i.redirect(e.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:n,accessToken:r});return null}}});var lR,aie=B(()=>{lR=t=>t.padStart(64,"0").slice(0,64)});var LF,y7e=B(()=>{Qe();sb();aie();LF=class{constructor(){K(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=lR(this.sessionId)}request({method:e="GET",url:n,data:r={},headers:i={}}){let a={headers:i};switch(e){case"GET":return Il(n,a);case"POST":return JEe(n,r,a);case"PUT":return ZEe(n,r,a);case"PATCH":return QEe(n,r,a)}throw new Error("Invalid method type")}}});var Yi,vb,pEt,hEt,mEt,yEt,bEt,oie,b7e=B(()=>{Yi={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},vb={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},pEt={[Yi.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[Yi.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[Yi.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[Yi.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[Yi.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},hEt={[Yi.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:vb.SAPPHIRE_MAINNET},[Yi.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:vb.SAPPHIRE_MAINNET},[Yi.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:vb.SAPPHIRE_MAINNET},[Yi.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:vb.SAPPHIRE_MAINNET},[Yi.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:vb.SAPPHIRE_DEVNET}},mEt={[Yi.MAINNET]:"mainnet",[Yi.TESTNET]:"goerli",[Yi.CYAN]:"polygon-mainnet",[Yi.AQUA]:"polygon-mainnet",[Yi.CELESTE]:"polygon-mainnet"},yEt={[vb.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[vb.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Yi.MAINNET]:"https://api.web3auth.io/signer-service",[Yi.TESTNET]:"https://api.web3auth.io/signer-service",[Yi.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Yi.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Yi.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},bEt={[Yi.MAINNET]:"https://api.web3auth.io/metadata-service",[Yi.TESTNET]:"https://api.web3auth.io/metadata-service",[Yi.CYAN]:"https://api.web3auth.io/metadata-service",[Yi.AQUA]:"https://api.web3auth.io/metadata-service",[Yi.CELESTE]:"https://api.web3auth.io/metadata-service"},oie="https://api.web3auth.io/session-service"});var g7e=B(()=>{b7e()});var gEt,uR,w7e=B(()=>{Qe();g7e();$U();Sre();y7e();aie();gEt=86400,uR=class extends LF{constructor({sessionServerBaseUrl:e,sessionNamespace:n,sessionTime:r,sessionId:i,allowedOrigin:a}={}){super(),K(this,"sessionServerBaseUrl",oie),K(this,"sessionNamespace",void 0),K(this,"allowedOrigin",void 0),K(this,"sessionTime",gEt),K(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),n&&(this.sessionNamespace=n),r&&(this.sessionTime=r),i&&(this.sessionId=lR(i)),a?this.allowedOrigin=a:this.allowedOrigin="*"}static generateRandomSessionKey(){return lR(Dxe().toString("hex"))}async createSession(e,n={}){super.checkSessionParams();let r=Buffer.from(this.sessionId,"hex"),i=_1(r).toString("hex"),a=await P3(this.sessionId,e),o=(await fE(r,r5(Buffer.from(a,"utf8")))).toString("hex"),s={key:i,data:a,signature:o,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:n}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();let r={key:_1(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:r,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");let a=await YI(this.sessionId,i.message);if(a.error)throw new Error("There was an error decrypting data.");return a}async updateSession(e,n={}){super.checkSessionParams();let r=Buffer.from(this.sessionId,"hex"),i=_1(r).toString("hex"),a=await P3(this.sessionId,e),o=(await fE(r,r5(Buffer.from(a,"utf8")))).toString("hex"),s={key:i,data:a,signature:o,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:s,headers:n})}async invalidateSession(e={}){super.checkSessionParams();let n=Buffer.from(this.sessionId,"hex"),r=_1(n).toString("hex"),i=await P3(this.sessionId,{}),a=(await fE(n,r5(Buffer.from(i,"utf8")))).toString("hex"),o={key:r,data:i,signature:a,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:o,headers:e}),this.sessionId="",!0}}});var v7e=B(()=>{w7e()});async function x7e(t,e){try{return await new uR({sessionId:t,sessionServerBaseUrl:e,allowedOrigin:!0}).authorizeSession()}catch(n){throw E7e.default.error("fetch data from storage server error",n),new Error("Unable to retrieve data from storage server, invalid key or key expired.")}}var E7e,A7e=B(()=>{v7e();E7e=fe(Ln())});var _7e,T7e,UF,S7e=B(()=>{_7e=fe(oE()),T7e=fe(Ao());A7e();th();UF=class extends zo{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){let{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw new Error("Invalid passkeys url.");let n=new URL(e),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),i=(0,T7e.default)({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},r);Object.keys(i).forEach(a=>{let o=a;i[o]&&n.searchParams.append(o,i[o])}),this.finalURL=n}async getUserInfo(e,n){let{idToken:r,extraParams:i}=e,{sessionId:a}=JSON.parse(_7e.default.decode(i))||{};if(!a)throw new Error("sessionId not found");let{verifier_id:o,signature:s,clientDataJSON:c,authenticatorData:l,publicKey:u,challenge:f,rpOrigin:d,rpId:p,credId:h,transports:m,username:w}=await x7e(a,n);if(s!==r)throw new Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:o,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:s,clientDataJSON:c,authenticatorData:l,publicKey:u,challenge:f,rpOrigin:d,rpId:p,credId:h,transports:m,username:w}}}}});var sie,C7e,wEt,FF,I7e=B(()=>{st();V9();Qe();sie=fe(oE()),C7e=fe(Ao());A3();lb();Vne();NI();th();wEt=["event","origin","result"],FF=class extends zo{constructor(e){super(e),K(this,"RESPONSE_TYPE","token"),K(this,"SCOPE","profile"),K(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams,n=T3(e||"https://oauth.telegram.org/auth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));r.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;let i=(0,C7e.default)({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},r);Object.keys(i).forEach(a=>{let o=a;i[o]&&n.searchParams.append(o,i[o])}),this.finalURL=n}async getUserInfo(e){let{idToken:n}=e,r=qne(n),{photo_url:i="",first_name:a="",last_name:o="",id:s}=r;return{email:"",name:`${a} ${o}`,profileImage:i,authConnectionId:this.params.authConnectionId,userId:s.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){let n=new x1({url:this.finalURL,features:e.popupFeatures,timeout:S3(this.params.authConnection)});if(this.params.uxMode===Ma.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else return new Promise((r,i)=>{let a=async s=>{try{let c=JSON.parse(s)||{},{event:l,origin:u,result:f}=c,d=Wf(c,wEt),h=new URL(u).searchParams.get("state");l&&l==="auth_result"&&r(q(q({accessToken:""},d),{},{idToken:sie.default.encode(JSON.stringify(f))||"",state:sie.default.decode(h)}))}catch(c){e5.error(c),i(c)}},o=async s=>{if(!s.data)throw new Error("Invalid data received");if(this.finalURL.origin!==s.origin)throw new Error("Invalid origin received");let c=s.data;if(typeof c!="string")throw new Error("Invalid data type received");let{event:l}=JSON.parse(c)||{};l&&l!=="auth_result"&&e5.info("Invalid event received"),window.removeEventListener("message",o),a(c),n.close()};window.addEventListener("message",o);try{n.open()}catch(s){e5.error(s),i(s);return}n.once("close",()=>{i(new Error("user closed popup"))})});return null}}});var R7e,HF,O7e=B(()=>{Qe();sb();R7e=fe(Ao());th();HF=class extends zo{constructor(e){super(e),K(this,"RESPONSE_TYPE","token"),K(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://id.twitch.tv/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=(0,R7e.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},n);Object.keys(r).forEach(i=>{let a=i;r[a]&&e.searchParams.append(a,r[a])}),this.finalURL=e}async getUserInfo(e){let{accessToken:n}=e,r=await Il("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${n}`,"Client-ID":this.params.clientId}}),[{profile_image_url:i="",display_name:a="",email:o="",id:s}]=r.data||[];return{profileImage:i,name:a,email:o,userId:s,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}});var _E,cie=B(()=>{_E={link:"link",code:"code"}});var N7e,zF,P7e=B(()=>{st();Qe();N7e=fe(Ao());lb();cie();th();zF=class extends zo{constructor(e){super(e),K(this,"SCOPE","openid profile email"),K(this,"RESPONSE_TYPE","token id_token"),K(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams||{},n=T3(e||"https://passwordless.web3auth.io/v7");n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";let r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete r.domain,this.params.customState=q(q({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});let i=(0,N7e.default)({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:II[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:r?.flow_type||_E.code},r);Object.keys(i).forEach(a=>{let o=a;i[o]&&n.searchParams.append(o,i[o])}),this.finalURL=n}async getUserInfo(e){let{idToken:n}=e,r=C3(n).payload,{name:i,email:a,picture:o}=r;return{profileImage:o,name:i,email:a,userId:i.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}});var lie,k7e=B(()=>{A3();a7e();s7e();l7e();d7e();m7e();S7e();I7e();O7e();P7e();lie=t=>{let{authConnectionId:e,authConnection:n,clientId:r,jwtParams:i}=t;if(!e||!n||!r)throw new Error("Invalid params. Missing authConnectionId, authConnection or clientId");let{domain:a,login_hint:o,id_token:s,access_token:c}=i||{};switch(n){case Ze.GOOGLE:return new MF(t);case Ze.TELEGRAM:return new FF(t);case Ze.FACEBOOK:return new kF(t);case Ze.TWITCH:return new HF(t);case Ze.DISCORD:return new PF(t);case Ze.EMAIL_PASSWORDLESS:case Ze.SMS_PASSWORDLESS:if(!o)throw new Error("Invalid params. Missing login_hint for web3auth passwordless login");return new zF(t);case Ze.APPLE:case Ze.GITHUB:case Ze.LINKEDIN:case Ze.TWITTER:case Ze.LINE:case Ze.CUSTOM:case Ze.REDDIT:case Ze.WECHAT:case Ze.KAKAO:case Ze.FARCASTER:case Ze.AUTHENTICATOR:if(s||c)return new DF(t);if(!a)throw new Error("Invalid params for jwt login. Missing domain");return new BF(t);case Ze.PASSKEYS:return new UF(t);default:throw new Error("Unsupported login type")}}});var vEt,EEt,S1,M7e=B(()=>{vEt=t=>{if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(`${u} is ambiguous`);e[f]=l}let n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0,p=l.length;for(;d!==p&&l[d]===0;)d++,u++;let h=(p-d)*a+1>>>0,m=new Uint8Array(h);for(;d!==p;){let x=l[d],C=0;for(let P=h-1;(x!==0||C<f)&&P!==-1;P--,C++)x+=256*m[P]>>>0,m[P]=x%n>>>0,x=x/n>>>0;if(x!==0)throw new Error("Non-zero carry");f=C,d++}let w=h-f;for(;w!==h&&m[w]===0;)w++;let g=r.repeat(u);for(;w<h;++w)g+=t.charAt(m[w]);return g}function s(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===r;)f++,u++;let p=(l.length-u)*i+1>>>0,h=new Uint8Array(p);for(;l[u];){let x=e[l.charCodeAt(u)];if(x===255)return;let C=0;for(let P=p-1;(x!==0||C<d)&&P!==-1;P--,C++)x+=n*h[P]>>>0,h[P]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");d=C,u++}let m=p-d;for(;m!==p&&h[m]===0;)m++;let w=new Uint8Array(f+(p-m)),g=f;for(;m!==p;)w[g++]=h[m++];return w}function c(l){let u=s(l);if(u)return u;throw new Error(`Non-base${n} character`)}return{encode:o,decodeUnsafe:s,decode:c}},EEt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",S1=vEt(EEt)});var jF=B(()=>{M7e()});var c5,B7e=B(()=>{c5=async t=>{let e=t instanceof Error,n=typeof t=="string",r=t&&typeof t=="object"&&"status"in t&&"type"in t,i;if(r){let a=t,o=a.headers.get("content-type");if(o.includes("application/json")){let s=await a.json();i=new Error(s?.error||s?.message||JSON.stringify(s))}else o.includes("text/plain")?i=new Error(await a.text()):i=new Error(`${a.status} ${a.type.toString()} ${a.statusText}`)}else n?i=new Error(t):e?i=t:i=new Error("Unknown error");return i}});var l5=B(()=>{k7e();A3();B7e();lb();cie();NI()});var D7e,Du,fR=B(()=>{D7e=fe(Ln()),Du=D7e.default.getLogger("auth");Du.setLevel("error")});var Ti,nh,xEt,AEt,_Et,uie,TEt,dR,pR,L7e=B(()=>{Ti={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},nh={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},xEt={[Ti.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[Ti.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[Ti.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[Ti.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[Ti.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},AEt={[Ti.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:nh.SAPPHIRE_MAINNET},[Ti.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:nh.SAPPHIRE_MAINNET},[Ti.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:nh.SAPPHIRE_MAINNET},[Ti.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:nh.SAPPHIRE_MAINNET},[Ti.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:nh.SAPPHIRE_DEVNET}},_Et={[Ti.MAINNET]:"mainnet",[Ti.TESTNET]:"goerli",[Ti.CYAN]:"polygon-mainnet",[Ti.AQUA]:"polygon-mainnet",[Ti.CELESTE]:"polygon-mainnet"},uie={[nh.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[nh.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Ti.MAINNET]:"https://api.web3auth.io/signer-service",[Ti.TESTNET]:"https://api.web3auth.io/signer-service",[Ti.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Ti.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Ti.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},TEt={[Ti.MAINNET]:"https://api.web3auth.io/metadata-service",[Ti.TESTNET]:"https://api.web3auth.io/metadata-service",[Ti.CYAN]:"https://api.web3auth.io/metadata-service",[Ti.AQUA]:"https://api.web3auth.io/metadata-service",[Ti.CELESTE]:"https://api.web3auth.io/metadata-service"},dR="https://api.web3auth.io/session-service",pR="https://session.web3auth.io"});var hR=B(()=>{L7e()});function z7e(t){mR.setLevel(t)}async function VF(t,e){let n=null;try{n=new URL(t)}catch{}return H7e&&n&&(IEt.includes(n.origin)||REt.includes(n.pathname))?await H7e.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function KF(){let t={};return U7e&&(t[SEt]=U7e),F7e&&(t[CEt]=F7e),t}function $F(t){mR.info(`Response: ${t.status} ${t.statusText}`),mR.info(`Url: ${t.url}`)}function OEt(t){let e=t.headers.get("x-web3-correlation-id");e&&mR.info(`Request tracing with traceID = ${e}`)}var yR,GF,mR,U7e,F7e,SEt,CEt,H7e,IEt,REt,NEt,bR,F3,j7e,G7e,gR=B(()=>{st();yR=fe(Ao()),GF=fe(Ln()),mR=GF.default.getLogger("http-helpers");mR.setLevel(GF.levels.INFO);U7e="torus-default",F7e="",SEt="x-api-key",CEt="x-embed-host",H7e=null,IEt=[],REt=[];NEt=async(t,e)=>{let n=null;try{let r=new Promise((a,o)=>{n=setTimeout(()=>{o(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,r]);return n!=null&&clearTimeout(n),i}catch(r){throw n!=null&&clearTimeout(n),r}},bR=async(t,e={},n={})=>{let r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=q(q({},r.headers),KF())),e.method="GET";let i=(0,yR.default)(r,e),a=await VF(t,i);if(a.ok){let o=a.headers.get("content-type");return o!=null&&o.includes("application/json")?a.json():a.text()}throw $F(a),a},F3=(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),KF())),n.method="POST";let a=(0,yR.default)(i,n);return r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e),NEt(r.timeout||6e4,VF(t,a).then(o=>{if(r.logTracingHeader&&OEt(o),o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw $F(o),o}))},j7e=async(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),KF())),n.method="PATCH";let a=(0,yR.default)(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);let o=await VF(t,a);if(o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw $F(o),o},G7e=async(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),KF())),n.method="PUT";let a=(0,yR.default)(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);let o=await VF(t,a);if(o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw $F(o),o}});var wR,fie=B(()=>{wR=t=>t.padStart(64,"0").slice(0,64)});var qF,V7e=B(()=>{Qe();gR();fie();qF=class{constructor(){K(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=wR(this.sessionId)}request({method:e="GET",url:n,data:r={},headers:i={}}){let a={headers:i};switch(e){case"GET":return bR(n,a);case"POST":return F3(n,r,a);case"PUT":return G7e(n,r,a);case"PATCH":return j7e(n,r,a)}throw new Error("Invalid method type")}}});var Ji,Eb,PEt,kEt,MEt,BEt,DEt,die,K7e=B(()=>{Ji={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Eb={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},PEt={[Ji.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[Ji.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[Ji.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[Ji.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[Ji.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},kEt={[Ji.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:Eb.SAPPHIRE_MAINNET},[Ji.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:Eb.SAPPHIRE_MAINNET},[Ji.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:Eb.SAPPHIRE_MAINNET},[Ji.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:Eb.SAPPHIRE_MAINNET},[Ji.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:Eb.SAPPHIRE_DEVNET}},MEt={[Ji.MAINNET]:"mainnet",[Ji.TESTNET]:"goerli",[Ji.CYAN]:"polygon-mainnet",[Ji.AQUA]:"polygon-mainnet",[Ji.CELESTE]:"polygon-mainnet"},BEt={[Eb.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[Eb.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Ji.MAINNET]:"https://api.web3auth.io/signer-service",[Ji.TESTNET]:"https://api.web3auth.io/signer-service",[Ji.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Ji.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Ji.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},DEt={[Ji.MAINNET]:"https://api.web3auth.io/metadata-service",[Ji.TESTNET]:"https://api.web3auth.io/metadata-service",[Ji.CYAN]:"https://api.web3auth.io/metadata-service",[Ji.AQUA]:"https://api.web3auth.io/metadata-service",[Ji.CELESTE]:"https://api.web3auth.io/metadata-service"},die="https://api.web3auth.io/session-service"});var $7e=B(()=>{K7e()});function Lu(t,e){if(!t)throw new Error(e||"Assertion failed")}function FEt(t){return Buffer.isBuffer(t)&&t.length===32}function ER(t){return FEt(t)?t.compare(UEt)>0&&t.compare(LEt)<0:!1}function HEt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function vR(t){if(typeof Uu.getRandomValues>"u")return Buffer.from(Uu.randomBytes(t));let e=new Uint8Array(t);return Uu.getRandomValues(e),Buffer.from(e)}async function W7e(t){if(!Uu.createHash){let r=await xb.digest("SHA-512",t);return new Uint8Array(r)}let n=Uu.createHash("sha512").update(t).digest();return new Uint8Array(n)}function Y7e(t){return async function(e,n,r){if(xb&&xb[t]&&xb.importKey){let i={name:"AES-CBC"},a=await xb.importKey("raw",n,i,!1,[t]),o={name:"AES-CBC",iv:e},s=await xb[t](o,a,r);return Buffer.from(new Uint8Array(s))}else if(t==="encrypt"&&Uu.createCipheriv){let i=Uu.createCipheriv("aes-256-cbc",n,e),a=i.update(r),o=i.final();return Buffer.concat([a,o])}else if(t==="decrypt"&&Uu.createDecipheriv){let i=Uu.createDecipheriv("aes-256-cbc",n,e),a=i.update(r),o=i.final();return Buffer.concat([a,o])}throw new Error(`Unsupported operation: ${t}`)}}async function J7e(t,e){if(!Uu.createHmac){let i={name:"HMAC",hash:{name:"SHA-256"}},a=await xb.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),o=await xb.sign("HMAC",a,e);return Buffer.from(new Uint8Array(o))}let n=Uu.createHmac("sha256",Buffer.from(t));return n.update(e),n.digest()}async function GEt(t,e,n){let r=await J7e(t,e);return HEt(r,n)}var q7e,WF,Uu,xb,LEt,UEt,zEt,jEt,Q7e,C1,TE,Z7e,X7e,pie,YF=B(()=>{q7e=fe(AI()),WF=new q7e.ec("secp256k1"),Uu=globalThis.crypto||globalThis.msCrypto||{},xb=Uu.subtle||Uu.webkitSubtle,LEt=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),UEt=Buffer.alloc(32,0);zEt=Y7e("encrypt"),jEt=Y7e("decrypt");Q7e=function(){let t=vR(32);for(;!ER(t);)t=vR(32);return t},C1=function(t){return Lu(t.length===32,"Bad private key"),Lu(ER(t),"Bad private key"),Buffer.from(WF.keyFromPrivate(t).getPublic("array"))},TE=async function(t,e){return Lu(t.length===32,"Bad private key"),Lu(ER(t),"Bad private key"),Lu(e.length>0,"Message should not be empty"),Lu(e.length<=32,"Message is too long"),Buffer.from(WF.sign(e,t,{canonical:!0}).toDER())},Z7e=async function(t,e,n){Lu(Buffer.isBuffer(t),"Bad private key"),Lu(Buffer.isBuffer(e),"Bad public key"),Lu(t.length===32,"Bad private key"),Lu(ER(t),"Bad private key"),Lu(e.length===65||e.length===33,"Bad public key"),e.length===65&&Lu(e[0]===4,"Bad public key"),e.length===33&&Lu(e[0]===2||e[0]===3,"Bad public key");let r=WF.keyFromPrivate(t),i=WF.keyFromPublic(e),a=r.derive(i.getPublic());return n?Buffer.from(a.toString(16,64),"hex"):Buffer.from(a.toArray())},X7e=async function(t,e,n){n=n||{};let r=n.ephemPrivateKey||vR(32);for(;!ER(r);)r=n.ephemPrivateKey||vR(32);let i=C1(r),a=await Z7e(r,t,n.padding),o=await W7e(a),s=n.iv||vR(16),c=o.slice(0,32),l=o.slice(32),f=await zEt(s,Buffer.from(c),e),d=Buffer.concat([s,i,f]),p=await J7e(Buffer.from(l),d);return{iv:s,ephemPublicKey:i,ciphertext:f,mac:p}},pie=async function(t,e,n){let r=await Z7e(t,e.ephemPublicKey,n),i=await W7e(r),a=i.slice(0,32),o=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),c=await GEt(Buffer.from(o),s,e.mac);if(!c&&!n)return pie(t,e,!0);if(!c&&n===!0)throw new Error("bad MAC after trying padded");let l=await jEt(e.iv,Buffer.from(a),e.ciphertext);return Buffer.from(new Uint8Array(l))}});function xR(t){return e=>(pF(e),t(e))}var eSe=B(()=>{Are()});var xIn,tSe,AIn,_In,nSe=B(()=>{N3();eSe();xIn=xR(uF),tSe=(()=>{let t=xR(Gc);return t.create=Gc.create,t})(),AIn=xR(fF),_In=xR(dF)});function u5(t){return Buffer.from(tSe(t))}var rSe,hie,mie=B(()=>{rSe=fe(AI());nSe();hie=new rSe.ec("secp256k1")});function iSe(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function aSe(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function H3(t,e){let n=JSON.stringify(e),r=Buffer.from(n,"utf-8"),i=await X7e(C1(Buffer.from(t,"hex")),r),a=aSe(i);return JSON.stringify(a)}async function AR(t,e){let n=JSON.parse(e),r=iSe(n),i=hie.keyFromPrivate(t),o=(await pie(Buffer.from(i.getPrivate().toString("hex",64),"hex"),r)).toString("utf-8");return JSON.parse(o)}var oSe=B(()=>{YF();mie()});var yie=B(()=>{mie();oSe()});var VEt,Ab,sSe=B(()=>{Qe();$7e();YF();yie();V7e();fie();VEt=86400,Ab=class extends qF{constructor({sessionServerBaseUrl:e,sessionNamespace:n,sessionTime:r,sessionId:i,allowedOrigin:a}={}){super(),K(this,"sessionServerBaseUrl",die),K(this,"sessionNamespace",void 0),K(this,"allowedOrigin",void 0),K(this,"sessionTime",VEt),K(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),n&&(this.sessionNamespace=n),r&&(this.sessionTime=r),i&&(this.sessionId=wR(i)),a?this.allowedOrigin=a:this.allowedOrigin="*"}static generateRandomSessionKey(){return wR(Q7e().toString("hex"))}async createSession(e,n={}){super.checkSessionParams();let r=Buffer.from(this.sessionId,"hex"),i=C1(r).toString("hex"),a=await H3(this.sessionId,e),o=(await TE(r,u5(Buffer.from(a,"utf8")))).toString("hex"),s={key:i,data:a,signature:o,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:n}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();let r={key:C1(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:r,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");let a=await AR(this.sessionId,i.message);if(a.error)throw new Error("There was an error decrypting data.");return a}async updateSession(e,n={}){super.checkSessionParams();let r=Buffer.from(this.sessionId,"hex"),i=C1(r).toString("hex"),a=await H3(this.sessionId,e),o=(await TE(r,u5(Buffer.from(a,"utf8")))).toString("hex"),s={key:i,data:a,signature:o,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:s,headers:n})}async invalidateSession(e={}){super.checkSessionParams();let n=Buffer.from(this.sessionId,"hex"),r=C1(n).toString("hex"),i=await H3(this.sessionId,{}),a=(await TE(n,u5(Buffer.from(i,"utf8")))).toString("hex"),o={key:r,data:i,signature:a,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:o,headers:e}),this.sessionId="",!0}}});var cSe=B(()=>{sSe()});var lSe,uSe,z3,bie,_b,I1,Fu,rh,JF,gie,wie,vie,Eie,xie,Aie,_ie,Tie,Sie,QF=B(()=>{st();hR();lSe=Ti,uSe=nh,z3=q(q({},uSe),lSe),bie={SECP256K1:"secp256k1",ED25519:"ed25519",OTHER:"other"},_b={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_SOCIAL_FACTOR:"add_social_factor",MODIFY_SOCIAL_FACTOR:"modify_social_factor",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},I1={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},Fu={DEFAULT:"default",IFRAME:"iframe"},rh={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},JF="auth-iframe",gie="http://localhost:3000",wie="https://staging-auth.web3auth.io",vie="https://develop-auth.web3auth.io",Eie="https://auth.web3auth.io",xie="http://localhost:5173",Aie="https://staging-account.web3auth.io",_ie="https://develop-account.web3auth.io",Tie="https://account.web3auth.io",Sie=1e3*10});var ZF,fSe=B(()=>{ZF={light:"light",dark:"dark",auto:"auto"}});function j3(t){return Cie.decode(t)}function SE(t){return Cie.encode(JSON.stringify(t))}function Rie(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t))}}var dSe,Cie,Iie,_R=B(()=>{dSe=fe(oE()),Cie=dSe.default;Iie=t=>{let e=window.document.createElement("template"),n=t.trim();return e.innerHTML=n,e.content.firstChild}});function KEt(t){return t===ZF.light?"light":t===ZF.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}var XF,eH,pSe=B(()=>{Qe();l5();QF();fSe();fR();_R();XF=new Map;eH=class{constructor({sdkUrl:e,whiteLabel:n}){K(this,"sdkUrl",void 0),K(this,"whiteLabel",void 0),K(this,"initialized",!1),K(this,"loginCallbackSuccess",null),K(this,"loginCallbackFailed",null),K(this,"embedNonce",_3()),this.sdkUrl=e,this.whiteLabel=n}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return XF.get(this.embedNonce)}registerAuthServiceIframe(e){XF.set(this.embedNonce,e)}cleanup(){let e=XF.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),XF.delete(this.embedNonce))}async init({network:e,clientId:n}){if(typeof window>"u"||typeof document>"u")throw new Error("window or document is not available");if(this.initialized)throw new Error("AuthProvider already initialized");let r=new URL(this.sdkUrl);r.pathname.endsWith("/")?r.pathname+="frame":r.pathname+="/frame";let i=new URLSearchParams;i.append("origin",window.location.origin),i.append("nonce",this.embedNonce),r.hash=i.toString();let a=KEt(this.whiteLabel.mode||ZF.light),o=Iie(`<iframe
        id="${JF}-${this.embedNonce}"
        class="${JF}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${r.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${a};"
        allow="clipboard-write"
      ></iframe>`);return this.registerAuthServiceIframe(o),new Promise((s,c)=>{try{window.document.body.appendChild(o);let l=u=>{var f,d,p;if(u.origin!==this.targetOrigin)return;let{data:h}=u,{type:m,nonce:w}=h;if(w!==this.embedNonce)return;let g=h.data;switch(m){case rh.SETUP_COMPLETE:(f=this.getAuthServiceIframe())===null||f===void 0||(f=f.contentWindow)===null||f===void 0||f.postMessage({type:rh.INIT_DAPP,data:{network:e,clientId:n}},this.targetOrigin),this.initialized=!0,s();break;case rh.LOGIN_FAILED:(d=this.loginCallbackFailed)===null||d===void 0||d.call(this,g?.error||"Login failed, reason: unknown");break;case rh.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case rh.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case rh.LOGIN_SUCCESS:Du.info("LOGIN_SUCCESS",g),this.getAuthServiceIframe().style.display="none",g!=null&&g.sessionId&&((p=this.loginCallbackSuccess)===null||p===void 0||p.call(this,g));break;default:Du.warn(`Unknown message type: ${m}`);break}};window.addEventListener("message",l)}catch(l){c(l)}})}postLoginInitiatedMessage(e,n){var r;if(!this.initialized)throw new Error("Iframe not initialized");return(r=this.getAuthServiceIframe().contentWindow)===null||r===void 0||r.postMessage({type:rh.LOGIN_INITIATED,data:{loginConfig:e,nonce:n}},this.targetOrigin),new Promise((i,a)=>{this.loginCallbackSuccess=i,this.loginCallbackFailed=a})}postLoginCancelledMessage(e){var n;if(!this.initialized)throw new Error("Iframe not initialized");(n=this.getAuthServiceIframe().contentWindow)===null||n===void 0||n.postMessage({type:rh.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}});function $Et(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function qEt(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var WEt,tH,Oie=B(()=>{WEt=(function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),tH=(function(t){WEt(e,t);function e(n,r){var i=this.constructor,a=t.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),$Et(a,i.prototype),qEt(a),a}return e})(Error)});var nH,G3,Ba,Nie=B(()=>{Qe();Oie();nH=class extends tH{constructor(e,n){super(n),K(this,"code",void 0),K(this,"message",void 0),this.code=e,this.message=n||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}},G3=class t extends nH{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,n=""){return new t(e,`${t.messages[e]}, ${n}`)}static invalidParams(e=""){return t.fromCode(5001,e)}static notInitialized(e=""){return t.fromCode(5002,e)}};K(G3,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});Ba=class t extends nH{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,n=""){return new t(e,`${t.messages[e]}, ${n}`)}static invalidLoginParams(e=""){return t.fromCode(5111,e)}static userNotLoggedIn(e=""){return t.fromCode(5112,e)}static popupClosed(e=""){return t.fromCode(5113,e)}static loginFailed(e=""){return t.fromCode(5114,e)}static popupBlocked(e=""){return t.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return t.fromCode(5116,e)}static mfaNotEnabled(e=""){return t.fromCode(5117,e)}};K(Ba,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"})});var Qi,Tb,YEt,JEt,QEt,ZEt,XEt,Pie,kie,hSe=B(()=>{Qi={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Tb={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},YEt={[Qi.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[Qi.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[Qi.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[Qi.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[Qi.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},JEt={[Qi.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:Tb.SAPPHIRE_MAINNET},[Qi.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:Tb.SAPPHIRE_MAINNET},[Qi.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:Tb.SAPPHIRE_MAINNET},[Qi.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:Tb.SAPPHIRE_MAINNET},[Qi.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:Tb.SAPPHIRE_DEVNET}},QEt={[Qi.MAINNET]:"mainnet",[Qi.TESTNET]:"goerli",[Qi.CYAN]:"polygon-mainnet",[Qi.AQUA]:"polygon-mainnet",[Qi.CELESTE]:"polygon-mainnet"},ZEt={[Tb.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[Tb.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Qi.MAINNET]:"https://api.web3auth.io/signer-service",[Qi.TESTNET]:"https://api.web3auth.io/signer-service",[Qi.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Qi.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Qi.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},XEt={[Qi.MAINNET]:"https://api.web3auth.io/metadata-service",[Qi.TESTNET]:"https://api.web3auth.io/metadata-service",[Qi.CYAN]:"https://api.web3auth.io/metadata-service",[Qi.AQUA]:"https://api.web3auth.io/metadata-service",[Qi.CELESTE]:"https://api.web3auth.io/metadata-service"},Pie="https://api.web3auth.io/session-service",kie="https://session.web3auth.io"});var mSe=B(()=>{hSe()});var ySe,Ms,bSe=B(()=>{ySe=fe(Ln()),Ms=ySe.default.getLogger("SecurePubSub")});var V3,gSe=B(()=>{Qe();mSe();YF();gR();yie();SF();bSe();V3=class{constructor(e={}){K(this,"options",void 0),K(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||Pie,this.options.socketUrl=e.socketUrl||kie,this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?Ms.enableAll():Ms.disableAll()}static setLogLevel(e){Ms.setLevel(e),z7e(e)}async publish(e,n){if(!this.isValidTopic(e))throw Ms.error("Invalid topic"),new Error("Invalid topic");let r=u5(Buffer.from(e,"utf8")),i=await H3(r.toString("hex"),n),a=await TE(r,u5(Buffer.from(i,"utf8"))),o={key:C1(r).toString("hex"),data:i,signature:a.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return F3(`${this.options.serverUrl}/v2/channel/set`,o)}async subscribe(e){let n=!0,r=u5(Buffer.from(e,"utf8")),i=C1(r).toString("hex"),a=this.getSocketConnection();a.connected?(Ms.debug("already connected with socket"),a.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):a.once("connect",()=>{Ms.debug("connected with socket"),a.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});let o=()=>{a.once("connect",async()=>{Ms.debug("connected with socket using reconnect"),n&&a.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},s=()=>{n||document.removeEventListener("visibilitychange",s),!a.connected&&document.visibilityState==="visible"&&o()},c=()=>{Ms.debug("socket disconnected",n),n?(Ms.error("socket disconnected unexpectedly, reconnecting socket"),o()):a.removeListener("disconnect",c)};a.on("disconnect",c);let l=new Promise((u,f)=>{let d=async p=>{try{let h=await AR(r.toString("hex"),p);Ms.info("got data",h),u(h)}catch(h){Ms.error(h),f(h)}finally{n=!1,typeof document<"u"&&document.removeEventListener("visibilitychange",s)}};Ms.info("listening to",`${i}_success`),a.once(`${i}_success`,d)});return typeof document<"u"&&document.addEventListener("visibilitychange",s),l}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;let e=s5(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",n=>{e.io.opts.transports=["polling","websocket"],Ms.error("connect error",n)}),e.on("connect",async()=>{let{engine:n}=e.io;Ms.debug("initially connected to",n.transport.name),n.once("upgrade",()=>{Ms.debug("upgraded",n.transport.name)}),n.once("close",r=>{Ms.debug("connection closed",r)})}),e.on("error",n=>{Ms.error("socket errored",n),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}});var Mie=B(()=>{gSe()});var wSe,rH,vSe=B(()=>{Qe();hR();l5();Mie();wSe=fe(Ps());Nie();rH=class extends wSe.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4,sessionSocketUrl:a,sessionServerUrl:o}){super(),K(this,"url",void 0),K(this,"target",void 0),K(this,"features",void 0),K(this,"window",void 0),K(this,"windowTimer",void 0),K(this,"iClosedWindow",void 0),K(this,"timeout",void 0),K(this,"sessionSocketUrl",void 0),K(this,"sessionServerUrl",void 0),this.url=e,this.target=n||"_blank",this.features=r||OI(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this.sessionServerUrl=o||dR,this.sessionSocketUrl=a||pR,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw Ba.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){let n=new V3({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),r=await n.subscribe(e);this.close(),n.cleanup();let i=JSON.parse(r);return i.error?{error:i.error,state:i.state}:i.data}}});function Bie(t=!1){let e={},n=new URLSearchParams(window.location.search.slice(1));n.forEach((o,s)=>{s!=="b64Params"&&(e[s]=o)});let r=n.get("b64Params");if(r)try{let o=JSON.parse(j3(r));Object.keys(o).forEach(s=>{e[s]=o[s]})}catch(o){Du.error(o)}let i=new URLSearchParams(window.location.hash.substring(1));i.forEach((o,s)=>{s!=="b64Params"&&(e[s]=o)});let a=i.get("b64Params");if(a)try{let o=JSON.parse(j3(a));Object.keys(o).forEach(s=>{e[s]=o[s]})}catch(o){Du.error(o)}if(t){let o=new URL(window.location.origin+window.location.pathname);n.size!==0&&(n.delete("error"),n.delete("state"),n.delete("b64Params"),n.delete("sessionNamespace"),o.search=n.toString()),i.size!==0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),o.hash=i.toString()),window.history.replaceState(q(q({},window.history.state),{},{as:o.href,url:o.href}),"",o.href)}return e}var CE,Die=B(()=>{st();fR();_R();CE="10.5.0"});var IE,RE,Lie=B(()=>{Qe();l5();IE=class{constructor(){K(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,n){this.store.set(e,n)}removeItem(e){this.store.delete(e)}},RE=class{constructor(e,n){K(this,"storage",void 0),K(this,"_storeKey",void 0),this.storage=n,this._storeKey=e;try{n.getItem(e)||this.resetStore()}catch{}}static getInstance(e,n="local"){if(!this.instanceMap.has(e)){let r;n==="local"&&sE("localStorage")?r=window.localStorage:n==="session"&&sE("sessionStorage")?r=window.sessionStorage:r=new IE,this.instanceMap.set(e,new this(e,r))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){let e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,n){let r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=n,this.storage.setItem(this._storeKey,JSON.stringify(r))}};K(RE,"instanceMap",new Map)});var TR,ESe=B(()=>{st();Qe();hR();l5();cSe();fR();pSe();Nie();vSe();Die();QF();Lie();_R();TR=class{constructor(e){if(K(this,"state",{}),K(this,"options",void 0),K(this,"sessionManager",void 0),K(this,"currentStorage",void 0),K(this,"_storageBaseKey","auth_store"),K(this,"dappState",void 0),K(this,"addVersionInUrls",!0),K(this,"authProvider",void 0),K(this,"authProviderPromise",void 0),!e.clientId)throw G3.invalidParams("clientId is required");e.network||(e.network=z3.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=I1.PRODUCTION),e.sdkMode||(e.sdkMode=Fu.DEFAULT),(e.buildEnv===I1.DEVELOPMENT||e.buildEnv===I1.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===I1.DEVELOPMENT?(e.sdkUrl=gie,e.dashboardUrl=xie):e.buildEnv===I1.STAGING?(e.sdkUrl=wie,e.dashboardUrl=Aie):e.buildEnv===I1.TESTING?(e.sdkUrl=vie,e.dashboardUrl=_ie):(e.sdkUrl=Eie,e.dashboardUrl=Tie)),!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=Ma.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),typeof e.includeUserDataInToken!="boolean"&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=dR),e.sessionSocketUrl||(e.sessionSocketUrl=pR),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${CE.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${CE.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){let e=Bie(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);let n=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=RE.getInstance(n,this.options.storage);let r=this.currentStorage.get("sessionId");if(this.sessionManager=new Ab({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:r,allowedOrigin:this.options.sdkUrl}),(this.options.network===z3.TESTNET||this.options.network===z3.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==I1.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,Ba.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){let i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===Fu.IFRAME&&(this.authProvider=new eH({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),this.state.sessionId||(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!e.authConnection&&(!e.authConnectionId||!e.groupedAuthConnectionId))throw Ba.invalidLoginParams("AuthConnection is required");let n=q({},e),r={actionType:_b.LOGIN,options:this.options,params:n},i=await this.authHandler(`${this.baseUrl}/start`,r,S3(e.authConnection));if(this.options.uxMode===Ma.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Ba.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,n){var r;if(this.options.sdkMode!==Fu.IFRAME)throw Ba.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,(r=this.authProvider)!==null&&r!==void 0&&r.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});let i=await this.authProvider.postLoginInitiatedMessage({actionType:_b.LOGIN,params:e,options:this.options},n);if(i.error)throw Ba.loginFailed(i.error);this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var n;if(this.options.sdkMode!==Fu.IFRAME)throw Ba.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!((n=this.authProvider)!==null&&n!==void 0&&n.initialized))throw G3.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw Ba.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var n;if(!this.sessionId)throw Ba.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw Ba.mfaAlreadyEnabled();let r={actionType:_b.ENABLE_MFA,options:q(q({},this.options),{},{sdkMode:Fu.DEFAULT}),params:q(q({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r,Sie);if(this.options.uxMode===Ma.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Ba.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),!!(!((n=this.state.userInfo)===null||n===void 0)&&n.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw Ba.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw Ba.mfaNotEnabled();let n={dappUrl:`${window.location.origin}${window.location.pathname}`},r=Ab.generateRandomSessionKey(),i={actionType:_b.MANAGE_MFA,options:q(q({},this.options),{},{uxMode:Ma.REDIRECT,sdkMode:Fu.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:q(q(q({},n),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:SE({loginId:r})}),sessionId:this.sessionId};this.createLoginSession(r,i,i.options.sessionTime,!0);let a={loginId:r,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},o=cb({baseURL:`${this.baseUrl}/start`,hash:{b64Params:SE(a)}});window.open(o,"_blank")}async manageSocialFactor(e,n){if(!this.sessionId)throw Ba.userNotLoggedIn();let r={actionType:e,options:q(q({},this.options),{},{sdkMode:Fu.DEFAULT}),params:q({},n),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==Ma.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw Ba.userNotLoggedIn();let n={actionType:_b.ADD_AUTHENTICATOR_FACTOR,options:q(q({},this.options),{},{sdkMode:Fu.DEFAULT}),params:q(q({},e),{},{authConnection:Ze.AUTHENTICATOR}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Ma.REDIRECT)return!r.error}async addPasskeyFactor(e){if(!this.sessionId)throw Ba.userNotLoggedIn();let n={actionType:_b.ADD_PASSKEY_FACTOR,options:q(q({},this.options),{},{sdkMode:Fu.DEFAULT}),params:q(q({},e),{},{authConnection:Ze.PASSKEYS}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Ma.REDIRECT)return!r.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw Ba.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,n,r=600,i=!1){if(!this.sessionManager)throw G3.notInitialized();let o=new Ab({sessionServerBaseUrl:n.options.storageServerUrl,sessionNamespace:n.options.sessionNamespace,sessionTime:r,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(n)));n.options.uxMode===Ma.REDIRECT&&!i&&await o}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return Du.error("authorization failed",e),{}}}updateState(e){this.state=q(q({},this.state),e)}async rehydrateSession(){let e=await this._authorizeSession();this.updateState(e)}async authHandler(e,n,r=1e3*10){let i=Ab.generateRandomSessionKey();await this.createLoginSession(i,n);let a={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===Ma.REDIRECT){let c=cb({baseURL:e,hash:{b64Params:SE(a)}});window.location.href=c;return}let o=cb({baseURL:e,hash:{b64Params:SE(a)}}),s=new rH({url:o,timeout:r,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((c,l)=>{s.on("close",()=>{l(Ba.popupClosed())}),s.listenOnChannel(i).then(c).catch(l);try{s.open()}catch(u){l(u)}})}}});var xSe=le((rOn,iH)=>{(function(t){"use strict";var e=function(Y){var Z,Q=new Float64Array(16);if(Y)for(Z=0;Z<Y.length;Z++)Q[Z]=Y[Z];return Q},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=e(),o=e([1]),s=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(Y,Z,Q,G){Y[Z]=Q>>24&255,Y[Z+1]=Q>>16&255,Y[Z+2]=Q>>8&255,Y[Z+3]=Q&255,Y[Z+4]=G>>24&255,Y[Z+5]=G>>16&255,Y[Z+6]=G>>8&255,Y[Z+7]=G&255}function h(Y,Z,Q,G,ee){var se,pe=0;for(se=0;se<ee;se++)pe|=Y[Z+se]^Q[G+se];return(1&pe-1>>>8)-1}function m(Y,Z,Q,G){return h(Y,Z,Q,G,16)}function w(Y,Z,Q,G){return h(Y,Z,Q,G,32)}function g(Y,Z,Q,G){for(var ee=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,se=Q[0]&255|(Q[1]&255)<<8|(Q[2]&255)<<16|(Q[3]&255)<<24,pe=Q[4]&255|(Q[5]&255)<<8|(Q[6]&255)<<16|(Q[7]&255)<<24,he=Q[8]&255|(Q[9]&255)<<8|(Q[10]&255)<<16|(Q[11]&255)<<24,Ae=Q[12]&255|(Q[13]&255)<<8|(Q[14]&255)<<16|(Q[15]&255)<<24,Bt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,We=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Qt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,wt=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,rn=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,ln=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,xn=Q[16]&255|(Q[17]&255)<<8|(Q[18]&255)<<16|(Q[19]&255)<<24,bn=Q[20]&255|(Q[21]&255)<<8|(Q[22]&255)<<16|(Q[23]&255)<<24,un=Q[24]&255|(Q[25]&255)<<8|(Q[26]&255)<<16|(Q[27]&255)<<24,hn=Q[28]&255|(Q[29]&255)<<8|(Q[30]&255)<<16|(Q[31]&255)<<24,fn=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,xt=ee,Ht=se,yt=pe,Tt=he,Rt=Ae,pt=Bt,ge=We,ve=Qt,je=wt,ke=rn,Me=ln,Je=xn,yn=bn,zn=un,qn=hn,jn=fn,ie,nr=0;nr<20;nr+=2)ie=xt+yn|0,Rt^=ie<<7|ie>>>25,ie=Rt+xt|0,je^=ie<<9|ie>>>23,ie=je+Rt|0,yn^=ie<<13|ie>>>19,ie=yn+je|0,xt^=ie<<18|ie>>>14,ie=pt+Ht|0,ke^=ie<<7|ie>>>25,ie=ke+pt|0,zn^=ie<<9|ie>>>23,ie=zn+ke|0,Ht^=ie<<13|ie>>>19,ie=Ht+zn|0,pt^=ie<<18|ie>>>14,ie=Me+ge|0,qn^=ie<<7|ie>>>25,ie=qn+Me|0,yt^=ie<<9|ie>>>23,ie=yt+qn|0,ge^=ie<<13|ie>>>19,ie=ge+yt|0,Me^=ie<<18|ie>>>14,ie=jn+Je|0,Tt^=ie<<7|ie>>>25,ie=Tt+jn|0,ve^=ie<<9|ie>>>23,ie=ve+Tt|0,Je^=ie<<13|ie>>>19,ie=Je+ve|0,jn^=ie<<18|ie>>>14,ie=xt+Tt|0,Ht^=ie<<7|ie>>>25,ie=Ht+xt|0,yt^=ie<<9|ie>>>23,ie=yt+Ht|0,Tt^=ie<<13|ie>>>19,ie=Tt+yt|0,xt^=ie<<18|ie>>>14,ie=pt+Rt|0,ge^=ie<<7|ie>>>25,ie=ge+pt|0,ve^=ie<<9|ie>>>23,ie=ve+ge|0,Rt^=ie<<13|ie>>>19,ie=Rt+ve|0,pt^=ie<<18|ie>>>14,ie=Me+ke|0,Je^=ie<<7|ie>>>25,ie=Je+Me|0,je^=ie<<9|ie>>>23,ie=je+Je|0,ke^=ie<<13|ie>>>19,ie=ke+je|0,Me^=ie<<18|ie>>>14,ie=jn+qn|0,yn^=ie<<7|ie>>>25,ie=yn+jn|0,zn^=ie<<9|ie>>>23,ie=zn+yn|0,qn^=ie<<13|ie>>>19,ie=qn+zn|0,jn^=ie<<18|ie>>>14;xt=xt+ee|0,Ht=Ht+se|0,yt=yt+pe|0,Tt=Tt+he|0,Rt=Rt+Ae|0,pt=pt+Bt|0,ge=ge+We|0,ve=ve+Qt|0,je=je+wt|0,ke=ke+rn|0,Me=Me+ln|0,Je=Je+xn|0,yn=yn+bn|0,zn=zn+un|0,qn=qn+hn|0,jn=jn+fn|0,Y[0]=xt>>>0&255,Y[1]=xt>>>8&255,Y[2]=xt>>>16&255,Y[3]=xt>>>24&255,Y[4]=Ht>>>0&255,Y[5]=Ht>>>8&255,Y[6]=Ht>>>16&255,Y[7]=Ht>>>24&255,Y[8]=yt>>>0&255,Y[9]=yt>>>8&255,Y[10]=yt>>>16&255,Y[11]=yt>>>24&255,Y[12]=Tt>>>0&255,Y[13]=Tt>>>8&255,Y[14]=Tt>>>16&255,Y[15]=Tt>>>24&255,Y[16]=Rt>>>0&255,Y[17]=Rt>>>8&255,Y[18]=Rt>>>16&255,Y[19]=Rt>>>24&255,Y[20]=pt>>>0&255,Y[21]=pt>>>8&255,Y[22]=pt>>>16&255,Y[23]=pt>>>24&255,Y[24]=ge>>>0&255,Y[25]=ge>>>8&255,Y[26]=ge>>>16&255,Y[27]=ge>>>24&255,Y[28]=ve>>>0&255,Y[29]=ve>>>8&255,Y[30]=ve>>>16&255,Y[31]=ve>>>24&255,Y[32]=je>>>0&255,Y[33]=je>>>8&255,Y[34]=je>>>16&255,Y[35]=je>>>24&255,Y[36]=ke>>>0&255,Y[37]=ke>>>8&255,Y[38]=ke>>>16&255,Y[39]=ke>>>24&255,Y[40]=Me>>>0&255,Y[41]=Me>>>8&255,Y[42]=Me>>>16&255,Y[43]=Me>>>24&255,Y[44]=Je>>>0&255,Y[45]=Je>>>8&255,Y[46]=Je>>>16&255,Y[47]=Je>>>24&255,Y[48]=yn>>>0&255,Y[49]=yn>>>8&255,Y[50]=yn>>>16&255,Y[51]=yn>>>24&255,Y[52]=zn>>>0&255,Y[53]=zn>>>8&255,Y[54]=zn>>>16&255,Y[55]=zn>>>24&255,Y[56]=qn>>>0&255,Y[57]=qn>>>8&255,Y[58]=qn>>>16&255,Y[59]=qn>>>24&255,Y[60]=jn>>>0&255,Y[61]=jn>>>8&255,Y[62]=jn>>>16&255,Y[63]=jn>>>24&255}function x(Y,Z,Q,G){for(var ee=G[0]&255|(G[1]&255)<<8|(G[2]&255)<<16|(G[3]&255)<<24,se=Q[0]&255|(Q[1]&255)<<8|(Q[2]&255)<<16|(Q[3]&255)<<24,pe=Q[4]&255|(Q[5]&255)<<8|(Q[6]&255)<<16|(Q[7]&255)<<24,he=Q[8]&255|(Q[9]&255)<<8|(Q[10]&255)<<16|(Q[11]&255)<<24,Ae=Q[12]&255|(Q[13]&255)<<8|(Q[14]&255)<<16|(Q[15]&255)<<24,Bt=G[4]&255|(G[5]&255)<<8|(G[6]&255)<<16|(G[7]&255)<<24,We=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Qt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,wt=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,rn=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,ln=G[8]&255|(G[9]&255)<<8|(G[10]&255)<<16|(G[11]&255)<<24,xn=Q[16]&255|(Q[17]&255)<<8|(Q[18]&255)<<16|(Q[19]&255)<<24,bn=Q[20]&255|(Q[21]&255)<<8|(Q[22]&255)<<16|(Q[23]&255)<<24,un=Q[24]&255|(Q[25]&255)<<8|(Q[26]&255)<<16|(Q[27]&255)<<24,hn=Q[28]&255|(Q[29]&255)<<8|(Q[30]&255)<<16|(Q[31]&255)<<24,fn=G[12]&255|(G[13]&255)<<8|(G[14]&255)<<16|(G[15]&255)<<24,xt=ee,Ht=se,yt=pe,Tt=he,Rt=Ae,pt=Bt,ge=We,ve=Qt,je=wt,ke=rn,Me=ln,Je=xn,yn=bn,zn=un,qn=hn,jn=fn,ie,nr=0;nr<20;nr+=2)ie=xt+yn|0,Rt^=ie<<7|ie>>>25,ie=Rt+xt|0,je^=ie<<9|ie>>>23,ie=je+Rt|0,yn^=ie<<13|ie>>>19,ie=yn+je|0,xt^=ie<<18|ie>>>14,ie=pt+Ht|0,ke^=ie<<7|ie>>>25,ie=ke+pt|0,zn^=ie<<9|ie>>>23,ie=zn+ke|0,Ht^=ie<<13|ie>>>19,ie=Ht+zn|0,pt^=ie<<18|ie>>>14,ie=Me+ge|0,qn^=ie<<7|ie>>>25,ie=qn+Me|0,yt^=ie<<9|ie>>>23,ie=yt+qn|0,ge^=ie<<13|ie>>>19,ie=ge+yt|0,Me^=ie<<18|ie>>>14,ie=jn+Je|0,Tt^=ie<<7|ie>>>25,ie=Tt+jn|0,ve^=ie<<9|ie>>>23,ie=ve+Tt|0,Je^=ie<<13|ie>>>19,ie=Je+ve|0,jn^=ie<<18|ie>>>14,ie=xt+Tt|0,Ht^=ie<<7|ie>>>25,ie=Ht+xt|0,yt^=ie<<9|ie>>>23,ie=yt+Ht|0,Tt^=ie<<13|ie>>>19,ie=Tt+yt|0,xt^=ie<<18|ie>>>14,ie=pt+Rt|0,ge^=ie<<7|ie>>>25,ie=ge+pt|0,ve^=ie<<9|ie>>>23,ie=ve+ge|0,Rt^=ie<<13|ie>>>19,ie=Rt+ve|0,pt^=ie<<18|ie>>>14,ie=Me+ke|0,Je^=ie<<7|ie>>>25,ie=Je+Me|0,je^=ie<<9|ie>>>23,ie=je+Je|0,ke^=ie<<13|ie>>>19,ie=ke+je|0,Me^=ie<<18|ie>>>14,ie=jn+qn|0,yn^=ie<<7|ie>>>25,ie=yn+jn|0,zn^=ie<<9|ie>>>23,ie=zn+yn|0,qn^=ie<<13|ie>>>19,ie=qn+zn|0,jn^=ie<<18|ie>>>14;Y[0]=xt>>>0&255,Y[1]=xt>>>8&255,Y[2]=xt>>>16&255,Y[3]=xt>>>24&255,Y[4]=pt>>>0&255,Y[5]=pt>>>8&255,Y[6]=pt>>>16&255,Y[7]=pt>>>24&255,Y[8]=Me>>>0&255,Y[9]=Me>>>8&255,Y[10]=Me>>>16&255,Y[11]=Me>>>24&255,Y[12]=jn>>>0&255,Y[13]=jn>>>8&255,Y[14]=jn>>>16&255,Y[15]=jn>>>24&255,Y[16]=ge>>>0&255,Y[17]=ge>>>8&255,Y[18]=ge>>>16&255,Y[19]=ge>>>24&255,Y[20]=ve>>>0&255,Y[21]=ve>>>8&255,Y[22]=ve>>>16&255,Y[23]=ve>>>24&255,Y[24]=je>>>0&255,Y[25]=je>>>8&255,Y[26]=je>>>16&255,Y[27]=je>>>24&255,Y[28]=ke>>>0&255,Y[29]=ke>>>8&255,Y[30]=ke>>>16&255,Y[31]=ke>>>24&255}function C(Y,Z,Q,G){g(Y,Z,Q,G)}function P(Y,Z,Q,G){x(Y,Z,Q,G)}var D=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(Y,Z,Q,G,ee,se,pe){var he=new Uint8Array(16),Ae=new Uint8Array(64),Bt,We;for(We=0;We<16;We++)he[We]=0;for(We=0;We<8;We++)he[We]=se[We];for(;ee>=64;){for(C(Ae,he,pe,D),We=0;We<64;We++)Y[Z+We]=Q[G+We]^Ae[We];for(Bt=1,We=8;We<16;We++)Bt=Bt+(he[We]&255)|0,he[We]=Bt&255,Bt>>>=8;ee-=64,Z+=64,G+=64}if(ee>0)for(C(Ae,he,pe,D),We=0;We<ee;We++)Y[Z+We]=Q[G+We]^Ae[We];return 0}function H(Y,Z,Q,G,ee){var se=new Uint8Array(16),pe=new Uint8Array(64),he,Ae;for(Ae=0;Ae<16;Ae++)se[Ae]=0;for(Ae=0;Ae<8;Ae++)se[Ae]=G[Ae];for(;Q>=64;){for(C(pe,se,ee,D),Ae=0;Ae<64;Ae++)Y[Z+Ae]=pe[Ae];for(he=1,Ae=8;Ae<16;Ae++)he=he+(se[Ae]&255)|0,se[Ae]=he&255,he>>>=8;Q-=64,Z+=64}if(Q>0)for(C(pe,se,ee,D),Ae=0;Ae<Q;Ae++)Y[Z+Ae]=pe[Ae];return 0}function O(Y,Z,Q,G,ee){var se=new Uint8Array(32);P(se,G,ee,D);for(var pe=new Uint8Array(8),he=0;he<8;he++)pe[he]=G[he+16];return H(Y,Z,Q,pe,se)}function M(Y,Z,Q,G,ee,se,pe){var he=new Uint8Array(32);P(he,se,pe,D);for(var Ae=new Uint8Array(8),Bt=0;Bt<8;Bt++)Ae[Bt]=se[Bt+16];return F(Y,Z,Q,G,ee,Ae,he)}var N=function(Y){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Z,Q,G,ee,se,pe,he,Ae;Z=Y[0]&255|(Y[1]&255)<<8,this.r[0]=Z&8191,Q=Y[2]&255|(Y[3]&255)<<8,this.r[1]=(Z>>>13|Q<<3)&8191,G=Y[4]&255|(Y[5]&255)<<8,this.r[2]=(Q>>>10|G<<6)&7939,ee=Y[6]&255|(Y[7]&255)<<8,this.r[3]=(G>>>7|ee<<9)&8191,se=Y[8]&255|(Y[9]&255)<<8,this.r[4]=(ee>>>4|se<<12)&255,this.r[5]=se>>>1&8190,pe=Y[10]&255|(Y[11]&255)<<8,this.r[6]=(se>>>14|pe<<2)&8191,he=Y[12]&255|(Y[13]&255)<<8,this.r[7]=(pe>>>11|he<<5)&8065,Ae=Y[14]&255|(Y[15]&255)<<8,this.r[8]=(he>>>8|Ae<<8)&8191,this.r[9]=Ae>>>5&127,this.pad[0]=Y[16]&255|(Y[17]&255)<<8,this.pad[1]=Y[18]&255|(Y[19]&255)<<8,this.pad[2]=Y[20]&255|(Y[21]&255)<<8,this.pad[3]=Y[22]&255|(Y[23]&255)<<8,this.pad[4]=Y[24]&255|(Y[25]&255)<<8,this.pad[5]=Y[26]&255|(Y[27]&255)<<8,this.pad[6]=Y[28]&255|(Y[29]&255)<<8,this.pad[7]=Y[30]&255|(Y[31]&255)<<8};N.prototype.blocks=function(Y,Z,Q){for(var G=this.fin?0:2048,ee,se,pe,he,Ae,Bt,We,Qt,wt,rn,ln,xn,bn,un,hn,fn,xt,Ht,yt,Tt=this.h[0],Rt=this.h[1],pt=this.h[2],ge=this.h[3],ve=this.h[4],je=this.h[5],ke=this.h[6],Me=this.h[7],Je=this.h[8],yn=this.h[9],zn=this.r[0],qn=this.r[1],jn=this.r[2],ie=this.r[3],nr=this.r[4],Lr=this.r[5],Ur=this.r[6],Jn=this.r[7],Ir=this.r[8],Rr=this.r[9];Q>=16;)ee=Y[Z+0]&255|(Y[Z+1]&255)<<8,Tt+=ee&8191,se=Y[Z+2]&255|(Y[Z+3]&255)<<8,Rt+=(ee>>>13|se<<3)&8191,pe=Y[Z+4]&255|(Y[Z+5]&255)<<8,pt+=(se>>>10|pe<<6)&8191,he=Y[Z+6]&255|(Y[Z+7]&255)<<8,ge+=(pe>>>7|he<<9)&8191,Ae=Y[Z+8]&255|(Y[Z+9]&255)<<8,ve+=(he>>>4|Ae<<12)&8191,je+=Ae>>>1&8191,Bt=Y[Z+10]&255|(Y[Z+11]&255)<<8,ke+=(Ae>>>14|Bt<<2)&8191,We=Y[Z+12]&255|(Y[Z+13]&255)<<8,Me+=(Bt>>>11|We<<5)&8191,Qt=Y[Z+14]&255|(Y[Z+15]&255)<<8,Je+=(We>>>8|Qt<<8)&8191,yn+=Qt>>>5|G,wt=0,rn=wt,rn+=Tt*zn,rn+=Rt*(5*Rr),rn+=pt*(5*Ir),rn+=ge*(5*Jn),rn+=ve*(5*Ur),wt=rn>>>13,rn&=8191,rn+=je*(5*Lr),rn+=ke*(5*nr),rn+=Me*(5*ie),rn+=Je*(5*jn),rn+=yn*(5*qn),wt+=rn>>>13,rn&=8191,ln=wt,ln+=Tt*qn,ln+=Rt*zn,ln+=pt*(5*Rr),ln+=ge*(5*Ir),ln+=ve*(5*Jn),wt=ln>>>13,ln&=8191,ln+=je*(5*Ur),ln+=ke*(5*Lr),ln+=Me*(5*nr),ln+=Je*(5*ie),ln+=yn*(5*jn),wt+=ln>>>13,ln&=8191,xn=wt,xn+=Tt*jn,xn+=Rt*qn,xn+=pt*zn,xn+=ge*(5*Rr),xn+=ve*(5*Ir),wt=xn>>>13,xn&=8191,xn+=je*(5*Jn),xn+=ke*(5*Ur),xn+=Me*(5*Lr),xn+=Je*(5*nr),xn+=yn*(5*ie),wt+=xn>>>13,xn&=8191,bn=wt,bn+=Tt*ie,bn+=Rt*jn,bn+=pt*qn,bn+=ge*zn,bn+=ve*(5*Rr),wt=bn>>>13,bn&=8191,bn+=je*(5*Ir),bn+=ke*(5*Jn),bn+=Me*(5*Ur),bn+=Je*(5*Lr),bn+=yn*(5*nr),wt+=bn>>>13,bn&=8191,un=wt,un+=Tt*nr,un+=Rt*ie,un+=pt*jn,un+=ge*qn,un+=ve*zn,wt=un>>>13,un&=8191,un+=je*(5*Rr),un+=ke*(5*Ir),un+=Me*(5*Jn),un+=Je*(5*Ur),un+=yn*(5*Lr),wt+=un>>>13,un&=8191,hn=wt,hn+=Tt*Lr,hn+=Rt*nr,hn+=pt*ie,hn+=ge*jn,hn+=ve*qn,wt=hn>>>13,hn&=8191,hn+=je*zn,hn+=ke*(5*Rr),hn+=Me*(5*Ir),hn+=Je*(5*Jn),hn+=yn*(5*Ur),wt+=hn>>>13,hn&=8191,fn=wt,fn+=Tt*Ur,fn+=Rt*Lr,fn+=pt*nr,fn+=ge*ie,fn+=ve*jn,wt=fn>>>13,fn&=8191,fn+=je*qn,fn+=ke*zn,fn+=Me*(5*Rr),fn+=Je*(5*Ir),fn+=yn*(5*Jn),wt+=fn>>>13,fn&=8191,xt=wt,xt+=Tt*Jn,xt+=Rt*Ur,xt+=pt*Lr,xt+=ge*nr,xt+=ve*ie,wt=xt>>>13,xt&=8191,xt+=je*jn,xt+=ke*qn,xt+=Me*zn,xt+=Je*(5*Rr),xt+=yn*(5*Ir),wt+=xt>>>13,xt&=8191,Ht=wt,Ht+=Tt*Ir,Ht+=Rt*Jn,Ht+=pt*Ur,Ht+=ge*Lr,Ht+=ve*nr,wt=Ht>>>13,Ht&=8191,Ht+=je*ie,Ht+=ke*jn,Ht+=Me*qn,Ht+=Je*zn,Ht+=yn*(5*Rr),wt+=Ht>>>13,Ht&=8191,yt=wt,yt+=Tt*Rr,yt+=Rt*Ir,yt+=pt*Jn,yt+=ge*Ur,yt+=ve*Lr,wt=yt>>>13,yt&=8191,yt+=je*nr,yt+=ke*ie,yt+=Me*jn,yt+=Je*qn,yt+=yn*zn,wt+=yt>>>13,yt&=8191,wt=(wt<<2)+wt|0,wt=wt+rn|0,rn=wt&8191,wt=wt>>>13,ln+=wt,Tt=rn,Rt=ln,pt=xn,ge=bn,ve=un,je=hn,ke=fn,Me=xt,Je=Ht,yn=yt,Z+=16,Q-=16;this.h[0]=Tt,this.h[1]=Rt,this.h[2]=pt,this.h[3]=ge,this.h[4]=ve,this.h[5]=je,this.h[6]=ke,this.h[7]=Me,this.h[8]=Je,this.h[9]=yn},N.prototype.finish=function(Y,Z){var Q=new Uint16Array(10),G,ee,se,pe;if(this.leftover){for(pe=this.leftover,this.buffer[pe++]=1;pe<16;pe++)this.buffer[pe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(G=this.h[1]>>>13,this.h[1]&=8191,pe=2;pe<10;pe++)this.h[pe]+=G,G=this.h[pe]>>>13,this.h[pe]&=8191;for(this.h[0]+=G*5,G=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=G,G=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=G,Q[0]=this.h[0]+5,G=Q[0]>>>13,Q[0]&=8191,pe=1;pe<10;pe++)Q[pe]=this.h[pe]+G,G=Q[pe]>>>13,Q[pe]&=8191;for(Q[9]-=8192,ee=(G^1)-1,pe=0;pe<10;pe++)Q[pe]&=ee;for(ee=~ee,pe=0;pe<10;pe++)this.h[pe]=this.h[pe]&ee|Q[pe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,se=this.h[0]+this.pad[0],this.h[0]=se&65535,pe=1;pe<8;pe++)se=(this.h[pe]+this.pad[pe]|0)+(se>>>16)|0,this.h[pe]=se&65535;Y[Z+0]=this.h[0]>>>0&255,Y[Z+1]=this.h[0]>>>8&255,Y[Z+2]=this.h[1]>>>0&255,Y[Z+3]=this.h[1]>>>8&255,Y[Z+4]=this.h[2]>>>0&255,Y[Z+5]=this.h[2]>>>8&255,Y[Z+6]=this.h[3]>>>0&255,Y[Z+7]=this.h[3]>>>8&255,Y[Z+8]=this.h[4]>>>0&255,Y[Z+9]=this.h[4]>>>8&255,Y[Z+10]=this.h[5]>>>0&255,Y[Z+11]=this.h[5]>>>8&255,Y[Z+12]=this.h[6]>>>0&255,Y[Z+13]=this.h[6]>>>8&255,Y[Z+14]=this.h[7]>>>0&255,Y[Z+15]=this.h[7]>>>8&255},N.prototype.update=function(Y,Z,Q){var G,ee;if(this.leftover){for(ee=16-this.leftover,ee>Q&&(ee=Q),G=0;G<ee;G++)this.buffer[this.leftover+G]=Y[Z+G];if(Q-=ee,Z+=ee,this.leftover+=ee,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Q>=16&&(ee=Q-Q%16,this.blocks(Y,Z,ee),Z+=ee,Q-=ee),Q){for(G=0;G<Q;G++)this.buffer[this.leftover+G]=Y[Z+G];this.leftover+=Q}};function v(Y,Z,Q,G,ee,se){var pe=new N(se);return pe.update(Q,G,ee),pe.finish(Y,Z),0}function I(Y,Z,Q,G,ee,se){var pe=new Uint8Array(16);return v(pe,0,Q,G,ee,se),m(Y,Z,pe,0)}function S(Y,Z,Q,G,ee){var se;if(Q<32)return-1;for(M(Y,0,Z,0,Q,G,ee),v(Y,16,Y,32,Q-32,Y),se=0;se<16;se++)Y[se]=0;return 0}function y(Y,Z,Q,G,ee){var se,pe=new Uint8Array(32);if(Q<32||(O(pe,0,32,G,ee),I(Z,16,Z,32,Q-32,pe)!==0))return-1;for(M(Y,0,Z,0,Q,G,ee),se=0;se<32;se++)Y[se]=0;return 0}function b(Y,Z){var Q;for(Q=0;Q<16;Q++)Y[Q]=Z[Q]|0}function _(Y){var Z,Q,G=1;for(Z=0;Z<16;Z++)Q=Y[Z]+G+65535,G=Math.floor(Q/65536),Y[Z]=Q-G*65536;Y[0]+=G-1+37*(G-1)}function A(Y,Z,Q){for(var G,ee=~(Q-1),se=0;se<16;se++)G=ee&(Y[se]^Z[se]),Y[se]^=G,Z[se]^=G}function T(Y,Z){var Q,G,ee,se=e(),pe=e();for(Q=0;Q<16;Q++)pe[Q]=Z[Q];for(_(pe),_(pe),_(pe),G=0;G<2;G++){for(se[0]=pe[0]-65517,Q=1;Q<15;Q++)se[Q]=pe[Q]-65535-(se[Q-1]>>16&1),se[Q-1]&=65535;se[15]=pe[15]-32767-(se[14]>>16&1),ee=se[15]>>16&1,se[14]&=65535,A(pe,se,1-ee)}for(Q=0;Q<16;Q++)Y[2*Q]=pe[Q]&255,Y[2*Q+1]=pe[Q]>>8}function E(Y,Z){var Q=new Uint8Array(32),G=new Uint8Array(32);return T(Q,Y),T(G,Z),w(Q,0,G,0)}function k(Y){var Z=new Uint8Array(32);return T(Z,Y),Z[0]&1}function L(Y,Z){var Q;for(Q=0;Q<16;Q++)Y[Q]=Z[2*Q]+(Z[2*Q+1]<<8);Y[15]&=32767}function R(Y,Z,Q){for(var G=0;G<16;G++)Y[G]=Z[G]+Q[G]}function U(Y,Z,Q){for(var G=0;G<16;G++)Y[G]=Z[G]-Q[G]}function j(Y,Z,Q){var G,ee,se=0,pe=0,he=0,Ae=0,Bt=0,We=0,Qt=0,wt=0,rn=0,ln=0,xn=0,bn=0,un=0,hn=0,fn=0,xt=0,Ht=0,yt=0,Tt=0,Rt=0,pt=0,ge=0,ve=0,je=0,ke=0,Me=0,Je=0,yn=0,zn=0,qn=0,jn=0,ie=Q[0],nr=Q[1],Lr=Q[2],Ur=Q[3],Jn=Q[4],Ir=Q[5],Rr=Q[6],xo=Q[7],yi=Q[8],Ja=Q[9],Qa=Q[10],Za=Q[11],ts=Q[12],j0=Q[13],G0=Q[14],V0=Q[15];G=Z[0],se+=G*ie,pe+=G*nr,he+=G*Lr,Ae+=G*Ur,Bt+=G*Jn,We+=G*Ir,Qt+=G*Rr,wt+=G*xo,rn+=G*yi,ln+=G*Ja,xn+=G*Qa,bn+=G*Za,un+=G*ts,hn+=G*j0,fn+=G*G0,xt+=G*V0,G=Z[1],pe+=G*ie,he+=G*nr,Ae+=G*Lr,Bt+=G*Ur,We+=G*Jn,Qt+=G*Ir,wt+=G*Rr,rn+=G*xo,ln+=G*yi,xn+=G*Ja,bn+=G*Qa,un+=G*Za,hn+=G*ts,fn+=G*j0,xt+=G*G0,Ht+=G*V0,G=Z[2],he+=G*ie,Ae+=G*nr,Bt+=G*Lr,We+=G*Ur,Qt+=G*Jn,wt+=G*Ir,rn+=G*Rr,ln+=G*xo,xn+=G*yi,bn+=G*Ja,un+=G*Qa,hn+=G*Za,fn+=G*ts,xt+=G*j0,Ht+=G*G0,yt+=G*V0,G=Z[3],Ae+=G*ie,Bt+=G*nr,We+=G*Lr,Qt+=G*Ur,wt+=G*Jn,rn+=G*Ir,ln+=G*Rr,xn+=G*xo,bn+=G*yi,un+=G*Ja,hn+=G*Qa,fn+=G*Za,xt+=G*ts,Ht+=G*j0,yt+=G*G0,Tt+=G*V0,G=Z[4],Bt+=G*ie,We+=G*nr,Qt+=G*Lr,wt+=G*Ur,rn+=G*Jn,ln+=G*Ir,xn+=G*Rr,bn+=G*xo,un+=G*yi,hn+=G*Ja,fn+=G*Qa,xt+=G*Za,Ht+=G*ts,yt+=G*j0,Tt+=G*G0,Rt+=G*V0,G=Z[5],We+=G*ie,Qt+=G*nr,wt+=G*Lr,rn+=G*Ur,ln+=G*Jn,xn+=G*Ir,bn+=G*Rr,un+=G*xo,hn+=G*yi,fn+=G*Ja,xt+=G*Qa,Ht+=G*Za,yt+=G*ts,Tt+=G*j0,Rt+=G*G0,pt+=G*V0,G=Z[6],Qt+=G*ie,wt+=G*nr,rn+=G*Lr,ln+=G*Ur,xn+=G*Jn,bn+=G*Ir,un+=G*Rr,hn+=G*xo,fn+=G*yi,xt+=G*Ja,Ht+=G*Qa,yt+=G*Za,Tt+=G*ts,Rt+=G*j0,pt+=G*G0,ge+=G*V0,G=Z[7],wt+=G*ie,rn+=G*nr,ln+=G*Lr,xn+=G*Ur,bn+=G*Jn,un+=G*Ir,hn+=G*Rr,fn+=G*xo,xt+=G*yi,Ht+=G*Ja,yt+=G*Qa,Tt+=G*Za,Rt+=G*ts,pt+=G*j0,ge+=G*G0,ve+=G*V0,G=Z[8],rn+=G*ie,ln+=G*nr,xn+=G*Lr,bn+=G*Ur,un+=G*Jn,hn+=G*Ir,fn+=G*Rr,xt+=G*xo,Ht+=G*yi,yt+=G*Ja,Tt+=G*Qa,Rt+=G*Za,pt+=G*ts,ge+=G*j0,ve+=G*G0,je+=G*V0,G=Z[9],ln+=G*ie,xn+=G*nr,bn+=G*Lr,un+=G*Ur,hn+=G*Jn,fn+=G*Ir,xt+=G*Rr,Ht+=G*xo,yt+=G*yi,Tt+=G*Ja,Rt+=G*Qa,pt+=G*Za,ge+=G*ts,ve+=G*j0,je+=G*G0,ke+=G*V0,G=Z[10],xn+=G*ie,bn+=G*nr,un+=G*Lr,hn+=G*Ur,fn+=G*Jn,xt+=G*Ir,Ht+=G*Rr,yt+=G*xo,Tt+=G*yi,Rt+=G*Ja,pt+=G*Qa,ge+=G*Za,ve+=G*ts,je+=G*j0,ke+=G*G0,Me+=G*V0,G=Z[11],bn+=G*ie,un+=G*nr,hn+=G*Lr,fn+=G*Ur,xt+=G*Jn,Ht+=G*Ir,yt+=G*Rr,Tt+=G*xo,Rt+=G*yi,pt+=G*Ja,ge+=G*Qa,ve+=G*Za,je+=G*ts,ke+=G*j0,Me+=G*G0,Je+=G*V0,G=Z[12],un+=G*ie,hn+=G*nr,fn+=G*Lr,xt+=G*Ur,Ht+=G*Jn,yt+=G*Ir,Tt+=G*Rr,Rt+=G*xo,pt+=G*yi,ge+=G*Ja,ve+=G*Qa,je+=G*Za,ke+=G*ts,Me+=G*j0,Je+=G*G0,yn+=G*V0,G=Z[13],hn+=G*ie,fn+=G*nr,xt+=G*Lr,Ht+=G*Ur,yt+=G*Jn,Tt+=G*Ir,Rt+=G*Rr,pt+=G*xo,ge+=G*yi,ve+=G*Ja,je+=G*Qa,ke+=G*Za,Me+=G*ts,Je+=G*j0,yn+=G*G0,zn+=G*V0,G=Z[14],fn+=G*ie,xt+=G*nr,Ht+=G*Lr,yt+=G*Ur,Tt+=G*Jn,Rt+=G*Ir,pt+=G*Rr,ge+=G*xo,ve+=G*yi,je+=G*Ja,ke+=G*Qa,Me+=G*Za,Je+=G*ts,yn+=G*j0,zn+=G*G0,qn+=G*V0,G=Z[15],xt+=G*ie,Ht+=G*nr,yt+=G*Lr,Tt+=G*Ur,Rt+=G*Jn,pt+=G*Ir,ge+=G*Rr,ve+=G*xo,je+=G*yi,ke+=G*Ja,Me+=G*Qa,Je+=G*Za,yn+=G*ts,zn+=G*j0,qn+=G*G0,jn+=G*V0,se+=38*Ht,pe+=38*yt,he+=38*Tt,Ae+=38*Rt,Bt+=38*pt,We+=38*ge,Qt+=38*ve,wt+=38*je,rn+=38*ke,ln+=38*Me,xn+=38*Je,bn+=38*yn,un+=38*zn,hn+=38*qn,fn+=38*jn,ee=1,G=se+ee+65535,ee=Math.floor(G/65536),se=G-ee*65536,G=pe+ee+65535,ee=Math.floor(G/65536),pe=G-ee*65536,G=he+ee+65535,ee=Math.floor(G/65536),he=G-ee*65536,G=Ae+ee+65535,ee=Math.floor(G/65536),Ae=G-ee*65536,G=Bt+ee+65535,ee=Math.floor(G/65536),Bt=G-ee*65536,G=We+ee+65535,ee=Math.floor(G/65536),We=G-ee*65536,G=Qt+ee+65535,ee=Math.floor(G/65536),Qt=G-ee*65536,G=wt+ee+65535,ee=Math.floor(G/65536),wt=G-ee*65536,G=rn+ee+65535,ee=Math.floor(G/65536),rn=G-ee*65536,G=ln+ee+65535,ee=Math.floor(G/65536),ln=G-ee*65536,G=xn+ee+65535,ee=Math.floor(G/65536),xn=G-ee*65536,G=bn+ee+65535,ee=Math.floor(G/65536),bn=G-ee*65536,G=un+ee+65535,ee=Math.floor(G/65536),un=G-ee*65536,G=hn+ee+65535,ee=Math.floor(G/65536),hn=G-ee*65536,G=fn+ee+65535,ee=Math.floor(G/65536),fn=G-ee*65536,G=xt+ee+65535,ee=Math.floor(G/65536),xt=G-ee*65536,se+=ee-1+37*(ee-1),ee=1,G=se+ee+65535,ee=Math.floor(G/65536),se=G-ee*65536,G=pe+ee+65535,ee=Math.floor(G/65536),pe=G-ee*65536,G=he+ee+65535,ee=Math.floor(G/65536),he=G-ee*65536,G=Ae+ee+65535,ee=Math.floor(G/65536),Ae=G-ee*65536,G=Bt+ee+65535,ee=Math.floor(G/65536),Bt=G-ee*65536,G=We+ee+65535,ee=Math.floor(G/65536),We=G-ee*65536,G=Qt+ee+65535,ee=Math.floor(G/65536),Qt=G-ee*65536,G=wt+ee+65535,ee=Math.floor(G/65536),wt=G-ee*65536,G=rn+ee+65535,ee=Math.floor(G/65536),rn=G-ee*65536,G=ln+ee+65535,ee=Math.floor(G/65536),ln=G-ee*65536,G=xn+ee+65535,ee=Math.floor(G/65536),xn=G-ee*65536,G=bn+ee+65535,ee=Math.floor(G/65536),bn=G-ee*65536,G=un+ee+65535,ee=Math.floor(G/65536),un=G-ee*65536,G=hn+ee+65535,ee=Math.floor(G/65536),hn=G-ee*65536,G=fn+ee+65535,ee=Math.floor(G/65536),fn=G-ee*65536,G=xt+ee+65535,ee=Math.floor(G/65536),xt=G-ee*65536,se+=ee-1+37*(ee-1),Y[0]=se,Y[1]=pe,Y[2]=he,Y[3]=Ae,Y[4]=Bt,Y[5]=We,Y[6]=Qt,Y[7]=wt,Y[8]=rn,Y[9]=ln,Y[10]=xn,Y[11]=bn,Y[12]=un,Y[13]=hn,Y[14]=fn,Y[15]=xt}function z(Y,Z){j(Y,Z,Z)}function V(Y,Z){var Q=e(),G;for(G=0;G<16;G++)Q[G]=Z[G];for(G=253;G>=0;G--)z(Q,Q),G!==2&&G!==4&&j(Q,Q,Z);for(G=0;G<16;G++)Y[G]=Q[G]}function $(Y,Z){var Q=e(),G;for(G=0;G<16;G++)Q[G]=Z[G];for(G=250;G>=0;G--)z(Q,Q),G!==1&&j(Q,Q,Z);for(G=0;G<16;G++)Y[G]=Q[G]}function W(Y,Z,Q){var G=new Uint8Array(32),ee=new Float64Array(80),se,pe,he=e(),Ae=e(),Bt=e(),We=e(),Qt=e(),wt=e();for(pe=0;pe<31;pe++)G[pe]=Z[pe];for(G[31]=Z[31]&127|64,G[0]&=248,L(ee,Q),pe=0;pe<16;pe++)Ae[pe]=ee[pe],We[pe]=he[pe]=Bt[pe]=0;for(he[0]=We[0]=1,pe=254;pe>=0;--pe)se=G[pe>>>3]>>>(pe&7)&1,A(he,Ae,se),A(Bt,We,se),R(Qt,he,Bt),U(he,he,Bt),R(Bt,Ae,We),U(Ae,Ae,We),z(We,Qt),z(wt,he),j(he,Bt,he),j(Bt,Ae,Qt),R(Qt,he,Bt),U(he,he,Bt),z(Ae,he),U(Bt,We,wt),j(he,Bt,s),R(he,he,We),j(Bt,Bt,he),j(he,We,wt),j(We,Ae,ee),z(Ae,Qt),A(he,Ae,se),A(Bt,We,se);for(pe=0;pe<16;pe++)ee[pe+16]=he[pe],ee[pe+32]=Bt[pe],ee[pe+48]=Ae[pe],ee[pe+64]=We[pe];var rn=ee.subarray(32),ln=ee.subarray(16);return V(rn,rn),j(ln,ln,rn),T(Y,ln),0}function J(Y,Z){return W(Y,Z,i)}function X(Y,Z){return n(Z,32),J(Y,Z)}function te(Y,Z,Q){var G=new Uint8Array(32);return W(G,Q,Z),P(Y,r,G,D)}var ne=S,ue=y;function ce(Y,Z,Q,G,ee,se){var pe=new Uint8Array(32);return te(pe,ee,se),ne(Y,Z,Q,G,pe)}function oe(Y,Z,Q,G,ee,se){var pe=new Uint8Array(32);return te(pe,ee,se),ue(Y,Z,Q,G,pe)}var xe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ye(Y,Z,Q,G){for(var ee=new Int32Array(16),se=new Int32Array(16),pe,he,Ae,Bt,We,Qt,wt,rn,ln,xn,bn,un,hn,fn,xt,Ht,yt,Tt,Rt,pt,ge,ve,je,ke,Me,Je,yn=Y[0],zn=Y[1],qn=Y[2],jn=Y[3],ie=Y[4],nr=Y[5],Lr=Y[6],Ur=Y[7],Jn=Z[0],Ir=Z[1],Rr=Z[2],xo=Z[3],yi=Z[4],Ja=Z[5],Qa=Z[6],Za=Z[7],ts=0;G>=128;){for(Rt=0;Rt<16;Rt++)pt=8*Rt+ts,ee[Rt]=Q[pt+0]<<24|Q[pt+1]<<16|Q[pt+2]<<8|Q[pt+3],se[Rt]=Q[pt+4]<<24|Q[pt+5]<<16|Q[pt+6]<<8|Q[pt+7];for(Rt=0;Rt<80;Rt++)if(pe=yn,he=zn,Ae=qn,Bt=jn,We=ie,Qt=nr,wt=Lr,rn=Ur,ln=Jn,xn=Ir,bn=Rr,un=xo,hn=yi,fn=Ja,xt=Qa,Ht=Za,ge=Ur,ve=Za,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=(ie>>>14|yi<<18)^(ie>>>18|yi<<14)^(yi>>>9|ie<<23),ve=(yi>>>14|ie<<18)^(yi>>>18|ie<<14)^(ie>>>9|yi<<23),je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ge=ie&nr^~ie&Lr,ve=yi&Ja^~yi&Qa,je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ge=xe[Rt*2],ve=xe[Rt*2+1],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ge=ee[Rt%16],ve=se[Rt%16],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,yt=Me&65535|Je<<16,Tt=je&65535|ke<<16,ge=yt,ve=Tt,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=(yn>>>28|Jn<<4)^(Jn>>>2|yn<<30)^(Jn>>>7|yn<<25),ve=(Jn>>>28|yn<<4)^(yn>>>2|Jn<<30)^(yn>>>7|Jn<<25),je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ge=yn&zn^yn&qn^zn&qn,ve=Jn&Ir^Jn&Rr^Ir&Rr,je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,rn=Me&65535|Je<<16,Ht=je&65535|ke<<16,ge=Bt,ve=un,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=yt,ve=Tt,je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Bt=Me&65535|Je<<16,un=je&65535|ke<<16,zn=pe,qn=he,jn=Ae,ie=Bt,nr=We,Lr=Qt,Ur=wt,yn=rn,Ir=ln,Rr=xn,xo=bn,yi=un,Ja=hn,Qa=fn,Za=xt,Jn=Ht,Rt%16===15)for(pt=0;pt<16;pt++)ge=ee[pt],ve=se[pt],je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=ee[(pt+9)%16],ve=se[(pt+9)%16],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,yt=ee[(pt+1)%16],Tt=se[(pt+1)%16],ge=(yt>>>1|Tt<<31)^(yt>>>8|Tt<<24)^yt>>>7,ve=(Tt>>>1|yt<<31)^(Tt>>>8|yt<<24)^(Tt>>>7|yt<<25),je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,yt=ee[(pt+14)%16],Tt=se[(pt+14)%16],ge=(yt>>>19|Tt<<13)^(Tt>>>29|yt<<3)^yt>>>6,ve=(Tt>>>19|yt<<13)^(yt>>>29|Tt<<3)^(Tt>>>6|yt<<26),je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,ee[pt]=Me&65535|Je<<16,se[pt]=je&65535|ke<<16;ge=yn,ve=Jn,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=Y[0],ve=Z[0],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Y[0]=yn=Me&65535|Je<<16,Z[0]=Jn=je&65535|ke<<16,ge=zn,ve=Ir,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=Y[1],ve=Z[1],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Y[1]=zn=Me&65535|Je<<16,Z[1]=Ir=je&65535|ke<<16,ge=qn,ve=Rr,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=Y[2],ve=Z[2],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Y[2]=qn=Me&65535|Je<<16,Z[2]=Rr=je&65535|ke<<16,ge=jn,ve=xo,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=Y[3],ve=Z[3],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Y[3]=jn=Me&65535|Je<<16,Z[3]=xo=je&65535|ke<<16,ge=ie,ve=yi,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=Y[4],ve=Z[4],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Y[4]=ie=Me&65535|Je<<16,Z[4]=yi=je&65535|ke<<16,ge=nr,ve=Ja,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=Y[5],ve=Z[5],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Y[5]=nr=Me&65535|Je<<16,Z[5]=Ja=je&65535|ke<<16,ge=Lr,ve=Qa,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=Y[6],ve=Z[6],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Y[6]=Lr=Me&65535|Je<<16,Z[6]=Qa=je&65535|ke<<16,ge=Ur,ve=Za,je=ve&65535,ke=ve>>>16,Me=ge&65535,Je=ge>>>16,ge=Y[7],ve=Z[7],je+=ve&65535,ke+=ve>>>16,Me+=ge&65535,Je+=ge>>>16,ke+=je>>>16,Me+=ke>>>16,Je+=Me>>>16,Y[7]=Ur=Me&65535|Je<<16,Z[7]=Za=je&65535|ke<<16,ts+=128,G-=128}return G}function Se(Y,Z,Q){var G=new Int32Array(8),ee=new Int32Array(8),se=new Uint8Array(256),pe,he=Q;for(G[0]=1779033703,G[1]=3144134277,G[2]=1013904242,G[3]=2773480762,G[4]=1359893119,G[5]=2600822924,G[6]=528734635,G[7]=1541459225,ee[0]=4089235720,ee[1]=2227873595,ee[2]=4271175723,ee[3]=1595750129,ee[4]=2917565137,ee[5]=725511199,ee[6]=4215389547,ee[7]=327033209,ye(G,ee,Z,Q),Q%=128,pe=0;pe<Q;pe++)se[pe]=Z[he-Q+pe];for(se[Q]=128,Q=256-128*(Q<112?1:0),se[Q-9]=0,p(se,Q-8,he/536870912|0,he<<3),ye(G,ee,se,Q),pe=0;pe<8;pe++)p(Y,8*pe,G[pe],ee[pe]);return 0}function _t(Y,Z){var Q=e(),G=e(),ee=e(),se=e(),pe=e(),he=e(),Ae=e(),Bt=e(),We=e();U(Q,Y[1],Y[0]),U(We,Z[1],Z[0]),j(Q,Q,We),R(G,Y[0],Y[1]),R(We,Z[0],Z[1]),j(G,G,We),j(ee,Y[3],Z[3]),j(ee,ee,l),j(se,Y[2],Z[2]),R(se,se,se),U(pe,G,Q),U(he,se,ee),R(Ae,se,ee),R(Bt,G,Q),j(Y[0],pe,he),j(Y[1],Bt,Ae),j(Y[2],Ae,he),j(Y[3],pe,Bt)}function Xe(Y,Z,Q){var G;for(G=0;G<4;G++)A(Y[G],Z[G],Q)}function qe(Y,Z){var Q=e(),G=e(),ee=e();V(ee,Z[2]),j(Q,Z[0],ee),j(G,Z[1],ee),T(Y,G),Y[31]^=k(Q)<<7}function Lt(Y,Z,Q){var G,ee;for(b(Y[0],a),b(Y[1],o),b(Y[2],o),b(Y[3],a),ee=255;ee>=0;--ee)G=Q[ee/8|0]>>(ee&7)&1,Xe(Y,Z,G),_t(Z,Y),_t(Y,Y),Xe(Y,Z,G)}function nt(Y,Z){var Q=[e(),e(),e(),e()];b(Q[0],u),b(Q[1],f),b(Q[2],o),j(Q[3],u,f),Lt(Y,Q,Z)}function it(Y,Z,Q){var G=new Uint8Array(64),ee=[e(),e(),e(),e()],se;for(Q||n(Z,32),Se(G,Z,32),G[0]&=248,G[31]&=127,G[31]|=64,nt(ee,G),qe(Y,ee),se=0;se<32;se++)Z[se+32]=Y[se];return 0}var br=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Be(Y,Z){var Q,G,ee,se;for(G=63;G>=32;--G){for(Q=0,ee=G-32,se=G-12;ee<se;++ee)Z[ee]+=Q-16*Z[G]*br[ee-(G-32)],Q=Math.floor((Z[ee]+128)/256),Z[ee]-=Q*256;Z[ee]+=Q,Z[G]=0}for(Q=0,ee=0;ee<32;ee++)Z[ee]+=Q-(Z[31]>>4)*br[ee],Q=Z[ee]>>8,Z[ee]&=255;for(ee=0;ee<32;ee++)Z[ee]-=Q*br[ee];for(G=0;G<32;G++)Z[G+1]+=Z[G]>>8,Y[G]=Z[G]&255}function ot(Y){var Z=new Float64Array(64),Q;for(Q=0;Q<64;Q++)Z[Q]=Y[Q];for(Q=0;Q<64;Q++)Y[Q]=0;Be(Y,Z)}function kn(Y,Z,Q,G){var ee=new Uint8Array(64),se=new Uint8Array(64),pe=new Uint8Array(64),he,Ae,Bt=new Float64Array(64),We=[e(),e(),e(),e()];Se(ee,G,32),ee[0]&=248,ee[31]&=127,ee[31]|=64;var Qt=Q+64;for(he=0;he<Q;he++)Y[64+he]=Z[he];for(he=0;he<32;he++)Y[32+he]=ee[32+he];for(Se(pe,Y.subarray(32),Q+32),ot(pe),nt(We,pe),qe(Y,We),he=32;he<64;he++)Y[he]=G[he];for(Se(se,Y,Q+64),ot(se),he=0;he<64;he++)Bt[he]=0;for(he=0;he<32;he++)Bt[he]=pe[he];for(he=0;he<32;he++)for(Ae=0;Ae<32;Ae++)Bt[he+Ae]+=se[he]*ee[Ae];return Be(Y.subarray(32),Bt),Qt}function Et(Y,Z){var Q=e(),G=e(),ee=e(),se=e(),pe=e(),he=e(),Ae=e();return b(Y[2],o),L(Y[1],Z),z(ee,Y[1]),j(se,ee,c),U(ee,ee,Y[2]),R(se,Y[2],se),z(pe,se),z(he,pe),j(Ae,he,pe),j(Q,Ae,ee),j(Q,Q,se),$(Q,Q),j(Q,Q,ee),j(Q,Q,se),j(Q,Q,se),j(Y[0],Q,se),z(G,Y[0]),j(G,G,se),E(G,ee)&&j(Y[0],Y[0],d),z(G,Y[0]),j(G,G,se),E(G,ee)?-1:(k(Y[0])===Z[31]>>7&&U(Y[0],a,Y[0]),j(Y[3],Y[0],Y[1]),0)}function ht(Y,Z,Q,G){var ee,se=new Uint8Array(32),pe=new Uint8Array(64),he=[e(),e(),e(),e()],Ae=[e(),e(),e(),e()];if(Q<64||Et(Ae,G))return-1;for(ee=0;ee<Q;ee++)Y[ee]=Z[ee];for(ee=0;ee<32;ee++)Y[ee+32]=G[ee];if(Se(pe,Y,Q),ot(pe),Lt(he,Ae,pe),nt(Ae,Z.subarray(32)),_t(he,Ae),qe(se,he),Q-=64,w(Z,0,se,0)){for(ee=0;ee<Q;ee++)Y[ee]=0;return-1}for(ee=0;ee<Q;ee++)Y[ee]=Z[ee+64];return Q}var ti=32,Ot=24,Zt=32,ca=16,tn=32,Vt=32,o0=32,Yt=32,nn=32,Ou=Ot,En=Zt,Fe=ca,$n=64,vt=32,It=64,lr=32,mt=64;t.lowlevel={crypto_core_hsalsa20:P,crypto_stream_xor:M,crypto_stream:O,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:H,crypto_onetimeauth:v,crypto_onetimeauth_verify:I,crypto_verify_16:m,crypto_verify_32:w,crypto_secretbox:S,crypto_secretbox_open:y,crypto_scalarmult:W,crypto_scalarmult_base:J,crypto_box_beforenm:te,crypto_box_afternm:ne,crypto_box:ce,crypto_box_open:oe,crypto_box_keypair:X,crypto_hash:Se,crypto_sign:kn,crypto_sign_keypair:it,crypto_sign_open:ht,crypto_secretbox_KEYBYTES:ti,crypto_secretbox_NONCEBYTES:Ot,crypto_secretbox_ZEROBYTES:Zt,crypto_secretbox_BOXZEROBYTES:ca,crypto_scalarmult_BYTES:tn,crypto_scalarmult_SCALARBYTES:Vt,crypto_box_PUBLICKEYBYTES:o0,crypto_box_SECRETKEYBYTES:Yt,crypto_box_BEFORENMBYTES:nn,crypto_box_NONCEBYTES:Ou,crypto_box_ZEROBYTES:En,crypto_box_BOXZEROBYTES:Fe,crypto_sign_BYTES:$n,crypto_sign_PUBLICKEYBYTES:vt,crypto_sign_SECRETKEYBYTES:It,crypto_sign_SEEDBYTES:lr,crypto_hash_BYTES:mt,gf:e,D:c,L:br,pack:qe,pack25519:T,unpack25519:L,M:j,A:R,S:z,Z:U,pow2523:$,add:_t,set25519:b,modL:Be,scalarmult:Lt,scalarbase:nt};function Jt(Y,Z){if(Y.length!==ti)throw new Error("bad key size");if(Z.length!==Ot)throw new Error("bad nonce size")}function s0(Y,Z){if(Y.length!==o0)throw new Error("bad public key size");if(Z.length!==Yt)throw new Error("bad secret key size")}function Mt(){for(var Y=0;Y<arguments.length;Y++)if(!(arguments[Y]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pn(Y){for(var Z=0;Z<Y.length;Z++)Y[Z]=0}t.randomBytes=function(Y){var Z=new Uint8Array(Y);return n(Z,Y),Z},t.secretbox=function(Y,Z,Q){Mt(Y,Z,Q),Jt(Q,Z);for(var G=new Uint8Array(Zt+Y.length),ee=new Uint8Array(G.length),se=0;se<Y.length;se++)G[se+Zt]=Y[se];return S(ee,G,G.length,Z,Q),ee.subarray(ca)},t.secretbox.open=function(Y,Z,Q){Mt(Y,Z,Q),Jt(Q,Z);for(var G=new Uint8Array(ca+Y.length),ee=new Uint8Array(G.length),se=0;se<Y.length;se++)G[se+ca]=Y[se];return G.length<32||y(ee,G,G.length,Z,Q)!==0?null:ee.subarray(Zt)},t.secretbox.keyLength=ti,t.secretbox.nonceLength=Ot,t.secretbox.overheadLength=ca,t.scalarMult=function(Y,Z){if(Mt(Y,Z),Y.length!==Vt)throw new Error("bad n size");if(Z.length!==tn)throw new Error("bad p size");var Q=new Uint8Array(tn);return W(Q,Y,Z),Q},t.scalarMult.base=function(Y){if(Mt(Y),Y.length!==Vt)throw new Error("bad n size");var Z=new Uint8Array(tn);return J(Z,Y),Z},t.scalarMult.scalarLength=Vt,t.scalarMult.groupElementLength=tn,t.box=function(Y,Z,Q,G){var ee=t.box.before(Q,G);return t.secretbox(Y,Z,ee)},t.box.before=function(Y,Z){Mt(Y,Z),s0(Y,Z);var Q=new Uint8Array(nn);return te(Q,Y,Z),Q},t.box.after=t.secretbox,t.box.open=function(Y,Z,Q,G){var ee=t.box.before(Q,G);return t.secretbox.open(Y,Z,ee)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var Y=new Uint8Array(o0),Z=new Uint8Array(Yt);return X(Y,Z),{publicKey:Y,secretKey:Z}},t.box.keyPair.fromSecretKey=function(Y){if(Mt(Y),Y.length!==Yt)throw new Error("bad secret key size");var Z=new Uint8Array(o0);return J(Z,Y),{publicKey:Z,secretKey:new Uint8Array(Y)}},t.box.publicKeyLength=o0,t.box.secretKeyLength=Yt,t.box.sharedKeyLength=nn,t.box.nonceLength=Ou,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(Y,Z){if(Mt(Y,Z),Z.length!==It)throw new Error("bad secret key size");var Q=new Uint8Array($n+Y.length);return kn(Q,Y,Y.length,Z),Q},t.sign.open=function(Y,Z){if(Mt(Y,Z),Z.length!==vt)throw new Error("bad public key size");var Q=new Uint8Array(Y.length),G=ht(Q,Y,Y.length,Z);if(G<0)return null;for(var ee=new Uint8Array(G),se=0;se<ee.length;se++)ee[se]=Q[se];return ee},t.sign.detached=function(Y,Z){for(var Q=t.sign(Y,Z),G=new Uint8Array($n),ee=0;ee<G.length;ee++)G[ee]=Q[ee];return G},t.sign.detached.verify=function(Y,Z,Q){if(Mt(Y,Z,Q),Z.length!==$n)throw new Error("bad signature size");if(Q.length!==vt)throw new Error("bad public key size");var G=new Uint8Array($n+Y.length),ee=new Uint8Array($n+Y.length),se;for(se=0;se<$n;se++)G[se]=Z[se];for(se=0;se<Y.length;se++)G[se+$n]=Y[se];return ht(ee,G,G.length,Q)>=0},t.sign.keyPair=function(){var Y=new Uint8Array(vt),Z=new Uint8Array(It);return it(Y,Z),{publicKey:Y,secretKey:Z}},t.sign.keyPair.fromSecretKey=function(Y){if(Mt(Y),Y.length!==It)throw new Error("bad secret key size");for(var Z=new Uint8Array(vt),Q=0;Q<Z.length;Q++)Z[Q]=Y[32+Q];return{publicKey:Z,secretKey:new Uint8Array(Y)}},t.sign.keyPair.fromSeed=function(Y){if(Mt(Y),Y.length!==lr)throw new Error("bad seed size");for(var Z=new Uint8Array(vt),Q=new Uint8Array(It),G=0;G<32;G++)Q[G]=Y[G];return it(Z,Q,!0),{publicKey:Z,secretKey:Q}},t.sign.publicKeyLength=vt,t.sign.secretKeyLength=It,t.sign.seedLength=lr,t.sign.signatureLength=$n,t.hash=function(Y){Mt(Y);var Z=new Uint8Array(mt);return Se(Z,Y,Y.length),Z},t.hash.hashLength=mt,t.verify=function(Y,Z){return Mt(Y,Z),Y.length===0||Z.length===0||Y.length!==Z.length?!1:h(Y,0,Z,0,Y.length)===0},t.setPRNG=function(Y){n=Y},(function(){var Y=typeof self<"u"?self.crypto||self.msCrypto:null;if(Y&&Y.getRandomValues){var Z=65536;t.setPRNG(function(Q,G){var ee,se=new Uint8Array(G);for(ee=0;ee<G;ee+=Z)Y.getRandomValues(se.subarray(ee,ee+Math.min(G-ee,Z)));for(ee=0;ee<G;ee++)Q[ee]=se[ee];pn(se)})}else typeof ene<"u"&&(Y=Ane(),Y&&Y.randomBytes&&t.setPRNG(function(Q,G){var ee,se=Y.randomBytes(G);for(ee=0;ee<G;ee++)Q[ee]=se[ee];pn(se)}))})()})(typeof iH<"u"&&iH.exports?iH.exports:self.nacl=self.nacl||{})});function Uie(t){let e;typeof t=="string"?e=Buffer.from(t,"hex"):e=t;let n=new Uint8Array(64),r=[K3.gf(),K3.gf(),K3.gf(),K3.gf()],i=new Uint8Array([...new Uint8Array(e),...new Uint8Array(32)]),a=new Uint8Array(32);K3.crypto_hash(n,i,32),n[0]&=248,n[31]&=127,n[31]|=64,K3.scalarbase(r,n),K3.pack(a,r);for(let o=0;o<32;o+=1)i[o+32]=a[o];return{sk:Buffer.from(i),pk:Buffer.from(a)}}var ASe,K3,_Se=B(()=>{ASe=fe(xSe()),K3=ASe.default.lowlevel});var CSe=le(aH=>{"use strict";aH.byteLength=txt;aH.toByteArray=rxt;aH.fromByteArray=oxt;var ih=[],nd=[],ext=typeof Uint8Array<"u"?Uint8Array:Array,Fie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for($3=0,TSe=Fie.length;$3<TSe;++$3)ih[$3]=Fie[$3],nd[Fie.charCodeAt($3)]=$3;var $3,TSe;nd[45]=62;nd[95]=63;function SSe(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function txt(t){var e=SSe(t),n=e[0],r=e[1];return(n+r)*3/4-r}function nxt(t,e,n){return(e+n)*3/4-n}function rxt(t){var e,n=SSe(t),r=n[0],i=n[1],a=new ext(nxt(t,r,i)),o=0,s=i>0?r-4:r,c;for(c=0;c<s;c+=4)e=nd[t.charCodeAt(c)]<<18|nd[t.charCodeAt(c+1)]<<12|nd[t.charCodeAt(c+2)]<<6|nd[t.charCodeAt(c+3)],a[o++]=e>>16&255,a[o++]=e>>8&255,a[o++]=e&255;return i===2&&(e=nd[t.charCodeAt(c)]<<2|nd[t.charCodeAt(c+1)]>>4,a[o++]=e&255),i===1&&(e=nd[t.charCodeAt(c)]<<10|nd[t.charCodeAt(c+1)]<<4|nd[t.charCodeAt(c+2)]>>2,a[o++]=e>>8&255,a[o++]=e&255),a}function ixt(t){return ih[t>>18&63]+ih[t>>12&63]+ih[t>>6&63]+ih[t&63]}function axt(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(ixt(r));return i.join("")}function oxt(t){for(var e,n=t.length,r=n%3,i=[],a=16383,o=0,s=n-r;o<s;o+=a)i.push(axt(t,o,o+a>s?s:o+a));return r===1?(e=t[n-1],i.push(ih[e>>2]+ih[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(ih[e>>10]+ih[e>>4&63]+ih[e<<2&63]+"=")),i.join("")}});var ISe=le(Hie=>{Hie.read=function(t,e,n,r,i){var a,o,s=i*8-r-1,c=(1<<s)-1,l=c>>1,u=-7,f=n?i-1:0,d=n?-1:1,p=t[e+f];for(f+=d,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=a*256+t[e+f],f+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=d,u-=8);if(a===0)a=1-l;else{if(a===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-l}return(p?-1:1)*o*Math.pow(2,a-r)};Hie.write=function(t,e,n,r,i,a){var o,s,c,l=a*8-i-1,u=(1<<l)-1,f=u>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=d/c:e+=d*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=u?(s=0,o=u):o+f>=1?(s=(e*c-1)*Math.pow(2,i),o=o+f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=s&255,p+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[n+p]=o&255,p+=h,o/=256,l-=8);t[n+p-h]|=m*128}});var rd=le(kE=>{"use strict";var zie=CSe(),NE=ISe(),RSe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;kE.Buffer=Te;kE.SlowBuffer=dxt;kE.INSPECT_MAX_BYTES=50;var oH=2147483647;kE.kMaxLength=oH;Te.TYPED_ARRAY_SUPPORT=sxt();!Te.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function sxt(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(Te.prototype,"parent",{enumerable:!0,get:function(){if(Te.isBuffer(this))return this.buffer}});Object.defineProperty(Te.prototype,"offset",{enumerable:!0,get:function(){if(Te.isBuffer(this))return this.byteOffset}});function f5(t){if(t>oH)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,Te.prototype),e}function Te(t,e,n){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Kie(t)}return kSe(t,e,n)}Te.poolSize=8192;function kSe(t,e,n){if(typeof t=="string")return lxt(t,e);if(ArrayBuffer.isView(t))return uxt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ah(t,ArrayBuffer)||t&&ah(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ah(t,SharedArrayBuffer)||t&&ah(t.buffer,SharedArrayBuffer)))return Gie(t,e,n);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=t.valueOf&&t.valueOf();if(r!=null&&r!==t)return Te.from(r,e,n);let i=fxt(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Te.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Te.from=function(t,e,n){return kSe(t,e,n)};Object.setPrototypeOf(Te.prototype,Uint8Array.prototype);Object.setPrototypeOf(Te,Uint8Array);function MSe(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function cxt(t,e,n){return MSe(t),t<=0?f5(t):e!==void 0?typeof n=="string"?f5(t).fill(e,n):f5(t).fill(e):f5(t)}Te.alloc=function(t,e,n){return cxt(t,e,n)};function Kie(t){return MSe(t),f5(t<0?0:$ie(t)|0)}Te.allocUnsafe=function(t){return Kie(t)};Te.allocUnsafeSlow=function(t){return Kie(t)};function lxt(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Te.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let n=BSe(t,e)|0,r=f5(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function jie(t){let e=t.length<0?0:$ie(t.length)|0,n=f5(e);for(let r=0;r<e;r+=1)n[r]=t[r]&255;return n}function uxt(t){if(ah(t,Uint8Array)){let e=new Uint8Array(t);return Gie(e.buffer,e.byteOffset,e.byteLength)}return jie(t)}function Gie(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&n===void 0?r=new Uint8Array(t):n===void 0?r=new Uint8Array(t,e):r=new Uint8Array(t,e,n),Object.setPrototypeOf(r,Te.prototype),r}function fxt(t){if(Te.isBuffer(t)){let e=$ie(t.length)|0,n=f5(e);return n.length===0||t.copy(n,0,0,e),n}if(t.length!==void 0)return typeof t.length!="number"||Wie(t.length)?f5(0):jie(t);if(t.type==="Buffer"&&Array.isArray(t.data))return jie(t.data)}function $ie(t){if(t>=oH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+oH.toString(16)+" bytes");return t|0}function dxt(t){return+t!=t&&(t=0),Te.alloc(+t)}Te.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Te.prototype};Te.compare=function(e,n){if(ah(e,Uint8Array)&&(e=Te.from(e,e.offset,e.byteLength)),ah(n,Uint8Array)&&(n=Te.from(n,n.offset,n.byteLength)),!Te.isBuffer(e)||!Te.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;let r=e.length,i=n.length;for(let a=0,o=Math.min(r,i);a<o;++a)if(e[a]!==n[a]){r=e[a],i=n[a];break}return r<i?-1:i<r?1:0};Te.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Te.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Te.alloc(0);let r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;let i=Te.allocUnsafe(n),a=0;for(r=0;r<e.length;++r){let o=e[r];if(ah(o,Uint8Array))a+o.length>i.length?(Te.isBuffer(o)||(o=Te.from(o)),o.copy(i,a)):Uint8Array.prototype.set.call(i,o,a);else if(Te.isBuffer(o))o.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=o.length}return i};function BSe(t,e){if(Te.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ah(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let n=t.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Vie(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return VSe(t).length;default:if(i)return r?-1:Vie(t).length;e=(""+e).toLowerCase(),i=!0}}Te.byteLength=BSe;function pxt(t,e,n){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Axt(this,e,n);case"utf8":case"utf-8":return LSe(this,e,n);case"ascii":return Ext(this,e,n);case"latin1":case"binary":return xxt(this,e,n);case"base64":return wxt(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _xt(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}Te.prototype._isBuffer=!0;function q3(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}Te.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)q3(this,n,n+1);return this};Te.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)q3(this,n,n+3),q3(this,n+1,n+2);return this};Te.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)q3(this,n,n+7),q3(this,n+1,n+6),q3(this,n+2,n+5),q3(this,n+3,n+4);return this};Te.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?LSe(this,0,e):pxt.apply(this,arguments)};Te.prototype.toLocaleString=Te.prototype.toString;Te.prototype.equals=function(e){if(!Te.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Te.compare(this,e)===0};Te.prototype.inspect=function(){let e="",n=kE.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"};RSe&&(Te.prototype[RSe]=Te.prototype.inspect);Te.prototype.compare=function(e,n,r,i,a){if(ah(e,Uint8Array)&&(e=Te.from(e,e.offset,e.byteLength)),!Te.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),n<0||r>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&n>=r)return 0;if(i>=a)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,a>>>=0,this===e)return 0;let o=a-i,s=r-n,c=Math.min(o,s),l=this.slice(i,a),u=e.slice(n,r);for(let f=0;f<c;++f)if(l[f]!==u[f]){o=l[f],s=u[f];break}return o<s?-1:s<o?1:0};function DSe(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Wie(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof e=="string"&&(e=Te.from(e,r)),Te.isBuffer(e))return e.length===0?-1:OSe(t,e,n,r,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):OSe(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function OSe(t,e,n,r,i){let a=1,o=t.length,s=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,o/=2,s/=2,n/=2}function c(u,f){return a===1?u[f]:u.readUInt16BE(f*a)}let l;if(i){let u=-1;for(l=n;l<o;l++)if(c(t,l)===c(e,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===s)return u*a}else u!==-1&&(l-=l-u),u=-1}else for(n+s>o&&(n=o-s),l=n;l>=0;l--){let u=!0;for(let f=0;f<s;f++)if(c(t,l+f)!==c(e,f)){u=!1;break}if(u)return l}return-1}Te.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1};Te.prototype.indexOf=function(e,n,r){return DSe(this,e,n,r,!0)};Te.prototype.lastIndexOf=function(e,n,r){return DSe(this,e,n,r,!1)};function hxt(t,e,n,r){n=Number(n)||0;let i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;let a=e.length;r>a/2&&(r=a/2);let o;for(o=0;o<r;++o){let s=parseInt(e.substr(o*2,2),16);if(Wie(s))return o;t[n+o]=s}return o}function mxt(t,e,n,r){return sH(Vie(e,t.length-n),t,n,r)}function yxt(t,e,n,r){return sH(Ixt(e),t,n,r)}function bxt(t,e,n,r){return sH(VSe(e),t,n,r)}function gxt(t,e,n,r){return sH(Rxt(e,t.length-n),t,n,r)}Te.prototype.write=function(e,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-n;if((r===void 0||r>a)&&(r=a),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return hxt(this,e,n,r);case"utf8":case"utf-8":return mxt(this,e,n,r);case"ascii":case"latin1":case"binary":return yxt(this,e,n,r);case"base64":return bxt(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gxt(this,e,n,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};Te.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function wxt(t,e,n){return e===0&&n===t.length?zie.fromByteArray(t):zie.fromByteArray(t.slice(e,n))}function LSe(t,e,n){n=Math.min(t.length,n);let r=[],i=e;for(;i<n;){let a=t[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){let c,l,u,f;switch(s){case 1:a<128&&(o=a);break;case 2:c=t[i+1],(c&192)===128&&(f=(a&31)<<6|c&63,f>127&&(o=f));break;case 3:c=t[i+1],l=t[i+2],(c&192)===128&&(l&192)===128&&(f=(a&15)<<12|(c&63)<<6|l&63,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:c=t[i+1],l=t[i+2],u=t[i+3],(c&192)===128&&(l&192)===128&&(u&192)===128&&(f=(a&15)<<18|(c&63)<<12|(l&63)<<6|u&63,f>65535&&f<1114112&&(o=f))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),i+=s}return vxt(r)}var NSe=4096;function vxt(t){let e=t.length;if(e<=NSe)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=NSe));return n}function Ext(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]&127);return r}function xxt(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function Axt(t,e,n){let r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let a=e;a<n;++a)i+=Oxt[t[a]];return i}function _xt(t,e,n){let r=t.slice(e,n),i="";for(let a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+r[a+1]*256);return i}Te.prototype.slice=function(e,n){let r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);let i=this.subarray(e,n);return Object.setPrototypeOf(i,Te.prototype),i};function Bs(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}Te.prototype.readUintLE=Te.prototype.readUIntLE=function(e,n,r){e=e>>>0,n=n>>>0,r||Bs(e,n,this.length);let i=this[e],a=1,o=0;for(;++o<n&&(a*=256);)i+=this[e+o]*a;return i};Te.prototype.readUintBE=Te.prototype.readUIntBE=function(e,n,r){e=e>>>0,n=n>>>0,r||Bs(e,n,this.length);let i=this[e+--n],a=1;for(;n>0&&(a*=256);)i+=this[e+--n]*a;return i};Te.prototype.readUint8=Te.prototype.readUInt8=function(e,n){return e=e>>>0,n||Bs(e,1,this.length),this[e]};Te.prototype.readUint16LE=Te.prototype.readUInt16LE=function(e,n){return e=e>>>0,n||Bs(e,2,this.length),this[e]|this[e+1]<<8};Te.prototype.readUint16BE=Te.prototype.readUInt16BE=function(e,n){return e=e>>>0,n||Bs(e,2,this.length),this[e]<<8|this[e+1]};Te.prototype.readUint32LE=Te.prototype.readUInt32LE=function(e,n){return e=e>>>0,n||Bs(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Te.prototype.readUint32BE=Te.prototype.readUInt32BE=function(e,n){return e=e>>>0,n||Bs(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Te.prototype.readBigUInt64LE=Sb(function(e){e=e>>>0,PE(e,"offset");let n=this[e],r=this[e+7];(n===void 0||r===void 0)&&SR(e,this.length-8);let i=n+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});Te.prototype.readBigUInt64BE=Sb(function(e){e=e>>>0,PE(e,"offset");let n=this[e],r=this[e+7];(n===void 0||r===void 0)&&SR(e,this.length-8);let i=n*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(a)});Te.prototype.readIntLE=function(e,n,r){e=e>>>0,n=n>>>0,r||Bs(e,n,this.length);let i=this[e],a=1,o=0;for(;++o<n&&(a*=256);)i+=this[e+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*n)),i};Te.prototype.readIntBE=function(e,n,r){e=e>>>0,n=n>>>0,r||Bs(e,n,this.length);let i=n,a=1,o=this[e+--i];for(;i>0&&(a*=256);)o+=this[e+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*n)),o};Te.prototype.readInt8=function(e,n){return e=e>>>0,n||Bs(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Te.prototype.readInt16LE=function(e,n){e=e>>>0,n||Bs(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};Te.prototype.readInt16BE=function(e,n){e=e>>>0,n||Bs(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};Te.prototype.readInt32LE=function(e,n){return e=e>>>0,n||Bs(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Te.prototype.readInt32BE=function(e,n){return e=e>>>0,n||Bs(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Te.prototype.readBigInt64LE=Sb(function(e){e=e>>>0,PE(e,"offset");let n=this[e],r=this[e+7];(n===void 0||r===void 0)&&SR(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(n+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Te.prototype.readBigInt64BE=Sb(function(e){e=e>>>0,PE(e,"offset");let n=this[e],r=this[e+7];(n===void 0||r===void 0)&&SR(e,this.length-8);let i=(n<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)});Te.prototype.readFloatLE=function(e,n){return e=e>>>0,n||Bs(e,4,this.length),NE.read(this,e,!0,23,4)};Te.prototype.readFloatBE=function(e,n){return e=e>>>0,n||Bs(e,4,this.length),NE.read(this,e,!1,23,4)};Te.prototype.readDoubleLE=function(e,n){return e=e>>>0,n||Bs(e,8,this.length),NE.read(this,e,!0,52,8)};Te.prototype.readDoubleBE=function(e,n){return e=e>>>0,n||Bs(e,8,this.length),NE.read(this,e,!1,52,8)};function Rl(t,e,n,r,i,a){if(!Te.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}Te.prototype.writeUintLE=Te.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n=n>>>0,r=r>>>0,!i){let s=Math.pow(2,8*r)-1;Rl(this,e,n,r,s,0)}let a=1,o=0;for(this[n]=e&255;++o<r&&(a*=256);)this[n+o]=e/a&255;return n+r};Te.prototype.writeUintBE=Te.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n=n>>>0,r=r>>>0,!i){let s=Math.pow(2,8*r)-1;Rl(this,e,n,r,s,0)}let a=r-1,o=1;for(this[n+a]=e&255;--a>=0&&(o*=256);)this[n+a]=e/o&255;return n+r};Te.prototype.writeUint8=Te.prototype.writeUInt8=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,1,255,0),this[n]=e&255,n+1};Te.prototype.writeUint16LE=Te.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,2,65535,0),this[n]=e&255,this[n+1]=e>>>8,n+2};Te.prototype.writeUint16BE=Te.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=e&255,n+2};Te.prototype.writeUint32LE=Te.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255,n+4};Te.prototype.writeUint32BE=Te.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};function USe(t,e,n,r,i){GSe(e,r,i,t,n,7);let a=Number(e&BigInt(4294967295));t[n++]=a,a=a>>8,t[n++]=a,a=a>>8,t[n++]=a,a=a>>8,t[n++]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=o,o=o>>8,t[n++]=o,o=o>>8,t[n++]=o,o=o>>8,t[n++]=o,n}function FSe(t,e,n,r,i){GSe(e,r,i,t,n,7);let a=Number(e&BigInt(4294967295));t[n+7]=a,a=a>>8,t[n+6]=a,a=a>>8,t[n+5]=a,a=a>>8,t[n+4]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=o,o=o>>8,t[n+2]=o,o=o>>8,t[n+1]=o,o=o>>8,t[n]=o,n+8}Te.prototype.writeBigUInt64LE=Sb(function(e,n=0){return USe(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))});Te.prototype.writeBigUInt64BE=Sb(function(e,n=0){return FSe(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))});Te.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n=n>>>0,!i){let c=Math.pow(2,8*r-1);Rl(this,e,n,r,c-1,-c)}let a=0,o=1,s=0;for(this[n]=e&255;++a<r&&(o*=256);)e<0&&s===0&&this[n+a-1]!==0&&(s=1),this[n+a]=(e/o>>0)-s&255;return n+r};Te.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n=n>>>0,!i){let c=Math.pow(2,8*r-1);Rl(this,e,n,r,c-1,-c)}let a=r-1,o=1,s=0;for(this[n+a]=e&255;--a>=0&&(o*=256);)e<0&&s===0&&this[n+a+1]!==0&&(s=1),this[n+a]=(e/o>>0)-s&255;return n+r};Te.prototype.writeInt8=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=e&255,n+1};Te.prototype.writeInt16LE=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,2,32767,-32768),this[n]=e&255,this[n+1]=e>>>8,n+2};Te.prototype.writeInt16BE=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=e&255,n+2};Te.prototype.writeInt32LE=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,4,2147483647,-2147483648),this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4};Te.prototype.writeInt32BE=function(e,n,r){return e=+e,n=n>>>0,r||Rl(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};Te.prototype.writeBigInt64LE=Sb(function(e,n=0){return USe(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Te.prototype.writeBigInt64BE=Sb(function(e,n=0){return FSe(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function HSe(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function zSe(t,e,n,r,i){return e=+e,n=n>>>0,i||HSe(t,e,n,4,34028234663852886e22,-34028234663852886e22),NE.write(t,e,n,r,23,4),n+4}Te.prototype.writeFloatLE=function(e,n,r){return zSe(this,e,n,!0,r)};Te.prototype.writeFloatBE=function(e,n,r){return zSe(this,e,n,!1,r)};function jSe(t,e,n,r,i){return e=+e,n=n>>>0,i||HSe(t,e,n,8,17976931348623157e292,-17976931348623157e292),NE.write(t,e,n,r,52,8),n+8}Te.prototype.writeDoubleLE=function(e,n,r){return jSe(this,e,n,!0,r)};Te.prototype.writeDoubleBE=function(e,n,r){return jSe(this,e,n,!1,r)};Te.prototype.copy=function(e,n,r,i){if(!Te.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);let a=i-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),n),a};Te.prototype.fill=function(e,n,r,i){if(typeof e=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Te.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let a;if(typeof e=="number")for(a=n;a<r;++a)this[a]=e;else{let o=Te.isBuffer(e)?e:Te.from(e,i),s=o.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=o[a%s]}return this};var OE={};function qie(t,e,n){OE[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}qie("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);qie("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);qie("ERR_OUT_OF_RANGE",function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=PSe(String(n)):typeof n=="bigint"&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=PSe(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);function PSe(t){let e="",n=t.length,r=t[0]==="-"?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function Txt(t,e,n){PE(e,"offset"),(t[e]===void 0||t[e+n]===void 0)&&SR(e,t.length-(n+1))}function GSe(t,e,n,r,i,a){if(t>n||t<e){let o=typeof e=="bigint"?"n":"",s;throw a>3?e===0||e===BigInt(0)?s=`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:s=`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:s=`>= ${e}${o} and <= ${n}${o}`,new OE.ERR_OUT_OF_RANGE("value",s,t)}Txt(r,i,a)}function PE(t,e){if(typeof t!="number")throw new OE.ERR_INVALID_ARG_TYPE(e,"number",t)}function SR(t,e,n){throw Math.floor(t)!==t?(PE(t,n),new OE.ERR_OUT_OF_RANGE(n||"offset","an integer",t)):e<0?new OE.ERR_BUFFER_OUT_OF_BOUNDS:new OE.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}var Sxt=/[^+/0-9A-Za-z-_]/g;function Cxt(t){if(t=t.split("=")[0],t=t.trim().replace(Sxt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Vie(t,e){e=e||1/0;let n,r=t.length,i=null,a=[];for(let o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return a}function Ixt(t){let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function Rxt(t,e){let n,r,i,a=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function VSe(t){return zie.toByteArray(Cxt(t))}function sH(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function ah(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Wie(t){return t!==t}var Oxt=(function(){let t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){let r=n*16;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e})();function Sb(t){return typeof BigInt>"u"?Nxt:t}function Nxt(){throw new Error("BigInt not supported")}});var Ea=le((uOn,KSe)=>{"use strict";var Yie=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let n="";for(let r=0;r<e.length;r++)n+=`    ${e[r].stack}
`;super(n),this.name="AggregateError",this.errors=e}};KSe.exports={AggregateError:Yie,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Boolean,Uint8Array}});var Jie=le((fOn,$Se)=>{"use strict";$Se.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[n,r]){let i=e.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var q0=le((dOn,YSe)=>{"use strict";var{format:Pxt,inspect:cH}=Jie(),{AggregateError:kxt}=Ea(),Mxt=globalThis.AggregateError||kxt,Bxt=Symbol("kIsNodeError"),Dxt=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Lxt=/^([A-Z][a-z0-9]*)+$/,Uxt="__node_internal_",lH={};function W3(t,e){if(!t)throw new lH.ERR_INTERNAL_ASSERTION(e)}function qSe(t){let e="",n=t.length,r=t[0]==="-"?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function Fxt(t,e,n){if(typeof e=="function")return W3(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);let r=(e.match(/%[dfijoOs]/g)||[]).length;return W3(r===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${r}).`),n.length===0?e:Pxt(e,...n)}function d0(t,e,n){n||(n=Error);class r extends n{constructor(...a){super(Fxt(t,e,a))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=t,r.prototype[Bxt]=!0,lH[t]=r}function WSe(t){let e=Uxt+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Hxt(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let n=new Mxt([e,t],e.message);return n.code=e.code,n}return t||e}var Qie=class extends Error{constructor(e="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new lH.ERR_INVALID_ARG_TYPE("options","Object",n);super(e,n),this.code="ABORT_ERR",this.name="AbortError"}};d0("ERR_ASSERTION","%s",Error);d0("ERR_INVALID_ARG_TYPE",(t,e,n)=>{W3(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";let i=[],a=[],o=[];for(let c of e)W3(typeof c=="string","All expected entries have to be of type string"),Dxt.includes(c)?i.push(c.toLowerCase()):Lxt.test(c)?a.push(c):(W3(c!=="object",'The value "object" should be written as "Object"'),o.push(c));if(a.length>0){let c=i.indexOf("object");c!==-1&&(i.splice(i,c,1),a.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{let c=i.pop();r+=`one of type ${i.join(", ")}, or ${c}`}}(a.length>0||o.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{let c=a.pop();r+=`an instance of ${a.join(", ")}, or ${c}`}}o.length>0&&(r+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(r+="an "),r+=`${o[0]}`;break;case 2:r+=`one of ${o[0]} or ${o[1]}`;break;default:{let c=o.pop();r+=`one of ${o.join(", ")}, or ${c}`}}if(n==null)r+=`. Received ${n}`;else if(typeof n=="function"&&n.name)r+=`. Received function ${n.name}`;else if(typeof n=="object"){var s;if((s=n.constructor)!==null&&s!==void 0&&s.name)r+=`. Received an instance of ${n.constructor.name}`;else{let c=cH(n,{depth:-1});r+=`. Received ${c}`}}else{let c=cH(n,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),r+=`. Received type ${typeof n} (${c})`}return r},TypeError);d0("ERR_INVALID_ARG_VALUE",(t,e,n="is invalid")=>{let r=cH(e);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`},TypeError);d0("ERR_INVALID_RETURN_VALUE",(t,e,n)=>{var r;let i=n!=null&&(r=n.constructor)!==null&&r!==void 0&&r.name?`instance of ${n.constructor.name}`:`type ${typeof n}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);d0("ERR_MISSING_ARGS",(...t)=>{W3(t.length>0,"At least one arg needs to be specified");let e,n=t.length;switch(t=(Array.isArray(t)?t:[t]).map(r=>`"${r}"`).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}break}return`${e} must be specified`},TypeError);d0("ERR_OUT_OF_RANGE",(t,e,n)=>{W3(e,'Missing "range" argument');let r;if(Number.isInteger(n)&&Math.abs(n)>2**32)r=qSe(String(n));else if(typeof n=="bigint"){r=String(n);let i=BigInt(2)**BigInt(32);(n>i||n<-i)&&(r=qSe(r)),r+="n"}else r=cH(n);return`The value of "${t}" is out of range. It must be ${e}. Received ${r}`},RangeError);d0("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);d0("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);d0("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);d0("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);d0("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);d0("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);d0("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);d0("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);d0("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);d0("ERR_STREAM_WRITE_AFTER_END","write after end",Error);d0("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);YSe.exports={AbortError:Qie,aggregateTwoErrors:WSe(Hxt),hideStackFrames:WSe,codes:lH}});var ME=le((pOn,uH)=>{"use strict";var{AbortController:JSe,AbortSignal:zxt}=typeof self<"u"?self:typeof window<"u"?window:void 0;uH.exports=JSe;uH.exports.AbortSignal=zxt;uH.exports.default=JSe});var Kc=le((hOn,Xie)=>{"use strict";var jxt=rd(),{format:Gxt,inspect:Vxt}=Jie(),{codes:{ERR_INVALID_ARG_TYPE:Zie}}=q0(),{kResistStopPropagation:Kxt,AggregateError:$xt,SymbolDispose:qxt}=Ea(),Wxt=globalThis.AbortSignal||ME().AbortSignal,Yxt=globalThis.AbortController||ME().AbortController,Jxt=Object.getPrototypeOf(async function(){}).constructor,QSe=globalThis.Blob||jxt.Blob,Qxt=typeof QSe<"u"?function(e){return e instanceof QSe}:function(e){return!1},ZSe=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Zie(e,"AbortSignal",t)},Zxt=(t,e)=>{if(typeof t!="function")throw new Zie(e,"Function",t)};Xie.exports={AggregateError:$xt,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...n){e||(e=!0,t.apply(this,n))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,n)=>{t((r,...i)=>r?n(r):e(...i))})},debuglog(){return function(){}},format:Gxt,inspect:Vxt,types:{isAsyncFunction(t){return t instanceof Jxt},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Qxt,deprecate(t,e){return t},addAbortListener:Ps().addAbortListener||function(e,n){if(e===void 0)throw new Zie("signal","AbortSignal",e);ZSe(e,"signal"),Zxt(n,"listener");let r;return e.aborted?queueMicrotask(()=>n()):(e.addEventListener("abort",n,{__proto__:null,once:!0,[Kxt]:!0}),r=()=>{e.removeEventListener("abort",n)}),{__proto__:null,[qxt](){var i;(i=r)===null||i===void 0||i()}}},AbortSignalAny:Wxt.any||function(e){if(e.length===1)return e[0];let n=new Yxt,r=()=>n.abort();return e.forEach(i=>{ZSe(i,"signals"),i.addEventListener("abort",r,{once:!0})}),n.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",r))},{once:!0}),n.signal}};Xie.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var DE=le((mOn,cCe)=>{"use strict";var{ArrayIsArray:tae,ArrayPrototypeIncludes:nCe,ArrayPrototypeJoin:rCe,ArrayPrototypeMap:Xxt,NumberIsInteger:nae,NumberIsNaN:eAt,NumberMAX_SAFE_INTEGER:tAt,NumberMIN_SAFE_INTEGER:nAt,NumberParseInt:rAt,ObjectPrototypeHasOwnProperty:iAt,RegExpPrototypeExec:iCe,String:aAt,StringPrototypeToUpperCase:oAt,StringPrototypeTrim:sAt}=Ea(),{hideStackFrames:id,codes:{ERR_SOCKET_BAD_PORT:cAt,ERR_INVALID_ARG_TYPE:W0,ERR_INVALID_ARG_VALUE:BE,ERR_OUT_OF_RANGE:Y3,ERR_UNKNOWN_SIGNAL:XSe}}=q0(),{normalizeEncoding:lAt}=Kc(),{isAsyncFunction:uAt,isArrayBufferView:fAt}=Kc().types,eCe={};function dAt(t){return t===(t|0)}function pAt(t){return t===t>>>0}var hAt=/^[0-7]+$/,mAt="must be a 32-bit unsigned integer or an octal string";function yAt(t,e,n){if(typeof t>"u"&&(t=n),typeof t=="string"){if(iCe(hAt,t)===null)throw new BE(e,t,mAt);t=rAt(t,8)}return aCe(t,e),t}var bAt=id((t,e,n=nAt,r=tAt)=>{if(typeof t!="number")throw new W0(e,"number",t);if(!nae(t))throw new Y3(e,"an integer",t);if(t<n||t>r)throw new Y3(e,`>= ${n} && <= ${r}`,t)}),gAt=id((t,e,n=-2147483648,r=2147483647)=>{if(typeof t!="number")throw new W0(e,"number",t);if(!nae(t))throw new Y3(e,"an integer",t);if(t<n||t>r)throw new Y3(e,`>= ${n} && <= ${r}`,t)}),aCe=id((t,e,n=!1)=>{if(typeof t!="number")throw new W0(e,"number",t);if(!nae(t))throw new Y3(e,"an integer",t);let r=n?1:0,i=4294967295;if(t<r||t>i)throw new Y3(e,`>= ${r} && <= ${i}`,t)});function rae(t,e){if(typeof t!="string")throw new W0(e,"string",t)}function wAt(t,e,n=void 0,r){if(typeof t!="number")throw new W0(e,"number",t);if(n!=null&&t<n||r!=null&&t>r||(n!=null||r!=null)&&eAt(t))throw new Y3(e,`${n!=null?`>= ${n}`:""}${n!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,t)}var vAt=id((t,e,n)=>{if(!nCe(n,t)){let i="must be one of: "+rCe(Xxt(n,a=>typeof a=="string"?`'${a}'`:aAt(a)),", ");throw new BE(e,t,i)}});function oCe(t,e){if(typeof t!="boolean")throw new W0(e,"boolean",t)}function eae(t,e,n){return t==null||!iAt(t,e)?n:t[e]}var EAt=id((t,e,n=null)=>{let r=eae(n,"allowArray",!1),i=eae(n,"allowFunction",!1);if(!eae(n,"nullable",!1)&&t===null||!r&&tae(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new W0(e,"Object",t)}),xAt=id((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new W0(e,"a dictionary",t)}),fH=id((t,e,n=0)=>{if(!tae(t))throw new W0(e,"Array",t);if(t.length<n){let r=`must be longer than ${n}`;throw new BE(e,t,r)}});function AAt(t,e){fH(t,e);for(let n=0;n<t.length;n++)rae(t[n],`${e}[${n}]`)}function _At(t,e){fH(t,e);for(let n=0;n<t.length;n++)oCe(t[n],`${e}[${n}]`)}function TAt(t,e){fH(t,e);for(let n=0;n<t.length;n++){let r=t[n],i=`${e}[${n}]`;if(r==null)throw new W0(i,"AbortSignal",r);sCe(r,i)}}function SAt(t,e="signal"){if(rae(t,e),eCe[t]===void 0)throw eCe[oAt(t)]!==void 0?new XSe(t+" (signals must use all capital letters)"):new XSe(t)}var CAt=id((t,e="buffer")=>{if(!fAt(t))throw new W0(e,["Buffer","TypedArray","DataView"],t)});function IAt(t,e){let n=lAt(e),r=t.length;if(n==="hex"&&r%2!==0)throw new BE("encoding",e,`is invalid for data of length ${r}`)}function RAt(t,e="Port",n=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&sAt(t).length===0||+t!==+t>>>0||t>65535||t===0&&!n)throw new cAt(e,t,n);return t|0}var sCe=id((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new W0(e,"AbortSignal",t)}),OAt=id((t,e)=>{if(typeof t!="function")throw new W0(e,"Function",t)}),NAt=id((t,e)=>{if(typeof t!="function"||uAt(t))throw new W0(e,"Function",t)}),PAt=id((t,e)=>{if(t!==void 0)throw new W0(e,"undefined",t)});function kAt(t,e,n){if(!nCe(n,t))throw new W0(e,`('${rCe(n,"|")}')`,t)}var MAt=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function tCe(t,e){if(typeof t>"u"||!iCe(MAt,t))throw new BE(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function BAt(t){if(typeof t=="string")return tCe(t,"hints"),t;if(tae(t)){let e=t.length,n="";if(e===0)return n;for(let r=0;r<e;r++){let i=t[r];tCe(i,"hints"),n+=i,r!==e-1&&(n+=", ")}return n}throw new BE("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}cCe.exports={isInt32:dAt,isUint32:pAt,parseFileMode:yAt,validateArray:fH,validateStringArray:AAt,validateBooleanArray:_At,validateAbortSignalArray:TAt,validateBoolean:oCe,validateBuffer:CAt,validateDictionary:xAt,validateEncoding:IAt,validateFunction:OAt,validateInt32:gAt,validateInteger:bAt,validateNumber:wAt,validateObject:EAt,validateOneOf:vAt,validatePlainFunction:NAt,validatePort:RAt,validateSignalName:SAt,validateString:rae,validateUint32:aCe,validateUndefined:PAt,validateUnion:kAt,validateAbortSignal:sCe,validateLinkHeaderValue:BAt}});var Cb=le((yOn,dCe)=>{var _o=dCe.exports={},oh,sh;function iae(){throw new Error("setTimeout has not been defined")}function aae(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?oh=setTimeout:oh=iae}catch{oh=iae}try{typeof clearTimeout=="function"?sh=clearTimeout:sh=aae}catch{sh=aae}})();function lCe(t){if(oh===setTimeout)return setTimeout(t,0);if((oh===iae||!oh)&&setTimeout)return oh=setTimeout,setTimeout(t,0);try{return oh(t,0)}catch{try{return oh.call(null,t,0)}catch{return oh.call(this,t,0)}}}function DAt(t){if(sh===clearTimeout)return clearTimeout(t);if((sh===aae||!sh)&&clearTimeout)return sh=clearTimeout,clearTimeout(t);try{return sh(t)}catch{try{return sh.call(null,t)}catch{return sh.call(this,t)}}}var d5=[],LE=!1,J3,dH=-1;function LAt(){!LE||!J3||(LE=!1,J3.length?d5=J3.concat(d5):dH=-1,d5.length&&uCe())}function uCe(){if(!LE){var t=lCe(LAt);LE=!0;for(var e=d5.length;e;){for(J3=d5,d5=[];++dH<e;)J3&&J3[dH].run();dH=-1,e=d5.length}J3=null,LE=!1,DAt(t)}}_o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d5.push(new fCe(t,e)),d5.length===1&&!LE&&lCe(uCe)};function fCe(t,e){this.fun=t,this.array=e}fCe.prototype.run=function(){this.fun.apply(null,this.array)};_o.title="browser";_o.browser=!0;_o.env={};_o.argv=[];_o.version="";_o.versions={};function p5(){}_o.on=p5;_o.addListener=p5;_o.once=p5;_o.off=p5;_o.removeListener=p5;_o.removeAllListeners=p5;_o.emit=p5;_o.prependListener=p5;_o.prependOnceListener=p5;_o.listeners=function(t){return[]};_o.binding=function(t){throw new Error("process.binding is not supported")};_o.cwd=function(){return"/"};_o.chdir=function(t){throw new Error("process.chdir is not supported")};_o.umask=function(){return 0}});var lh=le((bOn,CCe)=>{"use strict";var{SymbolAsyncIterator:pCe,SymbolIterator:hCe,SymbolFor:Q3}=Ea(),mCe=Q3("nodejs.stream.destroyed"),yCe=Q3("nodejs.stream.errored"),oae=Q3("nodejs.stream.readable"),sae=Q3("nodejs.stream.writable"),bCe=Q3("nodejs.stream.disturbed"),UAt=Q3("nodejs.webstream.isClosedPromise"),FAt=Q3("nodejs.webstream.controllerErrorFunction");function pH(t,e=!1){var n;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((n=t._readableState)===null||n===void 0?void 0:n.readable)!==!1)&&(!t._writableState||t._readableState))}function hH(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function HAt(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ch(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function gCe(t){return!!(t&&!ch(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function wCe(t){return!!(t&&!ch(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function vCe(t){return!!(t&&!ch(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function zAt(t){return gCe(t)||wCe(t)||vCe(t)}function jAt(t,e){return t==null?!1:e===!0?typeof t[pCe]=="function":e===!1?typeof t[hCe]=="function":typeof t[pCe]=="function"||typeof t[hCe]=="function"}function mH(t){if(!ch(t))return null;let e=t._writableState,n=t._readableState,r=e||n;return!!(t.destroyed||t[mCe]||r!=null&&r.destroyed)}function ECe(t){if(!hH(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function GAt(t,e){if(!hH(t))return null;if(t.writableFinished===!0)return!0;let n=t._writableState;return n!=null&&n.errored?!1:typeof n?.finished!="boolean"?null:!!(n.finished||e===!1&&n.ended===!0&&n.length===0)}function VAt(t){if(!pH(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function xCe(t,e){if(!pH(t))return null;let n=t._readableState;return n!=null&&n.errored?!1:typeof n?.endEmitted!="boolean"?null:!!(n.endEmitted||e===!1&&n.ended===!0&&n.length===0)}function ACe(t){return t&&t[oae]!=null?t[oae]:typeof t?.readable!="boolean"?null:mH(t)?!1:pH(t)&&t.readable&&!xCe(t)}function _Ce(t){return t&&t[sae]!=null?t[sae]:typeof t?.writable!="boolean"?null:mH(t)?!1:hH(t)&&t.writable&&!ECe(t)}function KAt(t,e){return ch(t)?mH(t)?!0:!(e?.readable!==!1&&ACe(t)||e?.writable!==!1&&_Ce(t)):null}function $At(t){var e,n;return ch(t)?t.writableErrored?t.writableErrored:(e=(n=t._writableState)===null||n===void 0?void 0:n.errored)!==null&&e!==void 0?e:null:null}function qAt(t){var e,n;return ch(t)?t.readableErrored?t.readableErrored:(e=(n=t._readableState)===null||n===void 0?void 0:n.errored)!==null&&e!==void 0?e:null:null}function WAt(t){if(!ch(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,n=t._readableState;return typeof e?.closed=="boolean"||typeof n?.closed=="boolean"?e?.closed||n?.closed:typeof t._closed=="boolean"&&TCe(t)?t._closed:null}function TCe(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function SCe(t){return typeof t._sent100=="boolean"&&TCe(t)}function YAt(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function JAt(t){if(!ch(t))return null;let e=t._writableState,n=t._readableState,r=e||n;return!r&&SCe(t)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}function QAt(t){var e;return!!(t&&((e=t[bCe])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function ZAt(t){var e,n,r,i,a,o,s,c,l,u;return!!(t&&((e=(n=(r=(i=(a=(o=t[yCe])!==null&&o!==void 0?o:t.readableErrored)!==null&&a!==void 0?a:t.writableErrored)!==null&&i!==void 0?i:(s=t._readableState)===null||s===void 0?void 0:s.errorEmitted)!==null&&r!==void 0?r:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&n!==void 0?n:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}CCe.exports={isDestroyed:mH,kIsDestroyed:mCe,isDisturbed:QAt,kIsDisturbed:bCe,isErrored:ZAt,kIsErrored:yCe,isReadable:ACe,kIsReadable:oae,kIsClosedPromise:UAt,kControllerErrorFunction:FAt,kIsWritable:sae,isClosed:WAt,isDuplexNodeStream:HAt,isFinished:KAt,isIterable:jAt,isReadableNodeStream:pH,isReadableStream:gCe,isReadableEnded:VAt,isReadableFinished:xCe,isReadableErrored:qAt,isNodeStream:ch,isWebStream:zAt,isWritable:_Ce,isWritableNodeStream:hH,isWritableStream:wCe,isWritableEnded:ECe,isWritableFinished:GAt,isWritableErrored:$At,isServerRequest:YAt,isServerResponse:SCe,willEmitClose:JAt,isTransformStream:vCe}});var h5=le((gOn,dae)=>{"use strict";var Ib=Cb(),{AbortError:DCe,codes:XAt}=q0(),{ERR_INVALID_ARG_TYPE:e_t,ERR_STREAM_PREMATURE_CLOSE:ICe}=XAt,{kEmptyObject:lae,once:uae}=Kc(),{validateAbortSignal:t_t,validateFunction:n_t,validateObject:r_t,validateBoolean:i_t}=DE(),{Promise:a_t,PromisePrototypeThen:o_t,SymbolDispose:LCe}=Ea(),{isClosed:s_t,isReadable:RCe,isReadableNodeStream:cae,isReadableStream:c_t,isReadableFinished:OCe,isReadableErrored:NCe,isWritable:PCe,isWritableNodeStream:kCe,isWritableStream:l_t,isWritableFinished:MCe,isWritableErrored:BCe,isNodeStream:u_t,willEmitClose:f_t,kIsClosedPromise:d_t}=lh(),UE;function p_t(t){return t.setHeader&&typeof t.abort=="function"}var fae=()=>{};function UCe(t,e,n){var r,i;if(arguments.length===2?(n=e,e=lae):e==null?e=lae:r_t(e,"options"),n_t(n,"callback"),t_t(e.signal,"options.signal"),n=uae(n),c_t(t)||l_t(t))return h_t(t,e,n);if(!u_t(t))throw new e_t("stream",["ReadableStream","WritableStream","Stream"],t);let a=(r=e.readable)!==null&&r!==void 0?r:cae(t),o=(i=e.writable)!==null&&i!==void 0?i:kCe(t),s=t._writableState,c=t._readableState,l=()=>{t.writable||d()},u=f_t(t)&&cae(t)===a&&kCe(t)===o,f=MCe(t,!1),d=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||a))&&(!a||p)&&n.call(t)},p=OCe(t,!1),h=()=>{p=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||f)&&n.call(t)},m=D=>{n.call(t,D)},w=s_t(t),g=()=>{w=!0;let D=BCe(t)||NCe(t);if(D&&typeof D!="boolean")return n.call(t,D);if(a&&!p&&cae(t,!0)&&!OCe(t,!1))return n.call(t,new ICe);if(o&&!f&&!MCe(t,!1))return n.call(t,new ICe);n.call(t)},x=()=>{w=!0;let D=BCe(t)||NCe(t);if(D&&typeof D!="boolean")return n.call(t,D);n.call(t)},C=()=>{t.req.on("finish",d)};p_t(t)?(t.on("complete",d),u||t.on("abort",g),t.req?C():t.on("request",C)):o&&!s&&(t.on("end",l),t.on("close",l)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",g),t.on("end",h),t.on("finish",d),e.error!==!1&&t.on("error",m),t.on("close",g),w?Ib.nextTick(g):s!=null&&s.errorEmitted||c!=null&&c.errorEmitted?u||Ib.nextTick(x):(!a&&(!u||RCe(t))&&(f||PCe(t)===!1)||!o&&(!u||PCe(t))&&(p||RCe(t)===!1)||c&&t.req&&t.aborted)&&Ib.nextTick(x);let P=()=>{n=fae,t.removeListener("aborted",g),t.removeListener("complete",d),t.removeListener("abort",g),t.removeListener("request",C),t.req&&t.req.removeListener("finish",d),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",m),t.removeListener("close",g)};if(e.signal&&!w){let D=()=>{let F=n;P(),F.call(t,new DCe(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ib.nextTick(D);else{UE=UE||Kc().addAbortListener;let F=UE(e.signal,D),H=n;n=uae((...O)=>{F[LCe](),H.apply(t,O)})}}return P}function h_t(t,e,n){let r=!1,i=fae;if(e.signal)if(i=()=>{r=!0,n.call(t,new DCe(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ib.nextTick(i);else{UE=UE||Kc().addAbortListener;let o=UE(e.signal,i),s=n;n=uae((...c)=>{o[LCe](),s.apply(t,c)})}let a=(...o)=>{r||Ib.nextTick(()=>n.apply(t,o))};return o_t(t[d_t].promise,a,a),fae}function m_t(t,e){var n;let r=!1;return e===null&&(e=lae),(n=e)!==null&&n!==void 0&&n.cleanup&&(i_t(e.cleanup,"cleanup"),r=e.cleanup),new a_t((i,a)=>{let o=UCe(t,e,s=>{r&&o(),s?a(s):i()})})}dae.exports=UCe;dae.exports.finished=m_t});var Z3=le((wOn,$Ce)=>{"use strict";var uh=Cb(),{aggregateTwoErrors:y_t,codes:{ERR_MULTIPLE_CALLBACK:b_t},AbortError:g_t}=q0(),{Symbol:zCe}=Ea(),{kIsDestroyed:w_t,isDestroyed:v_t,isFinished:E_t,isServerRequest:x_t}=lh(),jCe=zCe("kDestroy"),pae=zCe("kConstruct");function GCe(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function A_t(t,e){let n=this._readableState,r=this._writableState,i=r||n;return r!=null&&r.destroyed||n!=null&&n.destroyed?(typeof e=="function"&&e(),this):(GCe(t,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?FCe(this,t,e):this.once(jCe,function(a){FCe(this,y_t(a,t),e)}),this)}function FCe(t,e,n){let r=!1;function i(a){if(r)return;r=!0;let o=t._readableState,s=t._writableState;GCe(a,s,o),s&&(s.closed=!0),o&&(o.closed=!0),typeof n=="function"&&n(a),a?uh.nextTick(__t,t,a):uh.nextTick(VCe,t)}try{t._destroy(e||null,i)}catch(a){i(a)}}function __t(t,e){hae(t,e),VCe(t)}function VCe(t){let e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(n!=null&&n.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function hae(t,e){let n=t._readableState,r=t._writableState;r!=null&&r.errorEmitted||n!=null&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function T_t(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function mae(t,e,n){let r=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),r&&!r.errored&&(r.errored=e),n?uh.nextTick(hae,t,e):hae(t,e))}function S_t(t,e){if(typeof t._construct!="function")return;let n=t._readableState,r=t._writableState;n&&(n.constructed=!1),r&&(r.constructed=!1),t.once(pae,e),!(t.listenerCount(pae)>1)&&uh.nextTick(C_t,t)}function C_t(t){let e=!1;function n(r){if(e){mae(t,r??new b_t);return}e=!0;let i=t._readableState,a=t._writableState,o=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),o.destroyed?t.emit(jCe,r):r?mae(t,r,!0):uh.nextTick(I_t,t)}try{t._construct(r=>{uh.nextTick(n,r)})}catch(r){uh.nextTick(n,r)}}function I_t(t){t.emit(pae)}function HCe(t){return t?.setHeader&&typeof t.abort=="function"}function KCe(t){t.emit("close")}function R_t(t,e){t.emit("error",e),uh.nextTick(KCe,t)}function O_t(t,e){!t||v_t(t)||(!e&&!E_t(t)&&(e=new g_t),x_t(t)?(t.socket=null,t.destroy(e)):HCe(t)?t.abort():HCe(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?uh.nextTick(R_t,t,e):uh.nextTick(KCe,t),t.destroyed||(t[w_t]=!0))}$Ce.exports={construct:S_t,destroyer:O_t,destroy:A_t,undestroy:T_t,errorOrDestroy:mae}});var gH=le((vOn,WCe)=>{"use strict";var{ArrayIsArray:N_t,ObjectSetPrototypeOf:qCe}=Ea(),{EventEmitter:yH}=Ps();function bH(t){yH.call(this,t)}qCe(bH.prototype,yH.prototype);qCe(bH,yH);bH.prototype.pipe=function(t,e){let n=this;function r(u){t.writable&&t.write(u)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",o),n.on("close",s));let a=!1;function o(){a||(a=!0,t.end())}function s(){a||(a=!0,typeof t.destroy=="function"&&t.destroy())}function c(u){l(),yH.listenerCount(this,"error")===0&&this.emit("error",u)}yae(n,"error",c),yae(t,"error",c);function l(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",o),n.removeListener("close",s),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t};function yae(t,e,n){if(typeof t.prependListener=="function")return t.prependListener(e,n);!t._events||!t._events[e]?t.on(e,n):N_t(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]}WCe.exports={Stream:bH,prependListener:yae}});var CR=le((EOn,wH)=>{"use strict";var{SymbolDispose:P_t}=Ea(),{AbortError:YCe,codes:k_t}=q0(),{isNodeStream:JCe,isWebStream:M_t,kControllerErrorFunction:B_t}=lh(),D_t=h5(),{ERR_INVALID_ARG_TYPE:QCe}=k_t,bae,L_t=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new QCe(e,"AbortSignal",t)};wH.exports.addAbortSignal=function(e,n){if(L_t(e,"signal"),!JCe(n)&&!M_t(n))throw new QCe("stream",["ReadableStream","WritableStream","Stream"],n);return wH.exports.addAbortSignalNoValidate(e,n)};wH.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let n=JCe(e)?()=>{e.destroy(new YCe(void 0,{cause:t.reason}))}:()=>{e[B_t](new YCe(void 0,{cause:t.reason}))};if(t.aborted)n();else{bae=bae||Kc().addAbortListener;let r=bae(t,n);D_t(e,r[P_t])}return e}});var eIe=le((AOn,XCe)=>{"use strict";var{StringPrototypeSlice:ZCe,SymbolIterator:U_t,TypedArrayPrototypeSet:vH,Uint8Array:F_t}=Ea(),{Buffer:gae}=rd(),{inspect:H_t}=Kc();XCe.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let n={data:e,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}unshift(e){let n={data:e,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let n=this.head,r=""+n.data;for(;(n=n.next)!==null;)r+=e+n.data;return r}concat(e){if(this.length===0)return gae.alloc(0);let n=gae.allocUnsafe(e>>>0),r=this.head,i=0;for(;r;)vH(n,r.data,i),i+=r.data.length,r=r.next;return n}consume(e,n){let r=this.head.data;if(e<r.length){let i=r.slice(0,e);return this.head.data=r.slice(e),i}return e===r.length?this.shift():n?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[U_t](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let n="",r=this.head,i=0;do{let a=r.data;if(e>a.length)n+=a,e-=a.length;else{e===a.length?(n+=a,++i,r.next?this.head=r.next:this.head=this.tail=null):(n+=ZCe(a,0,e),this.head=r,r.data=ZCe(a,e));break}++i}while((r=r.next)!==null);return this.length-=i,n}_getBuffer(e){let n=gae.allocUnsafe(e),r=e,i=this.head,a=0;do{let o=i.data;if(e>o.length)vH(n,o,r-e),e-=o.length;else{e===o.length?(vH(n,o,r-e),++a,i.next?this.head=i.next:this.head=this.tail=null):(vH(n,new F_t(o.buffer,o.byteOffset,e),r-e),this.head=i,i.data=o.slice(e));break}++a}while((i=i.next)!==null);return this.length-=a,n}[Symbol.for("nodejs.util.inspect.custom")](e,n){return H_t(this,{...n,depth:0,customInspect:!1})}}});var IR=le((_On,iIe)=>{"use strict";var{MathFloor:z_t,NumberIsInteger:j_t}=Ea(),{validateInteger:G_t}=DE(),{ERR_INVALID_ARG_VALUE:V_t}=q0().codes,tIe=16*1024,nIe=16;function K_t(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function rIe(t){return t?nIe:tIe}function $_t(t,e){G_t(e,"value",0),t?nIe=e:tIe=e}function q_t(t,e,n,r){let i=K_t(e,r,n);if(i!=null){if(!j_t(i)||i<0){let a=r?`options.${n}`:"options.highWaterMark";throw new V_t(a,i)}return z_t(i)}return rIe(t.objectMode)}iIe.exports={getHighWaterMark:q_t,getDefaultHighWaterMark:rIe,setDefaultHighWaterMark:$_t}});var vae=le((wae,oIe)=>{var EH=rd(),fh=EH.Buffer;function aIe(t,e){for(var n in t)e[n]=t[n]}fh.from&&fh.alloc&&fh.allocUnsafe&&fh.allocUnsafeSlow?oIe.exports=EH:(aIe(EH,wae),wae.Buffer=X3);function X3(t,e,n){return fh(t,e,n)}X3.prototype=Object.create(fh.prototype);aIe(fh,X3);X3.from=function(t,e,n){if(typeof t=="number")throw new TypeError("Argument must not be a number");return fh(t,e,n)};X3.alloc=function(t,e,n){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=fh(t);return e!==void 0?typeof n=="string"?r.fill(e,n):r.fill(e):r.fill(0),r};X3.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return fh(t)};X3.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return EH.SlowBuffer(t)}});var lIe=le(cIe=>{"use strict";var xae=vae().Buffer,sIe=xae.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function W_t(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Y_t(t){var e=W_t(t);if(typeof e!="string"&&(xae.isEncoding===sIe||!sIe(t)))throw new Error("Unknown encoding: "+t);return e||t}cIe.StringDecoder=RR;function RR(t){this.encoding=Y_t(t);var e;switch(this.encoding){case"utf16le":this.text=tTt,this.end=nTt,e=4;break;case"utf8":this.fillLast=Z_t,e=4;break;case"base64":this.text=rTt,this.end=iTt,e=3;break;default:this.write=aTt,this.end=oTt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=xae.allocUnsafe(e)}RR.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};RR.prototype.end=eTt;RR.prototype.text=X_t;RR.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Eae(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function J_t(t,e,n){var r=e.length-1;if(r<n)return 0;var i=Eae(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||i===-2?0:(i=Eae(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||i===-2?0:(i=Eae(e[r]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Q_t(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Z_t(t){var e=this.lastTotal-this.lastNeed,n=Q_t(this,t,e);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function X_t(t,e){var n=J_t(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function eTt(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function tTt(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function nTt(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function rTt(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function iTt(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function aTt(t){return t.toString(this.encoding)}function oTt(t){return t&&t.length?this.write(t):""}});var Aae=le((SOn,pIe)=>{"use strict";var uIe=Cb(),{PromisePrototypeThen:sTt,SymbolAsyncIterator:fIe,SymbolIterator:dIe}=Ea(),{Buffer:cTt}=rd(),{ERR_INVALID_ARG_TYPE:lTt,ERR_STREAM_NULL_VALUES:uTt}=q0().codes;function fTt(t,e,n){let r;if(typeof e=="string"||e instanceof cTt)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});let i;if(e&&e[fIe])i=!0,r=e[fIe]();else if(e&&e[dIe])i=!1,r=e[dIe]();else throw new lTt("iterable",["Iterable"],e);let a=new t({objectMode:!0,highWaterMark:1,...n}),o=!1;a._read=function(){o||(o=!0,c())},a._destroy=function(l,u){sTt(s(l),()=>uIe.nextTick(u,l),f=>uIe.nextTick(u,f||l))};async function s(l){let u=l!=null,f=typeof r.throw=="function";if(u&&f){let{value:d,done:p}=await r.throw(l);if(await d,p)return}if(typeof r.return=="function"){let{value:d}=await r.return();await d}}async function c(){for(;;){try{let{value:l,done:u}=i?await r.next():r.next();if(u)a.push(null);else{let f=l&&typeof l.then=="function"?await l:l;if(f===null)throw o=!1,new uTt;if(a.push(f))continue;o=!1}}catch(l){a.destroy(l)}break}}return a}pIe.exports=fTt});var NR=le((COn,NIe)=>{"use strict";var R1=Cb(),{ArrayPrototypeIndexOf:dTt,NumberIsInteger:pTt,NumberIsNaN:hTt,NumberParseInt:mTt,ObjectDefineProperties:Nae,ObjectKeys:yTt,ObjectSetPrototypeOf:yIe,Promise:bIe,SafeSet:bTt,SymbolAsyncDispose:gTt,SymbolAsyncIterator:wTt,Symbol:vTt}=Ea();NIe.exports=Qn;Qn.ReadableState=TH;var{EventEmitter:ETt}=Ps(),{Stream:Rb,prependListener:xTt}=gH(),{Buffer:_ae}=rd(),{addAbortSignal:ATt}=CR(),gIe=h5(),wr=Kc().debuglog("stream",t=>{wr=t}),_Tt=eIe(),zE=Z3(),{getHighWaterMark:TTt,getDefaultHighWaterMark:STt}=IR(),{aggregateTwoErrors:hIe,codes:{ERR_INVALID_ARG_TYPE:CTt,ERR_METHOD_NOT_IMPLEMENTED:ITt,ERR_OUT_OF_RANGE:RTt,ERR_STREAM_PUSH_AFTER_EOF:OTt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:NTt},AbortError:PTt}=q0(),{validateObject:kTt}=DE(),ew=vTt("kPaused"),{StringDecoder:wIe}=lIe(),MTt=Aae();yIe(Qn.prototype,Rb.prototype);yIe(Qn,Rb);var Tae=()=>{},{errorOrDestroy:FE}=zE,HE=1,BTt=2,vIe=4,OR=8,EIe=16,xH=32,AH=64,xIe=128,DTt=256,LTt=512,UTt=1024,Rae=2048,Oae=4096,FTt=8192,HTt=16384,zTt=32768,AIe=65536,jTt=1<<17,GTt=1<<18;function ns(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}Nae(TH.prototype,{objectMode:ns(HE),ended:ns(BTt),endEmitted:ns(vIe),reading:ns(OR),constructed:ns(EIe),sync:ns(xH),needReadable:ns(AH),emittedReadable:ns(xIe),readableListening:ns(DTt),resumeScheduled:ns(LTt),errorEmitted:ns(UTt),emitClose:ns(Rae),autoDestroy:ns(Oae),destroyed:ns(FTt),closed:ns(HTt),closeEmitted:ns(zTt),multiAwaitDrain:ns(AIe),readingMore:ns(jTt),dataEmitted:ns(GTt)});function TH(t,e,n){typeof n!="boolean"&&(n=e instanceof dh()),this.state=Rae|Oae|EIe|xH,t&&t.objectMode&&(this.state|=HE),n&&t&&t.readableObjectMode&&(this.state|=HE),this.highWaterMark=t?TTt(this,t,"readableHighWaterMark",n):STt(!1),this.buffer=new _Tt,this.length=0,this.pipes=[],this.flowing=null,this[ew]=null,t&&t.emitClose===!1&&(this.state&=~Rae),t&&t.autoDestroy===!1&&(this.state&=~Oae),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new wIe(t.encoding),this.encoding=t.encoding)}function Qn(t){if(!(this instanceof Qn))return new Qn(t);let e=this instanceof dh();this._readableState=new TH(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&ATt(t.signal,this)),Rb.call(this,t),zE.construct(this,()=>{this._readableState.needReadable&&_H(this,this._readableState)})}Qn.prototype.destroy=zE.destroy;Qn.prototype._undestroy=zE.undestroy;Qn.prototype._destroy=function(t,e){e(t)};Qn.prototype[ETt.captureRejectionSymbol]=function(t){this.destroy(t)};Qn.prototype[gTt]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new PTt,this.destroy(t)),new bIe((e,n)=>gIe(this,r=>r&&r!==t?n(r):e(null)))};Qn.prototype.push=function(t,e){return _Ie(this,t,e,!1)};Qn.prototype.unshift=function(t,e){return _Ie(this,t,e,!0)};function _Ie(t,e,n,r){wr("readableAddChunk",e);let i=t._readableState,a;if((i.state&HE)===0&&(typeof e=="string"?(n=n||i.defaultEncoding,i.encoding!==n&&(r&&i.encoding?e=_ae.from(e,n).toString(i.encoding):(e=_ae.from(e,n),n=""))):e instanceof _ae?n="":Rb._isUint8Array(e)?(e=Rb._uint8ArrayToBuffer(e),n=""):e!=null&&(a=new CTt("chunk",["string","Buffer","Uint8Array"],e))),a)FE(t,a);else if(e===null)i.state&=~OR,$Tt(t,i);else if((i.state&HE)!==0||e&&e.length>0)if(r)if((i.state&vIe)!==0)FE(t,new NTt);else{if(i.destroyed||i.errored)return!1;Sae(t,i,e,!0)}else if(i.ended)FE(t,new OTt);else{if(i.destroyed||i.errored)return!1;i.state&=~OR,i.decoder&&!n?(e=i.decoder.write(e),i.objectMode||e.length!==0?Sae(t,i,e,!1):_H(t,i)):Sae(t,i,e,!1)}else r||(i.state&=~OR,_H(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function Sae(t,e,n,r){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&AIe)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),(e.state&AH)!==0&&SH(t)),_H(t,e)}Qn.prototype.isPaused=function(){let t=this._readableState;return t[ew]===!0||t.flowing===!1};Qn.prototype.setEncoding=function(t){let e=new wIe(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let n=this._readableState.buffer,r="";for(let i of n)r+=e.write(i);return n.clear(),r!==""&&n.push(r),this._readableState.length=r.length,this};var VTt=1073741824;function KTt(t){if(t>VTt)throw new RTt("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function mIe(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&HE)!==0?1:hTt(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Qn.prototype.read=function(t){wr("read",t),t===void 0?t=NaN:pTt(t)||(t=mTt(t,10));let e=this._readableState,n=t;if(t>e.highWaterMark&&(e.highWaterMark=KTt(t)),t!==0&&(e.state&=~xIe),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return wr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Cae(this):SH(this),null;if(t=mIe(t,e),t===0&&e.ended)return e.length===0&&Cae(this),null;let r=(e.state&AH)!==0;if(wr("need readable",r),(e.length===0||e.length-t<e.highWaterMark)&&(r=!0,wr("length less than watermark",r)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)r=!1,wr("reading, ended or constructing",r);else if(r){wr("do read"),e.state|=OR|xH,e.length===0&&(e.state|=AH);try{this._read(e.highWaterMark)}catch(a){FE(this,a)}e.state&=~xH,e.reading||(t=mIe(n,e))}let i;return t>0?i=RIe(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Cae(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function $Tt(t,e){if(wr("onEofChunk"),!e.ended){if(e.decoder){let n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?SH(t):(e.needReadable=!1,e.emittedReadable=!0,TIe(t))}}function SH(t){let e=t._readableState;wr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(wr("emitReadable",e.flowing),e.emittedReadable=!0,R1.nextTick(TIe,t))}function TIe(t){let e=t._readableState;wr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,CIe(t)}function _H(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,R1.nextTick(qTt,t,e))}function qTt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let n=e.length;if(wr("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}Qn.prototype._read=function(t){throw new ITt("_read()")};Qn.prototype.pipe=function(t,e){let n=this,r=this._readableState;r.pipes.length===1&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new bTt(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(t),wr("pipe count=%d opts=%j",r.pipes.length,e);let a=(!e||e.end!==!1)&&t!==R1.stdout&&t!==R1.stderr?s:w;r.endEmitted?R1.nextTick(a):n.once("end",a),t.on("unpipe",o);function o(g,x){wr("onunpipe"),g===n&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,u())}function s(){wr("onend"),t.end()}let c,l=!1;function u(){wr("cleanup"),t.removeListener("close",h),t.removeListener("finish",m),c&&t.removeListener("drain",c),t.removeListener("error",p),t.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",w),n.removeListener("data",d),l=!0,c&&r.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&c()}function f(){l||(r.pipes.length===1&&r.pipes[0]===t?(wr("false write response, pause",0),r.awaitDrainWriters=t,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(t)&&(wr("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(t)),n.pause()),c||(c=WTt(n,t),t.on("drain",c))}n.on("data",d);function d(g){wr("ondata");let x=t.write(g);wr("dest.write",x),x===!1&&f()}function p(g){if(wr("onerror",g),w(),t.removeListener("error",p),t.listenerCount("error")===0){let x=t._writableState||t._readableState;x&&!x.errorEmitted?FE(t,g):t.emit("error",g)}}xTt(t,"error",p);function h(){t.removeListener("finish",m),w()}t.once("close",h);function m(){wr("onfinish"),t.removeListener("close",h),w()}t.once("finish",m);function w(){wr("unpipe"),n.unpipe(t)}return t.emit("pipe",n),t.writableNeedDrain===!0?f():r.flowing||(wr("pipe resume"),n.resume()),t};function WTt(t,e){return function(){let r=t._readableState;r.awaitDrainWriters===e?(wr("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(wr("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),(!r.awaitDrainWriters||r.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Qn.prototype.unpipe=function(t){let e=this._readableState,n={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let a=0;a<i.length;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}let r=dTt(e.pipes,t);return r===-1?this:(e.pipes.splice(r,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,n),this)};Qn.prototype.on=function(t,e){let n=Rb.prototype.on.call(this,t,e),r=this._readableState;return t==="data"?(r.readableListening=this.listenerCount("readable")>0,r.flowing!==!1&&this.resume()):t==="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,wr("on readable",r.length,r.reading),r.length?SH(this):r.reading||R1.nextTick(YTt,this)),n};Qn.prototype.addListener=Qn.prototype.on;Qn.prototype.removeListener=function(t,e){let n=Rb.prototype.removeListener.call(this,t,e);return t==="readable"&&R1.nextTick(SIe,this),n};Qn.prototype.off=Qn.prototype.removeListener;Qn.prototype.removeAllListeners=function(t){let e=Rb.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&R1.nextTick(SIe,this),e};function SIe(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[ew]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function YTt(t){wr("readable nexttick read 0"),t.read(0)}Qn.prototype.resume=function(){let t=this._readableState;return t.flowing||(wr("resume"),t.flowing=!t.readableListening,JTt(this,t)),t[ew]=!1,this};function JTt(t,e){e.resumeScheduled||(e.resumeScheduled=!0,R1.nextTick(QTt,t,e))}function QTt(t,e){wr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),CIe(t),e.flowing&&!e.reading&&t.read(0)}Qn.prototype.pause=function(){return wr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(wr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ew]=!0,this};function CIe(t){let e=t._readableState;for(wr("flow",e.flowing);e.flowing&&t.read()!==null;);}Qn.prototype.wrap=function(t){let e=!1;t.on("data",r=>{!this.push(r)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",r=>{FE(this,r)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let n=yTt(t);for(let r=1;r<n.length;r++){let i=n[r];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Qn.prototype[wTt]=function(){return IIe(this)};Qn.prototype.iterator=function(t){return t!==void 0&&kTt(t,"options"),IIe(this,t)};function IIe(t,e){typeof t.read!="function"&&(t=Qn.wrap(t,{objectMode:!0}));let n=ZTt(t,e);return n.stream=t,n}async function*ZTt(t,e){let n=Tae;function r(o){this===t?(n(),n=Tae):n=o}t.on("readable",r);let i,a=gIe(t,{writable:!1},o=>{i=o?hIe(i,o):null,n(),n=Tae});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new bIe(r)}}}catch(o){throw i=hIe(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?zE.destroyer(t,null):(t.off("readable",r),a())}}Nae(Qn.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Nae(TH.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ew]!==!1},set(t){this[ew]=!!t}}});Qn._fromList=RIe;function RIe(t,e){if(e.length===0)return null;let n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(e.decoder?n=e.buffer.join(""):e.buffer.length===1?n=e.buffer.first():n=e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n}function Cae(t){let e=t._readableState;wr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,R1.nextTick(XTt,e,t))}function XTt(t,e){if(wr("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)R1.nextTick(e7t,e);else if(t.autoDestroy){let n=e._writableState;(!n||n.autoDestroy&&(n.finished||n.writable===!1))&&e.destroy()}}}function e7t(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Qn.from=function(t,e){return MTt(Qn,t,e)};var Iae;function OIe(){return Iae===void 0&&(Iae={}),Iae}Qn.fromWeb=function(t,e){return OIe().newStreamReadableFromReadableStream(t,e)};Qn.toWeb=function(t,e){return OIe().newReadableStreamFromStreamReadable(t,e)};Qn.wrap=function(t,e){var n,r;return new Qn({objectMode:(n=(r=t.readableObjectMode)!==null&&r!==void 0?r:t.objectMode)!==null&&n!==void 0?n:!0,...e,destroy(i,a){zE.destroyer(t,i),a(i)}}).wrap(t)}});var NH=le((IOn,GIe)=>{"use strict";var tw=Cb(),{ArrayPrototypeSlice:MIe,Error:t7t,FunctionPrototypeSymbolHasInstance:BIe,ObjectDefineProperty:DIe,ObjectDefineProperties:n7t,ObjectSetPrototypeOf:LIe,StringPrototypeToLowerCase:r7t,Symbol:i7t,SymbolHasInstance:a7t}=Ea();GIe.exports=Da;Da.WritableState=MR;var{EventEmitter:o7t}=Ps(),PR=gH().Stream,{Buffer:CH}=rd(),OH=Z3(),{addAbortSignal:s7t}=CR(),{getHighWaterMark:c7t,getDefaultHighWaterMark:l7t}=IR(),{ERR_INVALID_ARG_TYPE:u7t,ERR_METHOD_NOT_IMPLEMENTED:f7t,ERR_MULTIPLE_CALLBACK:UIe,ERR_STREAM_CANNOT_PIPE:d7t,ERR_STREAM_DESTROYED:kR,ERR_STREAM_ALREADY_FINISHED:p7t,ERR_STREAM_NULL_VALUES:h7t,ERR_STREAM_WRITE_AFTER_END:m7t,ERR_UNKNOWN_ENCODING:FIe}=q0().codes,{errorOrDestroy:jE}=OH;LIe(Da.prototype,PR.prototype);LIe(Da,PR);function Mae(){}var GE=i7t("kOnFinished");function MR(t,e,n){typeof n!="boolean"&&(n=e instanceof dh()),this.objectMode=!!(t&&t.objectMode),n&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?c7t(this,t,"writableHighWaterMark",n):l7t(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let r=!!(t&&t.decodeStrings===!1);this.decodeStrings=!r,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=b7t.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,RH(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[GE]=[]}function RH(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}MR.prototype.getBuffer=function(){return MIe(this.buffered,this.bufferedIndex)};DIe(MR.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Da(t){let e=this instanceof dh();if(!e&&!BIe(Da,this))return new Da(t);this._writableState=new MR(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&s7t(t.signal,this)),PR.call(this,t),OH.construct(this,()=>{let n=this._writableState;n.writing||Dae(this,n),Lae(this,n)})}DIe(Da,a7t,{__proto__:null,value:function(t){return BIe(this,t)?!0:this!==Da?!1:t&&t._writableState instanceof MR}});Da.prototype.pipe=function(){jE(this,new d7t)};function HIe(t,e,n,r){let i=t._writableState;if(typeof n=="function")r=n,n=i.defaultEncoding;else{if(!n)n=i.defaultEncoding;else if(n!=="buffer"&&!CH.isEncoding(n))throw new FIe(n);typeof r!="function"&&(r=Mae)}if(e===null)throw new h7t;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=CH.from(e,n),n="buffer");else if(e instanceof CH)n="buffer";else if(PR._isUint8Array(e))e=PR._uint8ArrayToBuffer(e),n="buffer";else throw new u7t("chunk",["string","Buffer","Uint8Array"],e);let a;return i.ending?a=new m7t:i.destroyed&&(a=new kR("write")),a?(tw.nextTick(r,a),jE(t,a,!0),a):(i.pendingcb++,y7t(t,i,e,n,r))}Da.prototype.write=function(t,e,n){return HIe(this,t,e,n)===!0};Da.prototype.cork=function(){this._writableState.corked++};Da.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Dae(this,t))};Da.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=r7t(e)),!CH.isEncoding(e))throw new FIe(e);return this._writableState.defaultEncoding=e,this};function y7t(t,e,n,r,i){let a=e.objectMode?1:n.length;e.length+=a;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:n,encoding:r,callback:i}),e.allBuffers&&r!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Mae&&(e.allNoop=!1)):(e.writelen=a,e.writecb=i,e.writing=!0,e.sync=!0,t._write(n,r,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function PIe(t,e,n,r,i,a,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new kR("write")):n?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function kIe(t,e,n,r){--e.pendingcb,r(n),Bae(e),jE(t,n)}function b7t(t,e){let n=t._writableState,r=n.sync,i=n.writecb;if(typeof i!="function"){jE(t,new UIe);return}n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,e?(e.stack,n.errored||(n.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),r?tw.nextTick(kIe,t,n,e,i):kIe(t,n,e,i)):(n.buffered.length>n.bufferedIndex&&Dae(t,n),r?n.afterWriteTickInfo!==null&&n.afterWriteTickInfo.cb===i?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:i,stream:t,state:n},tw.nextTick(g7t,n.afterWriteTickInfo)):zIe(t,n,1,i))}function g7t({stream:t,state:e,count:n,cb:r}){return e.afterWriteTickInfo=null,zIe(t,e,n,r)}function zIe(t,e,n,r){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));n-- >0;)e.pendingcb--,r();e.destroyed&&Bae(e),Lae(t,e)}function Bae(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:a,callback:o}=t.buffered[i],s=t.objectMode?1:a.length;t.length-=s,o((e=t.errored)!==null&&e!==void 0?e:new kR("write"))}let n=t[GE].splice(0);for(let i=0;i<n.length;i++){var r;n[i]((r=t.errored)!==null&&r!==void 0?r:new kR("end"))}RH(t)}function Dae(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:n,bufferedIndex:r,objectMode:i}=e,a=n.length-r;if(!a)return;let o=r;if(e.bufferProcessing=!0,a>1&&t._writev){e.pendingcb-=a-1;let s=e.allNoop?Mae:l=>{for(let u=o;u<n.length;++u)n[u].callback(l)},c=e.allNoop&&o===0?n:MIe(n,o);c.allBuffers=e.allBuffers,PIe(t,e,!0,e.length,c,"",s),RH(e)}else{do{let{chunk:s,encoding:c,callback:l}=n[o];n[o++]=null;let u=i?1:s.length;PIe(t,e,!1,u,s,c,l)}while(o<n.length&&!e.writing);o===n.length?RH(e):o>256?(n.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}Da.prototype._write=function(t,e,n){if(this._writev)this._writev([{chunk:t,encoding:e}],n);else throw new f7t("_write()")};Da.prototype._writev=null;Da.prototype.end=function(t,e,n){let r=this._writableState;typeof t=="function"?(n=t,t=null,e=null):typeof e=="function"&&(n=e,e=null);let i;if(t!=null){let a=HIe(this,t,e);a instanceof t7t&&(i=a)}return r.corked&&(r.corked=1,this.uncork()),i||(!r.errored&&!r.ending?(r.ending=!0,Lae(this,r,!0),r.ended=!0):r.finished?i=new p7t("end"):r.destroyed&&(i=new kR("end"))),typeof n=="function"&&(i||r.finished?tw.nextTick(n,i):r[GE].push(n)),this};function IH(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function w7t(t,e){let n=!1;function r(i){if(n){jE(t,i??UIe());return}if(n=!0,e.pendingcb--,i){let a=e[GE].splice(0);for(let o=0;o<a.length;o++)a[o](i);jE(t,i,e.sync)}else IH(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,tw.nextTick(kae,t,e))}e.sync=!0,e.pendingcb++;try{t._final(r)}catch(i){r(i)}e.sync=!1}function v7t(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,w7t(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Lae(t,e,n){IH(e)&&(v7t(t,e),e.pendingcb===0&&(n?(e.pendingcb++,tw.nextTick((r,i)=>{IH(i)?kae(r,i):i.pendingcb--},t,e)):IH(e)&&(e.pendingcb++,kae(t,e))))}function kae(t,e){e.pendingcb--,e.finished=!0;let n=e[GE].splice(0);for(let r=0;r<n.length;r++)n[r]();if(t.emit("finish"),e.autoDestroy){let r=t._readableState;(!r||r.autoDestroy&&(r.endEmitted||r.readable===!1))&&t.destroy()}}n7t(Da.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var E7t=OH.destroy;Da.prototype.destroy=function(t,e){let n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[GE].length)&&tw.nextTick(Bae,n),E7t.call(this,t,e),this};Da.prototype._undestroy=OH.undestroy;Da.prototype._destroy=function(t,e){e(t)};Da.prototype[o7t.captureRejectionSymbol]=function(t){this.destroy(t)};var Pae;function jIe(){return Pae===void 0&&(Pae={}),Pae}Da.fromWeb=function(t,e){return jIe().newStreamWritableFromWritableStream(t,e)};Da.toWeb=function(t){return jIe().newWritableStreamFromStreamWritable(t)}});var iRe=le((ROn,rRe)=>{var Uae=Cb(),x7t=rd(),{isReadable:A7t,isWritable:_7t,isIterable:VIe,isNodeStream:T7t,isReadableNodeStream:KIe,isWritableNodeStream:$Ie,isDuplexNodeStream:S7t,isReadableStream:qIe,isWritableStream:WIe}=lh(),YIe=h5(),{AbortError:tRe,codes:{ERR_INVALID_ARG_TYPE:C7t,ERR_INVALID_RETURN_VALUE:JIe}}=q0(),{destroyer:KE}=Z3(),I7t=dh(),nRe=NR(),R7t=NH(),{createDeferredPromise:QIe}=Kc(),ZIe=Aae(),XIe=globalThis.Blob||x7t.Blob,O7t=typeof XIe<"u"?function(e){return e instanceof XIe}:function(e){return!1},N7t=globalThis.AbortController||ME().AbortController,{FunctionPrototypeCall:eRe}=Ea(),Ob=class extends I7t{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};rRe.exports=function t(e,n){if(S7t(e))return e;if(KIe(e))return VE({readable:e});if($Ie(e))return VE({writable:e});if(T7t(e))return VE({writable:!1,readable:!1});if(qIe(e))return VE({readable:nRe.fromWeb(e)});if(WIe(e))return VE({writable:R7t.fromWeb(e)});if(typeof e=="function"){let{value:i,write:a,final:o,destroy:s}=P7t(e);if(VIe(i))return ZIe(Ob,i,{objectMode:!0,write:a,final:o,destroy:s});let c=i?.then;if(typeof c=="function"){let l,u=eRe(c,i,f=>{if(f!=null)throw new JIe("nully","body",f)},f=>{KE(l,f)});return l=new Ob({objectMode:!0,readable:!1,write:a,final(f){o(async()=>{try{await u,Uae.nextTick(f,null)}catch(d){Uae.nextTick(f,d)}})},destroy:s})}throw new JIe("Iterable, AsyncIterable or AsyncFunction",n,i)}if(O7t(e))return t(e.arrayBuffer());if(VIe(e))return ZIe(Ob,e,{objectMode:!0,writable:!1});if(qIe(e?.readable)&&WIe(e?.writable))return Ob.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?KIe(e?.readable)?e?.readable:t(e.readable):void 0,a=e!=null&&e.writable?$Ie(e?.writable)?e?.writable:t(e.writable):void 0;return VE({readable:i,writable:a})}let r=e?.then;if(typeof r=="function"){let i;return eRe(r,e,a=>{a!=null&&i.push(a),i.push(null)},a=>{KE(i,a)}),i=new Ob({objectMode:!0,writable:!1,read(){}})}throw new C7t(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function P7t(t){let{promise:e,resolve:n}=QIe(),r=new N7t,i=r.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:s,done:c,cb:l}=await o;if(Uae.nextTick(l),c)return;if(i.aborted)throw new tRe(void 0,{cause:i.reason});({promise:e,resolve:n}=QIe()),yield s}})(),{signal:i}),write(o,s,c){let l=n;n=null,l({chunk:o,done:!1,cb:c})},final(o){let s=n;n=null,s({done:!0,cb:o})},destroy(o,s){r.abort(),s(o)}}}function VE(t){let e=t.readable&&typeof t.readable.read!="function"?nRe.wrap(t.readable):t.readable,n=t.writable,r=!!A7t(e),i=!!_7t(n),a,o,s,c,l;function u(f){let d=c;c=null,d?d(f):f&&l.destroy(f)}return l=new Ob({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(n!=null&&n.writableObjectMode),readable:r,writable:i}),i&&(YIe(n,f=>{i=!1,f&&KE(e,f),u(f)}),l._write=function(f,d,p){n.write(f,d)?p():a=p},l._final=function(f){n.end(),o=f},n.on("drain",function(){if(a){let f=a;a=null,f()}}),n.on("finish",function(){if(o){let f=o;o=null,f()}})),r&&(YIe(e,f=>{r=!1,f&&KE(e,f),u(f)}),e.on("readable",function(){if(s){let f=s;s=null,f()}}),e.on("end",function(){l.push(null)}),l._read=function(){for(;;){let f=e.read();if(f===null){s=l._read;return}if(!l.push(f))return}}),l._destroy=function(f,d){!f&&c!==null&&(f=new tRe),s=null,a=null,o=null,c===null?d(f):(c=d,KE(n,f),KE(e,f))},l}});var dh=le((OOn,sRe)=>{"use strict";var{ObjectDefineProperties:k7t,ObjectGetOwnPropertyDescriptor:m5,ObjectKeys:M7t,ObjectSetPrototypeOf:aRe}=Ea();sRe.exports=O1;var zae=NR(),ad=NH();aRe(O1.prototype,zae.prototype);aRe(O1,zae);{let t=M7t(ad.prototype);for(let e=0;e<t.length;e++){let n=t[e];O1.prototype[n]||(O1.prototype[n]=ad.prototype[n])}}function O1(t){if(!(this instanceof O1))return new O1(t);zae.call(this,t),ad.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}k7t(O1.prototype,{writable:{__proto__:null,...m5(ad.prototype,"writable")},writableHighWaterMark:{__proto__:null,...m5(ad.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...m5(ad.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...m5(ad.prototype,"writableBuffer")},writableLength:{__proto__:null,...m5(ad.prototype,"writableLength")},writableFinished:{__proto__:null,...m5(ad.prototype,"writableFinished")},writableCorked:{__proto__:null,...m5(ad.prototype,"writableCorked")},writableEnded:{__proto__:null,...m5(ad.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...m5(ad.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Fae;function oRe(){return Fae===void 0&&(Fae={}),Fae}O1.fromWeb=function(t,e){return oRe().newStreamDuplexFromReadableWritablePair(t,e)};O1.toWeb=function(t){return oRe().newReadableWritablePairFromDuplex(t)};var Hae;O1.from=function(t){return Hae||(Hae=iRe()),Hae(t,"body")}});var Vae=le((NOn,lRe)=>{"use strict";var{ObjectSetPrototypeOf:cRe,Symbol:B7t}=Ea();lRe.exports=y5;var{ERR_METHOD_NOT_IMPLEMENTED:D7t}=q0().codes,Gae=dh(),{getHighWaterMark:L7t}=IR();cRe(y5.prototype,Gae.prototype);cRe(y5,Gae);var BR=B7t("kCallback");function y5(t){if(!(this instanceof y5))return new y5(t);let e=t?L7t(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Gae.call(this,t),this._readableState.sync=!1,this[BR]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",U7t)}function jae(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,n)=>{if(e){t?t(e):this.destroy(e);return}n!=null&&this.push(n),this.push(null),t&&t()}):(this.push(null),t&&t())}function U7t(){this._final!==jae&&jae.call(this)}y5.prototype._final=jae;y5.prototype._transform=function(t,e,n){throw new D7t("_transform()")};y5.prototype._write=function(t,e,n){let r=this._readableState,i=this._writableState,a=r.length;this._transform(t,e,(o,s)=>{if(o){n(o);return}s!=null&&this.push(s),i.ended||a===r.length||r.length<r.highWaterMark?n():this[BR]=n})};y5.prototype._read=function(){if(this[BR]){let t=this[BR];this[BR]=null,t()}}});var $ae=le((POn,fRe)=>{"use strict";var{ObjectSetPrototypeOf:uRe}=Ea();fRe.exports=$E;var Kae=Vae();uRe($E.prototype,Kae.prototype);uRe($E,Kae);function $E(t){if(!(this instanceof $E))return new $E(t);Kae.call(this,t)}$E.prototype._transform=function(t,e,n){n(null,t)}});var BH=le((kOn,yRe)=>{var DR=Cb(),{ArrayIsArray:F7t,Promise:H7t,SymbolAsyncIterator:z7t,SymbolDispose:j7t}=Ea(),MH=h5(),{once:G7t}=Kc(),V7t=Z3(),dRe=dh(),{aggregateTwoErrors:K7t,codes:{ERR_INVALID_ARG_TYPE:toe,ERR_INVALID_RETURN_VALUE:qae,ERR_MISSING_ARGS:$7t,ERR_STREAM_DESTROYED:q7t,ERR_STREAM_PREMATURE_CLOSE:W7t},AbortError:Y7t}=q0(),{validateFunction:J7t,validateAbortSignal:Q7t}=DE(),{isIterable:nw,isReadable:Wae,isReadableNodeStream:kH,isNodeStream:pRe,isTransformStream:qE,isWebStream:Z7t,isReadableStream:Yae,isReadableFinished:X7t}=lh(),eSt=globalThis.AbortController||ME().AbortController,Jae,Qae,Zae;function hRe(t,e,n){let r=!1;t.on("close",()=>{r=!0});let i=MH(t,{readable:e,writable:n},a=>{r=!a});return{destroy:a=>{r||(r=!0,V7t.destroyer(t,a||new q7t("pipe")))},cleanup:i}}function tSt(t){return J7t(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Xae(t){if(nw(t))return t;if(kH(t))return nSt(t);throw new toe("val",["Readable","Iterable","AsyncIterable"],t)}async function*nSt(t){Qae||(Qae=NR()),yield*Qae.prototype[z7t].call(t)}async function PH(t,e,n,{end:r}){let i,a=null,o=l=>{if(l&&(i=l),a){let u=a;a=null,u()}},s=()=>new H7t((l,u)=>{i?u(i):a=()=>{i?u(i):l()}});e.on("drain",o);let c=MH(e,{readable:!1},o);try{e.writableNeedDrain&&await s();for await(let l of t)e.write(l)||await s();r&&(e.end(),await s()),n()}catch(l){n(i!==l?K7t(i,l):l)}finally{c(),e.off("drain",o)}}async function eoe(t,e,n,{end:r}){qE(e)&&(e=e.writable);let i=e.getWriter();try{for await(let a of t)await i.ready,i.write(a).catch(()=>{});await i.ready,r&&await i.close(),n()}catch(a){try{await i.abort(a),n(a)}catch(o){n(o)}}}function rSt(...t){return mRe(t,G7t(tSt(t)))}function mRe(t,e,n){if(t.length===1&&F7t(t[0])&&(t=t[0]),t.length<2)throw new $7t("streams");let r=new eSt,i=r.signal,a=n?.signal,o=[];Q7t(a,"options.signal");function s(){h(new Y7t)}Zae=Zae||Kc().addAbortListener;let c;a&&(c=Zae(a,s));let l,u,f=[],d=0;function p(C){h(C,--d===0)}function h(C,P){var D;if(C&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=C),!(!l&&!P)){for(;f.length;)f.shift()(l);(D=c)===null||D===void 0||D[j7t](),r.abort(),P&&(l||o.forEach(F=>F()),DR.nextTick(e,l,u))}}let m;for(let C=0;C<t.length;C++){let P=t[C],D=C<t.length-1,F=C>0,H=D||n?.end!==!1,O=C===t.length-1;if(pRe(P)){let M=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(N)};var x=M;if(H){let{destroy:N,cleanup:v}=hRe(P,D,F);f.push(N),Wae(P)&&O&&o.push(v)}P.on("error",M),Wae(P)&&O&&o.push(()=>{P.removeListener("error",M)})}if(C===0)if(typeof P=="function"){if(m=P({signal:i}),!nw(m))throw new qae("Iterable, AsyncIterable or Stream","source",m)}else nw(P)||kH(P)||qE(P)?m=P:m=dRe.from(P);else if(typeof P=="function"){if(qE(m)){var w;m=Xae((w=m)===null||w===void 0?void 0:w.readable)}else m=Xae(m);if(m=P(m,{signal:i}),D){if(!nw(m,!0))throw new qae("AsyncIterable",`transform[${C-1}]`,m)}else{var g;Jae||(Jae=$ae());let M=new Jae({objectMode:!0}),N=(g=m)===null||g===void 0?void 0:g.then;if(typeof N=="function")d++,N.call(m,S=>{u=S,S!=null&&M.write(S),H&&M.end(),DR.nextTick(p)},S=>{M.destroy(S),DR.nextTick(p,S)});else if(nw(m,!0))d++,PH(m,M,p,{end:H});else if(Yae(m)||qE(m)){let S=m.readable||m;d++,PH(S,M,p,{end:H})}else throw new qae("AsyncIterable or Promise","destination",m);m=M;let{destroy:v,cleanup:I}=hRe(m,!1,!0);f.push(v),O&&o.push(I)}}else if(pRe(P)){if(kH(m)){d+=2;let M=iSt(m,P,p,{end:H});Wae(P)&&O&&o.push(M)}else if(qE(m)||Yae(m)){let M=m.readable||m;d++,PH(M,P,p,{end:H})}else if(nw(m))d++,PH(m,P,p,{end:H});else throw new toe("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);m=P}else if(Z7t(P)){if(kH(m))d++,eoe(Xae(m),P,p,{end:H});else if(Yae(m)||nw(m))d++,eoe(m,P,p,{end:H});else if(qE(m))d++,eoe(m.readable,P,p,{end:H});else throw new toe("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);m=P}else m=dRe.from(P)}return(i!=null&&i.aborted||a!=null&&a.aborted)&&DR.nextTick(s),m}function iSt(t,e,n,{end:r}){let i=!1;if(e.on("close",()=>{i||n(new W7t)}),t.pipe(e,{end:!1}),r){let o=function(){i=!0,e.end()};var a=o;X7t(t)?DR.nextTick(o):t.once("end",o)}else n();return MH(t,{readable:!0,writable:!1},o=>{let s=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?t.once("end",n).once("error",n):n(o)}),MH(e,{readable:!1,writable:!0},n)}yRe.exports={pipelineImpl:mRe,pipeline:rSt}});var roe=le((MOn,xRe)=>{"use strict";var{pipeline:aSt}=BH(),DH=dh(),{destroyer:oSt}=Z3(),{isNodeStream:LH,isReadable:bRe,isWritable:gRe,isWebStream:noe,isTransformStream:rw,isWritableStream:wRe,isReadableStream:vRe}=lh(),{AbortError:sSt,codes:{ERR_INVALID_ARG_VALUE:ERe,ERR_MISSING_ARGS:cSt}}=q0(),lSt=h5();xRe.exports=function(...e){if(e.length===0)throw new cSt("streams");if(e.length===1)return DH.from(e[0]);let n=[...e];if(typeof e[0]=="function"&&(e[0]=DH.from(e[0])),typeof e[e.length-1]=="function"){let p=e.length-1;e[p]=DH.from(e[p])}for(let p=0;p<e.length;++p)if(!(!LH(e[p])&&!noe(e[p]))){if(p<e.length-1&&!(bRe(e[p])||vRe(e[p])||rw(e[p])))throw new ERe(`streams[${p}]`,n[p],"must be readable");if(p>0&&!(gRe(e[p])||wRe(e[p])||rw(e[p])))throw new ERe(`streams[${p}]`,n[p],"must be writable")}let r,i,a,o,s;function c(p){let h=o;o=null,h?h(p):p?s.destroy(p):!d&&!f&&s.destroy()}let l=e[0],u=aSt(e,c),f=!!(gRe(l)||wRe(l)||rw(l)),d=!!(bRe(u)||vRe(u)||rw(u));if(s=new DH({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:f,readable:d}),f){if(LH(l))s._write=function(h,m,w){l.write(h,m)?w():r=w},s._final=function(h){l.end(),i=h},l.on("drain",function(){if(r){let h=r;r=null,h()}});else if(noe(l)){let m=(rw(l)?l.writable:l).getWriter();s._write=async function(w,g,x){try{await m.ready,m.write(w).catch(()=>{}),x()}catch(C){x(C)}},s._final=async function(w){try{await m.ready,m.close().catch(()=>{}),i=w}catch(g){w(g)}}}let p=rw(u)?u.readable:u;lSt(p,()=>{if(i){let h=i;i=null,h()}})}if(d){if(LH(u))u.on("readable",function(){if(a){let p=a;a=null,p()}}),u.on("end",function(){s.push(null)}),s._read=function(){for(;;){let p=u.read();if(p===null){a=s._read;return}if(!s.push(p))return}};else if(noe(u)){let h=(rw(u)?u.readable:u).getReader();s._read=async function(){for(;;)try{let{value:m,done:w}=await h.read();if(!s.push(m))return;if(w){s.push(null);return}}catch{return}}}}return s._destroy=function(p,h){!p&&o!==null&&(p=new sSt),a=null,r=null,i=null,o===null?h(p):(o=h,LH(u)&&oSt(u,p))},s}});var PRe=le((BOn,ooe)=>{"use strict";var uSt=globalThis.AbortController||ME().AbortController,{codes:{ERR_INVALID_ARG_VALUE:fSt,ERR_INVALID_ARG_TYPE:LR,ERR_MISSING_ARGS:dSt,ERR_OUT_OF_RANGE:pSt},AbortError:ph}=q0(),{validateAbortSignal:iw,validateInteger:ARe,validateObject:aw}=DE(),hSt=Ea().Symbol("kWeak"),mSt=Ea().Symbol("kResistStopPropagation"),{finished:ySt}=h5(),bSt=roe(),{addAbortSignalNoValidate:gSt}=CR(),{isWritable:wSt,isNodeStream:vSt}=lh(),{deprecate:ESt}=Kc(),{ArrayPrototypePush:xSt,Boolean:ASt,MathFloor:_Re,Number:_St,NumberIsNaN:TSt,Promise:TRe,PromiseReject:SRe,PromiseResolve:SSt,PromisePrototypeThen:CRe,Symbol:RRe}=Ea(),UH=RRe("kEmpty"),IRe=RRe("kEof");function CSt(t,e){if(e!=null&&aw(e,"options"),e?.signal!=null&&iw(e.signal,"options.signal"),vSt(t)&&!wSt(t))throw new fSt("stream",t,"must be writable");let n=bSt(this,t);return e!=null&&e.signal&&gSt(e.signal,n),n}function FH(t,e){if(typeof t!="function")throw new LR("fn",["Function","AsyncFunction"],t);e!=null&&aw(e,"options"),e?.signal!=null&&iw(e.signal,"options.signal");let n=1;e?.concurrency!=null&&(n=_Re(e.concurrency));let r=n-1;return e?.highWaterMark!=null&&(r=_Re(e.highWaterMark)),ARe(n,"options.concurrency",1),ARe(r,"options.highWaterMark",0),r+=n,async function*(){let a=Kc().AbortSignalAny([e?.signal].filter(ASt)),o=this,s=[],c={signal:a},l,u,f=!1,d=0;function p(){f=!0,h()}function h(){d-=1,m()}function m(){u&&!f&&d<n&&s.length<r&&(u(),u=null)}async function w(){try{for await(let g of o){if(f)return;if(a.aborted)throw new ph;try{if(g=t(g,c),g===UH)continue;g=SSt(g)}catch(x){g=SRe(x)}d+=1,CRe(g,h,p),s.push(g),l&&(l(),l=null),!f&&(s.length>=r||d>=n)&&await new TRe(x=>{u=x})}s.push(IRe)}catch(g){let x=SRe(g);CRe(x,h,p),s.push(x)}finally{f=!0,l&&(l(),l=null)}}w();try{for(;;){for(;s.length>0;){let g=await s[0];if(g===IRe)return;if(a.aborted)throw new ph;g!==UH&&(yield g),s.shift(),m()}await new TRe(g=>{l=g})}}finally{f=!0,u&&(u(),u=null)}}.call(this)}function ISt(t=void 0){return t!=null&&aw(t,"options"),t?.signal!=null&&iw(t.signal,"options.signal"),async function*(){let n=0;for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ph({cause:t.signal.reason});yield[n++,i]}}.call(this)}async function ORe(t,e=void 0){for await(let n of aoe.call(this,t,e))return!0;return!1}async function RSt(t,e=void 0){if(typeof t!="function")throw new LR("fn",["Function","AsyncFunction"],t);return!await ORe.call(this,async(...n)=>!await t(...n),e)}async function OSt(t,e){for await(let n of aoe.call(this,t,e))return n}async function NSt(t,e){if(typeof t!="function")throw new LR("fn",["Function","AsyncFunction"],t);async function n(r,i){return await t(r,i),UH}for await(let r of FH.call(this,n,e));}function aoe(t,e){if(typeof t!="function")throw new LR("fn",["Function","AsyncFunction"],t);async function n(r,i){return await t(r,i)?r:UH}return FH.call(this,n,e)}var ioe=class extends dSt{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function PSt(t,e,n){var r;if(typeof t!="function")throw new LR("reducer",["Function","AsyncFunction"],t);n!=null&&aw(n,"options"),n?.signal!=null&&iw(n.signal,"options.signal");let i=arguments.length>1;if(n!=null&&(r=n.signal)!==null&&r!==void 0&&r.aborted){let l=new ph(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await ySt(this.destroy(l)),l}let a=new uSt,o=a.signal;if(n!=null&&n.signal){let l={once:!0,[hSt]:this,[mSt]:!0};n.signal.addEventListener("abort",()=>a.abort(),l)}let s=!1;try{for await(let l of this){var c;if(s=!0,n!=null&&(c=n.signal)!==null&&c!==void 0&&c.aborted)throw new ph;i?e=await t(e,l,{signal:o}):(e=l,i=!0)}if(!s&&!i)throw new ioe}finally{a.abort()}return e}async function kSt(t){t!=null&&aw(t,"options"),t?.signal!=null&&iw(t.signal,"options.signal");let e=[];for await(let r of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ph(void 0,{cause:t.signal.reason});xSt(e,r)}return e}function MSt(t,e){let n=FH.call(this,t,e);return async function*(){for await(let i of n)yield*i}.call(this)}function NRe(t){if(t=_St(t),TSt(t))return 0;if(t<0)throw new pSt("number",">= 0",t);return t}function BSt(t,e=void 0){return e!=null&&aw(e,"options"),e?.signal!=null&&iw(e.signal,"options.signal"),t=NRe(t),async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new ph;for await(let a of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ph;t--<=0&&(yield a)}}.call(this)}function DSt(t,e=void 0){return e!=null&&aw(e,"options"),e?.signal!=null&&iw(e.signal,"options.signal"),t=NRe(t),async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new ph;for await(let a of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ph;if(t-- >0&&(yield a),t<=0)return}}.call(this)}ooe.exports.streamReturningOperators={asIndexedPairs:ESt(ISt,"readable.asIndexedPairs will be removed in a future version."),drop:BSt,filter:aoe,flatMap:MSt,map:FH,take:DSt,compose:CSt};ooe.exports.promiseReturningOperators={every:RSt,forEach:NSt,reduce:PSt,toArray:kSt,some:ORe,find:OSt}});var soe=le((DOn,kRe)=>{"use strict";var{ArrayPrototypePop:LSt,Promise:USt}=Ea(),{isIterable:FSt,isNodeStream:HSt,isWebStream:zSt}=lh(),{pipelineImpl:jSt}=BH(),{finished:GSt}=h5();coe();function VSt(...t){return new USt((e,n)=>{let r,i,a=t[t.length-1];if(a&&typeof a=="object"&&!HSt(a)&&!FSt(a)&&!zSt(a)){let o=LSt(t);r=o.signal,i=o.end}jSt(t,(o,s)=>{o?n(o):e(s)},{signal:r,end:i})})}kRe.exports={finished:GSt,pipeline:VSt}});var coe=le((LOn,jRe)=>{"use strict";var{Buffer:KSt}=rd(),{ObjectDefineProperty:b5,ObjectKeys:DRe,ReflectApply:LRe}=Ea(),{promisify:{custom:URe}}=Kc(),{streamReturningOperators:MRe,promiseReturningOperators:BRe}=PRe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:FRe}}=q0(),$St=roe(),{setDefaultHighWaterMark:qSt,getDefaultHighWaterMark:WSt}=IR(),{pipeline:HRe}=BH(),{destroyer:YSt}=Z3(),zRe=h5(),loe=soe(),UR=lh(),la=jRe.exports=gH().Stream;la.isDestroyed=UR.isDestroyed;la.isDisturbed=UR.isDisturbed;la.isErrored=UR.isErrored;la.isReadable=UR.isReadable;la.isWritable=UR.isWritable;la.Readable=NR();for(let t of DRe(MRe)){let n=function(...r){if(new.target)throw FRe();return la.Readable.from(LRe(e,this,r))},e=MRe[t];b5(n,"name",{__proto__:null,value:e.name}),b5(n,"length",{__proto__:null,value:e.length}),b5(la.Readable.prototype,t,{__proto__:null,value:n,enumerable:!1,configurable:!0,writable:!0})}for(let t of DRe(BRe)){let n=function(...r){if(new.target)throw FRe();return LRe(e,this,r)},e=BRe[t];b5(n,"name",{__proto__:null,value:e.name}),b5(n,"length",{__proto__:null,value:e.length}),b5(la.Readable.prototype,t,{__proto__:null,value:n,enumerable:!1,configurable:!0,writable:!0})}la.Writable=NH();la.Duplex=dh();la.Transform=Vae();la.PassThrough=$ae();la.pipeline=HRe;var{addAbortSignal:JSt}=CR();la.addAbortSignal=JSt;la.finished=zRe;la.destroy=YSt;la.compose=$St;la.setDefaultHighWaterMark=qSt;la.getDefaultHighWaterMark=WSt;b5(la,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return loe}});b5(HRe,URe,{__proto__:null,enumerable:!0,get(){return loe.pipeline}});b5(zRe,URe,{__proto__:null,enumerable:!0,get(){return loe.finished}});la.Stream=la;la._isUint8Array=function(e){return e instanceof Uint8Array};la._uint8ArrayToBuffer=function(e){return KSt.from(e.buffer,e.byteOffset,e.byteLength)}});var hh=le((UOn,To)=>{"use strict";var rs=coe(),QSt=soe(),ZSt=rs.Readable.destroy;To.exports=rs.Readable;To.exports._uint8ArrayToBuffer=rs._uint8ArrayToBuffer;To.exports._isUint8Array=rs._isUint8Array;To.exports.isDisturbed=rs.isDisturbed;To.exports.isErrored=rs.isErrored;To.exports.isReadable=rs.isReadable;To.exports.Readable=rs.Readable;To.exports.Writable=rs.Writable;To.exports.Duplex=rs.Duplex;To.exports.Transform=rs.Transform;To.exports.PassThrough=rs.PassThrough;To.exports.addAbortSignal=rs.addAbortSignal;To.exports.finished=rs.finished;To.exports.destroy=rs.destroy;To.exports.destroy=ZSt;To.exports.pipeline=rs.pipeline;To.exports.compose=rs.compose;Object.defineProperty(rs,"promises",{configurable:!0,enumerable:!0,get(){return QSt}});To.exports.Stream=rs.Stream;To.exports.default=To.exports});function GRe(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function XSt(t){let e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}var VRe,Ol,uoe=B(()=>{VRe=fe(Ps());Ol=class extends VRe.EventEmitter{emit(e,...n){let r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;let s=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw s.context=o,s}let a=i[e];if(a===void 0)return!1;if(typeof a=="function")GRe(a,this,n);else{let o=a.length,s=XSt(a);for(let c=0;c<o;c+=1)GRe(s[c],this,n)}return!0}}});var KRe,Nb,$Re=B(()=>{Qe();KRe=fe(O3()),Nb=class extends Error{constructor({code:e,message:n,data:r}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),K(this,"code",void 0),K(this,"data",void 0),this.code=e,r!==void 0&&(this.data=r)}toString(){return(0,KRe.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}});var is,foe,doe=B(()=>{is={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},foe={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});function QRe(t){return Number.isInteger(t)}function WRe(t){return typeof t=="string"&&t.length>0}function HH(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function ZRe(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function nCt(t){return t>=-32099&&t<=-32e3}function XRe(t){let e=t;return!(!e||!QRe(e.code)||!WRe(e.message)||e.stack&&!WRe(e.stack))}function WE(t,e=eCt){if(QRe(t)){let n=t.toString();if(JRe(foe,n))return foe[n].message;if(nCt(t))return tCt}return e}function poe(t){try{JSON.parse(JSON.stringify(t,(e,n)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof n=="function"||typeof n=="symbol")throw new Error("Not valid json");return n}),(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n})}catch{return!1}return!0}function YRe(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{let r=t[n];return poe(r)&&(e[n]=r),e},{})}function hoe(t){return Array.isArray(t)?t.map(e=>poe(e)?e:HH(e)?YRe(e):null):HH(t)?YRe(t):poe(t)?t:null}function iCt(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(XRe(t))return t;let n=hoe(t);return q(q({},e),{},{data:{cause:n}})}function zH(t,{fallbackError:e=rCt,shouldIncludeStack:n=!0}={}){if(!XRe(e))throw new Error("Must provide fallback error with integer number code and string message.");let r=iCt(t,e);return n||delete r.stack,r}function eOe(t){return HH(t)&&JRe(t,"cause")&&HH(t.cause)}var JRe,qRe,eCt,tCt,rCt,jH=B(()=>{st();doe();JRe=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)},qRe=is.rpc.internal,eCt="Unspecified error message. This is a bug, please report it.",tCt="Unspecified server error.";rCt={code:qRe,message:WE(qRe)}});function oCt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function sCt(t,e){if(e!=="[Circular]")return e}var tOe,aCt,FR,HR,nOe=B(()=>{Qe();tOe=fe(O3());jH();aCt=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};FR=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');eOe(r)?(super(n,{cause:r.cause}),K(this,"cause",void 0),K(this,"code",void 0),K(this,"data",void 0),aCt(this,"cause")||Object.assign(this,{cause:r.cause})):(super(n),K(this,"cause",void 0),K(this,"code",void 0),K(this,"data",void 0)),r!==void 0&&(this.data=r),this.code=e,this.cause=r?.cause}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,ZRe(this.data)&&(e.data.cause=hoe(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,tOe.default)(this.serialize(),{replacer:sCt,space:2})}},HR=class extends FR{constructor(e,n,r){if(!oCt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}});function rOe(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}function od(t,e){let[n,r]=rOe(e);return new FR(t,n??WE(t),r)}function zR(t,e){let[n,r]=rOe(e);return new HR(t,n??WE(t),r)}var Gn,So,moe=B(()=>{nOe();doe();jH();Gn={parse:t=>od(is.rpc.parse,t),invalidRequest:t=>od(is.rpc.invalidRequest,t),invalidParams:t=>od(is.rpc.invalidParams,t),methodNotFound:t=>od(is.rpc.methodNotFound,t),internal:t=>od(is.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return od(e,t)},invalidInput:t=>od(is.rpc.invalidInput,t),resourceNotFound:t=>od(is.rpc.resourceNotFound,t),resourceUnavailable:t=>od(is.rpc.resourceUnavailable,t),transactionRejected:t=>od(is.rpc.transactionRejected,t),methodNotSupported:t=>od(is.rpc.methodNotSupported,t),limitExceeded:t=>od(is.rpc.limitExceeded,t)},So={userRejectedRequest:t=>zR(is.provider.userRejectedRequest,t),unauthorized:t=>zR(is.provider.unauthorized,t),unsupportedMethod:t=>zR(is.provider.unsupportedMethod,t),disconnected:t=>zR(is.provider.disconnected,t),chainDisconnected:t=>zR(is.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new HR(e,n,r)}}});function N1(t){return(e,n,r,i)=>{let a=t[e.method];return a===void 0?r():typeof a=="function"?a(e,n,r,i):(n.result=a,i())}}function dr(t){return async(e,n,r,i)=>{let a,o=new Promise(u=>{a=u}),s=null,c=!1,l=async()=>{c=!0,r(u=>{s=u,a()}),await o};try{await t(e,n,l),c?(await o,s(null)):i(null)}catch(u){let f=u;s?s(f):i(f)}}}var cCt,iOe=B(()=>{cCt=fe(hh())});function yoe(t){let{message:e="",code:n=-32603,stack:r="Stack trace is not available.",data:i=""}=t,a=parseInt(n?.toString()||"-32603");return{message:e||t?.toString()||WE(a),code:a,stack:r,data:i||e||t?.toString()}}function sd(t){let e=new Y0;return t.forEach(n=>{e.push(n)}),e.asMiddleware()}function Hu(t){let e=new Ol;return e.sendAsync=async n=>{let r=await t.handle(n);if(r.error){typeof r.error=="object"&&Object.keys(r.error).includes("stack")===!1&&(r.error.stack="Stack trace is not available."),Du.error(r.error);let i=zH(r.error,{fallbackError:yoe(r.error),shouldIncludeStack:!0});throw Gn.internal(i)}return r.result},e.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,r)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{let r=q(q({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(r)},e}var lCt,Y0,aOe=B(()=>{st();Qe();lCt=fe(hh());fR();moe();jH();uoe();$Re();Y0=class t extends Ol{constructor(){super(),K(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){let i=[],a=null,o=!1;for(let s of r)if([a,o]=await t._runMiddleware(e,n,s,i),o)break;return[a,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(a=>{let o=c=>{let l=c||n.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),Du.error(l),n.error=zH(l,{shouldIncludeStack:!0,fallbackError:yoe(l)})),a([l,!0])},s=c=>{n.error?o(n.error):(c&&(typeof c!="function"&&o(new Nb({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),a([null,!1]))};try{r(e,n,s,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(let n of e)await new Promise((r,i)=>{n(a=>a?i(a):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new Nb({code:-32603,message:"Response has no error or result for request"});if(!r)throw new Nb({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{let[a,o,s]=await t._runAllMiddleware(e,n,this._middleware);return o?(await t._runReturnHandlers(s),i(a)):r(async c=>{try{await t._runReturnHandlers(s)}catch(l){return c(l)}return c()})}catch(a){return i(a)}}}async _handleBatch(e,n){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise((n,r)=>{this._handle(e,(i,a)=>{i&&a===void 0?r(i):n(a)}).catch(r)})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){let o=new Nb({code:-32603,message:"request must be plain object"});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){let o=new Nb({code:-32603,message:"method must be string"});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}let r=q({},e),i={id:r.id,jsonrpc:r.jsonrpc},a=null;try{await this._processRequest(r,i)}catch(o){a=o}return a&&(delete i.result,i.error||(typeof a=="object"&&Object.keys(a).includes("stack")===!1&&(a.stack="Stack trace is not available."),Du.error(a),i.error=zH(a,{shouldIncludeStack:!0,fallbackError:yoe(a)}))),n(a,i)}async _processRequest(e,n){let[r,i,a]=await t._runAllMiddleware(e,n,this._middleware);if(t._checkForCompletion(e,n,i),await t._runReturnHandlers(a),r)throw r}}});var cOe=le((cNn,sOe)=>{sOe.exports=oOe;function oOe(t,e){if(t&&e)return oOe(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(r){n[r]=t[r]}),n;function n(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];var a=t.apply(this,r),o=r[r.length-1];return typeof a=="function"&&a!==o&&Object.keys(o).forEach(function(s){a[s]=o[s]}),a}}});var VH=le((lNn,boe)=>{var lOe=cOe();boe.exports=lOe(GH);boe.exports.strict=lOe(uOe);GH.proto=GH(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return GH(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return uOe(this)},configurable:!0})});function GH(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function uOe(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}});var goe=le((uNn,dOe)=>{var uCt=VH(),fCt=function(){},dCt=global.Bare?queueMicrotask:process.nextTick.bind(process),pCt=function(t){return t.setHeader&&typeof t.abort=="function"},hCt=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},fOe=function(t,e,n){if(typeof e=="function")return fOe(t,null,e);e||(e={}),n=uCt(n||fCt);var r=t._writableState,i=t._readableState,a=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,s=!1,c=function(){t.writable||l()},l=function(){o=!1,a||n.call(t)},u=function(){a=!1,o||n.call(t)},f=function(w){n.call(t,w?new Error("exited with error code: "+w):null)},d=function(w){n.call(t,w)},p=function(){dCt(h)},h=function(){if(!s){if(a&&!(i&&i.ended&&!i.destroyed))return n.call(t,new Error("premature close"));if(o&&!(r&&r.ended&&!r.destroyed))return n.call(t,new Error("premature close"))}},m=function(){t.req.on("finish",l)};return pCt(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):o&&!r&&(t.on("end",c),t.on("close",c)),hCt(t)&&t.on("exit",f),t.on("end",u),t.on("finish",l),e.error!==!1&&t.on("error",d),t.on("close",p),function(){s=!0,t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("exit",f),t.removeListener("end",u),t.removeListener("error",d),t.removeListener("close",p)}};dOe.exports=fOe});var pOe=le(()=>{});var woe=le((pNn,mOe)=>{var mCt=VH(),yCt=goe(),KH;try{KH=pOe()}catch{}var jR=function(){},bCt=typeof process>"u"?!1:/^v?\.0/.test(process.version),$H=function(t){return typeof t=="function"},gCt=function(t){return!bCt||!KH?!1:(t instanceof(KH.ReadStream||jR)||t instanceof(KH.WriteStream||jR))&&$H(t.close)},wCt=function(t){return t.setHeader&&$H(t.abort)},vCt=function(t,e,n,r){r=mCt(r);var i=!1;t.on("close",function(){i=!0}),yCt(t,{readable:e,writable:n},function(o){if(o)return r(o);i=!0,r()});var a=!1;return function(o){if(!i&&!a){if(a=!0,gCt(t))return t.close(jR);if(wCt(t))return t.abort();if($H(t.destroy))return t.destroy();r(o||new Error("stream was destroyed"))}}},hOe=function(t){t()},ECt=function(t,e){return t.pipe(e)},xCt=function(){var t=Array.prototype.slice.call(arguments),e=$H(t[t.length-1]||jR)&&t.pop()||jR;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n,r=t.map(function(i,a){var o=a<t.length-1,s=a>0;return vCt(i,o,s,function(c){n||(n=c),c&&r.forEach(hOe),!o&&(r.forEach(hOe),e(n))})});return t.reduce(ECt)};mOe.exports=xCt});function YE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function ACt(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function _Ct(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function g5(t,...e){if(!_Ct(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function voe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");YE(t.outputLen),YE(t.blockLen)}function mh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GR(t,e){g5(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var TCt,qH,JE=B(()=>{TCt={number:YE,bool:ACt,bytes:g5,hash:voe,exists:mh,output:GR},qH=TCt});var WH,yOe=B(()=>{WH=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function xoe(t){for(let e=0;e<t.length;e++)t[e]=SCt(t[e])}function w5(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function kb(t){return typeof t=="string"&&(t=w5(t)),g5(t),t}function YH(...t){let e=0;for(let r=0;r<t.length;r++){let i=t[r];g5(i),e+=i.length}let n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let a=t[r];n.set(a,i),i+=a.length}return n}function JH(t){let e=r=>t().update(kb(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function gOe(t){let e=(r,i)=>t(i).update(kb(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function wOe(t=32){if(WH&&typeof WH.getRandomValues=="function")return WH.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var bOe,VR,P1,Eoe,SCt,Pb,gNn,ow=B(()=>{yOe();JE();bOe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),VR=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),P1=(t,e)=>t<<32-e|t>>>e,Eoe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,SCt=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;Pb=class{clone(){return this._cloneInto()}},gNn={}.toString});function CCt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,s,r)}var vOe,EOe,QH,xOe=B(()=>{JE();ow();vOe=(t,e,n)=>t&e^~t&n,EOe=(t,e,n)=>t&e^t&n^e&n,QH=class extends Pb{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=VR(this.buffer)}update(e){mh(this);let{view:n,buffer:r,blockLen:i}=this;e=kb(e);let a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let c=VR(e);for(;i<=a-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mh(this),GR(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:a}=this,{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;CCt(r,i-8,BigInt(this.length*8),a),this.process(r,0);let s=VR(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)s.setUint32(4*f,u[f],a)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:i,finished:a,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%n&&e.buffer.set(r),e}}});var ICt,Mb,Bb,Aoe,ZH,_oe=B(()=>{xOe();ow();ICt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mb=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bb=new Uint32Array(64),Aoe=class extends QH{constructor(){super(64,32,8,!1),this.A=Mb[0]|0,this.B=Mb[1]|0,this.C=Mb[2]|0,this.D=Mb[3]|0,this.E=Mb[4]|0,this.F=Mb[5]|0,this.G=Mb[6]|0,this.H=Mb[7]|0}get(){let{A:e,B:n,C:r,D:i,E:a,F:o,G:s,H:c}=this;return[e,n,r,i,a,o,s,c]}set(e,n,r,i,a,o,s,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Bb[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){let d=Bb[f-15],p=Bb[f-2],h=P1(d,7)^P1(d,18)^d>>>3,m=P1(p,17)^P1(p,19)^p>>>10;Bb[f]=m+Bb[f-7]+h+Bb[f-16]|0}let{A:r,B:i,C:a,D:o,E:s,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=P1(s,6)^P1(s,11)^P1(s,25),p=u+d+vOe(s,c,l)+ICt[f]+Bb[f]|0,m=(P1(r,2)^P1(r,13)^P1(r,22))+EOe(r,i,a)|0;u=l,l=c,c=s,s=o+p|0,o=a,a=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,a,o,s,c,l,u)}roundClean(){Bb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},ZH=JH(()=>new Aoe)});var XH,Toe,AOe=B(()=>{JE();ow();XH=class extends Pb{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,voe(e);let r=kb(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(e){return mh(this),this.iHash.update(e),this}digestInto(e){mh(this),g5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:o,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Toe=(t,e,n)=>new XH(t,e).update(n).digest();Toe.create=(t,e)=>new XH(t,e)});var Roe={};$t(Roe,{abytes:()=>QE,bitGet:()=>BCt,bitLen:()=>MCt,bitMask:()=>KR,bitSet:()=>DCt,bytesToHex:()=>sw,bytesToNumberBE:()=>E5,bytesToNumberLE:()=>tz,concatBytes:()=>ZE,createHmacDrbg:()=>Ioe,ensureBytes:()=>zu,equalBytes:()=>PCt,hexToBytes:()=>cw,hexToNumber:()=>Coe,isBytes:()=>Db,numberToBytesBE:()=>Lb,numberToBytesLE:()=>nz,numberToHexUnpadded:()=>COe,numberToVarBytesBE:()=>NCt,utf8ToBytes:()=>kCt,validateObject:()=>Ub});function Db(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function QE(t){if(!Db(t))throw new Error("Uint8Array expected")}function sw(t){QE(t);let e="";for(let n=0;n<t.length;n++)e+=OCt[t[n]];return e}function COe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Coe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function _Oe(t){if(t>=v5._0&&t<=v5._9)return t-v5._0;if(t>=v5._A&&t<=v5._F)return t-(v5._A-10);if(t>=v5._a&&t<=v5._f)return t-(v5._a-10)}function cw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){let o=_Oe(t.charCodeAt(a)),s=_Oe(t.charCodeAt(a+1));if(o===void 0||s===void 0){let c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[i]=o*16+s}return r}function E5(t){return Coe(sw(t))}function tz(t){return QE(t),Coe(sw(Uint8Array.from(t).reverse()))}function Lb(t,e){return cw(t.toString(16).padStart(e*2,"0"))}function nz(t,e){return Lb(t,e).reverse()}function NCt(t){return cw(COe(t))}function zu(t,e,n){let r;if(typeof e=="string")try{r=cw(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(Db(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function ZE(...t){let e=0;for(let r=0;r<t.length;r++){let i=t[r];QE(i),e+=i.length}let n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let a=t[r];n.set(a,i),i+=a.length}return n}function PCt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function kCt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function MCt(t){let e;for(e=0;t>SOe;t>>=ez,e+=1);return e}function BCt(t,e){return t>>BigInt(e)&ez}function DCt(t,e,n){return t|(n?ez:SOe)<<BigInt(e)}function Ioe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Soe(t),i=Soe(t),a=0,o=()=>{r.fill(1),i.fill(0),a=0},s=(...f)=>n(i,r,...f),c=(f=Soe())=>{i=s(TOe([0]),f),r=s(),f.length!==0&&(i=s(TOe([1]),f),r=s())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<e;){r=s();let p=r.slice();d.push(p),f+=r.length}return ZE(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(l()));)c();return o(),p}}function Ub(t,e,n={}){let r=(i,a,o)=>{let s=LCt[a];if(typeof s!="function")throw new Error(`Invalid validator "${a}", expected function`);let c=t[i];if(!(o&&c===void 0)&&!s(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${a}`)};for(let[i,a]of Object.entries(e))r(i,a,!1);for(let[i,a]of Object.entries(n))r(i,a,!0);return t}var SOe,ez,RCt,OCt,v5,KR,Soe,TOe,LCt,$R=B(()=>{SOe=BigInt(0),ez=BigInt(1),RCt=BigInt(2);OCt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));v5={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};KR=t=>(RCt<<BigInt(t-1))-ez,Soe=t=>new Uint8Array(t),TOe=t=>Uint8Array.from(t);LCt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Db(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function J0(t,e){let n=t%e;return n>=as?n:e+n}function zCt(t,e,n){if(n<=as||e<as)throw new Error("Expected power/modulo > 0");if(n===eo)return as;let r=eo;for(;e>as;)e&eo&&(r=r*t%n),t=t*t%n,e>>=eo;return r}function ju(t,e,n){let r=t;for(;e-- >as;)r*=r,r%=n;return r}function rz(t,e){if(t===as||e<=as)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=J0(t,e),r=e,i=as,a=eo,o=eo,s=as;for(;n!==as;){let l=r/n,u=r%n,f=i-o*l,d=a-s*l;r=n,n=u,i=o,a=s,o=f,s=d}if(r!==eo)throw new Error("invert: does not exist");return J0(i,e)}function jCt(t){let e=(t-eo)/lw,n,r,i;for(n=t-eo,r=0;n%lw===as;n/=lw,r++);for(i=lw;i<t&&zCt(i,e,t)!==t-eo;i++);if(r===1){let o=(t+eo)/Ooe;return function(c,l){let u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let a=(n+eo)/lw;return function(s,c){if(s.pow(c,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,u=s.pow(s.mul(s.ONE,i),n),f=s.pow(c,a),d=s.pow(c,n);for(;!s.eql(d,s.ONE);){if(s.eql(d,s.ZERO))return s.ZERO;let p=1;for(let m=s.sqr(d);p<l&&!s.eql(m,s.ONE);p++)m=s.sqr(m);let h=s.pow(u,eo<<BigInt(l-p-1));u=s.sqr(h),f=s.mul(f,h),d=s.mul(d,u),l=p}return f}}function GCt(t){if(t%Ooe===UCt){let e=(t+eo)/Ooe;return function(r,i){let a=r.pow(i,e);if(!r.eql(r.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%ROe===IOe){let e=(t-IOe)/ROe;return function(r,i){let a=r.mul(i,lw),o=r.pow(a,e),s=r.mul(i,o),c=r.mul(r.mul(s,lw),o),l=r.mul(s,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%HCt,jCt(t)}function Noe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=VCt.reduce((r,i)=>(r[i]="function",r),e);return Ub(t,n)}function KCt(t,e,n){if(n<as)throw new Error("Expected power > 0");if(n===as)return t.ONE;if(n===eo)return e;let r=t.ONE,i=e;for(;n>as;)n&eo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=eo;return r}function $Ct(t,e){let n=new Array(e.length),r=e.reduce((a,o,s)=>t.is0(o)?a:(n[s]=a,t.mul(a,o)),t.ONE),i=t.inv(r);return e.reduceRight((a,o,s)=>t.is0(o)?a:(n[s]=t.mul(a,n[s]),t.mul(a,o)),i),n}function Poe(t,e){let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function OOe(t,e,n=!1,r={}){if(t<=as)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:a}=Poe(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=GCt(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:KR(i),ZERO:as,ONE:eo,create:c=>J0(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return as<=c&&c<t},is0:c=>c===as,isOdd:c=>(c&eo)===eo,neg:c=>J0(-c,t),eql:(c,l)=>c===l,sqr:c=>J0(c*c,t),add:(c,l)=>J0(c+l,t),sub:(c,l)=>J0(c-l,t),mul:(c,l)=>J0(c*l,t),pow:(c,l)=>KCt(s,c,l),div:(c,l)=>J0(c*rz(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>rz(c,t),sqrt:r.sqrt||(c=>o(s,c)),invertBatch:c=>$Ct(s,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?nz(c,a):Lb(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return n?tz(c):E5(c)}});return Object.freeze(s)}function NOe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function koe(t){let e=NOe(t);return e+Math.ceil(e/2)}function POe(t,e,n=!1){let r=t.length,i=NOe(e),a=koe(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);let o=n?E5(t):tz(t),s=J0(o,e-eo)+eo;return n?nz(s,i):Lb(s,i)}var as,eo,lw,UCt,Ooe,IOe,ROe,FCt,HCt,VCt,iz=B(()=>{$R();as=BigInt(0),eo=BigInt(1),lw=BigInt(2),UCt=BigInt(3),Ooe=BigInt(4),IOe=BigInt(5),ROe=BigInt(8),FCt=BigInt(9),HCt=BigInt(16);VCt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function kOe(t,e){let n=(i,a)=>{let o=a.negate();return i?o:a},r=i=>{let a=Math.ceil(e/i)+1,o=2**(i-1);return{windows:a,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,a){let o=t.ZERO,s=i;for(;a>WCt;)a&Moe&&(o=o.add(s)),s=s.double(),a>>=Moe;return o},precomputeWindow(i,a){let{windows:o,windowSize:s}=r(a),c=[],l=i,u=l;for(let f=0;f<o;f++){u=l,c.push(u);for(let d=1;d<s;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,a,o){let{windows:s,windowSize:c}=r(i),l=t.ZERO,u=t.BASE,f=BigInt(2**i-1),d=2**i,p=BigInt(i);for(let h=0;h<s;h++){let m=h*c,w=Number(o&f);o>>=p,w>c&&(w-=d,o+=Moe);let g=m,x=m+Math.abs(w)-1,C=h%2!==0,P=w<0;w===0?u=u.add(n(C,a[g])):l=l.add(n(P,a[x]))}return{p:l,f:u}},wNAFCached(i,a,o,s){let c=i._WINDOW_SIZE||1,l=a.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&a.set(i,s(l))),this.wNAF(c,l,o)}}}function Boe(t){return Noe(t.Fp),Ub(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Poe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var WCt,Moe,MOe=B(()=>{iz();$R();WCt=BigInt(0),Moe=BigInt(1)});function YCt(t){let e=Boe(t);Ub(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}function ZCt(t){let e=YCt(t),{Fp:n}=e,r=e.toBytes||((h,m,w)=>{let g=m.toAffine();return ZE(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),i=e.fromBytes||(h=>{let m=h.subarray(1),w=n.fromBytes(m.subarray(0,n.BYTES)),g=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:w,y:g}});function a(h){let{a:m,b:w}=e,g=n.sqr(h),x=n.mul(g,h);return n.add(n.add(x,n.mul(h,m)),w)}if(!n.eql(n.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function o(h){return typeof h=="bigint"&&x5<h&&h<e.n}function s(h){if(!o(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){let{allowedPrivateKeyLengths:m,nByteLength:w,wrapPrivateKey:g,n:x}=e;if(m&&typeof h!="bigint"){if(Db(h)&&(h=sw(h)),typeof h!="string"||!m.includes(h.length))throw new Error("Invalid key");h=h.padStart(w*2,"0")}let C;try{C=typeof h=="bigint"?h:E5(zu("private key",h,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof h}`)}return g&&(C=J0(C,x)),s(C),C}let l=new Map;function u(h){if(!(h instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,w,g){if(this.px=m,this.py=w,this.pz=g,m==null||!n.isValid(m))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(m){let{x:w,y:g}=m||{};if(!m||!n.isValid(w)||!n.isValid(g))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");let x=C=>n.eql(C,n.ZERO);return x(w)&&x(g)?f.ZERO:new f(w,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let w=n.invertBatch(m.map(g=>g.pz));return m.map((g,x)=>g.toAffine(w[x])).map(f.fromAffine)}static fromHex(m){let w=f.fromAffine(i(zu("pointHex",m)));return w.assertValidity(),w}static fromPrivateKey(m){return f.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:m,y:w}=this.toAffine();if(!n.isValid(m)||!n.isValid(w))throw new Error("bad point: x or y not FE");let g=n.sqr(w),x=a(m);if(!n.eql(g,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);let{px:w,py:g,pz:x}=this,{px:C,py:P,pz:D}=m,F=n.eql(n.mul(w,D),n.mul(C,x)),H=n.eql(n.mul(g,D),n.mul(P,x));return F&&H}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){let{a:m,b:w}=e,g=n.mul(w,BOe),{px:x,py:C,pz:P}=this,D=n.ZERO,F=n.ZERO,H=n.ZERO,O=n.mul(x,x),M=n.mul(C,C),N=n.mul(P,P),v=n.mul(x,C);return v=n.add(v,v),H=n.mul(x,P),H=n.add(H,H),D=n.mul(m,H),F=n.mul(g,N),F=n.add(D,F),D=n.sub(M,F),F=n.add(M,F),F=n.mul(D,F),D=n.mul(v,D),H=n.mul(g,H),N=n.mul(m,N),v=n.sub(O,N),v=n.mul(m,v),v=n.add(v,H),H=n.add(O,O),O=n.add(H,O),O=n.add(O,N),O=n.mul(O,v),F=n.add(F,O),N=n.mul(C,P),N=n.add(N,N),O=n.mul(N,v),D=n.sub(D,O),H=n.mul(N,M),H=n.add(H,H),H=n.add(H,H),new f(D,F,H)}add(m){u(m);let{px:w,py:g,pz:x}=this,{px:C,py:P,pz:D}=m,F=n.ZERO,H=n.ZERO,O=n.ZERO,M=e.a,N=n.mul(e.b,BOe),v=n.mul(w,C),I=n.mul(g,P),S=n.mul(x,D),y=n.add(w,g),b=n.add(C,P);y=n.mul(y,b),b=n.add(v,I),y=n.sub(y,b),b=n.add(w,x);let _=n.add(C,D);return b=n.mul(b,_),_=n.add(v,S),b=n.sub(b,_),_=n.add(g,x),F=n.add(P,D),_=n.mul(_,F),F=n.add(I,S),_=n.sub(_,F),O=n.mul(M,b),F=n.mul(N,S),O=n.add(F,O),F=n.sub(I,O),O=n.add(I,O),H=n.mul(F,O),I=n.add(v,v),I=n.add(I,v),S=n.mul(M,S),b=n.mul(N,b),I=n.add(I,S),S=n.sub(v,S),S=n.mul(M,S),b=n.add(b,S),v=n.mul(I,b),H=n.add(H,v),v=n.mul(_,b),F=n.mul(y,F),F=n.sub(F,v),v=n.mul(y,I),O=n.mul(_,O),O=n.add(O,v),new f(F,H,O)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,l,m,w=>{let g=n.invertBatch(w.map(x=>x.pz));return w.map((x,C)=>x.toAffine(g[C])).map(f.fromAffine)})}multiplyUnsafe(m){let w=f.ZERO;if(m===x5)return w;if(s(m),m===cd)return this;let{endo:g}=e;if(!g)return p.unsafeLadder(this,m);let{k1neg:x,k1:C,k2neg:P,k2:D}=g.splitScalar(m),F=w,H=w,O=this;for(;C>x5||D>x5;)C&cd&&(F=F.add(O)),D&cd&&(H=H.add(O)),O=O.double(),C>>=cd,D>>=cd;return x&&(F=F.negate()),P&&(H=H.negate()),H=new f(n.mul(H.px,g.beta),H.py,H.pz),F.add(H)}multiply(m){s(m);let w=m,g,x,{endo:C}=e;if(C){let{k1neg:P,k1:D,k2neg:F,k2:H}=C.splitScalar(w),{p:O,f:M}=this.wNAF(D),{p:N,f:v}=this.wNAF(H);O=p.constTimeNegate(P,O),N=p.constTimeNegate(F,N),N=new f(n.mul(N.px,C.beta),N.py,N.pz),g=O.add(N),x=M.add(v)}else{let{p:P,f:D}=this.wNAF(w);g=P,x=D}return f.normalizeZ([g,x])[0]}multiplyAndAddUnsafe(m,w,g){let x=f.BASE,C=(D,F)=>F===x5||F===cd||!D.equals(x)?D.multiplyUnsafe(F):D.multiply(F),P=C(this,w).add(C(m,g));return P.is0()?void 0:P}toAffine(m){let{px:w,py:g,pz:x}=this,C=this.is0();m==null&&(m=C?n.ONE:n.inv(x));let P=n.mul(w,m),D=n.mul(g,m),F=n.mul(x,m);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(F,n.ONE))throw new Error("invZ was invalid");return{x:P,y:D}}isTorsionFree(){let{h:m,isTorsionFree:w}=e;if(m===cd)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:w}=e;return m===cd?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(f,this,m)}toHex(m=!0){return sw(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);let d=e.nBitLength,p=kOe(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:o}}function XCt(t){let e=Boe(t);return Ub(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function DOe(t){let e=XCt(t),{Fp:n,n:r}=e,i=n.BYTES+1,a=2*n.BYTES+1;function o(b){return x5<b&&b<n.ORDER}function s(b){return J0(b,r)}function c(b){return rz(b,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=ZCt({...e,toBytes(b,_,A){let T=_.toAffine(),E=n.toBytes(T.x),k=ZE;return A?k(Uint8Array.from([_.hasEvenY()?2:3]),E):k(Uint8Array.from([4]),E,n.toBytes(T.y))},fromBytes(b){let _=b.length,A=b[0],T=b.subarray(1);if(_===i&&(A===2||A===3)){let E=E5(T);if(!o(E))throw new Error("Point is not on curve");let k=f(E),L;try{L=n.sqrt(k)}catch(j){let z=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+z)}let R=(L&cd)===cd;return(A&1)===1!==R&&(L=n.neg(L)),{x:E,y:L}}else if(_===a&&A===4){let E=n.fromBytes(T.subarray(0,n.BYTES)),k=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:E,y:k}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),p=b=>sw(Lb(b,e.nByteLength));function h(b){let _=r>>cd;return b>_}function m(b){return h(b)?s(-b):b}let w=(b,_,A)=>E5(b.slice(_,A));class g{constructor(_,A,T){this.r=_,this.s=A,this.recovery=T,this.assertValidity()}static fromCompact(_){let A=e.nByteLength;return _=zu("compactSignature",_,A*2),new g(w(_,0,A),w(_,A,2*A))}static fromDER(_){let{r:A,s:T}=uw.toSig(zu("DER",_));return new g(A,T)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new g(this.r,this.s,_)}recoverPublicKey(_){let{r:A,s:T,recovery:E}=this,k=H(zu("msgHash",_));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");let L=E===2||E===3?A+e.n:A;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let R=(E&1)===0?"02":"03",U=l.fromHex(R+p(L)),j=c(L),z=s(-k*j),V=s(T*j),$=l.BASE.multiplyAndAddUnsafe(U,z,V);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return cw(this.toDERHex())}toDERHex(){return uw.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return cw(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let x={isValidPrivateKey(b){try{return u(b),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let b=koe(e.n);return POe(e.randomBytes(b),e.n)},precompute(b=8,_=l.BASE){return _._setWindowSize(b),_.multiply(BigInt(3)),_}};function C(b,_=!0){return l.fromPrivateKey(b).toRawBytes(_)}function P(b){let _=Db(b),A=typeof b=="string",T=(_||A)&&b.length;return _?T===i||T===a:A?T===2*i||T===2*a:b instanceof l}function D(b,_,A=!0){if(P(b))throw new Error("first arg must be private key");if(!P(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(u(b)).toRawBytes(A)}let F=e.bits2int||function(b){let _=E5(b),A=b.length*8-e.nBitLength;return A>0?_>>BigInt(A):_},H=e.bits2int_modN||function(b){return s(F(b))},O=KR(e.nBitLength);function M(b){if(typeof b!="bigint")throw new Error("bigint expected");if(!(x5<=b&&b<O))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Lb(b,e.nByteLength)}function N(b,_,A=v){if(["recovered","canonical"].some(J=>J in A))throw new Error("sign() legacy options not supported");let{hash:T,randomBytes:E}=e,{lowS:k,prehash:L,extraEntropy:R}=A;k==null&&(k=!0),b=zu("msgHash",b),L&&(b=zu("prehashed msgHash",T(b)));let U=H(b),j=u(_),z=[M(j),M(U)];if(R!=null&&R!==!1){let J=R===!0?E(n.BYTES):R;z.push(zu("extraEntropy",J))}let V=ZE(...z),$=U;function W(J){let X=F(J);if(!d(X))return;let te=c(X),ne=l.BASE.multiply(X).toAffine(),ue=s(ne.x);if(ue===x5)return;let ce=s(te*s($+ue*j));if(ce===x5)return;let oe=(ne.x===ue?0:2)|Number(ne.y&cd),xe=ce;return k&&h(ce)&&(xe=m(ce),oe^=1),new g(ue,xe,oe)}return{seed:V,k2sig:W}}let v={lowS:e.lowS,prehash:!1},I={lowS:e.lowS,prehash:!1};function S(b,_,A=v){let{seed:T,k2sig:E}=N(b,_,A),k=e;return Ioe(k.hash.outputLen,k.nByteLength,k.hmac)(T,E)}l.BASE._setWindowSize(8);function y(b,_,A,T=I){let E=b;if(_=zu("msgHash",_),A=zu("publicKey",A),"strict"in T)throw new Error("options.strict was renamed to lowS");let{lowS:k,prehash:L}=T,R,U;try{if(typeof E=="string"||Db(E))try{R=g.fromDER(E)}catch(ne){if(!(ne instanceof uw.Err))throw ne;R=g.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){let{r:ne,s:ue}=E;R=new g(ne,ue)}else throw new Error("PARSE");U=l.fromHex(A)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(k&&R.hasHighS())return!1;L&&(_=e.hash(_));let{r:j,s:z}=R,V=H(_),$=c(z),W=s(V*$),J=s(j*$),X=l.BASE.multiplyAndAddUnsafe(U,W,J)?.toAffine();return X?s(X.x)===j:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:D,sign:S,verify:y,ProjectivePoint:l,Signature:g,utils:x}}var JCt,QCt,uw,x5,cd,DNn,BOe,LNn,LOe=B(()=>{MOe();iz();$R();$R();({bytesToNumberBE:JCt,hexToBytes:QCt}=Roe),uw={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=uw;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:JCt(r),l:t.subarray(n+2)}},toSig(t){let{Err:e}=uw,n=typeof t=="string"?QCt(t):t;QE(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");let{d:i,l:a}=uw._parseInt(n.subarray(2)),{d:o,l:s}=uw._parseInt(a);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),a=r.length/2,o=i.length/2,s=n(a),c=n(o);return`30${n(o+a+4)}02${c}${i}02${s}${r}`}},x5=BigInt(0),cd=BigInt(1),DNn=BigInt(2),BOe=BigInt(3),LNn=BigInt(4)});function eIt(t){return{hash:t,hmac:(e,...n)=>Toe(t,e,YH(...n)),randomBytes:wOe}}function UOe(t,e){let n=r=>DOe({...t,...eIt(r)});return Object.freeze({...n(e),create:n})}var FOe=B(()=>{AOe();ow();LOe();});function nIt(t){let e=jOe,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=ju(u,n,e)*u%e,d=ju(f,n,e)*u%e,p=ju(d,Doe,e)*l%e,h=ju(p,i,e)*p%e,m=ju(h,a,e)*h%e,w=ju(m,s,e)*m%e,g=ju(w,c,e)*w%e,x=ju(g,s,e)*m%e,C=ju(x,n,e)*u%e,P=ju(C,o,e)*h%e,D=ju(P,r,e)*l%e,F=ju(D,Doe,e);if(!Loe.eql(Loe.sqr(F),t))throw new Error("Cannot find square root");return F}var jOe,HOe,tIt,Doe,zOe,Loe,yh,$Nn,qNn,GOe=B(()=>{_oe();FOe();iz();jOe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),HOe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tIt=BigInt(1),Doe=BigInt(2),zOe=(t,e)=>(t+e/Doe)/e;Loe=OOe(jOe,void 0,void 0,{sqrt:nIt}),yh=UOe({a:BigInt(0),b:BigInt(7),Fp:Loe,n:HOe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=HOe,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-tIt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),s=zOe(a*t,e),c=zOe(-r*t,e),l=J0(t-s*n-c*i,e),u=J0(-s*r-c*a,e),f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},ZH),$Nn=BigInt(0),qNn=yh.ProjectivePoint});var az=B(()=>{GOe()});var VOe=B(()=>{});function fw(t){return e=>(qH.bytes(e),t(e))}var XNn,ePn,tPn,XE=B(()=>{JE();ow();XNn=qH.bool,ePn=qH.bytes;tPn=(()=>{let t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})()});function os(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}function qR(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}var Si,dw=B(()=>{Nl();Si=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return os(t)?t.slice(2):t}});var Uoe,ex,$Oe,oz=B(()=>{dw();Uoe=function(t){if(!os(t)){let e=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(e)}},ex=function(t){if(!(t instanceof Uint8Array)){let e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}},$Oe=function(t){if(typeof t!="string"){let e=`This method only supports strings but input was: ${t}`;throw new Error(e)}}});function YOe(t){let e=t.length,n=new Uint8Array(e/2);for(let r=0;r<e;r+=2)n[r/2]=Foe[t[r]]+Hoe[t[r+1]];return n}var WOe,Foe,Hoe,iIt,aIt,Pl,zoe,k1,A5,oIt,pw,bh,hw,WR,YR,qt,mw,sz,Nl=B(()=>{VOe();XE();oz();dw();XE();WOe=BigInt(0),Foe={},Hoe={};for(let t=0;t<16;t++){let e=t,n=t*16,r=t.toString(16).toLowerCase();Hoe[r]=e,Hoe[r.toUpperCase()]=e,Foe[r]=n,Foe[r.toUpperCase()]=n}iIt=t=>{if(t.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return YOe(qR(t))},aIt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),Pl=t=>{let e="0x";if(t===void 0||t.length===0)return e;for(let n of t)e=`${e}${aIt[n]}`;return e},zoe=[];for(let t=0;t<=256*256-1;t++)zoe[t]=BigInt(t);k1=(t,e=!1)=>{e&&t.reverse();let n=Pl(t);return n==="0x"?WOe:n.length===4?zoe[t[0]]:n.length===6?zoe[t[0]*256+t[1]]:BigInt(n)},A5=t=>{if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);let e=t.slice(2);return YOe(e.length%2===0?e:qR(e))},oIt=t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},pw=t=>{let e=oIt(t);return A5(e)},bh=(t,e=!1)=>{let n=hw(`0x${qR(t.toString(16))}`);return e?n.reverse():n},hw=t=>{if(t==null)return new Uint8Array;if(Array.isArray(t)||t instanceof Uint8Array)return Uint8Array.from(t);if(typeof t=="string"){if(!os(t))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${t}`);return A5(t)}if(typeof t=="number")return pw(t);if(typeof t=="bigint"){if(t<WOe)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),iIt(e)}if(t.toBytes!==void 0)return t.toBytes();throw new Error("invalid type")},WR=t=>BigInt.asIntN(256,k1(t)),YR=t=>bh(BigInt.asUintN(256,t)),qt=t=>typeof t!="string"||os(t)?t:`0x${t}`,mw=t=>`0x${t.toString(16)}`,sz=(...t)=>{if(t.length===1)return t[0];let e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let a=t[r];n.set(a,i),i+=a.length}return n}});var wPn,vPn,EPn,sIt,cIt,xPn,lIt,uIt,fIt,APn,dIt,pIt,_Pn,TPn,tx,JOe,joe,SPn,CPn,IPn,hIt,RPn,OPn,NPn,PPn,kPn,MPn,mIt,BPn,DPn,LPn,UPn,FPn,HPn,zPn,jPn,Fb=B(()=>{az();Nl();wPn=BigInt("0xffffffffffffffff"),vPn=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),EPn=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),sIt=yh.CURVE.n,cIt=yh.CURVE.n/BigInt(2),xPn=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),lIt="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",uIt=A5(lIt),fIt="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",APn=A5(fIt),dIt="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",pIt=A5(dIt),_Pn=Uint8Array.from([128]),TPn=BigInt(-1),tx=BigInt(0),JOe=BigInt(1),joe=BigInt(2),SPn=BigInt(3),CPn=BigInt(7),IPn=BigInt(8),hIt=BigInt(27),RPn=BigInt(28),OPn=BigInt(31),NPn=BigInt(32),PPn=BigInt(64),kPn=BigInt(128),MPn=BigInt(255),mIt=BigInt(256),BPn=BigInt(96),DPn=BigInt(100),LPn=BigInt(160),UPn=BigInt(224),FPn=BigInt(7922816251426434e13),HPn=BigInt(1461501637330903e33),zPn=BigInt(2695994666715064e52),jPn=joe**mIt});var KPn,QOe=B(()=>{Fb();KPn=BigInt(1e9)});var qPn,Goe=B(()=>{qPn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"))});function yIt(t,e=!1){return e?{h:Number(t&cz),l:Number(t>>ZOe&cz)}:{h:Number(t>>ZOe&cz)|0,l:Number(t&cz)|0}}function XOe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:a,l:o}=yIt(t[i],e);[n[i],r[i]]=[a,o]}return[n,r]}var cz,ZOe,eNe,tNe,nNe,rNe,iNe=B(()=>{cz=BigInt(4294967295),ZOe=BigInt(32);eNe=(t,e,n)=>t<<n|e>>>32-n,tNe=(t,e,n)=>e<<n|t>>>32-n,nNe=(t,e,n)=>e<<n-32|t>>>64-n,rNe=(t,e,n)=>t<<n-32|e>>>64-n});function _It(t,e=24){let n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let s=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=aNe(l,u,1)^n[s],d=oNe(l,u,1)^n[s+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let i=t[2],a=t[3];for(let o=0;o<24;o++){let s=cNe[o],c=aNe(i,a,s),l=oNe(i,a,s),u=sNe[o];i=t[u],a=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let s=0;s<10;s++)n[s]=t[o+s];for(let s=0;s<10;s++)t[o+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=xIt[r],t[1]^=AIt[r]}n.fill(0)}var sNe,cNe,lNe,bIt,JR,gIt,wIt,vIt,EIt,xIt,AIt,aNe,oNe,lz,Hb,XPn,ekn,tkn,nkn,uNe,Voe,fNe,dNe,pNe,rkn,ikn,hNe=B(()=>{JE();iNe();ow();sNe=[],cNe=[],lNe=[],bIt=BigInt(0),JR=BigInt(1),gIt=BigInt(2),wIt=BigInt(7),vIt=BigInt(256),EIt=BigInt(113);for(let t=0,e=JR,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],sNe.push(2*(5*r+n)),cNe.push((t+1)*(t+2)/2%64);let i=bIt;for(let a=0;a<7;a++)e=(e<<JR^(e>>wIt)*EIt)%vIt,e&gIt&&(i^=JR<<(JR<<BigInt(a))-JR);lNe.push(i)}[xIt,AIt]=XOe(lNe,!0),aNe=(t,e,n)=>n>32?nNe(t,e,n):eNe(t,e,n),oNe=(t,e,n)=>n>32?rNe(t,e,n):tNe(t,e,n);lz=class t extends Pb{constructor(e,n,r,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,YE(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=bOe(this.state)}keccak(){Eoe||xoe(this.state32),_It(this.state32,this.rounds),Eoe||xoe(this.state32),this.posOut=0,this.pos=0}update(e){mh(this);let{blockLen:n,state:r}=this;e=kb(e);let i=e.length;for(let a=0;a<i;){let o=Math.min(n-this.pos,i-a);for(let s=0;s<o;s++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){mh(this,!1),g5(e),this.finish();let n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return YE(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(GR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:o}=this;return e||(e=new t(n,r,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}},Hb=(t,e,n)=>JH(()=>new lz(e,t,n)),XPn=Hb(6,144,224/8),ekn=Hb(6,136,256/8),tkn=Hb(6,104,384/8),nkn=Hb(6,72,512/8),uNe=Hb(1,144,224/8),Voe=Hb(1,136,256/8),fNe=Hb(1,104,384/8),dNe=Hb(1,72,512/8),pNe=(t,e,n)=>gOe((r={})=>new lz(e,t,r.dkLen===void 0?n:r.dkLen,!0)),rkn=pNe(31,168,128/8),ikn=pNe(31,136,256/8)});var ckn,QR,lkn,ukn,Koe=B(()=>{hNe();XE();ckn=fw(uNe),QR=(()=>{let t=fw(Voe);return t.create=Voe.create,t})(),lkn=fw(fNe),ukn=fw(dNe)});var zb,uz,mNe,IIt,$oe,qoe,Ekn,Woe=B(()=>{Goe();Koe();az();Nl();Fb();oz();dw();zb=function(t){try{$Oe(t)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)},uz=function(t,e){Uoe(t);let n=Si(t).toLowerCase(),r="";e!==void 0&&(r=k1(hw(e)).toString()+"0x");let i=w5(r+n),a=Pl(QR(i)).slice(2),o="";for(let s=0;s<n.length;s++)parseInt(a[s],16)>=8?o+=n[s].toUpperCase():o+=n[s];return`0x${o}`},mNe=function(t,e=!1){if(ex(t),e&&t.length!==64&&(t=yh.ProjectivePoint.fromHex(t).toRawBytes(!1).slice(1)),t.length!==64)throw new Error("Expected pubKey to be of length 64");return QR(t).subarray(-20)},IIt=mNe,$oe=function(t){return ex(t),yh.ProjectivePoint.fromPrivateKey(t).toRawBytes(!1).slice(1)},qoe=function(t){return IIt($oe(t))},Ekn=new Uint8Array(0)});var Yoe=B(()=>{Woe();Nl();Fb()});var yNe,bNe,gNe=B(()=>{(function(t){t.String="string",t.Bytes="view",t.Number="number"})(yNe||(yNe={}));(function(t){t.String="string",t.Bytes="view",t.JSON="json"})(bNe||(bNe={}))});var Joe,Qoe=B(()=>{Nl();dw();(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(Joe||(Joe={}))});var wNe=B(()=>{Yoe();Nl();Fb();Qoe()});function nx(t,e,n){let r=yh.sign(t,e),i=r.toCompactRawBytes(),a=i.slice(0,32),o=i.slice(32,64),s=n===void 0?BigInt(r.recovery+27):BigInt(r.recovery+35)+BigInt(n)*joe;return{r:a,s:o,v:s}}var fz,vNe=B(()=>{Koe();az();Nl();Fb();oz();fz=function(t){ex(t);let e=w5(`Ethereum Signed Message:
${t.length}`);return QR(sz(e,t))}});var OIt,ENe=B(()=>{OIt=fe(Ps(),1)});var NIt,xNe=B(()=>{_oe();XE();NIt=fw(ZH)});var PIt,ANe,kIt,MIt,Zkn,Xkn,_Ne=B(()=>{xNe();Nl();PIt=32,ANe=4096,kIt=32*ANe,MIt=2,Zkn=kIt*MIt-1,Xkn=PIt*ANe});var TNe=B(()=>{Nl();dw()});var SNe=B(()=>{});var CNe=B(()=>{});var INe=B(()=>{Nl()});var RNe=B(()=>{});var ONe,NNe=B(()=>{Goe();XE();Nl();Fb();(function(t){t[t.Deposit=0]="Deposit",t[t.Withdrawal=1]="Withdrawal",t[t.Consolidation=2]="Consolidation"})(ONe||(ONe={}))});var yw,gMn,wMn,vMn,EMn,xMn,AMn,PNe=B(()=>{Nl();(function(t){t[t.Version=0]="Version",t[t.Balance=1]="Balance",t[t.Nonce=2]="Nonce",t[t.CodeHash=3]="CodeHash",t[t.CodeSize=4]="CodeSize"})(yw||(yw={}));gMn=pw(yw.Version),wMn=pw(yw.Balance),vMn=pw(yw.Nonce),EMn=pw(yw.CodeHash),xMn=pw(yw.CodeSize),AMn=BigInt(256)**BigInt(31)});var $c=B(()=>{Fb();QOe();Woe();Yoe();gNe();wNe();vNe();Nl();Qoe();ENe();_Ne();TNe();dw();SNe();CNe();INe();RNe();NNe();PNe()});var Zi=B(()=>{l5();ESe();Die();_Se();uoe();moe();iOe();aOe();Lie();QF();_R()});var ZR,kNe=B(()=>{st();Qe();Zi();ZR=class extends Ol{constructor({config:e={},state:n={}}){super(),K(this,"defaultConfig",{}),K(this,"defaultState",{}),K(this,"disabled",!1),K(this,"name","BaseController"),K(this,"initialConfig",void 0),K(this,"initialState",void 0),K(this,"internalConfig",this.defaultConfig),K(this,"internalState",this.defaultState),this.initialState=n,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,n=!1,r=!0){if(r){this.internalConfig=n?e:Object.assign(this.internalConfig,e);for(let i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(let i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,n=!1){this.internalState=n?q({},e):q(q({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}});function UIt(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function Zoe(t,e){let r=(e||{}).eventFilter||BIt;if(typeof r=="string"&&r==="skipInternal"&&(r=LIt),typeof r!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,a=s=>{if(i===s)return;let c=i;i=s,c.eventNames().filter(r).forEach(u=>{UIt(c,u).forEach(f=>{s.on(u,f)})}),c.removeAllListeners()};return new Proxy({},{get:(s,c)=>c==="setTarget"?a:i[c],set:(s,c,l)=>c==="setTarget"?(a=l,!0):(i[c]=l,!0),has:(s,c)=>c[0]==="_"?!1:c in i})}var BIt,DIt,LIt,MNe=B(()=>{BIt=()=>!0,DIt=["newListener","removeListener"],LIt=t=>!DIt.includes(t)});var Xoe,dz,BNe=B(()=>{Xoe={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},dz={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"}});function LNe(t){var e,n,r,i=x.prototype={constructor:x,toString:null,valueOf:null},a=new x(1),o=20,s=4,c=-7,l=21,u=-1e7,f=1e7,d=!1,p=1,h=0,m={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz",g=!0;function x(O,M){var N,v,I,S,y,b,_,A,T=this;if(!(T instanceof x))return new x(O,M);if(M==null){if(O&&O._isBigNumber===!0){T.s=O.s,!O.c||O.e>f?T.c=T.e=null:O.e<u?T.c=[T.e=0]:(T.e=O.e,T.c=O.c.slice());return}if((b=typeof O=="number")&&O*0==0){if(T.s=1/O<0?(O=-O,-1):1,O===~~O){for(S=0,y=O;y>=10;y/=10,S++);S>f?T.c=T.e=null:(T.e=S,T.c=[O]);return}A=String(O)}else{if(!FIt.test(A=String(O)))return r(T,A,b);T.s=A.charCodeAt(0)==45?(A=A.slice(1),-1):1}(S=A.indexOf("."))>-1&&(A=A.replace(".","")),(y=A.search(/e/i))>0?(S<0&&(S=y),S+=+A.slice(y+1),A=A.substring(0,y)):S<0&&(S=A.length)}else{if(La(M,2,w.length,"Base"),M==10&&g)return T=new x(O),F(T,o+T.e+1,s);if(A=String(O),b=typeof O=="number"){if(O*0!=0)return r(T,A,b,M);if(T.s=1/O<0?(A=A.slice(1),-1):1,x.DEBUG&&A.replace(/^0\.0*|\./,"").length>15)throw Error(DNe+O)}else T.s=A.charCodeAt(0)===45?(A=A.slice(1),-1):1;for(N=w.slice(0,M),S=y=0,_=A.length;y<_;y++)if(N.indexOf(v=A.charAt(y))<0){if(v=="."){if(y>S){S=_;continue}}else if(!I&&(A==A.toUpperCase()&&(A=A.toLowerCase())||A==A.toLowerCase()&&(A=A.toUpperCase()))){I=!0,y=-1,S=0;continue}return r(T,String(O),b,M)}b=!1,A=n(A,M,10,T.s),(S=A.indexOf("."))>-1?A=A.replace(".",""):S=A.length}for(y=0;A.charCodeAt(y)===48;y++);for(_=A.length;A.charCodeAt(--_)===48;);if(A=A.slice(y,++_)){if(_-=y,b&&x.DEBUG&&_>15&&(O>tse||O!==ud(O)))throw Error(DNe+T.s*O);if((S=S-y-1)>f)T.c=T.e=null;else if(S<u)T.c=[T.e=0];else{if(T.e=S,T.c=[],y=(S+1)%Un,S<0&&(y+=Un),y<_){for(y&&T.c.push(+A.slice(0,y)),_-=Un;y<_;)T.c.push(+A.slice(y,y+=Un));y=Un-(A=A.slice(y)).length}else y-=_;for(;y--;A+="0");T.c.push(+A)}}else T.c=[T.e=0]}x.clone=LNe,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(O){var M,N;if(O!=null)if(typeof O=="object"){if(O.hasOwnProperty(M="DECIMAL_PLACES")&&(N=O[M],La(N,0,Ds,M),o=N),O.hasOwnProperty(M="ROUNDING_MODE")&&(N=O[M],La(N,0,8,M),s=N),O.hasOwnProperty(M="EXPONENTIAL_AT")&&(N=O[M],N&&N.pop?(La(N[0],-Ds,0,M),La(N[1],0,Ds,M),c=N[0],l=N[1]):(La(N,-Ds,Ds,M),c=-(l=N<0?-N:N))),O.hasOwnProperty(M="RANGE"))if(N=O[M],N&&N.pop)La(N[0],-Ds,-1,M),La(N[1],1,Ds,M),u=N[0],f=N[1];else if(La(N,-Ds,Ds,M),N)u=-(f=N<0?-N:N);else throw Error(kl+M+" cannot be zero: "+N);if(O.hasOwnProperty(M="CRYPTO"))if(N=O[M],N===!!N)if(N)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))d=N;else throw d=!N,Error(kl+"crypto unavailable");else d=N;else throw Error(kl+M+" not true or false: "+N);if(O.hasOwnProperty(M="MODULO_MODE")&&(N=O[M],La(N,0,9,M),p=N),O.hasOwnProperty(M="POW_PRECISION")&&(N=O[M],La(N,0,Ds,M),h=N),O.hasOwnProperty(M="FORMAT"))if(N=O[M],typeof N=="object")m=N;else throw Error(kl+M+" not an object: "+N);if(O.hasOwnProperty(M="ALPHABET"))if(N=O[M],typeof N=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(N))g=N.slice(0,10)=="0123456789",w=N;else throw Error(kl+M+" invalid: "+N)}else throw Error(kl+"Object expected: "+O);return{DECIMAL_PLACES:o,ROUNDING_MODE:s,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:d,MODULO_MODE:p,POW_PRECISION:h,FORMAT:m,ALPHABET:w}},x.isBigNumber=function(O){if(!O||O._isBigNumber!==!0)return!1;if(!x.DEBUG)return!0;var M,N,v=O.c,I=O.e,S=O.s;e:if({}.toString.call(v)=="[object Array]"){if((S===1||S===-1)&&I>=-Ds&&I<=Ds&&I===ud(I)){if(v[0]===0){if(I===0&&v.length===1)return!0;break e}if(M=(I+1)%Un,M<1&&(M+=Un),String(v[0]).length==M){for(M=0;M<v.length;M++)if(N=v[M],N<0||N>=M1||N!==ud(N))break e;if(N!==0)return!0}}}else if(v===null&&I===null&&(S===null||S===1||S===-1))return!0;throw Error(kl+"Invalid BigNumber: "+O)},x.maximum=x.max=function(){return P(arguments,-1)},x.minimum=x.min=function(){return P(arguments,1)},x.random=(function(){var O=9007199254740992,M=Math.random()*O&2097151?function(){return ud(Math.random()*O)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(N){var v,I,S,y,b,_=0,A=[],T=new x(a);if(N==null?N=o:La(N,0,Ds),y=ese(N/Un),d)if(crypto.getRandomValues){for(v=crypto.getRandomValues(new Uint32Array(y*=2));_<y;)b=v[_]*131072+(v[_+1]>>>11),b>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),v[_]=I[0],v[_+1]=I[1]):(A.push(b%1e14),_+=2);_=y/2}else if(crypto.randomBytes){for(v=crypto.randomBytes(y*=7);_<y;)b=(v[_]&31)*281474976710656+v[_+1]*1099511627776+v[_+2]*4294967296+v[_+3]*16777216+(v[_+4]<<16)+(v[_+5]<<8)+v[_+6],b>=9e15?crypto.randomBytes(7).copy(v,_):(A.push(b%1e14),_+=7);_=y/7}else throw d=!1,Error(kl+"crypto unavailable");if(!d)for(;_<y;)b=M(),b<9e15&&(A[_++]=b%1e14);for(y=A[--_],N%=Un,y&&N&&(b=nse[Un-N],A[_]=ud(y/b)*b);A[_]===0;A.pop(),_--);if(_<0)A=[S=0];else{for(S=-1;A[0]===0;A.splice(0,1),S-=Un);for(_=1,b=A[0];b>=10;b/=10,_++);_<Un&&(S-=Un-_)}return T.e=S,T.c=A,T}})(),x.sum=function(){for(var O=1,M=arguments,N=new x(M[0]);O<M.length;)N=N.plus(M[O++]);return N},n=(function(){var O="0123456789";function M(N,v,I,S){for(var y,b=[0],_,A=0,T=N.length;A<T;){for(_=b.length;_--;b[_]*=v);for(b[0]+=S.indexOf(N.charAt(A++)),y=0;y<b.length;y++)b[y]>I-1&&(b[y+1]==null&&(b[y+1]=0),b[y+1]+=b[y]/I|0,b[y]%=I)}return b.reverse()}return function(N,v,I,S,y){var b,_,A,T,E,k,L,R,U=N.indexOf("."),j=o,z=s;for(U>=0&&(T=h,h=0,N=N.replace(".",""),R=new x(v),k=R.pow(N.length-U),h=T,R.c=M(_5(ld(k.c),k.e,"0"),10,I,O),R.e=R.c.length),L=M(N,v,I,y?(b=w,O):(b=O,w)),A=T=L.length;L[--T]==0;L.pop());if(!L[0])return b.charAt(0);if(U<0?--A:(k.c=L,k.e=A,k.s=S,k=e(k,R,j,z,I),L=k.c,E=k.r,A=k.e),_=A+j+1,U=L[_],T=I/2,E=E||_<0||L[_+1]!=null,E=z<4?(U!=null||E)&&(z==0||z==(k.s<0?3:2)):U>T||U==T&&(z==4||E||z==6&&L[_-1]&1||z==(k.s<0?8:7)),_<1||!L[0])N=E?_5(b.charAt(1),-j,b.charAt(0)):b.charAt(0);else{if(L.length=_,E)for(--I;++L[--_]>I;)L[_]=0,_||(++A,L=[1].concat(L));for(T=L.length;!L[--T];);for(U=0,N="";U<=T;N+=b.charAt(L[U++]));N=_5(N,A,b.charAt(0))}return N}})(),e=(function(){function O(v,I,S){var y,b,_,A,T=0,E=v.length,k=I%jb,L=I/jb|0;for(v=v.slice();E--;)_=v[E]%jb,A=v[E]/jb|0,y=L*_+A*k,b=k*_+y%jb*jb+T,T=(b/S|0)+(y/jb|0)+L*A,v[E]=b%S;return T&&(v=[T].concat(v)),v}function M(v,I,S,y){var b,_;if(S!=y)_=S>y?1:-1;else for(b=_=0;b<S;b++)if(v[b]!=I[b]){_=v[b]>I[b]?1:-1;break}return _}function N(v,I,S,y){for(var b=0;S--;)v[S]-=b,b=v[S]<I[S]?1:0,v[S]=b*y+v[S]-I[S];for(;!v[0]&&v.length>1;v.splice(0,1));}return function(v,I,S,y,b){var _,A,T,E,k,L,R,U,j,z,V,$,W,J,X,te,ne,ue=v.s==I.s?1:-1,ce=v.c,oe=I.c;if(!ce||!ce[0]||!oe||!oe[0])return new x(!v.s||!I.s||(ce?oe&&ce[0]==oe[0]:!oe)?NaN:ce&&ce[0]==0||!oe?ue*0:ue/0);for(U=new x(ue),j=U.c=[],A=v.e-I.e,ue=S+A+1,b||(b=M1,A=fd(v.e/Un)-fd(I.e/Un),ue=ue/Un|0),T=0;oe[T]==(ce[T]||0);T++);if(oe[T]>(ce[T]||0)&&A--,ue<0)j.push(1),E=!0;else{for(J=ce.length,te=oe.length,T=0,ue+=2,k=ud(b/(oe[0]+1)),k>1&&(oe=O(oe,k,b),ce=O(ce,k,b),te=oe.length,J=ce.length),W=te,z=ce.slice(0,te),V=z.length;V<te;z[V++]=0);ne=oe.slice(),ne=[0].concat(ne),X=oe[0],oe[1]>=b/2&&X++;do{if(k=0,_=M(oe,z,te,V),_<0){if($=z[0],te!=V&&($=$*b+(z[1]||0)),k=ud($/X),k>1)for(k>=b&&(k=b-1),L=O(oe,k,b),R=L.length,V=z.length;M(L,z,R,V)==1;)k--,N(L,te<R?ne:oe,R,b),R=L.length,_=1;else k==0&&(_=k=1),L=oe.slice(),R=L.length;if(R<V&&(L=[0].concat(L)),N(z,L,V,b),V=z.length,_==-1)for(;M(oe,z,te,V)<1;)k++,N(z,te<V?ne:oe,V,b),V=z.length}else _===0&&(k++,z=[0]);j[T++]=k,z[0]?z[V++]=ce[W]||0:(z=[ce[W]],V=1)}while((W++<J||z[0]!=null)&&ue--);E=z[0]!=null,j[0]||j.splice(0,1)}if(b==M1){for(T=1,ue=j[0];ue>=10;ue/=10,T++);F(U,S+(U.e=T+A*Un-1)+1,y,E)}else U.e=A,U.r=+E;return U}})();function C(O,M,N,v){var I,S,y,b,_;if(N==null?N=s:La(N,0,8),!O.c)return O.toString();if(I=O.c[0],y=O.e,M==null)_=ld(O.c),_=v==1||v==2&&(y<=c||y>=l)?hz(_,y):_5(_,y,"0");else if(O=F(new x(O),M,N),S=O.e,_=ld(O.c),b=_.length,v==1||v==2&&(M<=S||S<=c)){for(;b<M;_+="0",b++);_=hz(_,S)}else if(M-=y+(v===2&&S>y),_=_5(_,S,"0"),S+1>b){if(--M>0)for(_+=".";M--;_+="0");}else if(M+=S-b,M>0)for(S+1==b&&(_+=".");M--;_+="0");return O.s<0&&I?"-"+_:_}function P(O,M){for(var N,v,I=1,S=new x(O[0]);I<O.length;I++)v=new x(O[I]),(!v.s||(N=bw(S,v))===M||N===0&&S.s===M)&&(S=v);return S}function D(O,M,N){for(var v=1,I=M.length;!M[--I];M.pop());for(I=M[0];I>=10;I/=10,v++);return(N=v+N*Un-1)>f?O.c=O.e=null:N<u?O.c=[O.e=0]:(O.e=N,O.c=M),O}r=(function(){var O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,N=/^\.([^.]+)$/,v=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(S,y,b,_){var A,T=b?y:y.replace(I,"");if(v.test(T))S.s=isNaN(T)?null:T<0?-1:1;else{if(!b&&(T=T.replace(O,function(E,k,L){return A=(L=L.toLowerCase())=="x"?16:L=="b"?2:8,!_||_==A?k:E}),_&&(A=_,T=T.replace(M,"$1").replace(N,"0.$1")),y!=T))return new x(T,A);if(x.DEBUG)throw Error(kl+"Not a"+(_?" base "+_:"")+" number: "+y);S.s=null}S.c=S.e=null}})();function F(O,M,N,v){var I,S,y,b,_,A,T,E=O.c,k=nse;if(E){e:{for(I=1,b=E[0];b>=10;b/=10,I++);if(S=M-I,S<0)S+=Un,y=M,_=E[A=0],T=ud(_/k[I-y-1]%10);else if(A=ese((S+1)/Un),A>=E.length)if(v){for(;E.length<=A;E.push(0));_=T=0,I=1,S%=Un,y=S-Un+1}else break e;else{for(_=b=E[A],I=1;b>=10;b/=10,I++);S%=Un,y=S-Un+I,T=y<0?0:ud(_/k[I-y-1]%10)}if(v=v||M<0||E[A+1]!=null||(y<0?_:_%k[I-y-1]),v=N<4?(T||v)&&(N==0||N==(O.s<0?3:2)):T>5||T==5&&(N==4||v||N==6&&(S>0?y>0?_/k[I-y]:0:E[A-1])%10&1||N==(O.s<0?8:7)),M<1||!E[0])return E.length=0,v?(M-=O.e+1,E[0]=k[(Un-M%Un)%Un],O.e=-M||0):E[0]=O.e=0,O;if(S==0?(E.length=A,b=1,A--):(E.length=A+1,b=k[Un-S],E[A]=y>0?ud(_/k[I-y]%k[y])*b:0),v)for(;;)if(A==0){for(S=1,y=E[0];y>=10;y/=10,S++);for(y=E[0]+=b,b=1;y>=10;y/=10,b++);S!=b&&(O.e++,E[0]==M1&&(E[0]=1));break}else{if(E[A]+=b,E[A]!=M1)break;E[A--]=0,b=1}for(S=E.length;E[--S]===0;E.pop());}O.e>f?O.c=O.e=null:O.e<u&&(O.c=[O.e=0])}return O}function H(O){var M,N=O.e;return N===null?O.toString():(M=ld(O.c),M=N<=c||N>=l?hz(M,N):_5(M,N,"0"),O.s<0?"-"+M:M)}return i.absoluteValue=i.abs=function(){var O=new x(this);return O.s<0&&(O.s=1),O},i.comparedTo=function(O,M){return bw(this,new x(O,M))},i.decimalPlaces=i.dp=function(O,M){var N,v,I,S=this;if(O!=null)return La(O,0,Ds),M==null?M=s:La(M,0,8),F(new x(S),O+S.e+1,M);if(!(N=S.c))return null;if(v=((I=N.length-1)-fd(this.e/Un))*Un,I=N[I])for(;I%10==0;I/=10,v--);return v<0&&(v=0),v},i.dividedBy=i.div=function(O,M){return e(this,new x(O,M),o,s)},i.dividedToIntegerBy=i.idiv=function(O,M){return e(this,new x(O,M),0,1)},i.exponentiatedBy=i.pow=function(O,M){var N,v,I,S,y,b,_,A,T,E=this;if(O=new x(O),O.c&&!O.isInteger())throw Error(kl+"Exponent not an integer: "+H(O));if(M!=null&&(M=new x(M)),b=O.e>14,!E.c||!E.c[0]||E.c[0]==1&&!E.e&&E.c.length==1||!O.c||!O.c[0])return T=new x(Math.pow(+H(E),b?O.s*(2-pz(O)):+H(O))),M?T.mod(M):T;if(_=O.s<0,M){if(M.c?!M.c[0]:!M.s)return new x(NaN);v=!_&&E.isInteger()&&M.isInteger(),v&&(E=E.mod(M))}else{if(O.e>9&&(E.e>0||E.e<-1||(E.e==0?E.c[0]>1||b&&E.c[1]>=24e7:E.c[0]<8e13||b&&E.c[0]<=9999975e7)))return S=E.s<0&&pz(O)?-0:0,E.e>-1&&(S=1/S),new x(_?1/S:S);h&&(S=ese(h/Un+2))}for(b?(N=new x(.5),_&&(O.s=1),A=pz(O)):(I=Math.abs(+H(O)),A=I%2),T=new x(a);;){if(A){if(T=T.times(E),!T.c)break;S?T.c.length>S&&(T.c.length=S):v&&(T=T.mod(M))}if(I){if(I=ud(I/2),I===0)break;A=I%2}else if(O=O.times(N),F(O,O.e+1,1),O.e>14)A=pz(O);else{if(I=+H(O),I===0)break;A=I%2}E=E.times(E),S?E.c&&E.c.length>S&&(E.c.length=S):v&&(E=E.mod(M))}return v?T:(_&&(T=a.div(T)),M?T.mod(M):S?F(T,h,s,y):T)},i.integerValue=function(O){var M=new x(this);return O==null?O=s:La(O,0,8),F(M,M.e+1,O)},i.isEqualTo=i.eq=function(O,M){return bw(this,new x(O,M))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(O,M){return bw(this,new x(O,M))>0},i.isGreaterThanOrEqualTo=i.gte=function(O,M){return(M=bw(this,new x(O,M)))===1||M===0},i.isInteger=function(){return!!this.c&&fd(this.e/Un)>this.c.length-2},i.isLessThan=i.lt=function(O,M){return bw(this,new x(O,M))<0},i.isLessThanOrEqualTo=i.lte=function(O,M){return(M=bw(this,new x(O,M)))===-1||M===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(O,M){var N,v,I,S,y=this,b=y.s;if(O=new x(O,M),M=O.s,!b||!M)return new x(NaN);if(b!=M)return O.s=-M,y.plus(O);var _=y.e/Un,A=O.e/Un,T=y.c,E=O.c;if(!_||!A){if(!T||!E)return T?(O.s=-M,O):new x(E?y:NaN);if(!T[0]||!E[0])return E[0]?(O.s=-M,O):new x(T[0]?y:s==3?-0:0)}if(_=fd(_),A=fd(A),T=T.slice(),b=_-A){for((S=b<0)?(b=-b,I=T):(A=_,I=E),I.reverse(),M=b;M--;I.push(0));I.reverse()}else for(v=(S=(b=T.length)<(M=E.length))?b:M,b=M=0;M<v;M++)if(T[M]!=E[M]){S=T[M]<E[M];break}if(S&&(I=T,T=E,E=I,O.s=-O.s),M=(v=E.length)-(N=T.length),M>0)for(;M--;T[N++]=0);for(M=M1-1;v>b;){if(T[--v]<E[v]){for(N=v;N&&!T[--N];T[N]=M);--T[N],T[v]+=M1}T[v]-=E[v]}for(;T[0]==0;T.splice(0,1),--A);return T[0]?D(O,T,A):(O.s=s==3?-1:1,O.c=[O.e=0],O)},i.modulo=i.mod=function(O,M){var N,v,I=this;return O=new x(O,M),!I.c||!O.s||O.c&&!O.c[0]?new x(NaN):!O.c||I.c&&!I.c[0]?new x(I):(p==9?(v=O.s,O.s=1,N=e(I,O,0,3),O.s=v,N.s*=v):N=e(I,O,0,p),O=I.minus(N.times(O)),!O.c[0]&&p==1&&(O.s=I.s),O)},i.multipliedBy=i.times=function(O,M){var N,v,I,S,y,b,_,A,T,E,k,L,R,U,j,z=this,V=z.c,$=(O=new x(O,M)).c;if(!V||!$||!V[0]||!$[0])return!z.s||!O.s||V&&!V[0]&&!$||$&&!$[0]&&!V?O.c=O.e=O.s=null:(O.s*=z.s,!V||!$?O.c=O.e=null:(O.c=[0],O.e=0)),O;for(v=fd(z.e/Un)+fd(O.e/Un),O.s*=z.s,_=V.length,E=$.length,_<E&&(R=V,V=$,$=R,I=_,_=E,E=I),I=_+E,R=[];I--;R.push(0));for(U=M1,j=jb,I=E;--I>=0;){for(N=0,k=$[I]%j,L=$[I]/j|0,y=_,S=I+y;S>I;)A=V[--y]%j,T=V[y]/j|0,b=L*A+T*k,A=k*A+b%j*j+R[S]+N,N=(A/U|0)+(b/j|0)+L*T,R[S--]=A%U;R[S]=N}return N?++v:R.splice(0,1),D(O,R,v)},i.negated=function(){var O=new x(this);return O.s=-O.s||null,O},i.plus=function(O,M){var N,v=this,I=v.s;if(O=new x(O,M),M=O.s,!I||!M)return new x(NaN);if(I!=M)return O.s=-M,v.minus(O);var S=v.e/Un,y=O.e/Un,b=v.c,_=O.c;if(!S||!y){if(!b||!_)return new x(I/0);if(!b[0]||!_[0])return _[0]?O:new x(b[0]?v:I*0)}if(S=fd(S),y=fd(y),b=b.slice(),I=S-y){for(I>0?(y=S,N=_):(I=-I,N=b),N.reverse();I--;N.push(0));N.reverse()}for(I=b.length,M=_.length,I-M<0&&(N=_,_=b,b=N,M=I),I=0;M;)I=(b[--M]=b[M]+_[M]+I)/M1|0,b[M]=M1===b[M]?0:b[M]%M1;return I&&(b=[I].concat(b),++y),D(O,b,y)},i.precision=i.sd=function(O,M){var N,v,I,S=this;if(O!=null&&O!==!!O)return La(O,1,Ds),M==null?M=s:La(M,0,8),F(new x(S),O,M);if(!(N=S.c))return null;if(I=N.length-1,v=I*Un+1,I=N[I]){for(;I%10==0;I/=10,v--);for(I=N[0];I>=10;I/=10,v++);}return O&&S.e+1>v&&(v=S.e+1),v},i.shiftedBy=function(O){return La(O,-tse,tse),this.times("1e"+O)},i.squareRoot=i.sqrt=function(){var O,M,N,v,I,S=this,y=S.c,b=S.s,_=S.e,A=o+4,T=new x("0.5");if(b!==1||!y||!y[0])return new x(!b||b<0&&(!y||y[0])?NaN:y?S:1/0);if(b=Math.sqrt(+H(S)),b==0||b==1/0?(M=ld(y),(M.length+_)%2==0&&(M+="0"),b=Math.sqrt(+M),_=fd((_+1)/2)-(_<0||_%2),b==1/0?M="5e"+_:(M=b.toExponential(),M=M.slice(0,M.indexOf("e")+1)+_),N=new x(M)):N=new x(b+""),N.c[0]){for(_=N.e,b=_+A,b<3&&(b=0);;)if(I=N,N=T.times(I.plus(e(S,I,A,1))),ld(I.c).slice(0,b)===(M=ld(N.c)).slice(0,b))if(N.e<_&&--b,M=M.slice(b-3,b+1),M=="9999"||!v&&M=="4999"){if(!v&&(F(I,I.e+o+2,0),I.times(I).eq(S))){N=I;break}A+=4,b+=4,v=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(F(N,N.e+o+2,1),O=!N.times(N).eq(S));break}}return F(N,N.e+o+1,s,O)},i.toExponential=function(O,M){return O!=null&&(La(O,0,Ds),O++),C(this,O,M,1)},i.toFixed=function(O,M){return O!=null&&(La(O,0,Ds),O=O+this.e+1),C(this,O,M)},i.toFormat=function(O,M,N){var v,I=this;if(N==null)O!=null&&M&&typeof M=="object"?(N=M,M=null):O&&typeof O=="object"?(N=O,O=M=null):N=m;else if(typeof N!="object")throw Error(kl+"Argument not an object: "+N);if(v=I.toFixed(O,M),I.c){var S,y=v.split("."),b=+N.groupSize,_=+N.secondaryGroupSize,A=N.groupSeparator||"",T=y[0],E=y[1],k=I.s<0,L=k?T.slice(1):T,R=L.length;if(_&&(S=b,b=_,_=S,R-=S),b>0&&R>0){for(S=R%b||b,T=L.substr(0,S);S<R;S+=b)T+=A+L.substr(S,b);_>0&&(T+=A+L.slice(S)),k&&(T="-"+T)}v=E?T+(N.decimalSeparator||"")+((_=+N.fractionGroupSize)?E.replace(new RegExp("\\d{"+_+"}\\B","g"),"$&"+(N.fractionGroupSeparator||"")):E):T}return(N.prefix||"")+v+(N.suffix||"")},i.toFraction=function(O){var M,N,v,I,S,y,b,_,A,T,E,k,L=this,R=L.c;if(O!=null&&(b=new x(O),!b.isInteger()&&(b.c||b.s!==1)||b.lt(a)))throw Error(kl+"Argument "+(b.isInteger()?"out of range: ":"not an integer: ")+H(b));if(!R)return new x(L);for(M=new x(a),A=N=new x(a),v=_=new x(a),k=ld(R),S=M.e=k.length-L.e-1,M.c[0]=nse[(y=S%Un)<0?Un+y:y],O=!O||b.comparedTo(M)>0?S>0?M:A:b,y=f,f=1/0,b=new x(k),_.c[0]=0;T=e(b,M,0,1),I=N.plus(T.times(v)),I.comparedTo(O)!=1;)N=v,v=I,A=_.plus(T.times(I=A)),_=I,M=b.minus(T.times(I=M)),b=I;return I=e(O.minus(N),v,0,1),_=_.plus(I.times(A)),N=N.plus(I.times(v)),_.s=A.s=L.s,S=S*2,E=e(A,v,S,s).minus(L).abs().comparedTo(e(_,N,S,s).minus(L).abs())<1?[A,v]:[_,N],f=y,E},i.toNumber=function(){return+H(this)},i.toPrecision=function(O,M){return O!=null&&La(O,1,Ds),C(this,O,M,2)},i.toString=function(O){var M,N=this,v=N.s,I=N.e;return I===null?v?(M="Infinity",v<0&&(M="-"+M)):M="NaN":(O==null?M=I<=c||I>=l?hz(ld(N.c),I):_5(ld(N.c),I,"0"):O===10&&g?(N=F(new x(N),o+I+1,s),M=_5(ld(N.c),N.e,"0")):(La(O,2,w.length,"Base"),M=n(_5(ld(N.c),I,"0"),10,O,v,!0)),v<0&&N.c[0]&&(M="-"+M)),M},i.valueOf=i.toJSON=function(){return H(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&x.set(t),x}function fd(t){var e=t|0;return t>0||t===e?e:e-1}function ld(t){for(var e,n,r=1,i=t.length,a=t[0]+"";r<i;){for(e=t[r++]+"",n=Un-e.length;n--;e="0"+e);a+=e}for(i=a.length;a.charCodeAt(--i)===48;);return a.slice(0,i+1||1)}function bw(t,e){var n,r,i=t.c,a=e.c,o=t.s,s=e.s,c=t.e,l=e.e;if(!o||!s)return null;if(n=i&&!i[0],r=a&&!a[0],n||r)return n?r?0:-s:o;if(o!=s)return o;if(n=o<0,r=c==l,!i||!a)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(s=(c=i.length)<(l=a.length)?c:l,o=0;o<s;o++)if(i[o]!=a[o])return i[o]>a[o]^n?1:-1;return c==l?0:c>l^n?1:-1}function La(t,e,n,r){if(t<e||t>n||t!==ud(t))throw Error(kl+(r||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function pz(t){var e=t.c.length-1;return fd(t.e/Un)==e&&t.c[e]%2!=0}function hz(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function _5(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(r=t.length,++e>r){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var FIt,ese,ud,kl,DNe,M1,Un,tse,nse,jb,Ds,mn,B1,Gb=B(()=>{FIt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ese=Math.ceil,ud=Math.floor,kl="[BigNumber Error] ",DNe=kl+"Number primitive has more than 15 significant digits: ",M1=1e14,Un=14,tse=9007199254740991,nse=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],jb=1e7,Ds=1e9;mn=LNe(),B1=mn});var UNe,rse,ise,FNe,ase=B(()=>{UNe={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},rse={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},ise={INTERNAL:"internal",NETWORK:"network"},FNe={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"}});var bt,ose=B(()=>{bt={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"}});var XR,sse,cse,lse=B(()=>{$c();Gb();ase();ose();XR=t=>{try{let e=t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},sse=t=>{try{return new URL(t).hostname}catch{return""}},cse=t=>{if(t)return t.chainNamespace===bt.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===bt.SOLANA?`${t.chainNamespace}:${FNe[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`}});function zIt(t){switch(t.status){case 405:throw Gn.methodNotFound();case 418:throw Gn.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw Gn.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function jIt(t){return new Promise(e=>{setTimeout(e,t)})}function GIt(t,e){if(t.status!==200)throw Gn.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var n;throw Gn.internal({data:e.error,message:(n=e.error)===null||n===void 0?void 0:n.message})}return e.result}function HNe({req:t,rpcTarget:e,originHttpHeaderKey:n}){let r=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},a=t.origin,o=JSON.stringify(i),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o};return n&&a&&(s.headers[n]=a),{fetchUrl:r.href,fetchParams:s}}function gw({rpcTarget:t,originHttpHeaderKey:e,analytics:n,providerConfig:r}){return dr(async(i,a,o)=>{let{fetchUrl:s,fetchParams:c}=HNe({req:i,rpcTarget:t,originHttpHeaderKey:e}),l=5,u=1e3,f=Date.now(),d=!Object.values(UNe).includes(i.method),p={chain_id:cse(r),chain_rpc_target:sse(s),method:i.method};for(let h=0;h<l;h++){try{let m=await fetch(s,c);zIt(m);let w=await m.json(),g=GIt(m,w);a.result=g,d||n?.track(rse.JRPC_REQUEST_COMPLETED,q(q({request_type:ise.NETWORK},p),{},{duration:Date.now()-f}));return}catch(m){let w=(m.message||m).toString();if(!HIt.some(x=>w.includes(x)))throw d||n?.track(rse.JRPC_REQUEST_FAILED,q(q({request_type:ise.NETWORK},p),{},{error_code:m?.code,error_message:w,duration:Date.now()-f})),await c5(m)}await jIt(u)}})}var HIt,zNe=B(()=>{st();Zi();ase();lse();HIt=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"]});function dd(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n))}}var jNe=B(()=>{});function VIt(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function KIt(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return VIt(e)}catch{return atob(e)}}function mz(t,e){if(typeof t!="string")throw new ww("Invalid token specified: must be a string");e||(e={});let n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new ww(`Invalid token specified: missing part #${n+1}`);let i;try{i=KIt(r)}catch(a){throw new ww(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new ww(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}var ww,use=B(()=>{ww=class extends Error{};ww.prototype.name="InvalidTokenError"});var GNe,fse,vw,Ew,VNe=B(()=>{st();gR();GNe=fe(Ln()),fse="https://authjs.web3auth.io",vw=async(t,e)=>{let a={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},o=await F3(`${fse}/siww/get`,a);if(!o.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return o.challenge},Ew=async(t,e,n,r,i,a,o,s,c)=>{var l;let f=q({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:n,issuer:r,audience:s||typeof window<"u"&&((l=window.location)===null||l===void 0?void 0:l.hostname)||"com://reactnative",timeout:i},c||{}),d=await F3(`${fse}/siww/verify`,f,{headers:{client_id:a,wallet_provider:r,web3auth_network:o}});if(!d.success)throw GNe.default.error("Failed to authenticate user, ,message verification failed",d.error),new Error("Failed to authenticate user, ,message verification failed");return d.token}});var Co=B(()=>{kNe();MNe();BNe();zNe();ose();jNe();VNe();lse()});var dse,T5,yz,S5,Vb,rx=B(()=>{dse={EMBEDDED:"embedded",ALL:"all"},T5={MODAL:"modal",EMBED:"embed"},yz="Web3Auth-state",S5={MODAL:"modal",NO_MODAL:"no-modal"},Vb={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"}});function Fi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pse(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function bz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function et(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((r=r.apply(t,e||[])).next())})}function tt(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function li(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var pse,Ce,Zn=B(()=>{pse=function(t,e){return pse=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},pse(t,e)};Ce=function(){return Ce=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ce.apply(this,arguments)}});var qNe=B(()=>{});var WNe=B(()=>{});var hse=B(()=>{});function eO(t,e,n){e.split&&(e=e.split("."));for(var r=0,i=e.length,a=t,o,s;r<i&&(s=""+e[r++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)a=a[s]=r===i?n:typeof(o=a[s])==typeof e?o:e[r]*0!==0||~(""+e[r]).indexOf(".")?{}:[]}var mse=B(()=>{});var YNe,JNe=B(()=>{YNe=function(t,e){return Object.keys(t).filter(function(n){return e(n,t[n])}).reduce(function(n,r){return n[r]=t[r],n},{})}});var Kb,yse=B(()=>{Zn();Kb=(function(t){Fi(e,t);function e(n,r){var i=t.call(this,"".concat(n," ").concat(r))||this;return i.field=n,i}return e})(Error)});function gh(t){return typeof t=="string"}function gz(t){return typeof t=="number"}function xw(t){return typeof t=="function"}function QNe(t){return t!=null}function Ls(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var bse=B(()=>{});function WIt(t){if(!QNe(t))throw new Kb("Event",qIt);if(typeof t!="object")throw new Kb("Event",wse)}function YIt(t){if(!gh(t.type))throw new Kb(".type",gse)}function JIt(t){if(!gh(t.event))throw new Kb(".event",gse)}function QIt(t){if(!Ls(t.properties))throw new Kb(".properties",wse)}function ZIt(t){if(!Ls(t.traits))throw new Kb(".traits",wse)}function XIt(t){if(!gh(t.messageId))throw new Kb(".messageId",gse)}function ZNe(t){WIt(t),YIt(t),XIt(t),t.type==="track"&&(JIt(t),QIt(t)),["group","identify"].includes(t.type)&&ZIt(t)}var gse,wse,qIt,vse=B(()=>{yse();bse();gse="is not a string",wse="is not an object",qIt="is nil"});var eRt,XNe,ePe=B(()=>{Zn();hse();mse();JNe();vse();eRt=(function(){function t(e){var n,r;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(n=e.onEventMethodCall)!==null&&n!==void 0?n:(function(){}),this.onFinishedEvent=(r=e.onFinishedEvent)!==null&&r!==void 0?r:(function(){})}return t})(),XNe=(function(){function t(e){this.settings=new eRt(e)}return t.prototype.track=function(e,n,r,i){return this.settings.onEventMethodCall({type:"track",options:r}),this.normalize(Ce(Ce({},this.baseEvent()),{event:e,type:"track",properties:n??{},options:Ce({},r),integrations:Ce({},i)}))},t.prototype.page=function(e,n,r,i,a){var o;this.settings.onEventMethodCall({type:"page",options:i});var s={type:"page",properties:Ce({},r),options:Ce({},i),integrations:Ce({},a)};return e!==null&&(s.category=e,s.properties=(o=s.properties)!==null&&o!==void 0?o:{},s.properties.category=e),n!==null&&(s.name=n),this.normalize(Ce(Ce({},this.baseEvent()),s))},t.prototype.screen=function(e,n,r,i,a){this.settings.onEventMethodCall({type:"screen",options:i});var o={type:"screen",properties:Ce({},r),options:Ce({},i),integrations:Ce({},a)};return e!==null&&(o.category=e),n!==null&&(o.name=n),this.normalize(Ce(Ce({},this.baseEvent()),o))},t.prototype.identify=function(e,n,r,i){return this.settings.onEventMethodCall({type:"identify",options:r}),this.normalize(Ce(Ce({},this.baseEvent()),{type:"identify",userId:e,traits:n??{},options:Ce({},r),integrations:i}))},t.prototype.group=function(e,n,r,i){return this.settings.onEventMethodCall({type:"group",options:r}),this.normalize(Ce(Ce({},this.baseEvent()),{type:"group",traits:n??{},options:Ce({},r),integrations:Ce({},i),groupId:e}))},t.prototype.alias=function(e,n,r,i){this.settings.onEventMethodCall({type:"alias",options:r});var a={userId:e,type:"alias",options:Ce({},r),integrations:Ce({},i)};return n!==null&&(a.previousId=n),e===void 0?this.normalize(Ce(Ce({},a),this.baseEvent())):this.normalize(Ce(Ce({},this.baseEvent()),a))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var n,r=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),a=(n=e.context)!==null&&n!==void 0?n:{},o={};return i.forEach(function(s){s!=="context"&&(r.includes(s)?eO(o,s,e[s]):eO(a,s,e[s]))}),[a,o]},t.prototype.normalize=function(e){var n,r,i=Object.keys((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(d,p){var h,m;return Ce(Ce({},d),(h={},h[p]=!!(!((m=e.integrations)===null||m===void 0)&&m[p]),h))},{});e.options=YNe(e.options||{},function(d,p){return p!==void 0});var a=Ce(Ce({},i),(r=e.options)===null||r===void 0?void 0:r.integrations),o=e.options?this.context(e.options):[],s=o[0],c=o[1],l=e.options,u=bz(e,["options"]),f=Ce(Ce(Ce(Ce({timestamp:new Date},u),{context:s,integrations:a}),c),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),ZNe(f),f},t})()});function tO(t,e){return new Promise(function(n,r){var i=setTimeout(function(){r(Error("Promise timed out"))},e);t.then(function(a){return clearTimeout(i),n(a)}).catch(r)})}function tRt(t){return new Promise(function(e){return setTimeout(e,t)})}function Ese(t,e,n){var r=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return tRt(n).then(function(){return tO(r(),1e3)}).catch(function(i){t?.log("warn","Callback Error",{error:i}),t?.stats.increment("callback_error")}).then(function(){return t})}var xse=B(()=>{});var ix,tPe=B(()=>{ix=function(){var t,e,n=!1,r=new Promise(function(i,a){t=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];n=!0,i.apply(void 0,o)},e=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];n=!0,a.apply(void 0,o)}});return{resolve:t,reject:e,promise:r,isSettled:function(){return n}}}});var nPe=B(()=>{tPe()});var ax,rPe=B(()=>{ax=(function(){function t(e){var n;this.callbacks={},this.warned=!1,this.maxListeners=(n=e?.maxListeners)!==null&&n!==void 0?n:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,n){return this.callbacks[e]?(this.callbacks[e].push(n),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[n],this},t.prototype.once=function(e,n){var r=this,i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];r.off(e,i),n.apply(r,a)};return this.on(e,i),this},t.prototype.off=function(e,n){var r,i=(r=this.callbacks[e])!==null&&r!==void 0?r:[],a=i.filter(function(o){return o!==n});return this.callbacks[e]=a,this},t.prototype.emit=function(e){for(var n=this,r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=(r=this.callbacks[e])!==null&&r!==void 0?r:[];return o.forEach(function(s){s.apply(n,i)}),this},t})()});var iPe=B(()=>{rPe()});var Aw=B(()=>{nPe();iPe()});function aPe(t){var e=Math.random()+1,n=t.minTimeout,r=n===void 0?500:n,i=t.factor,a=i===void 0?2:i,o=t.attempt,s=t.maxTimeout,c=s===void 0?1/0:s;return Math.min(e*r*Math.pow(a,o),c)}var oPe=B(()=>{});var wz,C5,Ase=B(()=>{Zn();Aw();oPe();wz="onRemoveFromFuture",C5=(function(t){Fi(e,t);function e(n,r,i){var a=t.call(this)||this;return a.future=[],a.maxAttempts=n,a.queue=r,a.seen=i??{},a}return e.prototype.push=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=r.map(function(o){var s=n.updateAttempts(o);return s>n.maxAttempts||n.includes(o)?!1:(n.queue.push(o),!0)});return this.queue=this.queue.sort(function(o,s){return n.getAttempts(o)-n.getAttempts(s)}),a},e.prototype.pushWithBackoff=function(n,r){var i=this;if(r===void 0&&(r=0),r==0&&this.getAttempts(n)===0)return this.push(n)[0];var a=this.updateAttempts(n);if(a>this.maxAttempts||this.includes(n))return!1;var o=aPe({attempt:a-1});return r>0&&o<r&&(o=r),setTimeout(function(){i.queue.push(n),i.future=i.future.filter(function(s){return s.id!==n.id}),i.emit(wz)},o),this.future.push(n),!0},e.prototype.getAttempts=function(n){var r;return(r=this.seen[n.id])!==null&&r!==void 0?r:0},e.prototype.updateAttempts=function(n){return this.seen[n.id]=this.getAttempts(n)+1,this.getAttempts(n)},e.prototype.includes=function(n){return this.queue.includes(n)||this.future.includes(n)||!!this.queue.find(function(r){return r.id===n.id})||!!this.future.find(function(r){return r.id===n.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e})(ax)});function ox(){var t=0,e,n="";if(!vz||_w+16>256){for(vz=Array(t=256);t--;)vz[t]=256*Math.random()|0;t=_w=0}for(;t<16;t++)e=vz[_w+t],t==6?n+=Ez[e&15|64]:t==8?n+=Ez[e&63|128]:n+=Ez[e],t&1&&t>1&&t<11&&(n+="-");return _w++,n}var _w,Ez,vz,xz=B(()=>{_w=256,Ez=[];for(;_w--;)Ez[_w]=(_w+256).toString(16).substring(1)});var sPe,cPe=B(()=>{Zn();sPe=(function(){function t(){this._logs=[]}return t.prototype.log=function(e,n,r){var i=new Date;this._logs.push({level:e,message:n,time:i,extras:r})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(n,r){var i,a,o,s=Ce(Ce({},r),{json:JSON.stringify(r.extras,null," "),extras:r.extras});delete s.time;var c=(o=(a=r.time)===null||a===void 0?void 0:a.toISOString())!==null&&o!==void 0?o:"";return n[c]&&(c="".concat(c,"-").concat(Math.random())),Ce(Ce({},n),(i={},i[c]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(n){var r=n.level,i=n.message,a=n.extras;r==="info"||r==="debug"?console.log(i,a??""):console[r](i,a??"")});this._logs=[]},t})()});var nRt,_se,lPe,Tse=B(()=>{Zn();nRt=function(t){var e={gauge:"g",counter:"c"};return e[t]},_se=(function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,n,r){n===void 0&&(n=1),this.metrics.push({metric:e,value:n,tags:r??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,n,r){this.metrics.push({metric:e,value:n,tags:r??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(n){return Ce(Ce({},n),{tags:n.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:nRt(e.type),e:e.timestamp}})},t})(),lPe=(function(t){Fi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r]},e.prototype.increment=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r]},e.prototype.flush=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r]},e.prototype.serialize=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return[]},e})(_se)});var Ml,Tw,Az=B(()=>{xz();mse();cPe();Tse();Ml=(function(){function t(e){var n,r,i;this.retry=(n=e.retry)!==null&&n!==void 0?n:!0,this.type=(r=e.type)!==null&&r!==void 0?r:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t})(),Tw=(function(){function t(e,n,r,i){n===void 0&&(n=ox()),r===void 0&&(r=new lPe),i===void 0&&(i=new sPe),this.attempts=0,this.event=e,this._id=n,this.logger=i,this.stats=r}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new Ml({reason:"Context Cancel"})},t.prototype.log=function(e,n,r){this.logger.log(e,n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,n){var r;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((r=this.event.integrations)===null||r===void 0?void 0:r[i])===!1)return this.event}return eO(this.event,e,n),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t})()});function uPe(t,e){var n={};return t.forEach(function(r){var i,a=void 0;if(typeof e=="string"){var o=r[e];a=typeof o!="string"?JSON.stringify(o):o}else e instanceof Function&&(a=e(r));a!==void 0&&(n[a]=li(li([],(i=n[a])!==null&&i!==void 0?i:[],!0),[r],!1))}),n}var fPe=B(()=>{Zn()});var dPe,pPe=B(()=>{dPe=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"}});var hPe,mPe=B(()=>{pPe();hPe=function(){var t,e,n=0;return{done:function(){return t},run:function(r){var i=r();return dPe(i)&&(++n===1&&(t=new Promise(function(a){return e=a})),i.finally(function(){return--n===0&&e()})),i}}}});function rRt(t){return et(this,void 0,void 0,function(){var e;return tt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t()];case 1:return[2,n.sent()];case 2:return e=n.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function I5(t,e){t.log("debug","plugin",{plugin:e.name});var n=new Date().getTime(),r=e[t.event.type];if(r===void 0)return Promise.resolve(t);var i=rRt(function(){return r.apply(e,[t])}).then(function(a){var o=new Date().getTime()-n;return a.stats.gauge("plugin_time",o,["plugin:".concat(e.name)]),a}).catch(function(a){if(a instanceof Ml&&a.type==="middleware_cancellation")throw a;return a instanceof Ml?(t.log("warn",a.type,{plugin:e.name,error:a}),a):(t.log("error","plugin Error",{plugin:e.name,error:a}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),a)});return i}function yPe(t,e){return I5(t,e).then(function(n){if(n instanceof Tw)return n;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(n)})}var Sse=B(()=>{Zn();Az()});var bPe,gPe=B(()=>{Zn();fPe();Ase();Az();Aw();mPe();Sse();bPe=(function(t){Fi(e,t);function e(n){var r=t.call(this)||this;return r.criticalTasks=hPe(),r.plugins=[],r.failedInitializations=[],r.flushing=!1,r.queue=n,r.queue.on(wz,function(){r.scheduleFlush(0)}),r}return e.prototype.register=function(n,r,i){return et(this,void 0,void 0,function(){var a,o,s=this;return tt(this,function(c){switch(c.label){case 0:return this.plugins.push(r),a=function(l){s.failedInitializations.push(r.name),s.emit("initialization_failure",r),console.warn(r.name,l),n.log("warn","Failed to load destination",{plugin:r.name,error:l}),s.plugins=s.plugins.filter(function(u){return u!==r})},r.type==="destination"&&r.name!=="Segment.io"?(r.load(n,i).catch(a),[3,4]):[3,1];case 1:return c.trys.push([1,3,,4]),[4,r.load(n,i)];case 2:return c.sent(),[3,4];case 3:return o=c.sent(),a(o),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(n,r,i){return et(this,void 0,void 0,function(){var a;return tt(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),r.unload?[4,Promise.resolve(r.unload(n,i))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==r.name}),[3,4];case 3:return a=o.sent(),n.log("warn","Failed to unload destination",{plugin:r.name,error:a}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(n){return et(this,void 0,void 0,function(){var r;return tt(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.push(n),r=this.subscribeToDelivery(n),this.scheduleFlush(0),[2,r]})})},e.prototype.subscribeToDelivery=function(n){return et(this,void 0,void 0,function(){var r=this;return tt(this,function(i){return[2,new Promise(function(a){var o=function(s,c){s.isSame(n)&&(r.off("flush",o),a(s))};r.on("flush",o)})]})})},e.prototype.dispatchSingle=function(n){return et(this,void 0,void 0,function(){var r=this;return tt(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.updateAttempts(n),n.attempts=1,[2,this.deliver(n).catch(function(a){var o=r.enqueuRetry(a,n);return o?r.subscribeToDelivery(n):(n.setFailedDelivery({reason:a}),n)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(n){var r=this;n===void 0&&(n=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){r.flush().then(function(){setTimeout(function(){r.flushing=!1,r.queue.length&&r.scheduleFlush(0)},0)})},n))},e.prototype.deliver=function(n){return et(this,void 0,void 0,function(){var r,i,a,o;return tt(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),r=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(n)];case 3:return n=s.sent(),i=Date.now()-r,this.emit("delivery_success",n),n.stats.gauge("delivered",i),n.log("debug","Delivered",n.event),[2,n];case 4:throw a=s.sent(),o=a,n.log("error","Failed to deliver",o),this.emit("delivery_failure",n,o),n.stats.increment("delivery_failed"),a;case 5:return[2]}})})},e.prototype.enqueuRetry=function(n,r){var i=!(n instanceof Ml)||n.retry;return i?this.queue.pushWithBackoff(r):!1},e.prototype.flush=function(){return et(this,void 0,void 0,function(){var n,r,i;return tt(this,function(a){switch(a.label){case 0:if(this.queue.length===0)return[2,[]];if(n=this.queue.pop(),!n)return[2,[]];n.attempts=this.queue.getAttempts(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.deliver(n)];case 2:return n=a.sent(),this.emit("flush",n,!0),[3,4];case 3:return r=a.sent(),i=this.enqueuRetry(r,n),i||(n.setFailedDelivery({reason:r}),this.emit("flush",n,!1)),[2,[]];case 4:return[2,[n]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(n){var r=this.plugins.filter(function(p){var h,m,w;if(p.type!=="destination"&&p.name!=="Segment.io")return!0;var g=void 0;return(h=p.alternativeNames)===null||h===void 0||h.forEach(function(x){n[x]!==void 0&&(g=n[x])}),(w=(m=n[p.name])!==null&&m!==void 0?m:g)!==null&&w!==void 0?w:(p.name==="Segment.io"?!0:n.All)!==!1}),i=uPe(r,"type"),a=i.before,o=a===void 0?[]:a,s=i.enrichment,c=s===void 0?[]:s,l=i.destination,u=l===void 0?[]:l,f=i.after,d=f===void 0?[]:f;return{before:o,enrichment:c,destinations:u,after:d}},e.prototype.flushOne=function(n){var r,i;return et(this,void 0,void 0,function(){var a,o,s,c,l,u,h,f,d,p,h,m,w,g,x;return tt(this,function(C){switch(C.label){case 0:if(!this.isReady())throw new Error("Not ready");n.attempts>1&&this.emit("delivery_retry",n),a=this.availableExtensions((r=n.event.integrations)!==null&&r!==void 0?r:{}),o=a.before,s=a.enrichment,c=0,l=o,C.label=1;case 1:return c<l.length?(u=l[c],[4,yPe(n,u)]):[3,4];case 2:h=C.sent(),h instanceof Tw&&(n=h),this.emit("message_enriched",n,u),C.label=3;case 3:return c++,[3,1];case 4:f=0,d=s,C.label=5;case 5:return f<d.length?(p=d[f],[4,I5(n,p)]):[3,8];case 6:h=C.sent(),h instanceof Tw&&(n=h),this.emit("message_enriched",n,p),C.label=7;case 7:return f++,[3,5];case 8:return m=this.availableExtensions((i=n.event.integrations)!==null&&i!==void 0?i:{}),w=m.destinations,g=m.after,[4,new Promise(function(P,D){setTimeout(function(){var F=w.map(function(H){return I5(n,H)});Promise.all(F).then(P).catch(D)},0)})];case 9:return C.sent(),n.stats.increment("message_delivered"),this.emit("message_delivered",n),x=g.map(function(P){return I5(n,P)}),[4,Promise.all(x)];case 10:return C.sent(),[2,n]}})})},e})(ax)});var wPe=B(()=>{});function vPe(t,e,n,r){return et(this,void 0,void 0,function(){var i,a;return tt(this,function(o){switch(o.label){case 0:return n.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return a=o.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:a=o.sent(),o.label=4;case 4:return r?.callback?[4,Ese(a,r.callback,iRt(i,r.timeout))]:[3,6];case 5:a=o.sent(),o.label=6;case 6:return r?.debug&&a.flush(),[2,a]}})})}var iRt,EPe=B(()=>{Zn();xse();iRt=function(t,e){var n=Date.now()-t;return Math.max((e??300)-n,0)}});var xPe=B(()=>{});var Gu=B(()=>{qNe();WNe();hse();ePe();xse();Ase();Az();gPe();wPe();EPe();bse();yse();vse();xPe();Tse();Sse()});function APe(t,e,n,r){var i,a=[t,e,n,r],o=Ls(t)?t.event:t;if(!o||!gh(o))throw new Error("Event missing");var s=Ls(t)?(i=t.properties)!==null&&i!==void 0?i:{}:Ls(e)?e:{},c={};xw(n)||(c=n??{}),Ls(t)&&!xw(e)&&(c=e??{});var l=a.find(xw);return[o,s,c,l]}function Cse(t,e,n,r,i){var a,o,s=null,c=null,l=[t,e,n,r,i],u=l.filter(gh);u.length===1?gh(l[1])?(c=l[1],s=null):(c=u[0],s=null):u.length===2&&(typeof l[0]=="string"&&(s=l[0]),typeof l[1]=="string"&&(c=l[1]));var f=l.find(xw),d=l.filter(Ls);return d.length===1?Ls(l[2])?(o={},a=l[2]):Ls(l[3])?(a={},o=l[3]):(a=d[0],o={}):d.length===2&&(a=d[0],o=d[1]),[s,c,a??(a={}),o??(o={}),f]}function _Pe(t,e,n,r){gz(t)&&(t=t.toString()),gz(e)&&(e=e.toString());var i=[t,e,n,r],a=i.filter(gh),o=a[0],s=o===void 0?t:o,c=a[1],l=c===void 0?null:c,u=i.filter(Ls)[0],f=u===void 0?{}:u,d=i.find(xw);return[s,l,f,d]}var Ise,TPe=B(()=>{Gu();Ise=function(t){return function(){for(var e,n,r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var o={},s=["callback","options","traits","id"],c=0,l=i;c<l.length;c++){var u=l[c],f=s.pop();if(f==="id"){if(gh(u)||gz(u)){o.id=u.toString();continue}if(u==null)continue;f=s.pop()}if((f==="traits"||f==="options")&&(u==null||Ls(u))&&(o[f]=u),xw(u)){o.callback=u;break}}return[(e=o.id)!==null&&e!==void 0?e:t.id(),(n=o.traits)!==null&&n!==void 0?n:{},(r=o.options)!==null&&r!==void 0?r:{},o.callback]}}});function nO(){return typeof window<"u"}function _z(){return!nO()}var rO=B(()=>{});function Rse(){return nO()?window.navigator.onLine:!0}function Vu(){return!Rse()}var sx=B(()=>{rO()});function SPe(t,e){return e=e||{},new Promise(function(n,r){var i=new XMLHttpRequest,a=[],o=[],s={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return a},entries:function(){return o},get:function(u){return s[u.toLowerCase()]},has:function(u){return u.toLowerCase()in s}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,f,d){a.push(f=f.toLowerCase()),o.push([f,d]),s[f]=s[f]?s[f]+","+d:d}),n(c())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}var CPe=B(()=>{});var cx,Tz=B(()=>{cx=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null}});var $b,iO=B(()=>{CPe();Tz();$b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=cx();return(n&&n.fetch||SPe).apply(void 0,t)}});var R5,aO=B(()=>{R5="1.81.1"});function lx(){return aRt}var aRt,Sz=B(()=>{aRt="npm"});var Cz,Ose=B(()=>{Cz="api.segment.io/v1"});function Nse(t){console.error("Error sending segment performance metrics",t)}var oRt,IPe,RPe=B(()=>{Zn();iO();aO();Sz();Ose();oRt=function(t,e,n){var r=e.reduce(function(i,a){var o=a.split(":"),s=o[0],c=o[1];return i[s]=c,i},{});return{type:"Counter",metric:t,value:1,tags:Ce(Ce({},r),{library:"analytics.js",library_version:n==="web"?"next-".concat(R5):"npm:next-".concat(R5)})}};IPe=(function(){function t(e){var n=this,r,i,a,o,s;if(this.host=(r=e?.host)!==null&&r!==void 0?r:Cz,this.sampleRate=(i=e?.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(a=e?.flushTimer)!==null&&a!==void 0?a:30*1e3,this.maxQueueSize=(o=e?.maxQueueSize)!==null&&o!==void 0?o:20,this.protocol=(s=e?.protocol)!==null&&s!==void 0?s:"https",this.queue=[],this.sampleRate>0){var c=!1,l=function(){c||(c=!0,n.flush().catch(Nse),c=!1,setTimeout(l,n.flushTimer))};l()}}return t.prototype.increment=function(e,n){if(e.includes("analytics_js.")&&n.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var r=oRt(e,n,lx());this.queue.push(r),e.includes("error")&&this.flush().catch(Nse)}},t.prototype.flush=function(){return et(this,void 0,void 0,function(){var e=this;return tt(this,function(n){switch(n.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(r){Nse(r),e.sampleRate=0})];case 1:return n.sent(),[2]}})})},t.prototype.send=function(){return et(this,void 0,void 0,function(){var e,n,r;return tt(this,function(i){return e={series:this.queue},this.queue=[],n={"Content-Type":"text/plain"},r="".concat(this.protocol,"://").concat(this.host,"/m"),[2,$b(r,{headers:n,body:JSON.stringify(e),method:"POST"})]})})},t})()});var Iz,Rz,Pse=B(()=>{Zn();Gu();RPe();Rz=(function(t){Fi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(n){Iz=new IPe(n)},e.prototype.increment=function(n,r,i){t.prototype.increment.call(this,n,r,i),Iz?.increment(n,i??[])},e})(_se)});var p0,wh=B(()=>{Zn();Gu();Pse();p0=(function(t){Fi(e,t);function e(n,r){return t.call(this,n,r,new Rz)||this}return e.system=function(){return new this({type:"track",event:"system"})},e})(Tw)});function sRt(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}function Bse(t){if(!sRt(t)||t.__t!==kse)return!1;for(var e in t)if(!cRt.includes(e))return!1;return!0}var kse,Mse,cRt,lRt,uRt,fRt,Oz,Nz,Dse,Lse=B(()=>{kse="bpc",Mse=function(t,e,n,r,i,a){return{__t:kse,c:e,p:r,u:t,s:n,t:i,r:a}},cRt=Object.keys(Mse("","","","","",""));lRt=function(t,e){return t.indexOf("?")>-1?t:t+e},uRt=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},fRt=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},Oz=function(t){var e=t.c,n=t.p,r=t.s,i=t.u,a=t.r,o=t.t,s=e?fRt(e):n,c=e?lRt(e,r):uRt(i);return{path:s,referrer:a,search:r,title:o,url:c}},Nz=function(){var t=document.querySelector("link[rel='canonical']");return Mse(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},Dse=function(){return Oz(Nz())}});function OPe(t,e){return Object.assign.apply(Object,li([{}],e.map(function(n){var r;if(t&&Object.prototype.hasOwnProperty.call(t,n))return r={},r[n]=t[n],r}),!1))}var NPe=B(()=>{Zn()});var Sw,PPe=B(()=>{Zn();NPe();Lse();Sw=function(t,e){e===void 0&&(e=Dse());var n=t.context,r;t.type==="page"&&(r=t.properties&&OPe(t.properties,Object.keys(e)),t.properties=Ce(Ce(Ce({},e),t.properties),t.name?{name:t.name}:{})),n.page=Ce(Ce(Ce({},e),r),n.page)}});var Use=B(()=>{Lse();PPe()});var kPe=B(()=>{});var MPe,Fse=B(()=>{Zn();xz();Use();Gu();kPe();MPe=(function(t){Fi(e,t);function e(n){var r=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(ox())},onEventMethodCall:function(i){var a=i.options;r.maybeUpdateAnonId(a)},onFinishedEvent:function(i){return r.addIdentity(i),i}})||this;return r.user=n,r}return e.prototype.maybeUpdateAnonId=function(n){n?.anonymousId&&this.user.anonymousId(n.anonymousId)},e.prototype.addIdentity=function(n){this.user.id()&&(n.userId=this.user.id()),this.user.anonymousId()&&(n.anonymousId=this.user.anonymousId())},e.prototype.track=function(n,r,i,a,o){var s=t.prototype.track.call(this,n,r,i,a);return Sw(s,o),s},e.prototype.page=function(n,r,i,a,o,s){var c=t.prototype.page.call(this,n,r,i,a,o);return Sw(c,s),c},e.prototype.screen=function(n,r,i,a,o,s){var c=t.prototype.screen.call(this,n,r,i,a,o);return Sw(c,s),c},e.prototype.identify=function(n,r,i,a,o){var s=t.prototype.identify.call(this,n,r,i,a);return Sw(s,o),s},e.prototype.group=function(n,r,i,a,o){var s=t.prototype.group.call(this,n,r,i,a);return Sw(s,o),s},e.prototype.alias=function(n,r,i,a,o){var s=t.prototype.alias.call(this,n,r,i,a);return Sw(s,o),s},e})(XNe)});var BPe,Hse=B(()=>{BPe=function(t){return"addMiddleware"in t&&t.type==="destination"}});var oO=B(()=>{Gu()});function LPe(t){var e=vh.getItem(t);return(e?JSON.parse(e):[]).map(function(n){return new p0(n.event,n.id)})}function dRt(t,e){var n=LPe(t),r=li(li([],e,!0),n,!0),i=r.reduce(function(a,o){var s;return Ce(Ce({},a),(s={},s[o.id]=o,s))},{});vh.setItem(t,JSON.stringify(Object.values(i)))}function UPe(t){var e=vh.getItem(t);return e?JSON.parse(e):{}}function pRt(t,e){var n=UPe(t);vh.setItem(t,JSON.stringify(Ce(Ce({},n),e)))}function DPe(t){vh.removeItem(t)}function zse(t,e,n){n===void 0&&(n=0);var r=50,i="persisted-queue:v1:".concat(t,":lock"),a=function(l){return new Date().getTime()>l},o=vh.getItem(i),s=o?JSON.parse(o):null,c=s===null||a(s);if(c){vh.setItem(i,JSON.stringify(hRt()+r)),e(),vh.removeItem(i);return}!c&&n<3?setTimeout(function(){zse(t,e,n+1)},r):console.error("Unable to retrieve lock")}var vh,hRt,qb,sO=B(()=>{Zn();oO();wh();rO();vh={getItem:function(){},setItem:function(){},removeItem:function(){}};try{vh=nO()&&window.localStorage?window.localStorage:vh}catch(t){console.warn("Unable to access localStorage",t)}hRt=function(){return new Date().getTime()};qb=(function(t){Fi(e,t);function e(n,r){var i=t.call(this,n,[])||this,a="persisted-queue:v1:".concat(r,":items"),o="persisted-queue:v1:".concat(r,":seen"),s=[],c={};return zse(r,function(){try{s=LPe(a),c=UPe(o),DPe(a),DPe(o),i.queue=li(li([],s,!0),i.queue,!0),i.seen=Ce(Ce({},c),i.seen)}catch(l){console.error(l)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var l=li(li([],i.queue,!0),i.future,!0);try{zse(r,function(){dRt(a,l),pRt(o,i.seen)})}catch(u){console.error(u)}}}),i}return e})(C5)});var FPe,HPe=B(()=>{Zn();sO();Gu();sx();FPe=(function(t){Fi(e,t);function e(n){return t.call(this,typeof n=="string"?new qb(4,n):n)||this}return e.prototype.flush=function(){return et(this,void 0,void 0,function(){return tt(this,function(n){return Vu()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e})(bPe)});function ux(t){for(var e=t.constructor.prototype,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];if(i!=="constructor"){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);a&&typeof a.value=="function"&&(t[i]=t[i].bind(t))}}return t}var jse=B(()=>{});function Pz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function Gse(t,e){function n(i,a,o){if(!(typeof document>"u")){o=Pz({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,o[c]!==!0&&(s+="="+o[c].split(";")[0]));return document.cookie=i+"="+t.write(a,i)+s}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],o={},s=0;s<a.length;s++){var c=a[s].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(o[u]=t.read(l,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,a){n(i,"",Pz({},a,{expires:-1}))},withAttributes:function(i){return Gse(this.converter,Pz({},this.attributes,i))},withConverter:function(i){return Gse(Pz({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var mRt,yRt,pd,kz=B(()=>{mRt={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};yRt=Gse(mRt,{path:"/"}),pd=yRt});function bRt(t){var e=t.hostname,n=e.split("."),r=n[n.length-1],i=[];if(n.length===4&&parseInt(r,10)>0||n.length<=1)return i;for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));return i}function gRt(t){try{return new URL(t)}catch{return}}function Mz(t){var e=gRt(t);if(e)for(var n=bRt(e),r=0;r<n.length;++r){var i="__tld__",a=n[r],o={domain:"."+a};try{if(pd.set(i,"1",o),pd.get(i))return pd.remove(i,o),a}catch{return}}}var Vse=B(()=>{kz()});var wRt,Bz,Kse=B(()=>{Zn();kz();Vse();wRt=365,Bz=(function(){function t(e){e===void 0&&(e=t.defaults),this.options=Ce(Ce({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:wRt,domain:Mz(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var n;try{var r=pd.get(e);if(r==null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return null}},t.prototype.set=function(e,n){typeof n=="string"?pd.set(e,n,this.opts()):n===null?pd.remove(e,this.opts()):pd.set(e,JSON.stringify(n),this.opts())},t.prototype.remove=function(e){return pd.remove(e,this.opts())},t})()});var zPe,$se=B(()=>{zPe=(function(){function t(){}return t.prototype.localStorageWarning=function(e,n){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(n))},t.prototype.get=function(e){var n;try{var r=localStorage.getItem(e);if(r===null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t})()});var fx,qse=B(()=>{fx=(function(){function t(){this.cache={}}return t.prototype.get=function(e){var n;return(n=this.cache[e])!==null&&n!==void 0?n:null},t.prototype.set=function(e,n){this.cache[e]=n},t.prototype.remove=function(e){delete this.cache[e]},t})()});var Us,Dz=B(()=>{Us={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"}});function Lz(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(Us).includes(e)})}function jPe(t){return typeof t=="object"&&t.name!==void 0}var Wse=B(()=>{Dz()});var Yse,Eh,GPe=B(()=>{Yse=function(t,e,n,r){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(n,'" | Err: ').concat(r))},Eh=(function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var n=null,r=0,i=this.stores;r<i.length;r++){var a=i[r];try{if(n=a.get(e),n!=null)return n}catch(o){Yse(a,"get",e,o)}}return null},t.prototype.set=function(e,n){this.stores.forEach(function(r){try{r.set(e,n)}catch(i){Yse(r,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(n){try{n.remove(e)}catch(r){Yse(n,"remove",e,r)}})},t.prototype.getAndSync=function(e){var n=this.get(e),r=typeof n=="number"?n.toString():n;return this.set(e,r),r},t})()});function cO(t){var e=t.map(function(n){var r,i;switch(jPe(n)?(r=n.name,i=n.settings):r=n,r){case Us.Cookie:return new Bz(i);case Us.LocalStorage:return new zPe;case Us.Memory:return new fx;default:throw new Error("Unknown Store Type: ".concat(n))}});return e}function Uz(t,e){return t.map(function(n){return e&&n===Us.Cookie?{name:n,settings:e}:n})}var Fz=B(()=>{Kse();$se();qse();Wse();Dz();Dz();$se();Kse();qse();GPe();Wse()});var Cw,Jse,VPe,KPe,Qse=B(()=>{Zn();xz();jse();Fz();Cw={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Jse=(function(){function t(e,n){e===void 0&&(e=Cw);var r=this,i,a,o,s;this.options={},this.id=function(l){if(r.options.disable)return null;var u=r.identityStore.getAndSync(r.idKey);if(l!==void 0){r.identityStore.set(r.idKey,l);var f=l!==u&&u!==null&&l!==null;f&&r.anonymousId(null)}var d=r.identityStore.getAndSync(r.idKey);if(d)return d;var p=r.legacyUserStore.get(Cw.cookie.oldKey);return p?typeof p=="object"?p.id:p:null},this.anonymousId=function(l){var u,f;if(r.options.disable)return null;if(l===void 0){var d=(u=r.identityStore.getAndSync(r.anonKey))!==null&&u!==void 0?u:(f=r.legacySIO())===null||f===void 0?void 0:f[0];if(d)return d}return l===null?(r.identityStore.set(r.anonKey,null),r.identityStore.getAndSync(r.anonKey)):(r.identityStore.set(r.anonKey,l??ox()),r.identityStore.getAndSync(r.anonKey))},this.traits=function(l){var u;if(!r.options.disable)return l===null&&(l={}),l&&r.traitsStore.set(r.traitsKey,l??{}),(u=r.traitsStore.get(r.traitsKey))!==null&&u!==void 0?u:{}},this.options=Ce(Ce({},Cw),e),this.cookieOptions=n,this.idKey=(a=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&a!==void 0?a:Cw.cookie.key,this.traitsKey=(s=(o=e.localStorage)===null||o===void 0?void 0:o.key)!==null&&s!==void 0?s:Cw.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,n),this.legacyUserStore=this.createStorage(this.options,n,function(l){return l===Us.Cookie}),this.traitsStore=this.createStorage(this.options,n,function(l){return l!==Us.Cookie});var c=this.legacyUserStore.get(Cw.cookie.oldKey);c&&typeof c=="object"&&(c.id&&this.id(c.id),c.traits&&this.traits(c.traits)),ux(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var n=e.split("----"),r=n[0],i=n[1];return[r,i]},t.prototype.identify=function(e,n){if(!this.options.disable){n=n??{};var r=this.id();(r===null||r===e)&&(n=Ce(Ce({},this.traits()),n)),e&&this.id(e),this.traits(n)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,n,r){var i=[Us.LocalStorage,Us.Cookie,Us.Memory];return e.disable?new Eh([]):e.persist?(e.storage!==void 0&&e.storage!==null&&Lz(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(a){return a!==Us.LocalStorage})),r&&(i=i.filter(r)),new Eh(cO(Uz(i,n)))):new Eh([new fx])},t.defaults=Cw,t})(),VPe={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},KPe=(function(t){Fi(e,t);function e(n,r){n===void 0&&(n=VPe);var i=t.call(this,Ce(Ce({},VPe),n),r)||this;return i.anonymousId=function(a){},ux(i),i}return e})(Jse)});function lO(){return window[Zse]}function $Pe(t){Zse=t}function qPe(t){window[Zse]=t}var Zse,uO=B(()=>{Zse="analytics"});var WPe,YPe=B(()=>{WPe=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"}});function Hz(t,e){return et(this,void 0,void 0,function(){var n,r;return tt(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,n=t[e.method].apply(t,e.args),WPe(n)?[4,n]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(n),[3,4];case 3:return r=i.sent(),e.reject(r),[3,4];case 4:return[2]}})})}var JPe,QPe,ZPe,XPe,eke,tke,Iw,nke,fO,vRt,rke,Xse=B(()=>{Zn();YPe();aO();uO();Use();Sz();JPe=function(t,e,n){n.getAndRemove(t).forEach(function(r){Hz(e,r).catch(console.error)})},QPe=function(t,e){return et(void 0,void 0,void 0,function(){var n,r,i;return tt(this,function(a){switch(a.label){case 0:n=0,r=e.getAndRemove("addSourceMiddleware"),a.label=1;case 1:return n<r.length?(i=r[n],[4,Hz(t,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},ZPe=function(t,e){return et(void 0,void 0,void 0,function(){var n,r,i;return tt(this,function(a){switch(a.label){case 0:n=0,r=e.getAndRemove("register"),a.label=1;case 1:return n<r.length?(i=r[n],[4,Hz(t,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},XPe=JPe.bind(void 0,"on"),eke=JPe.bind(void 0,"setAnonymousId"),tke=function(t,e){Object.keys(e.calls).forEach(function(n){e.getAndRemove(n).forEach(function(r){setTimeout(function(){Hz(t,r).catch(console.error)},0)})})},Iw=function(t){if(nke(t)){var e=t.pop();return Oz(e)}},nke=function(t){var e=t[t.length-1];return Bse(e)},fO=(function(){function t(e,n,r,i){r===void 0&&(r=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=r,this.reject=i,this.called=!1,this.args=n}return t})(),vRt=(function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n;return(n=this.calls[e])!==null&&n!==void 0?n:[]},t.prototype.getAndRemove=function(e){var n=this.get(e);return this.calls[e]=[],n},t.prototype.add=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var a=["track","screen","alias","group","page","identify"];a.includes(i.method)&&!nke(i.args)&&(i.args=li(li([],i.args,!0),[Nz()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){if(lx()!=="npm"){var e=lO();if(Array.isArray(e)){var n=e.splice(0,e.length),r=n.map(function(i){var a=i[0],o=i.slice(1);return new fO(a,o)});this.add.apply(this,r)}}},t})();rke=(function(){function t(e){var n=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=R5,this._preInitBuffer=new vRt,this._promise=e(this._preInitBuffer),this._promise.then(function(r){var i=r[0],a=r[1];n.instance=i,n.ctx=a}).catch(function(){})}return t.prototype.then=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).then.apply(e,n)},t.prototype.catch=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).catch.apply(e,n)},t.prototype.finally=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).finally.apply(e,n)},t.prototype._createMethod=function(e){var n=this;return function(){for(var r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n.instance){var o=(r=n.instance)[e].apply(r,i);return Promise.resolve(o)}return new Promise(function(s,c){n._preInitBuffer.add(new fO(e,i,s,c))})}},t.prototype._createChainableMethod=function(e){var n=this;return function(){for(var r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return n.instance?((r=n.instance)[e].apply(r,i),n):(n._preInitBuffer.add(new fO(e,i)),n)}},t})()});var dO=le((zFn,dx)=>{dx.exports=e0e(ERt);dx.exports.find=dx.exports;dx.exports.replace=function(t,e,n,r){return e0e(ARt).call(this,t,e,n,r),t};dx.exports.del=function(t,e,n){return e0e(xRt).call(this,t,e,null,n),t};function e0e(t){return function(e,n,r,i){var a=i&&TRt(i.normalizer)?i.normalizer:_Rt;n=a(n);for(var o,s=!1;!s;)c();function c(){for(o in e){var l=a(o);if(n.indexOf(l)===0){var u=n.substr(l.length);if(u.charAt(0)==="."||u.length===0){n=u.substr(1);var f=e[o];if(f==null){s=!0;return}if(!n.length){s=!0;return}e=f;return}}}o=void 0,s=!0}if(o)return e==null?e:t(e,o,r)}}function ERt(t,e){if(t.hasOwnProperty(e))return t[e]}function xRt(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function ARt(t,e,n){return t.hasOwnProperty(e)&&(t[e]=n),t}function _Rt(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function TRt(t){return typeof t=="function"}});var ike=le(pO=>{"use strict";var SRt=pO&&pO.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pO,"__esModule",{value:!0});var Wb=SRt(dO());function px(t,e){return function(){var n=this.traits(),r=this.properties?this.properties():{};return Wb.default(n,"address."+t)||Wb.default(n,t)||(e?Wb.default(n,"address."+e):null)||(e?Wb.default(n,e):null)||Wb.default(r,"address."+t)||Wb.default(r,t)||(e?Wb.default(r,"address."+e):null)||(e?Wb.default(r,e):null)}}function CRt(t){t.zip=px("postalCode","zip"),t.country=px("country"),t.street=px("street"),t.state=px("state"),t.city=px("city"),t.region=px("region")}pO.default=CRt});var ake=le(zz=>{"use strict";Object.defineProperty(zz,"__esModule",{value:!0});zz.clone=void 0;function t0e(t){if(typeof t!="object")return t;if(Object.prototype.toString.call(t)==="[object Object]"){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t0e(t[n]));return e}else return Array.isArray(t)?t.map(t0e):t}zz.clone=t0e});var oke=le(n0e=>{"use strict";Object.defineProperty(n0e,"__esModule",{value:!0});var IRt={Salesforce:!0};function RRt(t){return!IRt[t]}n0e.default=RRt});var i0e=le(r0e=>{"use strict";var ske=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;r0e.parse=function(t){var e=[1,5,6,7,11,12],n=ske.exec(t),r=0;if(!n)return new Date(t);for(var i=0,a;a=e[i];i++)n[a]=parseInt(n[a],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0,n[4]===" "?r=new Date().getTimezoneOffset():n[9]!=="Z"&&n[10]&&(r=n[11]*60+n[12],n[10]==="+"&&(r=0-r));var o=Date.UTC(n[1],n[2],n[3],n[5],n[6]+r,n[7],n[8]);return new Date(o)};r0e.is=function(t,e){return typeof t!="string"||e&&/^\d{4}-\d{2}-\d{2}/.test(t)===!1?!1:ske.test(t)}});var cke=le(a0e=>{"use strict";var ORt=/\d{13}/;a0e.is=function(t){return ORt.test(t)};a0e.parse=function(t){return t=parseInt(t,10),new Date(t)}});var lke=le(o0e=>{"use strict";var NRt=/\d{10}/;o0e.is=function(t){return NRt.test(t)};o0e.parse=function(t){var e=parseInt(t,10)*1e3;return new Date(e)}});var jz=le((WFn,hke)=>{"use strict";var uke=i0e(),fke=cke(),dke=lke(),PRt=Object.prototype,pke=PRt.toString;function kRt(t){return pke.call(t)==="[object Date]"}function MRt(t){return pke.call(t)==="[object Number]"}hke.exports=function(e){return kRt(e)?e:MRt(e)?new Date(BRt(e)):uke.is(e)?uke.parse(e):fke.is(e)?fke.parse(e):dke.is(e)?dke.parse(e):new Date(e)};function BRt(t){return t<315576e5?t*1e3:t}});var bke=le((YFn,yke)=>{"use strict";var mke=i0e();yke.exports=s0e;function s0e(t,e){return e===void 0&&(e=!0),t&&typeof t=="object"?DRt(t,e):Array.isArray(t)?LRt(t,e):mke.is(t,e)?mke.parse(t):t}function DRt(t,e){return Object.keys(t).forEach(function(n){t[n]=s0e(t[n],e)}),t}function LRt(t,e){return t.forEach(function(n,r){t[r]=s0e(n,e)}),t}});var Yb=le(mx=>{"use strict";var hO=mx&&mx.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mx,"__esModule",{value:!0});mx.Facade=void 0;var URt=hO(ike()),hx=ake(),FRt=hO(oke()),HRt=hO(jz()),c0e=hO(dO()),zRt=hO(bke());function Ku(t,e){e=e||{},this.raw=hx.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=hx.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=HRt.default(t.timestamp):t.timestamp=new Date,e.traverse&&zRt.default(t),this.opts=e,this.obj=t}mx.Facade=Ku;var xa=Ku.prototype;xa.proxy=function(t){var e=t.split(".");t=e.shift();var n=this[t]||this.obj[t];return n&&(typeof n=="function"&&(n=n.call(this)||{}),e.length===0?this.opts.clone?l0e(n):n:(n=c0e.default(n,e.join(".")),this.opts.clone?l0e(n):n))};xa.field=function(t){var e=this.obj[t];return this.opts.clone?l0e(e):e};Ku.proxy=function(t){return function(){return this.proxy(t)}};Ku.field=function(t){return function(){return this.field(t)}};Ku.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var n=this.proxy(t);return n&&(n=[this.opts.clone?hx.clone(n):n]),n||[]}};Ku.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var n=this.proxy(t+"s");if(Array.isArray(n))return n[0]}};xa.json=function(){var t=this.opts.clone?hx.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t};xa.rawEvent=function(){return this.raw};xa.options=function(t){var e=this.obj.options||this.obj.context||{},n=this.opts.clone?hx.clone(e):e;if(!t)return n;if(this.enabled(t)){var r=this.integrations(),i=r[t]||c0e.default(r,t);return typeof i!="object"&&(i=c0e.default(this.options(),t)),typeof i=="object"?i:{}}};xa.context=xa.options;xa.enabled=function(t){var e=this.proxy("options.providers.all");typeof e!="boolean"&&(e=this.proxy("options.all")),typeof e!="boolean"&&(e=this.proxy("integrations.all")),typeof e!="boolean"&&(e=!0);var n=e&&FRt.default(t),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(t)&&(n=r.providers[t]),r.hasOwnProperty(t)){var i=r[t];typeof i=="boolean"?n=i:n=!0}return!!n};xa.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};xa.active=function(){var t=this.proxy("options.active");return t==null&&(t=!0),t};xa.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};xa.sessionId=xa.anonymousId;xa.groupId=Ku.proxy("options.groupId");xa.traits=function(t){var e=this.proxy("options.traits")||{},n=this.userId();t=t||{},n&&(e.id=n);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=this[r]==null?this.proxy("options.traits."+r):this[r]();if(i==null)continue;e[t[r]]=i,delete e[r]}return e};xa.library=function(){var t=this.proxy("options.library");return t?typeof t=="string"?{name:t,version:null}:t:{name:"unknown",version:null}};xa.device=function(){var t=this.proxy("context.device");(typeof t!="object"||t===null)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t};xa.userAgent=Ku.proxy("context.userAgent");xa.timezone=Ku.proxy("context.timezone");xa.timestamp=Ku.field("timestamp");xa.channel=Ku.field("channel");xa.ip=Ku.proxy("context.ip");xa.userId=Ku.field("userId");URt.default(xa);function l0e(t){return hx.clone(t)}});var wke=le(yx=>{"use strict";var jRt=yx&&yx.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yx,"__esModule",{value:!0});yx.Alias=void 0;var GRt=jRt(Qf()),gke=Yb();function D1(t,e){gke.Facade.call(this,t,e)}yx.Alias=D1;GRt.default(D1,gke.Facade);D1.prototype.action=function(){return"alias"};D1.prototype.type=D1.prototype.action;D1.prototype.previousId=function(){return this.field("previousId")||this.field("from")};D1.prototype.from=D1.prototype.previousId;D1.prototype.userId=function(){return this.field("userId")||this.field("to")};D1.prototype.to=D1.prototype.userId});var mO=le(u0e=>{"use strict";Object.defineProperty(u0e,"__esModule",{value:!0});var VRt=/.+\@.+\..+/;function KRt(t){return VRt.test(t)}u0e.default=KRt});var vke=le(bx=>{"use strict";var f0e=bx&&bx.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bx,"__esModule",{value:!0});bx.Group=void 0;var $Rt=f0e(Qf()),qRt=f0e(mO()),WRt=f0e(jz()),gx=Yb();function d0e(t,e){gx.Facade.call(this,t,e)}bx.Group=d0e;$Rt.default(d0e,gx.Facade);var L1=d0e.prototype;L1.action=function(){return"group"};L1.type=L1.action;L1.groupId=gx.Facade.field("groupId");L1.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return WRt.default(t)};L1.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(qRt.default(e))return e};L1.traits=function(t){var e=this.properties(),n=this.groupId();t=t||{},n&&(e.id=n);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=this[r]==null?this.proxy("traits."+r):this[r]();if(i==null)continue;e[t[r]]=i,delete e[r]}return e};L1.name=gx.Facade.proxy("traits.name");L1.industry=gx.Facade.proxy("traits.industry");L1.employees=gx.Facade.proxy("traits.employees");L1.properties=function(){return this.field("traits")||this.field("properties")||{}}});var h0e=le(vx=>{"use strict";var Gz=vx&&vx.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vx,"__esModule",{value:!0});vx.Identify=void 0;var xh=Yb(),wx=Gz(dO()),YRt=Gz(Qf()),JRt=Gz(mO()),Eke=Gz(jz()),Rw=function(t){return t.trim()};function p0e(t,e){xh.Facade.call(this,t,e)}vx.Identify=p0e;YRt.default(p0e,xh.Facade);var Aa=p0e.prototype;Aa.action=function(){return"identify"};Aa.type=Aa.action;Aa.traits=function(t){var e=this.field("traits")||{},n=this.userId();t=t||{},n&&(e.id=n);for(var r in t){var i=this[r]==null?this.proxy("traits."+r):this[r]();i!=null&&(e[t[r]]=i,r!==t[r]&&delete e[r])}return e};Aa.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(JRt.default(e))return e};Aa.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return Eke.default(t)};Aa.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return Eke.default(t)};Aa.companyName=function(){return this.proxy("traits.company.name")};Aa.name=function(){var t=this.proxy("traits.name");if(typeof t=="string")return Rw(t);var e=this.firstName(),n=this.lastName();if(e&&n)return Rw(e+" "+n)};Aa.firstName=function(){var t=this.proxy("traits.firstName");if(typeof t=="string")return Rw(t);var e=this.proxy("traits.name");if(typeof e=="string")return Rw(e).split(" ")[0]};Aa.lastName=function(){var t=this.proxy("traits.lastName");if(typeof t=="string")return Rw(t);var e=this.proxy("traits.name");if(typeof e=="string"){var n=Rw(e).indexOf(" ");if(n!==-1)return Rw(e.substr(n+1))}};Aa.uid=function(){return this.userId()||this.username()||this.email()};Aa.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};Aa.age=function(){var t=this.birthday(),e=wx.default(this.traits(),"age");if(e!=null)return e;if(t instanceof Date){var n=new Date;return n.getFullYear()-t.getFullYear()}};Aa.avatar=function(){var t=this.traits();return wx.default(t,"avatar")||wx.default(t,"photoUrl")||wx.default(t,"avatarUrl")};Aa.position=function(){var t=this.traits();return wx.default(t,"position")||wx.default(t,"jobTitle")};Aa.username=xh.Facade.proxy("traits.username");Aa.website=xh.Facade.one("traits.website");Aa.websites=xh.Facade.multi("traits.website");Aa.phone=xh.Facade.one("traits.phone");Aa.phones=xh.Facade.multi("traits.phone");Aa.address=xh.Facade.proxy("traits.address");Aa.gender=xh.Facade.proxy("traits.gender");Aa.birthday=xh.Facade.proxy("traits.birthday")});var Vz=le(Ex=>{"use strict";var m0e=Ex&&Ex.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.Track=void 0;var QRt=m0e(Qf()),Fs=Yb(),ZRt=h0e(),XRt=m0e(mO()),xke=m0e(dO());function y0e(t,e){Fs.Facade.call(this,t,e)}Ex.Track=y0e;QRt.default(y0e,Fs.Facade);var Wn=y0e.prototype;Wn.action=function(){return"track"};Wn.type=Wn.action;Wn.event=Fs.Facade.field("event");Wn.value=Fs.Facade.proxy("properties.value");Wn.category=Fs.Facade.proxy("properties.category");Wn.id=Fs.Facade.proxy("properties.id");Wn.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};Wn.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};Wn.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};Wn.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};Wn.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};Wn.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};Wn.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};Wn.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};Wn.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};Wn.sku=Fs.Facade.proxy("properties.sku");Wn.tax=Fs.Facade.proxy("properties.tax");Wn.name=Fs.Facade.proxy("properties.name");Wn.price=Fs.Facade.proxy("properties.price");Wn.total=Fs.Facade.proxy("properties.total");Wn.repeat=Fs.Facade.proxy("properties.repeat");Wn.coupon=Fs.Facade.proxy("properties.coupon");Wn.shipping=Fs.Facade.proxy("properties.shipping");Wn.discount=Fs.Facade.proxy("properties.discount");Wn.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};Wn.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};Wn.description=Fs.Facade.proxy("properties.description");Wn.plan=Fs.Facade.proxy("properties.plan");Wn.subtotal=function(){var t=xke.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var n=this.tax();n&&(e-=n),n=this.shipping(),n&&(e-=n),n=this.discount(),n&&(e+=n)}return e};Wn.products=function(){var t=this.properties(),e=xke.default(t,"products");return Array.isArray(e)?e.filter(function(n){return n!==null}):[]};Wn.quantity=function(){var t=this.obj.properties||{};return t.quantity||1};Wn.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"};Wn.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};Wn.query=Fs.Facade.proxy("options.query");Wn.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=this[n]==null?this.proxy("properties."+n):this[n]();if(r==null)continue;e[t[n]]=r,delete e[n]}return e};Wn.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};Wn.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(XRt.default(e))return e};Wn.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),n=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(n)&&(t=this.proxy("properties.total")),eOt(t)};Wn.cents=function(){var t=this.revenue();return typeof t!="number"?this.value()||0:t*100};Wn.identify=function(){var t=this.json();return t.traits=this.traits(),new ZRt.Identify(t,this.opts)};function eOt(t){if(t){if(typeof t=="number")return t;if(typeof t=="string"&&(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t)))return t}}});var g0e=le(xx=>{"use strict";var Ake=xx&&xx.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xx,"__esModule",{value:!0});xx.Page=void 0;var tOt=Ake(Qf()),Ow=Yb(),nOt=Vz(),rOt=Ake(mO());function b0e(t,e){Ow.Facade.call(this,t,e)}xx.Page=b0e;tOt.default(b0e,Ow.Facade);var Bl=b0e.prototype;Bl.action=function(){return"page"};Bl.type=Bl.action;Bl.category=Ow.Facade.field("category");Bl.name=Ow.Facade.field("name");Bl.title=Ow.Facade.proxy("properties.title");Bl.path=Ow.Facade.proxy("properties.path");Bl.url=Ow.Facade.proxy("properties.url");Bl.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};Bl.properties=function(t){var e=this.field("properties")||{},n=this.category(),r=this.name();t=t||{},n&&(e.category=n),r&&(e.name=r);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=this[i]==null?this.proxy("properties."+i):this[i]();if(a==null)continue;e[t[i]]=a,i!==t[i]&&delete e[i]}return e};Bl.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(rOt.default(e))return e};Bl.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e};Bl.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"};Bl.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new nOt.Track(e,this.opts)}});var Tke=le(Ax=>{"use strict";var iOt=Ax&&Ax.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.Screen=void 0;var aOt=iOt(Qf()),_ke=g0e(),oOt=Vz();function Nw(t,e){_ke.Page.call(this,t,e)}Ax.Screen=Nw;aOt.default(Nw,_ke.Page);Nw.prototype.action=function(){return"screen"};Nw.prototype.type=Nw.prototype.action;Nw.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"};Nw.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new oOt.Track(e,this.opts)}});var Cke=le(_x=>{"use strict";var sOt=_x&&_x.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_x,"__esModule",{value:!0});_x.Delete=void 0;var cOt=sOt(Qf()),Ske=Yb();function w0e(t,e){Ske.Facade.call(this,t,e)}_x.Delete=w0e;cOt.default(w0e,Ske.Facade);w0e.prototype.type=function(){return"delete"}});var v0e=le(Io=>{"use strict";var Kz=Io&&Io.__assign||function(){return Kz=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kz.apply(this,arguments)};Object.defineProperty(Io,"__esModule",{value:!0});Io.Delete=Io.Screen=Io.Page=Io.Track=Io.Identify=Io.Group=Io.Alias=Io.Facade=void 0;var Ike=Yb();Object.defineProperty(Io,"Facade",{enumerable:!0,get:function(){return Ike.Facade}});var Rke=wke();Object.defineProperty(Io,"Alias",{enumerable:!0,get:function(){return Rke.Alias}});var Oke=vke();Object.defineProperty(Io,"Group",{enumerable:!0,get:function(){return Oke.Group}});var Nke=h0e();Object.defineProperty(Io,"Identify",{enumerable:!0,get:function(){return Nke.Identify}});var Pke=Vz();Object.defineProperty(Io,"Track",{enumerable:!0,get:function(){return Pke.Track}});var kke=g0e();Object.defineProperty(Io,"Page",{enumerable:!0,get:function(){return kke.Page}});var Mke=Tke();Object.defineProperty(Io,"Screen",{enumerable:!0,get:function(){return Mke.Screen}});var Bke=Cke();Object.defineProperty(Io,"Delete",{enumerable:!0,get:function(){return Bke.Delete}});Io.default=Kz(Kz({},Ike.Facade),{Alias:Rke.Alias,Group:Oke.Group,Identify:Nke.Identify,Track:Pke.Track,Page:kke.Page,Screen:Mke.Screen,Delete:Bke.Delete})});function Tx(t,e){var n=new Dl.Facade(t,e);return t.type==="track"&&(n=new Dl.Track(t,e)),t.type==="identify"&&(n=new Dl.Identify(t,e)),t.type==="page"&&(n=new Dl.Page(t,e)),t.type==="alias"&&(n=new Dl.Alias(t,e)),t.type==="group"&&(n=new Dl.Group(t,e)),t.type==="screen"&&(n=new Dl.Screen(t,e)),Object.defineProperty(n,"obj",{value:t,writable:!0}),n}var Dl,E0e=B(()=>{Dl=fe(v0e())});var Dke,Lke=B(()=>{Dke=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})}});var $z,x0e=B(()=>{Zn();$z=(function(t){Fi(e,t);function e(n,r){var i=t.call(this,n)||this;return i.retryTimeout=r,i.name="RateLimitError",i}return e})(Error)});var qz,A0e=B(()=>{Zn();qz=function(t){return Ce({"Content-Type":"text/plain"},typeof t=="function"?t():t)}});function _0e(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function fOt(t){return _0e(t)>=lOt-50}function dOt(t){return _0e(t)>=uOt-10}function pOt(t){var e=[],n=0;return t.forEach(function(r){var i=_0e(e[n]);i>=64&&n++,e[n]?e[n].push(r):e[n]=[r]}),e}function T0e(t,e){var n,r,i=[],a=!1,o=(n=e?.size)!==null&&n!==void 0?n:10,s=(r=e?.timeout)!==null&&r!==void 0?r:5e3,c=0;function l(h){var m;if(h.length!==0){var w=(m=h[0])===null||m===void 0?void 0:m.writeKey,g=h.map(function(x){var C=x,P=C.sentAt,D=bz(C,["sentAt"]);return D});return $b("https://".concat(t,"/b"),{credentials:e?.credentials,keepalive:e?.keepalive||a,headers:qz(e?.headers),method:"post",body:JSON.stringify({writeKey:w,batch:g,sentAt:new Date().toISOString()}),priority:e?.priority}).then(function(x){var C;if(x.status>=500)throw new Error("Bad response from server: ".concat(x.status));if(x.status===429){var P=(C=x.headers)===null||C===void 0?void 0:C.get("x-ratelimit-reset"),D=typeof P=="string"?parseInt(P)*1e3:s;throw new $z("Rate limit exceeded: ".concat(x.status),D)}})}}function u(h){var m;return h===void 0&&(h=1),et(this,void 0,void 0,function(){var w;return tt(this,function(g){return i.length?(w=i,i=[],[2,(m=l(w))===null||m===void 0?void 0:m.catch(function(x){var C,P=p0.system();P.log("error","Error sending batch",x),h<=((C=e?.maxRetries)!==null&&C!==void 0?C:10)&&(x.name==="RateLimitError"&&(c=x.retryTimeout),i.push.apply(i,w),i.map(function(D){if("_metadata"in D){var F=D;F._metadata=Ce(Ce({},F._metadata),{retryCount:h})}}),d(h+1))})]):[2]})})}var f;function d(h){h===void 0&&(h=1),!f&&(f=setTimeout(function(){f=void 0,u(h).catch(console.error)},c||s),c=0)}Dke(function(h){if(a=h,a&&i.length){var m=pOt(i).map(l);Promise.all(m).catch(console.error)}});function p(h,m){return et(this,void 0,void 0,function(){var w;return tt(this,function(g){return i.push(m),w=i.length>=o||fOt(i)||e?.keepalive&&dOt(i),[2,w||a?u():d()]})})}return{dispatch:p}}var lOt,uOt,Uke=B(()=>{Zn();iO();Lke();x0e();wh();A0e();lOt=500,uOt=64});function Fke(t){function e(n,r){return $b(n,{credentials:t?.credentials,keepalive:t?.keepalive,headers:qz(t?.headers),method:"post",body:JSON.stringify(r),priority:t?.priority}).then(function(i){var a;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var o=(a=i.headers)===null||a===void 0?void 0:a.get("x-ratelimit-reset"),s=o?parseInt(o)*1e3:5e3;throw new $z("Rate limit exceeded: ".concat(i.status),s)}})}return{dispatch:e}}var Hke=B(()=>{iO();x0e();A0e()});function zke(t,e,n,r,i){var a,o=t.user();delete e.options,e.writeKey=n?.apiKey,e.userId=e.userId||o.id(),e.anonymousId=e.anonymousId||o.anonymousId(),e.sentAt=new Date;var s=t.queue.failedInitializations||[];s.length>0&&(e._metadata={failedInitializations:s}),i!=null&&(i.attempts>1&&(e._metadata=Ce(Ce({},e._metadata),{retryCount:i.attempts})),i.attempts++);var c=[],l=[];for(var u in r){var f=r[u];u==="Segment.io"&&c.push(u),f.bundlingStatus==="bundled"&&c.push(u),f.bundlingStatus==="unbundled"&&l.push(u)}for(var d=0,p=n?.unbundledIntegrations||[];d<p.length;d++){var h=p[d];l.includes(h)||l.push(h)}var m=(a=n?.maybeBundledConfigIds)!==null&&a!==void 0?a:{},w=[];return c.sort().forEach(function(g){var x;((x=m[g])!==null&&x!==void 0?x:[]).forEach(function(C){w.push(C)})}),n?.addBundledMetadata!==!1&&(e._metadata=Ce(Ce({},e._metadata),{bundled:c.sort(),unbundled:l.sort(),bundledIds:w})),e}var jke=B(()=>{Zn()});var Wz,S0e=B(()=>{Zn();Wz=function(t,e){return et(void 0,void 0,void 0,function(){var n;return tt(this,function(r){return n=function(i){return et(void 0,void 0,void 0,function(){var a;return tt(this,function(o){switch(o.label){case 0:return t(i)?(a=n,[4,e()]):[3,2];case 1:return[2,a.apply(void 0,[o.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})}});function hOt(t,e){return et(this,void 0,void 0,function(){var n,r=this;return tt(this,function(i){switch(i.label){case 0:return n=[],Vu()?[2,e]:[4,Wz(function(){return e.length>0&&!Vu()},function(){return et(r,void 0,void 0,function(){var a,o,s;return tt(this,function(c){switch(c.label){case 0:return a=e.pop(),a?[4,I5(a,t)]:[2];case 1:return o=c.sent(),s=o instanceof p0,s||n.push(a),[2]}})})})];case 1:return i.sent(),n.map(function(a){return e.pushWithBackoff(a)}),[2,e]}})})}function Pw(t,e,n,r){var i=this;t||setTimeout(function(){return et(i,void 0,void 0,function(){var a,o;return tt(this,function(s){switch(s.label){case 0:return a=!0,[4,hOt(n,e)];case 1:return o=s.sent(),a=!1,e.todo>0&&r(a,o,n,r),[2]}})})},Math.random()*5e3)}var Gke=B(()=>{Zn();sx();wh();Gu();S0e()});function mOt(t,e){var n,r,i,a,o=t.user();return e.previousId=(i=(r=(n=e.previousId)!==null&&n!==void 0?n:e.from)!==null&&r!==void 0?r:o.id())!==null&&i!==void 0?i:o.anonymousId(),e.userId=(a=e.userId)!==null&&a!==void 0?a:e.to,delete e.from,delete e.to,e}function Kke(t,e,n){var r,i,a;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(c)),c.clear()});var o=(r=e?.apiKey)!==null&&r!==void 0?r:"",s=t.options.disableClientPersistence?new C5(t.queue.queue.maxAttempts,[]):new qb(t.queue.queue.maxAttempts,"".concat(o,":dest-Segment.io")),c=new Set,l=!1,u=(i=e?.apiHost)!==null&&i!==void 0?i:Cz,f=(a=e?.protocol)!==null&&a!==void 0?a:"https",d="".concat(f,"://").concat(u),p=e?.deliveryStrategy,h=p&&"strategy"in p&&p.strategy==="batching"?T0e(u,p.config):Fke(p?.config);function m(g){return et(this,void 0,void 0,function(){var x,C;return tt(this,function(P){return Vu()?(s.push(g),Pw(l,s,w,Pw),[2,g]):(c.add(g),x=g.event.type.charAt(0),C=Tx(g.event).json(),g.event.type==="track"&&delete C.traits,g.event.type==="alias"&&(C=mOt(t,C)),s.getAttempts(g)>=s.maxAttempts?(c.delete(g),[2,g]):[2,h.dispatch("".concat(d,"/").concat(x),zke(t,C,e,n,g)).then(function(){return g}).catch(function(D){if(g.log("error","Error sending event",D),D.name==="RateLimitError"){var F=D.retryTimeout;s.pushWithBackoff(g,F)}else s.pushWithBackoff(g);return Pw(l,s,w,Pw),g}).finally(function(){c.delete(g)})])})})}var w={metadata:{writeKey:o,apiHost:u,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:m,identify:m,page:m,alias:m,group:m,screen:m};return s.todo&&Pw(l,s,w,Pw),w}var Vke,C0e=B(()=>{Zn();sx();oO();sO();E0e();Uke();Hke();jke();Gke();Ose();Vke=function(t){return t.name==="Segment.io"}});var $ke=B(()=>{Gu()});var yO={};$t(yO,{form:()=>wOt,link:()=>gOt});function yOt(t){var e=t;return!!(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&e.button==1)}function bOt(t,e){return!!(t.target==="_blank"&&e)}function gOt(t,e,n,r){var i=this,a=[];return t?(t instanceof Element?a=[t]:"toArray"in t?a=t.toArray():a=t,a.forEach(function(o){o.addEventListener("click",function(s){var c,l,u=e instanceof Function?e(o):e,f=n instanceof Function?n(o):n,d=o.getAttribute("href")||o.getAttributeNS("http://www.w3.org/1999/xlink","href")||o.getAttribute("xlink:href")||((c=o.getElementsByTagName("a")[0])===null||c===void 0?void 0:c.getAttribute("href")),p=tO(i.track(u,f,r??{}),(l=i.settings.timeout)!==null&&l!==void 0?l:500);!bOt(o,d)&&!yOt(s)&&d&&(s.preventDefault?s.preventDefault():s.returnValue=!1,p.catch(console.error).then(function(){window.location.href=d}).catch(console.error))},!1)}),this):this}function wOt(t,e,n,r){var i=this;if(!t)return this;t instanceof HTMLFormElement&&(t=[t]);var a=t;return a.forEach(function(o){if(!(o instanceof Element))throw new TypeError("Must pass HTMLElement to trackForm/trackSubmit.");var s=function(l){var u;l.preventDefault?l.preventDefault():l.returnValue=!1;var f=e instanceof Function?e(o):e,d=n instanceof Function?n(o):n,p=tO(i.track(f,d,r??{}),(u=i.settings.timeout)!==null&&u!==void 0?u:500);p.catch(console.error).then(function(){o.submit()}).catch(console.error)},c=window.jQuery||window.Zepto;c?c(o).submit(s):o.addEventListener("submit",s,!1)}),this}var bO=B(()=>{$ke()});var qke={};$t(qke,{applyDestinationMiddleware:()=>gO,sourceMiddlewarePlugin:()=>vOt});function gO(t,e,n){return et(this,void 0,void 0,function(){function r(l,u){return et(this,void 0,void 0,function(){var f,d,p;return tt(this,function(h){switch(h.label){case 0:return f=!1,d=null,[4,u({payload:Tx(l,{clone:!0,traverse:!1}),integration:t,next:function(m){f=!0,m===null&&(d=null),m&&(d=m.obj)}})];case 1:return h.sent(),!f&&d!==null&&(d=d,d.integrations=Ce(Ce({},l.integrations),(p={},p[t]=!1,p))),[2,d]}})})}var i,a,o,s,c;return tt(this,function(l){switch(l.label){case 0:i=Tx(e,{clone:!0,traverse:!1}).rawEvent(),a=0,o=n,l.label=1;case 1:return a<o.length?(s=o[a],[4,r(i,s)]):[3,4];case 2:if(c=l.sent(),c===null)return[2,null];i=c,l.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})}function vOt(t,e){function n(r){return et(this,void 0,void 0,function(){var i;return tt(this,function(a){switch(a.label){case 0:return i=!1,[4,t({payload:Tx(r.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(o){i=!0,o&&(r.event=o.obj)}})];case 1:if(a.sent(),!i)throw new Ml({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,r]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(r){return Promise.resolve(r)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}var Yz=B(()=>{Zn();wh();E0e()});function I0e(t,e){return Object.keys(e).reduce(function(n,r){if(r.startsWith(t)){var i=r.substr(t.length);n[i]=e[r]}return n},{})}var Wke=B(()=>{});function Jz(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}var R0e=B(()=>{});var Yke={};$t(Yke,{queryString:()=>EOt});function EOt(t,e){var n=document.createElement("a");n.href=e;var r=n.search.slice(1),i=r.split("&").reduce(function(C,P){var D=P.split("="),F=D[0],H=D[1];return C[F]=Jz(H),C},{}),a=[],o=i.ajs_uid,s=i.ajs_event,c=i.ajs_aid,l=Ls(t.options.useQueryString)?t.options.useQueryString:{},u=l.aid,f=u===void 0?/.+/:u,d=l.uid,p=d===void 0?/.+/:d;if(c){var h=Array.isArray(i.ajs_aid)?i.ajs_aid[0]:i.ajs_aid;f.test(h)&&t.setAnonymousId(h)}if(o){var m=Array.isArray(i.ajs_uid)?i.ajs_uid[0]:i.ajs_uid;if(p.test(m)){var w=I0e("ajs_trait_",i);a.push(t.identify(m,w))}}if(s){var g=Array.isArray(i.ajs_event)?i.ajs_event[0]:i.ajs_event,x=I0e("ajs_prop_",i);a.push(t.track(g,x))}return Promise.all(a)}var Jke=B(()=>{Wke();R0e();Gu()});function xOt(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=e?10:1,i=n?new C5(r,[]):new qb(r,t);return new FPe(i)}function Ah(){console.warn(Jb)}var Jb,O0e,N0e,AOt,P0e,k0e,Qke=B(()=>{Zn();TPe();sx();wh();Gu();Aw();Fse();Hse();HPe();Qse();jse();sO();aO();oO();Tz();Fz();uO();Xse();C0e();Jb="This is being deprecated and will be not be available in future releases of Analytics JS",O0e=cx(),N0e=O0e?.analytics;AOt=(function(){function t(e,n){var r;this.timeout=300,this._getSegmentPluginMetadata=function(){var a;return(a=n.plugins.find(Vke))===null||a===void 0?void 0:a.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(r=e.cdnSettings)!==null&&r!==void 0?r:i,this.cdnURL=e.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var e,n;return(n=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||n===void 0?void 0:n.apiHost},enumerable:!1,configurable:!0}),t})();P0e=(function(t){Fi(e,t);function e(n,r,i,a,o){var s=this,c,l;s=t.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=Ah,s.addIntegrationMiddleware=Ah,s.listeners=Ah,s.addEventListener=Ah,s.removeAllListeners=Ah,s.removeListener=Ah,s.removeEventListener=Ah,s.hasListeners=Ah,s.add=Ah,s.addIntegration=Ah;var u=r?.cookie,f=(c=r?.disableClientPersistence)!==null&&c!==void 0?c:!1;s.queue=i??xOt("".concat(n.writeKey,":event-queue"),r?.retryQueue,f),s.settings=new AOt(n,s.queue);var d=r?.storage;return s._universalStorage=s.createStore(f,d,u),s._user=a??new Jse(Ce({persist:!f,storage:r?.storage},r?.user),u).load(),s._group=o??new KPe(Ce({persist:!f,storage:r?.storage},r?.group),u).load(),s.eventFactory=new MPe(s._user),s.integrations=(l=r?.integrations)!==null&&l!==void 0?l:{},s.options=r??{},ux(s),s}return e.prototype.createStore=function(n,r,i){return n?new Eh([new fx]):r&&Lz(r)?new Eh(cO(Uz(r.stores,i))):new Eh(cO([Us.LocalStorage,{name:Us.Cookie,settings:i},Us.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a,o,s,c,l,u,f=this;return tt(this,function(d){return i=Iw(n),a=APe.apply(void 0,n),o=a[0],s=a[1],c=a[2],l=a[3],u=this.eventFactory.track(o,s,c,this.integrations,i),[2,this._dispatch(u,l).then(function(p){return f.emit("track",o,p.event.properties,p.event.options),p})]})})},e.prototype.page=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a,o,s,c,l,u,f,d=this;return tt(this,function(p){return i=Iw(n),a=Cse.apply(void 0,n),o=a[0],s=a[1],c=a[2],l=a[3],u=a[4],f=this.eventFactory.page(o,s,c,l,this.integrations,i),[2,this._dispatch(f,u).then(function(h){return d.emit("page",o,s,h.event.properties,h.event.options),h})]})})},e.prototype.identify=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a,o,s,c,l,u,f=this;return tt(this,function(d){return i=Iw(n),a=Ise(this._user).apply(void 0,n),o=a[0],s=a[1],c=a[2],l=a[3],this._user.identify(o,s),u=this.eventFactory.identify(this._user.id(),this._user.traits(),c,this.integrations,i),[2,this._dispatch(u,l).then(function(p){return f.emit("identify",p.event.userId,p.event.traits,p.event.options),p})]})})},e.prototype.group=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=Iw(r);if(r.length===0)return this._group;var o=Ise(this._group).apply(void 0,r),s=o[0],c=o[1],l=o[2],u=o[3];this._group.identify(s,c);var f=this._group.id(),d=this._group.traits(),p=this.eventFactory.group(f,d,l,this.integrations,a);return this._dispatch(p,u).then(function(h){return n.emit("group",h.event.groupId,h.event.traits,h.event.options),h})},e.prototype.alias=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a,o,s,c,l,u,f=this;return tt(this,function(d){return i=Iw(n),a=_Pe.apply(void 0,n),o=a[0],s=a[1],c=a[2],l=a[3],u=this.eventFactory.alias(o,s,c,this.integrations,i),[2,this._dispatch(u,l).then(function(p){return f.emit("alias",o,s,p.event.options),p})]})})},e.prototype.screen=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a,o,s,c,l,u,f,d=this;return tt(this,function(p){return i=Iw(n),a=Cse.apply(void 0,n),o=a[0],s=a[1],c=a[2],l=a[3],u=a[4],f=this.eventFactory.screen(o,s,c,l,this.integrations,i),[2,this._dispatch(f,u).then(function(h){return d.emit("screen",o,s,h.event.properties,h.event.options),h})]})})},e.prototype.trackClick=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a;return tt(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>(bO(),yO))];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,li([this],n,!1))]}})})},e.prototype.trackLink=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a;return tt(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>(bO(),yO))];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,li([this],n,!1))]}})})},e.prototype.trackSubmit=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a;return tt(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>(bO(),yO))];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,li([this],n,!1))]}})})},e.prototype.trackForm=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a;return tt(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>(bO(),yO))];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,li([this],n,!1))]}})})},e.prototype.register=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a,o=this;return tt(this,function(s){switch(s.label){case 0:return i=p0.system(),a=n.map(function(c){return o.queue.register(i,c,o)}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return et(this,void 0,void 0,function(){var i,a,o=this;return tt(this,function(s){switch(s.label){case 0:return i=p0.system(),a=n.map(function(c){var l=o.queue.plugins.find(function(u){return u.name===c});if(l)return o.queue.deregister(i,l,o);i.log("warn","plugin ".concat(c," not found"))}),[4,Promise.all(a)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(n){return n===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=n,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(n){this.settings.timeout=n},e.prototype._dispatch=function(n,r){return et(this,void 0,void 0,function(){var i;return tt(this,function(a){return i=new p0(n),i.stats.increment("analytics_js.invoke",1,[n.type]),Vu()&&!this.options.retryQueue?[2,i]:[2,vPe(i,this.queue,this,{callback:r,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(n){return et(this,void 0,void 0,function(){var r=this;return tt(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return et(r,void 0,void 0,function(){var a,o,s;return tt(this,function(c){switch(c.label){case 0:return[4,Promise.resolve().then(()=>(Yz(),qke))];case 1:return a=c.sent().sourceMiddlewarePlugin,o={},this.queue.plugins.forEach(function(l){if(l.type==="destination")return o[l.name]=!0}),s=a(n,o),[4,this.register(s)];case 2:return c.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return this.queue.plugins.filter(BPe).forEach(function(a){(n==="*"||a.name.toLowerCase()===n.toLowerCase())&&a.addMiddleware.apply(a,r)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(n){return this._user.anonymousId(n)},e.prototype.queryString=function(n){return et(this,void 0,void 0,function(){var r;return tt(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,Promise.resolve().then(()=>(Jke(),Yke))];case 1:return r=i.sent().queryString,[2,r(this,n)]}})})},e.prototype.use=function(n){return n(this),this},e.prototype.ready=function(n){return n===void 0&&(n=function(r){return r}),et(this,void 0,void 0,function(){return tt(this,function(r){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return n(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Jb),qPe(N0e??this),this},e.prototype.normalize=function(n){return console.warn(Jb),this.eventFactory.normalize(n)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Jb),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return R5},enumerable:!1,configurable:!0}),e.prototype.initialize=function(n,r){return et(this,void 0,void 0,function(){return tt(this,function(i){return console.warn(Jb),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(n){return et(this,void 0,void 0,function(){return tt(this,function(r){switch(r.label){case 0:return console.warn(Jb),[4,this.page({path:n})];case 1:return r.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var n;return console.warn(Jb),(n=this._plugins)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Jb);var n=this.queue.plugins.filter(function(r){return r.type==="destination"}).reduce(function(r,i){var a="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),o=window[a];if(!o)return r;var s=o.Integration;return s?(r[i.name]=s,r):(r[i.name]=o,r)},{});return n},enumerable:!1,configurable:!0}),e.prototype.push=function(n){var r=this,i=n.shift();i&&!r[i]||r[i].apply(this,n)},e})(ax),k0e=(function(t){Fi(e,t);function e(){var n=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return n.initialized=!0,n}return e})(P0e)});function M0e(){return typeof process>"u"||!process.env?{}:process.env}var Zke=B(()=>{});var _Ot,TOt,Qz,SOt,Xke,wO,vO,EO=B(()=>{uO();_Ot=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,TOt=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(n){var r,i=(r=n.getAttribute("src"))!==null&&r!==void 0?r:"",a=_Ot.exec(i);a&&a[1]&&(t=a[1])}),t},SOt=function(){var t,e=Qz??((t=lO())===null||t===void 0?void 0:t._cdn);return e},Xke=function(t){var e=lO();e&&(e._cdn=t),Qz=t},wO=function(){var t=SOt();if(t)return t;var e=TOt();return e||"https://cdn.segment.com"},vO=function(){var t=wO();return"".concat(t,"/next-integrations")}});function Zz(t,e){var n,r=Object.entries((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(i,a){var o,s,c=a[0],l=a[1];return typeof l=="object"?Ce(Ce({},i),(o={},o[c]=l,o)):Ce(Ce({},i),(s={},s[c]={},s))},{});return Object.entries(t.integrations).reduce(function(i,a){var o,s=a[0],c=a[1];return Ce(Ce({},i),(o={},o[s]=Ce(Ce({},c),r[s]),o))},{})}var B0e=B(()=>{Zn()});function eMe(t){return et(this,void 0,void 0,function(){var e;return tt(this,function(n){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var tMe=B(()=>{Zn()});function COt(){if(xO)return xO;var t=Mz(window.location.href);return xO={expires:31536e6,secure:!1,path:"/"},t&&(xO.domain=t),xO}function IOt(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var n=t.split("&"),r=0,i=n;r<i.length;r++){var a=i[r],o=a.split("="),s=o[0],c=o[1];if(e[s])return{id:c,type:e[s]}}}function ROt(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,n){var r=n.split("="),i=r[0],a=r[1],o=a===void 0?"":a;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=Jz(o)}return e},{})}function OOt(){var t=pd.get("_ga");if(t&&t.startsWith("amp"))return t}function NOt(t,e,n){var r,i=new Eh(n?[]:[new Bz(COt())]),a=i.get("s:context.referrer"),o=(r=IOt(t))!==null&&r!==void 0?r:a;o&&(e&&(e.referrer=Ce(Ce({},e.referrer),o)),i.set("s:context.referrer",o))}var xO,POt,kOt,nMe,rMe=B(()=>{Zn();kz();aO();Sz();Vse();R0e();Fz();tMe();POt=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];Array.isArray(i)?i.forEach(function(a){return e.append(r,a)}):e.append(r,i)}),e.toString()}catch{return""}},kOt=(function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(n,r){return et(e,void 0,void 0,function(){var i,a;return tt(this,function(o){switch(o.label){case 0:this.instance=r,o.label=1;case 1:return o.trys.push([1,3,,4]),i=this,[4,eMe(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=o.sent(),[3,4];case 3:return a=o.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(n){var r,i,a=n.event.context,o=a.page.search||"",s=typeof o=="object"?POt(o):o;a.userAgent=navigator.userAgent,a.userAgentData=e.userAgentData;var c=navigator.userLanguage||navigator.language;typeof a.locale>"u"&&typeof c<"u"&&(a.locale=c),(r=a.library)!==null&&r!==void 0||(a.library={name:"analytics.js",version:"".concat(lx()==="web"?"next":"npm:next","-").concat(R5)}),s&&!a.campaign&&(a.campaign=ROt(s));var l=OOt();l&&(a.amp={id:l}),NOt(s,a,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return n},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t})(),nMe=new kOt});function iMe(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(n){return n.src===t})}function O5(t,e){var n=iMe(t);if(n!==void 0){var r=n?.getAttribute("status");if(r==="loaded")return Promise.resolve(n);if(r==="loading")return new Promise(function(i,a){n.addEventListener("load",function(){return i(n)}),n.addEventListener("error",function(o){return a(o)})})}return new Promise(function(i,a){var o,s=window.document.createElement("script");s.type="text/javascript",s.src=t,s.async=!0,s.setAttribute("status","loading");for(var c=0,l=Object.entries(e??{});c<l.length;c++){var u=l[c],f=u[0],d=u[1];s.setAttribute(f,d)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),a(new Error("Failed to load ".concat(t)))};var p=window.document.querySelector("script");p?(o=p.parentElement)===null||o===void 0||o.insertBefore(s,p):window.document.head.appendChild(s)})}function aMe(t){var e=iMe(t);return e!==void 0&&e.remove(),Promise.resolve()}var Xz=B(()=>{});function _h(t,e){var n=e.methodName,r=e.integrationName,i=e.type,a=e.didError,o=a===void 0?!1:a;t.stats.increment("analytics_js.integration.invoke".concat(o?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(i)])}var D0e=B(()=>{});function BOt(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(n){e.forEach(function(r){var i;if(n[r]===void 0)throw new Error("Plugin: ".concat((i=n.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(r))})}),!0}function DOt(t,e){var n=t[e.creationName],r=t[e.name];return t.All===!1&&!n&&!r||n===!1||r===!1}function LOt(t,e){return et(this,void 0,void 0,function(){var n,r,i,a,o,s,c;return tt(this,function(l){switch(l.label){case 0:if(l.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),r=wO(),!e)return[3,6];i=t.url.split("/"),a=i[i.length-2],o=t.url.replace(a,btoa(a).replace(/=/g,"")),l.label=1;case 1:return l.trys.push([1,3,,5]),[4,O5(o.replace(n,r))];case 2:return l.sent(),[3,5];case 3:return s=l.sent(),[4,O5(t.url.replace(n,r))];case 4:return l.sent(),[3,5];case 5:return[3,8];case 6:return[4,O5(t.url.replace(n,r))];case 7:l.sent(),l.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw c=l.sent(),console.error("Failed to create PluginFactory",t),c;case 10:return[2]}})})}function oMe(t,e,n,r,i,a){var o,s,c;return et(this,void 0,void 0,function(){var l,u,f,d=this;return tt(this,function(p){switch(p.label){case 0:return l=[],u=(s=(o=t.middlewareSettings)===null||o===void 0?void 0:o.routingRules)!==null&&s!==void 0?s:[],f=((c=t.remotePlugins)!==null&&c!==void 0?c:[]).map(function(h){return et(d,void 0,void 0,function(){var m,w,g,x,C,P,D;return tt(this,function(F){switch(F.label){case 0:if(DOt(e,h))return[2];F.label=1;case 1:return F.trys.push([1,6,,7]),w=a?.find(function(H){var O=H.pluginName;return O===h.name}),w?[3,3]:[4,LOt(h,r?.obfuscate)];case 2:w=F.sent(),F.label=3;case 3:return m=w,m?(g=n[h.name],[4,m(Ce(Ce({},h.settings),g))]):[3,5];case 4:x=F.sent(),C=Array.isArray(x)?x:[x],BOt(C),P=u.filter(function(H){return H.destinationName===h.creationName}),C.forEach(function(H){var O=new MOt(h.creationName,H);P.length&&i&&O.addMiddleware(i),l.push(O)}),F.label=5;case 5:return[3,7];case 6:return D=F.sent(),console.warn("Failed to load Remote Plugin",D),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return p.sent(),[2,l.filter(Boolean)]}})})}var MOt,sMe=B(()=>{Zn();Xz();EO();Yz();wh();D0e();Aw();MOt=(function(){function t(e,n){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=ix(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=n,this.name=e,this.type=n.type,this.alternativeNames.push(n.name)}return t.prototype.addMiddleware=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.type==="destination"&&(e=this.middleware).push.apply(e,n)},t.prototype.transform=function(e){return et(this,void 0,void 0,function(){var n;return tt(this,function(r){switch(r.label){case 0:return[4,gO(this.name,e.event,this.middleware)];case 1:return n=r.sent(),n===null&&e.cancel(new Ml({retry:!1,reason:"dropped by destination middleware"})),[2,new p0(n)]}})})},t.prototype._createMethod=function(e){var n=this;return function(r){return et(n,void 0,void 0,function(){var i,a;return tt(this,function(o){switch(o.label){case 0:return this.action[e]?(i=r,this.type!=="destination"?[3,2]:[4,this.transform(r)]):[2,r];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!o.sent())throw new Error("Something prevented the destination from getting ready");return _h(r,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return o.sent(),[3,6];case 5:throw a=o.sent(),_h(r,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),a;case 6:return[2,r]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return et(this,void 0,void 0,function(){var e;return tt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return n.sent(),[2,!0];case 2:return e=n.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,n){return et(this,void 0,void 0,function(){var r,i,a,o;return tt(this,function(s){switch(s.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];s.label=1;case 1:return s.trys.push([1,3,,4]),_h(e,{integrationName:this.action.name,methodName:"load",type:"action"}),r=this.action.load(e,n),a=(i=this.loadPromise).resolve,[4,r];case 2:return a.apply(i,[s.sent()]),[2,r];case 3:throw o=s.sent(),_h(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(o),o;case 4:return[2]}})})},t.prototype.unload=function(e,n){var r,i;return(i=(r=this.action).unload)===null||i===void 0?void 0:i.call(r,e,n)},t})()});var L0e,cMe,UOt,lMe,uMe,fMe=B(()=>{Tz();UOt=cx(),lMe=(L0e=(cMe=UOt).__SEGMENT_INSPECTOR__)!==null&&L0e!==void 0?L0e:cMe.__SEGMENT_INSPECTOR__={},uMe=function(t){var e;return(e=lMe.attach)===null||e===void 0?void 0:e.call(lMe,t)}});var dMe=le((ej,U0e)=>{"use strict";(function(t,e){if(typeof ej=="object"&&typeof U0e=="object")U0e.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n=e();for(var r in n)(typeof ej=="object"?ej:t)[r]=n[r]}})(self,(function(){return(function(){var t={2870:function(r,i,a){"use strict";var o=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.Store=i.matches=i.transform=void 0;var s=a(4303);Object.defineProperty(i,"transform",{enumerable:!0,get:function(){return o(s).default}});var c=a(2370);Object.defineProperty(i,"matches",{enumerable:!0,get:function(){return o(c).default}});var l=a(1444);Object.defineProperty(i,"Store",{enumerable:!0,get:function(){return o(l).default}})},2370:function(r,i,a){"use strict";var o=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(i,"__esModule",{value:!0});var s=o(a(7843));function c(h,m){if(!Array.isArray(h))return l(h,m)===!0;var w,g,x,C,P=h[0];switch(P){case"!":return!c(h[1],m);case"or":for(var D=1;D<h.length;D++)if(c(h[D],m))return!0;return!1;case"and":for(D=1;D<h.length;D++)if(!c(h[D],m))return!1;return!0;case"=":case"!=":return(function(H,O,M,N){switch(u(H)&&(H=c(H,N)),u(O)&&(O=c(O,N)),typeof H=="object"&&typeof O=="object"&&(H=JSON.stringify(H),O=JSON.stringify(O)),M){case"=":return H===O;case"!=":return H!==O;default:throw new Error("Invalid operator in compareItems: ".concat(M))}})(l(h[1],m),l(h[2],m),P,m);case"<=":case"<":case">":case">=":return(function(H,O,M,N){if(u(H)&&(H=c(H,N)),u(O)&&(O=c(O,N)),typeof H!="number"||typeof O!="number")return!1;switch(M){case"<=":return H<=O;case">=":return H>=O;case"<":return H<O;case">":return H>O;default:throw new Error("Invalid operator in compareNumbers: ".concat(M))}})(l(h[1],m),l(h[2],m),P,m);case"in":return(function(H,O,M){return O.find((function(N){return l(N,M)===H}))!==void 0})(l(h[1],m),l(h[2],m),m);case"contains":return x=l(h[1],m),C=l(h[2],m),typeof x=="string"&&typeof C=="string"&&x.indexOf(C)!==-1;case"match":return w=l(h[1],m),g=l(h[2],m),typeof w=="string"&&typeof g=="string"&&(function(H,O){var M,N;e:for(;H.length>0;){var v,I;if(v=(M=f(H)).star,I=M.chunk,H=M.pattern,v&&I==="")return!0;var S=d(I,O),y=S.t,b=S.ok,_=S.err;if(_)return!1;if(!b||!(y.length===0||H.length>0)){if(v)for(var A=0;A<O.length;A++){if(y=(N=d(I,O.slice(A+1))).t,b=N.ok,_=N.err,b){if(H.length===0&&y.length>0)continue;O=y;continue e}if(_)return!1}return!1}O=y}return O.length===0})(g,w);case"lowercase":var F=l(h[1],m);return typeof F!="string"?null:F.toLowerCase();case"typeof":return typeof l(h[1],m);case"length":return(function(H){return H===null?0:Array.isArray(H)||typeof H=="string"?H.length:NaN})(l(h[1],m));default:throw new Error("FQL IR could not evaluate for token: ".concat(P))}}function l(h,m){return Array.isArray(h)?h:typeof h=="object"?h.value:(0,s.default)(m,h)}function u(h){return!!Array.isArray(h)&&((h[0]==="lowercase"||h[0]==="length"||h[0]==="typeof")&&h.length===2||(h[0]==="contains"||h[0]==="match")&&h.length===3)}function f(h){for(var m={star:!1,chunk:"",pattern:""};h.length>0&&h[0]==="*";)h=h.slice(1),m.star=!0;var w,g=!1;e:for(w=0;w<h.length;w++)switch(h[w]){case"\\":w+1<h.length&&w++;break;case"[":g=!0;break;case"]":g=!1;break;case"*":if(!g)break e}return m.chunk=h.slice(0,w),m.pattern=h.slice(w),m}function d(h,m){for(var w,g,x={t:"",ok:!1,err:!1};h.length>0;){if(m.length===0)return x;switch(h[0]){case"[":var C=m[0];m=m.slice(1);var P=!0;(h=h.slice(1)).length>0&&h[0]==="^"&&(P=!1,h=h.slice(1));for(var D=!1,F=0;;){if(h.length>0&&h[0]==="]"&&F>0){h=h.slice(1);break}var H,O="";if(H=(w=p(h)).char,h=w.newChunk,w.err||(O=H,h[0]==="-"&&(O=(g=p(h.slice(1))).char,h=g.newChunk,g.err)))return x;H<=C&&C<=O&&(D=!0),F++}if(D!==P)return x;break;case"?":m=m.slice(1),h=h.slice(1);break;case"\\":if((h=h.slice(1)).length===0)return x.err=!0,x;default:if(h[0]!==m[0])return x;m=m.slice(1),h=h.slice(1)}}return x.t=m,x.ok=!0,x.err=!1,x}function p(h){var m={char:"",newChunk:"",err:!1};return h.length===0||h[0]==="-"||h[0]==="]"||h[0]==="\\"&&(h=h.slice(1)).length===0?(m.err=!0,m):(m.char=h[0],m.newChunk=h.slice(1),m.newChunk.length===0&&(m.err=!0),m)}i.default=function(h,m){if(!m)throw new Error("No matcher supplied!");switch(m.type){case"all":return!0;case"fql":return(function(w,g){if(!w)return!1;try{w=JSON.parse(w)}catch(C){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(w,'": ').concat(C))}var x=c(w,g);return typeof x=="boolean"&&x})(m.ir,h);default:throw new Error("Matcher of type ".concat(m.type," unsupported."))}}},1444:function(r,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=(function(){function o(s){this.rules=[],this.rules=s||[]}return o.prototype.getRulesByDestinationName=function(s){for(var c=[],l=0,u=this.rules;l<u.length;l++){var f=u[l];f.destinationName!==s&&f.destinationName!==void 0||c.push(f)}return c},o})();i.default=a},4303:function(r,i,a){"use strict";var o=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});var s=o(a(374)),c=o(a(7843)),l=o(a(5500)),u=a(9014),f=a(4966);function d(x,C){h(x,C.drop,(function(P,D){D.forEach((function(F){return delete P[F]}))}))}function p(x,C){h(x,C.allow,(function(P,D){Object.keys(P).forEach((function(F){D.includes(F)||delete P[F]}))}))}function h(x,C,P){Object.entries(C).forEach((function(D){var F=D[0],H=D[1],O=function(N){typeof N=="object"&&N!==null&&P(N,H)},M=F===""?x:(0,c.default)(x,F);Array.isArray(M)?M.forEach(O):O(M)}))}function m(x,C){var P=JSON.parse(JSON.stringify(x));for(var D in C.map)if(C.map.hasOwnProperty(D)){var F=C.map[D],H=D.split("."),O=void 0;if(H.length>1?(H.pop(),O=(0,c.default)(P,H.join("."))):O=x,typeof O=="object"){if(F.copy){var M=(0,c.default)(P,F.copy);M!==void 0&&(0,u.dset)(x,D,M)}else if(F.move){var N=(0,c.default)(P,F.move);N!==void 0&&(0,u.dset)(x,D,N),(0,f.unset)(x,F.move)}else F.hasOwnProperty("set")&&(0,u.dset)(x,D,F.set);if(F.to_string){var v=(0,c.default)(x,D);if(typeof v=="string"||typeof v=="object"&&v!==null)continue;v!==void 0?(0,u.dset)(x,D,JSON.stringify(v)):(0,u.dset)(x,D,"undefined")}}}}function w(x,C){return!(C.sample.percent<=0)&&(C.sample.percent>=1||(C.sample.path?(function(D,F){var H=(0,c.default)(D,F.sample.path),O=(0,s.default)(JSON.stringify(H)),M=-64,N=[];g(O.slice(0,8),N);for(var v=0,I=0;I<64&&N[I]!==1;I++)v++;if(v!==0){var S=[];g(O.slice(9,16),S),M-=v,N.splice(0,v),S.splice(64-v),N=N.concat(S)}return N[63]=N[63]===0?1:0,(0,l.default)(parseInt(N.join(""),2),M)<F.sample.percent})(x,C):(P=C.sample.percent,Math.random()<=P)));var P}function g(x,C){for(var P=0;P<8;P++)for(var D=x[P],F=128;F>=1;F/=2)D-F>=0?(D-=F,C.push(1)):C.push(0)}i.default=function(x,C){for(var P=x,D=0,F=C;D<F.length;D++){var H=F[D];switch(H.type){case"drop":return null;case"drop_properties":d(P,H.config);break;case"allow_properties":p(P,H.config);break;case"sample_event":if(w(P,H.config))break;return null;case"map_properties":m(P,H.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(H.type,'" is unsupported.'))}}return P}},4966:function(r,i,a){"use strict";var o=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.unset=void 0;var s=o(a(7843));i.unset=function(c,l){if((0,s.default)(c,l)){for(var u=l.split("."),f=u.pop();u.length&&u[u.length-1].slice(-1)==="\\";)f=u.pop().slice(0,-1)+"."+f;for(;u.length;)c=c[l=u.shift()];return delete c[f]}return!0}},9014:function(r,i){i.dset=function(a,o,s){o.split&&(o=o.split("."));for(var c,l,u=0,f=o.length,d=a;u<f&&(l=o[u++])!=="__proto__"&&l!=="constructor"&&l!=="prototype";)d=d[l]=u===f?s:typeof(c=d[l])==typeof o?c:0*o[u]!=0||~(""+o[u]).indexOf(".")?{}:[]}},3304:function(r){"use strict";var i=typeof Float64Array=="function"?Float64Array:void 0;r.exports=i},7382:function(r,i,a){"use strict";var o,s=a(5569),c=a(3304),l=a(8482);o=s()?c:l,r.exports=o},8482:function(r){"use strict";r.exports=function(){throw new Error("not implemented")}},6322:function(r,i,a){"use strict";var o,s=a(2508),c=a(5679),l=a(882);o=s()?c:l,r.exports=o},882:function(r){"use strict";r.exports=function(){throw new Error("not implemented")}},5679:function(r){"use strict";var i=typeof Uint16Array=="function"?Uint16Array:void 0;r.exports=i},4773:function(r,i,a){"use strict";var o,s=a(9773),c=a(3004),l=a(3078);o=s()?c:l,r.exports=o},3078:function(r){"use strict";r.exports=function(){throw new Error("not implemented")}},3004:function(r){"use strict";var i=typeof Uint32Array=="function"?Uint32Array:void 0;r.exports=i},7980:function(r,i,a){"use strict";var o,s=a(8114),c=a(6737),l=a(3357);o=s()?c:l,r.exports=o},3357:function(r){"use strict";r.exports=function(){throw new Error("not implemented")}},6737:function(r){"use strict";var i=typeof Uint8Array=="function"?Uint8Array:void 0;r.exports=i},2684:function(r){"use strict";var i=typeof Float64Array=="function"?Float64Array:null;r.exports=i},5569:function(r,i,a){"use strict";var o=a(3876);r.exports=o},3876:function(r,i,a){"use strict";var o=a(1448),s=a(2684);r.exports=function(){var c,l;if(typeof s!="function")return!1;try{l=new s([1,3.14,-3.14,NaN]),c=o(l)&&l[0]===1&&l[1]===3.14&&l[2]===-3.14&&l[3]!=l[3]}catch{c=!1}return c}},9048:function(r,i,a){"use strict";var o=a(3763);r.exports=o},3763:function(r){"use strict";var i=Object.prototype.hasOwnProperty;r.exports=function(a,o){return a!=null&&i.call(a,o)}},7009:function(r,i,a){"use strict";var o=a(6784);r.exports=o},6784:function(r){"use strict";r.exports=function(){return typeof Symbol=="function"&&typeof Symbol("foo")=="symbol"}},3123:function(r,i,a){"use strict";var o=a(8481);r.exports=o},8481:function(r,i,a){"use strict";var o=a(7009)();r.exports=function(){return o&&typeof Symbol.toStringTag=="symbol"}},2508:function(r,i,a){"use strict";var o=a(3403);r.exports=o},3403:function(r,i,a){"use strict";var o=a(768),s=a(9668),c=a(187);r.exports=function(){var l,u;if(typeof c!="function")return!1;try{u=new c(u=[1,3.14,-3.14,s+1,s+2]),l=o(u)&&u[0]===1&&u[1]===3&&u[2]===s-2&&u[3]===0&&u[4]===1}catch{l=!1}return l}},187:function(r){"use strict";var i=typeof Uint16Array=="function"?Uint16Array:null;r.exports=i},9773:function(r,i,a){"use strict";var o=a(2822);r.exports=o},2822:function(r,i,a){"use strict";var o=a(2744),s=a(3899),c=a(746);r.exports=function(){var l,u;if(typeof c!="function")return!1;try{u=new c(u=[1,3.14,-3.14,s+1,s+2]),l=o(u)&&u[0]===1&&u[1]===3&&u[2]===s-2&&u[3]===0&&u[4]===1}catch{l=!1}return l}},746:function(r){"use strict";var i=typeof Uint32Array=="function"?Uint32Array:null;r.exports=i},8114:function(r,i,a){"use strict";var o=a(8066);r.exports=o},8066:function(r,i,a){"use strict";var o=a(8279),s=a(3443),c=a(2731);r.exports=function(){var l,u;if(typeof c!="function")return!1;try{u=new c(u=[1,3.14,-3.14,s+1,s+2]),l=o(u)&&u[0]===1&&u[1]===3&&u[2]===s-2&&u[3]===0&&u[4]===1}catch{l=!1}return l}},2731:function(r){"use strict";var i=typeof Uint8Array=="function"?Uint8Array:null;r.exports=i},1448:function(r,i,a){"use strict";var o=a(1453);r.exports=o},1453:function(r,i,a){"use strict";var o=a(6208),s=typeof Float64Array=="function";r.exports=function(c){return s&&c instanceof Float64Array||o(c)==="[object Float64Array]"}},9331:function(r,i,a){"use strict";var o=a(7980),s={uint16:a(6322),uint8:o};r.exports=s},5902:function(r,i,a){"use strict";var o=a(4106);r.exports=o},4106:function(r,i,a){"use strict";var o,s,c=a(9331);(s=new c.uint16(1))[0]=4660,o=new c.uint8(s.buffer)[0]===52,r.exports=o},768:function(r,i,a){"use strict";var o=a(3823);r.exports=o},3823:function(r,i,a){"use strict";var o=a(6208),s=typeof Uint16Array=="function";r.exports=function(c){return s&&c instanceof Uint16Array||o(c)==="[object Uint16Array]"}},2744:function(r,i,a){"use strict";var o=a(2326);r.exports=o},2326:function(r,i,a){"use strict";var o=a(6208),s=typeof Uint32Array=="function";r.exports=function(c){return s&&c instanceof Uint32Array||o(c)==="[object Uint32Array]"}},8279:function(r,i,a){"use strict";var o=a(208);r.exports=o},208:function(r,i,a){"use strict";var o=a(6208),s=typeof Uint8Array=="function";r.exports=function(c){return s&&c instanceof Uint8Array||o(c)==="[object Uint8Array]"}},6315:function(r){"use strict";r.exports=1023},1686:function(r){"use strict";r.exports=2147483647},3105:function(r){"use strict";r.exports=2146435072},3449:function(r){"use strict";r.exports=2147483648},6988:function(r){"use strict";r.exports=-1023},9777:function(r){"use strict";r.exports=1023},3690:function(r){"use strict";r.exports=-1074},2918:function(r,i,a){"use strict";var o=a(4772).NEGATIVE_INFINITY;r.exports=o},4165:function(r){"use strict";var i=Number.POSITIVE_INFINITY;r.exports=i},6488:function(r){"use strict";r.exports=22250738585072014e-324},9668:function(r){"use strict";r.exports=65535},3899:function(r){"use strict";r.exports=4294967295},3443:function(r){"use strict";r.exports=255},7011:function(r,i,a){"use strict";var o=a(812);r.exports=o},812:function(r,i,a){"use strict";var o=a(4165),s=a(2918);r.exports=function(c){return c===o||c===s}},1883:function(r,i,a){"use strict";var o=a(1797);r.exports=o},1797:function(r){"use strict";r.exports=function(i){return i!=i}},513:function(r,i,a){"use strict";var o=a(5760);r.exports=o},5760:function(r){"use strict";r.exports=function(i){return Math.abs(i)}},5848:function(r,i,a){"use strict";var o=a(677);r.exports=o},677:function(r,i,a){"use strict";var o=a(3449),s=a(1686),c=a(7838),l=a(1921),u=a(2490),f=[0,0];r.exports=function(d,p){var h,m;return c.assign(d,f,1,0),h=f[0],h&=s,m=l(p),u(h|=m&=o,f[1])}},5500:function(r,i,a){"use strict";var o=a(8397);r.exports=o},8397:function(r,i,a){"use strict";var o=a(4165),s=a(2918),c=a(6315),l=a(9777),u=a(6988),f=a(3690),d=a(1883),p=a(7011),h=a(5848),m=a(4948),w=a(8478),g=a(7838),x=a(2490),C=[0,0],P=[0,0];r.exports=function(D,F){var H,O;return D===0||d(D)||p(D)?D:(m(C,D),F+=C[1],(F+=w(D=C[0]))<f?h(0,D):F>l?D<0?s:o:(F<=u?(F+=52,O=2220446049250313e-31):O=1,g(P,D),H=P[0],H&=2148532223,O*x(H|=F+c<<20,P[1])))}},4772:function(r,i,a){"use strict";var o=a(7548);r.exports=o},7548:function(r){"use strict";r.exports=Number},8478:function(r,i,a){"use strict";var o=a(4500);r.exports=o},4500:function(r,i,a){"use strict";var o=a(1921),s=a(3105),c=a(6315);r.exports=function(l){var u=o(l);return(u=(u&s)>>>20)-c|0}},2490:function(r,i,a){"use strict";var o=a(9639);r.exports=o},4445:function(r,i,a){"use strict";var o,s,c;a(5902)===!0?(s=1,c=0):(s=0,c=1),o={HIGH:s,LOW:c},r.exports=o},9639:function(r,i,a){"use strict";var o=a(4773),s=a(7382),c=a(4445),l=new s(1),u=new o(l.buffer),f=c.HIGH,d=c.LOW;r.exports=function(p,h){return u[f]=p,u[d]=h,l[0]}},5646:function(r,i,a){"use strict";var o;o=a(5902)===!0?1:0,r.exports=o},1921:function(r,i,a){"use strict";var o=a(6285);r.exports=o},6285:function(r,i,a){"use strict";var o=a(4773),s=a(7382),c=a(5646),l=new s(1),u=new o(l.buffer);r.exports=function(f){return l[0]=f,u[c]}},9024:function(r,i,a){"use strict";var o=a(6488),s=a(7011),c=a(1883),l=a(513);r.exports=function(u,f,d,p){return c(u)||s(u)?(f[p]=u,f[p+d]=0,f):u!==0&&l(u)<o?(f[p]=4503599627370496*u,f[p+d]=-52,f):(f[p]=u,f[p+d]=0,f)}},4948:function(r,i,a){"use strict";var o=a(7576),s=a(9422);o(s,"assign",a(9024)),r.exports=s},9422:function(r,i,a){"use strict";var o=a(9024);r.exports=function(s){return o(s,[0,0],1,0)}},5239:function(r,i,a){"use strict";var o=a(4773),s=a(7382),c=a(5782),l=new s(1),u=new o(l.buffer),f=c.HIGH,d=c.LOW;r.exports=function(p,h,m,w){return l[0]=p,h[w]=u[f],h[w+m]=u[d],h}},7838:function(r,i,a){"use strict";var o=a(7576),s=a(4010);o(s,"assign",a(5239)),r.exports=s},5782:function(r,i,a){"use strict";var o,s,c;a(5902)===!0?(s=1,c=0):(s=0,c=1),o={HIGH:s,LOW:c},r.exports=o},4010:function(r,i,a){"use strict";var o=a(5239);r.exports=function(s){return o(s,[0,0],1,0)}},7576:function(r,i,a){"use strict";var o=a(7063);r.exports=o},7063:function(r,i,a){"use strict";var o=a(6691);r.exports=function(s,c,l){o(s,c,{configurable:!1,enumerable:!1,writable:!1,value:l})}},2073:function(r){"use strict";var i=Object.defineProperty;r.exports=i},1680:function(r){"use strict";var i=typeof Object.defineProperty=="function"?Object.defineProperty:null;r.exports=i},1471:function(r,i,a){"use strict";var o=a(1680);r.exports=function(){try{return o({},"x",{}),!0}catch{return!1}}},6691:function(r,i,a){"use strict";var o,s=a(1471),c=a(2073),l=a(1309);o=s()?c:l,r.exports=o},1309:function(r){"use strict";var i=Object.prototype,a=i.toString,o=i.__defineGetter__,s=i.__defineSetter__,c=i.__lookupGetter__,l=i.__lookupSetter__;r.exports=function(u,f,d){var p,h,m,w;if(typeof u!="object"||u===null||a.call(u)==="[object Array]")throw new TypeError("invalid argument. First argument must be an object. Value: `"+u+"`.");if(typeof d!="object"||d===null||a.call(d)==="[object Array]")throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+d+"`.");if((h="value"in d)&&(c.call(u,f)||l.call(u,f)?(p=u.__proto__,u.__proto__=i,delete u[f],u[f]=d.value,u.__proto__=p):u[f]=d.value),m="get"in d,w="set"in d,h&&(m||w))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return m&&o&&o.call(u,f,d.get),w&&s&&s.call(u,f,d.set),u}},6208:function(r,i,a){"use strict";var o,s=a(3123),c=a(7407),l=a(4210);o=s()?l:c,r.exports=o},7407:function(r,i,a){"use strict";var o=a(173);r.exports=function(s){return o.call(s)}},4210:function(r,i,a){"use strict";var o=a(9048),s=a(1403),c=a(173);r.exports=function(l){var u,f,d;if(l==null)return c.call(l);f=l[s],u=o(l,s);try{l[s]=void 0}catch{return c.call(l)}return d=c.call(l),u?l[s]=f:delete l[s],d}},173:function(r){"use strict";var i=Object.prototype.toString;r.exports=i},1403:function(r){"use strict";var i=typeof Symbol=="function"?Symbol.toStringTag:"";r.exports=i},7843:function(r){r.exports=function(i,a,o,s,c){for(a=a.split?a.split("."):a,s=0;s<a.length;s++)i=i?i[a[s]]:c;return i===c?o:i}},374:function(r,i,a){"use strict";a.r(i),a.d(i,{default:function(){return c}});for(var o=[],s=0;s<64;)o[s]=0|4294967296*Math.sin(++s%Math.PI);function c(l){var u,f,d,p=[u=1732584193,f=4023233417,~u,~f],h=[],m=unescape(encodeURI(l))+"\x80",w=m.length;for(l=--w/4+2|15,h[--l]=8*w;~w;)h[w>>2]|=m.charCodeAt(w)<<8*w--;for(s=m=0;s<l;s+=16){for(w=p;m<64;w=[d=w[3],u+((d=w[0]+[u&f|~u&d,d&u|~d&f,u^f^d,f^(u|~d)][w=m>>4]+o[m]+~~h[s|15&[m,5*m+1,3*m+5,7*m][w]])<<(w=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*w+m++%4])|d>>>-w),u,f])u=0|w[1],f=w[2];for(m=4;m;)p[--m]+=w[m]}for(l="";m<32;)l+=(p[m>>3]>>4*(1^m++)&15).toString(16);return l}}},e={};function n(r){var i=e[r];if(i!==void 0)return i.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}return n.d=function(r,i){for(var a in i)n.o(i,a)&&!n.o(r,a)&&Object.defineProperty(r,a,{enumerable:!0,get:i[a]})},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n(2870)})()}))});var pMe={};$t(pMe,{tsubMiddleware:()=>FOt});var Sx,FOt,hMe=B(()=>{Sx=fe(dMe()),FOt=function(t){return function(e){var n=e.payload,r=e.integration,i=e.next,a=new Sx.Store(t),o=a.getRulesByDestinationName(r);o.forEach(function(s){for(var c=s.matchers,l=s.transformers,u=0;u<c.length;u++)if(Sx.matches(n.obj,c[u])&&(n.obj=Sx.transform(n.obj,l[u]),n.obj===null))return i(null)}),i(n)}}});function tj(t,e){var n,r;return typeof e?.enabled=="boolean"?e.enabled:(r=(n=t?.__default)===null||n===void 0?void 0:n.enabled)!==null&&r!==void 0?r:!0}var F0e=B(()=>{});function mMe(t){return t.toLowerCase().replace(".","").replace(/\s+/g,"-")}function yMe(t,e){return e===void 0&&(e=!1),e?btoa(t).replace(/=/g,""):void 0}function bMe(t){return("Integration"in t?t.Integration:t).prototype.name}function HOt(t,e,n){var r,i;try{var a=((i=(r=window?.performance)===null||r===void 0?void 0:r.getEntriesByName(t,"resource"))!==null&&i!==void 0?i:[])[0];a&&e.stats.gauge("legacy_destination_time",Math.round(a.duration),li([n],a.duration<100?["cached"]:[],!0))}catch{}}function gMe(t,e,n){var r;if("Integration"in t){var i={user:function(){return n.user()},addIntegration:function(){}};t(i),r=t.Integration}else r=t;var a=new r(e);return a.analytics=n,a}function wMe(t,e,n,r){return et(this,void 0,void 0,function(){var i,a,o,s,c,l;return tt(this,function(u){switch(u.label){case 0:i=mMe(e),a=yMe(i,r),o=vO(),s="".concat(o,"/integrations/").concat(a??i,"/").concat(n,"/").concat(a??i,".dynamic.js.gz"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,O5(s)];case 2:return u.sent(),HOt(s,t,e),[3,4];case 3:throw c=u.sent(),t.stats.gauge("legacy_destination_time",-1,["plugin:".concat(e),"failed"]),c;case 4:return l=window["".concat(i,"Deps")],[4,Promise.all(l.map(function(f){return O5(o+f+".gz")}))];case 5:return u.sent(),window["".concat(i,"Loader")](),[2,window["".concat(i,"Integration")]]}})})}function vMe(t,e,n){return et(this,void 0,void 0,function(){var r,i,a,o;return tt(this,function(s){return r=vO(),i=mMe(t),a=yMe(t,n),o="".concat(r,"/integrations/").concat(a??i,"/").concat(e,"/").concat(a??i,".dynamic.js.gz"),[2,aMe(o)]})})}function EMe(t){var e,n,r,i;return(i=(n=(e=t?.versionSettings)===null||e===void 0?void 0:e.override)!==null&&n!==void 0?n:(r=t?.versionSettings)===null||r===void 0?void 0:r.version)!==null&&i!==void 0?i:"latest"}var xMe=B(()=>{Zn();EO();Xz()});var AMe,_Me,TMe=B(()=>{AMe=function(t,e){var n,r=e.type,i=e.bundlingStatus,a=e.versionSettings,o=i!=="unbundled"&&(r==="browser"||((n=a?.componentTypes)===null||n===void 0?void 0:n.includes("browser")));return!t.startsWith("Segment")&&t!=="Iterable"&&o},_Me=function(t,e){var n=e.All===!1&&e[t]===void 0;return e[t]===!1||n}});var CMe={};$t(CMe,{LegacyDestination:()=>SMe,ajsDestinations:()=>jOt});function zOt(t,e){return et(this,void 0,void 0,function(){var n,r=this;return tt(this,function(i){switch(i.label){case 0:return n=[],Vu()?[2,e]:[4,Wz(function(){return e.length>0&&Rse()},function(){return et(r,void 0,void 0,function(){var a,o,s;return tt(this,function(c){switch(c.label){case 0:return a=e.pop(),a?[4,I5(a,t)]:[2];case 1:return o=c.sent(),s=o instanceof p0,s||n.push(a),[2]}})})})];case 1:return i.sent(),n.map(function(a){return e.pushWithBackoff(a)}),[2,e]}})})}function jOt(t,e,n,r,i,a){var o,s;if(n===void 0&&(n={}),r===void 0&&(r={}),_z())return[];e.plan&&(r=r??{},r.plan=e.plan);var c=(s=(o=e.middlewareSettings)===null||o===void 0?void 0:o.routingRules)!==null&&s!==void 0?s:[],l=e.integrations,u=r.integrations,f=Zz(e,r??{}),d=a?.reduce(function(h,m){var w;return Ce(Ce({},h),(w={},w[bMe(m)]=m,w))},{}),p=new Set(li(li([],Object.keys(l).filter(function(h){return AMe(h,l[h])}),!0),Object.keys(d||{}).filter(function(h){return Ls(l[h])||Ls(u?.[h])}),!0));return Array.from(p).filter(function(h){return!_Me(h,n)}).map(function(h){var m=l[h],w=EMe(m),g=new SMe(h,w,t,f[h],r,d?.[h]),x=c.filter(function(C){return C.destinationName===h});return x.length>0&&i&&g.addMiddleware(i),g})}var Th,SMe,IMe=B(()=>{Zn();Th=fe(v0e());sx();wh();rO();Gu();F0e();B0e();S0e();oO();sO();Yz();xMe();Gu();TMe();D0e();Aw();SMe=(function(){function t(e,n,r,i,a,o){i===void 0&&(i={});var s=this;this.options={},this.type="destination",this.middleware=[],this.initializePromise=ix(),this.flushing=!1,this.name=e,this.version=n,this.settings=Ce({},i),this.disableAutoISOConversion=a.disableAutoISOConversion||!1,this.integrationSource=o,this.settings.type&&this.settings.type==="browser"&&delete this.settings.type,this.initializePromise.promise.then(function(c){return s._initialized=c},function(){}),this.options=a,this.buffer=a.disableClientPersistence?new C5(4,[]):new qb(4,"".concat(r,":dest-").concat(e)),this.scheduleFlush()}return t.prototype.isLoaded=function(){return!!this._ready},t.prototype.ready=function(){var e=this;return this.initializePromise.promise.then(function(){var n;return(n=e.onReady)!==null&&n!==void 0?n:Promise.resolve()})},t.prototype.load=function(e,n){var r;return et(this,void 0,void 0,function(){var i,a,o=this;return tt(this,function(s){switch(s.label){case 0:return this._ready||this.onReady!==void 0?[2]:(r=this.integrationSource)!==null&&r!==void 0?(a=r,[3,3]):[3,1];case 1:return[4,wMe(e,this.name,this.version,this.options.obfuscate)];case 2:a=s.sent(),s.label=3;case 3:i=a,this.integration=gMe(i,this.settings,n),this.onReady=new Promise(function(c){var l=function(){o._ready=!0,c(!0)};o.integration.once("ready",l)}),this.integration.on("initialize",function(){o.initializePromise.resolve(!0)});try{_h(e,{integrationName:this.name,methodName:"initialize",type:"classic"}),this.integration.initialize()}catch(c){throw _h(e,{integrationName:this.name,methodName:"initialize",type:"classic",didError:!0}),this.initializePromise.resolve(!1),c}return[2]}})})},t.prototype.unload=function(e,n){return vMe(this.name,this.version,this.options.obfuscate)},t.prototype.addMiddleware=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.middleware=(e=this.middleware).concat.apply(e,n)},t.prototype.shouldBuffer=function(e){return e.event.type!=="page"&&(Vu()||this._ready!==!0||this._initialized!==!0)},t.prototype.send=function(e,n,r){var i,a;return et(this,void 0,void 0,function(){var o,s,c,l,u,f;return tt(this,function(d){switch(d.label){case 0:return this.shouldBuffer(e)?(this.buffer.push(e),this.scheduleFlush(),[2,e]):(o=(a=(i=this.options)===null||i===void 0?void 0:i.plan)===null||a===void 0?void 0:a.track,s=e.event.event,o&&s&&this.name!=="Segment.io"&&(c=o[s],tj(o,c)?e.updateEvent("integrations",Ce(Ce({},e.event.integrations),c?.integrations)):(e.updateEvent("integrations",Ce(Ce({},e.event.integrations),{All:!1,"Segment.io":!0})),e.cancel(new Ml({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),c?.enabled&&c?.integrations[this.name]===!1&&e.cancel(new Ml({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),[4,gO(this.name,e.event,this.middleware)]);case 1:if(l=d.sent(),l===null)return[2,e];u=new n(l,{traverse:!this.disableAutoISOConversion}),_h(e,{integrationName:this.name,methodName:r,type:"classic"}),d.label=2;case 2:return d.trys.push([2,5,,6]),this.integration?[4,this.integration.invoke.call(this.integration,r,u)]:[3,4];case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:throw f=d.sent(),_h(e,{integrationName:this.name,methodName:r,type:"classic",didError:!0}),f;case 6:return[2,e]}})})},t.prototype.track=function(e){return et(this,void 0,void 0,function(){return tt(this,function(n){return[2,this.send(e,Th.Track,"track")]})})},t.prototype.page=function(e){var n;return et(this,void 0,void 0,function(){return tt(this,function(r){switch(r.label){case 0:return!((n=this.integration)===null||n===void 0)&&n._assumesPageview&&!this._initialized&&this.integration.initialize(),[4,this.initializePromise.promise];case 1:return r.sent(),[2,this.send(e,Th.Page,"page")]}})})},t.prototype.identify=function(e){return et(this,void 0,void 0,function(){return tt(this,function(n){return[2,this.send(e,Th.Identify,"identify")]})})},t.prototype.alias=function(e){return et(this,void 0,void 0,function(){return tt(this,function(n){return[2,this.send(e,Th.Alias,"alias")]})})},t.prototype.group=function(e){return et(this,void 0,void 0,function(){return tt(this,function(n){return[2,this.send(e,Th.Group,"group")]})})},t.prototype.scheduleFlush=function(){var e=this;this.flushing||setTimeout(function(){return et(e,void 0,void 0,function(){var n;return tt(this,function(r){switch(r.label){case 0:return Vu()||this._ready!==!0||this._initialized!==!0?(this.scheduleFlush(),[2]):(this.flushing=!0,n=this,[4,zOt(this,this.buffer)]);case 1:return n.buffer=r.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}})})},Math.random()*5e3)},t})()});var RMe=le((nj,H0e)=>{(function(t,e){typeof nj=="object"&&typeof H0e=="object"?H0e.exports=e():typeof define=="function"&&define.amd?define([],e):typeof nj=="object"?nj.analyticsVideoPlugins=e():t.analyticsVideoPlugins=e()})(window,(function(){return(function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,a){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:a})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(a,o,function(s){return r[s]}.bind(null,o));return a},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=2)})([function(t,e,n){"use strict";n.r(e);var r=typeof fetch=="function"?fetch.bind():function(i,a){return a=a||{},new Promise((function(o,s){var c=new XMLHttpRequest;for(var l in c.open(a.method||"get",i,!0),a.headers)c.setRequestHeader(l,a.headers[l]);function u(){var f,d=[],p=[],h={};return c.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(m,w,g){d.push(w=w.toLowerCase()),p.push([w,g]),f=h[w],h[w]=f?f+","+g:g})),{ok:(c.status/100|0)==2,status:c.status,statusText:c.statusText,url:c.responseURL,clone:u,text:function(){return Promise.resolve(c.responseText)},json:function(){return Promise.resolve(c.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([c.response]))},headers:{keys:function(){return d},entries:function(){return p},get:function(m){return h[m.toLowerCase()]},has:function(m){return m.toLowerCase()in h}}}}c.withCredentials=a.credentials=="include",c.onload=function(){o(u())},c.onerror=s,c.send(a.body)}))};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(function(){function a(o,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}return function(o,s,c){return s&&a(o.prototype,s),c&&a(o,c),o}})(),i=(function(){function a(o,s){(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a),this.pluginName=o}return r(a,[{key:"track",value:function(o,s){window.analytics.track(o,s,{integration:{name:this.pluginName}})}}]),a})();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.YouTubeAnalytics=e.VimeoAnalytics=void 0;var r=a(n(3)),i=a(n(4));function a(o){return o&&o.__esModule?o:{default:o}}e.VimeoAnalytics=r.default,e.YouTubeAnalytics=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(function(){function s(c,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,l,u){return l&&s(c.prototype,l),u&&s(c,u),c}})(),i=a(n(0));function a(s){return s&&s.__esModule?s:{default:s}}var o=(function(s){function c(l,u){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,c);var f=(function(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?d:p})(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,"VimeoAnalytics"));return f.authToken=u,f.player=l,f.metadata={content:{},playback:{videoPlayer:"Vimeo"}},f.mostRecentHeartbeat=0,f.isPaused=!1,f}return(function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)})(c,s),r(c,[{key:"initialize",value:function(){var l=this,u={loaded:this.retrieveMetadata,play:this.trackPlay,pause:this.trackPause,ended:this.trackEnded,timeupdate:this.trackHeartbeat};for(var f in u)this.registerHandler(f,u[f]);this.player.getVideoId().then((function(d){l.retrieveMetadata({id:d})})).catch(console.error)}},{key:"registerHandler",value:function(l,u){var f=this;this.player.on(l,(function(d){f.updateMetadata(d),u.call(f,d)}))}},{key:"trackPlay",value:function(){this.isPaused?(this.track("Video Playback Resumed",this.metadata.playback),this.isPaused=!1):(this.track("Video Playback Started",this.metadata.playback),this.track("Video Content Started",this.metadata.content))}},{key:"trackEnded",value:function(){this.track("Video Playback Completed",this.metadata.playback),this.track("Video Content Completed",this.metadata.content)}},{key:"trackHeartbeat",value:function(){var l=this.mostRecentHeartbeat,u=this.metadata.playback.position;u!==l&&u-l>=10&&(this.track("Video Content Playing",this.metadata.content),this.mostRecentHeartbeat=Math.floor(u))}},{key:"trackPause",value:function(){this.isPaused=!0,this.track("Video Playback Paused",this.metadata.playback)}},{key:"retrieveMetadata",value:function(l){var u=this;return new Promise((function(f,d){var p=l.id;(0,i.default)("https://api.vimeo.com/videos/"+p,{headers:{Authorization:"Bearer "+u.authToken}}).then((function(h){return h.ok?h.json():d(h)})).then((function(h){u.metadata.content.title=h.name,u.metadata.content.description=h.description,u.metadata.content.publisher=h.user.name,u.metadata.playback.position=0,u.metadata.playback.totalLength=h.duration})).catch((function(h){return console.error("Request to Vimeo API Failed with: ",h),d(h)}))}))}},{key:"updateMetadata",value:function(l){var u=this;return new Promise((function(f,d){u.player.getVolume().then((function(p){p&&(u.metadata.playback.sound=100*p),u.metadata.playback.position=l.seconds,f()})).catch(d)}))}}]),c})(a(n(1)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(function(){function l(u,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,d){return f&&l(u.prototype,f),d&&l(u,d),u}})(),i=o(n(0)),a=o(n(1));function o(l){return l&&l.__esModule?l:{default:l}}var s=(function(l){function u(f,d){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u);var p=(function(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?h:m})(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,"YoutubeAnalytics"));return p.player=f,p.apiKey=d,p.playerLoaded=!1,p.playbackStarted=!1,p.contentStarted=!1,p.isPaused=!1,p.isBuffering=!1,p.isSeeking=!1,p.lastRecordedTime={timeReported:Date.now(),timeElapsed:0},p.metadata=[{playback:{video_player:"youtube"},content:{}}],p.playlistIndex=0,p}return(function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)})(u,l),r(u,[{key:"initialize",value:function(){window.segmentYoutubeOnStateChange=this.onPlayerStateChange.bind(this),window.segmentYoutubeOnReady=this.onPlayerReady.bind(this),this.player.addEventListener("onReady","segmentYoutubeOnReady"),this.player.addEventListener("onStateChange","segmentYoutubeOnStateChange")}},{key:"onPlayerReady",value:function(f){this.retrieveMetadata()}},{key:"onPlayerStateChange",value:function(f){var d=this.player.getCurrentTime();switch(this.metadata[this.playlistIndex]&&(this.metadata[this.playlistIndex].playback.position=this.metadata[this.playlistIndex].content.position=d,this.metadata[this.playlistIndex].playback.quality=this.player.getPlaybackQuality(),this.metadata[this.playlistIndex].playback.sound=this.player.isMuted()?0:this.player.getVolume()),f.data){case-1:if(this.playerLoaded)break;this.retrieveMetadata(),this.playerLoaded=!0;break;case YT.PlayerState.BUFFERING:this.handleBuffer();break;case YT.PlayerState.PLAYING:this.handlePlay();break;case YT.PlayerState.PAUSED:this.handlePause();break;case YT.PlayerState.ENDED:this.handleEnd()}this.lastRecordedTime={timeReported:Date.now(),timeElapsed:1e3*this.player.getCurrentTime()}}},{key:"retrieveMetadata",value:function(){var f=this;return new Promise((function(d,p){var h=f.player.getVideoData(),m=f.player.getPlaylist()||[h.video_id],w=m.join();(0,i.default)("https://www.googleapis.com/youtube/v3/videos?id="+w+"&part=snippet,contentDetails&key="+f.apiKey).then((function(g){if(!g.ok){var x=new Error("Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)");throw x.response=g,x}return g.json()})).then((function(g){f.metadata=[];for(var x=0,C=0;C<m.length;C++){var P=g.items[C];f.metadata.push({content:{title:P.snippet.title,description:P.snippet.description,keywords:P.snippet.tags,channel:P.snippet.channelTitle,airdate:P.snippet.publishedAt}}),x+=c(P.contentDetails.duration)}for(C=0;C<m.length;C++)f.metadata[C].playback={total_length:x,video_player:"youtube"};d()})).catch((function(g){f.metadata=m.map((function(x){return{playback:{video_player:"youtube"},content:{}}})),p(g)}))}))}},{key:"handleBuffer",value:function(){var f=this.determineSeek();this.playbackStarted||(this.playbackStarted=!0,this.track("Video Playback Started",this.metadata[this.playlistIndex].playback)),f&&!this.isSeeking&&(this.isSeeking=!0,this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback)),this.isSeeking&&(this.track("Video Playback Seek Completed",this.metadata[this.playlistIndex].playback),this.isSeeking=!1);var d=this.player.getPlaylist();d&&this.player.getCurrentTime()===0&&this.player.getPlaylistIndex()!==this.playlistIndex&&(this.contentStarted=!1,this.playlistIndex===d.length-1&&this.player.getPlaylistIndex()===0&&(this.track("Video Playback Completed",this.metadata[this.player.getPlaylistIndex()].playback),this.track("Video Playback Started",this.metadata[this.player.getPlaylistIndex()].playback))),this.track("Video Playback Buffer Started",this.metadata[this.playlistIndex].playback),this.isBuffering=!0}},{key:"handlePlay",value:function(){this.contentStarted||(this.playlistIndex=this.player.getPlaylistIndex(),this.playlistIndex===-1&&(this.playlistIndex=0),this.track("Video Content Started",this.metadata[this.playlistIndex].content),this.contentStarted=!0),this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused&&(this.track("Video Playback Resumed",this.metadata[this.playlistIndex].playback),this.isPaused=!1)}},{key:"handlePause",value:function(){var f=this.determineSeek();this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused||(f?(this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback),this.isSeeking=!0):(this.track("Video Playback Paused",this.metadata[this.playlistIndex].playback),this.isPaused=!0))}},{key:"handleEnd",value:function(){this.track("Video Content Completed",this.metadata[this.playlistIndex].content),this.contentStarted=!1;var f=this.player.getPlaylistIndex(),d=this.player.getPlaylist();(d&&f===d.length-1||f===-1)&&(this.track("Video Playback Completed",this.metadata[this.playlistIndex].playback),this.playbackStarted=!1)}},{key:"determineSeek",value:function(){var f=this.isPaused||this.isBuffering?0:Date.now()-this.lastRecordedTime.timeReported,d=1e3*this.player.getCurrentTime()-this.lastRecordedTime.timeElapsed;return Math.abs(f-d)>2e3}}]),u})(a.default);function c(l){var u=l.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return u=u.slice(1).map((function(f){if(f!=null)return f.replace(/\D/,"")})),3600*(parseInt(u[0])||0)+60*(parseInt(u[1])||0)+(parseInt(u[2])||0)}e.default=s}])}))});var OMe={};$t(OMe,{loadLegacyVideoPlugins:()=>GOt});function GOt(t){return et(this,void 0,void 0,function(){var e;return tt(this,function(n){switch(n.label){case 0:return[4,Promise.resolve().then(()=>fe(RMe()))];case 1:return e=n.sent(),t._plugins=e,[2]}})})}var NMe=B(()=>{Zn()});var PMe={};$t(PMe,{schemaFilter:()=>KOt});function VOt(t,e){var n,r;if(!t||!Object.keys(t))return{};var i=t.integrations?Object.keys(t.integrations).filter(function(o){return t.integrations[o]===!1}):[],a=[];return((n=e.remotePlugins)!==null&&n!==void 0?n:[]).forEach(function(o){i.forEach(function(s){o.creationName==s&&a.push(o.name)})}),((r=e.remotePlugins)!==null&&r!==void 0?r:[]).reduce(function(o,s){return s.settings.subscriptions&&a.includes(s.name)&&s.settings.subscriptions.forEach(function(c){return o["".concat(s.name," ").concat(c.partnerAction)]=!1}),o},{})}function KOt(t,e){function n(r){var i=t,a=r.event.event;if(i&&a){var o=i[a];if(tj(i,o)){var s=VOt(o,e);r.updateEvent("integrations",Ce(Ce(Ce({},r.event.integrations),o?.integrations),s))}else return r.updateEvent("integrations",Ce(Ce({},r.event.integrations),{All:!1,"Segment.io":!0})),r}return r}return{name:"Schema Filter",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:n,alias:n,track:n,identify:n,group:n}}var kMe=B(()=>{Zn();F0e()});var MMe={};$t(MMe,{remoteMiddlewares:()=>$Ot});function $Ot(t,e,n){var r;return et(this,void 0,void 0,function(){var i,a,o,s,c,l=this;return tt(this,function(u){switch(u.label){case 0:return _z()?[2,[]]:(i=vO(),a=(r=e.enabledMiddleware)!==null&&r!==void 0?r:{},o=Object.entries(a).filter(function(f){var d=f[0],p=f[1];return p}).map(function(f){var d=f[0];return d}),s=o.map(function(f){return et(l,void 0,void 0,function(){var d,p,h,m;return tt(this,function(w){switch(w.label){case 0:d=f.replace("@segment/",""),p=d,n&&(p=btoa(d).replace(/=/g,"")),h="".concat(i,"/middleware/").concat(p,"/latest/").concat(p,".js.gz"),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,O5(h)];case 2:return w.sent(),[2,window["".concat(d,"Middleware")]];case 3:return m=w.sent(),t.log("error",m),t.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}),[4,Promise.all(s)]);case 1:return c=u.sent(),c=c.filter(Boolean),[2,c]}})})}var BMe=B(()=>{Zn();rO();Xz();EO()});function qOt(t,e){return $b("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(n){return n.ok?n.json():n.text().then(function(r){throw new Error(r)})}).catch(function(n){throw console.error(n.message),n})}function WOt(t){return M0e().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function YOt(t){var e,n,r;return M0e().NODE_ENV!=="test"&&((r=(n=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0)>0}function JOt(t,e){eke(t,e),XPe(t,e)}function QOt(t,e,n){return et(this,void 0,void 0,function(){return tt(this,function(r){switch(r.label){case 0:return[4,XOt(t,e)];case 1:return r.sent(),tke(t,n),[2]}})})}function eNt(t,e,n,r,i,a,o){var s,c,l;return i===void 0&&(i=[]),et(this,void 0,void 0,function(){var u,f,d,p,h,m,w,g,x,C,P,D,F,H,O,M=this;return tt(this,function(N){switch(N.label){case 0:return JOt(n,o),u=i?.filter(function(v){return typeof v=="object"}),f=i?.filter(function(v){return typeof v=="function"&&typeof v.pluginName=="string"}),YOt(e)?[4,Promise.resolve().then(()=>(hMe(),pMe)).then(function(v){return v.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return p=N.sent(),[3,3];case 2:p=void 0,N.label=3;case 3:return d=p,WOt(e)||a.length>0?[4,Promise.resolve().then(()=>(IMe(),CMe)).then(function(v){return v.ajsDestinations(t,e,n.integrations,r,d,a)})]:[3,5];case 4:return m=N.sent(),[3,6];case 5:m=[],N.label=6;case 6:return h=m,e.legacyVideoPluginsEnabled?[4,Promise.resolve().then(()=>(NMe(),OMe)).then(function(v){return v.loadLegacyVideoPlugins(n)})]:[3,8];case 7:N.sent(),N.label=8;case 8:return!((s=r.plan)===null||s===void 0)&&s.track?[4,Promise.resolve().then(()=>(kMe(),PMe)).then(function(v){var I;return v.schemaFilter((I=r.plan)===null||I===void 0?void 0:I.track,e)})]:[3,10];case 9:return g=N.sent(),[3,11];case 10:g=void 0,N.label=11;case 11:return w=g,x=Zz(e,r),[4,oMe(e,n.integrations,x,r,d,f).catch(function(){return[]})];case 12:return C=N.sent(),P=li(li([nMe],h,!0),C,!0),w&&P.push(w),D=((c=r.integrations)===null||c===void 0?void 0:c.All)===!1&&!r.integrations["Segment.io"]||r.integrations&&r.integrations["Segment.io"]===!1,D?[3,14]:(H=(F=P).push,[4,Kke(n,x["Segment.io"],e.integrations)]);case 13:H.apply(F,[N.sent()]),N.label=14;case 14:return[4,n.register.apply(n,li(li([],P,!1),u,!1))];case 15:return O=N.sent(),[4,ZPe(n,o)];case 16:return N.sent(),Object.entries((l=e.enabledMiddleware)!==null&&l!==void 0?l:{}).some(function(v){var I=v[1];return I})?[4,Promise.resolve().then(()=>(BMe(),MMe)).then(function(v){var I=v.remoteMiddlewares;return et(M,void 0,void 0,function(){var S,y;return tt(this,function(b){switch(b.label){case 0:return[4,I(O,e,r.obfuscate)];case 1:return S=b.sent(),y=S.map(function(_){return n.addSourceMiddleware(_)}),[2,Promise.all(y)]}})})})]:[3,18];case 17:N.sent(),N.label=18;case 18:return[4,QPe(n,o)];case 19:return N.sent(),[2,O]}})})}function tNt(t,e,n){var r,i,a,o,s,c,l,u,f;return e===void 0&&(e={}),et(this,void 0,void 0,function(){var d,p,h,m,w,g,x,C,P,D,F;return tt(this,function(H){switch(H.label){case 0:return e.disable===!0?[2,[new k0e,p0.system()]]:(e.globalAnalyticsKey&&$Pe(e.globalAnalyticsKey),t.cdnURL&&Xke(t.cdnURL),e.initialPageview&&n.add(new fO("page",[])),d=ZOt(),p=(r=t.cdnURL)!==null&&r!==void 0?r:wO(),(i=t.cdnSettings)!==null&&i!==void 0?(m=i,[3,3]):[3,1]);case 1:return[4,qOt(t.writeKey,p)];case 2:m=H.sent(),H.label=3;case 3:return h=m,e.updateCDNSettings&&(h=e.updateCDNSettings(h)),typeof e.disable!="function"?[3,5]:[4,e.disable(h)];case 4:if(w=H.sent(),w)return[2,[new k0e,p0.system()]];H.label=5;case 5:return g=(o=(a=h.integrations["Segment.io"])===null||a===void 0?void 0:a.retryQueue)!==null&&o!==void 0?o:!0,e=Ce({retryQueue:g},e),x=new P0e(Ce(Ce({},t),{cdnSettings:h,cdnURL:p}),e),uMe(x),C=(s=t.plugins)!==null&&s!==void 0?s:[],P=(c=t.classicIntegrations)!==null&&c!==void 0?c:[],D=(l=e.integrations)===null||l===void 0?void 0:l["Segment.io"],Rz.initRemoteMetrics(Ce(Ce({},h.metrics),{host:(u=D?.apiHost)!==null&&u!==void 0?u:(f=h.metrics)===null||f===void 0?void 0:f.host,protocol:D?.protocol})),[4,eNt(t.writeKey,h,x,e,C,P,n)];case 6:return F=H.sent(),x.initialized=!0,x.emit("initialize",t,e),[4,QOt(x,d,n)];case 7:return H.sent(),[2,[x,F]]}})})}var ZOt,XOt,z0e,DMe=B(()=>{Zn();Zke();EO();Qke();wh();B0e();Aw();rMe();sMe();C0e();Xse();fMe();Pse();uO();iO();ZOt=function(){var t,e,n=(t=window.location.hash)!==null&&t!==void 0?t:"",r=(e=window.location.search)!==null&&e!==void 0?e:"",i=r.length?r:n.replace(/(?=#).*(?=\?)/,"");return i},XOt=function(t,e){return et(void 0,void 0,void 0,function(){return tt(this,function(n){switch(n.label){case 0:return e.includes("ajs_")?[4,t.queryString(e).catch(console.error)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})};z0e=(function(t){Fi(e,t);function e(){var n=this,r=ix(),i=r.promise,a=r.resolve;return n=t.call(this,function(o){return i.then(function(s){var c=s[0],l=s[1];return tNt(c,l,o)})})||this,n._resolveLoadStart=function(o,s){return a([o,s])},n}return e.prototype.load=function(n,r){return r===void 0&&(r={}),this._resolveLoadStart(n,r),this},e.load=function(n,r){return r===void 0&&(r={}),new e().load(n,r)},e.standalone=function(n,r){return e.load({writeKey:n},r).then(function(i){return i[0]})},e})(rke)});var Hjn,LMe=B(()=>{Hjn=(function(){function t(){}return t.load=function(){return Promise.reject(new Error("AnalyticsNode is not available in browsers."))},t})()});var UMe=B(()=>{DMe();LMe();wh();Fse();Hse();Qse()});var FMe,HMe=B(()=>{FMe=globalThis});function zMe(t){try{return!t||typeof t!="function"?j0e:t.name||j0e}catch{return j0e}}var j0e,jMe=B(()=>{j0e="<anonymous>"});function VMe(t){switch(GMe.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return AO(t,Error)}}function KMe(t,e){return GMe.call(t)===`[object ${e}]`}function $Me(t){return KMe(t,"String")}function nNt(t){return KMe(t,"Object")}function qMe(t){return typeof Event<"u"&&AO(t,Event)}function WMe(t){return typeof Element<"u"&&AO(t,Element)}function YMe(t){return nNt(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function AO(t,e){try{return t instanceof e}catch{return!1}}function JMe(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}var GMe,rj=B(()=>{GMe=Object.prototype.toString});function QMe(t,e={}){if(!t)return"<unknown>";try{let n=t,r=5,i=[],a=0,o=0,s=" > ",c=s.length,l,u=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||iNt;for(;n&&a++<r&&(l=aNt(n,u),!(l==="html"||a>1&&o+i.length*c+l.length>=f));)i.push(l),o+=l.length,n=n.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function aNt(t,e){let n=t,r=[];if(!n?.tagName)return"";if(rNt.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let i=e?.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let o=n.className;if(o&&$Me(o)){let s=o.split(/\s+/);for(let c of s)r.push(`.${c}`)}}let a=["aria-label","type","name","title","alt"];for(let o of a){let s=n.getAttribute(o);s&&r.push(`[${o}="${s}"]`)}return r.join("")}var rNt,iNt,ZMe=B(()=>{rj();HMe();rNt=FMe,iNt=80});function tBe(t){if(VMe(t))return{message:t.message,name:t.name,stack:t.stack,...eBe(t)};if(qMe(t)){let e={type:t.type,target:XMe(t.target),currentTarget:XMe(t.currentTarget),...eBe(t)};return typeof CustomEvent<"u"&&AO(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function XMe(t){try{return WMe(t)?QMe(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function eBe(t){if(typeof t=="object"&&t!==null){let e={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}var nBe=B(()=>{ZMe();rj()});function V0e(t,e=100,n=1/0){try{return G0e("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function G0e(t,e,n=1/0,r=1/0,i=cNt()){let[a,o]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let s=oNt(t,e);if(!s.startsWith("[object "))return s;if(e.__sentry_skip_normalization__)return e;let c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return s.replace("object ","");if(a(e))return"[Circular ~]";let l=e;if(l&&typeof l.toJSON=="function")try{let p=l.toJSON();return G0e("",p,c-1,r,i)}catch{}let u=Array.isArray(e)?[]:{},f=0,d=tBe(e);for(let p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;if(f>=r){u[p]="[MaxProperties ~]";break}let h=d[p];u[p]=G0e(p,h,c-1,r,i),f++}return o(e),u}function oNt(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(JMe(e))return"[VueViewModel]";if(YMe(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${zMe(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let n=sNt(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function sNt(t){let e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function cNt(){let t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}var rBe=B(()=>{rj();nBe();jMe()});var iBe=B(()=>{rBe()});var _O,aBe=B(()=>{st();Qe();iBe();_O=class t{constructor(e){K(this,"sentry",void 0),K(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){let n=e.findIndex(l=>l instanceof Error),r=e.findIndex(l=>typeof l=="string"),i=e.findIndex(l=>l&&typeof l=="object"&&"status"in l&&"type"in l),a=e.findIndex(l=>l&&typeof l=="object"&&"isAxiosError"in l&&l.isAxiosError===!0),o;if(i!==-1){var s;let l=e[i],u=(s=l.headers)===null||s===void 0?void 0:s.get("content-type");if(u.includes("application/json")){let f=await l.json();o=new Error(f?.error||f?.message||JSON.stringify(f))}else u.includes("text/plain")?o=new Error(await l.text()):o=new Error(`${l.status} ${l.type.toString()} ${l.statusText}`)}else if(a!==-1){let u=e[a].response;if(u){var c;let f=(c=u.headers)===null||c===void 0?void 0:c["content-type"];if(f.includes("application/json")){let d=u.data,p="error"in d?d.error:"message"in d?d.message:JSON.stringify(d);o=new Error(p)}else f.includes("text/plain")?o=new Error(u.data):o=new Error(`${u.status} ${u.data.toString()}`)}else o=new Error("Network error")}else n!==-1?o=e.splice(n,1)[0]:r!==-1?o=new Error(e.splice(r,1)[0]):o=new Error("Unknown error");return[o,e]}static translateArgs(e){let n=e.findIndex(i=>typeof i=="string"),r=n!==-1?e.splice(n,1)[0]:void 0;return r?{message:r,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){let n=e.methodFactory;e.methodFactory=(r,i,a)=>{a&&(this.category=a.toString());let o=n(r,i,a),s=typeof window<"u",c=(...l)=>{var u;let f=(u=this.sentry)===null||u===void 0?void 0:u.getActiveSpan(),{traceId:d,spanId:p}=f?.spanContext()||{},h=r==="error"&&l.length>=1&&l[0]instanceof Error;if(s){if(h){let g=l[0],x=d||p?`${g.message}: traceId: ${d} - spanId: ${p}`:g.message,P=[new Error(x,{cause:g}),...l.slice(1)];o&&o(...P);return}o&&o(...l)}else{let g={timestamp:new Date,level:r.toUpperCase(),logger:a};if((d||p)&&(g=q(q({},g),{},{traceId:d,spanId:p})),h){var m;let x=l[0];g=q(q({},g),{},{message:(m=x.message)!==null&&m!==void 0?m:"",stack:x.stack,extra:l.length>1?l.slice(1):void 0})}else{var w;g=q(q({},g),{},{message:(w=l[0])!==null&&w!==void 0?w:"",extra:l.length>1?l.slice(1):void 0})}o&&o(JSON.stringify(V0e(g)))}};switch(r){case"error":return async(...l)=>{let{stack:u}=l.find(p=>p instanceof Error)||new Error,[f,d]=await t.translateError(l);f.stack=u,this.error(f,...d),c(f,...d)};default:return(...l)=>{this.log(t.translateLevel(r),...l),c(...l)}}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){let n=this.sentry.getClient().getOptions();n&&(n.enabled=e)}}isEnabled(){if(this.sentry){var e;let n=this.sentry.getClient().getOptions();return(e=n?.enabled)!==null&&e!==void 0?e:!1}return!1}log(e,...n){this.sentry&&this.sentry.addBreadcrumb(q(q({},t.translateArgs(n)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...n){if(this.sentry){let r={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:n}};this.sentry.captureException(e,r)}}}});var oBe=B(()=>{aBe()});var sBe,De,lNt,U1=B(()=>{oBe();sBe=fe(Ln()),De=sBe.default.getLogger("web3auth-logger"),lNt=new _O;lNt.install(De)});var uNt,TO,Vn,K0e,SO,Cx=B(()=>{st();Qe();UMe();U1();uNt="f6LbNqCeVRf512ggdME4b6CyflhF1tsX",TO=class{constructor(){K(this,"segment",void 0),K(this,"globalProperties",{}),K(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw new Error("Analytics already initialized");this.segment=new z0e,this.segment.load({writeKey:uNt},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(De.debug("Analytics initialized"),!0)).catch(e=>{De.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=q(q({},this.globalProperties),e)}async identify(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,q({},n))}catch(r){De.error(`Failed to identify user ${e} in analytics`,r)}}async track(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,q(q({},n),this.globalProperties))}catch(r){De.error(`Failed to track event ${e}`,r)}}getSegment(){if(!this.segment)throw De.error("Analytics not initialized. Call Analytics.init() first."),new Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){let e=window.location.origin;return!!(e.startsWith("http://")||e.includes("localhost"))}},Vn={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},K0e={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},SO={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"}});var Ua,at,rt,Qb,F1,ss=B(()=>{Qe();Oie();Ua=class extends tH{constructor(e,n,r){super(n),K(this,"code",void 0),K(this,"message",void 0),K(this,"cause",void 0),this.code=e,this.message=n||"",this.cause=r,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}},at=class t extends Ua{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,n="",r){return new t(e,`${t.messages[e]}, ${n}`,r)}static notFound(e="",n){return t.fromCode(5001,e,n)}static notInstalled(e="",n){return t.fromCode(5002,e,n)}static notReady(e="",n){return t.fromCode(5003,e,n)}static windowBlocked(e="",n){return t.fromCode(5004,e,n)}static windowClosed(e="",n){return t.fromCode(5005,e,n)}static incompatibleChainNameSpace(e="",n){return t.fromCode(5006,e,n)}static duplicateConnectorError(e="",n){return t.fromCode(5007,e,n)}static invalidProviderConfigError(e="",n){return t.fromCode(5008,e,n)}static providerNotReadyError(e="",n){return t.fromCode(5009,e,n)}static rpcConnectionError(e="",n){return t.fromCode(5010,e,n)}static invalidParams(e="",n){return t.fromCode(5011,e,n)}static invalidNetwork(e="",n){return t.fromCode(5013,e,n)}};K(at,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});rt=class t extends Ua{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,n="",r){return new t(e,`${t.messages[e]}. ${n}`,r)}static connectionError(e="",n){return t.fromCode(5111,e,n)}static disconnectionError(e="",n){return t.fromCode(5112,e,n)}static notConnectedError(e="",n){return t.fromCode(5113,e,n)}static popupClosed(e="",n){return t.fromCode(5114,e,n)}static mfaEnabled(e="",n){return t.fromCode(5115,e,n)}static chainConfigNotAdded(e="",n){return t.fromCode(5116,e,n)}static unsupportedOperation(e="",n){return t.fromCode(5117,e,n)}static sfaKeyNotFound(e="",n){return t.fromCode(5118,e,n)}static userNotLoggedIn(e="",n){return t.fromCode(5119,e,n)}};K(rt,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});Qb=class t extends Ua{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,n="",r){return new t(e,`${t.messages[e]}, ${n}`,r)}static chainIDNotAllowed(e="",n){return t.fromCode(5201,e,n)}static operationNotAllowed(e="",n){return t.fromCode(5202,e,n)}static chainNamespaceNotAllowed(e="",n){return t.fromCode(5203,e,n)}};K(Qb,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});F1=class t extends Ua{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,n="",r){return new Qb(e,`${t.messages[e]}, ${n}`,r)}static invalidRequestArgs(e="",n){return Qb.fromCode(5301,e,n)}static invalidRequestMethod(e="",n){return Qb.fromCode(5302,e,n)}static invalidRequestParams(e="",n){return Qb.fromCode(5303,e,n)}};K(F1,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."})});function hd(t,e,n){return e?e.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((r,i)=>{let a=()=>{n?.(),i(new DOMException("Aborted","AbortError"))};return e.addEventListener("abort",a),Promise.resolve().then(()=>t()).then(r,i).finally(()=>{e.removeEventListener("abort",a)})}):t()}var IO,cBe,RO,$0e,OO,NO,PO,q0e,W0e,kO,N5,CO,H1,kw=B(()=>{Co();hR();gR();rx();ss();Zi();IO=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),cBe=(t=z3.SAPPHIRE_MAINNET)=>uie[t],RO=async({clientId:t,web3AuthNetwork:e,aaProvider:n,authBuildEnv:r})=>{let i=new URL(`${cBe(e)}/api/v2/configuration`);return i.searchParams.append("project_id",t),i.searchParams.append("network",e),r&&i.searchParams.append("build_env",r),n&&i.searchParams.append("aa_provider",n),await bR(i.href)},$0e=async t=>await bR(t||"https://assets.web3auth.io/v1/wallet-registry.json"),OO=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e};NO=()=>typeof window<"u"&&typeof document<"u",PO=t=>{var e,n;return{whitelabel_app_name:t?.appName,whitelabel_app_url:t?.appUrl,whitelabel_logo_light_enabled:!!t?.logoLight,whitelabel_logo_dark_enabled:!!t?.logoDark,whitelabel_default_language:t?.defaultLanguage,whitelabel_theme_mode:t?.mode,whitelabel_use_logo_loader:t?.useLogoLoader,whitelabel_theme_primary:t==null||(e=t.theme)===null||e===void 0?void 0:e.primary,whitelabel_theme_on_primary:t==null||(n=t.theme)===null||n===void 0?void 0:n.onPrimary,whitelabel_tnc_link_enabled:!!t?.tncLink,whitelabel_privacy_policy_enabled:!!t?.privacyPolicy}},q0e=t=>{var e,n,r,i,a;let o=Array.from(new Set(t==null||(e=t.chains)===null||e===void 0?void 0:e.map(c=>{var l;return CO((l=c.bundlerConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean))),s=Array.from(new Set(t==null||(n=t.chains)===null||n===void 0?void 0:n.map(c=>{var l;return CO((l=c.paymasterConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean)));return{aa_smart_account_type:t?.smartAccountType,aa_chain_ids:t==null||(r=t.chains)===null||r===void 0?void 0:r.map(c=>H1({chainId:c.chainId,chainNamespace:bt.EIP155})),aa_bundler_urls:o,aa_paymaster_urls:s,aa_paymaster_enabled:s.length>0,aa_paymaster_context_enabled:t==null||(i=t.chains)===null||i===void 0?void 0:i.some(c=>{var l;return(l=c.bundlerConfig)===null||l===void 0?void 0:l.paymasterContext}),aa_erc20_paymaster_enabled:t==null||(a=t.chains)===null||a===void 0?void 0:a.some(c=>{var l;return(l=c.bundlerConfig)===null||l===void 0||(l=l.paymasterContext)===null||l===void 0?void 0:l.token})}},W0e=t=>{var e,n,r,i,a,o,s,c,l,u,f;return{ws_confirmation_strategy:t?.confirmationStrategy,ws_enable_key_export:t?.enableKeyExport,ws_show_widget_button:t==null||(e=t.whiteLabel)===null||e===void 0?void 0:e.showWidgetButton,ws_button_position:t==null||(n=t.whiteLabel)===null||n===void 0?void 0:n.buttonPosition,ws_hide_nft_display:t==null||(r=t.whiteLabel)===null||r===void 0?void 0:r.hideNftDisplay,ws_hide_token_display:t==null||(i=t.whiteLabel)===null||i===void 0?void 0:i.hideTokenDisplay,ws_hide_transfers:t==null||(a=t.whiteLabel)===null||a===void 0?void 0:a.hideTransfers,ws_hide_topup:t==null||(o=t.whiteLabel)===null||o===void 0?void 0:o.hideTopup,ws_hide_receive:t==null||(s=t.whiteLabel)===null||s===void 0?void 0:s.hideReceive,ws_hide_swap:t==null||(c=t.whiteLabel)===null||c===void 0?void 0:c.hideSwap,ws_hide_show_all_tokens:t==null||(l=t.whiteLabel)===null||l===void 0?void 0:l.hideShowAllTokens,ws_hide_wallet_connect:t==null||(u=t.whiteLabel)===null||u===void 0?void 0:u.hideWalletConnect,ws_default_portfolio:t==null||(f=t.whiteLabel)===null||f===void 0?void 0:f.defaultPortfolio}},kO="10.2.0",N5=t=>{try{let e=t instanceof Ua?t.code:t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},CO=t=>{try{return new URL(t).hostname}catch{return""}},H1=t=>t.chainNamespace===bt.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===bt.SOLANA?`${t.chainNamespace}:${Vb[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`});var uBe=le((DGn,lBe)=>{lBe.exports=fNt;function fNt(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return n=n%e,n++}}});var fBe,dBe,ij,Y0e=B(()=>{fBe=fe(uBe()),dBe=(0,fBe.default)(),ij=(function(t){return t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.CONNECT="connect",t.DISCONNECT="disconnect",t.MESSAGE="message",t})({})});var Ll,Mw=B(()=>{st();Qe();Co();Zi();Y0e();ss();Ll=class extends ZR{constructor({config:e,state:n}){super({config:e,state:n}),K(this,"_providerEngineProxy",null),K(this,"keyExportFlagSetByCode",!1);let{chain:r}=e;if(!r)throw at.invalidProviderConfigError("Please provide chain");if(!r.chainId)throw at.invalidProviderConfigError("Please provide chainId inside chain");if(!r.rpcTarget)throw at.invalidProviderConfigError("Please provide rpcTarget inside chain");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var n;if(!e||typeof e!="object"||Array.isArray(e))throw Gn.invalidRequest({message:F1.invalidRequestArgs().message,data:q(q({},e||{}),{},{cause:F1.invalidRequestArgs().message})});let{method:r,params:i}=e;if(typeof r!="string"||r.length===0)throw Gn.invalidRequest({message:F1.invalidRequestMethod().message,data:q(q({},e||{}),{},{cause:F1.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw Gn.invalidRequest({message:F1.invalidRequestParams().message,data:q(q({},e||{}),{},{cause:F1.invalidRequestParams().message})});return(n=this.provider)===null||n===void 0?void 0:n.request(e)}sendAsync(e,n){return n?this.send(e,n):this.request(e)}send(e,n){this.request(e).then(r=>n(null,{result:r})).catch(r=>n(r,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);let n=r=>{r!=="newListener"&&e.on(r,(...i)=>{if(r===ij.CHAIN_CHANGED){let a=i[0];this.update({chainId:a})}this.emit(r,...i)})};this.eventNames().forEach(r=>{n(r)}),this.on("newListener",r=>{this.listenerCount(r)>0||n(r)})}else this._providerEngineProxy=Zoe(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(n=>n.chainId===e)}}});function dNt(t){return(e,n,r,i)=>e.method==="chainId"?(n.result=t,i()):r()}function pNt(t){return(e,n,r,i)=>e.method==="provider_config"?(n.result=t,i()):r()}function pBe(t){let{chainId:e,rpcTarget:n}=t,r=gw({rpcTarget:n});return{networkMiddleware:sd([dNt(e),pNt(t),r]),fetchMiddleware:r}}var hBe=B(()=>{Co();Zi()});var mBe,Zb,J0e=B(()=>{Qe();Zi();Mw();hBe();Zb=class extends Ll{constructor({config:e,state:n}){super({config:e,state:n})}async setupProvider(e){let n=this.getChain(e);if(!n)throw So.custom({message:"Chain not found",code:4902});let{networkMiddleware:r}=pBe(n),i=new Y0;i.push(r);let a=Hu(i);this.updateProviderEngineProxy(a),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw So.custom({message:"Provider is not initialized",code:4902});let n=e.chainId;this.chainId!==n&&(this.update({chainId:"loading"}),await this.setupProvider(n))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}};mBe=Zb;K(Zb,"getProviderInstance",async t=>{let e=new mBe({config:{chain:t.chain,chains:t.chains}}),{chainId:n}=t.chain;return await e.setupProvider(n),e})});function yBe(t){return new Promise((e,n)=>{try{let r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}async function oj(t){let{document:e}=t,n=e.querySelector('head > link[rel="shortcut icon"]');return n&&await yBe(n.href)||(n=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(r=>!!r.href)||null,n&&await yBe(n.href))?n.href:null}function bBe(t){let[e,n]=t.split(".");return{header:JSON.parse(j3(e)),payload:JSON.parse(j3(n))}}var aj,sj=B(()=>{Zi();aj=t=>{let{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;let r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:t.location.hostname}});var jo,P5=B(()=>{jo={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",MULTICHAIN:"multichain"}});var MO,gBe,Ix,ct,BO,Xb=B(()=>{st();MO={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},gBe=q({},MO),Ix=q({COINBASE:"coinbase"},MO),ct=q(q({},Ix),gBe),BO={[MO.AUTH]:"Auth",[MO.WALLET_CONNECT_V2]:"Wallet Connect v2",[Ix.COINBASE]:"Coinbase Smart Wallet",[Ix.METAMASK]:"MetaMask"}});var Pe,lt,cs,md=B(()=>{st();Pe={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored"},lt=q(q({},Pe),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),cs={EXTERNAL:"external",IN_APP:"in_app"}});var Sh,DO=B(()=>{Qe();Zi();P5();ss();Xb();md();Co();Sh=class extends Ol{constructor(e){super(),K(this,"connectorData",{}),K(this,"isInjected",void 0),K(this,"icon",void 0),K(this,"coreOptions",void 0),K(this,"rehydrated",!1),K(this,"connectorNamespace",void 0),K(this,"type",void 0),K(this,"name",void 0),K(this,"status",void 0),this.coreOptions=e.coreOptions}get connnected(){return this.status===Pe.CONNECTED}checkConnectionRequirements(){if(!(this.name===ct.WALLET_CONNECT_V2&&this.status===Pe.CONNECTING)&&!(this.name===ct.METAMASK&&!this.isInjected&&this.status===Pe.CONNECTING)){if(this.status===Pe.CONNECTING)throw at.notReady("Already connecting");if(this.status===Pe.CONNECTED)throw rt.connectionError("Already connected");if(this.status!==Pe.READY)throw rt.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw at.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw at.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==bt.OTHER)throw at.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==bt.OTHER)throw at.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==jo.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw at.invalidParams("Connector doesn't support this chain namespace");if(this.status!==Pe.NOT_READY){if(this.status===Pe.CONNECTED)throw at.notReady("Already connected");if(this.status===Pe.READY)throw at.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(this.status!==Pe.CONNECTED)throw rt.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,n=!1){if(!n&&!this.provider)throw rt.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw at.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(i=>i.chainId===e.chainId&&(i.chainNamespace===this.connectorNamespace||this.connectorNamespace===jo.MULTICHAIN)))throw at.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(lt.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}});var ni,cj,ua,lj=B(()=>{ni={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},cj={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},ua={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"}});var wBe,uj,vBe=B(()=>{wBe=fe(Ln()),uj=wBe.default.getLogger("auth");uj.setLevel("error")});var LO,EBe=B(()=>{LO={light:"light",dark:"dark",auto:"auto"}});function fj(){}var _Be,xBe,Q0e,ABe,Rx,TBe=B(()=>{Qe();_Be=fe(hh());xBe="SYN",Q0e="ACK",ABe="BRK",Rx=class extends _Be.Duplex{constructor({name:e,target:n,targetWindow:r=window,targetOrigin:i="*"}){if(super({objectMode:!0}),K(this,"_init",void 0),K(this,"_haveSyn",void 0),K(this,"_name",void 0),K(this,"_target",void 0),K(this,"_targetWindow",void 0),K(this,"_targetOrigin",void 0),K(this,"_onMessage",void 0),K(this,"_synIntervalId",void 0),!e||!n)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=e,this._target=n,this._targetWindow=r,this._targetOrigin=i,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(ABe,null,fj),this._haveSyn=!1,this._init=!1}_handShake(){this._write(xBe,null,fj),this.cork()}_onData(e){if(!this._init)e===xBe?(this._haveSyn=!0,this._write(Q0e,null,fj)):e===Q0e&&(this._init=!0,this._haveSyn||this._write(Q0e,null,fj),this.uncork());else if(e===ABe)this._break();else try{this.push(e)}catch(n){this.emit("error",n)}}_postMessage(e){let n=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},n)}onMessage(e){let n=e.data;this._targetOrigin!=="*"&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||typeof n!="object"||n.target!==this._name||!n.data||this._onData(n.data)}_read(){}_write(e,n,r){this._postMessage(e),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}});function SBe(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function hNt(t){let e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}var CBe,z1,dj=B(()=>{CBe=fe(Ps());z1=class extends CBe.EventEmitter{emit(e,...n){let r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;let s=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw s.context=o,s}let a=i[e];if(a===void 0)return!1;if(typeof a=="function")SBe(a,this,n);else{let o=a.length,s=hNt(a);for(let c=0;c<o;c+=1)SBe(s[c],this,n)}return!0}}});var IBe,e2,RBe=B(()=>{Qe();IBe=fe(O3()),e2=class extends Error{constructor({code:e,message:n,data:r}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),K(this,"code",void 0),K(this,"data",void 0),this.code=e,r!==void 0&&(this.data=r)}toString(){return(0,IBe.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}});var OBe,pj,NBe=B(()=>{Qe();OBe=fe(hh()),pj=class extends OBe.Duplex{constructor({parent:e,name:n}){super({objectMode:!0}),K(this,"_parent",void 0),K(this,"_name",void 0),this._parent=e,this._name=n}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}}});var Ul,Z0e,X0e=B(()=>{Ul={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Z0e={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});function DBe(t){return Number.isInteger(t)}function kBe(t){return typeof t=="string"&&t.length>0}function hj(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function LBe(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function bNt(t){return t>=-32099&&t<=-32e3}function UBe(t){let e=t;return!(!e||!DBe(e.code)||!kBe(e.message)||e.stack&&!kBe(e.stack))}function UO(t,e=mNt){if(DBe(t)){let n=t.toString();if(BBe(Z0e,n))return Z0e[n].message;if(bNt(t))return yNt}return e}function ece(t){try{JSON.parse(JSON.stringify(t,(e,n)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof n=="function"||typeof n=="symbol")throw new Error("Not valid json");return n}),(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n})}catch{return!1}return!0}function MBe(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{let r=t[n];return ece(r)&&(e[n]=r),e},{})}function tce(t){return Array.isArray(t)?t.map(e=>ece(e)?e:hj(e)?MBe(e):null):hj(t)?MBe(t):ece(t)?t:null}function wNt(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(UBe(t))return t;let n=tce(t);return q(q({},e),{},{data:{cause:n}})}function nce(t,{fallbackError:e=gNt,shouldIncludeStack:n=!0}={}){if(!UBe(e))throw new Error("Must provide fallback error with integer number code and string message.");let r=wNt(t,e);return n||delete r.stack,r}function FBe(t){return hj(t)&&BBe(t,"cause")&&hj(t.cause)}var BBe,PBe,mNt,yNt,gNt,mj=B(()=>{st();X0e();BBe=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)},PBe=Ul.rpc.internal,mNt="Unspecified error message. This is a bug, please report it.",yNt="Unspecified server error.";gNt={code:PBe,message:UO(PBe)}});function ENt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function xNt(t,e){if(e!=="[Circular]")return e}var HBe,vNt,Ox,Ch,rce=B(()=>{Qe();HBe=fe(O3());mj();vNt=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};Ox=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');FBe(r)?(super(n,{cause:r.cause}),K(this,"cause",void 0),K(this,"code",void 0),K(this,"data",void 0),vNt(this,"cause")||Object.assign(this,{cause:r.cause})):(super(n),K(this,"cause",void 0),K(this,"code",void 0),K(this,"data",void 0)),r!==void 0&&(this.data=r),this.code=e,this.cause=r?.cause}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,LBe(this.data)&&(e.data.cause=tce(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,HBe.default)(this.serialize(),{replacer:xNt,space:2})}},Ch=class extends Ox{constructor(e,n,r){if(!ENt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}});function ANt(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}function yd(t,e){let[n,r]=ANt(e);return new Ox(t,n??UO(t),r)}var Bw,zBe=B(()=>{rce();X0e();mj();Bw={parse:t=>yd(Ul.rpc.parse,t),invalidRequest:t=>yd(Ul.rpc.invalidRequest,t),invalidParams:t=>yd(Ul.rpc.invalidParams,t),methodNotFound:t=>yd(Ul.rpc.methodNotFound,t),internal:t=>yd(Ul.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return yd(e,t)},invalidInput:t=>yd(Ul.rpc.invalidInput,t),resourceNotFound:t=>yd(Ul.rpc.resourceNotFound,t),resourceUnavailable:t=>yd(Ul.rpc.resourceUnavailable,t),transactionRejected:t=>yd(Ul.rpc.transactionRejected,t),methodNotSupported:t=>yd(Ul.rpc.methodNotSupported,t),limitExceeded:t=>yd(Ul.rpc.limitExceeded,t)}});function ice(){let t={};function e(){return!1}let n=new z1;function r(c){let l=t[c.id];if(!l)throw new Error(`StreamMiddleware - Unknown response id "${c.id}"`);delete t[c.id],Object.assign(l.res,c),setTimeout(l.end)}function i(c){n.emit("notification",c)}function a(c,l,u){let f;try{!c.id?i(c):r(c)}catch(d){f=d}u(f)}let o=new jBe.Duplex({objectMode:!0,read:e,write:a});return{events:n,middleware:(c,l,u,f)=>{o.push(c),t[c.id]={req:c,res:l,next:u,end:f}},stream:o}}function ace(){return(t,e,n,r)=>{let i=t.id,a=Math.random().toString(36).slice(2);t.id=a,e.id=a,n(o=>{t.id=i,e.id=i,o()})}}var jBe,Nx,GBe=B(()=>{jBe=fe(hh());dj();Nx=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)}});function VBe(t){let{message:e="",code:n=-32603,stack:r="Stack trace is not available.",data:i=""}=t,a=parseInt(n?.toString()||"-32603");return{message:e||t?.toString()||UO(a),code:a,stack:r,data:i||e||t?.toString()}}var _Nt,FO,KBe=B(()=>{st();Qe();_Nt=fe(hh());vBe();mj();dj();RBe();FO=class t extends z1{constructor(){super(),K(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){let i=[],a=null,o=!1;for(let s of r)if([a,o]=await t._runMiddleware(e,n,s,i),o)break;return[a,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(a=>{let o=c=>{let l=c||n.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),uj.error(l),n.error=nce(l,{shouldIncludeStack:!0,fallbackError:VBe(l)})),a([l,!0])},s=c=>{n.error?o(n.error):(c&&(typeof c!="function"&&o(new e2({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),a([null,!1]))};try{r(e,n,s,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(let n of e)await new Promise((r,i)=>{n(a=>a?i(a):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new e2({code:-32603,message:"Response has no error or result for request"});if(!r)throw new e2({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{let[a,o,s]=await t._runAllMiddleware(e,n,this._middleware);return o?(await t._runReturnHandlers(s),i(a)):r(async c=>{try{await t._runReturnHandlers(s)}catch(l){return c(l)}return c()})}catch(a){return i(a)}}}async _handleBatch(e,n){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise((n,r)=>{this._handle(e,(i,a)=>{i&&a===void 0?r(i):n(a)}).catch(r)})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){let o=new e2({code:-32603,message:"request must be plain object"});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){let o=new e2({code:-32603,message:"method must be string"});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}let r=q({},e),i={id:r.id,jsonrpc:r.jsonrpc},a=null;try{await this._processRequest(r,i)}catch(o){a=o}return a&&(delete i.result,i.error||(typeof a=="object"&&Object.keys(a).includes("stack")===!1&&(a.stack="Stack trace is not available."),uj.error(a),i.error=nce(a,{shouldIncludeStack:!0,fallbackError:VBe(a)}))),n(a,i)}async _processRequest(e,n){let[r,i,a]=await t._runAllMiddleware(e,n,this._middleware);if(t._checkForCompletion(e,n,i),await t._runReturnHandlers(a),r)throw r}}});function SNt(t,e){let n=(0,$Be.default)(e);(0,oce.default)(t,{readable:!1},n),(0,oce.default)(t,{writable:!1},n)}var oce,$Be,TNt,qBe,sce,HO,WBe=B(()=>{st();Qe();oce=fe(goe()),$Be=fe(VH()),TNt=fe(woe()),qBe=fe(hh());NBe();sce=Symbol("IGNORE_SUBSTREAM"),HO=class extends qBe.Duplex{constructor(e={}){super(q(q({},e),{},{objectMode:!0})),K(this,"_substreams",void 0),K(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);let n=new pj({parent:this,name:e});return this._substreams[e]=n,SNt(this,r=>n.destroy(r||void 0)),n}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=sce}_read(){}_write(e,n,r){let{name:i,data:a}=e;if(!i)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();let o=this._substreams[i];return o?(o!==sce&&o.push(a),r()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}});var Dw=B(()=>{l5();TBe();dj();rce();zBe();GBe();KBe();WBe();EBe()});var cce,lce,uce,fce,t2,qc,zO,jO,YBe=B(()=>{cce={height:660,width:375},lce={height:700,width:1200},uce={height:700,width:450},fce="setup_complete",t2={IFRAME_STATUS:"iframe_status",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out",TOGGLE_WIDGET_BUTTON:"toggle_widget_button",ALLOW_WALLET_SERVICE:"allow_wallet_service"},qc={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",CLOSED_WINDOW:"closed_window",WINDOW_BLOCKED:"window_blocked",GET_PROVIDER_STATE:"get_provider_state",LOGIN_WITH_PRIVATE_KEY:"login_with_private_key",SHOW_WALLET_CONNECT:"show_wallet_connect",SHOW_CHECKOUT:"show_checkout",SHOW_WALLET_UI:"show_wallet_ui",SHOW_SWAP:"show_swap",LOGIN_WITH_SESSION_ID:"login_with_session_id"},zO={GET_PROVIDER_STATE:"wallet_get_provider_state",WALLET_SWITCH_CHAIN:"wallet_switchChain"},jO={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"}});var j1,JBe=B(()=>{j1={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"}});function Px({width:t,height:e}){let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,o=1,s=Math.abs((i-t)/2/o+n),c=Math.abs((a-e)/2/o+r);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${e/o},width=${t/o},top=${c},left=${s}`}var GO,QBe=B(()=>{$c();Gb();GO=()=>Math.random().toString(36).slice(2)});function pce(t){return function(n,r,i){i(a=>{r.error&&dce.default.warn(`Error in RPC response:
`,r),!n.isTorusInternal&&(dce.default.info(`RPC (${t.origin}):`,n,"->",r),a())})}}var dce,ZBe=B(()=>{dce=fe(Ln())});var Lw=B(()=>{JBe();YBe();ZBe();QBe()});function XBe(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function CNt(t){return XBe(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}function INt(t){return XBe(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object"}function eDe(t){return CNt(t)&&INt(t)}var tDe=B(()=>{});var Q0,yj=B(()=>{Q0={errors:{disconnected:()=>"Web3Auth: Lost connection to Web3Auth.",permanentlyDisconnected:()=>"Web3Auth: Disconnected from iframe. Page reload required.",unsupportedSync:t=>`Web3Auth: The Web3Auth Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:t=>`Invalid options. Received: { maxEventListeners: ${t}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`Web3Auth: Connected to chain with ID "${t}".`}}});var nDe,xr,VO=B(()=>{nDe=fe(Ln()),xr=nDe.default.getLogger("ws-embed")});function rDe(){return(t,e,n)=>{(typeof t.method!="string"||!t.method)&&(e.error=Bw.invalidRequest({message:"The request 'method' must be a non-empty string.",data:q(q({},t||{}),{},{cause:"The request 'method' must be a non-empty string."})})),n(r=>{let{error:i}=e;return i&&xr.error(`Ws-Embed - RPC Error: ${i.message}`,i),r()})}}function iDe(t,e,n){let r=`Web3Auth: Lost connection to "${t}".`;e!=null&&e.stack&&(r+=`
${e.stack}`),xr.warn(r),n&&n.listenerCount("error")>0&&n.emit("error",r)}var aDe,hce=B(()=>{st();Dw();VO();aDe=["eth_subscription"]});var mce,kx,yce=B(()=>{st();Qe();Lw();Dw();mce=fe(woe());tDe();yj();hce();kx=class extends z1{constructor(e,{maxEventListeners:n=100,jsonRpcStreamName:r="provider"}){if(super(),K(this,"rpcEngine",void 0),K(this,"jsonRpcConnectionEvents",void 0),K(this,"isWeb3Auth",void 0),K(this,"state",void 0),!eDe(e))throw new Error(Q0.errors.invalidDuplexStream());this.isWeb3Auth=!0,this.setMaxListeners(n),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleStreamDisconnect=this.handleStreamDisconnect.bind(this),this.rpcRequest=this.rpcRequest.bind(this),this.initializeState=this.initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this),this.send=this.send.bind(this);let i=new HO;(0,mce.default)(e,i,e,this.handleStreamDisconnect.bind(this,"Web3Auth")),i.ignoreStream("phishing");let a=ice();(0,mce.default)(a.stream,i.createStream(r),a.stream,this.handleStreamDisconnect.bind(this,"Web3Auth RpcProvider"));let o=new FO;o.push(ace()),o.push(rDe()),o.push(pce({origin:location.origin})),o.push(a.middleware),this.rpcEngine=o,this.jsonRpcConnectionEvents=a.events}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Bw.invalidRequest({message:Q0.errors.invalidRequestArgs(),data:q(q({},e||{}),{},{cause:Q0.errors.invalidRequestArgs()})});let{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw Bw.invalidRequest({message:Q0.errors.invalidRequestMethod(),data:q(q({},e||{}),{},{cause:Q0.errors.invalidRequestArgs()})});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Bw.invalidRequest({message:Q0.errors.invalidRequestParams(),data:q(q({},e||{}),{},{cause:Q0.errors.invalidRequestArgs()})});return new Promise((i,a)=>{this.rpcRequest({method:n,params:r},Nx(i,a))})}send(e,n){this.rpcRequest(e,n)}sendAsync(e){return new Promise((n,r)=>{this.rpcRequest(e,Nx(n,r))})}handleStreamDisconnect(e,n){iDe(e,n,this),this.handleDisconnect(!1,n?n.message:void 0)}}});var n2,k5,bj=B(()=>{n2={PRODUCTION:"production",STAGING:"staging",DEVELOPMENT:"development",TESTING:"testing"},k5={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"}});var gj,oDe=B(()=>{Qe();Lw();Dw();gj=class extends z1{constructor({url:e,target:n,features:r,timeout:i=3e4}){super(),K(this,"url",void 0),K(this,"target",void 0),K(this,"features",void 0),K(this,"window",void 0),K(this,"windowTimer",void 0),K(this,"iClosedWindow",void 0),K(this,"timeout",void 0),this.url=e,this.target=n||"_blank",this.features=r||Px(lce),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;this.window=window.open(this.url.href,this.target,this.features),(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}});var KO,sDe=B(()=>{st();Qe();Lw();Dw();yce();bj();VO();yj();oDe();KO=class t extends kx{constructor(e,{maxEventListeners:n=100,jsonRpcStreamName:r="provider"},i){super(e,{maxEventListeners:n,jsonRpcStreamName:r}),K(this,"tryWindowHandle",void 0),K(this,"windowRefs",void 0),K(this,"iframeUrl",void 0),K(this,"iframeId",void 0),this.state=q(q({},t.defaultState),i),this.iframeUrl="",this.iframeId="",this.windowRefs=new Map,this.on("connect",()=>{this.state.isConnected=!0});let a=o=>{let{method:s,params:c}=o;if(s===t2.IFRAME_STATUS){let{isFullScreen:l,rid:u}=c;this.displayIframe({isFull:l,rid:u},!0)}else if(s===t2.CLOSE_WINDOW)this.handleCloseWindow(c);else if(s===t2.USER_LOGGED_IN){let{currentAuthConnection:l}=c;this.state.isLoggedIn=!0,this.state.currentAuthConnection=l}else if(s===t2.USER_LOGGED_OUT)this.state.isLoggedIn=!1,this.state.currentAuthConnection=null,this.displayIframe({isFull:!1},!0);else if(s===t2.TOGGLE_WIDGET_BUTTON){let{show:l}=c;this.state.widgetVisibility=l,this.displayIframe()}else if(s===t2.ALLOW_WALLET_SERVICE){let{allow:l}=c;this.state.allowWalletService=l}};this.jsonRpcConnectionEvents.on("notification",a)}get isLoggedIn(){return this.state.isLoggedIn}get isIFrameFullScreen(){return this.state.isIFrameFullScreen}get allowWalletService(){return this.state.allowWalletService}isConnected(){return this.state.isConnected}async initializeState(e){try{let{torusUrl:n,torusIframeId:r}=e;this.iframeUrl=n,this.iframeId=r;let{currentAuthConnection:i,isLoggedIn:a}=await this.request({method:qc.GET_PROVIDER_STATE,params:[]});a&&this.handleConnect(i,a)}catch(n){xr.error("Web3Auth: Failed to get initial state. Please report this bug.",n)}finally{xr.info("initialized communication state"),this.state.initialized=!0}}displayIframe({isFull:e=!1,rid:n=""}={},r=!1){let i={};if(e)i.display="block",i.width="100%",i.height="100%",i.top="0px",i.right="0px",i.left="0px",i.bottom="0px";else switch(i.display=this.state.widgetVisibility?"block":"none",i.height=this.state.widgetVisibility?"70px":"0px",i.width=this.state.widgetVisibility?"70px":"0px",this.state.buttonPosition){case k5.TOP_LEFT:i.top="0px",i.left="0px",i.right="auto",i.bottom="auto";break;case k5.TOP_RIGHT:i.top="0px",i.right="0px",i.left="auto",i.bottom="auto";break;case k5.BOTTOM_RIGHT:i.bottom="0px",i.right="0px",i.top="auto",i.left="auto";break;case k5.BOTTOM_LEFT:default:i.bottom="0px",i.left="0px",i.top="auto",i.right="auto";break}let a=document.getElementById(this.iframeId);Object.assign(a.style,i),this.state.isIFrameFullScreen=e,r||this.request({method:qc.IFRAME_STATUS,params:{isIFrameFullScreen:e,rid:n}})}async handleWindow(e,{url:n,target:r,features:i,timeout:a}={}){let o=new URL(n||`${this.iframeUrl}/redirect?windowId=${e}&sessionNamespace=${window.location.hostname}`),s=new gj({url:o,target:r,features:i,timeout:a});if(s.open(),!s.window){this.displayIframe({isFull:!0}),this.request({method:qc.WINDOW_BLOCKED,params:{windowId:e,finalUrl:o.href}});return}this.windowRefs.set(e,s),s.once("close",()=>{this.windowRefs.delete(e),this.request({method:qc.CLOSED_WINDOW,params:{windowId:e}})})}rpcRequest(e,n){let r=n,i=e;Array.isArray(i)||i.jsonrpc||(i.jsonrpc="2.0"),this.rpcEngine.handle(i,r)}handleConnect(e,n){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{currentAuthConnection:e,isLoggedIn:n}),xr.debug(Q0.info.connected(e)))}handleDisconnect(e,n){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!e){this.state.isConnected=!1;let r;e?(r=new Ch(1013,n||Q0.errors.disconnected()),xr.debug(r)):(r=new Ch(1011,n||Q0.errors.permanentlyDisconnected()),xr.error(r),this.state.currentAuthConnection=null,this.state.isLoggedIn=!1,this.state.widgetVisibility=!1,this.state.isIFrameFullScreen=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}handleCloseWindow(e){let{windowId:n}=e;this.windowRefs.has(n)&&(this.windowRefs.get(n).close(),this.windowRefs.delete(n))}};K(KO,"defaultState",{buttonPosition:"bottom-left",currentAuthConnection:null,isIFrameFullScreen:!1,widgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1,hasEmittedConnection:!1,allowWalletService:!1})});var cDe,lDe=B(()=>{cDe=t=>{let e=window.document.createElement("template"),n=t.trim();return e.innerHTML=n,e.content.firstChild}});var fDe=le((eqn,uDe)=>{"use strict";uDe.exports=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}});var dDe,Uw,bce=B(()=>{st();Qe();Lw();Dw();dDe=fe(fDe());yce();lj();VO();yj();hce();Uw=class t extends kx{constructor(e,{maxEventListeners:n=100,jsonRpcStreamName:r="provider"}){super(e,{maxEventListeners:n,jsonRpcStreamName:r}),K(this,"chainId",void 0),K(this,"selectedAddress",void 0),K(this,"tryWindowHandle",void 0),this.state=q({},t.defaultState),this.selectedAddress=null,this.chainId=null,this.handleAccountsChanged=this.handleAccountsChanged.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleUnlockStateChanged=this.handleUnlockStateChanged.bind(this),this.on("connect",()=>{this.state.isConnected=!0});let i=a=>{let{method:o,params:s}=a;o===jO.ACCOUNTS_CHANGED?this.handleAccountsChanged(s):o===jO.UNLOCK_STATE_CHANGED?this.handleUnlockStateChanged(s):o===jO.CHAIN_CHANGED?this.handleChainChanged(s):aDe.includes(o)&&(this.emit("data",a),this.emit("notification",s.result),this.emit("message",{type:o,data:s}))};this.jsonRpcConnectionEvents.on("notification",i)}isConnected(){return this.state.isConnected}async initializeState(){try{let{accounts:e,chainId:n,isUnlocked:r}=await this.request({method:zO.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:n}),this.handleChainChanged({chainId:n}),this.handleUnlockStateChanged({accounts:e,isUnlocked:r}),this.handleAccountsChanged(e)}catch(e){xr.error("WsEmbed: Failed to get initial state. Please report this bug.",e)}finally{xr.info("initialized provider state"),this.state.initialized=!0}}rpcRequest(e,n,r=!1){let i=n,a=e;if(!Array.isArray(a)){if(a.jsonrpc||(a.jsonrpc="2.0"),[ua.GET_ACCOUNTS,ua.ETH_REQUEST_ACCOUNTS,ni.SOLANA_REQUEST_ACCOUNTS,ni.GET_ACCOUNTS].includes(a.method))i=(o,s)=>{this.handleAccountsChanged(s.result||[],a.method==="eth_accounts",r),n(o,s)};else if(a.method==="wallet_getProviderState"){this.rpcEngine.handle(e,i);return}}this.tryWindowHandle(a,i)}handleConnect(e){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{chainId:e}),xr.debug(Q0.info.connected(e)))}handleDisconnect(e,n){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!e){this.state.isConnected=!1;let r;e?(r=new Ch(1013,n||Q0.errors.disconnected()),xr.debug(r)):(r=new Ch(1011,n||Q0.errors.permanentlyDisconnected()),xr.error(r),this.chainId=null,this.state.accounts=null,this.selectedAddress=null,this.state.isUnlocked=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}handleAccountsChanged(e,n=!1,r=!1){let i=e;Array.isArray(i)||(xr.error("WsEmbed: Received non-array accounts parameter. Please report this bug.",i),i=[]);for(let a of e)if(typeof a!="string"){xr.error("WsEmbed: Received non-string account. Please report this bug.",e),i=[];break}(0,dDe.default)(this.state.accounts,i)||(n&&Array.isArray(this.state.accounts)&&this.state.accounts.length>0&&!r&&xr.error('WsEmbed: "eth_accounts" unexpectedly updated accounts. Please report this bug.',i),this.state.accounts=i,this.emit("accountsChanged",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}handleChainChanged({chainId:e}={}){if(!e){xr.error("WsEmbed: Received invalid network parameters. Please report this bug.",{chainId:e});return}e==="loading"?this.handleDisconnect(!0):(this.handleConnect(e),e!==this.chainId&&(this.chainId=e,this.state.initialized&&this.emit("chainChanged",this.chainId)))}handleUnlockStateChanged({accounts:e,isUnlocked:n}={}){if(typeof n!="boolean"){xr.error("WsEmbed: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:n});return}n!==this.state.isUnlocked&&(this.state.isUnlocked=n,this.handleAccountsChanged(e||[]))}};K(Uw,"defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1})});function pDe(t){return new Promise((e,n)=>{try{let r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}async function ONt(t){try{let{document:e}=t,n=e.querySelector('head > link[rel="shortcut icon"]');return n&&await pDe(n.href)||(n=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(r=>!!r.href),n&&await pDe(n.href))?n.href:""}catch{return""}}var RNt,hDe,mDe=B(()=>{RNt=t=>{let{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;let r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:t.location.hostname};hDe=async()=>({name:RNt(window),icon:await ONt(window)})});var NNt,yDe,gce,PNt,wj,bDe=B(()=>{st();Qe();Lw();Dw();sDe();lj();lDe();bce();bj();VO();mDe();NNt="5.0.22",yDe=`v${NNt.split(".")[0]}`,gce={[n2.TESTING]:{url:"https://develop-wallet.web3auth.io",logLevel:"debug"},[n2.DEVELOPMENT]:{url:"http://localhost:4050",logLevel:"debug"},[n2.STAGING]:{url:`https://staging-wallet.web3auth.io/${yDe}`,logLevel:"debug"},[n2.PRODUCTION]:{url:`https://wallet.web3auth.io/${yDe}`,logLevel:"error"}};(async function(){try{if(typeof document>"u")return;let e=document.createElement("link"),{url:n}=gce.production;e.href=`${n}/frame`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){xr.warn(e)}})();qc.SET_PROVIDER;PNt=new Set([ni.SEND_TRANSACTION,ni.SIGN_MESSAGE,ni.SIGN_TRANSACTION,ni.SIGN_ALL_TRANSACTIONS,ua.ETH_SIGN,ua.ETH_SIGN_TYPED_DATA_V4,ua.PERSONAL_SIGN,ua.ETH_TRANSACTION,ua.ADD_CHAIN,ua.SWITCH_CHAIN,zO.WALLET_SWITCH_CHAIN]),wj=class{constructor({modalZIndex:e=99999,web3AuthClientId:n,web3AuthNetwork:r}){K(this,"isInitialized",void 0),K(this,"modalZIndex",void 0),K(this,"provider",void 0),K(this,"communicationProvider",void 0),K(this,"buttonPosition",void 0),K(this,"web3AuthClientId",void 0),K(this,"web3AuthNetwork",void 0),K(this,"isPluginMode",void 0),K(this,"confirmationStrategy",void 0),K(this,"buildEnv",void 0),K(this,"embedNonce",GO()),this.isInitialized=!1,this.modalZIndex=e,this.web3AuthClientId=n,this.web3AuthNetwork=r}get isLoggedIn(){var e;return((e=this.communicationProvider)===null||e===void 0?void 0:e.isLoggedIn)||!1}get getBuildEnv(){return this.buildEnv}async init({buildEnv:e=n2.PRODUCTION,enableLogging:n=!1,chains:r,chainId:i,walletUrls:a,whiteLabel:o,confirmationStrategy:s=j1.DEFAULT,accountAbstractionConfig:c,enableKeyExport:l=!1}){if(this.isInitialized)throw new Error("Already initialized");if(!(o?.logoDark&&o?.logoLight))throw new Error("Dapp logo is required to be set in whiteLabel");this.buildEnv=e,this.confirmationStrategy=s;let{url:f,logLevel:d}=a&&a[e]?q(q({},gce[e]),a[e]):gce[e];xr.info(f,"url loaded"),xr.setDefaultLevel(d),n?xr.enableAll():xr.disableAll();let p=new URL(f);p.pathname.endsWith("/")?p.pathname+="frame":p.pathname+="/frame";let h=new URLSearchParams;h.append("origin",window.location.origin),h.append("nonce",this.embedNonce),p.hash=h.toString();let m=this.getTheme(o?.mode||LO.light),w=cDe(`<iframe
        id="walletIframe-${this.embedNonce}"
        class="walletIframe-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${p.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()};
        color-scheme: ${m}"
        allow="clipboard-write"
      ></iframe>`);this.buttonPosition=o?.buttonPosition||k5.BOTTOM_LEFT;let g=await hDe();return new Promise((x,C)=>{try{window.document.body.appendChild(w);let P=async D=>{if(D.origin!==p.origin)return;let{message:F,nonce:H}=D.data||{};F===fce&&H===this.embedNonce&&(window.removeEventListener("message",P),w.contentWindow.postMessage({chains:r,chainId:i,dappMetadata:g,enableLogging:n,web3AuthClientId:this.web3AuthClientId,web3AuthNetwork:this.web3AuthNetwork,whiteLabel:o,confirmationStrategy:s,accountAbstractionConfig:c,enableKeyExport:l},p.origin),await this.setupWeb3({torusUrl:f,walletIframe:w}),this.isInitialized=!0,x())};window.addEventListener("message",P)}catch(P){C(P)}})}async login(e={}){if(!this.isInitialized)throw new Error("Call init() first");let n=this.communicationProvider.isIFrameFullScreen;try{!e.authConnection&&!n&&this.communicationProvider.displayIframe({isFull:!0});let r=await new Promise((i,a)=>{let s=Object.values(cj).includes(this.provider.chainId)?ni.SOLANA_REQUEST_ACCOUNTS:ua.ETH_REQUEST_ACCOUNTS;this.provider.rpcRequest({method:s,params:[e.authConnection,e.login_hint]},Nx(i,a))});if(xr.info("check: res",r),Array.isArray(r)&&r.length>0)return this.confirmationStrategy===j1.AUTO_APPROVE&&xr.warn("Confirmation strategy auto approve is not allowed on Embed Mode, using Default instead."),r;throw new Error("Login failed")}catch(r){throw xr.error("login failed",r),r}finally{n||this.communicationProvider.displayIframe({isFull:!1})}}async loginWithSessionId(e){if(!this.isInitialized)throw new Error("Call init() first");if(!e.sessionId)throw new Error("sessionId is required");try{let n=await this.communicationProvider.request({method:qc.LOGIN_WITH_SESSION_ID,params:[e.sessionId,e.sessionNamespace||""]});if(xr.info("check: res",n),n.success)return this.isPluginMode=!0,this.confirmationStrategy===j1.POPUP&&xr.warn("Confirmation strategy popup is not allowed on Plugin Mode, using Default instead."),n.success;throw new Error("Login failed")}catch(n){throw xr.error("login with session id failed",n),n}}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:qc.LOGOUT,params:[]})}async cleanUp(){var e;(e=this.communicationProvider)!==null&&e!==void 0&&e.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(r){return r instanceof Element||r instanceof Document}let n=window.document.getElementById(`walletIframe-${this.embedNonce}`);e(n)&&n.remove(),this.isInitialized=!1}async getUserInfo(){return await this.communicationProvider.request({method:qc.USER_INFO,params:[]})}async showWalletConnectScanner(e){let n=e?e.show:!0;this.communicationProvider.displayIframe({isFull:n});try{await this.communicationProvider.request({method:qc.SHOW_WALLET_CONNECT,params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showWalletUi(e){let n=e?e.show:!0;this.communicationProvider.displayIframe({isFull:n});try{await this.communicationProvider.request({method:qc.SHOW_WALLET_UI,params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showCheckout(e){let n=e?e.show:!0;this.communicationProvider.displayIframe({isFull:n});try{await this.communicationProvider.request({method:qc.SHOW_CHECKOUT,params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showSwap(e){let n=e?e.show:!0;this.communicationProvider.displayIframe({isFull:n});try{await this.communicationProvider.request({method:qc.SHOW_SWAP,params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}getConfirmationStrategyFinal(e){let n=this.confirmationStrategy;return!Array.isArray(e)&&PNt.has(e.method)&&this.confirmationStrategy!==j1.MODAL&&!this.isPluginMode&&(n=j1.POPUP),n}getTheme(e){return e===LO.light?"light":e===LO.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}async setupWeb3(e){xr.info("setupWeb3 running");let n=new Rx({name:"embed_torus",target:"iframe_torus",targetWindow:e.walletIframe.contentWindow,targetOrigin:new URL(e.torusUrl).origin}),r=new Rx({name:"embed_communication",target:"iframe_communication",targetWindow:e.walletIframe.contentWindow,targetOrigin:new URL(e.torusUrl).origin}),i=new Uw(n,{}),a=new KO(r,{},{buttonPosition:this.buttonPosition});i.tryWindowHandle=(l,u)=>{let f=l,d=this.getConfirmationStrategyFinal(l),{allowWalletService:p}=a;if(d===j1.POPUP&&p){let h=GO();a.handleWindow(h,{target:"_blank",features:Px(uce),timeout:500}),f.windowId=h}i.rpcEngine.handle(f,u)},a.tryWindowHandle=(l,u)=>{let f=l,d=this.getConfirmationStrategyFinal(l),{allowWalletService:p}=a;if(d===j1.POPUP&&p){let h=GO();a.handleWindow(h,{target:"_blank",features:Px(cce),timeout:500}),f.params.windowId=h}a.rpcEngine.handle(f,u)};let o=l=>{let u=i[l],f=this;i[l]=function(p,h){let{method:m,params:w=[]}=p;if(m===ua.ETH_REQUEST_ACCOUNTS||m===ni.SOLANA_REQUEST_ACCOUNTS){if(!h)return f.login({authConnection:w[0]});f.login({authConnection:w[0]}).then(g=>h(null,g)).catch(g=>h(g))}return u.apply(this,[p,h])}};o("request"),o("sendAsync"),o("send");let s=new Proxy(i,{deleteProperty:()=>!0}),c=new Proxy(a,{deleteProperty:()=>!0});this.provider=s,this.communicationProvider=c,xr.info("test setupWeb3 "),await Promise.all([i.initializeState(),a.initializeState(q(q({},e),{},{torusIframeId:e.walletIframe.id}))]),xr.debug("WsEmbed - injected provider")}}});var gDe={};$t(gDe,{BUTTON_POSITION:()=>k5,CONFIRMATION_STRATEGY:()=>j1,EVM_METHOD_TYPES:()=>ua,SOLANA_CHAIN_IDS:()=>cj,SOLANA_METHOD_TYPES:()=>ni,TorusInPageProvider:()=>Uw,WS_EMBED_BUILD_ENV:()=>n2,default:()=>wj});var Fw=B(()=>{lj();bDe();bce();bj();Lw()});var wDe,Mx,vDe=B(()=>{Qe();Zi();Mw();Mx=class extends Ll{constructor({config:e,state:n}){super({config:e,state:n}),K(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(e){throw new Error("Method not implemented.")}async setupProvider(e){let n=this.getPrivKeyMiddleware(e),r=new Y0;r.push(n);let i=Hu(r);this.updateProviderEngineProxy(i)}async switchChain(e){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}async lookupNetwork(){return Promise.resolve("")}getPrivKeyMiddleware(e){let n={getPrivatekey:async()=>{if(!this.config.keyExportEnabled)throw new Error("Exporting private key is disabled. Please enable it in the provider config");return e}};return this.createPrivKeyMiddleware(n)}createPrivKeyMiddleware({getPrivatekey:e}){async function n(r,i){try{i.result=await e()}catch(a){i.error=a instanceof Error?a.message:a}}return N1({private_key:dr(n)})}};wDe=Mx;K(Mx,"getProviderInstance",async t=>{let e=new wDe({config:{chain:t.chain,chains:t.chains}});return await e.setupProvider(t.privKey),e})});var EDe={};$t(EDe,{BaseProvider:()=>Ll,CommonJRPCProvider:()=>Zb,CommonPrivateKeyProvider:()=>Mx,EIP1193_EVENTS:()=>ij,createRandomId:()=>dBe,getED25519Key:()=>Uie});var xDe=B(()=>{Mw();J0e();vDe();Y0e();Zi()});var TDe=le((r2,_De)=>{var Ej=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,xj=(function(){function t(){this.fetch=!1,this.DOMException=Ej.DOMException}return t.prototype=Ej,new t})();(function(t){var e=(function(n){var r=typeof t<"u"&&t||typeof self<"u"&&self||typeof global<"u"&&global||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(v){return v&&DataView.prototype.isPrototypeOf(v)}if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(v){return v&&o.indexOf(Object.prototype.toString.call(v))>-1};function c(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function l(v){return typeof v!="string"&&(v=String(v)),v}function u(v){var I={next:function(){var S=v.shift();return{done:S===void 0,value:S}}};return i.iterable&&(I[Symbol.iterator]=function(){return I}),I}function f(v){this.map={},v instanceof f?v.forEach(function(I,S){this.append(S,I)},this):Array.isArray(v)?v.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(I){this.append(I,v[I])},this)}f.prototype.append=function(v,I){v=c(v),I=l(I);var S=this.map[v];this.map[v]=S?S+", "+I:I},f.prototype.delete=function(v){delete this.map[c(v)]},f.prototype.get=function(v){return v=c(v),this.has(v)?this.map[v]:null},f.prototype.has=function(v){return this.map.hasOwnProperty(c(v))},f.prototype.set=function(v,I){this.map[c(v)]=l(I)},f.prototype.forEach=function(v,I){for(var S in this.map)this.map.hasOwnProperty(S)&&v.call(I,this.map[S],S,this)},f.prototype.keys=function(){var v=[];return this.forEach(function(I,S){v.push(S)}),u(v)},f.prototype.values=function(){var v=[];return this.forEach(function(I){v.push(I)}),u(v)},f.prototype.entries=function(){var v=[];return this.forEach(function(I,S){v.push([S,I])}),u(v)},i.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function d(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function p(v){return new Promise(function(I,S){v.onload=function(){I(v.result)},v.onerror=function(){S(v.error)}})}function h(v){var I=new FileReader,S=p(I);return I.readAsArrayBuffer(v),S}function m(v){var I=new FileReader,S=p(I),y=/charset=([A-Za-z0-9_-]+)/.exec(v.type),b=y?y[1]:"utf-8";return I.readAsText(v,b),S}function w(v){for(var I=new Uint8Array(v),S=new Array(I.length),y=0;y<I.length;y++)S[y]=String.fromCharCode(I[y]);return S.join("")}function g(v){if(v.slice)return v.slice(0);var I=new Uint8Array(v.byteLength);return I.set(new Uint8Array(v)),I.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:i.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:i.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():i.arrayBuffer&&i.blob&&a(v)?(this._bodyArrayBuffer=g(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||s(v))?this._bodyArrayBuffer=g(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var v=d(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=d(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(i.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=d(this);if(v)return v;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(v){var I=v.toUpperCase();return C.indexOf(I)>-1?I:v}function D(v,I){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var S=I.body;if(v instanceof D){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,I.headers||(this.headers=new f(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!S&&v._bodyInit!=null&&(S=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new f(I.headers)),this.method=P(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||(function(){if("AbortController"in r){var _=new AbortController;return _.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(S),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var y=/([?&])_=[^&]*/;if(y.test(this.url))this.url=this.url.replace(y,"$1_="+new Date().getTime());else{var b=/\?/;this.url+=(b.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function F(v){var I=new FormData;return v.trim().split("&").forEach(function(S){if(S){var y=S.split("="),b=y.shift().replace(/\+/g," "),_=y.join("=").replace(/\+/g," ");I.append(decodeURIComponent(b),decodeURIComponent(_))}}),I}function H(v){var I=new f,S=v.replace(/\r?\n[\t ]+/g," ");return S.split("\r").map(function(y){return y.indexOf(`
`)===0?y.substr(1,y.length):y}).forEach(function(y){var b=y.split(":"),_=b.shift().trim();if(_){var A=b.join(":").trim();try{I.append(_,A)}catch(T){console.warn("Response "+T.message)}}}),I}x.call(D.prototype);function O(v,I){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new f(I.headers),this.url=I.url||"",this._initBody(v)}x.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},O.error=function(){var v=new O(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var M=[301,302,303,307,308];O.redirect=function(v,I){if(M.indexOf(I)===-1)throw new RangeError("Invalid status code");return new O(null,{status:I,headers:{location:v}})},n.DOMException=r.DOMException;try{new n.DOMException}catch{n.DOMException=function(I,S){this.message=I,this.name=S;var y=Error(I);this.stack=y.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function N(v,I){return new Promise(function(S,y){var b=new D(v,I);if(b.signal&&b.signal.aborted)return y(new n.DOMException("Aborted","AbortError"));var _=new XMLHttpRequest;function A(){_.abort()}_.onload=function(){var k={statusText:_.statusText,headers:H(_.getAllResponseHeaders()||"")};b.url.indexOf("file://")===0&&(_.status<200||_.status>599)?k.status=200:k.status=_.status,k.url="responseURL"in _?_.responseURL:k.headers.get("X-Request-URL");var L="response"in _?_.response:_.responseText;setTimeout(function(){S(new O(L,k))},0)},_.onerror=function(){setTimeout(function(){y(new TypeError("Network request failed"))},0)},_.ontimeout=function(){setTimeout(function(){y(new TypeError("Network request timed out"))},0)},_.onabort=function(){setTimeout(function(){y(new n.DOMException("Aborted","AbortError"))},0)};function T(k){try{return k===""&&r.location.href?r.location.href:k}catch{return k}}if(_.open(b.method,T(b.url),!0),b.credentials==="include"?_.withCredentials=!0:b.credentials==="omit"&&(_.withCredentials=!1),"responseType"in _&&(i.blob?_.responseType="blob":i.arrayBuffer&&(_.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof f||r.Headers&&I.headers instanceof r.Headers)){var E=[];Object.getOwnPropertyNames(I.headers).forEach(function(k){E.push(c(k)),_.setRequestHeader(k,l(I.headers[k]))}),b.headers.forEach(function(k,L){E.indexOf(L)===-1&&_.setRequestHeader(L,k)})}else b.headers.forEach(function(k,L){_.setRequestHeader(L,k)});b.signal&&(b.signal.addEventListener("abort",A),_.onreadystatechange=function(){_.readyState===4&&b.signal.removeEventListener("abort",A)}),_.send(typeof b._bodyInit>"u"?null:b._bodyInit)})}return N.polyfill=!0,r.fetch||(r.fetch=N,r.Headers=f,r.Request=D,r.Response=O),n.Headers=f,n.Request=D,n.Response=O,n.fetch=N,n})({})})(xj);xj.fetch.ponyfill=!0;delete xj.fetch.polyfill;var Bx=Ej.fetch?Ej:xj;r2=Bx.fetch;r2.default=Bx.fetch;r2.fetch=Bx.fetch;r2.Headers=Bx.Headers;r2.Request=Bx.Request;r2.Response=Bx.Response;_De.exports=r2});var CDe=le((Qqn,SDe)=>{var Dx=1e3,Lx=Dx*60,Ux=Lx*60,Hw=Ux*24,kNt=Hw*7,MNt=Hw*365.25;SDe.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return BNt(t);if(n==="number"&&isFinite(t))return e.long?LNt(t):DNt(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function BNt(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*MNt;case"weeks":case"week":case"w":return n*kNt;case"days":case"day":case"d":return n*Hw;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ux;case"minutes":case"minute":case"mins":case"min":case"m":return n*Lx;case"seconds":case"second":case"secs":case"sec":case"s":return n*Dx;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function DNt(t){var e=Math.abs(t);return e>=Hw?Math.round(t/Hw)+"d":e>=Ux?Math.round(t/Ux)+"h":e>=Lx?Math.round(t/Lx)+"m":e>=Dx?Math.round(t/Dx)+"s":t+"ms"}function LNt(t){var e=Math.abs(t);return e>=Hw?Aj(t,e,Hw,"day"):e>=Ux?Aj(t,e,Ux,"hour"):e>=Lx?Aj(t,e,Lx,"minute"):e>=Dx?Aj(t,e,Dx,"second"):t+" ms"}function Aj(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}});var RDe=le((Zqn,IDe)=>{function UNt(t){n.debug=n,n.default=n,n.coerce=c,n.disable=o,n.enable=i,n.enabled=s,n.humanize=CDe(),n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(u){let f,d=null,p,h;function m(...w){if(!m.enabled)return;let g=m,x=Number(new Date),C=x-(f||x);g.diff=C,g.prev=f,g.curr=x,f=x,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let P=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(F,H)=>{if(F==="%%")return"%";P++;let O=n.formatters[H];if(typeof O=="function"){let M=w[P];F=O.call(g,M),w.splice(P,1),P--}return F}),n.formatArgs.call(g,w),(g.log||n.log).apply(g,w)}return m.namespace=u,m.useColors=n.useColors(),m.color=n.selectColor(u),m.extend=r,m.destroy=n.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==n.namespaces&&(p=n.namespaces,h=n.enabled(u)),h),set:w=>{d=w}}),typeof n.init=="function"&&n.init(m),m}function r(u,f){let d=n(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let d of f)d[0]==="-"?n.skips.push(d.slice(1)):n.names.push(d)}function a(u,f){let d=0,p=0,h=-1,m=0;for(;d<u.length;)if(p<f.length&&(f[p]===u[d]||f[p]==="*"))f[p]==="*"?(h=p,m=d,p++):(d++,p++);else if(h!==-1)p=h+1,m++,d=m;else return!1;for(;p<f.length&&f[p]==="*";)p++;return p===f.length}function o(){let u=[...n.names,...n.skips.map(f=>"-"+f)].join(",");return n.enable(""),u}function s(u){for(let f of n.skips)if(a(u,f))return!1;for(let f of n.names)if(a(u,f))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}IDe.exports=UNt});var ODe=le((Fl,_j)=>{Fl.formatArgs=HNt;Fl.save=zNt;Fl.load=jNt;Fl.useColors=FNt;Fl.storage=GNt();Fl.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Fl.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function FNt(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function HNt(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+_j.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}Fl.log=console.debug||console.log||(()=>{});function zNt(t){try{t?Fl.storage.setItem("debug",t):Fl.storage.removeItem("debug")}catch{}}function jNt(){let t;try{t=Fl.storage.getItem("debug")||Fl.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function GNt(){try{return localStorage}catch{}}_j.exports=RDe()(Fl);var{formatters:VNt}=_j.exports;VNt.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var FDe=le((Xqn,UDe)=>{"use strict";var Ace=Object.defineProperty,KNt=Object.getOwnPropertyDescriptor,$Nt=Object.getOwnPropertyNames,qNt=Object.prototype.hasOwnProperty,WNt=(t,e)=>{for(var n in e)Ace(t,n,{get:e[n],enumerable:!0})},YNt=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $Nt(e))!qNt.call(t,i)&&i!==n&&Ace(t,i,{get:()=>e[i],enumerable:!(r=KNt(e,i))||r.enumerable});return t},JNt=t=>YNt(Ace({},"__esModule",{value:!0}),t),NDe={};WNt(NDe,{createFinalURL:()=>LDe,createPathBasedClient:()=>tPt,createQuerySerializer:()=>vce,default:()=>kDe,defaultBodySerializer:()=>DDe,defaultPathSerializer:()=>BDe,mergeHeaders:()=>Ece,randomID:()=>PDe,removeTrailingSlash:()=>xce,serializeArrayParam:()=>Tce,serializeObjectParam:()=>_ce,serializePrimitiveParam:()=>$O,wrapAsPathBasedClient:()=>MDe});UDe.exports=JNt(NDe);var QNt=/\{[^{}]+\}/g,ZNt=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function PDe(){return Math.random().toString(36).slice(2,11)}function kDe(t){let{baseUrl:e="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:i,bodySerializer:a,headers:o,requestInitExt:s=void 0,...c}={...t};s=ZNt()?s:void 0,e=xce(e);let l=[];async function u(f,d){let{baseUrl:p,fetch:h=r,Request:m=n,headers:w,params:g={},parseAs:x="json",querySerializer:C,bodySerializer:P=a??DDe,body:D,...F}=d||{},H=e;p&&(H=xce(p)??e);let O=typeof i=="function"?i:vce(i);C&&(O=typeof C=="function"?C:vce({...typeof i=="object"?i:{},...C}));let M=D===void 0?void 0:P(D,Ece(o,w,g.header)),N=Ece(M===void 0||M instanceof FormData?{}:{"Content-Type":"application/json"},o,w,g.header),v={redirect:"follow",...c,...F,body:M,headers:N},I,S,y=new n(LDe(f,{baseUrl:H,params:g,querySerializer:O}),v),b;for(let A in F)A in y||(y[A]=F[A]);if(l.length){I=PDe(),S=Object.freeze({baseUrl:H,fetch:h,parseAs:x,querySerializer:O,bodySerializer:P});for(let A of l)if(A&&typeof A=="object"&&typeof A.onRequest=="function"){let T=await A.onRequest({request:y,schemaPath:f,params:g,options:S,id:I});if(T)if(T instanceof n)y=T;else if(T instanceof Response){b=T;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!b){try{b=await h(y,s)}catch(A){let T=A;if(l.length)for(let E=l.length-1;E>=0;E--){let k=l[E];if(k&&typeof k=="object"&&typeof k.onError=="function"){let L=await k.onError({request:y,error:T,schemaPath:f,params:g,options:S,id:I});if(L){if(L instanceof Response){T=void 0,b=L;break}if(L instanceof Error){T=L;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(T)throw T}if(l.length)for(let A=l.length-1;A>=0;A--){let T=l[A];if(T&&typeof T=="object"&&typeof T.onResponse=="function"){let E=await T.onResponse({request:y,response:b,schemaPath:f,params:g,options:S,id:I});if(E){if(!(E instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");b=E}}}}if(b.status===204||y.method==="HEAD"||b.headers.get("Content-Length")==="0")return b.ok?{data:void 0,response:b}:{error:void 0,response:b};if(b.ok)return x==="stream"?{data:b.body,response:b}:{data:await b[x](),response:b};let _=await b.text();try{_=JSON.parse(_)}catch{}return{error:_,response:b}}return{request(f,d,p){return u(d,{...p,method:f.toUpperCase()})},GET(f,d){return u(f,{...d,method:"GET"})},PUT(f,d){return u(f,{...d,method:"PUT"})},POST(f,d){return u(f,{...d,method:"POST"})},DELETE(f,d){return u(f,{...d,method:"DELETE"})},OPTIONS(f,d){return u(f,{...d,method:"OPTIONS"})},HEAD(f,d){return u(f,{...d,method:"HEAD"})},PATCH(f,d){return u(f,{...d,method:"PATCH"})},TRACE(f,d){return u(f,{...d,method:"TRACE"})},use(...f){for(let d of f)if(d){if(typeof d!="object"||!("onRequest"in d||"onResponse"in d||"onError"in d))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");l.push(d)}},eject(...f){for(let d of f){let p=l.indexOf(d);p!==-1&&l.splice(p,1)}}}}var XNt=class{constructor(t,e){this.client=t,this.url=e}GET=t=>this.client.GET(this.url,t);PUT=t=>this.client.PUT(this.url,t);POST=t=>this.client.POST(this.url,t);DELETE=t=>this.client.DELETE(this.url,t);OPTIONS=t=>this.client.OPTIONS(this.url,t);HEAD=t=>this.client.HEAD(this.url,t);PATCH=t=>this.client.PATCH(this.url,t);TRACE=t=>this.client.TRACE(this.url,t)},ePt=class{constructor(){this.client=null}get(t,e){let n=new XNt(t,e);return this.client[e]=n,n}};function MDe(t){let e=new ePt,n=new Proxy(t,e);function r(){}r.prototype=n;let i=new r;return e.client=i,i}function tPt(t){return MDe(kDe(t))}function $O(t,e,n){if(e==null)return"";if(typeof e=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${n?.allowReserved===!0?e:encodeURIComponent(e)}`}function _ce(t,e,n){if(!e||typeof e!="object")return"";let r=[],i={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(let s in e)r.push(s,n.allowReserved===!0?e[s]:encodeURIComponent(e[s]));let o=r.join(",");switch(n.style){case"form":return`${t}=${o}`;case"label":return`.${o}`;case"matrix":return`;${t}=${o}`;default:return o}}for(let o in e){let s=n.style==="deepObject"?`${t}[${o}]`:o;r.push($O(s,e[o],n))}let a=r.join(i);return n.style==="label"||n.style==="matrix"?`${i}${a}`:a}function Tce(t,e,n){if(!Array.isArray(e))return"";if(n.explode===!1){let a={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",o=(n.allowReserved===!0?e:e.map(s=>encodeURIComponent(s))).join(a);switch(n.style){case"simple":return o;case"label":return`.${o}`;case"matrix":return`;${t}=${o}`;default:return`${t}=${o}`}}let r={simple:",",label:".",matrix:";"}[n.style]||"&",i=[];for(let a of e)n.style==="simple"||n.style==="label"?i.push(n.allowReserved===!0?a:encodeURIComponent(a)):i.push($O(t,a,n));return n.style==="label"||n.style==="matrix"?`${r}${i.join(r)}`:i.join(r)}function vce(t){return function(n){let r=[];if(n&&typeof n=="object")for(let i in n){let a=n[i];if(a!=null){if(Array.isArray(a)){if(a.length===0)continue;r.push(Tce(i,a,{style:"form",explode:!0,...t?.array,allowReserved:t?.allowReserved||!1}));continue}if(typeof a=="object"){r.push(_ce(i,a,{style:"deepObject",explode:!0,...t?.object,allowReserved:t?.allowReserved||!1}));continue}r.push($O(i,a,t))}}return r.join("&")}}function BDe(t,e){let n=t;for(let r of t.match(QNt)??[]){let i=r.substring(1,r.length-1),a=!1,o="simple";if(i.endsWith("*")&&(a=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(o="label",i=i.substring(1)):i.startsWith(";")&&(o="matrix",i=i.substring(1)),!e||e[i]===void 0||e[i]===null)continue;let s=e[i];if(Array.isArray(s)){n=n.replace(r,Tce(i,s,{style:o,explode:a}));continue}if(typeof s=="object"){n=n.replace(r,_ce(i,s,{style:o,explode:a}));continue}if(o==="matrix"){n=n.replace(r,`;${$O(i,s)}`);continue}n=n.replace(r,o==="label"?`.${encodeURIComponent(s)}`:encodeURIComponent(s))}return n}function DDe(t,e){return t instanceof FormData?t:e&&(e.get instanceof Function?e.get("Content-Type")??e.get("content-type"):e["Content-Type"]??e["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(t).toString():JSON.stringify(t)}function LDe(t,e){let n=`${e.baseUrl}${t}`;e.params?.path&&(n=BDe(n,e.params.path));let r=e.querySerializer(e.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function Ece(...t){let e=new Headers;for(let n of t){if(!n||typeof n!="object")continue;let r=n instanceof Headers?n.entries():Object.entries(n);for(let[i,a]of r)if(a===null)e.delete(i);else if(Array.isArray(a))for(let o of a)e.append(i,o);else a!==void 0&&e.set(i,a)}return e}function xce(t){return t.endsWith("/")?t.substring(0,t.length-1):t}});var VDe=le((nWn,GDe)=>{"use strict";var nPt=Object.create,Tj=Object.defineProperty,rPt=Object.getOwnPropertyDescriptor,iPt=Object.getOwnPropertyNames,aPt=Object.getPrototypeOf,oPt=Object.prototype.hasOwnProperty,sPt=(t,e)=>{for(var n in e)Tj(t,n,{get:e[n],enumerable:!0})},zDe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of iPt(e))!oPt.call(t,i)&&i!==n&&Tj(t,i,{get:()=>e[i],enumerable:!(r=rPt(e,i))||r.enumerable});return t},cPt=(t,e,n)=>(n=t!=null?nPt(aPt(t)):{},zDe(e||!t||!t.__esModule?Tj(n,"default",{value:t,enumerable:!0}):n,t)),lPt=t=>zDe(Tj({},"__esModule",{value:!0}),t),jDe={};sPt(jDe,{analytics:()=>bPt});GDe.exports=lPt(jDe);var uPt=cPt(FDe()),fPt=class{constructor(t){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=t.batchSize,this.baseTimeoutMs=t.baseTimeoutMs,this.currentTimeoutMs=t.baseTimeoutMs,this.sendFn=t.sendFn}enqueue(t){this.batch.push(t),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;let t=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(t),this.currentTimeoutMs=this.baseTimeoutMs}catch(e){console.error("Sender: Failed to send batch",e),this.batch=[...t,...this.batch],this.currentTimeoutMs=Math.min(this.currentTimeoutMs*2,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},dPt=fPt,pPt=class{constructor(t){this.enabled=!1,this.properties={};let e=(0,uPt.default)({baseUrl:t}),n=async r=>{let i=await e.POST("/v1/events",{body:r});if(i.response.status!==200)throw new Error(i.error)};this.sender=new dPt({batchSize:100,baseTimeoutMs:200,sendFn:n})}enable(){this.enabled=!0}setGlobalProperty(t,e){this.properties[t]=e}track(t,e){if(!this.enabled)return;let n={name:t,...this.properties,...e};this.sender.enqueue(n)}},hPt=pPt,Sce,HDe;typeof process<"u"&&process.env&&(Sce=(HDe=process.env.METAMASK_ANALYTICS_ENDPOINT)!=null?HDe:process.env.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var mPt=Sce??"https://mm-sdk-analytics.api.cx.metamask.io/",yPt=new hPt(mPt),bPt=yPt});var qDe=le((KDe,$De)=>{(function(t){var e=Object.hasOwnProperty,n=Array.isArray?Array.isArray:function(T){return Object.prototype.toString.call(T)==="[object Array]"},r=10,i=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",o=typeof Reflect=="object",s=typeof setImmediate=="function",c=s?setImmediate:setTimeout,l=a?o&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(A){var T=Object.getOwnPropertyNames(A);return T.push.apply(T,Object.getOwnPropertySymbols(A)),T}:Object.keys;function u(){this._events={},this._conf&&f.call(this,this._conf)}function f(A){A&&(this._conf=A,A.delimiter&&(this.delimiter=A.delimiter),A.maxListeners!==t&&(this._maxListeners=A.maxListeners),A.wildcard&&(this.wildcard=A.wildcard),A.newListener&&(this._newListener=A.newListener),A.removeListener&&(this._removeListener=A.removeListener),A.verboseMemoryLeak&&(this.verboseMemoryLeak=A.verboseMemoryLeak),A.ignoreErrors&&(this.ignoreErrors=A.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function d(A,T){var E="(node) warning: possible EventEmitter memory leak detected. "+A+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(E+=" Event name: "+T+"."),typeof process<"u"&&process.emitWarning){var k=new Error(E);k.name="MaxListenersExceededWarning",k.emitter=this,k.count=A,process.emitWarning(k)}else console.error(E),console.trace&&console.trace()}var p=function(A,T,E){var k=arguments.length;switch(k){case 0:return[];case 1:return[A];case 2:return[A,T];case 3:return[A,T,E];default:for(var L=new Array(k);k--;)L[k]=arguments[k];return L}};function h(A,T){for(var E={},k,L=A.length,R=T?T.length:0,U=0;U<L;U++)k=A[U],E[k]=U<R?T[U]:t;return E}function m(A,T,E){this._emitter=A,this._target=T,this._listeners={},this._listenersCount=0;var k,L;if((E.on||E.off)&&(k=E.on,L=E.off),T.addEventListener?(k=T.addEventListener,L=T.removeEventListener):T.addListener?(k=T.addListener,L=T.removeListener):T.on&&(k=T.on,L=T.off),!k&&!L)throw Error("target does not implement any known event API");if(typeof k!="function")throw TypeError("on method must be a function");if(typeof L!="function")throw TypeError("off method must be a function");this._on=k,this._off=L;var R=A._observers;R?R.push(this):A._observers=[this]}Object.assign(m.prototype,{subscribe:function(A,T,E){var k=this,L=this._target,R=this._emitter,U=this._listeners,j=function(){var z=p.apply(null,arguments),V={data:z,name:T,original:A};if(E){var $=E.call(L,V);$!==!1&&R.emit.apply(R,[V.name].concat(z));return}R.emit.apply(R,[T].concat(z))};if(U[A])throw Error("Event '"+A+"' is already listening");this._listenersCount++,R._newListener&&R._removeListener&&!k._onNewListener?(this._onNewListener=function(z){z===T&&U[A]===null&&(U[A]=j,k._on.call(L,A,j))},R.on("newListener",this._onNewListener),this._onRemoveListener=function(z){z===T&&!R.hasListeners(z)&&U[A]&&(U[A]=null,k._off.call(L,A,j))},U[A]=null,R.on("removeListener",this._onRemoveListener)):(U[A]=j,k._on.call(L,A,j))},unsubscribe:function(A){var T=this,E=this._listeners,k=this._emitter,L,R,U=this._off,j=this._target,z;if(A&&typeof A!="string")throw TypeError("event must be a string");function V(){T._onNewListener&&(k.off("newListener",T._onNewListener),k.off("removeListener",T._onRemoveListener),T._onNewListener=null,T._onRemoveListener=null);var $=F.call(k,T);k._observers.splice($,1)}if(A){if(L=E[A],!L)return;U.call(j,A,L),delete E[A],--this._listenersCount||V()}else{for(R=l(E),z=R.length;z-- >0;)A=R[z],U.call(j,A,E[A]);this._listeners={},this._listenersCount=0,V()}}});function w(A,T,E,k){var L=Object.assign({},T);if(!A)return L;if(typeof A!="object")throw TypeError("options must be an object");var R=Object.keys(A),U=R.length,j,z,V;function $(J){throw Error('Invalid "'+j+'" option value'+(J?". Reason: "+J:""))}for(var W=0;W<U;W++){if(j=R[W],!k&&!e.call(T,j))throw Error('Unknown "'+j+'" option');z=A[j],z!==t&&(V=E[j],L[j]=V?V(z,$):z)}return L}function g(A,T){return(typeof A!="function"||!A.hasOwnProperty("prototype"))&&T("value must be a constructor"),A}function x(A){var T="value must be type of "+A.join("|"),E=A.length,k=A[0],L=A[1];return E===1?function(R,U){if(typeof R===k)return R;U(T)}:E===2?function(R,U){var j=typeof R;if(j===k||j===L)return R;U(T)}:function(R,U){for(var j=typeof R,z=E;z-- >0;)if(j===A[z])return R;U(T)}}var C=x(["function"]),P=x(["object","function"]);function D(A,T,E){var k,L,R=0,U,j=new A(function(z,V,$){E=w(E,{timeout:0,overload:!1},{timeout:function(te,ne){return te*=1,(typeof te!="number"||te<0||!Number.isFinite(te))&&ne("timeout must be a positive number"),te}}),k=!E.overload&&typeof A.prototype.cancel=="function"&&typeof $=="function";function W(){L&&(L=null),R&&(clearTimeout(R),R=0)}var J=function(te){W(),z(te)},X=function(te){W(),V(te)};k?T(J,X,$):(L=[function(te){X(te||Error("canceled"))}],T(J,X,function(te){if(U)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof te!="function")throw TypeError("onCancel callback must be a function");L.push(te)}),U=!0),E.timeout>0&&(R=setTimeout(function(){var te=Error("timeout");te.code="ETIMEDOUT",R=0,j.cancel(te),V(te)},E.timeout))});return k||(j.cancel=function(z){if(L){for(var V=L.length,$=1;$<V;$++)L[$](z);L[0](z),L=null}}),j}function F(A){var T=this._observers;if(!T)return-1;for(var E=T.length,k=0;k<E;k++)if(T[k]._target===A)return k;return-1}function H(A,T,E,k,L){if(!E)return null;if(k===0){var R=typeof T;if(R==="string"){var U,j,z=0,V=0,$=this.delimiter,W=$.length;if((j=T.indexOf($))!==-1){U=new Array(5);do U[z++]=T.slice(V,j),V=j+W;while((j=T.indexOf($,V))!==-1);U[z++]=T.slice(V),T=U,L=z}else T=[T],L=1}else R==="object"?L=T.length:(T=[T],L=1)}var J=null,X,te,ne,ue,ce,oe=T[k],xe=T[k+1],ye,Se;if(k===L)E._listeners&&(typeof E._listeners=="function"?(A&&A.push(E._listeners),J=[E]):(A&&A.push.apply(A,E._listeners),J=[E]));else if(oe==="*"){for(ye=l(E),j=ye.length;j-- >0;)X=ye[j],X!=="_listeners"&&(Se=H(A,T,E[X],k+1,L),Se&&(J?J.push.apply(J,Se):J=Se));return J}else if(oe==="**"){for(ce=k+1===L||k+2===L&&xe==="*",ce&&E._listeners&&(J=H(A,T,E,L,L)),ye=l(E),j=ye.length;j-- >0;)X=ye[j],X!=="_listeners"&&(X==="*"||X==="**"?(E[X]._listeners&&!ce&&(Se=H(A,T,E[X],L,L),Se&&(J?J.push.apply(J,Se):J=Se)),Se=H(A,T,E[X],k,L)):X===xe?Se=H(A,T,E[X],k+2,L):Se=H(A,T,E[X],k,L),Se&&(J?J.push.apply(J,Se):J=Se));return J}else E[oe]&&(J=H(A,T,E[oe],k+1,L));if(te=E["*"],te&&H(A,T,te,k+1,L),ne=E["**"],ne)if(k<L)for(ne._listeners&&H(A,T,ne,L,L),ye=l(ne),j=ye.length;j-- >0;)X=ye[j],X!=="_listeners"&&(X===xe?H(A,T,ne[X],k+2,L):X===oe?H(A,T,ne[X],k+1,L):(ue={},ue[X]=ne[X],H(A,T,{"**":ue},k+1,L)));else ne._listeners?H(A,T,ne,L,L):ne["*"]&&ne["*"]._listeners&&H(A,T,ne["*"],L,L);return J}function O(A,T,E){var k=0,L=0,R,U=this.delimiter,j=U.length,z;if(typeof A=="string")if((R=A.indexOf(U))!==-1){z=new Array(5);do z[k++]=A.slice(L,R),L=R+j;while((R=A.indexOf(U,L))!==-1);z[k++]=A.slice(L)}else z=[A],k=1;else z=A,k=A.length;if(k>1){for(R=0;R+1<k;R++)if(z[R]==="**"&&z[R+1]==="**")return}var V=this.listenerTree,$;for(R=0;R<k;R++)if($=z[R],V=V[$]||(V[$]={}),R===k-1)return V._listeners?(typeof V._listeners=="function"&&(V._listeners=[V._listeners]),E?V._listeners.unshift(T):V._listeners.push(T),!V._listeners.warned&&this._maxListeners>0&&V._listeners.length>this._maxListeners&&(V._listeners.warned=!0,d.call(this,V._listeners.length,$))):V._listeners=T,!0;return!0}function M(A,T,E,k){for(var L=l(A),R=L.length,U,j,z,V=A._listeners,$;R-- >0;)j=L[R],U=A[j],j==="_listeners"?z=E:z=E?E.concat(j):[j],$=k||typeof j=="symbol",V&&T.push($?z:z.join(this.delimiter)),typeof U=="object"&&M.call(this,U,T,z,$);return T}function N(A){for(var T=l(A),E=T.length,k,L,R;E-- >0;)L=T[E],k=A[L],k&&(R=!0,L!=="_listeners"&&!N(k)&&delete A[L]);return R}function v(A,T,E){this.emitter=A,this.event=T,this.listener=E}v.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function I(A,T,E){if(E===!0)L=!0;else if(E===!1)k=!0;else{if(!E||typeof E!="object")throw TypeError("options should be an object or true");var k=E.async,L=E.promisify,R=E.nextTick,U=E.objectify}if(k||R||L){var j=T,z=T._origin||T;if(R&&!i)throw Error("process.nextTick is not supported");L===t&&(L=T.constructor.name==="AsyncFunction"),T=function(){var V=arguments,$=this,W=this.event;return L?R?Promise.resolve():new Promise(function(J){c(J)}).then(function(){return $.event=W,j.apply($,V)}):(R?process.nextTick:c)(function(){$.event=W,j.apply($,V)})},T._async=!0,T._origin=z}return[T,U?new v(this,A,T):this]}function S(A){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,f.call(this,A)}S.EventEmitter2=S,S.prototype.listenTo=function(A,T,E){if(typeof A!="object")throw TypeError("target musts be an object");var k=this;E=w(E,{on:t,off:t,reducers:t},{on:C,off:C,reducers:P});function L(R){if(typeof R!="object")throw TypeError("events must be an object");var U=E.reducers,j=F.call(k,A),z;j===-1?z=new m(k,A,E):z=k._observers[j];for(var V=l(R),$=V.length,W,J=typeof U=="function",X=0;X<$;X++)W=V[X],z.subscribe(W,R[W]||W,J?U:U&&U[W])}return n(T)?L(h(T)):L(typeof T=="string"?h(T.split(/\s+/)):T),this},S.prototype.stopListeningTo=function(A,T){var E=this._observers;if(!E)return!1;var k=E.length,L,R=!1;if(A&&typeof A!="object")throw TypeError("target should be an object");for(;k-- >0;)L=E[k],(!A||L._target===A)&&(L.unsubscribe(T),R=!0);return R},S.prototype.delimiter=".",S.prototype.setMaxListeners=function(A){A!==t&&(this._maxListeners=A,this._conf||(this._conf={}),this._conf.maxListeners=A)},S.prototype.getMaxListeners=function(){return this._maxListeners},S.prototype.event="",S.prototype.once=function(A,T,E){return this._once(A,T,!1,E)},S.prototype.prependOnceListener=function(A,T,E){return this._once(A,T,!0,E)},S.prototype._once=function(A,T,E,k){return this._many(A,1,T,E,k)},S.prototype.many=function(A,T,E,k){return this._many(A,T,E,!1,k)},S.prototype.prependMany=function(A,T,E,k){return this._many(A,T,E,!0,k)},S.prototype._many=function(A,T,E,k,L){var R=this;if(typeof E!="function")throw new Error("many only accepts instances of Function");function U(){return--T===0&&R.off(A,U),E.apply(this,arguments)}return U._origin=E,this._on(A,U,k,L)},S.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var A=arguments[0],T,E=this.wildcard,k,L,R,U,j;if(A==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(E&&(T=A,A!=="newListener"&&A!=="removeListener"&&typeof A=="object")){if(L=A.length,a){for(R=0;R<L;R++)if(typeof A[R]=="symbol"){j=!0;break}}j||(A=A.join(this.delimiter))}var z=arguments.length,V;if(this._all&&this._all.length)for(V=this._all.slice(),R=0,L=V.length;R<L;R++)switch(this.event=A,z){case 1:V[R].call(this,A);break;case 2:V[R].call(this,A,arguments[1]);break;case 3:V[R].call(this,A,arguments[1],arguments[2]);break;default:V[R].apply(this,arguments)}if(E)V=[],H.call(this,V,T,this.listenerTree,0,L);else if(V=this._events[A],typeof V=="function"){switch(this.event=A,z){case 1:V.call(this);break;case 2:V.call(this,arguments[1]);break;case 3:V.call(this,arguments[1],arguments[2]);break;default:for(k=new Array(z-1),U=1;U<z;U++)k[U-1]=arguments[U];V.apply(this,k)}return!0}else V&&(V=V.slice());if(V&&V.length){if(z>3)for(k=new Array(z-1),U=1;U<z;U++)k[U-1]=arguments[U];for(R=0,L=V.length;R<L;R++)switch(this.event=A,z){case 1:V[R].call(this);break;case 2:V[R].call(this,arguments[1]);break;case 3:V[R].call(this,arguments[1],arguments[2]);break;default:V[R].apply(this,k)}return!0}else if(!this.ignoreErrors&&!this._all&&A==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},S.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var A=arguments[0],T=this.wildcard,E,k,L,R,U,j;if(A==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(T&&(E=A,A!=="newListener"&&A!=="removeListener"&&typeof A=="object")){if(R=A.length,a){for(U=0;U<R;U++)if(typeof A[U]=="symbol"){k=!0;break}}k||(A=A.join(this.delimiter))}var z=[],V=arguments.length,$;if(this._all)for(U=0,R=this._all.length;U<R;U++)switch(this.event=A,V){case 1:z.push(this._all[U].call(this,A));break;case 2:z.push(this._all[U].call(this,A,arguments[1]));break;case 3:z.push(this._all[U].call(this,A,arguments[1],arguments[2]));break;default:z.push(this._all[U].apply(this,arguments))}if(T?($=[],H.call(this,$,E,this.listenerTree,0)):$=this._events[A],typeof $=="function")switch(this.event=A,V){case 1:z.push($.call(this));break;case 2:z.push($.call(this,arguments[1]));break;case 3:z.push($.call(this,arguments[1],arguments[2]));break;default:for(L=new Array(V-1),j=1;j<V;j++)L[j-1]=arguments[j];z.push($.apply(this,L))}else if($&&$.length){if($=$.slice(),V>3)for(L=new Array(V-1),j=1;j<V;j++)L[j-1]=arguments[j];for(U=0,R=$.length;U<R;U++)switch(this.event=A,V){case 1:z.push($[U].call(this));break;case 2:z.push($[U].call(this,arguments[1]));break;case 3:z.push($[U].call(this,arguments[1],arguments[2]));break;default:z.push($[U].apply(this,L))}}else if(!this.ignoreErrors&&!this._all&&A==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(z)},S.prototype.on=function(A,T,E){return this._on(A,T,!1,E)},S.prototype.prependListener=function(A,T,E){return this._on(A,T,!0,E)},S.prototype.onAny=function(A){return this._onAny(A,!1)},S.prototype.prependAny=function(A){return this._onAny(A,!0)},S.prototype.addListener=S.prototype.on,S.prototype._onAny=function(A,T){if(typeof A!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),T?this._all.unshift(A):this._all.push(A),this},S.prototype._on=function(A,T,E,k){if(typeof A=="function")return this._onAny(A,T),this;if(typeof T!="function")throw new Error("on only accepts instances of Function");this._events||u.call(this);var L=this,R;return k!==t&&(R=I.call(this,A,T,k),T=R[0],L=R[1]),this._newListener&&this.emit("newListener",A,T),this.wildcard?(O.call(this,A,T,E),L):(this._events[A]?(typeof this._events[A]=="function"&&(this._events[A]=[this._events[A]]),E?this._events[A].unshift(T):this._events[A].push(T),!this._events[A].warned&&this._maxListeners>0&&this._events[A].length>this._maxListeners&&(this._events[A].warned=!0,d.call(this,this._events[A].length,A))):this._events[A]=T,L)},S.prototype.off=function(A,T){if(typeof T!="function")throw new Error("removeListener only takes instances of Function");var E,k=[];if(this.wildcard){var L=typeof A=="string"?A.split(this.delimiter):A.slice();if(k=H.call(this,null,L,this.listenerTree,0),!k)return this}else{if(!this._events[A])return this;E=this._events[A],k.push({_listeners:E})}for(var R=0;R<k.length;R++){var U=k[R];if(E=U._listeners,n(E)){for(var j=-1,z=0,V=E.length;z<V;z++)if(E[z]===T||E[z].listener&&E[z].listener===T||E[z]._origin&&E[z]._origin===T){j=z;break}if(j<0)continue;return this.wildcard?U._listeners.splice(j,1):this._events[A].splice(j,1),E.length===0&&(this.wildcard?delete U._listeners:delete this._events[A]),this._removeListener&&this.emit("removeListener",A,T),this}else(E===T||E.listener&&E.listener===T||E._origin&&E._origin===T)&&(this.wildcard?delete U._listeners:delete this._events[A],this._removeListener&&this.emit("removeListener",A,T))}return this.listenerTree&&N(this.listenerTree),this},S.prototype.offAny=function(A){var T=0,E=0,k;if(A&&this._all&&this._all.length>0){for(k=this._all,T=0,E=k.length;T<E;T++)if(A===k[T])return k.splice(T,1),this._removeListener&&this.emit("removeListenerAny",A),this}else{if(k=this._all,this._removeListener)for(T=0,E=k.length;T<E;T++)this.emit("removeListenerAny",k[T]);this._all=[]}return this},S.prototype.removeListener=S.prototype.off,S.prototype.removeAllListeners=function(A){if(A===t)return!this._events||u.call(this),this;if(this.wildcard){var T=H.call(this,null,A,this.listenerTree,0),E,k;if(!T)return this;for(k=0;k<T.length;k++)E=T[k],E._listeners=null;this.listenerTree&&N(this.listenerTree)}else this._events&&(this._events[A]=null);return this},S.prototype.listeners=function(A){var T=this._events,E,k,L,R,U;if(A===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!T)return[];for(E=l(T),R=E.length,L=[];R-- >0;)k=T[E[R]],typeof k=="function"?L.push(k):L.push.apply(L,k);return L}else{if(this.wildcard){if(U=this.listenerTree,!U)return[];var j=[],z=typeof A=="string"?A.split(this.delimiter):A.slice();return H.call(this,j,z,U,0),j}return T?(k=T[A],k?typeof k=="function"?[k]:k:[]):[]}},S.prototype.eventNames=function(A){var T=this._events;return this.wildcard?M.call(this,this.listenerTree,[],null,A):T?l(T):[]},S.prototype.listenerCount=function(A){return this.listeners(A).length},S.prototype.hasListeners=function(A){if(this.wildcard){var T=[],E=typeof A=="string"?A.split(this.delimiter):A.slice();return H.call(this,T,E,this.listenerTree,0),T.length>0}var k=this._events,L=this._all;return!!(L&&L.length||k&&(A===t?l(k).length:k[A]))},S.prototype.listenersAny=function(){return this._all?this._all:[]},S.prototype.waitFor=function(A,T){var E=this,k=typeof T;return k==="number"?T={timeout:T}:k==="function"&&(T={filter:T}),T=w(T,{timeout:0,filter:t,handleError:!1,Promise,overload:!1},{filter:C,Promise:g}),D(T.Promise,function(L,R,U){function j(){var z=T.filter;if(!(z&&!z.apply(E,arguments)))if(E.off(A,j),T.handleError){var V=arguments[0];V?R(V):L(p.apply(null,arguments).slice(1))}else L(p.apply(null,arguments))}U(function(){E.off(A,j)}),E._on(A,j,!1)},{timeout:T.timeout,overload:T.overload})};function y(A,T,E){E=w(E,{Promise,timeout:0,overload:!1},{Promise:g});var k=E.Promise;return D(k,function(L,R,U){var j;if(typeof A.addEventListener=="function"){j=function(){L(p.apply(null,arguments))},U(function(){A.removeEventListener(T,j)}),A.addEventListener(T,j,{once:!0});return}var z=function(){V&&A.removeListener("error",V),L(p.apply(null,arguments))},V;T!=="error"&&(V=function($){A.removeListener(T,z),R($)},A.once("error",V)),U(function(){V&&A.removeListener("error",V),A.removeListener(T,z)}),A.once(T,z)},{timeout:E.timeout,overload:E.overload})}var b=S.prototype;if(Object.defineProperties(S,{defaultMaxListeners:{get:function(){return b._maxListeners},set:function(A){if(typeof A!="number"||A<0||Number.isNaN(A))throw TypeError("n must be a non-negative number");b._maxListeners=A},enumerable:!0},once:{value:y,writable:!0,configurable:!0}}),Object.defineProperties(b,{_maxListeners:{value:r,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return S});else if(typeof KDe=="object")$De.exports=S;else{var _=new Function("","return this")();_.EventEmitter2=S}})()});function qO(){if(!Sj&&(Sj=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Sj))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sj(gPt)}var Sj,gPt,Cce=B(()=>{gPt=new Uint8Array(16)});var WDe,YDe=B(()=>{WDe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function wPt(t){return typeof t=="string"&&WDe.test(t)}var G1,WO=B(()=>{YDe();G1=wPt});function vPt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(h0[t[e+0]]+h0[t[e+1]]+h0[t[e+2]]+h0[t[e+3]]+"-"+h0[t[e+4]]+h0[t[e+5]]+"-"+h0[t[e+6]]+h0[t[e+7]]+"-"+h0[t[e+8]]+h0[t[e+9]]+"-"+h0[t[e+10]]+h0[t[e+11]]+h0[t[e+12]]+h0[t[e+13]]+h0[t[e+14]]+h0[t[e+15]]).toLowerCase();if(!G1(n))throw TypeError("Stringified UUID is invalid");return n}var h0,Cj,i2,YO=B(()=>{WO();h0=[];for(Cj=0;Cj<256;++Cj)h0.push((Cj+256).toString(16).substr(1));i2=vPt});function EPt(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var a=t.node||JDe,o=t.clockseq!==void 0?t.clockseq:Ice;if(a==null||o==null){var s=t.random||(t.rng||qO)();a==null&&(a=JDe=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=Ice=(s[6]<<8|s[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:Oce+1,u=c-Rce+(l-Oce)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||c>Rce)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Rce=c,Oce=l,Ice=o,c+=122192928e5;var f=((c&268435455)*1e4+l)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var d=c/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=d&255,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var p=0;p<6;++p)i[r+p]=a[p];return e||i2(i)}var JDe,Ice,Rce,Oce,QDe,ZDe=B(()=>{Cce();YO();Rce=0,Oce=0;QDe=EPt});function xPt(t){if(!G1(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var Ij,Nce=B(()=>{WO();Ij=xPt});function APt(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}function Rj(t,e,n){function r(i,a,o,s){if(typeof i=="string"&&(i=APt(i)),typeof a=="string"&&(a=Ij(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(a),c.set(i,a.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){s=s||0;for(var l=0;l<16;++l)o[s+l]=c[l];return o}return i2(c)}try{r.name=t}catch{}return r.DNS=_Pt,r.URL=TPt,r}var _Pt,TPt,Pce=B(()=>{YO();Nce();_Pt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",TPt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function SPt(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return CPt(IPt(RPt(t),t.length*8))}function CPt(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(a>>>4&15)+r.charAt(a&15),16);e.push(o)}return e}function XDe(t){return(t+64>>>9<<4)+14+1}function IPt(t,e){t[e>>5]|=128<<e%32,t[XDe(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=n,c=r,l=i,u=a;n=Z0(n,r,i,a,t[o],7,-680876936),a=Z0(a,n,r,i,t[o+1],12,-389564586),i=Z0(i,a,n,r,t[o+2],17,606105819),r=Z0(r,i,a,n,t[o+3],22,-1044525330),n=Z0(n,r,i,a,t[o+4],7,-176418897),a=Z0(a,n,r,i,t[o+5],12,1200080426),i=Z0(i,a,n,r,t[o+6],17,-1473231341),r=Z0(r,i,a,n,t[o+7],22,-45705983),n=Z0(n,r,i,a,t[o+8],7,1770035416),a=Z0(a,n,r,i,t[o+9],12,-1958414417),i=Z0(i,a,n,r,t[o+10],17,-42063),r=Z0(r,i,a,n,t[o+11],22,-1990404162),n=Z0(n,r,i,a,t[o+12],7,1804603682),a=Z0(a,n,r,i,t[o+13],12,-40341101),i=Z0(i,a,n,r,t[o+14],17,-1502002290),r=Z0(r,i,a,n,t[o+15],22,1236535329),n=X0(n,r,i,a,t[o+1],5,-165796510),a=X0(a,n,r,i,t[o+6],9,-1069501632),i=X0(i,a,n,r,t[o+11],14,643717713),r=X0(r,i,a,n,t[o],20,-373897302),n=X0(n,r,i,a,t[o+5],5,-701558691),a=X0(a,n,r,i,t[o+10],9,38016083),i=X0(i,a,n,r,t[o+15],14,-660478335),r=X0(r,i,a,n,t[o+4],20,-405537848),n=X0(n,r,i,a,t[o+9],5,568446438),a=X0(a,n,r,i,t[o+14],9,-1019803690),i=X0(i,a,n,r,t[o+3],14,-187363961),r=X0(r,i,a,n,t[o+8],20,1163531501),n=X0(n,r,i,a,t[o+13],5,-1444681467),a=X0(a,n,r,i,t[o+2],9,-51403784),i=X0(i,a,n,r,t[o+7],14,1735328473),r=X0(r,i,a,n,t[o+12],20,-1926607734),n=ec(n,r,i,a,t[o+5],4,-378558),a=ec(a,n,r,i,t[o+8],11,-2022574463),i=ec(i,a,n,r,t[o+11],16,1839030562),r=ec(r,i,a,n,t[o+14],23,-35309556),n=ec(n,r,i,a,t[o+1],4,-1530992060),a=ec(a,n,r,i,t[o+4],11,1272893353),i=ec(i,a,n,r,t[o+7],16,-155497632),r=ec(r,i,a,n,t[o+10],23,-1094730640),n=ec(n,r,i,a,t[o+13],4,681279174),a=ec(a,n,r,i,t[o],11,-358537222),i=ec(i,a,n,r,t[o+3],16,-722521979),r=ec(r,i,a,n,t[o+6],23,76029189),n=ec(n,r,i,a,t[o+9],4,-640364487),a=ec(a,n,r,i,t[o+12],11,-421815835),i=ec(i,a,n,r,t[o+15],16,530742520),r=ec(r,i,a,n,t[o+2],23,-995338651),n=tc(n,r,i,a,t[o],6,-198630844),a=tc(a,n,r,i,t[o+7],10,1126891415),i=tc(i,a,n,r,t[o+14],15,-1416354905),r=tc(r,i,a,n,t[o+5],21,-57434055),n=tc(n,r,i,a,t[o+12],6,1700485571),a=tc(a,n,r,i,t[o+3],10,-1894986606),i=tc(i,a,n,r,t[o+10],15,-1051523),r=tc(r,i,a,n,t[o+1],21,-2054922799),n=tc(n,r,i,a,t[o+8],6,1873313359),a=tc(a,n,r,i,t[o+15],10,-30611744),i=tc(i,a,n,r,t[o+6],15,-1560198380),r=tc(r,i,a,n,t[o+13],21,1309151649),n=tc(n,r,i,a,t[o+4],6,-145523070),a=tc(a,n,r,i,t[o+11],10,-1120210379),i=tc(i,a,n,r,t[o+2],15,718787259),r=tc(r,i,a,n,t[o+9],21,-343485551),n=a2(n,s),r=a2(r,c),i=a2(i,l),a=a2(a,u)}return[n,r,i,a]}function RPt(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(XDe(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function a2(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function OPt(t,e){return t<<e|t>>>32-e}function Oj(t,e,n,r,i,a){return a2(OPt(a2(a2(e,t),a2(r,a)),i),n)}function Z0(t,e,n,r,i,a,o){return Oj(e&n|~e&r,t,e,i,a,o)}function X0(t,e,n,r,i,a,o){return Oj(e&r|n&~r,t,e,i,a,o)}function ec(t,e,n,r,i,a,o){return Oj(e^n^r,t,e,i,a,o)}function tc(t,e,n,r,i,a,o){return Oj(n^(e|~r),t,e,i,a,o)}var eLe,tLe=B(()=>{eLe=SPt});var NPt,nLe,rLe=B(()=>{Pce();tLe();NPt=Rj("v3",48,eLe),nLe=NPt});function PPt(t,e,n){t=t||{};var r=t.random||(t.rng||qO)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return i2(r)}var V1,iLe=B(()=>{Cce();YO();V1=PPt});function kPt(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function kce(t,e){return t<<e|t>>>32-e}function MPt(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[c*64+u*4]<<24|t[c*64+u*4+1]<<16|t[c*64+u*4+2]<<8|t[c*64+u*4+3];s[c]=l}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=s[f][p];for(var h=16;h<80;++h)d[h]=kce(d[h-3]^d[h-8]^d[h-14]^d[h-16],1);for(var m=n[0],w=n[1],g=n[2],x=n[3],C=n[4],P=0;P<80;++P){var D=Math.floor(P/20),F=kce(m,5)+kPt(D,w,g,x)+C+e[D]+d[P]>>>0;C=x,x=g,g=kce(w,30)>>>0,w=m,m=F}n[0]=n[0]+m>>>0,n[1]=n[1]+w>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+x>>>0,n[4]=n[4]+C>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var aLe,oLe=B(()=>{aLe=MPt});var BPt,sLe,cLe=B(()=>{Pce();oLe();BPt=Rj("v5",80,aLe),sLe=BPt});var lLe,uLe=B(()=>{lLe="00000000-0000-0000-0000-000000000000"});function DPt(t){if(!G1(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var fLe,dLe=B(()=>{WO();fLe=DPt});var Mce={};$t(Mce,{NIL:()=>lLe,parse:()=>Ij,stringify:()=>i2,v1:()=>QDe,v3:()=>nLe,v4:()=>V1,v5:()=>sLe,validate:()=>G1,version:()=>fLe});var Nj=B(()=>{ZDe();rLe();iLe();cLe();uLe();dLe();WO();YO();Nce()});function lA(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;let i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){let a=i;return!!(a&&(a.code===22||a.code===1014||a.name==="QuotaExceededError"||a.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0)}}var uA,fA,dA,oV,BN=B(()=>{use();uA=t=>{let e=mz(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},fA=(t,e)=>lA("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,dA=(t,e,n)=>lA("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,n):null,oV=(t,e)=>lA("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null});var pA,Yue=B(()=>{Co();Fw();BN();DO();md();ss();pA=class extends Sh{async init(e){}async getIdentityToken(){if(!this.provider||this.status!==Pe.CONNECTED)throw rt.notConnectedError();if(!this.coreOptions)throw at.invalidParams("Please initialize Web3Auth with valid options");let e=await this.provider.request({method:ua.GET_ACCOUNTS});if(e&&e.length>0){let n=fA(e[0],this.name);if(n&&!uA(n))return{idToken:n};let r=await this.provider.request({method:"eth_chainId"}),i=this.coreOptions.chains.find(f=>f.chainId===r);if(!i)throw at.invalidParams("chainConfig is required before authentication");let{chainNamespace:a}=i,o={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await vw(o,a),c=`0x${Buffer.from(s,"utf8").toString("hex")}`,l=await this.provider.request({method:ua.PERSONAL_SIGN,params:[c,e[0]]}),u=await Ew(a,l,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return dA(e[0],this.name,u),{idToken:u}}throw rt.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();let e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&oV(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(lt.DISCONNECTED)}}});var cV,Eje=B(()=>{cV="solana:signAndSendTransaction"});var xje=B(()=>{});var lV,Aje=B(()=>{lV="solana:signMessage"});var DN,_je=B(()=>{DN="solana:signTransaction"});var Tje=B(()=>{});var efe=B(()=>{Eje();xje();Aje();_je();Tje()});function PDt(t){UN=void 0,fV.add(t)}function kDt(t){UN=void 0,fV.delete(t)}function Ije(){if(LN||(LN=Object.freeze({register:Sje,get:MDt,on:BDt}),typeof window>"u"))return LN;let t=Object.freeze({register:Sje});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new tfe(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return LN}function Sje(...t){return t=t.filter(e=>!fV.has(e)),t.length?(t.forEach(e=>PDt(e)),mA.register?.forEach(e=>Cje(()=>e(...t))),function(){t.forEach(n=>kDt(n)),mA.unregister?.forEach(n=>Cje(()=>n(...t)))}):()=>{}}function MDt(){return UN||(UN=[...fV]),UN}function BDt(t,e){return mA[t]?.push(e)||(mA[t]=[e]),function(){mA[t]=mA[t]?.filter(r=>e!==r)}}function Cje(t){try{t()}catch(e){console.error(e)}}var ODt,NDt,uV,LN,fV,mA,UN,tfe,Rje=B(()=>{ODt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},NDt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},fV=new Set;mA={};tfe=class extends Event{get detail(){return ODt(this,uV,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),uV.set(this,void 0),NDt(this,uV,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};uV=new WeakMap});var Oje=B(()=>{Rje()});var dV,Nje=B(()=>{dV="standard:connect"});var Pje,kje=B(()=>{Pje="standard:disconnect"});var Mje=B(()=>{});var nfe=B(()=>{Nje();kje();Mje()});var pV,Bje=B(()=>{Co();Fw();DO();md();ss();BN();pV=class extends Sh{async init(e){}async getIdentityToken(){if(!this.provider||this.status!==Pe.CONNECTED)throw rt.notConnectedError();if(!this.coreOptions)throw at.invalidParams("Please initialize Web3Auth with a valid options");let e=await this.provider.request({method:ni.GET_ACCOUNTS});if(e&&e.length>0){let n=fA(e[0],this.name);if(n&&!uA(n))return{idToken:n};let r=await this.provider.request({method:"solana_chainId"}),i=this.coreOptions.chains.find(u=>u.chainId===r);if(!i)throw at.invalidParams("chainConfig is required before authentication");let{chainNamespace:a}=i,o={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await vw(o,a),c=await this.provider.request({method:ni.SIGN_MESSAGE,params:{data:s,display:"utf8"}}),l=await Ew(a,c,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return dA(e[0],this.name,l),{idToken:l}}throw rt.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();let e=await this.provider.request({method:ni.GET_ACCOUNTS});e&&e.length>0&&oV(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(lt.DISCONNECTED)}}});function q5(t,e=""){if(typeof t!="boolean"){let n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Xu(t,e,n=""){let r=Ss(t),i=t?.length,a=e!==void 0;if(!r||a&&i!==e){let o=n&&`"${n}" `,s=a?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+s+", got "+c)}return t}function yA(t){let e=t.toString(16);return e.length&1?"0"+e:e}function ofe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?afe:BigInt("0x"+t)}function rv(t){return ofe(va(t))}function zh(t){return Li(t),ofe(va(Uint8Array.from(t).reverse()))}function FN(t,e){return c0(t.toString(16).padStart(e*2,"0"))}function hV(t,e){return FN(t,e).reverse()}function bi(t,e,n){let r;if(typeof e=="string")try{r=c0(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(Ss(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function mV(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function yV(t){return Uint8Array.from(t)}function sfe(t,e,n){return rfe(t)&&rfe(e)&&rfe(n)&&e<=t&&t<n}function bA(t,e,n,r){if(!sfe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function HN(t){let e;for(e=0;t>afe;t>>=ife,e+=1);return e}function cfe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=p=>new Uint8Array(p),i=p=>Uint8Array.of(p),a=r(t),o=r(t),s=0,c=()=>{a.fill(1),o.fill(0),s=0},l=(...p)=>n(o,a,...p),u=(p=r(0))=>{o=l(i(0),p),a=l(),p.length!==0&&(o=l(i(1),p),a=l())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,h=[];for(;p<e;){a=l();let m=a.slice();h.push(m),p+=a.length}return rr(...h)};return(p,h)=>{c(),u(p);let m;for(;!(m=h(f()));)u();return c(),m}}function R2(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,a,o){let s=t[i];if(o&&s===void 0)return;let c=typeof s;if(c!==a||s===null)throw new Error(`param "${i}" is invalid: expected ${a}, got ${c}`)}Object.entries(e).forEach(([i,a])=>r(i,a,!1)),Object.entries(n).forEach(([i,a])=>r(i,a,!0))}function iv(t){let e=new WeakMap;return(n,...r)=>{let i=e.get(n);if(i!==void 0)return i;let a=t(n,...r);return e.set(n,a),a}}var afe,ife,rfe,W5,bV,av=B(()=>{Is();Is();afe=BigInt(0),ife=BigInt(1);rfe=t=>typeof t=="bigint"&&afe<=t;W5=t=>(ife<<BigInt(t))-ife;bV=()=>{throw new Error("not implemented")}});function io(t,e){let n=t%e;return n>=Zc?n:e+n}function _a(t,e,n){let r=t;for(;e-- >Zc;)r*=r,r%=n;return r}function Lje(t,e){if(t===Zc)throw new Error("invert: expected non-zero number");if(e<=Zc)throw new Error("invert: expected positive modulus, got "+e);let n=io(t,e),r=e,i=Zc,a=Vs,o=Vs,s=Zc;for(;n!==Zc;){let l=r/n,u=r%n,f=i-o*l,d=a-s*l;r=n,n=u,i=o,a=s,o=f,s=d}if(r!==Vs)throw new Error("invert: does not exist");return io(i,e)}function lfe(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Vje(t,e){let n=(t.ORDER+Vs)/Hje,r=t.pow(e,n);return lfe(t,r,e),r}function FDt(t,e){let n=(t.ORDER-zje)/jje,r=t.mul(e,ov),i=t.pow(r,n),a=t.mul(e,i),o=t.mul(t.mul(a,ov),i),s=t.mul(a,t.sub(o,t.ONE));return lfe(t,s,e),s}function HDt(t){let e=ef(t),n=Kje(t),r=n(e,e.neg(e.ONE)),i=n(e,r),a=n(e,e.neg(r)),o=(t+LDt)/Gje;return(s,c)=>{let l=s.pow(c,o),u=s.mul(l,r),f=s.mul(l,i),d=s.mul(l,a),p=s.eql(s.sqr(u),c),h=s.eql(s.sqr(f),c);l=s.cmov(l,u,p),u=s.cmov(d,f,h);let m=s.eql(s.sqr(u),c),w=s.cmov(l,u,m);return lfe(s,w,c),w}}function Kje(t){if(t<Fje)throw new Error("sqrt is not defined for small field");let e=t-Vs,n=0;for(;e%ov===Zc;)e/=ov,n++;let r=ov,i=ef(t);for(;Uje(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Vje;let a=i.pow(r,e),o=(e+Vs)/ov;return function(c,l){if(c.is0(l))return l;if(Uje(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,a),d=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let h=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let w=Vs<<BigInt(u-h-1),g=c.pow(f,w);u=h,f=c.sqr(g),d=c.mul(d,f),p=c.mul(p,g)}return p}}function zDt(t){return t%Hje===Fje?Vje:t%jje===zje?FDt:t%Gje===UDt?HDt(t):Kje(t)}function ufe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=jDt.reduce((r,i)=>(r[i]="function",r),e);return R2(t,n),t}function GDt(t,e,n){if(n<Zc)throw new Error("invalid exponent, negatives unsupported");if(n===Zc)return t.ONE;if(n===Vs)return e;let r=t.ONE,i=e;for(;n>Zc;)n&Vs&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Vs;return r}function zN(t,e,n=!1){let r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),a=t.inv(i);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),a),r}function Uje(t,e){let n=(t.ORDER-Vs)/ov,r=t.pow(e,n),i=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!a&&!o)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function gV(t,e){e!==void 0&&zc(e);let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ef(t,e,n=!1,r={}){if(t<=Zc)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,a,o=!1,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");let d=e;d.BITS&&(i=d.BITS),d.sqrt&&(a=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),s=d.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(a=r.sqrt);let{nBitLength:c,nByteLength:l}=gV(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,f=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:W5(c),ZERO:Zc,ONE:Vs,allowedLengths:s,create:d=>io(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Zc<=d&&d<t},is0:d=>d===Zc,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&Vs)===Vs,neg:d=>io(-d,t),eql:(d,p)=>d===p,sqr:d=>io(d*d,t),add:(d,p)=>io(d+p,t),sub:(d,p)=>io(d-p,t),mul:(d,p)=>io(d*p,t),pow:(d,p)=>GDt(f,d,p),div:(d,p)=>io(d*Lje(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>Lje(d,t),sqrt:a||(d=>(u||(u=zDt(t)),u(f,d))),toBytes:d=>n?hV(d,l):FN(d,l),fromBytes:(d,p=!0)=>{if(s){if(!s.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+d.length);let m=new Uint8Array(l);m.set(d,n?0:m.length-d.length),d=m}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let h=n?zh(d):rv(d);if(o&&(h=io(h,t)),!p&&!f.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:d=>zN(f,d),cmov:(d,p,h)=>h?p:d});return Object.freeze(f)}function $je(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function ffe(t){let e=$je(t);return e+Math.ceil(e/2)}function dfe(t,e,n=!1){let r=t.length,i=$je(e),a=ffe(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);let o=n?zh(t):rv(t),s=io(o,e-Vs)+Vs;return n?hV(s,i):FN(s,i)}var Zc,Vs,ov,Fje,Hje,zje,LDt,jje,UDt,Gje,Y5,jDt,gA=B(()=>{av();Zc=BigInt(0),Vs=BigInt(1),ov=BigInt(2),Fje=BigInt(3),Hje=BigInt(4),zje=BigInt(5),LDt=BigInt(7),jje=BigInt(8),UDt=BigInt(9),Gje=BigInt(16);Y5=(t,e)=>(io(t,e)&Vs)===Vs,jDt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function jN(t,e){let n=e.negate();return t?n:e}function J5(t,e){let n=zN(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function Jje(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function pfe(t,e){Jje(t,e);let n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,a=W5(t),o=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:i,shiftBy:o}}function qje(t,e,n){let{windowSize:r,mask:i,maxNumber:a,shiftBy:o}=n,s=Number(t&i),c=t>>o;s>r&&(s-=a,c+=sv);let l=e*r,u=l+Math.abs(s)-1,f=s===0,d=s<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function KDt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function $Dt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}function mfe(t){return Qje.get(t)||1}function Wje(t){if(t!==wA)throw new Error("invalid wNAF")}function Zje(t,e,n,r){let i=e,a=t.ZERO,o=t.ZERO;for(;n>wA||r>wA;)n&sv&&(a=a.add(i)),r&sv&&(o=o.add(i)),i=i.double(),n>>=sv,r>>=sv;return{p1:a,p2:o}}function EA(t,e,n,r){KDt(n,t),$Dt(r,e);let i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,s=HN(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=W5(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<a;m++){let w=r[m],g=Number(w>>BigInt(p)&l);u[g]=u[g].add(n[m])}let h=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),h=h.add(w);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function Yje(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return ufe(e),e}else return ef(t,{isLE:n})}function wV(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let l=e[c];if(!(typeof l=="bigint"&&l>wA))throw new Error(`CURVE.${c} must be positive bigint`)}let i=Yje(e.p,n.Fp,r),a=Yje(e.n,n.Fn,r),s=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of s)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:a}}var wA,sv,hfe,Qje,vA,vV=B(()=>{av();gA();wA=BigInt(0),sv=BigInt(1);hfe=new WeakMap,Qje=new WeakMap;vA=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>wA;)n&sv&&(r=r.add(i)),i=i.double(),n>>=sv;return r}precomputeWindow(e,n){let{windows:r,windowSize:i}=pfe(n,this.bits),a=[],o=e,s=o;for(let c=0;c<r;c++){s=o,a.push(s);for(let l=1;l<i;l++)s=s.add(o),a.push(s);o=s.double()}return a}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,a=this.BASE,o=pfe(e,this.bits);for(let s=0;s<o.windows;s++){let{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:p}=qje(r,s,o);r=c,u?a=a.add(jN(d,n[p])):i=i.add(jN(f,n[l]))}return Wje(r),{p:i,f:a}}wNAFUnsafe(e,n,r,i=this.ZERO){let a=pfe(e,this.bits);for(let o=0;o<a.windows&&r!==wA;o++){let{nextN:s,offset:c,isZero:l,isNeg:u}=qje(r,o,a);if(r=s,!l){let f=n[c];i=i.add(u?f.negate():f)}}return Wje(r),i}getPrecomputes(e,n,r){let i=hfe.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),hfe.set(n,i))),i}cached(e,n,r){let i=mfe(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){let a=mfe(e);return a===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(a,this.getPrecomputes(a,e,r),n,i)}createCache(e,n){Jje(n,this.bits),Qje.set(e,n),hfe.delete(e)}hasCache(e){return mfe(e)!==1}}});function WDt(t,e,n,r){let i=t.sqr(n),a=t.sqr(r),o=t.add(t.mul(e.a,i),a),s=t.add(t.ONE,t.mul(e.d,t.mul(i,a)));return t.eql(o,s)}function YDt(t,e={}){let n=wV("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n,a=n.CURVE,{h:o}=a;R2(e,{},{uvRatio:"function"});let s=yfe<<BigInt(i.BYTES*8)-Ks,c=w=>r.create(w),l=e.uvRatio||((w,g)=>{try{return{isValid:!0,value:r.sqrt(r.div(w,g))}}catch{return{isValid:!1,value:O2}}});if(!WDt(r,a,a.Gx,a.Gy))throw new Error("bad curve params: generator point");function u(w,g,x=!1){let C=x?Ks:O2;return bA("coordinate "+w,g,C,s),g}function f(w){if(!(w instanceof h))throw new Error("ExtendedPoint expected")}let d=iv((w,g)=>{let{X:x,Y:C,Z:P}=w,D=w.is0();g==null&&(g=D?qDt:r.inv(P));let F=c(x*g),H=c(C*g),O=r.mul(P,g);if(D)return{x:O2,y:Ks};if(O!==Ks)throw new Error("invZ was invalid");return{x:F,y:H}}),p=iv(w=>{let{a:g,d:x}=a;if(w.is0())throw new Error("bad point: ZERO");let{X:C,Y:P,Z:D,T:F}=w,H=c(C*C),O=c(P*P),M=c(D*D),N=c(M*M),v=c(H*g),I=c(M*c(v+O)),S=c(N+c(x*c(H*O)));if(I!==S)throw new Error("bad point: equation left != right (1)");let y=c(C*P),b=c(D*F);if(y!==b)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(g,x,C,P){this.X=u("x",g),this.Y=u("y",x),this.Z=u("z",C,!0),this.T=u("t",P),Object.freeze(this)}static CURVE(){return a}static fromAffine(g){if(g instanceof h)throw new Error("extended point not allowed");let{x,y:C}=g||{};return u("x",x),u("y",C),new h(x,C,Ks,c(x*C))}static fromBytes(g,x=!1){let C=r.BYTES,{a:P,d:D}=a;g=yV(Xu(g,C,"point")),q5(x,"zip215");let F=yV(g),H=g[C-1];F[C-1]=H&-129;let O=zh(F),M=x?s:r.ORDER;bA("point.y",O,O2,M);let N=c(O*O),v=c(N-Ks),I=c(D*N-P),{isValid:S,value:y}=l(v,I);if(!S)throw new Error("bad point: invalid y coordinate");let b=(y&Ks)===Ks,_=(H&128)!==0;if(!x&&y===O2&&_)throw new Error("bad point: x=0 and x_0=1");return _!==b&&(y=c(-y)),h.fromAffine({x:y,y:O})}static fromHex(g,x=!1){return h.fromBytes(bi("point",g),x)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(g=8,x=!0){return m.createCache(this,g),x||this.multiply(yfe),this}assertValidity(){p(this)}equals(g){f(g);let{X:x,Y:C,Z:P}=this,{X:D,Y:F,Z:H}=g,O=c(x*H),M=c(D*P),N=c(C*H),v=c(F*P);return O===M&&N===v}is0(){return this.equals(h.ZERO)}negate(){return new h(c(-this.X),this.Y,this.Z,c(-this.T))}double(){let{a:g}=a,{X:x,Y:C,Z:P}=this,D=c(x*x),F=c(C*C),H=c(yfe*c(P*P)),O=c(g*D),M=x+C,N=c(c(M*M)-D-F),v=O+F,I=v-H,S=O-F,y=c(N*I),b=c(v*S),_=c(N*S),A=c(I*v);return new h(y,b,A,_)}add(g){f(g);let{a:x,d:C}=a,{X:P,Y:D,Z:F,T:H}=this,{X:O,Y:M,Z:N,T:v}=g,I=c(P*O),S=c(D*M),y=c(H*C*v),b=c(F*N),_=c((P+D)*(O+M)-I-S),A=b-y,T=b+y,E=c(S-x*I),k=c(_*A),L=c(T*E),R=c(_*E),U=c(A*T);return new h(k,L,U,R)}subtract(g){return this.add(g.negate())}multiply(g){if(!i.isValidNot0(g))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:x,f:C}=m.cached(this,g,P=>J5(h,P));return J5(h,[x,C])[0]}multiplyUnsafe(g,x=h.ZERO){if(!i.isValid(g))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return g===O2?h.ZERO:this.is0()||g===Ks?this:m.unsafe(this,g,C=>J5(h,C),x)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return m.unsafe(this,a.n).is0()}toAffine(g){return d(this,g)}clearCofactor(){return o===Ks?this:this.multiplyUnsafe(o)}toBytes(){let{x:g,y:x}=this.toAffine(),C=r.toBytes(x);return C[C.length-1]|=g&Ks?128:0,C}toHex(){return va(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(g){return J5(h,g)}static msm(g,x){return EA(h,i,g,x)}_setWindowSize(g){this.precompute(g)}toRawBytes(){return this.toBytes()}}h.BASE=new h(a.Gx,a.Gy,Ks,c(a.Gx*a.Gy)),h.ZERO=new h(O2,Ks,Ks,O2),h.Fp=r,h.Fn=i;let m=new vA(h,i.BITS);return h.BASE.precompute(8),h}function JDt(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');R2(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:r}=n,{BASE:i,Fp:a,Fn:o}=t,s=n.randomBytes||Cs,c=n.adjustScalarBytes||(M=>M),l=n.domain||((M,N,v)=>{if(q5(v,"phflag"),N.length||v)throw new Error("Contexts/pre-hash are not supported");return M});function u(M){return o.create(zh(M))}function f(M){let N=C.secretKey;M=bi("private key",M,N);let v=bi("hashed private key",e(M),2*N),I=c(v.slice(0,N)),S=v.slice(N,2*N),y=u(I);return{head:I,prefix:S,scalar:y}}function d(M){let{head:N,prefix:v,scalar:I}=f(M),S=i.multiply(I),y=S.toBytes();return{head:N,prefix:v,scalar:I,point:S,pointBytes:y}}function p(M){return d(M).pointBytes}function h(M=Uint8Array.of(),...N){let v=rr(...N);return u(e(l(v,bi("context",M),!!r)))}function m(M,N,v={}){M=bi("message",M),r&&(M=r(M));let{prefix:I,scalar:S,pointBytes:y}=d(N),b=h(v.context,I,M),_=i.multiply(b).toBytes(),A=h(v.context,_,y,M),T=o.create(b+A*S);if(!o.isValid(T))throw new Error("sign failed: invalid s");let E=rr(_,o.toBytes(T));return Xu(E,C.signature,"result")}let w={zip215:!0};function g(M,N,v,I=w){let{context:S,zip215:y}=I,b=C.signature;M=bi("signature",M,b),N=bi("message",N),v=bi("publicKey",v,C.publicKey),y!==void 0&&q5(y,"zip215"),r&&(N=r(N));let _=b/2,A=M.subarray(0,_),T=zh(M.subarray(_,b)),E,k,L;try{E=t.fromBytes(v,y),k=t.fromBytes(A,y),L=i.multiplyUnsafe(T)}catch{return!1}if(!y&&E.isSmallOrder())return!1;let R=h(S,k.toBytes(),E.toBytes(),N);return k.add(E.multiplyUnsafe(R)).subtract(L).clearCofactor().is0()}let x=a.BYTES,C={secretKey:x,publicKey:x,signature:2*x,seed:x};function P(M=s(C.seed)){return Xu(M,C.seed,"seed")}function D(M){let N=O.randomSecretKey(M);return{secretKey:N,publicKey:p(N)}}function F(M){return Ss(M)&&M.length===o.BYTES}function H(M,N){try{return!!t.fromBytes(M,N)}catch{return!1}}let O={getExtendedPublicKey:d,randomSecretKey:P,isValidSecretKey:F,isValidPublicKey:H,toMontgomery(M){let{y:N}=t.fromBytes(M),v=C.publicKey,I=v===32;if(!I&&v!==57)throw new Error("only defined for 25519 and 448");let S=I?a.div(Ks+N,Ks-N):a.div(N-Ks,N+Ks);return a.toBytes(S)},toMontgomerySecret(M){let N=C.secretKey;Xu(M,N);let v=e(M.subarray(0,N));return c(v).subarray(0,N)},randomPrivateKey:P,precompute(M=8,N=t.BASE){return N.precompute(M,!1)}};return Object.freeze({keygen:D,getPublicKey:p,sign:m,verify:g,utils:O,Point:t,lengths:C})}function QDt(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=ef(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},a={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:a}}function ZDt(t,e){let n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function Xje(t){let{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=QDt(t),a=YDt(e,n),o=JDt(a,r,i);return ZDt(t,o)}var O2,Ks,yfe,qDt,EV,eGe=B(()=>{av();vV();gA();O2=BigInt(0),Ks=BigInt(1),yfe=BigInt(2),qDt=BigInt(8);EV=class{constructor(e){this.ep=e}static fromBytes(e){bV()}static fromHex(e){bV()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return va(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,n){return this.init(this.ep.precompute(e,n))}toRawBytes(){return this.toBytes()}}});function nLt(t){let e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),a=xA,s=t*t%a*t%a,c=_a(s,tGe,a)*s%a,l=_a(c,Q5,a)*t%a,u=_a(l,eLt,a)*l%a,f=_a(u,e,a)*u%a,d=_a(f,n,a)*f%a,p=_a(d,r,a)*d%a,h=_a(p,i,a)*p%a,m=_a(h,i,a)*p%a,w=_a(m,e,a)*u%a;return{pow_p_5_8:_a(w,tGe,a)*t%a,b2:s}}function rLt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function vfe(t,e){let n=xA,r=io(e*e*e,n),i=io(r*r*e,n),a=nLt(t*i).pow_p_5_8,o=io(t*r*a,n),s=io(e*o*o,n),c=o,l=io(o*bfe,n),u=s===t,f=s===io(-t,n),d=s===io(-t*bfe,n);return u&&(o=c),(f||d)&&(o=l),Y5(o,n)&&(o=io(-o,n)),{isValid:u||f,value:o}}function rGe(t){let{d:e}=GN,n=xA,r=g=>N2.create(g),i=r(gfe*t*t),a=r((i+Q5)*cLt),o=BigInt(-1),s=r((o-e*i)*r(i+e)),{isValid:c,value:l}=vfe(a,s),u=r(l*t);Y5(u,n)||(u=r(-u)),c||(l=u),c||(o=i);let f=r(o*(i-Q5)*lLt-s),d=l*l,p=r((l+l)*s),h=r(f*oLt),m=r(Q5-d),w=r(Q5+d);return new Kl.Point(r(p*w),r(m*h),r(h*w),r(p*m))}function fLt(t){Li(t,64);let e=wfe(t.subarray(0,32)),n=rGe(e),r=wfe(t.subarray(32,64)),i=rGe(r);return new Z5(n.add(i))}var XDt,Q5,tGe,zJn,eLt,tLt,xA,GN,bfe,N2,iLt,aLt,Kl,gfe,oLt,sLt,cLt,lLt,nGe,uLt,wfe,Z5,iGe=B(()=>{$9();Is();vV();eGe();gA();av();XDt=BigInt(0),Q5=BigInt(1),tGe=BigInt(2),zJn=BigInt(3),eLt=BigInt(5),tLt=BigInt(8),xA=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),GN={p:xA,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:tLt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};bfe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");N2=ef(GN.p,{isLE:!0}),iLt=ef(GN.n,{isLE:!0}),aLt={...GN,Fp:N2,hash:f9e,adjustScalarBytes:rLt,uvRatio:vfe},Kl=Xje(aLt),gfe=bfe,oLt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),sLt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),cLt=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),lLt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),nGe=t=>vfe(Q5,t),uLt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),wfe=t=>Kl.Point.Fp.create(zh(t)&uLt);Z5=class t extends EV{constructor(e){super(e)}static fromAffine(e){return new t(Kl.Point.fromAffine(e))}assertSame(e){if(!(e instanceof t))throw new Error("RistrettoPoint expected")}init(e){return new t(e)}static hashToCurve(e){return fLt(bi("ristrettoHash",e,64))}static fromBytes(e){Li(e,32);let{a:n,d:r}=GN,i=xA,a=P=>N2.create(P),o=wfe(e);if(!mV(N2.toBytes(o),e)||Y5(o,i))throw new Error("invalid ristretto255 encoding 1");let s=a(o*o),c=a(Q5+n*s),l=a(Q5-n*s),u=a(c*c),f=a(l*l),d=a(n*r*u-f),{isValid:p,value:h}=nGe(a(d*f)),m=a(h*l),w=a(h*m*d),g=a((o+o)*m);Y5(g,i)&&(g=a(-g));let x=a(c*w),C=a(g*x);if(!p||Y5(C,i)||x===XDt)throw new Error("invalid ristretto255 encoding 2");return new t(new Kl.Point(g,x,Q5,C))}static fromHex(e){return t.fromBytes(bi("ristrettoHex",e,32))}static msm(e,n){return EA(t,Kl.Point.Fn,e,n)}toBytes(){let{X:e,Y:n,Z:r,T:i}=this.ep,a=xA,o=w=>N2.create(w),s=o(o(r+n)*o(r-n)),c=o(e*n),l=o(c*c),{value:u}=nGe(o(s*l)),f=o(u*s),d=o(u*c),p=o(f*d*i),h;if(Y5(i*p,a)){let w=o(n*gfe),g=o(e*gfe);e=w,n=g,h=o(f*sLt)}else h=d;Y5(e*p,a)&&(n=o(-n));let m=o((r-n)*h);return Y5(m,a)&&(m=o(-m)),N2.toBytes(m)}equals(e){this.assertSame(e);let{X:n,Y:r}=this.ep,{X:i,Y:a}=e.ep,o=l=>N2.create(l),s=o(n*a)===o(r*i),c=o(r*a)===o(n*i);return s||c}is0(){return this.equals(t.ZERO)}};Z5.BASE=new Z5(Kl.Point.BASE);Z5.ZERO=new Z5(Kl.Point.ZERO);Z5.Fp=N2;Z5.Fn=iLt});var oGe=le((GJn,aGe)=>{"use strict";var xV=vae().Buffer;function dLt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=r}var o=t.length,s=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=xV.from(p)),!xV.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var h=0,m=0,w=0,g=p.length;w!==g&&p[w]===0;)w++,h++;for(var x=(g-w)*l+1>>>0,C=new Uint8Array(x);w!==g;){for(var P=p[w],D=0,F=x-1;(P!==0||D<m)&&F!==-1;F--,D++)P+=256*C[F]>>>0,C[F]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");m=D,w++}for(var H=x-m;H!==x&&C[H]===0;)H++;for(var O=s.repeat(h);H<x;++H)O+=t.charAt(C[H]);return O}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return xV.alloc(0);for(var h=0,m=0,w=0;p[h]===s;)m++,h++;for(var g=(p.length-h)*c+1>>>0,x=new Uint8Array(g);h<p.length;){var C=p.charCodeAt(h);if(C>255)return;var P=e[C];if(P===255)return;for(var D=0,F=g-1;(P!==0||D<w)&&F!==-1;F--,D++)P+=o*x[F]>>>0,x[F]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");w=D,h++}for(var H=g-w;H!==g&&x[H]===0;)H++;var O=xV.allocUnsafe(m+(g-H));O.fill(0,0,m);for(var M=m;H!==g;)O[M++]=x[H++];return O}function d(p){var h=f(p);if(h)return h;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:d}}aGe.exports=dLt});var Efe=le((VJn,sGe)=>{var pLt=oGe(),hLt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";sGe.exports=pLt(hLt)});var VN,xfe=B(()=>{$9();VN=Tl});var cGe=le(Tfe=>{"use strict";function X5(t,e,n){return e<=t&&t<=n}function CV(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function mLt(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var a=e.charCodeAt(r);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var s=a&1023,c=o&1023;i.push(65536+(s<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function yLt(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var AV=-1;function _fe(t){this.tokens=[].slice.call(t)}_fe.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():AV},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var AA=-1;function Afe(t,e){if(t)throw TypeError("Decoder error");return e||65533}var _V="utf-8";function TV(t,e){if(!(this instanceof TV))return new TV(t,e);if(t=t!==void 0?String(t).toLowerCase():_V,t!==_V)throw new Error("Encoding not supported. Only utf-8 is supported");e=CV(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TV.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=CV(n),this._streaming||(this._decoder=new bLt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new _fe(r),a=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==AA);)o!==null&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===AA)break;o!==null&&(Array.isArray(o)?a.push.apply(a,o):a.push(o))}while(!i.endOfStream());this._decoder=null}return a.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(a[0]===65279?(this._BOMseen=!0,a.shift()):this._BOMseen=!0),yLt(a)}};function SV(t,e){if(!(this instanceof SV))return new SV(t,e);if(t=t!==void 0?String(t).toLowerCase():_V,t!==_V)throw new Error("Encoding not supported. Only utf-8 is supported");e=CV(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}SV.prototype={encode:function(e,n){e=e?String(e):"",n=CV(n),this._streaming||(this._encoder=new gLt(this._options)),this._streaming=!!n.stream;for(var r=[],i=new _fe(mLt(e)),a;!i.endOfStream()&&(a=this._encoder.handler(i,i.read()),a!==AA);)Array.isArray(a)?r.push.apply(r,a):r.push(a);if(!this._streaming){for(;a=this._encoder.handler(i,i.read()),a!==AA;)Array.isArray(a)?r.push.apply(r,a):r.push(a);this._encoder=null}return new Uint8Array(r)}};function bLt(t){var e=t.fatal,n=0,r=0,i=0,a=128,o=191;this.handler=function(s,c){if(c===AV&&i!==0)return i=0,Afe(e);if(c===AV)return AA;if(i===0){if(X5(c,0,127))return c;if(X5(c,194,223))i=1,n=c-192;else if(X5(c,224,239))c===224&&(a=160),c===237&&(o=159),i=2,n=c-224;else if(X5(c,240,244))c===240&&(a=144),c===244&&(o=143),i=3,n=c-240;else return Afe(e);return n=n<<6*i,null}if(!X5(c,a,o))return n=i=r=0,a=128,o=191,s.prepend(c),Afe(e);if(a=128,o=191,r+=1,n+=c-128<<6*(i-r),r!==i)return null;var l=n;return n=i=r=0,l}}function gLt(t){var e=t.fatal;this.handler=function(n,r){if(r===AV)return AA;if(X5(r,0,127))return r;var i,a;X5(r,128,2047)?(i=1,a=192):X5(r,2048,65535)?(i=2,a=224):X5(r,65536,1114111)&&(i=3,a=240);for(var o=[(r>>6*i)+a];i>0;){var s=r>>6*(i-1);o.push(128|s&63),i-=1}return o}}Tfe.TextEncoder=SV;Tfe.TextDecoder=TV});var pGe=le(Ci=>{"use strict";var wLt=Ci&&Ci.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),vLt=Ci&&Ci.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),jh=Ci&&Ci.__decorate||function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ELt=Ci&&Ci.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&wLt(e,t,n);return vLt(e,t),e},lGe=Ci&&Ci.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.deserializeUnchecked=Ci.deserialize=Ci.serialize=Ci.BinaryReader=Ci.BinaryWriter=Ci.BorshError=Ci.baseDecode=Ci.baseEncode=void 0;var P2=lGe(dI()),uGe=lGe(Efe()),xLt=ELt(cGe()),ALt=typeof TextDecoder!="function"?xLt.TextDecoder:TextDecoder,_Lt=new ALt("utf-8",{fatal:!0});function TLt(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),uGe.default.encode(Buffer.from(t))}Ci.baseEncode=TLt;function SLt(t){return Buffer.from(uGe.default.decode(t))}Ci.baseDecode=SLt;var Sfe=1024,g0=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Ci.BorshError=g0;var IV=class{constructor(){this.buf=Buffer.alloc(Sfe),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Sfe)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new P2.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new P2.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new P2.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new P2.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Sfe)]),this.length+=e.length}writeString(e){this.maybeResize();let n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(let r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}};Ci.BinaryWriter=IV;function Gh(t,e,n){let r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(a){if(a instanceof RangeError){let o=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new g0("Reached the end of buffer when deserializing")}throw a}}}var Xc=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new P2.default(e,"le")}readU128(){let e=this.readBuffer(16);return new P2.default(e,"le")}readU256(){let e=this.readBuffer(32);return new P2.default(e,"le")}readU512(){let e=this.readBuffer(64);return new P2.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new g0(`Expected buffer length ${e} isn't within bounds`);let n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){let e=this.readU32(),n=this.readBuffer(e);try{return _Lt.decode(n)}catch(r){throw new g0(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}};jh([Gh],Xc.prototype,"readU8",null);jh([Gh],Xc.prototype,"readU16",null);jh([Gh],Xc.prototype,"readU32",null);jh([Gh],Xc.prototype,"readU64",null);jh([Gh],Xc.prototype,"readU128",null);jh([Gh],Xc.prototype,"readU256",null);jh([Gh],Xc.prototype,"readU512",null);jh([Gh],Xc.prototype,"readString",null);jh([Gh],Xc.prototype,"readFixedArray",null);jh([Gh],Xc.prototype,"readArray",null);Ci.BinaryReader=Xc;function fGe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function cv(t,e,n,r,i){try{if(typeof r=="string")i[`write${fGe(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new g0(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new g0(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let a=0;a<r[1];a++)cv(t,null,n[a],r[0],i)}else i.writeArray(n,a=>{cv(t,e,a,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),cv(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((a,o)=>{cv(t,e,o,r.key,i),cv(t,e,a,r.value,i)});break}default:throw new g0(`FieldType ${r} unrecognized`)}else dGe(t,n,i)}catch(a){throw a instanceof g0&&a.addToFieldPath(e),a}}function dGe(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}let r=t.get(e.constructor);if(!r)throw new g0(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,a])=>{cv(t,i,e[i],a,n)});else if(r.kind==="enum"){let i=e[r.field];for(let a=0;a<r.values.length;++a){let[o,s]=r.values[a];if(o===i){n.writeU8(a),cv(t,o,e[o],s,n);break}}}else throw new g0(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function CLt(t,e,n=IV){let r=new n;return dGe(t,e,r),r.toArray()}Ci.serialize=CLt;function lv(t,e,n,r){try{if(typeof n=="string")return r[`read${fGe(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){let i=[];for(let a=0;a<n[1];a++)i.push(lv(t,null,n[0],r));return i}else return r.readArray(()=>lv(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?lv(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map,a=r.readU32();for(let o=0;o<a;o++){let s=lv(t,e,n.key,r),c=lv(t,e,n.value,r);i.set(s,c)}return i}return Cfe(t,n,r)}catch(i){throw i instanceof g0&&i.addToFieldPath(e),i}}function Cfe(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);let r=t.get(e);if(!r)throw new g0(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){let i={};for(let[a,o]of t.get(e).fields)i[a]=lv(t,a,o,n);return new e(i)}if(r.kind==="enum"){let i=n.readU8();if(i>=r.values.length)throw new g0(`Enum index: ${i} is out of range`);let[a,o]=r.values[i],s=lv(t,a,o,n);return new e({[a]:s})}throw new g0(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function ILt(t,e,n,r=Xc){let i=new r(n),a=Cfe(t,e,i);if(i.offset<n.length)throw new g0(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return a}Ci.deserialize=ILt;function RLt(t,e,n,r=Xc){let i=new r(n);return Cfe(t,e,i)}Ci.deserializeUnchecked=RLt});var Nfe=le(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.s16=be.s8=be.nu64be=be.u48be=be.u40be=be.u32be=be.u24be=be.u16be=be.nu64=be.u48=be.u40=be.u32=be.u24=be.u16=be.u8=be.offset=be.greedy=be.Constant=be.UTF8=be.CString=be.Blob=be.Boolean=be.BitField=be.BitStructure=be.VariantLayout=be.Union=be.UnionLayoutDiscriminator=be.UnionDiscriminator=be.Structure=be.Sequence=be.DoubleBE=be.Double=be.FloatBE=be.Float=be.NearInt64BE=be.NearInt64=be.NearUInt64BE=be.NearUInt64=be.IntBE=be.Int=be.UIntBE=be.UInt=be.OffsetLayout=be.GreedyCount=be.ExternalLayout=be.bindConstructorLayout=be.nameWithProperty=be.Layout=be.uint8ArrayToBuffer=be.checkUint8Array=void 0;be.constant=be.utf8=be.cstr=be.blob=be.unionLayoutDiscriminator=be.union=be.seq=be.bits=be.struct=be.f64be=be.f64=be.f32be=be.f32=be.ns64be=be.s48be=be.s40be=be.s32be=be.s24be=be.s16be=be.ns64=be.s48=be.s40=be.s32=be.s24=void 0;var Rfe=rd();function SA(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}be.checkUint8Array=SA;function qr(t){return SA(t),Rfe.Buffer.from(t.buffer,t.byteOffset,t.length)}be.uint8ArrayToBuffer=qr;var ri=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};be.Layout=ri;function Ofe(t,e){return e.property?t+"["+e.property+"]":t}be.nameWithProperty=Ofe;function OLt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ri))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=(()=>new t),Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}be.bindConstructorLayout=OLt;var uc=class extends ri{isCount(){throw new Error("ExternalLayout is abstract")}};be.ExternalLayout=uc;var RV=class extends uc{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){SA(e);let r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};be.GreedyCount=RV;var KN=class extends uc{constructor(e,n=0,r){if(!(e instanceof ri))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof $l||this.layout instanceof tf}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};be.OffsetLayout=KN;var $l=class extends ri{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return qr(e).readUIntLE(n,this.span)}encode(e,n,r=0){return qr(n).writeUIntLE(e,r,this.span),this.span}};be.UInt=$l;var tf=class extends ri{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return qr(e).readUIntBE(n,this.span)}encode(e,n,r=0){return qr(n).writeUIntBE(e,r,this.span),this.span}};be.UIntBE=tf;var em=class extends ri{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return qr(e).readIntLE(n,this.span)}encode(e,n,r=0){return qr(n).writeIntLE(e,r,this.span),this.span}};be.Int=em;var k2=class extends ri{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return qr(e).readIntBE(n,this.span)}encode(e,n,r=0){return qr(n).writeIntBE(e,r,this.span),this.span}};be.IntBE=k2;var Ife=Math.pow(2,32);function $V(t){let e=Math.floor(t/Ife),n=t-e*Ife;return{hi32:e,lo32:n}}function qV(t,e){return t*Ife+e}var OV=class extends ri{constructor(e){super(8,e)}decode(e,n=0){let r=qr(e),i=r.readUInt32LE(n),a=r.readUInt32LE(n+4);return qV(a,i)}encode(e,n,r=0){let i=$V(e),a=qr(n);return a.writeUInt32LE(i.lo32,r),a.writeUInt32LE(i.hi32,r+4),8}};be.NearUInt64=OV;var NV=class extends ri{constructor(e){super(8,e)}decode(e,n=0){let r=qr(e),i=r.readUInt32BE(n),a=r.readUInt32BE(n+4);return qV(i,a)}encode(e,n,r=0){let i=$V(e),a=qr(n);return a.writeUInt32BE(i.hi32,r),a.writeUInt32BE(i.lo32,r+4),8}};be.NearUInt64BE=NV;var PV=class extends ri{constructor(e){super(8,e)}decode(e,n=0){let r=qr(e),i=r.readUInt32LE(n),a=r.readInt32LE(n+4);return qV(a,i)}encode(e,n,r=0){let i=$V(e),a=qr(n);return a.writeUInt32LE(i.lo32,r),a.writeInt32LE(i.hi32,r+4),8}};be.NearInt64=PV;var kV=class extends ri{constructor(e){super(8,e)}decode(e,n=0){let r=qr(e),i=r.readInt32BE(n),a=r.readUInt32BE(n+4);return qV(i,a)}encode(e,n,r=0){let i=$V(e),a=qr(n);return a.writeInt32BE(i.hi32,r),a.writeUInt32BE(i.lo32,r+4),8}};be.NearInt64BE=kV;var MV=class extends ri{constructor(e){super(4,e)}decode(e,n=0){return qr(e).readFloatLE(n)}encode(e,n,r=0){return qr(n).writeFloatLE(e,r),4}};be.Float=MV;var BV=class extends ri{constructor(e){super(4,e)}decode(e,n=0){return qr(e).readFloatBE(n)}encode(e,n,r=0){return qr(n).writeFloatBE(e,r),4}};be.FloatBE=BV;var DV=class extends ri{constructor(e){super(8,e)}decode(e,n=0){return qr(e).readDoubleLE(n)}encode(e,n,r=0){return qr(n).writeDoubleLE(e,r),8}};be.Double=DV;var LV=class extends ri{constructor(e){super(8,e)}decode(e,n=0){return qr(e).readDoubleBE(n)}encode(e,n,r=0){return qr(n).writeDoubleBE(e,r),8}};be.DoubleBE=LV;var UV=class extends ri{constructor(e,n,r){if(!(e instanceof ri))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof uc&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof uc)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof uc&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let a=0;for(;a<i;)r+=this.elementLayout.getSpan(e,n+r),++a}return r}decode(e,n=0){let r=[],i=0,a=this.count;for(a instanceof uc&&(a=a.decode(e,n));i<a;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){let i=this.elementLayout,a=e.reduce((o,s)=>o+i.encode(s,n,r+o),0);return this.count instanceof uc&&this.count.encode(e.length,n,r),a}};be.Sequence=UV;var FV=class extends ri{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((a,o)=>a&&o instanceof ri,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(let a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((a,o)=>a+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,a)=>{let o=a.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){SA(e);let r=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){let i=r,a=0,o=0;for(let s of this.fields){let c=s.span;if(o=0<c?c:0,s.property!==void 0){let l=e[s.property];l!==void 0&&(o=s.encode(l,n,r),0>c&&(c=s.getSpan(n,r)))}a=r,r+=c}return a+o-i}fromArray(e){let n=this.makeDestinationObject();for(let r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(let r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};be.Structure=FV;var $N=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};be.UnionDiscriminator=$N;var TA=class extends $N{constructor(e,n){if(!(e instanceof uc&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};be.UnionLayoutDiscriminator=TA;var qN=class extends ri{constructor(e,n,r){let i;if(e instanceof $l||e instanceof tf)i=new TA(new KN(e));else if(e instanceof uc&&e.isCount())i=new TA(e);else if(e instanceof $N)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ri))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let a=-1;n&&(a=n.span,0<=a&&(e instanceof $l||e instanceof tf)&&(a+=i.layout.span)),super(a,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof $l||e instanceof tf,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(s){return o(s)},this.configGetSourceVariant=function(s){o=s.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;let r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(let n in this.registry){let r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r,i=this.discriminator,a=i.decode(e,n),o=this.registry[a];if(o===void 0){let s=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=a,r[s.property]=s.decode(e,n+c)}else r=o.decode(e,n);return r}encode(e,n,r=0){let i=this.getSourceVariant(e);if(i===void 0){let a=this.discriminator,o=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=a.layout.span),a.encode(e[a.property],n,r),s+o.encode(e[o.property],n,r+s)}return i.encode(e,n,r)}addVariant(e,n,r){let i=new HV(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};be.Union=qN;var HV=class extends ri{constructor(e,n,r,i){if(!(e instanceof qN))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof ri))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=r?r.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let a=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),a+=this.layout.getSpan(n,r+i),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};be.VariantLayout=HV;function _A(t){return 0>t&&(t+=4294967296),t}var WN=class extends ri{constructor(e,n,r){if(!(e instanceof $l||e instanceof tf))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(a){return i=_A(a),this},this._packedGetValue=function(){return i}}decode(e,n=0){let r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(let a of this.fields)a.property!==void 0&&(r[a.property]=a.decode(e));return r}encode(e,n,r=0){let i=this.word.decode(n,r);this._packedSetValue(i);for(let a of this.fields)if(a.property!==void 0){let o=e[a.property];o!==void 0&&a.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){let r=new YN(this,e,n);return this.fields.push(r),r}addBoolean(e){let n=new zV(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let n of this.fields)if(n.property===e)return n}};be.BitStructure=WN;var YN=class{constructor(e,n,r){if(!(e instanceof WN))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");let i=8*e.span,a=e.fields.reduce((o,s)=>o+s.bits,0);if(n+a>i)throw new Error("bits too long for span remainder ("+(i-a)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=a,this.container.msb&&(this.start=i-a-n),this.wordMask=_A(this.valueMask<<this.start),this.property=r}decode(e,n){let r=this.container._packedGetValue();return _A(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==_A(e&this.valueMask))throw new TypeError(Ofe("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let n=this.container._packedGetValue(),r=_A(e<<this.start);this.container._packedSetValue(_A(n&~this.wordMask)|r)}};be.BitField=YN;var zV=class extends YN{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};be.Boolean=zV;var jV=class extends ri{constructor(e,n){if(!(e instanceof uc&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof uc||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),qr(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof uc&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Ofe("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");let a=qr(e);return qr(n).write(a.toString("hex"),r,i,"hex"),this.length instanceof uc&&this.length.encode(i,n,r),i}};be.Blob=jV;var GV=class extends ri{constructor(e){super(-1,e)}getSpan(e,n=0){SA(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){let r=this.getSpan(e,n);return qr(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));let i=Rfe.Buffer.from(e,"utf8"),a=i.length;if(r+a>n.length)throw new RangeError("encoding overruns Buffer");let o=qr(n);return i.copy(o,r),o[r+a]=0,a+1}};be.CString=GV;var VV=class extends ri{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return SA(e),e.length-n}decode(e,n=0){let r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return qr(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));let i=Rfe.Buffer.from(e,"utf8"),a=i.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(r+a>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(qr(n),r),a}};be.UTF8=VV;var KV=class extends ri{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};be.Constant=KV;be.greedy=((t,e)=>new RV(t,e));be.offset=((t,e,n)=>new KN(t,e,n));be.u8=(t=>new $l(1,t));be.u16=(t=>new $l(2,t));be.u24=(t=>new $l(3,t));be.u32=(t=>new $l(4,t));be.u40=(t=>new $l(5,t));be.u48=(t=>new $l(6,t));be.nu64=(t=>new OV(t));be.u16be=(t=>new tf(2,t));be.u24be=(t=>new tf(3,t));be.u32be=(t=>new tf(4,t));be.u40be=(t=>new tf(5,t));be.u48be=(t=>new tf(6,t));be.nu64be=(t=>new NV(t));be.s8=(t=>new em(1,t));be.s16=(t=>new em(2,t));be.s24=(t=>new em(3,t));be.s32=(t=>new em(4,t));be.s40=(t=>new em(5,t));be.s48=(t=>new em(6,t));be.ns64=(t=>new PV(t));be.s16be=(t=>new k2(2,t));be.s24be=(t=>new k2(3,t));be.s32be=(t=>new k2(4,t));be.s40be=(t=>new k2(5,t));be.s48be=(t=>new k2(6,t));be.ns64be=(t=>new kV(t));be.f32=(t=>new MV(t));be.f32be=(t=>new BV(t));be.f64=(t=>new DV(t));be.f64be=(t=>new LV(t));be.struct=((t,e,n)=>new FV(t,e,n));be.bits=((t,e,n)=>new WN(t,e,n));be.seq=((t,e,n)=>new UV(t,e,n));be.union=((t,e,n)=>new qN(t,e,n));be.unionLayoutDiscriminator=((t,e)=>new TA(t,e));be.blob=((t,e)=>new jV(t,e));be.cstr=(t=>new GV(t));be.utf8=((t,e)=>new VV(t,e));be.constant=((t,e)=>new KV(t,e))});function vGe(t){return Array.isArray(t)?"%5B"+t.map(vGe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Ozt([t,e]){return`${t}=${vGe(e)}`}function Nzt(t){let e=Object.entries(t).map(Ozt).join("&");return btoa(e)}function Pzt(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Nzt(e)}'`),`${n}\``}}var NLt,PLt,kLt,MLt,BLt,DLt,LLt,ULt,FLt,HLt,zLt,jLt,GLt,VLt,KLt,$Lt,qLt,WLt,YLt,JLt,QLt,ZLt,XLt,eUt,tUt,nUt,rUt,iUt,aUt,oUt,sUt,cUt,lUt,uUt,fUt,dUt,pUt,hUt,mUt,yUt,bUt,gUt,wUt,vUt,EUt,xUt,AUt,_Ut,TUt,SUt,CUt,IUt,RUt,OUt,NUt,PUt,kUt,MUt,BUt,DUt,LUt,UUt,FUt,HUt,zUt,jUt,GUt,VUt,KUt,$Ut,qUt,WUt,YUt,JUt,QUt,ZUt,XUt,eFt,tFt,nFt,rFt,iFt,aFt,oFt,sFt,cFt,lFt,uFt,fFt,dFt,pFt,hFt,mFt,yFt,bFt,gFt,wFt,vFt,EFt,xFt,AFt,_Ft,TFt,SFt,CFt,IFt,RFt,OFt,NFt,PFt,kFt,MFt,BFt,DFt,LFt,UFt,FFt,HFt,zFt,jFt,GFt,VFt,KFt,$Ft,qFt,WFt,YFt,JFt,QFt,ZFt,XFt,eHt,tHt,nHt,rHt,iHt,aHt,oHt,sHt,cHt,lHt,uHt,fHt,dHt,pHt,hHt,mHt,yHt,bHt,gHt,wHt,vHt,EHt,xHt,AHt,_Ht,THt,SHt,CHt,IHt,RHt,OHt,NHt,PHt,kHt,MHt,BHt,DHt,LHt,UHt,FHt,HHt,zHt,jHt,GHt,VHt,KHt,$Ht,qHt,WHt,YHt,JHt,QHt,ZHt,XHt,ezt,tzt,nzt,rzt,izt,Pfe,kfe,hGe,mGe,Mfe,Bfe,Dfe,azt,ozt,szt,czt,Lfe,lzt,yGe,bGe,uzt,fzt,dzt,pzt,hzt,gGe,wGe,mzt,yzt,bzt,gzt,wzt,vzt,Ezt,xzt,Azt,_zt,Tzt,Szt,Czt,Izt,Rzt,ZJn,M2,Ufe=B(()=>{NLt=1,PLt=2,kLt=3,MLt=4,BLt=5,DLt=6,LLt=7,ULt=8,FLt=9,HLt=10,zLt=-32700,jLt=-32603,GLt=-32602,VLt=-32601,KLt=-32600,$Lt=-32016,qLt=-32015,WLt=-32014,YLt=-32013,JLt=-32012,QLt=-32011,ZLt=-32010,XLt=-32009,eUt=-32008,tUt=-32007,nUt=-32006,rUt=-32005,iUt=-32004,aUt=-32003,oUt=-32002,sUt=-32001,cUt=28e5,lUt=2800001,uUt=2800002,fUt=2800003,dUt=2800004,pUt=2800005,hUt=2800006,mUt=2800007,yUt=2800008,bUt=2800009,gUt=2800010,wUt=2800011,vUt=323e4,EUt=32300001,xUt=3230002,AUt=3230003,_Ut=3230004,TUt=361e4,SUt=3610001,CUt=3610002,IUt=3610003,RUt=3610004,OUt=3610005,NUt=3610006,PUt=3610007,kUt=3611e3,MUt=3704e3,BUt=3704001,DUt=3704002,LUt=3704003,UUt=3704004,FUt=4128e3,HUt=4128001,zUt=4128002,jUt=4615e3,GUt=4615001,VUt=4615002,KUt=4615003,$Ut=4615004,qUt=4615005,WUt=4615006,YUt=4615007,JUt=4615008,QUt=4615009,ZUt=4615010,XUt=4615011,eFt=4615012,tFt=4615013,nFt=4615014,rFt=4615015,iFt=4615016,aFt=4615017,oFt=4615018,sFt=4615019,cFt=4615020,lFt=4615021,uFt=4615022,fFt=4615023,dFt=4615024,pFt=4615025,hFt=4615026,mFt=4615027,yFt=4615028,bFt=4615029,gFt=4615030,wFt=4615031,vFt=4615032,EFt=4615033,xFt=4615034,AFt=4615035,_Ft=4615036,TFt=4615037,SFt=4615038,CFt=4615039,IFt=4615040,RFt=4615041,OFt=4615042,NFt=4615043,PFt=4615044,kFt=4615045,MFt=4615046,BFt=4615047,DFt=4615048,LFt=4615049,UFt=4615050,FFt=4615051,HFt=4615052,zFt=4615053,jFt=4615054,GFt=5508e3,VFt=5508001,KFt=5508002,$Ft=5508003,qFt=5508004,WFt=5508005,YFt=5508006,JFt=5508007,QFt=5508008,ZFt=5508009,XFt=5508010,eHt=5508011,tHt=5663e3,nHt=5663001,rHt=5663002,iHt=5663003,aHt=5663004,oHt=5663005,sHt=5663006,cHt=5663007,lHt=5663008,uHt=5663009,fHt=5663010,dHt=5663011,pHt=5663012,hHt=5663013,mHt=5663014,yHt=5663015,bHt=5663016,gHt=5663017,wHt=5663018,vHt=5663019,EHt=5663020,xHt=705e4,AHt=7050001,_Ht=7050002,THt=7050003,SHt=7050004,CHt=7050005,IHt=7050006,RHt=7050007,OHt=7050008,NHt=7050009,PHt=7050010,kHt=7050011,MHt=7050012,BHt=7050013,DHt=7050014,LHt=7050015,UHt=7050016,FHt=7050017,HHt=7050018,zHt=7050019,jHt=7050020,GHt=7050021,VHt=7050022,KHt=7050023,$Ht=7050024,qHt=7050025,WHt=7050026,YHt=7050027,JHt=7050028,QHt=7050029,ZHt=7050030,XHt=7050031,ezt=7050032,tzt=7050033,nzt=7050034,rzt=7050035,izt=7050036,Pfe=8078e3,kfe=8078001,hGe=8078002,mGe=8078003,Mfe=8078004,Bfe=8078005,Dfe=8078006,azt=8078007,ozt=8078008,szt=8078009,czt=8078010,Lfe=8078011,lzt=8078012,yGe=8078013,bGe=8078014,uzt=8078015,fzt=8078016,dzt=8078017,pzt=8078018,hzt=8078019,gGe=8078020,wGe=8078021,mzt=8078022,yzt=81e5,bzt=8100001,gzt=8100002,wzt=8100003,vzt=819e4,Ezt=8190001,xzt=8190002,Azt=8190003,_zt=8190004,Tzt=99e5,Szt=9900001,Czt=9900002,Izt=9900003,Rzt=9900004;ZJn={[vUt]:"Account not found at address: $address",[_Ut]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[AUt]:"Expected decoded account at address: $address",[xUt]:"Failed to decode account data at address: $address",[EUt]:"Accounts not found at addresses: $addresses",[bUt]:"Unable to find a viable program address bump seed.",[uUt]:"$putativeAddress is not a base58-encoded address.",[cUt]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[fUt]:"The `CryptoKey` must be an `Ed25519` public key.",[wUt]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[yUt]:"Invalid seeds; point must fall off the Ed25519 curve.",[dUt]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[hUt]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[mUt]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[pUt]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[gUt]:"Program address cannot end with PDA marker.",[lUt]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[MLt]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[NLt]:"The network has progressed past the last block for which this transaction could have been committed.",[Pfe]:"Codec [$codecDescription] cannot decode empty byte arrays.",[mzt]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[gGe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[Bfe]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Dfe]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Mfe]:"Encoder and decoder must either both be fixed-size or variable-size.",[ozt]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[hGe]:"Expected a fixed-size codec, got a variable-size one.",[yGe]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[mGe]:"Expected a variable-size codec, got a fixed-size one.",[hzt]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[kfe]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[pzt]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[szt]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[czt]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[uzt]:"Invalid literal union variant. Expected one of [$variants], got $value.",[azt]:"Expected [$codecDescription] to have $expected items, got $actual.",[lzt]:"Invalid value $value for base $base with alphabet $alphabet.",[fzt]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[Lfe]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[bGe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[wGe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[dzt]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[kUt]:"No random values implementation could be found.",[QUt]:"instruction requires an uninitialized account",[fFt]:"instruction tries to borrow reference for an account which is already borrowed",[dFt]:"instruction left account with an outstanding borrowed reference",[lFt]:"program other than the account's owner changed the size of the account data",[qUt]:"account data too small for instruction",[uFt]:"instruction expected an executable account",[MFt]:"An account does not have enough lamports to be rent-exempt",[DFt]:"Program arithmetic overflowed",[kFt]:"Failed to serialize or deserialize account data: $encodedData",[jFt]:"Builtin programs must consume compute units",[vFt]:"Cross-program invocation call depth too deep",[SFt]:"Computational budget exceeded",[hFt]:"custom program error: #$code",[aFt]:"instruction contains duplicate accounts",[pFt]:"instruction modifications of multiply-passed account differ",[gFt]:"executable accounts must be rent exempt",[yFt]:"instruction changed executable accounts data",[bFt]:"instruction changed the balance of an executable account",[oFt]:"instruction changed executable bit of an account",[nFt]:"instruction modified data of an account it does not own",[tFt]:"instruction spent from the balance of an account it does not own",[GUt]:"generic instruction error",[UFt]:"Provided owner is not allowed",[NFt]:"Account is immutable",[PFt]:"Incorrect authority provided",[YUt]:"incorrect program id for instruction",[WUt]:"insufficient funds for instruction",[$Ut]:"invalid account data for instruction",[BFt]:"Invalid account owner",[VUt]:"invalid program argument",[mFt]:"program returned invalid error code",[KUt]:"invalid instruction data",[TFt]:"Failed to reallocate account data",[_Ft]:"Provided seeds do not result in a valid address",[FFt]:"Accounts data allocations exceeded the maximum allowed per transaction",[HFt]:"Max accounts exceeded",[zFt]:"Max instruction trace length exceeded",[AFt]:"Length of the seed is too long for address generation",[EFt]:"An account required by the instruction is missing",[JUt]:"missing required signature for instruction",[eFt]:"instruction illegally modified the program id of an account",[cFt]:"insufficient account keys for instruction",[CFt]:"Cross-program invocation with unauthorized signer or writable account",[IFt]:"Failed to create program execution environment",[OFt]:"Program failed to compile",[RFt]:"Program failed to complete",[iFt]:"instruction modified data of a read-only account",[rFt]:"instruction changed the balance of a read-only account",[xFt]:"Cross-program invocation reentrancy not allowed for this instruction",[sFt]:"instruction modified rent epoch of an account",[XUt]:"sum of account balances before and after instruction do not match",[ZUt]:"instruction requires an initialized account",[jUt]:"",[wFt]:"Unsupported program id",[LFt]:"Unsupported sysvar",[FUt]:"The instruction does not have any accounts.",[HUt]:"The instruction does not have any data.",[zUt]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[BLt]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[PLt]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Czt]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Rzt]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[Szt]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Tzt]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Izt]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[jLt]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[GLt]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[KLt]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[VLt]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[zLt]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[JLt]:"$__serverMessage",[sUt]:"$__serverMessage",[iUt]:"$__serverMessage",[WLt]:"$__serverMessage",[ZLt]:"$__serverMessage",[XLt]:"$__serverMessage",[$Lt]:"Minimum context slot has not been reached",[rUt]:"Node is unhealthy; behind by $numSlotsBehind slots",[eUt]:"No snapshot",[oUt]:"Transaction simulation failed",[tUt]:"$__serverMessage",[QLt]:"Transaction history is not available from this node",[nUt]:"$__serverMessage",[YLt]:"Transaction signature length mismatch",[aUt]:"Transaction signature verification failure",[qLt]:"$__serverMessage",[MUt]:"Key pair bytes must be of length 64, got $byteLength.",[BUt]:"Expected private key bytes with length 32. Actual length: $actualLength.",[DUt]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[UUt]:"The provided private key does not match the provided public key.",[LUt]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[DLt]:"Lamports value must be in the range [0, 2e64-1]",[LLt]:"`$value` cannot be parsed as a `BigInt`",[HLt]:"$message",[ULt]:"`$value` cannot be parsed as a `Number`",[kLt]:"No nonce account could be found at address `$nonceAccountAddress`",[vzt]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[xzt]:"WebSocket was closed before payload could be added to the send buffer",[Azt]:"WebSocket connection closed",[_zt]:"WebSocket failed to connect",[Ezt]:"Failed to obtain a subscription id from the server",[wzt]:"Could not find an API plan for RPC method: `$method`",[yzt]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[gzt]:"HTTP error ($statusCode): $message",[bzt]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[GFt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[VFt]:"The provided value does not implement the `KeyPairSigner` interface",[$Ft]:"The provided value does not implement the `MessageModifyingSigner` interface",[qFt]:"The provided value does not implement the `MessagePartialSigner` interface",[KFt]:"The provided value does not implement any of the `MessageSigner` interfaces",[YFt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[JFt]:"The provided value does not implement the `TransactionPartialSigner` interface",[QFt]:"The provided value does not implement the `TransactionSendingSigner` interface",[WFt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[ZFt]:"More than one `TransactionSendingSigner` was identified.",[XFt]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[eHt]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[PUt]:"Cannot export a non-extractable key.",[SUt]:"No digest implementation could be found.",[TUt]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[CUt]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[IUt]:"No signature verification implementation could be found.",[RUt]:"No key generation implementation could be found.",[OUt]:"No signing implementation could be found.",[NUt]:"No key export implementation could be found.",[FLt]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[UHt]:"Transaction processing left an account with an outstanding borrowed reference",[AHt]:"Account in use",[_Ht]:"Account loaded twice",[THt]:"Attempt to debit an account but found no record of a prior credit.",[KHt]:"Transaction loads an address table account that doesn't exist",[RHt]:"This transaction has already been processed",[OHt]:"Blockhash not found",[NHt]:"Loader call chain is too deep",[LHt]:"Transactions are currently disabled due to cluster maintenance",[ZHt]:"Transaction contains a duplicate instruction ($index) that is not allowed",[CHt]:"Insufficient funds for fee",[XHt]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[IHt]:"This account may not be used to pay transaction fees",[kHt]:"Transaction contains an invalid account reference",[qHt]:"Transaction loads an address table account with invalid data",[WHt]:"Transaction address table lookup uses an invalid index",[$Ht]:"Transaction loads an address table account with an invalid owner",[tzt]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[BHt]:"This program may not be used for executing instructions",[YHt]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[zHt]:"Transaction loads a writable account that cannot be written",[ezt]:"Transaction exceeded max loaded accounts data size cap",[PHt]:"Transaction requires a fee but has no signature present",[SHt]:"Attempt to load a program that does not exist",[rzt]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[nzt]:"ResanitizationNeeded",[DHt]:"Transaction failed to sanitize accounts offsets correctly",[MHt]:"Transaction did not pass signature verification",[VHt]:"Transaction locked too many accounts",[izt]:"Sum of account balances before and after transaction do not match",[xHt]:"The transaction failed with the error `$errorName`",[HHt]:"Transaction version is unsupported",[GHt]:"Transaction would exceed account data limit within the block",[QHt]:"Transaction would exceed total account data limit",[jHt]:"Transaction would exceed max account limit within the block",[FHt]:"Transaction would exceed max Block Cost Limit",[JHt]:"Transaction would exceed max Vote Cost Limit",[yHt]:"Attempted to sign a transaction with an address that is not a signer for it",[fHt]:"Transaction is missing an address at index: $index.",[bHt]:"Transaction has no expected signers therefore it cannot be encoded",[EHt]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[rHt]:"Transaction does not have a blockhash lifetime",[iHt]:"Transaction is not a durable nonce transaction",[oHt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[sHt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[lHt]:"No fee payer set in CompiledTransaction",[cHt]:"Could not find program address at index $index",[wHt]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[vHt]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[dHt]:"Transaction is missing a fee payer.",[pHt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[mHt]:"Transaction first instruction is not advance nonce account instruction.",[hHt]:"Transaction with no instructions cannot be durable nonce transaction.",[tHt]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[nHt]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[gHt]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[uHt]:"Transaction is missing signatures for addresses: $addresses.",[aHt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"};M2=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;if(e){let{cause:a,...o}=e;a&&(r={cause:a}),Object.keys(o).length>0&&(n=o)}let i=Pzt(t,n);super(i,r),this.context={__code:t,...n},this.name="SolanaError"}}});function kzt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function EGe(t){return Object.freeze({...t,encode:e=>{let n=new Uint8Array(kzt(e,t));return t.write(e,n,0),n}})}function xGe(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function CA(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function AGe(t,e){if(CA(t)!==CA(e))throw new M2(Mfe);if(CA(t)&&CA(e)&&t.fixedSize!==e.fixedSize)throw new M2(Bfe,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!CA(t)&&!CA(e)&&t.maxSize!==e.maxSize)throw new M2(Dfe,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function _Ge(t,e,n=0){if(e.length-n<=0)throw new M2(Pfe,{codecDescription:t})}function TGe(t,e,n,r=0){let i=n.length-r;if(i<e)throw new M2(kfe,{bytesLength:i,codecDescription:t,expected:e})}var SGe=B(()=>{Ufe()});function Mzt(t,e,n,r){if(r<e||r>n)throw new M2(Lfe,{codecDescription:t,max:n,min:e,value:r})}function CGe(t){return t?.endian!==1}function Bzt(t){return EGe({fixedSize:t.size,write(e,n,r){t.range&&Mzt(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,CGe(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function Dzt(t){return xGe({fixedSize:t.size,read(e,n=0){_Ge(t.name,e,n),TGe(t.name,t.size,e,n);let r=new DataView(Lzt(e,n,t.size));return[t.get(r,CGe(t.config)),n+t.size]}})}function Lzt(t,e,n){let r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var Ffe,Uzt,IGe,RGe=B(()=>{Ufe();SGe();Ffe=(t={})=>Bzt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),Uzt=(t={})=>Dzt({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),IGe=(t={})=>AGe(Ffe(t),Uzt(t))});function Fzt(t){return JN(t)&&typeof t[Symbol.iterator]=="function"}function JN(t){return typeof t=="object"&&t!=null}function WV(t){return JN(t)&&!Array.isArray(t)}function J1(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Hzt(t){let{done:e,value:n}=t.next();return e?void 0:n}function zzt(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:a}=e,{type:o}=n,{refinement:s,message:c=`Expected a value of type \`${o}\`${s?` with refinement \`${s}\``:""}, but received: \`${J1(r)}\``}=t;return{value:r,type:o,refinement:s,key:i[i.length-1],path:i,branch:a,...t,message:c}}function*OGe(t,e,n,r){Fzt(t)||(t=[t]);for(let i of t){let a=zzt(i,e,n,r);a&&(yield a)}}function*zfe(t,e,n={}){let{path:r=[],branch:i=[t],coerce:a=!1,mask:o=!1}=n,s={path:r,branch:i,mask:o};a&&(t=e.coercer(t,s));let c="valid";for(let l of e.validator(t,s))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,f]of e.entries(t,s)){let d=zfe(u,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:a,mask:o,message:n.message});for(let p of d)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):a&&(u=p[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):JN(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(let l of e.refiner(t,s))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}function NGe(t,e,n){let r=QN(t,e,{message:n});if(r[0])throw r[0]}function IA(t,e,n){let r=QN(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function jzt(t,e,n){let r=QN(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function PGe(t,e){return!QN(t,e)[0]}function QN(t,e,n={}){let r=zfe(t,e,n),i=Hzt(r);return i[0]?[new Hfe(i[0],function*(){for(let o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function uv(t,e){return new Sd({type:t,schema:null,validator:e})}function kGe(){return uv("any",()=>!0)}function Nt(t){return new Sd({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${J1(e)}`}})}function Q1(){return uv("boolean",t=>typeof t=="boolean")}function YV(t){return uv("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${J1(e)}`)}function Ta(t){let e=J1(t),n=typeof t;return new Sd({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${J1(r)}`}})}function Gzt(){return uv("never",()=>!1)}function Pt(t){return new Sd({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function me(){return uv("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${J1(t)}`)}function on(t){return new Sd({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function jfe(t,e){return new Sd({type:"record",schema:null,*entries(n){if(JN(n))for(let r in n){let i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return WV(n)||`Expected an object, but received: ${J1(n)}`},coercer(n){return WV(n)?{...n}:n}})}function ut(){return uv("string",t=>typeof t=="string"||`Expected a string, but received: ${J1(t)}`)}function JV(t){let e=Gzt();return new Sd({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){let r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${J1(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Ke(t){let e=Object.keys(t);return new Sd({type:"type",schema:t,*entries(n){if(JN(n))for(let r of e)yield[r,n[r],t[r]]},validator(n){return WV(n)||`Expected an object, but received: ${J1(n)}`},coercer(n){return WV(n)?{...n}:n}})}function fc(t){let e=t.map(n=>n.type).join(" | ");return new Sd({type:"union",schema:null,coercer(n,r){for(let i of t){let[a,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!a)return o}return n},validator(n,r){let i=[];for(let a of t){let[...o]=zfe(n,a,r),[s]=o;if(s[0])for(let[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${J1(n)}`,...i]}})}function fv(){return uv("unknown",()=>!0)}function RA(t,e,n){return new Sd({...t,coercer:(r,i)=>PGe(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Hfe,Sd,MGe=B(()=>{Hfe=class extends TypeError{constructor(e,n){let r,{message:i,explanation:a,...o}=e,{path:s}=e,c=s.length===0?i:`At path: ${s.join(".")} -- ${i}`;super(a??c),a!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};Sd=class{constructor(e){let{type:n,schema:r,validator:i,refiner:a,coercer:o=c=>c,entries:s=function*(){}}=e;this.type=n,this.schema=r,this.entries=s,this.coercer=o,i?this.validator=(c,l)=>{let u=i(c,l);return OGe(u,l,this,c)}:this.validator=()=>[],a?this.refiner=(c,l)=>{let u=a(c,l);return OGe(u,l,this,c)}:this.refiner=()=>[]}assert(e,n){return NGe(e,this,n)}create(e,n){return IA(e,this,n)}is(e){return PGe(e,this)}mask(e,n){return jzt(e,this,n)}validate(e,n={}){return QN(e,this,n)}}});var DGe=le((sQn,BGe)=>{"use strict";var Vzt=(Nj(),u3(Mce)).v4,Kzt=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};let i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let a={method:t};if(i===2&&(a.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");a.params=e}if(typeof n>"u"){let o=typeof r.generator=="function"?r.generator:function(){return Vzt()};a.id=o(a,r)}else i===2&&n===null?r.notificationIdNull&&(a.id=null):a.id=n;return a};BGe.exports=Kzt});var UGe=le((cQn,LGe)=>{"use strict";var $zt=(Nj(),u3(Mce)).v4,qzt=DGe(),ZN=function(t,e){if(!(this instanceof ZN))return new ZN(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return $zt()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};LGe.exports=ZN;ZN.prototype.request=function(t,e,n,r){let i=this,a=null,o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,a=t;else{typeof n=="function"&&(r=n,n=void 0);let l=typeof r=="function";try{a=qzt(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l)return r(u);throw u}if(!l)return a}let c;try{c=JSON.stringify(a,this.options.replacer)}catch(l){return r(l)}return this.callServer(c,function(l,u){i._parseResponse(l,u,r)}),a};ZN.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){let i=function(o){return typeof o.error<"u"},a=function(o){return!i(o)};return n(null,r.filter(i),r.filter(a))}else return n(null,r.error,r.result);n(null,r)}});var HGe=le((lQn,Gfe)=>{"use strict";var Wzt=Object.prototype.hasOwnProperty,el="~";function XN(){}Object.create&&(XN.prototype=Object.create(null),new XN().__proto__||(el=!1));function Yzt(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function FGe(t,e,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var a=new Yzt(n,r||t,i),o=el?el+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],a]:t._events[o].push(a):(t._events[o]=a,t._eventsCount++),t}function QV(t,e){--t._eventsCount===0?t._events=new XN:delete t._events[e]}function dc(){this._events=new XN,this._eventsCount=0}dc.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)Wzt.call(n,r)&&e.push(el?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};dc.prototype.listeners=function(e){var n=el?el+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o};dc.prototype.listenerCount=function(e){var n=el?el+e:e,r=this._events[n];return r?r.fn?1:r.length:0};dc.prototype.emit=function(e,n,r,i,a,o){var s=el?el+e:e;if(!this._events[s])return!1;var c=this._events[s],l=arguments.length,u,f;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,i),!0;case 5:return c.fn.call(c.context,n,r,i,a),!0;case 6:return c.fn.call(c.context,n,r,i,a,o),!0}for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c.fn.apply(c.context,u)}else{var d=c.length,p;for(f=0;f<d;f++)switch(c[f].once&&this.removeListener(e,c[f].fn,void 0,!0),l){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,n);break;case 3:c[f].fn.call(c[f].context,n,r);break;case 4:c[f].fn.call(c[f].context,n,r,i);break;default:if(!u)for(p=1,u=new Array(l-1);p<l;p++)u[p-1]=arguments[p];c[f].fn.apply(c[f].context,u)}}return!0};dc.prototype.on=function(e,n,r){return FGe(this,e,n,r,!1)};dc.prototype.once=function(e,n,r){return FGe(this,e,n,r,!0)};dc.prototype.removeListener=function(e,n,r,i){var a=el?el+e:e;if(!this._events[a])return this;if(!n)return QV(this,a),this;var o=this._events[a];if(o.fn)o.fn===n&&(!i||o.once)&&(!r||o.context===r)&&QV(this,a);else{for(var s=0,c=[],l=o.length;s<l;s++)(o[s].fn!==n||i&&!o[s].once||r&&o[s].context!==r)&&c.push(o[s]);c.length?this._events[a]=c.length===1?c[0]:c:QV(this,a)}return this};dc.prototype.removeAllListeners=function(e){var n;return e?(n=el?el+e:e,this._events[n]&&QV(this,n)):(this._events=new XN,this._eventsCount=0),this};dc.prototype.off=dc.prototype.removeListener;dc.prototype.addListener=dc.prototype.on;dc.prefixed=el;dc.EventEmitter=dc;typeof Gfe<"u"&&(Gfe.exports=dc)});var Vfe,Kfe=B(()=>{Vfe=fe(HGe(),1)});var Jzt,zGe=B(()=>{Jzt=fe(rd(),1);Kfe()});function Qzt(t,e,n){let[[r,i],[a,o]]=e,s=jGe(o*t,n),c=jGe(-i*t,n),l=t-s*r-c*a,u=-s*i-c*o,f=l<nm,d=u<nm;f&&(l=-l),d&&(u=-u);let p=W5(Math.ceil(HN(n)/2))+NA;if(l<nm||l>=p||u<nm||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}function qfe(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function $fe(t,e){let n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return q5(n.lowS,"lowS"),q5(n.prehash,"prehash"),n.format!==void 0&&qfe(n.format),n}function OA(t,e){let{BYTES:n}=t,r;if(typeof e=="bigint")r=e;else{let i=bi("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Xzt(t,e={}){let n=wV("weierstrass",t,e),{Fp:r,Fn:i}=n,a=n.CURVE,{h:o,n:s}=a;R2(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!r.is0(a.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=KGe(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(I,S,y){let{x:b,y:_}=S.toAffine(),A=r.toBytes(b);if(q5(y,"isCompressed"),y){u();let T=!r.isOdd(_);return rr(VGe(T),A)}else return rr(Uint8Array.of(4),A,r.toBytes(_))}function d(I){Xu(I,void 0,"Point");let{publicKey:S,publicKeyUncompressed:y}=l,b=I.length,_=I[0],A=I.subarray(1);if(b===S&&(_===2||_===3)){let T=r.fromBytes(A);if(!r.isValid(T))throw new Error("bad point: is not on curve, wrong x");let E=m(T),k;try{k=r.sqrt(E)}catch(U){let j=U instanceof Error?": "+U.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}u();let L=r.isOdd(k);return(_&1)===1!==L&&(k=r.neg(k)),{x:T,y:k}}else if(b===y&&_===4){let T=r.BYTES,E=r.fromBytes(A.subarray(0,T)),k=r.fromBytes(A.subarray(T,T*2));if(!w(E,k))throw new Error("bad point: is not on curve");return{x:E,y:k}}else throw new Error(`bad point: got length ${b}, expected compressed=${S} or uncompressed=${y}`)}let p=e.toBytes||f,h=e.fromBytes||d;function m(I){let S=r.sqr(I),y=r.mul(S,I);return r.add(r.add(y,r.mul(I,a.a)),a.b)}function w(I,S){let y=r.sqr(S),b=m(I);return r.eql(y,b)}if(!w(a.Gx,a.Gy))throw new Error("bad curve params: generator point");let g=r.mul(r.pow(a.a,ZV),Zzt),x=r.mul(r.sqr(a.b),BigInt(27));if(r.is0(r.add(g,x)))throw new Error("bad curve params: a or b");function C(I,S,y=!1){if(!r.isValid(S)||y&&r.is0(S))throw new Error(`bad point coordinate ${I}`);return S}function P(I){if(!(I instanceof M))throw new Error("ProjectivePoint expected")}function D(I){if(!c||!c.basises)throw new Error("no endo");return Qzt(I,c.basises,i.ORDER)}let F=iv((I,S)=>{let{X:y,Y:b,Z:_}=I;if(r.eql(_,r.ONE))return{x:y,y:b};let A=I.is0();S==null&&(S=A?r.ONE:r.inv(_));let T=r.mul(y,S),E=r.mul(b,S),k=r.mul(_,S);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:T,y:E}}),H=iv(I=>{if(I.is0()){if(e.allowInfinityPoint&&!r.is0(I.Y))return;throw new Error("bad point: ZERO")}let{x:S,y}=I.toAffine();if(!r.isValid(S)||!r.isValid(y))throw new Error("bad point: x or y not field elements");if(!w(S,y))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function O(I,S,y,b,_){return y=new M(r.mul(y.X,I),y.Y,y.Z),S=jN(b,S),y=jN(_,y),S.add(y)}class M{constructor(S,y,b){this.X=C("x",S),this.Y=C("y",y,!0),this.Z=C("z",b),Object.freeze(this)}static CURVE(){return a}static fromAffine(S){let{x:y,y:b}=S||{};if(!S||!r.isValid(y)||!r.isValid(b))throw new Error("invalid affine point");if(S instanceof M)throw new Error("projective point not allowed");return r.is0(y)&&r.is0(b)?M.ZERO:new M(y,b,r.ONE)}static fromBytes(S){let y=M.fromAffine(h(Xu(S,void 0,"point")));return y.assertValidity(),y}static fromHex(S){return M.fromBytes(bi("pointHex",S))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,y=!0){return v.createCache(this,S),y||this.multiply(ZV),this}assertValidity(){H(this)}hasEvenY(){let{y:S}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(S)}equals(S){P(S);let{X:y,Y:b,Z:_}=this,{X:A,Y:T,Z:E}=S,k=r.eql(r.mul(y,E),r.mul(A,_)),L=r.eql(r.mul(b,E),r.mul(T,_));return k&&L}negate(){return new M(this.X,r.neg(this.Y),this.Z)}double(){let{a:S,b:y}=a,b=r.mul(y,ZV),{X:_,Y:A,Z:T}=this,E=r.ZERO,k=r.ZERO,L=r.ZERO,R=r.mul(_,_),U=r.mul(A,A),j=r.mul(T,T),z=r.mul(_,A);return z=r.add(z,z),L=r.mul(_,T),L=r.add(L,L),E=r.mul(S,L),k=r.mul(b,j),k=r.add(E,k),E=r.sub(U,k),k=r.add(U,k),k=r.mul(E,k),E=r.mul(z,E),L=r.mul(b,L),j=r.mul(S,j),z=r.sub(R,j),z=r.mul(S,z),z=r.add(z,L),L=r.add(R,R),R=r.add(L,R),R=r.add(R,j),R=r.mul(R,z),k=r.add(k,R),j=r.mul(A,T),j=r.add(j,j),R=r.mul(j,z),E=r.sub(E,R),L=r.mul(j,U),L=r.add(L,L),L=r.add(L,L),new M(E,k,L)}add(S){P(S);let{X:y,Y:b,Z:_}=this,{X:A,Y:T,Z:E}=S,k=r.ZERO,L=r.ZERO,R=r.ZERO,U=a.a,j=r.mul(a.b,ZV),z=r.mul(y,A),V=r.mul(b,T),$=r.mul(_,E),W=r.add(y,b),J=r.add(A,T);W=r.mul(W,J),J=r.add(z,V),W=r.sub(W,J),J=r.add(y,_);let X=r.add(A,E);return J=r.mul(J,X),X=r.add(z,$),J=r.sub(J,X),X=r.add(b,_),k=r.add(T,E),X=r.mul(X,k),k=r.add(V,$),X=r.sub(X,k),R=r.mul(U,J),k=r.mul(j,$),R=r.add(k,R),k=r.sub(V,R),R=r.add(V,R),L=r.mul(k,R),V=r.add(z,z),V=r.add(V,z),$=r.mul(U,$),J=r.mul(j,J),V=r.add(V,$),$=r.sub(z,$),$=r.mul(U,$),J=r.add(J,$),z=r.mul(V,J),L=r.add(L,z),z=r.mul(X,J),k=r.mul(W,k),k=r.sub(k,z),z=r.mul(W,V),R=r.mul(X,R),R=r.add(R,z),new M(k,L,R)}subtract(S){return this.add(S.negate())}is0(){return this.equals(M.ZERO)}multiply(S){let{endo:y}=e;if(!i.isValidNot0(S))throw new Error("invalid scalar: out of range");let b,_,A=T=>v.cached(this,T,E=>J5(M,E));if(y){let{k1neg:T,k1:E,k2neg:k,k2:L}=D(S),{p:R,f:U}=A(E),{p:j,f:z}=A(L);_=U.add(z),b=O(y.beta,R,j,T,k)}else{let{p:T,f:E}=A(S);b=T,_=E}return J5(M,[b,_])[0]}multiplyUnsafe(S){let{endo:y}=e,b=this;if(!i.isValid(S))throw new Error("invalid scalar: out of range");if(S===nm||b.is0())return M.ZERO;if(S===NA)return b;if(v.hasCache(this))return this.multiply(S);if(y){let{k1neg:_,k1:A,k2neg:T,k2:E}=D(S),{p1:k,p2:L}=Zje(M,b,A,E);return O(y.beta,k,L,_,T)}else return v.unsafe(b,S)}multiplyAndAddUnsafe(S,y,b){let _=this.multiplyUnsafe(y).add(S.multiplyUnsafe(b));return _.is0()?void 0:_}toAffine(S){return F(this,S)}isTorsionFree(){let{isTorsionFree:S}=e;return o===NA?!0:S?S(M,this):v.unsafe(this,s).is0()}clearCofactor(){let{clearCofactor:S}=e;return o===NA?this:S?S(M,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(S=!0){return q5(S,"isCompressed"),this.assertValidity(),p(M,this,S)}toHex(S=!0){return va(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(S=!0){return this.toBytes(S)}_setWindowSize(S){this.precompute(S)}static normalizeZ(S){return J5(M,S)}static msm(S,y){return EA(M,i,S,y)}static fromPrivateKey(S){return M.BASE.multiply(OA(i,S))}}M.BASE=new M(a.Gx,a.Gy,r.ONE),M.ZERO=new M(r.ZERO,r.ONE,r.ZERO),M.Fp=r,M.Fn=i;let N=i.BITS,v=new vA(M,e.endo?Math.ceil(N/2):N);return M.BASE.precompute(8),M}function VGe(t){return Uint8Array.of(t?2:3)}function KGe(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function ejt(t,e={}){let{Fn:n}=t,r=e.randomBytes||Cs,i=Object.assign(KGe(t.Fp,n),{seed:ffe(n.ORDER)});function a(p){try{return!!OA(n,p)}catch{return!1}}function o(p,h){let{publicKey:m,publicKeyUncompressed:w}=i;try{let g=p.length;return h===!0&&g!==m||h===!1&&g!==w?!1:!!t.fromBytes(p)}catch{return!1}}function s(p=r(i.seed)){return dfe(Xu(p,i.seed,"seed"),n.ORDER)}function c(p,h=!0){return t.BASE.multiply(OA(n,p)).toBytes(h)}function l(p){let h=s(p);return{secretKey:h,publicKey:c(h)}}function u(p){if(typeof p=="bigint")return!1;if(p instanceof t)return!0;let{secretKey:h,publicKey:m,publicKeyUncompressed:w}=i;if(n.allowedLengths||h===m)return;let g=bi("key",p).length;return g===m||g===w}function f(p,h,m=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");let w=OA(n,p);return t.fromHex(h).multiply(w).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:t,utils:{isValidSecretKey:a,isValidPublicKey:o,randomSecretKey:s,isValidPrivateKey:a,randomPrivateKey:s,normPrivateKeyToScalar:p=>OA(n,p),precompute(p=8,h=t.BASE){return h.precompute(p,!1)}},lengths:i})}function tjt(t,e,n={}){K9(e),R2(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let r=n.randomBytes||Cs,i=n.hmac||((y,...b)=>y3(e,y,rr(...b))),{Fp:a,Fn:o}=t,{ORDER:s,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:p}=ejt(t,n),h={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function w(y){let b=s>>NA;return y>b}function g(y,b){if(!o.isValidNot0(b))throw new Error(`invalid signature ${y}: out of range 1..Point.Fn.ORDER`);return b}function x(y,b){qfe(b);let _=p.signature,A=b==="compact"?_:b==="recovered"?_+1:void 0;return Xu(y,A,`${b} signature`)}class C{constructor(b,_,A){this.r=g("r",b),this.s=g("s",_),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(b,_=m){x(b,_);let A;if(_==="der"){let{r:L,s:R}=tm.toSig(Xu(b));return new C(L,R)}_==="recovered"&&(A=b[0],_="compact",b=b.subarray(1));let T=o.BYTES,E=b.subarray(0,T),k=b.subarray(T,T*2);return new C(o.fromBytes(E),o.fromBytes(k),A)}static fromHex(b,_){return this.fromBytes(c0(b),_)}addRecoveryBit(b){return new C(this.r,this.s,b)}recoverPublicKey(b){let _=a.ORDER,{r:A,s:T,recovery:E}=this;if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");if(s*GGe<_&&E>1)throw new Error("recovery id is ambiguous for h>1 curve");let L=E===2||E===3?A+s:A;if(!a.isValid(L))throw new Error("recovery id 2 or 3 invalid");let R=a.toBytes(L),U=t.fromBytes(rr(VGe((E&1)===0),R)),j=o.inv(L),z=D(bi("msgHash",b)),V=o.create(-z*j),$=o.create(T*j),W=t.BASE.multiplyUnsafe(V).add(U.multiplyUnsafe($));if(W.is0())throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return w(this.s)}toBytes(b=m){if(qfe(b),b==="der")return c0(tm.hexFromSig(this));let _=o.toBytes(this.r),A=o.toBytes(this.s);if(b==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return rr(Uint8Array.of(this.recovery),_,A)}return rr(_,A)}toHex(b){return va(this.toBytes(b))}assertValidity(){}static fromCompact(b){return C.fromBytes(bi("sig",b),"compact")}static fromDER(b){return C.fromBytes(bi("sig",b),"der")}normalizeS(){return this.hasHighS()?new C(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return va(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return va(this.toBytes("compact"))}}let P=n.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");let _=rv(b),A=b.length*8-c;return A>0?_>>BigInt(A):_},D=n.bits2int_modN||function(b){return o.create(P(b))},F=W5(c);function H(y){return bA("num < 2^"+c,y,nm,F),o.toBytes(y)}function O(y,b){return Xu(y,void 0,"message"),b?Xu(e(y),void 0,"prehashed message"):y}function M(y,b,_){if(["recovered","canonical"].some(V=>V in _))throw new Error("sign() legacy options not supported");let{lowS:A,prehash:T,extraEntropy:E}=$fe(_,h);y=O(y,T);let k=D(y),L=OA(o,b),R=[H(L),H(k)];if(E!=null&&E!==!1){let V=E===!0?r(p.secretKey):E;R.push(bi("extraEntropy",V))}let U=rr(...R),j=k;function z(V){let $=P(V);if(!o.isValidNot0($))return;let W=o.inv($),J=t.BASE.multiply($).toAffine(),X=o.create(J.x);if(X===nm)return;let te=o.create(W*o.create(j+X*L));if(te===nm)return;let ne=(J.x===X?0:2)|Number(J.y&NA),ue=te;return A&&w(te)&&(ue=o.neg(te),ne^=1),new C(X,ue,ne)}return{seed:U,k2sig:z}}function N(y,b,_={}){y=bi("message",y);let{seed:A,k2sig:T}=M(y,b,_);return cfe(e.outputLen,o.BYTES,i)(A,T)}function v(y){let b,_=typeof y=="string"||Ss(y),A=!_&&y!==null&&typeof y=="object"&&typeof y.r=="bigint"&&typeof y.s=="bigint";if(!_&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)b=new C(y.r,y.s);else if(_){try{b=C.fromBytes(bi("sig",y),"der")}catch(T){if(!(T instanceof tm.Err))throw T}if(!b)try{b=C.fromBytes(bi("sig",y),"compact")}catch{return!1}}return b||!1}function I(y,b,_,A={}){let{lowS:T,prehash:E,format:k}=$fe(A,h);if(_=bi("publicKey",_),b=O(bi("message",b),E),"strict"in A)throw new Error("options.strict was renamed to lowS");let L=k===void 0?v(y):C.fromBytes(bi("sig",y),k);if(L===!1)return!1;try{let R=t.fromBytes(_);if(T&&L.hasHighS())return!1;let{r:U,s:j}=L,z=D(b),V=o.inv(j),$=o.create(z*V),W=o.create(U*V),J=t.BASE.multiplyUnsafe($).add(R.multiplyUnsafe(W));return J.is0()?!1:o.create(J.x)===U}catch{return!1}}function S(y,b,_={}){let{prehash:A}=$fe(_,h);return b=O(b,A),C.fromBytes(y,"recovered").recoverPublicKey(b).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:p,Point:t,sign:N,verify:I,recoverPublicKey:S,Signature:C,hash:e})}function njt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0,i=ef(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),a={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:a}}function rjt(t){let{CURVE:e,curveOpts:n}=njt(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function ijt(t,e){let n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,gV(n.Fn.ORDER,n.Fn.BITS))})}function $Ge(t){let{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=rjt(t),a=Xzt(e,n),o=tjt(a,r,i);return ijt(t,o)}var jGe,Wfe,tm,nm,NA,GGe,ZV,Zzt,qGe=B(()=>{fU();Is();av();vV();gA();jGe=(t,e)=>(t+(t>=0?e:-e)/GGe)/e;Wfe=class extends Error{constructor(e=""){super(e)}},tm={Err:Wfe,_tlv:{encode:(t,e)=>{let{Err:n}=tm;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");let r=e.length/2,i=yA(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");let a=r>127?yA(i.length/2|128):"";return yA(t)+a+i+e},decode(t,e){let{Err:n}=tm,r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");let i=e[r++],a=!!(i&128),o=0;if(!a)o=i;else{let c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");let l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}let s=e.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+o)}}},_int:{encode(t){let{Err:e}=tm;if(t<nm)throw new e("integer: negative integers are not allowed");let n=yA(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){let{Err:e}=tm;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return rv(t)}},toSig(t){let{Err:e,_int:n,_tlv:r}=tm,i=bi("signature",t),{v:a,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:s,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(l)}},hexFromSig(t){let{_tlv:e,_int:n}=tm,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),a=r+i;return e.encode(48,a)}},nm=BigInt(0),NA=BigInt(1),GGe=BigInt(2),ZV=BigInt(3),Zzt=BigInt(4)});function WGe(t,e){let n=r=>$Ge({...t,hash:r});return{...n(e),create:n}}var YGe=B(()=>{qGe();});function ojt(t){let e=Jfe.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=_a(u,n,e)*u%e,d=_a(f,n,e)*u%e,p=_a(d,JGe,e)*l%e,h=_a(p,i,e)*p%e,m=_a(h,a,e)*h%e,w=_a(m,s,e)*m%e,g=_a(w,c,e)*w%e,x=_a(g,s,e)*m%e,C=_a(x,n,e)*u%e,P=_a(C,o,e)*h%e,D=_a(P,r,e)*l%e,F=_a(D,JGe,e);if(!Yfe.eql(Yfe.sqr(F),t))throw new Error("Cannot find square root");return F}var Jfe,ajt,JGe,Yfe,B2,Qfe=B(()=>{$9();YGe();gA();Jfe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ajt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},JGe=BigInt(2);Yfe=ef(Jfe.p,{sqrt:ojt}),B2=WGe({...Jfe,Fp:Yfe,lowS:!0,endo:ajt},Tl)});function ZGe(t){try{return Kl.ExtendedPoint.fromHex(t),!0}catch{return!1}}function ujt(t){return t._bn!==void 0}function fVe(t,e){let n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let a=e[i.property];if(Array.isArray(a))return a.length*n(i.elementLayout)}else if("fields"in i)return fVe({layout:i},e[i.property]);return 0},r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function nf(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,(r&128)===0)break}return e}function rf(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function fa(t,e){if(!t)throw new Error(e||"Assertion failed")}function im(t){if(t.length===0)throw new Error(dVe);return t.shift()}function af(t,...e){let[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(dVe);return t.splice(...e)}async function eVe(t,e,n,r){let i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},a=await t.sendTransaction(e,n,i),o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:r?.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:s}=e.nonceInfo,c=s.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:a},r&&r.commitment)).value}else r?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(a,r&&r.commitment)).value;if(o.err)throw a!=null?new lde({action:"send",signature:a,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${a} failed (${JSON.stringify(o)})`);return a}function Ejt(t){return new Promise(e=>setTimeout(e,t))}function Nr(t,e){let n=t.layout.span>=0?t.layout.span:fVe(t,e),r=Sn.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function MA(t){let e=(0,lVe.blob)(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,a=IGe();return i.decode=(o,s)=>{let c=n(o,s);return a.decode(c)},i.encode=(o,s,c)=>{let l=a.encode(o);return r(l,s,c)},i}function mVe(t){return fc([Ke({jsonrpc:Ta("2.0"),id:ut(),result:t}),Ke({jsonrpc:Ta("2.0"),id:ut(),error:Ke({code:fv(),message:ut(),data:on(kGe())})})])}function ea(t){return RA(mVe(t),Tjt,e=>"error"in e?e:{...e,result:IA(e.result,t)})}function Z1(t){return ea(Ke({context:Ke({slot:me()}),value:t}))}function sK(t){return Ke({context:Ke({slot:me()}),value:t})}var Sn,nde,pc,BA,re,lVe,sjt,MQn,QGe,rde,bde,cjt,Wr,ide,eK,uVe,ljt,L2,XGe,Fn,BQn,dv,gde,tK,ade,ode,sde,kA,vr,fjt,PA,djt,pjt,hjt,mjt,nK,dVe,nP,cde,pVe,yjt,Hi,Sa,rK,bjt,gjt,wjt,vjt,rm,DQn,LQn,Zfe,rP,UQn,FQn,HQn,Xfe,lde,xjt,Ajt,tVe,Cd,tl,_jt,ude,zQn,jQn,GQn,ao,hVe,wde,VQn,Tjt,Sjt,KQn,Cjt,Ijt,Rjt,Ojt,Njt,pv,Pjt,kjt,$Qn,Mjt,Bjt,qQn,WQn,YQn,JQn,QQn,ZQn,XQn,eZn,tZn,nZn,Djt,rZn,iZn,fde,aZn,oZn,vde,sZn,Ljt,Ujt,cZn,lZn,uZn,fZn,dZn,Fjt,pZn,Hjt,hZn,zjt,mZn,yZn,bZn,gZn,nVe,wZn,jjt,Gjt,vZn,EZn,yVe,Ede,bVe,gVe,wVe,vVe,Vjt,Kjt,EVe,xVe,iK,AVe,cK,xde,DA,hv,xZn,AZn,_Zn,TZn,SZn,CZn,IZn,RZn,OZn,NZn,PZn,kZn,$jt,MZn,BZn,DZn,LZn,qjt,UZn,dde,eP,pde,XV,hde,rVe,iVe,aVe,oVe,mde,Wjt,Yjt,sVe,ede,cVe,Jjt,tde,yde,_Ve,Qjt,iP,D2,FZn,aK,tP,HZn,oK,zZn,jZn,GZn,VZn,TVe=B(()=>{Sn=fe(rd());iGe();nde=fe(dI()),pc=fe(Efe());xfe();BA=fe(pGe()),re=fe(Nfe()),lVe=fe(Nfe());RGe();MGe();sjt=fe(UGe());zGe();N3();Qfe();MQn=Kl.utils.randomPrivateKey,QGe=()=>{let t=Kl.utils.randomPrivateKey(),e=rde(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},rde=Kl.getPublicKey;bde=(t,e)=>Kl.sign(t,e.slice(0,32)),cjt=Kl.verify,Wr=t=>Sn.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Sn.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Sn.Buffer.from(t),ide=class{constructor(e){Object.assign(this,e)}encode(){return Sn.Buffer.from((0,BA.serialize)(eK,this))}static decode(e){return(0,BA.deserialize)(eK,this,e)}static decodeUnchecked(e){return(0,BA.deserializeUnchecked)(eK,this,e)}},eK=new Map,ljt=32,L2=32;XGe=1,Fn=class t extends ide{constructor(e){if(super({}),this._bn=void 0,ujt(e))this._bn=e._bn;else{if(typeof e=="string"){let n=pc.default.decode(e);if(n.length!=L2)throw new Error("Invalid public key input");this._bn=new nde.default(n)}else this._bn=new nde.default(e);if(this._bn.byteLength()>L2)throw new Error("Invalid public key input")}}static unique(){let e=new t(XGe);return XGe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return pc.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Sn.Buffer);if(e.length===L2)return e;let n=Sn.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){let i=Sn.Buffer.concat([e.toBuffer(),Sn.Buffer.from(n),r.toBuffer()]),a=VN(i);return new t(a)}static createProgramAddressSync(e,n){let r=Sn.Buffer.alloc(0);e.forEach(function(a){if(a.length>ljt)throw new TypeError("Max seed length exceeded");r=Sn.Buffer.concat([r,Wr(a)])}),r=Sn.Buffer.concat([r,n.toBuffer(),Sn.Buffer.from("ProgramDerivedAddress")]);let i=VN(r);if(ZGe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{let a=e.concat(Sn.Buffer.from([r]));i=this.createProgramAddressSync(a,n)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){let n=new t(e);return ZGe(n.toBytes())}};uVe=Fn;Fn.default=new uVe("11111111111111111111111111111111");eK.set(Fn,{kind:"struct",fields:[["_bn","u256"]]});BQn=new Fn("BPFLoader1111111111111111111111111111111111"),dv=1232,gde=127,tK=64,ade=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(ade.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});ode=class extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(ode.prototype,"name",{value:"TransactionExpiredTimeoutError"});sde=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(sde.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});kA=class{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let r=new Map;this.keySegments().flat().forEach((a,o)=>{r.set(a.toBase58(),o)});let i=a=>{let o=r.get(a.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(a=>({programIdIndex:i(a.programId),accountKeyIndexes:a.keys.map(o=>i(o.pubkey)),data:a.data}))}},vr=(t="publicKey")=>re.blob(32,t),fjt=(t="signature")=>re.blob(64,t),PA=(t="string")=>{let e=re.struct([re.u32("length"),re.u32("lengthPadding"),re.blob(re.offset(re.u32(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(a,o)=>n(a,o).chars.toString(),i.encode=(a,o,s)=>{let c={chars:Sn.Buffer.from(a,"utf8")};return r(c,o,s)},i.alloc=a=>re.u32().span+re.u32().span+Sn.Buffer.from(a,"utf8").length,i},djt=(t="authorized")=>re.struct([vr("staker"),vr("withdrawer")],t),pjt=(t="lockup")=>re.struct([re.ns64("unixTimestamp"),re.ns64("epoch"),vr("custodian")],t),hjt=(t="voteInit")=>re.struct([vr("nodePubkey"),vr("authorizedVoter"),vr("authorizedWithdrawer"),re.u8("commission")],t),mjt=(t="voteAuthorizeWithSeedArgs")=>re.struct([re.u32("voteAuthorizationType"),vr("currentAuthorityDerivedKeyOwnerPubkey"),PA("currentAuthorityDerivedKeySeed"),vr("newAuthorized")],t);nK=class t{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){let r=new Map,i=o=>{let s=o.toBase58(),c=r.get(s);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(s,c)),c},a=i(n);a.isSigner=!0,a.isWritable=!0;for(let o of e){i(o.programId).isInvoked=!0;for(let s of o.keys){let c=i(s.pubkey);c.isSigner||=s.isSigner,c.isWritable||=s.isWritable}}return new t(n,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];fa(e.length<=256,"Max static account keys length exceeded");let n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),a=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{fa(n.length>0,"Expected at least one writable signer key");let[c]=n[0];fa(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let s=[...n.map(([c])=>new Fn(c)),...r.map(([c])=>new Fn(c)),...i.map(([c])=>new Fn(c)),...a.map(([c])=>new Fn(c))];return[o,s]}extractTableLookup(e){let[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,a]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,n){let r=new Array,i=new Array;for(let[a,o]of this.keyMetaMap.entries())if(n(o)){let s=new Fn(a),c=e.findIndex(l=>l.equals(s));c>=0&&(fa(c<256,"Max lookup table index exceeded"),r.push(c),i.push(s),this.keyMetaMap.delete(a))}return[r,i]}},dVe="Reached end of buffer unexpectedly";nP=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Fn(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:pc.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new kA(this.staticAccountKeys)}static compile(e){let n=nK.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new kA(i).compileInstructions(e.instructions).map(s=>({programIdIndex:s.programIdIndex,accounts:s.accountKeyIndexes,data:pc.default.encode(s.data)}));return new t({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let r=e-n,a=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<a}else{let r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){let e=this.accountKeys.length,n=[];rf(n,e);let r=this.instructions.map(f=>{let{accounts:d,programIdIndex:p}=f,h=Array.from(pc.default.decode(f.data)),m=[];rf(m,d.length);let w=[];return rf(w,h.length),{programIdIndex:p,keyIndicesCount:Sn.Buffer.from(m),keyIndices:d,dataLength:Sn.Buffer.from(w),data:h}}),i=[];rf(i,r.length);let a=Sn.Buffer.alloc(dv);Sn.Buffer.from(i).copy(a);let o=i.length;r.forEach(f=>{let p=re.struct([re.u8("programIdIndex"),re.blob(f.keyIndicesCount.length,"keyIndicesCount"),re.seq(re.u8("keyIndex"),f.keyIndices.length,"keyIndices"),re.blob(f.dataLength.length,"dataLength"),re.seq(re.u8("userdatum"),f.data.length,"data")]).encode(f,a,o);o+=p}),a=a.slice(0,o);let s=re.struct([re.blob(1,"numRequiredSignatures"),re.blob(1,"numReadonlySignedAccounts"),re.blob(1,"numReadonlyUnsignedAccounts"),re.blob(n.length,"keyCount"),re.seq(vr("key"),e,"keys"),vr("recentBlockhash")]),c={numRequiredSignatures:Sn.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Sn.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Sn.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Sn.Buffer.from(n),keys:this.accountKeys.map(f=>Wr(f.toBytes())),recentBlockhash:pc.default.decode(this.recentBlockhash)},l=Sn.Buffer.alloc(2048),u=s.encode(c,l);return a.copy(l,u),l.slice(0,u+a.length)}static from(e){let n=[...e],r=im(n);if(r!==(r&gde))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=im(n),a=im(n),o=nf(n),s=[];for(let d=0;d<o;d++){let p=af(n,0,L2);s.push(new Fn(Sn.Buffer.from(p)))}let c=af(n,0,L2),l=nf(n),u=[];for(let d=0;d<l;d++){let p=im(n),h=nf(n),m=af(n,0,h),w=nf(n),g=af(n,0,w),x=pc.default.encode(Sn.Buffer.from(g));u.push({programIdIndex:p,accounts:m,data:x})}let f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:pc.default.encode(Sn.Buffer.from(c)),accountKeys:s,instructions:u};return new t(f)}},cde=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new kA(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){let i=e-r,a=this.addressTableLookups.reduce((o,s)=>o+s.writableIndexes.length,0);return i<a}else if(e>=this.header.numRequiredSignatures){let i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{let i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let n={writable:[],readonly:[]};for(let r of this.addressTableLookups){let i=e.find(a=>a.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let a of r.writableIndexes)if(a<i.state.addresses.length)n.writable.push(i.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`);for(let a of r.readonlyIndexes)if(a<i.state.addresses.length)n.readonly.push(i.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){let n=nK.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(let u of a){let f=n.extractTableLookup(u);if(f!==void 0){let[d,{writable:p,readonly:h}]=f;r.push(d),i.writable.push(...p),i.readonly.push(...h)}}let[o,s]=n.getMessageComponents(),l=new kA(s,i).compileInstructions(e.instructions);return new t({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){let e=Array();rf(e,this.staticAccountKeys.length);let n=this.serializeInstructions(),r=Array();rf(r,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),a=Array();rf(a,this.addressTableLookups.length);let o=re.struct([re.u8("prefix"),re.struct([re.u8("numRequiredSignatures"),re.u8("numReadonlySignedAccounts"),re.u8("numReadonlyUnsignedAccounts")],"header"),re.blob(e.length,"staticAccountKeysLength"),re.seq(vr(),this.staticAccountKeys.length,"staticAccountKeys"),vr("recentBlockhash"),re.blob(r.length,"instructionsLength"),re.blob(n.length,"serializedInstructions"),re.blob(a.length,"addressTableLookupsLength"),re.blob(i.length,"serializedAddressTableLookups")]),s=new Uint8Array(dv),l=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:pc.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:i},s);return s.slice(0,l)}serializeInstructions(){let e=0,n=new Uint8Array(dv);for(let r of this.compiledInstructions){let i=Array();rf(i,r.accountKeyIndexes.length);let a=Array();rf(a,r.data.length);let o=re.struct([re.u8("programIdIndex"),re.blob(i.length,"encodedAccountKeyIndexesLength"),re.seq(re.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),re.blob(a.length,"encodedDataLength"),re.blob(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0,n=new Uint8Array(dv);for(let r of this.addressTableLookups){let i=Array();rf(i,r.writableIndexes.length);let a=Array();rf(a,r.readonlyIndexes.length);let o=re.struct([vr("accountKey"),re.blob(i.length,"encodedWritableIndexesLength"),re.seq(re.u8(),r.writableIndexes.length,"writableIndexes"),re.blob(a.length,"encodedReadonlyIndexesLength"),re.seq(re.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e],r=im(n),i=r&gde;fa(r!==i,"Expected versioned message but received legacy message");let a=i;fa(a===0,`Expected versioned message with version 0 but found version ${a}`);let o={numRequiredSignatures:im(n),numReadonlySignedAccounts:im(n),numReadonlyUnsignedAccounts:im(n)},s=[],c=nf(n);for(let h=0;h<c;h++)s.push(new Fn(af(n,0,L2)));let l=pc.default.encode(af(n,0,L2)),u=nf(n),f=[];for(let h=0;h<u;h++){let m=im(n),w=nf(n),g=af(n,0,w),x=nf(n),C=new Uint8Array(af(n,0,x));f.push({programIdIndex:m,accountKeyIndexes:g,data:C})}let d=nf(n),p=[];for(let h=0;h<d;h++){let m=new Fn(af(n,0,L2)),w=nf(n),g=af(n,0,w),x=nf(n),C=af(n,0,x);p.push({accountKey:m,writableIndexes:g,readonlyIndexes:C})}return new t({header:o,staticAccountKeys:s,recentBlockhash:l,compiledInstructions:f,addressTableLookups:p})}},pVe={deserializeMessageVersion(t){let e=t[0],n=e&gde;return n===e?"legacy":n},deserialize:t=>{let e=pVe.deserializeMessageVersion(t);if(e==="legacy")return nP.from(t);if(e===0)return cde.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},yjt=Sn.Buffer.alloc(tK).fill(0),Hi=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Sn.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},Sa=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{let{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Hi(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let m=0;m<n.length;m++)if(n[m].programId===void 0)throw new Error(`Transaction instruction index ${m} has undefined program id`);let i=[],a=[];n.forEach(m=>{m.keys.forEach(g=>{a.push({...g})});let w=m.programId.toString();i.includes(w)||i.push(w)}),i.forEach(m=>{a.push({pubkey:new Fn(m),isSigner:!1,isWritable:!1})});let o=[];a.forEach(m=>{let w=m.pubkey.toString(),g=o.findIndex(x=>x.pubkey.toString()===w);g>-1?(o[g].isWritable=o[g].isWritable||m.isWritable,o[g].isSigner=o[g].isSigner||m.isSigner):o.push(m)}),o.sort(function(m,w){if(m.isSigner!==w.isSigner)return m.isSigner?-1:1;if(m.isWritable!==w.isWritable)return m.isWritable?-1:1;let g={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return m.pubkey.toBase58().localeCompare(w.pubkey.toBase58(),"en",g)});let s=o.findIndex(m=>m.pubkey.equals(r));if(s>-1){let[m]=o.splice(s,1);m.isSigner=!0,m.isWritable=!0,o.unshift(m)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let m of this.signatures){let w=o.findIndex(g=>g.pubkey.equals(m.publicKey));if(w>-1)o[w].isSigner||(o[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${m.publicKey.toString()}`)}let c=0,l=0,u=0,f=[],d=[];o.forEach(({pubkey:m,isSigner:w,isWritable:g})=>{w?(f.push(m.toString()),c+=1,g||(l+=1)):(d.push(m.toString()),g||(u+=1))});let p=f.concat(d),h=n.map(m=>{let{data:w,programId:g}=m;return{programIdIndex:p.indexOf(g.toString()),accounts:m.keys.map(x=>p.indexOf(x.pubkey.toString())),data:pc.default.encode(w)}});return h.forEach(m=>{fa(m.programIdIndex>=0),m.accounts.forEach(w=>fa(w>=0))}),new nP({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:p,recentBlockhash:e,instructions:h})}_compile(){let e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,a)=>n[a].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let n=new Set;this.signatures=e.filter(r=>{let i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");let n=new Set,r=[];for(let a of e){let o=a.publicKey.toString();n.has(o)||(n.add(o),r.push(a))}this.signatures=r.map(a=>({signature:null,publicKey:a.publicKey}));let i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");let n=new Set,r=[];for(let a of e){let o=a.publicKey.toString();n.has(o)||(n.add(o),r.push(a))}let i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){let r=e.serialize();n.forEach(i=>{let a=bde(r,i.secretKey);this._addSignature(i.publicKey,Wr(a))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){fa(n.length===64);let r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Sn.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){let r={};for(let{signature:i,publicKey:a}of this.signatures)i===null?n&&(r.missing||=[]).push(a):cjt(i,e,a.toBytes())||(r.invalid||=[]).push(a);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){let a=this._getMessageSignednessErrors(i,n);if(a){let o="Signature verification failed.";throw a.invalid&&(o+=`
Invalid signature for public key${a.invalid.length===1?"":"(s)"} [\`${a.invalid.map(s=>s.toBase58()).join("`, `")}\`].`),a.missing&&(o+=`
Missing signature for public key${a.missing.length===1?"":"(s)"} [\`${a.missing.map(s=>s.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){let{signatures:n}=this,r=[];rf(r,n.length);let i=r.length+n.length*64+e.length,a=Sn.Buffer.alloc(i);return fa(n.length<256),Sn.Buffer.from(r).copy(a,0),n.forEach(({signature:o},s)=>{o!==null&&(fa(o.length===64,"signature has invalid length"),Sn.Buffer.from(o).copy(a,r.length+s*64))}),e.copy(a,r.length+n.length*64),fa(a.length<=dv,`Transaction too large: ${a.length} > ${dv}`),a}get keys(){return fa(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return fa(this.instructions.length===1),this.instructions[0].programId}get data(){return fa(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e],r=nf(n),i=[];for(let a=0;a<r;a++){let o=af(n,0,tK);i.push(pc.default.encode(Sn.Buffer.from(o)))}return t.populate(nP.from(n),i)}static populate(e,n=[]){let r=new t;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,a)=>{let o={signature:i==pc.default.encode(yjt)?null:pc.default.decode(i),publicKey:e.accountKeys[a]};r.signatures.push(o)}),e.instructions.forEach(i=>{let a=i.accounts.map(o=>{let s=e.accountKeys[o];return{pubkey:s,isSigner:r.signatures.some(c=>c.publicKey.toString()===s.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Hi({keys:a,programId:e.accountKeys[i.programIdIndex],data:pc.default.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},rK=class t{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)fa(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{let r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(tK));this.signatures=r}this.message=e}serialize(){let e=this.message.serialize(),n=Array();rf(n,this.signatures.length);let r=re.struct([re.blob(n.length,"encodedSignaturesLength"),re.seq(fjt(),this.signatures.length,"signatures"),re.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),a=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,a)}static deserialize(e){let n=[...e],r=[],i=nf(n);for(let o=0;o<i;o++)r.push(new Uint8Array(af(n,0,tK)));let a=pVe.deserialize(new Uint8Array(n));return new t(a,r)}sign(e){let n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let a=r.findIndex(o=>o.equals(i.publicKey));fa(a>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[a]=bde(n,i.secretKey)}}addSignature(e,n){fa(n.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));fa(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}},bjt=160,gjt=64,wjt=bjt/gjt,vjt=1e3/wjt,rm=new Fn("SysvarC1ock11111111111111111111111111111111"),DQn=new Fn("SysvarEpochSchedu1e111111111111111111111111"),LQn=new Fn("Sysvar1nstructions1111111111111111111111111"),Zfe=new Fn("SysvarRecentB1ockHashes11111111111111111111"),rP=new Fn("SysvarRent111111111111111111111111111111111"),UQn=new Fn("SysvarRewards111111111111111111111111111111"),FQn=new Fn("SysvarS1otHashes111111111111111111111111111"),HQn=new Fn("SysvarS1otHistory11111111111111111111111111"),Xfe=new Fn("SysvarStakeHistory1111111111111111111111111"),lde=class extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){let a=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",s;switch(e){case"send":s=`Transaction ${n} resulted in an error. 
${r}. `+a+o;break;case"simulate":s=`Simulation failed. 
Message: ${r}. 
`+a+o;break;default:s=`Unknown action '${(c=>c)(e)}'`}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let a=i.meta.logMessages;this.transactionLogs=a,n(a)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};xjt=re.nu64("lamportsPerSignature"),Ajt=re.struct([re.u32("version"),re.u32("state"),vr("authorizedPubkey"),vr("nonce"),re.struct([xjt],"feeCalculator")]),tVe=Ajt.span;Cd=Object.freeze({Create:{index:0,layout:re.struct([re.u32("instruction"),re.ns64("lamports"),re.ns64("space"),vr("programId")])},Assign:{index:1,layout:re.struct([re.u32("instruction"),vr("programId")])},Transfer:{index:2,layout:re.struct([re.u32("instruction"),MA("lamports")])},CreateWithSeed:{index:3,layout:re.struct([re.u32("instruction"),vr("base"),PA("seed"),re.ns64("lamports"),re.ns64("space"),vr("programId")])},AdvanceNonceAccount:{index:4,layout:re.struct([re.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:re.struct([re.u32("instruction"),vr("authorized")])},AuthorizeNonceAccount:{index:7,layout:re.struct([re.u32("instruction"),vr("authorized")])},Allocate:{index:8,layout:re.struct([re.u32("instruction"),re.ns64("space")])},AllocateWithSeed:{index:9,layout:re.struct([re.u32("instruction"),vr("base"),PA("seed"),re.ns64("space"),vr("programId")])},AssignWithSeed:{index:10,layout:re.struct([re.u32("instruction"),vr("base"),PA("seed"),vr("programId")])},TransferWithSeed:{index:11,layout:re.struct([re.u32("instruction"),MA("lamports"),PA("seed"),vr("programId")])},UpgradeNonceAccount:{index:12,layout:re.struct([re.u32("instruction")])}}),tl=class t{constructor(){}static createAccount(e){let n=Cd.Create,r=Nr(n,{lamports:e.lamports,space:e.space,programId:Wr(e.programId.toBuffer())});return new Hi({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){let i=Cd.TransferWithSeed;n=Nr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Wr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Cd.Transfer;n=Nr(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Hi({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){let i=Cd.AssignWithSeed;n=Nr(i,{base:Wr(e.basePubkey.toBuffer()),seed:e.seed,programId:Wr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Cd.Assign;n=Nr(i,{programId:Wr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Hi({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){let n=Cd.CreateWithSeed,r=Nr(n,{base:Wr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Wr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Hi({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){let n=new Sa;"basePubkey"in e&&"seed"in e?n.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:tVe,programId:this.programId})):n.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:tVe,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){let n=Cd.InitializeNonceAccount,r=Nr(n,{authorized:Wr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Zfe,isSigner:!1,isWritable:!1},{pubkey:rP,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Hi(i)}static nonceAdvance(e){let n=Cd.AdvanceNonceAccount,r=Nr(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Zfe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Hi(i)}static nonceWithdraw(e){let n=Cd.WithdrawNonceAccount,r=Nr(n,{lamports:e.lamports});return new Hi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Zfe,isSigner:!1,isWritable:!1},{pubkey:rP,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){let n=Cd.AuthorizeNonceAccount,r=Nr(n,{authorized:Wr(e.newAuthorizedPubkey.toBuffer())});return new Hi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){let i=Cd.AllocateWithSeed;n=Nr(i,{base:Wr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Wr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Cd.Allocate;n=Nr(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Hi({keys:r,programId:this.programId,data:n})}};tl.programId=new Fn("11111111111111111111111111111111");_jt=dv-300,ude=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,n,r,i,a){{let f=await e.getMinimumBalanceForRentExemption(a.length),d=await e.getAccountInfo(r.publicKey,"confirmed"),p=null;if(d!==null){if(d.executable)return console.error("Program load failed, account is already executable"),!1;d.data.length!==a.length&&(p=p||new Sa,p.add(tl.allocate({accountPubkey:r.publicKey,space:a.length}))),d.owner.equals(i)||(p=p||new Sa,p.add(tl.assign({accountPubkey:r.publicKey,programId:i}))),d.lamports<f&&(p=p||new Sa,p.add(tl.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:f-d.lamports})))}else p=new Sa().add(tl.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:f>0?f:1,space:a.length,programId:i}));p!==null&&await eVe(e,p,[n,r],{commitment:"confirmed"})}let o=re.struct([re.u32("instruction"),re.u32("offset"),re.u32("bytesLength"),re.u32("bytesLengthPadding"),re.seq(re.u8("byte"),re.offset(re.u32(),-8),"bytes")]),s=t.chunkSize,c=0,l=a,u=[];for(;l.length>0;){let f=l.slice(0,s),d=Sn.Buffer.alloc(s+16);o.encode({instruction:0,offset:c,bytes:f,bytesLength:0,bytesLengthPadding:0},d);let p=new Sa().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:d});u.push(eVe(e,p,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Ejt(1e3/4),c+=s,l=l.slice(s)}await Promise.all(u);{let f=re.struct([re.u32("instruction")]),d=Sn.Buffer.alloc(f.span);f.encode({instruction:1},d);let p=new Sa().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:rP,isSigner:!1,isWritable:!1}],programId:i,data:d}),h="processed",m=await e.sendTransaction(p,[n,r],{preflightCommitment:h}),{context:w,value:g}=await e.confirmTransaction({signature:m,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},h);if(g.err)throw new Error(`Transaction ${m} failed (${JSON.stringify(g)})`);for(;;){try{if(await e.getSlot({commitment:h})>w.slot)break}catch{}await new Promise(x=>setTimeout(x,Math.round(vjt/2)))}}return!0}};ude.chunkSize=_jt;zQn=new Fn("BPFLoader2111111111111111111111111111111111"),jQn=globalThis.fetch,GQn={index:1,layout:re.struct([re.u32("typeIndex"),MA("deactivationSlot"),re.nu64("lastExtendedSlot"),re.u8("lastExtendedStartIndex"),re.u8(),re.seq(vr(),re.offset(re.u8(),-1),"authority")])},ao=RA(YV(Fn),ut(),t=>new Fn(t)),hVe=JV([ut(),Ta("base64")]),wde=RA(YV(Sn.Buffer),hVe,t=>Sn.Buffer.from(t[0],"base64")),VQn=30*1e3;Tjt=mVe(fv());Sjt=Ke({foundation:me(),foundationTerm:me(),initial:me(),taper:me(),terminal:me()}),KQn=ea(Nt(Pt(Ke({epoch:me(),effectiveSlot:me(),amount:me(),postBalance:me(),commission:on(Pt(me()))})))),Cjt=Nt(Ke({slot:me(),prioritizationFee:me()})),Ijt=Ke({total:me(),validator:me(),foundation:me(),epoch:me()}),Rjt=Ke({epoch:me(),slotIndex:me(),slotsInEpoch:me(),absoluteSlot:me(),blockHeight:on(me()),transactionCount:on(me())}),Ojt=Ke({slotsPerEpoch:me(),leaderScheduleSlotOffset:me(),warmup:Q1(),firstNormalEpoch:me(),firstNormalSlot:me()}),Njt=jfe(ut(),Nt(me())),pv=Pt(fc([Ke({}),ut()])),Pjt=Ke({err:pv}),kjt=Ta("receivedSignature"),$Qn=Ke({"solana-core":ut(),"feature-set":on(me())}),Mjt=Ke({program:ut(),programId:ao,parsed:fv()}),Bjt=Ke({programId:ao,accounts:Nt(ao),data:ut()}),qQn=Z1(Ke({err:Pt(fc([Ke({}),ut()])),logs:Pt(Nt(ut())),accounts:on(Pt(Nt(Pt(Ke({executable:Q1(),owner:ut(),lamports:me(),data:Nt(ut()),rentEpoch:on(me())}))))),unitsConsumed:on(me()),returnData:on(Pt(Ke({programId:ut(),data:JV([ut(),Ta("base64")])}))),innerInstructions:on(Pt(Nt(Ke({index:me(),instructions:Nt(fc([Mjt,Bjt]))}))))})),WQn=Z1(Ke({byIdentity:jfe(ut(),Nt(me())),range:Ke({firstSlot:me(),lastSlot:me()})})),YQn=ea(Sjt),JQn=ea(Ijt),QQn=ea(Cjt),ZQn=ea(Rjt),XQn=ea(Ojt),eZn=ea(Njt),tZn=ea(me()),nZn=Z1(Ke({total:me(),circulating:me(),nonCirculating:me(),nonCirculatingAccounts:Nt(ao)})),Djt=Ke({amount:ut(),uiAmount:Pt(me()),decimals:me(),uiAmountString:on(ut())}),rZn=Z1(Nt(Ke({address:ao,amount:ut(),uiAmount:Pt(me()),decimals:me(),uiAmountString:on(ut())}))),iZn=Z1(Nt(Ke({pubkey:ao,account:Ke({executable:Q1(),owner:ao,lamports:me(),data:wde,rentEpoch:me()})}))),fde=Ke({program:ut(),parsed:fv(),space:me()}),aZn=Z1(Nt(Ke({pubkey:ao,account:Ke({executable:Q1(),owner:ao,lamports:me(),data:fde,rentEpoch:me()})}))),oZn=Z1(Nt(Ke({lamports:me(),address:ao}))),vde=Ke({executable:Q1(),owner:ao,lamports:me(),data:wde,rentEpoch:me()}),sZn=Ke({pubkey:ao,account:vde}),Ljt=RA(fc([YV(Sn.Buffer),fde]),fc([hVe,fde]),t=>Array.isArray(t)?IA(t,wde):t),Ujt=Ke({executable:Q1(),owner:ao,lamports:me(),data:Ljt,rentEpoch:me()}),cZn=Ke({pubkey:ao,account:Ujt}),lZn=Ke({state:fc([Ta("active"),Ta("inactive"),Ta("activating"),Ta("deactivating")]),active:me(),inactive:me()}),uZn=ea(Nt(Ke({signature:ut(),slot:me(),err:pv,memo:Pt(ut()),blockTime:on(Pt(me()))}))),fZn=ea(Nt(Ke({signature:ut(),slot:me(),err:pv,memo:Pt(ut()),blockTime:on(Pt(me()))}))),dZn=Ke({subscription:me(),result:sK(vde)}),Fjt=Ke({pubkey:ao,account:vde}),pZn=Ke({subscription:me(),result:sK(Fjt)}),Hjt=Ke({parent:me(),slot:me(),root:me()}),hZn=Ke({subscription:me(),result:Hjt}),zjt=fc([Ke({type:fc([Ta("firstShredReceived"),Ta("completed"),Ta("optimisticConfirmation"),Ta("root")]),slot:me(),timestamp:me()}),Ke({type:Ta("createdBank"),parent:me(),slot:me(),timestamp:me()}),Ke({type:Ta("frozen"),slot:me(),timestamp:me(),stats:Ke({numTransactionEntries:me(),numSuccessfulTransactions:me(),numFailedTransactions:me(),maxTransactionsPerEntry:me()})}),Ke({type:Ta("dead"),slot:me(),timestamp:me(),err:ut()})]),mZn=Ke({subscription:me(),result:zjt}),yZn=Ke({subscription:me(),result:sK(fc([Pjt,kjt]))}),bZn=Ke({subscription:me(),result:me()}),gZn=Ke({pubkey:ut(),gossip:Pt(ut()),tpu:Pt(ut()),rpc:Pt(ut()),version:Pt(ut())}),nVe=Ke({votePubkey:ut(),nodePubkey:ut(),activatedStake:me(),epochVoteAccount:Q1(),epochCredits:Nt(JV([me(),me(),me()])),commission:me(),lastVote:me(),rootSlot:Pt(me())}),wZn=ea(Ke({current:Nt(nVe),delinquent:Nt(nVe)})),jjt=fc([Ta("processed"),Ta("confirmed"),Ta("finalized")]),Gjt=Ke({slot:me(),confirmations:Pt(me()),err:pv,confirmationStatus:on(jjt)}),vZn=Z1(Nt(Pt(Gjt))),EZn=ea(me()),yVe=Ke({accountKey:ao,writableIndexes:Nt(me()),readonlyIndexes:Nt(me())}),Ede=Ke({signatures:Nt(ut()),message:Ke({accountKeys:Nt(ut()),header:Ke({numRequiredSignatures:me(),numReadonlySignedAccounts:me(),numReadonlyUnsignedAccounts:me()}),instructions:Nt(Ke({accounts:Nt(me()),data:ut(),programIdIndex:me()})),recentBlockhash:ut(),addressTableLookups:on(Nt(yVe))})}),bVe=Ke({pubkey:ao,signer:Q1(),writable:Q1(),source:on(fc([Ta("transaction"),Ta("lookupTable")]))}),gVe=Ke({accountKeys:Nt(bVe),signatures:Nt(ut())}),wVe=Ke({parsed:fv(),program:ut(),programId:ao}),vVe=Ke({accounts:Nt(ao),data:ut(),programId:ao}),Vjt=fc([vVe,wVe]),Kjt=fc([Ke({parsed:fv(),program:ut(),programId:ut()}),Ke({accounts:Nt(ut()),data:ut(),programId:ut()})]),EVe=RA(Vjt,Kjt,t=>"accounts"in t?IA(t,vVe):IA(t,wVe)),xVe=Ke({signatures:Nt(ut()),message:Ke({accountKeys:Nt(bVe),instructions:Nt(EVe),recentBlockhash:ut(),addressTableLookups:on(Pt(Nt(yVe)))})}),iK=Ke({accountIndex:me(),mint:ut(),owner:on(ut()),programId:on(ut()),uiTokenAmount:Djt}),AVe=Ke({writable:Nt(ao),readonly:Nt(ao)}),cK=Ke({err:pv,fee:me(),innerInstructions:on(Pt(Nt(Ke({index:me(),instructions:Nt(Ke({accounts:Nt(me()),data:ut(),programIdIndex:me()}))})))),preBalances:Nt(me()),postBalances:Nt(me()),logMessages:on(Pt(Nt(ut()))),preTokenBalances:on(Pt(Nt(iK))),postTokenBalances:on(Pt(Nt(iK))),loadedAddresses:on(AVe),computeUnitsConsumed:on(me()),costUnits:on(me())}),xde=Ke({err:pv,fee:me(),innerInstructions:on(Pt(Nt(Ke({index:me(),instructions:Nt(EVe)})))),preBalances:Nt(me()),postBalances:Nt(me()),logMessages:on(Pt(Nt(ut()))),preTokenBalances:on(Pt(Nt(iK))),postTokenBalances:on(Pt(Nt(iK))),loadedAddresses:on(AVe),computeUnitsConsumed:on(me()),costUnits:on(me())}),DA=fc([Ta(0),Ta("legacy")]),hv=Ke({pubkey:ut(),lamports:me(),postBalance:Pt(me()),rewardType:Pt(ut()),commission:on(Pt(me()))}),xZn=ea(Pt(Ke({blockhash:ut(),previousBlockhash:ut(),parentSlot:me(),transactions:Nt(Ke({transaction:Ede,meta:Pt(cK),version:on(DA)})),rewards:on(Nt(hv)),blockTime:Pt(me()),blockHeight:Pt(me())}))),AZn=ea(Pt(Ke({blockhash:ut(),previousBlockhash:ut(),parentSlot:me(),rewards:on(Nt(hv)),blockTime:Pt(me()),blockHeight:Pt(me())}))),_Zn=ea(Pt(Ke({blockhash:ut(),previousBlockhash:ut(),parentSlot:me(),transactions:Nt(Ke({transaction:gVe,meta:Pt(cK),version:on(DA)})),rewards:on(Nt(hv)),blockTime:Pt(me()),blockHeight:Pt(me())}))),TZn=ea(Pt(Ke({blockhash:ut(),previousBlockhash:ut(),parentSlot:me(),transactions:Nt(Ke({transaction:xVe,meta:Pt(xde),version:on(DA)})),rewards:on(Nt(hv)),blockTime:Pt(me()),blockHeight:Pt(me())}))),SZn=ea(Pt(Ke({blockhash:ut(),previousBlockhash:ut(),parentSlot:me(),transactions:Nt(Ke({transaction:gVe,meta:Pt(xde),version:on(DA)})),rewards:on(Nt(hv)),blockTime:Pt(me()),blockHeight:Pt(me())}))),CZn=ea(Pt(Ke({blockhash:ut(),previousBlockhash:ut(),parentSlot:me(),rewards:on(Nt(hv)),blockTime:Pt(me()),blockHeight:Pt(me())}))),IZn=ea(Pt(Ke({blockhash:ut(),previousBlockhash:ut(),parentSlot:me(),transactions:Nt(Ke({transaction:Ede,meta:Pt(cK)})),rewards:on(Nt(hv)),blockTime:Pt(me())}))),RZn=ea(Pt(Ke({blockhash:ut(),previousBlockhash:ut(),parentSlot:me(),signatures:Nt(ut()),blockTime:Pt(me())}))),OZn=ea(Pt(Ke({slot:me(),meta:Pt(cK),blockTime:on(Pt(me())),transaction:Ede,version:on(DA)}))),NZn=ea(Pt(Ke({slot:me(),transaction:xVe,meta:Pt(xde),blockTime:on(Pt(me())),version:on(DA)}))),PZn=Z1(Ke({blockhash:ut(),lastValidBlockHeight:me()})),kZn=Z1(Q1()),$jt=Ke({slot:me(),numTransactions:me(),numSlots:me(),samplePeriodSecs:me()}),MZn=ea(Nt($jt)),BZn=Z1(Pt(Ke({feeCalculator:Ke({lamportsPerSignature:me()})}))),DZn=ea(ut()),LZn=ea(ut()),qjt=Ke({err:pv,logs:Nt(ut()),signature:ut()}),UZn=Ke({result:sK(qjt),subscription:me()}),dde=class t{constructor(e){this._keypair=void 0,this._keypair=e??QGe()}static generate(){return new t(QGe())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");let r=e.slice(32,64);if(!n||!n.skipValidation){let i=e.slice(0,32),a=rde(i);for(let o=0;o<32;o++)if(r[o]!==a[o])throw new Error("provided secretKey is invalid")}return new t({publicKey:r,secretKey:e})}static fromSeed(e){let n=rde(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new t({publicKey:n,secretKey:r})}get publicKey(){return new Fn(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},eP=Object.freeze({CreateLookupTable:{index:0,layout:re.struct([re.u32("instruction"),MA("recentSlot"),re.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:re.struct([re.u32("instruction")])},ExtendLookupTable:{index:2,layout:re.struct([re.u32("instruction"),MA(),re.seq(vr(),re.offset(re.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:re.struct([re.u32("instruction")])},CloseLookupTable:{index:4,layout:re.struct([re.u32("instruction")])}}),pde=class{constructor(){}static createLookupTable(e){let[n,r]=Fn.findProgramAddressSync([e.authority.toBuffer(),Ffe().encode(e.recentSlot)],this.programId),i=eP.CreateLookupTable,a=Nr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:tl.programId,isSigner:!1,isWritable:!1}];return[new Hi({programId:this.programId,keys:o,data:a}),n]}static freezeLookupTable(e){let n=eP.FreezeLookupTable,r=Nr(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Hi({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){let n=eP.ExtendLookupTable,r=Nr(n,{addresses:e.addresses.map(a=>a.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:tl.programId,isSigner:!1,isWritable:!1}),new Hi({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){let n=eP.DeactivateLookupTable,r=Nr(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Hi({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){let n=eP.CloseLookupTable,r=Nr(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Hi({programId:this.programId,keys:i,data:r})}};pde.programId=new Fn("AddressLookupTab1e1111111111111111111111111");XV=Object.freeze({RequestUnits:{index:0,layout:re.struct([re.u8("instruction"),re.u32("units"),re.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:re.struct([re.u8("instruction"),re.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:re.struct([re.u8("instruction"),re.u32("units")])},SetComputeUnitPrice:{index:3,layout:re.struct([re.u8("instruction"),MA("microLamports")])}}),hde=class{constructor(){}static requestUnits(e){let n=XV.RequestUnits,r=Nr(n,e);return new Hi({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){let n=XV.RequestHeapFrame,r=Nr(n,e);return new Hi({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){let n=XV.SetComputeUnitLimit,r=Nr(n,e);return new Hi({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){let n=XV.SetComputeUnitPrice,r=Nr(n,{microLamports:BigInt(e.microLamports)});return new Hi({keys:[],programId:this.programId,data:r})}};hde.programId=new Fn("ComputeBudget111111111111111111111111111111");rVe=64,iVe=32,aVe=64,oVe=re.struct([re.u8("numSignatures"),re.u8("padding"),re.u16("signatureOffset"),re.u16("signatureInstructionIndex"),re.u16("publicKeyOffset"),re.u16("publicKeyInstructionIndex"),re.u16("messageDataOffset"),re.u16("messageDataSize"),re.u16("messageInstructionIndex")]),mde=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:n,message:r,signature:i,instructionIndex:a}=e;fa(n.length===iVe,`Public Key must be ${iVe} bytes but received ${n.length} bytes`),fa(i.length===aVe,`Signature must be ${aVe} bytes but received ${i.length} bytes`);let o=oVe.span,s=o+n.length,c=s+i.length,l=1,u=Sn.Buffer.alloc(c+r.length),f=a??65535;return oVe.encode({numSignatures:l,padding:0,signatureOffset:s,signatureInstructionIndex:f,publicKeyOffset:o,publicKeyInstructionIndex:f,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:f},u),u.fill(n,o),u.fill(i,s),u.fill(r,c),new Hi({keys:[],programId:t.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:n,message:r,instructionIndex:i}=e;fa(n.length===rVe,`Private key must be ${rVe} bytes but received ${n.length} bytes`);try{let a=dde.fromSecretKey(n),o=a.publicKey.toBytes(),s=bde(r,a.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:s,instructionIndex:i})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}};mde.programId=new Fn("Ed25519SigVerify111111111111111111111111111");Wjt=(t,e)=>{let n=B2.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};B2.utils.isValidPrivateKey;Yjt=B2.getPublicKey,sVe=32,ede=20,cVe=64,Jjt=11,tde=re.struct([re.u8("numSignatures"),re.u16("signatureOffset"),re.u8("signatureInstructionIndex"),re.u16("ethAddressOffset"),re.u8("ethAddressInstructionIndex"),re.u16("messageDataOffset"),re.u16("messageDataSize"),re.u8("messageInstructionIndex"),re.blob(20,"ethAddress"),re.blob(64,"signature"),re.u8("recoveryId")]),yde=class t{constructor(){}static publicKeyToEthAddress(e){fa(e.length===cVe,`Public key must be ${cVe} bytes but received ${e.length} bytes`);try{return Sn.Buffer.from(Gc(Wr(e))).slice(-ede)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){let{publicKey:n,message:r,signature:i,recoveryId:a,instructionIndex:o}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:a,instructionIndex:o})}static createInstructionWithEthAddress(e){let{ethAddress:n,message:r,signature:i,recoveryId:a,instructionIndex:o=0}=e,s;typeof n=="string"?n.startsWith("0x")?s=Sn.Buffer.from(n.substr(2),"hex"):s=Sn.Buffer.from(n,"hex"):s=n,fa(s.length===ede,`Address must be ${ede} bytes but received ${s.length} bytes`);let c=1+Jjt,l=c,u=c+s.length,f=u+i.length+1,d=1,p=Sn.Buffer.alloc(tde.span+r.length);return tde.encode({numSignatures:d,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:l,ethAddressInstructionIndex:o,messageDataOffset:f,messageDataSize:r.length,messageInstructionIndex:o,signature:Wr(i),ethAddress:Wr(s),recoveryId:a},p),p.fill(Wr(r),tde.span),new Hi({keys:[],programId:t.programId,data:p})}static createInstructionWithPrivateKey(e){let{privateKey:n,message:r,instructionIndex:i}=e;fa(n.length===sVe,`Private key must be ${sVe} bytes but received ${n.length} bytes`);try{let a=Wr(n),o=Yjt(a,!1).slice(1),s=Sn.Buffer.from(Gc(Wr(r))),[c,l]=Wjt(s,a);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:l,instructionIndex:i})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}};yde.programId=new Fn("KeccakSecp256k11111111111111111111111111111");Qjt=new Fn("StakeConfig11111111111111111111111111111111"),iP=class{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}};_Ve=iP;iP.default=new _Ve(0,0,Fn.default);D2=Object.freeze({Initialize:{index:0,layout:re.struct([re.u32("instruction"),djt(),pjt()])},Authorize:{index:1,layout:re.struct([re.u32("instruction"),vr("newAuthorized"),re.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:re.struct([re.u32("instruction")])},Split:{index:3,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},Withdraw:{index:4,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},Deactivate:{index:5,layout:re.struct([re.u32("instruction")])},Merge:{index:7,layout:re.struct([re.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:re.struct([re.u32("instruction"),vr("newAuthorized"),re.u32("stakeAuthorizationType"),PA("authoritySeed"),vr("authorityOwner")])}}),FZn=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),aK=class{constructor(){}static initialize(e){let{stakePubkey:n,authorized:r,lockup:i}=e,a=i||iP.default,o=D2.Initialize,s=Nr(o,{authorized:{staker:Wr(r.staker.toBuffer()),withdrawer:Wr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:Wr(a.custodian.toBuffer())}}),c={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:rP,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Hi(c)}static createAccountWithSeed(e){let n=new Sa;n.add(tl.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:a}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:a}))}static createAccount(e){let n=new Sa;n.add(tl.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:a}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:a}))}static delegate(e){let{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,a=D2.Delegate,o=Nr(a);return new Sa().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:rm,isSigner:!1,isWritable:!1},{pubkey:Xfe,isSigner:!1,isWritable:!1},{pubkey:Qjt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){let{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:a,custodianPubkey:o}=e,s=D2.Authorize,c=Nr(s,{newAuthorized:Wr(i.toBuffer()),stakeAuthorizationType:a.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:rm,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new Sa().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:a,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:c}=e,l=D2.AuthorizeWithSeed,u=Nr(l,{newAuthorized:Wr(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:i,authorityOwner:Wr(a.toBuffer())}),f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:rm,isSigner:!1,isWritable:!1}];return c&&f.push({pubkey:c,isSigner:!0,isWritable:!1}),new Sa().add({keys:f,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}=e,o=D2.Split,s=Nr(o,{lamports:a});return new Hi({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,n){let r=new Sa;return r.add(tl.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){let{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:a,basePubkey:o,seed:s,lamports:c}=e,l=new Sa;return l.add(tl.allocate({accountPubkey:a,basePubkey:o,seed:s,space:this.space,programId:this.programId})),n&&n>0&&l.add(tl.transfer({fromPubkey:e.authorizedPubkey,toPubkey:a,lamports:n})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:a,lamports:c}))}static merge(e){let{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,a=D2.Merge,o=Nr(a);return new Sa().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:rm,isSigner:!1,isWritable:!1},{pubkey:Xfe,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){let{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:a,custodianPubkey:o}=e,s=D2.Withdraw,c=Nr(s,{lamports:a}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:rm,isSigner:!1,isWritable:!1},{pubkey:Xfe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new Sa().add({keys:l,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:n,authorizedPubkey:r}=e,i=D2.Deactivate,a=Nr(i);return new Sa().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:rm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}};aK.programId=new Fn("Stake11111111111111111111111111111111111111");aK.space=200;tP=Object.freeze({InitializeAccount:{index:0,layout:re.struct([re.u32("instruction"),hjt()])},Authorize:{index:1,layout:re.struct([re.u32("instruction"),vr("newAuthorized"),re.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:re.struct([re.u32("instruction"),re.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:re.struct([re.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:re.struct([re.u32("instruction"),mjt()])}}),HZn=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),oK=class t{constructor(){}static initializeAccount(e){let{votePubkey:n,nodePubkey:r,voteInit:i}=e,a=tP.InitializeAccount,o=Nr(a,{voteInit:{nodePubkey:Wr(i.nodePubkey.toBuffer()),authorizedVoter:Wr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Wr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),s={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:rP,isSigner:!1,isWritable:!1},{pubkey:rm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Hi(s)}static createAccount(e){let n=new Sa;return n.add(tl.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:a}=e,o=tP.Authorize,s=Nr(o,{newAuthorized:Wr(i.toBuffer()),voteAuthorizationType:a.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:rm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Sa().add({keys:c,programId:this.programId,data:s})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:a,voteAuthorizationType:o,votePubkey:s}=e,c=tP.AuthorizeWithSeed,l=Nr(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Wr(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Wr(a.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:rm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Sa().add({keys:u,programId:this.programId,data:l})}static withdraw(e){let{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:a}=e,o=tP.Withdraw,s=Nr(o,{lamports:i}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Sa().add({keys:c,programId:this.programId,data:s})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,a=tP.UpdateValidatorIdentity,o=Nr(a),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Sa().add({keys:s,programId:this.programId,data:o})}};oK.programId=new Fn("Vote111111111111111111111111111111111111111");oK.space=3762;zZn=new Fn("Va1idator1nfo111111111111111111111111111111"),jZn=Ke({name:ut(),website:on(ut()),details:on(ut()),iconUrl:on(ut()),keybaseUsername:on(ut())}),GZn=new Fn("Vote111111111111111111111111111111111111111"),VZn=re.struct([vr("nodePubkey"),vr("authorizedWithdrawer"),re.u8("commission"),re.nu64(),re.seq(re.struct([re.nu64("slot"),re.u32("confirmationCount")]),re.offset(re.u32(),-8),"votes"),re.u8("rootSlotValid"),re.nu64("rootSlot"),re.nu64(),re.seq(re.struct([re.nu64("epoch"),vr("authorizedVoter")]),re.offset(re.u32(),-8),"authorizedVoters"),re.struct([re.seq(re.struct([vr("authorizedPubkey"),re.nu64("epochOfLastAuthorizedSwitch"),re.nu64("targetEpoch")]),32,"buf"),re.nu64("idx"),re.u8("isEmpty")],"priorVoters"),re.nu64(),re.seq(re.struct([re.nu64("epoch"),re.nu64("credits"),re.nu64("prevCredits")]),re.offset(re.u32(),-8),"epochCredits"),re.struct([re.nu64("slot"),re.nu64("timestamp")],"lastTimestamp")])});function Zjt(t){return(e,n,r,i)=>e.method==="solana_chainId"?(n.result=t,i()):r()}function Xjt(t){return(e,n,r,i)=>e.method==="solana_provider_config"?(n.result=t,i()):r()}function Ade(t){let{chainId:e}=t;return sd([Zjt(e),Xjt(t)])}function SVe(t){let{rpcTarget:e}=t,n=gw({rpcTarget:e});return{networkMiddleware:sd([Ade(t),n]),fetchMiddleware:n}}var _de=B(()=>{Co();Zi()});function eGt({getAccounts:t}){return dr(async(e,n,r)=>{let{method:i}=e;if(i!==ni.GET_ACCOUNTS)return r();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");let a=await t(e);n.result=a})}function tGt({requestAccounts:t}){return dr(async(e,n,r)=>{let{method:i}=e;if(i!==ni.SOLANA_REQUEST_ACCOUNTS)return r();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");let a=await t(e);n.result=a})}function am(t,e){return dr(async(n,r,i)=>{let{method:a}=n;if(a!==t)return i();if(!e)throw new Error(`WalletMiddleware - ${t} not provided`);let o=await e(n);r.result=o})}function lK(t){let{getAccounts:e,requestAccounts:n,signTransaction:r,signAndSendTransaction:i,signAllTransactions:a,signMessage:o,getPrivateKey:s,getSecretKey:c,getPublicKey:l}=t;return sd([tGt({requestAccounts:n}),eGt({getAccounts:e}),am(ni.SIGN_TRANSACTION,r),am(ni.SEND_TRANSACTION,i),am(ni.SIGN_ALL_TRANSACTIONS,a),am(ni.SIGN_MESSAGE,o),am(ni.SOLANA_PRIVATE_KEY,s),am(ni.PRIVATE_KEY,s),am("public_key",l),am("solanaPublicKey",l),am("solanaSecretKey",c)])}var Tde=B(()=>{Zi();Fw()});var uK,CVe=B(()=>{Zi();_de();Tde();Mw();ss();uK=class extends Ll{constructor({config:e,state:n}){super({config:e,state:n})}async switchChain(e){throw rt.unsupportedOperation("Chain switching is not supported by this connector")}async setupProvider(e,n){let r=new Y0,i=this.getChain(n),a=this.getProviderHandlers(e),o=lK(a);r.push(o);let s=Ade(i);r.push(s);let c=this.getInjectedProviderProxy(e);c&&r.push(c);let l=Hu(r);this.updateProviderEngineProxy(l),await this.lookupNetwork(e,n)}async lookupNetwork(e,n){return this.update({chainId:n}),n||""}getInjectedProviderProxy(e){}}});var IVe,RVe=B(()=>{jF();Zi();IVe=t=>({requestAccounts:async()=>t.publicKey?[S1.encode(t.publicKey.toBytes())]:[],getPublicKey:async()=>t.publicKey?S1.encode(t.publicKey.toBytes()):"",getAccounts:async()=>t.publicKey?[S1.encode(t.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw Gn.methodNotSupported()},getSecretKey:async()=>{throw Gn.methodNotSupported()},signTransaction:async n=>await t.signTransaction(n.params.message),signMessage:async n=>await t.signMessage(n.params.data,n.params.from,n.params.display),signAllTransactions:async n=>{var r,i;if(!((r=n.params)!==null&&r!==void 0&&r.message)||!((i=n.params)!==null&&i!==void 0&&i.message.length))throw Gn.invalidParams("message");return await t.signAllTransactions(n.params.message)},signAndSendTransaction:async n=>await t.signAndSendTransaction(n.params.message)})});var fK,Sde=B(()=>{fK=t=>{switch(t.chainId){case"0x65":return"solana:mainnet";case"0x66":return"solana:testnet";case"0x67":return"solana:devnet";default:return null}}});var dK,OVe=B(()=>{efe();TVe();jF();CVe();RVe();Sde();ss();dK=class extends uK{getProviderHandlers(e){let n=fK(this.config.chain),r=()=>{let c=e?.accounts[0];if(!c)throw rt.notConnectedError();return c};return IVe({get publicKey(){return new Fn(r().publicKey)},signMessage:async c=>{let l=r(),u=new Uint8Array(Buffer.from(c,"utf-8")),f=await e.features[lV].signMessage({account:l,message:u});return S1.encode(f[0].signature)},signTransaction:async c=>{let l=r(),u=await e.features[DN].signTransaction({account:l,transaction:new Uint8Array(Buffer.from(c,"base64")),chain:n});return S1.encode(rK.deserialize(u[0].signedTransaction).signatures[0])},signAllTransactions:async c=>{let l=r();return Promise.all(c.map(async u=>{let f=await e.features[DN].signTransaction({account:l,transaction:new Uint8Array(Buffer.from(u,"base64")),chain:n});return Buffer.from(f[0].signedTransaction).toString("base64")}))},signAndSendTransaction:async c=>{let l=r(),u=await e.features[cV].signAndSendTransaction({account:l,transaction:new Uint8Array(Buffer.from(c,"base64")),chain:n});return S1.encode(u[0].signature)}})}}});var Cde,NVe,PVe=B(()=>{Qe();nfe();Bje();OVe();Sde();kw();P5();Co();md();U1();ss();Cde=class extends pV{constructor(e){super(e),K(this,"name",void 0),K(this,"connectorNamespace",jo.SOLANA),K(this,"currentChainNamespace",bt.SOLANA),K(this,"type",cs.EXTERNAL),K(this,"isInjected",!0),K(this,"status",Pe.NOT_READY),K(this,"wallet",null),K(this,"injectedProvider",null),this.name=e.name,this.icon=e.wallet.icon,this.wallet=["gate","solflare"].includes(this.name)?Object.freeze(e.wallet):e.wallet}get provider(){return this.status!==Pe.NOT_READY&&this.injectedProvider?this.injectedProvider:null}get isWalletConnected(){return this.status===Pe.CONNECTED&&this.wallet.accounts.length>0}async init(e){await super.init(e);let n=this.coreOptions.chains.find(r=>r.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:n}),this.injectedProvider=new dK({config:{chain:n,chains:this.coreOptions.chains}}),await this.injectedProvider.setupProvider(this.wallet,e.chainId),this.status=Pe.READY,this.emit(lt.READY,this.name);try{if(De.debug("initializing solana injected connector"),e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,rt.connectionError("Failed to rehydrate.")}catch(r){this.emit(lt.REHYDRATION_ERROR,r)}}async connect({chainId:e}){try{super.checkConnectionRequirements();let n=this.coreOptions.chains.find(i=>i.chainId===e);if(!n)throw rt.connectionError("Chain config is not available");this.status=Pe.CONNECTING,this.emit(lt.CONNECTING,{connector:this.name});let r=fK(n);if(!this.wallet.chains.find(i=>i===r))throw rt.connectionError(`Chain ${r} not supported. Supported chains are ${this.wallet.chains.join(", ")}`);if(this.isWalletConnected||await this.wallet.features[dV].connect(),this.wallet.accounts.length===0)throw rt.connectionError();return this.status=Pe.CONNECTED,this.emit(lt.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.provider}),this.provider}catch(n){throw this.status=Pe.READY,this.rehydrated||this.emit(lt.ERRORED,n),this.rehydrated=!1,n}}async disconnect(e={cleanup:!1}){await super.disconnectSession();try{var n;await((n=this.wallet.features[Pje])===null||n===void 0?void 0:n.disconnect()),e.cleanup?(this.status=Pe.NOT_READY,this.injectedProvider=null):this.status=Pe.READY,await super.disconnect()}catch(r){this.emit(lt.ERRORED,rt.disconnectionError(r?.message))}}async getUserInfo(){if(!this.isWalletConnected)throw rt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,n=!1){var r;super.checkSwitchChainRequirements(e,n),await((r=this.injectedProvider)===null||r===void 0?void 0:r.switchChain(e))}async enableMFA(){throw new Error("Method not implemented.")}async manageMFA(){throw new Error("Method Not implemented")}},NVe=t=>({coreOptions:e})=>new Cde({name:OO(t.name),wallet:t,coreOptions:e})});var kVe={};$t(kVe,{createSolanaMipd:()=>Ije,hasSolanaWalletStandardFeatures:()=>nGt,walletStandardConnector:()=>NVe});var nGt,MVe=B(()=>{efe();Oje();nfe();PVe();nGt=t=>{let{chains:e,features:n}=t;return e.some(a=>a.startsWith("solana"))?!![dV,lV,DN,cV].every(a=>Object.keys(n).includes(a)):void 0}});var Ide,BVe,DVe=B(()=>{Qe();kw();Yue();P5();Co();md();U1();ss();Ide=class extends pA{constructor(e){super(e),K(this,"connectorNamespace",jo.EIP155),K(this,"currentChainNamespace",bt.EIP155),K(this,"type",cs.EXTERNAL),K(this,"name",void 0),K(this,"isInjected",!0),K(this,"status",Pe.NOT_READY),K(this,"injectedProvider",null),this.name=e.name,this.injectedProvider=e.provider,this.icon=e.icon}get provider(){return this.status!==Pe.NOT_READY&&this.injectedProvider?this.injectedProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){await super.init(e);let n=this.coreOptions.chains.find(r=>r.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:n}),this.status=Pe.READY,this.emit(lt.READY,this.name);try{if(De.debug(`initializing ${this.name} injected connector`),e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,rt.connectionError("Failed to rehydrate.")}catch(r){this.emit(lt.REHYDRATION_ERROR,r)}}async connect({chainId:e}){if(super.checkConnectionRequirements(),!this.injectedProvider)throw rt.connectionError("Injected provider is not available");let n=this.coreOptions.chains.find(r=>r.chainId===e);if(!n)throw rt.connectionError("Chain config is not available");this.status=Pe.CONNECTING,this.emit(lt.CONNECTING,{connector:this.name});try{if(await this.injectedProvider.request({method:"eth_requestAccounts"}),this.injectedProvider.chainId!==n.chainId)try{await this.switchChain(n,!0)}catch{await this.addChain(n,!0),await this.switchChain(n,!0)}this.status=Pe.CONNECTED;let r=i=>{if(i.length===0){var a;this.disconnect(),(a=this.injectedProvider)!==null&&a!==void 0&&a.removeListener&&this.injectedProvider.removeListener("accountsChanged",r)}};return this.injectedProvider.on("accountsChanged",r),this.emit(lt.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.injectedProvider}),this.injectedProvider}catch(r){throw this.status=Pe.READY,this.rehydrated||this.emit(lt.ERRORED,r),this.rehydrated=!1,r instanceof Ua?r:rt.connectionError(`Failed to login with ${this.name} injected wallet`)}}async disconnect(e={cleanup:!1}){if(!this.injectedProvider)throw rt.connectionError("Injected provider is not available");await super.disconnectSession(),typeof this.injectedProvider.removeAllListeners<"u"&&this.injectedProvider.removeAllListeners();try{await this.injectedProvider.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch{}e.cleanup?(this.status=Pe.NOT_READY,this.injectedProvider=null):this.status=Pe.READY,await super.disconnect()}async getUserInfo(){if(this.status!==Pe.CONNECTED)throw rt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e,n=!1){if(!this.injectedProvider)throw rt.connectionError("Injected provider is not available");await this.injectedProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}async switchChain(e,n=!1){if(!this.injectedProvider)throw rt.connectionError("Injected provider is not available");super.checkSwitchChainRequirements(e,n),await this.injectedProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]})}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}},BVe=t=>({coreOptions:e})=>new Ide({name:OO(t.info.name),provider:t.provider,icon:t.info.icon,coreOptions:e})});function LVe(t){if(typeof window>"u")return;let e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}var UVe=B(()=>{});function Rde(){let t=new Set,e=[],n=()=>LVe(i=>{e.some(({info:a})=>a.uuid===i.info.uuid)||(e=[...e,i],t.forEach(a=>a(e,{added:[i]})))}),r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(a=>a.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:a}={}){return t.add(i),a&&i(e,{added:e}),()=>t.delete(i)}}}var FVe=B(()=>{UVe()});var HVe=B(()=>{FVe()});var zVe={};$t(zVe,{createMipd:()=>Rde,injectedEvmConnector:()=>BVe});var jVe=B(()=>{DVe();HVe()});var Ode,Nde,Pde,kde,rGt,Mde,Bde,Dde,Lde,pK,Ude=B(()=>{sj();rx();Co();Ode=(function(t){return t.ETH_SEND_TRANSACTION="eth_sendTransaction",t.ETH_SIGN_TRANSACTION="eth_signTransaction",t.ETH_SIGN="eth_sign",t.PERSONAL_SIGN="personal_sign",t.ETH_SIGN_TYPED_DATA="eth_signTypedData",t.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",t.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",t.ADD_ETHEREUM_CHAIN="wallet_addEthereumChain",t.SWITCH_ETHEREUM_CHAIN="wallet_switchEthereumChain",t})({}),Nde=(function(t){return t.SIGN_TRANSACTION="solana_signTransaction",t.SIGN_MESSAGE="solana_signMessage",t})({}),Pde=(function(t){return t.ETH_CHAIN_CHANGED="chainChanged",t.ETH_ACCOUNTS_CHANGED="accountsChanged",t})({}),kde=(function(t){return t.SOL_CHAIN_CHANGED="chainChanged",t.SOL_ACCOUNTS_CHANGED="accountsChanged",t})({}),rGt=async()=>({name:aj(window),icon:await oj(window)}),Mde=t=>{let e=[];return t.forEach(n=>{let[r]=n.split(":");e.includes(r)||e.push(r)}),e},Bde=t=>{switch(t){case bt.EIP155:return Object.values(Ode);case bt.SOLANA:return Object.values(Nde);default:throw new Error(`No default methods for namespace: ${t}`)}},Dde=t=>{switch(t){case bt.EIP155:return Object.values(Pde);case bt.SOLANA:return Object.values(kde);default:throw new Error(`No default events for namespace: ${t}`)}},Lde=t=>{let e=Mde(t);return Object.fromEntries(e.map(n=>[n,{methods:Bde(n),chains:t.filter(r=>r.startsWith(n)),events:Dde(n)}]))},pK=async(t,e)=>{let n=await rGt(),r={walletConnectInitOptions:{projectId:e,relayUrl:"wss://relay.walletconnect.com",metadata:{name:n.name,description:n.name,url:window.location.origin,icons:[n.icon||""]}}},i=t.map(o=>{if(o.chainNamespace===bt.SOLANA)return`${o.chainNamespace}:${Vb[o.chainId]}`;if(o.chainNamespace===bt.EIP155)return`${o.chainNamespace}:${parseInt(o.chainId,16)}`;throw new Error(`Unsupported chain namespace: ${o.chainNamespace}`)}),a={optionalNamespaces:Lde(i)};return{connectorSettings:r,loginSettings:a}}});var oP={};$t(oP,{__assign:()=>Hde,__asyncDelegator:()=>yGt,__asyncGenerator:()=>mGt,__asyncValues:()=>bGt,__await:()=>aP,__awaiter:()=>lGt,__classPrivateFieldGet:()=>EGt,__classPrivateFieldSet:()=>xGt,__createBinding:()=>fGt,__decorate:()=>oGt,__exportStar:()=>dGt,__extends:()=>iGt,__generator:()=>uGt,__importDefault:()=>vGt,__importStar:()=>wGt,__makeTemplateObject:()=>gGt,__metadata:()=>cGt,__param:()=>sGt,__read:()=>GVe,__rest:()=>aGt,__spread:()=>pGt,__spreadArrays:()=>hGt,__values:()=>zde});function iGt(t,e){Fde(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function aGt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oGt(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function sGt(t,e){return function(n,r){e(n,r,t)}}function cGt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function lGt(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((r=r.apply(t,e||[])).next())})}function uGt(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function fGt(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function dGt(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function zde(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function GVe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function pGt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(GVe(arguments[e]));return t}function hGt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function aP(t){return this instanceof aP?(this.v=t,this):new aP(t)}function mGt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(h,m){a.push([d,p,h,m])>1||s(d,p)})})}function s(d,p){try{c(r[d](p))}catch(h){f(a[0][3],h)}}function c(d){d.value instanceof aP?Promise.resolve(d.value.v).then(l,u):f(a[0][2],d)}function l(d){s("next",d)}function u(d){s("throw",d)}function f(d,p){d(p),a.shift(),a.length&&s(a[0][0],a[0][1])}}function yGt(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(o){return(n=!n)?{value:aP(t[i](o)),done:i==="return"}:a?a(o):o}:a}}function bGt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zde=="function"?zde(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,c){o=t[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}function gGt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function wGt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function vGt(t){return t&&t.__esModule?t:{default:t}}function EGt(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function xGt(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}var Fde,Hde,sP=B(()=>{Fde=function(t,e){return Fde=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Fde(t,e)};Hde=function(){return Hde=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hde.apply(this,arguments)}});var VVe=le(hK=>{"use strict";Object.defineProperty(hK,"__esModule",{value:!0});hK.delay=void 0;function AGt(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}hK.delay=AGt});var KVe=le(LA=>{"use strict";Object.defineProperty(LA,"__esModule",{value:!0});LA.ONE_THOUSAND=LA.ONE_HUNDRED=void 0;LA.ONE_HUNDRED=100;LA.ONE_THOUSAND=1e3});var $Ve=le(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.ONE_YEAR=St.FOUR_WEEKS=St.THREE_WEEKS=St.TWO_WEEKS=St.ONE_WEEK=St.THIRTY_DAYS=St.SEVEN_DAYS=St.FIVE_DAYS=St.THREE_DAYS=St.ONE_DAY=St.TWENTY_FOUR_HOURS=St.TWELVE_HOURS=St.SIX_HOURS=St.THREE_HOURS=St.ONE_HOUR=St.SIXTY_MINUTES=St.THIRTY_MINUTES=St.TEN_MINUTES=St.FIVE_MINUTES=St.ONE_MINUTE=St.SIXTY_SECONDS=St.THIRTY_SECONDS=St.TEN_SECONDS=St.FIVE_SECONDS=St.ONE_SECOND=void 0;St.ONE_SECOND=1;St.FIVE_SECONDS=5;St.TEN_SECONDS=10;St.THIRTY_SECONDS=30;St.SIXTY_SECONDS=60;St.ONE_MINUTE=St.SIXTY_SECONDS;St.FIVE_MINUTES=St.ONE_MINUTE*5;St.TEN_MINUTES=St.ONE_MINUTE*10;St.THIRTY_MINUTES=St.ONE_MINUTE*30;St.SIXTY_MINUTES=St.ONE_MINUTE*60;St.ONE_HOUR=St.SIXTY_MINUTES;St.THREE_HOURS=St.ONE_HOUR*3;St.SIX_HOURS=St.ONE_HOUR*6;St.TWELVE_HOURS=St.ONE_HOUR*12;St.TWENTY_FOUR_HOURS=St.ONE_HOUR*24;St.ONE_DAY=St.TWENTY_FOUR_HOURS;St.THREE_DAYS=St.ONE_DAY*3;St.FIVE_DAYS=St.ONE_DAY*5;St.SEVEN_DAYS=St.ONE_DAY*7;St.THIRTY_DAYS=St.ONE_DAY*30;St.ONE_WEEK=St.SEVEN_DAYS;St.TWO_WEEKS=St.ONE_WEEK*2;St.THREE_WEEKS=St.ONE_WEEK*3;St.FOUR_WEEKS=St.ONE_WEEK*4;St.ONE_YEAR=St.ONE_DAY*365});var jde=le(mK=>{"use strict";Object.defineProperty(mK,"__esModule",{value:!0});var qVe=(sP(),u3(oP));qVe.__exportStar(KVe(),mK);qVe.__exportStar($Ve(),mK)});var YVe=le(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0});UA.fromMiliseconds=UA.toMiliseconds=void 0;var WVe=jde();function _Gt(t){return t*WVe.ONE_THOUSAND}UA.toMiliseconds=_Gt;function TGt(t){return Math.floor(t/WVe.ONE_THOUSAND)}UA.fromMiliseconds=TGt});var QVe=le(yK=>{"use strict";Object.defineProperty(yK,"__esModule",{value:!0});var JVe=(sP(),u3(oP));JVe.__exportStar(VVe(),yK);JVe.__exportStar(YVe(),yK)});var ZVe=le(cP=>{"use strict";Object.defineProperty(cP,"__esModule",{value:!0});cP.Watch=void 0;var bK=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let n=this.get(e);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let r=Date.now()-n.started;this.timestamps.set(e,{started:n.started,elapsed:r})}get(e){let n=this.timestamps.get(e);if(typeof n>"u")throw new Error(`No timestamp found for label: ${e}`);return n}elapsed(e){let n=this.get(e);return n.elapsed||Date.now()-n.started}};cP.Watch=bK;cP.default=bK});var XVe=le(gK=>{"use strict";Object.defineProperty(gK,"__esModule",{value:!0});gK.IWatch=void 0;var Gde=class{};gK.IWatch=Gde});var eKe=le(Vde=>{"use strict";Object.defineProperty(Vde,"__esModule",{value:!0});var SGt=(sP(),u3(oP));SGt.__exportStar(XVe(),Vde)});var HA=le(FA=>{"use strict";Object.defineProperty(FA,"__esModule",{value:!0});var wK=(sP(),u3(oP));wK.__exportStar(QVe(),FA);wK.__exportStar(ZVe(),FA);wK.__exportStar(eKe(),FA);wK.__exportStar(jde(),FA)});var X1,tKe=B(()=>{X1=class{}});var Kde=B(()=>{tKe()});var rKe,EK,$de,nKe,U2,vK,iKe=B(()=>{rKe=fe(Ps()),EK=fe(HA());Kde();$de=class extends X1{constructor(e){super()}},nKe=EK.FIVE_SECONDS,U2={pulse:"heartbeat_pulse"},vK=class t extends $de{constructor(e){super(e),this.events=new rKe.EventEmitter,this.interval=nKe,this.interval=e?.interval||nKe}static async init(e){let n=new t(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,EK.toMiliseconds)(this.interval))}pulse(){this.events.emit(U2.pulse)}}});function OGt(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){NGt(t);return}return e}function NGt(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function lP(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);let n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!RGt.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(CGt.test(t)||IGt.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,OGt)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}var CGt,IGt,RGt,aKe=B(()=>{CGt=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,IGt=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,RGt=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/});function PGt(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ls(t,...e){try{return PGt(t(...e))}catch(n){return Promise.reject(n)}}function kGt(t){let e=typeof t;return t===null||e!=="object"&&e!=="function"}function MGt(t){let e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function uP(t){if(kGt(t))return String(t);if(MGt(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return uP(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function oKe(t){return typeof t=="string"?t:qde+DGt(t)}function sKe(t){return typeof t!="string"||!t.startsWith(qde)?t:BGt(t.slice(qde.length))}function BGt(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function DGt(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function nl(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function cKe(...t){return nl(t.join(":"))}function fP(t){return t=nl(t),t?t+":":""}function lKe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function uKe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}var qde,fKe=B(()=>{qde="base64:"});function hKe(t={}){let e={mounts:{"":t.driver||UGt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(let u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,u)=>{if(e.watching){u=nl(u);for(let f of e.watchListeners)f(l,u)}},a=async()=>{if(!e.watching){e.watching=!0;for(let l in e.mounts)e.unwatch[l]=await dKe(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(let l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},s=(l,u,f)=>{let d=new Map,p=h=>{let m=d.get(h.base);return m||(m={driver:h.driver,base:h.base,items:[]},d.set(h.base,m)),m};for(let h of l){let m=typeof h=="string",w=nl(m?h:h.key),g=m?void 0:h.value,x=m||!h.options?u:{...u,...h.options},C=n(w);p(C).items.push({key:w,value:g,relativeKey:C.relativeKey,options:x})}return Promise.all([...d.values()].map(h=>f(h))).then(h=>h.flat())},c={hasItem(l,u={}){l=nl(l);let{relativeKey:f,driver:d}=n(l);return ls(d.hasItem,f,u)},getItem(l,u={}){l=nl(l);let{relativeKey:f,driver:d}=n(l);return ls(d.getItem,f,u).then(p=>lP(p))},getItems(l,u={}){return s(l,u,f=>f.driver.getItems?ls(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(p=>({key:cKe(f.base,p.key),value:lP(p.value)}))):Promise.all(f.items.map(d=>ls(f.driver.getItem,d.relativeKey,d.options).then(p=>({key:d.key,value:lP(p)})))))},getItemRaw(l,u={}){l=nl(l);let{relativeKey:f,driver:d}=n(l);return d.getItemRaw?ls(d.getItemRaw,f,u):ls(d.getItem,f,u).then(p=>sKe(p))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=nl(l);let{relativeKey:d,driver:p}=n(l);p.setItem&&(await ls(p.setItem,d,uP(u),f),p.watch||i("update",l))},async setItems(l,u){await s(l,u,async f=>{if(f.driver.setItems)return ls(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:uP(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>ls(f.driver.setItem,d.relativeKey,uP(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=nl(l);let{relativeKey:d,driver:p}=n(l);if(p.setItemRaw)await ls(p.setItemRaw,d,u,f);else if(p.setItem)await ls(p.setItem,d,oKe(u),f);else return;p.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=nl(l);let{relativeKey:f,driver:d}=n(l);d.removeItem&&(await ls(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await ls(d.removeItem,f+"$",u),d.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=nl(l);let{relativeKey:f,driver:d}=n(l),p=Object.create(null);if(d.getMeta&&Object.assign(p,await ls(d.getMeta,f,u)),!u.nativeOnly){let h=await ls(d.getItem,f+"$",u).then(m=>lP(m));h&&typeof h=="object"&&(typeof h.atime=="string"&&(h.atime=new Date(h.atime)),typeof h.mtime=="string"&&(h.mtime=new Date(h.mtime)),Object.assign(p,h))}return p},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=fP(l);let f=r(l,!0),d=[],p=[],h=!0;for(let w of f){w.driver.flags?.maxDepth||(h=!1);let g=await ls(w.driver.getKeys,w.relativeBase,u);for(let x of g){let C=w.mountpoint+nl(x);d.some(P=>C.startsWith(P))||p.push(C)}d=[w.mountpoint,...d.filter(x=>!x.startsWith(w.mountpoint))]}let m=u.maxDepth!==void 0&&!h;return p.filter(w=>(!m||lKe(w,u.maxDepth))&&uKe(w,l))},async clear(l,u={}){l=fP(l),await Promise.all(r(l,!1).map(async f=>{if(f.driver.clear)return ls(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){let d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(p=>f.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>pKe(l)))},async watch(l){return await a(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=fP(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(dKe(u,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=fP(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await pKe(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=nl(l)+":";let u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=nl(l),r(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function dKe(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function pKe(t){typeof t.dispose=="function"&&await ls(t.dispose)}var LGt,UGt,mKe=B(()=>{aKe();fKe();LGt="memory",UGt=()=>{let t=new Map;return{name:LGt,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}}});function mv(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Yde(t,e){let n,r=()=>{if(n)return n;let i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=mv(i),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(i,a)=>r().then(o=>a(o.transaction(e,i).objectStore(e)))}function dP(){return Wde||(Wde=Yde("keyval-store","keyval")),Wde}function Jde(t,e=dP()){return e("readonly",n=>mv(n.get(t)))}function yKe(t,e,n=dP()){return n("readwrite",r=>(r.put(e,t),mv(r.transaction)))}function bKe(t,e=dP()){return e("readwrite",n=>(n.delete(t),mv(n.transaction)))}function gKe(t=dP()){return t("readwrite",e=>(e.clear(),mv(e.transaction)))}function FGt(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},mv(t.transaction)}function wKe(t=dP()){return t("readonly",e=>{if(e.getAllKeys)return mv(e.getAllKeys());let n=[];return FGt(e,r=>n.push(r.key)).then(()=>n)})}var Wde,vKe=B(()=>{});function Vh(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return zGt(t)}catch{return t}}function Id(t){return typeof t=="string"?t:HGt(t)||""}var HGt,zGt,zA=B(()=>{HGt=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),zGt=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)}});function $Gt(t){var e;return[t[0],Vh((e=t[1])!=null?e:"")]}var jGt,GGt,VGt,KGt,Zde,Qde,xK,Xde,qGt,EKe,WGt,YGt,AK,xKe=B(()=>{mKe();vKe();zA();jGt="idb-keyval",GGt=(t={})=>{let e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i,r;return t.dbName&&t.storeName&&(r=Yde(t.dbName,t.storeName)),{name:jGt,options:t,async hasItem(i){return!(typeof await Jde(n(i),r)>"u")},async getItem(i){return await Jde(n(i),r)??null},setItem(i,a){return yKe(n(i),a,r)},removeItem(i){return bKe(n(i),r)},getKeys(){return wKe(r)},clear(){return gKe(r)}}},VGt="WALLET_CONNECT_V2_INDEXED_DB",KGt="keyvaluestorage",Zde=class{constructor(){this.indexedDb=hKe({driver:GGt({dbName:VGt,storeName:KGt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Id(n))}async removeItem(e){await this.indexedDb.removeItem(e)}},Qde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xK={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){let n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Qde<"u"&&Qde.localStorage?xK.exports=Qde.localStorage:typeof window<"u"&&window.localStorage?xK.exports=window.localStorage:xK.exports=new e})();Xde=class{constructor(){this.localStorage=xK.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map($Gt)}async getItem(e){let n=this.localStorage.getItem(e);if(n!==null)return Vh(n)}async setItem(e,n){this.localStorage.setItem(e,Id(n))}async removeItem(e){this.localStorage.removeItem(e)}},qGt="wc_storage_version",EKe=1,WGt=async(t,e,n)=>{let r=qGt,i=await e.getItem(r);if(i&&i>=EKe){n(e);return}let a=await t.getKeys();if(!a.length){n(e);return}let o=[];for(;a.length;){let s=a.shift();if(!s)continue;let c=s.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){let l=await t.getItem(s);await e.setItem(s,l),o.push(s)}}await e.setItem(r,EKe),n(e),YGt(t,o)},YGt=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})},AK=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};let e=new Xde;this.storage=e;try{let n=new Zde;WGt(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}}});var _Ke=le((_er,AKe)=>{"use strict";function JGt(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}AKe.exports=QGt;function QGt(t,e,n){var r=n&&n.stringify||JGt,i=1;if(typeof t=="object"&&t!==null){var a=e.length+i;if(a===1)return t;var o=new Array(a);o[0]=r(t);for(var s=1;s<a;s++)o[s]=r(e[s]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,f=-1,d=t&&t.length||0,p=0;p<d;){if(t.charCodeAt(p)===37&&p+1<d){switch(f=f>-1?f:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=c||e[u]==null)break;f<p&&(l+=t.slice(f,p)),l+=Number(e[u]),f=p+2,p++;break;case 105:if(u>=c||e[u]==null)break;f<p&&(l+=t.slice(f,p)),l+=Math.floor(Number(e[u])),f=p+2,p++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;f<p&&(l+=t.slice(f,p));var h=typeof e[u];if(h==="string"){l+="'"+e[u]+"'",f=p+2,p++;break}if(h==="function"){l+=e[u].name||"<anonymous>",f=p+2,p++;break}l+=r(e[u]),f=p+2,p++;break;case 115:if(u>=c)break;f<p&&(l+=t.slice(f,p)),l+=String(e[u]),f=p+2,p++;break;case 37:f<p&&(l+=t.slice(f,p)),l+="%",f=p+2,p++,u--;break}++u}++p}return f===-1?t:(f<d&&(l+=t.slice(f)),l)}});var n1e=le((Ter,IKe)=>{"use strict";var TKe=_Ke();IKe.exports=Kh;var pP=sVt().console||{},ZGt={mapHttpRequest:_K,mapHttpResponse:_K,wrapRequestSerializer:e1e,wrapResponseSerializer:e1e,wrapErrorSerializer:e1e,req:_K,res:_K,err:rVt};function XGt(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Kh(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let n=t.browser.write||pP;t.browser.write&&(t.browser.asObject=!0);let r=t.serializers||{},i=XGt(t.browser.serialize,r),a=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(a=!1);let o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");let s=t.level||"info",c=Object.create(n);c.log||(c.log=hP),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:f,set:d});let l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:iVt(t)};c.levels=Kh.levels,c.level=s,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=hP,c.serializers=r,c._serialize=i,c._stdErrSerialize=a,c.child=p,e&&(c._logEvent=t1e());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function d(h){if(h!=="silent"&&!this.levels.values[h])throw Error("unknown level "+h);this._level=h,jA(l,c,"error","log"),jA(l,c,"fatal","error"),jA(l,c,"warn","error"),jA(l,c,"info","log"),jA(l,c,"debug","log"),jA(l,c,"trace","log")}function p(h,m){if(!h)throw new Error("missing bindings for child Pino");m=m||{},i&&h.serializers&&(m.serializers=h.serializers);let w=m.serializers;if(i&&w){var g=Object.assign({},r,w),x=t.browser.serialize===!0?Object.keys(g):i;delete h.serializers,TK([h],x,g,this._stdErrSerialize)}function C(P){this._childLevel=(P._childLevel|0)+1,this.error=GA(P,h,"error"),this.fatal=GA(P,h,"fatal"),this.warn=GA(P,h,"warn"),this.info=GA(P,h,"info"),this.debug=GA(P,h,"debug"),this.trace=GA(P,h,"trace"),g&&(this.serializers=g,this._serialize=x),e&&(this._logEvent=t1e([].concat(P._logEvent.bindings,h)))}return C.prototype=this,new C(this)}return c}Kh.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Kh.stdSerializers=ZGt;Kh.stdTimeFunctions=Object.assign({},{nullTime:SKe,epochTime:CKe,unixTime:aVt,isoTime:oVt});function jA(t,e,n,r){let i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?hP:i[n]?i[n]:pP[n]||pP[r]||hP,eVt(t,e,n)}function eVt(t,e,n){!t.transmit&&e[n]===hP||(e[n]=(function(r){return function(){let a=t.timestamp(),o=new Array(arguments.length),s=Object.getPrototypeOf&&Object.getPrototypeOf(this)===pP?pP:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&TK(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(s,tVt(this,n,o,a)):r.apply(s,o),t.transmit){let l=t.transmit.level||e.level,u=Kh.levels.values[l],f=Kh.levels.values[n];if(f<u)return;nVt(this,{ts:a,methodLevel:n,methodValue:f,transmitLevel:l,transmitValue:Kh.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}})(e[n]))}function tVt(t,e,n,r){t._serialize&&TK(n,t._serialize,t.serializers,t._stdErrSerialize);let i=n.slice(),a=i[0],o={};r&&(o.time=r),o.level=Kh.levels.values[e];let s=(t._childLevel|0)+1;if(s<1&&(s=1),a!==null&&typeof a=="object"){for(;s--&&typeof i[0]=="object";)Object.assign(o,i.shift());a=i.length?TKe(i.shift(),i):void 0}else typeof a=="string"&&(a=TKe(i.shift(),i));return a!==void 0&&(o.msg=a),o}function TK(t,e,n,r){for(let i in t)if(r&&t[i]instanceof Error)t[i]=Kh.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(let a in t[i])e&&e.indexOf(a)>-1&&a in n&&(t[i][a]=n[a](t[i][a]))}function GA(t,e,n){return function(){let r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function nVt(t,e,n){let r=e.send,i=e.ts,a=e.methodLevel,o=e.methodValue,s=e.val,c=t._logEvent.bindings;TK(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,r(a,t._logEvent,s),t._logEvent=t1e(c)}function t1e(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function rVt(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let n in t)e[n]===void 0&&(e[n]=t[n]);return e}function iVt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?SKe:CKe}function _K(){return{}}function e1e(t){return t}function hP(){}function SKe(){return!1}function CKe(){return Date.now()}function aVt(){return Math.round(Date.now()/1e3)}function oVt(){return new Date(Date.now()).toISOString()}function sVt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});function bP(t){return RK(IK({},t),{level:t?.level||cVt.level})}function hVt(t,e=yP){return t[e]||""}function mVt(t,e,n=yP){return t[n]=e,t}function hc(t,e=yP){let n="";return typeof t.bindings>"u"?n=hVt(t,e):n=t.bindings().context||"",n}function yVt(t,e,n=yP){let r=hc(t,n);return r.trim()?`${r}/${e}`:e}function w0(t,e,n=yP){let r=yVt(t,e,n),i=t.child({context:r});return mVt(i,r,n)}function bVt(t){var e,n;let r=new i1e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:(0,om.default)(RK(IK({},t.opts),{level:"trace",browser:RK(IK({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function gVt(t){var e;let n=new a1e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:(0,om.default)(RK(IK({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function NKe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?bVt(t):gVt(t)}var om,mP,cVt,yP,o1e,r1e,SK,CK,i1e,a1e,lVt,uVt,fVt,RKe,dVt,pVt,OKe,IK,RK,s1e=B(()=>{om=fe(n1e()),mP=fe(n1e());zA();cVt={level:"info"},yP="custom_context",o1e=1e3*1024,r1e=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},SK=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let n=new r1e(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let n=e.value;return e=e.next,{done:!1,value:n}}}}},CK=class{constructor(e,n=o1e){this.level=e??"error",this.levelValue=om.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new SK(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===om.levels.values.error?console.error(e):n===om.levels.values.warn?console.warn(e):n===om.levels.values.debug?console.debug(e):n===om.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Id({timestamp:new Date().toISOString(),log:e}));let n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new SK(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let n=this.getLogArray();return n.push(Id({extraMetadata:e})),new Blob(n,{type:"application/json"})}},i1e=class{constructor(e,n=o1e){this.baseChunkLogger=new CK(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},a1e=class{constructor(e,n=o1e){this.baseChunkLogger=new CK(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}},lVt=Object.defineProperty,uVt=Object.defineProperties,fVt=Object.getOwnPropertyDescriptors,RKe=Object.getOwnPropertySymbols,dVt=Object.prototype.hasOwnProperty,pVt=Object.prototype.propertyIsEnumerable,OKe=(t,e,n)=>e in t?lVt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IK=(t,e)=>{for(var n in e||(e={}))dVt.call(e,n)&&OKe(t,n,e[n]);if(RKe)for(var n of RKe(e))pVt.call(e,n)&&OKe(t,n,e[n]);return t},RK=(t,e)=>uVt(t,fVt(e))});var MKe,wVt,vVt,PKe,OK,EVt,xVt,AVt,NK,PK,kK,MK,BK,DK,LK,UK,FK,HK,_Vt,TVt,kKe,zK,jK,c1e=B(()=>{Kde();MKe=fe(Ps()),wVt=Object.defineProperty,vVt=(t,e,n)=>e in t?wVt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PKe=(t,e,n)=>vVt(t,typeof e!="symbol"?e+"":e,n),OK=class extends X1{constructor(e){super(),this.opts=e,PKe(this,"protocol","wc"),PKe(this,"version",2)}},EVt=Object.defineProperty,xVt=(t,e,n)=>e in t?EVt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AVt=(t,e,n)=>xVt(t,typeof e!="symbol"?e+"":e,n),NK=class extends X1{constructor(e,n){super(),this.core=e,this.logger=n,AVt(this,"records",new Map)}},PK=class{constructor(e,n){this.logger=e,this.core=n}},kK=class extends X1{constructor(e,n){super(),this.relayer=e,this.logger=n}},MK=class extends X1{constructor(e){super()}},BK=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},DK=class extends X1{constructor(e,n){super(),this.relayer=e,this.logger=n}},LK=class extends X1{constructor(e,n){super(),this.core=e,this.logger=n}},UK=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},FK=class{constructor(e,n){this.projectId=e,this.logger=n}},HK=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}},_Vt=Object.defineProperty,TVt=(t,e,n)=>e in t?_Vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kKe=(t,e,n)=>TVt(t,typeof e!="symbol"?e+"":e,n),zK=class{constructor(e){this.opts=e,kKe(this,"protocol","wc"),kKe(this,"version",2)}},jK=class{constructor(e){this.client=e}}});function SVt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function e$e(t,...e){if(!SVt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function BKe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function CVt(t,e){e$e(t);let n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function IVt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function t$e(t){return typeof t=="string"&&(t=IVt(t)),e$e(t),t}function RVt(t){let e=r=>t().update(t$e(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function n$e(t=32){if(VA&&typeof VA.getRandomValues=="function")return VA.getRandomValues(new Uint8Array(t));if(VA&&typeof VA.randomBytes=="function")return VA.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function OVt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,s,r)}function r$e(t,e=!1){return e?{h:Number(t&GK),l:Number(t>>w1e&GK)}:{h:Number(t>>w1e&GK)|0,l:Number(t&GK)|0}}function NVt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:a,l:o}=r$e(t[i],e);[n[i],r[i]]=[a,o]}return[n,r]}function KVt(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}function P1e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function k1e(t){if(!P1e(t))throw new Error("Uint8Array expected")}function u1e(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function M1e(t){k1e(t);let e="";for(let n=0;n<t.length;n++)e+=nKt[t[n]];return e}function a$e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?N1e:BigInt("0x"+t)}function DKe(t){if(t>=sm._0&&t<=sm._9)return t-sm._0;if(t>=sm.A&&t<=sm.F)return t-(sm.A-10);if(t>=sm.a&&t<=sm.f)return t-(sm.a-10)}function o$e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){let o=DKe(t.charCodeAt(a)),s=DKe(t.charCodeAt(a+1));if(o===void 0||s===void 0){let c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[i]=o*16+s}return r}function rKt(t){return a$e(M1e(t))}function $K(t){return k1e(t),a$e(M1e(Uint8Array.from(t).reverse()))}function s$e(t,e){return o$e(t.toString(16).padStart(e*2,"0"))}function E1e(t,e){return s$e(t,e).reverse()}function cm(t,e,n){let r;if(typeof e=="string")try{r=o$e(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(P1e(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function LKe(...t){let e=0;for(let r=0;r<t.length;r++){let i=t[r];k1e(i),e+=i.length}let n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let a=t[r];n.set(a,i),i+=a.length}return n}function iKt(t,e,n){return f1e(t)&&f1e(e)&&f1e(n)&&e<=t&&t<n}function gP(t,e,n,r){if(!iKt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function aKt(t){let e;for(e=0;t>N1e;t>>=i$e,e+=1);return e}function B1e(t,e,n={}){let r=(i,a,o)=>{let s=sKt[a];if(typeof s!="function")throw new Error("invalid validator function");let c=t[i];if(!(o&&c===void 0)&&!s(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+c)};for(let[i,a]of Object.entries(e))r(i,a,!1);for(let[i,a]of Object.entries(n))r(i,a,!0);return t}function UKe(t){let e=new WeakMap;return(n,...r)=>{let i=e.get(n);if(i!==void 0)return i;let a=t(n,...r);return e.set(n,a),a}}function us(t,e){let n=t%e;return n>=$s?n:e+n}function lKt(t,e,n){if(e<$s)throw new Error("invalid exponent, negatives unsupported");if(n<=$s)throw new Error("invalid modulus");if(n===Oo)return $s;let r=Oo;for(;e>$s;)e&Oo&&(r=r*t%n),t=t*t%n,e>>=Oo;return r}function $h(t,e,n){let r=t;for(;e-- >$s;)r*=r,r%=n;return r}function zKe(t,e){if(t===$s)throw new Error("invert: expected non-zero number");if(e<=$s)throw new Error("invert: expected positive modulus, got "+e);let n=us(t,e),r=e,i=$s,a=Oo;for(;n!==$s;){let o=r/n,s=r%n,c=i-a*o;r=n,n=s,i=a,a=c}if(r!==Oo)throw new Error("invert: does not exist");return us(i,e)}function uKt(t){let e=(t-Oo)/yv,n,r,i;for(n=t-Oo,r=0;n%yv===$s;n/=yv,r++);for(i=yv;i<t&&lKt(i,e,t)!==t-Oo;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){let o=(t+Oo)/x1e;return function(s,c){let l=s.pow(c,o);if(!s.eql(s.sqr(l),c))throw new Error("Cannot find square root");return l}}let a=(n+Oo)/yv;return function(o,s){if(o.pow(s,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(s,a),f=o.pow(s,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let h=o.sqr(f);d<c&&!o.eql(h,o.ONE);d++)h=o.sqr(h);let p=o.pow(l,Oo<<BigInt(c-d-1));l=o.sqr(p),u=o.mul(u,p),f=o.mul(f,l),c=d}return u}}function fKt(t){if(t%x1e===cKt){let e=(t+Oo)/x1e;return function(n,r){let i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%HKe===FKe){let e=(t-FKe)/HKe;return function(n,r){let i=n.mul(r,yv),a=n.pow(i,e),o=n.mul(r,a),s=n.mul(n.mul(o,yv),a),c=n.mul(o,n.sub(s,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return uKt(t)}function hKt(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=pKt.reduce((r,i)=>(r[i]="function",r),e);return B1e(t,n)}function mKt(t,e,n){if(n<$s)throw new Error("invalid exponent, negatives unsupported");if(n===$s)return t.ONE;if(n===Oo)return e;let r=t.ONE,i=e;for(;n>$s;)n&Oo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Oo;return r}function yKt(t,e){let n=new Array(e.length),r=e.reduce((a,o,s)=>t.is0(o)?a:(n[s]=a,t.mul(a,o)),t.ONE),i=t.inv(r);return e.reduceRight((a,o,s)=>t.is0(o)?a:(n[s]=t.mul(a,n[s]),t.mul(a,o)),i),n}function c$e(t,e){let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function l$e(t,e,n=!1,r={}){if(t<=$s)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:i,nByteLength:a}=c$e(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,s=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:a,MASK:oKt(i),ZERO:$s,ONE:Oo,create:c=>us(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return $s<=c&&c<t},is0:c=>c===$s,isOdd:c=>(c&Oo)===Oo,neg:c=>us(-c,t),eql:(c,l)=>c===l,sqr:c=>us(c*c,t),add:(c,l)=>us(c+l,t),sub:(c,l)=>us(c-l,t),mul:(c,l)=>us(c*l,t),pow:(c,l)=>mKt(s,c,l),div:(c,l)=>us(c*zKe(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>zKe(c,t),sqrt:r.sqrt||(c=>(o||(o=fKt(t)),o(s,c))),invertBatch:c=>yKt(s,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?E1e(c,a):s$e(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return n?$K(c):rKt(c)}});return Object.freeze(s)}function d1e(t,e){let n=e.negate();return t?n:e}function u$e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function p1e(t,e){u$e(t,e);let n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function bKt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function gKt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}function m1e(t){return f$e.get(t)||1}function wKt(t,e){return{constTimeNegate:d1e,hasPrecomputes(n){return m1e(n)!==1},unsafeLadder(n,r,i=t.ZERO){let a=n;for(;r>jKe;)r&VK&&(i=i.add(a)),a=a.double(),r>>=VK;return i},precomputeWindow(n,r){let{windows:i,windowSize:a}=p1e(r,e),o=[],s=n,c=s;for(let l=0;l<i;l++){c=s,o.push(c);for(let u=1;u<a;u++)c=c.add(s),o.push(c);s=c.double()}return o},wNAF(n,r,i){let{windows:a,windowSize:o}=p1e(n,e),s=t.ZERO,c=t.BASE,l=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let d=0;d<a;d++){let p=d*o,h=Number(i&l);i>>=f,h>o&&(h-=u,i+=VK);let m=p,w=p+Math.abs(h)-1,g=d%2!==0,x=h<0;h===0?c=c.add(d1e(g,r[m])):s=s.add(d1e(x,r[w]))}return{p:s,f:c}},wNAFUnsafe(n,r,i,a=t.ZERO){let{windows:o,windowSize:s}=p1e(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let f=0;f<o;f++){let d=f*s;if(i===jKe)break;let p=Number(i&c);if(i>>=u,p>s&&(p-=l,i+=VK),p===0)continue;let h=r[d+Math.abs(p)-1];p<0&&(h=h.negate()),a=a.add(h)}return a},getPrecomputes(n,r,i){let a=h1e.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&h1e.set(r,i(a))),a},wNAFCached(n,r,i){let a=m1e(n);return this.wNAF(a,this.getPrecomputes(a,n,i),r)},wNAFCachedUnsafe(n,r,i,a){let o=m1e(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,a)},setWindowSize(n,r){u$e(r,e),f$e.set(n,r),h1e.delete(n)}}}function vKt(t,e,n,r){if(bKt(n,t),gKt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");let i=t.ZERO,a=aKt(BigInt(n.length)),o=a>12?a-3:a>4?a-2:a?2:1,s=(1<<o)-1,c=new Array(s+1).fill(i),l=Math.floor((e.BITS-1)/o)*o,u=i;for(let f=l;f>=0;f-=o){c.fill(i);for(let p=0;p<r.length;p++){let h=r[p],m=Number(h>>BigInt(f)&BigInt(s));c[m]=c[m].add(n[p])}let d=i;for(let p=c.length-1,h=i;p>0;p--)h=h.add(c[p]),d=d.add(h);if(u=u.add(d),f!==0)for(let p=0;p<o;p++)u=u.double()}return u}function EKt(t){return hKt(t.Fp),B1e(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...c$e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function _Kt(t){let e=EKt(t);return B1e(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function TKt(t){let e=_Kt(t),{Fp:n,n:r,prehash:i,hash:a,randomBytes:o,nByteLength:s,h:c}=e,l=KK<<BigInt(s*8)-ql,u=n.create,f=l$e(e.n,e.nBitLength),d=e.uvRatio||((b,_)=>{try{return{isValid:!0,value:n.sqrt(b*n.inv(_))}}catch{return{isValid:!1,value:ep}}}),p=e.adjustScalarBytes||(b=>b),h=e.domain||((b,_,A)=>{if(u1e("phflag",A),_.length||A)throw new Error("Contexts/pre-hash are not supported");return b});function m(b,_){gP("coordinate "+b,_,ep,l)}function w(b){if(!(b instanceof C))throw new Error("ExtendedPoint expected")}let g=UKe((b,_)=>{let{ex:A,ey:T,ez:E}=b,k=b.is0();_==null&&(_=k?xKt:n.inv(E));let L=u(A*_),R=u(T*_),U=u(E*_);if(k)return{x:ep,y:ql};if(U!==ql)throw new Error("invZ was invalid");return{x:L,y:R}}),x=UKe(b=>{let{a:_,d:A}=e;if(b.is0())throw new Error("bad point: ZERO");let{ex:T,ey:E,ez:k,et:L}=b,R=u(T*T),U=u(E*E),j=u(k*k),z=u(j*j),V=u(R*_),$=u(j*u(V+U)),W=u(z+u(A*u(R*U)));if($!==W)throw new Error("bad point: equation left != right (1)");let J=u(T*E),X=u(k*L);if(J!==X)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(_,A,T,E){this.ex=_,this.ey=A,this.ez=T,this.et=E,m("x",_),m("y",A),m("z",T),m("t",E),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof C)throw new Error("extended point not allowed");let{x:A,y:T}=_||{};return m("x",A),m("y",T),new C(A,T,ql,u(A*T))}static normalizeZ(_){let A=n.invertBatch(_.map(T=>T.ez));return _.map((T,E)=>T.toAffine(A[E])).map(C.fromAffine)}static msm(_,A){return vKt(C,f,_,A)}_setWindowSize(_){F.setWindowSize(this,_)}assertValidity(){x(this)}equals(_){w(_);let{ex:A,ey:T,ez:E}=this,{ex:k,ey:L,ez:R}=_,U=u(A*R),j=u(k*E),z=u(T*R),V=u(L*E);return U===j&&z===V}is0(){return this.equals(C.ZERO)}negate(){return new C(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:_}=e,{ex:A,ey:T,ez:E}=this,k=u(A*A),L=u(T*T),R=u(KK*u(E*E)),U=u(_*k),j=A+T,z=u(u(j*j)-k-L),V=U+L,$=V-R,W=U-L,J=u(z*$),X=u(V*W),te=u(z*W),ne=u($*V);return new C(J,X,ne,te)}add(_){w(_);let{a:A,d:T}=e,{ex:E,ey:k,ez:L,et:R}=this,{ex:U,ey:j,ez:z,et:V}=_;if(A===BigInt(-1)){let _t=u((k-E)*(j+U)),Xe=u((k+E)*(j-U)),qe=u(Xe-_t);if(qe===ep)return this.double();let Lt=u(L*KK*V),nt=u(R*KK*z),it=nt+Lt,br=Xe+_t,Be=nt-Lt,ot=u(it*qe),kn=u(br*Be),Et=u(it*Be),ht=u(qe*br);return new C(ot,kn,ht,Et)}let $=u(E*U),W=u(k*j),J=u(R*T*V),X=u(L*z),te=u((E+k)*(U+j)-$-W),ne=X-J,ue=X+J,ce=u(W-A*$),oe=u(te*ne),xe=u(ue*ce),ye=u(te*ce),Se=u(ne*ue);return new C(oe,xe,Se,ye)}subtract(_){return this.add(_.negate())}wNAF(_){return F.wNAFCached(this,_,C.normalizeZ)}multiply(_){let A=_;gP("scalar",A,ql,r);let{p:T,f:E}=this.wNAF(A);return C.normalizeZ([T,E])[0]}multiplyUnsafe(_,A=C.ZERO){let T=_;return gP("scalar",T,ep,r),T===ep?D:this.is0()||T===ql?this:F.wNAFCachedUnsafe(this,T,C.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return F.unsafeLadder(this,r).is0()}toAffine(_){return g(this,_)}clearCofactor(){let{h:_}=e;return _===ql?this:this.multiplyUnsafe(_)}static fromHex(_,A=!1){let{d:T,a:E}=e,k=n.BYTES;_=cm("pointHex",_,k),u1e("zip215",A);let L=_.slice(),R=_[k-1];L[k-1]=R&-129;let U=$K(L),j=A?l:n.ORDER;gP("pointHex.y",U,ep,j);let z=u(U*U),V=u(z-ql),$=u(T*z-E),{isValid:W,value:J}=d(V,$);if(!W)throw new Error("Point.fromHex: invalid y coordinate");let X=(J&ql)===ql,te=(R&128)!==0;if(!A&&J===ep&&te)throw new Error("Point.fromHex: x=0 and x_0=1");return te!==X&&(J=u(-J)),C.fromAffine({x:J,y:U})}static fromPrivateKey(_){return M(_).point}toRawBytes(){let{x:_,y:A}=this.toAffine(),T=E1e(A,n.BYTES);return T[T.length-1]|=_&ql?128:0,T}toHex(){return M1e(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,ql,u(e.Gx*e.Gy)),C.ZERO=new C(ep,ql,ql,ep);let{BASE:P,ZERO:D}=C,F=wKt(C,s*8);function H(b){return us(b,r)}function O(b){return H($K(b))}function M(b){let _=n.BYTES;b=cm("private key",b,_);let A=cm("hashed private key",a(b),2*_),T=p(A.slice(0,_)),E=A.slice(_,2*_),k=O(T),L=P.multiply(k),R=L.toRawBytes();return{head:T,prefix:E,scalar:k,point:L,pointBytes:R}}function N(b){return M(b).pointBytes}function v(b=new Uint8Array,..._){let A=LKe(..._);return O(a(h(A,cm("context",b),!!i)))}function I(b,_,A={}){b=cm("message",b),i&&(b=i(b));let{prefix:T,scalar:E,pointBytes:k}=M(_),L=v(A.context,T,b),R=P.multiply(L).toRawBytes(),U=v(A.context,R,k,b),j=H(L+U*E);gP("signature.s",j,ep,r);let z=LKe(R,E1e(j,n.BYTES));return cm("result",z,n.BYTES*2)}let S=AKt;function y(b,_,A,T=S){let{context:E,zip215:k}=T,L=n.BYTES;b=cm("signature",b,2*L),_=cm("message",_),A=cm("publicKey",A,L),k!==void 0&&u1e("zip215",k),i&&(_=i(_));let R=$K(b.slice(L,2*L)),U,j,z;try{U=C.fromHex(A,k),j=C.fromHex(b.slice(0,L),k),z=P.multiplyUnsafe(R)}catch{return!1}if(!k&&U.isSmallOrder())return!1;let V=v(E,j.toRawBytes(),U.toRawBytes(),_);return j.add(U.multiplyUnsafe(V)).subtract(z).clearCofactor().equals(C.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:N,sign:I,verify:y,ExtendedPoint:C,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(n.BYTES),precompute(b=8,_=C.BASE){return _._setWindowSize(b),_.multiply(BigInt(3)),_}}}}function RKt(t){let e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),a=D1e,o=t*t%a*t%a,s=$h(o,VKe,a)*o%a,c=$h(s,SKt,a)*t%a,l=$h(c,CKt,a)*c%a,u=$h(l,e,a)*l%a,f=$h(u,n,a)*u%a,d=$h(f,r,a)*f%a,p=$h(d,i,a)*d%a,h=$h(p,i,a)*d%a,m=$h(h,e,a)*l%a;return{pow_p_5_8:$h(m,VKe,a)*t%a,b2:o}}function OKt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function NKt(t,e){let n=D1e,r=us(e*e*e,n),i=us(r*r*e,n),a=RKt(t*i).pow_p_5_8,o=us(t*r*a,n),s=us(e*o*o,n),c=o,l=us(o*GKe,n),u=s===t,f=s===us(-t,n),d=s===us(-t*GKe,n);return u&&(o=c),(f||d)&&(o=l),dKt(o,n)&&(o=us(-o,n)),{isValid:u||f,value:o}}function L1e(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function m$e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?L1e(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function y$e(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));let n=m$e(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return L1e(n)}function jKt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),o=a.charCodeAt(0);if(n[o]!==255)throw new TypeError(a+" is ambiguous");n[o]=i}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,w=0,g=0,x=h.length;g!==x&&h[g]===0;)g++,m++;for(var C=(x-g)*u+1>>>0,P=new Uint8Array(C);g!==x;){for(var D=h[g],F=0,H=C-1;(D!==0||F<w)&&H!==-1;H--,F++)D+=256*P[H]>>>0,P[H]=D%s>>>0,D=D/s>>>0;if(D!==0)throw new Error("Non-zero carry");w=F,g++}for(var O=C-w;O!==C&&P[O]===0;)O++;for(var M=c.repeat(m);O<C;++O)M+=t.charAt(P[O]);return M}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var w=0,g=0;h[m]===c;)w++,m++;for(var x=(h.length-m)*l+1>>>0,C=new Uint8Array(x);h[m];){var P=n[h.charCodeAt(m)];if(P===255)return;for(var D=0,F=x-1;(P!==0||D<g)&&F!==-1;F--,D++)P+=s*C[F]>>>0,C[F]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");g=D,m++}if(h[m]!==" "){for(var H=x-g;H!==x&&C[H]===0;)H++;for(var O=new Uint8Array(w+(x-H)),M=w;H!==x;)O[M++]=C[H++];return O}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}function R$t(t){return t.reduce((e,n)=>(e+=C$t[n],e),"")}function O$t(t){let e=[];for(let n of t){let r=I$t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}function v$e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=D$t;)e[n++]=t&255|$Ke,t/=128;for(;t&B$t;)e[n++]=t&255|$Ke,t>>>=7;return e[n]=t|0,v$e.bytes=n-r+1,e}function C1e(t,r){var n=0,r=r||0,i=0,a=r,o,s=t.length;do{if(a>=s)throw C1e.bytes=0,new RangeError("Could not decode varint");o=t[a++],n+=i<28?(o&qKe)<<i:(o&qKe)*Math.pow(2,i),i+=7}while(o>=U$t);return C1e.bytes=a-r,n}function S$e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}function QK(t,e="utf8"){let n=C$e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function KA(t,e="utf8"){let n=C$e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?L1e(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ZKe(t){return Vh(QK(KA(t,YK),p$e))}function WK(t){return QK(KA(Id(t),p$e),YK)}function U1e(t){let e=KA(HKt,KKe),n=FKt+QK(y$e([e,t]),KKe);return[LKt,UKt,n].join(DKt)}function rqt(t){return QK(t,YK)}function iqt(t){return KA(t,YK)}function aqt(t){return KA([WK(t.header),WK(t.payload)].join(qK),h$e)}function oqt(t){return[WK(t.header),WK(t.payload),rqt(t.signature)].join(qK)}function vP(t){let e=t.split(qK),n=ZKe(e[0]),r=ZKe(e[1]),i=iqt(e[2]),a=KA(e.slice(0,2).join(qK),h$e);return{header:n,payload:r,signature:i,data:a}}function F1e(t=n$e(zKt)){let e=d$e.getPublicKey(t);return{secretKey:y$e([t,e]),publicKey:e}}async function I$e(t,e,n,r,i=(0,XKe.fromMiliseconds)(Date.now())){let a={alg:MKt,typ:BKt},o=U1e(r.publicKey),s=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:s},l=aqt({header:a,payload:c}),u=d$e.sign(l,r.secretKey.slice(0,32));return oqt({header:a,payload:c,signature:u})}var XKe,VA,l1e,b1e,g1e,GK,w1e,PVt,kVt,MVt,BVt,DVt,LVt,UVt,FVt,HVt,zVt,jVt,GVt,VVt,$Vt,qVt,WVt,YVt,JVt,QVt,er,ZVt,XVt,F2,H2,v1e,eKt,N1e,i$e,tKt,nKt,sm,f1e,oKt,sKt,$s,Oo,yv,cKt,x1e,FKe,HKe,dKt,pKt,jKe,VK,h1e,f$e,ep,ql,KK,xKt,AKt,D1e,GKe,SKt,VKe,CKt,IKt,PKt,kKt,d$e,MKt,BKt,qK,YK,p$e,h$e,DKt,LKt,UKt,KKe,FKt,HKt,zKt,GKt,VKt,b$e,KKt,$Kt,A1e,_1e,T1e,g$e,S1e,JK,wP,qKt,WKt,v0,YKt,JKt,QKt,ZKt,XKt,e$t,t$t,n$t,r$t,i$t,a$t,o$t,s$t,c$t,l$t,u$t,f$t,d$t,p$t,h$t,m$t,y$t,b$t,g$t,w$t,v$t,E$t,x$t,A$t,_$t,T$t,S$t,w$e,C$t,I$t,N$t,P$t,k$t,$Ke,M$t,B$t,D$t,L$t,U$t,qKe,F$t,H$t,z$t,j$t,G$t,V$t,K$t,$$t,q$t,W$t,Y$t,E$e,WKe,YKe,I1e,R1e,x$e,O1e,A$e,J$t,Q$t,Z$t,_$e,X$t,T$e,eqt,tqt,nqt,JKe,QKe,y1e,C$e,ZK=B(()=>{XKe=fe(HA());zA();VA=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;l1e=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);b1e=class{clone(){return this._cloneInto()}};g1e=class extends b1e{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l1e(this.buffer)}update(e){BKe(this);let{view:n,buffer:r,blockLen:i}=this;e=t$e(e);let a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let c=l1e(e);for(;i<=a-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){BKe(this),CVt(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:a}=this,{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;OVt(r,i-8,BigInt(this.length*8),a),this.process(r,0);let s=l1e(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)s.setUint32(4*f,u[f],a)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:i,finished:a,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%n&&e.buffer.set(r),e}},GK=BigInt(2**32-1),w1e=BigInt(32);PVt=(t,e)=>BigInt(t>>>0)<<w1e|BigInt(e>>>0),kVt=(t,e,n)=>t>>>n,MVt=(t,e,n)=>t<<32-n|e>>>n,BVt=(t,e,n)=>t>>>n|e<<32-n,DVt=(t,e,n)=>t<<32-n|e>>>n,LVt=(t,e,n)=>t<<64-n|e>>>n-32,UVt=(t,e,n)=>t>>>n-32|e<<64-n,FVt=(t,e)=>e,HVt=(t,e)=>t,zVt=(t,e,n)=>t<<n|e>>>32-n,jVt=(t,e,n)=>e<<n|t>>>32-n,GVt=(t,e,n)=>e<<n-32|t>>>64-n,VVt=(t,e,n)=>t<<n-32|e>>>64-n;$Vt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),qVt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,WVt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),YVt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,JVt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),QVt=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0,er={fromBig:r$e,split:NVt,toBig:PVt,shrSH:kVt,shrSL:MVt,rotrSH:BVt,rotrSL:DVt,rotrBH:LVt,rotrBL:UVt,rotr32H:FVt,rotr32L:HVt,rotlSH:zVt,rotlSL:jVt,rotlBH:GVt,rotlBL:VVt,add:KVt,add3L:$Vt,add3H:qVt,add4L:WVt,add4H:YVt,add5H:QVt,add5L:JVt},[ZVt,XVt]=er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),F2=new Uint32Array(80),H2=new Uint32Array(80),v1e=class extends g1e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:o,Dh:s,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:w}=this;return[e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w]}set(e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=o|0,this.Dh=s|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let C=0;C<16;C++,n+=4)F2[C]=e.getUint32(n),H2[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){let P=F2[C-15]|0,D=H2[C-15]|0,F=er.rotrSH(P,D,1)^er.rotrSH(P,D,8)^er.shrSH(P,D,7),H=er.rotrSL(P,D,1)^er.rotrSL(P,D,8)^er.shrSL(P,D,7),O=F2[C-2]|0,M=H2[C-2]|0,N=er.rotrSH(O,M,19)^er.rotrBH(O,M,61)^er.shrSH(O,M,6),v=er.rotrSL(O,M,19)^er.rotrBL(O,M,61)^er.shrSL(O,M,6),I=er.add4L(H,v,H2[C-7],H2[C-16]),S=er.add4H(I,F,N,F2[C-7],F2[C-16]);F2[C]=S|0,H2[C]=I|0}let{Ah:r,Al:i,Bh:a,Bl:o,Ch:s,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:w,Hh:g,Hl:x}=this;for(let C=0;C<80;C++){let P=er.rotrSH(f,d,14)^er.rotrSH(f,d,18)^er.rotrBH(f,d,41),D=er.rotrSL(f,d,14)^er.rotrSL(f,d,18)^er.rotrBL(f,d,41),F=f&p^~f&m,H=d&h^~d&w,O=er.add5L(x,D,H,XVt[C],H2[C]),M=er.add5H(O,g,P,F,ZVt[C],F2[C]),N=O|0,v=er.rotrSH(r,i,28)^er.rotrBH(r,i,34)^er.rotrBH(r,i,39),I=er.rotrSL(r,i,28)^er.rotrBL(r,i,34)^er.rotrBL(r,i,39),S=r&a^r&s^a&s,y=i&o^i&c^o&c;g=m|0,x=w|0,m=p|0,w=h|0,p=f|0,h=d|0,{h:f,l:d}=er.add(l|0,u|0,M|0,N|0),l=s|0,u=c|0,s=a|0,c=o|0,a=r|0,o=i|0;let b=er.add3L(N,I,y);r=er.add3H(b,M,v,S),i=b|0}({h:r,l:i}=er.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l:o}=er.add(this.Bh|0,this.Bl|0,a|0,o|0),{h:s,l:c}=er.add(this.Ch|0,this.Cl|0,s|0,c|0),{h:l,l:u}=er.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=er.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=er.add(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:w}=er.add(this.Gh|0,this.Gl|0,m|0,w|0),{h:g,l:x}=er.add(this.Hh|0,this.Hl|0,g|0,x|0),this.set(r,i,a,o,s,c,l,u,f,d,p,h,m,w,g,x)}roundClean(){F2.fill(0),H2.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},eKt=RVt(()=>new v1e);N1e=BigInt(0),i$e=BigInt(1),tKt=BigInt(2);nKt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));sm={_0:48,_9:57,A:65,F:70,a:97,f:102};f1e=t=>typeof t=="bigint"&&N1e<=t;oKt=t=>(tKt<<BigInt(t-1))-i$e,sKt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||P1e(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};$s=BigInt(0),Oo=BigInt(1),yv=BigInt(2),cKt=BigInt(3),x1e=BigInt(4),FKe=BigInt(5),HKe=BigInt(8);dKt=(t,e)=>(us(t,e)&Oo)===Oo,pKt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];jKe=BigInt(0),VK=BigInt(1);h1e=new WeakMap,f$e=new WeakMap;ep=BigInt(0),ql=BigInt(1),KK=BigInt(2),xKt=BigInt(8),AKt={zip215:!0};BigInt(0),BigInt(1);D1e=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),GKe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);SKt=BigInt(1),VKe=BigInt(2);BigInt(3);CKt=BigInt(5),IKt=BigInt(8);PKt=l$e(D1e,void 0,!0),kKt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:PKt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:IKt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:eKt,randomBytes:n$e,adjustScalarBytes:OKt,uvRatio:NKt},d$e=TKt(kKt),MKt="EdDSA",BKt="JWT",qK=".",YK="base64url",p$e="utf8",h$e="utf8",DKt=":",LKt="did",UKt="key",KKe="base58btc",FKt="z",HKt="K36",zKt=32;GKt=jKt,VKt=GKt,b$e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},KKt=t=>new TextEncoder().encode(t),$Kt=t=>new TextDecoder().decode(t),A1e=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_1e=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return g$e(this,e)}},T1e=class{constructor(e){this.decoders=e}or(e){return g$e(this,e)}decode(e){let n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},g$e=(t,e)=>new T1e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),S1e=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new A1e(e,n,r),this.decoder=new _1e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},JK=({name:t,prefix:e,encode:n,decode:r})=>new S1e(t,e,n,r),wP=({prefix:t,name:e,alphabet:n})=>{let{encode:r,decode:i}=VKt(n,e);return JK({prefix:t,name:e,encode:r,decode:a=>b$e(i(a))})},qKt=(t,e,n,r)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let a=t.length;for(;t[a-1]==="=";)--a;let o=new Uint8Array(a*n/8|0),s=0,c=0,l=0;for(let u=0;u<a;++u){let f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,s+=n,s>=8&&(s-=8,o[l++]=255&c>>s)}if(s>=n||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return o},WKt=(t,e,n)=>{let r=e[e.length-1]==="=",i=(1<<n)-1,a="",o=0,s=0;for(let c=0;c<t.length;++c)for(s=s<<8|t[c],o+=8;o>n;)o-=n,a+=e[i&s>>o];if(o&&(a+=e[i&s<<n-o]),r)for(;a.length*n&7;)a+="=";return a},v0=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>JK({prefix:e,name:t,encode(i){return WKt(i,r,n)},decode(i){return qKt(i,r,n,t)}}),YKt=JK({prefix:"\0",name:"identity",encode:t=>$Kt(t),decode:t=>KKt(t)}),JKt=Object.freeze({__proto__:null,identity:YKt}),QKt=v0({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ZKt=Object.freeze({__proto__:null,base2:QKt}),XKt=v0({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),e$t=Object.freeze({__proto__:null,base8:XKt}),t$t=wP({prefix:"9",name:"base10",alphabet:"0123456789"}),n$t=Object.freeze({__proto__:null,base10:t$t}),r$t=v0({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),i$t=v0({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),a$t=Object.freeze({__proto__:null,base16:r$t,base16upper:i$t}),o$t=v0({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s$t=v0({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),c$t=v0({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),l$t=v0({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u$t=v0({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),f$t=v0({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),d$t=v0({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),p$t=v0({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),h$t=v0({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),m$t=Object.freeze({__proto__:null,base32:o$t,base32upper:s$t,base32pad:c$t,base32padupper:l$t,base32hex:u$t,base32hexupper:f$t,base32hexpad:d$t,base32hexpadupper:p$t,base32z:h$t}),y$t=wP({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),b$t=wP({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),g$t=Object.freeze({__proto__:null,base36:y$t,base36upper:b$t}),w$t=wP({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),v$t=wP({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),E$t=Object.freeze({__proto__:null,base58btc:w$t,base58flickr:v$t}),x$t=v0({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),A$t=v0({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_$t=v0({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),T$t=v0({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),S$t=Object.freeze({__proto__:null,base64:x$t,base64pad:A$t,base64url:_$t,base64urlpad:T$t}),w$e=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),C$t=w$e.reduce((t,e,n)=>(t[n]=e,t),[]),I$t=w$e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);N$t=JK({prefix:"\u{1F680}",name:"base256emoji",encode:R$t,decode:O$t}),P$t=Object.freeze({__proto__:null,base256emoji:N$t}),k$t=v$e,$Ke=128,M$t=127,B$t=~M$t,D$t=Math.pow(2,31);L$t=C1e,U$t=128,qKe=127;F$t=Math.pow(2,7),H$t=Math.pow(2,14),z$t=Math.pow(2,21),j$t=Math.pow(2,28),G$t=Math.pow(2,35),V$t=Math.pow(2,42),K$t=Math.pow(2,49),$$t=Math.pow(2,56),q$t=Math.pow(2,63),W$t=function(t){return t<F$t?1:t<H$t?2:t<z$t?3:t<j$t?4:t<G$t?5:t<V$t?6:t<K$t?7:t<$$t?8:t<q$t?9:10},Y$t={encode:k$t,decode:L$t,encodingLength:W$t},E$e=Y$t,WKe=(t,e,n=0)=>(E$e.encode(t,e,n),e),YKe=t=>E$e.encodingLength(t),I1e=(t,e)=>{let n=e.byteLength,r=YKe(t),i=r+YKe(n),a=new Uint8Array(i+n);return WKe(t,a,0),WKe(n,a,r),a.set(e,i),new R1e(t,n,e,a)},R1e=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}},x$e=({name:t,code:e,encode:n})=>new O1e(t,e,n),O1e=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){let n=this.encode(e);return n instanceof Uint8Array?I1e(this.code,n):n.then(r=>I1e(this.code,r))}else throw Error("Unknown type, must be binary type")}},A$e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),J$t=x$e({name:"sha2-256",code:18,encode:A$e("SHA-256")}),Q$t=x$e({name:"sha2-512",code:19,encode:A$e("SHA-512")}),Z$t=Object.freeze({__proto__:null,sha256:J$t,sha512:Q$t}),_$e=0,X$t="identity",T$e=b$e,eqt=t=>I1e(_$e,T$e(t)),tqt={code:_$e,name:X$t,encode:T$e,digest:eqt},nqt=Object.freeze({__proto__:null,identity:tqt});new TextEncoder,new TextDecoder;JKe={...JKt,...ZKt,...e$t,...n$t,...a$t,...m$t,...g$t,...E$t,...S$t,...P$t};({...Z$t,...nqt});QKe=S$e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),y1e=S$e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);let e=m$e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),C$e={utf8:QKe,"utf-8":QKe,hex:JKe.base16,latin1:y1e,ascii:y1e,binary:y1e,...JKe}});function k$e(t){return t?P$e(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new dqt:typeof navigator<"u"?P$e(navigator.userAgent):gqt()}function yqt(t){return t!==""&&mqt.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var a=i.exec(t);return!!a&&[r,a]},!1)}function P$e(t){var e=yqt(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new fqt;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<O$e&&(i=R$e(R$e([],i,!0),wqt(O$e-i.length),!0)):i=[];var a=i.join("."),o=bqt(t),s=hqt.exec(t);return s&&s[1]?new uqt(n,a,o,s[1]):new cqt(n,a,o)}function bqt(t){for(var e=0,n=N$e.length;e<n;e++){var r=N$e[e],i=r[0],a=r[1],o=a.exec(t);if(o)return i}return null}function gqt(){var t=typeof process<"u"&&process.version;return t?new lqt(process.version.slice(1)):null}function wqt(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var R$e,cqt,lqt,uqt,fqt,dqt,pqt,hqt,O$e,mqt,N$e,M$e=B(()=>{R$e=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},cqt=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),lqt=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),uqt=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),fqt=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),dqt=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),pqt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hqt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,O$e=3,mqt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",pqt]],N$e=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]]});var XK=le(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.getLocalStorage=ta.getLocalStorageOrThrow=ta.getCrypto=ta.getCryptoOrThrow=ta.getLocation=ta.getLocationOrThrow=ta.getNavigator=ta.getNavigatorOrThrow=ta.getDocument=ta.getDocumentOrThrow=ta.getFromWindowOrThrow=ta.getFromWindow=void 0;function bv(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}ta.getFromWindow=bv;function $A(t){let e=bv(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}ta.getFromWindowOrThrow=$A;function vqt(){return $A("document")}ta.getDocumentOrThrow=vqt;function Eqt(){return bv("document")}ta.getDocument=Eqt;function xqt(){return $A("navigator")}ta.getNavigatorOrThrow=xqt;function Aqt(){return bv("navigator")}ta.getNavigator=Aqt;function _qt(){return $A("location")}ta.getLocationOrThrow=_qt;function Tqt(){return bv("location")}ta.getLocation=Tqt;function Sqt(){return $A("crypto")}ta.getCryptoOrThrow=Sqt;function Cqt(){return bv("crypto")}ta.getCrypto=Cqt;function Iqt(){return $A("localStorage")}ta.getLocalStorageOrThrow=Iqt;function Rqt(){return bv("localStorage")}ta.getLocalStorage=Rqt});var D$e=le(e$=>{"use strict";Object.defineProperty(e$,"__esModule",{value:!0});e$.getWindowMetadata=void 0;var B$e=XK();function Oqt(){let t,e;try{t=B$e.getDocumentOrThrow(),e=B$e.getLocationOrThrow()}catch{return null}function n(){let f=t.getElementsByTagName("link"),d=[];for(let p=0;p<f.length;p++){let h=f[p],m=h.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){let w=h.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let g=e.protocol+"//"+e.host;if(w.indexOf("/")===0)g+=w;else{let x=e.pathname.split("/");x.pop();let C=x.join("/");g+=C+"/"+w}d.push(g)}else if(w.indexOf("//")===0){let g=e.protocol+w;d.push(g)}else d.push(w)}}return d}function r(...f){let d=t.getElementsByTagName("meta");for(let p=0;p<d.length;p++){let h=d[p],m=["itemprop","property","name"].map(w=>h.getAttribute(w)).filter(w=>w?f.includes(w):!1);if(m.length&&m){let w=h.getAttribute("content");if(w)return w}}return""}function i(){let f=r("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function a(){return r("description","og:description","twitter:description","keywords")}let o=i(),s=a(),c=e.origin,l=n();return{description:s,url:c,icons:l,name:o}}e$.getWindowMetadata=Oqt});var L$e,U$e=B(()=>{L$e="1.0.8"});var No,qA=B(()=>{U$e();No=class t extends Error{constructor(e,n={}){let r=n.cause instanceof t?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof t&&n.cause.docsPath||n.docsPath,a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${L$e}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}}});function of(t,e){return t.exec(e)?.groups}var H1e,z1e,t$,EP=B(()=>{H1e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,z1e=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,t$=/^\(.+?\).*?$/});function n$(t){let e=t.type;if(F$e.test(t.type)&&"components"in t){e="(";let n=t.components.length;for(let i=0;i<n;i++){let a=t.components[i];e+=n$(a),i<n-1&&(e+=", ")}let r=of(F$e,t.type);return e+=`)${r?.array??""}`,n$({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}var F$e,H$e=B(()=>{EP();F$e=/^tuple(?<array>(\[(\d*)\])*)$/});function WA(t){let e="",n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=n$(i),r!==n-1&&(e+=", ")}return e}var z$e=B(()=>{H$e()});function gv(t){return t.type==="function"?`function ${t.name}(${WA(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${WA(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${WA(t.inputs)})`:t.type==="error"?`error ${t.name}(${WA(t.inputs)})`:t.type==="constructor"?`constructor(${WA(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}var j$e=B(()=>{z$e()});function V$e(t){return G$e.test(t)}function K$e(t){return of(G$e,t)}function q$e(t){return $$e.test(t)}function W$e(t){return of($$e,t)}function J$e(t){return Y$e.test(t)}function Q$e(t){return of(Y$e,t)}function z2(t){return Z$e.test(t)}function X$e(t){return of(Z$e,t)}function tqe(t){return eqe.test(t)}function nqe(t){return of(eqe,t)}function iqe(t){return rqe.test(t)}function aqe(t){return of(rqe,t)}function oqe(t){return Nqt.test(t)}var G$e,$$e,Y$e,Z$e,eqe,rqe,Nqt,j1e,sqe,r$,YA=B(()=>{EP();G$e=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;$$e=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;Y$e=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;Z$e=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;eqe=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;rqe=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;Nqt=/^receive\(\) external payable$/;j1e=new Set(["memory","indexed","storage","calldata"]),sqe=new Set(["indexed"]),r$=new Set(["calldata","memory","storage"])});var xP,AP,i$,a$=B(()=>{qA();xP=class extends No{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},AP=class extends No{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},i$=class extends No{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}});var _P,TP,SP,CP,IP,RP,o$=B(()=>{qA();_P=class extends No{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},TP=class extends No{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},SP=class extends No{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},CP=class extends No{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},IP=class extends No{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},RP=class extends No{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}});var tp,OP,NP,G1e=B(()=>{qA();tp=class extends No{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},OP=class extends No{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},NP=class extends No{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}});var PP,cqe=B(()=>{qA();PP=class extends No{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}});var kP,lqe=B(()=>{qA();kP=class extends No{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}});function uqe(t,e,n){let r="";if(n)for(let i of Object.entries(n)){if(!i)continue;let a="";for(let o of i[1])a+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${a}})`}return e?`${e}:${t}${r}`:t}var s$,fqe=B(()=>{s$=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])});function MP(t,e={}){if(J$e(t))return Pqt(t,e);if(q$e(t))return kqt(t,e);if(V$e(t))return Mqt(t,e);if(tqe(t))return Bqt(t,e);if(iqe(t))return Dqt(t);if(oqe(t))return{type:"receive",stateMutability:"payable"};throw new OP({signature:t})}function Pqt(t,e={}){let n=Q$e(t);if(!n)throw new tp({signature:t,type:"function"});let r=Wl(n.parameters),i=[],a=r.length;for(let s=0;s<a;s++)i.push(np(r[s],{modifiers:r$,structs:e,type:"function"}));let o=[];if(n.returns){let s=Wl(n.returns),c=s.length;for(let l=0;l<c;l++)o.push(np(s[l],{modifiers:r$,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function kqt(t,e={}){let n=W$e(t);if(!n)throw new tp({signature:t,type:"event"});let r=Wl(n.parameters),i=[],a=r.length;for(let o=0;o<a;o++)i.push(np(r[o],{modifiers:sqe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Mqt(t,e={}){let n=K$e(t);if(!n)throw new tp({signature:t,type:"error"});let r=Wl(n.parameters),i=[],a=r.length;for(let o=0;o<a;o++)i.push(np(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function Bqt(t,e={}){let n=nqe(t);if(!n)throw new tp({signature:t,type:"constructor"});let r=Wl(n.parameters),i=[],a=r.length;for(let o=0;o<a;o++)i.push(np(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function Dqt(t){let e=aqe(t);if(!e)throw new tp({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}function np(t,e){let n=uqe(t,e?.type,e?.structs);if(s$.has(n))return s$.get(n);let r=t$.test(t),i=of(r?Uqt:Lqt,t);if(!i)throw new TP({param:t});if(i.name&&zqt(i.name))throw new SP({param:t,name:i.name});let a=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},s=e?.structs??{},c,l={};if(r){c="tuple";let f=Wl(i.type),d=[],p=f.length;for(let h=0;h<p;h++)d.push(np(f[h],{structs:s}));l={components:d}}else if(i.type in s)c="tuple",l={components:s[i.type]};else if(Fqt.test(i.type))c=`${i.type}256`;else if(c=i.type,e?.type!=="struct"&&!V1e(c))throw new i$({type:c});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new CP({param:t,type:e?.type,modifier:i.modifier});if(r$.has(i.modifier)&&!jqt(c,!!i.array))throw new IP({param:t,type:e?.type,modifier:i.modifier})}let u={type:`${c}${i.array??""}`,...a,...o,...l};return s$.set(n,u),u}function Wl(t,e=[],n="",r=0){let i=t.trim().length;for(let a=0;a<i;a++){let o=t[a],s=t.slice(a+1);switch(o){case",":return r===0?Wl(s,[...e,n.trim()]):Wl(s,e,`${n}${o}`,r);case"(":return Wl(s,e,`${n}${o}`,r+1);case")":return Wl(s,e,`${n}${o}`,r-1);default:return Wl(s,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new kP({current:n,depth:r});return e.push(n.trim()),e}function V1e(t){return t==="address"||t==="bool"||t==="function"||t==="string"||H1e.test(t)||z1e.test(t)}function zqt(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||H1e.test(t)||z1e.test(t)||Hqt.test(t)}function jqt(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}var Lqt,Uqt,Fqt,Hqt,JA=B(()=>{EP();a$();o$();G1e();lqe();fqe();YA();Lqt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Uqt=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Fqt=/^u?int$/;Hqt=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/});function QA(t){let e={},n=t.length;for(let o=0;o<n;o++){let s=t[o];if(!z2(s))continue;let c=X$e(s);if(!c)throw new tp({signature:s,type:"struct"});let l=c.properties.split(";"),u=[],f=l.length;for(let d=0;d<f;d++){let h=l[d].trim();if(!h)continue;let m=np(h,{type:"struct"});u.push(m)}if(!u.length)throw new NP({signature:s});e[c.name]=u}let r={},i=Object.entries(e),a=i.length;for(let o=0;o<a;o++){let[s,c]=i[o];r[s]=dqe(c,e)}return r}function dqe(t,e,n=new Set){let r=[],i=t.length;for(let a=0;a<i;a++){let o=t[a];if(t$.test(o.type))r.push(o);else{let c=of(Gqt,o.type);if(!c?.type)throw new RP({abiParameter:o});let{array:l,type:u}=c;if(u in e){if(n.has(u))throw new PP({type:u});r.push({...o,type:`tuple${l??""}`,components:dqe(e[u]??[],e,new Set([...n,u]))})}else if(V1e(u))r.push(o);else throw new AP({type:u})}}return r}var Gqt,c$=B(()=>{EP();a$();o$();G1e();cqe();YA();JA();Gqt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/});function wv(t){let e=QA(t),n=[],r=t.length;for(let i=0;i<r;i++){let a=t[i];z2(a)||n.push(MP(a,e))}return n}var pqe=B(()=>{YA();c$();JA()});function BP(t){let e;if(typeof t=="string")e=MP(t);else{let n=QA(t),r=t.length;for(let i=0;i<r;i++){let a=t[i];if(!z2(a)){e=MP(a,n);break}}}if(!e)throw new xP({signature:t});return e}var hqe=B(()=>{a$();YA();c$();JA()});function j2(t){let e=[];if(typeof t=="string"){let n=Wl(t),r=n.length;for(let i=0;i<r;i++)e.push(np(n[i],{modifiers:j1e}))}else{let n=QA(t),r=t.length;for(let i=0;i<r;i++){let a=t[i];if(z2(a))continue;let o=Wl(a),s=o.length;for(let c=0;c<s;c++)e.push(np(o[c],{modifiers:j1e,structs:n}))}}if(e.length===0)throw new _P({params:t});return e}var mqe=B(()=>{o$();YA();c$();JA();JA()});var ZA=B(()=>{j$e();pqe();hqe();mqe()});function lm(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}var DP=B(()=>{});function LP(t){return lm(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}var K1e=B(()=>{DP()});var $1e,yqe=B(()=>{$1e="2.31.0"});function bqe(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?bqe(t.cause,e):e?null:t}var q1e,um,l$=B(()=>{yqe();q1e={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${$1e}`},um=class t extends Error{constructor(e,n={}){let r=n.cause instanceof t?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof t&&n.cause.docsPath||n.docsPath,a=q1e.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...q1e.version?[`Version: ${q1e.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=$1e}walk(e){return bqe(this,e)}}});var UP,gqe=B(()=>{l$();UP=class extends um{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}});function G2(t,{dir:e,size:n=32}={}){return typeof t=="string"?Kqt(t,{dir:e,size:n}):$qt(t,{dir:e,size:n})}function Kqt(t,{dir:e,size:n=32}={}){if(n===null)return t;let r=t.replace("0x","");if(r.length>n*2)throw new UP({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function $qt(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new UP({size:t.length,targetSize:n,type:"bytes"});let r=new Uint8Array(n);for(let i=0;i<n;i++){let a=e==="right";r[a?i:n-i-1]=t[a?i:t.length-i-1]}return r}var W1e=B(()=>{gqe()});var u$,f$,Y1e=B(()=>{l$();u$=class extends um{constructor({max:e,min:n,signed:r,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},f$=class extends um{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}});function V2(t,{size:e}){if(LP(t)>e)throw new f$({givenSize:LP(t),maxSize:e})}function d$(t,e={}){let{signed:n}=e;e.size&&V2(t,{size:e.size});let r=BigInt(t);if(!n)return r;let i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function wqe(t,e={}){return Number(d$(t,e))}var p$=B(()=>{Y1e();K1e()});function FP(t,e={}){return typeof t=="number"||typeof t=="bigint"?J1e(t,e):typeof t=="string"?Jqt(t,e):typeof t=="boolean"?Wqt(t,e):vqe(t,e)}function Wqt(t,e={}){let n=`0x${Number(t)}`;return typeof e.size=="number"?(V2(n,{size:e.size}),G2(n,{size:e.size})):n}function vqe(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=qqt[t[i]];let r=`0x${n}`;return typeof e.size=="number"?(V2(r,{size:e.size}),G2(r,{dir:"right",size:e.size})):r}function J1e(t,e={}){let{signed:n,size:r}=e,i=BigInt(t),a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));let o=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<o){let c=typeof t=="bigint"?"n":"";throw new u$({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}let s=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?G2(s,{size:r}):s}function Jqt(t,e={}){let n=Yqt.encode(t);return vqe(n,e)}var qqt,Yqt,h$=B(()=>{Y1e();W1e();p$();qqt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Yqt=new TextEncoder});function xqe(t,e={}){return typeof t=="number"||typeof t=="bigint"?Xqt(t,e):typeof t=="boolean"?Zqt(t,e):lm(t)?Aqe(t,e):Q1e(t,e)}function Zqt(t,e={}){let n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(V2(n,{size:e.size}),G2(n,{size:e.size})):n}function Eqe(t){if(t>=fm.zero&&t<=fm.nine)return t-fm.zero;if(t>=fm.A&&t<=fm.F)return t-(fm.A-10);if(t>=fm.a&&t<=fm.f)return t-(fm.a-10)}function Aqe(t,e={}){let n=t;e.size&&(V2(n,{size:e.size}),n=G2(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);let i=r.length/2,a=new Uint8Array(i);for(let o=0,s=0;o<i;o++){let c=Eqe(r.charCodeAt(s++)),l=Eqe(r.charCodeAt(s++));if(c===void 0||l===void 0)throw new um(`Invalid byte sequence ("${r[s-2]}${r[s-1]}" in "${r}").`);a[o]=c*16+l}return a}function Xqt(t,e){let n=J1e(t,e);return Aqe(n)}function Q1e(t,e={}){let n=Qqt.encode(t);return typeof e.size=="number"?(V2(n,{size:e.size}),G2(n,{dir:"right",size:e.size})):n}var Qqt,fm,Z1e=B(()=>{l$();DP();W1e();p$();h$();Qqt=new TextEncoder;fm={zero:48,nine:57,A:65,F:70,a:97,f:102}});function m$(t,e){let n=e||"hex",r=Gc(lm(t,{strict:!1})?xqe(t):t);return n==="bytes"?r:FP(r)}var X1e=B(()=>{N3();DP();Z1e();h$()});var y$,_qe=B(()=>{y$=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){let r=this.keys().next().value;r&&this.delete(r)}return this}}});function Tqe(t,e){if(epe.has(`${t}.${e}`))return epe.get(`${t}.${e}`);let n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=m$(Q1e(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());let a=`0x${i.join("")}`;return epe.set(`${t}.${e}`,a),a}var epe,Sqe=B(()=>{Z1e();X1e();_qe();epe=new y$(8192)});function Cqe(t){let e=m$(`0x${t.substring(4)}`).substring(26);return Tqe(`0x${e}`)}var Iqe=B(()=>{Sqe();X1e()});function XA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function pm(t){if(!XA(t))throw new Error("Uint8Array expected")}function e_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function HP(t){let e=t.toString(16);return e.length&1?"0"+e:e}function Nqe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ipe:BigInt("0x"+t)}function t_(t){if(pm(t),Pqe)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=eWt[t[n]];return e}function Rqe(t){if(t>=dm._0&&t<=dm._9)return t-dm._0;if(t>=dm.A&&t<=dm.F)return t-(dm.A-10);if(t>=dm.a&&t<=dm.f)return t-(dm.a-10)}function zP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Pqe)return Uint8Array.fromHex(t);let e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){let o=Rqe(t.charCodeAt(a)),s=Rqe(t.charCodeAt(a+1));if(o===void 0||s===void 0){let c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[i]=o*16+s}return r}function Yl(t){return Nqe(t_(t))}function ape(t){return pm(t),Nqe(t_(Uint8Array.from(t).reverse()))}function qh(t,e){return zP(t.toString(16).padStart(e*2,"0"))}function ope(t,e){return qh(t,e).reverse()}function Go(t,e,n){let r;if(typeof e=="string")try{r=zP(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(XA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function rl(...t){let e=0;for(let r=0;r<t.length;r++){let i=t[r];pm(i),e+=i.length}let n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let a=t[r];n.set(a,i),i+=a.length}return n}function b$(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function vv(t,e,n){return tpe(t)&&tpe(e)&&tpe(n)&&e<=t&&t<n}function hm(t,e,n,r){if(!vv(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function kqe(t){let e;for(e=0;t>ipe;t>>=rpe,e+=1);return e}function Mqe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=npe(t),i=npe(t),a=0,o=()=>{r.fill(1),i.fill(0),a=0},s=(...f)=>n(i,r,...f),c=(f=npe(0))=>{i=s(Oqe([0]),f),r=s(),f.length!==0&&(i=s(Oqe([1]),f),r=s())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<e;){r=s();let p=r.slice();d.push(p),f+=r.length}return rl(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(l()));)c();return o(),p}}function mm(t,e,n={}){let r=(i,a,o)=>{let s=tWt[a];if(typeof s!="function")throw new Error("invalid validator function");let c=t[i];if(!(o&&c===void 0)&&!s(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+c)};for(let[i,a]of Object.entries(e))r(i,a,!1);for(let[i,a]of Object.entries(n))r(i,a,!0);return t}function spe(t){let e=new WeakMap;return(n,...r)=>{let i=e.get(n);if(i!==void 0)return i;let a=t(n,...r);return e.set(n,a),a}}var ipe,rpe,Pqe,eWt,dm,tpe,Ev,npe,Oqe,tWt,n_=B(()=>{ipe=BigInt(0),rpe=BigInt(1);Pqe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",eWt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));dm={_0:48,_9:57,A:65,F:70,a:97,f:102};tpe=t=>typeof t=="bigint"&&ipe<=t;Ev=t=>(rpe<<BigInt(t))-rpe,npe=t=>new Uint8Array(t),Oqe=t=>Uint8Array.from(t);tWt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||XA(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function Po(t,e){let n=t%e;return n>=il?n:e+n}function sf(t,e,n){let r=t;for(;e-- >il;)r*=r,r%=n;return r}function g$(t,e){if(t===il)throw new Error("invert: expected non-zero number");if(e<=il)throw new Error("invert: expected positive modulus, got "+e);let n=Po(t,e),r=e,i=il,a=mc,o=mc,s=il;for(;n!==il;){let l=r/n,u=r%n,f=i-o*l,d=a-s*l;r=n,n=u,i=o,a=s,o=f,s=d}if(r!==mc)throw new Error("invert: does not exist");return Po(i,e)}function Fqe(t,e){let n=(t.ORDER+mc)/Dqe,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function rWt(t,e){let n=(t.ORDER-Lqe)/Uqe,r=t.mul(e,xv),i=t.pow(r,n),a=t.mul(e,i),o=t.mul(t.mul(a,xv),i),s=t.mul(a,t.sub(o,t.ONE));if(!t.eql(t.sqr(s),e))throw new Error("Cannot find square root");return s}function iWt(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-mc,n=0;for(;e%xv===il;)e/=xv,n++;let r=xv,i=jP(t);for(;Bqe(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Fqe;let a=i.pow(r,e),o=(e+mc)/xv;return function(c,l){if(c.is0(l))return l;if(Bqe(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,a),d=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let h=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let w=mc<<BigInt(u-h-1),g=c.pow(f,w);u=h,f=c.sqr(g),d=c.mul(d,f),p=c.mul(p,g)}return p}}function aWt(t){return t%Dqe===nWt?Fqe:t%Uqe===Lqe?rWt:iWt(t)}function w$(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=oWt.reduce((r,i)=>(r[i]="function",r),e);return mm(t,n)}function sWt(t,e,n){if(n<il)throw new Error("invalid exponent, negatives unsupported");if(n===il)return t.ONE;if(n===mc)return e;let r=t.ONE,i=e;for(;n>il;)n&mc&&(r=t.mul(r,i)),i=t.sqr(i),n>>=mc;return r}function r_(t,e,n=!1){let r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),a=t.inv(i);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),a),r}function Bqe(t,e){let n=(t.ORDER-mc)/xv,r=t.pow(e,n),i=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!a&&!o)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function cpe(t,e){e!==void 0&&zc(e);let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function jP(t,e,n=!1,r={}){if(t<=il)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:i,nByteLength:a}=cpe(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,s=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:a,MASK:Ev(i),ZERO:il,ONE:mc,create:c=>Po(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return il<=c&&c<t},is0:c=>c===il,isOdd:c=>(c&mc)===mc,neg:c=>Po(-c,t),eql:(c,l)=>c===l,sqr:c=>Po(c*c,t),add:(c,l)=>Po(c+l,t),sub:(c,l)=>Po(c-l,t),mul:(c,l)=>Po(c*l,t),pow:(c,l)=>sWt(s,c,l),div:(c,l)=>Po(c*g$(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>g$(c,t),sqrt:r.sqrt||(c=>(o||(o=aWt(t)),o(s,c))),toBytes:c=>n?ope(c,a):qh(c,a),fromBytes:c=>{if(c.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);return n?ape(c):Yl(c)},invertBatch:c=>r_(s,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(s)}function Hqe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function lpe(t){let e=Hqe(t);return e+Math.ceil(e/2)}function zqe(t,e,n=!1){let r=t.length,i=Hqe(e),a=lpe(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);let o=n?ape(t):Yl(t),s=Po(o,e-mc)+mc;return n?ope(s,i):qh(s,i)}var il,mc,xv,nWt,Dqe,Lqe,Uqe,oWt,GP=B(()=>{Is();n_();il=BigInt(0),mc=BigInt(1),xv=BigInt(2),nWt=BigInt(3),Dqe=BigInt(4),Lqe=BigInt(5),Uqe=BigInt(8);oWt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function upe(t,e){let n=e.negate();return t?n:e}function Vqe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function fpe(t,e){Vqe(t,e);let n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,a=Ev(t),o=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:i,shiftBy:o}}function Gqe(t,e,n){let{windowSize:r,mask:i,maxNumber:a,shiftBy:o}=n,s=Number(t&i),c=t>>o;s>r&&(s-=a,c+=hpe);let l=e*r,u=l+Math.abs(s)-1,f=s===0,d=s<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function cWt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function lWt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}function ppe(t){return Kqe.get(t)||1}function $qe(t,e){return{constTimeNegate:upe,hasPrecomputes(n){return ppe(n)!==1},unsafeLadder(n,r,i=t.ZERO){let a=n;for(;r>jqe;)r&hpe&&(i=i.add(a)),a=a.double(),r>>=hpe;return i},precomputeWindow(n,r){let{windows:i,windowSize:a}=fpe(r,e),o=[],s=n,c=s;for(let l=0;l<i;l++){c=s,o.push(c);for(let u=1;u<a;u++)c=c.add(s),o.push(c);s=c.double()}return o},wNAF(n,r,i){let a=t.ZERO,o=t.BASE,s=fpe(n,e);for(let c=0;c<s.windows;c++){let{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:h}=Gqe(i,c,s);i=l,f?o=o.add(upe(p,r[h])):a=a.add(upe(d,r[u]))}return{p:a,f:o}},wNAFUnsafe(n,r,i,a=t.ZERO){let o=fpe(n,e);for(let s=0;s<o.windows&&i!==jqe;s++){let{nextN:c,offset:l,isZero:u,isNeg:f}=Gqe(i,s,o);if(i=c,!u){let d=r[l];a=a.add(f?d.negate():d)}}return a},getPrecomputes(n,r,i){let a=dpe.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&dpe.set(r,i(a))),a},wNAFCached(n,r,i){let a=ppe(n);return this.wNAF(a,this.getPrecomputes(a,n,i),r)},wNAFCachedUnsafe(n,r,i,a){let o=ppe(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,a)},setWindowSize(n,r){Vqe(r,e),Kqe.set(n,r),dpe.delete(n)}}}function qqe(t,e,n,r){cWt(n,t),lWt(r,e);let i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,s=kqe(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=Ev(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<a;m++){let w=r[m],g=Number(w>>BigInt(p)&l);u[g]=u[g].add(n[m])}let h=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),h=h.add(w);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function mpe(t){return w$(t.Fp),mm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cpe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var jqe,hpe,dpe,Kqe,Wqe=B(()=>{GP();n_();jqe=BigInt(0),hpe=BigInt(1);dpe=new WeakMap,Kqe=new WeakMap});function Yqe(t){t.lowS!==void 0&&e_("lowS",t.lowS),t.prehash!==void 0&&e_("prehash",t.prehash)}function uWt(t){let e=mpe(t);mm(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}function ype(t,e){return t_(qh(t,e))}function fWt(t){let e=uWt(t),{Fp:n}=e,r=jP(e.n,e.nBitLength),i=e.toBytes||((C,P,D)=>{let F=P.toAffine();return rl(Uint8Array.from([4]),n.toBytes(F.x),n.toBytes(F.y))}),a=e.fromBytes||(C=>{let P=C.subarray(1),D=n.fromBytes(P.subarray(0,n.BYTES)),F=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:D,y:F}});function o(C){let{a:P,b:D}=e,F=n.sqr(C),H=n.mul(F,C);return n.add(n.add(H,n.mul(C,P)),D)}function s(C,P){let D=n.sqr(P),F=o(C);return n.eql(D,F)}if(!s(e.Gx,e.Gy))throw new Error("bad curve params: generator point");let c=n.mul(n.pow(e.a,VP),gpe),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(C){return vv(C,Ii,e.n)}function f(C){let{allowedPrivateKeyLengths:P,nByteLength:D,wrapPrivateKey:F,n:H}=e;if(P&&typeof C!="bigint"){if(XA(C)&&(C=t_(C)),typeof C!="string"||!P.includes(C.length))throw new Error("invalid private key");C=C.padStart(D*2,"0")}let O;try{O=typeof C=="bigint"?C:Yl(Go("private key",C,D))}catch{throw new Error("invalid private key, expected hex or "+D+" bytes, got "+typeof C)}return F&&(O=Po(O,H)),hm("private key",O,Ii,H),O}function d(C){if(!(C instanceof m))throw new Error("ProjectivePoint expected")}let p=spe((C,P)=>{let{px:D,py:F,pz:H}=C;if(n.eql(H,n.ONE))return{x:D,y:F};let O=C.is0();P==null&&(P=O?n.ONE:n.inv(H));let M=n.mul(D,P),N=n.mul(F,P),v=n.mul(H,P);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(v,n.ONE))throw new Error("invZ was invalid");return{x:M,y:N}}),h=spe(C=>{if(C.is0()){if(e.allowInfinityPoint&&!n.is0(C.py))return;throw new Error("bad point: ZERO")}let{x:P,y:D}=C.toAffine();if(!n.isValid(P)||!n.isValid(D))throw new Error("bad point: x or y not FE");if(!s(P,D))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(P,D,F){if(P==null||!n.isValid(P))throw new Error("x required");if(D==null||!n.isValid(D)||n.is0(D))throw new Error("y required");if(F==null||!n.isValid(F))throw new Error("z required");this.px=P,this.py=D,this.pz=F,Object.freeze(this)}static fromAffine(P){let{x:D,y:F}=P||{};if(!P||!n.isValid(D)||!n.isValid(F))throw new Error("invalid affine point");if(P instanceof m)throw new Error("projective point not allowed");let H=O=>n.eql(O,n.ZERO);return H(D)&&H(F)?m.ZERO:new m(D,F,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){let D=r_(n,P.map(F=>F.pz));return P.map((F,H)=>F.toAffine(D[H])).map(m.fromAffine)}static fromHex(P){let D=m.fromAffine(a(Go("pointHex",P)));return D.assertValidity(),D}static fromPrivateKey(P){return m.BASE.multiply(f(P))}static msm(P,D){return qqe(m,r,P,D)}_setWindowSize(P){x.setWindowSize(this,P)}assertValidity(){h(this)}hasEvenY(){let{y:P}=this.toAffine();if(n.isOdd)return!n.isOdd(P);throw new Error("Field doesn't support isOdd")}equals(P){d(P);let{px:D,py:F,pz:H}=this,{px:O,py:M,pz:N}=P,v=n.eql(n.mul(D,N),n.mul(O,H)),I=n.eql(n.mul(F,N),n.mul(M,H));return v&&I}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){let{a:P,b:D}=e,F=n.mul(D,VP),{px:H,py:O,pz:M}=this,N=n.ZERO,v=n.ZERO,I=n.ZERO,S=n.mul(H,H),y=n.mul(O,O),b=n.mul(M,M),_=n.mul(H,O);return _=n.add(_,_),I=n.mul(H,M),I=n.add(I,I),N=n.mul(P,I),v=n.mul(F,b),v=n.add(N,v),N=n.sub(y,v),v=n.add(y,v),v=n.mul(N,v),N=n.mul(_,N),I=n.mul(F,I),b=n.mul(P,b),_=n.sub(S,b),_=n.mul(P,_),_=n.add(_,I),I=n.add(S,S),S=n.add(I,S),S=n.add(S,b),S=n.mul(S,_),v=n.add(v,S),b=n.mul(O,M),b=n.add(b,b),S=n.mul(b,_),N=n.sub(N,S),I=n.mul(b,y),I=n.add(I,I),I=n.add(I,I),new m(N,v,I)}add(P){d(P);let{px:D,py:F,pz:H}=this,{px:O,py:M,pz:N}=P,v=n.ZERO,I=n.ZERO,S=n.ZERO,y=e.a,b=n.mul(e.b,VP),_=n.mul(D,O),A=n.mul(F,M),T=n.mul(H,N),E=n.add(D,F),k=n.add(O,M);E=n.mul(E,k),k=n.add(_,A),E=n.sub(E,k),k=n.add(D,H);let L=n.add(O,N);return k=n.mul(k,L),L=n.add(_,T),k=n.sub(k,L),L=n.add(F,H),v=n.add(M,N),L=n.mul(L,v),v=n.add(A,T),L=n.sub(L,v),S=n.mul(y,k),v=n.mul(b,T),S=n.add(v,S),v=n.sub(A,S),S=n.add(A,S),I=n.mul(v,S),A=n.add(_,_),A=n.add(A,_),T=n.mul(y,T),k=n.mul(b,k),A=n.add(A,T),T=n.sub(_,T),T=n.mul(y,T),k=n.add(k,T),_=n.mul(A,k),I=n.add(I,_),_=n.mul(L,k),v=n.mul(E,v),v=n.sub(v,_),_=n.mul(E,A),S=n.mul(L,S),S=n.add(S,_),new m(v,I,S)}subtract(P){return this.add(P.negate())}is0(){return this.equals(m.ZERO)}wNAF(P){return x.wNAFCached(this,P,m.normalizeZ)}multiplyUnsafe(P){let{endo:D,n:F}=e;hm("scalar",P,rp,F);let H=m.ZERO;if(P===rp)return H;if(this.is0()||P===Ii)return this;if(!D||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,P,m.normalizeZ);let{k1neg:O,k1:M,k2neg:N,k2:v}=D.splitScalar(P),I=H,S=H,y=this;for(;M>rp||v>rp;)M&Ii&&(I=I.add(y)),v&Ii&&(S=S.add(y)),y=y.double(),M>>=Ii,v>>=Ii;return O&&(I=I.negate()),N&&(S=S.negate()),S=new m(n.mul(S.px,D.beta),S.py,S.pz),I.add(S)}multiply(P){let{endo:D,n:F}=e;hm("scalar",P,Ii,F);let H,O;if(D){let{k1neg:M,k1:N,k2neg:v,k2:I}=D.splitScalar(P),{p:S,f:y}=this.wNAF(N),{p:b,f:_}=this.wNAF(I);S=x.constTimeNegate(M,S),b=x.constTimeNegate(v,b),b=new m(n.mul(b.px,D.beta),b.py,b.pz),H=S.add(b),O=y.add(_)}else{let{p:M,f:N}=this.wNAF(P);H=M,O=N}return m.normalizeZ([H,O])[0]}multiplyAndAddUnsafe(P,D,F){let H=m.BASE,O=(N,v)=>v===rp||v===Ii||!N.equals(H)?N.multiplyUnsafe(v):N.multiply(v),M=O(this,D).add(O(P,F));return M.is0()?void 0:M}toAffine(P){return p(this,P)}isTorsionFree(){let{h:P,isTorsionFree:D}=e;if(P===Ii)return!0;if(D)return D(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:P,clearCofactor:D}=e;return P===Ii?this:D?D(m,this):this.multiplyUnsafe(e.h)}toRawBytes(P=!0){return e_("isCompressed",P),this.assertValidity(),i(m,this,P)}toHex(P=!0){return e_("isCompressed",P),t_(this.toRawBytes(P))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);let{endo:w,nBitLength:g}=e,x=$qe(m,w?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function dWt(t){let e=mpe(t);return mm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Jqe(t){let e=dWt(t),{Fp:n,n:r,nByteLength:i,nBitLength:a}=e,o=n.BYTES+1,s=2*n.BYTES+1;function c(b){return Po(b,r)}function l(b){return g$(b,r)}let{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:p}=fWt({...e,toBytes(b,_,A){let T=_.toAffine(),E=n.toBytes(T.x),k=rl;return e_("isCompressed",A),A?k(Uint8Array.from([_.hasEvenY()?2:3]),E):k(Uint8Array.from([4]),E,n.toBytes(T.y))},fromBytes(b){let _=b.length,A=b[0],T=b.subarray(1);if(_===o&&(A===2||A===3)){let E=Yl(T);if(!vv(E,Ii,n.ORDER))throw new Error("Point is not on curve");let k=d(E),L;try{L=n.sqrt(k)}catch(j){let z=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+z)}let R=(L&Ii)===Ii;return(A&1)===1!==R&&(L=n.neg(L)),{x:E,y:L}}else if(_===s&&A===4){let E=n.fromBytes(T.subarray(0,n.BYTES)),k=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:E,y:k}}else{let E=o,k=s;throw new Error("invalid Point, expected length of "+E+", or uncompressed "+k+", got "+_)}}});function h(b){let _=r>>Ii;return b>_}function m(b){return h(b)?c(-b):b}let w=(b,_,A)=>Yl(b.slice(_,A));class g{constructor(_,A,T){hm("r",_,Ii,r),hm("s",A,Ii,r),this.r=_,this.s=A,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact(_){let A=i;return _=Go("compactSignature",_,A*2),new g(w(_,0,A),w(_,A,2*A))}static fromDER(_){let{r:A,s:T}=ym.toSig(Go("DER",_));return new g(A,T)}assertValidity(){}addRecoveryBit(_){return new g(this.r,this.s,_)}recoverPublicKey(_){let{r:A,s:T,recovery:E}=this,k=H(Go("msgHash",_));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");let L=E===2||E===3?A+e.n:A;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let R=(E&1)===0?"02":"03",U=u.fromHex(R+ype(L,n.BYTES)),j=l(L),z=c(-k*j),V=c(T*j),$=u.BASE.multiplyAndAddUnsafe(U,z,V);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return zP(this.toDERHex())}toDERHex(){return ym.hexFromSig(this)}toCompactRawBytes(){return zP(this.toCompactHex())}toCompactHex(){let _=i;return ype(this.r,_)+ype(this.s,_)}}let x={isValidPrivateKey(b){try{return f(b),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let b=lpe(e.n);return zqe(e.randomBytes(b),e.n)},precompute(b=8,_=u.BASE){return _._setWindowSize(b),_.multiply(BigInt(3)),_}};function C(b,_=!0){return u.fromPrivateKey(b).toRawBytes(_)}function P(b){if(typeof b=="bigint")return!1;if(b instanceof u)return!0;let A=Go("key",b).length,T=n.BYTES,E=T+1,k=2*T+1;if(!(e.allowedPrivateKeyLengths||i===E))return A===E||A===k}function D(b,_,A=!0){if(P(b)===!0)throw new Error("first arg must be private key");if(P(_)===!1)throw new Error("second arg must be public key");return u.fromHex(_).multiply(f(b)).toRawBytes(A)}let F=e.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");let _=Yl(b),A=b.length*8-a;return A>0?_>>BigInt(A):_},H=e.bits2int_modN||function(b){return c(F(b))},O=Ev(a);function M(b){return hm("num < 2^"+a,b,rp,O),qh(b,i)}function N(b,_,A=v){if(["recovered","canonical"].some(J=>J in A))throw new Error("sign() legacy options not supported");let{hash:T,randomBytes:E}=e,{lowS:k,prehash:L,extraEntropy:R}=A;k==null&&(k=!0),b=Go("msgHash",b),Yqe(A),L&&(b=Go("prehashed msgHash",T(b)));let U=H(b),j=f(_),z=[M(j),M(U)];if(R!=null&&R!==!1){let J=R===!0?E(n.BYTES):R;z.push(Go("extraEntropy",J))}let V=rl(...z),$=U;function W(J){let X=F(J);if(!p(X))return;let te=l(X),ne=u.BASE.multiply(X).toAffine(),ue=c(ne.x);if(ue===rp)return;let ce=c(te*c($+ue*j));if(ce===rp)return;let oe=(ne.x===ue?0:2)|Number(ne.y&Ii),xe=ce;return k&&h(ce)&&(xe=m(ce),oe^=1),new g(ue,xe,oe)}return{seed:V,k2sig:W}}let v={lowS:e.lowS,prehash:!1},I={lowS:e.lowS,prehash:!1};function S(b,_,A=v){let{seed:T,k2sig:E}=N(b,_,A),k=e;return Mqe(k.hash.outputLen,k.nByteLength,k.hmac)(T,E)}u.BASE._setWindowSize(8);function y(b,_,A,T=I){let E=b;_=Go("msgHash",_),A=Go("publicKey",A);let{lowS:k,prehash:L,format:R}=T;if(Yqe(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(R!==void 0&&R!=="compact"&&R!=="der")throw new Error("format must be compact or der");let U=typeof E=="string"||XA(E),j=!U&&!R&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!U&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let z,V;try{if(j&&(z=new g(E.r,E.s)),U){try{R!=="compact"&&(z=g.fromDER(E))}catch(oe){if(!(oe instanceof ym.Err))throw oe}!z&&R!=="der"&&(z=g.fromCompact(E))}V=u.fromHex(A)}catch{return!1}if(!z||k&&z.hasHighS())return!1;L&&(_=e.hash(_));let{r:$,s:W}=z,J=H(_),X=l(W),te=c(J*X),ne=c($*X),ue=u.BASE.multiplyAndAddUnsafe(V,te,ne)?.toAffine();return ue?c(ue.x)===$:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:D,sign:S,verify:y,ProjectivePoint:u,Signature:g,utils:x}}function pWt(t,e){let n=t.ORDER,r=rp;for(let h=n-Ii;h%K2===rp;h/=K2)r+=Ii;let i=r,a=K2<<i-Ii-Ii,o=a*K2,s=(n-Ii)/o,c=(s-Ii)/K2,l=o-Ii,u=a,f=t.pow(e,s),d=t.pow(e,(s+Ii)/K2),p=(h,m)=>{let w=f,g=t.pow(m,l),x=t.sqr(g);x=t.mul(x,m);let C=t.mul(h,x);C=t.pow(C,c),C=t.mul(C,g),g=t.mul(C,m),x=t.mul(C,h);let P=t.mul(x,g);C=t.pow(P,u);let D=t.eql(C,t.ONE);g=t.mul(x,d),C=t.mul(P,w),x=t.cmov(g,x,D),P=t.cmov(C,P,D);for(let F=i;F>Ii;F--){let H=F-K2;H=K2<<H-Ii;let O=t.pow(P,H),M=t.eql(O,t.ONE);g=t.mul(x,w),w=t.mul(w,w),O=t.mul(P,w),x=t.cmov(g,x,M),P=t.cmov(O,P,M)}return{isValid:D,value:x}};if(t.ORDER%gpe===VP){let h=(t.ORDER-VP)/gpe,m=t.sqrt(t.neg(e));p=(w,g)=>{let x=t.sqr(g),C=t.mul(w,g);x=t.mul(x,C);let P=t.pow(x,h);P=t.mul(P,C);let D=t.mul(P,m),F=t.mul(t.sqr(P),g),H=t.eql(F,w),O=t.cmov(D,P,H);return{isValid:H,value:O}}}return p}function Qqe(t,e){if(w$(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let n=pWt(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,a,o,s,c,l,u,f;i=t.sqr(r),i=t.mul(i,e.Z),a=t.sqr(i),a=t.add(a,i),o=t.add(a,t.ONE),o=t.mul(o,e.B),s=t.cmov(e.Z,t.neg(a),!t.eql(a,t.ZERO)),s=t.mul(s,e.A),a=t.sqr(o),l=t.sqr(s),c=t.mul(l,e.A),a=t.add(a,c),a=t.mul(a,o),l=t.mul(l,s),c=t.mul(l,e.B),a=t.add(a,c),u=t.mul(i,o);let{isValid:d,value:p}=n(a,l);f=t.mul(i,r),f=t.mul(f,p),u=t.cmov(u,o,d),f=t.cmov(f,p,d);let h=t.isOdd(r)===t.isOdd(f);f=t.cmov(t.neg(f),f,h);let m=r_(t,[s],!0)[0];return u=t.mul(u,m),{x:u,y:f}}}var bpe,ym,rp,Ii,K2,VP,gpe,wpe=B(()=>{Wqe();GP();n_();bpe=class extends Error{constructor(e=""){super(e)}},ym={Err:bpe,_tlv:{encode:(t,e)=>{let{Err:n}=ym;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");let r=e.length/2,i=HP(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");let a=r>127?HP(i.length/2|128):"";return HP(t)+a+i+e},decode(t,e){let{Err:n}=ym,r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");let i=e[r++],a=!!(i&128),o=0;if(!a)o=i;else{let c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");let l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}let s=e.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+o)}}},_int:{encode(t){let{Err:e}=ym;if(t<rp)throw new e("integer: negative integers are not allowed");let n=HP(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){let{Err:e}=ym;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Yl(t)}},toSig(t){let{Err:e,_int:n,_tlv:r}=ym,i=Go("signature",t),{v:a,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:s,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(l)}},hexFromSig(t){let{_tlv:e,_int:n}=ym,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),a=r+i;return e.encode(48,a)}};rp=BigInt(0),Ii=BigInt(1),K2=BigInt(2),VP=BigInt(3),gpe=BigInt(4)});function hWt(t){return{hash:t,hmac:(e,...n)=>y3(t,e,rr(...n)),randomBytes:Cs}}function Zqe(t,e){let n=r=>Jqe({...t,...hWt(r)});return{...n(e),create:n}}var Xqe=B(()=>{fU();Is();wpe();});function $2(t,e){if(KP(t),KP(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function yWt(t,e){let n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function KP(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function bWt(t,e,n,r){pm(t),pm(e),KP(n),e.length>255&&(e=r(rl(b$("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:a}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");let s=rl(e,$2(e.length,1)),c=$2(0,a),l=$2(n,2),u=new Array(o),f=r(rl(c,t,l,$2(0,1),s));u[0]=r(rl(f,$2(1,1),s));for(let p=1;p<=o;p++){let h=[yWt(f,u[p-1]),$2(p+1,1),s];u[p]=r(rl(...h))}return rl(...u).slice(0,n)}function gWt(t,e,n,r,i){if(pm(t),pm(e),KP(n),e.length>255){let a=Math.ceil(2*r/8);e=i.create({dkLen:a}).update(b$("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update($2(n,2)).update(e).update($2(e.length,1)).digest()}function eWe(t,e,n){mm(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:r,k:i,m:a,hash:o,expand:s,DST:c}=n;pm(t),KP(e);let l=typeof c=="string"?b$(c):c,u=r.toString(2).length,f=Math.ceil((u+i)/8),d=e*a*f,p;if(s==="xmd")p=bWt(t,l,d,o);else if(s==="xof")p=gWt(t,l,d,i,o);else if(s==="_internal_pass")p=t;else throw new Error('expand must be "xmd" or "xof"');let h=new Array(e);for(let m=0;m<e;m++){let w=new Array(a);for(let g=0;g<a;g++){let x=f*(g+m*a),C=p.subarray(x,x+f);w[g]=Po(mWt(C),r)}h[m]=w}return h}function tWe(t,e){let n=e.map(r=>Array.from(r).reverse());return(r,i)=>{let[a,o,s,c]=n.map(f=>f.reduce((d,p)=>t.add(t.mul(d,r),p))),[l,u]=r_(t,[o,c],!0);return r=t.mul(a,l),i=t.mul(i,t.mul(s,u)),{x:r,y:i}}}function nWe(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function r(a){return t.fromAffine(e(a))}function i(a){let o=a.clearCofactor();return o.equals(t.ZERO)?t.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(a,o){let s=eWe(a,2,{...n,DST:n.DST,...o}),c=r(s[0]),l=r(s[1]);return i(c.add(l))},encodeToCurve(a,o){let s=eWe(a,1,{...n,DST:n.encodeDST,...o});return i(r(s[0]))},mapToCurve(a){if(!Array.isArray(a))throw new Error("expected array of bigints");for(let o of a)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(r(a))}}}var mWt,rWe=B(()=>{GP();n_();mWt=Yl});var uWe={};$t(uWe,{encodeToCurve:()=>SWt,hashToCurve:()=>TWt,schnorr:()=>xWt,secp256k1:()=>YP,secp256k1_hasher:()=>Spe});function oWe(t){let e=WP,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=sf(u,n,e)*u%e,d=sf(f,n,e)*u%e,p=sf(d,E$,e)*l%e,h=sf(p,i,e)*p%e,m=sf(h,a,e)*h%e,w=sf(m,s,e)*m%e,g=sf(w,c,e)*w%e,x=sf(g,s,e)*m%e,C=sf(x,n,e)*u%e,P=sf(C,o,e)*h%e,D=sf(P,r,e)*l%e,F=sf(D,E$,e);if(!q2.eql(q2.sqr(F),t))throw new Error("Cannot find square root");return F}function x$(t,...e){let n=aWe[t];if(n===void 0){let r=Tl(Uint8Array.from(t,i=>i.charCodeAt(0)));n=rl(r,r),aWe[t]=n}return Tl(rl(n,...e))}function xpe(t){let e=YP.utils.normPrivateKeyToScalar(t),n=Tpe.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:qP(-e),bytes:_pe(n)}}function sWe(t){hm("x",t,$P,WP);let e=vpe(t*t),n=vpe(e*t+BigInt(7)),r=oWe(n);r%E$!==Ape&&(r=vpe(-r));let i=new Tpe(t,r,$P);return i.assertValidity(),i}function cWe(...t){return qP(i_(x$("BIP0340/challenge",...t)))}function vWt(t){return xpe(t).bytes}function EWt(t,e,n=Cs(32)){let r=Go("message",t),{bytes:i,scalar:a}=xpe(e),o=Go("auxRand",n,32),s=Epe(a^i_(x$("BIP0340/aux",o))),c=x$("BIP0340/nonce",s,i,r),l=qP(i_(c));if(l===Ape)throw new Error("sign failed: k is zero");let{bytes:u,scalar:f}=xpe(l),d=cWe(u,i,r),p=new Uint8Array(64);if(p.set(u,0),p.set(Epe(qP(f+d*a)),32),!lWe(p,r,i))throw new Error("sign: Invalid signature produced");return p}function lWe(t,e,n){let r=Go("signature",t,64),i=Go("message",e),a=Go("publicKey",n,32);try{let o=sWe(i_(a)),s=i_(r.subarray(0,32));if(!vv(s,$P,WP))return!1;let c=i_(r.subarray(32,64));if(!vv(c,$P,v$))return!1;let l=cWe(Epe(s),_pe(o),i),u=wWt(o,c,qP(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==s)}catch{return!1}}var WP,v$,Ape,$P,E$,iWe,q2,YP,aWe,_pe,Epe,vpe,qP,Tpe,wWt,i_,xWt,AWt,_Wt,Spe,TWt,SWt,fWe=B(()=>{$9();Is();Xqe();rWe();GP();n_();wpe();WP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),v$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ape=BigInt(0),$P=BigInt(1),E$=BigInt(2),iWe=(t,e)=>(t+e/E$)/e;q2=jP(WP,void 0,void 0,{sqrt:oWe}),YP=Zqe({a:Ape,b:BigInt(7),Fp:q2,n:v$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=v$,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-$P*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),s=iWe(a*t,e),c=iWe(-r*t,e),l=Po(t-s*n-c*i,e),u=Po(-s*r-c*a,e),f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Tl),aWe={};_pe=t=>t.toRawBytes(!0).slice(1),Epe=t=>qh(t,32),vpe=t=>Po(t,WP),qP=t=>Po(t,v$),Tpe=YP.ProjectivePoint,wWt=(t,e,n)=>Tpe.BASE.multiplyAndAddUnsafe(t,e,n);i_=Yl;xWt={getPublicKey:vWt,sign:EWt,verify:lWe,utils:{randomPrivateKey:YP.utils.randomPrivateKey,lift_x:sWe,pointToBytes:_pe,numberToBytesBE:qh,bytesToNumberBE:Yl,taggedHash:x$,mod:Po}},AWt=tWe(q2,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),_Wt=Qqe(q2,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:q2.create(BigInt("-11"))}),Spe=nWe(YP.ProjectivePoint,t=>{let{x:e,y:n}=_Wt(q2.create(t[0]));return AWt(e,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:q2.ORDER,m:1,k:128,expand:"xmd",hash:Tl}),TWt=Spe.hashToCurve,SWt=Spe.encodeToCurve});async function pWe({hash:t,signature:e}){let n=lm(t)?t:FP(t),{secp256k1:r}=await Promise.resolve().then(()=>(fWe(),uWe));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:l,s:u,v:f,yParity:d}=e,p=Number(d??f),h=dWe(p);return new r.Signature(d$(l),d$(u)).addRecoveryBit(h)}let o=lm(e)?e:FP(e);if(LP(o)!==65)throw new Error("invalid signature length");let s=wqe(`0x${o.slice(130)}`),c=dWe(s);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function dWe(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}var hWe=B(()=>{DP();K1e();p$();h$()});async function Cpe({hash:t,signature:e}){return Cqe(await pWe({hash:t,signature:e}))}var mWe=B(()=>{Iqe();hWe()});var yWe=B(()=>{mWe()});function CWt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}let n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0,p=l.length;for(;d!==p&&l[d]===0;)d++,u++;let h=(p-d)*a+1>>>0,m=new Uint8Array(h);for(;d!==p;){let x=l[d],C=0;for(let P=h-1;(x!==0||C<f)&&P!==-1;P--,C++)x+=256*m[P]>>>0,m[P]=x%n>>>0,x=x/n>>>0;if(x!==0)throw new Error("Non-zero carry");f=C,d++}let w=h-f;for(;w!==h&&m[w]===0;)w++;let g=r.repeat(u);for(;w<h;++w)g+=t.charAt(m[w]);return g}function s(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===r;)f++,u++;let p=(l.length-u)*i+1>>>0,h=new Uint8Array(p);for(;u<l.length;){let x=l.charCodeAt(u);if(x>255)return;let C=e[x];if(C===255)return;let P=0;for(let D=p-1;(C!==0||P<d)&&D!==-1;D--,P++)C+=n*h[D]>>>0,h[D]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");d=P,u++}let m=p-d;for(;m!==p&&h[m]===0;)m++;let w=new Uint8Array(f+(p-m)),g=f;for(;m!==p;)w[g++]=h[m++];return w}function c(l){let u=s(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:s,decode:c}}var bWe,gWe=B(()=>{bWe=CWt});var IWt,a_,wWe=B(()=>{gWe();IWt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",a_=bWe(IWt)});function vWe(t){let e=t.length,n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){let a=t.charCodeAt(r);(a&64512)===56320&&(++r,i=((i&1023)<<10)+(a&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function RWt(t,e,n){let r=t.length,i=n,a=0;for(;a<r;){let o=t.charCodeAt(a++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&a<r){let s=t.charCodeAt(a);(s&64512)===56320&&(++a,o=((o&1023)<<10)+(s&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}function PWt(t,e,n){OWt.encodeInto(t,e.subarray(n))}function EWe(t,e,n){t.length>NWt?PWt(t,e,n):RWt(t,e,n)}function Ipe(t,e,n){let r=e,i=r+n,a=[],o="";for(;r<i;){let s=t[r++];if((s&128)===0)a.push(s);else if((s&224)===192){let c=t[r++]&63;a.push((s&31)<<6|c)}else if((s&240)===224){let c=t[r++]&63,l=t[r++]&63;a.push((s&31)<<12|c<<6|l)}else if((s&248)===240){let c=t[r++]&63,l=t[r++]&63,u=t[r++]&63,f=(s&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,a.push(f>>>10&1023|55296),f=56320|f&1023),a.push(f)}else a.push(s);a.length>=kWt&&(o+=String.fromCharCode(...a),a.length=0)}return a.length>0&&(o+=String.fromCharCode(...a)),o}function DWt(t,e,n){let r=t.subarray(e,e+n);return MWt.decode(r)}function xWe(t,e,n){return n>BWt?DWt(t,e,n):Ipe(t,e,n)}var OWt,NWt,kWt,MWt,BWt,A$=B(()=>{OWt=new TextEncoder,NWt=50;kWt=4096;MWt=new TextDecoder,BWt=200});var Av,AWe=B(()=>{Av=class{constructor(e,n){this.type=e,this.data=n}}});var Jl,Rpe=B(()=>{Jl=class t extends Error{constructor(e){super(e);let n=Object.create(t.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:t.name})}}});function _We(t,e,n){let r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function _$(t,e,n){let r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function T$(t,e){let n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function TWe(t,e){let n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}var S$=B(()=>{});function HWt({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=FWt)if(e===0&&t<=UWt){let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{let n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),a=new DataView(i.buffer);return a.setUint32(0,e<<2|n&3),a.setUint32(4,r),i}else{let n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),_$(r,4,t),n}}function zWt(t){let e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function jWt(t){if(t instanceof Date){let e=zWt(t);return HWt(e)}else return null}function GWt(t){let e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{let n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,a=n>>>2;return{sec:i,nsec:a}}case 12:{let n=T$(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Jl(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function VWt(t){let e=GWt(t);return new Date(e.sec*1e3+e.nsec/1e6)}var LWt,UWt,FWt,SWe,CWe=B(()=>{Rpe();S$();LWt=-1,UWt=4294967296-1,FWt=17179869184-1;SWe={type:LWt,encode:jWt,decode:VWt}});var W2,Ope=B(()=>{AWe();CWe();W2=class{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(SWe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{let i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){let i=this.builtInEncoders[r];if(i!=null){let a=i(e,n);if(a!=null){let o=-1-r;return new Av(o,a)}}}for(let r=0;r<this.encoders.length;r++){let i=this.encoders[r];if(i!=null){let a=i(e,n);if(a!=null){let o=r;return new Av(o,a)}}}return e instanceof Av?e:null}decode(e,n,r){let i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new Av(n,e)}};W2.defaultCodec=new W2});function KWt(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function JP(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):KWt(t)?new Uint8Array(t):Uint8Array.from(t)}var Npe=B(()=>{});var $Wt,qWt,C$,IWe=B(()=>{A$();Ope();S$();Npe();$Wt=100,qWt=2048,C$=class t{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??W2.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??$Wt,this.initialBufferSize=e?.initialBufferSize??qWt,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new t({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){let n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){let n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let r=vWe(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),EWe(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){let r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);let r=JP(e);this.writeU8a(r)}encodeArray(e,n){let r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(let i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(let i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){let r=Object.keys(e);this.sortKeys&&r.sort();let i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(let a of r){let o=e[a];this.ignoreUndefined&&o===void 0||(this.encodeString(a),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){let r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}let n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),_We(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),_$(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}});function Ppe(t,e){return new C$(e).encodeSharedRef(t)}var RWe=B(()=>{IWe()});function I$(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}var OWe=B(()=>{});var WWt,YWt,R$,NWe=B(()=>{A$();WWt=16,YWt=16,R$=class{constructor(e=WWt,n=YWt){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){let i=this.caches[r-1];e:for(let a of i){let o=a.bytes;for(let s=0;s<r;s++)if(o[s]!==e[n+s])continue e;return a.str}return null}store(e,n){let r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){let i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;let a=Ipe(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,a),a}}});var kpe,XP,kWe,JWt,Mpe,ZP,Bpe,QWt,PWe,ZWt,O$,MWe=B(()=>{OWe();Ope();S$();A$();Npe();NWe();Rpe();kpe="array",XP="map_key",kWe="map_value",JWt=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Jl("The type of key must be string or number but "+typeof t)},Mpe=class{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let n=this.getUninitializedStateFromPool();n.type=kpe,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){let n=this.getUninitializedStateFromPool();n.type=XP,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){let e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===kpe){let r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===XP||e.type===kWe){let r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}},ZP=-1,Bpe=new DataView(new ArrayBuffer(0)),QWt=new Uint8Array(Bpe.buffer);try{Bpe.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}PWe=new RangeError("Insufficient data"),ZWt=new R$,O$=class t{constructor(e){this.totalPos=0,this.pos=0,this.view=Bpe,this.bytes=QWt,this.headByte=ZP,this.stack=new Mpe,this.entered=!1,this.extensionCodec=e?.extensionCodec??W2.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??4294967295,this.maxBinLength=e?.maxBinLength??4294967295,this.maxArrayLength=e?.maxArrayLength??4294967295,this.maxMapLength=e?.maxMapLength??4294967295,this.maxExtLength=e?.maxExtLength??4294967295,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:ZWt,this.mapKeyConverter=e?.mapKeyConverter??JWt}clone(){return new t({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=ZP,this.stack.reset()}setBuffer(e){let n=JP(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===ZP&&!this.hasRemaining(1))this.setBuffer(e);else{let n=this.bytes.subarray(this.pos),r=JP(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(let s of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}let{headByte:i,pos:a,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${I$(i)} at ${o} (${a} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(let a of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){let e=this.readHeadByte(),n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){let i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){let i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{let i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){let i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){let i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){let i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){let i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){let i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){let i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){let i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){let i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){let i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){let i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){let i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){let i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){let i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Jl(`Unrecognized type byte: ${I$(e)}`);this.complete();let r=this.stack;for(;r.length>0;){let i=r.top();if(i.type===kpe)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===XP){if(n==="__proto__")throw new Jl("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=kWe;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=XP;continue e}}return n}}readHeadByte(){return this.headByte===ZP&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=ZP}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Jl(`Unrecognized array type byte: ${I$(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Jl(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Jl(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new Jl(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw PWe;let r=this.pos+n,i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=xWe(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===XP:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Jl(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw PWe;let r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Jl(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=TWe(this.view,this.pos);return this.pos+=8,e}readI64(){let e=T$(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}});function Dpe(t,e){return new O$(e).decode(t)}var BWe=B(()=>{MWe()});var DWe=B(()=>{RWe();BWe()});var LWe=B(()=>{});function _v(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var ek=B(()=>{});function tk(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?_v(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var N$=B(()=>{ek()});function Tv(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));let n=tk(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return _v(n)}var UWe=B(()=>{N$();ek()});var FWe=B(()=>{});function XWt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),o=a.charCodeAt(0);if(n[o]!==255)throw new TypeError(a+" is ambiguous");n[o]=i}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,w=0,g=0,x=h.length;g!==x&&h[g]===0;)g++,m++;for(var C=(x-g)*u+1>>>0,P=new Uint8Array(C);g!==x;){for(var D=h[g],F=0,H=C-1;(D!==0||F<w)&&H!==-1;H--,F++)D+=256*P[H]>>>0,P[H]=D%s>>>0,D=D/s>>>0;if(D!==0)throw new Error("Non-zero carry");w=F,g++}for(var O=C-w;O!==C&&P[O]===0;)O++;for(var M=c.repeat(m);O<C;++O)M+=t.charAt(P[O]);return M}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var w=0,g=0;h[m]===c;)w++,m++;for(var x=(h.length-m)*l+1>>>0,C=new Uint8Array(x);h[m];){var P=n[h.charCodeAt(m)];if(P===255)return;for(var D=0,F=x-1;(P!==0||D<g)&&F!==-1;F--,D++)P+=s*C[F]>>>0,C[F]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");g=D,m++}if(h[m]!==" "){for(var H=x-g;H!==x&&C[H]===0;)H++;for(var O=new Uint8Array(w+(x-H)),M=w;H!==x;)O[M++]=C[H++];return O}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var eYt,tYt,HWe,zWe=B(()=>{eYt=XWt,tYt=eYt,HWe=tYt});var Qrr,jWe,bm,GWe,VWe,Y2=B(()=>{Qrr=new Uint8Array(0),jWe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},bm=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},GWe=t=>new TextEncoder().encode(t),VWe=t=>new TextDecoder().decode(t)});var Lpe,Upe,Fpe,$We,Hpe,o_,J2,nYt,rYt,oo,ip=B(()=>{zWe();Y2();Lpe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Upe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return $We(this,e)}},Fpe=class{constructor(e){this.decoders=e}or(e){return $We(this,e)}decode(e){let n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},$We=(t,e)=>new Fpe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Hpe=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Lpe(e,n,r),this.decoder=new Upe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},o_=({name:t,prefix:e,encode:n,decode:r})=>new Hpe(t,e,n,r),J2=({prefix:t,name:e,alphabet:n})=>{let{encode:r,decode:i}=HWe(n,e);return o_({prefix:t,name:e,encode:r,decode:a=>bm(i(a))})},nYt=(t,e,n,r)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let a=t.length;for(;t[a-1]==="=";)--a;let o=new Uint8Array(a*n/8|0),s=0,c=0,l=0;for(let u=0;u<a;++u){let f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,s+=n,s>=8&&(s-=8,o[l++]=255&c>>s)}if(s>=n||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return o},rYt=(t,e,n)=>{let r=e[e.length-1]==="=",i=(1<<n)-1,a="",o=0,s=0;for(let c=0;c<t.length;++c)for(s=s<<8|t[c],o+=8;o>n;)o-=n,a+=e[i&s>>o];if(o&&(a+=e[i&s<<n-o]),r)for(;a.length*n&7;)a+="=";return a},oo=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>o_({prefix:e,name:t,encode(i){return rYt(i,r,n)},decode(i){return nYt(i,r,n,t)}})});var zpe={};$t(zpe,{identity:()=>iYt});var iYt,qWe=B(()=>{ip();Y2();iYt=o_({prefix:"\0",name:"identity",encode:t=>VWe(t),decode:t=>GWe(t)})});var jpe={};$t(jpe,{base2:()=>aYt});var aYt,WWe=B(()=>{ip();aYt=oo({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var Gpe={};$t(Gpe,{base8:()=>oYt});var oYt,YWe=B(()=>{ip();oYt=oo({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Vpe={};$t(Vpe,{base10:()=>sYt});var sYt,JWe=B(()=>{ip();sYt=J2({prefix:"9",name:"base10",alphabet:"0123456789"})});var Kpe={};$t(Kpe,{base16:()=>cYt,base16upper:()=>lYt});var cYt,lYt,QWe=B(()=>{ip();cYt=oo({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),lYt=oo({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var $pe={};$t($pe,{base32:()=>s_,base32hex:()=>pYt,base32hexpad:()=>mYt,base32hexpadupper:()=>yYt,base32hexupper:()=>hYt,base32pad:()=>fYt,base32padupper:()=>dYt,base32upper:()=>uYt,base32z:()=>bYt});var s_,uYt,fYt,dYt,pYt,hYt,mYt,yYt,bYt,qpe=B(()=>{ip();s_=oo({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uYt=oo({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fYt=oo({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dYt=oo({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pYt=oo({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hYt=oo({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),mYt=oo({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),yYt=oo({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bYt=oo({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Wpe={};$t(Wpe,{base36:()=>gYt,base36upper:()=>wYt});var gYt,wYt,ZWe=B(()=>{ip();gYt=J2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wYt=J2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var Ype={};$t(Ype,{base58btc:()=>Wh,base58flickr:()=>vYt});var Wh,vYt,Jpe=B(()=>{ip();Wh=J2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vYt=J2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Qpe={};$t(Qpe,{base64:()=>EYt,base64pad:()=>xYt,base64url:()=>AYt,base64urlpad:()=>_Yt});var EYt,xYt,AYt,_Yt,XWe=B(()=>{ip();EYt=oo({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),xYt=oo({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),AYt=oo({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_Yt=oo({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var Zpe={};$t(Zpe,{base256emoji:()=>RYt});function CYt(t){return t.reduce((e,n)=>(e+=TYt[n],e),"")}function IYt(t){let e=[];for(let n of t){let r=SYt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}var eYe,TYt,SYt,RYt,tYe=B(()=>{ip();eYe=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),TYt=eYe.reduce((t,e,n)=>(t[n]=e,t),[]),SYt=eYe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);RYt=o_({prefix:"\u{1F680}",name:"base256emoji",encode:CYt,decode:IYt})});function iYe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=kYt;)e[n++]=t&255|nYe,t/=128;for(;t&PYt;)e[n++]=t&255|nYe,t>>>=7;return e[n]=t|0,iYe.bytes=n-r+1,e}function Xpe(t,r){var n=0,r=r||0,i=0,a=r,o,s=t.length;do{if(a>=s)throw Xpe.bytes=0,new RangeError("Could not decode varint");o=t[a++],n+=i<28?(o&rYe)<<i:(o&rYe)*Math.pow(2,i),i+=7}while(o>=BYt);return Xpe.bytes=a-r,n}var OYt,nYe,NYt,PYt,kYt,MYt,BYt,rYe,DYt,LYt,UYt,FYt,HYt,zYt,jYt,GYt,VYt,KYt,$Yt,qYt,nk,aYe=B(()=>{OYt=iYe,nYe=128,NYt=127,PYt=~NYt,kYt=Math.pow(2,31);MYt=Xpe,BYt=128,rYe=127;DYt=Math.pow(2,7),LYt=Math.pow(2,14),UYt=Math.pow(2,21),FYt=Math.pow(2,28),HYt=Math.pow(2,35),zYt=Math.pow(2,42),jYt=Math.pow(2,49),GYt=Math.pow(2,56),VYt=Math.pow(2,63),KYt=function(t){return t<DYt?1:t<LYt?2:t<UYt?3:t<FYt?4:t<HYt?5:t<zYt?6:t<jYt?7:t<GYt?8:t<VYt?9:10},$Yt={encode:OYt,decode:MYt,encodingLength:KYt},qYt=$Yt,nk=qYt});var rk,c_,l_,k$=B(()=>{aYe();rk=(t,e=0)=>[nk.decode(t,e),nk.decode.bytes],c_=(t,e,n=0)=>(nk.encode(t,e,n),e),l_=t=>nk.encodingLength(t)});var Sv,oYe,sYe,u_,ak=B(()=>{Y2();k$();Sv=(t,e)=>{let n=e.byteLength,r=l_(t),i=r+l_(n),a=new Uint8Array(i+n);return c_(t,a,0),c_(n,a,r),a.set(e,i),new u_(t,n,e,a)},oYe=t=>{let e=bm(t),[n,r]=rk(e),[i,a]=rk(e.subarray(r)),o=e.subarray(r+a);if(o.byteLength!==i)throw new Error("Incorrect length");return new u_(n,i,o,e)},sYe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&jWe(t.bytes,e.bytes),u_=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}});var the,ehe,nhe=B(()=>{ak();the=({name:t,code:e,encode:n})=>new ehe(t,e,n),ehe=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){let n=this.encode(e);return n instanceof Uint8Array?Sv(this.code,n):n.then(r=>Sv(this.code,r))}else throw Error("Unknown type, must be binary type")}}});var rhe={};$t(rhe,{sha256:()=>WYt,sha512:()=>YYt});var lYe,WYt,YYt,uYe=B(()=>{nhe();lYe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),WYt=the({name:"sha2-256",code:18,encode:lYe("SHA-256")}),YYt=the({name:"sha2-512",code:19,encode:lYe("SHA-512")})});var ihe={};$t(ihe,{identity:()=>ZYt});var fYe,JYt,dYe,QYt,ZYt,pYe=B(()=>{Y2();ak();fYe=0,JYt="identity",dYe=bm,QYt=t=>Sv(fYe,dYe(t)),ZYt={code:fYe,name:JYt,encode:dYe,digest:QYt}});var hYe=B(()=>{Y2()});var gir,wir,mYe=B(()=>{gir=new TextEncoder,wir=new TextDecoder});var D$,tJt,nJt,rJt,ok,iJt,yYe,bYe,M$,B$,aJt,oJt,sJt,gYe=B(()=>{k$();ak();Jpe();qpe();Y2();D$=class t{constructor(e,n,r,i){this.code=n,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:B$,byteLength:B$,code:M$,version:M$,multihash:M$,bytes:M$,_baseCache:B$,asCID:B$})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:n}=this;if(e!==ok)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==iJt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(n)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:n}=this.multihash,r=Sv(e,n);return t.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&sYe(this.multihash,e.multihash)}toString(e){let{bytes:n,version:r,_baseCache:i}=this;switch(r){case 0:return nJt(n,i,e||Wh.encoder);default:return rJt(n,i,e||s_.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return oJt(/^0\.0/,sJt),!!(e&&(e[bYe]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:n,code:r,multihash:i,bytes:a}=e;return new t(n,r,i,a||yYe(n,r,i.bytes))}else if(e!=null&&e[bYe]===!0){let{version:n,multihash:r,code:i}=e,a=oYe(r);return t.create(n,i,a)}else return null}static create(e,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(n!==ok)throw new Error(`Version 0 CID must use dag-pb (code: ${ok}) block encoding`);return new t(e,n,r,r.bytes)}case 1:{let i=yYe(e,n,r.bytes);return new t(e,n,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,ok,e)}static createV1(e,n){return t.create(1,e,n)}static decode(e){let[n,r]=t.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(e){let n=t.inspectBytes(e),r=n.size-n.multihashSize,i=bm(e.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");let a=i.subarray(n.multihashSize-n.digestSize),o=new u_(n.multihashCode,n.digestSize,a,i);return[n.version===0?t.createV0(o):t.createV1(n.codec,o),e.subarray(n.size)]}static inspectBytes(e){let n=0,r=()=>{let[f,d]=rk(e.subarray(n));return n+=d,f},i=r(),a=ok;if(i===18?(i=0,n=0):i===1&&(a=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=n,s=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:a,multihashCode:s,digestSize:c,multihashSize:u,size:l}}static parse(e,n){let[r,i]=tJt(e,n),a=t.decode(i);return a._baseCache.set(r,e),a}},tJt=(t,e)=>{switch(t[0]){case"Q":{let n=e||Wh;return[Wh.prefix,n.decode(`${Wh.prefix}${t}`)]}case Wh.prefix:{let n=e||Wh;return[Wh.prefix,n.decode(t)]}case s_.prefix:{let n=e||s_;return[s_.prefix,n.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},nJt=(t,e,n)=>{let{prefix:r}=n;if(r!==Wh.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);let i=e.get(r);if(i==null){let a=n.encode(t).slice(1);return e.set(r,a),a}else return i},rJt=(t,e,n)=>{let{prefix:r}=n,i=e.get(r);if(i==null){let a=n.encode(t);return e.set(r,a),a}else return i},ok=112,iJt=18,yYe=(t,e,n)=>{let r=l_(t),i=r+l_(e),a=new Uint8Array(i+n.byteLength);return c_(t,a,0),c_(e,a,r),a.set(n,i),a},bYe=Symbol.for("@ipld/js-cid/CID"),M$={writable:!1,configurable:!1,enumerable:!0},B$={writable:!1,enumerable:!1,configurable:!1},aJt="0.0.0-dev",oJt=(t,e)=>{if(t.test(aJt))console.warn(e);else throw new Error(e)},sJt=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var wYe=B(()=>{gYe();k$();Y2();nhe();ak()});var ahe,Cir,vYe=B(()=>{qWe();WWe();YWe();JWe();QWe();qpe();ZWe();Jpe();XWe();tYe();uYe();pYe();hYe();mYe();wYe();ahe={...zpe,...jpe,...Gpe,...Vpe,...Kpe,...$pe,...Wpe,...Ype,...Qpe,...Zpe},Cir={...rhe,...ihe}});function xYe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}var EYe,ohe,cJt,L$,she=B(()=>{vYe();N$();EYe=xYe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ohe=xYe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);let e=tk(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),cJt={utf8:EYe,"utf-8":EYe,hex:ahe.base16,latin1:ohe,ascii:ohe,binary:ohe,...ahe},L$=cJt});function Ql(t,e="utf8"){let n=L$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?_v(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var AYe=B(()=>{she();ek()});function E0(t,e="utf8"){let n=L$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var _Ye=B(()=>{she()});var TYe=B(()=>{N$();ek()});var che=B(()=>{LWe();UWe();FWe();AYe();_Ye();TYe()});var SYe,CYe=B(()=>{SYe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}});var lhe=le((Qir,IYe)=>{var lJt="Input must be an string, Buffer or Uint8Array";function uJt(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(lJt);return e}function fJt(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function U$(t){return(4294967296+t).toString(16).substring(1)}function dJt(t,e,n){let r=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(n===32)r+=U$(e[i]).toUpperCase(),r+=" ",r+=U$(e[i+1]).toUpperCase();else if(n===64)r+=U$(e[i+1]).toUpperCase(),r+=U$(e[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function pJt(t,e,n){let r=new Date().getTime(),i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;let a=new Date().getTime();console.log("Generated random input in "+(a-r)+"ms"),r=a;for(let o=0;o<n;o++){let s=t(i),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+s.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}IYe.exports={normalizeInput:uJt,toHex:fJt,debugPrint:dJt,testSpeed:pJt}});var LYe=le((Zir,DYe)=>{var H$=lhe();function F$(t,e,n){let r=t[e]+t[n],i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function RYe(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let a=t[e+1]+r;i>=4294967296&&a++,t[e]=i,t[e+1]=a}function OYe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Q2(t,e,n,r,i,a){let o=sk[i],s=sk[i+1],c=sk[a],l=sk[a+1];F$(Kn,t,e),RYe(Kn,t,o,s);let u=Kn[r]^Kn[t],f=Kn[r+1]^Kn[t+1];Kn[r]=f,Kn[r+1]=u,F$(Kn,n,r),u=Kn[e]^Kn[n],f=Kn[e+1]^Kn[n+1],Kn[e]=u>>>24^f<<8,Kn[e+1]=f>>>24^u<<8,F$(Kn,t,e),RYe(Kn,t,c,l),u=Kn[r]^Kn[t],f=Kn[r+1]^Kn[t+1],Kn[r]=u>>>16^f<<16,Kn[r+1]=f>>>16^u<<16,F$(Kn,n,r),u=Kn[e]^Kn[n],f=Kn[e+1]^Kn[n+1],Kn[e]=f>>>31^u<<1,Kn[e+1]=u>>>31^f<<1}var NYe=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),hJt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],yc=new Uint8Array(hJt.map(function(t){return t*2})),Kn=new Uint32Array(32),sk=new Uint32Array(32);function PYe(t,e){let n=0;for(n=0;n<16;n++)Kn[n]=t.h[n],Kn[n+16]=NYe[n];for(Kn[24]=Kn[24]^t.t,Kn[25]=Kn[25]^t.t/4294967296,e&&(Kn[28]=~Kn[28],Kn[29]=~Kn[29]),n=0;n<32;n++)sk[n]=OYe(t.b,4*n);for(n=0;n<12;n++)Q2(0,8,16,24,yc[n*16+0],yc[n*16+1]),Q2(2,10,18,26,yc[n*16+2],yc[n*16+3]),Q2(4,12,20,28,yc[n*16+4],yc[n*16+5]),Q2(6,14,22,30,yc[n*16+6],yc[n*16+7]),Q2(0,10,20,30,yc[n*16+8],yc[n*16+9]),Q2(2,12,22,24,yc[n*16+10],yc[n*16+11]),Q2(4,14,16,26,yc[n*16+12],yc[n*16+13]),Q2(6,8,18,28,yc[n*16+14],yc[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Kn[n]^Kn[n+16]}var Z2=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function kYe(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");let i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};Z2.fill(0),Z2[0]=t,e&&(Z2[1]=e.length),Z2[2]=1,Z2[3]=1,n&&Z2.set(n,32),r&&Z2.set(r,48);for(let a=0;a<16;a++)i.h[a]=NYe[a]^OYe(Z2,a*4);return e&&(uhe(i,e),i.c=128),i}function uhe(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,PYe(t,!1),t.c=0),t.b[t.c++]=e[n]}function MYe(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;PYe(t,!0);let e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function BYe(t,e,n,r,i){n=n||64,t=H$.normalizeInput(t),r&&(r=H$.normalizeInput(r)),i&&(i=H$.normalizeInput(i));let a=kYe(n,e,r,i);return uhe(a,t),MYe(a)}function mJt(t,e,n,r,i){let a=BYe(t,e,n,r,i);return H$.toHex(a)}DYe.exports={blake2b:BYe,blake2bHex:mJt,blake2bInit:kYe,blake2bUpdate:uhe,blake2bFinal:MYe}});var KYe=le((Xir,VYe)=>{var UYe=lhe();function yJt(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function X2(t,e,n,r,i,a){Yr[t]=Yr[t]+Yr[e]+i,Yr[r]=z$(Yr[r]^Yr[t],16),Yr[n]=Yr[n]+Yr[r],Yr[e]=z$(Yr[e]^Yr[n],12),Yr[t]=Yr[t]+Yr[e]+a,Yr[r]=z$(Yr[r]^Yr[t],8),Yr[n]=Yr[n]+Yr[r],Yr[e]=z$(Yr[e]^Yr[n],7)}function z$(t,e){return t>>>e^t<<32-e}var FYe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bc=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Yr=new Uint32Array(16),x0=new Uint32Array(16);function HYe(t,e){let n=0;for(n=0;n<8;n++)Yr[n]=t.h[n],Yr[n+8]=FYe[n];for(Yr[12]^=t.t,Yr[13]^=t.t/4294967296,e&&(Yr[14]=~Yr[14]),n=0;n<16;n++)x0[n]=yJt(t.b,4*n);for(n=0;n<10;n++)X2(0,4,8,12,x0[bc[n*16+0]],x0[bc[n*16+1]]),X2(1,5,9,13,x0[bc[n*16+2]],x0[bc[n*16+3]]),X2(2,6,10,14,x0[bc[n*16+4]],x0[bc[n*16+5]]),X2(3,7,11,15,x0[bc[n*16+6]],x0[bc[n*16+7]]),X2(0,5,10,15,x0[bc[n*16+8]],x0[bc[n*16+9]]),X2(1,6,11,12,x0[bc[n*16+10]],x0[bc[n*16+11]]),X2(2,7,8,13,x0[bc[n*16+12]],x0[bc[n*16+13]]),X2(3,4,9,14,x0[bc[n*16+14]],x0[bc[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Yr[n]^Yr[n+8]}function zYe(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");let n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");let r={h:new Uint32Array(FYe),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(fhe(r,e),r.c=64),r}function fhe(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,HYe(t,!1),t.c=0),t.b[t.c++]=e[n]}function jYe(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;HYe(t,!0);let e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function GYe(t,e,n){n=n||32,t=UYe.normalizeInput(t);let r=zYe(n,e);return fhe(r,t),jYe(r)}function bJt(t,e,n){let r=GYe(t,e,n);return UYe.toHex(r)}VYe.exports={blake2s:GYe,blake2sHex:bJt,blake2sInit:zYe,blake2sUpdate:fhe,blake2sFinal:jYe}});var qYe=le((ear,$Ye)=>{var ck=LYe(),lk=KYe();$Ye.exports={blake2b:ck.blake2b,blake2bHex:ck.blake2bHex,blake2bInit:ck.blake2bInit,blake2bUpdate:ck.blake2bUpdate,blake2bFinal:ck.blake2bFinal,blake2s:lk.blake2s,blake2sHex:lk.blake2sHex,blake2sInit:lk.blake2sInit,blake2sUpdate:lk.blake2sUpdate,blake2sFinal:lk.blake2sFinal}});function xk(t){let[e,n]=t.split(IJe);return{namespace:e,reference:n}}function X$(t){let[e,n,r]=t.split(IJe);return{namespace:e,reference:n,address:r}}function eq(t,e=[]){let n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;let i=t[r];n.push(...i.accounts)}),n}function RJe(t,e){return t.includes(":")?[t]:e.chains||[]}function Ak(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Am(){return!(0,cp.getDocument)()&&!!(0,cp.getNavigator)()&&navigator.product===_Jt}function OJe(){return Am()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function NJe(){return Am()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function kv(){return!Ak()&&!!(0,cp.getNavigator)()&&!!(0,cp.getDocument)()}function _k(){return Am()?eu.reactNative:Ak()?eu.node:kv()?eu.browser:eu.unknown}function Fhe(){var t;try{return Am()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function SJt(t,e){let n=new URLSearchParams(t);for(let r of Object.keys(e).sort())if(e.hasOwnProperty(r)){let i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function PJe(t){var e,n;let r=Hhe();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),AJt(YYe(YYe({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Hhe(){return(0,SJe.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function CJt(){if(_k()===eu.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:n,Version:r}=global.Platform;return[n,r].join("-")}let t=k$e();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function IJt(){var t;let e=_k();return e===eu.browser?[e,((t=(0,cp.getLocation)())==null?void 0:t.host)||"unknown"].join(":"):e}function zhe(t,e,n){let r=CJt(),i=IJt();return[[t,e].join("-"),[TJt,n].join("-"),r,i].join("/")}function kJe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:a,useOnCloseEvent:o,bundleId:s,packageName:c}){let l=n.split("?"),u=zhe(t,e,r),f={auth:i,ua:u,projectId:a,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:s||void 0},d=SJt(l[1]||"",f);return l[0]+"?"+d}function Cv(t,e){return t.filter(n=>e.includes(n)).length===t.length}function tq(t){return Object.fromEntries(t.entries())}function nq(t){return new Map(Object.entries(t))}function _m(t=Em.FIVE_MINUTES,e){let n=(0,Em.toMiliseconds)(t||Em.FIVE_MINUTES),r,i,a,o;return{resolve:s=>{a&&r&&(clearTimeout(a),r(s),o=Promise.resolve(s))},reject:s=>{a&&i&&(clearTimeout(a),i(s))},done:()=>new Promise((s,c)=>{if(o)return s(o);a=setTimeout(()=>{let l=new Error(e);o=Promise.reject(l),c(l)},n),r=s,i=c})}}function lp(t,e,n){return new Promise(async(r,i)=>{let a=setTimeout(()=>i(new Error(n)),e);try{let o=await t;r(o)}catch(o){i(o)}clearTimeout(a)})}function MJe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function BJe(t){return MJe("topic",t)}function DJe(t){return MJe("id",t)}function rq(t){let[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Mo(t,e){return(0,Em.fromMiliseconds)((e||Date.now())+(0,Em.toMiliseconds)(t))}function Jh(t){return Date.now()>=(0,Em.toMiliseconds)(t)}function Qr(t,e){return`${t}${e?`:${e}`:""}`}function Nv(t=[],e=[]){return[...new Set([...t,...e])]}async function LJe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;let i=typeof n=="string"?JSON.parse(n):n,a=i?.href;if(typeof a!="string")return;let o=RJt(a,t,e),s=_k();if(s===eu.browser){if(!((r=(0,cp.getDocument)())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}OJt(o)}else s===eu.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function RJt(t,e,n){let r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){let a=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${a}${kJt(r,!0)}`}else i=`${i}/wc?${r}`;return i}function OJt(t){let e="_self";PJt()?e="_top":(NJt()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function UJe(t,e){let n="";try{if(kv()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function jhe(t,e){if(!t.includes(e))return null;let n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Ghe(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Tk(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function NJt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function PJt(){try{return window.self!==window.top}catch{return!1}}function kJt(t,e=!1){let n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function FJe(t){return Buffer.from(t,"base64").toString("utf-8")}function HJe(t){return new Promise(e=>setTimeout(e,t))}function zJe(t,e=!1){return e?{h:Number(t&j$),l:Number(t>>QYe&j$)}:{h:Number(t>>QYe&j$)|0,l:Number(t&j$)|0}}function jJe(t,e=!1){let n=t.length,r=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){let{h:o,l:s}=zJe(t[a],e);[r[a],i[a]]=[o,s]}return[r,i]}function op(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}function $he(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Od(t,...e){if(!$he(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function qhe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");xm(t.outputLen),xm(t.blockLen)}function ug(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Whe(t,e){Od(t);let n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function gk(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Nd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function dhe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Yh(t,e){return t<<32-e|t>>>e}function VJe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function VJt(t){for(let e=0;e<t.length;e++)t[e]=VJe(t[e]);return t}function wk(t){if(Od(t),KJe)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=KJt[t[n]];return e}function eJe(t){if(t>=gm._0&&t<=gm._9)return t-gm._0;if(t>=gm.A&&t<=gm.F)return t-(gm.A-10);if(t>=gm.a&&t<=gm.f)return t-(gm.a-10)}function Yhe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(KJe)return Uint8Array.fromHex(t);let e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){let o=eJe(t.charCodeAt(a)),s=eJe(t.charCodeAt(a+1));if(o===void 0||s===void 0){let c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[i]=o*16+s}return r}function $Jt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function sp(t){return typeof t=="string"&&(t=$Jt(t)),Od(t),t}function Iv(...t){let e=0;for(let r=0;r<t.length;r++){let i=t[r];Od(i),e+=i.length}let n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let a=t[r];n.set(a,i),i+=a.length}return n}function Sk(t){let e=r=>t().update(sp(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function qJt(t){let e=(r,i)=>t(i).update(sp(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function y_(t=32){if(f_&&typeof f_.getRandomValues=="function")return f_.getRandomValues(new Uint8Array(t));if(f_&&typeof f_.randomBytes=="function")return Uint8Array.from(f_.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function tQt(t,e=24){let n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let s=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=tJe(l,u,1)^n[s],d=nJe(l,u,1)^n[s+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let i=t[2],a=t[3];for(let o=0;o<24;o++){let s=qJe[o],c=tJe(i,a,s),l=nJe(i,a,s),u=$Je[o];i=t[u],a=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let s=0;s<10;s++)n[s]=t[o+s];for(let s=0;s<10;s++)t[o+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=XJt[r],t[1]^=eQt[r]}Nd(n)}function iQt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,s,r)}function aQt(t,e,n){return t&e^~t&n}function oQt(t,e,n){return t&e^t&n^e&n}function ig(t,e,n,r,i,a){let o=i[a],s=i[a+1],c=At[2*t],l=At[2*t+1],u=At[2*e],f=At[2*e+1],d=At[2*n],p=At[2*n+1],h=At[2*r],m=At[2*r+1],w=Vhe(c,u,o);l=Khe(w,l,f,s),c=w|0,{Dh:m,Dl:h}={Dh:m^l,Dl:h^c},{Dh:m,Dl:h}={Dh:MJt(m,h),Dl:BJt(m)},{h:p,l:d}=op(p,d,m,h),{Bh:f,Bl:u}={Bh:f^p,Bl:u^d},{Bh:f,Bl:u}={Bh:og(f,u,24),Bl:sg(f,u,24)},At[2*t]=c,At[2*t+1]=l,At[2*e]=u,At[2*e+1]=f,At[2*n]=d,At[2*n+1]=p,At[2*r]=h,At[2*r+1]=m}function ag(t,e,n,r,i,a){let o=i[a],s=i[a+1],c=At[2*t],l=At[2*t+1],u=At[2*e],f=At[2*e+1],d=At[2*n],p=At[2*n+1],h=At[2*r],m=At[2*r+1],w=Vhe(c,u,o);l=Khe(w,l,f,s),c=w|0,{Dh:m,Dl:h}={Dh:m^l,Dl:h^c},{Dh:m,Dl:h}={Dh:og(m,h,16),Dl:sg(m,h,16)},{h:p,l:d}=op(p,d,m,h),{Bh:f,Bl:u}={Bh:f^p,Bl:u^d},{Bh:f,Bl:u}={Bh:dk(f,u,63),Bl:pk(f,u,63)},At[2*t]=c,At[2*t+1]=l,At[2*e]=u,At[2*e+1]=f,At[2*n]=d,At[2*n+1]=p,At[2*r]=h,At[2*r+1]=m}function hQt(t,e={},n,r,i){if(xm(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");let{key:a,salt:o,personalization:s}=e;if(a!==void 0&&(a.length<1||a.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(s!==void 0&&s.length!==i)throw new Error("personalization must be undefined or "+i)}function QJe(t){let e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(rQt(n)).toString("hex")}async function bQt(t,e,n,r,i,a){switch(n.t){case"eip191":return await gQt(t,e,n.s);case"eip1271":return await wQt(t,e,n.s,r,i,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function gQt(t,e,n){return(await Cpe({hash:QJe(e),signature:n})).toLowerCase()===t.toLowerCase()}async function wQt(t,e,n,r,i,a){let o=xk(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{let s="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:QJe(e)).substring(2),d=s+f+c+u+l,p=await fetch(`${a||yQt}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:vQt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:h}=await p.json();return h?h.slice(0,s.length).toLowerCase()===s.toLowerCase():!1}catch(s){return console.error("isValidEip1271Signature: ",s),!1}}function vQt(){return Date.now()+Math.floor(Math.random()*1e3)}function ZJe(t){let e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);let r=n[0];if(r===0)throw new Error("No signatures found");let i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");let a=Buffer.from(t,"base64").slice(1,65);return a_.encode(a)}function XJe(t){let e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(a=>a.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);let i=mQt(r,{dkLen:32});return a_.encode(i)}function Jhe(t){let e=new Uint8Array(iq(EQt(t)));return a_.encode(e)}function EQt(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Qhe(t){let e=Buffer.from(t,"base64"),n=Dpe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");let r=Ppe(n),i=Buffer.from("TX"),a=Buffer.concat([i,Buffer.from(r)]),o=dQt(a);return m9e.encode(o).replace(/=+$/,"")}function phe(t){let e=[],n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function eQe(t){let e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(phe(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(phe(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(phe(r.length)),i.push(r);let a=Buffer.concat(i),o=iq(a);return Buffer.from(o).toString("hex").toUpperCase()}async function Xhe(t){let{cacao:e,projectId:n}=t,{s:r,p:i}=e,a=e6e(i,i.iss),o=Ck(i.iss);return await bQt(o,a,r,aq(i.iss),n)}function NQt(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function PQt(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Pv(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");let e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{let r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{let a=r[i];if(!Array.isArray(a))throw new Error(`Ability limits ${i} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);a.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function kQt(t,e,n,r={}){return n?.sort((i,a)=>i.localeCompare(a)),{att:{[t]:MQt(e,n,r)}}}function MQt(t,e,n={}){e=e?.sort((i,a)=>i.localeCompare(a));let r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function tQe(t){return Pv(t),`urn:recap:${NQt(t).replace(/=/g,"")}`}function Ek(t){let e=PQt(t.replace("urn:recap:",""));return Pv(e),e}function nQe(t,e,n){let r=kQt(t,e,n);return tQe(r)}function BQt(t){return t&&t.includes("urn:recap:")}function rQe(t,e){let n=Ek(t),r=Ek(e),i=DQt(n,r);return tQe(i)}function DQt(t,e){Pv(t),Pv(e);let n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,a)=>i.localeCompare(a)),r={att:{}};return n.forEach(i=>{var a,o;Object.keys(((a=t.att)==null?void 0:a[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((s,c)=>s.localeCompare(c)).forEach(s=>{var c,l;r.att[i]=IQt(CQt({},r.att[i]),{[s]:((c=t.att[i])==null?void 0:c[s])||((l=e.att[i])==null?void 0:l[s])})})}),r}function LQt(t="",e){Pv(e);let n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;let r=[],i=0;Object.keys(e.att).forEach(s=>{let c=Object.keys(e.att[s]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));let l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});let u=Object.keys(l).map(f=>(i++,`(${i}) '${f}': '${l[f].join("', '")}' for '${s}'.`));r.push(u.join(", ").replace(".,","."))});let a=r.join(" "),o=`${n}${a}`;return`${t?t+" ":""}${o}`}function t6e(t){var e;let n=Ek(t);Pv(n);let r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function n6e(t){let e=Ek(t);Pv(e);let n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var a;(a=i?.[0])!=null&&a.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Ik(t){if(!t)return;let e=t?.[t.length-1];return BQt(e)?e:void 0}function iQe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ihe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function hhe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Xl(t,...e){if(!iQe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aJe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UQt(t,e){Xl(t);let n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function lg(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function h_(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function FQt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function zQt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Rhe(t){if(typeof t=="string")t=zQt(t);else if(iQe(t))t=Ohe(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function jQt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function GQt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function oJe(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!$Qt(e))throw new Error("invalid output, must be aligned");return e}function sJe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,s,r)}function KQt(t,e,n){Ihe(n);let r=new Uint8Array(16),i=FQt(r);return sJe(i,0,BigInt(e),n),sJe(i,8,BigInt(t),n),r}function $Qt(t){return t.byteOffset%4===0}function Ohe(t){return Uint8Array.from(t)}function Jr(t,e){return t<<e|t>>>32-e}function Nhe(t){return t.byteOffset%4===0}function ZQt(t,e,n,r,i,a,o,s){let c=i.length,l=new Uint8Array(G$),u=lg(l),f=Nhe(i)&&Nhe(a),d=f?lg(i):cJe,p=f?lg(a):cJe;for(let h=0;h<c;o++){if(t(e,n,r,u,o,s),o>=oQe)throw new Error("arx: counter overflow");let m=Math.min(G$,c-h);if(f&&m===G$){let w=h/4;if(h%4!==0)throw new Error("arx: invalid block position");for(let g=0,x;g<QQt;g++)x=w+g,p[x]=d[x]^u[g];h+=G$;continue}for(let w=0,g;w<m;w++)g=h+w,a[g]=i[g]^l[w];h+=m}}function XQt(t,e){let{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:a,rounds:o}=jQt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return hhe(i),hhe(o),Ihe(a),Ihe(n),(s,c,l,u,f=0)=>{Xl(s),Xl(c),Xl(l);let d=l.length;if(u===void 0&&(u=new Uint8Array(d)),Xl(u),hhe(f),f<0||f>=oQe)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);let p=[],h=s.length,m,w;if(h===32)p.push(m=Ohe(s)),w=JQt;else if(h===16&&n)m=new Uint8Array(32),m.set(s),m.set(s,16),w=YQt,p.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${h}`);Nhe(c)||p.push(c=Ohe(c));let g=lg(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,g,lg(c.subarray(0,16)),g),c=c.subarray(16)}let x=16-i;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){let P=new Uint8Array(12);P.set(c,a?0:12-c.length),c=P,p.push(c)}let C=lg(c);return ZQt(t,w,g,C,l,u,f,o),h_(...p),u}}function eZt(t){let e=(r,i)=>t(i).update(Rhe(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function nZt(t,e,n,r,i,a=20){let o=t[0],s=t[1],c=t[2],l=t[3],u=e[0],f=e[1],d=e[2],p=e[3],h=e[4],m=e[5],w=e[6],g=e[7],x=i,C=n[0],P=n[1],D=n[2],F=o,H=s,O=c,M=l,N=u,v=f,I=d,S=p,y=h,b=m,_=w,A=g,T=x,E=C,k=P,L=D;for(let U=0;U<a;U+=2)F=F+N|0,T=Jr(T^F,16),y=y+T|0,N=Jr(N^y,12),F=F+N|0,T=Jr(T^F,8),y=y+T|0,N=Jr(N^y,7),H=H+v|0,E=Jr(E^H,16),b=b+E|0,v=Jr(v^b,12),H=H+v|0,E=Jr(E^H,8),b=b+E|0,v=Jr(v^b,7),O=O+I|0,k=Jr(k^O,16),_=_+k|0,I=Jr(I^_,12),O=O+I|0,k=Jr(k^O,8),_=_+k|0,I=Jr(I^_,7),M=M+S|0,L=Jr(L^M,16),A=A+L|0,S=Jr(S^A,12),M=M+S|0,L=Jr(L^M,8),A=A+L|0,S=Jr(S^A,7),F=F+v|0,L=Jr(L^F,16),_=_+L|0,v=Jr(v^_,12),F=F+v|0,L=Jr(L^F,8),_=_+L|0,v=Jr(v^_,7),H=H+I|0,T=Jr(T^H,16),A=A+T|0,I=Jr(I^A,12),H=H+I|0,T=Jr(T^H,8),A=A+T|0,I=Jr(I^A,7),O=O+S|0,E=Jr(E^O,16),y=y+E|0,S=Jr(S^y,12),O=O+S|0,E=Jr(E^O,8),y=y+E|0,S=Jr(S^y,7),M=M+N|0,k=Jr(k^M,16),b=b+k|0,N=Jr(N^b,12),M=M+N|0,k=Jr(k^M,8),b=b+k|0,N=Jr(N^b,7);let R=0;r[R++]=o+F|0,r[R++]=s+H|0,r[R++]=c+O|0,r[R++]=l+M|0,r[R++]=u+N|0,r[R++]=f+v|0,r[R++]=d+I|0,r[R++]=p+S|0,r[R++]=h+y|0,r[R++]=m+b|0,r[R++]=w+_|0,r[R++]=g+A|0,r[R++]=x+T|0,r[R++]=C+E|0,r[R++]=P+k|0,r[R++]=D+L|0}function uJe(t,e,n,r,i){let a=t(e,n,aZt),o=tZt.create(a);i&&lJe(o,i),lJe(o,r);let s=KQt(r.length,i?i.length:0,!0);o.update(s);let c=o.digest();return h_(a,s),c}function sZt(t,e,n){return qhe(t),n===void 0&&(n=new Uint8Array(t.outputLen)),oq(t,sp(n),sp(e))}function cZt(t,e,n,r=32){qhe(t),xm(r);let i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");let a=Math.ceil(r/i);n===void 0&&(n=fJe);let o=new Uint8Array(a*i),s=oq.create(t,e),c=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let u=0;u<a;u++)mhe[0]=u+1,c.update(u===0?fJe:l).update(n).update(mhe).digestInto(l),o.set(l,i*u),s._cloneInto(c);return s.destroy(),c.destroy(),Nd(l,mhe),o.slice(0,r)}function J$(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function V$(t){let e=t.toString(16);return e.length&1?"0"+e:e}function cQe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?r6e:BigInt("0x"+t)}function cq(t){return cQe(wk(t))}function Q$(t){return Od(t),cQe(wk(Uint8Array.from(t).reverse()))}function i6e(t,e){return Yhe(t.toString(16).padStart(e*2,"0"))}function a6e(t,e){return i6e(t,e).reverse()}function Zl(t,e,n){let r;if(typeof e=="string")try{r=Yhe(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if($he(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function uZt(t,e,n){return yhe(t)&&yhe(e)&&yhe(n)&&e<=t&&t<n}function Mhe(t,e,n,r){if(!uZt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function fZt(t){let e;for(e=0;t>r6e;t>>=khe,e+=1);return e}function dZt(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=d=>new Uint8Array(d),i=d=>Uint8Array.of(d),a=r(t),o=r(t),s=0,c=()=>{a.fill(1),o.fill(0),s=0},l=(...d)=>n(o,a,...d),u=(d=r(0))=>{o=l(i(0),d),a=l(),d.length!==0&&(o=l(i(1),d),a=l())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<e;){a=l();let h=a.slice();p.push(h),d+=a.length}return Iv(...p)};return(d,p)=>{c(),u(d);let h;for(;!(h=p(f()));)u();return c(),h}}function uq(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,a,o){let s=t[i];if(o&&s===void 0)return;let c=typeof s;if(c!==a||s===null)throw new Error(`param "${i}" is invalid: expected ${a}, got ${c}`)}Object.entries(e).forEach(([i,a])=>r(i,a,!1)),Object.entries(n).forEach(([i,a])=>r(i,a,!0))}function dJe(t){let e=new WeakMap;return(n,...r)=>{let i=e.get(n);if(i!==void 0)return i;let a=t(n,...r);return e.set(n,a),a}}function Rd(t,e){let n=t%e;return n>=tu?n:e+n}function ap(t,e,n){let r=t;for(;e-- >tu;)r*=r,r%=n;return r}function pJe(t,e){if(t===tu)throw new Error("invert: expected non-zero number");if(e<=tu)throw new Error("invert: expected positive modulus, got "+e);let n=Rd(t,e),r=e,i=tu,a=al;for(;n!==tu;){let o=r/n,s=r%n,c=i-a*o;r=n,n=s,i=a,a=c}if(r!==al)throw new Error("invert: does not exist");return Rd(i,e)}function dQe(t,e){let n=(t.ORDER+al)/lQe,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function hZt(t,e){let n=(t.ORDER-uQe)/fQe,r=t.mul(e,Rv),i=t.pow(r,n),a=t.mul(e,i),o=t.mul(t.mul(a,Rv),i),s=t.mul(a,t.sub(o,t.ONE));if(!t.eql(t.sqr(s),e))throw new Error("Cannot find square root");return s}function mZt(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-al,n=0;for(;e%Rv===tu;)e/=Rv,n++;let r=Rv,i=b_(t);for(;hJe(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return dQe;let a=i.pow(r,e),o=(e+al)/Rv;return function(s,c){if(s.is0(c))return c;if(hJe(s,c)!==1)throw new Error("Cannot find square root");let l=n,u=s.mul(s.ONE,a),f=s.pow(c,e),d=s.pow(c,o);for(;!s.eql(f,s.ONE);){if(s.is0(f))return s.ZERO;let p=1,h=s.sqr(f);for(;!s.eql(h,s.ONE);)if(p++,h=s.sqr(h),p===l)throw new Error("Cannot find square root");let m=al<<BigInt(l-p-1),w=s.pow(u,m);l=p,u=s.sqr(w),f=s.mul(f,u),d=s.mul(d,w)}return d}}function yZt(t){return t%lQe===pZt?dQe:t%fQe===uQe?hZt:mZt(t)}function gZt(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=bZt.reduce((r,i)=>(r[i]="function",r),e);return uq(t,n),t}function wZt(t,e,n){if(n<tu)throw new Error("invalid exponent, negatives unsupported");if(n===tu)return t.ONE;if(n===al)return e;let r=t.ONE,i=e;for(;n>tu;)n&al&&(r=t.mul(r,i)),i=t.sqr(i),n>>=al;return r}function pQe(t,e,n=!1){let r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),a=t.inv(i);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),a),r}function hJe(t,e){let n=(t.ORDER-al)/Rv,r=t.pow(e,n),i=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!a&&!o)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function vZt(t,e){e!==void 0&&xm(e);let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function b_(t,e,n=!1,r={}){if(t<=tu)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");let u=e;u.BITS&&(i=u.BITS),u.sqrt&&(a=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(a=r.sqrt);let{nBitLength:o,nByteLength:s}=vZt(t,i);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c,l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:s,MASK:lq(o),ZERO:tu,ONE:al,create:u=>Rd(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return tu<=u&&u<t},is0:u=>u===tu,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&al)===al,neg:u=>Rd(-u,t),eql:(u,f)=>u===f,sqr:u=>Rd(u*u,t),add:(u,f)=>Rd(u+f,t),sub:(u,f)=>Rd(u-f,t),mul:(u,f)=>Rd(u*f,t),pow:(u,f)=>wZt(l,u,f),div:(u,f)=>Rd(u*pJe(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>pJe(u,t),sqrt:a||(u=>(c||(c=yZt(t)),c(l,u))),toBytes:u=>n?a6e(u,s):i6e(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?Q$(u):cq(u)},invertBatch:u=>pQe(l,u),cmov:(u,f,d)=>d?f:u});return Object.freeze(l)}function hQe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function mQe(t){let e=hQe(t);return e+Math.ceil(e/2)}function EZt(t,e,n=!1){let r=t.length,i=hQe(e),a=mQe(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);let o=n?Q$(t):cq(t),s=Rd(o,e-al)+al;return n?a6e(s,i):i6e(s,i)}function hk(t,e){let n=e.negate();return t?n:e}function xZt(t,e,n){let r=e==="pz"?a=>a.pz:a=>a.ez,i=pQe(t.Fp,n.map(r));return n.map((a,o)=>a.toAffine(i[o])).map(t.fromAffine)}function yQe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function bhe(t,e){yQe(t,e);let n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,a=lq(t),o=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:i,shiftBy:o}}function mJe(t,e,n){let{windowSize:r,mask:i,maxNumber:a,shiftBy:o}=n,s=Number(t&i),c=t>>o;s>r&&(s-=a,c+=Ov);let l=e*r,u=l+Math.abs(s)-1,f=s===0,d=s<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function AZt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function _Zt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}function whe(t){return bQe.get(t)||1}function yJe(t){if(t!==m_)throw new Error("invalid wNAF")}function TZt(t,e){return{constTimeNegate:hk,hasPrecomputes(n){return whe(n)!==1},unsafeLadder(n,r,i=t.ZERO){let a=n;for(;r>m_;)r&Ov&&(i=i.add(a)),a=a.double(),r>>=Ov;return i},precomputeWindow(n,r){let{windows:i,windowSize:a}=bhe(r,e),o=[],s=n,c=s;for(let l=0;l<i;l++){c=s,o.push(c);for(let u=1;u<a;u++)c=c.add(s),o.push(c);s=c.double()}return o},wNAF(n,r,i){let a=t.ZERO,o=t.BASE,s=bhe(n,e);for(let c=0;c<s.windows;c++){let{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:h}=mJe(i,c,s);i=l,f?o=o.add(hk(p,r[h])):a=a.add(hk(d,r[u]))}return yJe(i),{p:a,f:o}},wNAFUnsafe(n,r,i,a=t.ZERO){let o=bhe(n,e);for(let s=0;s<o.windows&&i!==m_;s++){let{nextN:c,offset:l,isZero:u,isNeg:f}=mJe(i,s,o);if(i=c,!u){let d=r[l];a=a.add(f?d.negate():d)}}return yJe(i),a},getPrecomputes(n,r,i){let a=ghe.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(a=i(a)),ghe.set(r,a))),a},wNAFCached(n,r,i){let a=whe(n);return this.wNAF(a,this.getPrecomputes(a,n,i),r)},wNAFCachedUnsafe(n,r,i,a){let o=whe(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,a)},setWindowSize(n,r){yQe(r,e),bQe.set(n,r),ghe.delete(n)}}}function SZt(t,e,n,r){let i=e,a=t.ZERO,o=t.ZERO;for(;n>m_||r>m_;)n&Ov&&(a=a.add(i)),r&Ov&&(o=o.add(i)),i=i.double(),n>>=Ov,r>>=Ov;return{p1:a,p2:o}}function CZt(t,e,n,r){AZt(n,t),_Zt(r,e);let i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,s=fZt(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=lq(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<a;m++){let w=r[m],g=Number(w>>BigInt(p)&l);u[g]=u[g].add(n[m])}let h=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),h=h.add(w);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function bJe(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return gZt(e),e}else return b_(t)}function IZt(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let o of["p","n","h"]){let s=e[o];if(!(typeof s=="bigint"&&s>m_))throw new Error(`CURVE.${o} must be positive bigint`)}let r=bJe(e.p,n.Fp),i=bJe(e.n,n.Fn),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let o of a)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}function RZt(t){return uq(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function OZt(t){let e=RZt(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:a,randomBytes:o}=e,s=r==="x25519";if(!s&&r!=="x448")throw new Error("invalid type");let c=o||y_,l=s?255:448,u=s?32:56,f=BigInt(s?9:5),d=BigInt(s?121665:39081),p=s?K$**BigInt(254):K$**BigInt(447),h=s?BigInt(8)*K$**BigInt(251)-d_:BigInt(4)*K$**BigInt(445)-d_,m=p+h+d_,w=M=>Rd(M,n),g=x(f);function x(M){return a6e(w(M),u)}function C(M){let N=Zl("u coordinate",M,u);return s&&(N[31]&=127),w(Q$(N))}function P(M){return Q$(i(Zl("scalar",M,u)))}function D(M,N){let v=O(C(N),P(M));if(v===fk)throw new Error("invalid private or public key received");return x(v)}function F(M){return D(M,g)}function H(M,N,v){let I=w(M*(N-v));return N=w(N-I),v=w(v+I),{x_2:N,x_3:v}}function O(M,N){Mhe("u",M,fk,n),Mhe("scalar",N,p,m);let v=N,I=M,S=d_,y=fk,b=M,_=d_,A=fk;for(let E=BigInt(l-1);E>=fk;E--){let k=v>>E&d_;A^=k,{x_2:S,x_3:b}=H(A,S,b),{x_2:y,x_3:_}=H(A,y,_),A=k;let L=S+y,R=w(L*L),U=S-y,j=w(U*U),z=R-j,V=b+_,$=b-_,W=w($*L),J=w(V*U),X=W+J,te=W-J;b=w(X*X),_=w(I*w(te*te)),S=w(R*j),y=w(z*(R+w(d*z)))}({x_2:S,x_3:b}=H(A,S,b)),{x_2:y,x_3:_}=H(A,y,_);let T=a(y);return w(S*T)}return{scalarMult:D,scalarMultBase:F,getSharedSecret:(M,N)=>D(M,N),getPublicKey:M=>F(M),utils:{randomPrivateKey:()=>c(u)},GuBytes:g.slice()}}function BZt(t){let e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),a=gQe.p,o=t*t%a*t%a,s=ap(o,gJe,a)*o%a,c=ap(s,NZt,a)*t%a,l=ap(c,kZt,a)*c%a,u=ap(l,e,a)*l%a,f=ap(u,n,a)*u%a,d=ap(f,r,a)*f%a,p=ap(d,i,a)*d%a,h=ap(p,i,a)*d%a,m=ap(h,e,a)*l%a;return{pow_p_5_8:ap(m,gJe,a)*t%a,b2:o}}function DZt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function wJe(t){t.lowS!==void 0&&J$("lowS",t.lowS),t.prehash!==void 0&&J$("prehash",t.prehash)}function FZt(t,e,n){function r(i){let a=t.sqr(i),o=t.mul(a,i);return t.add(t.add(o,t.mul(i,e)),n)}return r}function wQe(t,e,n){let{BYTES:r}=t;function i(a){let o;if(typeof a=="bigint")o=a;else{let s=Zl("private key",a);if(e){if(!e.includes(s.length*2))throw new Error("invalid private key");let c=new Uint8Array(r);c.set(s,c.length-s.length),s=c}try{o=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof a}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function HZt(t,e={}){let{Fp:n,Fn:r}=IZt("weierstrass",t,e),{h:i,n:a}=t;uq(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function s(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(O,M,N){let{x:v,y:I}=M.toAffine(),S=n.toBytes(v);if(J$("isCompressed",N),N){s();let y=!n.isOdd(I);return Iv(vQe(y),S)}else return Iv(Uint8Array.of(4),S,n.toBytes(I))}function l(O){Od(O);let M=n.BYTES,N=M+1,v=2*M+1,I=O.length,S=O[0],y=O.subarray(1);if(I===N&&(S===2||S===3)){let b=n.fromBytes(y);if(!n.isValid(b))throw new Error("bad point: is not on curve, wrong x");let _=d(b),A;try{A=n.sqrt(_)}catch(E){let k=E instanceof Error?": "+E.message:"";throw new Error("bad point: is not on curve, sqrt error"+k)}s();let T=n.isOdd(A);return(S&1)===1!==T&&(A=n.neg(A)),{x:b,y:A}}else if(I===v&&S===4){let b=n.fromBytes(y.subarray(M*0,M*1)),_=n.fromBytes(y.subarray(M*1,M*2));if(!p(b,_))throw new Error("bad point: is not on curve");return{x:b,y:_}}else throw new Error(`bad point: got length ${I}, expected compressed=${N} or uncompressed=${v}`)}let u=e.toBytes||c,f=e.fromBytes||l,d=FZt(n,t.a,t.b);function p(O,M){let N=n.sqr(M),v=d(O);return n.eql(N,v)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let h=n.mul(n.pow(t.a,$$),UZt),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(h,m)))throw new Error("bad curve params: a or b");function w(O,M,N=!1){if(!n.isValid(M)||N&&n.is0(M))throw new Error(`bad point coordinate ${O}`);return M}function g(O){if(!(O instanceof D))throw new Error("ProjectivePoint expected")}let x=dJe((O,M)=>{let{px:N,py:v,pz:I}=O;if(n.eql(I,n.ONE))return{x:N,y:v};let S=O.is0();M==null&&(M=S?n.ONE:n.inv(I));let y=n.mul(N,M),b=n.mul(v,M),_=n.mul(I,M);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:y,y:b}}),C=dJe(O=>{if(O.is0()){if(e.allowInfinityPoint&&!n.is0(O.py))return;throw new Error("bad point: ZERO")}let{x:M,y:N}=O.toAffine();if(!n.isValid(M)||!n.isValid(N))throw new Error("bad point: x or y not field elements");if(!p(M,N))throw new Error("bad point: equation left != right");if(!O.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function P(O,M,N,v,I){return N=new D(n.mul(N.px,O),N.py,N.pz),M=hk(v,M),N=hk(I,N),M.add(N)}class D{constructor(M,N,v){this.px=w("x",M),this.py=w("y",N,!0),this.pz=w("z",v),Object.freeze(this)}static fromAffine(M){let{x:N,y:v}=M||{};if(!M||!n.isValid(N)||!n.isValid(v))throw new Error("invalid affine point");if(M instanceof D)throw new Error("projective point not allowed");return n.is0(N)&&n.is0(v)?D.ZERO:new D(N,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){return xZt(D,"pz",M)}static fromBytes(M){return Od(M),D.fromHex(M)}static fromHex(M){let N=D.fromAffine(f(Zl("pointHex",M)));return N.assertValidity(),N}static fromPrivateKey(M){let N=wQe(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return D.BASE.multiply(N(M))}static msm(M,N){return CZt(D,r,M,N)}precompute(M=8,N=!0){return H.setWindowSize(this,M),N||this.multiply($$),this}_setWindowSize(M){this.precompute(M)}assertValidity(){C(this)}hasEvenY(){let{y:M}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(M)}equals(M){g(M);let{px:N,py:v,pz:I}=this,{px:S,py:y,pz:b}=M,_=n.eql(n.mul(N,b),n.mul(S,I)),A=n.eql(n.mul(v,b),n.mul(y,I));return _&&A}negate(){return new D(this.px,n.neg(this.py),this.pz)}double(){let{a:M,b:N}=t,v=n.mul(N,$$),{px:I,py:S,pz:y}=this,b=n.ZERO,_=n.ZERO,A=n.ZERO,T=n.mul(I,I),E=n.mul(S,S),k=n.mul(y,y),L=n.mul(I,S);return L=n.add(L,L),A=n.mul(I,y),A=n.add(A,A),b=n.mul(M,A),_=n.mul(v,k),_=n.add(b,_),b=n.sub(E,_),_=n.add(E,_),_=n.mul(b,_),b=n.mul(L,b),A=n.mul(v,A),k=n.mul(M,k),L=n.sub(T,k),L=n.mul(M,L),L=n.add(L,A),A=n.add(T,T),T=n.add(A,T),T=n.add(T,k),T=n.mul(T,L),_=n.add(_,T),k=n.mul(S,y),k=n.add(k,k),T=n.mul(k,L),b=n.sub(b,T),A=n.mul(k,E),A=n.add(A,A),A=n.add(A,A),new D(b,_,A)}add(M){g(M);let{px:N,py:v,pz:I}=this,{px:S,py:y,pz:b}=M,_=n.ZERO,A=n.ZERO,T=n.ZERO,E=t.a,k=n.mul(t.b,$$),L=n.mul(N,S),R=n.mul(v,y),U=n.mul(I,b),j=n.add(N,v),z=n.add(S,y);j=n.mul(j,z),z=n.add(L,R),j=n.sub(j,z),z=n.add(N,I);let V=n.add(S,b);return z=n.mul(z,V),V=n.add(L,U),z=n.sub(z,V),V=n.add(v,I),_=n.add(y,b),V=n.mul(V,_),_=n.add(R,U),V=n.sub(V,_),T=n.mul(E,z),_=n.mul(k,U),T=n.add(_,T),_=n.sub(R,T),T=n.add(R,T),A=n.mul(_,T),R=n.add(L,L),R=n.add(R,L),U=n.mul(E,U),z=n.mul(k,z),R=n.add(R,U),U=n.sub(L,U),U=n.mul(E,U),z=n.add(z,U),L=n.mul(R,z),A=n.add(A,L),L=n.mul(V,z),_=n.mul(j,_),_=n.sub(_,L),L=n.mul(j,R),T=n.mul(V,T),T=n.add(T,L),new D(_,A,T)}subtract(M){return this.add(M.negate())}is0(){return this.equals(D.ZERO)}multiply(M){let{endo:N}=e;if(!r.isValidNot0(M))throw new Error("invalid scalar: out of range");let v,I,S=y=>H.wNAFCached(this,y,D.normalizeZ);if(N){let{k1neg:y,k1:b,k2neg:_,k2:A}=N.splitScalar(M),{p:T,f:E}=S(b),{p:k,f:L}=S(A);I=E.add(L),v=P(N.beta,T,k,y,_)}else{let{p:y,f:b}=S(M);v=y,I=b}return D.normalizeZ([v,I])[0]}multiplyUnsafe(M){let{endo:N}=e,v=this;if(!r.isValid(M))throw new Error("invalid scalar: out of range");if(M===mk||v.is0())return D.ZERO;if(M===yk)return v;if(H.hasPrecomputes(this))return this.multiply(M);if(N){let{k1neg:I,k1:S,k2neg:y,k2:b}=N.splitScalar(M),{p1:_,p2:A}=SZt(D,v,S,b);return P(N.beta,_,A,I,y)}else return H.wNAFCachedUnsafe(v,M)}multiplyAndAddUnsafe(M,N,v){let I=this.multiplyUnsafe(N).add(M.multiplyUnsafe(v));return I.is0()?void 0:I}toAffine(M){return x(this,M)}isTorsionFree(){let{isTorsionFree:M}=e;return i===yk?!0:M?M(D,this):H.wNAFCachedUnsafe(this,a).is0()}clearCofactor(){let{clearCofactor:M}=e;return i===yk?this:M?M(D,this):this.multiplyUnsafe(i)}toBytes(M=!0){return J$("isCompressed",M),this.assertValidity(),u(D,this,M)}toRawBytes(M=!0){return this.toBytes(M)}toHex(M=!0){return wk(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}D.BASE=new D(t.Gx,t.Gy,n.ONE),D.ZERO=new D(n.ZERO,n.ONE,n.ZERO),D.Fp=n,D.Fn=r;let F=r.BITS,H=TZt(D,e.endo?Math.ceil(F/2):F);return D}function vQe(t){return Uint8Array.of(t?2:3)}function zZt(t,e,n={}){uq(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let r=e.randomBytes||y_,i=e.hmac||((v,...I)=>oq(e.hash,v,Iv(...I))),{Fp:a,Fn:o}=t,{ORDER:s,BITS:c}=o;function l(v){let I=s>>yk;return v>I}function u(v){return l(v)?o.neg(v):v}function f(v,I){if(!o.isValidNot0(I))throw new Error(`invalid signature ${v}: out of range 1..CURVE.n`)}class d{constructor(I,S,y){f("r",I),f("s",S),this.r=I,this.s=S,y!=null&&(this.recovery=y),Object.freeze(this)}static fromCompact(I){let S=o.BYTES,y=Zl("compactSignature",I,S*2);return new d(o.fromBytes(y.subarray(0,S)),o.fromBytes(y.subarray(S,S*2)))}static fromDER(I){let{r:S,s:y}=vm.toSig(Zl("DER",I));return new d(S,y)}assertValidity(){}addRecoveryBit(I){return new d(this.r,this.s,I)}recoverPublicKey(I){let S=a.ORDER,{r:y,s:b,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(s*LZt<S&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");let A=_===2||_===3?y+s:y;if(!a.isValid(A))throw new Error("recovery id 2 or 3 invalid");let T=a.toBytes(A),E=t.fromHex(Iv(vQe((_&1)===0),T)),k=o.inv(A),L=C(Zl("msgHash",I)),R=o.create(-L*k),U=o.create(b*k),j=t.BASE.multiplyUnsafe(R).add(E.multiplyUnsafe(U));if(j.is0())throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,o.neg(this.s),this.recovery):this}toBytes(I){if(I==="compact")return Iv(o.toBytes(this.r),o.toBytes(this.s));if(I==="der")return Yhe(vm.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return wk(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return wk(this.toBytes("compact"))}}let p=wQe(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),h={isValidPrivateKey(v){try{return p(v),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let v=s;return EZt(r(mQe(v)),v)},precompute(v=8,I=t.BASE){return I.precompute(v,!1)}};function m(v,I=!0){return t.fromPrivateKey(v).toBytes(I)}function w(v){if(typeof v=="bigint")return!1;if(v instanceof t)return!0;let I=Zl("key",v).length,S=a.BYTES,y=S+1,b=2*S+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===y))return I===y||I===b}function g(v,I,S=!0){if(w(v)===!0)throw new Error("first arg must be private key");if(w(I)===!1)throw new Error("second arg must be public key");return t.fromHex(I).multiply(p(v)).toBytes(S)}let x=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");let I=cq(v),S=v.length*8-c;return S>0?I>>BigInt(S):I},C=e.bits2int_modN||function(v){return o.create(x(v))},P=lq(c);function D(v){return Mhe("num < 2^"+c,v,mk,P),o.toBytes(v)}function F(v,I,S=H){if(["recovered","canonical"].some(j=>j in S))throw new Error("sign() legacy options not supported");let{hash:y}=e,{lowS:b,prehash:_,extraEntropy:A}=S;b==null&&(b=!0),v=Zl("msgHash",v),wJe(S),_&&(v=Zl("prehashed msgHash",y(v)));let T=C(v),E=p(I),k=[D(E),D(T)];if(A!=null&&A!==!1){let j=A===!0?r(a.BYTES):A;k.push(Zl("extraEntropy",j))}let L=Iv(...k),R=T;function U(j){let z=x(j);if(!o.isValidNot0(z))return;let V=o.inv(z),$=t.BASE.multiply(z).toAffine(),W=o.create($.x);if(W===mk)return;let J=o.create(V*o.create(R+W*E));if(J===mk)return;let X=($.x===W?0:2)|Number($.y&yk),te=J;return b&&l(J)&&(te=u(J),X^=1),new d(W,te,X)}return{seed:L,k2sig:U}}let H={lowS:e.lowS,prehash:!1},O={lowS:e.lowS,prehash:!1};function M(v,I,S=H){let{seed:y,k2sig:b}=F(v,I,S);return dZt(e.hash.outputLen,o.BYTES,i)(y,b)}t.BASE.precompute(8);function N(v,I,S,y=O){let b=v;I=Zl("msgHash",I),S=Zl("publicKey",S),wJe(y);let{lowS:_,prehash:A,format:T}=y;if("strict"in y)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&!["compact","der","js"].includes(T))throw new Error('format must be "compact", "der" or "js"');let E=typeof b=="string"||$he(b),k=!E&&!T&&typeof b=="object"&&b!==null&&typeof b.r=="bigint"&&typeof b.s=="bigint";if(!E&&!k)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L,R;try{if(k)if(T===void 0||T==="js")L=new d(b.r,b.s);else throw new Error("invalid format");if(E){try{T!=="compact"&&(L=d.fromDER(b))}catch(X){if(!(X instanceof vm.Err))throw X}!L&&T!=="der"&&(L=d.fromCompact(b))}R=t.fromHex(S)}catch{return!1}if(!L||_&&L.hasHighS())return!1;A&&(I=e.hash(I));let{r:U,s:j}=L,z=C(I),V=o.inv(j),$=o.create(z*V),W=o.create(U*V),J=t.BASE.multiplyUnsafe($).add(R.multiplyUnsafe(W));return J.is0()?!1:o.create(J.x)===U}return Object.freeze({getPublicKey:m,getSharedSecret:g,sign:M,verify:N,utils:h,Point:t,Signature:d})}function jZt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=b_(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function GZt(t){let{CURVE:e,curveOpts:n}=jZt(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function VZt(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function KZt(t){let{CURVE:e,curveOpts:n,ecdsaOpts:r}=GZt(t),i=HZt(e,n),a=zZt(i,r,n);return VZt(t,a)}function Lhe(t,e){let n=r=>KZt({...t,hash:r});return{...n(e),create:n}}function SQe(){let t=Bhe.utils.randomPrivateKey(),e=Bhe.getPublicKey(t);return{privateKey:E0(t,Ec),publicKey:E0(e,Ec)}}function fq(){let t=y_(o6e);return E0(t,Ec)}function CQe(t,e){let n=Bhe.getSharedSecret(Ql(t,Ec),Ql(e,Ec)),r=lZt(sq,n,void 0,void 0,o6e);return E0(r,Ec)}function w_(t){let e=sq(Ql(t,Ec));return E0(e,Ec)}function nu(t){let e=sq(Ql(t,Rk));return E0(e,Ec)}function IQe(t){return Ql(`${t}`,_Qe)}function fg(t){return Number(E0(t,_Qe))}function RQe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function OQe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function NQe(t){let e=IQe(typeof t.type<"u"?t.type:TQe);if(fg(e)===up&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let n=typeof t.senderPublicKey<"u"?Ql(t.senderPublicKey,Ec):void 0,r=typeof t.iv<"u"?Ql(t.iv,Ec):y_(bk),i=Ql(t.symKey,Ec),a=sQe(i,r).encrypt(Ql(t.message,Rk)),o=BQe({type:e,sealed:a,iv:r,senderPublicKey:n});return t.encoding===Tm?RQe(o):o}function PQe(t){let e=Ql(t.symKey,Ec),{sealed:n,iv:r}=v_({encoded:t.encoded,encoding:t.encoding}),i=sQe(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return E0(i,Rk)}function kQe(t,e){let n=IQe(g_),r=y_(bk),i=Ql(t,Rk),a=BQe({type:n,sealed:i,iv:r});return e===Tm?RQe(a):a}function MQe(t,e){let{sealed:n}=v_({encoded:t,encoding:e});return E0(n,Rk)}function BQe(t){if(fg(t.type)===g_)return E0(Tv([t.type,t.sealed]),xc);if(fg(t.type)===up){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return E0(Tv([t.type,t.senderPublicKey,t.iv,t.sealed]),xc)}return E0(Tv([t.type,t.iv,t.sealed]),xc)}function v_(t){let e=(t.encoding||xc)===Tm?OQe(t.encoded):t.encoded,n=Ql(e,xc),r=n.slice(QZt,vJe),i=vJe;if(fg(r)===up){let c=i+o6e,l=c+bk,u=n.slice(i,c),f=n.slice(c,l),d=n.slice(l);return{type:r,sealed:d,iv:f,senderPublicKey:u}}if(fg(r)===g_){let c=n.slice(i),l=y_(bk);return{type:r,sealed:c,iv:l}}let a=i+bk,o=n.slice(i,a),s=n.slice(a);return{type:r,sealed:s,iv:o}}function DQe(t,e){let n=v_({encoded:t,encoding:e?.encoding});return s6e({type:fg(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?E0(n.senderPublicKey,Ec):void 0,receiverPublicKey:e?.receiverPublicKey})}function s6e(t){let e=t?.type||TQe;if(e===up){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function c6e(t){return t.type===up&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function l6e(t){return t.type===g_}function ZZt(t){let e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Tv([new Uint8Array([4]),e,n])}function LQe(t,e){let[n,r,i]=t.split("."),a=Buffer.from(OQe(i),"base64");if(a.length!==64)throw new Error("Invalid signature length");let o=a.slice(0,32),s=a.slice(32,64),c=`${n}.${r}`,l=sq(c),u=ZZt(e);if(!JZt.verify(Tv([o,s]),l,u))throw new Error("Invalid signature");return vP(t).payload}function Ok(t){return t?.relay||{protocol:XZt}}function Mv(t){let e=SYe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function eXt(t,e="-"){let n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){let a=i.replace(r,""),o=t[i];n[a]=o}}),n}function u6e(t){if(!t.includes("wc:")){let l=FJe(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;let e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),a=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(a),s={};o.forEach((l,u)=>{s[u]=l});let c=typeof s.methods=="string"?s.methods.split(","):void 0;return{protocol:r,topic:tXt(i[0]),version:parseInt(i[1],10),symKey:s.symKey,relay:eXt(s),methods:c,expiryTimestamp:s.expiryTimestamp?parseInt(s.expiryTimestamp,10):void 0}}function tXt(t){return t.startsWith("//")?t.substring(2):t}function nXt(t,e="-"){let n="relay",r={};return Object.keys(t).forEach(i=>{let a=i,o=n+e+a;t[a]&&(r[o]=t[a])}),r}function f6e(t){let e=new URLSearchParams,n=nXt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));let r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Nk(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function E_(t){let e=[];return t.forEach(n=>{let[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function uXt(t){let e=[];return Object.values(t).forEach(n=>{e.push(...E_(n.accounts))}),e}function fXt(t,e){let n=[];return Object.values(t).forEach(r=>{E_(r.accounts).includes(e)&&n.push(...r.methods)}),n}function dXt(t,e){let n=[];return Object.values(t).forEach(r=>{E_(r.accounts).includes(e)&&n.push(...r.events)}),n}function UQe(t){return t.includes(":")}function pXt(t){return UQe(t)?t.split(":")[0]:t}function AJe(t){var e,n,r;let i={};if(!x_(t))return i;for(let[a,o]of Object.entries(t)){let s=UQe(a)?[a]:o.chains,c=o.methods||[],l=o.events||[],u=pXt(a);i[u]=lXt(cXt({},i[u]),{chains:Nv(s,(e=i[u])==null?void 0:e.chains),methods:Nv(c,(n=i[u])==null?void 0:n.methods),events:Nv(l,(r=i[u])==null?void 0:r.events)})}return i}function hXt(t){let e={};return t?.forEach(n=>{var r;let[i,a]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${a}`)}),e}function d6e(t,e){e=e.map(r=>r.replace("did:pkh:",""));let n=hXt(e);for(let[r,i]of Object.entries(n))i.methods?i.methods=Nv(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function FQe(t,e){var n,r,i,a,o,s;let c=AJe(t),l=AJe(e),u={},f=Object.keys(c).concat(Object.keys(l));for(let d of f)u[d]={chains:Nv((n=c[d])==null?void 0:n.chains,(r=l[d])==null?void 0:r.chains),methods:Nv((i=c[d])==null?void 0:i.methods,(a=l[d])==null?void 0:a.methods),events:Nv((o=c[d])==null?void 0:o.events,(s=l[d])==null?void 0:s.events)};return u}function ft(t,e){let{message:n,code:r}=yXt[t];return{message:e?`${n} ${e}`:n,code:r}}function Ri(t,e){let{message:n,code:r}=mXt[t];return{message:e?`${n} ${e}`:n,code:r}}function Sm(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function x_(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ko(t){return typeof t>"u"}function so(t,e){return e&&ko(t)?!0:typeof t=="string"&&!!t.trim().length}function p6e(t,e){return e&&ko(t)?!0:typeof t=="number"&&!isNaN(t)}function HQe(t,e){let{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n),a=!0;return Cv(i,r)?(r.forEach(o=>{let{accounts:s,methods:c,events:l}=t.namespaces[o],u=E_(s),f=n[o];(!Cv(RJe(o,f),u)||!Cv(f.methods,c)||!Cv(f.events,l))&&(a=!1)}),a):!1}function Z$(t){return so(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function bXt(t){if(so(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let n=e[0]+":"+e[1];return!!e[2]&&Z$(n)}}return!1}function zQe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(so(t,!1)){if(e(t))return!0;let n=FJe(t);return e(n)}}catch{}return!1}function jQe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function GQe(t){return t?.topic}function VQe(t,e){let n=null;return so(t?.publicKey,!1)||(n=ft("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function _Je(t){let e=!0;return Sm(t)?t.length&&(e=t.every(n=>so(n,!1))):e=!1,e}function gXt(t,e,n){let r=null;return Sm(e)&&e.length?e.forEach(i=>{r||Z$(i)||(r=Ri("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Z$(t)||(r=Ri("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function wXt(t,e,n){let r=null;return Object.entries(t).forEach(([i,a])=>{if(r)return;let o=gXt(i,RJe(i,a),`${e} ${n}`);o&&(r=o)}),r}function vXt(t,e){let n=null;return Sm(t)?t.forEach(r=>{n||bXt(r)||(n=Ri("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ri("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function EXt(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;let i=vXt(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function xXt(t,e){let n=null;return _Je(t?.methods)?_Je(t?.events)||(n=Ri("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Ri("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function KQe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;let i=xXt(r,`${e}, namespace`);i&&(n=i)}),n}function $Qe(t,e,n){let r=null;if(t&&x_(t)){let i=KQe(t,e);i&&(r=i);let a=wXt(t,e,n);a&&(r=a)}else r=ft("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function dq(t,e){let n=null;if(t&&x_(t)){let r=KQe(t,e);r&&(n=r);let i=EXt(t,e);i&&(n=i)}else n=ft("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function h6e(t){return so(t.protocol,!0)}function qQe(t,e){let n=!1;return e&&!t?n=!0:t&&Sm(t)&&t.length&&t.forEach(r=>{n=h6e(r)}),n}function WQe(t){return typeof t=="number"}function Ac(t){return typeof t<"u"&&typeof t!==null}function YQe(t){return!(!t||typeof t!="object"||!t.code||!p6e(t.code,!1)||!t.message||!so(t.message,!1))}function JQe(t){return!(ko(t)||!so(t.method,!1))}function QQe(t){return!(ko(t)||ko(t.result)&&ko(t.error)||!p6e(t.id,!1)||!so(t.jsonrpc,!1))}function ZQe(t){return!(ko(t)||!so(t.name,!1))}function m6e(t,e){return!(!Z$(e)||!uXt(t).includes(e))}function XQe(t,e,n){return so(n,!1)?fXt(t,e).includes(n):!1}function eZe(t,e,n){return so(n,!1)?dXt(t,e).includes(n):!1}function y6e(t,e,n){let r=null,i=AXt(t),a=_Xt(e),o=Object.keys(i),s=Object.keys(a),c=TJe(Object.keys(t)),l=TJe(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Cv(o,s)||(r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${s.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||r)return;let d=E_(e[f].accounts);d.includes(f)||(r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{r||(Cv(i[f].methods,a[f].methods)?Cv(i[f].events,a[f].events)||(r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=ft("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function AXt(t){let e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function TJe(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function _Xt(t){let e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:E_(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(a=>a.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function tZe(t,e){return p6e(t,!1)&&t<=e.max&&t>=e.min}function b6e(){let t=_k();return new Promise(e=>{switch(t){case eu.browser:e(TXt());break;case eu.reactNative:e(SXt());break;case eu.node:e(CXt());break;default:e(!0)}})}function TXt(){return kv()&&navigator?.onLine}async function SXt(){return Am()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function CXt(){return!0}function nZe(t){switch(_k()){case eu.browser:IXt(t);break;case eu.reactNative:RXt(t);break;case eu.node:break}}function IXt(t){!Am()&&kv()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function RXt(t){Am()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function rZe(){var t;return kv()&&(0,cp.getDocument)()?((t=(0,cp.getDocument)())==null?void 0:t.visibilityState)==="visible":!0}function OXt(t){let e=a_.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function NXt({publicKey:t,signature:e,payload:n}){var r;let i=Uhe(n.method),a=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=MXt(n.address),s=n.era==="00"?new Uint8Array([0]):Uhe(n.era);if(s.length!==1&&s.length!==2)throw new Error("Invalid era length");let c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${kXt(n.tip)}`),f=DXt(u),d=new Uint8Array([0,...t,o,...e,...s,...l,...f,...i]),p=BXt(d.length+1);return new Uint8Array([...p,a,...d])}function PXt(t){let e=Uhe(t),n=(0,CJe.blake2b)(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function Uhe(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function kXt(t){return t.startsWith("0x")?t.slice(2):t}function MXt(t){let e=a_.decode(t)[0];return e===42?0:e===60?2:1}function BXt(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){let e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){let e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function DXt(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){let e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){let e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function iZe(t){let e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=OXt(t.transaction.address),r=NXt({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return PXt(i)}var Em,cp,SJe,CJe,IJe,gJt,wJt,vJt,WYe,EJt,xJt,Ehe,YYe,AJt,JYe,_Jt,eu,TJt,q$,j$,QYe,ZYe,XYe,og,sg,dk,pk,MJt,BJt,DJt,LJt,UJt,FJt,Vhe,Khe,HJt,zJt,jJt,GJt,f_,GJe,wm,cg,KJe,KJt,gm,p_,WJt,uk,YJt,JJt,QJt,ZJt,$Je,qJe,WJe,YJe,XJt,eQt,tJe,nJe,xhe,nQt,rQt,W$,eg,gc,wc,sQt,tg,Ahe,JJe,cQt,lQt,ng,rg,vk,_he,vc,The,iq,uQt,fQt,dQt,pQt,fs,At,She,Che,mQt,yQt,xQt,AQt,_Qt,rJe,TQt,SQt,iJe,CQt,IQt,RQt,Zhe,OQt,aq,Ck,e6e,HQt,VQt,aQe,qQt,WQt,YQt,JQt,G$,QQt,oQe,cJe,A0,Phe,tZt,rZt,iZt,lJe,aZt,oZt,sQe,Y$,oq,mhe,fJe,lZt,sq,r6e,khe,yhe,lq,tu,al,Rv,pZt,lQe,uQe,fQe,bZt,m_,Ov,ghe,bQe,fk,d_,K$,NZt,gJe,PZt,kZt,MZt,gQe,Bhe,Dhe,vm,mk,yk,LZt,$$,UZt,EQe,xQe,AQe,$Zt,qZt,WZt,YZt,JZt,_Qe,Ec,xc,Tm,Rk,TQe,up,g_,QZt,vJe,bk,o6e,XZt,rXt,iXt,aXt,EJe,oXt,sXt,xJe,cXt,lXt,mXt,yXt,vhe,dg,A_=B(()=>{M$e();Em=fe(HA()),cp=fe(XK()),SJe=fe(D$e());yWe();wWe();DWe();y9e();ZK();che();CYe();CJe=fe(qYe()),IJe=":";gJt=Object.defineProperty,wJt=Object.defineProperties,vJt=Object.getOwnPropertyDescriptors,WYe=Object.getOwnPropertySymbols,EJt=Object.prototype.hasOwnProperty,xJt=Object.prototype.propertyIsEnumerable,Ehe=(t,e,n)=>e in t?gJt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YYe=(t,e)=>{for(var n in e||(e={}))EJt.call(e,n)&&Ehe(t,n,e[n]);if(WYe)for(var n of WYe(e))xJt.call(e,n)&&Ehe(t,n,e[n]);return t},AJt=(t,e)=>wJt(t,vJt(e)),JYe=(t,e,n)=>Ehe(t,typeof e!="symbol"?e+"":e,n),_Jt="ReactNative",eu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},TJt="js";q$=class{constructor({limit:e}){JYe(this,"limit"),JYe(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}},j$=BigInt(2**32-1),QYe=BigInt(32);ZYe=(t,e,n)=>t>>>n,XYe=(t,e,n)=>t<<32-n|e>>>n,og=(t,e,n)=>t>>>n|e<<32-n,sg=(t,e,n)=>t<<32-n|e>>>n,dk=(t,e,n)=>t<<64-n|e>>>n-32,pk=(t,e,n)=>t>>>n-32|e<<64-n,MJt=(t,e)=>e,BJt=(t,e)=>t,DJt=(t,e,n)=>t<<n|e>>>32-n,LJt=(t,e,n)=>e<<n|t>>>32-n,UJt=(t,e,n)=>e<<n-32|t>>>64-n,FJt=(t,e,n)=>t<<n-32|e>>>64-n;Vhe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Khe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,HJt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),zJt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,jJt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),GJt=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0,f_=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;GJe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;wm=GJe?t=>t:t=>VJe(t);cg=GJe?t=>t:VJt,KJe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",KJt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));gm={_0:48,_9:57,A:65,F:70,a:97,f:102};p_=class{};WJt=BigInt(0),uk=BigInt(1),YJt=BigInt(2),JJt=BigInt(7),QJt=BigInt(256),ZJt=BigInt(113),$Je=[],qJe=[],WJe=[];for(let t=0,e=uk,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],$Je.push(2*(5*r+n)),qJe.push((t+1)*(t+2)/2%64);let i=WJt;for(let a=0;a<7;a++)e=(e<<uk^(e>>JJt)*ZJt)%QJt,e&YJt&&(i^=uk<<(uk<<BigInt(a))-uk);WJe.push(i)}YJe=jJe(WJe,!0),XJt=YJe[0],eQt=YJe[1],tJe=(t,e,n)=>n>32?UJt(t,e,n):DJt(t,e,n),nJe=(t,e,n)=>n>32?FJt(t,e,n):LJt(t,e,n);xhe=class t extends p_{constructor(e,n,r,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,xm(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=gk(this.state)}clone(){return this._cloneInto()}keccak(){cg(this.state32),tQt(this.state32,this.rounds),cg(this.state32),this.posOut=0,this.pos=0}update(e){ug(this),e=sp(e),Od(e);let{blockLen:n,state:r}=this,i=e.length;for(let a=0;a<i;){let o=Math.min(n-this.pos,i-a);for(let s=0;s<o;s++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ug(this,!1),Od(e),this.finish();let n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Whe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Nd(this.state)}_cloneInto(e){let{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:o}=this;return e||(e=new t(n,r,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}},nQt=(t,e,n)=>Sk(()=>new xhe(e,t,n)),rQt=nQt(1,136,256/8);W$=class extends p_{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=dhe(this.buffer)}update(e){ug(this),e=sp(e),Od(e);let{view:n,buffer:r,blockLen:i}=this,a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let c=dhe(e);for(;i<=a-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ug(this),Whe(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:a}=this,{pos:o}=this;n[o++]=128,Nd(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;iQt(r,i-8,BigInt(this.length*8),a),this.process(r,0);let s=dhe(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)s.setUint32(4*f,u[f],a)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:i,finished:a,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=a,e.length=i,e.pos=s,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}},eg=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gc=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),wc=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),sQt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tg=new Uint32Array(64),Ahe=class extends W${constructor(e=32){super(64,e,8,!1),this.A=eg[0]|0,this.B=eg[1]|0,this.C=eg[2]|0,this.D=eg[3]|0,this.E=eg[4]|0,this.F=eg[5]|0,this.G=eg[6]|0,this.H=eg[7]|0}get(){let{A:e,B:n,C:r,D:i,E:a,F:o,G:s,H:c}=this;return[e,n,r,i,a,o,s,c]}set(e,n,r,i,a,o,s,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)tg[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){let d=tg[f-15],p=tg[f-2],h=Yh(d,7)^Yh(d,18)^d>>>3,m=Yh(p,17)^Yh(p,19)^p>>>10;tg[f]=m+tg[f-7]+h+tg[f-16]|0}let{A:r,B:i,C:a,D:o,E:s,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=Yh(s,6)^Yh(s,11)^Yh(s,25),p=u+d+aQt(s,c,l)+sQt[f]+tg[f]|0,h=(Yh(r,2)^Yh(r,13)^Yh(r,22))+oQt(r,i,a)|0;u=l,l=c,c=s,s=o+p|0,o=a,a=i,i=r,r=p+h|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,a,o,s,c,l,u)}roundClean(){Nd(tg)}destroy(){this.set(0,0,0,0,0,0,0,0),Nd(this.buffer)}},JJe=jJe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),cQt=JJe[0],lQt=JJe[1],ng=new Uint32Array(80),rg=new Uint32Array(80),vk=class extends W${constructor(e=64){super(128,e,16,!1),this.Ah=wc[0]|0,this.Al=wc[1]|0,this.Bh=wc[2]|0,this.Bl=wc[3]|0,this.Ch=wc[4]|0,this.Cl=wc[5]|0,this.Dh=wc[6]|0,this.Dl=wc[7]|0,this.Eh=wc[8]|0,this.El=wc[9]|0,this.Fh=wc[10]|0,this.Fl=wc[11]|0,this.Gh=wc[12]|0,this.Gl=wc[13]|0,this.Hh=wc[14]|0,this.Hl=wc[15]|0}get(){let{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:o,Dh:s,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:w}=this;return[e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w]}set(e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=o|0,this.Dh=s|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let C=0;C<16;C++,n+=4)ng[C]=e.getUint32(n),rg[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){let P=ng[C-15]|0,D=rg[C-15]|0,F=og(P,D,1)^og(P,D,8)^ZYe(P,D,7),H=sg(P,D,1)^sg(P,D,8)^XYe(P,D,7),O=ng[C-2]|0,M=rg[C-2]|0,N=og(O,M,19)^dk(O,M,61)^ZYe(O,M,6),v=sg(O,M,19)^pk(O,M,61)^XYe(O,M,6),I=HJt(H,v,rg[C-7],rg[C-16]),S=zJt(I,F,N,ng[C-7],ng[C-16]);ng[C]=S|0,rg[C]=I|0}let{Ah:r,Al:i,Bh:a,Bl:o,Ch:s,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:w,Hh:g,Hl:x}=this;for(let C=0;C<80;C++){let P=og(f,d,14)^og(f,d,18)^dk(f,d,41),D=sg(f,d,14)^sg(f,d,18)^pk(f,d,41),F=f&p^~f&m,H=d&h^~d&w,O=jJt(x,D,H,lQt[C],rg[C]),M=GJt(O,g,P,F,cQt[C],ng[C]),N=O|0,v=og(r,i,28)^dk(r,i,34)^dk(r,i,39),I=sg(r,i,28)^pk(r,i,34)^pk(r,i,39),S=r&a^r&s^a&s,y=i&o^i&c^o&c;g=m|0,x=w|0,m=p|0,w=h|0,p=f|0,h=d|0,{h:f,l:d}=op(l|0,u|0,M|0,N|0),l=s|0,u=c|0,s=a|0,c=o|0,a=r|0,o=i|0;let b=Vhe(N,I,y);r=Khe(b,M,v,S),i=b|0}({h:r,l:i}=op(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l:o}=op(this.Bh|0,this.Bl|0,a|0,o|0),{h:s,l:c}=op(this.Ch|0,this.Cl|0,s|0,c|0),{h:l,l:u}=op(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=op(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=op(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:w}=op(this.Gh|0,this.Gl|0,m|0,w|0),{h:g,l:x}=op(this.Hh|0,this.Hl|0,g|0,x|0),this.set(r,i,a,o,s,c,l,u,f,d,p,h,m,w,g,x)}roundClean(){Nd(ng,rg)}destroy(){Nd(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},_he=class extends vk{constructor(){super(48),this.Ah=gc[0]|0,this.Al=gc[1]|0,this.Bh=gc[2]|0,this.Bl=gc[3]|0,this.Ch=gc[4]|0,this.Cl=gc[5]|0,this.Dh=gc[6]|0,this.Dl=gc[7]|0,this.Eh=gc[8]|0,this.El=gc[9]|0,this.Fh=gc[10]|0,this.Fl=gc[11]|0,this.Gh=gc[12]|0,this.Gl=gc[13]|0,this.Hh=gc[14]|0,this.Hl=gc[15]|0}},vc=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),The=class extends vk{constructor(){super(32),this.Ah=vc[0]|0,this.Al=vc[1]|0,this.Bh=vc[2]|0,this.Bl=vc[3]|0,this.Ch=vc[4]|0,this.Cl=vc[5]|0,this.Dh=vc[6]|0,this.Dl=vc[7]|0,this.Eh=vc[8]|0,this.El=vc[9]|0,this.Fh=vc[10]|0,this.Fl=vc[11]|0,this.Gh=vc[12]|0,this.Gl=vc[13]|0,this.Hh=vc[14]|0,this.Hl=vc[15]|0}},iq=Sk(()=>new Ahe),uQt=Sk(()=>new vk),fQt=Sk(()=>new _he),dQt=Sk(()=>new The),pQt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),fs=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),At=new Uint32Array(32);She=class extends p_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,xm(e),xm(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=gk(this.buffer)}update(e){ug(this),e=sp(e),Od(e);let{blockLen:n,buffer:r,buffer32:i}=this,a=e.length,o=e.byteOffset,s=e.buffer;for(let c=0;c<a;){this.pos===n&&(cg(i),this.compress(i,0,!1),cg(i),this.pos=0);let l=Math.min(n-this.pos,a-c),u=o+c;if(l===n&&!(u%4)&&c+l<a){let f=new Uint32Array(s,u,Math.floor((a-c)/4));cg(f);for(let d=0;c+n<a;d+=i.length,c+=n)this.length+=n,this.compress(f,d,!1);cg(f);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){ug(this),Whe(e,this);let{pos:n,buffer32:r}=this;this.finished=!0,Nd(this.buffer.subarray(n)),cg(r),this.compress(r,0,!0),cg(r);let i=gk(e);this.get().forEach((a,o)=>i[o]=wm(a))}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){let{buffer:n,length:r,finished:i,destroyed:a,outputLen:o,pos:s}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=a,e.finished=i,e.length=r,e.pos=s,e.outputLen=o,e}clone(){return this._cloneInto()}},Che=class extends She{constructor(e={}){let n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=fs[0]|0,this.v0h=fs[1]|0,this.v1l=fs[2]|0,this.v1h=fs[3]|0,this.v2l=fs[4]|0,this.v2h=fs[5]|0,this.v3l=fs[6]|0,this.v3h=fs[7]|0,this.v4l=fs[8]|0,this.v4h=fs[9]|0,this.v5l=fs[10]|0,this.v5h=fs[11]|0,this.v6l=fs[12]|0,this.v6h=fs[13]|0,this.v7l=fs[14]|0,this.v7h=fs[15]|0,hQt(n,e,64,16,16);let{key:r,personalization:i,salt:a}=e,o=0;if(r!==void 0&&(r=sp(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,a!==void 0){a=sp(a);let s=gk(a);this.v4l^=wm(s[0]),this.v4h^=wm(s[1]),this.v5l^=wm(s[2]),this.v5h^=wm(s[3])}if(i!==void 0){i=sp(i);let s=gk(i);this.v6l^=wm(s[0]),this.v6h^=wm(s[1]),this.v7l^=wm(s[2]),this.v7h^=wm(s[3])}if(r!==void 0){let s=new Uint8Array(this.blockLen);s.set(r),this.update(s)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:a,v2h:o,v3l:s,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:p,v6h:h,v7l:m,v7h:w}=this;return[e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w]}set(e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=a|0,this.v2h=o|0,this.v3l=s|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=p|0,this.v6h=h|0,this.v7l=m|0,this.v7h=w|0}compress(e,n,r){this.get().forEach((c,l)=>At[l]=c),At.set(fs,16);let{h:i,l:a}=zJe(BigInt(this.length));At[24]=fs[8]^a,At[25]=fs[9]^i,r&&(At[28]=~At[28],At[29]=~At[29]);let o=0,s=pQt;for(let c=0;c<12;c++)ig(0,4,8,12,e,n+2*s[o++]),ag(0,4,8,12,e,n+2*s[o++]),ig(1,5,9,13,e,n+2*s[o++]),ag(1,5,9,13,e,n+2*s[o++]),ig(2,6,10,14,e,n+2*s[o++]),ag(2,6,10,14,e,n+2*s[o++]),ig(3,7,11,15,e,n+2*s[o++]),ag(3,7,11,15,e,n+2*s[o++]),ig(0,5,10,15,e,n+2*s[o++]),ag(0,5,10,15,e,n+2*s[o++]),ig(1,6,11,12,e,n+2*s[o++]),ag(1,6,11,12,e,n+2*s[o++]),ig(2,7,8,13,e,n+2*s[o++]),ag(2,7,8,13,e,n+2*s[o++]),ig(3,4,9,14,e,n+2*s[o++]),ag(3,4,9,14,e,n+2*s[o++]);this.v0l^=At[0]^At[16],this.v0h^=At[1]^At[17],this.v1l^=At[2]^At[18],this.v1h^=At[3]^At[19],this.v2l^=At[4]^At[20],this.v2h^=At[5]^At[21],this.v3l^=At[6]^At[22],this.v3h^=At[7]^At[23],this.v4l^=At[8]^At[24],this.v4h^=At[9]^At[25],this.v5l^=At[10]^At[26],this.v5h^=At[11]^At[27],this.v6l^=At[12]^At[28],this.v6h^=At[13]^At[29],this.v7l^=At[14]^At[30],this.v7h^=At[15]^At[31],Nd(At)}destroy(){this.destroyed=!0,Nd(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},mQt=qJt(t=>new Che(t)),yQt="https://rpc.walletconnect.org/v1";xQt=Object.defineProperty,AQt=Object.defineProperties,_Qt=Object.getOwnPropertyDescriptors,rJe=Object.getOwnPropertySymbols,TQt=Object.prototype.hasOwnProperty,SQt=Object.prototype.propertyIsEnumerable,iJe=(t,e,n)=>e in t?xQt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CQt=(t,e)=>{for(var n in e||(e={}))TQt.call(e,n)&&iJe(t,n,e[n]);if(rJe)for(var n of rJe(e))SQt.call(e,n)&&iJe(t,n,e[n]);return t},IQt=(t,e)=>AQt(t,_Qt(e)),RQt="did:pkh:",Zhe=t=>t?.split(":"),OQt=t=>{let e=t&&Zhe(t);if(e)return t.includes(RQt)?e[3]:e[1]},aq=t=>{let e=t&&Zhe(t);if(e)return e[2]+":"+e[3]},Ck=t=>{let e=t&&Zhe(t);if(e)return e.pop()};e6e=(t,e)=>{let n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Ck(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0,a=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,s=`Chain ID: ${OQt(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,h=Ik(t.resources);if(h){let m=Ek(h);i=LQt(i,m)}return[n,r,"",i,"",a,o,s,c,l,u,f,d,p].filter(m=>m!=null).join(`
`)};HQt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;VQt=(t,e)=>{function n(r,...i){if(Xl(r),!HQt)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){let l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Xl(l):Xl(l,t.nonceLength)}let a=t.tagLength;a&&i[1]!==void 0&&Xl(i[1]);let o=e(r,...i),s=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Xl(u)}},c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Xl(l),s(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Xl(l),a&&l.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return s(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};aQe=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),qQt=aQe("expand 16-byte k"),WQt=aQe("expand 32-byte k"),YQt=lg(qQt),JQt=lg(WQt);G$=64,QQt=16,oQe=2**32-1,cJe=new Uint32Array;A0=(t,e)=>t[e++]&255|(t[e++]&255)<<8,Phe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Rhe(e),Xl(e,32);let n=A0(e,0),r=A0(e,2),i=A0(e,4),a=A0(e,6),o=A0(e,8),s=A0(e,10),c=A0(e,12),l=A0(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|a<<9)&8191,this.r[4]=(a>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|s<<2)&8191,this.r[7]=(s>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=A0(e,16+2*u)}process(e,n,r=!1){let i=r?0:2048,{h:a,r:o}=this,s=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],p=o[6],h=o[7],m=o[8],w=o[9],g=A0(e,n+0),x=A0(e,n+2),C=A0(e,n+4),P=A0(e,n+6),D=A0(e,n+8),F=A0(e,n+10),H=A0(e,n+12),O=A0(e,n+14),M=a[0]+(g&8191),N=a[1]+((g>>>13|x<<3)&8191),v=a[2]+((x>>>10|C<<6)&8191),I=a[3]+((C>>>7|P<<9)&8191),S=a[4]+((P>>>4|D<<12)&8191),y=a[5]+(D>>>1&8191),b=a[6]+((D>>>14|F<<2)&8191),_=a[7]+((F>>>11|H<<5)&8191),A=a[8]+((H>>>8|O<<8)&8191),T=a[9]+(O>>>5|i),E=0,k=E+M*s+N*(5*w)+v*(5*m)+I*(5*h)+S*(5*p);E=k>>>13,k&=8191,k+=y*(5*d)+b*(5*f)+_*(5*u)+A*(5*l)+T*(5*c),E+=k>>>13,k&=8191;let L=E+M*c+N*s+v*(5*w)+I*(5*m)+S*(5*h);E=L>>>13,L&=8191,L+=y*(5*p)+b*(5*d)+_*(5*f)+A*(5*u)+T*(5*l),E+=L>>>13,L&=8191;let R=E+M*l+N*c+v*s+I*(5*w)+S*(5*m);E=R>>>13,R&=8191,R+=y*(5*h)+b*(5*p)+_*(5*d)+A*(5*f)+T*(5*u),E+=R>>>13,R&=8191;let U=E+M*u+N*l+v*c+I*s+S*(5*w);E=U>>>13,U&=8191,U+=y*(5*m)+b*(5*h)+_*(5*p)+A*(5*d)+T*(5*f),E+=U>>>13,U&=8191;let j=E+M*f+N*u+v*l+I*c+S*s;E=j>>>13,j&=8191,j+=y*(5*w)+b*(5*m)+_*(5*h)+A*(5*p)+T*(5*d),E+=j>>>13,j&=8191;let z=E+M*d+N*f+v*u+I*l+S*c;E=z>>>13,z&=8191,z+=y*s+b*(5*w)+_*(5*m)+A*(5*h)+T*(5*p),E+=z>>>13,z&=8191;let V=E+M*p+N*d+v*f+I*u+S*l;E=V>>>13,V&=8191,V+=y*c+b*s+_*(5*w)+A*(5*m)+T*(5*h),E+=V>>>13,V&=8191;let $=E+M*h+N*p+v*d+I*f+S*u;E=$>>>13,$&=8191,$+=y*l+b*c+_*s+A*(5*w)+T*(5*m),E+=$>>>13,$&=8191;let W=E+M*m+N*h+v*p+I*d+S*f;E=W>>>13,W&=8191,W+=y*u+b*l+_*c+A*s+T*(5*w),E+=W>>>13,W&=8191;let J=E+M*w+N*m+v*h+I*p+S*d;E=J>>>13,J&=8191,J+=y*f+b*u+_*l+A*c+T*s,E+=J>>>13,J&=8191,E=(E<<2)+E|0,E=E+k|0,k=E&8191,E=E>>>13,L+=E,a[0]=k,a[1]=L,a[2]=R,a[3]=U,a[4]=j,a[5]=z,a[6]=V,a[7]=$,a[8]=W,a[9]=J}finalize(){let{h:e,pad:n}=this,r=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=i,i=e[s]>>>13,e[s]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let s=1;s<10;s++)r[s]=e[s]+i,i=r[s]>>>13,r[s]&=8191;r[9]-=8192;let a=(i^1)-1;for(let s=0;s<10;s++)r[s]&=a;a=~a;for(let s=0;s<10;s++)e[s]=e[s]&a|r[s];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let s=1;s<8;s++)o=(e[s]+n[s]|0)+(o>>>16)|0,e[s]=o&65535;h_(r)}update(e){aJe(this),e=Rhe(e),Xl(e);let{buffer:n,blockLen:r}=this,i=e.length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);if(o===r){for(;r<=i-a;a+=r)this.process(e,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){h_(this.h,this.r,this.buffer,this.pad)}digestInto(e){aJe(this),UQt(e,this),this.finished=!0;let{buffer:n,h:r}=this,{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let o=0;o<8;o++)e[a++]=r[o]>>>0,e[a++]=r[o]>>>8;return e}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}};tZt=eZt(t=>new Phe(t));rZt=XQt(nZt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),iZt=new Uint8Array(16),lJe=(t,e)=>{t.update(e);let n=e.length%16;n&&t.update(iZt.subarray(n))},aZt=new Uint8Array(32);oZt=t=>(e,n,r)=>({encrypt(i,a){let o=i.length;a=oJe(o+16,a,!1),a.set(i);let s=a.subarray(0,-16);t(e,n,s,s,1);let c=uJe(t,e,n,s,r);return a.set(c,o),h_(c),a},decrypt(i,a){a=oJe(i.length-16,a,!1);let o=i.subarray(0,-16),s=i.subarray(-16),c=uJe(t,e,n,o,r);if(!GQt(s,c))throw new Error("invalid tag");return a.set(i.subarray(0,-16)),t(e,n,a,a,1),h_(c),a}}),sQe=VQt({blockSize:64,nonceLength:12,tagLength:16},oZt(rZt)),Y$=class extends p_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,qhe(e);let r=sp(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),Nd(a)}update(e){return ug(this),this.iHash.update(e),this}digestInto(e){ug(this),Od(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:o,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},oq=(t,e,n)=>new Y$(t,e).update(n).digest();oq.create=(t,e)=>new Y$(t,e);mhe=Uint8Array.from([0]),fJe=Uint8Array.of();lZt=(t,e,n,r,i)=>cZt(t,sZt(t,e,n),r,i),sq=iq,r6e=BigInt(0),khe=BigInt(1);yhe=t=>typeof t=="bigint"&&r6e<=t;lq=t=>(khe<<BigInt(t))-khe;tu=BigInt(0),al=BigInt(1),Rv=BigInt(2),pZt=BigInt(3),lQe=BigInt(4),uQe=BigInt(5),fQe=BigInt(8);bZt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];m_=BigInt(0),Ov=BigInt(1);ghe=new WeakMap,bQe=new WeakMap;BigInt(0),BigInt(1),BigInt(2),BigInt(8);fk=BigInt(0),d_=BigInt(1),K$=BigInt(2);BigInt(0);NZt=BigInt(1),gJe=BigInt(2),PZt=BigInt(3),kZt=BigInt(5),MZt=BigInt(8),gQe={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:MZt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};Bhe=(()=>{let t=gQe.p;return OZt({P:t,type:"x25519",powPminus2:e=>{let{pow_p_5_8:n,b2:r}=BZt(e);return Rd(ap(n,PZt,t)*r,t)},adjustScalarBytes:DZt})})();Dhe=class extends Error{constructor(e=""){super(e)}},vm={Err:Dhe,_tlv:{encode:(t,e)=>{let{Err:n}=vm;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");let r=e.length/2,i=V$(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");let a=r>127?V$(i.length/2|128):"";return V$(t)+a+i+e},decode(t,e){let{Err:n}=vm,r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");let i=e[r++],a=!!(i&128),o=0;if(!a)o=i;else{let c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");let l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}let s=e.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+o)}}},_int:{encode(t){let{Err:e}=vm;if(t<mk)throw new e("integer: negative integers are not allowed");let n=V$(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){let{Err:e}=vm;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return cq(t)}},toSig(t){let{Err:e,_int:n,_tlv:r}=vm,i=Zl("signature",t),{v:a,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:s,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(l)}},hexFromSig(t){let{_tlv:e,_int:n}=vm,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),a=r+i;return e.encode(48,a)}},mk=BigInt(0),yk=BigInt(1),LZt=BigInt(2),$$=BigInt(3),UZt=BigInt(4);EQe={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},xQe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},AQe={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},$Zt=b_(EQe.p),qZt=b_(xQe.p),WZt=b_(AQe.p),YZt=Lhe({...EQe,Fp:$Zt,lowS:!1},iq);Lhe({...xQe,Fp:qZt,lowS:!1},fQt),Lhe({...AQe,Fp:WZt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},uQt);JZt=YZt,_Qe="base10",Ec="base16",xc="base64pad",Tm="base64url",Rk="utf8",TQe=0,up=1,g_=2,QZt=0,vJe=1,bk=12,o6e=32;XZt="irn";rXt=Object.defineProperty,iXt=Object.defineProperties,aXt=Object.getOwnPropertyDescriptors,EJe=Object.getOwnPropertySymbols,oXt=Object.prototype.hasOwnProperty,sXt=Object.prototype.propertyIsEnumerable,xJe=(t,e,n)=>e in t?rXt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cXt=(t,e)=>{for(var n in e||(e={}))oXt.call(e,n)&&xJe(t,n,e[n]);if(EJe)for(var n of EJe(e))sXt.call(e,n)&&xJe(t,n,e[n]);return t},lXt=(t,e)=>iXt(t,aXt(e));mXt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},yXt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};vhe={},dg=class{static get(e){return vhe[e]}static set(e,n){vhe[e]=n}static delete(e){delete vhe[e]}}});var aZe,oZe,sZe,cZe,pq,Pk,g6e,hq,pg,kk,mq=B(()=>{aZe="PARSE_ERROR",oZe="INVALID_REQUEST",sZe="METHOD_NOT_FOUND",cZe="INVALID_PARAMS",pq="INTERNAL_ERROR",Pk="SERVER_ERROR",g6e=[-32700,-32600,-32601,-32602,-32603],hq=[-32e3,-32099],pg={[aZe]:{code:-32700,message:"Parse error"},[oZe]:{code:-32600,message:"Invalid Request"},[sZe]:{code:-32601,message:"Method not found"},[cZe]:{code:-32602,message:"Invalid params"},[pq]:{code:-32603,message:"Internal error"},[Pk]:{code:-32e3,message:"Server error"}},kk=Pk});function LXt(t){return t<=hq[0]&&t>=hq[1]}function yq(t){return g6e.includes(t)}function lZe(t){return typeof t=="number"}function bq(t){return Object.keys(pg).includes(t)?pg[t]:pg[kk]}function gq(t){let e=Object.values(pg).find(n=>n.code===t);return e||pg[kk]}function UXt(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!lZe(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(yq(t.error.code)){let e=gq(t.error.code);if(e.message!==pg[kk].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function w6e(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var v6e=B(()=>{mq()});var fZe={};$t(fZe,{__assign:()=>x6e,__asyncDelegator:()=>QXt,__asyncGenerator:()=>JXt,__asyncValues:()=>ZXt,__await:()=>Mk,__awaiter:()=>VXt,__classPrivateFieldGet:()=>nen,__classPrivateFieldSet:()=>ren,__createBinding:()=>$Xt,__decorate:()=>zXt,__exportStar:()=>qXt,__extends:()=>FXt,__generator:()=>KXt,__importDefault:()=>ten,__importStar:()=>een,__makeTemplateObject:()=>XXt,__metadata:()=>GXt,__param:()=>jXt,__read:()=>uZe,__rest:()=>HXt,__spread:()=>WXt,__spreadArrays:()=>YXt,__values:()=>A6e});function FXt(t,e){E6e(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function HXt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zXt(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function jXt(t,e){return function(n,r){e(n,r,t)}}function GXt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function VXt(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((r=r.apply(t,e||[])).next())})}function KXt(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(l[0]===6&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function $Xt(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function qXt(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function A6e(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function uZe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function WXt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(uZe(arguments[e]));return t}function YXt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function Mk(t){return this instanceof Mk?(this.v=t,this):new Mk(t)}function JXt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(h,m){a.push([d,p,h,m])>1||s(d,p)})})}function s(d,p){try{c(r[d](p))}catch(h){f(a[0][3],h)}}function c(d){d.value instanceof Mk?Promise.resolve(d.value.v).then(l,u):f(a[0][2],d)}function l(d){s("next",d)}function u(d){s("throw",d)}function f(d,p){d(p),a.shift(),a.length&&s(a[0][0],a[0][1])}}function QXt(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(o){return(n=!n)?{value:Mk(t[i](o)),done:i==="return"}:a?a(o):o}:a}}function ZXt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof A6e=="function"?A6e(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,c){o=t[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}function XXt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function een(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function ten(t){return t&&t.__esModule?t:{default:t}}function nen(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function ren(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}var E6e,x6e,dZe=B(()=>{E6e=function(t,e){return E6e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},E6e(t,e)};x6e=function(){return x6e=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},x6e.apply(this,arguments)}});var hZe=le(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});hg.isBrowserCryptoAvailable=hg.getSubtleCrypto=hg.getBrowerCrypto=void 0;function _6e(){return(global==null?void 0:global.crypto)||(global==null?void 0:global.msCrypto)||{}}hg.getBrowerCrypto=_6e;function pZe(){let t=_6e();return t.subtle||t.webkitSubtle}hg.getSubtleCrypto=pZe;function ien(){return!!_6e()&&!!pZe()}hg.isBrowserCryptoAvailable=ien});var bZe=le(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.isBrowser=mg.isNode=mg.isReactNative=void 0;function mZe(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}mg.isReactNative=mZe;function yZe(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}mg.isNode=yZe;function aen(){return!mZe()&&!yZe()}mg.isBrowser=aen});var T6e=le(wq=>{"use strict";Object.defineProperty(wq,"__esModule",{value:!0});var gZe=(dZe(),u3(fZe));gZe.__exportStar(hZe(),wq);gZe.__exportStar(bZe(),wq)});var _c={};$t(_c,{isNodeJs:()=>vZe});var wZe,vZe,EZe=B(()=>{wZe=fe(T6e());Hc(_c,fe(T6e()));vZe=wZe.isNode});function Pd(t=3){let e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function kd(t=6){return BigInt(Pd(t))}function cf(t,e,n){return{id:n||Pd(),jsonrpc:"2.0",method:t,params:e}}function Bv(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Dv(t,e,n){return{id:t,jsonrpc:"2.0",error:xZe(e,n)}}function xZe(t,e){return typeof t>"u"?bq(pq):(typeof t=="string"&&(t=Object.assign(Object.assign({},bq(Pk)),{message:t})),typeof e<"u"&&(t.data=e),yq(t.code)&&(t=gq(t.code)),t)}var AZe=B(()=>{v6e();mq()});function oen(t){return t.includes("*")?Eq(t):!/\W/g.test(t)}function vq(t){return t==="*"}function Eq(t){return vq(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function sen(t){return!vq(t)&&Eq(t)&&!t.split("*")[0].trim()}function cen(t){return!vq(t)&&Eq(t)&&!t.split("*")[1].trim()}var _Ze=B(()=>{});var Bk,S6e,xq,Dk,TZe=B(()=>{Bk=class{},S6e=class extends Bk{constructor(e){super()}},xq=class extends Bk{constructor(){super()}},Dk=class extends xq{constructor(e){super()}}});var SZe=B(()=>{TZe()});function fen(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function CZe(t,e){let n=fen(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function den(t){return CZe(t,len)}function Aq(t){return CZe(t,uen)}function C6e(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var len,uen,IZe=B(()=>{len="^https?:",uen="^wss?:"});function I6e(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function __(t){return I6e(t)&&"method"in t}function yg(t){return I6e(t)&&(lf(t)||Tc(t))}function lf(t){return"result"in t}function Tc(t){return"error"in t}function pen(t){return"error"in t&&t.valid===!1}var RZe=B(()=>{});var uf={};$t(uf,{DEFAULT_ERROR:()=>kk,IBaseJsonRpcProvider:()=>xq,IEvents:()=>Bk,IJsonRpcConnection:()=>S6e,IJsonRpcProvider:()=>Dk,INTERNAL_ERROR:()=>pq,INVALID_PARAMS:()=>cZe,INVALID_REQUEST:()=>oZe,METHOD_NOT_FOUND:()=>sZe,PARSE_ERROR:()=>aZe,RESERVED_ERROR_CODES:()=>g6e,SERVER_ERROR:()=>Pk,SERVER_ERROR_CODE_RANGE:()=>hq,STANDARD_ERROR_MAP:()=>pg,formatErrorMessage:()=>xZe,formatJsonRpcError:()=>Dv,formatJsonRpcRequest:()=>cf,formatJsonRpcResult:()=>Bv,getBigIntRpcId:()=>kd,getError:()=>bq,getErrorByCode:()=>gq,isHttpUrl:()=>den,isJsonRpcError:()=>Tc,isJsonRpcPayload:()=>I6e,isJsonRpcRequest:()=>__,isJsonRpcResponse:()=>yg,isJsonRpcResult:()=>lf,isJsonRpcValidationInvalid:()=>pen,isLocalhostUrl:()=>C6e,isNodeJs:()=>vZe,isReservedErrorCode:()=>yq,isServerErrorCode:()=>LXt,isValidDefaultRoute:()=>vq,isValidErrorCode:()=>lZe,isValidLeadingWildcardRoute:()=>sen,isValidRoute:()=>oen,isValidTrailingWildcardRoute:()=>cen,isValidWildcardRoute:()=>Eq,isWsUrl:()=>Aq,parseConnectionError:()=>w6e,payloadId:()=>Pd,validateJsonRpcError:()=>UXt});var Lk=B(()=>{mq();v6e();EZe();Hc(uf,_c);AZe();_Ze();SZe();IZe();RZe()});var OZe,_q,NZe=B(()=>{OZe=fe(Ps());Lk();_q=class extends Dk{constructor(e){super(e),this.events=new OZe.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(cf(e.method,e.params||[],e.id||kd().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(a){i(a)}this.events.on(`${e.id}`,a=>{Tc(a)?i(a.error):r(a.result)});try{await this.connection.send(e,n)}catch(a){i(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),yg(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}});var kZe=le((Lar,PZe)=>{"use strict";PZe.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var DZe,hen,men,MZe,BZe,yen,Tq,LZe=B(()=>{DZe=fe(Ps());zA();Lk();hen=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:kZe(),men=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",MZe=t=>t.split("?")[0],BZe=10,yen=hen(),Tq=class{constructor(e){if(this.url=e,this.events=new DZe.EventEmitter,this.registering=!1,!Aq(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Id(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Aq(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{let i=(0,uf.isReactNative)()?void 0:{rejectUnauthorized:!C6e(e)},a=new yen(e,[],i);men()?a.onerror=o=>{let s=o;r(this.emitError(s.error))}:a.on("error",o=>{r(this.emitError(o))}),a.onopen=()=>{this.onOpen(a),n(a)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let n=typeof e.data=="string"?Vh(e.data):e.data;this.events.emit("payload",n)}onError(e,n){let r=this.parseError(n),i=r.message||r.toString(),a=Dv(e,i);this.events.emit("payload",a)}parseError(e,n=this.url){return w6e(e,MZe(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>BZe&&this.events.setMaxListeners(BZe)}emitError(e){let n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${MZe(this.url)}`));return this.events.emit("register_error",n),n}}});function Qen(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),o=a.charCodeAt(0);if(n[o]!==255)throw new TypeError(a+" is ambiguous");n[o]=i}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,w=0,g=0,x=h.length;g!==x&&h[g]===0;)g++,m++;for(var C=(x-g)*u+1>>>0,P=new Uint8Array(C);g!==x;){for(var D=h[g],F=0,H=C-1;(D!==0||F<w)&&H!==-1;H--,F++)D+=256*P[H]>>>0,P[H]=D%s>>>0,D=D/s>>>0;if(D!==0)throw new Error("Non-zero carry");w=F,g++}for(var O=C-w;O!==C&&P[O]===0;)O++;for(var M=c.repeat(m);O<C;++O)M+=t.charAt(P[O]);return M}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var w=0,g=0;h[m]===c;)w++,m++;for(var x=(h.length-m)*l+1>>>0,C=new Uint8Array(x);h[m];){var P=n[h.charCodeAt(m)];if(P===255)return;for(var D=0,F=x-1;(P!==0||D<g)&&F!==-1;F--,D++)P+=s*C[F]>>>0,C[F]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");g=D,m++}if(h[m]!==" "){for(var H=x-g;H!==x&&C[H]===0;)H++;for(var O=new Uint8Array(w+(x-H)),M=w;H!==x;)O[M++]=C[H++];return O}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}function Utn(t){return t.reduce((e,n)=>(e+=Dtn[n],e),"")}function Ftn(t){let e=[];for(let n of t){let r=Ltn[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}function yXe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Ktn;)e[n++]=t&255|HZe,t/=128;for(;t&Vtn;)e[n++]=t&255|HZe,t>>>=7;return e[n]=t|0,yXe.bytes=n-r+1,e}function L6e(t,r){var n=0,r=r||0,i=0,a=r,o,s=t.length;do{if(a>=s)throw L6e.bytes=0,new RangeError("Could not decode varint");o=t[a++],n+=i<28?(o&zZe)<<i:(o&zZe)*Math.pow(2,i),i+=7}while(o>=qtn);return L6e.bytes=a-r,n}function xXe(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function dnn(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?xXe(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function AXe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}function hnn(t,e="utf8"){let n=pnn[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?xXe(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function znn(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function ZZe(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function XZe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function drn(){}function tXe(t){if(!t||typeof t!="object")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function prn(t,e,n){return zk(t,e,void 0,void 0,void 0,void 0,n)}function zk(t,e,n,r,i,a,o){let s=o(t,e,n,r,i,a);if(s!==void 0)return s;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return jk(t,e,a,o)}return jk(t,e,a,o)}function jk(t,e,n,r){if(Object.is(t,e))return!0;let i=XZe(t),a=XZe(e);if(i===eXe&&(i=N6e),a===eXe&&(a=N6e),i!==a)return!1;switch(i){case Gnn:return t.toString()===e.toString();case Vnn:{let c=t.valueOf(),l=e.valueOf();return znn(c,l)}case Knn:case qnn:case $nn:return Object.is(t.valueOf(),e.valueOf());case jnn:return t.source===e.source&&t.flags===e.flags;case Qnn:return t===e}n=n??new Map;let o=n.get(t),s=n.get(e);if(o!=null&&s!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case Wnn:{if(t.size!==e.size)return!1;for(let[c,l]of t.entries())if(!e.has(c)||!zk(l,e.get(c),c,t,e,n,r))return!1;return!0}case Ynn:{if(t.size!==e.size)return!1;let c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){let f=c[u],d=l.findIndex(p=>zk(f,p,void 0,t,e,n,r));if(d===-1)return!1;l.splice(d,1)}return!0}case Jnn:case trn:case nrn:case rrn:case irn:case arn:case orn:case srn:case crn:case lrn:case urn:case frn:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!zk(t[c],e[c],c,t,e,n,r))return!1;return!0}case Znn:return t.byteLength!==e.byteLength?!1:jk(new Uint8Array(t),new Uint8Array(e),n,r);case ern:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:jk(new Uint8Array(t),new Uint8Array(e),n,r);case Xnn:return t.name===e.name&&t.message===e.message;case N6e:{if(!(jk(t.constructor,e.constructor,n,r)||tXe(t)&&tXe(e)))return!1;let c=[...Object.keys(t),...ZZe(t)],l=[...Object.keys(e),...ZZe(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){let f=c[u],d=t[f];if(!Object.hasOwn(e,f))return!1;let p=e[f];if(!zk(d,p,f,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function hrn(t,e){return prn(t,e,drn)}var Cm,sn,cXe,lXe,uXe,Cq,Xh,ben,gen,wen,UZe,ven,Een,xen,Aen,_en,Ten,Sen,c5e,Cen,fXe,Ien,co,Ren,Md,Oen,P6e,ra,Sq,Nen,Pen,FZe,df,ken,Men,Zar,Ben,Den,Uk,bg,fp,Len,Uen,Fen,pf,Hen,zen,jen,dXe,C_,Gen,Ven,Ken,$en,dp,Zh,Im,I_,gg,R_,qen,Wen,Yen,Jen,Zen,Xen,pXe,etn,ttn,k6e,M6e,B6e,hXe,D6e,Iq,Gk,ntn,rtn,S0,itn,atn,otn,stn,ctn,ltn,utn,ftn,dtn,ptn,htn,mtn,ytn,btn,gtn,wtn,vtn,Etn,xtn,Atn,_tn,Ttn,Stn,Ctn,Itn,Rtn,Otn,Ntn,Ptn,ktn,Mtn,Btn,mXe,Dtn,Ltn,Htn,ztn,jtn,HZe,Gtn,Vtn,Ktn,$tn,qtn,zZe,Wtn,Ytn,Jtn,Qtn,Ztn,Xtn,enn,tnn,nnn,rnn,inn,bXe,jZe,GZe,U6e,F6e,gXe,H6e,wXe,ann,onn,snn,vXe,cnn,EXe,lnn,unn,fnn,VZe,KZe,R6e,pnn,mnn,ynn,Qh,z6e,bnn,gnn,_0,j6e,wnn,vnn,Enn,$Ze,xnn,Ann,G6e,_nn,Tnn,ff,V6e,Snn,Cnn,Inn,qZe,Rnn,Onn,K6e,T_,WZe,Bd,$6e,Nnn,Pnn,S_,q6e,knn,Mnn,Bnn,YZe,Dnn,Lnn,W6e,Fk,O6e,zi,Y6e,Unn,JZe,Fnn,Hnn,J6e,QZe,Zr,Q6e,jnn,Gnn,Vnn,Knn,eXe,$nn,qnn,Wnn,Ynn,Jnn,Qnn,Znn,N6e,Xnn,ern,trn,nrn,rrn,irn,arn,orn,srn,crn,lrn,urn,frn,mrn,nXe,yrn,brn,Z6e,rXe,ru,e6,grn,wrn,Ar,X6e,vrn,Ern,T0,e5e,xrn,Arn,Sc,t5e,_rn,Trn,Vo,n5e,Srn,Crn,iXe,r5e,Irn,aXe,Rrn,Orn,i5e,Hk,qs,a5e,Nrn,oXe,Prn,krn,o5e,sXe,na,s5e,_Xe,TXe=B(()=>{Cm=fe(Ps());iKe();xKe();s1e();c1e();sn=fe(HA());zA();ZK();ZK();A_();che();NZe();Lk();LZe();cXe=fe(XK()),lXe="wc",uXe=2,Cq="core",Xh=`${lXe}@2:${Cq}:`,ben={name:Cq,logger:"error"},gen={database:":memory:"},wen="crypto",UZe="client_ed25519_seed",ven=sn.ONE_DAY,Een="keychain",xen="0.3",Aen="messages",_en="0.3",Ten=sn.SIX_HOURS,Sen="publisher",c5e="irn",Cen="error",fXe="wss://relay.walletconnect.org",Ien="relayer",co={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Ren="_subscription",Md={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Oen=.1,P6e="2.21.8",ra={link_mode:"link_mode",relay:"relay"},Sq={inbound:"inbound",outbound:"outbound"},Nen="0.3",Pen="WALLETCONNECT_CLIENT_ID",FZe="WALLETCONNECT_LINK_MODE_APPS",df={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ken="subscription",Men="0.3",Zar=sn.FIVE_SECONDS*1e3,Ben="pairing",Den="0.3",Uk={wc_pairingDelete:{req:{ttl:sn.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:sn.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:sn.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:sn.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:sn.ONE_DAY,prompt:!1,tag:0},res:{ttl:sn.ONE_DAY,prompt:!1,tag:0}}},bg={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},fp={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Len="history",Uen="0.3",Fen="expirer",pf={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Hen="0.3",zen="verify-api",jen="https://verify.walletconnect.com",dXe="https://verify.walletconnect.org",C_=dXe,Gen=`${C_}/v3`,Ven=[jen,dXe],Ken="echo",$en="https://echo.walletconnect.com",dp={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Zh={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Im={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},I_={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},gg={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},R_={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},qen=.1,Wen="event-client",Yen=86400,Jen="https://pulse.walletconnect.org/batch";Zen=Qen,Xen=Zen,pXe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},etn=t=>new TextEncoder().encode(t),ttn=t=>new TextDecoder().decode(t),k6e=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},M6e=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return hXe(this,e)}},B6e=class{constructor(e){this.decoders=e}or(e){return hXe(this,e)}decode(e){let n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},hXe=(t,e)=>new B6e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),D6e=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new k6e(e,n,r),this.decoder=new M6e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Iq=({name:t,prefix:e,encode:n,decode:r})=>new D6e(t,e,n,r),Gk=({prefix:t,name:e,alphabet:n})=>{let{encode:r,decode:i}=Xen(n,e);return Iq({prefix:t,name:e,encode:r,decode:a=>pXe(i(a))})},ntn=(t,e,n,r)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let a=t.length;for(;t[a-1]==="=";)--a;let o=new Uint8Array(a*n/8|0),s=0,c=0,l=0;for(let u=0;u<a;++u){let f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,s+=n,s>=8&&(s-=8,o[l++]=255&c>>s)}if(s>=n||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return o},rtn=(t,e,n)=>{let r=e[e.length-1]==="=",i=(1<<n)-1,a="",o=0,s=0;for(let c=0;c<t.length;++c)for(s=s<<8|t[c],o+=8;o>n;)o-=n,a+=e[i&s>>o];if(o&&(a+=e[i&s<<n-o]),r)for(;a.length*n&7;)a+="=";return a},S0=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Iq({prefix:e,name:t,encode(i){return rtn(i,r,n)},decode(i){return ntn(i,r,n,t)}}),itn=Iq({prefix:"\0",name:"identity",encode:t=>ttn(t),decode:t=>etn(t)}),atn=Object.freeze({__proto__:null,identity:itn}),otn=S0({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),stn=Object.freeze({__proto__:null,base2:otn}),ctn=S0({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ltn=Object.freeze({__proto__:null,base8:ctn}),utn=Gk({prefix:"9",name:"base10",alphabet:"0123456789"}),ftn=Object.freeze({__proto__:null,base10:utn}),dtn=S0({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ptn=S0({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),htn=Object.freeze({__proto__:null,base16:dtn,base16upper:ptn}),mtn=S0({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ytn=S0({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),btn=S0({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gtn=S0({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wtn=S0({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vtn=S0({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Etn=S0({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xtn=S0({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Atn=S0({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),_tn=Object.freeze({__proto__:null,base32:mtn,base32upper:ytn,base32pad:btn,base32padupper:gtn,base32hex:wtn,base32hexupper:vtn,base32hexpad:Etn,base32hexpadupper:xtn,base32z:Atn}),Ttn=Gk({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Stn=Gk({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ctn=Object.freeze({__proto__:null,base36:Ttn,base36upper:Stn}),Itn=Gk({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Rtn=Gk({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Otn=Object.freeze({__proto__:null,base58btc:Itn,base58flickr:Rtn}),Ntn=S0({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ptn=S0({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ktn=S0({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Mtn=S0({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Btn=Object.freeze({__proto__:null,base64:Ntn,base64pad:Ptn,base64url:ktn,base64urlpad:Mtn}),mXe=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Dtn=mXe.reduce((t,e,n)=>(t[n]=e,t),[]),Ltn=mXe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);Htn=Iq({prefix:"\u{1F680}",name:"base256emoji",encode:Utn,decode:Ftn}),ztn=Object.freeze({__proto__:null,base256emoji:Htn}),jtn=yXe,HZe=128,Gtn=127,Vtn=~Gtn,Ktn=Math.pow(2,31);$tn=L6e,qtn=128,zZe=127;Wtn=Math.pow(2,7),Ytn=Math.pow(2,14),Jtn=Math.pow(2,21),Qtn=Math.pow(2,28),Ztn=Math.pow(2,35),Xtn=Math.pow(2,42),enn=Math.pow(2,49),tnn=Math.pow(2,56),nnn=Math.pow(2,63),rnn=function(t){return t<Wtn?1:t<Ytn?2:t<Jtn?3:t<Qtn?4:t<Ztn?5:t<Xtn?6:t<enn?7:t<tnn?8:t<nnn?9:10},inn={encode:jtn,decode:$tn,encodingLength:rnn},bXe=inn,jZe=(t,e,n=0)=>(bXe.encode(t,e,n),e),GZe=t=>bXe.encodingLength(t),U6e=(t,e)=>{let n=e.byteLength,r=GZe(t),i=r+GZe(n),a=new Uint8Array(i+n);return jZe(t,a,0),jZe(n,a,r),a.set(e,i),new F6e(t,n,e,a)},F6e=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}},gXe=({name:t,code:e,encode:n})=>new H6e(t,e,n),H6e=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){let n=this.encode(e);return n instanceof Uint8Array?U6e(this.code,n):n.then(r=>U6e(this.code,r))}else throw Error("Unknown type, must be binary type")}},wXe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ann=gXe({name:"sha2-256",code:18,encode:wXe("SHA-256")}),onn=gXe({name:"sha2-512",code:19,encode:wXe("SHA-512")}),snn=Object.freeze({__proto__:null,sha256:ann,sha512:onn}),vXe=0,cnn="identity",EXe=pXe,lnn=t=>U6e(vXe,EXe(t)),unn={code:vXe,name:cnn,encode:EXe,digest:lnn},fnn=Object.freeze({__proto__:null,identity:unn});new TextEncoder,new TextDecoder;VZe={...atn,...stn,...ltn,...ftn,...htn,..._tn,...Ctn,...Otn,...Btn,...ztn};({...snn,...fnn});KZe=AXe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),R6e=AXe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);let e=dnn(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),pnn={utf8:KZe,"utf-8":KZe,hex:VZe.base16,latin1:R6e,ascii:R6e,binary:R6e,...VZe};mnn=Object.defineProperty,ynn=(t,e,n)=>e in t?mnn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qh=(t,e,n)=>ynn(t,typeof e!="symbol"?e+"":e,n),z6e=class{constructor(e,n){this.core=e,this.logger=n,Qh(this,"keychain",new Map),Qh(this,"name",Een),Qh(this,"version",xen),Qh(this,"initialized",!1),Qh(this,"storagePrefix",Xh),Qh(this,"init",async()=>{if(!this.initialized){let r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Qh(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Qh(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Qh(this,"get",r=>{this.isInitialized();let i=this.keychain.get(r);if(typeof i>"u"){let{message:a}=ft("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(a)}return i}),Qh(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=w0(n,this.name)}get context(){return hc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tq(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nq(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}},bnn=Object.defineProperty,gnn=(t,e,n)=>e in t?bnn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_0=(t,e,n)=>gnn(t,typeof e!="symbol"?e+"":e,n),j6e=class{constructor(e,n,r){this.core=e,this.logger=n,_0(this,"name",wen),_0(this,"keychain"),_0(this,"randomSessionIdentifier",fq()),_0(this,"initialized",!1),_0(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),_0(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),_0(this,"getClientId",async()=>{this.isInitialized();let i=await this.getClientSeed(),a=F1e(i);return U1e(a.publicKey)}),_0(this,"generateKeyPair",()=>{this.isInitialized();let i=SQe();return this.setPrivateKey(i.publicKey,i.privateKey)}),_0(this,"signJWT",async i=>{this.isInitialized();let a=await this.getClientSeed(),o=F1e(a),s=this.randomSessionIdentifier;return await I$e(s,i,ven,o)}),_0(this,"generateSharedKey",(i,a,o)=>{this.isInitialized();let s=this.getPrivateKey(i),c=CQe(s,a);return this.setSymKey(c,o)}),_0(this,"setSymKey",async(i,a)=>{this.isInitialized();let o=a||w_(i);return await this.keychain.set(o,i),o}),_0(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),_0(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),_0(this,"encode",async(i,a,o)=>{this.isInitialized();let s=s6e(o),c=Id(a);if(l6e(s))return kQe(c,o?.encoding);if(c6e(s)){let d=s.senderPublicKey,p=s.receiverPublicKey;i=await this.generateSharedKey(d,p)}let l=this.getSymKey(i),{type:u,senderPublicKey:f}=s;return NQe({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o?.encoding})}),_0(this,"decode",async(i,a,o)=>{this.isInitialized();let s=DQe(a,o);if(l6e(s)){let c=MQe(a,o?.encoding);return Vh(c)}if(c6e(s)){let c=s.receiverPublicKey,l=s.senderPublicKey;i=await this.generateSharedKey(c,l)}try{let c=this.getSymKey(i),l=PQe({symKey:c,encoded:a,encoding:o?.encoding});return Vh(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),_0(this,"getPayloadType",(i,a=xc)=>{let o=v_({encoded:i,encoding:a});return fg(o.type)}),_0(this,"getPayloadSenderPublicKey",(i,a=xc)=>{let o=v_({encoded:i,encoding:a});return o.senderPublicKey?E0(o.senderPublicKey,Ec):void 0}),this.core=e,this.logger=w0(n,this.name),this.keychain=r||new z6e(this.core,this.logger)}get context(){return hc(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(UZe)}catch{e=fq(),await this.keychain.set(UZe,e)}return hnn(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}},wnn=Object.defineProperty,vnn=Object.defineProperties,Enn=Object.getOwnPropertyDescriptors,$Ze=Object.getOwnPropertySymbols,xnn=Object.prototype.hasOwnProperty,Ann=Object.prototype.propertyIsEnumerable,G6e=(t,e,n)=>e in t?wnn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_nn=(t,e)=>{for(var n in e||(e={}))xnn.call(e,n)&&G6e(t,n,e[n]);if($Ze)for(var n of $Ze(e))Ann.call(e,n)&&G6e(t,n,e[n]);return t},Tnn=(t,e)=>vnn(t,Enn(e)),ff=(t,e,n)=>G6e(t,typeof e!="symbol"?e+"":e,n),V6e=class extends PK{constructor(e,n){super(e,n),this.logger=e,this.core=n,ff(this,"messages",new Map),ff(this,"messagesWithoutClientAck",new Map),ff(this,"name",Aen),ff(this,"version",_en),ff(this,"initialized",!1),ff(this,"storagePrefix",Xh),ff(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);let i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ff(this,"set",async(r,i,a)=>{this.isInitialized();let o=nu(i),s=this.messages.get(r);if(typeof s>"u"&&(s={}),typeof s[o]<"u")return o;if(s[o]=i,this.messages.set(r,s),a===Sq.inbound){let c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Tnn(_nn({},c),{[o]:i}))}return await this.persist(),o}),ff(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),ff(this,"getWithoutAck",r=>{this.isInitialized();let i={};for(let a of r){let o=this.messagesWithoutClientAck.get(a)||{};i[a]=Object.values(o)}return i}),ff(this,"has",(r,i)=>{this.isInitialized();let a=this.get(r),o=nu(i);return typeof a[o]<"u"}),ff(this,"ack",async(r,i)=>{this.isInitialized();let a=this.messagesWithoutClientAck.get(r);if(typeof a>"u")return;let o=nu(i);delete a[o],Object.keys(a).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,a),await this.persist()}),ff(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=w0(e,this.name),this.core=n}get context(){return hc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tq(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,tq(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nq(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?nq(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}},Snn=Object.defineProperty,Cnn=Object.defineProperties,Inn=Object.getOwnPropertyDescriptors,qZe=Object.getOwnPropertySymbols,Rnn=Object.prototype.hasOwnProperty,Onn=Object.prototype.propertyIsEnumerable,K6e=(t,e,n)=>e in t?Snn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T_=(t,e)=>{for(var n in e||(e={}))Rnn.call(e,n)&&K6e(t,n,e[n]);if(qZe)for(var n of qZe(e))Onn.call(e,n)&&K6e(t,n,e[n]);return t},WZe=(t,e)=>Cnn(t,Inn(e)),Bd=(t,e,n)=>K6e(t,typeof e!="symbol"?e+"":e,n),$6e=class extends kK{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Bd(this,"events",new Cm.EventEmitter),Bd(this,"name",Sen),Bd(this,"queue",new Map),Bd(this,"publishTimeout",(0,sn.toMiliseconds)(sn.ONE_MINUTE)),Bd(this,"initialPublishTimeout",(0,sn.toMiliseconds)(sn.ONE_SECOND*15)),Bd(this,"needsTransportRestart",!1),Bd(this,"publish",async(r,i,a)=>{var o,s,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:a}});let f=a?.ttl||Ten,d=a?.prompt||!1,p=a?.tag||0,h=a?.id||kd().toString(),m=Mv(Ok().protocol),w={id:h,method:a?.publishMethod||m.publish,params:T_({topic:r,message:i,ttl:f,prompt:d,tag:p,attestation:a?.attestation},a?.tvf&&{tvf:a.tvf})},g=`Failed to publish payload, please try again. id:${h} tag:${p}`;try{ko((o=w.params)==null?void 0:o.prompt)&&((s=w.params)==null||delete s.prompt),ko((c=w.params)==null?void 0:c.tag)&&((l=w.params)==null||delete l.tag);let x=new Promise(async C=>{let P=({id:F})=>{var H;((H=w.id)==null?void 0:H.toString())===F.toString()&&(this.removeRequestFromQueue(F),this.relayer.events.removeListener(co.publish,P),C())};this.relayer.events.on(co.publish,P);let D=lp(new Promise((F,H)=>{this.rpcPublish(w,a).then(F).catch(O=>{this.logger.warn(O,O?.message),H(O)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${p}`);try{await D,this.events.removeListener(co.publish,P)}catch(F){this.queue.set(h,{request:w,opts:a,attempt:1}),this.logger.warn(F,F?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:r,message:i,opts:a}}),await lp(x,this.publishTimeout,g)}catch(x){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(x),(u=a?.internal)!=null&&u.throwOnFailedPublish)throw x}finally{this.queue.delete(h)}}),Bd(this,"publishCustom",async r=>{var i,a,o,s,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});let{payload:l,opts:u={}}=r,{attestation:f,tvf:d,publishMethod:p,prompt:h,tag:m,ttl:w=sn.FIVE_MINUTES}=u,g=u.id||kd().toString(),x=Mv(Ok().protocol),C=p||x.publish,P={id:g,method:C,params:T_(WZe(T_({},l),{ttl:w,prompt:h,tag:m,attestation:f}),d)},D=`Failed to publish custom payload, please try again. id:${g} tag:${m}`;try{ko((i=P.params)==null?void 0:i.prompt)&&((a=P.params)==null||delete a.prompt),ko((o=P.params)==null?void 0:o.tag)&&((s=P.params)==null||delete s.tag);let F=new Promise(async H=>{let O=({id:N})=>{var v;((v=P.id)==null?void 0:v.toString())===N.toString()&&(this.removeRequestFromQueue(N),this.relayer.events.removeListener(co.publish,O),H())};this.relayer.events.on(co.publish,O);let M=lp(new Promise((N,v)=>{this.rpcPublish(P,u).then(N).catch(I=>{this.logger.warn(I,I?.message),v(I)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${C} id:${g} tag:${m}`);try{await M,this.events.removeListener(co.publish,O)}catch(N){this.queue.set(g,{request:P,opts:u,attempt:1}),this.logger.warn(N,N?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,payload:l,opts:u}}),await lp(F,this.publishTimeout,D)}catch(F){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(F),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw F}finally{this.queue.delete(g)}}),Bd(this,"on",(r,i)=>{this.events.on(r,i)}),Bd(this,"once",(r,i)=>{this.events.once(r,i)}),Bd(this,"off",(r,i)=>{this.events.off(r,i)}),Bd(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=w0(n,this.name),this.registerEventListeners()}get context(){return hc(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let r=await this.relayer.request(e);return this.relayer.events.emit(co.publish,T_(T_({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;let i=e.attempt+1;this.queue.set(n,WZe(T_({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(U2.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(co.connection_stalled);return}this.checkQueue()}),this.relayer.on(co.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},Nnn=Object.defineProperty,Pnn=(t,e,n)=>e in t?Nnn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S_=(t,e,n)=>Pnn(t,typeof e!="symbol"?e+"":e,n),q6e=class{constructor(){S_(this,"map",new Map),S_(this,"set",(e,n)=>{let r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),S_(this,"get",e=>this.map.get(e)||[]),S_(this,"exists",(e,n)=>this.get(e).includes(n)),S_(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,n))return;let i=r.filter(a=>a!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),S_(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}},knn=Object.defineProperty,Mnn=Object.defineProperties,Bnn=Object.getOwnPropertyDescriptors,YZe=Object.getOwnPropertySymbols,Dnn=Object.prototype.hasOwnProperty,Lnn=Object.prototype.propertyIsEnumerable,W6e=(t,e,n)=>e in t?knn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fk=(t,e)=>{for(var n in e||(e={}))Dnn.call(e,n)&&W6e(t,n,e[n]);if(YZe)for(var n of YZe(e))Lnn.call(e,n)&&W6e(t,n,e[n]);return t},O6e=(t,e)=>Mnn(t,Bnn(e)),zi=(t,e,n)=>W6e(t,typeof e!="symbol"?e+"":e,n),Y6e=class extends DK{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,zi(this,"subscriptions",new Map),zi(this,"topicMap",new q6e),zi(this,"events",new Cm.EventEmitter),zi(this,"name",ken),zi(this,"version",Men),zi(this,"pending",new Map),zi(this,"cached",[]),zi(this,"initialized",!1),zi(this,"storagePrefix",Xh),zi(this,"subscribeTimeout",(0,sn.toMiliseconds)(sn.ONE_MINUTE)),zi(this,"initialSubscribeTimeout",(0,sn.toMiliseconds)(sn.ONE_SECOND*15)),zi(this,"clientId"),zi(this,"batchSubscribeTopicsLimit",500),zi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),zi(this,"subscribe",async(r,i)=>{var a;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{let o=Ok(i),s={topic:r,relay:o,transportType:i?.transportType};(a=i?.internal)!=null&&a.skipSubscribe||this.pending.set(r,s);let c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,s),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),zi(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),zi(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),zi(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(a=>a.topic===r))})),zi(this,"on",(r,i)=>{this.events.on(r,i)}),zi(this,"once",(r,i)=>{this.events.once(r,i)}),zi(this,"off",(r,i)=>{this.events.off(r,i)}),zi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),zi(this,"start",async()=>{await this.onConnect()}),zi(this,"stop",async()=>{await this.onDisconnect()}),zi(this,"restart",async()=>{await this.restore(),await this.onRestart()}),zi(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;let r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),zi(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(U2.pulse,async()=>{await this.checkPending()}),this.events.on(df.created,async r=>{let i=df.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(df.deleted,async r=>{let i=df.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=w0(n,this.name),this.clientId=""}get context(){return hc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){let r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{let i=Ok(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);let a=Ri("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,a;let o=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return o;(!r||r?.transportType===ra.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});let s={method:Mv(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});let c=(a=r?.internal)==null?void 0:a.throwOnFailedPublish;try{if(r?.transportType===ra.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(f=>this.logger.warn(f))},(0,sn.toMiliseconds)(sn.ONE_SECOND)),o;let l=new Promise(async f=>{let d=p=>{p.topic===e&&(this.events.removeListener(df.created,d),f(p.id))};this.events.on(df.created,d);try{let p=await lp(new Promise((h,m)=>{this.relayer.request(s).catch(w=>{this.logger.warn(w,w?.message),m(w)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(df.created,d),f(p)}catch{}}),u=await lp(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(co.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;let n=e[0].relay,r={method:Mv(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await lp(new Promise(i=>{this.relayer.request(r).catch(a=>this.logger.warn(a)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(co.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;let n=e[0].relay,r={method:Mv(n.protocol).batchFetchMessages,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await lp(new Promise((a,o)=>{this.relayer.request(r).catch(s=>{this.logger.warn(s),o(s)}).then(a)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(co.connection_stalled)}return i}rpcUnsubscribe(e,n,r){let i={method:Mv(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,O6e(Fk({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Fk({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Fk({},n)),this.topicMap.set(n.topic,e),this.events.emit(df.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let n=this.subscriptions.get(e);if(!n){let{message:r}=ft("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(df.deleted,O6e(Fk({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(df.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){let i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(df.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){let{message:n}=ft("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>O6e(Fk({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await HJe((0,sn.toMiliseconds)(sn.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return nu(e+await this.getClientId())}},Unn=Object.defineProperty,JZe=Object.getOwnPropertySymbols,Fnn=Object.prototype.hasOwnProperty,Hnn=Object.prototype.propertyIsEnumerable,J6e=(t,e,n)=>e in t?Unn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QZe=(t,e)=>{for(var n in e||(e={}))Fnn.call(e,n)&&J6e(t,n,e[n]);if(JZe)for(var n of JZe(e))Hnn.call(e,n)&&J6e(t,n,e[n]);return t},Zr=(t,e,n)=>J6e(t,typeof e!="symbol"?e+"":e,n),Q6e=class extends MK{constructor(e){super(e),Zr(this,"protocol","wc"),Zr(this,"version",2),Zr(this,"core"),Zr(this,"logger"),Zr(this,"events",new Cm.EventEmitter),Zr(this,"provider"),Zr(this,"messages"),Zr(this,"subscriber"),Zr(this,"publisher"),Zr(this,"name",Ien),Zr(this,"transportExplicitlyClosed",!1),Zr(this,"initialized",!1),Zr(this,"connectionAttemptInProgress",!1),Zr(this,"relayUrl"),Zr(this,"projectId"),Zr(this,"packageName"),Zr(this,"bundleId"),Zr(this,"hasExperiencedNetworkDisruption",!1),Zr(this,"pingTimeout"),Zr(this,"heartBeatTimeout",(0,sn.toMiliseconds)(sn.THIRTY_SECONDS+sn.FIVE_SECONDS)),Zr(this,"reconnectTimeout"),Zr(this,"connectPromise"),Zr(this,"reconnectInProgress",!1),Zr(this,"requestsInFlight",[]),Zr(this,"connectTimeout",(0,sn.toMiliseconds)(sn.ONE_SECOND*15)),Zr(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");let a=n.id||kd().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");let o=`${a}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);let s=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),s}catch(o){throw this.logger.debug(`Failed to Publish Request: ${a}`),o}}),Zr(this,"resetPingTimeout",()=>{Ak()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||a.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Zr(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Zr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(co.connect)}),Zr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),Zr(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(co.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Zr(this,"registerProviderListeners",()=>{this.provider.on(Md.payload,this.onPayloadHandler),this.provider.on(Md.connect,this.onConnectHandler),this.provider.on(Md.disconnect,this.onDisconnectHandler),this.provider.on(Md.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?w0(e.logger,this.name):(0,mP.default)(bP({level:e.logger||Cen})),this.messages=new V6e(this.logger,e.core),this.subscriber=new Y6e(this,this.logger),this.publisher=new $6e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||fXe,OJe()?this.packageName=Fhe():NJe()&&(this.bundleId=Fhe()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return hc(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:ra.relay},Sq.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,a;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();let o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish,s=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"",c,l=u=>{u.topic===e&&(this.subscriber.off(df.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(df.created,l)}),new Promise(async(u,f)=>{s=await this.subscriber.subscribe(e,QZe({internal:{throwOnFailedPublish:o}},n)).catch(d=>{o&&f(d)})||s,u()})]),s}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await lp(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await b6e())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(let r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){let{topic:r}=e;if(!n.sessionExists){let i=Mo(sn.FIVE_MINUTES),a={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,a)}this.events.emit(co.message,e),await this.recordMessageEvent(e,Sq.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{let a=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Md.disconnect,a),await lp(new Promise((o,s)=>{this.provider.connect().then(o).catch(s)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Md.disconnect,a),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,s)=>{let c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Md.disconnect,c),await this.subscriber.start().then(o).catch(s).finally(()=>{this.provider.off(Md.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();let i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,(0,sn.toMiliseconds)(n*1))),n++}}startPingTimeout(){var e,n,r,i,a;if(Ak())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((a=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||a.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _q(new Tq(kJe({sdkVersion:P6e,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){let{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){let{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;let i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),__(e)){if(!e.method.endsWith(Ren))return;let n=e.params,{topic:r,message:i,publishedAt:a,attestation:o}=n.data,s={topic:r,message:i,publishedAt:a,transportType:ra.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(QZe({type:"event",event:n.id},s)),this.events.emit(n.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else yg(e)&&this.events.emit(co.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Sq.inbound),this.events.emit(co.message,e))}async acknowledgePayload(e){let n=Bv(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Md.payload,this.onPayloadHandler),this.provider.off(Md.connect,this.onConnectHandler),this.provider.off(Md.disconnect,this.onDisconnectHandler),this.provider.off(Md.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await b6e();nZe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(U2.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&rZe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(co.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,sn.toMiliseconds)(Oen)))))}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};jnn="[object RegExp]",Gnn="[object String]",Vnn="[object Number]",Knn="[object Boolean]",eXe="[object Arguments]",$nn="[object Symbol]",qnn="[object Date]",Wnn="[object Map]",Ynn="[object Set]",Jnn="[object Array]",Qnn="[object Function]",Znn="[object ArrayBuffer]",N6e="[object Object]",Xnn="[object Error]",ern="[object DataView]",trn="[object Uint8Array]",nrn="[object Uint8ClampedArray]",rrn="[object Uint16Array]",irn="[object Uint32Array]",arn="[object BigUint64Array]",orn="[object Int8Array]",srn="[object Int16Array]",crn="[object Int32Array]",lrn="[object BigInt64Array]",urn="[object Float32Array]",frn="[object Float64Array]";mrn=Object.defineProperty,nXe=Object.getOwnPropertySymbols,yrn=Object.prototype.hasOwnProperty,brn=Object.prototype.propertyIsEnumerable,Z6e=(t,e,n)=>e in t?mrn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rXe=(t,e)=>{for(var n in e||(e={}))yrn.call(e,n)&&Z6e(t,n,e[n]);if(nXe)for(var n of nXe(e))brn.call(e,n)&&Z6e(t,n,e[n]);return t},ru=(t,e,n)=>Z6e(t,typeof e!="symbol"?e+"":e,n),e6=class extends BK{constructor(e,n,r,i=Xh,a=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,ru(this,"map",new Map),ru(this,"version",Nen),ru(this,"cached",[]),ru(this,"initialized",!1),ru(this,"getKey"),ru(this,"storagePrefix",Xh),ru(this,"recentlyDeleted",[]),ru(this,"recentlyDeletedLimit",200),ru(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ko(o)?this.map.set(this.getKey(o),o):jQe(o)?this.map.set(o.id,o):GQe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ru(this,"set",async(o,s)=>{this.isInitialized(),this.map.has(o)?await this.update(o,s):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:s}),this.map.set(o,s),await this.persist())}),ru(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ru(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(s=>Object.keys(o).every(c=>hrn(s[c],o[c]))):this.values)),ru(this,"update",async(o,s)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:s});let c=rXe(rXe({},this.getData(o)),s);this.map.set(o,c),await this.persist()}),ru(this,"delete",async(o,s)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:s}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=w0(n,this.name),this.storagePrefix=i,this.getKey=a}get context(){return hc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){let{message:i}=ft("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}let{message:r}=ft("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:n}=ft("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}},grn=Object.defineProperty,wrn=(t,e,n)=>e in t?grn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ar=(t,e,n)=>wrn(t,typeof e!="symbol"?e+"":e,n),X6e=class{constructor(e,n){this.core=e,this.logger=n,Ar(this,"name",Ben),Ar(this,"version",Den),Ar(this,"events",new Cm.default),Ar(this,"pairings"),Ar(this,"initialized",!1),Ar(this,"storagePrefix",Xh),Ar(this,"ignoredPayloadTypes",[up]),Ar(this,"registeredMethods",[]),Ar(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ar(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ar(this,"create",async r=>{this.isInitialized();let i=fq(),a=await this.core.crypto.setSymKey(i),o=Mo(sn.FIVE_MINUTES),s={protocol:c5e},c={topic:a,expiry:o,relay:s,active:!1,methods:r?.methods},l=f6e({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:i,relay:s,expiryTimestamp:o,methods:r?.methods});return this.events.emit(bg.create,c),this.core.expirer.set(a,o),await this.pairings.set(a,c),await this.core.relayer.subscribe(a,{transportType:r?.transportType,internal:r?.internal}),{topic:a,uri:l}}),Ar(this,"pair",async r=>{this.isInitialized();let i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[dp.pairing_started]}});this.isValidPair(r,i);let{topic:a,symKey:o,relay:s,expiryTimestamp:c,methods:l}=u6e(r.uri);i.props.properties.topic=a,i.addTrace(dp.pairing_uri_validation_success),i.addTrace(dp.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(a)){if(u=this.pairings.get(a),i.addTrace(dp.existing_pairing),u.active)throw i.setError(Zh.active_pairing_already_exists),new Error(`Pairing already exists: ${a}. Please try again with a new connection URI.`);i.addTrace(dp.pairing_not_expired)}let f=c||Mo(sn.FIVE_MINUTES),d={topic:a,relay:s,expiry:f,active:!1,methods:l};this.core.expirer.set(a,f),await this.pairings.set(a,d),i.addTrace(dp.store_new_pairing),r.activatePairing&&await this.activate({topic:a}),this.events.emit(bg.create,d),i.addTrace(dp.emit_inactive_pairing),this.core.crypto.keychain.has(a)||await this.core.crypto.setSymKey(o,a),i.addTrace(dp.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Zh.no_internet_connection)}try{await this.core.relayer.subscribe(a,{relay:s})}catch(p){throw i.setError(Zh.subscribe_pairing_topic_failure),p}return i.addTrace(dp.subscribe_pairing_topic_success),d}),Ar(this,"activate",async({topic:r})=>{this.isInitialized();let i=Mo(sn.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Ar(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:i}=r;if(this.pairings.keys.includes(i)){let a=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:s,reject:c}=_m();this.events.once(Qr("pairing_ping",a),({error:l})=>{l?c(l):s()}),await o()}}),Ar(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Ar(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Ar(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ar(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);let{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ri("USER_DISCONNECTED")),await this.deletePairing(i))}),Ar(this,"formatUriFromPairing",r=>{this.isInitialized();let{topic:i,relay:a,expiry:o,methods:s}=r,c=this.core.crypto.keychain.get(i);return f6e({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:a,expiryTimestamp:o,methods:s})}),Ar(this,"sendRequest",async(r,i,a)=>{let o=cf(i,a),s=await this.core.crypto.encode(r,o),c=Uk[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,s,c),o.id}),Ar(this,"sendResult",async(r,i,a)=>{let o=Bv(r,a),s=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=Uk[c].res;await this.core.relayer.publish(i,s,l),await this.core.history.resolve(o)}),Ar(this,"sendError",async(r,i,a)=>{let o=Dv(r,a),s=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=Uk[c]?Uk[c].res:Uk.unregistered_method.res;await this.core.relayer.publish(i,s,l),await this.core.history.resolve(o)}),Ar(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Ri("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Ar(this,"cleanup",async()=>{let r=this.pairings.getAll().filter(i=>Jh(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Ar(this,"onRelayEventRequest",async r=>{let{topic:i,payload:a}=r;switch(a.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,a);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,a);default:return await this.onUnknownRpcMethodRequest(i,a)}}),Ar(this,"onRelayEventResponse",async r=>{let{topic:i,payload:a}=r,o=(await this.core.history.get(i,a.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,a);default:return this.onUnknownRpcMethodResponse(o)}}),Ar(this,"onPairingPingRequest",async(r,i)=>{let{id:a}=i;try{this.isValidPing({topic:r}),await this.sendResult(a,r,!0),this.events.emit(bg.ping,{id:a,topic:r})}catch(o){await this.sendError(a,r,o),this.logger.error(o)}}),Ar(this,"onPairingPingResponse",(r,i)=>{let{id:a}=i;setTimeout(()=>{lf(i)?this.events.emit(Qr("pairing_ping",a),{}):Tc(i)&&this.events.emit(Qr("pairing_ping",a),{error:i.error})},500)}),Ar(this,"onPairingDeleteRequest",async(r,i)=>{let{id:a}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(bg.delete,{id:a,topic:r})}catch(o){await this.sendError(a,r,o),this.logger.error(o)}}),Ar(this,"onUnknownRpcMethodRequest",async(r,i)=>{let{id:a,method:o}=i;try{if(this.registeredMethods.includes(o))return;let s=Ri("WC_METHOD_UNSUPPORTED",o);await this.sendError(a,r,s),this.logger.error(s)}catch(s){await this.sendError(a,r,s),this.logger.error(s)}}),Ar(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Ri("WC_METHOD_UNSUPPORTED",r))}),Ar(this,"isValidPair",(r,i)=>{var a;if(!Ac(r)){let{message:s}=ft("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Zh.malformed_pairing_uri),new Error(s)}if(!zQe(r.uri)){let{message:s}=ft("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Zh.malformed_pairing_uri),new Error(s)}let o=u6e(r?.uri);if(!((a=o?.relay)!=null&&a.protocol)){let{message:s}=ft("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Zh.malformed_pairing_uri),new Error(s)}if(!(o!=null&&o.symKey)){let{message:s}=ft("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Zh.malformed_pairing_uri),new Error(s)}if(o!=null&&o.expiryTimestamp&&(0,sn.toMiliseconds)(o?.expiryTimestamp)<Date.now()){i.setError(Zh.pairing_expired);let{message:s}=ft("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(s)}}),Ar(this,"isValidPing",async r=>{if(!Ac(r)){let{message:a}=ft("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(a)}let{topic:i}=r;await this.isValidPairingTopic(i)}),Ar(this,"isValidDisconnect",async r=>{if(!Ac(r)){let{message:a}=ft("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(a)}let{topic:i}=r;await this.isValidPairingTopic(i)}),Ar(this,"isValidPairingTopic",async r=>{if(!so(r,!1)){let{message:i}=ft("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){let{message:i}=ft("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Jh(this.pairings.get(r).expiry)){await this.deletePairing(r);let{message:i}=ft("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=w0(n,this.name),this.pairings=new e6(this.core,this.logger,this.name,this.storagePrefix)}get context(){return hc(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(co.message,async e=>{let{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==ra.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let a=await this.core.crypto.decode(n,r);__(a)?(this.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a})):yg(a)&&(await this.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a}),this.core.history.delete(n,a.id)),await this.core.relayer.messages.ack(n,r)}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(pf.expired,async e=>{let{topic:n}=rq(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(bg.expire,{topic:n}))})}},vrn=Object.defineProperty,Ern=(t,e,n)=>e in t?vrn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T0=(t,e,n)=>Ern(t,typeof e!="symbol"?e+"":e,n),e5e=class extends NK{constructor(e,n){super(e,n),this.core=e,this.logger=n,T0(this,"records",new Map),T0(this,"events",new Cm.EventEmitter),T0(this,"name",Len),T0(this,"version",Uen),T0(this,"cached",[]),T0(this,"initialized",!1),T0(this,"storagePrefix",Xh),T0(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),T0(this,"set",(r,i,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:a}),this.records.has(i.id))return;let o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:a,expiry:Mo(sn.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(fp.created,o)}),T0(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;let i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Tc(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(fp.updated,i))}),T0(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),T0(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(a=>{if(a.topic===r){if(typeof i<"u"&&a.id!==i)return;this.records.delete(a.id),this.events.emit(fp.deleted,a)}}),this.persist()}),T0(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),T0(this,"on",(r,i)=>{this.events.on(r,i)}),T0(this,"once",(r,i)=>{this.events.once(r,i)}),T0(this,"off",(r,i)=>{this.events.off(r,i)}),T0(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=w0(n,this.name)}get context(){return hc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;let r={topic:n.topic,request:cf(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let n=this.records.get(e);if(!n){let{message:r}=ft("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(fp.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:n}=ft("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(fp.created,e=>{let n=fp.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(fp.updated,e=>{let n=fp.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(fp.deleted,e=>{let n=fp.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(U2.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{(0,sn.toMiliseconds)(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(fp.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}},xrn=Object.defineProperty,Arn=(t,e,n)=>e in t?xrn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sc=(t,e,n)=>Arn(t,typeof e!="symbol"?e+"":e,n),t5e=class extends LK{constructor(e,n){super(e,n),this.core=e,this.logger=n,Sc(this,"expirations",new Map),Sc(this,"events",new Cm.EventEmitter),Sc(this,"name",Fen),Sc(this,"version",Hen),Sc(this,"cached",[]),Sc(this,"initialized",!1),Sc(this,"storagePrefix",Xh),Sc(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Sc(this,"has",r=>{try{let i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Sc(this,"set",(r,i)=>{this.isInitialized();let a=this.formatTarget(r),o={target:a,expiry:i};this.expirations.set(a,o),this.checkExpiry(a,o),this.events.emit(pf.created,{target:a,expiration:o})}),Sc(this,"get",r=>{this.isInitialized();let i=this.formatTarget(r);return this.getExpiration(i)}),Sc(this,"del",r=>{if(this.isInitialized(),this.has(r)){let i=this.formatTarget(r),a=this.getExpiration(i);this.expirations.delete(i),this.events.emit(pf.deleted,{target:i,expiration:a})}}),Sc(this,"on",(r,i)=>{this.events.on(r,i)}),Sc(this,"once",(r,i)=>{this.events.once(r,i)}),Sc(this,"off",(r,i)=>{this.events.off(r,i)}),Sc(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=w0(n,this.name)}get context(){return hc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return BJe(e);if(typeof e=="number")return DJe(e);let{message:n}=ft("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(pf.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:n}=ft("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let n=this.expirations.get(e);if(!n){let{message:r}=ft("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){let{expiry:r}=n;(0,sn.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(pf.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(U2.pulse,()=>this.checkExpirations()),this.events.on(pf.created,e=>{let n=pf.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(pf.expired,e=>{let n=pf.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(pf.deleted,e=>{let n=pf.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}},_rn=Object.defineProperty,Trn=(t,e,n)=>e in t?_rn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vo=(t,e,n)=>Trn(t,typeof e!="symbol"?e+"":e,n),n5e=class extends UK{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Vo(this,"name",zen),Vo(this,"abortController"),Vo(this,"isDevEnv"),Vo(this,"verifyUrlV3",Gen),Vo(this,"storagePrefix",Xh),Vo(this,"version",uXe),Vo(this,"publicKey"),Vo(this,"fetchPromise"),Vo(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,sn.toMiliseconds)((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Vo(this,"register",async i=>{if(!kv()||this.isDevEnv)return;let a=window.location.origin,{id:o,decryptedId:s}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${o}&decryptedId=${s}`;try{let l=(0,cXe.getDocument)(),u=this.startAbortTimer(sn.ONE_SECOND*5),f=await new Promise((d,p)=>{let h=()=>{window.removeEventListener("message",w),l.body.removeChild(m),p("attestation aborted")};this.abortController.signal.addEventListener("abort",h);let m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",h,{signal:this.abortController.signal});let w=g=>{if(g.data&&typeof g.data=="string")try{let x=JSON.parse(g.data);if(x.type==="verify_attestation"){if(vP(x.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",h),window.removeEventListener("message",w),d(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};l.body.appendChild(m),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),Vo(this,"resolve",async i=>{if(this.isDevEnv)return"";let{attestationId:a,hash:o,encryptedId:s}=i;if(a===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(a){if(vP(a).payload.id!==s)return;let l=await this.isValidJwtAttestation(a);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;let c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),Vo(this,"fetchAttestation",async(i,a)=>{this.logger.debug(`resolving attestation: ${i} from url: ${a}`);let o=this.startAbortTimer(sn.ONE_SECOND*5),s=await fetch(`${a}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),s.status===200?await s.json():void 0}),Vo(this,"getVerifyUrl",i=>{let a=i||C_;return Ven.includes(a)||(this.logger.info(`verify url: ${a}, not included in trusted list, assigning default: ${C_}`),a=C_),a}),Vo(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let i=this.startAbortTimer(sn.FIVE_SECONDS),a=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await a.json()}catch(i){this.logger.warn(i)}}),Vo(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Vo(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Vo(this,"isValidJwtAttestation",async i=>{let a=await this.getPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(s){this.logger.error(s),this.logger.warn("error validating attestation")}let o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(s){this.logger.error(s),this.logger.warn("error validating attestation")}}),Vo(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Vo(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async a=>{let o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),a(o))});let i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Vo(this,"validateAttestation",(i,a)=>{let o=LQe(i,a.publicKey),s={hasExpired:(0,sn.toMiliseconds)(o.exp)<Date.now(),payload:o};if(s.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:s.payload.origin,isScam:s.payload.isScam,isVerified:s.payload.isVerified}}),this.logger=w0(n,this.name),this.abortController=new AbortController,this.isDevEnv=Tk(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return hc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,sn.toMiliseconds)(e))}},Srn=Object.defineProperty,Crn=(t,e,n)=>e in t?Srn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iXe=(t,e,n)=>Crn(t,typeof e!="symbol"?e+"":e,n),r5e=class extends FK{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,iXe(this,"context",Ken),iXe(this,"registerDeviceToken",async r=>{let{clientId:i,token:a,notificationType:o,enableEncrypted:s=!1}=r,c=`${$en}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:a,always_raw:s})})}),this.logger=w0(n,this.context)}},Irn=Object.defineProperty,aXe=Object.getOwnPropertySymbols,Rrn=Object.prototype.hasOwnProperty,Orn=Object.prototype.propertyIsEnumerable,i5e=(t,e,n)=>e in t?Irn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hk=(t,e)=>{for(var n in e||(e={}))Rrn.call(e,n)&&i5e(t,n,e[n]);if(aXe)for(var n of aXe(e))Orn.call(e,n)&&i5e(t,n,e[n]);return t},qs=(t,e,n)=>i5e(t,typeof e!="symbol"?e+"":e,n),a5e=class extends HK{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,qs(this,"context",Wen),qs(this,"storagePrefix",Xh),qs(this,"storageVersion",qen),qs(this,"events",new Map),qs(this,"shouldPersist",!1),qs(this,"init",async()=>{if(!Tk())try{let i={eventId:Ghe(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:zhe(this.core.relayer.protocol,this.core.relayer.version,P6e)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),qs(this,"createEvent",i=>{let{event:a="ERROR",type:o="",properties:{topic:s,trace:c}}=i,l=Ghe(),u=this.core.projectId||"",f=Date.now(),d=Hk({eventId:l,timestamp:f,props:{event:a,type:o,properties:{topic:s,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),qs(this,"getEvent",i=>{let{eventId:a,topic:o}=i;if(a)return this.events.get(a);let s=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(s)return Hk(Hk({},s),this.setMethods(s.eventId))}),qs(this,"deleteEvent",i=>{let{eventId:a}=i;this.events.delete(a),this.shouldPersist=!0}),qs(this,"setEventListeners",()=>{this.core.heartbeat.on(U2.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{(0,sn.fromMiliseconds)(Date.now())-(0,sn.fromMiliseconds)(i.timestamp)>Yen&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),qs(this,"setMethods",i=>({addTrace:a=>this.addTrace(i,a),setError:a=>this.setError(i,a)})),qs(this,"addTrace",(i,a)=>{let o=this.events.get(i);o&&(o.props.properties.trace.push(a),this.events.set(i,o),this.shouldPersist=!0)}),qs(this,"setError",(i,a)=>{let o=this.events.get(i);o&&(o.props.type=a,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),qs(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),qs(this,"restore",async()=>{try{let i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(a=>{this.events.set(a.eventId,Hk(Hk({},a),this.setMethods(a.eventId)))})}catch(i){this.logger.warn(i)}}),qs(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;let i=[];for(let[a,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(let a of i)this.events.delete(a.eventId),this.shouldPersist=!0}catch(a){this.logger.warn(a)}}),qs(this,"sendEvent",async i=>{let a=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Jen}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${P6e}${a}`,{method:"POST",body:JSON.stringify(i)})}),qs(this,"getAppDomain",()=>Hhe().url),this.logger=w0(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}},Nrn=Object.defineProperty,oXe=Object.getOwnPropertySymbols,Prn=Object.prototype.hasOwnProperty,krn=Object.prototype.propertyIsEnumerable,o5e=(t,e,n)=>e in t?Nrn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sXe=(t,e)=>{for(var n in e||(e={}))Prn.call(e,n)&&o5e(t,n,e[n]);if(oXe)for(var n of oXe(e))krn.call(e,n)&&o5e(t,n,e[n]);return t},na=(t,e,n)=>o5e(t,typeof e!="symbol"?e+"":e,n),s5e=class t extends OK{constructor(e){var n;super(e),na(this,"protocol",lXe),na(this,"version",uXe),na(this,"name",Cq),na(this,"relayUrl"),na(this,"projectId"),na(this,"customStoragePrefix"),na(this,"events",new Cm.EventEmitter),na(this,"logger"),na(this,"heartbeat"),na(this,"relayer"),na(this,"crypto"),na(this,"storage"),na(this,"history"),na(this,"expirer"),na(this,"pairing"),na(this,"verify"),na(this,"echoClient"),na(this,"linkModeSupportedApps"),na(this,"eventClient"),na(this,"initialized",!1),na(this,"logChunkController"),na(this,"on",(s,c)=>this.events.on(s,c)),na(this,"once",(s,c)=>this.events.once(s,c)),na(this,"off",(s,c)=>this.events.off(s,c)),na(this,"removeListener",(s,c)=>this.events.removeListener(s,c)),na(this,"dispatchEnvelope",({topic:s,message:c,sessionExists:l})=>{if(!s||!c)return;let u={topic:s,message:c,publishedAt:Date.now(),transportType:ra.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});let r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(s){console.warn("Failed to copy global core",s)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||fXe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let i=bP({level:typeof e?.logger=="string"&&e.logger?e.logger:ben.logger,name:Cq}),{logger:a,chunkLoggerController:o}=NKe({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var s,c;(s=this.logChunkController)!=null&&s.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=w0(a,this.name),this.heartbeat=new vK,this.crypto=new j6e(this,this.logger,e?.keychain),this.history=new e5e(this,this.logger),this.expirer=new t5e(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new AK(sXe(sXe({},gen),e?.storageOptions)),this.relayer=new Q6e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new X6e(this,this.logger),this.verify=new n5e(this,this.logger,this.storage),this.echoClient=new r5e(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new a5e(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let n=new t(e);await n.initialize();let r=await n.crypto.getClientId();return await n.storage.setItem(Pen,r),n}get context(){return hc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(FZe,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(FZe)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}},_Xe=s5e});var Nq,Er,RXe,OXe,NXe,E5e,l5e,SXe,Mrn,CXe,Brn,O_,Drn,C0,u5e,t6,Lrn,Urn,Frn,Hrn,zrn,jrn,Grn,Vrn,Pq,Rq,Krn,$rn,qrn,IXe,Wrn,Yrn,d5e,gi,Cc,$e,p5e,h5e,m5e,y5e,b5e,g5e,w5e,Jrn,Qrn,f5e,v5e,Zrn,Xrn,_r,Oq,PXe=B(()=>{TXe();s1e();c1e();A_();Nq=fe(Ps()),Er=fe(HA());Lk();RXe="wc",OXe=2,NXe="client",E5e=`${RXe}@${OXe}:${NXe}:`,l5e={name:NXe,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},SXe="WALLETCONNECT_DEEPLINK_CHOICE",Mrn="proposal",CXe="Proposal expired",Brn="session",O_=Er.SEVEN_DAYS,Drn="engine",C0={wc_sessionPropose:{req:{ttl:Er.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Er.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Er.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Er.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Er.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Er.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Er.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Er.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Er.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Er.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Er.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Er.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Er.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Er.FIVE_MINUTES,prompt:!1,tag:1119}}},u5e={min:Er.FIVE_MINUTES,max:Er.SEVEN_DAYS},t6={idle:"IDLE",active:"ACTIVE"},Lrn={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Urn="request",Frn=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Hrn="wc",zrn="auth",jrn="authKeys",Grn="pairingTopics",Vrn="requests",Pq=`${Hrn}@${1.5}:${zrn}:`,Rq=`${Pq}:PUB_KEY`,Krn=Object.defineProperty,$rn=Object.defineProperties,qrn=Object.getOwnPropertyDescriptors,IXe=Object.getOwnPropertySymbols,Wrn=Object.prototype.hasOwnProperty,Yrn=Object.prototype.propertyIsEnumerable,d5e=(t,e,n)=>e in t?Krn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gi=(t,e)=>{for(var n in e||(e={}))Wrn.call(e,n)&&d5e(t,n,e[n]);if(IXe)for(var n of IXe(e))Yrn.call(e,n)&&d5e(t,n,e[n]);return t},Cc=(t,e)=>$rn(t,qrn(e)),$e=(t,e,n)=>d5e(t,typeof e!="symbol"?e+"":e,n),p5e=class extends jK{constructor(e){super(e),$e(this,"name",Drn),$e(this,"events",new Nq.default),$e(this,"initialized",!1),$e(this,"requestQueue",{state:t6.idle,queue:[]}),$e(this,"sessionRequestQueue",{state:t6.idle,queue:[]}),$e(this,"emittedSessionRequests",new q$({limit:500})),$e(this,"requestQueueDelay",Er.ONE_SECOND),$e(this,"expectedPairingMethodMap",new Map),$e(this,"recentlyDeletedMap",new Map),$e(this,"recentlyDeletedLimit",200),$e(this,"relayMessageCache",[]),$e(this,"pendingSessions",new Map),$e(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(C0)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Er.toMiliseconds)(this.requestQueueDelay)))}),$e(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let r=Cc(gi({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=FQe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};let{pairingTopic:i,requiredNamespaces:a,optionalNamespaces:o,sessionProperties:s,scopedProperties:c,relays:l}=r,u=i,f,d=!1;try{if(u){let F=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=F.active}}catch(F){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),F}if(!u||!d){let{topic:F,uri:H}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=F,f=H}if(!u){let{message:F}=ft("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(F)}let p=await this.client.core.crypto.generateKeyPair(),h=C0.wc_sessionPropose.req.ttl||Er.FIVE_MINUTES,m=Mo(h),w=Cc(gi(gi({requiredNamespaces:a,optionalNamespaces:o,relays:l??[{protocol:c5e}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},s&&{sessionProperties:s}),c&&{scopedProperties:c}),{id:Pd()}),g=Qr("session_connect",w.id),{reject:x,resolve:C,done:P}=_m(h,CXe),D=({id:F})=>{F===w.id&&(this.client.events.off("proposal_expire",D),this.pendingSessions.delete(w.id),this.events.emit(g,{error:{message:CXe,code:0}}))};return this.client.events.on("proposal_expire",D),this.events.once(g,({error:F,session:H})=>{this.client.events.off("proposal_expire",D),F?x(F):H&&C(H)}),await this.sendProposeSession({proposal:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:w.id}}}),await this.setProposal(w.id,w),{uri:f,approval:P}}),$e(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),$e(this,"approve",async n=>{var r,i,a;let o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Im.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(M){throw o.setError(I_.no_internet_connection),M}try{await this.isValidProposalId(n?.id)}catch(M){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(I_.proposal_not_found),M}try{await this.isValidApprove(n)}catch(M){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(I_.session_approve_namespace_validation_failure),M}let{id:s,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n,p=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:o.eventId});let{pairingTopic:h,proposer:m,requiredNamespaces:w,optionalNamespaces:g}=p,x=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:h});x||(x=(a=this.client.core.eventClient)==null?void 0:a.createEvent({type:Im.session_approve_started,properties:{topic:h,trace:[Im.session_approve_started,Im.session_namespaces_validation_success]}}));let C=await this.client.core.crypto.generateKeyPair(),P=m.publicKey,D=await this.client.core.crypto.generateSharedKey(C,P),F=gi(gi(gi({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:C,metadata:this.client.metadata},expiry:Mo(O_)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),H=ra.relay;x.addTrace(Im.subscribing_session_topic);try{await this.client.core.relayer.subscribe(D,{transportType:H,internal:{skipSubscribe:!0}})}catch(M){throw x.setError(I_.subscribe_session_topic_failure),M}x.addTrace(Im.subscribe_session_topic_success);let O=Cc(gi({},F),{topic:D,requiredNamespaces:w,optionalNamespaces:g,pairingTopic:h,acknowledged:!1,self:F.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:C,transportType:ra.relay});await this.client.session.set(D,O),x.addTrace(Im.store_session);try{await this.sendApproveSession({sessionTopic:D,proposal:p,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:C},sessionSettleRequest:F,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),x.addTrace(Im.session_approve_publish_success)}catch(M){throw this.client.logger.error(M),this.client.session.delete(D,Ri("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(D),M}return this.client.core.eventClient.deleteEvent({eventId:x.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:m.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(D,Mo(O_)),{topic:D,acknowledged:()=>Promise.resolve(this.client.session.get(D))}}),$e(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}let{id:r,reason:i}=n,a;try{a=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}a&&await this.sendError({id:r,topic:a,error:i,rpcOpts:C0.wc_sessionPropose.reject}),await this.deleteProposal(r)}),$e(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}let{topic:r,namespaces:i}=n,{done:a,resolve:o,reject:s}=_m(),c=Pd(),l=kd().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Qr("session_update",c),({error:f})=>{f?s(f):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(r,{namespaces:u}),s(f)}),{acknowledged:a}}),$e(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}let{topic:r}=n,i=Pd(),{done:a,resolve:o,reject:s}=_m();return this.events.once(Qr("session_extend",i),({error:c})=>{c?s(c):o()}),await this.setExpiry(r,Mo(O_)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{s(c)}),{acknowledged:a}}),$e(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}let{chainId:r,request:i,topic:a,expiry:o=C0.wc_sessionRequest.req.ttl}=n,s=this.client.session.get(a);s?.transportType===ra.relay&&await this.confirmOnlineStateOrThrow();let c=Pd(),l=kd().toString(),{done:u,resolve:f,reject:d}=_m(o,"Request expired. Please try again.");this.events.once(Qr("session_request",c),({error:w,result:g})=>{w?d(w):f(g)});let p="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:a,method:p,params:{request:Cc(gi({},i),{expiryTimestamp:Mo(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:h}).catch(w=>d(w)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:r,id:c}),await u();let m={request:Cc(gi({},i),{expiryTimestamp:Mo(o)}),chainId:r};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:a,method:p,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(g=>d(g)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:r,id:c}),w()}),new Promise(async w=>{var g;if(!((g=s.sessionConfig)!=null&&g.disableDeepLink)){let x=await UJe(this.client.core.storage,SXe);await LJe({id:c,topic:a,wcDeepLink:x})}w()}),u()]).then(w=>w[2])}),$e(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);let{topic:r,response:i}=n,{id:a}=i,o=this.client.session.get(r);o.transportType===ra.relay&&await this.confirmOnlineStateOrThrow();let s=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);lf(i)?await this.sendResult({id:a,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:s}):Tc(i)&&await this.sendError({id:a,topic:r,error:i.error,appLink:s}),this.cleanupAfterResponse(n)}),$e(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}let{topic:r}=n;if(this.client.session.keys.includes(r)){let i=Pd(),a=kd().toString(),{done:o,resolve:s,reject:c}=_m();this.events.once(Qr("session_ping",i),({error:l})=>{l?c(l):s()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:a}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),$e(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);let{topic:r,event:i,chainId:a}=n,o=kd().toString(),s=Pd();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:a},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:s})}),$e(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);let{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Ri("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{let{message:i}=ft("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),$e(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>HQe(r,n)))),$e(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),$e(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);let a=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=a?ra.link_mode:ra.relay;o===ra.relay&&await this.confirmOnlineStateOrThrow();let{chains:s,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:p,nbf:h,methods:m=[],expiry:w}=n,g=[...n.resources||[]],{topic:x,uri:C}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:C}});let P=await this.client.core.crypto.generateKeyPair(),D=w_(P);if(await Promise.all([this.client.auth.authKeys.set(Rq,{responseTopic:D,publicKey:P}),this.client.auth.pairingTopics.set(D,{topic:D,pairingTopic:x})]),await this.client.core.relayer.subscribe(D,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),m.length>0){let{namespace:E}=xk(s[0]),k=nQe(E,"request",m);Ik(g)&&(k=rQe(k,g.pop())),g.push(k)}let F=w&&w>C0.wc_sessionAuthenticate.req.ttl?w:C0.wc_sessionAuthenticate.req.ttl,H={authPayload:{type:d??"caip122",chains:s,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:p,nbf:h,resources:g},requester:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:Mo(F)},O={eip155:{chains:s,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},M={requiredNamespaces:{},optionalNamespaces:O,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:Mo(C0.wc_sessionPropose.req.ttl),id:Pd()},{done:N,resolve:v,reject:I}=_m(F,"Request expired"),S=Pd(),y=Qr("session_connect",M.id),b=Qr("session_request",S),_=async({error:E,session:k})=>{this.events.off(b,A),E?I(E):k&&v({session:k})},A=async E=>{var k,L,R;if(await this.deletePendingAuthRequest(S,{message:"fulfilled",code:0}),E.error){let J=Ri("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return E.error.code===J.code?void 0:(this.events.off(y,_),I(E.error.message))}await this.deleteProposal(M.id),this.events.off(y,_);let{cacaos:U,responder:j}=E.result,z=[],V=[];for(let J of U){await Xhe({cacao:J,projectId:this.client.core.projectId})||(this.client.logger.error(J,"Signature verification failed"),I(Ri("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:X}=J,te=Ik(X.resources),ne=[aq(X.iss)],ue=Ck(X.iss);if(te){let ce=t6e(te),oe=n6e(te);z.push(...ce),ne.push(...oe)}for(let ce of ne)V.push(`${ce}:${ue}`)}let $=await this.client.core.crypto.generateSharedKey(P,j.publicKey),W;z.length>0&&(W={topic:$,acknowledged:!0,self:{publicKey:P,metadata:this.client.metadata},peer:j,controller:j.publicKey,expiry:Mo(O_),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:d6e([...new Set(z)],[...new Set(V)]),transportType:o},await this.client.core.relayer.subscribe($,{transportType:o}),await this.client.session.set($,W),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:j.metadata}),W=this.client.session.get($)),(k=this.client.metadata.redirect)!=null&&k.linkMode&&(L=j.metadata.redirect)!=null&&L.linkMode&&(R=j.metadata.redirect)!=null&&R.universal&&r&&(this.client.core.addLinkModeSupportedApp(j.metadata.redirect.universal),this.client.session.update($,{transportType:ra.link_mode})),v({auths:U,session:W})};this.events.once(y,_),this.events.once(b,A);let T;try{if(a){let E=cf("wc_sessionAuthenticate",H,S);this.client.core.history.set(x,E);let k=await this.client.core.crypto.encode("",E,{type:g_,encoding:Tm});T=Nk(r,x,k)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:H,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:S}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:M,expiry:C0.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M.id})])}catch(E){throw this.events.off(y,_),this.events.off(b,A),E}return await this.setProposal(M.id,M),await this.setAuthRequest(S,{request:Cc(gi({},H),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:T??C,response:N}}),$e(this,"approveSessionAuthenticate",async n=>{let{id:r,auths:i}=n,a=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[gg.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw a.setError(R_.no_internet_connection),w}let o=this.getPendingAuthRequest(r);if(!o)throw a.setError(R_.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);let s=o.transportType||ra.relay;s===ra.relay&&await this.confirmOnlineStateOrThrow();let c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=w_(c),f={type:up,receiverPublicKey:c,senderPublicKey:l},d=[],p=[];for(let w of i){if(!await Xhe({cacao:w,projectId:this.client.core.projectId})){a.setError(R_.invalid_cacao);let D=Ri("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:D,encodeOpts:f}),new Error(D.message)}a.addTrace(gg.cacaos_verified);let{p:g}=w,x=Ik(g.resources),C=[aq(g.iss)],P=Ck(g.iss);if(x){let D=t6e(x),F=n6e(x);d.push(...D),C.push(...F)}for(let D of C)p.push(`${D}:${P}`)}let h=await this.client.core.crypto.generateSharedKey(l,c);a.addTrace(gg.create_authenticated_session_topic);let m;if(d?.length>0){m={topic:h,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Mo(O_),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:d6e([...new Set(d)],[...new Set(p)]),transportType:s},a.addTrace(gg.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(h,{transportType:s})}catch(w){throw a.setError(R_.subscribe_authenticated_session_topic_failure),w}a.addTrace(gg.subscribe_authenticated_session_topic_success),await this.client.session.set(h,m),a.addTrace(gg.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}a.addTrace(gg.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,s)})}catch(w){throw a.setError(R_.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:a.eventId}),{session:m}}),$e(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();let{id:r,reason:i}=n,a=this.getPendingAuthRequest(r);if(!a)throw new Error(`Could not find pending auth request with id ${r}`);a.transportType===ra.relay&&await this.confirmOnlineStateOrThrow();let o=a.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),c=w_(o),l={type:up,receiverPublicKey:o,senderPublicKey:s};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:C0.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(a.requester.metadata,a.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),$e(this,"formatAuthMessage",n=>{this.isInitialized();let{request:r,iss:i}=n;return e6e(r,i)}),$e(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{let n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),$e(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{let r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(a=>{var o,s;return((o=a.peerMetadata)==null?void 0:o.url)&&((s=a.peerMetadata)==null?void 0:s.url)===n.peer.metadata.url&&a.topic&&a.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),$e(this,"deleteSession",async n=>{var r;let{topic:i,expirerHasDeleted:a=!1,emitEvent:o=!0,id:s=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ri("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),a||this.client.core.expirer.del(i),this.client.core.storage.removeItem(SXe).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Ri("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=t6.idle),o&&this.client.events.emit("session_delete",{id:s,topic:i})}),$e(this,"deleteProposal",async(n,r)=>{if(r)try{let i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(I_.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Ri("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),$e(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==n),i&&(this.sessionRequestQueue.state=t6.idle,this.client.events.emit("session_request_expire",{id:n}))}),$e(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),$e(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),$e(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Mo(C0.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),$e(this,"setAuthRequest",async(n,r)=>{let{request:i,pairingTopic:a,transportType:o=ra.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:a,verifyContext:i.verifyContext,transportType:o})}),$e(this,"setPendingSessionRequest",async n=>{let{id:r,topic:i,params:a,verifyContext:o}=n,s=a.request.expiryTimestamp||Mo(C0.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,s),await this.client.pendingRequest.set(r,{id:r,topic:i,params:a,verifyContext:o})}),$e(this,"sendRequest",async n=>{let{topic:r,method:i,params:a,expiry:o,relayRpcId:s,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=n,p=cf(i,a,c),h,m=!!u;try{let x=m?Tm:xc;h=await this.client.core.crypto.encode(r,p,{encoding:x})}catch(x){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),x}let w;if(Frn.includes(i)){let x=nu(JSON.stringify(p)),C=nu(h);w=await this.client.core.verify.register({id:C,decryptedId:x})}let g=gi(gi({},C0[i].req),d);if(g.attestation=w,o&&(g.ttl=o),s&&(g.id=s),this.client.core.history.set(r,p),m){let x=Nk(u,r,h);await global.Linking.openURL(x,this.client.name)}else g.tvf=Cc(gi({},f),{correlationId:p.id}),l?(g.internal=Cc(gi({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,h,g)):this.client.core.relayer.publish(r,h,g).catch(x=>this.client.logger.error(x));return p.id}),$e(this,"sendProposeSession",async n=>{let{proposal:r,publishOpts:i}=n,a=cf("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,a);let o=await this.client.core.crypto.encode(r.pairingTopic,a,{encoding:xc}),s=nu(JSON.stringify(a)),c=nu(o),l=await this.client.core.verify.register({id:c,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:Cc(gi({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),$e(this,"sendApproveSession",async n=>{let{sessionTopic:r,pairingProposalResponse:i,proposal:a,sessionSettleRequest:o,publishOpts:s}=n,c=Bv(a.id,i),l=await this.client.core.crypto.encode(a.pairingTopic,c,{encoding:xc}),u=cf("wc_sessionSettle",o,s?.id),f=await this.client.core.crypto.encode(r,u,{encoding:xc});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:a.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:Cc(gi({},s),{publishMethod:"wc_approveSession"})})}),$e(this,"sendResult",async n=>{let{id:r,topic:i,result:a,throwOnFailedPublish:o,encodeOpts:s,appLink:c}=n,l=Bv(r,a),u,f=c&&typeof(global==null?void 0:global.Linking)<"u";try{let h=f?Tm:xc;u=await this.client.core.crypto.encode(i,l,Cc(gi({},s||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),h}let d,p;try{d=await this.client.core.history.get(i,r);let h=d.request;try{p=this.getTVFParams(r,h.params,a)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m?.message}`)}}catch(h){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),h}if(f){let h=Nk(c,i,u);await global.Linking.openURL(h,this.client.name)}else{let h=d.request.method,m=C0[h].res;m.tvf=Cc(gi({},p),{correlationId:r}),o?(m.internal=Cc(gi({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),$e(this,"sendError",async n=>{let{id:r,topic:i,error:a,encodeOpts:o,rpcOpts:s,appLink:c}=n,l=Dv(r,a),u,f=c&&typeof(global==null?void 0:global.Linking)<"u";try{let p=f?Tm:xc;u=await this.client.core.crypto.encode(i,l,Cc(gi({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let d;try{d=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(f){let p=Nk(c,i,u);await global.Linking.openURL(p,this.client.name)}else{let p=d.request.method,h=s||C0[p].res;this.client.core.relayer.publish(i,u,h)}await this.client.core.history.resolve(l)}),$e(this,"cleanup",async()=>{let n=[],r=[];this.client.session.getAll().forEach(i=>{let a=!1;Jh(i.expiry)&&(a=!0),this.client.core.crypto.keychain.has(i.topic)||(a=!0),a&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Jh(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),$e(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),$e(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),$e(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===t6.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=t6.active;let n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=t6.idle}),$e(this,"processRequest",async n=>{let{topic:r,payload:i,attestation:a,transportType:o,encryptedId:s}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:a,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:a,encryptedId:s,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:a,encryptedId:s,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),$e(this,"onRelayEventResponse",async n=>{let{topic:r,payload:i,transportType:a}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,a);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),$e(this,"onRelayEventUnknownPayload",n=>{let{topic:r}=n,{message:i}=ft("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),$e(this,"shouldIgnorePairingRequest",n=>{let{topic:r,requestMethod:i}=n,a=this.expectedPairingMethodMap.get(r);return!a||a.includes(i)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),$e(this,"onSessionProposeRequest",async n=>{let{topic:r,payload:i,attestation:a,encryptedId:o}=n,{params:s,id:c}=i;try{let l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Zh.proposal_listener_not_found)),this.isValidConnect(gi({},i.params));let u=s.expiryTimestamp||Mo(C0.wc_sessionPropose.req.ttl),f=gi({id:c,pairingTopic:r,expiryTimestamp:u,attestation:a,encryptedId:o},s);await this.setProposal(c,f);let d=await this.getVerifyContext({attestationId:a,hash:nu(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});l?.addTrace(dp.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:C0.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),$e(this,"onSessionProposeResponse",async(n,r,i)=>{let{id:a}=r;if(lf(r)){let{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});let s=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let c=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});let l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});let u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(a,{sessionTopic:u,pairingTopic:n,proposalId:a,publicKey:c});let f=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(Tc(r)){await this.deleteProposal(a);let o=Qr("session_connect",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),$e(this,"onSessionSettleRequest",async(n,r)=>{let{id:i,params:a}=r;try{this.isValidSessionSettleRequest(a);let{relay:o,controller:s,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r.params,p=[...this.pendingSessions.values()].find(w=>w.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);let h=this.client.proposal.get(p.proposalId),m=Cc(gi(gi(gi({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,controller:s.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:s.publicKey,metadata:s.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:ra.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Qr("session_connect",p.proposalId),{session:m}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),$e(this,"onSessionSettleResponse",async(n,r)=>{let{id:i}=r;lf(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Qr("session_approve",i),{})):Tc(r)&&(await this.client.session.delete(n,Ri("USER_DISCONNECTED")),this.events.emit(Qr("session_approve",i),{error:r.error}))}),$e(this,"onSessionUpdateRequest",async(n,r)=>{let{params:i,id:a}=r;try{let o=`${n}_session_update`,s=dg.get(o);if(s&&this.isRequestOutOfSync(s,a)){this.client.logger.warn(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:n,error:Ri("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(gi({topic:n},i));try{dg.set(o,a),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:a,topic:n,result:!0})}catch(c){throw dg.delete(o),c}this.client.events.emit("session_update",{id:a,topic:n,params:i})}catch(o){await this.sendError({id:a,topic:n,error:o}),this.client.logger.error(o)}}),$e(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),$e(this,"onSessionUpdateResponse",(n,r)=>{let{id:i}=r,a=Qr("session_update",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);lf(r)?this.events.emit(Qr("session_update",i),{}):Tc(r)&&this.events.emit(Qr("session_update",i),{error:r.error})}),$e(this,"onSessionExtendRequest",async(n,r)=>{let{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Mo(O_)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),$e(this,"onSessionExtendResponse",(n,r)=>{let{id:i}=r,a=Qr("session_extend",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);lf(r)?this.events.emit(Qr("session_extend",i),{}):Tc(r)&&this.events.emit(Qr("session_extend",i),{error:r.error})}),$e(this,"onSessionPingRequest",async(n,r)=>{let{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),$e(this,"onSessionPingResponse",(n,r)=>{let{id:i}=r,a=Qr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners 2176`);lf(r)?this.events.emit(Qr("session_ping",i),{}):Tc(r)&&this.events.emit(Qr("session_ping",i),{error:r.error})},500)}),$e(this,"onSessionDeleteRequest",async(n,r)=>{let{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(co.publish,async()=>{a(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Ri("USER_DISCONNECTED")})]).catch(a=>this.client.logger.error(a))}catch(a){this.client.logger.error(a)}}),$e(this,"onSessionRequest",async n=>{var r,i,a;let{topic:o,payload:s,attestation:c,encryptedId:l,transportType:u}=n,{id:f,params:d}=s;try{await this.isValidRequest(gi({topic:o},d));let p=this.client.session.get(o),h=await this.getVerifyContext({attestationId:c,hash:nu(JSON.stringify(cf("wc_sessionRequest",d,f))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),m={id:f,topic:o,params:d,verifyContext:h};await this.setPendingSessionRequest(m),u===ra.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(a=this.client.signConfig)!=null&&a.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(p){await this.sendError({id:f,topic:o,error:p}),this.client.logger.error(p)}}),$e(this,"onSessionRequestResponse",(n,r)=>{let{id:i}=r,a=Qr("session_request",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);lf(r)?this.events.emit(Qr("session_request",i),{result:r.result}):Tc(r)&&this.events.emit(Qr("session_request",i),{error:r.error})}),$e(this,"onSessionEventRequest",async(n,r)=>{let{id:i,params:a}=r;try{let o=`${n}_session_event_${a.event.name}`,s=dg.get(o);if(s&&this.isRequestOutOfSync(s,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(gi({topic:n},a)),this.client.events.emit("session_event",{id:i,topic:n,params:a}),dg.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),$e(this,"onSessionAuthenticateResponse",(n,r)=>{let{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),lf(r)?this.events.emit(Qr("session_request",i),{result:r.result}):Tc(r)&&this.events.emit(Qr("session_request",i),{error:r.error})}),$e(this,"onSessionAuthenticateRequest",async n=>{var r;let{topic:i,payload:a,attestation:o,encryptedId:s,transportType:c}=n;try{let{requester:l,authPayload:u,expiryTimestamp:f}=a.params,d=await this.getVerifyContext({attestationId:o,hash:nu(JSON.stringify(a)),encryptedId:s,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:i,id:a.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(a.id,{request:p,pairingTopic:i,transportType:c}),c===ra.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:a.params,id:a.id,verifyContext:d})}catch(l){this.client.logger.error(l);let u=a.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(a.params.requester.metadata,c),p={type:up,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:a.id,topic:i,error:l,encodeOpts:p,rpcOpts:C0.wc_sessionAuthenticate.autoReject,appLink:d})}}),$e(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),$e(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=t6.idle,this.processSessionRequestQueue()},(0,Er.toMiliseconds)(this.requestQueueDelay))}),$e(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{let i=this.client.core.history.pending;i.length>0&&i.filter(a=>a.topic===n&&a.request.method==="wc_sessionRequest").forEach(a=>{let o=a.request.id,s=Qr("session_request",o);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);this.events.emit(Qr("session_request",a.request.id),{error:r})})}),$e(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===t6.active){this.client.logger.info("session request queue is already active.");return}let n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),$e(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=t6.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),$e(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;let r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:cf("wc_sessionPropose",Cc(gi({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),$e(this,"isValidConnect",async n=>{if(!Ac(n)){let{message:l}=ft("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}let{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:o,scopedProperties:s,relays:c}=n;if(ko(r)||await this.isValidPairingTopic(r),!qQe(c,!0)){let{message:l}=ft("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!ko(i)&&x_(i)!==0){let l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!ko(a)&&x_(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),ko(o)||this.validateSessionProps(o,"sessionProperties"),!ko(s)){this.validateSessionProps(s,"scopedProperties");let l=Object.keys(i||{}).concat(Object.keys(a||{}));if(!Object.keys(s).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),$e(this,"validateNamespaces",(n,r)=>{let i=$Qe(n,"connect()",r);if(i)throw new Error(i.message)}),$e(this,"isValidApprove",async n=>{if(!Ac(n))throw new Error(ft("MISSING_OR_INVALID",`approve() params: ${n}`).message);let{id:r,namespaces:i,relayProtocol:a,sessionProperties:o,scopedProperties:s}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);let c=this.client.proposal.get(r),l=dq(i,"approve()");if(l)throw new Error(l.message);let u=y6e(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!so(a,!0)){let{message:f}=ft("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(f)}if(ko(o)||this.validateSessionProps(o,"sessionProperties"),!ko(s)){this.validateSessionProps(s,"scopedProperties");let f=new Set(Object.keys(i));if(!Object.keys(s).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),$e(this,"isValidReject",async n=>{if(!Ac(n)){let{message:a}=ft("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(a)}let{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!YQe(i)){let{message:a}=ft("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(a)}}),$e(this,"isValidSessionSettleRequest",n=>{if(!Ac(n)){let{message:l}=ft("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}let{relay:r,controller:i,namespaces:a,expiry:o}=n;if(!h6e(r)){let{message:l}=ft("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let s=VQe(i,"onSessionSettleRequest()");if(s)throw new Error(s.message);let c=dq(a,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Jh(o)){let{message:l}=ft("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),$e(this,"isValidUpdate",async n=>{if(!Ac(n)){let{message:c}=ft("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}let{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);let a=this.client.session.get(r),o=dq(i,"update()");if(o)throw new Error(o.message);let s=y6e(a.requiredNamespaces,i,"update()");if(s)throw new Error(s.message)}),$e(this,"isValidExtend",async n=>{if(!Ac(n)){let{message:i}=ft("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}let{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),$e(this,"isValidRequest",async n=>{if(!Ac(n)){let{message:c}=ft("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}let{topic:r,request:i,chainId:a,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);let{namespaces:s}=this.client.session.get(r);if(!m6e(s,a)){let{message:c}=ft("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(c)}if(!JQe(i)){let{message:c}=ft("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!XQe(s,a,i.method)){let{message:c}=ft("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!tZe(o,u5e)){let{message:c}=ft("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${u5e.min} and ${u5e.max}`);throw new Error(c)}}),$e(this,"isValidRespond",async n=>{var r;if(!Ac(n)){let{message:o}=ft("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}let{topic:i,response:a}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!QQe(a)){let{message:o}=ft("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(o)}}),$e(this,"isValidPing",async n=>{if(!Ac(n)){let{message:i}=ft("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}let{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),$e(this,"isValidEmit",async n=>{if(!Ac(n)){let{message:s}=ft("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(s)}let{topic:r,event:i,chainId:a}=n;await this.isValidSessionTopic(r);let{namespaces:o}=this.client.session.get(r);if(!m6e(o,a)){let{message:s}=ft("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(s)}if(!ZQe(i)){let{message:s}=ft("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(s)}if(!eZe(o,a,i.name)){let{message:s}=ft("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(s)}}),$e(this,"isValidDisconnect",async n=>{if(!Ac(n)){let{message:i}=ft("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}let{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),$e(this,"isValidAuthenticate",n=>{let{chains:r,uri:i,domain:a,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!so(i,!1))throw new Error("uri is required parameter");if(!so(a,!1))throw new Error("domain is required parameter");if(!so(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>xk(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:s}=xk(r[0]);if(s!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),$e(this,"getVerifyContext",async n=>{let{attestationId:r,hash:i,encryptedId:a,metadata:o,transportType:s}=n,c={verified:{verifyUrl:o.verifyUrl||C_,validation:"UNKNOWN",origin:o.url||""}};try{if(s===ra.link_mode){let u=this.getAppLinkIfEnabled(o,s);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}let l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:a,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),$e(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,a)=>{if(i==null){let{message:o}=ft("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[a]}`);throw new Error(o)}})}),$e(this,"getPendingAuthRequest",n=>{let r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),$e(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0,a=this.recentlyDeletedLimit/2;for(let o of this.recentlyDeletedMap.keys()){if(i++>=a)break;this.recentlyDeletedMap.delete(o)}}}),$e(this,"checkRecentlyDeleted",n=>{let r=this.recentlyDeletedMap.get(n);if(r){let{message:i}=ft("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),$e(this,"isLinkModeEnabled",(n,r)=>{var i,a,o,s,c,l,u,f,d;return!n||r!==ra.link_mode?!1:((a=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:a.linkMode)===!0&&((s=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:s.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((f=n?.redirect)==null?void 0:f.universal)!==""&&((d=n?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),$e(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),$e(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;let r=jhe(n,"topic")||"",i=decodeURIComponent(jhe(n,"wc_ev")||""),a=this.client.session.keys.includes(r);a&&this.client.session.update(r,{transportType:ra.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:a})}),$e(this,"registerLinkModeListeners",async()=>{var n;if(Tk()||Am()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){let r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);let i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),$e(this,"getTVFParams",(n,r,i)=>{var a,o,s;if(!((a=r.request)!=null&&a.method))return{};let c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{let l=this.extractTxHashesFromResult(r.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(s=(o=r.request.params)==null?void 0:o[0])==null?void 0:s.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),$e(this,"isValidContractData",n=>{var r;if(!n)return!1;try{let i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;let a=i.slice(2);return/^[0-9a-fA-F]*$/.test(a)?a.length%2===0:!1}catch{}return!1}),$e(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];let a=n.method,o=Lrn[a];if(a==="sui_signTransaction")return[XJe(r.transactionBytes)];if(a==="near_signTransaction")return[Jhe(r)];if(a==="near_signTransactions")return r.map(c=>Jhe(c));if(a==="xrpl_signTransactionFor"||a==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(a==="polkadot_signTransaction")return[iZe({transaction:n.params.transactionPayload,signature:r.signature})];if(a==="algo_signTxn")return Sm(r)?r.map(c=>Qhe(c)):[Qhe(r)];if(a==="cosmos_signDirect")return[eQe(r)];if(typeof r=="string")return[r];let s=r[o.key];if(Sm(s))return a==="solana_signAllTransactions"?s.map(c=>ZJe(c)):s;if(typeof s=="string")return[s]}catch(a){this.client.logger.warn("Error extracting tx hashes from result",a)}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(let[r,i]of Object.entries(n))for(let a of i)try{await this.onProviderMessageEvent({topic:r,message:a,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${a}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){let{message:e}=ft("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(co.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:n,message:r,attestation:i,transportType:a}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Rq)?this.client.auth.authKeys.get(Rq):{responseTopic:void 0,publicKey:void 0};try{let s=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:a===ra.link_mode?Tm:xc});__(s)?(this.client.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s,attestation:i,transportType:a,encryptedId:nu(r)})):yg(s)?(await this.client.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s,transportType:a}),this.client.core.history.delete(n,s.id)):await this.onRelayEventUnknownPayload({topic:n,payload:s,transportType:a}),await this.client.core.relayer.messages.ack(n,r)}catch(s){this.client.logger.error(s)}}registerExpirerEvents(){this.client.core.expirer.on(pf.expired,async e=>{let{topic:n,id:r}=rq(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ft("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ft("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(bg.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(bg.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!so(e,!1)){let{message:n}=ft("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:n}=ft("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Jh(this.client.core.pairing.pairings.get(e).expiry)){let{message:n}=ft("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!so(e,!1)){let{message:n}=ft("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:n}=ft("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Jh(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:n}=ft("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){let{message:n}=ft("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(so(e,!1)){let{message:n}=ft("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{let{message:n}=ft("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!WQe(e)){let{message:n}=ft("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){let{message:n}=ft("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Jh(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:n}=ft("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},h5e=class extends e6{constructor(e,n){super(e,n,Mrn,E5e),this.core=e,this.logger=n}},m5e=class extends e6{constructor(e,n){super(e,n,Brn,E5e),this.core=e,this.logger=n}},y5e=class extends e6{constructor(e,n){super(e,n,Urn,E5e,r=>r.id),this.core=e,this.logger=n}},b5e=class extends e6{constructor(e,n){super(e,n,jrn,Pq,()=>Rq),this.core=e,this.logger=n}},g5e=class extends e6{constructor(e,n){super(e,n,Grn,Pq),this.core=e,this.logger=n}},w5e=class extends e6{constructor(e,n){super(e,n,Vrn,Pq,r=>r.id),this.core=e,this.logger=n}},Jrn=Object.defineProperty,Qrn=(t,e,n)=>e in t?Jrn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f5e=(t,e,n)=>Qrn(t,typeof e!="symbol"?e+"":e,n),v5e=class{constructor(e,n){this.core=e,this.logger=n,f5e(this,"authKeys"),f5e(this,"pairingTopics"),f5e(this,"requests"),this.authKeys=new b5e(this.core,this.logger),this.pairingTopics=new g5e(this.core,this.logger),this.requests=new w5e(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},Zrn=Object.defineProperty,Xrn=(t,e,n)=>e in t?Zrn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_r=(t,e,n)=>Xrn(t,typeof e!="symbol"?e+"":e,n),Oq=class t extends zK{constructor(e){super(e),_r(this,"protocol",RXe),_r(this,"version",OXe),_r(this,"name",l5e.name),_r(this,"metadata"),_r(this,"core"),_r(this,"logger"),_r(this,"events",new Nq.EventEmitter),_r(this,"engine"),_r(this,"session"),_r(this,"proposal"),_r(this,"pendingRequest"),_r(this,"auth"),_r(this,"signConfig"),_r(this,"on",(r,i)=>this.events.on(r,i)),_r(this,"once",(r,i)=>this.events.once(r,i)),_r(this,"off",(r,i)=>this.events.off(r,i)),_r(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),_r(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),_r(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),_r(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(a){throw this.logger.error(a.message),a}}),_r(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),_r(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||l5e.name,this.metadata=PJe(e?.metadata),this.signConfig=e?.signConfig;let n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:(0,mP.default)(bP({level:e?.logger||l5e.logger}));this.core=e?.core||new _Xe(e),this.logger=w0(n,this.name),this.session=new m5e(this.core,this.logger),this.proposal=new h5e(this.core,this.logger),this.pendingRequest=new y5e(this.core,this.logger),this.engine=new p5e(this),this.auth=new v5e(this.core,this.logger)}static async init(e){let n=new t(e);return await n.initialize(),n}get context(){return hc(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}});async function kXe(t){if(t.session.length){let e=t.session.keys.length-1;return t.session.get(t.session.keys[e])}return null}function ein(){return/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function tin(t){return t.startsWith("solana:")}async function wg(t,e,n,r){let i=await kXe(t);if(!i)throw So.disconnected();return typeof window<"u"&&ein()&&i.peer.metadata.redirect&&i.peer.metadata.redirect.native&&window.open(i.peer.metadata.redirect.native,"_blank"),t.request({topic:i.topic,chainId:e,request:{method:n,params:tin(e)?q(q({},r),{},{pubkey:i.self.publicKey}):r}})}async function Lv(t){let e=await kXe(t);if(!e)throw So.disconnected();let n=eq(e.namespaces);if(n&&n.length)return[...new Set(n.map(r=>X$(r).address))];throw rt.connectionError("Failed to get accounts")}function MXe({connector:t,chainId:e}){return{getPrivateKey:async()=>{throw Gn.methodNotSupported()},getPublicKey:async()=>{throw Gn.methodNotSupported()},getAccounts:async n=>Lv(t),processTransaction:async(n,r)=>await wg(t,`eip155:${e}`,ua.ETH_TRANSACTION,[n]),processSignTransaction:async(n,r)=>await wg(t,`eip155:${e}`,"eth_signTransaction",[n]),processEthSignMessage:async(n,r)=>await wg(t,`eip155:${e}`,ua.ETH_SIGN,[n.from,n.data]),processPersonalMessage:async(n,r)=>await wg(t,`eip155:${e}`,ua.PERSONAL_SIGN,[n.data,n.from]),processTypedMessageV4:async n=>await wg(t,`eip155:${e}`,ua.ETH_SIGN_TYPED_DATA_V4,[n.from,n.data])}}function BXe({connector:t,chainId:e}){return{requestAccounts:async n=>Lv(t),getPrivateKey:async()=>{throw Gn.methodNotSupported()},getSecretKey:async()=>{throw Gn.methodNotSupported()},getPublicKey:async()=>{throw Gn.methodNotSupported()},getAccounts:async n=>Lv(t),signAllTransactions:async n=>{throw Gn.methodNotSupported()},signAndSendTransaction:async n=>{throw Gn.methodNotSupported()},signMessage:async n=>(await wg(t,`solana:${Vb[e]}`,ni.SIGN_MESSAGE,{message:S1.encode(Buffer.from(n.params.data,"utf-8"))})).signature,signTransaction:async n=>{if((await Lv(t)).length===0)throw So.disconnected();return(await wg(t,`solana:${Vb[e]}`,ni.SIGN_TRANSACTION,{transaction:n.params.message})).signature}}}async function DXe({connector:t,chainId:e,newChainId:n}){await wg(t,`eip155:${e}`,"wallet_switchEthereumChain",[{chainId:n}])}var LXe=B(()=>{st();jF();A_();Zi();Fw();ss();rx()});function UXe({getAccounts:t,getPrivateKey:e,getPublicKey:n,processEthSignMessage:r,processPersonalMessage:i,processTransaction:a,processSignTransaction:o,processTypedMessageV4:s}){if(!t)throw new Error("opts.getAccounts is required");async function c(g,x){if(typeof g=="string"&&g.length>0){let P=(await t(x)).map(F=>F.toLowerCase()),D=g.toLowerCase();if(P.includes(D))return D}throw Gn.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function l(g,x){x.result=await t(g)}async function u(g,x){if(!a)throw Gn.methodNotSupported();let C=g.params[0]||{from:""};C.from=await c(C.from,g),x.result=await a(C,g)}async function f(g,x){if(!o)throw Gn.methodNotSupported();let C=g.params[0]||{from:""};C.from=await c(C.from,g),x.result=await o(C,g)}async function d(g,x){if(!r)throw Gn.methodNotSupported();let C=g.params,P=g.params[2]||{};if(Array.isArray(g.params)){if(g.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${g.method} method. expected [address, message]`);let D=g.params,F=D[0],H=D[1];C={from:F,data:H}}C=q(q({},P),C),x.result=await r(C,g)}async function p(g,x){if(!s)throw Gn.methodNotSupported();if(!(g!=null&&g.params))throw new Error("WalletMiddleware - missing params");let C=g.params;if(Array.isArray(g.params)){if(g.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${g.method} method. expected [address, typedData]`);let P=g.params,D=P[0],F=P[1];C={from:D,data:F}}x.result=await s(C,g)}async function h(g,x){if(!i)throw Gn.methodNotSupported();let C=g.params,P=g.params[2]||{};if(Array.isArray(g.params)){if(!(g.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${g.method} method. expected [message, address]`);let D=g.params;if(typeof D[0]=="object"){let{challenge:F,address:H}=D[0];C={from:H,data:F}}else{let F=D[0];C={from:D[1],data:F}}}C=q(q({},P),C),x.result=await i(C,g)}async function m(g,x){if(!e)throw Gn.methodNotSupported();x.result=await e(g)}async function w(g,x){if(!n)throw Gn.methodNotSupported();x.result=await n(g)}return N1({eth_accounts:dr(l),eth_requestAccounts:dr(l),eth_private_key:dr(m),eth_public_key:dr(w),public_key:dr(w),private_key:dr(m),eth_sendTransaction:dr(u),eth_signTransaction:dr(f),eth_sign:dr(d),eth_signTypedData_v4:dr(p),personal_sign:dr(h)})}var FXe=B(()=>{st();Zi()});function HXe(t){let{getAccounts:e,getPrivateKey:n,getPublicKey:r,processTransaction:i,processSignTransaction:a,processEthSignMessage:o,processTypedMessageV4:s,processPersonalMessage:c}=t;return sd([N1({eth_syncing:!1}),UXe({getAccounts:e,getPrivateKey:n,getPublicKey:r,processTransaction:i,processEthSignMessage:o,processSignTransaction:a,processTypedMessageV4:s,processPersonalMessage:c})])}function zXe({switchChain:t}){async function e(n,r){var i;let a=(i=n.params)!==null&&i!==void 0&&i.length?n.params[0]:void 0;if(!a)throw Gn.invalidParams("Missing chainId");r.result=await t(a)}return N1({wallet_switchEthereumChain:dr(e)})}var jXe=B(()=>{Zi();FXe()});function nin(t){return(e,n,r,i)=>e.method==="eth_chainId"?(n.result=t,i()):r()}function rin(t){return(e,n,r,i)=>e.method==="eth_provider_config"?(n.result=t,i()):r()}function GXe(t){let{chainId:e,rpcTarget:n}=t,r=gw({rpcTarget:n});return{networkMiddleware:sd([nin(e),rin(t),r]),fetchMiddleware:r}}var VXe=B(()=>{Co();Zi()});var KXe,Rm,x5e=B(()=>{st();Qe();A_();Zi();LXe();jXe();VXe();Tde();_de();Mw();Co();ss();U1();Rm=class extends Ll{constructor({config:e,state:n,connector:r}){super({config:{chain:e.chain,chains:e.chains,skipLookupNetwork:!!e.skipLookupNetwork},state:q(q({},n||{}),{},{chainId:"loading",accounts:[]})}),K(this,"connector",null),this.connector=r||null}async enable(){if(!this.connector)throw So.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e,this.config.chain.chainId)}async switchChain({chainId:e}){if(!this.connector)throw So.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});let n=this.getChain(e),{chainId:r}=n,i=parseInt(r,16);await DXe({connector:this.connector,chainId:i,newChainId:e}),await this.setupEngine(this.connector,e),this.lookupNetwork(this.connector,e),this.update({chainId:e})}async lookupNetwork(e,n){return n}async setupEngine(e,n){let r=this.getChain(n);if(r.chainNamespace===bt.EIP155)await this.setupEthEngine(e,n);else if(r.chainNamespace===bt.SOLANA)await this.setupSolEngine(e,n);else throw new Error(`Unsupported chainNamespace: ${r.chainNamespace}`);this.emit("chainChanged",n),this.emit("connect",{chainId:n}),this.update({chainId:n})}async setupEthEngine(e,n){let r=this.getChain(n),i=parseInt(n,16),a=MXe({connector:e,chainId:i}),o=await Lv(e);this.update({accounts:o||[]});let s=HXe(a),c=this.getEthChainSwitchMiddleware(),l=new Y0,{networkMiddleware:u}=GXe(r);l.push(s),l.push(c),l.push(u);let f=Hu(l);this.updateProviderEngineProxy(f)}async setupSolEngine(e,n){let r=this.getChain(n),i=BXe({connector:e,chainId:n}),a=await Lv(e);this.update({accounts:a||[]});let o=lK(i),s=new Y0,{networkMiddleware:c}=SVe(r);s.push(o),s.push(c);let l=Hu(s);this.updateProviderEngineProxy(l)}getEthChainSwitchMiddleware(){return zXe({switchChain:async r=>{let{chainId:i}=r;await this.switchChain({chainId:i})}})}connectedTopic(){var e;if(!this.connector)throw rt.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(e=e.session)!==null&&e!==void 0&&e.length){var n;let r=this.connector.session.keys.length-1;return(n=this.connector.session.get(this.connector.session.keys[r]))===null||n===void 0?void 0:n.topic}}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;let n=this.connector.session.get(this.connectedTopic()),r=eq(n.namespaces),i=!1;for(let o of r){var a;if(((a=X$(o).address)===null||a===void 0?void 0:a.toLowerCase())===e?.toLowerCase()){i=!0;break}}return i}async onConnectorStateUpdate(e){e.events.on("session_event",async n=>{if(De.debug("session_event data",n),!this.provider)throw rt.notConnectedError("Wallet connect connector is not connected");let{event:r}=n.params,{name:i,data:a}=r||{};if(i==="accountsChanged"&&a!==null&&a!==void 0&&a.length&&this.state.accounts[0]!==a[0]&&this.checkIfAccountAllowed(a[0])&&(this.update({accounts:a}),this.emit("accountsChanged",a)),r.name==="chainChanged"){if(!a)return;let s=`0x${a.toString(16)}`,{currentChain:c}=this;s&&c.chainId!==s&&await this.setupEngine(e,s)}})}};KXe=Rm;K(Rm,"getProviderInstance",async t=>{let e=new KXe({config:{chain:t.chain,chains:t.chains,skipLookupNetwork:t.skipLookupNetwork}});return await e.setupProvider(t.connector),e})});var $Xe,A5e,qXe,WXe=B(()=>{st();Qe();Co();PXe();A_();Fw();$Xe=fe(Ao());Ude();x5e();DO();Xb();P5();md();ss();U1();kw();Cx();BN();A5e=class extends Sh{constructor(e){var n,r,i,a,o;super(e),K(this,"name",ct.WALLET_CONNECT_V2),K(this,"connectorNamespace",jo.MULTICHAIN),K(this,"currentChainNamespace",bt.OTHER),K(this,"type",cs.EXTERNAL),K(this,"connectorOptions",void 0),K(this,"status",Pe.NOT_READY),K(this,"connectorData",{uri:""}),K(this,"connector",null),K(this,"activeSession",null),K(this,"wcProvider",null),K(this,"analytics",void 0),this.connectorOptions=q({},e);let{qrcodeModal:s,walletConnectInitOptions:c}=e?.connectorSettings||{};this.connectorOptions=q(q({},this.connectorOptions),{},{connectorSettings:(n=(r=this.connectorOptions)===null||r===void 0?void 0:r.connectorSettings)!==null&&n!==void 0?n:{},loginSettings:(i=(a=this.connectorOptions)===null||a===void 0?void 0:a.loginSettings)!==null&&i!==void 0?i:{}}),this.analytics=e.analytics,s&&(this.connectorOptions.connectorSettings.qrcodeModal=s),c&&(this.connectorOptions.connectorSettings.walletConnectInitOptions=q(q({},(o=this.connectorOptions.connectorSettings.walletConnectInitOptions)!==null&&o!==void 0?o:{}),c));let{loginSettings:l}=e;l&&(this.connectorOptions.loginSettings=q(q({},this.connectorOptions.loginSettings||{}),l))}get connected(){return!!this.activeSession}get provider(){return this.status!==Pe.NOT_READY&&this.wcProvider?this.wcProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var n;let r=this.coreOptions.chains.find(c=>c.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r});let i=(n=this.connectorOptions.connectorSettings)===null||n===void 0||(n=n.walletConnectInitOptions)===null||n===void 0?void 0:n.projectId,a=this.coreOptions.chains.filter(c=>c.chainNamespace===bt.EIP155||c.chainNamespace===bt.SOLANA);if(a.length===0)throw at.invalidParams("No supported chains found");let o=await pK(a,i);(!this.connectorOptions.loginSettings||Object.keys(this.connectorOptions.loginSettings).length===0)&&(this.connectorOptions.loginSettings=o.loginSettings),this.connectorOptions.connectorSettings=(0,$Xe.default)(o.connectorSettings||{},this.connectorOptions.connectorSettings||{});let{connectorSettings:s}=this.connectorOptions;if(this.connector=await Oq.init(s?.walletConnectInitOptions),this.wcProvider=new Rm({config:{chain:r,chains:this.coreOptions.chains},connector:this.connector}),this.emit(lt.READY,ct.WALLET_CONNECT_V2),this.status=Pe.READY,De.debug("initializing wallet connect v2 connector"),e.autoConnect)if(await this.checkForPersistedSession(),this.connected){this.rehydrated=!0;try{await this.onConnectHandler({chain:r})}catch(c){De.error("wallet auto connect",c),this.emit(lt.REHYDRATION_ERROR,c)}}else this.status=Pe.NOT_READY,this.emit(lt.CACHE_CLEAR)}async connect({chainId:e}){super.checkConnectionRequirements();let n=this.coreOptions.chains.find(c=>c.chainId===e);if(!n)throw rt.connectionError("Chain config is not available");if(!this.connector)throw at.notReady("Wallet connector is not ready yet");let r=!this.connected&&!this.rehydrated,i=Date.now(),a={connector:this.name,connector_type:this.type,is_injected:this.isInjected,is_wallet_connect:!0,chain_id:H1(n),chain_name:n?.displayName,chain_namespace:n?.chainNamespace};try{let c=()=>{if(r){var l,u,f;let{name:d,url:p,redirect:h}=((l=this.activeSession)===null||l===void 0||(l=l.peer)===null||l===void 0?void 0:l.metadata)||{},{native:m,universal:w,linkMode:g}=h||{};a=q(q({},a),{},{connector:d||this.name,wallet_url:p,redirect_native:m,redirect_universal:w,redirect_link_mode_enabled:g}),(u=this.analytics)===null||u===void 0||u.track(Vn.CONNECTION_STARTED,a),(f=this.analytics)===null||f===void 0||f.track(Vn.CONNECTION_COMPLETED,q(q({},a),{},{duration:Date.now()-i}))}};return this.connected?(await this.onConnectHandler({chain:n}),this.provider):(this.status!==Pe.CONNECTING&&await this.createNewSession({chainConfig:n,trackCompletionEvents:c}),this.provider)}catch(c){if(De.error("Wallet connect v2 connector error while connecting",c),this.status=Pe.READY,this.rehydrated=!0,this.emit(lt.ERRORED,c),r){var o,s;(o=this.analytics)===null||o===void 0||o.track(Vn.CONNECTION_STARTED,a),(s=this.analytics)===null||s===void 0||s.track(Vn.CONNECTION_FAILED,q(q(q({},a),XR(c)),{},{duration:Date.now()-i}))}throw c instanceof Ua?c:rt.connectionError(`Failed to login with wallet connect: ${c?.message||""}`,c)}}async switchChain(e,n=!1){if(super.checkSwitchChainRequirements(e,n),!this.wcProvider)throw at.notReady("Wallet Connect provider is not ready yet");try{await this.wcProvider.switchChain({chainId:e.chainId})}catch(r){throw De.error("error while switching chain",r),r}}async getUserInfo(){if(!this.connected)throw rt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async disconnect(e={cleanup:!1,sessionRemovedByWallet:!1}){var n,r;let{cleanup:i}=e;if(!this.connector||!this.connected||!((n=this.activeSession)!==null&&n!==void 0&&n.topic))throw rt.notConnectedError("Not connected with wallet");e.sessionRemovedByWallet||await this.connector.disconnect({topic:(r=this.activeSession)===null||r===void 0?void 0:r.topic,reason:Ri("USER_DISCONNECTED")}),this.rehydrated=!1,i?(this.connector=null,this.status=Pe.NOT_READY,this.wcProvider=null):this.status=Pe.READY,this.activeSession=null,this.emit(lt.DISCONNECTED)}async getIdentityToken(){if(!this.provider||this.status!==Pe.CONNECTED)throw rt.notConnectedError();let{chainId:e}=this.provider,n=this.coreOptions.chains.find(a=>a.chainId===e);if(!n)throw rt.connectionError("Chain config is not available");let{chainNamespace:r}=n,i=await this.provider.request({method:r===bt.EIP155?ua.GET_ACCOUNTS:ni.GET_ACCOUNTS});if(i&&i.length>0){let a=fA(i[0],this.name);if(a&&!uA(a))return{idToken:a};let o={domain:window.location.origin,uri:window.location.href,address:i[0],chainId:parseInt(e,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await vw(o,r),c=await this._getSignedMessage(s,i,r),l=await Ew(r,c,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return dA(i[0],this.name,l),{idToken:l}}throw rt.notConnectedError("Not connected with wallet, Please login/connect first")}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}cleanupPendingPairings(){if(!this.connector)throw at.notReady("Wallet connector is not ready yet");let e=this.connector.pairing.getAll({active:!1});Sm(e)&&e.forEach(n=>{this.connector&&this.connector.pairing.delete(n.topic,Ri("USER_DISCONNECTED"))})}async checkForPersistedSession(){if(!this.connector)throw at.notReady("Wallet connector is not ready yet");if(this.connector.session.length){let e=this.connector.session.keys.length-1;this.activeSession=this.connector.session.get(this.connector.session.keys[e])}return this.activeSession}async createNewSession({forceNewSession:e=!1,chainConfig:n,trackCompletionEvents:r}){try{var i,a;if(!this.connector)throw at.notReady("Wallet connector is not ready yet");if(!this.connectorOptions.loginSettings||Object.keys(this.connectorOptions.loginSettings).length===0)throw at.notReady("login settings are not set yet");if(this.status=Pe.CONNECTING,this.emit(lt.CONNECTING,{connector:ct.WALLET_CONNECT_V2}),e&&(i=this.activeSession)!==null&&i!==void 0&&i.topic){var o;await this.connector.disconnect({topic:(o=this.activeSession)===null||o===void 0?void 0:o.topic,reason:Ri("USER_DISCONNECTED")})}let{uri:c,approval:l}=await this.connector.connect(this.connectorOptions.loginSettings),u=(a=this.connectorOptions)===null||a===void 0||(a=a.connectorSettings)===null||a===void 0?void 0:a.qrcodeModal;if(c)if(u)try{await u.openModal({uri:c}),De.debug("EVENT","QR Code Modal closed"),this.status=Pe.READY,this.emit(lt.READY,ct.WALLET_CONNECT_V2)}catch(d){De.error("unable to open qr code modal",d)}else this.updateConnectorData({uri:c});De.info("awaiting session approval from wallet");let f=await l();this.activeSession=f,await this.onConnectHandler({chain:n,trackCompletionEvents:r}),u&&u.closeModal()}catch(c){var s;if((s=c.message)!==null&&s!==void 0&&s.toLowerCase().includes("proposal expired")){if(De.info("current connector status: ",this.status),this.status===Pe.CONNECTING)return De.info("retrying to create new wallet connect session since proposal expired"),this.createNewSession({forceNewSession:!0,chainConfig:n});if(this.status===Pe.READY){De.info("ignoring proposal expired error since some other connector is connected");return}}throw De.error("error while creating new wallet connect session",c),this.emit(lt.ERRORED,c),c}}async onConnectHandler({chain:e,trackCompletionEvents:n}){var r;if(!this.connector||!this.wcProvider)throw at.notReady("Wallet connect connector is not ready yet");this.subscribeEvents(),(r=this.connectorOptions.connectorSettings)!==null&&r!==void 0&&r.qrcodeModal&&(this.wcProvider=new Rm({config:{chain:e,chains:this.coreOptions.chains,skipLookupNetwork:!0},connector:this.connector})),await this.wcProvider.setupProvider(this.connector),this.cleanupPendingPairings(),this.status=Pe.CONNECTED,n&&n(),this.emit(lt.CONNECTED,{connector:ct.WALLET_CONNECT_V2,reconnected:this.rehydrated,provider:this.provider})}subscribeEvents(){if(!this.connector)throw at.notReady("Wallet connector is not ready yet");this.connector.events.on("session_update",({topic:e,params:n})=>{if(!this.connector)return;let{namespaces:r}=n,i=this.connector.session.get(e),a=q(q({},i),{},{namespaces:r});this.activeSession=a}),this.connector.events.on("session_delete",()=>{this.disconnect({sessionRemovedByWallet:!0})})}async _getSignedMessage(e,n,r){return await this.provider.request({method:r===bt.EIP155?ua.PERSONAL_SIGN:ni.SIGN_MESSAGE,params:r===bt.EIP155?[e,n[0]]:{data:e}})}},qXe=t=>({coreOptions:e,projectConfig:n,analytics:r})=>{var i;let a=(t==null||(i=t.walletConnectInitOptions)===null||i===void 0?void 0:i.projectId)||n?.walletConnectProjectId,o=q(q({},t),{},{walletConnectInitOptions:q(q({},t?.walletConnectInitOptions),{},{projectId:a})});return new A5e({connectorSettings:o,coreOptions:e,analytics:r})}});var YXe={};$t(YXe,{DEFAULT_EIP155_METHODS:()=>Ode,DEFAULT_EIP_155_EVENTS:()=>Pde,DEFAULT_SOLANA_EVENTS:()=>kde,DEFAULT_SOLANA_METHODS:()=>Nde,WalletConnectV2Provider:()=>Rm,getNamespacesFromChains:()=>Mde,getRequiredNamespaces:()=>Lde,getSupportedEventsByNamespace:()=>Dde,getSupportedMethodsByNamespace:()=>Bde,getWalletConnectV2Settings:()=>pK,walletConnectV2Connector:()=>qXe});var JXe=B(()=>{Ude();WXe();x5e()});var QXe,Vk,ZXe=B(()=>{QXe=fe(Ln()),Vk=QXe.default.getLogger("auth");Vk.setLevel("error")});async function Kk(t,e){let n=null;try{n=new URL(t)}catch{}return tet&&n&&(oin.includes(n.origin)||sin.includes(n.pathname))?await tet.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function $k(){let t={};return XXe&&(t[iin]=XXe),eet&&(t[ain]=eet),t}function qk(t){kq.info(`Response: ${t.status} ${t.statusText}`),kq.info(`Url: ${t.url}`)}function cin(t){let e=t.headers.get("x-web3-correlation-id");e&&kq.info(`Request tracing with traceID = ${e}`)}var N_,Mq,kq,XXe,eet,iin,ain,tet,oin,sin,lin,hf,vg,net,ret,iet,Uv=B(()=>{st();N_=fe(Ao()),Mq=fe(Ln()),kq=Mq.default.getLogger("http-helpers");kq.setLevel(Mq.levels.INFO);XXe="torus-default",eet="",iin="x-api-key",ain="x-embed-host",tet=null,oin=[],sin=[];lin=async(t,e)=>{let n=null;try{let r=new Promise((a,o)=>{n=setTimeout(()=>{o(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,r]);return n!=null&&clearTimeout(n),i}catch(r){throw n!=null&&clearTimeout(n),r}},hf=async(t,e={},n={})=>{let r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=q(q({},r.headers),$k())),e.method="GET";let i=(0,N_.default)(r,e),a=await Kk(t,i);if(a.ok){let o=a.headers.get("content-type");return o!=null&&o.includes("application/json")?a.json():a.text()}throw qk(a),a},vg=(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),$k())),n.method="POST";let a=(0,N_.default)(i,n);return r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e),lin(r.timeout||6e4,Kk(t,a).then(o=>{if(r.logTracingHeader&&cin(o),o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw qk(o),o}))},net=async(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),$k())),n.method="PATCH";let a=(0,N_.default)(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);let o=await Kk(t,a);if(o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw qk(o),o},ret=async(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),$k())),n.method="PUT";let a=(0,N_.default)(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);let o=await Kk(t,a);if(o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw qk(o),o},iet=async(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),$k())),n.method="DELETE";let a=(0,N_.default)(i,n);r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e);let o=await Kk(t,a);if(o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw qk(o),o}});function aet(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function uin(t){let e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}var oet,n6,_5e=B(()=>{oet=fe(Ps());n6=class extends oet.EventEmitter{emit(e,...n){let r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;let s=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw s.context=o,s}let a=i[e];if(a===void 0)return!1;if(typeof a=="function")aet(a,this,n);else{let o=a.length,s=uin(a);for(let c=0;c<o;c+=1)aet(s[c],this,n)}return!0}}});var set,Eg,cet=B(()=>{Qe();set=fe(O3()),Eg=class extends Error{constructor({code:e,message:n,data:r}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),K(this,"code",void 0),K(this,"data",void 0),this.code=e,r!==void 0&&(this.data=r)}toString(){return(0,set.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}});var ds,T5e,S5e=B(()=>{ds={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},T5e={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});function het(t){return Number.isInteger(t)}function fet(t){return typeof t=="string"&&t.length>0}function Bq(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function met(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function pin(t){return t>=-32099&&t<=-32e3}function yet(t){let e=t;return!(!e||!het(e.code)||!fet(e.message)||e.stack&&!fet(e.stack))}function P_(t,e=fin){if(het(t)){let n=t.toString();if(pet(T5e,n))return T5e[n].message;if(pin(t))return din}return e}function C5e(t){try{JSON.parse(JSON.stringify(t,(e,n)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof n=="function"||typeof n=="symbol")throw new Error("Not valid json");return n}),(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n})}catch{return!1}return!0}function det(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{let r=t[n];return C5e(r)&&(e[n]=r),e},{})}function I5e(t){return Array.isArray(t)?t.map(e=>C5e(e)?e:Bq(e)?det(e):null):Bq(t)?det(t):C5e(t)?t:null}function min(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(yet(t))return t;let n=I5e(t);return q(q({},e),{},{data:{cause:n}})}function Dq(t,{fallbackError:e=hin,shouldIncludeStack:n=!0}={}){if(!yet(e))throw new Error("Must provide fallback error with integer number code and string message.");let r=min(t,e);return n||delete r.stack,r}function bet(t){return Bq(t)&&pet(t,"cause")&&Bq(t.cause)}var pet,uet,fin,din,hin,Lq=B(()=>{st();S5e();pet=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)},uet=ds.rpc.internal,fin="Unspecified error message. This is a bug, please report it.",din="Unspecified server error.";hin={code:uet,message:P_(uet)}});function bin(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function gin(t,e){if(e!=="[Circular]")return e}var get,yin,Wk,Yk,wet=B(()=>{Qe();get=fe(O3());Lq();yin=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};Wk=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');bet(r)?(super(n,{cause:r.cause}),K(this,"cause",void 0),K(this,"code",void 0),K(this,"data",void 0),yin(this,"cause")||Object.assign(this,{cause:r.cause})):(super(n),K(this,"cause",void 0),K(this,"code",void 0),K(this,"data",void 0)),r!==void 0&&(this.data=r),this.code=e,this.cause=r?.cause}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,met(this.data)&&(e.data.cause=I5e(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,get.default)(this.serialize(),{replacer:gin,space:2})}},Yk=class extends Wk{constructor(e,n,r){if(!bin(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}});function vet(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}function Dd(t,e){let[n,r]=vet(e);return new Wk(t,n??P_(t),r)}function Jk(t,e){let[n,r]=vet(e);return new Yk(t,n??P_(t),r)}var pi,Qk,R5e=B(()=>{wet();S5e();Lq();pi={parse:t=>Dd(ds.rpc.parse,t),invalidRequest:t=>Dd(ds.rpc.invalidRequest,t),invalidParams:t=>Dd(ds.rpc.invalidParams,t),methodNotFound:t=>Dd(ds.rpc.methodNotFound,t),internal:t=>Dd(ds.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Dd(e,t)},invalidInput:t=>Dd(ds.rpc.invalidInput,t),resourceNotFound:t=>Dd(ds.rpc.resourceNotFound,t),resourceUnavailable:t=>Dd(ds.rpc.resourceUnavailable,t),transactionRejected:t=>Dd(ds.rpc.transactionRejected,t),methodNotSupported:t=>Dd(ds.rpc.methodNotSupported,t),limitExceeded:t=>Dd(ds.rpc.limitExceeded,t)},Qk={userRejectedRequest:t=>Jk(ds.provider.userRejectedRequest,t),unauthorized:t=>Jk(ds.provider.unauthorized,t),unsupportedMethod:t=>Jk(ds.provider.unsupportedMethod,t),disconnected:t=>Jk(ds.provider.disconnected,t),chainDisconnected:t=>Jk(ds.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Yk(e,n,r)}}});function Uq(t){return(e,n,r,i)=>{let a=t[e.method];return a===void 0?r():typeof a=="function"?a(e,n,r,i):(n.result=a,i())}}function Bo(t){return async(e,n,r,i)=>{let a,o=new Promise(u=>{a=u}),s=null,c=!1,l=async()=>{c=!0,r(u=>{s=u,a()}),await o};try{await t(e,n,l),c?(await o,s(null)):i(null)}catch(u){let f=u;s?s(f):i(f)}}}var win,Eet=B(()=>{win=fe(hh())});function O5e(t){let{message:e="",code:n=-32603,stack:r="Stack trace is not available.",data:i=""}=t,a=parseInt(n?.toString()||"-32603");return{message:e||t?.toString()||P_(a),code:a,stack:r,data:i||e||t?.toString()}}function Fv(t){let e=new Om;return t.forEach(n=>{e.push(n)}),e.asMiddleware()}function k_(t){let e=new n6;return e.sendAsync=async n=>{let r=await t.handle(n);if(r.error){typeof r.error=="object"&&Object.keys(r.error).includes("stack")===!1&&(r.error.stack="Stack trace is not available."),Vk.error(r.error);let i=Dq(r.error,{fallbackError:O5e(r.error),shouldIncludeStack:!0});throw pi.internal(i)}return r.result},e.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,r)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{let r=q(q({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(r)},e}function N5e(t){let e=new Om;return e.push(t),k_(e)}var vin,Om,xet=B(()=>{st();Qe();vin=fe(hh());ZXe();R5e();Lq();_5e();cet();Om=class t extends n6{constructor(){super(),K(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){let i=[],a=null,o=!1;for(let s of r)if([a,o]=await t._runMiddleware(e,n,s,i),o)break;return[a,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(a=>{let o=c=>{let l=c||n.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),Vk.error(l),n.error=Dq(l,{shouldIncludeStack:!0,fallbackError:O5e(l)})),a([l,!0])},s=c=>{n.error?o(n.error):(c&&(typeof c!="function"&&o(new Eg({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),a([null,!1]))};try{r(e,n,s,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(let n of e)await new Promise((r,i)=>{n(a=>a?i(a):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new Eg({code:-32603,message:"Response has no error or result for request"});if(!r)throw new Eg({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{let[a,o,s]=await t._runAllMiddleware(e,n,this._middleware);return o?(await t._runReturnHandlers(s),i(a)):r(async c=>{try{await t._runReturnHandlers(s)}catch(l){return c(l)}return c()})}catch(a){return i(a)}}}async _handleBatch(e,n){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise((n,r)=>{this._handle(e,(i,a)=>{i&&a===void 0?r(i):n(a)}).catch(r)})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){let o=new Eg({code:-32603,message:"request must be plain object"});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){let o=new Eg({code:-32603,message:"method must be string"});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}let r=q({},e),i={id:r.id,jsonrpc:r.jsonrpc},a=null;try{await this._processRequest(r,i)}catch(o){a=o}return a&&(delete i.result,i.error||(typeof a=="object"&&Object.keys(a).includes("stack")===!1&&(a.stack="Stack trace is not available."),Vk.error(a),i.error=Dq(a,{shouldIncludeStack:!0,fallbackError:O5e(a)}))),n(a,i)}async _processRequest(e,n){let[r,i,a]=await t._runAllMiddleware(e,n,this._middleware);if(t._checkForCompletion(e,n,i),await t._runReturnHandlers(a),r)throw r}}});var iu=B(()=>{l5();_5e();R5e();Eet();xet()});var wi,xg=B(()=>{st();Qe();iu();wi=class extends n6{constructor({config:e={},state:n={}}){super(),K(this,"defaultConfig",{}),K(this,"defaultState",{}),K(this,"disabled",!1),K(this,"name","BaseController"),K(this,"initialConfig",void 0),K(this,"initialState",void 0),K(this,"internalConfig",this.defaultConfig),K(this,"internalState",this.defaultState),this.initialState=n,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,n=!1,r=!0){if(r){this.internalConfig=n?e:Object.assign(this.internalConfig,e);for(let i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(let i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,n=!1){this.internalState=n?q({},e):q(q({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}});var Ein,xin,Zk,Aet=B(()=>{Qe();xg();Ein=1e3,xin=(t,e)=>t+e,Zk=class extends wi{constructor({config:e={},state:n={}}){super({config:e,state:n}),K(this,"name","BaseBlockTracker"),K(this,"_blockResetTimeout",void 0),this.defaultState={_currentBlock:{idempotencyKey:""},_isRunning:!1},this.defaultConfig={blockResetDuration:20*Ein},this.initialize(),this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this.state._isRunning}getCurrentBlock(){return this.state._currentBlock}async getLatestBlock(){return this.state._currentBlock.idempotencyKey?this.state._currentBlock:await new Promise(n=>{this.once("latest",r=>{r&&n(r)})})}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_start(){}_end(){}_newPotentialLatest(e){let n=this.state._currentBlock;n&&e.idempotencyKey===n.idempotencyKey||this._setCurrentBlock(e)}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener)}_onNewListener(){this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this.state._isRunning||(this.state._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this.state._isRunning&&(this.state._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return["latest","sync"].map(n=>this.listenerCount(n)).reduce(xin)}_setCurrentBlock(e){let n=this.state._currentBlock;this.update({_currentBlock:e}),this.emit("latest",e),this.emit("sync",{oldBlock:n,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this.config.blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this.update({_currentBlock:{idempotencyKey:""}})}}});function Sin(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function P5e(t,e){let r=(e||{}).eventFilter||Ain;if(typeof r=="string"&&r==="skipInternal"&&(r=Tin),typeof r!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,a=s=>{if(i===s)return;let c=i;i=s,c.eventNames().filter(r).forEach(u=>{Sin(c,u).forEach(f=>{s.on(u,f)})}),c.removeAllListeners()};return new Proxy({},{get:(s,c)=>c==="setTarget"?a:i[c],set:(s,c,l)=>c==="setTarget"?(a=l,!0):(i[c]=l,!0),has:(s,c)=>c[0]==="_"?!1:c in i})}var Ain,_in,Tin,_et=B(()=>{Ain=()=>!0,_in=["newListener","removeListener"],Tin=t=>!_in.includes(t)});function k5e(t){let e=t,n=i=>{e=i};return new Proxy({},{get:(i,a)=>a==="setTarget"?n:e[a],set:(i,a,o)=>a==="setTarget"?(n=o,!0):(e[a]=o,!0),has:(i,a)=>a[0]==="_"?!1:a in e})}var Tet=B(()=>{});var Cin,Xk,Cet=B(()=>{xg();Cin=6e5,Xk=class extends wi{constructor({config:e={},state:n}){super({config:e,state:n}),this.defaultState={currentCurrency:"usd",conversionRate:0,conversionDate:"N/A",nativeCurrency:"ETH"},this.defaultConfig={pollInterval:Cin},this.initialize()}getNativeCurrency(){return this.state.nativeCurrency}setNativeCurrency(e){this.update({nativeCurrency:e,ticker:e})}getCurrentCurrency(){return this.state.currentCurrency}setCurrentCurrency(e){this.update({currentCurrency:e})}getConversionRate(){return this.state.conversionRate}setConversionRate(e){this.update({conversionRate:e})}getConversionDate(){return this.state.conversionDate}setConversionDate(e){this.update({conversionDate:e})}}});var M5e,B5e,Fq,Hq,D5e=B(()=>{M5e="walletActivity.send",B5e="walletActivity.receive",Fq={GET_PROVIDER_STATE:"wallet_get_provider_state",WALLET_SWITCH_CHAIN:"wallet_switchChain"},Hq=(function(t){return t.UserUnauthorized="user.unauthorized",t})({})});function M_(t,e){return Bo(async(n,r,i)=>{let{method:a}=n;if(a!==t)return i();if(!e)throw new Error(`CommunicationMiddleware - ${t} not provided`);let o=await e(n);if(!o)return i();r.result=o})}var Iet=B(()=>{iu()});var Ret,Oet,B_,D_,Net,zq=B(()=>{Ret={ETH_TRANSACTION:"eth_sendTransaction",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_SIGN:"personal_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage"},Oet={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},B_={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},D_={INTERNAL:"internal",NETWORK:"network"},Net={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"}});var ji,L5e=B(()=>{ji={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"}});function U5e(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}function jq(t,e,n){let r=WR(e),i=WR(n),a=k1(t),o=U5e(Buffer.from(YR(r)).toString("hex"),64),s=U5e(Buffer.from(YR(i)).toString("hex"),64),c=Si(mw(a));return qt(o.concat(s,c))}function eM(t){return new Promise(e=>{let n=window.setTimeout(()=>{e(),window.clearTimeout(n)},t)})}function G5e(){var t;if((t=navigator)!==null&&t!==void 0&&t.brave)return{browser:"Brave"}}var ol,F5e,tM,Gq,H5e,Hv,z5e,j5e,nM,V5e,rM,iM,Nm=B(()=>{$c();Gb();zq();L5e();ol=()=>Math.random().toString(36).slice(2);F5e=(t,e)=>({headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json; charset=utf-8","public-address":e}}),tM=(t,e="usd",n=!1)=>{let r=B1.isBigNumber(t)?t.toNumber():t;if(!Number.isFinite(r))return"";let i=e.toLowerCase()==="usd"?parseFloat(Number(r).toFixed(2)):parseFloat(Number(r).toFixed(5)),a=i>0?"~ ":"";return`${e.toLowerCase()==="usd"||n?"":a}${Number(i)} ${e.toUpperCase()}`},Gq=(t,e=5)=>t?t.length<11?t:typeof t!="string"?"":`${t.slice(0,e)}...${t.slice(-e)}`:"",H5e=(t,e=!1,n=2)=>{let r=B1.isBigNumber(t)?t:new B1(t);if(r.isZero())return r;e&&(r=r.times(new B1(100)));let i;r.gte(new B1(1))?i=n:i=n-1+Math.ceil(Math.log10(new B1("1").div(r).toNumber()));let a=new B1(10).pow(new B1(i));return Math.round(a.times(r).toNumber())/a.toNumber()},Hv=(t,e)=>typeof t.chainId<"u"?t.chainId===e:!1,z5e=t=>{let e=Buffer.from(t,"utf8"),n=fz(e);return Buffer.from(n)},j5e=async(t,e)=>{let n=Buffer.from(t,"hex"),r=Si(e),i=nx(Buffer.from(r,"hex"),n);return jq(Buffer.from(bh(i.v)),Buffer.from(i.r),Buffer.from(i.s))};nM=t=>t instanceof Response&&t.status===401,V5e=t=>{try{let e=t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},rM=t=>{try{return new URL(t).hostname}catch{return""}},iM=t=>{if(t)return t.chainNamespace===ji.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===ji.SOLANA?`${t.chainNamespace}:${Net[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`}});var aM,Pet=B(()=>{xg();Nm();aM=class extends wi{constructor({config:e={},state:n}){var r;super({config:e,state:n}),this.defaultState={wallets:(r=n.wallets)!==null&&r!==void 0?r:[]},this.initialize()}async signAuthMessage(e,n){let r=this.state.wallets.find(o=>o.address===e);if(!r)throw new Error("key does not exist");let i=z5e(n).toString("hex");return await j5e(r.privateKey,i)}}});var hi,pp,K5e=B(()=>{hi={UNAPPROVED:"unapproved",SIGNED:"signed",PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",FAILED:"failed"},pp={UNAPPROVED_MESSAGE:"unapprovedMessage"}});var mf,ket=B(()=>{Qe();iu();xg();K5e();mf=class extends wi{constructor({config:e,state:n}){super({config:e,state:n}),K(this,"messages",void 0),this.defaultState={unapprovedMessages:{},unapprovedMessagesCount:0},this.messages=[],this.defaultConfig={},super.initialize()}getMessage(e){return this.messages.find(n=>n.id===e)}getAllMessages(){return this.messages}setMetadata(e,n){let r=this.getMessage(e);if(!r)throw new Error(`${this.name}: Message not found for id: ${e}.`);r.metadata=n,this.updateMessage(r)}getUnapprovedMessages(){return this.messages.filter(e=>e.status===hi.UNAPPROVED).reduce((e,n)=>(e[n.id]=n,e),{})}async addMessage(e){this.messages.push(e),this.saveMessageList()}approveMessage(e,n){return this.setMessageStatus(e,hi.APPROVED),this.prepMessageForSigning(n)}setMessageStatus(e,n){let r=this.getMessage(e);if(!r)throw new Error(`${this.name}: Message not found for id: ${e}.`);r.status=n,this.updateMessage(r),this.emit(`${e}:${n}`,r),(n===hi.REJECTED||n===hi.SIGNED||n===hi.FAILED)&&this.emit(`${e}:finished`,r)}async waitForFinishStatus(e,n){return new Promise((r,i)=>{let a=o=>o.status===hi.REJECTED?i(Qk.userRejectedRequest(`${n} Signature: User denied message signature`)):o.status===hi.FAILED?i(pi.internal(`${n} Signature: failed to sign message ${o.error}`)):o.status===hi.SIGNED?r(o.rawSig):i(pi.internal(`${n} Signature: Unknown problem: ${JSON.stringify(e)}`));this.once(`${e.id}:finished`,a)})}updateMessage(e){let n=this.messages.findIndex(r=>e.id===r.id);n!==-1&&(this.messages[n]=e),this.saveMessageList()}saveMessageList(){let e=this.getUnapprovedMessages(),n=Object.keys(e).length;this.update({unapprovedMessages:e,unapprovedMessagesCount:n})}}});function $5e({analytics:t,providerConfig:e}){return(n,r,i)=>{if(!Object.values(Ret).includes(n.method))return i();let a=Date.now();i(o=>{let s={method:n.method,chain_id:iM(e),chain_rpc_target:rM(e.rpcTarget),is_aa_provider_request:n.isAAProviderRequest};r.error?t?.track(B_.JRPC_REQUEST_FAILED,q(q(q({request_type:D_.INTERNAL},s),V5e(r.error)),{},{duration:Date.now()-a})):t?.track(B_.JRPC_REQUEST_COMPLETED,q(q({request_type:D_.INTERNAL},s),{},{duration:Date.now()-a})),o()})}}var Met=B(()=>{st();zq();Nm()});function Rin(t){switch(t.status){case 405:throw pi.methodNotFound();case 418:throw pi.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw pi.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function Oin(t){return new Promise(e=>{setTimeout(e,t)})}function Nin(t,e){if(t.status!==200)throw pi.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var n;throw pi.internal({data:e.error,message:(n=e.error)===null||n===void 0?void 0:n.message})}return e.result}function Bet({req:t,rpcTarget:e,originHttpHeaderKey:n}){let r=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},a=t.origin,o=JSON.stringify(i),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o};return n&&a&&(s.headers[n]=a),{fetchUrl:r.href,fetchParams:s}}function L_({rpcTarget:t,originHttpHeaderKey:e,analytics:n,providerConfig:r}){return Bo(async(i,a,o)=>{let{fetchUrl:s,fetchParams:c}=Bet({req:i,rpcTarget:t,originHttpHeaderKey:e}),l=5,u=1e3,f=Date.now(),d=!Object.values(Oet).includes(i.method),p={chain_id:iM(r),chain_rpc_target:rM(s),method:i.method};for(let h=0;h<l;h++){try{let m=await fetch(s,c);Rin(m);let w=await m.json(),g=Nin(m,w);a.result=g,d||n?.track(B_.JRPC_REQUEST_COMPLETED,q(q({request_type:D_.NETWORK},p),{},{duration:Date.now()-f}));return}catch(m){let w=(m.message||m).toString();if(!Iin.some(x=>w.includes(x)))throw d||n?.track(B_.JRPC_REQUEST_FAILED,q(q({request_type:D_.NETWORK},p),{},{error_code:m?.code,error_message:w,duration:Date.now()-f})),await c5(m)}await Oin(u)}})}var Iin,Det=B(()=>{st();iu();zq();Nm();Iin=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"]});function oM(t,e){let n={};for(let[r,i]of Object.entries(t))e(i,r)||(n[r]=i);return n}function U_(t,e){let n={};for(let[r,i]of Object.entries(t))e(i,r)&&(n[r]=i);return n}function au(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n))}}function q5e(t,e){return t.slice().sort((n,r)=>n[e]<r[e]?-1:n[e]>r[e]?1:0)}function W5e(t,e){return t.reduce((n,r)=>{let i=r[e];return(typeof i=="string"||typeof i=="number")&&(n[i.toString()]=r),n},{})}function Y5e(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,e(r,n)]))}var sM=B(()=>{});function Pin(){let t,e=new Promise(n=>{t=n});return{resolve:t,promise:e}}function J5e({cacheIdentifierForRequest:t}){let e={};async function n(i,a){let{resolve:o,promise:s}=Pin();return a.push(c=>{i.result=au(c.result),i.error=au(c.error),o()}),s}function r(i,a){setTimeout(()=>{a.forEach(o=>{try{o(i)}catch(s){F_.default.error(s)}})})}return Bo(async(i,a,o)=>{if(i.skipCache)return o();let s=t(i);if(!s)return F_.default.info("Request is not cacheable, proceeding. req = %o",i),o();let c=e[s];if(c){F_.default.info("Running %i handler(s) for request %o",c.length,i),await n(a,c);return}c=[],e[s]=c,F_.default.info("Carrying original request forward %o",i),await o(),delete e[s],F_.default.info("Running %i collected handler(s) for request %o",c.length,i),r(a,c)})}var F_,Let=B(()=>{iu();F_=fe(Ln());sM()});var hp,kin,cM,Min,Uet,Fet=B(()=>{st();Uv();use();D5e();Nm();hp=(function(t){return t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.PUT=2]="PUT",t[t.PATCH=3]="PATCH",t[t.DELETE=4]="DELETE",t})(hp||{}),kin=({jwtToken:t,publicAddress:e,eoaAddress:n,chainNamespace:r})=>{let i={Authorization:`Bearer ${t}`,"public-address":e,"chain-namespace":r};return n&&(i["eoa-address"]=n),{headers:i}},cM=async(t,e)=>{try{return await t()}catch(n){throw nM(n)&&e.emit(Hq.UserUnauthorized),n}},Min=t=>{let n=mz(t).exp*1e3;return new Date().getTime()>=n},Uet=(t,e)=>{let n=(r,i,a,o,s)=>{if(Min(o.jwtToken))throw e.emit(Hq.UserUnauthorized),new Response(null,{status:401,statusText:"Unauthorized"});let c=q({"Content-Type":"application/json; charset=utf-8"},kin(o));if(r===hp.GET)return cM(()=>hf(i,c,s),e);if(r===hp.POST)return cM(()=>vg(i,a,c,s),e);if(r===hp.PUT)return cM(()=>ret(i,a,c,s),e);if(r===hp.PATCH)return cM(()=>net(i,a,c,s),e);if(r===hp.DELETE)return cM(()=>iet(i,a,c,s),e)};return{authGet:(r,i,a)=>n(hp.GET,`${t}/${r}`,{},i,a),authPost:(r,i,a,o)=>n(hp.POST,`${t}/${r}`,i,a,o),authPut:(r,i,a,o)=>n(hp.PUT,`${t}/${r}`,i,a,o),authPatch:(r,i,a,o)=>n(hp.PATCH,`${t}/${r}`,i,a,o),authRemove:(r,i,a,o)=>n(hp.DELETE,`${t}/${r}`,i,a,o)}}});var Ld,Het=B(()=>{Ld={NORMAL:"normal",THRESHOLD:"threshold",IMPORTED:"imported",APP_SCOPED:"app_scoped",ACCOUNT_ABSTRACTION:"account_abstraction",EXTERNAL:"external",MPC:"mpc",SFA:"sfa",SFA_ACCOUNT_ABSTRACTION:"sfa_account_abstraction",APP_SCOPED_DERIVED:"app_scoped_derived"}});var zet,I0,Bin,jet,lM,Get=B(()=>{st();Qe();Uv();iu();zet=fe(CI()),I0=fe(Ln());xg();sM();Fet();Het();Nm();Bin=180*1e3,jet={selectedCurrency:"USD",theme:"dark",locale:"en",accountType:Ld.NORMAL,contacts:[],jwtToken:"",fetchedPastTx:[],pastTransactions:[],paymentTx:[],defaultPublicAddress:"",customTokens:[],customNfts:[],crashReport:!0,userInfo:{email:"",name:"",profileImage:"",authConnectionId:"",userId:"",authConnection:Ze.GOOGLE,groupedAuthConnectionId:""}},lM=class extends wi{constructor({config:e,state:n,defaultPreferences:r,signAuthMessage:i,validateSignMessage:a}){if(super({config:e,state:n}),K(this,"name","PreferencesController"),K(this,"iframeOrigin",void 0),K(this,"wsApiClient",void 0),K(this,"chainNamespace",void 0),K(this,"signAuthMessage",void 0),K(this,"validateSignMessage",void 0),K(this,"defaultPreferences",void 0),!e.api)throw new Error("PreferencesController - no api specified in config.");this.defaultState={identities:{},selectedAddress:"",lastErrorMessage:"",lastSuccessMessage:""},this.defaultConfig={api:e.api,pollInterval:Bin},this.initialize(),this.defaultPreferences=q(q({},jet),r),this.signAuthMessage=i,this.validateSignMessage=a,this.wsApiClient=Uet(this.config.api,this)}setIframeOrigin(e){this.iframeOrigin=e}getAddressState(e){let n=e||this.state.selectedAddress;return this.state.identities[n]}setSelectedAddress(e){this.update({selectedAddress:e})}async getUser(e){return(await this.wsApiClient.authGet("user?fetchTx=false",this.authCredentials(e),{useAPIKey:!0})).data}async createUser(e){let{selectedCurrency:n,theme:r,authConnectionId:i,groupedAuthConnectionId:a,userId:o,locale:s,address:c,idToken:l,type:u,web3AuthNetwork:f,metadata:d}=e,p=q({default_currency:n,theme:r,verifier:a||i,verifier_id:o,locale:s,idToken:l,account_type:u,web3auth_network:f},d);await this.wsApiClient.authPost("user",p,this.authCredentials(c),{useAPIKey:!0}),this.updateState({theme:r,defaultPublicAddress:c,selectedCurrency:n,locale:s,accountType:u},c)}async storeUserLogin(e){let{authConnectionId:n,groupedAuthConnectionId:r,userId:i,options:a,address:o,idToken:s,web3AuthClientId:c,web3AuthNetwork:l,sessionPubKey:u,loginMode:f}=e;if(!a.rehydrate){let d=zet.default.getParser(window.navigator.userAgent),p=G5e(),h={os:d.getOSName(),os_version:d.getOSVersion()||"unidentified",browser:p?.browser||d.getBrowserName()||"unidentified",browser_version:d.getBrowserVersion()||"unidentified",platform:d.getPlatform().type||"desktop",hostname:this.iframeOrigin,verifier:r||n,verifier_id:i,idToken:s,web3auth_client_id:c,web3auth_network:l,session_pub_key:u,login_mode:f};await this.wsApiClient.authPost("user/recordLogin",h,this.authCredentials(o),{useAPIKey:!0})}}async setCrashReport(e){var n;if(e===((n=this.getAddressState())===null||n===void 0?void 0:n.crashReport))return!0;try{return await this.wsApiClient.authPatch("user",{enable_crash_reporter:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({crashReport:e}),!0}catch(r){return I0.default.error(r),!1}}async setUserTheme(e){var n;if(e===((n=this.getAddressState())===null||n===void 0?void 0:n.theme))return!0;try{return await this.wsApiClient.authPatch("user",{theme:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({theme:e}),!0}catch(r){return I0.default.error(r),!1}}async setUserLocale(e){var n;if(e!==((n=this.getAddressState())===null||n===void 0?void 0:n.locale))try{return await this.wsApiClient.authPatch("user",{locale:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({locale:e}),!0}catch(r){return I0.default.error("unable to set locale",r),!1}}async setSelectedCurrency(e){var n;if(e.selectedCurrency===((n=this.getAddressState())===null||n===void 0?void 0:n.selectedCurrency))return!0;try{return await this.wsApiClient.authPatch("user",{default_currency:e.selectedCurrency},this.authCredentials(),{useAPIKey:!0}),this.updateState({selectedCurrency:e.selectedCurrency}),!0}catch(r){return I0.default.error(r),!1}}async addContact(e){try{var n;let r=await this.wsApiClient.authPost("contact",e,this.authCredentials(),{useAPIKey:!0});return this.updateState({contacts:[...((n=this.getAddressState())===null||n===void 0?void 0:n.contacts)||[],r.data]}),!0}catch(r){return I0.default.error("unable to add contact",r),!1}}async deleteContact(e){try{var n;let r=await this.wsApiClient.authRemove(`contact/${e}`,{},this.authCredentials(),{useAPIKey:!0}),i=(n=this.getAddressState())===null||n===void 0?void 0:n.contacts.filter(a=>a.id!==r.data.id);return i&&this.updateState({contacts:[...i]}),!0}catch(r){return I0.default.error("unable to delete contact",r),!1}}async revokeDiscord(e){try{let n=await this.wsApiClient.authPost("revoke/discord",{token:e},this.authCredentials(),{useAPIKey:!0});I0.default.info(n)}catch(n){I0.default.error(n)}}async patchPastTx(e,n){try{let r=await this.wsApiClient.authPatch("transaction",e,this.authCredentials(n),{useAPIKey:!0});I0.default.info("successfully patched",r)}catch(r){I0.default.error("unable to patch tx",r)}}async postPastTx(e,n){try{let r=await this.wsApiClient.authPost("transaction",e,this.authCredentials(n),{useAPIKey:!0});return I0.default.info("successfully posted tx",r),r}catch(r){I0.default.error(r,"unable to insert transaction")}}async getWalletOrders(e){try{let n=await this.wsApiClient.authGet("transaction",this.authCredentials(e),{useAPIKey:!0});return n.success?n.data?n.data:[]:[]}catch(n){return I0.default.error("unable to get wallet orders tx",n),[]}}async getTopUpOrders(e){try{return(await this.wsApiClient.authGet("transaction",this.authCredentials(e),{useAPIKey:!0})).data||[]}catch(n){I0.default.error("unable to fetch past Top up orders",n)}}async getBillBoardData(){try{let e=await this.wsApiClient.authGet("billboard",this.authCredentials(),{useAPIKey:!0});return e.success?e.data:[]}catch(e){return I0.default.error("unable to get billboard data",e),[]}}async getMessageForSigning(e,n){return(await vg(`${this.config.api}/auth/message`,{public_address:e,id_token:n,chain_namespace:this.chainNamespace},{},{useAPIKey:!0})).message}async getTwitterId(e){let n=await this.wsApiClient.authGet(`twitter?screen_name=${e.nick}`,this.authCredentials(),{useAPIKey:!0});return`${e.typeOfLogin.toLowerCase()}|${n.data.toString()}`}async sendEmail(e){return this.wsApiClient.authPost("transaction/sendemail",e.emailObject,this.authCredentials(),{useAPIKey:!0})}async refreshJwt(){let e=this.state.selectedAddress,n=await this.getMessageForSigning(e);await this.validateSignMessage(n);let r=await this.signAuthMessage(e,n),i=await vg(`${this.config.api}/auth/verify`,{challenge:n,public_address:e,signed_message:r,chain_namespace:this.chainNamespace},{},{useAPIKey:!0});this.updateState({jwtToken:i.token},e)}async getDappList(){try{let e=await this.wsApiClient.authGet("dapps",this.authCredentials(),{useAPIKey:!0});return e.success?e.data:[]}catch(e){return I0.default.error("unable to get dapps list",e),[]}}async init(e){let{address:n,userInfo:r,idToken:i,metadata:a={},type:o}=e;if(this.getAddressState(n))return;let s;switch(o){case Ld.EXTERNAL:{if(!i)throw new Error("SIWW idToken must be present");s=(await vg(`${this.config.api}/auth/verify`,q({account_type:o,public_address:n,id_token:i,verifier:r.groupedAuthConnectionId||r.authConnectionId,verifier_id:r.userId,chain_namespace:this.chainNamespace},a),{},{useAPIKey:!0})).token;break}case Ld.IMPORTED:case Ld.APP_SCOPED_DERIVED:case Ld.ACCOUNT_ABSTRACTION:{if(!i)throw new Error("Web3Auth idToken must be present");s=(await vg(`${this.config.api}/auth/verify`,q({public_address:n,id_token:i,verifier:r.groupedAuthConnectionId||r.authConnectionId,verifier_id:r.userId,account_type:o,chain_namespace:this.chainNamespace},a),{},{useAPIKey:!0})).token;break}case Ld.MPC:case Ld.SFA:case Ld.SFA_ACCOUNT_ABSTRACTION:{if(!a.signatures)throw new Error("web3auth signatures must be present");s=(await vg(`${this.config.api}/auth/verify`,q({public_address:n,verifier:r.groupedAuthConnectionId||r.authConnectionId,verifier_id:r.userId,account_type:o,chain_namespace:this.chainNamespace},a),{},{useAPIKey:!0})).token;break}case Ld.NORMAL:case Ld.THRESHOLD:case Ld.APP_SCOPED:default:if(!i)throw new Error("Web3Auth idToken must be present");s=i;break}this.updateState({jwtToken:s,userInfo:r,accountType:o??this.defaultPreferences.accountType},n)}updateState(e,n){let r=n||this.state.selectedAddress,i=this.getAddressState(r)||au(this.defaultPreferences),a=q(q({},i),e);return this.update({identities:q(q({},this.state.identities),{},{[r]:a})}),a}authCredentials(e){var n;let r=e||this.state.selectedAddress;return{jwtToken:((n=this.getAddressState(r))===null||n===void 0?void 0:n.jwtToken)||"",publicAddress:r,chainNamespace:this.chainNamespace}}headers(e){var n;let r=e||this.state.selectedAddress;return F5e(((n=this.getAddressState(r))===null||n===void 0?void 0:n.jwtToken)||"",r)}}});var Xt,Ud,Ha,Q5e=B(()=>{Xt=(function(t){return t.approved="approved",t.cancelled="cancelled",t.cancelling="cancelling",t.confirmed="confirmed",t.failed="failed",t.finalized="finalized",t.processed="processed",t.rejected="rejected",t.signed="signed",t.submitted="submitted",t.unapproved="unapproved",t.dropped="dropped",t.expired="expired",t.pending="pending",t})({}),Ud={CANCEL:"cancel",RETRY:"retry",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",WASM_BASED_DEPLOY:"wasmBasedDeploy",STANDARD_TRANSACTION:"transaction",STANDARD_PAYMENT_TRANSACTION:"payment_transaction",SENT_ETHER:"sentEther",SENT_SOL:"sentSol",TOKEN_METHOD_TRANSFER:"transfer",TOKEN_METHOD_TRANSFER_FROM:"transferFrom",TOKEN_METHOD_APPROVE:"approve",TOKEN_BURN:"burn",COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM:"safeTransferFrom",SET_APPROVAL_FOR_ALL:"setApprovalForAll"},Ha={TX_WARNING:"tx:warning",TX_ERROR:"tx:error",TX_FAILED:"tx:failed",TX_CONFIRMED:"tx:confirmed",TX_DROPPED:"tx:dropped",TX_EXPIRED:"tx:expired",TX_STATUS_UPDATE:"tx:status_update",TX_UNAPPROVED:"tx:unapproved",TX_RETRY:"tx:retry",TX_BLOCK_UPDATE:"tx:block_update"}});var uM,Vet=B(()=>{st();Qe();xg();sM();Q5e();Nm();uM=class extends wi{constructor({config:e,state:n,getCurrentChainId:r}){super({config:e,state:n}),K(this,"getCurrentChainId",void 0),this.defaultConfig={txHistoryLimit:40},this.defaultState={transactions:{},unapprovedTxs:{},currentNetworkTxsList:[]},this.initialize(),this.getCurrentChainId=r}getUnapprovedTxList(){let e=this.getCurrentChainId();return U_(this.state.transactions,n=>n.status===Xt.unapproved&&Hv(n,e))}getTransaction(e){let{transactions:n}=this.state;return n[e]}updateTransaction(e){let n=e.id;e.updated_at=new Date().toISOString(),this.update({transactions:q(q({},this.state.transactions),{},{[n]:e})})}setTxStatusRejected(e){this._setTransactionStatus(e,Xt.rejected),this._deleteTransaction(e)}setTxStatusUnapproved(e){this._setTransactionStatus(e,Xt.unapproved)}setTxStatusApproved(e){this._setTransactionStatus(e,Xt.approved)}setTxStatusSigned(e,n){this._setTransactionStatus(e,Xt.signed,n)}setTxStatusSubmitted(e){this._setTransactionStatus(e,Xt.submitted)}setTxStatusDropped(e){this._setTransactionStatus(e,Xt.dropped)}setTxStatusExpired(e){this._setTransactionStatus(e,Xt.expired)}setTxStatusConfirmed(e){this._setTransactionStatus(e,Xt.confirmed)}setTxStatusFailed(e,n){let r=n||new Error("Internal torus failure"),i=this.getTransaction(e);i.error=r,this.updateTransaction(i),this._setTransactionStatus(e,Xt.failed)}isFinalState(e){return e===Xt.rejected||e===Xt.submitted||e===Xt.confirmed||e===Xt.failed||e===Xt.cancelled||e===Xt.expired}clearUnapprovedTxs(){this.update({transactions:oM(this.state.transactions,e=>e.status===Xt.unapproved)})}_addTransactionsToState(e){this.update({transactions:e.reduce((n,r)=>(n[r.id]=r,n),this.state.transactions)})}_setTransactionsToState(e){this.update({transactions:e.reduce((n,r)=>(n[r.id]=r,n),{})})}_deleteTransaction(e){let{transactions:n}=this.state;delete n[e],this.update({transactions:n})}_deleteTransactions(e){let{transactions:n}=this.state;e.forEach(r=>{delete n[r]}),this.update({transactions:n})}_setTransactionStatus(e,n,r){let i=this.getTransaction(e);i&&(i.status=n,this.updateTransaction(i),this.emit(Ha.TX_STATUS_UPDATE,{txId:e,status:n}),this.isFinalState(n)||r?this.emit(`${i.id}:finished`,i):this.emit(`${i.id}:${n}`,e))}}});var Ket,sl,$et=B(()=>{Qe();Ket=fe(Ln());Nm();sl=class{constructor(e,n){K(this,"idleTimeTracker",void 0),K(this,"pollingInterval",void 0),K(this,"isPolling",!1),this.pollingInterval=n,this.idleTimeTracker=e}start(e){this.idleTimeTracker.on("active",this.poll.bind(this,e)),this.idleTimeTracker.on("idle",this.stop.bind(this)),this.poll(e)}stop(){this.isPolling=!1}async poll(e){if(!this.isPolling)for(this.isPolling=!0;this.isPolling;){if(this.idleTimeTracker.checkIfIdle()){this.isPolling=!1;return}try{await e()}catch(n){Ket.default.error(n)}await eM(this.pollingInterval)}}}});var Oi=B(()=>{xg();Aet();_et();Tet();Cet();Iet();D5e();Pet();ket();K5e();Met();Det();Let();L5e();Get();Vet();Q5e();sM();$et();Nm()});function Uin(t,e){let n=qet(t,r=>e.priority<=r.priority);t.splice(n+1,0,e)}function qet(t,e){for(let n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1}var mlr,ylr,Din,Lin,Z5e,Fin,r6,fM=B(()=>{mlr=new Error("timeout while waiting for mutex to become available"),ylr=new Error("mutex already locked"),Din=new Error("request for lock canceled"),Lin=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((r=r.apply(t,e||[])).next())})},Z5e=class{constructor(e,n=Din){this._value=e,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(e=1,n=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((r,i)=>{let a={resolve:r,reject:i,weight:e,priority:n},o=qet(this._queue,s=>n<=s.priority);o===-1&&e<=this._value?this._dispatchItem(a):this._queue.splice(o+1,0,a)})}runExclusive(e){return Lin(this,arguments,void 0,function*(n,r=1,i=0){let[a,o]=yield this.acquire(r,i);try{return yield n(a)}finally{o()}})}waitForUnlock(e=1,n=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return this._couldLockImmediately(e,n)?Promise.resolve():new Promise(r=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),Uin(this._weightedWaiters[e-1],{resolve:r,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatchQueue()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatchQueue()}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(e){let n=this._value;this._value-=e.weight,e.resolve([n,this._newReleaser(e.weight)])}_newReleaser(e){let n=!1;return()=>{n||(n=!0,this.release(e))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let e=this._value;e>0;e--){let n=this._weightedWaiters[e-1];n&&(n.forEach(r=>r.resolve()),this._weightedWaiters[e-1]=[])}else{let e=this._queue[0].priority;for(let n=this._value;n>0;n--){let r=this._weightedWaiters[n-1];if(!r)continue;let i=r.findIndex(a=>a.priority<=e);(i===-1?r:r.splice(0,i)).forEach((a=>a.resolve()))}}}_couldLockImmediately(e,n){return(this._queue.length===0||this._queue[0].priority<n)&&e<=this._value}};Fin=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?a(u.value):i(u.value).then(s,c)}l((r=r.apply(t,e||[])).next())})},r6=class{constructor(e){this._semaphore=new Z5e(1,e)}acquire(){return Fin(this,arguments,void 0,function*(e=0){let[,n]=yield this._semaphore.acquire(1,e);return n})}runExclusive(e,n=0){return this._semaphore.runExclusive(()=>e(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(e=0){return this._semaphore.waitForUnlock(1,e)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}});var Wet,Yet=B(()=>{Wet="6.15.0"});function Hin(t,e,n){let r=e.split("|").map(a=>a.trim());for(let a=0;a<r.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function lo(t){let e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,a)=>(r[e[a]]=i,r),{})}function Ct(t,e,n){for(let r in e){let i=e[r],a=n?n[r]:null;a&&Hin(i,a,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}var zv=B(()=>{});function H_(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>H_(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){let n="0123456789abcdef",r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return H_(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${H_(r,e)}: ${H_(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ia(t,e){return t&&t.code===e}function jv(t){return ia(t,"CALL_EXCEPTION")}function zr(t,e,n){let r=t;{let a=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${H_(n)}`);for(let o in n){if(o==="shortMessage")continue;let s=n[o];a.push(o+"="+H_(s))}}a.push(`code=${e}`),a.push(`version=${Wet}`),a.length&&(t+=" ("+a.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Ct(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Ct(i,{shortMessage:r}),i}function Re(t,e,n,r){if(!t)throw zr(e,n,r)}function ae(t,e,n,r){Re(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function z_(t,e,n){n==null&&(n=""),n&&(n=": "+n),Re(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Re(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}function Vq(t){Re(zin.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function Pm(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),Re(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}var zin,Ag=B(()=>{Yet();zv();zin=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");t.push(e)}catch{}return t},[])});function Qet(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let r=new Uint8Array((t.length-2)/2),i=2;for(let a=0;a<r.length;a++)r[a]=parseInt(t.substring(i,i+2),16),i+=2;return r}ae(!1,"invalid BytesLike value",e||"value",t)}function en(t,e){return Qet(t,e,!1)}function uo(t,e){return Qet(t,e,!0)}function Hn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function _g(t){return Hn(t,!0)||t instanceof Uint8Array}function Ye(t){let e=en(t),n="0x";for(let r=0;r<e.length;r++){let i=e[r];n+=Jet[(i&240)>>4]+Jet[i&15]}return n}function Tr(t){return"0x"+t.map(e=>Ye(e).substring(2)).join("")}function mp(t){return Hn(t,!0)?(t.length-2)/2:en(t).length}function Gi(t,e,n){let r=en(t);return n!=null&&n>r.length&&Re(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Ye(r.slice(e??0,n??r.length))}function Zet(t,e,n){let r=en(t);Re(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});let i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),Ye(i)}function Ic(t,e){return Zet(t,e,!0)}function Kq(t,e){return Zet(t,e,!1)}var Jet,i6=B(()=>{Ag();Jet="0123456789abcdef"});function qq(t,e){let n=V_(t,"value"),r=BigInt(Cn(e,"width"));if(Re(n>>r===$q,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-yp){let i=(yp<<r)-yp;return-((~n&i)+yp)}return n}function G_(t,e){let n=dt(t,"value"),r=BigInt(Cn(e,"width")),i=yp<<r-yp;if(n<$q){n=-n,Re(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let a=(yp<<r)-yp;return(~n&a)+yp}else Re(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function km(t,e){let n=V_(t,"value"),r=BigInt(Cn(e,"bits"));return n&(yp<<r)-yp}function dt(t,e){switch(typeof t){case"bigint":return t;case"number":return ae(Number.isInteger(t),"underflow",e||"value",t),ae(t>=-j_&&t<=j_,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ae(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ae(!1,"invalid BigNumberish value",e||"value",t)}function V_(t,e){let n=dt(t,e);return Re(n>=$q,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}function Gv(t){if(t instanceof Uint8Array){let e="0x0";for(let n of t)e+=Xet[n>>4],e+=Xet[n&15];return BigInt(e)}return dt(t)}function Cn(t,e){switch(typeof t){case"bigint":return ae(t>=-j_&&t<=j_,"overflow",e||"value",t),Number(t);case"number":return ae(Number.isInteger(t),"underflow",e||"value",t),ae(t>=-j_&&t<=j_,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Cn(BigInt(t),e)}catch(n){ae(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ae(!1,"invalid numeric value",e||"value",t)}function Wq(t){return Cn(Gv(t))}function cl(t,e){let r=V_(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{let i=Cn(e,"width");for(Re(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function da(t){let e=V_(t,"value");if(e===$q)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);let r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){let a=i*2;r[i]=parseInt(n.substring(a,a+2),16)}return r}function za(t){let e=Ye(_g(t)?t:da(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var $q,yp,j_,Xet,Yq=B(()=>{i6();Ag();$q=BigInt(0),yp=BigInt(1),j_=9007199254740991;Xet="0123456789abcdef"});function Jq(t){let e=en(t),n=Gv(e),r="";for(;n;)r=ett[Number(n%ttt)]+r,n/=ttt;for(let i=0;i<e.length&&!e[i];i++)r=ett[0]+r;return r}var ett,Olr,ttt,ntt=B(()=>{i6();Yq();ett="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Olr=BigInt(0),ttt=BigInt(58)});function X5e(t){t=atob(t);let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return en(e)}function eme(t){let e=en(t),n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var rtt=B(()=>{i6()});var Tg,itt=B(()=>{zv();Tg=class{filter;emitter;#e;constructor(e,n,r){this.#e=n,Ct(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}});function jin(t,e,n,r,i){ae(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function att(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let a=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)a++;return a}return t==="OVERRUN"?n.length-e-1:0}function Gin(t,e,n,r,i){return t==="OVERLONG"?(ae(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),att(t,e,n,r,i))}function Vin(t,e){e==null&&(e=tme.error);let n=en(t,"bytes"),r=[],i=0;for(;i<n.length;){let a=n[i++];if(a>>7===0){r.push(a);continue}let o=null,s=null;if((a&224)===192)o=1,s=127;else if((a&240)===224)o=2,s=2047;else if((a&248)===240)o=3,s=65535;else{(a&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let c=a&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),c=null;break}c=c<<6|u&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,c);continue}if(c<=s){i+=e("OVERLONG",i-1-o,n,r,c);continue}r.push(c)}}return r}function Ko(t,e){ae(typeof t=="string","invalid string value","str",t),e!=null&&(Vq(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;let a=t.charCodeAt(r);ae(r<t.length&&(a&64512)===56320,"invalid surrogate pair","str",t);let o=65536+((i&1023)<<10)+(a&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function Kin(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Mm(t,e){return Kin(Vin(t,e))}var tme,Qq=B(()=>{i6();Ag();tme=Object.freeze({error:jin,ignore:att,replace:Gin})});function Zq(t){async function e(n,r){Re(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");let i=n.url.split(":")[0].toLowerCase();Re(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Re(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null,o=new AbortController,s=setTimeout(()=>{a=zr("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{a=zr("request cancelled","CANCELLED"),o.abort()});let c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal}),l;try{l=await fetch(n.url,c)}catch(p){throw clearTimeout(s),a||p}clearTimeout(s);let u={};l.headers.forEach((p,h)=>{u[h.toLowerCase()]=p});let f=await l.arrayBuffer(),d=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:d}}return e}var Hlr,ott=B(()=>{Ag();Hlr=Zq({})});async function ltt(t,e){try{let n=t.match(Win);if(!n)throw new Error("invalid data");return new a6(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?X5e(n[3]):Jin(n[3]))}catch{return new a6(599,"BAD REQUEST (invalid data: URI)",{},null,new ou(t))}}function utt(t){async function e(n,r){try{let i=n.match(Yin);if(!i)throw new Error("invalid link");return new ou(`${t}${i[2]}`)}catch{return new a6(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ou(n))}}return e}function eW(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}function ctt(){return new Date().getTime()}function Jin(t){return Ko(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Qin(t){return new Promise(e=>setTimeout(e,t))}var $in,qin,stt,Win,Yin,nme,Xq,ftt,dM,ou,a6,dtt=B(()=>{rtt();i6();Ag();zv();Qq();ott();$in=12,qin=250,stt=Zq(),Win=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Yin=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),nme=!1;Xq={data:ltt,ipfs:utt("https://gateway.ipfs.io/ipfs/")},ftt=new WeakMap,dM=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,ftt.set(e,()=>{if(!this.#t){this.#t=!0;for(let n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){Re(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){Re(!this.cancelled,"cancelled","CANCELLED",{})}};ou=class t{#e;#t;#n;#r;#i;#o;#a;#s;#p;#l;#h;#m;#c;#u;#f;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#a==null?null:new Uint8Array(this.#a)}set body(e){if(e==null)this.#a=void 0,this.#s=void 0;else if(typeof e=="string")this.#a=Ko(e),this.#s="text/plain";else if(e instanceof Uint8Array)this.#a=e,this.#s="application/octet-stream";else if(typeof e=="object")this.#a=Ko(JSON.stringify(e)),this.#s="application/json";else throw new Error("invalid body")}hasBody(){return this.#a!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#n);return this.#p&&(e.authorization=`Basic ${eme(Ko(this.#p))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#s&&(e["content-type"]=this.#s),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){let e=this.headers,n=Object.keys(e),r=0;return{next:()=>{if(r<n.length){let i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#p||null}setCredentials(e,n){ae(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#p=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){ae(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#h||null}set processFunc(e){this.#h=e}get retryFunc(){return this.#m||null}set retryFunc(e){this.#m=e}get getUrlFunc(){return this.#f||stt}set getUrlFunc(e){this.#f=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#u={slotInterval:qin,maxAttempts:$in},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#a?Ye(this.#a):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#d(e,n,r,i,a){if(e>=this.#u.maxAttempts)return a.makeServerError("exceeded maximum retry limit");Re(ctt()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await Qin(r);let o=this.clone(),s=(o.url.split(":")[0]||"").toLowerCase();if(s in Xq){let u=await Xq[s](o.url,eW(i.#c));if(u instanceof a6){let f=u;if(this.processFunc){eW(i.#c);try{f=await this.processFunc(o,f)}catch(d){(d.throttle==null||typeof d.stall!="number")&&f.makeServerError("error in post-processing function",d).assertOk()}}return f}o=u}this.preflightFunc&&(o=await this.preflightFunc(o));let c=await this.getUrlFunc(o,eW(i.#c)),l=new a6(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{let u=l.headers.location||"";return o.redirect(u).#d(e+1,n,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){let u=l.headers["retry-after"],f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(f=parseInt(u)),o.clone().#d(e+1,n,f,i,l)}if(this.processFunc){eW(i.#c);try{l=await this.processFunc(o,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(f=u.stall),o.clone().#d(e+1,n,f,i,l)}}return l}send(){return Re(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new dM(this),this.#d(0,ctt()+this.timeout,0,this,new a6(0,"",{},null,this))}cancel(){Re(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=ftt.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Re(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let i=new t(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#a&&(i.#a=new Uint8Array(this.#a)),i.#s=this.#s,i}clone(){let e=new t(this.url);return e.#r=this.#r,this.#a&&(e.#a=this.#a),e.#s=this.#s,e.#n=Object.assign({},this.#n),e.#p=this.#p,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#h=this.#h,e.#m=this.#m,e.#u=Object.assign({},this.#u),e.#f=this.#f,e}static lockConfig(){nme=!0}static getGateway(e){return Xq[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(nme)throw new Error("gateways locked");Xq[e]=n}static registerGetUrl(e){if(nme)throw new Error("gateways locked");stt=e}static createGetUrlFunc(e){return Zq(e)}static createDataGateway(){return ltt}static createIpfsGatewayFunc(e){return utt(e)}},a6=class t{#e;#t;#n;#r;#i;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?Ye(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":Mm(this.#r)}catch{Re(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Re(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,n=Object.keys(e),r=0;return{next:()=>{if(r<n.length){let i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,a){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((o,s)=>(o[s.toLowerCase()]=String(r[s]),o),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=a||null,this.#o={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let i=new t(599,r,this.headers,this.body,this.#i||void 0);return i.#o={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:ae(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);let r=new Error(e||"throttling requests");throw Ct(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=Mm(this.#r))}catch{}Re(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}});function Zin(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function ptt(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function htt(t,e,n,r){let i=[];for(;n<e+1+r;){let a=mtt(t,n);i.push(a.result),n+=a.consumed,Re(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function mtt(t,e){Re(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let n=r=>{Re(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){let r=t[e]-247;n(e+1+r);let i=ptt(t,e+1,r);return n(e+1+r+i),htt(t,e,e+1+r,r+i)}else if(t[e]>=192){let r=t[e]-192;return n(e+1+r),htt(t,e,e+1,r)}else if(t[e]>=184){let r=t[e]-183;n(e+1+r);let i=ptt(t,e+1,r);n(e+1+r+i);let a=Ye(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:a}}else if(t[e]>=128){let r=t[e]-128;n(e+1+r);let i=Ye(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Zin(t[e])}}function Sg(t){let e=en(t,"data"),n=mtt(e,0);return ae(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}var ytt=B(()=>{i6();Ag();i6()});function btt(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function wtt(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(a){r=r.concat(wtt(a))}),r.length<=55)return r.unshift(192+r.length),r;let i=btt(r.length);return i.unshift(247+i.length),i.concat(r)}let e=Array.prototype.slice.call(en(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let n=btt(e.length);return n.unshift(183+n.length),n.concat(e)}function Fd(t){let e="0x";for(let n of wtt(t))e+=gtt[n>>4],e+=gtt[n&15];return e}var gtt,vtt=B(()=>{i6();gtt="0123456789abcdef"});var ar=B(()=>{ntt();i6();Ag();itt();dtt();Yq();zv();ytt();vtt();Qq()});function Vv(t){return Att.get(t)}function Ett(t,e){Att.set(t,e)}function pM(t,e){let n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function ime(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof o6?ime(Vv(r),r,n):r):t.reduce((r,i,a)=>{let o=e.getValue(i);return i in r||(n&&o instanceof o6&&(o=ime(Vv(o),o,n)),r[i]=o),r},{})}function xtt(t){let e=da(t);return Re(e.length<=R0,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:R0,offset:e.length}),e.length!==R0&&(e=uo(Tr([rme.slice(e.length%R0),e]))),e}var R0,rme,nan,tW,Att,o6,$o,Kv,nW,Hd=B(()=>{ar();R0=32,rme=new Uint8Array(R0),nan=["then"],tW={},Att=new WeakMap;o6=class t extends Array{#e;constructor(...e){let n=e[0],r=e[1],i=(e[2]||[]).slice(),a=!0;n!==tW&&(r=e,i=[],a=!1),super(r.length),r.forEach((c,l)=>{this[l]=c});let o=i.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(Ett(this,Object.freeze(r.map((c,l)=>{let u=i[l];return u!=null&&o.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!a)return;Object.freeze(this);let s=new Proxy(this,{get:(c,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let d=Cn(l,"%index");if(d<0||d>=this.length)throw new RangeError("out of result range");let p=c[d];return p instanceof Error&&pM(`index ${d}`,p),p}if(nan.indexOf(l)>=0)return Reflect.get(c,l,u);let f=c[l];if(f instanceof Function)return function(...d){return f.apply(this===u?c:this,d)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}});return Ett(s,Vv(this)),s}toArray(e){let n=[];return this.forEach((r,i)=>{r instanceof Error&&pM(`index ${i}`,r),e&&r instanceof t&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){let n=Vv(this);return n.reduce((r,i,a)=>(Re(i!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),ime(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let r=Vv(this),i=[],a=[];for(let o=e;o<n;o++)i.push(this[o]),a.push(r[o]);return new t(tW,i,a)}filter(e,n){let r=Vv(this),i=[],a=[];for(let o=0;o<this.length;o++){let s=this[o];s instanceof Error&&pM(`index ${o}`,s),e.call(n,s,o,this)&&(i.push(s),a.push(r[o]))}return new t(tW,i,a)}map(e,n){let r=[];for(let i=0;i<this.length;i++){let a=this[i];a instanceof Error&&pM(`index ${i}`,a),r.push(e.call(n,a,i,this))}return r}getValue(e){let n=Vv(this).indexOf(e);if(n===-1)return;let r=this[n];return r instanceof Error&&pM(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new t(tW,e,n)}};$o=class{name;type;localName;dynamic;constructor(e,n,r,i){Ct(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ae(!1,e,this.localName,n)}},Kv=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Tr(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(uo(e.data))}writeBytes(e){let n=uo(e),r=n.length%R0;return r&&(n=uo(Tr([n,rme.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(xtt(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(rme),this.#t+=R0,n=>{this.#e[e]=xtt(n)}}},nW=class t{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){Ct(this,{allowLoose:!!n}),this.#e=uo(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return Ye(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#r)return this.#r.#o(e);this.#n+=e,Re(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:uo(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#a(e,n,r){let i=Math.ceil(n/R0)*R0;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:Re(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:uo(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){let n=new t(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#a(0,e,!!n);return this.#o(e),this.#t+=r.length,r.slice(0,e)}readValue(){return Gv(this.readBytes(R0))}readIndex(){return Wq(this.readBytes(R0))}}});function hM(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function mM(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function _tt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hM(t.outputLen),hM(t.blockLen)}function Bm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rW(t,e){mM(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var iW=B(()=>{});var aW,Ttt=B(()=>{aW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function ian(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ig(t){if(typeof t=="string"&&(t=ian(t)),!Stt(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Itt(...t){let e=new Uint8Array(t.reduce((r,i)=>r+i.length,0)),n=0;return t.forEach(r=>{if(!Stt(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function K_(t){let e=r=>t().update(Ig(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Rtt(t){let e=(r,i)=>t(i).update(Ig(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Ott(t=32){if(aW&&typeof aW.getRandomValues=="function")return aW.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var Stt,Ctt,oW,bp,ran,Cg,bur,$v=B(()=>{Ttt();Stt=t=>t instanceof Uint8Array,Ctt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),oW=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),bp=(t,e)=>t<<32-e|t>>>e,ran=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ran)throw new Error("Non little-endian hardware is not supported");Cg=class{clone(){return this._cloneInto()}},bur={}.toString});var sW,ame,Ntt=B(()=>{iW();$v();sW=class extends Cg{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,_tt(e);let r=Ig(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(e){return Bm(this),this.iHash.update(e),this}digestInto(e){Bm(this),mM(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:o,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ame=(t,e,n)=>new sW(t,e).update(n).digest();ame.create=(t,e)=>new sW(t,e)});function aan(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,s,r)}var $_,ome=B(()=>{iW();$v();$_=class extends Cg{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=oW(this.buffer)}update(e){Bm(this);let{view:n,buffer:r,blockLen:i}=this;e=Ig(e);let a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let c=oW(e);for(;i<=a-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Bm(this),rW(e,this),this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:a}=this,{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;aan(r,i-8,BigInt(this.length*8),a),this.process(r,0);let s=oW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)s.setUint32(4*f,u[f],a)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:r,length:i,finished:a,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%n&&e.buffer.set(r),e}}});var oan,san,can,Rg,Og,sme,cW,cme=B(()=>{ome();$v();oan=(t,e,n)=>t&e^~t&n,san=(t,e,n)=>t&e^t&n^e&n,can=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Og=new Uint32Array(64),sme=class extends $_{constructor(){super(64,32,8,!1),this.A=Rg[0]|0,this.B=Rg[1]|0,this.C=Rg[2]|0,this.D=Rg[3]|0,this.E=Rg[4]|0,this.F=Rg[5]|0,this.G=Rg[6]|0,this.H=Rg[7]|0}get(){let{A:e,B:n,C:r,D:i,E:a,F:o,G:s,H:c}=this;return[e,n,r,i,a,o,s,c]}set(e,n,r,i,a,o,s,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Og[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){let d=Og[f-15],p=Og[f-2],h=bp(d,7)^bp(d,18)^d>>>3,m=bp(p,17)^bp(p,19)^p>>>10;Og[f]=m+Og[f-7]+h+Og[f-16]|0}let{A:r,B:i,C:a,D:o,E:s,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=bp(s,6)^bp(s,11)^bp(s,25),p=u+d+oan(s,c,l)+can[f]+Og[f]|0,m=(bp(r,2)^bp(r,13)^bp(r,22))+san(r,i,a)|0;u=l,l=c,c=s,s=o+p|0,o=a,a=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,a,o,s,c,l,u)}roundClean(){Og.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},cW=K_(()=>new sme)});function Ptt(t,e=!1){return e?{h:Number(t&lW),l:Number(t>>lme&lW)}:{h:Number(t>>lme&lW)|0,l:Number(t&lW)|0}}function ume(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:a,l:o}=Ptt(t[i],e);[n[i],r[i]]=[a,o]}return[n,r]}function gan(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}var lW,lme,lan,uan,fan,dan,pan,han,man,yan,ban,fme,dme,pme,hme,wan,van,Ean,xan,Aan,_an,Tan,Yn,mme=B(()=>{lW=BigInt(4294967295),lme=BigInt(32);lan=(t,e)=>BigInt(t>>>0)<<lme|BigInt(e>>>0),uan=(t,e,n)=>t>>>n,fan=(t,e,n)=>t<<32-n|e>>>n,dan=(t,e,n)=>t>>>n|e<<32-n,pan=(t,e,n)=>t<<32-n|e>>>n,han=(t,e,n)=>t<<64-n|e>>>n-32,man=(t,e,n)=>t>>>n-32|e<<64-n,yan=(t,e)=>e,ban=(t,e)=>t,fme=(t,e,n)=>t<<n|e>>>32-n,dme=(t,e,n)=>e<<n|t>>>32-n,pme=(t,e,n)=>e<<n-32|t>>>64-n,hme=(t,e,n)=>t<<n-32|e>>>64-n;wan=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),van=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Ean=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),xan=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Aan=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),_an=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0,Tan={fromBig:Ptt,split:ume,toBig:lan,shrSH:uan,shrSL:fan,rotrSH:dan,rotrSL:pan,rotrBH:han,rotrBL:man,rotr32H:yan,rotr32L:ban,rotlSH:fme,rotlSL:dme,rotlBH:pme,rotlBL:hme,add:gan,add3L:wan,add3H:van,add4L:Ean,add4H:xan,add5H:_an,add5L:Aan},Yn=Tan});var San,Can,Ng,Pg,yme,ktt,Mtt=B(()=>{ome();mme();$v();[San,Can]=Yn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ng=new Uint32Array(80),Pg=new Uint32Array(80),yme=class extends $_{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:o,Dh:s,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:w}=this;return[e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w]}set(e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=o|0,this.Dh=s|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=h|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let C=0;C<16;C++,n+=4)Ng[C]=e.getUint32(n),Pg[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){let P=Ng[C-15]|0,D=Pg[C-15]|0,F=Yn.rotrSH(P,D,1)^Yn.rotrSH(P,D,8)^Yn.shrSH(P,D,7),H=Yn.rotrSL(P,D,1)^Yn.rotrSL(P,D,8)^Yn.shrSL(P,D,7),O=Ng[C-2]|0,M=Pg[C-2]|0,N=Yn.rotrSH(O,M,19)^Yn.rotrBH(O,M,61)^Yn.shrSH(O,M,6),v=Yn.rotrSL(O,M,19)^Yn.rotrBL(O,M,61)^Yn.shrSL(O,M,6),I=Yn.add4L(H,v,Pg[C-7],Pg[C-16]),S=Yn.add4H(I,F,N,Ng[C-7],Ng[C-16]);Ng[C]=S|0,Pg[C]=I|0}let{Ah:r,Al:i,Bh:a,Bl:o,Ch:s,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:w,Hh:g,Hl:x}=this;for(let C=0;C<80;C++){let P=Yn.rotrSH(f,d,14)^Yn.rotrSH(f,d,18)^Yn.rotrBH(f,d,41),D=Yn.rotrSL(f,d,14)^Yn.rotrSL(f,d,18)^Yn.rotrBL(f,d,41),F=f&p^~f&m,H=d&h^~d&w,O=Yn.add5L(x,D,H,Can[C],Pg[C]),M=Yn.add5H(O,g,P,F,San[C],Ng[C]),N=O|0,v=Yn.rotrSH(r,i,28)^Yn.rotrBH(r,i,34)^Yn.rotrBH(r,i,39),I=Yn.rotrSL(r,i,28)^Yn.rotrBL(r,i,34)^Yn.rotrBL(r,i,39),S=r&a^r&s^a&s,y=i&o^i&c^o&c;g=m|0,x=w|0,m=p|0,w=h|0,p=f|0,h=d|0,{h:f,l:d}=Yn.add(l|0,u|0,M|0,N|0),l=s|0,u=c|0,s=a|0,c=o|0,a=r|0,o=i|0;let b=Yn.add3L(N,I,y);r=Yn.add3H(b,M,v,S),i=b|0}({h:r,l:i}=Yn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l:o}=Yn.add(this.Bh|0,this.Bl|0,a|0,o|0),{h:s,l:c}=Yn.add(this.Ch|0,this.Cl|0,s|0,c|0),{h:l,l:u}=Yn.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Yn.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:h}=Yn.add(this.Fh|0,this.Fl|0,p|0,h|0),{h:m,l:w}=Yn.add(this.Gh|0,this.Gl|0,m|0,w|0),{h:g,l:x}=Yn.add(this.Hh|0,this.Hl|0,g|0,x|0),this.set(r,i,a,o,s,c,l,u,f,d,p,h,m,w,g,x)}roundClean(){Ng.fill(0),Pg.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ktt=K_(()=>new yme)});function Ian(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}function bme(t){switch(t){case"sha256":return cW.create();case"sha512":return ktt.create()}ae(!1,"invalid hashing algorithm name","algorithm",t)}var Btt,Dur,Dtt=B(()=>{cme();Mtt();ar();Btt=Ian(),Dur=Btt.crypto||Btt.msCrypto});function Dan(t,e=24){let n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let s=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],f=Ltt(l,u,1)^n[s],d=Utt(l,u,1)^n[s+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=d}let i=t[2],a=t[3];for(let o=0;o<24;o++){let s=Htt[o],c=Ltt(i,a,s),l=Utt(i,a,s),u=Ftt[o];i=t[u],a=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let s=0;s<10;s++)n[s]=t[o+s];for(let s=0;s<10;s++)t[o+s]^=~n[(s+2)%10]&n[(s+4)%10]}t[0]^=Man[r],t[1]^=Ban[r]}n.fill(0)}var Ftt,Htt,ztt,Ran,yM,Oan,Nan,Pan,kan,Man,Ban,Ltt,Utt,uW,kg,zur,jur,Gur,Vur,Kur,jtt,$ur,qur,Gtt,Wur,Yur,Vtt=B(()=>{iW();mme();$v();[Ftt,Htt,ztt]=[[],[],[]],Ran=BigInt(0),yM=BigInt(1),Oan=BigInt(2),Nan=BigInt(7),Pan=BigInt(256),kan=BigInt(113);for(let t=0,e=yM,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Ftt.push(2*(5*r+n)),Htt.push((t+1)*(t+2)/2%64);let i=Ran;for(let a=0;a<7;a++)e=(e<<yM^(e>>Nan)*kan)%Pan,e&Oan&&(i^=yM<<(yM<<BigInt(a))-yM);ztt.push(i)}[Man,Ban]=ume(ztt,!0),Ltt=(t,e,n)=>n>32?pme(t,e,n):fme(t,e,n),Utt=(t,e,n)=>n>32?hme(t,e,n):dme(t,e,n);uW=class t extends Cg{constructor(e,n,r,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hM(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ctt(this.state)}keccak(){Dan(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Bm(this);let{blockLen:n,state:r}=this;e=Ig(e);let i=e.length;for(let a=0;a<i;){let o=Math.min(n-this.pos,i-a);for(let s=0;s<o;s++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Bm(this,!1),mM(e),this.finish();let n=this.state,{blockLen:r}=this;for(let i=0,a=e.length;i<a;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hM(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rW(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:n,suffix:r,outputLen:i,rounds:a,enableXOF:o}=this;return e||(e=new t(n,r,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}},kg=(t,e,n)=>K_(()=>new uW(e,t,n)),zur=kg(6,144,224/8),jur=kg(6,136,256/8),Gur=kg(6,104,384/8),Vur=kg(6,72,512/8),Kur=kg(1,144,224/8),jtt=kg(1,136,256/8),$ur=kg(1,104,384/8),qur=kg(1,72,512/8),Gtt=(t,e,n)=>Rtt((r={})=>new uW(e,t,r.dkLen===void 0?n:r.dkLen,!0)),Wur=Gtt(31,168,128/8),Yur=Gtt(31,136,256/8)});function Pr(t){let e=en(t,"data");return Ye(qtt(e))}var Ktt,$tt,qtt,Wtt=B(()=>{Vtt();ar();Ktt=!1,$tt=function(t){return jtt(t)},qtt=$tt;Pr._=$tt;Pr.lock=function(){Ktt=!0};Pr.register=function(t){if(Ktt)throw new TypeError("keccak256 is locked");qtt=t};Object.freeze(Pr)});function Dm(t){let e=en(t,"data");return Ye(Qtt(e))}function bM(t){let e=en(t,"data");return Ye(Ztt(e))}var Ytt,Jtt,Qtt,Ztt,Xtt,ent,tnt=B(()=>{Dtt();ar();Ytt=function(t){return bme("sha256").update(t).digest()},Jtt=function(t){return bme("sha512").update(t).digest()},Qtt=Ytt,Ztt=Jtt,Xtt=!1,ent=!1;Dm._=Ytt;Dm.lock=function(){Xtt=!0};Dm.register=function(t){if(Xtt)throw new Error("sha256 is locked");Qtt=t};Object.freeze(Dm);bM._=Jtt;bM.lock=function(){ent=!0};bM.register=function(t){if(ent)throw new Error("sha512 is locked");Ztt=t};Object.freeze(Dm)});var Eme={};$t(Eme,{bitGet:()=>Gan,bitLen:()=>jan,bitMask:()=>gM,bitSet:()=>Van,bytesToHex:()=>qv,bytesToNumberBE:()=>Lm,bytesToNumberLE:()=>pW,concatBytes:()=>q_,createHmacDrbg:()=>vme,ensureBytes:()=>yf,equalBytes:()=>Han,hexToBytes:()=>Wv,hexToNumber:()=>wme,numberToBytesBE:()=>Mg,numberToBytesLE:()=>hW,numberToHexUnpadded:()=>int,numberToVarBytesBE:()=>Fan,utf8ToBytes:()=>zan,validateObject:()=>Bg});function qv(t){if(!dW(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Uan[t[n]];return e}function int(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function wme(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Wv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){let i=r*2,a=t.slice(i,i+2),o=Number.parseInt(a,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Lm(t){return wme(qv(t))}function pW(t){if(!dW(t))throw new Error("Uint8Array expected");return wme(qv(Uint8Array.from(t).reverse()))}function Mg(t,e){return Wv(t.toString(16).padStart(e*2,"0"))}function hW(t,e){return Mg(t,e).reverse()}function Fan(t){return Wv(int(t))}function yf(t,e,n){let r;if(typeof e=="string")try{r=Wv(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(dW(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function q_(...t){let e=new Uint8Array(t.reduce((r,i)=>r+i.length,0)),n=0;return t.forEach(r=>{if(!dW(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Han(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function zan(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function jan(t){let e;for(e=0;t>rnt;t>>=fW,e+=1);return e}function Gan(t,e){return t>>BigInt(e)&fW}function vme(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=gme(t),i=gme(t),a=0,o=()=>{r.fill(1),i.fill(0),a=0},s=(...f)=>n(i,r,...f),c=(f=gme())=>{i=s(nnt([0]),f),r=s(),f.length!==0&&(i=s(nnt([1]),f),r=s())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<e;){r=s();let p=r.slice();d.push(p),f+=r.length}return q_(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(l()));)c();return o(),p}}function Bg(t,e,n={}){let r=(i,a,o)=>{let s=Kan[a];if(typeof s!="function")throw new Error(`Invalid validator "${a}", expected function`);let c=t[i];if(!(o&&c===void 0)&&!s(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${a}`)};for(let[i,a]of Object.entries(e))r(i,a,!1);for(let[i,a]of Object.entries(n))r(i,a,!0);return t}var rnt,fW,Lan,dW,Uan,Van,gM,gme,nnt,Kan,wM=B(()=>{rnt=BigInt(0),fW=BigInt(1),Lan=BigInt(2),dW=t=>t instanceof Uint8Array,Uan=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Van=(t,e,n)=>t|(n?fW:rnt)<<BigInt(e),gM=t=>(Lan<<BigInt(t-1))-fW,gme=t=>new Uint8Array(t),nnt=t=>Uint8Array.from(t);Kan={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function Rc(t,e){let n=t%e;return n>=ps?n:e+n}function Yan(t,e,n){if(n<=ps||e<ps)throw new Error("Expected power/modulo > 0");if(n===fo)return ps;let r=fo;for(;e>ps;)e&fo&&(r=r*t%n),t=t*t%n,e>>=fo;return r}function bf(t,e,n){let r=t;for(;e-- >ps;)r*=r,r%=n;return r}function mW(t,e){if(t===ps||e<=ps)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Rc(t,e),r=e,i=ps,a=fo,o=fo,s=ps;for(;n!==ps;){let l=r/n,u=r%n,f=i-o*l,d=a-s*l;r=n,n=u,i=o,a=s,o=f,s=d}if(r!==fo)throw new Error("invert: does not exist");return Rc(i,e)}function Jan(t){let e=(t-fo)/Yv,n,r,i;for(n=t-fo,r=0;n%Yv===ps;n/=Yv,r++);for(i=Yv;i<t&&Yan(i,e,t)!==t-fo;i++);if(r===1){let o=(t+fo)/xme;return function(c,l){let u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let a=(n+fo)/Yv;return function(s,c){if(s.pow(c,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=r,u=s.pow(s.mul(s.ONE,i),n),f=s.pow(c,a),d=s.pow(c,n);for(;!s.eql(d,s.ONE);){if(s.eql(d,s.ZERO))return s.ZERO;let p=1;for(let m=s.sqr(d);p<l&&!s.eql(m,s.ONE);p++)m=s.sqr(m);let h=s.pow(u,fo<<BigInt(l-p-1));u=s.sqr(h),f=s.mul(f,h),d=s.mul(d,u),l=p}return f}}function Qan(t){if(t%xme===$an){let e=(t+fo)/xme;return function(r,i){let a=r.pow(i,e);if(!r.eql(r.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%ont===ant){let e=(t-ant)/ont;return function(r,i){let a=r.mul(i,Yv),o=r.pow(a,e),s=r.mul(i,o),c=r.mul(r.mul(s,Yv),o),l=r.mul(s,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%Wan,Jan(t)}function Ame(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Zan.reduce((r,i)=>(r[i]="function",r),e);return Bg(t,n)}function Xan(t,e,n){if(n<ps)throw new Error("Expected power > 0");if(n===ps)return t.ONE;if(n===fo)return e;let r=t.ONE,i=e;for(;n>ps;)n&fo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=fo;return r}function eon(t,e){let n=new Array(e.length),r=e.reduce((a,o,s)=>t.is0(o)?a:(n[s]=a,t.mul(a,o)),t.ONE),i=t.inv(r);return e.reduceRight((a,o,s)=>t.is0(o)?a:(n[s]=t.mul(a,n[s]),t.mul(a,o)),i),n}function _me(t,e){let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function snt(t,e,n=!1,r={}){if(t<=ps)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:a}=_me(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=Qan(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:gM(i),ZERO:ps,ONE:fo,create:c=>Rc(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ps<=c&&c<t},is0:c=>c===ps,isOdd:c=>(c&fo)===fo,neg:c=>Rc(-c,t),eql:(c,l)=>c===l,sqr:c=>Rc(c*c,t),add:(c,l)=>Rc(c+l,t),sub:(c,l)=>Rc(c-l,t),mul:(c,l)=>Rc(c*l,t),pow:(c,l)=>Xan(s,c,l),div:(c,l)=>Rc(c*mW(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>mW(c,t),sqrt:r.sqrt||(c=>o(s,c)),invertBatch:c=>eon(s,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?hW(c,a):Mg(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return n?pW(c):Lm(c)}});return Object.freeze(s)}function cnt(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Tme(t){let e=cnt(t);return e+Math.ceil(e/2)}function lnt(t,e,n=!1){let r=t.length,i=cnt(e),a=Tme(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);let o=n?Lm(t):pW(t),s=Rc(o,e-fo)+fo;return n?hW(s,i):Mg(s,i)}var ps,fo,Yv,$an,xme,ant,ont,qan,Wan,Zan,yW=B(()=>{wM();ps=BigInt(0),fo=BigInt(1),Yv=BigInt(2),$an=BigInt(3),xme=BigInt(4),ant=BigInt(5),ont=BigInt(8),qan=BigInt(9),Wan=BigInt(16);Zan=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function unt(t,e){let n=(i,a)=>{let o=a.negate();return i?o:a},r=i=>{let a=Math.ceil(e/i)+1,o=2**(i-1);return{windows:a,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,a){let o=t.ZERO,s=i;for(;a>non;)a&Sme&&(o=o.add(s)),s=s.double(),a>>=Sme;return o},precomputeWindow(i,a){let{windows:o,windowSize:s}=r(a),c=[],l=i,u=l;for(let f=0;f<o;f++){u=l,c.push(u);for(let d=1;d<s;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,a,o){let{windows:s,windowSize:c}=r(i),l=t.ZERO,u=t.BASE,f=BigInt(2**i-1),d=2**i,p=BigInt(i);for(let h=0;h<s;h++){let m=h*c,w=Number(o&f);o>>=p,w>c&&(w-=d,o+=Sme);let g=m,x=m+Math.abs(w)-1,C=h%2!==0,P=w<0;w===0?u=u.add(n(C,a[g])):l=l.add(n(P,a[x]))}return{p:l,f:u}},wNAFCached(i,a,o,s){let c=i._WINDOW_SIZE||1,l=a.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&a.set(i,s(l))),this.wNAF(c,l,o)}}}function Cme(t){return Ame(t.Fp),Bg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._me(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var non,Sme,fnt=B(()=>{yW();wM();non=BigInt(0),Sme=BigInt(1)});function ron(t){let e=Cme(t);Bg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}function oon(t){let e=ron(t),{Fp:n}=e,r=e.toBytes||((h,m,w)=>{let g=m.toAffine();return q_(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),i=e.fromBytes||(h=>{let m=h.subarray(1),w=n.fromBytes(m.subarray(0,n.BYTES)),g=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:w,y:g}});function a(h){let{a:m,b:w}=e,g=n.sqr(h),x=n.mul(g,h);return n.add(n.add(x,n.mul(h,m)),w)}if(!n.eql(n.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function o(h){return typeof h=="bigint"&&Um<h&&h<e.n}function s(h){if(!o(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){let{allowedPrivateKeyLengths:m,nByteLength:w,wrapPrivateKey:g,n:x}=e;if(m&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=qv(h)),typeof h!="string"||!m.includes(h.length))throw new Error("Invalid key");h=h.padStart(w*2,"0")}let C;try{C=typeof h=="bigint"?h:Lm(yf("private key",h,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof h}`)}return g&&(C=Rc(C,x)),s(C),C}let l=new Map;function u(h){if(!(h instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,w,g){if(this.px=m,this.py=w,this.pz=g,m==null||!n.isValid(m))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(m){let{x:w,y:g}=m||{};if(!m||!n.isValid(w)||!n.isValid(g))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");let x=C=>n.eql(C,n.ZERO);return x(w)&&x(g)?f.ZERO:new f(w,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let w=n.invertBatch(m.map(g=>g.pz));return m.map((g,x)=>g.toAffine(w[x])).map(f.fromAffine)}static fromHex(m){let w=f.fromAffine(i(yf("pointHex",m)));return w.assertValidity(),w}static fromPrivateKey(m){return f.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:m,y:w}=this.toAffine();if(!n.isValid(m)||!n.isValid(w))throw new Error("bad point: x or y not FE");let g=n.sqr(w),x=a(m);if(!n.eql(g,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);let{px:w,py:g,pz:x}=this,{px:C,py:P,pz:D}=m,F=n.eql(n.mul(w,D),n.mul(C,x)),H=n.eql(n.mul(g,D),n.mul(P,x));return F&&H}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){let{a:m,b:w}=e,g=n.mul(w,dnt),{px:x,py:C,pz:P}=this,D=n.ZERO,F=n.ZERO,H=n.ZERO,O=n.mul(x,x),M=n.mul(C,C),N=n.mul(P,P),v=n.mul(x,C);return v=n.add(v,v),H=n.mul(x,P),H=n.add(H,H),D=n.mul(m,H),F=n.mul(g,N),F=n.add(D,F),D=n.sub(M,F),F=n.add(M,F),F=n.mul(D,F),D=n.mul(v,D),H=n.mul(g,H),N=n.mul(m,N),v=n.sub(O,N),v=n.mul(m,v),v=n.add(v,H),H=n.add(O,O),O=n.add(H,O),O=n.add(O,N),O=n.mul(O,v),F=n.add(F,O),N=n.mul(C,P),N=n.add(N,N),O=n.mul(N,v),D=n.sub(D,O),H=n.mul(N,M),H=n.add(H,H),H=n.add(H,H),new f(D,F,H)}add(m){u(m);let{px:w,py:g,pz:x}=this,{px:C,py:P,pz:D}=m,F=n.ZERO,H=n.ZERO,O=n.ZERO,M=e.a,N=n.mul(e.b,dnt),v=n.mul(w,C),I=n.mul(g,P),S=n.mul(x,D),y=n.add(w,g),b=n.add(C,P);y=n.mul(y,b),b=n.add(v,I),y=n.sub(y,b),b=n.add(w,x);let _=n.add(C,D);return b=n.mul(b,_),_=n.add(v,S),b=n.sub(b,_),_=n.add(g,x),F=n.add(P,D),_=n.mul(_,F),F=n.add(I,S),_=n.sub(_,F),O=n.mul(M,b),F=n.mul(N,S),O=n.add(F,O),F=n.sub(I,O),O=n.add(I,O),H=n.mul(F,O),I=n.add(v,v),I=n.add(I,v),S=n.mul(M,S),b=n.mul(N,b),I=n.add(I,S),S=n.sub(v,S),S=n.mul(M,S),b=n.add(b,S),v=n.mul(I,b),H=n.add(H,v),v=n.mul(_,b),F=n.mul(y,F),F=n.sub(F,v),v=n.mul(y,I),O=n.mul(_,O),O=n.add(O,v),new f(F,H,O)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,l,m,w=>{let g=n.invertBatch(w.map(x=>x.pz));return w.map((x,C)=>x.toAffine(g[C])).map(f.fromAffine)})}multiplyUnsafe(m){let w=f.ZERO;if(m===Um)return w;if(s(m),m===zd)return this;let{endo:g}=e;if(!g)return p.unsafeLadder(this,m);let{k1neg:x,k1:C,k2neg:P,k2:D}=g.splitScalar(m),F=w,H=w,O=this;for(;C>Um||D>Um;)C&zd&&(F=F.add(O)),D&zd&&(H=H.add(O)),O=O.double(),C>>=zd,D>>=zd;return x&&(F=F.negate()),P&&(H=H.negate()),H=new f(n.mul(H.px,g.beta),H.py,H.pz),F.add(H)}multiply(m){s(m);let w=m,g,x,{endo:C}=e;if(C){let{k1neg:P,k1:D,k2neg:F,k2:H}=C.splitScalar(w),{p:O,f:M}=this.wNAF(D),{p:N,f:v}=this.wNAF(H);O=p.constTimeNegate(P,O),N=p.constTimeNegate(F,N),N=new f(n.mul(N.px,C.beta),N.py,N.pz),g=O.add(N),x=M.add(v)}else{let{p:P,f:D}=this.wNAF(w);g=P,x=D}return f.normalizeZ([g,x])[0]}multiplyAndAddUnsafe(m,w,g){let x=f.BASE,C=(D,F)=>F===Um||F===zd||!D.equals(x)?D.multiplyUnsafe(F):D.multiply(F),P=C(this,w).add(C(m,g));return P.is0()?void 0:P}toAffine(m){let{px:w,py:g,pz:x}=this,C=this.is0();m==null&&(m=C?n.ONE:n.inv(x));let P=n.mul(w,m),D=n.mul(g,m),F=n.mul(x,m);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(F,n.ONE))throw new Error("invZ was invalid");return{x:P,y:D}}isTorsionFree(){let{h:m,isTorsionFree:w}=e;if(m===zd)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:w}=e;return m===zd?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(f,this,m)}toHex(m=!0){return qv(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);let d=e.nBitLength,p=unt(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:o}}function son(t){let e=Cme(t);return Bg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function pnt(t){let e=son(t),{Fp:n,n:r}=e,i=n.BYTES+1,a=2*n.BYTES+1;function o(b){return Um<b&&b<n.ORDER}function s(b){return Rc(b,r)}function c(b){return mW(b,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=oon({...e,toBytes(b,_,A){let T=_.toAffine(),E=n.toBytes(T.x),k=q_;return A?k(Uint8Array.from([_.hasEvenY()?2:3]),E):k(Uint8Array.from([4]),E,n.toBytes(T.y))},fromBytes(b){let _=b.length,A=b[0],T=b.subarray(1);if(_===i&&(A===2||A===3)){let E=Lm(T);if(!o(E))throw new Error("Point is not on curve");let k=f(E),L=n.sqrt(k),R=(L&zd)===zd;return(A&1)===1!==R&&(L=n.neg(L)),{x:E,y:L}}else if(_===a&&A===4){let E=n.fromBytes(T.subarray(0,n.BYTES)),k=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:E,y:k}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),p=b=>qv(Mg(b,e.nByteLength));function h(b){let _=r>>zd;return b>_}function m(b){return h(b)?s(-b):b}let w=(b,_,A)=>Lm(b.slice(_,A));class g{constructor(_,A,T){this.r=_,this.s=A,this.recovery=T,this.assertValidity()}static fromCompact(_){let A=e.nByteLength;return _=yf("compactSignature",_,A*2),new g(w(_,0,A),w(_,A,2*A))}static fromDER(_){let{r:A,s:T}=Jv.toSig(yf("DER",_));return new g(A,T)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new g(this.r,this.s,_)}recoverPublicKey(_){let{r:A,s:T,recovery:E}=this,k=H(yf("msgHash",_));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");let L=E===2||E===3?A+e.n:A;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let R=(E&1)===0?"02":"03",U=l.fromHex(R+p(L)),j=c(L),z=s(-k*j),V=s(T*j),$=l.BASE.multiplyAndAddUnsafe(U,z,V);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Wv(this.toDERHex())}toDERHex(){return Jv.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Wv(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let x={isValidPrivateKey(b){try{return u(b),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let b=Tme(e.n);return lnt(e.randomBytes(b),e.n)},precompute(b=8,_=l.BASE){return _._setWindowSize(b),_.multiply(BigInt(3)),_}};function C(b,_=!0){return l.fromPrivateKey(b).toRawBytes(_)}function P(b){let _=b instanceof Uint8Array,A=typeof b=="string",T=(_||A)&&b.length;return _?T===i||T===a:A?T===2*i||T===2*a:b instanceof l}function D(b,_,A=!0){if(P(b))throw new Error("first arg must be private key");if(!P(_))throw new Error("second arg must be public key");return l.fromHex(_).multiply(u(b)).toRawBytes(A)}let F=e.bits2int||function(b){let _=Lm(b),A=b.length*8-e.nBitLength;return A>0?_>>BigInt(A):_},H=e.bits2int_modN||function(b){return s(F(b))},O=gM(e.nBitLength);function M(b){if(typeof b!="bigint")throw new Error("bigint expected");if(!(Um<=b&&b<O))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Mg(b,e.nByteLength)}function N(b,_,A=v){if(["recovered","canonical"].some(J=>J in A))throw new Error("sign() legacy options not supported");let{hash:T,randomBytes:E}=e,{lowS:k,prehash:L,extraEntropy:R}=A;k==null&&(k=!0),b=yf("msgHash",b),L&&(b=yf("prehashed msgHash",T(b)));let U=H(b),j=u(_),z=[M(j),M(U)];if(R!=null){let J=R===!0?E(n.BYTES):R;z.push(yf("extraEntropy",J))}let V=q_(...z),$=U;function W(J){let X=F(J);if(!d(X))return;let te=c(X),ne=l.BASE.multiply(X).toAffine(),ue=s(ne.x);if(ue===Um)return;let ce=s(te*s($+ue*j));if(ce===Um)return;let oe=(ne.x===ue?0:2)|Number(ne.y&zd),xe=ce;return k&&h(ce)&&(xe=m(ce),oe^=1),new g(ue,xe,oe)}return{seed:V,k2sig:W}}let v={lowS:e.lowS,prehash:!1},I={lowS:e.lowS,prehash:!1};function S(b,_,A=v){let{seed:T,k2sig:E}=N(b,_,A),k=e;return vme(k.hash.outputLen,k.nByteLength,k.hmac)(T,E)}l.BASE._setWindowSize(8);function y(b,_,A,T=I){let E=b;if(_=yf("msgHash",_),A=yf("publicKey",A),"strict"in T)throw new Error("options.strict was renamed to lowS");let{lowS:k,prehash:L}=T,R,U;try{if(typeof E=="string"||E instanceof Uint8Array)try{R=g.fromDER(E)}catch(ne){if(!(ne instanceof Jv.Err))throw ne;R=g.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){let{r:ne,s:ue}=E;R=new g(ne,ue)}else throw new Error("PARSE");U=l.fromHex(A)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(k&&R.hasHighS())return!1;L&&(_=e.hash(_));let{r:j,s:z}=R,V=H(_),$=c(z),W=s(V*$),J=s(j*$),X=l.BASE.multiplyAndAddUnsafe(U,W,J)?.toAffine();return X?s(X.x)===j:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:D,sign:S,verify:y,ProjectivePoint:l,Signature:g,utils:x}}var ion,aon,Jv,Um,zd,ufr,dnt,ffr,hnt=B(()=>{yW();wM();wM();fnt();({bytesToNumberBE:ion,hexToBytes:aon}=Eme),Jv={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Jv;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ion(r),l:t.subarray(n+2)}},toSig(t){let{Err:e}=Jv,n=typeof t=="string"?aon(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");let{d:i,l:a}=Jv._parseInt(n.subarray(2)),{d:o,l:s}=Jv._parseInt(a);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),a=r.length/2,o=i.length/2,s=n(a),c=n(o);return`30${n(o+a+4)}02${c}${i}02${s}${r}`}},Um=BigInt(0),zd=BigInt(1),ufr=BigInt(2),dnt=BigInt(3),ffr=BigInt(4)});function con(t){return{hash:t,hmac:(e,...n)=>ame(t,e,Itt(...n)),randomBytes:Ott}}function mnt(t,e){let n=r=>pnt({...t,...con(r)});return Object.freeze({...n(e),create:n})}var ynt=B(()=>{Ntt();$v();hnt();});function uon(t){let e=wnt,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=bf(u,n,e)*u%e,d=bf(f,n,e)*u%e,p=bf(d,Ime,e)*l%e,h=bf(p,i,e)*p%e,m=bf(h,a,e)*h%e,w=bf(m,s,e)*m%e,g=bf(w,c,e)*w%e,x=bf(g,s,e)*m%e,C=bf(x,n,e)*u%e,P=bf(C,o,e)*h%e,D=bf(P,r,e)*l%e,F=bf(D,Ime,e);if(!Rme.eql(Rme.sqr(F),t))throw new Error("Cannot find square root");return F}var wnt,bnt,lon,Ime,gnt,Rme,Fm,vfr,Efr,vnt=B(()=>{cme();yW();ynt();wnt=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bnt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lon=BigInt(1),Ime=BigInt(2),gnt=(t,e)=>(t+e/Ime)/e;Rme=snt(wnt,void 0,void 0,{sqrt:uon}),Fm=mnt({a:BigInt(0),b:BigInt(7),Fp:Rme,n:bnt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=bnt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-lon*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),s=gnt(a*t,e),c=gnt(-r*t,e),l=Rc(t-s*n-c*i,e),u=Rc(-s*r-c*a,e),f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},cW),vfr=BigInt(0),Efr=Fm.ProjectivePoint});var Hm,Ome=B(()=>{Hm="0x0000000000000000000000000000000000000000"});var bW,Ent=B(()=>{bW="0x0000000000000000000000000000000000000000000000000000000000000000"});var Nme,xnt=B(()=>{Nme=`Ethereum Signed Message:
`});var vM=B(()=>{Ome();Ent();xnt()});function Int(t){return Ic(da(t),32)}var Ant,_nt,Tnt,Snt,Cnt,gW,W_,qo,Pme=B(()=>{vM();ar();Ant=BigInt(0),_nt=BigInt(1),Tnt=BigInt(2),Snt=BigInt(27),Cnt=BigInt(28),gW=BigInt(35),W_={};qo=class t{#e;#t;#n;#r;get r(){return this.#e}set r(e){ae(mp(e)===32,"invalid r","value",e),this.#e=Ye(e)}get s(){return ae(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){ae(mp(e)===32,"invalid s","value",e),this.#t=Ye(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){let n=Cn(e,"value");ae(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){let e=this.networkV;return e==null?null:t.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=en(this.s);return this.yParity&&(e[0]|=128),Ye(e)}get compactSerialized(){return Tr([this.r,this.yParityAndS])}get serialized(){return Tr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){Pm(e,W_,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new t(W_,this.r,this._s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){let n=dt(e,"v");return n==Snt||n==Cnt?Ant:(ae(n>=gW,"invalid EIP-155 v","v",e),(n-gW)/Tnt)}static getChainIdV(e,n){return dt(e)*Tnt+BigInt(35+n-27)}static getNormalizedV(e){let n=dt(e);return n===Ant||n===Snt?27:n===_nt||n===Cnt?28:(ae(n>=gW,"invalid v","v",e),n&_nt?27:28)}static from(e){function n(l,u){ae(l,u,"signature",e)}if(e==null)return new t(W_,bW,bW,27);if(typeof e=="string"){let l=en(e,"signature");if(l.length===64){let u=Ye(l.slice(0,32)),f=l.slice(32,64),d=f[0]&128?28:27;return f[0]&=127,new t(W_,u,Ye(f),d)}if(l.length===65){let u=Ye(l.slice(0,32)),f=Ye(l.slice(32,64)),d=t.getNormalizedV(l[64]);return new t(W_,u,f,d)}n(!1,"invalid raw signature length")}if(e instanceof t)return e.clone();let r=e.r;n(r!=null,"missing r");let i=Int(r),a=(function(l,u){if(l!=null)return Int(l);if(u!=null){n(Hn(u,32),"invalid yParityAndS");let f=en(u);return f[0]&=127,Ye(f)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:s}=(function(l,u,f){if(l!=null){let d=dt(l);return{networkV:d>=gW?d:void 0,v:t.getNormalizedV(d)}}if(u!=null)return n(Hn(u,32),"invalid yParityAndS"),{v:en(u)[0]&128?28:27};if(f!=null){switch(Cn(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new t(W_,i,a,s);return o&&(c.#r=o),n(e.yParity==null||Cn(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}});var gf,Rnt=B(()=>{vnt();ar();Pme();gf=class t{#e;constructor(e){ae(mp(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=Ye(e)}get privateKey(){return this.#e}get publicKey(){return t.computePublicKey(this.#e)}get compressedPublicKey(){return t.computePublicKey(this.#e,!0)}sign(e){ae(mp(e)===32,"invalid digest length","digest",e);let n=Fm.sign(uo(e),uo(this.#e),{lowS:!0});return qo.from({r:cl(n.r,32),s:cl(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){let n=t.computePublicKey(e);return Ye(Fm.getSharedSecret(uo(this.#e),en(n),!1))}static computePublicKey(e,n){let r=en(e,"key");if(r.length===32){let a=Fm.getPublicKey(r,!!n);return Ye(a)}if(r.length===64){let a=new Uint8Array(65);a[0]=4,a.set(r,1),r=a}let i=Fm.ProjectivePoint.fromHex(r);return Ye(i.toRawBytes(n))}static recoverPublicKey(e,n){ae(mp(e)===32,"invalid digest length","digest",e);let r=qo.from(n),i=Fm.Signature.fromCompact(uo(Tr([r.r,r.s])));i=i.addRecoveryBit(r.yParity);let a=i.recoverPublicKey(uo(e));return ae(a!=null,"invalid signature for digest","signature",n),"0x"+a.toHex(!1)}static addPoints(e,n,r){let i=Fm.ProjectivePoint.fromHex(t.computePublicKey(e).substring(2)),a=Fm.ProjectivePoint.fromHex(t.computePublicKey(n).substring(2));return"0x"+i.add(a).toHex(!!r)}}});var wf=B(()=>{Wtt();tnt();Rnt();Pme()});function Ont(t){t=t.toLowerCase();let e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);let r=en(Pr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}function pon(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>kme[r]).join("");for(;e.length>=Nnt;){let r=e.substring(0,Nnt);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function mon(t){t=t.toLowerCase();let e=fon;for(let n=0;n<t.length;n++)e=e*don+hon[t[n]];return e}function Bn(t){if(ae(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=Ont(t);return ae(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ae(t.substring(2,4)===pon(t),"bad icap checksum","address",t);let e=mon(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Ont("0x"+e)}ae(!1,"invalid address","address",t)}var fon,don,kme,Nnt,hon,wW=B(()=>{wf();ar();fon=BigInt(0),don=BigInt(36);kme={};for(let t=0;t<10;t++)kme[String(t)]=String(t);for(let t=0;t<26;t++)kme[String.fromCharCode(65+t)]=String(10+t);Nnt=15;hon=(function(){let t={};for(let e=0;e<36;e++){let n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})()});function Mme(t){let e=Bn(t.from),r=dt(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Bn(Gi(Pr(Fd([e,r])),12))}var Pnt=B(()=>{wf();ar();wW()});function vW(t){return t&&typeof t.getAddress=="function"}async function Bme(t,e){let n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Re(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ae(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Bn(n)}function Wo(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Bn(t):(Re(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Bme(t,e.resolveName(t)));if(vW(t))return Bme(t,t.getAddress());if(t&&typeof t.then=="function")return Bme(t,t);ae(!1,"unsupported addressable value","target",t)}var knt=B(()=>{ar();wW()});var su=B(()=>{wW();Pnt();knt()});function Ut(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Vi(gp,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Xr(t,e){return new Vi(gp,`bytes${e||""}`,t,{size:e})}var gp,Mnt,Vi,s6=B(()=>{ar();gp={};Mnt=Symbol.for("_ethers_typed"),Vi=class t{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),Pm(gp,e,"Typed"),Ct(this,{_typedSymbol:Mnt,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new t(gp,e,n)}static uint8(e){return Ut(e,8)}static uint16(e){return Ut(e,16)}static uint24(e){return Ut(e,24)}static uint32(e){return Ut(e,32)}static uint40(e){return Ut(e,40)}static uint48(e){return Ut(e,48)}static uint56(e){return Ut(e,56)}static uint64(e){return Ut(e,64)}static uint72(e){return Ut(e,72)}static uint80(e){return Ut(e,80)}static uint88(e){return Ut(e,88)}static uint96(e){return Ut(e,96)}static uint104(e){return Ut(e,104)}static uint112(e){return Ut(e,112)}static uint120(e){return Ut(e,120)}static uint128(e){return Ut(e,128)}static uint136(e){return Ut(e,136)}static uint144(e){return Ut(e,144)}static uint152(e){return Ut(e,152)}static uint160(e){return Ut(e,160)}static uint168(e){return Ut(e,168)}static uint176(e){return Ut(e,176)}static uint184(e){return Ut(e,184)}static uint192(e){return Ut(e,192)}static uint200(e){return Ut(e,200)}static uint208(e){return Ut(e,208)}static uint216(e){return Ut(e,216)}static uint224(e){return Ut(e,224)}static uint232(e){return Ut(e,232)}static uint240(e){return Ut(e,240)}static uint248(e){return Ut(e,248)}static uint256(e){return Ut(e,256)}static uint(e){return Ut(e,256)}static int8(e){return Ut(e,-8)}static int16(e){return Ut(e,-16)}static int24(e){return Ut(e,-24)}static int32(e){return Ut(e,-32)}static int40(e){return Ut(e,-40)}static int48(e){return Ut(e,-48)}static int56(e){return Ut(e,-56)}static int64(e){return Ut(e,-64)}static int72(e){return Ut(e,-72)}static int80(e){return Ut(e,-80)}static int88(e){return Ut(e,-88)}static int96(e){return Ut(e,-96)}static int104(e){return Ut(e,-104)}static int112(e){return Ut(e,-112)}static int120(e){return Ut(e,-120)}static int128(e){return Ut(e,-128)}static int136(e){return Ut(e,-136)}static int144(e){return Ut(e,-144)}static int152(e){return Ut(e,-152)}static int160(e){return Ut(e,-160)}static int168(e){return Ut(e,-168)}static int176(e){return Ut(e,-176)}static int184(e){return Ut(e,-184)}static int192(e){return Ut(e,-192)}static int200(e){return Ut(e,-200)}static int208(e){return Ut(e,-208)}static int216(e){return Ut(e,-216)}static int224(e){return Ut(e,-224)}static int232(e){return Ut(e,-232)}static int240(e){return Ut(e,-240)}static int248(e){return Ut(e,-248)}static int256(e){return Ut(e,-256)}static int(e){return Ut(e,-256)}static bytes1(e){return Xr(e,1)}static bytes2(e){return Xr(e,2)}static bytes3(e){return Xr(e,3)}static bytes4(e){return Xr(e,4)}static bytes5(e){return Xr(e,5)}static bytes6(e){return Xr(e,6)}static bytes7(e){return Xr(e,7)}static bytes8(e){return Xr(e,8)}static bytes9(e){return Xr(e,9)}static bytes10(e){return Xr(e,10)}static bytes11(e){return Xr(e,11)}static bytes12(e){return Xr(e,12)}static bytes13(e){return Xr(e,13)}static bytes14(e){return Xr(e,14)}static bytes15(e){return Xr(e,15)}static bytes16(e){return Xr(e,16)}static bytes17(e){return Xr(e,17)}static bytes18(e){return Xr(e,18)}static bytes19(e){return Xr(e,19)}static bytes20(e){return Xr(e,20)}static bytes21(e){return Xr(e,21)}static bytes22(e){return Xr(e,22)}static bytes23(e){return Xr(e,23)}static bytes24(e){return Xr(e,24)}static bytes25(e){return Xr(e,25)}static bytes26(e){return Xr(e,26)}static bytes27(e){return Xr(e,27)}static bytes28(e){return Xr(e,28)}static bytes29(e){return Xr(e,29)}static bytes30(e){return Xr(e,30)}static bytes31(e){return Xr(e,31)}static bytes32(e){return Xr(e,32)}static address(e){return new t(gp,"address",e)}static bool(e){return new t(gp,"bool",!!e)}static bytes(e){return new t(gp,"bytes",e)}static string(e){return new t(gp,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new t(gp,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Mnt}static dereference(e,n){if(t.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}});var EW,Bnt=B(()=>{su();Yq();s6();Hd();EW=class extends $o{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Vi.dereference(n,"string");try{r=Bn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return Bn(cl(e.readValue(),20))}}});var xW,Dnt=B(()=>{Hd();xW=class extends $o{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}});function Dme(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(l=>{let u=l.localName;return Re(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),Re(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),c[u]=!0,n[u]})}else ae(!1,"invalid tuple value","tuple",n);ae(e.length===r.length,"types/value length mismatch","tuple",n);let i=new Kv,a=new Kv,o=[];e.forEach((c,l)=>{let u=r[l];if(c.dynamic){let f=a.length;c.encode(a,u);let d=i.writeUpdatableValue();o.push(p=>{d(p+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let s=t.appendWriter(i);return s+=t.appendWriter(a),s}function Lme(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(a=>{let o=null;if(a.dynamic){let s=t.readIndex(),c=i.subReader(s);try{o=a.decode(c)}catch(l){if(ia(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=a.name,o.name=a.localName,o.type=a.type}}else try{o=a.decode(t)}catch(s){if(ia(s,"BUFFER_OVERRUN"))throw s;o=s,o.baseType=a.name,o.name=a.localName,o.type=a.type}if(o==null)throw new Error("investigate");n.push(o),r.push(a.localName||null)}),o6.fromItems(n,r)}var AW,Ume=B(()=>{ar();s6();Hd();Dnt();AW=class extends $o{coder;length;constructor(e,n,r){let i=e.type+"["+(n>=0?n:"")+"]",a=n===-1||e.dynamic;super("array",i,r,a),Ct(this,{coder:e,length:n})}defaultValue(){let e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){let r=Vi.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),z_(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<r.length;o++)a.push(this.coder);return Dme(e,a,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),Re(n*R0<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*R0,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new xW(this.coder));return Lme(e,r)}}});var _W,Lnt=B(()=>{s6();Hd();_W=class extends $o{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){let r=Vi.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}});var EM,TW,Fme=B(()=>{ar();Hd();EM=class extends $o{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=uo(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}},TW=class extends EM{constructor(e){super("bytes",e)}decode(e){return Ye(super.decode(e))}}});var SW,Unt=B(()=>{ar();s6();Hd();SW=class extends $o{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),Ct(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=uo(Vi.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return Ye(e.readBytes(this.size))}}});var yon,CW,Fnt=B(()=>{Hd();yon=new Uint8Array([]),CW=class extends $o{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(yon)}decode(e){return e.readBytes(0),null}}});var bon,gon,won,IW,Hnt=B(()=>{ar();s6();Hd();bon=BigInt(0),gon=BigInt(1),won=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),IW=class extends $o{size;signed;constructor(e,n,r){let i=(n?"int":"uint")+e*8;super(i,i,r,!1),Ct(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=dt(Vi.dereference(n,this.type)),i=km(won,R0*8);if(this.signed){let a=km(i,this.size*8-1);(r>a||r<-(a+gon))&&this._throwError("value out-of-bounds",n),r=G_(r,8*R0)}else(r<bon||r>km(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=km(e.readValue(),this.size*8);return this.signed&&(n=qq(n,this.size*8)),n}}});var RW,znt=B(()=>{Qq();s6();Fme();RW=class extends EM{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ko(Vi.dereference(n,"string")))}decode(e){return Mm(super.decode(e))}}});var Qv,jnt=B(()=>{zv();s6();Hd();Ume();Qv=class extends $o{coders;constructor(e,n){let r=!1,i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});let a="tuple("+i.join(",")+")";super("tuple",a,n,r),Ct(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});let n=this.coders.reduce((r,i)=>{let a=i.localName;return a&&(r[a]||(r[a]=0),r[a]++),r},{});return this.coders.forEach((r,i)=>{let a=r.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[i]))}),Object.freeze(e)}encode(e,n){let r=Vi.dereference(n,"tuple");return Dme(e,this.coders,r)}decode(e){return Lme(e,this.coders)}}});function Hme(t,e){return{address:Bn(t),storageKeys:e.map((n,r)=>(ae(Hn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function cu(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ae(n.length===2,"invalid slot set",`value[${r}]`,n),Hme(n[0],n[1])):(ae(n!=null&&typeof n=="object","invalid address-slot set","value",t),Hme(n.address,n.storageKeys)));ae(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(n=>{let r=t[n].reduce((i,a)=>(i[a]=!0,i),{});return Hme(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}var zme=B(()=>{su();ar()});function Y_(t){return{address:Bn(t.address),nonce:dt(t.nonce!=null?t.nonce:0),chainId:dt(t.chainId!=null?t.chainId:0),signature:qo.from(t.signature)}}var jme=B(()=>{su();wf();ar()});function Gnt(t){let e;return typeof t=="string"?e=gf.computePublicKey(t,!1):e=t.publicKey,Bn(Pr("0x"+e.substring(4)).substring(26))}function Gme(t,e){return Gnt(gf.recoverPublicKey(t,e))}var Vnt=B(()=>{su();wf()});function Ton(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return en(t.blobToKzgCommitment(Ye(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return en(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return en(t.blobToKZGCommitment(Ye(r)));ae(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return en(t.computeBlobProof(Ye(r),Ye(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return en(t.computeBlobKZGProof(Ye(r),Ye(i)));ae(!1,"unsupported KZG library","kzg",t)}}}function Knt(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Dm(e).substring(4),"0x"+n}function J_(t){return t==="0x"?null:Bn(t)}function OW(t,e){try{return cu(t)}catch(n){ae(!1,n.message,e,t)}}function Son(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");let n=[];for(let r=0;r<t.length;r++){let i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:J_(i[1]),nonce:Ni(i[2],"nonce"),chainId:Ni(i[0],"chainId"),signature:qo.from({yParity:Zv(i[3],"yParity"),r:Ic(i[4],32),s:Ic(i[5],32)})})}return n}catch(n){ae(!1,n.message,e,t)}}function Zv(t,e){return t==="0x"?0:Cn(t,e)}function Ni(t,e){if(t==="0x")return Ws;let n=dt(t,e);return ae(n<=_on,"value exceeds uint size",e,n),n}function Sr(t,e){let n=dt(t,"value"),r=da(n);return ae(r.length<=32,"value too large",`tx.${e}`,n),r}function NW(t){return cu(t).map(e=>[e.address,e.storageKeys])}function Con(t){return t.map(e=>[Sr(e.chainId,"chainId"),e.address,Sr(e.nonce,"nonce"),Sr(e.signature.yParity,"yParity"),da(e.signature.r),da(e.signature.s)])}function Ion(t,e){ae(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ae(Hn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function Ron(t){let e=Sg(t);ae(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let n={type:0,nonce:Zv(e[0],"nonce"),gasPrice:Ni(e[1],"gasPrice"),gasLimit:Ni(e[2],"gasLimit"),to:J_(e[3]),value:Ni(e[4],"value"),data:Ye(e[5]),chainId:Ws};if(e.length===6)return n;let r=Ni(e[6],"v"),i=Ni(e[7],"r"),a=Ni(e[8],"s");if(i===Ws&&a===Ws)n.chainId=r;else{let o=(r-Aon)/von;o<Ws&&(o=Ws),n.chainId=o,ae(o!==Ws||r===Eon||r===xon,"non-canonical legacy v","v",e[6]),n.signature=qo.from({r:Ic(e[7],32),s:Ic(e[8],32),v:r})}return n}function Oon(t,e){let n=[Sr(t.nonce,"nonce"),Sr(t.gasPrice||0,"gasPrice"),Sr(t.gasLimit,"gasLimit"),t.to||"0x",Sr(t.value,"value"),t.data],r=Ws;if(t.chainId!=Ws)r=dt(t.chainId,"tx.chainId"),ae(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let a=t.signature.legacyChainId;a!=null&&(r=a)}if(!e)return r!==Ws&&(n.push(da(r)),n.push("0x"),n.push("0x")),Fd(n);let i=BigInt(27+e.yParity);return r!==Ws?i=qo.getChainIdV(r,e.v):BigInt(e.v)!==i&&ae(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(da(i)),n.push(da(e.r)),n.push(da(e.s)),Fd(n)}function PW(t,e){let n;try{if(n=Zv(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ae(!1,"invalid yParity","yParity",e[0])}let r=Ic(e[1],32),i=Ic(e[2],32),a=qo.from({r,s:i,yParity:n});t.signature=a}function Non(t){let e=Sg(en(t).slice(1));ae(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Ye(t));let n={type:2,chainId:Ni(e[0],"chainId"),nonce:Zv(e[1],"nonce"),maxPriorityFeePerGas:Ni(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ni(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ni(e[4],"gasLimit"),to:J_(e[5]),value:Ni(e[6],"value"),data:Ye(e[7]),accessList:OW(e[8],"accessList")};return e.length===9||PW(n,e.slice(9)),n}function Pon(t,e){let n=[Sr(t.chainId,"chainId"),Sr(t.nonce,"nonce"),Sr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Sr(t.maxFeePerGas||0,"maxFeePerGas"),Sr(t.gasLimit,"gasLimit"),t.to||"0x",Sr(t.value,"value"),t.data,NW(t.accessList||[])];return e&&(n.push(Sr(e.yParity,"yParity")),n.push(da(e.r)),n.push(da(e.s))),Tr(["0x02",Fd(n)])}function kon(t){let e=Sg(en(t).slice(1));ae(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Ye(t));let n={type:1,chainId:Ni(e[0],"chainId"),nonce:Zv(e[1],"nonce"),gasPrice:Ni(e[2],"gasPrice"),gasLimit:Ni(e[3],"gasLimit"),to:J_(e[4]),value:Ni(e[5],"value"),data:Ye(e[6]),accessList:OW(e[7],"accessList")};return e.length===8||PW(n,e.slice(8)),n}function Mon(t,e){let n=[Sr(t.chainId,"chainId"),Sr(t.nonce,"nonce"),Sr(t.gasPrice||0,"gasPrice"),Sr(t.gasLimit,"gasLimit"),t.to||"0x",Sr(t.value,"value"),t.data,NW(t.accessList||[])];return e&&(n.push(Sr(e.yParity,"recoveryParam")),n.push(da(e.r)),n.push(da(e.s))),Tr(["0x01",Fd(n)])}function Bon(t){let e=Sg(en(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";let a=e[1],o=e[2],s=e[3];ae(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),ae(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),ae(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),ae(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),ae(a.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:a[c],commitment:o[c],proof:s[c]});e=e[0]}ae(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Ye(t));let i={type:3,chainId:Ni(e[0],"chainId"),nonce:Zv(e[1],"nonce"),maxPriorityFeePerGas:Ni(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ni(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ni(e[4],"gasLimit"),to:J_(e[5]),value:Ni(e[6],"value"),data:Ye(e[7]),accessList:OW(e[8],"accessList"),maxFeePerBlobGas:Ni(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ae(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),ae(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<i.blobVersionedHashes.length;a++)ae(Hn(i.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||PW(i,e.slice(11)),i}function Don(t,e,n){let r=[Sr(t.chainId,"chainId"),Sr(t.nonce,"nonce"),Sr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Sr(t.maxFeePerGas||0,"maxFeePerGas"),Sr(t.gasLimit,"gasLimit"),t.to||Hm,Sr(t.value,"value"),t.data,NW(t.accessList||[]),Sr(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Ion(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Sr(e.yParity,"yParity")),r.push(da(e.r)),r.push(da(e.s)),n)?Tr(["0x03",Fd([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):Tr(["0x03",Fd(r)])}function Lon(t){let e=Sg(en(t).slice(1));ae(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Ye(t));let n={type:4,chainId:Ni(e[0],"chainId"),nonce:Zv(e[1],"nonce"),maxPriorityFeePerGas:Ni(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ni(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ni(e[4],"gasLimit"),to:J_(e[5]),value:Ni(e[6],"value"),data:Ye(e[7]),accessList:OW(e[8],"accessList"),authorizationList:Son(e[9],"authorizationList")};return e.length===10||PW(n,e.slice(10)),n}function Uon(t,e){let n=[Sr(t.chainId,"chainId"),Sr(t.nonce,"nonce"),Sr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Sr(t.maxFeePerGas||0,"maxFeePerGas"),Sr(t.gasLimit,"gasLimit"),t.to||"0x",Sr(t.value,"value"),t.data,NW(t.accessList||[]),Con(t.authorizationList||[])];return e&&(n.push(Sr(e.yParity,"yParity")),n.push(da(e.r)),n.push(da(e.s))),Tr(["0x04",Fd(n)])}var Ws,von,Eon,xon,Aon,_on,Vme,c6,$nt=B(()=>{su();Ome();wf();ar();zme();jme();Vnt();Ws=BigInt(0),von=BigInt(2),Eon=BigInt(27),xon=BigInt(28),Aon=BigInt(35),_on=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Vme=4096*32;c6=class t{#e;#t;#n;#r;#i;#o;#a;#s;#p;#l;#h;#m;#c;#u;#f;#d;#b;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:ae(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?Hm:e}set to(e){this.#t=e==null?null:Bn(e)}get nonce(){return this.#r}set nonce(e){this.#r=Cn(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=dt(e)}get gasPrice(){let e=this.#o;return e==null&&(this.type===0||this.type===1)?Ws:e}set gasPrice(e){this.#o=e==null?null:dt(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#a;return e??(this.type===2||this.type===3?Ws:null)}set maxPriorityFeePerGas(e){this.#a=e==null?null:dt(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#s;return e??(this.type===2||this.type===3?Ws:null)}set maxFeePerGas(e){this.#s=e==null?null:dt(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=Ye(e)}get value(){return this.#p}set value(e){this.#p=dt(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=dt(e)}get signature(){return this.#h||null}set signature(e){this.#h=e==null?null:qo.from(e)}get accessList(){let e=this.#m||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#m=e==null?null:cu(e)}get authorizationList(){let e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(n=>Y_(n))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?Ws:e}set maxFeePerBlobGas(e){this.#c=e==null?null:dt(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ae(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ae(Hn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#u=e}get blobs(){return this.#d==null?null:this.#d.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#d=null;return}let n=[],r=[];for(let i=0;i<e.length;i++){let a=e[i];if(_g(a)){Re(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=en(a);if(ae(o.length<=Vme,"blob is too large",`blobs[${i}]`,a),o.length!==Vme){let l=new Uint8Array(Vme);l.set(o),o=l}let s=this.#f.blobToKzgCommitment(o),c=Ye(this.#f.computeBlobKzgProof(o,s));n.push({data:Ye(o),commitment:Ye(s),proof:c}),r.push(Knt(1,s))}else{let o=Ye(a.commitment);n.push({data:Ye(a.data),commitment:o,proof:Ye(a.proof)}),r.push(Knt(1,o))}}this.#d=n,this.#u=r}get kzg(){return this.#f}set kzg(e){e==null?this.#f=null:this.#f=Ton(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=Ws,this.#o=null,this.#a=null,this.#s=null,this.#n="0x",this.#p=Ws,this.#l=Ws,this.#h=null,this.#m=null,this.#c=null,this.#u=null,this.#f=null,this.#d=null,this.#b=null}get hash(){return this.signature==null?null:Pr(this.#y(!0,!1))}get unsignedHash(){return Pr(this.unsignedSerialized)}get from(){return this.signature==null?null:Gme(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:gf.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#y(e,n){Re(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return Oon(this,r);case 1:return Mon(this,r);case 2:return Pon(this,r);case 3:return Don(this,r,n?this.blobs:null);case 4:return Uon(this,r)}Re(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Re(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Re(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Re(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let a=[];return this.type!=null?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):n?a.push(2):e?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(i&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return t.from(this)}toJSON(){let e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new t;if(typeof e=="string"){let r=en(e);if(r[0]>=127)return t.from(Ron(r));switch(r[0]){case 1:return t.from(kon(r));case 2:return t.from(Non(r));case 3:return t.from(Bon(r));case 4:return t.from(Lon(r))}Re(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let n=new t;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=qo.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ae(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ae(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ae(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ae(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}});var Dg=B(()=>{zme();jme();$nt()});function jd(t){return Pr(Ko(t))}var Kme=B(()=>{wf();ar()});function Hon(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,a=[0,1];for(let D=1;D<r;D++)a.push(i+=n());let o=n(),s=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}let f=31,d=2**f,p=d>>>1,h=p>>1,m=d-1,w=0;for(let D=0;D<f;D++)w=w<<1|u();let g=[],x=0,C=d;for(;;){let D=Math.floor(((w-x+1)*i-1)/C),F=0,H=r;for(;H-F>1;){let N=F+H>>>1;D<a[N]?H=N:F=N}if(F==0)break;g.push(F);let O=x+Math.floor(C*a[F]/i),M=x+Math.floor(C*a[F+1]/i)-1;for(;((O^M)&p)==0;)w=w<<1&m|u(),O=O<<1&m,M=M<<1&m|1;for(;O&~M&h;)w=w&p|w<<1&m>>>1|u(),O=O<<1^p,M=(M^p)<<1|p|1;x=O,C=1+M-O}let P=r-4;return g.map(D=>{switch(D-P){case 3:return P+65792+(t[s++]<<16|t[s++]<<8|t[s++]);case 2:return P+256+(t[s++]<<8|t[s++]);case 1:return P+t[s++];default:return D-1}})}function zon(t){let e=0;return()=>t[e++]}function Znt(t){return zon(Hon(jon(t)))}function jon(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,a)=>e[i.charCodeAt(0)]=a);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,a=0,o=0,s=0;i<n;i++)s=s<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[a++]=s>>(o-=8));return r}function Gon(t){return t&1?~t>>1:t>>1}function Von(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=Gon(e());return n}function _M(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let a=0;a<i;a++)n.push(e+a);e+=i+1}return n}function Xnt(t){return TM(()=>{let e=_M(t);if(e.length)return e})}function ert(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Kon(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push($on(n,t))}return e.flat()}function TM(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function trt(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Von(t,n).forEach((a,o)=>r[o].push(a));return r}function Kon(t,e){let n=1+e(),r=e(),i=TM(e);return trt(i.length,1+t,e).flatMap((o,s)=>{let[c,...l]=o;return Array(i[s]).fill().map((u,f)=>{let d=f*r;return[c+f*n,l.map(p=>p+d)]})})}function $on(t,e){let n=1+e();return trt(n,1+t,e).map(i=>[i[0],i.slice(1)])}function qon(t){let e=[],n=_M(t);return i(r([]),[]),e;function r(a){let o=t(),s=TM(()=>{let c=_M(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:s,Q:a}}function i({S:a,B:o},s,c){if(!(a&4&&c===s[s.length-1])){a&2&&(c=s[s.length-1]),a&1&&e.push(s);for(let l of o)for(let u of l.Q)i(l,[...s,u],c)}}}function Won(t){return t.toString(16).toUpperCase().padStart(2,"0")}function nrt(t){return`{${Won(t)}}`}function Yon(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function X_(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function Jon(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}function xM(t){return t>>24&255}function art(t){return t&16777215}function rsn(){let t=Znt(Qon);qme=new Map(Xnt(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),Ynt=new Set(_M(t)),Wme=new Map,kW=new Map;for(let[e,n]of ert(t)){if(!Ynt.has(e)&&n.length==2){let[r,i]=n,a=kW.get(r);a||(a=new Map,kW.set(r,a)),a.set(i,e)}Wme.set(e,n.reverse())}}function ort(t){return t>=SM&&t<Xon}function isn(t,e){if(t>=MW&&t<esn&&e>=BW&&e<tsn)return SM+(t-MW)*LW+(e-BW)*eT;if(ort(t)&&e>DW&&e<nsn&&(t-SM)%eT==0)return t+(e-DW);{let n=kW.get(t);return n&&(n=n.get(e),n)?n:-1}}function srt(t){qme||rsn();let e=[],n=[],r=!1;function i(a){let o=qme.get(a);o&&(r=!0,a|=o),e.push(a)}for(let a of t)for(;;){if(a<128)e.push(a);else if(ort(a)){let o=a-SM,s=o/LW|0,c=o%LW/eT|0,l=o%eT;i(MW+s),i(BW+c),l>0&&i(DW+l)}else{let o=Wme.get(a);o?n.push(...o):i(a)}if(!n.length)break;a=n.pop()}if(r&&e.length>1){let a=xM(e[0]);for(let o=1;o<e.length;o++){let s=xM(e[o]);if(s==0||a<=s){a=s;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(a=xM(e[--c]),a<=s))break}a=xM(e[o])}}return e}function asn(t){let e=[],n=[],r=-1,i=0;for(let a of t){let o=xM(a),s=art(a);if(r==-1)o==0?r=s:e.push(s);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=s):n.push(s),i=o;else{let c=isn(r,s);c>=0?r=c:i==0&&o==0?(e.push(r),r=s):(n.push(s),i=o)}}return r>=0&&e.push(r,...n),e}function crt(t){return srt(t).map(art)}function osn(t){return asn(srt(t))}function CM(t,e){return t.P.has(e)||t.Q.has(e)}function Xme(){if(Jme)return;let t=Znt(Fon),e=()=>_M(t),n=()=>new Set(e()),r=(u,f)=>f.forEach(d=>u.add(d));Jme=new Map(ert(t)),drt=n(),e4=e(),Qme=new Set(e().map(u=>e4[u])),e4=new Set(e4),prt=n(),ssn=n();let i=Xnt(t),a=t(),o=()=>{let u=new Set;return e().forEach(f=>r(u,i[f])),r(u,e()),u};Z_=TM(u=>{let f=TM(t).map(d=>d+96);if(f.length){let d=u>=a;f[0]-=32,f=X_(f),d&&(f=`Restricted[${f}]`);let p=o(),h=o(),m=!t();return{N:f,P:p,Q:h,M:m,R:d}}}),$me=n(),Q_=new Map;let s=e().concat(UW($me)).sort((u,f)=>u-f);s.forEach((u,f)=>{let d=t(),p=s[f]=d?s[f-d]:{V:[],M:new Map};p.V.push(u),$me.has(u)||Q_.set(u,p)});for(let{V:u,M:f}of new Set(Q_.values())){let d=[];for(let h of u){let m=Z_.filter(g=>CM(g,h)),w=d.find(({G:g})=>m.some(x=>g.has(x)));w||(w={G:new Set,V:[]},d.push(w)),w.V.push(h),r(w.G,m)}let p=d.flatMap(h=>UW(h.G));for(let{G:h,V:m}of d){let w=new Set(p.filter(g=>!h.has(g)));for(let g of m)f.set(g,w)}}Xv=new Set;let c=new Set,l=u=>Xv.has(u)?c.add(u):Xv.add(u);for(let u of Z_){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of Xv)!Q_.has(u)&&!c.has(u)&&Q_.set(u,frt);r(Xv,crt(Xv)),Qnt=qon(t).map(u=>Yme.from(u)).sort(Jon),Zme=new Map;for(let u of Qnt){let f=[Zme];for(let d of u){let p=f.map(h=>{let m=h.get(d);return m||(m=new Map,h.set(d,m)),m});d===urt?f.push(...p):f=p}for(let d of f)d.V=u}}function eye(t){return(hrt(t)?"":`${tye(FW([t]))} `)+nrt(t)}function tye(t){return`"${t}"\u200E`}function csn(t){if(t.length>=4&&t[2]==Jnt&&t[3]==Jnt)throw new Error(`invalid label extension: "${X_(t.slice(0,4))}"`)}function lsn(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function usn(t){let e=t[0],n=qnt.get(e);if(n)throw AM(`leading ${n}`);let r=t.length,i=-1;for(let a=1;a<r;a++){e=t[a];let o=qnt.get(e);if(o){if(i==a)throw AM(`${n} + ${o}`);i=a+1,n=o}}if(i==r)throw AM(`trailing ${n}`)}function FW(t,e=1/0,n=nrt){let r=[];fsn(t[0])&&r.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,a=t.length;for(let o=0;o<a;o++){let s=t[o];hrt(s)&&(r.push(X_(t.slice(i,o))),r.push(n(s)),i=o+1)}return r.push(X_(t.slice(i,a))),r.join("")}function fsn(t){return Xme(),e4.has(t)}function hrt(t){return Xme(),prt.has(t)}function mrt(t){return msn(dsn(t,osn,gsn))}function dsn(t,e,n){if(!t)return[];Xme();let r=0;return t.split(lrt).map(i=>{let a=Yon(i),o={input:a,offset:r};r+=a.length+1;try{let s=o.tokens=bsn(a,e,n),c=s.length,l;if(!c)throw new Error("empty label");let u=o.output=s.flat();if(lsn(u),!(o.emoji=c>1||s[0].is_emoji)&&u.every(d=>d<128))csn(u),l="ASCII";else{let d=s.flatMap(p=>p.is_emoji?[]:p);if(!d.length)l="Emoji";else{if(e4.has(u[0]))throw AM("leading combining mark");for(let m=1;m<c;m++){let w=s[m];if(!w.is_emoji&&e4.has(w[0]))throw AM(`emoji + combining mark: "${X_(s[m-1])} + ${FW([w[0]])}"`)}usn(u);let p=UW(new Set(d)),[h]=hsn(p);ysn(h,d),psn(h,p),l=h.N}}o.type=l}catch(s){o.error=s}return o})}function psn(t,e){let n,r=[];for(let i of e){let a=Q_.get(i);if(a===frt)return;if(a){let o=a.M.get(i);if(n=n?n.filter(s=>o.has(s)):UW(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(a=>CM(i,a)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function hsn(t){let e=Z_;for(let n of t){let r=e.filter(i=>CM(i,n));if(!r.length)throw Z_.some(i=>CM(i,n))?brt(e[0],n):yrt(n);if(e=r,r.length==1)break}return e}function msn(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${tye(FW(e,63))}: ${i}`)}return X_(r)}).join(lrt)}function yrt(t){return new Error(`disallowed character: ${eye(t)}`)}function brt(t,e){let n=eye(e),r=Z_.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function AM(t){return new Error(`illegal placement: ${t}`)}function ysn(t,e){for(let n of e)if(!CM(t,n))throw brt(t,n);if(t.M){let n=crt(e);for(let r=1,i=n.length;r<i;r++)if(Qme.has(n[r])){let a=r+1;for(let o;a<i&&Qme.has(o=n[a]);a++)for(let s=r;s<a;s++)if(n[s]==o)throw new Error(`duplicate non-spacing marks: ${eye(o)}`);if(a-r>Wnt)throw new Error(`excessive non-spacing marks: ${tye(FW(n.slice(r-1,a)))} (${a-r}/${Wnt})`);r=a}}}function bsn(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let a=wsn(t);if(a)i.length&&(r.push(e(i)),i=[]),r.push(n(a));else{let o=t.pop();if(Xv.has(o))i.push(o);else{let s=Jme.get(o);if(s)i.push(...s);else if(!drt.has(o))throw yrt(o)}}}return i.length&&r.push(e(i)),r}function gsn(t){return t.filter(e=>e!=urt)}function wsn(t,e){let n=Zme,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:a}=n;a&&(r=a,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}var Fon,qnt,Wnt,Qon,SM,MW,BW,DW,rrt,irt,eT,LW,Zon,Xon,esn,tsn,nsn,qme,Ynt,Wme,kW,Jnt,lrt,urt,frt,UW,Yme,Jme,drt,e4,Qme,prt,ssn,Z_,$me,Q_,Xv,Qnt,Zme,grt=B(()=>{Fon="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",qnt=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Wnt=4;Qon="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",SM=44032,MW=4352,BW=4449,DW=4519,rrt=19,irt=21,eT=28,LW=irt*eT,Zon=rrt*LW,Xon=SM+Zon,esn=MW+rrt,tsn=BW+irt,nsn=DW+eT;Jnt=45,lrt=".",urt=65039,frt=1,UW=t=>Array.from(t);Yme=class extends Array{get is_emoji(){return!0}}});function wrt(t){return ae(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Ert(t){let e=Ko(nye(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(wrt(e.slice(r,i))),r=i+1);return ae(r<e.length,"invalid ENS name; empty component","name",t),n.push(wrt(e.slice(r))),n}function nye(t){try{if(t.length===0)throw new Error("empty label");return mrt(t)}catch(e){ae(!1,`invalid ENS name (${e.message})`,"name",t)}}function t4(t){ae(typeof t=="string","invalid ENS name; not a string","name",t),ae(t.length,"invalid ENS name (empty label)","name",t);let e=vrt,n=Ert(t);for(;n.length;)e=Pr(Tr([e,Pr(n.pop())]));return Ye(e)}function HW(t,e){let n=e??63;return ae(n<=255,"DNS encoded label cannot exceed 255","length",n),Ye(Tr(Ert(t).map(r=>{ae(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);let i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}var vrt,xrt=B(()=>{wf();ar();grt();vrt=new Uint8Array(32);vrt.fill(0)});function zW(t){return typeof t=="string"&&(t=Ko(t)),Pr(Tr([Ko(Nme),Ko(String(t.length)),t]))}var Art=B(()=>{wf();vM();ar()});function xsn(t){let e=en(t),n=e.length%32;return n?Tr([e,Crt.slice(n)]):Ye(e)}function Trt(t){return function(e){return ae(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}function iye(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let n=e[1]==="",r=parseInt(e[2]);ae(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);let i=km(Esn,n?r-1:r),a=n?(i+Rrt)*vsn:Irt;return function(o){let s=dt(o,"value");return ae(s>=a&&s<=i,`value out-of-bounds for ${t}`,"value",s),cl(n?G_(s,256):s,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let n=parseInt(e[1]);return ae(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){let i=en(r);return ae(i.length===n,`invalid length for ${t}`,"value",r),xsn(r)}}}switch(t){case"address":return function(e){return Ic(Bn(e),32)};case"bool":return function(e){return e?Asn:_sn};case"bytes":return function(e){return Pr(e)};case"string":return function(e){return jd(e)}}return null}function Srt(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function jW(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Crt,vsn,Irt,Rrt,Esn,Asn,_sn,_rt,rye,Tsn,zm,Ort=B(()=>{su();wf();ar();Kme();Crt=new Uint8Array(32);Crt.fill(0);vsn=BigInt(-1),Irt=BigInt(0),Rrt=BigInt(1),Esn=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Asn=cl(Rrt,32),_sn=cl(Irt,32),_rt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},rye=["name","version","chainId","verifyingContract","salt"];Tsn={name:Trt("name"),version:Trt("version"),chainId:function(t){let e=dt(t,"domain.chainId");return ae(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):za(e)},verifyingContract:function(t){try{return Bn(t).toLowerCase()}catch{}ae(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=en(t,"domain.salt");return ae(e.length===32,'invalid domain value "salt"',"domain.salt",t),Ye(e)}};zm=class t{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;let n=new Map,r=new Map,i=new Map,a={};Object.keys(e).forEach(c=>{a[c]=e[c].map(({name:l,type:u})=>{let{base:f,index:d}=jW(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(d||"")}}),n.set(c,new Set),r.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(a);for(let c in a){let l=new Set;for(let u of a[c]){ae(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);let f=jW(u.type).base;ae(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!iye(f)&&(ae(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(c),n.get(c).add(f))}}let o=Array.from(r.keys()).filter(c=>r.get(c).length===0);ae(o.length!==0,"missing primary type","types",e),ae(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ct(this,{primaryType:o[0]});function s(c,l){ae(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let u of n.get(c))if(r.has(u)){s(u,l);for(let f of l)i.get(f).add(u)}l.delete(c)}s(this.primaryType,new Set);for(let[c,l]of i){let u=Array.from(l);u.sort(),this.#t.set(c,Srt(c,a[c])+u.map(f=>Srt(f,a[f])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{let i=iye(e);if(i)return i}let n=jW(e).array;if(n){let i=n.prefix,a=this.getEncoder(i);return o=>{ae(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let s=o.map(a);return this.#t.has(i)&&(s=s.map(Pr)),Pr(Tr(s))}}let r=this.types[e];if(r){let i=jd(this.#t.get(e));return a=>{let o=r.map(({name:s,type:c})=>{let l=this.getEncoder(c)(a[s]);return this.#t.has(c)?Pr(l):l});return o.unshift(i),Tr(o)}}ae(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let n=this.#t.get(e);return ae(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Pr(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(iye(e))return r(e,n);let i=jW(e).array;if(i)return ae(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));let a=this.types[e];if(a)return a.reduce((o,{name:s,type:c})=>(o[s]=this._visit(c,n[s],r),o),{});ae(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,n,r){return t.from(n).hashStruct(e,r)}static hashDomain(e){let n=[];for(let r in e){if(e[r]==null)continue;let i=_rt[r];ae(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>rye.indexOf(r.name)-rye.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Tr(["0x1901",t.hashDomain(e),t.from(n).hash(r)])}static hash(e,n,r){return Pr(t.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(let s in e)e[s]==null&&delete e[s];let a={};e.verifyingContract&&!Hn(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");let o=t.from(n);o.visit(r,(s,c)=>(s==="address"&&!Hn(c,20)&&(a[c]="0x"),c));for(let s in a)a[s]=await i(s);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=o.visit(r,(s,c)=>s==="address"&&a[c]?a[c]:c),{domain:e,value:r}}static getPayload(e,n,r){t.hashDomain(e);let i={},a=[];rye.forEach(c=>{let l=e[c];l!=null&&(i[c]=Tsn[c](l),a.push({name:c,type:_rt[c]}))});let o=t.from(n);n=o.types;let s=Object.assign({},n);return ae(s.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),s.EIP712Domain=a,o.encode(r),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return Ye(en(l));if(c.match(/^u?int/))return dt(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return ae(typeof l=="string","invalid string","value",l),l}ae(!1,"unsupported type","type",c)})}}}});var n4=B(()=>{Kme();xrt();Art();Ort()});function ll(t){let e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}function zg(t){let e=[],n=o=>{let s=a<t.length?JSON.stringify(t[a]):"$EOI";throw new Error(`invalid token ${s} at ${a}: ${o}`)},r=[],i=[],a=0;for(;a<t.length;){let o=t.substring(a),s=o.match(Lsn);s&&(a+=s[1].length,o=t.substring(a));let c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(c);let l=Dsn[o[0]]||"";if(l){if(c.type=l,c.text=o[0],a++,l==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let f=e.pop().text;u=f+u,e[e.length-1].value=Cn(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(s=o.match(Fsn),s){if(c.text=s[1],a+=c.text.length,Bsn.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Krt)){c.type="TYPE";continue}c.type="ID";continue}if(s=o.match(Usn),s){c.text=s[1],c.type="NUMBER",a+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`)}return new wp(e.map(o=>Object.freeze(o)))}function Nrt(t,e){let n=[];for(let r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function GW(t,e){if(e.peekKeyword(jrt)){let n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Gm(t,e){let n=new Set;for(;;){let r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function $rt(t){let e=Gm(t,Nsn);return Nrt(e,ll("constant payable nonpayable".split(" "))),Nrt(e,ll("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function jm(t,e){return t.popParams().map(n=>Yo.from(n,e))}function qrt(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return dt(t.pop().text);throw new Error("invalid gas")}return null}function r4(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}function Prt(t){let e=t.match(Krt);if(ae(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let n=parseInt(e[2]);ae(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){let n=parseInt(e[3]);ae(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}function IM(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}var Rsn,Osn,Hrt,Nsn,zrt,jrt,Grt,Psn,ksn,Msn,Bsn,Dsn,Lsn,Usn,Fsn,Vrt,Krt,wp,Hsn,ja,lu,krt,Mrt,Brt,Drt,Lrt,Urt,Frt,Yo,Hg,i4,vf,Lg,Ug,RM,Fg,tT,aye=B(()=>{ar();n4();Rsn="external public payable override",Osn=ll(Rsn.split(" ")),Hrt="constant external internal payable private public pure view override",Nsn=ll(Hrt.split(" ")),zrt="constructor error event fallback function receive struct",jrt=ll(zrt.split(" ")),Grt="calldata memory storage payable indexed",Psn=ll(Grt.split(" ")),ksn="tuple returns",Msn=[zrt,Grt,ksn,Hrt].join(" "),Bsn=ll(Msn.split(" ")),Dsn={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Lsn=new RegExp("^(\\s*)"),Usn=new RegExp("^([0-9]+)"),Fsn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Vrt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Krt=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),wp=class t{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new t(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new t(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){let n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let n=[];for(;this.#e<e.match-1;){let r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;let n=this.peek();return n.type===e?n.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let n=this.#e;n<this.#t.length;n++){let r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Hsn=new RegExp(/^(.*)\[([0-9]*)\]$/);ja={},lu=Symbol.for("_ethers_internal"),krt="_ParamTypeInternal",Mrt="_ErrorInternal",Brt="_EventInternal",Drt="_ConstructorInternal",Lrt="_FallbackInternal",Urt="_FunctionInternal",Frt="_StructInternal",Yo=class t{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,a,o,s,c){if(Pm(e,ja,"ParamType"),Object.defineProperty(this,lu,{value:krt}),o&&(o=Object.freeze(o.slice())),i==="array"){if(s==null||c==null)throw new Error("")}else if(s!=null||c!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Ct(this,{name:n,type:r,baseType:i,indexed:a,components:o,arrayLength:s,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let r=this.name||"";if(this.isArray()){let a=JSON.parse(this.arrayChildren.format("json"));return a.name=r,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}let i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(a=>JSON.parse(a.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let r=this;return e.map((i,a)=>r.components[a].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,s=n.slice();s.forEach((c,l)=>{o.#e(e,c,r,u=>{s[l]=u})}),i(s);return}if(this.isTuple()){let o=this.components,s;if(Array.isArray(n))s=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");s=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");s.forEach((c,l)=>{o[l].#e(e,c,r,u=>{s[l]=u})}),i(s);return}let a=r(this.type,n);a.then?e.push((async function(){i(await a)})()):i(a)}async walkAsync(e,n){let r=[],i=[e];return this.#e(r,e,n,a=>{i[0]=a}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(t.isParamType(e))return e;if(typeof e=="string")try{return t.from(zg(e),n)}catch{ae(!1,"invalid param type","obj",e)}else if(e instanceof wp){let s="",c="",l=null;Gm(e,ll(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(m=>t.from(m)),s=`tuple(${l.map(m=>m.format()).join(",")})`):(s=Prt(e.popType("TYPE")),c=s);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){let m=e.pop();u=new t(ja,"",s,c,null,l,f,u),f=m.value,s+=m.text,c="array",l=null}let d=null;if(Gm(e,Psn).has("indexed")){if(!n)throw new Error("");d=!0}let h=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(ja,h,s,c,d,l,f,u)}let r=e.name;ae(!r||typeof r=="string"&&r.match(Vrt),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ae(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let a=e.type,o=a.match(Hsn);if(o){let s=parseInt(o[2]||"-1"),c=t.from({type:o[1],components:e.components});return new t(ja,r||"",a,"array",i,null,s,c)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){let s=e.components!=null?e.components.map(l=>t.from(l)):null;return new t(ja,r||"",a,"tuple",i,s,null,null)}return a=Prt(e.type),new t(ja,r||"",a,a,i,null,null,null)}static isParamType(e){return e&&e[lu]===krt}},Hg=class t{type;inputs;constructor(e,n,r){Pm(e,ja,"Fragment"),r=Object.freeze(r.slice()),Ct(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{t.from(JSON.parse(e))}catch{}return t.from(zg(e))}if(e instanceof wp)switch(e.peekKeyword(jrt)){case"constructor":return Ug.from(e);case"error":return vf.from(e);case"event":return Lg.from(e);case"fallback":case"receive":return RM.from(e);case"function":return Fg.from(e);case"struct":return tT.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ug.from(e);case"error":return vf.from(e);case"event":return Lg.from(e);case"fallback":case"receive":return RM.from(e);case"function":return Fg.from(e);case"struct":return tT.from(e)}Re(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ae(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ug.isFragment(e)}static isError(e){return vf.isFragment(e)}static isEvent(e){return Lg.isFragment(e)}static isFunction(e){return Fg.isFragment(e)}static isStruct(e){return tT.isFragment(e)}},i4=class extends Hg{name;constructor(e,n,r,i){super(e,n,i),ae(typeof r=="string"&&r.match(Vrt),"invalid identifier","name",r),i=Object.freeze(i.slice()),Ct(this,{name:r})}};vf=class t extends i4{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,lu,{value:Mrt})}get selector(){return jd(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+IM(e,this.inputs)),n.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")return t.from(zg(e));if(e instanceof wp){let n=GW("error",e),r=jm(e);return r4(e),new t(ja,n,r)}return new t(ja,e.name,e.inputs?e.inputs.map(Yo.from):[])}static isFragment(e){return e&&e[lu]===Mrt}},Lg=class t extends i4{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,lu,{value:Brt}),Ct(this,{anonymous:i})}get topicHash(){return jd(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+IM(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>Yo.from(i)),new t(ja,e,n,!1).topicHash}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(zg(e))}catch{ae(!1,"invalid event fragment","obj",e)}else if(e instanceof wp){let n=GW("event",e),r=jm(e,!0),i=!!Gm(e,ll(["anonymous"])).has("anonymous");return r4(e),new t(ja,n,r,i)}return new t(ja,e.name,e.inputs?e.inputs.map(n=>Yo.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[lu]===Brt}},Ug=class t extends Hg{payable;gas;constructor(e,n,r,i,a){super(e,n,r),Object.defineProperty(this,lu,{value:Drt}),Ct(this,{payable:i,gas:a})}format(e){if(Re(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n=[`constructor${IM(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(zg(e))}catch{ae(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof wp){Gm(e,ll(["constructor"]));let n=jm(e),r=!!Gm(e,Osn).has("payable"),i=qrt(e);return r4(e),new t(ja,"constructor",n,r,i)}return new t(ja,"constructor",e.inputs?e.inputs.map(Yo.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[lu]===Drt}},RM=class t extends Hg{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,lu,{value:Lrt}),Ct(this,{payable:r})}format(e){let n=this.inputs.length===0?"receive":"fallback";if(e==="json"){let r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(zg(e))}catch{ae(!1,"invalid fallback fragment","obj",e)}else if(e instanceof wp){let n=e.toString(),r=e.peekKeyword(ll(["fallback","receive"]));if(ae(r,"type must be fallback or receive","obj",n),e.popKeyword(ll(["fallback","receive"]))==="receive"){let s=jm(e);return ae(s.length===0,"receive cannot have arguments","obj.inputs",s),Gm(e,ll(["payable"])),r4(e),new t(ja,[],!0)}let a=jm(e);a.length?ae(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(s=>s.format("minimal")).join(", ")):a=[Yo.from("bytes")];let o=$rt(e);if(ae(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Gm(e,ll(["returns"])).has("returns")){let s=jm(e);ae(s.length===1&&s[0].type==="bytes","invalid fallback outputs","obj.outputs",s.map(c=>c.format("minimal")).join(", "))}return r4(e),new t(ja,a,o==="payable")}if(e.type==="receive")return new t(ja,[],!0);if(e.type==="fallback"){let n=[Yo.from("bytes")],r=e.stateMutability==="payable";return new t(ja,n,r)}ae(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[lu]===Lrt}},Fg=class t extends i4{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,a,o){super(e,"function",n,i),Object.defineProperty(this,lu,{value:Urt}),a=Object.freeze(a.slice()),Ct(this,{constant:r==="view"||r==="pure",gas:o,outputs:a,payable:r==="payable",stateMutability:r})}get selector(){return jd(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+IM(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(IM(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>Yo.from(i)),new t(ja,e,"view",n,[],null).selector}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(zg(e))}catch{ae(!1,"invalid function fragment","obj",e)}else if(e instanceof wp){let r=GW("function",e),i=jm(e),a=$rt(e),o=[];Gm(e,ll(["returns"])).has("returns")&&(o=jm(e));let s=qrt(e);return r4(e),new t(ja,r,a,i,o,s)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new t(ja,e.name,n,e.inputs?e.inputs.map(Yo.from):[],e.outputs?e.outputs.map(Yo.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[lu]===Urt}},tT=class t extends i4{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,lu,{value:Frt})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return t.from(zg(e))}catch{ae(!1,"invalid struct fragment","obj",e)}else if(e instanceof wp){let n=GW("struct",e),r=jm(e);return r4(e),new t(ja,n,r)}return new t(ja,e.name,e.inputs?e.inputs.map(Yo.from):[])}static isFragment(e){return e&&e[lu]===Frt}}});function Gsn(t,e,n,r){let i="missing revert data",a=null,o=null,s=null;if(n){i="execution reverted";let l=en(n);if(n=Ye(n),l.length===0)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Ye(l.slice(0,4))==="0x08c379a0")try{a=r.decode(["string"],l.slice(4))[0],s={signature:"Error(string)",name:"Error",args:[a]},i+=`: ${JSON.stringify(a)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Ye(l.slice(0,4))==="0x4e487b71")try{let u=Number(r.decode(["uint256"],l.slice(4))[0]);s={signature:"Panic(uint256)",name:"Panic",args:[u]},a=`Panic due to ${vp.get(u)||"UNKNOWN"}(${u})`,i+=`: ${a}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let c={to:e.to?Bn(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Bn(e.from)),zr(i,"CALL_EXCEPTION",{action:t,data:n,reason:a,transaction:c,invocation:o,revert:s})}var vp,zsn,jsn,oye,Wrt,Vm,sye=B(()=>{ar();Hd();Bnt();Ume();Lnt();Fme();Unt();Fnt();Hnt();znt();jnt();aye();su();ar();vp=new Map;vp.set(0,"GENERIC_PANIC");vp.set(1,"ASSERT_FALSE");vp.set(17,"OVERFLOW");vp.set(18,"DIVIDE_BY_ZERO");vp.set(33,"ENUM_RANGE_ERROR");vp.set(34,"BAD_STORAGE_DATA");vp.set(49,"STACK_UNDERFLOW");vp.set(50,"ARRAY_RANGE_ERROR");vp.set(65,"OUT_OF_MEMORY");vp.set(81,"UNINITIALIZED_FUNCTION_CALL");zsn=new RegExp(/^bytes([0-9]*)$/),jsn=new RegExp(/^(u?int)([0-9]*)$/),oye=null,Wrt=1024;Vm=class t{#e(e){if(e.isArray())return new AW(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Qv(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new EW(e.name);case"bool":return new _W(e.name);case"string":return new RW(e.name);case"bytes":return new TW(e.name);case"":return new CW(e.name)}let n=e.type.match(jsn);if(n){let r=parseInt(n[2]||"256");return ae(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new IW(r/8,n[1]==="int",e.name)}if(n=e.type.match(zsn),n){let r=parseInt(n[1]);return ae(r!==0&&r<=32,"invalid bytes length","param",e),new SW(r,e.name)}ae(!1,"invalid type","type",e.type)}getDefaultValue(e){let n=e.map(i=>this.#e(Yo.from(i)));return new Qv(n,"_").defaultValue()}encode(e,n){z_(n.length,e.length,"types/values length mismatch");let r=e.map(o=>this.#e(Yo.from(o))),i=new Qv(r,"_"),a=new Kv;return i.encode(a,n),a.data}decode(e,n,r){let i=e.map(o=>this.#e(Yo.from(o)));return new Qv(i,"_").decode(new nW(n,r,Wrt))}static _setDefaultMaxInflation(e){ae(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Wrt=e}static defaultAbiCoder(){return oye==null&&(oye=new t),oye}static getBuiltinCallException(e,n,r){return Gsn(e,n,r,t.defaultAbiCoder())}}});var OM,NM,PM,nT,Yrt,Jrt,l6,Zrt=B(()=>{wf();n4();ar();sye();Hd();aye();s6();OM=class{fragment;name;signature;topic;args;constructor(e,n,r){let i=e.name,a=e.format();Ct(this,{fragment:e,name:i,signature:a,topic:n,args:r})}},NM=class{fragment;name;args;signature;selector;value;constructor(e,n,r,i){let a=e.name,o=e.format();Ct(this,{fragment:e,name:a,args:r,signature:o,selector:n,value:i})}},PM=class{fragment;name;args;signature;selector;constructor(e,n,r){let i=e.name,a=e.format();Ct(this,{fragment:e,name:i,args:r,signature:a,selector:n})}},nT=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Ct(this,{hash:e,_isIndexed:!0})}},Yrt={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Jrt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Yrt[t.toString()]&&(e=Yrt[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},l6=class t{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;let r=[];for(let o of n)try{r.push(Hg.from(o))}catch(s){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,s.message)}Ct(this,{fragments:Object.freeze(r)});let i=null,a=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((o,s)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ct(this,{deploy:o});return;case"fallback":o.inputs.length===0?a=!0:(ae(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${s}]`,o),i=o,a=i.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let l=o.format();c.has(l)||c.set(l,o)}),this.deploy||Ct(this,{deploy:Ug.from("constructor()")}),Ct(this,{fallback:i,receive:a})}format(e){let n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){let e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Vm.defaultAbiCoder()}#i(e,n,r){if(Hn(e)){let a=e.toLowerCase();for(let o of this.#n.values())if(a===o.selector)return o;return null}if(e.indexOf("(")===-1){let a=[];for(let[o,s]of this.#n)o.split("(")[0]===e&&a.push(s);if(n){let o=n.length>0?n[n.length-1]:null,s=n.length,c=!0;Vi.isTyped(o)&&o.type==="overrides"&&(c=!1,s--);for(let l=a.length-1;l>=0;l--){let u=a[l].inputs.length;u!==s&&(!c||u!==s-1)&&a.splice(l,1)}for(let l=a.length-1;l>=0;l--){let u=a[l].inputs;for(let f=0;f<n.length;f++)if(Vi.isTyped(n[f])){if(f>=u.length){if(n[f].type==="overrides")continue;a.splice(l,1);break}if(n[f].type!==u[f].baseType){a.splice(l,1);break}}}}if(a.length===1&&n&&n.length!==a[0].inputs.length){let o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&a.splice(0,1)}if(a.length===0)return null;if(a.length>1&&r){let o=a.map(s=>JSON.stringify(s.format())).join(", ");ae(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return a[0]}let i=this.#n.get(Fg.from(e).format());return i||null}getFunctionName(e){let n=this.#i(e,null,!1);return ae(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){let n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){let i=n[r];e(this.#n.get(i),r)}}#o(e,n,r){if(Hn(e)){let a=e.toLowerCase();for(let o of this.#t.values())if(a===o.topicHash)return o;return null}if(e.indexOf("(")===-1){let a=[];for(let[o,s]of this.#t)o.split("(")[0]===e&&a.push(s);if(n){for(let o=a.length-1;o>=0;o--)a[o].inputs.length<n.length&&a.splice(o,1);for(let o=a.length-1;o>=0;o--){let s=a[o].inputs;for(let c=0;c<n.length;c++)if(Vi.isTyped(n[c])&&n[c].type!==s[c].baseType){a.splice(o,1);break}}}if(a.length===0)return null;if(a.length>1&&r){let o=a.map(s=>JSON.stringify(s.format())).join(", ");ae(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return a[0]}let i=this.#t.get(Lg.from(e).format());return i||null}getEventName(e){let n=this.#o(e,null,!1);return ae(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,n){return this.#o(e,n||null,!0)}forEachEvent(e){let n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){let i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(Hn(e)){let i=e.toLowerCase();if(Jrt[i])return vf.from(Jrt[i].signature);for(let a of this.#e.values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){let i=[];for(let[a,o]of this.#e)a.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?vf.from("error Error(string)"):e==="Panic"?vf.from("error Panic(uint256)"):null;if(i.length>1){let a=i.map(o=>JSON.stringify(o.format())).join(", ");ae(!1,`ambiguous error description (i.e. ${a})`,"name",e)}return i[0]}if(e=vf.from(e).format(),e==="Error(string)")return vf.from("error Error(string)");if(e==="Panic(uint256)")return vf.from("error Panic(uint256)");let r=this.#e.get(e);return r||null}forEachError(e){let n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){let i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){let r=this.getError(e);ae(r,"unknown error","fragment",e),e=r}return ae(Gi(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Gi(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){let r=this.getError(e);ae(r,"unknown error","fragment",e),e=r}return Tr([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){let r=this.getFunction(e);ae(r,"unknown function","fragment",e),e=r}return ae(Gi(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Gi(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){let r=this.getFunction(e);ae(r,"unknown function","fragment",e),e=r}return Tr([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){let a=this.getFunction(e);ae(a,"unknown function","fragment",e),e=a}let r="invalid length for result data",i=uo(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}Re(!1,r,"BAD_DATA",{value:Ye(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){let r=en(e,"data"),i=Vm.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){let s=Ye(r.slice(0,4)),c=this.getError(s);if(c)try{let l=this.#r.decode(c.inputs,r.slice(4));i.revert={name:c.name,signature:c.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}let o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){let r=this.getFunction(e);ae(r,"unknown function","fragment",e),e=r}return Ye(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){let a=this.getEvent(e);ae(a,"unknown event","eventFragment",e),e=a}Re(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let i=(a,o)=>a.type==="string"?jd(o):a.type==="bytes"?Pr(Ye(o)):(a.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":a.type.match(/^u?int/)?o=cl(o):a.type.match(/^bytes/)?o=Kq(o,32):a.type==="address"&&this.#r.encode(["address"],[o]),Ic(Ye(o),32));for(n.forEach((a,o)=>{let s=e.inputs[o];if(!s.indexed){ae(a==null,"cannot filter non-indexed parameters; must be null","contract."+s.name,a);return}a==null?r.push(null):s.baseType==="array"||s.baseType==="tuple"?ae(!1,"filtering with tuples or arrays not supported","contract."+s.name,a):Array.isArray(a)?r.push(a.map(c=>i(s,c))):r.push(i(s,a))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){let o=this.getEvent(e);ae(o,"unknown event","eventFragment",e),e=o}let r=[],i=[],a=[];return e.anonymous||r.push(e.topicHash),ae(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,s)=>{let c=n[s];if(o.indexed)if(o.type==="string")r.push(jd(c));else if(o.type==="bytes")r.push(Pr(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([o.type],[c]))}else i.push(o),a.push(c)}),{data:this.#r.encode(i,a),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){let p=this.getEvent(e);ae(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){let p=e.topicHash;ae(Hn(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let i=[],a=[],o=[];e.inputs.forEach((p,h)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(Yo.from({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(a.push(p),o.push(!1))});let s=r!=null?this.#r.decode(i,Tr(r)):null,c=this.#r.decode(a,n,!0),l=[],u=[],f=0,d=0;return e.inputs.forEach((p,h)=>{let m=null;if(p.indexed)if(s==null)m=new nT(null);else if(o[h])m=new nT(s[d++]);else try{m=s[d++]}catch(w){m=w}else try{m=c[f++]}catch(w){m=w}l.push(m),u.push(p.name||null)}),o6.fromItems(l,u)}parseTransaction(e){let n=en(e.data,"tx.data"),r=dt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(Ye(n.slice(0,4)));if(!i)return null;let a=this.#r.decode(i.inputs,n.slice(4));return new NM(i,i.selector,a,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new OM(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){let n=Ye(e),r=this.getError(Gi(n,0,4));if(!r)return null;let i=this.#r.decode(r.inputs,Gi(n,4));return new PM(r,r.selector,i)}static from(e){return e instanceof t?e:typeof e=="string"?new t(JSON.parse(e)):typeof e.formatJson=="function"?new t(e.formatJson()):typeof e.format=="function"?new t(e.format("json")):new t(e)}}});var VW=B(()=>{sye();Zrt();s6()});function rT(t){return t??null}function Do(t){return t==null?null:t.toString()}function Gg(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Ye(t.data));let n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let i of n)!(i in t)||t[i]==null||(e[i]=dt(t[i],`request.${i}`));let r="type,nonce".split(/,/);for(let i of r)!(i in t)||t[i]==null||(e[i]=Cn(t[i],`request.${i}`));return t.accessList&&(e.accessList=cu(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>_g(i)?Ye(i):Object.assign({},i))),e}function Vsn(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function eit(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function tit(t){return{orphan:"drop-transaction",tx:t}}function Ksn(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var Xrt,iT,kM,Ep,a4,jg,MM=B(()=>{ar();Dg();Xrt=BigInt(0);iT=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){Ct(this,{gasPrice:rT(e),maxFeePerGas:rT(n),maxPriorityFeePerGas:rT(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Do(e),maxFeePerGas:Do(n),maxPriorityFeePerGas:Do(r)}}};kM=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new jg(r,n):r),Ct(this,{provider:n,hash:rT(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:rT(e.prevRandao),extraData:e.extraData,baseFeePerGas:rT(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(Re(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:a,hash:o,miner:s,prevRandao:c,nonce:l,number:u,parentHash:f,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:h,timestamp:m,transactions:w}=this;return{_type:"Block",baseFeePerGas:Do(e),difficulty:Do(n),extraData:r,gasLimit:Do(i),gasUsed:Do(a),blobGasUsed:Do(this.blobGasUsed),excessBlobGas:Do(this.excessBlobGas),hash:o,miner:s,prevRandao:c,nonce:l,number:u,parentHash:f,timestamp:m,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:h,transactions:w}}[Symbol.iterator](){let e=0,n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{let r=e.toLowerCase();for(let i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){let n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(let r of n)if(r.hash===e)return r;ae(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Vsn(this)}},Ep=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;let r=Object.freeze(e.topics.slice());Ct(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:n,blockNumber:r,data:i,index:a,removed:o,topics:s,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:a,removed:o,topics:s,transactionHash:c,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return Re(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return Re(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return Re(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Ksn(this)}},a4=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new Ep(i,n)));let r=Xrt;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Ct(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:n,contractAddress:r,hash:i,index:a,blockHash:o,blockNumber:s,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:s,contractAddress:r,cumulativeGasUsed:Do(this.cumulativeGasUsed),from:n,gasPrice:Do(this.gasPrice),blobGasUsed:Do(this.blobGasUsed),blobGasPrice:Do(this.blobGasPrice),gasUsed:Do(this.gasUsed),hash:i,index:a,logs:l,logsBloom:c,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return tit(this)}reorderedEvent(e){return Re(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),eit(this,e)}},jg=class t{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:n,index:r,hash:i,type:a,to:o,from:s,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:d,chainId:Do(this.chainId),data:l,from:s,gasLimit:Do(this.gasLimit),gasPrice:Do(this.gasPrice),hash:i,maxFeePerGas:Do(this.maxFeePerGas),maxPriorityFeePerGas:Do(this.maxPriorityFeePerGas),maxFeePerBlobGas:Do(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:r,type:a,value:Do(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;let n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:n,blockNumber:r}=await lo({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){let r=e??1,i=n??0,a=this.#e,o=-1,s=a===-1,c=async()=>{if(s)return null;let{blockNumber:d,nonce:p}=await lo({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){a=d;return}if(s)return null;let h=await this.getTransaction();if(!(h&&h.blockNumber!=null))for(o===-1&&(o=a-3,o<this.#e&&(o=this.#e));o<=d;){if(s)return null;let m=await this.provider.getBlock(o,!0);if(m==null)return;for(let w of m)if(w===this.hash)return;for(let w=0;w<m.length;w++){let g=await m.getTransaction(w);if(g.from===this.from&&g.nonce===this.nonce){if(s)return null;let x=await this.provider.getTransactionReceipt(g.hash);if(x==null||d-x.blockNumber+1<r)return;let C="replaced";g.data===this.data&&g.to===this.to&&g.value===this.value?C="repriced":g.data==="0x"&&g.from===g.to&&g.value===Xrt&&(C="cancelled"),Re(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:C==="replaced"||C==="cancelled",reason:C,replacement:g.replaceableTransaction(a),hash:g.hash,receipt:x})}}o++}},l=d=>{if(d==null||d.status!==0)return d;Re(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if(r===1||await u.confirmations()>=r)return l(u)}else if(await c(),r===0)return null;return await new Promise((d,p)=>{let h=[],m=()=>{h.forEach(g=>g())};if(h.push(()=>{s=!0}),i>0){let g=setTimeout(()=>{m(),p(zr("wait for transaction timeout","TIMEOUT"))},i);h.push(()=>{clearTimeout(g)})}let w=async g=>{if(await g.confirmations()>=r){m();try{d(l(g))}catch(x){p(x)}}};if(h.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),a>=0){let g=async()=>{try{await c()}catch(x){if(ia(x,"TRANSACTION_REPLACED")){m(),p(x);return}}s||this.provider.once("block",g)};h.push(()=>{this.provider.off("block",g)}),this.provider.once("block",g)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Re(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),tit(this)}reorderedEvent(e){return Re(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Re(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),eit(this,e)}replaceableTransaction(e){ae(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let n=new t(this,this.provider);return n.#e=e,n}}});var o4,aT,KW,s4,oT,BM,nit=B(()=>{MM();ar();o4=class extends Ep{interface;fragment;args;constructor(e,n,r){super(e,e.provider);let i=n.decodeEventLog(r,e.data,e.topics);Ct(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},aT=class extends Ep{error;constructor(e,n){super(e,e.provider),Ct(this,{error:n})}},KW=class extends a4{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{let n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new o4(e,this.#e,n)}catch(r){return new aT(e,r)}return e})}},s4=class extends jg{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){let r=await super.wait(e,n);return r==null?null:new KW(this.#e,this.provider,r)}},oT=class extends Tg{log;constructor(e,n,r,i){super(e,n,r),Ct(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},BM=class extends oT{constructor(e,n,r,i,a){super(e,n,r,new o4(a,e.interface,i));let o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Ct(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}});function ait(t){return t&&typeof t.call=="function"}function oit(t){return t&&typeof t.estimateGas=="function"}function WW(t){return t&&typeof t.resolveName=="function"}function sit(t){return t&&typeof t.sendTransaction=="function"}function cit(t){if(t!=null){if(WW(t))return t;if(t.provider)return t.provider}}function l4(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function c4(t){return t==null?null:t.provider||null}async function lit(t,e){let n=Vi.dereference(t,"overrides");ae(typeof n=="object","invalid overrides parameter","overrides",t);let r=Gg(n);return ae(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ae(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function $sn(t,e,n){let r=l4(t,"resolveName"),i=WW(r)?r:null;return await Promise.all(e.map((a,o)=>a.walkAsync(n[o],(s,c)=>(c=Vi.dereference(c,s),s==="address"?Wo(c,i):c))))}function qsn(t){let e=async function(o){let s=await lit(o,["data"]);s.to=await t.getAddress(),s.from&&(s.from=await Wo(s.from,cit(t.runner)));let c=t.interface,l=dt(s.value||rit,"overrides.value")===rit,u=(s.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&ae(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),ae(c.fallback||u,"cannot send data to receive-only contract","overrides.data",s.data);let f=c.receive||c.fallback&&c.fallback.payable;return ae(f||l,"cannot send value to non-payable fallback","overrides.value",s.value),ae(c.fallback||u,"cannot send data to receive-only contract","overrides.data",s.data),s},n=async function(o){let s=l4(t.runner,"call");Re(ait(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(o);try{return await s.call(c)}catch(l){throw jv(l)&&l.data?t.interface.makeError(l.data,c):l}},r=async function(o){let s=t.runner;Re(sit(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await s.sendTransaction(await e(o)),l=c4(t.runner);return new s4(t.interface,l,c)},i=async function(o){let s=l4(t.runner,"estimateGas");return Re(oit(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await e(o))},a=async o=>await r(o);return Ct(a,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),a}function Wsn(t,e){let n=function(...l){let u=t.interface.getFunction(e,l);return Re(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},r=async function(...l){let u=n(...l),f={};if(u.inputs.length+1===l.length&&(f=await lit(l.pop()),f.from&&(f.from=await Wo(f.from,cit(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let d=await $sn(t.runner,u.inputs,l);return Object.assign({},f,await lo({to:t.getAddress(),data:t.interface.encodeFunctionData(u,d)}))},i=async function(...l){let u=await s(...l);return u.length===1?u[0]:u},a=async function(...l){let u=t.runner;Re(sit(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let f=await u.sendTransaction(await r(...l)),d=c4(t.runner);return new s4(t.interface,d,f)},o=async function(...l){let u=l4(t.runner,"estimateGas");return Re(oit(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...l))},s=async function(...l){let u=l4(t.runner,"call");Re(ait(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let f=await r(...l),d="0x";try{d=await u.call(f)}catch(h){throw jv(h)&&h.data?t.interface.makeError(h.data,f):h}let p=n(...l);return t.interface.decodeFunctionResult(p,d)},c=async(...l)=>n(...l).constant?await i(...l):await a(...l);return Ct(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:a,staticCall:i,staticCallResult:s}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=t.interface.getFunction(e);return Re(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function Ysn(t,e){let n=function(...i){let a=t.interface.getEvent(e,i);return Re(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),a},r=function(...i){return new cye(t,n(...i),i)};return Ct(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{let i=t.interface.getEvent(e);return Re(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}function Jsn(t,e){uit.set(t[qW],e)}function Ef(t){return uit.get(t[qW])}function Qsn(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function fye(t,e){let n,r=null;if(Array.isArray(e)){let a=function(o){if(Hn(o,32))return o;let s=t.interface.getEvent(o);return ae(s,"unknown fragment","name",o),s.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(a):a(o))}else e==="*"?n=[null]:typeof e=="string"?Hn(e,32)?n=[e]:(r=t.interface.getEvent(e),ae(r,"unknown fragment","event",e),n=[r.topicHash]):Qsn(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ae(!1,"unknown event name","event",e);n=n.map(a=>{if(a==null)return null;if(Array.isArray(a)){let o=Array.from(new Set(a.map(s=>s.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return a.toLowerCase()});let i=n.map(a=>a==null?"null":Array.isArray(a)?a.join("|"):a).join("&");return{fragment:r,tag:i,topics:n}}async function DM(t,e){let{subs:n}=Ef(t);return n.get((await fye(t,e)).tag)||null}async function iit(t,e,n){let r=c4(t.runner);Re(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:i,tag:a,topics:o}=await fye(t,n),{addr:s,subs:c}=Ef(t),l=c.get(a);if(!l){let f={address:s||t,topics:o},d=w=>{let g=i;if(g==null)try{g=t.interface.getEvent(w.topics[0])}catch{}if(g){let x=g,C=i?t.interface.decodeEventLog(i,w.data,w.topics):[];uye(t,n,C,P=>new BM(t,P,n,x,w))}else uye(t,n,[],x=>new oT(t,x,n,w))},p=[];l={tag:a,listeners:[],start:()=>{p.length||p.push(r.on(f,d))},stop:async()=>{if(p.length==0)return;let w=p;p=[],await Promise.all(w),r.off(f,d)}},c.set(a,l)}return l}async function Zsn(t,e,n,r){await lye;let i=await DM(t,e);if(!i)return!1;let a=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:s})=>{let c=Array.from(n);r&&c.push(r(s?null:o));try{o.call(t,...c)}catch{}return!s}),i.listeners.length===0&&(i.stop(),Ef(t).subs.delete(i.tag)),a>0}async function uye(t,e,n,r){try{await lye}catch{}let i=Zsn(t,e,n,r);return lye=i,await i}function Xsn(){return LM}var rit,cye,qW,uit,lye,$W,LM,po,fit=B(()=>{VW();su();MM();ar();nit();rit=BigInt(0);cye=class{#e;fragment;constructor(e,n,r){if(Ct(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");let i=l4(e.runner,"resolveName"),a=WW(i)?i:null;this.#e=(async function(){let o=await Promise.all(n.inputs.map((s,c)=>r[c]==null?null:s.walkAsync(r[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(d=>Wo(d,a))):Wo(f,a):f)));return e.interface.encodeFilterTopics(n,o)})()}getTopicFilter(){return this.#e}};qW=Symbol.for("_ethersInternal_contract"),uit=new WeakMap;lye=Promise.resolve();$W=["then"],LM=class t{target;interface;runner;filters;[qW];fallback;constructor(e,n,r,i){ae(typeof e=="string"||vW(e),"invalid value for Contract target","target",e),r==null&&(r=null);let a=l6.from(n);Ct(this,{target:e,runner:r,interface:a}),Object.defineProperty(this,qW,{value:{}});let o,s=null,c=null;if(i){let f=c4(r);c=new s4(this.interface,f,i)}let l=new Map;if(typeof e=="string")if(Hn(e))s=e,o=Promise.resolve(e);else{let f=l4(r,"resolveName");if(!WW(f))throw zr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(d=>{if(d==null)throw zr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ef(this).addr=d,d})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Ef(this).addr=f,f});Jsn(this,{addrPromise:o,addr:s,deployTx:c,subs:l});let u=new Proxy({},{get:(f,d,p)=>{if(typeof d=="symbol"||$W.indexOf(d)>=0)return Reflect.get(f,d,p);try{return this.getEvent(d)}catch(h){if(!ia(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(f,d)=>$W.indexOf(d)>=0?Reflect.has(f,d):Reflect.has(f,d)||this.interface.hasEvent(String(d))});return Ct(this,{filters:u}),Ct(this,{fallback:a.receive||a.fallback?qsn(this):null}),new Proxy(this,{get:(f,d,p)=>{if(typeof d=="symbol"||d in f||$W.indexOf(d)>=0)return Reflect.get(f,d,p);try{return f.getFunction(d)}catch(h){if(!ia(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(f,d)=>typeof d=="symbol"||d in f||$W.indexOf(d)>=0?Reflect.has(f,d):f.interface.hasFunction(d)})}connect(e){return new t(this.target,this.interface,e)}attach(e){return new t(e,this.interface,this.runner)}async getAddress(){return await Ef(this).addrPromise}async getDeployedCode(){let e=c4(this.runner);Re(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let r=c4(this.runner);return Re(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,a)=>{let o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(s){a(s)}};o()})}deploymentTransaction(){return Ef(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Wsn(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Ysn(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");let{addr:i,addrPromise:a}=Ef(this),o=i||await a,{fragment:s,topics:c}=await fye(this,e),l={address:o,topics:c,fromBlock:n,toBlock:r},u=c4(this.runner);return Re(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let d=s;if(d==null)try{d=this.interface.getEvent(f.topics[0])}catch{}if(d)try{return new o4(f,this.interface,d)}catch(p){return new aT(f,p)}return new Ep(f,u)})}async on(e,n){let r=await iit(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){let r=await iit(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await uye(this,e,n,null)}async listenerCount(e){if(e){let i=await DM(this,e);return i?i.listeners.length:0}let{subs:n}=Ef(this),r=0;for(let{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){let i=await DM(this,e);return i?i.listeners.map(({listener:a})=>a):[]}let{subs:n}=Ef(this),r=[];for(let{listeners:i}of n.values())r=r.concat(i.map(({listener:a})=>a));return r}async off(e,n){let r=await DM(this,e);if(!r)return this;if(n){let i=r.listeners.map(({listener:a})=>a).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Ef(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let n=await DM(this,e);if(!n)return this;n.stop(),Ef(this).subs.delete(n.tag)}else{let{subs:n}=Ef(this);for(let{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends t{constructor(i,a=null){super(i,e,a)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};po=class extends Xsn(){}});var YW=B(()=>{fit()});function dye(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ae(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var JW,pit,dit,sT,hit=B(()=>{su();vM();YW();n4();ar();JW=class{name;constructor(e){Ct(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}},pit=new RegExp("^(ipfs)://(.*)$","i"),dit=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),pit,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],sT=class t{provider;address;name;#e;#t;constructor(e,n,r){Ct(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new po(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(ia(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();let r=this.#t.interface;n.unshift(t4(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),Re(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[HW(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{let a=await this.#t[e](...n);return i?r.decodeFunctionResult(i,a)[0]:a}catch(a){if(!ia(a,"CALL_EXCEPTION"))throw a}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{let a=await this.#n("addr(bytes32)");return a==null||a===Hm?null:a}catch(a){if(ia(a,"CALL_EXCEPTION"))return null;throw a}if(e>=0&&e<2147483648){let a=e+2147483648,o=await this.#n("addr(bytes32,uint)",[a]);if(Hn(o,20))return Bn(o)}let n=null;for(let a of this.provider.plugins)if(a instanceof JW&&a.supportsCoinType(e)){n=a;break}if(n==null)return null;let r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;let i=await n.decodeAddress(e,r);if(i!=null)return i;Re(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){let e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;let n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let i=n[1]==="e3010170"?"ipfs":"ipns",a=parseInt(n[4],16);if(n[5].length===a*2)return`${i}://${Jq("0x"+n[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Re(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<dit.length;r++){let i=n.match(dit[r]);if(i==null)continue;let a=i[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{let o=dye(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{let o=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:n});let s=await this.getAddress();if(s==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${a}caip`,value:i[2]||""}),{url:null,linkage:e};let l=c[1],u=new po(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){let m=await u.ownerOf(l);if(s!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(a==="erc1155"){let m=await u.balanceOf(s,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let f=await u[o](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),a==="erc1155"&&(f=f.replace("{id}",cl(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=dye(f)),e.push({type:"metadata-url",value:f});let d={},p=await new ou(f).send();p.assertOk();try{d=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{let g=p.body;return g&&e.push({type:"!metadata",value:Ye(g)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let h=d.image;if(typeof h!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(pit)==null)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=dye(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Re(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){let r=await t.getEnsAddress(e);try{let a=await new po(r,["function resolver(bytes32) view returns (address)"],e).resolver(t4(n),{enableCcipRead:!0});return a===Hm?null:a}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;let i=await t.#r(e,r);if(i!=null){let a=new t(e,i,n);return r!==n&&!await a.supportsWildcard()?null:a}r=r.split(".").slice(1).join(".")}}}});function Cr(t,e){return(function(n){return n==null?e:t(n)})}function UM(t,e){return(n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))})}function FM(t,e){return(n=>{let r={};for(let i in t){let a=i;if(e&&i in e&&!(a in n)){for(let o of e[i])if(o in n){a=o;break}}try{let o=t[i](n[a]);o!==void 0&&(r[i]=o)}catch(o){let s=o instanceof Error?o.message:"not-an-error";Re(!1,`invalid value for value.${i} (${s})`,"BAD_DATA",{value:n})}}return r})}function e0n(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ae(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function cT(t){return ae(Hn(t,!0),"invalid data","value",t),t}function O0(t){return ae(Hn(t,32),"invalid hash","value",t),t}function yit(t){return t0n(t)}function bit(t){let e=n0n(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:pye(n)),e}function i0n(t){return r0n(t)}function git(t){return a0n(t)}function pye(t){t.to&&dt(t.to)===mit&&(t.to="0x0000000000000000000000000000000000000000");let e=FM({hash:O0,index:Cr(Cn,void 0),type:n=>n==="0x"||n==null?0:Cn(n),accessList:Cr(cu,null),blobVersionedHashes:Cr(UM(O0,!0),null),authorizationList:Cr(UM(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:Bn(n.address),chainId:dt(n.chainId),nonce:dt(n.nonce),signature:qo.from(r)}},!1),null),blockHash:Cr(O0,null),blockNumber:Cr(Cn,null),transactionIndex:Cr(Cn,null),from:Bn,gasPrice:Cr(dt),maxPriorityFeePerGas:Cr(dt),maxFeePerGas:Cr(dt),maxFeePerBlobGas:Cr(dt,null),gasLimit:dt,to:Cr(Bn,null),value:dt,nonce:Cn,data:cT,creates:Cr(Bn,null),chainId:Cr(dt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=Mme(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=qo.from(t.signature):e.signature=qo.from(t),e.chainId==null){let n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&dt(e.blockHash)===mit&&(e.blockHash=null),e}var mit,t0n,n0n,r0n,a0n,wit=B(()=>{su();wf();Dg();ar();mit=BigInt(0);t0n=FM({address:Bn,blockHash:O0,blockNumber:Cn,data:cT,index:Cn,removed:Cr(e0n,!1),topics:UM(O0),transactionHash:O0,transactionIndex:Cn},{index:["logIndex"]});n0n=FM({hash:Cr(O0),parentHash:O0,parentBeaconBlockRoot:Cr(O0,null),number:Cn,timestamp:Cn,nonce:Cr(cT),difficulty:dt,gasLimit:dt,gasUsed:dt,stateRoot:Cr(O0,null),receiptsRoot:Cr(O0,null),blobGasUsed:Cr(dt,null),excessBlobGas:Cr(dt,null),miner:Cr(Bn),prevRandao:Cr(O0,null),extraData:cT,baseFeePerGas:Cr(dt)},{prevRandao:["mixHash"]});r0n=FM({transactionIndex:Cn,blockNumber:Cn,transactionHash:O0,address:Bn,topics:UM(O0),data:cT,index:Cn,blockHash:O0},{index:["logIndex"]});a0n=FM({to:Cr(Bn,null),from:Cr(Bn,null),contractAddress:Cr(Bn,null),index:Cn,root:Cr(Ye),gasUsed:dt,blobGasUsed:Cr(dt,null),logsBloom:Cr(cT),blockHash:O0,hash:O0,logs:UM(i0n),blockNumber:Cn,cumulativeGasUsed:dt,effectiveGasPrice:Cr(dt),blobGasPrice:Cr(dt,null),status:Cr(Cn),type:Cr(Cn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]})});var o0n,lT,uT,fT,HM,vit=B(()=>{zv();ar();o0n="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",lT=class t{name;constructor(e){Ct(this,{name:e})}clone(){return new t(this.name)}},uT=class t extends lT{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let r={effectiveBlock:e};function i(a,o){let s=(n||{})[a];s==null&&(s=o),ae(typeof s=="number",`invalud value for ${a}`,"costs",n),r[a]=s}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Ct(this,r)}clone(){return new t(this.effectiveBlock,this)}},fT=class t extends lT{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),Ct(this,{address:e||o0n,targetNetwork:n??1})}clone(){return new t(this.address,this.targetNetwork)}},HM=class extends lT{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}});function Eit(t,e){let n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function xit(t){return new HM(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{let[a,o]=await Promise.all([r.send(),e()]);i=a;let s=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Eit(s.maxFee,9),maxPriorityFeePerGas:Eit(s.maxPriorityFee,9)}}catch(a){Re(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:a})}})}function s0n(){if(Ait)return;Ait=!0;function t(e,n,r){let i=function(){let a=new xf(e,n);return r.ensNetwork!=null&&a.attachPlugin(new fT(null,r.ensNetwork)),a.attachPlugin(new uT),(r.plugins||[]).forEach(o=>{a.attachPlugin(o)}),a};xf.register(e,i),xf.register(n,i),r.altNames&&r.altNames.forEach(a=>{xf.register(a,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[xit("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[xit("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}var hye,xf,Ait,mye=B(()=>{Dg();ar();vit();hye=new Map,xf=class t{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=dt(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=dt(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===dt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===dt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===dt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){let e=new t(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){let n=this.getPlugin("org.ethers.plugins.network.GasCost")||new uT,r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){let i=cu(e.accessList);for(let a in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[a].storageKeys.length}return r}static from(e){if(s0n(),e==null)return t.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let n=hye.get(e);if(n)return n();if(typeof e=="bigint")return new t("unknown",e);ae(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ae(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let n=new t(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new fT(e.ensAddress,e.ensNetwork)),n}ae(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));let r=hye.get(e);r&&ae(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),hye.set(e,n)}};Ait=!1});function yye(t){return JSON.parse(JSON.stringify(t))}var QW,zM,ZW,XW,eY,Vg,tY=B(()=>{QW=class{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{let e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}},zM=class{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},ZW=class extends zM{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){let r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}},XW=class extends zM{#e;constructor(e,n){super(e),this.#e=yye(n)}async _poll(e,n){throw new Error("@TODO")}},eY=class extends zM{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){let r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}},Vg=class{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=yye(n),this.#n=this.#o.bind(this),this.#r=!1,this.#i=-2}async#o(e){if(this.#i===-2)return;let n=yye(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;let r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(let i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}});function nY(t){return t&&typeof t.then=="function"}function rY(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){let i=Object.keys(r);return i.sort(),i.reduce((a,o)=>(a[o]=r[o],a),{})}return r})}function u0n(t){return JSON.parse(JSON.stringify(t))}function wye(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function bye(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Hn(t,32)){let n=t.toLowerCase();return{type:"transaction",tag:rY("tx",{hash:n}),hash:n}}if(t.orphan){let n=t;return{type:"orphan",tag:rY("orphan",n),filter:u0n(n)}}if(t.address||t.topics){let n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?wye(i.map(a=>a.toLowerCase())):i.toLowerCase())};if(n.address){let i=[],a=[],o=s=>{Hn(s)?i.push(s):a.push((async()=>{i.push(await Wo(s,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),a.length&&await Promise.all(a),r.address=wye(i.map(s=>s.toLowerCase()))}return{filter:r,tag:rY("event",r),type:"event"}}ae(!1,"unknown ProviderEvent","event",t)}function gye(){return new Date().getTime()}function d0n(t,e){try{let n=vye(t,e);if(n)return Mm(n)}catch{}return null}function vye(t,e){if(t==="0x")return null;try{let n=Cn(Gi(t,e,e+32)),r=Cn(Gi(t,n,n+32));return Gi(t,n+32,n+32+r)}catch{}return null}function _it(t){let e=da(t);if(e.length>32)throw new Error("internal; should not happen");let n=new Uint8Array(32);return n.set(e,32-e.length),n}function p0n(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function m0n(t){let e=[],n=0;for(let r=0;r<t.length;r++)e.push(h0n),n+=32;for(let r=0;r<t.length;r++){let i=en(t[r]);e[r]=_it(n),e.push(_it(i.length)),e.push(p0n(i)),n+=32+Math.ceil(i.length/32)*32}return Tr(e)}function y0n(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Re(mp(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let n=Gi(t,0,32);Re(Gi(n,0,12)===Gi(Tit,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Gi(n,12);try{let r=[],i=Cn(Gi(t,32,64)),a=Cn(Gi(t,i,i+32)),o=Gi(t,i+32);for(let s=0;s<a;s++){let c=d0n(o,s*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{Re(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=vye(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Re(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Re(Gi(t,100,128)===Gi(Tit,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Gi(t,96,100);try{let r=vye(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Re(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}var c0n,l0n,dT,f0n,jM,h0n,Tit,Sit=B(()=>{su();vM();YW();n4();Dg();ar();hit();wit();mye();MM();tY();c0n=BigInt(2),l0n=10;dT=class{name;constructor(e){Ct(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};f0n={cacheTimeout:250,pollingInterval:4e3},jM=class{#e;#t;#n;#r;#i;#o;#a;#s;#p;#l;#h;#m;constructor(e,n){if(this.#m=Object.assign({},f0n,n||{}),e==="any")this.#o=!0,this.#i=null;else if(e){let r=xf.from(e);this.#o=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#o=!1,this.#i=null;this.#s=-1,this.#a=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#p=1,this.#l=new Map,this.#h=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#h}set disableCcipRead(e){this.#h=!!e}async#c(e){let n=this.#m.cacheTimeout;if(n<0)return await this._perform(e);let r=rY(e.method,e),i=this.#a.get(r);return i||(i=this._perform(e),this.#a.set(r,i),setTimeout(()=>{this.#a.get(r)===i&&this.#a.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;let i=e.to.toLowerCase(),a=n.toLowerCase(),o=[];for(let s=0;s<r.length;s++){let c=r[s],l=c.replace("{sender}",i).replace("{data}",a),u=new ou(l);c.indexOf("{data}")===-1&&(u.body={data:a,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:s,urls:r});let f="unknown error",d;try{d=await u.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{let p=d.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}Re(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),o.push(f)}Re(!1,`error encountered during CCIP fetch: ${o.map(s=>JSON.stringify(s)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new kM(bit(e),this)}_wrapLog(e,n){return new Ep(yit(e),this)}_wrapTransactionReceipt(e,n){return new a4(git(e),this)}_wrapTransactionResponse(e,n){return new jg(pye(e),this)}_detectNetwork(){Re(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Re(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=Cn(await this.#c({method:"getBlockNumber"}),"%response");return this.#s>=0&&(this.#s=e),e}_getAddress(e){return Wo(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Hn(e))return Hn(e,32)?e:za(e);if(typeof e=="bigint"&&(e=Cn(e,"blockTag")),typeof e=="number")return e>=0?za(e):this.#s>=0?za(this.#s+e):this.getBlockNumber().then(n=>za(n+e));ae(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?wye(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(r&&(l!=null||u!=null))throw new Error("invalid filter");let d={};return f&&(d.address=f),n.length&&(d.topics=n),l&&(d.fromBlock=l),u&&(d.toBlock=u),r&&(d.blockHash=r),d},a=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)a.push(this._getAddress(c));else a.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let s;return"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),a.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||s!=null&&typeof s!="string"?Promise.all([Promise.all(a),o,s]).then(c=>i(c[0],c[1],c[2])):i(a,o,s)}_getTransactionRequest(e){let n=Gg(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;let a=Wo(n[i],this);nY(a)?r.push((async function(){n[i]=await a})()):n[i]=a}),n.blockTag!=null){let i=this._getBlockTag(n.blockTag);nY(i)?r.push((async function(){n.blockTag=await i})()):n.blockTag=i}return r.length?(async function(){return await Promise.all(r),n})():n}async getNetwork(){if(this.#i==null){let i=(async()=>{try{let a=await this._detectNetwork();return this.emit("network",a,null),a}catch(a){throw this.#i===i&&(this.#i=null),a}})();return this.#i=i,(await i).clone()}let e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#o?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):Re(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){let e=await this.getNetwork(),n=async()=>{let{_block:i,gasPrice:a,priorityFee:o}=await lo({_block:this.#b("latest",!1),gasPrice:(async()=>{try{let u=await this.#c({method:"getGasPrice"});return dt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let u=await this.#c({method:"getPriorityFee"});return dt(u,"%response")}catch{}return null})()}),s=null,c=null,l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),s=l.baseFeePerGas*c0n+c),new iT(a,s,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let i=new ou(r.url),a=await r.processFunc(n,this,i);return new iT(a.gasPrice,a.maxFeePerGas,a.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return nY(n)&&(n=await n),dt(await this.#c({method:"estimateGas",transaction:n}),"%response")}async#u(e,n,r){Re(r<l0n,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});let i=Gg(e);try{return Ye(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(a){if(!this.disableCcipRead&&jv(a)&&a.data&&r>=0&&n==="latest"&&i.to!=null&&Gi(a.data,0,4)==="0x556f1830"){let o=a.data,s=await Wo(i.to,this),c;try{c=y0n(Gi(a.data,4))}catch(f){Re(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}Re(c.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=await this.ccipReadFetch(i,c.calldata,c.urls);Re(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:a.data,errorArgs:c.errorArgs}});let u={to:s,data:Tr([c.selector,m0n([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let f=await this.#u(u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw a}}async#f(e){let{value:n}=await lo({network:this.getNetwork(),value:e});return n}async call(e){let{tx:n,blockTag:r}=await lo({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#f(this.#u(n,r,e.enableCcipRead?0:-1))}async#d(e,n,r){let i=this._getAddress(n),a=this._getBlockTag(r);return(typeof i!="string"||typeof a!="string")&&([i,a]=await Promise.all([i,a])),await this.#f(this.#c(Object.assign(e,{address:i,blockTag:a})))}async getBalance(e,n){return dt(await this.#d({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Cn(await this.#d({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Ye(await this.#d({method:"getCode"},e,n))}async getStorage(e,n,r){let i=dt(n,"position");return Ye(await this.#d({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){let{blockNumber:n,hash:r,network:i}=await lo({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=c6.from(e);if(a.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,i).replaceableTransaction(n)}async#b(e,n){if(Hn(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#c({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){let{network:r,params:i}=await lo({network:this.getNetwork(),params:this.#b(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){let{network:n,params:r}=await lo({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){let{network:n,params:r}=await lo({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){let i=await this.#c({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){let{result:n}=await lo({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return n==null?null:Ye(n)}async getLogs(e){let n=this._getFilter(e);nY(n)&&(n=await n);let{network:r,params:i}=await lo({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:n})});return i.map(a=>this._wrapLog(a,r))}_getProvider(e){Re(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await sT.fromName(this,e)}async getAvatar(e){let n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){let n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=Bn(e);let n=t4(e.substring(2).toLowerCase()+".addr.reverse");try{let r=await sT.getEnsAddress(this),a=await new po(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(a==null||a===Hm)return null;let s=await new po(a,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(s)!==e?null:s}catch(r){if(ia(r,"BAD_DATA")&&r.value==="0x"||ia(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){let i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(a,o)=>{let s=null,c=(async l=>{try{let u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=i){a(u),s&&(clearTimeout(s),s=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)});r!=null&&(s=setTimeout(()=>{s!=null&&(s=null,this.off("block",c),o(zr("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){Re(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let n=this.#l.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#l.delete(e))}_setTimeout(e,n){n==null&&(n=0);let r=this.#p++,i=()=>{this.#l.delete(r),e()};if(this.paused)this.#l.set(r,{timer:null,func:i,time:n});else{let a=setTimeout(i,n);this.#l.set(r,{timer:a,func:i,time:gye()})}return r}_forEachSubscriber(e){for(let n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new dT(e.type);case"block":{let n=new QW(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new ZW(this,e.type);case"event":return new Vg(this,e.filter);case"transaction":return new eY(this,e.hash);case"orphan":return new XW(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(let r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#y(e,n){let r=await bye(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await bye({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#g(e){let n=await bye(e,this),r=n.tag,i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){let r=await this.#g(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){let r=await this.#g(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){let r=await this.#y(e,n);if(!r||r.listeners.length===0)return!1;let i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:a,once:o})=>{let s=new Tg(this,o?null:a,e);try{a.call(this,...n,s)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){let r=await this.#y(e);return r?r.listeners.length:0}let n=0;for(let{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){let r=await this.#y(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(let{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){let r=await this.#y(e);if(!r)return this;if(n){let i=r.listeners.map(({listener:a})=>a).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:n,started:r,subscriber:i}=await this.#g(e);r&&i.stop(),this.#e.delete(n)}else for(let[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(let e of this.#l.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#s=-1,this.#n!=null){if(this.#n==!!e)return;Re(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(let n of this.#l.values())n.timer&&clearTimeout(n.timer),n.time=gye()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(let e of this.#l.values()){let n=e.time;n<0&&(n=0),e.time=gye(),setTimeout(e.func,n)}}}};h0n=new Uint8Array([]);Tit="0x0000000000000000000000000000000000000000000000000000000000000000"});function u4(t,e){if(t.provider)return t.provider;Re(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Cit(t,e){let n=Gg(e);if(n.to!=null&&(n.to=Wo(n.to,t)),n.from!=null){let r=n.from;n.from=Promise.all([t.getAddress(),Wo(r,t)]).then(([i,a])=>(ae(i.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),i))}else n.from=t.getAddress();return await lo(n)}var GM,Iit=B(()=>{su();Dg();ar();MM();GM=class{provider;constructor(e){Ct(this,{provider:e||null})}async getNonce(e){return u4(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Cit(this,e)}async populateTransaction(e){let n=u4(this,"populateTransaction"),r=await Cit(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));let i=await this.provider.getNetwork();if(r.chainId!=null){let o=dt(r.chainId);ae(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;let a=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||a)?ae(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&a&&ae(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){let o=await n.getFeeData();Re(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{let o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){let s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Re(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Re(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await lo(r)}async populateAuthorization(e){let n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await u4(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return u4(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return u4(this,"call").call(await this.populateCall(e))}async resolveName(e){return await u4(this,"resolveName").resolveName(e)}async sendTransaction(e){let n=u4(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let i=c6.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){Re(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}});function b0n(t){return JSON.parse(JSON.stringify(t))}var iY,aY,oY,Rit=B(()=>{ar();tY();iY=class{#e;#t;#n;#r;#i;#o;constructor(e){this.#e=e,this.#t=null,this.#n=this.#a.bind(this),this.#r=!1,this.#i=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#a(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(a){if(!ia(a,"UNSUPPORTED_OPERATION")||a.operation!=="eth_newFilter")throw a}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#o)return;let i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#s(){let e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#a(-2))}stop(){this.#r&&(this.#r=!1,this.#o=!0,this.#s(),this.#e.off("block",this.#n))}pause(e){e&&this.#s(),this.#e.off("block",this.#n)}resume(){this.start()}},aY=class extends iY{#e;constructor(e,n){super(e),this.#e=b0n(n)}_recover(e){return new Vg(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(let r of n)e.emit(this.#e,e._wrapLog(r,e._network))}},oY=class extends iY{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(let r of n)e.emit("pending",r)}}});function sY(t){if(t==null||g0n.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(sY);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function w0n(t){return new Promise(e=>{setTimeout(e,t)})}function pT(t){return t&&t.toLowerCase()}function Oit(t){return t&&typeof t.pollingInterval=="number"}function Eye(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Hn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let n=Eye(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Eye(JSON.parse(t))}catch{}return null}function xye(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let n in t)xye(t[n],e);if(typeof t=="string")try{return xye(JSON.parse(t),e)}catch{}}}function v0n(t){let e=[];return xye(t,e),e}var g0n,Nit,f4,VM,KM,hT,Aye=B(()=>{VW();su();n4();Dg();ar();Sit();Iit();mye();Rit();tY();g0n="bigint,boolean,function,number,string,symbol".split(/,/g);Nit={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},f4=class extends GM{address;constructor(e,n){super(e),n=Bn(n),Ct(this,{address:n})}connect(e){Re(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let n=sY(e),r=[];if(n.from){let a=n.from;r.push((async()=>{let o=await Wo(a,this.provider);ae(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){let a=n.to;r.push((async()=>{n.to=await Wo(a,this.provider)})())}r.length&&await Promise.all(r);let i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){let n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,a)=>{let o=[1e3,100],s=0,c=async()=>{try{let l=await this.provider.getTransaction(r);if(l!=null){i(l.replaceableTransaction(n));return}}catch(l){if(ia(l,"CANCELLED")||ia(l,"BAD_DATA")||ia(l,"NETWORK_ERROR")||ia(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=r,a(l);return}if(ia(l,"INVALID_ARGUMENT")&&(s++,l.info==null&&(l.info={}),l.info.sendTransactionHash=r,s>10)){a(l);return}this.provider.emit("error",zr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},o.pop()||4e3)};c()})}async signTransaction(e){let n=sY(e);if(n.from){let i=await Wo(n.from,this.provider);ae(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;let r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let n=typeof e=="string"?Ko(e):e;return await this.provider.send("personal_sign",[Ye(n),this.address.toLowerCase()])}async signTypedData(e,n,r){let i=sY(r),a=await zm.resolveNames(e,n,i,async o=>{let s=await Wo(o);return ae(s!=null,"TypedData does not support null address","value",o),s});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(zm.getPayload(a.domain,n,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let n=typeof e=="string"?Ko(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ye(n)])}},VM=class extends jM{#e;#t;#n;#r;#i;#o;#a;#s(){if(this.#r)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;let n=this.#n;for(this.#n=[];n.length;){let r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(a=>a.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{let i=r.length===1?r[0].payload:r.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let a=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:a});for(let{resolve:o,reject:s,payload:c}of r){if(this.destroyed){s(zr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let l=a.filter(u=>u.id===c.id)[0];if(l==null){let u=zr("missing response for request","BAD_DATA",{value:a,info:{payload:c}});this.emit("error",u),s(u);continue}if("error"in l){s(this.getRpcError(c,l));continue}o(l.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(let{reject:o}of r)o(a)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},Nit,n||{}),this.#n=[],this.#r=null,this.#o=null,this.#a=null;{let i=null,a=new Promise(o=>{i=o});this.#i={promise:a,resolve:i}}let r=this._getOption("staticNetwork");typeof r=="boolean"?(ae(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#o=xf.from(e))):r&&(ae(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#o=r)}_getOption(e){return this.#e[e]}get _network(){return Re(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&dt(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}let n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#a?await this.#a:this.ready?(this.#a=(async()=>{try{let n=xf.from(dt(await this.send("eth_chainId",[])));return this.#a=null,n}catch(n){throw this.#a=null,n}})(),await this.#a):(this.#a=(async()=>{let n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#a=null}catch(i){throw this.#a=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return xf.from(dt(r.result));throw this.getRpcError(n,r)})(),await this.#a)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",zr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await w0n(1e3)}this.#s()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new oY(this):e.type==="event"?this._getOption("polling")?new Vg(this,e.filter):new aY(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new dT("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=za(dt(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=Ye(e[r]))}),e.accessList&&(n.accessList=cu(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{let i=Y_(r);return{address:i.address,nonce:za(i.nonce),chainId:za(i.chainId),yParity:za(i.signature.yParity),r:za(i.signature.r),s:za(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[pT(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[pT(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[pT(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[pT(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(pT):e.filter.address=pT(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){let{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){let s=i.message;if(!s.match(/revert/i)&&s.match(/insufficient funds/i))return zr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(s.match(/nonce/i)&&s.match(/too low/i))return zr("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){let s=Eye(i),c=Vm.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],s?s.data:null);return c.info={error:i,payload:e},c}let a=JSON.stringify(v0n(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return zr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){let s=e.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return zr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:s,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return zr("nonce has already been used","NONCE_EXPIRED",{transaction:s,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return zr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:s,info:{error:i}});if(a.match(/only replay-protected/i))return zr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:s,info:{error:i}}})}let o=!!a.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?zr("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):zr("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(zr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#t++,i=new Promise((a,o)=>{this.#n.push({resolve:a,reject:o,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#s(),i}async getSigner(e){e==null&&(e=0);let n=this.send("eth_accounts",[]);if(typeof e=="number"){let i=await n;if(e>=i.length)throw new Error("no such account");return new f4(this,i[e])}let{accounts:r}=await lo({network:this.getNetwork(),accounts:n});e=Bn(e);for(let i of r)if(Bn(i)===e)return new f4(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new f4(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(let{payload:e,reject:n}of this.#n)n(zr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}},KM=class extends VM{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=Nit.pollingInterval),this.#e=r}_getSubscriber(e){let n=super._getSubscriber(e);return Oit(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{Oit(n)&&(n.pollingInterval=this.#e)})}},hT=class extends KM{#e;constructor(e,n,r){e==null&&(e="http://localhost:8545"),super(n,r),typeof e=="string"?this.#e=new ou(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){let n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");let r=await n.send();r.assertOk();let i=r.bodyJson;return Array.isArray(i)||(i=[i]),i}}});var u6,Pit=B(()=>{ar();Aye();u6=class t extends KM{#e;#t;constructor(e,n,r){let i=Object.assign({},r??{},{batchMaxCount:1});ae(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(a,o)=>{let s={method:a,params:o};this.emit("debug",{action:"sendEip1193Request",payload:s});try{let c=await e.request(s);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=s,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){ae(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);let n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){let r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new t(e.provider);let n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;let r=e.anyProvider;if(r&&n.ethereum)return new t(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;let i=e.timeout?e.timeout:300;return i===0?null:await new Promise((a,o)=>{let s=[],c=f=>{s.push(f.detail),r&&l()},l=()=>{if(clearTimeout(u),s.length)if(e&&e.filter){let f=e.filter(s.map(d=>Object.assign({},d.info)));if(f==null)a(null);else if(f instanceof t)a(f);else{let d=null;if(f.uuid&&(d=s.filter(h=>f.uuid===h.info.uuid)[0]),d){let{provider:p,info:h}=d;a(new t(p,void 0,{providerInfo:h}))}else o(zr("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{let{provider:f,info:d}=s[0];a(new t(f,void 0,{providerInfo:d}))}else a(null);n.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{l()},i);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}});var kit=B(()=>{Aye();Pit()});var Mit=B(()=>{VW();YW();wf();n4();kit();Dg();ar()});var xp=B(()=>{Mit()});var mT,Km,$m,yT,d4=B(()=>{mT=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"}],Km=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],$m=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"isOperator",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"_interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],yT=[{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[{name:"user",type:"address"},{name:"token",type:"address"}],name:"tokenBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"users",type:"address[]"},{name:"tokens",type:"address[]"}],name:"balances",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"}]});var Bit,ET,h4,Jo,uu,cY,lY,Dit,Lit,Af,qm,Wm,Ym,_ye,Kg,Jm,bT,p4,gT,wT,$M,qM,WM,YM,vT,JM,QM,Ap,fu,zt,ZM,XM,_f,Gd,uY,fY,dY,xT,pY,hY,mY,Ga,Pi=B(()=>{Oi();Bit="localhost",ET="eth",h4="erc20",Jo="erc721",uu="erc1155",cY="0xd9b67a26",lY="0x80ac58cd",Dit="0x5b5e139f",Lit="0x780e9d63",Af="0x1",qm="0x89",Wm="0x38",Ym="0xa86a",_ye="0x64",Kg="0xa4b1",Jm="0xa",bT="0xa4ec",p4="0x2105",gT="0xe708",wT="0xaa36a7",$M="0x13882",qM="0x61",WM="0xa869",YM="0x66eee",vT="0xaa37dc",JM="0x14a34",QM="0xe705",Ap=process.env.VITE_APP_INFURA_PROJECT_KEY,fu={[Af]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://etherscan.io",chainId:Af,displayName:"Ethereum",logo:"eth.svg",rpcTarget:`https://mainnet.infura.io/v3/${Ap}`,ticker:"ETH",tickerName:"Ethereum"},[qm]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://polygonscan.com",chainId:qm,displayName:"Polygon",logo:"polygon.svg",rpcTarget:`https://polygon-mainnet.infura.io/v3/${Ap}`,ticker:"POL",tickerName:"Polygon Ecosystem Token"},[Wm]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://bscscan.com",chainId:Wm,displayName:"Binance Smart Chain (BSC)",logo:"bnb_logo.svg",rpcTarget:"https://bsc-dataseed.binance.org",ticker:"BNB",tickerName:"Binance Coin"},[Ym]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://snowtrace.io",chainId:Ym,displayName:"Avalanche",logo:"avax.svg",rpcTarget:"https://api.avax.network/ext/bc/C/rpc",ticker:"AVAX",tickerName:"Avalanche"},[Jm]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://optimistic.etherscan.io",chainId:Jm,displayName:"Optimism",logo:"optimism.svg",rpcTarget:`https://optimism-mainnet.infura.io/v3/${Ap}`,ticker:"ETH",tickerName:"Ethereum"},[bT]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://explorer.celo.org",chainId:bT,displayName:"Celo Mainnet",logo:"celo.svg",rpcTarget:`https://celo-mainnet.infura.io/v3/${Ap}`,ticker:"CELO",tickerName:"Celo"},[Kg]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://arbiscan.io",chainId:Kg,displayName:"Arbitrum One",logo:"arbitrum.svg",rpcTarget:`https://arbitrum-mainnet.infura.io/v3/${Ap}`,ticker:"ETH",tickerName:"Ethereum"},[p4]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://basescan.org",chainId:p4,displayName:"Base",logo:"base.svg",rpcTarget:"https://mainnet.base.org",ticker:"ETH",tickerName:"Ethereum"},[gT]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://lineascan.build",chainId:gT,displayName:"Linea",logo:"linea.svg",rpcTarget:`https://linea-mainnet.infura.io/v3/${Ap}`,ticker:"ETH",tickerName:"Ethereum"},[wT]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.etherscan.io",chainId:wT,displayName:"Sepolia Test Network",logo:"eth.svg",rpcTarget:`https://sepolia.infura.io/v3/${Ap}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[QM]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.lineascan.build",chainId:QM,displayName:"Linea Sepolia Testnet",logo:"linea.svg",rpcTarget:`https://linea-sepolia.infura.io/v3/${Ap}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[$M]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://amoy.polygonscan.com",chainId:$M,displayName:"Polygon Amoy",logo:"polygon.svg",rpcTarget:`https://polygon-amoy.infura.io/v3/${Ap}`,ticker:"POL",tickerName:"Polygon Ecosystem Token",isTestnet:!0},[qM]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://testnet.bscscan.com",chainId:qM,displayName:"Binance Smart Chain Testnet",logo:"bnb_logo.svg",rpcTarget:"https://data-seed-prebsc-1-s1.binance.org:8545",ticker:"BNB",tickerName:"Binance Coin",isTestnet:!0},[WM]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://testnet.snowtrace.io",chainId:WM,displayName:"Avalanche Testnet C-Chain",logo:"avax.svg",rpcTarget:"https://api.avax-test.network/ext/bc/C/rpc",ticker:"AVAX",tickerName:"Avalanche",isTestnet:!0},[YM]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.arbiscan.io",chainId:YM,displayName:"Arbitrum Sepolia",logo:"arbitrum.svg",rpcTarget:`https://arbitrum-sepolia.infura.io/v3/${Ap}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[vT]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://sepolia-optimistic.etherscan.io",chainId:vT,displayName:"Optimism Sepolia",logo:"optimism.svg",rpcTarget:`https://optimism-sepolia.infura.io/v3/${Ap}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[JM]:{chainNamespace:ji.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.basescan.org",chainId:JM,displayName:"Base Sepolia",logo:"base.svg",rpcTarget:"https://sepolia.base.org",ticker:"ETH",tickerName:"Ethereum",isTestnet:!0}},zt={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_ESTIMATE_USER_OPERATION_GAS:"eth_estimateUserOperationGas",ETH_GET_SUPPORTED_ENTRY_POINTS:"eth_supportedEntryPoints",ETH_GET_USER_OPERATION:"eth_getUserOperationByHash",ETH_GET_USER_OPERATION_RECEIPT:"eth_getUserOperationReceipt",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",PIMLICO_GET_USER_OPERATION_GAS_PRICE:"pimlico_getUserOperationGasPrice",PIMLICO_GET_USER_OPERATION_STATUS:"pimlico_getUserOperationStatus",PIMLICO_SIMULATE_ASSET_CHANGES:"pimlico_simulateAssetChanges",BICONOMY_GET_GAS_FEE_VALUES:"biconomy_getGasFeeValues",BICONOMY_GET_USER_OPERATION_STATUS:"biconomy_getUserOperationStatus",ETH_GET_PAYMASTER_DATA:"pm_getPaymasterData",ETH_GET_PAYMASTER_STUB_DATA:"pm_getPaymasterStubData",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",ETH_GET_FEE_QUOTE_OR_DATA:"pm_getFeeQuoteOrData",PIMLICO_GET_TOKEN_QUOTES:"pimlico_getTokenQuotes",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"},ZM=[zt.ETH_ESTIMATE_USER_OPERATION_GAS,zt.ETH_GET_SUPPORTED_ENTRY_POINTS,zt.ETH_GET_USER_OPERATION,zt.ETH_GET_USER_OPERATION_RECEIPT,zt.ETH_SEND_USER_OPERATION,zt.PIMLICO_GET_USER_OPERATION_GAS_PRICE,zt.PIMLICO_GET_USER_OPERATION_STATUS,zt.PIMLICO_SIMULATE_ASSET_CHANGES,zt.BICONOMY_GET_GAS_FEE_VALUES,zt.BICONOMY_GET_USER_OPERATION_STATUS],XM=[zt.ETH_GET_PAYMASTER_DATA,zt.ETH_GET_PAYMASTER_STUB_DATA,zt.ETH_SPONSOR_USER_OPERATION,zt.PIMLICO_GET_TOKEN_QUOTES,zt.ETH_GET_FEE_QUOTE_OR_DATA],_f={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},Gd={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"},uY={[Jm]:1,[vT]:1},fY={"0x06012c8cf97bead5deae237070f9587f8e7a266d":{name:"Cryptokitties",logo:"dapp-cryptokitty.svg",erc20:!0,symbol:"CK",decimals:0}},dY=[wT],xT=[Af,wT,Wm,qM,Jm,vT,Ym,WM,Kg,YM,qm,$M,bT,p4,JM,gT,QM],pY=[Af,qm,Wm,Ym,gT,p4],hY=new Set(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]),mY={[qm]:{platform:"polygon-pos",currency:"pol"},[Wm]:{platform:"binance-smart-chain",currency:"bnb"},[Af]:{platform:"ethereum",currency:"eth"},[Kg]:{platform:"arbitrum-one",currency:"eth"},[Jm]:{platform:"optimistic-ethereum",currency:"eth"},[bT]:{platform:"celo",currency:"celo"},[_ye]:{platform:"xdai",currency:"xDAI"},[Ym]:{platform:"avalanche",currency:"avax"},[p4]:{platform:"base",currency:"eth"}},Ga={BICONOMY:"biconomy",KERNEL:"kernel",SAFE:"safe",TRUST:"trust",LIGHT:"light",SIMPLE:"simple",NEXUS:"nexus",METAMASK:"metamask"}});var eB,Tye=B(()=>{Pi();eB={[Af]:"0xb1f8e55c7f64d203c1400b9d8555d050f94adf39",[Wm]:"0x2352c63A83f9Fd126af8676146721Fa00924d7e4",[Jm]:"0xB1c568e9C3E6bdaf755A60c7418C269eb11524FC",[qm]:"0x2352c63A83f9Fd126af8676146721Fa00924d7e4",[Ym]:"0xD023D153a0DFa485130ECFdE2FAA7e612EF94818",[Kg]:"0x151E24A486D7258dd7C33Fb67E4bB01919B7B32c"}});var yY,E0n,bY,Uit=B(()=>{st();Qe();Oi();fM();xp();yY=fe(Ln());d4();Tye();E0n="0x0000000000000000000000000000000000000000",bY=class extends wi{constructor({config:e,state:n,provider:r,blockTracker:i,getIdentities:a,onPreferencesStateChange:o,getCurrentChainId:s}){super({config:e,state:n}),K(this,"provider",void 0),K(this,"blockTracker",void 0),K(this,"mutex",new r6),K(this,"ethersProvider",void 0),K(this,"getIdentities",void 0),K(this,"getCurrentChainId",void 0),this.defaultState={accounts:{}},this.initialize(),this.provider=r,this.blockTracker=i,this.ethersProvider=new u6(this.provider,"any"),this.getIdentities=a,this.getCurrentChainId=s,o(()=>{this.syncAccounts()&&(yY.default.info("onPreferencesStateChange called"),this.refresh())}),this.blockTrackerListener=this.blockTrackerListener.bind(this)}blockTrackerListener(){this.refresh()}startPolling(){this.stopPolling(),Object.keys(this.state.accounts).length>0&&this.blockTracker.on("latest",this.blockTrackerListener)}stopPolling(){this.blockTracker.removeListener("latest",this.blockTrackerListener)}syncAccounts(){let{accounts:e}=this.state,n=Object.keys(this.getIdentities()),r=Object.keys(e),i=n.filter(s=>r.indexOf(s)===-1),a=r.filter(s=>n.indexOf(s)===-1),o=!1;return i.forEach(s=>{o=!0,e[s]={balance:"0x0"}}),a.forEach(s=>{o=!0,delete e[s]}),this.update({accounts:q({},e)}),o}async refresh(){let e=await this.mutex.acquire();try{this._updateAccounts()}catch{}finally{e()}}async _updateAccounts(){let{accounts:e}=this.state,n=Object.keys(e),r=this.getCurrentChainId();if(r!=="loading"&&n.length>0){if(eB[r]){await this._updateAccountsViaBalanceChecker(n,eB[r]);return}yY.default.info("falling back to ethQuery.getBalance"),await Promise.all(n.map(i=>this._updateAccount(i)))}}async _updateAccount(e){let n=await this.provider.request({method:"eth_getBalance",params:[e,"latest"]}),{accounts:r}=this.state;r[e]&&(r[e]={balance:za(n)},this.update({accounts:r}))}async _updateAccountsViaBalanceChecker(e,n){let r=new po(n,yT,this.ethersProvider);try{let i=await r.balances(e,[E0n]),{accounts:a}=this.state;return e.forEach((o,s)=>{let c=za(i[s]);a[o]&&(a[o]={balance:c})}),this.update({accounts:a})}catch(i){return yY.default.warn("Torus - Account Tracker single call balance fetch failed",i),Promise.all(e.map(a=>this._updateAccount(a)))}}}});function He(t,e,n){let r=t[e.name];if(typeof r=="function")return r;let i=t[n];return typeof i=="function"?i:a=>e(t,a)}var jr=B(()=>{});function hs(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new gY(t.type);return`${t.name}(${tB(t.inputs,{includeName:e})})`}function tB(t,{includeName:e=!1}={}){return t?t.map(n=>x0n(n,{includeName:e})).join(e?", ":","):""}function x0n(t,{includeName:e}){return t.type.startsWith("tuple")?`(${tB(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}var Qm=B(()=>{Va()});function Lo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}var _p=B(()=>{});function pr(t){return Lo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}var Vd=B(()=>{_p()});var Sye,Fit=B(()=>{Sye="2.35.1"});function Hit(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Hit(t.cause,e):e?null:t}var Cye,de,Dn=B(()=>{Fit();Cye={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Sye}`},de=class t extends Error{constructor(e,n={}){let r=n.cause instanceof t?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof t&&n.cause.docsPath||n.docsPath,a=Cye.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...Cye.version?[`Version: ${Cye.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Sye}walk(e){return Hit(this,e)}}});var wY,nB,AT,Kd,vY,EY,_T,xY,rB,TT,AY,ST,iB,Tp,CT,_Y,TY,IT,Sp,f6,SY,CY,RT,gY,IY,Va=B(()=>{Qm();Vd();Dn();wY=class extends de{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}},nB=class extends de{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}},AT=class extends de{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${tB(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}},Kd=class extends de{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},vY=class extends de{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},EY=class extends de{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${pr(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},_T=class extends de{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},xY=class extends de{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}},rB=class extends de{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}},TT=class extends de{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},AY=class extends de{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}},ST=class extends de{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}},iB=class extends de{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}},Tp=class extends de{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}},CT=class extends de{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}},_Y=class extends de{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}},TY=class extends de{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${hs(e.abiItem)}\`, and`,`\`${n.type}\` in \`${hs(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},IT=class extends de{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}},Sp=class extends de{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${tB(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}},f6=class extends de{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${hs(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},SY=class extends de{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}},CY=class extends de{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}},RT=class extends de{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},gY=class extends de{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}},IY=class extends de{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}});var RY,zit=B(()=>{Dn();RY=class extends de{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}});var aB,oB,sB,OY=B(()=>{Dn();aB=class extends de{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},oB=class extends de{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}},sB=class extends de{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}});function kr(t,{dir:e,size:n=32}={}){return typeof t=="string"?Cp(t,{dir:e,size:n}):Iye(t,{dir:e,size:n})}function Cp(t,{dir:e,size:n=32}={}){if(n===null)return t;let r=t.replace("0x","");if(r.length>n*2)throw new oB({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Iye(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new oB({size:t.length,targetSize:n,type:"bytes"});let r=new Uint8Array(n);for(let i=0;i<n;i++){let a=e==="right";r[a?i:n-i-1]=t[a?i:t.length-i-1]}return r}var Zm=B(()=>{OY()});var OT,NY,PY,kY,cB=B(()=>{Dn();OT=class extends de{constructor({max:e,min:n,signed:r,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},NY=class extends de{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},PY=class extends de{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},kY=class extends de{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}});function Tf(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}var NT=B(()=>{});function du(t,{size:e}){if(pr(t)>e)throw new kY({givenSize:pr(t),maxSize:e})}function Gr(t,e={}){let{signed:n}=e;e.size&&du(t,{size:e.size});let r=BigInt(t);if(!n)return r;let i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function MY(t,e={}){let n=t;if(e.size&&(du(n,{size:e.size}),n=Tf(n)),Tf(n)==="0x00")return!1;if(Tf(n)==="0x01")return!0;throw new PY(n)}function ho(t,e={}){return Number(Gr(t,e))}var ms=B(()=>{cB();Vd();NT()});function An(t,e={}){return typeof t=="number"||typeof t=="bigint"?Le(t,e):typeof t=="string"?Ys(t,e):typeof t=="boolean"?m4(t,e):Vr(t,e)}function m4(t,e={}){let n=`0x${Number(t)}`;return typeof e.size=="number"?(du(n,{size:e.size}),kr(n,{size:e.size})):n}function Vr(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=A0n[t[i]];let r=`0x${n}`;return typeof e.size=="number"?(du(r,{size:e.size}),kr(r,{dir:"right",size:e.size})):r}function Le(t,e={}){let{signed:n,size:r}=e,i=BigInt(t),a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));let o=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<o){let c=typeof t=="bigint"?"n":"";throw new OT({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}let s=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?kr(s,{size:r}):s}function Ys(t,e={}){let n=_0n.encode(t);return Vr(n,e)}var A0n,_0n,dn=B(()=>{cB();Zm();ms();A0n=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));_0n=new TextEncoder});function vi(t,e={}){return typeof t=="number"||typeof t=="bigint"?Vit(t,e):typeof t=="boolean"?Git(t,e):Lo(t)?Qo(t,e):$d(t,e)}function Git(t,e={}){let n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(du(n,{size:e.size}),kr(n,{size:e.size})):n}function jit(t){if(t>=Xm.zero&&t<=Xm.nine)return t-Xm.zero;if(t>=Xm.A&&t<=Xm.F)return t-(Xm.A-10);if(t>=Xm.a&&t<=Xm.f)return t-(Xm.a-10)}function Qo(t,e={}){let n=t;e.size&&(du(n,{size:e.size}),n=kr(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);let i=r.length/2,a=new Uint8Array(i);for(let o=0,s=0;o<i;o++){let c=jit(r.charCodeAt(s++)),l=jit(r.charCodeAt(s++));if(c===void 0||l===void 0)throw new de(`Invalid byte sequence ("${r[s-2]}${r[s-1]}" in "${r}").`);a[o]=c*16+l}return a}function Vit(t,e){let n=Le(t,e);return Qo(n)}function $d(t,e={}){let n=T0n.encode(t);return typeof e.size=="number"?(du(n,{size:e.size}),kr(n,{dir:"right",size:e.size})):n}var T0n,Xm,Zo=B(()=>{Dn();_p();Zm();ms();dn();T0n=new TextEncoder;Xm={zero:48,nine:57,A:65,F:70,a:97,f:102}});function Ft(t,e){let n=e||"hex",r=Gc(Lo(t,{strict:!1})?vi(t):t);return n==="bytes"?r:An(r)}var pu=B(()=>{N3();_p();Zo();dn()});function Kit(t){return S0n(t)}var S0n,$it=B(()=>{Zo();pu();S0n=t=>Ft(vi(t))});function qit(t){let e=!0,n="",r=0,i="",a=!1;for(let o=0;o<t.length;o++){let s=t[o];if(["(",")",","].includes(s)&&(e=!0),s==="("&&r++,s===")"&&r--,!!e){if(r===0){if(s===" "&&["event","function",""].includes(i))i="";else if(i+=s,s===")"){a=!0;break}continue}if(s===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=s,n+=s}}if(!a)throw new de("Unable to normalize signature.");return i}var Wit=B(()=>{Dn()});var Yit,Jit=B(()=>{ZA();Wit();Yit=t=>{let e=typeof t=="string"?t:gv(t);return qit(e)}});function BY(t){return Kit(Yit(t))}var Rye=B(()=>{$it();Jit()});var $g,lB=B(()=>{Rye();$g=BY});var Uo,ey=B(()=>{Dn();Uo=class extends de{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var qd,PT=B(()=>{qd=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){let r=this.keys().next().value;r&&this.delete(r)}return this}}});function d6(t,e){if(Oye.has(`${t}.${e}`))return Oye.get(`${t}.${e}`);let n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Ft($d(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());let a=`0x${i.join("")}`;return Oye.set(`${t}.${e}`,a),a}function Js(t,e){if(!pa(t,{strict:!1}))throw new Uo({address:t});return d6(t,e)}var Oye,ty=B(()=>{ey();Zo();pu();PT();Ip();Oye=new qd(8192)});function pa(t,e){let{strict:n=!0}=e??{},r=`${t}.${n}`;if(Nye.has(r))return Nye.get(r);let i=C0n.test(t)?t.toLowerCase()===t?!0:n?d6(t)===t:!0:!1;return Nye.set(r,i),i}var C0n,Nye,Ip=B(()=>{PT();ty();C0n=/^0x[a-fA-F0-9]{40}$/,Nye=new qd(8192)});function In(t){return typeof t[0]=="string"?ii(t):Qit(t)}function Qit(t){let e=0;for(let i of t)e+=i.length;let n=new Uint8Array(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return n}function ii(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}var ys=B(()=>{});function aa(t,e,n,{strict:r}={}){return Lo(t,{strict:!1})?y4(t,e,n,{strict:r}):DY(t,e,n,{strict:r})}function Zit(t,e){if(typeof e=="number"&&e>0&&e>pr(t)-1)throw new aB({offset:e,position:"start",size:pr(t)})}function Xit(t,e,n){if(typeof e=="number"&&typeof n=="number"&&pr(t)!==n-e)throw new aB({offset:n,position:"end",size:pr(t)})}function DY(t,e,n,{strict:r}={}){Zit(t,e);let i=t.slice(e,n);return r&&Xit(i,e,n),i}function y4(t,e,n,{strict:r}={}){Zit(t,e);let i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&Xit(i,e,n),i}var p6=B(()=>{OY();_p();Vd()});var eat,LY,kT,UY=B(()=>{eat=/^(.*)\[([0-9]*)\]$/,LY=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,kT=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function gn(t,e){if(t.length!==e.length)throw new _T({expectedLength:t.length,givenLength:e.length});let n=I0n({params:t,values:e}),r=kye(n);return r.length===0?"0x":r}function I0n({params:t,values:e}){let n=[];for(let r=0;r<t.length;r++)n.push(Pye({param:t[r],value:e[r]}));return n}function Pye({param:t,value:e}){let n=FY(t.type);if(n){let[r,i]=n;return O0n(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return B0n(e,{param:t});if(t.type==="address")return R0n(e);if(t.type==="bool")return P0n(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){let r=t.type.startsWith("int"),[,,i="256"]=kT.exec(t.type)??[];return k0n(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return N0n(e,{param:t});if(t.type==="string")return M0n(e);throw new SY(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function kye(t){let e=0;for(let a=0;a<t.length;a++){let{dynamic:o,encoded:s}=t[a];o?e+=32:e+=pr(s)}let n=[],r=[],i=0;for(let a=0;a<t.length;a++){let{dynamic:o,encoded:s}=t[a];o?(n.push(Le(e+i,{size:32})),r.push(s),i+=pr(s)):n.push(s)}return In([...n,...r])}function R0n(t){if(!pa(t))throw new Uo({address:t});return{dynamic:!1,encoded:Cp(t.toLowerCase())}}function O0n(t,{length:e,param:n}){let r=e===null;if(!Array.isArray(t))throw new RT(t);if(!r&&t.length!==e)throw new vY({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1,a=[];for(let o=0;o<t.length;o++){let s=Pye({param:n,value:t[o]});s.dynamic&&(i=!0),a.push(s)}if(r||i){let o=kye(a);if(r){let s=Le(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?In([s,o]):s}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:In(a.map(({encoded:o})=>o))}}function N0n(t,{param:e}){let[,n]=e.type.split("bytes"),r=pr(t);if(!n){let i=t;return r%32!==0&&(i=Cp(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:In([Cp(Le(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new EY({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Cp(t,{dir:"right"})}}function P0n(t){if(typeof t!="boolean")throw new de(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Cp(m4(t))}}function k0n(t,{signed:e,size:n=256}){if(typeof n=="number"){let r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new OT({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Le(t,{size:32,signed:e})}}function M0n(t){let e=Ys(t),n=Math.ceil(pr(e)/32),r=[];for(let i=0;i<n;i++)r.push(Cp(aa(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:In([Cp(Le(pr(e),{size:32})),...r])}}function B0n(t,{param:e}){let n=!1,r=[];for(let i=0;i<e.components.length;i++){let a=e.components[i],o=Array.isArray(t)?i:a.name,s=Pye({param:a,value:t[o]});r.push(s),s.dynamic&&(n=!0)}return{dynamic:n,encoded:n?kye(r):In(r.map(({encoded:i})=>i))}}function FY(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var Wd=B(()=>{Va();ey();Dn();cB();Ip();ys();Zm();Vd();p6();dn();UY()});var h6,MT=B(()=>{p6();Rye();h6=t=>aa(BY(t),0,4)});function hu(t){let{abi:e,args:n=[],name:r}=t,i=Lo(r,{strict:!1}),a=e.filter(s=>i?s.type==="function"?h6(s)===r:s.type==="event"?$g(s)===r:!1:"name"in s&&s.name===r);if(a.length===0)return;if(a.length===1)return a[0];let o;for(let s of a){if(!("inputs"in s))continue;if(!n||n.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0||s.inputs.length!==n.length)continue;if(n.every((l,u)=>{let f="inputs"in s&&s.inputs[u];return f?Mye(l,f):!1})){if(o&&"inputs"in o&&o.inputs){let l=tat(s.inputs,o.inputs,n);if(l)throw new TY({abiItem:s,type:l[0]},{abiItem:o,type:l[1]})}o=s}}return o||a[0]}function Mye(t,e){let n=typeof t,r=e.type;switch(r){case"address":return pa(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,a)=>Mye(Object.values(t)[a],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>Mye(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tat(t,e,n){for(let r in t){let i=t[r],a=e[r];if(i.type==="tuple"&&a.type==="tuple"&&"components"in i&&"components"in a)return tat(i.components,a.components,n[r]);let o=[i.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?pa(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?pa(n[r],{strict:!1}):!1)return o}}var qg=B(()=>{Va();_p();Ip();lB();MT()});function m6(t){let{abi:e,eventName:n,args:r}=t,i=e[0];if(n){let c=hu({abi:e,name:n});if(!c)throw new iB(n,{docsPath:nat});i=c}if(i.type!=="event")throw new iB(void 0,{docsPath:nat});let a=hs(i),o=$g(a),s=[];if(r&&"inputs"in i){let c=i.inputs?.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?c?.map(u=>r[u.name])??[]:[];l.length>0&&(s=c?.map((u,f)=>Array.isArray(l[f])?l[f].map((d,p)=>rat({param:u,value:l[f][p]})):typeof l[f]<"u"&&l[f]!==null?rat({param:u,value:l[f]}):null)??[])}return[o,...s]}function rat({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Ft(vi(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new RY(t.type);return gn([t],[e])}var nat,BT=B(()=>{Va();zit();Zo();pu();lB();Wd();Qm();qg();nat="/docs/contract/encodeEventTopics"});function Wg(t,{method:e}){let n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:a,transport:o})=>{a==="success"&&e===r&&(n[i]=o.request)}),(r=>n[r]||t.request)}var uB=B(()=>{});async function HY(t,e){let{address:n,abi:r,args:i,eventName:a,fromBlock:o,strict:s,toBlock:c}=e,l=Wg(t,{method:"eth_newFilter"}),u=a?m6({abi:r,args:i,eventName:a}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?Le(o):o,toBlock:typeof c=="bigint"?Le(c):c,topics:u}]});return{abi:r,args:i,eventName:a,id:f,request:l(f),strict:!!s,type:"event"}}var Bye=B(()=>{BT();dn();uB()});function Rn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}var Ca=B(()=>{});function aat(t){let{abi:e,args:n,functionName:r}=t,i=e[0];if(r){let a=hu({abi:e,args:n,name:r});if(!a)throw new Tp(r,{docsPath:iat});i=a}if(i.type!=="function")throw new Tp(void 0,{docsPath:iat});return{abi:[i],functionName:h6(hs(i))}}var iat,oat=B(()=>{Va();MT();Qm();qg();iat="/docs/contract/encodeFunctionData"});function Oe(t){let{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:aat(t),i=n[0],a=r,o="inputs"in i&&i.inputs?gn(i.inputs,e??[]):void 0;return ii([a,o??"0x"])}var ul=B(()=>{ys();Wd();oat()});var sat,zY,cat,jY=B(()=>{sat={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},zY={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},cat={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}});var fB,DT,GY,Dye=B(()=>{Dn();fB=class extends de{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},DT=class extends de{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},GY=class extends de{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function LT(t,{recursiveReadLimit:e=8192}={}){let n=Object.create(D0n);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}var D0n,VY=B(()=>{Dye();D0n={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new GY({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new DT({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new fB({offset:t});let e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new fB({offset:t});let e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){let e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){let n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){let e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){let e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){let e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){let e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();let n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();let t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();let t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();let t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();let t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){let e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}}});function lat(t,e={}){typeof e.size<"u"&&du(t,{size:e.size});let n=Vr(t,e);return Gr(n,e)}function uat(t,e={}){let n=t;if(typeof e.size<"u"&&(du(n,{size:e.size}),n=Tf(n)),n.length>1||n[0]>1)throw new NY(n);return!!n[0]}function y6(t,e={}){typeof e.size<"u"&&du(t,{size:e.size});let n=Vr(t,e);return ho(n,e)}function fat(t,e={}){let n=t;return typeof e.size<"u"&&(du(n,{size:e.size}),n=Tf(n,{dir:"right"})),new TextDecoder().decode(n)}var dat=B(()=>{cB();NT();ms();dn()});function N0(t,e){let n=typeof e=="string"?Qo(e):e,r=LT(n);if(pr(n)===0&&t.length>0)throw new Kd;if(pr(e)&&pr(e)<32)throw new AT({data:typeof e=="string"?e:Vr(e),params:t,size:pr(e)});let i=0,a=[];for(let o=0;o<t.length;++o){let s=t[o];r.setPosition(i);let[c,l]=UT(r,s,{staticPosition:0});i+=l,a.push(c)}return a}function UT(t,e,{staticPosition:n}){let r=FY(e.type);if(r){let[i,a]=r;return U0n(t,{...e,type:a},{length:i,staticPosition:n})}if(e.type==="tuple")return j0n(t,e,{staticPosition:n});if(e.type==="address")return L0n(t);if(e.type==="bool")return F0n(t);if(e.type.startsWith("bytes"))return H0n(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return z0n(t,e);if(e.type==="string")return G0n(t,{staticPosition:n});throw new CY(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function L0n(t){let e=t.readBytes(32);return[d6(Vr(DY(e,-20))),32]}function U0n(t,e,{length:n,staticPosition:r}){if(!n){let o=y6(t.readBytes(Lye)),s=r+o,c=s+pat;t.setPosition(s);let l=y6(t.readBytes(pat)),u=dB(e),f=0,d=[];for(let p=0;p<l;++p){t.setPosition(c+(u?p*32:f));let[h,m]=UT(t,e,{staticPosition:c});f+=m,d.push(h)}return t.setPosition(r+32),[d,32]}if(dB(e)){let o=y6(t.readBytes(Lye)),s=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(s+l*32);let[u]=UT(t,e,{staticPosition:s});c.push(u)}return t.setPosition(r+32),[c,32]}let i=0,a=[];for(let o=0;o<n;++o){let[s,c]=UT(t,e,{staticPosition:r+i});i+=c,a.push(s)}return[a,i]}function F0n(t){return[uat(t.readBytes(32),{size:32}),32]}function H0n(t,e,{staticPosition:n}){let[r,i]=e.type.split("bytes");if(!i){let o=y6(t.readBytes(32));t.setPosition(n+o);let s=y6(t.readBytes(32));if(s===0)return t.setPosition(n+32),["0x",32];let c=t.readBytes(s);return t.setPosition(n+32),[Vr(c),32]}return[Vr(t.readBytes(Number.parseInt(i),32)),32]}function z0n(t,e){let n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?lat(i,{signed:n}):y6(i,{signed:n}),32]}function j0n(t,e,{staticPosition:n}){let r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{},a=0;if(dB(e)){let o=y6(t.readBytes(Lye)),s=n+o;for(let c=0;c<e.components.length;++c){let l=e.components[c];t.setPosition(s+a);let[u,f]=UT(t,l,{staticPosition:s});a+=f,i[r?c:l?.name]=u}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){let s=e.components[o],[c,l]=UT(t,s,{staticPosition:n});i[r?o:s?.name]=c,a+=l}return[i,a]}function G0n(t,{staticPosition:e}){let n=y6(t.readBytes(32)),r=e+n;t.setPosition(r);let i=y6(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];let a=t.readBytes(i,32),o=fat(Tf(a));return t.setPosition(e+32),[o,32]}function dB(t){let{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(dB);let n=FY(t.type);return!!(n&&dB({...t,type:n[1]}))}var pat,Lye,FT=B(()=>{Va();ty();VY();Vd();p6();NT();dat();Zo();dn();Wd();pat=32,Lye=32});function HT(t){let{abi:e,data:n}=t,r=aa(n,0,4);if(r==="0x")throw new Kd;let a=[...e||[],zY,cat].find(o=>o.type==="error"&&r===h6(hs(o)));if(!a)throw new TT(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?N0(a.inputs,aa(n,4)):void 0,errorName:a.name}}var KY=B(()=>{jY();Va();p6();MT();FT();Qm()});var ur,P0=B(()=>{ur=(t,e,n)=>JSON.stringify(t,(r,i)=>{let a=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(r,a):a},n)});function Uye({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,a)=>`${r&&i.name?`${i.name}: `:""}${typeof e[a]=="object"?ur(e[a]):e[a]}`).join(", ")})`}var hat=B(()=>{P0()});var $Y,mat,qY=B(()=>{$Y={gwei:9,wei:18},mat={ether:-9,wei:9}});function WY(t,e){let n=t.toString(),r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${a?`.${a}`:""}`}var Fye=B(()=>{});function zT(t,e="wei"){return WY(t,$Y[e])}var YY=B(()=>{qY();Fye()});function Ka(t,e="wei"){return WY(t,mat[e])}var b4=B(()=>{qY();Fye()});function yat(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function bat(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=yat(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=yat(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}var JY,QY,Hye=B(()=>{Dn();JY=class extends de{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}},QY=class extends de{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}});function ny(t){let e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}var ZY,XY,eJ,jT,GT,tJ,b6=B(()=>{YY();b4();Dn();ZY=class extends de{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},XY=class extends de{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ny(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},eJ=class extends de{constructor(e,{account:n,docsPath:r,chain:i,data:a,gas:o,gasPrice:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){let p=ny({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:f,value:typeof d<"u"&&`${zT(d)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof s<"u"&&`${Ka(s)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ka(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ka(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},jT=class extends de{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(o=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}},GT=class extends de{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},tJ=class extends de{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}});var gat,g4,nJ=B(()=>{gat=t=>t,g4=t=>t});var VT,w4,ry,KT,rJ,g6,iy=B(()=>{Ca();jY();KY();Qm();hat();qg();YY();b4();Va();Dn();Hye();b6();nJ();VT=class extends de{constructor(e,{account:n,docsPath:r,chain:i,data:a,gas:o,gasPrice:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d,stateOverride:p}){let h=n?Rn(n):void 0,m=ny({from:h?.address,to:f,value:typeof d<"u"&&`${zT(d)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof s<"u"&&`${Ka(s)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ka(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ka(l)} gwei`,nonce:u});p&&(m+=`
${bat(p)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},w4=class extends de{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:a,functionName:o,sender:s}){let c=hu({abi:n,args:r,name:o}),l=c?Uye({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?hs(c,{includeName:!0}):void 0,f=ny({address:i&&gat(i),function:u,args:l&&l!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:s});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=s}},ry=class extends de{constructor({abi:e,data:n,functionName:r,message:i}){let a,o,s,c;if(n&&n!=="0x")try{o=HT({abi:e,data:n});let{abiItem:u,errorName:f,args:d}=o;if(f==="Error")c=d[0];else if(f==="Panic"){let[p]=d;c=sat[p]}else{let p=u?hs(u,{includeName:!0}):void 0,h=u&&d?Uye({abiItem:u,args:d,includeFunctionName:!1,includeName:!1}):void 0;s=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(u){a=u}else i&&(c=i);let l;a instanceof TT&&(l=a.signature,s=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:s,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}},KT=class extends de{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},rJ=class extends de{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},g6=class extends de{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}});var Yd,Yg,pB,v4=B(()=>{P0();Dn();nJ();Yd=class extends de{constructor({body:e,cause:n,details:r,headers:i,status:a,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${g4(o)}`,e&&`Request body: ${ur(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=o}},Yg=class extends de{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${g4(r)}`,`Request body: ${ur(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}},pB=class extends de{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${g4(n)}`,`Request body: ${ur(e)}`],name:"TimeoutError"})}}});var V0n,Oc,fl,$T,qT,WT,JT,ay,w6,QT,ZT,XT,Jg,E4,e7,x4,t7,n7,r7,i7,a7,Qg,o7,s7,c7,l7,u7,Zg,iJ,f7=B(()=>{Dn();v4();V0n=-1,Oc=class extends de{constructor(e,{code:n,docsPath:r,metaMessages:i,name:a,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof Yg?e.code:n??V0n}},fl=class extends Oc{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}},$T=class t extends Oc{constructor(e){super(e,{code:t.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty($T,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});qT=class t extends Oc{constructor(e){super(e,{code:t.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(qT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});WT=class t extends Oc{constructor(e,{method:n}={}){super(e,{code:t.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}};Object.defineProperty(WT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});JT=class t extends Oc{constructor(e){super(e,{code:t.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(JT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});ay=class t extends Oc{constructor(e){super(e,{code:t.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(ay,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});w6=class t extends Oc{constructor(e){super(e,{code:t.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(w6,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});QT=class t extends Oc{constructor(e){super(e,{code:t.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(QT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});ZT=class t extends Oc{constructor(e){super(e,{code:t.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(ZT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});XT=class t extends Oc{constructor(e){super(e,{code:t.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(XT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});Jg=class t extends Oc{constructor(e,{method:n}={}){super(e,{code:t.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}};Object.defineProperty(Jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});E4=class t extends Oc{constructor(e){super(e,{code:t.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(E4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});e7=class t extends Oc{constructor(e){super(e,{code:t.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(e7,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});x4=class t extends fl{constructor(e){super(e,{code:t.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(x4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});t7=class t extends fl{constructor(e){super(e,{code:t.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(t7,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});n7=class t extends fl{constructor(e,{method:n}={}){super(e,{code:t.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}};Object.defineProperty(n7,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});r7=class t extends fl{constructor(e){super(e,{code:t.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(r7,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});i7=class t extends fl{constructor(e){super(e,{code:t.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(i7,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});a7=class t extends fl{constructor(e){super(e,{code:t.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(a7,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});Qg=class t extends fl{constructor(e){super(e,{code:t.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}};Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});o7=class t extends fl{constructor(e){super(e,{code:t.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}};Object.defineProperty(o7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});s7=class t extends fl{constructor(e){super(e,{code:t.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}};Object.defineProperty(s7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});c7=class t extends fl{constructor(e){super(e,{code:t.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}};Object.defineProperty(c7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});l7=class t extends fl{constructor(e){super(e,{code:t.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}};Object.defineProperty(l7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});u7=class t extends fl{constructor(e){super(e,{code:t.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}};Object.defineProperty(u7,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});Zg=class t extends fl{constructor(e){super(e,{code:t.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}};Object.defineProperty(Zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});iJ=class extends Oc{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}});function Sf(t,{abi:e,address:n,args:r,docsPath:i,functionName:a,sender:o}){let s=t instanceof g6?t:t instanceof de?t.walk(h=>"data"in h)||t.walk():{},{code:c,data:l,details:u,message:f,shortMessage:d}=s,p=t instanceof Kd?new KT({functionName:a}):[K0n,ay.code].includes(c)&&(l||u||f||d)?new ry({abi:e,data:typeof l=="object"?l.data:l,functionName:a,message:s instanceof Yg?u:d??f}):t;return new w4(p,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:a,sender:o})}var K0n,A4=B(()=>{Va();Dn();iy();v4();f7();K0n=3});function wat(t){let e=Ft(`0x${t.substring(4)}`).substring(26);return d6(`0x${e}`)}var vat=B(()=>{ty();pu()});function hB(t,e=""){if(typeof t!="boolean"){let n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Xg(t,e,n=""){let r=Ss(t),i=t?.length,a=e!==void 0;if(!r||a&&i!==e){let o=n&&`"${n}" `,s=a?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+s+", got "+c)}return t}function mB(t){let e=t.toString(16);return e.length&1?"0"+e:e}function Eat(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Gye:BigInt("0x"+t)}function Rp(t){return Eat(va(t))}function Vye(t){return Li(t),Eat(va(Uint8Array.from(t).reverse()))}function d7(t,e){return c0(t.toString(16).padStart(e*2,"0"))}function Kye(t,e){return d7(t,e).reverse()}function mo(t,e,n){let r;if(typeof e=="string")try{r=c0(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(Ss(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function yB(t,e,n){return zye(t)&&zye(e)&&zye(n)&&e<=t&&t<n}function xat(t,e,n,r){if(!yB(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function aJ(t){let e;for(e=0;t>Gye;t>>=jye,e+=1);return e}function Aat(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=p=>new Uint8Array(p),i=p=>Uint8Array.of(p),a=r(t),o=r(t),s=0,c=()=>{a.fill(1),o.fill(0),s=0},l=(...p)=>n(o,a,...p),u=(p=r(0))=>{o=l(i(0),p),a=l(),p.length!==0&&(o=l(i(1),p),a=l())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,h=[];for(;p<e;){a=l();let m=a.slice();h.push(m),p+=a.length}return rr(...h)};return(p,h)=>{c(),u(p);let m;for(;!(m=h(f()));)u();return c(),m}}function _at(t){return typeof t=="function"&&Number.isSafeInteger(t.outputLen)}function _4(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,a,o){let s=t[i];if(o&&s===void 0)return;let c=typeof s;if(c!==a||s===null)throw new Error(`param "${i}" is invalid: expected ${a}, got ${c}`)}Object.entries(e).forEach(([i,a])=>r(i,a,!1)),Object.entries(n).forEach(([i,a])=>r(i,a,!0))}function $ye(t){let e=new WeakMap;return(n,...r)=>{let i=e.get(n);if(i!==void 0)return i;let a=t(n,...r);return e.set(n,a),a}}var Gye,jye,zye,e8,p7=B(()=>{Is();Is();Gye=BigInt(0),jye=BigInt(1);zye=t=>typeof t=="bigint"&&Gye<=t;e8=t=>(jye<<BigInt(t))-jye});function dl(t,e){let n=t%e;return n>=pl?n:e+n}function Cf(t,e,n){let r=t;for(;e-- >pl;)r*=r,r%=n;return r}function Tat(t,e){if(t===pl)throw new Error("invert: expected non-zero number");if(e<=pl)throw new Error("invert: expected positive modulus, got "+e);let n=dl(t,e),r=e,i=pl,a=Nc,o=Nc,s=pl;for(;n!==pl;){let l=r/n,u=r%n,f=i-o*l,d=a-s*l;r=n,n=u,i=o,a=s,o=f,s=d}if(r!==Nc)throw new Error("invert: does not exist");return dl(i,e)}function qye(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Pat(t,e){let n=(t.ORDER+Nc)/Iat,r=t.pow(e,n);return qye(t,r,e),r}function W0n(t,e){let n=(t.ORDER-Rat)/Oat,r=t.mul(e,T4),i=t.pow(r,n),a=t.mul(e,i),o=t.mul(t.mul(a,T4),i),s=t.mul(a,t.sub(o,t.ONE));return qye(t,s,e),s}function Y0n(t){let e=t8(t),n=kat(t),r=n(e,e.neg(e.ONE)),i=n(e,r),a=n(e,e.neg(r)),o=(t+$0n)/Nat;return(s,c)=>{let l=s.pow(c,o),u=s.mul(l,r),f=s.mul(l,i),d=s.mul(l,a),p=s.eql(s.sqr(u),c),h=s.eql(s.sqr(f),c);l=s.cmov(l,u,p),u=s.cmov(d,f,h);let m=s.eql(s.sqr(u),c),w=s.cmov(l,u,m);return qye(s,w,c),w}}function kat(t){if(t<Cat)throw new Error("sqrt is not defined for small field");let e=t-Nc,n=0;for(;e%T4===pl;)e/=T4,n++;let r=T4,i=t8(t);for(;Sat(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Pat;let a=i.pow(r,e),o=(e+Nc)/T4;return function(c,l){if(c.is0(l))return l;if(Sat(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,a),d=c.pow(l,e),p=c.pow(l,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let h=1,m=c.sqr(d);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let w=Nc<<BigInt(u-h-1),g=c.pow(f,w);u=h,f=c.sqr(g),d=c.mul(d,f),p=c.mul(p,g)}return p}}function J0n(t){return t%Iat===Cat?Pat:t%Oat===Rat?W0n:t%Nat===q0n?Y0n(t):kat(t)}function oJ(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Q0n.reduce((r,i)=>(r[i]="function",r),e);return _4(t,n),t}function Z0n(t,e,n){if(n<pl)throw new Error("invalid exponent, negatives unsupported");if(n===pl)return t.ONE;if(n===Nc)return e;let r=t.ONE,i=e;for(;n>pl;)n&Nc&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Nc;return r}function S4(t,e,n=!1){let r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,s,c)=>t.is0(s)?o:(r[c]=o,t.mul(o,s)),t.ONE),a=t.inv(i);return e.reduceRight((o,s,c)=>t.is0(s)?o:(r[c]=t.mul(o,r[c]),t.mul(o,s)),a),r}function Sat(t,e){let n=(t.ORDER-Nc)/T4,r=t.pow(e,n),i=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!a&&!o)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function sJ(t,e){e!==void 0&&zc(e);let n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function t8(t,e,n=!1,r={}){if(t<=pl)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,a,o=!1,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");let d=e;d.BITS&&(i=d.BITS),d.sqrt&&(a=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE),typeof d.modFromBytes=="boolean"&&(o=d.modFromBytes),s=d.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(a=r.sqrt);let{nBitLength:c,nByteLength:l}=sJ(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,f=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:e8(c),ZERO:pl,ONE:Nc,allowedLengths:s,create:d=>dl(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return pl<=d&&d<t},is0:d=>d===pl,isValidNot0:d=>!f.is0(d)&&f.isValid(d),isOdd:d=>(d&Nc)===Nc,neg:d=>dl(-d,t),eql:(d,p)=>d===p,sqr:d=>dl(d*d,t),add:(d,p)=>dl(d+p,t),sub:(d,p)=>dl(d-p,t),mul:(d,p)=>dl(d*p,t),pow:(d,p)=>Z0n(f,d,p),div:(d,p)=>dl(d*Tat(p,t),t),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>Tat(d,t),sqrt:a||(d=>(u||(u=J0n(t)),u(f,d))),toBytes:d=>n?Kye(d,l):d7(d,l),fromBytes:(d,p=!0)=>{if(s){if(!s.includes(d.length)||d.length>l)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+d.length);let m=new Uint8Array(l);m.set(d,n?0:m.length-d.length),d=m}if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);let h=n?Vye(d):Rp(d);if(o&&(h=dl(h,t)),!p&&!f.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:d=>S4(f,d),cmov:(d,p,h)=>h?p:d});return Object.freeze(f)}function Mat(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Wye(t){let e=Mat(t);return e+Math.ceil(e/2)}function cJ(t,e,n=!1){let r=t.length,i=Mat(e),a=Wye(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);let o=n?Vye(t):Rp(t),s=dl(o,e-Nc)+Nc;return n?Kye(s,i):d7(s,i)}var pl,Nc,T4,Cat,Iat,Rat,$0n,Oat,q0n,Nat,Q0n,bB=B(()=>{p7();pl=BigInt(0),Nc=BigInt(1),T4=BigInt(2),Cat=BigInt(3),Iat=BigInt(4),Rat=BigInt(5),$0n=BigInt(7),Oat=BigInt(8),q0n=BigInt(9),Nat=BigInt(16);Q0n=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function gB(t,e){let n=e.negate();return t?n:e}function uJ(t,e){let n=S4(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function Uat(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Yye(t,e){Uat(t,e);let n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,a=e8(t),o=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:i,shiftBy:o}}function Bat(t,e,n){let{windowSize:r,mask:i,maxNumber:a,shiftBy:o}=n,s=Number(t&i),c=t>>o;s>r&&(s-=a,c+=C4);let l=e*r,u=l+Math.abs(s)-1,f=s===0,d=s<0,p=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:p,offsetF:l}}function X0n(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ecn(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}function Qye(t){return Fat.get(t)||1}function Dat(t){if(t!==h7)throw new Error("invalid wNAF")}function Hat(t,e,n,r){let i=e,a=t.ZERO,o=t.ZERO;for(;n>h7||r>h7;)n&C4&&(a=a.add(i)),r&C4&&(o=o.add(i)),i=i.double(),n>>=C4,r>>=C4;return{p1:a,p2:o}}function zat(t,e,n,r){X0n(n,t),ecn(r,e);let i=n.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");let o=t.ZERO,s=aJ(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=e8(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c,d=o;for(let p=f;p>=0;p-=c){u.fill(o);for(let m=0;m<a;m++){let w=r[m],g=Number(w>>BigInt(p)&l);u[g]=u[g].add(n[m])}let h=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),h=h.add(w);if(d=d.add(h),p!==0)for(let m=0;m<c;m++)d=d.double()}return d}function Lat(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return oJ(e),e}else return t8(t,{isLE:n})}function jat(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let l=e[c];if(!(typeof l=="bigint"&&l>h7))throw new Error(`CURVE.${c} must be positive bigint`)}let i=Lat(e.p,n.Fp,r),a=Lat(e.n,n.Fn,r),s=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of s)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:a}}var h7,C4,Jye,Fat,lJ,Gat=B(()=>{p7();bB();h7=BigInt(0),C4=BigInt(1);Jye=new WeakMap,Fat=new WeakMap;lJ=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>h7;)n&C4&&(r=r.add(i)),i=i.double(),n>>=C4;return r}precomputeWindow(e,n){let{windows:r,windowSize:i}=Yye(n,this.bits),a=[],o=e,s=o;for(let c=0;c<r;c++){s=o,a.push(s);for(let l=1;l<i;l++)s=s.add(o),a.push(s);o=s.double()}return a}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,a=this.BASE,o=Yye(e,this.bits);for(let s=0;s<o.windows;s++){let{nextN:c,offset:l,isZero:u,isNeg:f,isNegF:d,offsetF:p}=Bat(r,s,o);r=c,u?a=a.add(gB(d,n[p])):i=i.add(gB(f,n[l]))}return Dat(r),{p:i,f:a}}wNAFUnsafe(e,n,r,i=this.ZERO){let a=Yye(e,this.bits);for(let o=0;o<a.windows&&r!==h7;o++){let{nextN:s,offset:c,isZero:l,isNeg:u}=Bat(r,o,a);if(r=s,!l){let f=n[c];i=i.add(u?f.negate():f)}}return Dat(r),i}getPrecomputes(e,n,r){let i=Jye.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),Jye.set(n,i))),i}cached(e,n,r){let i=Qye(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){let a=Qye(e);return a===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(a,this.getPrecomputes(a,e,r),n,i)}createCache(e,n){Uat(n,this.bits),Fat.set(e,n),Jye.delete(e)}hasCache(e){return Qye(e)!==1}}});function tcn(t,e,n){let[[r,i],[a,o]]=e,s=Vat(o*t,n),c=Vat(-i*t,n),l=t-s*r-c*a,u=-s*i-c*o,f=l<Op,d=u<Op;f&&(l=-l),d&&(u=-u);let p=e8(Math.ceil(aJ(n)/2))+Pc;if(l<Op||l>=p||u<Op||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}function Xye(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Zye(t,e){let n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return hB(n.lowS,"lowS"),hB(n.prehash,"prehash"),n.format!==void 0&&Xye(n.format),n}function n8(t,e){let{BYTES:n}=t,r;if(typeof e=="bigint")r=e;else{let i=mo("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function ncn(t,e={}){let n=jat("weierstrass",t,e),{Fp:r,Fn:i}=n,a=n.CURVE,{h:o,n:s}=a;_4(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!r.is0(a.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=qat(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(I,S,y){let{x:b,y:_}=S.toAffine(),A=r.toBytes(b);if(hB(y,"isCompressed"),y){u();let T=!r.isOdd(_);return rr(Kat(T),A)}else return rr(Uint8Array.of(4),A,r.toBytes(_))}function d(I){Xg(I,void 0,"Point");let{publicKey:S,publicKeyUncompressed:y}=l,b=I.length,_=I[0],A=I.subarray(1);if(b===S&&(_===2||_===3)){let T=r.fromBytes(A);if(!r.isValid(T))throw new Error("bad point: is not on curve, wrong x");let E=m(T),k;try{k=r.sqrt(E)}catch(U){let j=U instanceof Error?": "+U.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}u();let L=r.isOdd(k);return(_&1)===1!==L&&(k=r.neg(k)),{x:T,y:k}}else if(b===y&&_===4){let T=r.BYTES,E=r.fromBytes(A.subarray(0,T)),k=r.fromBytes(A.subarray(T,T*2));if(!w(E,k))throw new Error("bad point: is not on curve");return{x:E,y:k}}else throw new Error(`bad point: got length ${b}, expected compressed=${S} or uncompressed=${y}`)}let p=e.toBytes||f,h=e.fromBytes||d;function m(I){let S=r.sqr(I),y=r.mul(S,I);return r.add(r.add(y,r.mul(I,a.a)),a.b)}function w(I,S){let y=r.sqr(S),b=m(I);return r.eql(y,b)}if(!w(a.Gx,a.Gy))throw new Error("bad curve params: generator point");let g=r.mul(r.pow(a.a,m7),tbe),x=r.mul(r.sqr(a.b),BigInt(27));if(r.is0(r.add(g,x)))throw new Error("bad curve params: a or b");function C(I,S,y=!1){if(!r.isValid(S)||y&&r.is0(S))throw new Error(`bad point coordinate ${I}`);return S}function P(I){if(!(I instanceof M))throw new Error("ProjectivePoint expected")}function D(I){if(!c||!c.basises)throw new Error("no endo");return tcn(I,c.basises,i.ORDER)}let F=$ye((I,S)=>{let{X:y,Y:b,Z:_}=I;if(r.eql(_,r.ONE))return{x:y,y:b};let A=I.is0();S==null&&(S=A?r.ONE:r.inv(_));let T=r.mul(y,S),E=r.mul(b,S),k=r.mul(_,S);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:T,y:E}}),H=$ye(I=>{if(I.is0()){if(e.allowInfinityPoint&&!r.is0(I.Y))return;throw new Error("bad point: ZERO")}let{x:S,y}=I.toAffine();if(!r.isValid(S)||!r.isValid(y))throw new Error("bad point: x or y not field elements");if(!w(S,y))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function O(I,S,y,b,_){return y=new M(r.mul(y.X,I),y.Y,y.Z),S=gB(b,S),y=gB(_,y),S.add(y)}class M{constructor(S,y,b){this.X=C("x",S),this.Y=C("y",y,!0),this.Z=C("z",b),Object.freeze(this)}static CURVE(){return a}static fromAffine(S){let{x:y,y:b}=S||{};if(!S||!r.isValid(y)||!r.isValid(b))throw new Error("invalid affine point");if(S instanceof M)throw new Error("projective point not allowed");return r.is0(y)&&r.is0(b)?M.ZERO:new M(y,b,r.ONE)}static fromBytes(S){let y=M.fromAffine(h(Xg(S,void 0,"point")));return y.assertValidity(),y}static fromHex(S){return M.fromBytes(mo("pointHex",S))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,y=!0){return v.createCache(this,S),y||this.multiply(m7),this}assertValidity(){H(this)}hasEvenY(){let{y:S}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(S)}equals(S){P(S);let{X:y,Y:b,Z:_}=this,{X:A,Y:T,Z:E}=S,k=r.eql(r.mul(y,E),r.mul(A,_)),L=r.eql(r.mul(b,E),r.mul(T,_));return k&&L}negate(){return new M(this.X,r.neg(this.Y),this.Z)}double(){let{a:S,b:y}=a,b=r.mul(y,m7),{X:_,Y:A,Z:T}=this,E=r.ZERO,k=r.ZERO,L=r.ZERO,R=r.mul(_,_),U=r.mul(A,A),j=r.mul(T,T),z=r.mul(_,A);return z=r.add(z,z),L=r.mul(_,T),L=r.add(L,L),E=r.mul(S,L),k=r.mul(b,j),k=r.add(E,k),E=r.sub(U,k),k=r.add(U,k),k=r.mul(E,k),E=r.mul(z,E),L=r.mul(b,L),j=r.mul(S,j),z=r.sub(R,j),z=r.mul(S,z),z=r.add(z,L),L=r.add(R,R),R=r.add(L,R),R=r.add(R,j),R=r.mul(R,z),k=r.add(k,R),j=r.mul(A,T),j=r.add(j,j),R=r.mul(j,z),E=r.sub(E,R),L=r.mul(j,U),L=r.add(L,L),L=r.add(L,L),new M(E,k,L)}add(S){P(S);let{X:y,Y:b,Z:_}=this,{X:A,Y:T,Z:E}=S,k=r.ZERO,L=r.ZERO,R=r.ZERO,U=a.a,j=r.mul(a.b,m7),z=r.mul(y,A),V=r.mul(b,T),$=r.mul(_,E),W=r.add(y,b),J=r.add(A,T);W=r.mul(W,J),J=r.add(z,V),W=r.sub(W,J),J=r.add(y,_);let X=r.add(A,E);return J=r.mul(J,X),X=r.add(z,$),J=r.sub(J,X),X=r.add(b,_),k=r.add(T,E),X=r.mul(X,k),k=r.add(V,$),X=r.sub(X,k),R=r.mul(U,J),k=r.mul(j,$),R=r.add(k,R),k=r.sub(V,R),R=r.add(V,R),L=r.mul(k,R),V=r.add(z,z),V=r.add(V,z),$=r.mul(U,$),J=r.mul(j,J),V=r.add(V,$),$=r.sub(z,$),$=r.mul(U,$),J=r.add(J,$),z=r.mul(V,J),L=r.add(L,z),z=r.mul(X,J),k=r.mul(W,k),k=r.sub(k,z),z=r.mul(W,V),R=r.mul(X,R),R=r.add(R,z),new M(k,L,R)}subtract(S){return this.add(S.negate())}is0(){return this.equals(M.ZERO)}multiply(S){let{endo:y}=e;if(!i.isValidNot0(S))throw new Error("invalid scalar: out of range");let b,_,A=T=>v.cached(this,T,E=>uJ(M,E));if(y){let{k1neg:T,k1:E,k2neg:k,k2:L}=D(S),{p:R,f:U}=A(E),{p:j,f:z}=A(L);_=U.add(z),b=O(y.beta,R,j,T,k)}else{let{p:T,f:E}=A(S);b=T,_=E}return uJ(M,[b,_])[0]}multiplyUnsafe(S){let{endo:y}=e,b=this;if(!i.isValid(S))throw new Error("invalid scalar: out of range");if(S===Op||b.is0())return M.ZERO;if(S===Pc)return b;if(v.hasCache(this))return this.multiply(S);if(y){let{k1neg:_,k1:A,k2neg:T,k2:E}=D(S),{p1:k,p2:L}=Hat(M,b,A,E);return O(y.beta,k,L,_,T)}else return v.unsafe(b,S)}multiplyAndAddUnsafe(S,y,b){let _=this.multiplyUnsafe(y).add(S.multiplyUnsafe(b));return _.is0()?void 0:_}toAffine(S){return F(this,S)}isTorsionFree(){let{isTorsionFree:S}=e;return o===Pc?!0:S?S(M,this):v.unsafe(this,s).is0()}clearCofactor(){let{clearCofactor:S}=e;return o===Pc?this:S?S(M,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(S=!0){return hB(S,"isCompressed"),this.assertValidity(),p(M,this,S)}toHex(S=!0){return va(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(S=!0){return this.toBytes(S)}_setWindowSize(S){this.precompute(S)}static normalizeZ(S){return uJ(M,S)}static msm(S,y){return zat(M,i,S,y)}static fromPrivateKey(S){return M.BASE.multiply(n8(i,S))}}M.BASE=new M(a.Gx,a.Gy,r.ONE),M.ZERO=new M(r.ZERO,r.ONE,r.ZERO),M.Fp=r,M.Fn=i;let N=i.BITS,v=new lJ(M,e.endo?Math.ceil(N/2):N);return M.BASE.precompute(8),M}function Kat(t){return Uint8Array.of(t?2:3)}function rcn(t,e){let n=t.ORDER,r=Op;for(let h=n-Pc;h%v6===Op;h/=v6)r+=Pc;let i=r,a=v6<<i-Pc-Pc,o=a*v6,s=(n-Pc)/o,c=(s-Pc)/v6,l=o-Pc,u=a,f=t.pow(e,s),d=t.pow(e,(s+Pc)/v6),p=(h,m)=>{let w=f,g=t.pow(m,l),x=t.sqr(g);x=t.mul(x,m);let C=t.mul(h,x);C=t.pow(C,c),C=t.mul(C,g),g=t.mul(C,m),x=t.mul(C,h);let P=t.mul(x,g);C=t.pow(P,u);let D=t.eql(C,t.ONE);g=t.mul(x,d),C=t.mul(P,w),x=t.cmov(g,x,D),P=t.cmov(C,P,D);for(let F=i;F>Pc;F--){let H=F-v6;H=v6<<H-Pc;let O=t.pow(P,H),M=t.eql(O,t.ONE);g=t.mul(x,w),w=t.mul(w,w),O=t.mul(P,w),x=t.cmov(g,x,M),P=t.cmov(O,P,M)}return{isValid:D,value:x}};if(t.ORDER%tbe===m7){let h=(t.ORDER-m7)/tbe,m=t.sqrt(t.neg(e));p=(w,g)=>{let x=t.sqr(g),C=t.mul(w,g);x=t.mul(x,C);let P=t.pow(x,h);P=t.mul(P,C);let D=t.mul(P,m),F=t.mul(t.sqr(P),g),H=t.eql(F,w),O=t.cmov(D,P,H);return{isValid:H,value:O}}}return p}function $at(t,e){oJ(t);let{A:n,B:r,Z:i}=e;if(!t.isValid(n)||!t.isValid(r)||!t.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");let a=rcn(t,i);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return o=>{let s,c,l,u,f,d,p,h;s=t.sqr(o),s=t.mul(s,i),c=t.sqr(s),c=t.add(c,s),l=t.add(c,t.ONE),l=t.mul(l,r),u=t.cmov(i,t.neg(c),!t.eql(c,t.ZERO)),u=t.mul(u,n),c=t.sqr(l),d=t.sqr(u),f=t.mul(d,n),c=t.add(c,f),c=t.mul(c,l),d=t.mul(d,u),f=t.mul(d,r),c=t.add(c,f),p=t.mul(s,l);let{isValid:m,value:w}=a(c,d);h=t.mul(s,o),h=t.mul(h,w),p=t.cmov(p,l,m),h=t.cmov(h,w,m);let g=t.isOdd(o)===t.isOdd(h);h=t.cmov(t.neg(h),h,g);let x=S4(t,[u],!0)[0];return p=t.mul(p,x),{x:p,y:h}}}function qat(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function icn(t,e={}){let{Fn:n}=t,r=e.randomBytes||Cs,i=Object.assign(qat(t.Fp,n),{seed:Wye(n.ORDER)});function a(p){try{return!!n8(n,p)}catch{return!1}}function o(p,h){let{publicKey:m,publicKeyUncompressed:w}=i;try{let g=p.length;return h===!0&&g!==m||h===!1&&g!==w?!1:!!t.fromBytes(p)}catch{return!1}}function s(p=r(i.seed)){return cJ(Xg(p,i.seed,"seed"),n.ORDER)}function c(p,h=!0){return t.BASE.multiply(n8(n,p)).toBytes(h)}function l(p){let h=s(p);return{secretKey:h,publicKey:c(h)}}function u(p){if(typeof p=="bigint")return!1;if(p instanceof t)return!0;let{secretKey:h,publicKey:m,publicKeyUncompressed:w}=i;if(n.allowedLengths||h===m)return;let g=mo("key",p).length;return g===m||g===w}function f(p,h,m=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");let w=n8(n,p);return t.fromHex(h).multiply(w).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:f,keygen:l,Point:t,utils:{isValidSecretKey:a,isValidPublicKey:o,randomSecretKey:s,isValidPrivateKey:a,randomPrivateKey:s,normPrivateKeyToScalar:p=>n8(n,p),precompute(p=8,h=t.BASE){return h.precompute(p,!1)}},lengths:i})}function acn(t,e,n={}){K9(e),_4(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let r=n.randomBytes||Cs,i=n.hmac||((y,...b)=>y3(e,y,rr(...b))),{Fp:a,Fn:o}=t,{ORDER:s,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:p}=icn(t,n),h={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function w(y){let b=s>>Pc;return y>b}function g(y,b){if(!o.isValidNot0(b))throw new Error(`invalid signature ${y}: out of range 1..Point.Fn.ORDER`);return b}function x(y,b){Xye(b);let _=p.signature,A=b==="compact"?_:b==="recovered"?_+1:void 0;return Xg(y,A,`${b} signature`)}class C{constructor(b,_,A){this.r=g("r",b),this.s=g("s",_),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(b,_=m){x(b,_);let A;if(_==="der"){let{r:L,s:R}=oy.toSig(Xg(b));return new C(L,R)}_==="recovered"&&(A=b[0],_="compact",b=b.subarray(1));let T=o.BYTES,E=b.subarray(0,T),k=b.subarray(T,T*2);return new C(o.fromBytes(E),o.fromBytes(k),A)}static fromHex(b,_){return this.fromBytes(c0(b),_)}addRecoveryBit(b){return new C(this.r,this.s,b)}recoverPublicKey(b){let _=a.ORDER,{r:A,s:T,recovery:E}=this;if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");if(s*v6<_&&E>1)throw new Error("recovery id is ambiguous for h>1 curve");let L=E===2||E===3?A+s:A;if(!a.isValid(L))throw new Error("recovery id 2 or 3 invalid");let R=a.toBytes(L),U=t.fromBytes(rr(Kat((E&1)===0),R)),j=o.inv(L),z=D(mo("msgHash",b)),V=o.create(-z*j),$=o.create(T*j),W=t.BASE.multiplyUnsafe(V).add(U.multiplyUnsafe($));if(W.is0())throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return w(this.s)}toBytes(b=m){if(Xye(b),b==="der")return c0(oy.hexFromSig(this));let _=o.toBytes(this.r),A=o.toBytes(this.s);if(b==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return rr(Uint8Array.of(this.recovery),_,A)}return rr(_,A)}toHex(b){return va(this.toBytes(b))}assertValidity(){}static fromCompact(b){return C.fromBytes(mo("sig",b),"compact")}static fromDER(b){return C.fromBytes(mo("sig",b),"der")}normalizeS(){return this.hasHighS()?new C(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return va(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return va(this.toBytes("compact"))}}let P=n.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");let _=Rp(b),A=b.length*8-c;return A>0?_>>BigInt(A):_},D=n.bits2int_modN||function(b){return o.create(P(b))},F=e8(c);function H(y){return xat("num < 2^"+c,y,Op,F),o.toBytes(y)}function O(y,b){return Xg(y,void 0,"message"),b?Xg(e(y),void 0,"prehashed message"):y}function M(y,b,_){if(["recovered","canonical"].some(V=>V in _))throw new Error("sign() legacy options not supported");let{lowS:A,prehash:T,extraEntropy:E}=Zye(_,h);y=O(y,T);let k=D(y),L=n8(o,b),R=[H(L),H(k)];if(E!=null&&E!==!1){let V=E===!0?r(p.secretKey):E;R.push(mo("extraEntropy",V))}let U=rr(...R),j=k;function z(V){let $=P(V);if(!o.isValidNot0($))return;let W=o.inv($),J=t.BASE.multiply($).toAffine(),X=o.create(J.x);if(X===Op)return;let te=o.create(W*o.create(j+X*L));if(te===Op)return;let ne=(J.x===X?0:2)|Number(J.y&Pc),ue=te;return A&&w(te)&&(ue=o.neg(te),ne^=1),new C(X,ue,ne)}return{seed:U,k2sig:z}}function N(y,b,_={}){y=mo("message",y);let{seed:A,k2sig:T}=M(y,b,_);return Aat(e.outputLen,o.BYTES,i)(A,T)}function v(y){let b,_=typeof y=="string"||Ss(y),A=!_&&y!==null&&typeof y=="object"&&typeof y.r=="bigint"&&typeof y.s=="bigint";if(!_&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)b=new C(y.r,y.s);else if(_){try{b=C.fromBytes(mo("sig",y),"der")}catch(T){if(!(T instanceof oy.Err))throw T}if(!b)try{b=C.fromBytes(mo("sig",y),"compact")}catch{return!1}}return b||!1}function I(y,b,_,A={}){let{lowS:T,prehash:E,format:k}=Zye(A,h);if(_=mo("publicKey",_),b=O(mo("message",b),E),"strict"in A)throw new Error("options.strict was renamed to lowS");let L=k===void 0?v(y):C.fromBytes(mo("sig",y),k);if(L===!1)return!1;try{let R=t.fromBytes(_);if(T&&L.hasHighS())return!1;let{r:U,s:j}=L,z=D(b),V=o.inv(j),$=o.create(z*V),W=o.create(U*V),J=t.BASE.multiplyUnsafe($).add(R.multiplyUnsafe(W));return J.is0()?!1:o.create(J.x)===U}catch{return!1}}function S(y,b,_={}){let{prehash:A}=Zye(_,h);return b=O(b,A),C.fromBytes(y,"recovered").recoverPublicKey(b).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:f,utils:d,lengths:p,Point:t,sign:N,verify:I,recoverPublicKey:S,Signature:C,hash:e})}function ocn(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0,i=t8(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),a={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:a}}function scn(t){let{CURVE:e,curveOpts:n}=ocn(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function ccn(t,e){let n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,sJ(n.Fn.ORDER,n.Fn.BITS))})}function Wat(t){let{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=scn(t),a=ncn(e,n),o=acn(a,r,i);return ccn(t,o)}var Vat,ebe,oy,Op,Pc,v6,m7,tbe,nbe=B(()=>{fU();Is();p7();Gat();bB();Vat=(t,e)=>(t+(t>=0?e:-e)/v6)/e;ebe=class extends Error{constructor(e=""){super(e)}},oy={Err:ebe,_tlv:{encode:(t,e)=>{let{Err:n}=oy;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");let r=e.length/2,i=mB(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");let a=r>127?mB(i.length/2|128):"";return mB(t)+a+i+e},decode(t,e){let{Err:n}=oy,r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");let i=e[r++],a=!!(i&128),o=0;if(!a)o=i;else{let c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");let l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}let s=e.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+o)}}},_int:{encode(t){let{Err:e}=oy;if(t<Op)throw new e("integer: negative integers are not allowed");let n=mB(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){let{Err:e}=oy;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Rp(t)}},toSig(t){let{Err:e,_int:n,_tlv:r}=oy,i=mo("signature",t),{v:a,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:s,l:c}=r.decode(2,a),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(l)}},hexFromSig(t){let{_tlv:e,_int:n}=oy,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),a=r+i;return e.encode(48,a)}},Op=BigInt(0),Pc=BigInt(1),v6=BigInt(2),m7=BigInt(3),tbe=BigInt(4)});function Yat(t,e){let n=r=>Wat({...t,hash:r});return{...n(e),create:n}}var Jat=B(()=>{nbe();});function r8(t,e){if(wB(t),wB(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function ucn(t,e){let n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function wB(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Qat(t){if(!Ss(t)&&typeof t!="string")throw new Error("DST must be Uint8Array or string");return typeof t=="string"?Jf(t):t}function fcn(t,e,n,r){Li(t),wB(n),e=Qat(e),e.length>255&&(e=r(rr(Jf("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:a}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");let s=rr(e,r8(e.length,1)),c=r8(0,a),l=r8(n,2),u=new Array(o),f=r(rr(c,t,l,r8(0,1),s));u[0]=r(rr(f,r8(1,1),s));for(let p=1;p<=o;p++){let h=[ucn(f,u[p-1]),r8(p+1,1),s];u[p]=r(rr(...h))}return rr(...u).slice(0,n)}function dcn(t,e,n,r,i){if(Li(t),wB(n),e=Qat(e),e.length>255){let a=Math.ceil(2*r/8);e=i.create({dkLen:a}).update(Jf("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(r8(n,2)).update(e).update(r8(e.length,1)).digest()}function rbe(t,e,n){_4(n,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:r,k:i,m:a,hash:o,expand:s,DST:c}=n;if(!_at(n.hash))throw new Error("expected valid hash");Li(t),wB(e);let l=r.toString(2).length,u=Math.ceil((l+i)/8),f=e*a*u,d;if(s==="xmd")d=fcn(t,c,f,o);else if(s==="xof")d=dcn(t,c,f,i,o);else if(s==="_internal_pass")d=t;else throw new Error('expand must be "xmd" or "xof"');let p=new Array(e);for(let h=0;h<e;h++){let m=new Array(a);for(let w=0;w<a;w++){let g=u*(w+h*a),x=d.subarray(g,g+u);m[w]=dl(lcn(x),r)}p[h]=m}return p}function Zat(t,e){let n=e.map(r=>Array.from(r).reverse());return(r,i)=>{let[a,o,s,c]=n.map(f=>f.reduce((d,p)=>t.add(t.mul(d,r),p))),[l,u]=S4(t,[o,c],!0);return r=t.mul(a,l),i=t.mul(i,t.mul(s,u)),{x:r,y:i}}}function Xat(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function r(a){return t.fromAffine(e(a))}function i(a){let o=a.clearCofactor();return o.equals(t.ZERO)?t.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(a,o){let s=Object.assign({},n,o),c=rbe(a,2,s),l=r(c[0]),u=r(c[1]);return i(l.add(u))},encodeToCurve(a,o){let s=n.encodeDST?{DST:n.encodeDST}:{},c=Object.assign({},n,s,o),l=rbe(a,1,c),u=r(l[0]);return i(u)},mapToCurve(a){if(!Array.isArray(a))throw new Error("expected array of bigints");for(let o of a)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(r(a))},hashToScalar(a,o){let s=t.Fn.ORDER,c=Object.assign({},n,{p:s,m:1,DST:pcn},o);return rbe(a,1,c)[0][0]}}}var lcn,pcn,eot=B(()=>{p7();bB();lcn=Rp;pcn=Jf("HashToScalar-")});var sot={};$t(sot,{encodeToCurve:()=>xcn,hashToCurve:()=>Ecn,schnorr:()=>gcn,secp256k1:()=>b7,secp256k1_hasher:()=>cbe});function ycn(t){let e=y7.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=Cf(u,n,e)*u%e,d=Cf(f,n,e)*u%e,p=Cf(d,ibe,e)*l%e,h=Cf(p,i,e)*p%e,m=Cf(h,a,e)*h%e,w=Cf(m,s,e)*m%e,g=Cf(w,c,e)*w%e,x=Cf(g,s,e)*m%e,C=Cf(x,n,e)*u%e,P=Cf(C,o,e)*h%e,D=Cf(P,r,e)*l%e,F=Cf(D,ibe,e);if(!sy.eql(sy.sqr(F),t))throw new Error("Cannot find square root");return F}function fJ(t,...e){let n=not[t];if(n===void 0){let r=Tl(Jf(t));n=rr(r,r),not[t]=n}return Tl(rr(n,...e))}function abe(t){let{Fn:e,BASE:n}=g7,r=n8(e,t),i=n.multiply(r);return{scalar:sbe(i.y)?r:e.neg(r),bytes:obe(i)}}function iot(t){let e=sy;if(!e.isValidNot0(t))throw new Error("invalid x: Fail if x \u2265 p");let n=e.create(t*t),r=e.create(n*t+BigInt(7)),i=e.sqrt(r);sbe(i)||(i=e.neg(i));let a=g7.fromAffine({x:t,y:i});return a.assertValidity(),a}function aot(...t){return g7.Fn.create(vB(fJ("BIP0340/challenge",...t)))}function rot(t){return abe(t).bytes}function bcn(t,e,n=Cs(32)){let{Fn:r}=g7,i=mo("message",t),{bytes:a,scalar:o}=abe(e),s=mo("auxRand",n,32),c=r.toBytes(o^vB(fJ("BIP0340/aux",s))),l=fJ("BIP0340/nonce",c,a,i),{bytes:u,scalar:f}=abe(l),d=aot(u,a,i),p=new Uint8Array(64);if(p.set(u,0),p.set(r.toBytes(r.create(f+d*o)),32),!oot(p,i,a))throw new Error("sign: Invalid signature produced");return p}function oot(t,e,n){let{Fn:r,BASE:i}=g7,a=mo("signature",t,64),o=mo("message",e),s=mo("publicKey",n,32);try{let c=iot(vB(s)),l=vB(a.subarray(0,32));if(!yB(l,tot,y7.p))return!1;let u=vB(a.subarray(32,64));if(!yB(u,tot,y7.n))return!1;let f=aot(r.toBytes(l),obe(c),o),d=i.multiplyUnsafe(u).add(c.multiplyUnsafe(r.neg(f))),{x:p,y:h}=d.toAffine();return!(d.is0()||!sbe(h)||p!==l)}catch{return!1}}var y7,hcn,mcn,tot,ibe,sy,b7,not,obe,g7,sbe,vB,gcn,wcn,vcn,cbe,Ecn,xcn,lbe=B(()=>{$9();Is();Jat();eot();bB();nbe();p7();y7={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},hcn={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},mcn=BigInt(0),tot=BigInt(1),ibe=BigInt(2);sy=t8(y7.p,{sqrt:ycn}),b7=Yat({...y7,Fp:sy,lowS:!0,endo:hcn},Tl),not={};obe=t=>t.toBytes(!0).slice(1),g7=b7.Point,sbe=t=>t%ibe===mcn;vB=Rp;gcn=(()=>{let n=(i=Cs(48))=>cJ(i,y7.n);b7.utils.randomSecretKey;function r(i){let a=n(i);return{secretKey:a,publicKey:rot(a)}}return{keygen:r,getPublicKey:rot,sign:bcn,verify:oot,Point:g7,utils:{randomSecretKey:n,randomPrivateKey:n,taggedHash:fJ,lift_x:iot,pointToBytes:obe,numberToBytesBE:d7,bytesToNumberBE:Rp,mod:dl},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:64,seed:48}}})(),wcn=Zat(sy,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),vcn=$at(sy,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:sy.create(BigInt("-11"))}),cbe=Xat(b7.Point,t=>{let{x:e,y:n}=vcn(sy.create(t[0]));return wcn(e,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:sy.ORDER,m:1,k:128,expand:"xmd",hash:Tl}),Ecn=cbe.hashToCurve,xcn=cbe.encodeToCurve});async function lot({hash:t,signature:e}){let n=Lo(t)?t:An(t),{secp256k1:r}=await Promise.resolve().then(()=>(lbe(),sot));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:l,s:u,v:f,yParity:d}=e,p=Number(d??f),h=cot(p);return new r.Signature(Gr(l),Gr(u)).addRecoveryBit(h)}let o=Lo(e)?e:An(e);if(pr(o)!==65)throw new Error("invalid signature length");let s=ho(`0x${o.slice(130)}`),c=cot(s);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function cot(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}var uot=B(()=>{_p();Vd();ms();dn()});async function dJ({hash:t,signature:e}){return wat(await lot({hash:t,signature:e}))}var ube=B(()=>{vat();uot()});function pJ(t,e="hex"){let n=fot(t),r=LT(new Uint8Array(n.length));return n.encode(r),e==="hex"?Vr(r.bytes):r.bytes}function fot(t){return Array.isArray(t)?Acn(t.map(e=>fot(e))):_cn(t)}function Acn(t){let e=t.reduce((i,a)=>i+a.length,0),n=dot(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(let{encode:a}of t)a(i)}}}function _cn(t){let e=typeof t=="string"?Qo(t):t,n=dot(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function dot(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new de("Length is too large.")}var fbe=B(()=>{Dn();VY();Zo();dn()});function pot(t){let{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,a=Ft(ii(["0x05",pJ([e?Le(e):"0x",i,n?Le(n):"0x"])]));return r==="bytes"?Qo(a):a}var hot=B(()=>{ys();Zo();dn();fbe();pu()});async function hJ(t){let{authorization:e,signature:n}=t;return dJ({hash:pot(e),signature:n??e})}var dbe=B(()=>{ube();hot()});var mJ,mot=B(()=>{YY();b4();Dn();b6();mJ=class extends de{constructor(e,{account:n,docsPath:r,chain:i,data:a,gas:o,gasPrice:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:f,value:d}){let p=ny({from:n?.address,to:f,value:typeof d<"u"&&`${zT(d)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:typeof s<"u"&&`${Ka(s)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ka(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ka(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}});var cy,i8,w7,v7,E7,x7,A7,_7,T7,S7,a8,Jd,I4=B(()=>{b4();Dn();cy=class extends de{constructor({cause:e,message:n}={}){let r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}};Object.defineProperty(cy,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(cy,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});i8=class extends de{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ka(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}};Object.defineProperty(i8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});w7=class extends de{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ka(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}};Object.defineProperty(w7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});v7=class extends de{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}};Object.defineProperty(v7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});E7=class extends de{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}};Object.defineProperty(E7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});x7=class extends de{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}};Object.defineProperty(x7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});A7=class extends de{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(A7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});_7=class extends de{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(_7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});T7=class extends de{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(T7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});S7=class extends de{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(S7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});a8=class extends de{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ka(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ka(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}};Object.defineProperty(a8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});Jd=class extends de{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}});function o8(t,e){let n=(t.details||"").toLowerCase(),r=t instanceof de?t.walk(i=>i?.code===cy.code):t;return r instanceof de?new cy({cause:t,message:r.details}):cy.nodeMessage.test(n)?new cy({cause:t,message:t.details}):i8.nodeMessage.test(n)?new i8({cause:t,maxFeePerGas:e?.maxFeePerGas}):w7.nodeMessage.test(n)?new w7({cause:t,maxFeePerGas:e?.maxFeePerGas}):v7.nodeMessage.test(n)?new v7({cause:t,nonce:e?.nonce}):E7.nodeMessage.test(n)?new E7({cause:t,nonce:e?.nonce}):x7.nodeMessage.test(n)?new x7({cause:t,nonce:e?.nonce}):A7.nodeMessage.test(n)?new A7({cause:t}):_7.nodeMessage.test(n)?new _7({cause:t,gas:e?.gas}):T7.nodeMessage.test(n)?new T7({cause:t,gas:e?.gas}):S7.nodeMessage.test(n)?new S7({cause:t}):a8.nodeMessage.test(n)?new a8({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Jd({cause:t})}var EB=B(()=>{Dn();I4()});function yot(t,{docsPath:e,...n}){let r=(()=>{let i=o8(t,n);return i instanceof Jd?t:i})();return new mJ(r,{docsPath:e,...n})}var bot=B(()=>{mot();I4();EB()});function s8(t,{format:e}){if(!e)return{};let n={};function r(a){let o=Object.keys(a);for(let s of o)s in t&&(n[s]=t[s]),a[s]&&typeof a[s]=="object"&&!Array.isArray(a[s])&&r(a[s])}let i=e(t||{});return r(i),n}var xB=B(()=>{});function Qd(t){let e={};return typeof t.authorizationList<"u"&&(e.authorizationList=Scn(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Vr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Le(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Le(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Le(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Le(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Le(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Le(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=Tcn[t.type]),typeof t.value<"u"&&(e.value=Le(t.value)),e}function Scn(t){return t.map(e=>({address:e.address,r:e.r?Le(BigInt(e.r)):e.r,s:e.s?Le(BigInt(e.s)):e.s,chainId:Le(e.chainId),nonce:Le(e.nonce),...typeof e.yParity<"u"?{yParity:Le(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Le(e.v)}:{}}))}var Tcn,R4=B(()=>{dn();Tcn={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"}});function got(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new sB({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new sB({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Ccn(t){let{balance:e,nonce:n,state:r,stateDiff:i,code:a}=t,o={};if(a!==void 0&&(o.code=a),e!==void 0&&(o.balance=Le(e)),n!==void 0&&(o.nonce=Le(n)),r!==void 0&&(o.state=got(r)),i!==void 0){if(o.state)throw new QY;o.stateDiff=got(i)}return o}function c8(t){if(!t)return;let e={};for(let{address:n,...r}of t){if(!pa(n,{strict:!1}))throw new Uo({address:n});if(e[n])throw new JY({address:n});e[n]=Ccn(r)}return e}var AB=B(()=>{ey();OY();Hye();Ip();dn()});var Icn,Rcn,Ocn,Ncn,Pcn,kcn,Mcn,Bcn,Dcn,Lcn,Ucn,Fcn,Hcn,zcn,jcn,Gcn,Vcn,Kcn,$cn,qcn,Wcn,Ycn,Jcn,Qcn,Zcn,Xcn,eln,tln,nln,rln,iln,aln,oln,sln,cln,lln,uln,fln,dln,pln,hln,mln,yln,bln,gln,wln,vln,Eln,xln,Aln,_ln,Tln,Sln,Cln,Iln,Rln,Oln,Nln,Pln,kln,Mln,Bln,Dln,Lln,Uln,pbe,Fln,Hln,zln,jln,Gln,Vln,Kln,$ln,qln,Wln,Yln,Jln,Qln,Zln,Xln,eun,tun,nun,run,iun,aun,oun,sun,cun,lun,uun,fun,dun,pun,hbe,mbe=B(()=>{Icn=2n**(8n-1n)-1n,Rcn=2n**(16n-1n)-1n,Ocn=2n**(24n-1n)-1n,Ncn=2n**(32n-1n)-1n,Pcn=2n**(40n-1n)-1n,kcn=2n**(48n-1n)-1n,Mcn=2n**(56n-1n)-1n,Bcn=2n**(64n-1n)-1n,Dcn=2n**(72n-1n)-1n,Lcn=2n**(80n-1n)-1n,Ucn=2n**(88n-1n)-1n,Fcn=2n**(96n-1n)-1n,Hcn=2n**(104n-1n)-1n,zcn=2n**(112n-1n)-1n,jcn=2n**(120n-1n)-1n,Gcn=2n**(128n-1n)-1n,Vcn=2n**(136n-1n)-1n,Kcn=2n**(144n-1n)-1n,$cn=2n**(152n-1n)-1n,qcn=2n**(160n-1n)-1n,Wcn=2n**(168n-1n)-1n,Ycn=2n**(176n-1n)-1n,Jcn=2n**(184n-1n)-1n,Qcn=2n**(192n-1n)-1n,Zcn=2n**(200n-1n)-1n,Xcn=2n**(208n-1n)-1n,eln=2n**(216n-1n)-1n,tln=2n**(224n-1n)-1n,nln=2n**(232n-1n)-1n,rln=2n**(240n-1n)-1n,iln=2n**(248n-1n)-1n,aln=2n**(256n-1n)-1n,oln=-(2n**(8n-1n)),sln=-(2n**(16n-1n)),cln=-(2n**(24n-1n)),lln=-(2n**(32n-1n)),uln=-(2n**(40n-1n)),fln=-(2n**(48n-1n)),dln=-(2n**(56n-1n)),pln=-(2n**(64n-1n)),hln=-(2n**(72n-1n)),mln=-(2n**(80n-1n)),yln=-(2n**(88n-1n)),bln=-(2n**(96n-1n)),gln=-(2n**(104n-1n)),wln=-(2n**(112n-1n)),vln=-(2n**(120n-1n)),Eln=-(2n**(128n-1n)),xln=-(2n**(136n-1n)),Aln=-(2n**(144n-1n)),_ln=-(2n**(152n-1n)),Tln=-(2n**(160n-1n)),Sln=-(2n**(168n-1n)),Cln=-(2n**(176n-1n)),Iln=-(2n**(184n-1n)),Rln=-(2n**(192n-1n)),Oln=-(2n**(200n-1n)),Nln=-(2n**(208n-1n)),Pln=-(2n**(216n-1n)),kln=-(2n**(224n-1n)),Mln=-(2n**(232n-1n)),Bln=-(2n**(240n-1n)),Dln=-(2n**(248n-1n)),Lln=-(2n**(256n-1n)),Uln=2n**8n-1n,pbe=2n**16n-1n,Fln=2n**24n-1n,Hln=2n**32n-1n,zln=2n**40n-1n,jln=2n**48n-1n,Gln=2n**56n-1n,Vln=2n**64n-1n,Kln=2n**72n-1n,$ln=2n**80n-1n,qln=2n**88n-1n,Wln=2n**96n-1n,Yln=2n**104n-1n,Jln=2n**112n-1n,Qln=2n**120n-1n,Zln=2n**128n-1n,Xln=2n**136n-1n,eun=2n**144n-1n,tun=2n**152n-1n,nun=2n**160n-1n,run=2n**168n-1n,iun=2n**176n-1n,aun=2n**184n-1n,oun=2n**192n-1n,sun=2n**200n-1n,cun=2n**208n-1n,lun=2n**216n-1n,uun=2n**224n-1n,fun=2n**232n-1n,dun=2n**240n-1n,pun=2n**248n-1n,hbe=2n**256n-1n});function mu(t){let{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:a}=t,o=e?Rn(e):void 0;if(o&&!pa(o.address))throw new Uo({address:o.address});if(a&&!pa(a))throw new Uo({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new ZY;if(r&&r>hbe)throw new i8({maxFeePerGas:r});if(i&&r&&i>r)throw new a8({maxFeePerGas:r,maxPriorityFeePerGas:i})}var l8=B(()=>{Ca();mbe();ey();I4();b6();Ip()});var yJ,u8,bJ,gJ=B(()=>{b4();Dn();yJ=class extends de{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},u8=class extends de{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},bJ=class extends de{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ka(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}});var C7,ybe=B(()=>{Dn();C7=class extends de{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}});function wJ(t){let e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ho(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ho(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?bbe[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=hun(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function hun(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}var bbe,vJ=B(()=>{ms();bbe={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"}});function EJ(t){let e=(t.transactions??[]).map(n=>typeof n=="string"?n:wJ(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}var gbe=B(()=>{vJ()});async function kc(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){let a=i??!1,o=n!==void 0?Le(n):void 0,s=null;if(e?s=await t.request({method:"eth_getBlockByHash",params:[e,a]},{dedupe:!0}):s=await t.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:!!o}),!s)throw new C7({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||EJ)(s)}var O4=B(()=>{ybe();dn();gbe()});async function I7(t){let e=await t.request({method:"eth_gasPrice"});return BigInt(e)}var xJ=B(()=>{});async function wot(t,e){return wbe(t,e)}async function wbe(t,e){let{block:n,chain:r=t.chain,request:i}=e||{};try{let a=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof a=="function"){let s=n||await He(t,kc,"getBlock")({}),c=await a({block:s,client:t,request:i});if(c===null)throw new Error;return c}if(typeof a<"u")return a;let o=await t.request({method:"eth_maxPriorityFeePerGas"});return Gr(o)}catch{let[a,o]=await Promise.all([n?Promise.resolve(n):He(t,kc,"getBlock")({}),He(t,I7,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new u8;let s=o-a.baseFeePerGas;return s<0n?0n:s}}var vbe=B(()=>{gJ();ms();jr();O4();xJ()});async function AJ(t,e){return _J(t,e)}async function _J(t,e){let{block:n,chain:r=t.chain,request:i,type:a="eip1559"}=e||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new yJ;let c=10**(o.toString().split(".")[1]?.length??0),l=d=>d*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await He(t,kc,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){let d=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:a});if(d!==null)return d}if(a==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new u8;let d=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await wbe(t,{block:u,chain:r,request:i}),p=l(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??p+d,maxPriorityFeePerGas:d}}return{gasPrice:i?.gasPrice??l(await He(t,I7,"getGasPrice")({}))}}var TJ=B(()=>{gJ();jr();vbe();O4();xJ()});async function f8(t,{address:e,blockTag:n="latest",blockNumber:r}){let i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Le(r):n]},{dedupe:!!r});return ho(i)}var _B=B(()=>{ms();dn()});function SJ(t){let{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>Qo(a)):t.blobs,i=[];for(let a of r)i.push(Uint8Array.from(e.blobToKzgCommitment(a)));return n==="bytes"?i:i.map(a=>Vr(a))}var Ebe=B(()=>{Zo();dn()});function CJ(t){let{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Qo(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Qo(o)):t.commitments,a=[];for(let o=0;o<r.length;o++){let s=r[o],c=i[o];a.push(Uint8Array.from(e.computeBlobKzgProof(s,c)))}return n==="bytes"?a:a.map(o=>Vr(o))}var xbe=B(()=>{Zo();dn()});function vot(t,e){let n=e||"hex",r=VN(Lo(t,{strict:!1})?vi(t):t);return n==="bytes"?r:An(r)}var Eot=B(()=>{xfe();_p();Zo();dn()});function xot(t){let{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=vot(e,"bytes");return i.set([n],0),r==="bytes"?i:Vr(i)}var Aot=B(()=>{dn();Eot()});function _ot(t){let{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(let a of e)i.push(xot({commitment:a,to:r,version:n}));return i}var Tot=B(()=>{Aot()});var IJ,RJ,Sot=B(()=>{Dn();IJ=class extends de{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}},RJ=class extends de{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}});function Cot(t){let e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Qo(t.data):t.data,r=pr(n);if(!r)throw new RJ;if(r>761855)throw new IJ({maxSize:761855,size:r});let i=[],a=!0,o=0;for(;a;){let s=LT(new Uint8Array(131072)),c=0;for(;c<4096;){let l=n.slice(o,o+31);if(s.pushByte(0),s.pushBytes(l),l.length<31){s.pushByte(128),a=!1;break}c++,o+=31}i.push(s)}return e==="bytes"?i.map(s=>s.bytes):i.map(s=>Vr(s.bytes))}var Iot=B(()=>{Sot();VY();Vd();Zo();dn()});function Rot(t){let{data:e,kzg:n,to:r}=t,i=t.blobs??Cot({data:e,to:r}),a=t.commitments??SJ({blobs:i,kzg:n,to:r}),o=t.proofs??CJ({blobs:i,commitments:a,kzg:n,to:r}),s=[];for(let c=0;c<i.length;c++)s.push({blob:i[c],commitment:a[c],proof:o[c]});return s}var Oot=B(()=>{Ebe();xbe();Iot()});function Not(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new XY({transaction:t})}var Pot=B(()=>{b6()});async function ha(t){let e=await t.request({method:"eth_chainId"},{dedupe:!0});return ho(e)}var E6=B(()=>{ms()});async function d8(t,e){let{account:n=t.account,blobs:r,chain:i,gas:a,kzg:o,nonce:s,nonceManager:c,parameters:l=Abe,type:u}=e,f=n&&Rn(n),d={...e,...f?{from:f?.address}:{}},p;async function h(){return p||(p=await He(t,kc,"getBlock")({blockTag:"latest"}),p)}let m;async function w(){return m||(i?i.id:typeof e.chainId<"u"?e.chainId:(m=await He(t,ha,"getChainId")({}),m))}if(l.includes("nonce")&&typeof s>"u"&&f)if(c){let g=await w();d.nonce=await c.consume({address:f.address,chainId:g,client:t})}else d.nonce=await He(t,f8,"getTransactionCount")({address:f.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){let g=SJ({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){let x=_ot({commitments:g,to:"hex"});d.blobVersionedHashes=x}if(l.includes("sidecars")){let x=CJ({blobs:r,commitments:g,kzg:o}),C=Rot({blobs:r,commitments:g,proofs:x,to:"hex"});d.sidecars=C}}if(l.includes("chainId")&&(d.chainId=await w()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{d.type=Not(d)}catch{let g=kot.get(t.uid);typeof g>"u"&&(g=typeof(await h())?.baseFeePerGas=="bigint",kot.set(t.uid,g)),d.type=g?"eip1559":"legacy"}if(l.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){let g=await h(),{maxFeePerGas:x,maxPriorityFeePerGas:C}=await _J(t,{block:g,chain:i,request:d});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<C)throw new bJ({maxPriorityFeePerGas:C});d.maxPriorityFeePerGas=C,d.maxFeePerGas=x}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new u8;if(typeof e.gasPrice>"u"){let g=await h(),{gasPrice:x}=await _J(t,{block:g,chain:i,request:d,type:"legacy"});d.gasPrice=x}}return l.includes("gas")&&typeof a>"u"&&(d.gas=await He(t,R7,"estimateGas")({...d,account:f&&{address:f.address,type:"json-rpc"}})),mu(d),delete d.parameters,d}var Abe,kot,TB=B(()=>{Ca();TJ();OJ();O4();_B();gJ();Ebe();xbe();Tot();Oot();jr();l8();Pot();E6();Abe=["blobVersionedHashes","chainId","fees","gas","nonce","type"],kot=new Map});async function NJ(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){let i=typeof n=="bigint"?Le(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(a)}var _be=B(()=>{dn()});async function R7(t,e){let{account:n=t.account}=e,r=n?Rn(n):void 0;try{let v=function(S){let{block:y,request:b,rpcStateOverride:_}=S;return t.request({method:"eth_estimateGas",params:_?[b,y??t.experimental_blockTag??"latest",_]:y?[b,y]:[b]})},{accessList:i,authorizationList:a,blobs:o,blobVersionedHashes:s,blockNumber:c,blockTag:l,data:u,gas:f,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:w,value:g,stateOverride:x,...C}=await d8(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),D=(typeof c=="bigint"?Le(c):void 0)||l,F=c8(x),H=await(async()=>{if(C.to)return C.to;if(a&&a.length>0)return await hJ({authorization:a[0]}).catch(()=>{throw new de("`to` is required. Could not infer from `authorizationList`")})})();mu(e);let O=t.chain?.formatters?.transactionRequest?.format,N=(O||Qd)({...s8(C,{format:O}),from:r?.address,accessList:i,authorizationList:a,blobs:o,blobVersionedHashes:s,data:u,gas:f,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:w,to:H,value:g}),I=BigInt(await v({block:D,request:N,rpcStateOverride:F}));if(a){let S=await NJ(t,{address:N.from}),y=await Promise.all(a.map(async b=>{let{address:_}=b,A=await v({block:D,request:{authorizationList:void 0,data:u,from:r?.address,to:_,value:Le(S)},rpcStateOverride:F}).catch(()=>100000n);return 2n*BigInt(A)}));I+=y.reduce((b,_)=>b+_,0n)}return I}catch(i){throw yot(i,{...e,account:r,chain:t.chain})}}var OJ=B(()=>{Ca();Dn();dbe();dn();bot();xB();R4();AB();l8();TB();_be()});async function Mot(t,e){let{abi:n,address:r,args:i,functionName:a,dataSuffix:o,...s}=e,c=Oe({abi:n,args:i,functionName:a});try{return await He(t,R7,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...s})}catch(l){let u=s.account?Rn(s.account):void 0;throw Sf(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:u?.address})}}var Bot=B(()=>{Ca();ul();A4();jr();OJ()});function x6(t,e){if(!pa(t,{strict:!1}))throw new Uo({address:t});if(!pa(e,{strict:!1}))throw new Uo({address:e});return t.toLowerCase()===e.toLowerCase()}var O7=B(()=>{ey();Ip()});function N7(t){let{abi:e,data:n,strict:r,topics:i}=t,a=r??!0,[o,...s]=i;if(!o)throw new AY({docsPath:Dot});let c=e.find(m=>m.type==="event"&&o===$g(hs(m)));if(!(c&&"name"in c)||c.type!=="event")throw new ST(o,{docsPath:Dot});let{name:l,inputs:u}=c,f=u?.some(m=>!("name"in m&&m.name)),d=f?[]:{},p=u.map((m,w)=>[m,w]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<p.length;m++){let[w,g]=p[m],x=s[m];if(!x)throw new f6({abiItem:c,param:w});d[f?g:w.name||g]=yun({param:w,value:x})}let h=u.filter(m=>!("indexed"in m&&m.indexed));if(h.length>0){if(n&&n!=="0x")try{let m=N0(h,n);if(m)if(f)for(let w=0;w<u.length;w++)d[w]=d[w]??m.shift();else for(let w=0;w<h.length;w++)d[h[w].name]=m[w]}catch(m){if(a)throw m instanceof AT||m instanceof DT?new Sp({abiItem:c,data:n,params:h,size:pr(n)}):m}else if(a)throw new Sp({abiItem:c,data:"0x",params:h,size:0})}return{eventName:l,args:Object.values(d).length>0?d:void 0}}function yun({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(N0([t],e)||[])[0]}var Dot,PJ=B(()=>{Va();Vd();lB();Dye();FT();Qm();Dot="/docs/contract/decodeEventLog"});function P7(t){let{abi:e,args:n,logs:r,strict:i=!0}=t,a=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{try{let s=e.find(l=>l.type==="event"&&o.topics[0]===$g(l));if(!s)return null;let c=N7({...o,abi:[s],strict:i});return a&&!a.includes(c.eventName)||!bun({args:c.args,inputs:s.inputs,matchArgs:n})?null:{...c,...o}}catch(s){let c,l;if(s instanceof ST)return null;if(s instanceof Sp||s instanceof f6){if(i)return null;c=s.abiItem.name,l=s.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...o,args:l?[]:{},eventName:c}}}).filter(Boolean)}function bun(t){let{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(a,o,s){try{return a.type==="address"?x6(o,s):a.type==="string"||a.type==="bytes"?Ft(vi(o))===s:o===s}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((a,o)=>{if(a==null)return!0;let s=n[o];return s?(Array.isArray(a)?a:[a]).some(l=>i(s,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,o])=>{if(o==null)return!0;let s=n.find(l=>l.name===a);return s?(Array.isArray(o)?o:[o]).some(l=>i(s,l,e[a])):!1}):!1}var kJ=B(()=>{Va();O7();Zo();pu();lB();PJ()});function Qs(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}var ly=B(()=>{});async function k7(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:a,events:o,args:s,strict:c}={}){let l=c??!1,u=o??(a?[a]:void 0),f=[];u&&(f=[u.flatMap(m=>m6({abi:[m],eventName:m.name,args:o?void 0:s}))],a&&(f=f[0]));let d;n?d=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:n}]}):d=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof r=="bigint"?Le(r):r,toBlock:typeof i=="bigint"?Le(i):i}]});let p=d.map(h=>Qs(h));return u?P7({abi:u,args:s,logs:p,strict:l}):p}var MJ=B(()=>{BT();kJ();dn();ly()});async function BJ(t,e){let{abi:n,address:r,args:i,blockHash:a,eventName:o,fromBlock:s,toBlock:c,strict:l}=e,u=o?hu({abi:n,name:o}):void 0,f=u?void 0:n.filter(d=>d.type==="event");return He(t,k7,"getLogs")({address:r,args:i,blockHash:a,event:u,events:f,fromBlock:s,toBlock:c,strict:l})}var Tbe=B(()=>{qg();jr();MJ()});function hl(t){let{abi:e,args:n,functionName:r,data:i}=t,a=e[0];if(r){let s=hu({abi:e,args:n,name:r});if(!s)throw new Tp(r,{docsPath:Sbe});a=s}if(a.type!=="function")throw new Tp(void 0,{docsPath:Sbe});if(!a.outputs)throw new CT(a.name,{docsPath:Sbe});let o=N0(a.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}var Sbe,p8=B(()=>{Va();FT();qg();Sbe="/docs/contract/decodeFunctionResult"});var Lot,Uot=B(()=>{av();Lot=mV});var Fot,Hot=B(()=>{Fot="0.1.1"});function zot(){return Fot}var jot=B(()=>{Hot()});function Got(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Got(t.cause,e):e?null:t}var On,Np=B(()=>{jot();On=class t extends Error{constructor(e,n={}){let r=(()=>{if(n.cause instanceof t){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof t&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,s=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${zot()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return Got(this,e)}}});function h8(t,e,n){return JSON.stringify(t,(r,i)=>typeof e=="function"?e(r,i):typeof i=="bigint"?i.toString()+gun:i,n)}var gun,M7=B(()=>{gun="#__bigint"});function CB(t,e){if(Cbe(t)>e)throw new DJ({givenSize:Cbe(t),maxSize:e})}function Ibe(t){if(t>=uy.zero&&t<=uy.nine)return t-uy.zero;if(t>=uy.A&&t<=uy.F)return t-(uy.A-10);if(t>=uy.a&&t<=uy.f)return t-(uy.a-10)}function Vot(t,e={}){let{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new LJ({size:t.length,targetSize:r,type:"Bytes"});let i=new Uint8Array(r);for(let a=0;a<r;a++){let o=n==="right";i[o?a:r-a-1]=t[o?a:t.length-a-1]}return i}function Kot(t,e={}){let{dir:n="left"}=e,r=t,i=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}var uy,Rbe=B(()=>{fy();uy={zero:48,nine:57,A:65,F:70,a:97,f:102}});function N4(t,e){if($a(t)>e)throw new IB({givenSize:$a(t),maxSize:e})}function qot(t,e){if(typeof e=="number"&&e>0&&e>$a(t)-1)throw new B7({offset:e,position:"start",size:$a(t)})}function Wot(t,e,n){if(typeof e=="number"&&typeof n=="number"&&$a(t)!==n-e)throw new B7({offset:n,position:"end",size:$a(t)})}function Obe(t,e={}){let{dir:n,size:r=32}=e;if(r===0)return t;let i=t.replace("0x","");if(i.length>r*2)throw new RB({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Nbe(t,e={}){let{dir:n="left"}=e,r=t.replace("0x",""),i=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}var Pbe=B(()=>{ml()});function Eun(t){if(!(t instanceof Uint8Array)){if(!t)throw new D7(t);if(typeof t!="object")throw new D7(t);if(!("BYTES_PER_ELEMENT"in t))throw new D7(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new D7(t)}}function Jot(t){return t instanceof Uint8Array?t:typeof t=="string"?Zd(t):xun(t)}function xun(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Zd(t,e={}){let{size:n}=e,r=t;n&&(N4(t,n),r=Pp(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);let a=i.length/2,o=new Uint8Array(a);for(let s=0,c=0;s<a;s++){let l=Ibe(i.charCodeAt(c++)),u=Ibe(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new On(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[s]=l*16+u}return o}function UJ(t,e={}){let{size:n}=e,r=vun.encode(t);return typeof n=="number"?(CB(r,n),Aun(r,n)):r}function Aun(t,e){return Vot(t,{dir:"right",size:e})}function Qot(t){return crypto.getRandomValues(new Uint8Array(t))}function Cbe(t){return t.length}function Zot(t,e={}){let{size:n}=e,r=t;return typeof n<"u"&&(CB(r,n),r=kbe(r)),wun.decode(r)}function kbe(t){return Kot(t,{dir:"right"})}function Xot(t){try{return Eun(t),!0}catch{return!1}}var wun,vun,D7,DJ,LJ,fy=B(()=>{Np();ml();M7();Rbe();Pbe();wun=new TextDecoder,vun=new TextEncoder;D7=class extends On{constructor(e){super(`Value \`${typeof e=="object"?h8(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},DJ=class extends On{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},LJ=class extends On{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}});var k0={};$t(k0,{IntegerOutOfRangeError:()=>L7,InvalidHexBooleanError:()=>FJ,InvalidHexTypeError:()=>OB,InvalidHexValueError:()=>NB,InvalidLengthError:()=>Bbe,SizeExceedsPaddingSizeError:()=>RB,SizeOverflowError:()=>IB,SliceOffsetOutOfBoundsError:()=>B7,assert:()=>tst,concat:()=>bs,from:()=>U7,fromBoolean:()=>PB,fromBytes:()=>M0,fromNumber:()=>Kr,fromString:()=>P4,isEqual:()=>Sun,padLeft:()=>_6,padRight:()=>Pp,random:()=>Cun,size:()=>$a,slice:()=>Zs,toBigInt:()=>Mbe,toBoolean:()=>Run,toBytes:()=>Oun,toNumber:()=>est,toString:()=>Nun,trimLeft:()=>kB,trimRight:()=>Iun,validate:()=>F7});function tst(t,e={}){let{strict:n=!1}=e;if(!t)throw new OB(t);if(typeof t!="string")throw new OB(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new NB(t);if(!t.startsWith("0x"))throw new NB(t)}function bs(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function U7(t){return t instanceof Uint8Array?M0(t):Array.isArray(t)?M0(new Uint8Array(t)):t}function PB(t,e={}){let n=`0x${Number(t)}`;return typeof e.size=="number"?(N4(n,e.size),_6(n,e.size)):n}function M0(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Tun[t[i]];let r=`0x${n}`;return typeof e.size=="number"?(N4(r,e.size),Pp(r,e.size)):r}function Kr(t,e={}){let{signed:n,size:r}=e,i=BigInt(t),a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));let o=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<o){let l=typeof t=="bigint"?"n":"";throw new L7({max:a?`${a}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}let c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?_6(c,r):c}function P4(t,e={}){return M0(_un.encode(t),e)}function Sun(t,e){return Lot(Zd(t),Zd(e))}function _6(t,e){return Obe(t,{dir:"left",size:e})}function Pp(t,e){return Obe(t,{dir:"right",size:e})}function Cun(t){return M0(Qot(t))}function Zs(t,e,n,r={}){let{strict:i}=r;qot(t,e);let a=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Wot(a,e,n),a}function $a(t){return Math.ceil((t.length-2)/2)}function kB(t){return Nbe(t,{dir:"left"})}function Iun(t){return Nbe(t,{dir:"right"})}function Mbe(t,e={}){let{signed:n}=e;e.size&&N4(t,e.size);let r=BigInt(t);if(!n)return r;let i=(t.length-2)/2,a=(1n<<BigInt(i)*8n)-1n,o=a>>1n;return r<=o?r:r-a-1n}function Run(t,e={}){e.size&&N4(t,e.size);let n=kB(t);if(n==="0x")return!1;if(n==="0x1")return!0;throw new FJ(t)}function Oun(t,e={}){return Zd(t,e)}function est(t,e={}){let{signed:n,size:r}=e;return Number(!n&&!r?t:Mbe(t,e))}function Nun(t,e={}){let{size:n}=e,r=Zd(t);return n&&(CB(r,n),r=kbe(r)),new TextDecoder().decode(r)}function F7(t,e={}){let{strict:n=!1}=e;try{return tst(t,{strict:n}),!0}catch{return!1}}var _un,Tun,L7,FJ,OB,NB,Bbe,IB,B7,RB,ml=B(()=>{Uot();fy();Np();M7();Rbe();Pbe();_un=new TextEncoder,Tun=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));L7=class extends On{constructor({max:e,min:n,signed:r,size:i,value:a}){super(`Number \`${a}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},FJ=class extends On{constructor(e){super(`Hex value \`"${e}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}},OB=class extends On{constructor(e){super(`Value \`${typeof e=="object"?h8(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},NB=class extends On{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},Bbe=class extends On{constructor(e){super(`Hex value \`"${e}"\` is an odd length (${e.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}},IB=class extends On{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},B7=class extends On{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},RB=class extends On{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}});function nst(t){return{address:t.address,amount:Kr(t.amount),index:Kr(t.index),validatorIndex:Kr(t.validatorIndex)}}var Dbe=B(()=>{ml()});function HJ(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Kr(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Kr(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Kr(t.gasLimit)},...typeof t.number=="bigint"&&{number:Kr(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Kr(t.prevRandao)},...typeof t.time=="bigint"&&{time:Kr(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(nst)}}}var zJ=B(()=>{ml();Dbe()});var MB,jJ,ist,GJ,ast,Ube,Fbe,Hbe,y8=B(()=>{MB=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],jJ=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],ist=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],GJ=[...ist,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],ast=[...ist,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Ube=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Fbe=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Hbe=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]});var ost,sst=B(()=>{ost="0x82ad56cb"});var VJ,cst,lst,KJ=B(()=>{VJ="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",cst="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",lst="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"});var k4,$J,qJ,BB,WJ=B(()=>{Dn();k4=class extends de{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},$J=class extends de{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} \u2013 ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} \u2013 ${e.name}`],name:"ChainMismatchError"})}},qJ=class extends de{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},BB=class extends de{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}});function Xd(t){let{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;let i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new wY({docsPath:zbe});if(!("inputs"in i))throw new nB({docsPath:zbe});if(!i.inputs||i.inputs.length===0)throw new nB({docsPath:zbe});let a=gn(i.inputs,n);return ii([r,a])}var zbe,DB=B(()=>{Va();ys();Wd();zbe="/docs/contract/encodeDeployData"});function e1({blockNumber:t,chain:e,contract:n}){let r=e?.contracts?.[n];if(!r)throw new k4({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new k4({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}var M4=B(()=>{WJ()});function YJ(t,{docsPath:e,...n}){let r=(()=>{let i=o8(t,n);return i instanceof Jd?t:i})();return new VT(r,{docsPath:e,...n})}var jbe=B(()=>{iy();I4();EB()});function H7(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}var JJ=B(()=>{});function QJ({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){let a=async()=>{let u=c();o();let f=u.map(({args:d})=>d);f.length!==0&&t(f).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let p=0;p<u.length;p++){let{resolve:h}=u[p];h?.([d[p],d])}}).catch(d=>{for(let p=0;p<u.length;p++){let{reject:h}=u[p];h?.(d)}})},o=()=>Gbe.delete(e),s=()=>c().map(({args:u})=>u),c=()=>Gbe.get(e)||[],l=u=>Gbe.set(e,[...c(),u]);return{flush:o,async schedule(u){let{promise:f,resolve:d,reject:p}=H7();return n?.([...s(),u])&&a(),c().length>0?(l({args:u,resolve:d,reject:p}),f):(l({args:u,resolve:d,reject:p}),setTimeout(a,r),f)}}}var Gbe,Vbe=B(()=>{JJ();Gbe=new Map});var ZJ,XJ,eQ,ust=B(()=>{P0();Dn();nJ();ZJ=class extends de{constructor({callbackSelector:e,cause:n,data:r,extraData:i,sender:a,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(s=>`    ${g4(s)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${i}`].flat(),name:"OffchainLookupError"})}},XJ=class extends de{constructor({result:e,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${g4(n)}`,`Response: ${ur(e)}`],name:"OffchainLookupResponseMalformedError"})}},eQ=class extends de{constructor({sender:e,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}});function Mc(t){let{abi:e,data:n}=t,r=aa(n,0,4),i=e.find(a=>a.type==="function"&&r===h6(hs(a)));if(!i)throw new _Y(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?N0(i.inputs,aa(n,4)):void 0}}var Kbe=B(()=>{Va();p6();MT();FT();Qm()});function qbe(t){let{abi:e,errorName:n,args:r}=t,i=e[0];if(n){let c=hu({abi:e,args:r,name:n});if(!c)throw new rB(n,{docsPath:$be});i=c}if(i.type!=="error")throw new rB(void 0,{docsPath:$be});let a=hs(i),o=h6(a),s="0x";if(r&&r.length>0){if(!i.inputs)throw new xY(i.name,{docsPath:$be});s=gn(i.inputs,r)}return ii([o,s])}var $be,fst=B(()=>{Va();ys();MT();Wd();Qm();qg();$be="/docs/contract/encodeErrorResult"});function dst(t){let{abi:e,functionName:n,result:r}=t,i=e[0];if(n){let o=hu({abi:e,name:n});if(!o)throw new Tp(n,{docsPath:Wbe});i=o}if(i.type!=="function")throw new Tp(void 0,{docsPath:Wbe});if(!i.outputs)throw new CT(i.name,{docsPath:Wbe});let a=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new RT(r)})();return gn(i.outputs,a)}var Wbe,pst=B(()=>{Va();Wd();qg();Wbe="/docs/contract/encodeFunctionResult"});async function Ybe(t){let{data:e,ccipRequest:n}=t,{args:[r]}=Mc({abi:jJ,data:e}),i=[],a=[];return await Promise.all(r.map(async(o,s)=>{try{a[s]=o.urls.includes(dy)?await Ybe({data:o.data,ccipRequest:n}):await n(o),i[s]=!1}catch(c){i[s]=!0,a[s]=Pun(c)}})),dst({abi:jJ,functionName:"query",result:[i,a]})}function Pun(t){return t.name==="HttpRequestError"&&t.status?qbe({abi:jJ,errorName:"HttpError",args:[t.status,t.shortMessage]}):qbe({abi:[zY],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}var dy,LB=B(()=>{y8();jY();Kbe();fst();pst();dy="x-batch-gateway:true"});var yst={};$t(yst,{ccipRequest:()=>mst,offchainLookup:()=>Mun,offchainLookupAbiItem:()=>hst,offchainLookupSignature:()=>kun});async function Mun(t,{blockNumber:e,blockTag:n,data:r,to:i}){let{args:a}=HT({data:r,abi:[hst]}),[o,s,c,l,u]=a,{ccipRead:f}=t,d=f&&typeof f?.request=="function"?f.request:mst;try{if(!x6(i,o))throw new eQ({sender:o,to:i});let p=s.includes(dy)?await Ybe({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:s}),{data:h}=await If(t,{blockNumber:e,blockTag:n,data:In([l,gn([{type:"bytes"},{type:"bytes"}],[p,u])]),to:i});return h}catch(p){throw new ZJ({callbackSelector:l,cause:p,data:r,extraData:u,sender:o,urls:s})}}async function mst({data:t,sender:e,urls:n}){let r=new Error("An unknown error occurred.");for(let i=0;i<n.length;i++){let a=n[i],o=a.includes("{data}")?"GET":"POST",s=o==="POST"?{data:t,sender:e}:void 0,c=o==="POST"?{"Content-Type":"application/json"}:{};try{let l=await fetch(a.replace("{sender}",e.toLowerCase()).replace("{data}",t),{body:JSON.stringify(s),headers:c,method:o}),u;if(l.headers.get("Content-Type")?.startsWith("application/json")?u=(await l.json()).data:u=await l.text(),!l.ok){r=new Yd({body:s,details:u?.error?ur(u.error):l.statusText,headers:l.headers,status:l.status,url:a});continue}if(!Lo(u)){r=new XJ({result:u,url:a});continue}return u}catch(l){r=new Yd({body:s,details:l.message,url:a})}}throw r}var kun,hst,bst=B(()=>{B4();ust();v4();KY();Wd();O7();ys();_p();LB();P0();kun="0x556f1830",hst={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]}});async function If(t,e){let{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:a,blockTag:o=t.experimental_blockTag??"latest",accessList:s,blobs:c,blockOverrides:l,code:u,data:f,factory:d,factoryData:p,gas:h,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:g,maxPriorityFeePerGas:x,nonce:C,to:P,value:D,stateOverride:F,...H}=e,O=n?Rn(n):void 0;if(u&&(d||p))throw new de("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&P)throw new de("Cannot provide both `code` & `to` as parameters.");let M=u&&f,N=d&&p&&P&&f,v=M||N,I=M?Lun({code:u,data:f}):N?Uun({data:f,factory:d,factoryData:p,to:P}):f;try{mu(e);let y=(typeof a=="bigint"?Le(a):void 0)||o,b=l?HJ(l):void 0,_=c8(F),A=t.chain?.formatters?.transactionRequest?.format,E=(A||Qd)({...s8(H,{format:A}),from:O?.address,accessList:s,authorizationList:r,blobs:c,data:I,gas:h,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:g,maxPriorityFeePerGas:x,nonce:C,to:v?void 0:P,value:D});if(i&&Bun({request:E})&&!_&&!b)try{return await Dun(t,{...E,blockNumber:a,blockTag:o})}catch(R){if(!(R instanceof BB)&&!(R instanceof k4))throw R}let k=(()=>{let R=[E,y];return _&&b?[...R,_,b]:_?[...R,_]:b?[...R,{},b]:R})(),L=await t.request({method:"eth_call",params:k});return L==="0x"?{data:void 0}:{data:L}}catch(S){let y=Fun(S),{offchainLookup:b,offchainLookupSignature:_}=await Promise.resolve().then(()=>(bst(),yst));if(t.ccipRead!==!1&&y?.slice(0,10)===_&&P)return{data:await b(t,{data:y,to:P})};throw v&&y?.slice(0,10)==="0x101bb98d"?new rJ({factory:d}):YJ(S,{...e,account:O,chain:t.chain})}}function Bun({request:t}){let{data:e,to:n,...r}=t;return!(!e||e.startsWith(ost)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Dun(t,e){let{batchSize:n=1024,wait:r=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:a=t.experimental_blockTag??"latest",data:o,multicallAddress:s,to:c}=e,l=s;if(!l){if(!t.chain)throw new BB;l=e1({blockNumber:i,chain:t.chain,contract:"multicall3"})}let f=(typeof i=="bigint"?Le(i):void 0)||a,{schedule:d}=QJ({id:`${t.uid}.${f}`,wait:r,shouldSplitBatch(m){return m.reduce((g,{data:x})=>g+(x.length-2),0)>n*2},fn:async m=>{let w=m.map(C=>({allowFailure:!0,callData:C.data,target:C.to})),g=Oe({abi:MB,args:[w],functionName:"aggregate3"}),x=await t.request({method:"eth_call",params:[{data:g,to:l},f]});return hl({abi:MB,args:[w],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:p,success:h}]=await d({data:o,to:c});if(!h)throw new g6({data:p});return p==="0x"?{data:void 0}:{data:p}}function Lun(t){let{code:e,data:n}=t;return Xd({abi:wv(["constructor(bytes, bytes)"]),bytecode:VJ,args:[e,n]})}function Uun(t){let{data:e,factory:n,factoryData:r,to:i}=t;return Xd({abi:wv(["constructor(address, bytes, address, bytes)"]),bytecode:cst,args:[i,e,n,r]})}function Fun(t){if(!(t instanceof de))return;let e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}var B4=B(()=>{ZA();zJ();Ca();y8();sst();KJ();Dn();WJ();iy();p8();DB();ul();M4();dn();jbe();xB();R4();Vbe();AB();l8()});async function gt(t,e){let{abi:n,address:r,args:i,functionName:a,...o}=e,s=Oe({abi:n,args:i,functionName:a});try{let{data:c}=await He(t,If,"call")({...o,data:s,to:r});return hl({abi:n,args:i,functionName:a,data:c||"0x"})}catch(c){throw Sf(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:a})}}var kp=B(()=>{p8();ul();A4();jr();B4()});async function cn(t,e){let{abi:n,address:r,args:i,dataSuffix:a,functionName:o,...s}=e,c=s.account?Rn(s.account):t.account,l=Oe({abi:n,args:i,functionName:o});try{let{data:u}=await He(t,If,"call")({batch:!1,data:`${l}${a?a.replace("0x",""):""}`,to:r,...s,account:c}),f=hl({abi:n,args:i,functionName:o,data:u||"0x"}),d=n.filter(p=>"name"in p&&p.name===e.functionName);return{result:f,request:{abi:d,address:r,args:i,dataSuffix:a,functionName:o,...s,account:c}}}catch(u){throw Sf(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}var Jbe=B(()=>{Ca();p8();ul();A4();jr();B4()});function Xs(t,e,n){let r=++Hun,i=()=>Qbe.get(t)||[],a=()=>{let u=i();Qbe.set(t,u.filter(f=>f.id!==r))},o=()=>{let u=i();if(!u.some(d=>d.id===r))return;let f=gst.get(t);if(u.length===1&&f){let d=f();d instanceof Promise&&d.catch(()=>{})}a()},s=i();if(Qbe.set(t,[...s,{id:r,fns:e}]),s&&s.length>0)return o;let c={};for(let u in e)c[u]=((...f)=>{let d=i();if(d.length!==0)for(let p of d)p.fns[u]?.(...f)});let l=n(c);return typeof l=="function"&&gst.set(t,l),o}var Qbe,gst,Hun,py=B(()=>{Qbe=new Map,gst=new Map,Hun=0});async function UB(t){return new Promise(e=>setTimeout(e,t))}var Zbe=B(()=>{});function yu(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0,a=()=>i=!1;return(async()=>{let s;e&&(s=await t({unpoll:a}));let c=await n?.(s)??r;await UB(c);let l=async()=>{i&&(await t({unpoll:a}),await UB(r),l())};l()})(),a}var b8=B(()=>{Zbe()});function wst(t){let e=(i,a)=>({clear:()=>a.delete(i),get:()=>a.get(i),set:o=>a.set(i,o)}),n=e(t,zun),r=e(t,jun);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function vst(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){let r=wst(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{let o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}var zun,jun,Est=B(()=>{zun=new Map,jun=new Map});async function T6(t,{cacheTime:e=t.cacheTime}={}){let n=await vst(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Gun(t.uid),cacheTime:e});return BigInt(n)}var Gun,z7=B(()=>{Est();Gun=t=>`blockNumber.${t}`});async function g8(t,{filter:e}){let n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;let i=r.map(a=>Qs(a));return!("abi"in e)||!e.abi?i:P7({abi:e.abi,logs:i,strict:n})}var FB=B(()=>{kJ();ly()});async function w8(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}var HB=B(()=>{});function xst(t,e){let{abi:n,address:r,args:i,batch:a=!0,eventName:o,fromBlock:s,onError:c,onLogs:l,poll:u,pollingInterval:f=t.pollingInterval,strict:d}=e;return(typeof u<"u"?u:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{let w=d??!1,g=ur(["watchContractEvent",r,i,a,t.uid,o,f,w,s]);return Xs(g,{onLogs:l,onError:c},x=>{let C;s!==void 0&&(C=s-1n);let P,D=!1,F=yu(async()=>{if(!D){try{P=await He(t,HY,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:w,fromBlock:s})}catch{}D=!0;return}try{let H;if(P)H=await He(t,g8,"getFilterChanges")({filter:P});else{let O=await He(t,T6,"getBlockNumber")({});C&&C<O?H=await He(t,BJ,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:C+1n,toBlock:O,strict:w}):H=[],C=O}if(H.length===0)return;if(a)x.onLogs(H);else for(let O of H)x.onLogs([O])}catch(H){P&&H instanceof w6&&(D=!1),x.onError?.(H)}},{emitOnBegin:!0,interval:f});return async()=>{P&&await He(t,w8,"uninstallFilter")({filter:P}),F()}})})():(()=>{let w=d??!1,g=ur(["watchContractEvent",r,i,a,t.uid,o,f,w]),x=!0,C=()=>x=!1;return Xs(g,{onLogs:l,onError:c},P=>((async()=>{try{let D=(()=>{if(t.transport.type==="fallback"){let O=t.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return O?O.value:t.transport}return t.transport})(),F=o?m6({abi:n,eventName:o,args:i}):[],{unsubscribe:H}=await D.subscribe({params:["logs",{address:r,topics:F}],onData(O){if(!x)return;let M=O.result;try{let{eventName:N,args:v}=N7({abi:n,data:M.data,topics:M.topics,strict:d}),I=Qs(M,{args:v,eventName:N});P.onLogs([I])}catch(N){let v,I;if(N instanceof Sp||N instanceof f6){if(d)return;v=N.abiItem.name,I=N.abiItem.inputs?.some(y=>!("name"in y&&y.name))}let S=Qs(M,{args:I?[]:{},eventName:v});P.onLogs([S])}},onError(O){P.onError?.(O)}});C=H,x||C()}catch(D){c?.(D)}})(),()=>C()))})()}var Ast=B(()=>{Va();f7();PJ();BT();ly();jr();py();b8();P0();Bye();z7();Tbe();FB();HB()});var yo,v8,Mp=B(()=>{Dn();yo=class extends de{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},v8=class extends de{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}});function tQ({chain:t,currentChainId:e}){if(!t)throw new qJ;if(e!==t.id)throw new $J({chain:t,currentChainId:e})}var Xbe=B(()=>{WJ()});function nQ(t,{docsPath:e,...n}){let r=(()=>{let i=o8(t,n);return i instanceof Jd?t:i})();return new eJ(r,{docsPath:e,...n})}var e2e=B(()=>{I4();b6();EB()});async function j7(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}var rQ=B(()=>{});async function E8(t,e){let{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:a,blobs:o,data:s,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:p,type:h,value:m,...w}=e;if(typeof n>"u")throw new yo({docsPath:"/docs/actions/wallet/sendTransaction"});let g=n?Rn(n):null;try{mu(e);let x=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await hJ({authorization:a[0]}).catch(()=>{throw new de("`to` is required. Could not infer from `authorizationList`.")})})();if(g?.type==="json-rpc"||g===null){let C;r!==null&&(C=await He(t,ha,"getChainId")({}),tQ({currentChainId:C,chain:r}));let P=t.chain?.formatters?.transactionRequest?.format,F=(P||Qd)({...s8(w,{format:P}),accessList:i,authorizationList:a,blobs:o,chainId:C,data:s,from:g?.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:p,to:x,type:h,value:m}),H=t2e.get(t.uid),O=H?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:O,params:[F]},{retryCount:0})}catch(M){if(H===!1)throw M;let N=M;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[F]},{retryCount:0}).then(v=>(t2e.set(t.uid,!0),v)).catch(v=>{let I=v;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(t2e.set(t.uid,!1),N):I});throw N}}if(g?.type==="local"){let C=await He(t,d8,"prepareTransactionRequest")({account:g,accessList:i,authorizationList:a,blobs:o,chain:r,data:s,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,nonce:p,nonceManager:g.nonceManager,parameters:[...Abe,"sidecars"],type:h,value:m,...w,to:x}),P=r?.serializers?.transaction,D=await g.signTransaction(C,{serializer:P});return await He(t,j7,"sendRawTransaction")({serializedTransaction:D})}throw g?.type==="smart"?new v8({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new v8({docsPath:"/docs/actions/wallet/sendTransaction",type:g?.type})}catch(x){throw x instanceof v8?x:nQ(x,{...e,account:g,chain:e.chain||void 0})}}var t2e,zB=B(()=>{Ca();Mp();Dn();dbe();Xbe();e2e();xB();R4();jr();PT();l8();E6();TB();rQ();t2e=new qd(128)});async function ai(t,e){let{abi:n,account:r=t.account,address:i,args:a,dataSuffix:o,functionName:s,...c}=e;if(typeof r>"u")throw new yo({docsPath:"/docs/contract/writeContract"});let l=r?Rn(r):null,u=Oe({abi:n,args:a,functionName:s});try{return await He(t,E8,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:i,account:l,...c})}catch(f){throw Sf(f,{abi:n,address:i,args:a,docsPath:"/docs/contract/writeContract",functionName:s,sender:l?.address})}}var n2e=B(()=>{Ca();Mp();ul();A4();jr();zB()});var iQ,_st=B(()=>{Dn();iQ=class extends de{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}});function D4(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,a)=>{let o=async({count:s=0}={})=>{let c=async({error:l})=>{let u=typeof e=="function"?e({count:s,error:l}):e;u&&await UB(u),o({count:s+1})};try{let l=await t();i(l)}catch(l){if(s<n&&await r({count:s,error:l}))return c({error:l});a(l)}};o()})}var aQ=B(()=>{Zbe()});function oQ(t){let e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Qs(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ho(t.transactionIndex):null,status:t.status?r2e[t.status]:null,type:t.type?bbe[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}var r2e,sQ=B(()=>{ms();ly();vJ();r2e={"0x0":"reverted","0x1":"success"}});async function Tst(t,e){let{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:s=!1,id:c,version:l="2.0.0"}=e,u=n?Rn(n):null,f=e.calls.map(d=>{let p=d,h=p.abi?Oe({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&h?In([h,p.dataSuffix]):h,to:p.to,value:p.value?Le(p.value):void 0}});try{let d=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:s,calls:f,capabilities:r,chainId:Le(i.id),from:u?.address,id:c,version:l}]},{retryCount:0});return typeof d=="string"?{id:d}:d}catch(d){let p=d;if(a&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(x=>!x.optional)){let x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Qg(new de(x,{details:x}))}if(s&&f.length>1){let g="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Zg(new de(g,{details:g}))}let h=[];for(let g of f){let x=E8(t,{account:u,chain:i,data:g.data,to:g.to,value:g.value?Gr(g.value):void 0});h.push(x),o>0&&await new Promise(C=>setTimeout(C,o))}let m=await Promise.allSettled(h);if(m.every(g=>g.status==="rejected"))throw m[0].reason;let w=m.map(g=>g.status==="fulfilled"?g.value:a2e);return{id:In([...w,Le(i.id,{size:32}),i2e])}}throw nQ(d,{...e,account:u,chain:e.chain})}}var i2e,a2e,o2e=B(()=>{Ca();Dn();f7();ul();ys();ms();dn();e2e();zB();i2e="0x5792579257925792579257925792579257925792579257925792579257925792",a2e=Le(0,{size:32})});async function cQ(t,e){async function n(u){if(u.endsWith(i2e.slice(2))){let d=Tf(y4(u,-64,-32)),p=y4(u,0,-64).slice(2).match(/.{1,64}/g),h=await Promise.all(p.map(w=>a2e.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),m=h.some(w=>w===null)?100:h.every(w=>w?.status==="0x1")?200:h.every(w=>w?.status==="0x0")?500:600;return{atomic:!1,chainId:ho(d),receipts:h.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}let{atomic:r=!1,chainId:i,receipts:a,version:o="2.0.0",...s}=await n(e.id),[c,l]=(()=>{let u=s.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...s,atomic:r,chainId:i?ho(i):void 0,receipts:a?.map(u=>({...u,blockNumber:Gr(u.blockNumber),gasUsed:Gr(u.gasUsed),status:r2e[u.status]}))??[],statusCode:l,status:c,version:o}}var s2e=B(()=>{p6();NT();ms();sQ();o2e()});async function Sst(t,e){let{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:m})=>m===200||m>=300,retryCount:a=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:s=6e4,throwOnFailure:c=!1}=e,l=ur(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:f,reject:d}=H7(),p,h=Xs(l,{resolve:f,reject:d},m=>{let w=yu(async()=>{let g=x=>{clearTimeout(p),w(),x(),h()};try{let x=await D4(async()=>{let C=await cQ(t,{id:n});if(c&&C.status==="failure")throw new iQ(C);return C},{retryCount:a,delay:o});if(!i(x))return;g(()=>m.resolve(x))}catch(x){g(()=>m.reject(x))}},{interval:r,emitOnBegin:!0});return w});return p=s?setTimeout(()=>{h(),clearTimeout(p),d(new c2e({id:n}))},s):void 0,await u}var c2e,Cst=B(()=>{Dn();_st();py();b8();JJ();aQ();P0();s2e();c2e=class extends de{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}});function fQ(t=11){if(!uQ||lQ+t>256*2){uQ="",lQ=0;for(let e=0;e<256;e++)uQ+=(256+Math.random()*256|0).toString(16).substring(1)}return uQ.substring(lQ,lQ+++t)}var lQ,uQ,l2e=B(()=>{lQ=256});function x8(t){let{batch:e,chain:n,ccipRead:r,key:i="base",name:a="Base Client",type:o="base"}=t,s=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,f=t.cacheTime??u,d=t.account?Rn(t.account):void 0,{config:p,request:h,value:m}=t.transport({chain:n,pollingInterval:u}),w={...p,...m},g={account:d,batch:e,cacheTime:f,ccipRead:r,chain:n,key:i,name:a,pollingInterval:u,request:h,transport:w,type:o,uid:fQ(),...s?{experimental_blockTag:s}:{}};function x(C){return P=>{let D=P(C);for(let H in g)delete D[H];let F={...C,...D};return Object.assign(F,{extend:x(F)})}}return Object.assign(g,{extend:x(g)})}var jB=B(()=>{Ca();l2e()});function Ist(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(dQ.get(n))return dQ.get(n);let r=t().finally(()=>dQ.delete(n));return dQ.set(n,r),r}var dQ,Rst=B(()=>{PT();dQ=new qd(8192)});function Ost(t,e={}){return async(n,r={})=>{let{dedupe:i=!1,methods:a,retryDelay:o=150,retryCount:s=3,uid:c}={...e,...r},{method:l}=n;if(a?.exclude?.includes(l))throw new Jg(new Error("method not supported"),{method:l});if(a?.include&&!a.include.includes(l))throw new Jg(new Error("method not supported"),{method:l});let u=i?Ys(`${c}.${ur(n)}`):void 0;return Ist(()=>D4(async()=>{try{return await t(n)}catch(f){let d=f;switch(d.code){case $T.code:throw new $T(d);case qT.code:throw new qT(d);case WT.code:throw new WT(d,{method:n.method});case JT.code:throw new JT(d);case ay.code:throw new ay(d);case w6.code:throw new w6(d);case QT.code:throw new QT(d);case ZT.code:throw new ZT(d);case XT.code:throw new XT(d);case Jg.code:throw new Jg(d,{method:n.method});case E4.code:throw new E4(d);case e7.code:throw new e7(d);case x4.code:throw new x4(d);case t7.code:throw new t7(d);case n7.code:throw new n7(d);case r7.code:throw new r7(d);case i7.code:throw new i7(d);case a7.code:throw new a7(d);case Qg.code:throw new Qg(d);case o7.code:throw new o7(d);case s7.code:throw new s7(d);case c7.code:throw new c7(d);case l7.code:throw new l7(d);case u7.code:throw new u7(d);case Zg.code:throw new Zg(d);case 5e3:throw new x4(d);default:throw f instanceof de?f:new iJ(d)}}},{delay:({count:f,error:d})=>{if(d&&d instanceof Yd){let p=d?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p)*1e3}return~~(1<<f)*o},retryCount:s,shouldRetry:({error:f})=>Vun(f)}),{enabled:i,id:u})}}function Vun(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===E4.code||t.code===ay.code:t instanceof Yd&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}var Nst=B(()=>{Dn();v4();f7();dn();Rst();aQ();P0()});function pQ({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:a=150,timeout:o,type:s},c){let l=fQ();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:a,timeout:o,type:s},request:Ost(r,{methods:e,retryCount:i,retryDelay:a,uid:l}),value:c}}var u2e=B(()=>{Nst();l2e()});function Bp(t,e={}){let{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:a}=e;return({retryCount:o})=>pQ({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:a,type:"custom"})}var Pst=B(()=>{u2e()});var hQ,kst=B(()=>{Dn();hQ=class extends de{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}});function Mst(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,a)=>{(async()=>{let o;try{let s=new AbortController;n>0&&(o=setTimeout(()=>{r?s.abort():a(e)},n)),i(await t({signal:s?.signal||null}))}catch(s){s?.name==="AbortError"&&a(e),a(s)}finally{clearTimeout(o)}})()})}var Bst=B(()=>{});function Kun(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var f2e,Dst=B(()=>{f2e=Kun()});function Lst(t,e={}){return{async request(n){let{body:r,onRequest:i=e.onRequest,onResponse:a=e.onResponse,timeout:o=e.timeout??1e4}=n,s={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=s;try{let f=await Mst(async({signal:p})=>{let h={...s,body:Array.isArray(r)?ur(r.map(x=>({jsonrpc:"2.0",id:x.id??f2e.take(),...x}))):ur({jsonrpc:"2.0",id:r.id??f2e.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},m=new Request(t,h),w=await i?.(m,h)??{...h,url:t};return await fetch(w.url??t,w)},{errorInstance:new pB({body:r,url:t}),timeout:o,signal:!0});a&&await a(f);let d;if(f.headers.get("Content-Type")?.startsWith("application/json"))d=await f.json();else{d=await f.text();try{d=JSON.parse(d||"{}")}catch(p){if(f.ok)throw p;d={error:d}}}if(!f.ok)throw new Yd({body:r,details:ur(d.error)||f.statusText,headers:f.headers,status:f.status,url:t});return d}catch(f){throw f instanceof Yd||f instanceof pB?f:new Yd({body:r,cause:f,url:t})}}}}var Ust=B(()=>{v4();Bst();P0();Dst()});function hy(t,e={}){let{batch:n,fetchOptions:r,key:i="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:s,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:f,retryCount:d,timeout:p})=>{let{batchSize:h=1e3,wait:m=0}=typeof n=="object"?n:{},w=e.retryCount??d,g=p??e.timeout??1e4,x=t||f?.rpcUrls.default.http[0];if(!x)throw new hQ;let C=Lst(x,{fetchOptions:r,onRequest:s,onResponse:c,timeout:g});return pQ({key:i,methods:a,name:o,async request({method:P,params:D}){let F={method:P,params:D},{schedule:H}=QJ({id:x,wait:m,shouldSplitBatch(v){return v.length>h},fn:v=>C.request({body:v}),sort:(v,I)=>v.id-I.id}),O=async v=>n?H(v):[await C.request({body:v})],[{error:M,result:N}]=await O(F);if(u)return{error:M,result:N};if(M)throw new Yg({body:F,error:M,url:x});return N},retryCount:w,retryDelay:l,timeout:g,type:"http"},{fetchOptions:r,url:x})}}var Fst=B(()=>{v4();kst();Vbe();Ust();u2e()});function G7(t){if(!(t instanceof de))return!1;let e=t.walk(n=>n instanceof ry);return e instanceof ry?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}var mQ=B(()=>{Dn();iy()});function yQ(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;let e=`0x${t.slice(1,65)}`;return Lo(e)?e:null}var d2e=B(()=>{_p()});function GB(t){let e=new Uint8Array(32).fill(0);if(!t)return Vr(e);let n=t.split(".");for(let r=n.length-1;r>=0;r-=1){let i=yQ(n[r]),a=i?vi(i):Ft($d(n[r]),"bytes");e=Ft(In([e,a]),"bytes")}return Vr(e)}var p2e=B(()=>{ys();Zo();dn();pu();d2e()});function Hst(t){return`[${t.slice(2)}]`}var zst=B(()=>{});function jst(t){let e=new Uint8Array(32).fill(0);return t?yQ(t)||Ft($d(t)):Vr(e)}var Gst=B(()=>{Zo();dn();pu();d2e()});function V7(t){let e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);let n=new Uint8Array($d(e).byteLength+2),r=0,i=e.split(".");for(let a=0;a<i.length;a++){let o=$d(i[a]);o.byteLength>255&&(o=$d(Hst(jst(i[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}var bQ=B(()=>{Zo();zst();Gst()});async function Vst(t,e){let{blockNumber:n,blockTag:r,coinType:i,name:a,gatewayUrls:o,strict:s}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return e1({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(d=>a.endsWith(d)))return null;let f=i!=null?[GB(a),BigInt(i)]:[GB(a)];try{let d=Oe({abi:Fbe,functionName:"addr",args:f}),p={address:l,abi:GJ,functionName:"resolveWithGateways",args:[An(V7(a)),d,o??[dy]],blockNumber:n,blockTag:r},m=await He(t,gt,"readContract")(p);if(m[0]==="0x")return null;let w=hl({abi:Fbe,args:f,functionName:"addr",data:m[0]});return w==="0x"||Tf(w)==="0x00"?null:w}catch(d){if(s)throw d;if(G7(d))return null;throw d}}var Kst=B(()=>{y8();p8();ul();M4();NT();dn();mQ();LB();p2e();bQ();jr();kp()});var gQ,A8,K7,wQ,$st=B(()=>{Dn();gQ=class extends de{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},A8=class extends de{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},K7=class extends de{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},wQ=class extends de{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}});async function Jun(t){try{let e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{let r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function qst(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function h2e({uri:t,gatewayUrls:e}){let n=Wun.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};let r=qst(e?.ipfs,"https://ipfs.io"),i=qst(e?.arweave,"https://arweave.net"),a=t.match($un),{protocol:o,subpath:s,target:c,subtarget:l=""}=a?.groups||{},u=o==="ipns:/"||s==="ipns/",f=o==="ipfs:/"||s==="ipfs/"||qun.test(t);if(t.startsWith("http")&&!u&&!f){let p=t;return e?.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||f)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let d=t.replace(Yun,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new K7({uri:t})}function m2e(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new gQ({data:t});return t.image||t.image_url||t.image_data}async function Wst({gatewayUrls:t,uri:e}){try{let n=await fetch(e).then(i=>i.json());return await vQ({gatewayUrls:t,uri:m2e(n)})}catch{throw new K7({uri:e})}}async function vQ({gatewayUrls:t,uri:e}){let{uri:n,isOnChain:r}=h2e({uri:e,gatewayUrls:t});if(r||await Jun(n))return n;throw new K7({uri:e})}function Yst(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));let[n,r,i]=e.split("/"),[a,o]=n.split(":"),[s,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new A8({reason:"Only EIP-155 supported"});if(!o)throw new A8({reason:"Chain ID not found"});if(!c)throw new A8({reason:"Contract address not found"});if(!i)throw new A8({reason:"Token ID not found"});if(!s)throw new A8({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:s.toLowerCase(),contractAddress:c,tokenID:i}}async function Jst(t,{nft:e}){if(e.namespace==="erc721")return gt(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return gt(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new wQ({namespace:e.namespace})}var $un,qun,Wun,Yun,Qst=B(()=>{kp();$st();$un=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,qun=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Wun=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Yun=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/});async function Zst(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?Qun(t,{gatewayUrls:e,record:n}):vQ({uri:n,gatewayUrls:e})}async function Qun(t,{gatewayUrls:e,record:n}){let r=Yst(n),i=await Jst(t,{nft:r}),{uri:a,isOnChain:o,isEncoded:s}=h2e({uri:i,gatewayUrls:e});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){let l=s?atob(a.replace("data:application/json;base64,","")):a,u=JSON.parse(l);return vQ({uri:m2e(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Wst({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,c)})}var Xst=B(()=>{Qst()});async function EQ(t,e){let{blockNumber:n,blockTag:r,key:i,name:a,gatewayUrls:o,strict:s}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return e1({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(f=>a.endsWith(f)))return null;try{let f={address:l,abi:GJ,args:[An(V7(a)),Oe({abi:Ube,functionName:"text",args:[GB(a),i]}),o??[dy]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await He(t,gt,"readContract")(f);if(p[0]==="0x")return null;let h=hl({abi:Ube,functionName:"text",data:p[0]});return h===""?null:h}catch(f){if(s)throw f;if(G7(f))return null;throw f}}var y2e=B(()=>{y8();p8();ul();M4();dn();mQ();LB();p2e();bQ();jr();kp()});async function e0t(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:a,strict:o,universalResolverAddress:s}){let c=await He(t,EQ,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:s,gatewayUrls:a,strict:o});if(!c)return null;try{return await Zst(t,{record:c,gatewayUrls:r})}catch{return null}}var t0t=B(()=>{Xst();jr();y2e()});async function n0t(t,e){let{address:n,blockNumber:r,blockTag:i,coinType:a=60n,gatewayUrls:o,strict:s}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return e1({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{let u={address:l,abi:ast,args:[n,a,o??[dy]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},f=He(t,gt,"readContract"),[d]=await f(u);return d||null}catch(u){if(s)throw u;if(G7(u))return null;throw u}}var r0t=B(()=>{y8();M4();mQ();LB();jr();kp()});async function i0t(t,e){let{blockNumber:n,blockTag:r,name:i}=e,{chain:a}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return e1({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),s=a?.ensTlds;if(s&&!s.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${s?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);let[c]=await He(t,gt,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[An(V7(i))],blockNumber:n,blockTag:r});return c}var a0t=B(()=>{M4();dn();bQ();jr();kp()});async function xQ(t,e){let{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:a,data:o,gas:s,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:f,to:d,value:p,...h}=e,m=n?Rn(n):void 0;try{mu(e);let g=(typeof r=="bigint"?Le(r):void 0)||i,x=t.chain?.formatters?.transactionRequest?.format,P=(x||Qd)({...s8(h,{format:x}),from:m?.address,blobs:a,data:o,gas:s,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:f,to:d,value:p}),D=await t.request({method:"eth_createAccessList",params:[P,g]});return{accessList:D.accessList,gasUsed:BigInt(D.gasUsed)}}catch(w){throw YJ(w,{...e,account:m,chain:t.chain})}}var b2e=B(()=>{Ca();dn();jbe();xB();R4();l8()});async function o0t(t){let e=Wg(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}var s0t=B(()=>{uB()});async function AQ(t,{address:e,args:n,event:r,events:i,fromBlock:a,strict:o,toBlock:s}={}){let c=i??(r?[r]:void 0),l=Wg(t,{method:"eth_newFilter"}),u=[];c&&(u=[c.flatMap(p=>m6({abi:[p],eventName:p.name,args:n}))],r&&(u=u[0]));let f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?Le(a):a,toBlock:typeof s=="bigint"?Le(s):s,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:f,request:l(f),strict:!!o,toBlock:s,type:"event"}}var g2e=B(()=>{BT();dn();uB()});async function _Q(t){let e=Wg(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}var w2e=B(()=>{uB()});async function c0t(t){let e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}var l0t=B(()=>{});async function u0t(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){let i=n!==void 0?Le(n):void 0,a;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),ho(a)}var f0t=B(()=>{ms();dn()});async function Dp(t,{address:e,blockNumber:n,blockTag:r="latest"}){let i=n!==void 0?Le(n):void 0,a=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(a!=="0x")return a}var TQ=B(()=>{dn()});var SQ,d0t=B(()=>{Dn();SQ=class extends de{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}});async function p0t(t,e){let{address:n,factory:r,factoryData:i}=e;try{let[a,o,s,c,l,u,f]=await He(t,gt,"readContract")({abi:Zun,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:s,chainId:Number(c),verifyingContract:l,salt:u},extensions:f,fields:a}}catch(a){let o=a;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new SQ({address:n}):o}}var Zun,h0t=B(()=>{d0t();jr();kp();Zun=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}]});function m0t(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}var y0t=B(()=>{});async function b0t(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){let a=typeof n=="bigint"?Le(n):void 0,o=await t.request({method:"eth_feeHistory",params:[Le(e),a||r,i]},{dedupe:!!a});return m0t(o)}var g0t=B(()=>{dn();y0t()});async function w0t(t,{filter:e}){let n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(a=>Qs(a));return e.abi?P7({abi:e.abi,logs:i,strict:n}):i}var v0t=B(()=>{kJ();ly()});function VB(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}var E0t=B(()=>{});var CQ,IQ,RQ,x0t=B(()=>{P0();Dn();CQ=class extends de{constructor({domain:e}){super(`Invalid domain "${ur(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},IQ=class extends de{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},RQ=class extends de{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}});function B0(t){let{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:S6({domain:e}),...t.types};my({domain:e,message:n,primaryType:r,types:i});let a=["0x1901"];return e&&a.push(OQ({domain:e,types:i})),r!=="EIP712Domain"&&a.push(v2e({data:n,primaryType:r,types:i})),Ft(In(a))}function OQ({domain:t,types:e}){return v2e({data:t,primaryType:"EIP712Domain",types:e})}function v2e({data:t,primaryType:e,types:n}){let r=A0t({data:t,primaryType:e,types:n});return Ft(r)}function A0t({data:t,primaryType:e,types:n}){let r=[{type:"bytes32"}],i=[Xun({primaryType:e,types:n})];for(let a of n[e]){let[o,s]=T0t({types:n,name:a.name,type:a.type,value:t[a.name]});r.push(o),i.push(s)}return gn(r,i)}function Xun({primaryType:t,types:e}){let n=An(efn({primaryType:t,types:e}));return Ft(n)}function efn({primaryType:t,types:e}){let n="",r=_0t({primaryType:t,types:e});r.delete(t);let i=[t,...Array.from(r).sort()];for(let a of i)n+=`${a}(${e[a].map(({name:o,type:s})=>`${s} ${o}`).join(",")})`;return n}function _0t({primaryType:t,types:e},n=new Set){let i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(let a of e[i])_0t({primaryType:a.type,types:e},n);return n}function T0t({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Ft(A0t({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Ft(r)];if(n==="string")return[{type:"bytes32"},Ft(An(r))];if(n.lastIndexOf("]")===n.length-1){let i=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>T0t({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},Ft(gn(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}var KB=B(()=>{Wd();ys();dn();pu();NQ()});function E2e(t){let{domain:e,message:n,primaryType:r,types:i}=t,a=(c,l)=>{let u={...l};for(let f of c){let{name:d,type:p}=f;p==="address"&&(u[d]=u[d].toLowerCase())}return u},o=i.EIP712Domain?e?a(i.EIP712Domain,e):{}:{},s=(()=>{if(r!=="EIP712Domain")return a(i[r],n)})();return ur({domain:o,message:s,primaryType:r,types:i})}function my(t){let{domain:e,message:n,primaryType:r,types:i}=t,a=(o,s)=>{for(let c of o){let{name:l,type:u}=c,f=s[l],d=u.match(kT);if(d&&(typeof f=="number"||typeof f=="bigint")){let[m,w,g]=d;Le(f,{signed:w==="int",size:Number.parseInt(g)/8})}if(u==="address"&&typeof f=="string"&&!pa(f))throw new Uo({address:f});let p=u.match(LY);if(p){let[m,w]=p;if(w&&pr(f)!==Number.parseInt(w))throw new IT({expectedSize:Number.parseInt(w),givenSize:pr(f)})}let h=i[u];h&&(tfn(u),a(h,f))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new CQ({domain:e});a(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])a(i[r],n);else throw new IQ({primaryType:r,types:i})}function S6({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function $B({domain:t}){return OQ({domain:t,types:{EIP712Domain:S6({domain:t})}})}function tfn(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new RQ({type:t})}var NQ=B(()=>{Va();ey();x0t();Ip();Vd();dn();UY();KB();P0()});function ma(t,e){if(t.length!==e.length)throw new _T({expectedLength:t.length,givenLength:e.length});let n=[];for(let r=0;r<t.length;r++){let i=t[r],a=e[r];n.push(S0t(i,a))}return ii(n)}function S0t(t,e,n=!1){if(t==="address"){let o=e;if(!pa(o))throw new Uo({address:o});return kr(o.toLowerCase(),{size:n?32:null})}if(t==="string")return Ys(e);if(t==="bytes")return e;if(t==="bool")return kr(m4(e),{size:n?32:1});let r=t.match(kT);if(r){let[o,s,c="256"]=r,l=Number.parseInt(c)/8;return Le(e,{size:n?32:l,signed:s==="int"})}let i=t.match(LY);if(i){let[o,s]=i;if(Number.parseInt(s)!==(e.length-2)/2)throw new IT({expectedSize:Number.parseInt(s),givenSize:(e.length-2)/2});return kr(e,{dir:"right",size:n?32:null})}let a=t.match(eat);if(a&&Array.isArray(e)){let[o,s]=a,c=[];for(let l=0;l<e.length;l++)c.push(S0t(s,e[l],!0));return c.length===0?"0x":ii(c)}throw new IY(t)}var C0t=B(()=>{Va();ey();Ip();ys();Zm();dn();UY()});function x2e(t){return!t||typeof t!="object"||!("BYTES_PER_ELEMENT"in t)?!1:t.BYTES_PER_ELEMENT===1&&t.constructor.name==="Uint8Array"}var I0t=B(()=>{});function L4(t){return t.opcode==="CREATE2"?O0t(t):R0t(t)}function R0t(t){let e=vi(Js(t.from)),n=vi(t.nonce);return n[0]===0&&(n=new Uint8Array([])),Js(`0x${Ft(pJ([e,n],"bytes")).slice(26)}`)}function O0t(t){let e=vi(Js(t.from)),n=kr(x2e(t.salt)?t.salt:vi(t.salt),{size:32}),r="bytecodeHash"in t?x2e(t.bytecodeHash)?t.bytecodeHash:vi(t.bytecodeHash):Ft(t.bytecode,"bytes");return Js(aa(Ft(In([vi("0xff"),e,n,r])),12))}var N0t=B(()=>{ys();I0t();Zm();p6();Zo();fbe();pu();ty()});var P0t,k0t=B(()=>{P0t=`Ethereum Signed Message:
`});function M0t(t){let e=typeof t=="string"?Ys(t):typeof t.raw=="string"?t.raw:Vr(t.raw),n=Ys(`${P0t}${pr(e)}`);return In([n,e])}var B0t=B(()=>{k0t();ys();Vd();dn()});function yl(t,e){return Ft(M0t(t),e)}var PQ=B(()=>{pu();B0t()});var kQ,A2e=B(()=>{kQ="0x6492649264926492649264926492649264926492649264926492649264926492"});function D0t(t){return y4(t,-32)===kQ}var L0t=B(()=>{A2e();p6()});function $7(t){let{address:e,data:n,signature:r,to:i="hex"}=t,a=ii([gn([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),kQ]);return i==="hex"?a:Qo(a)}var _2e=B(()=>{A2e();Wd();ys();Zo()});var MQ,U0t=B(()=>{Dn();MQ=class extends de{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}});function F0t(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new MQ({value:t});let[n,r="0"]=t.split("."),i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){let[a,o,s]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${s}`);c>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}var H0t=B(()=>{U0t()});function T2e(t,e="wei"){return F0t(t,$Y[e])}var z0t=B(()=>{qY();H0t()});function S2e(t){let{source:e}=t,n=new Map,r=new qd(8192),i=new Map,a=({address:o,chainId:s})=>`${o}.${s}`;return{async consume({address:o,chainId:s,client:c}){let l=a({address:o,chainId:s}),u=this.get({address:o,chainId:s,client:c});this.increment({address:o,chainId:s});let f=await u;return await e.set({address:o,chainId:s},f),r.set(l,f),f},async increment({address:o,chainId:s}){let c=a({address:o,chainId:s}),l=n.get(c)??0;n.set(c,l+1)},async get({address:o,chainId:s,client:c}){let l=a({address:o,chainId:s}),u=i.get(l);return u||(u=(async()=>{try{let d=await e.get({address:o,chainId:s,client:c}),p=r.get(l)??0;return p>0&&d<=p?p+1:(r.delete(l),d)}finally{this.reset({address:o,chainId:s})}})(),i.set(l,u)),(n.get(l)??0)+await u},reset({address:o,chainId:s}){let c=a({address:o,chainId:s});n.delete(c),i.delete(c)}}}function nfn(){return{async get(t){let{address:e,client:n}=t;return f8(n,{address:e,blockTag:"pending"})},set(){}}}var PAr,j0t=B(()=>{_B();PT();PAr=S2e({source:nfn()})});var bu=B(()=>{ul();Zm();dn();ms();jr();b4()});function afn(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function G0t(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?ho(t.nonce):void 0,storageProof:t.storageProof?afn(t.storageProof):void 0}}var V0t=B(()=>{bu()});async function K0t(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){let a=r??"latest",o=n!==void 0?Le(n):void 0,s=await t.request({method:"eth_getProof",params:[e,i,o||a]});return G0t(s)}var $0t=B(()=>{dn();V0t()});async function q0t(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){let a=n!==void 0?Le(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,a||r]})}var W0t=B(()=>{dn()});async function q7(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:a}){let o=r||"latest",s=n!==void 0?Le(n):void 0,c=null;if(i?c=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Le(a)]},{dedupe:!0}):(s||o)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[s||o,Le(a)]},{dedupe:!!s})),!c)throw new jT({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:a});return(t.chain?.formatters?.transaction?.format||wJ)(c)}var BQ=B(()=>{b6();dn();vJ()});async function Y0t(t,{hash:e,transactionReceipt:n}){let[r,i]=await Promise.all([He(t,T6,"getBlockNumber")({}),e?He(t,q7,"getTransaction")({hash:e}):void 0]),a=n?.blockNumber||i?.blockNumber;return a?r-a+1n:0n}var J0t=B(()=>{jr();z7();BQ()});async function W7(t,{hash:e}){let n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new GT({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||oQ)(n)}var C2e=B(()=>{b6();sQ()});async function Q0t(t,e){let{account:n,authorizationList:r,allowFailure:i=!0,batchSize:a,blockNumber:o,blockTag:s,multicallAddress:c,stateOverride:l}=e,u=e.contracts,f=a??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024),d=c;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=e1({blockNumber:o,chain:t.chain,contract:"multicall3"})}let p=[[]],h=0,m=0;for(let x=0;x<u.length;x++){let{abi:C,address:P,args:D,functionName:F}=u[x];try{let H=Oe({abi:C,args:D,functionName:F});m+=(H.length-2)/2,f>0&&m>f&&p[h].length>0&&(h++,m=(H.length-2)/2,p[h]=[]),p[h]=[...p[h],{allowFailure:!0,callData:H,target:P}]}catch(H){let O=Sf(H,{abi:C,address:P,args:D,docsPath:"/docs/contract/multicall",functionName:F,sender:n});if(!i)throw O;p[h]=[...p[h],{allowFailure:!0,callData:"0x",target:P}]}}let w=await Promise.allSettled(p.map(x=>He(t,gt,"readContract")({abi:MB,account:n,address:d,args:[x],authorizationList:r,blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:l}))),g=[];for(let x=0;x<w.length;x++){let C=w[x];if(C.status==="rejected"){if(!i)throw C.reason;for(let D=0;D<p[x].length;D++)g.push({status:"failure",error:C.reason,result:void 0});continue}let P=C.value;for(let D=0;D<P.length;D++){let{returnData:F,success:H}=P[D],{callData:O}=p[x][D],{abi:M,address:N,functionName:v,args:I}=u[g.length];try{if(O==="0x")throw new Kd;if(!H)throw new g6({data:F});let S=hl({abi:M,args:I,data:F,functionName:v});g.push(i?{result:S,status:"success"}:S)}catch(S){let y=Sf(S,{abi:M,address:N,args:I,docsPath:"/docs/contract/multicall",functionName:v});if(!i)throw y;g.push({error:y,result:void 0,status:"failure"})}}}if(g.length!==u.length)throw new de("multicall results mismatch");return g}var Z0t=B(()=>{y8();Va();Dn();iy();p8();ul();M4();A4();jr();kp()});async function qB(t,e){let{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:a,traceTransfers:o,validation:s}=e;try{let c=[];for(let d of i){let p=d.blockOverrides?HJ(d.blockOverrides):void 0,h=d.calls.map(w=>{let g=w,x=g.account?Rn(g.account):void 0,C=g.abi?Oe(g):g.data,P={...g,data:g.dataSuffix?In([C||"0x",g.dataSuffix]):C,from:g.from??x?.address};return mu(P),Qd(P)}),m=d.stateOverrides?c8(d.stateOverrides):void 0;c.push({blockOverrides:p,calls:h,stateOverrides:m})}let u=(typeof n=="bigint"?Le(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:o,validation:s},u]})).map((d,p)=>({...EJ(d),calls:d.calls.map((h,m)=>{let{abi:w,args:g,functionName:x,to:C}=i[p].calls[m],P=h.error?.data??h.returnData,D=BigInt(h.gasUsed),F=h.logs?.map(N=>Qs(N)),H=h.status==="0x1"?"success":"failure",O=w&&H==="success"&&P!=="0x"?hl({abi:w,data:P,functionName:x}):null,M=(()=>{if(H==="success")return;let N;if(h.error?.data==="0x"?N=new Kd:h.error&&(N=new g6(h.error)),!!N)return Sf(N,{abi:w??[],address:C??"0x",args:g,functionName:x??"<unknown>"})})();return{data:P,gasUsed:D,logs:F,status:H,...H==="success"?{result:O}:{error:M}}})}))}catch(c){let l=c,u=o8(l,{});throw u instanceof Jd?l:u}}var I2e=B(()=>{zJ();Ca();Va();iy();I4();p8();ul();ys();dn();A4();EB();gbe();ly();R4();AB();l8()});function DQ(t,e={}){let{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=Gc(Jot(t));return n==="Bytes"?r:M0(r)}var LQ=B(()=>{N3();fy();ml()});var UQ,X0t=B(()=>{UQ=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){let r=this.keys().next().value;r&&this.delete(r)}return this}}});var ofn,FQ,O2e=B(()=>{X0t();ofn={checksum:new UQ(8192)},FQ=ofn.checksum});var Y7={};$t(Y7,{InvalidCompressedPrefixError:()=>zQ,InvalidError:()=>HQ,InvalidPrefixError:()=>WB,InvalidSerializedSizeError:()=>GQ,InvalidUncompressedPrefixError:()=>jQ,assert:()=>VQ,compress:()=>sfn,from:()=>cfn,fromBytes:()=>tct,fromHex:()=>N2e,toBytes:()=>lfn,toHex:()=>nct,validate:()=>ufn});function VQ(t,e={}){let{compressed:n}=e,{prefix:r,x:i,y:a}=t;if(n===!1||typeof i=="bigint"&&typeof a=="bigint"){if(r!==4)throw new WB({prefix:r,cause:new jQ});return}if(n===!0||typeof i=="bigint"&&typeof a>"u"){if(r!==3&&r!==2)throw new WB({prefix:r,cause:new zQ});return}throw new HQ({publicKey:t})}function sfn(t){let{x:e,y:n}=t;return{prefix:n%2n===0n?2:3,x:e}}function cfn(t){let e=(()=>{if(F7(t))return N2e(t);if(Xot(t))return tct(t);let{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return VQ(e),e}function tct(t){return N2e(M0(t))}function N2e(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new GQ({publicKey:t});if(t.length===130){let r=BigInt(Zs(t,0,32)),i=BigInt(Zs(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){let r=Number(Zs(t,0,1)),i=BigInt(Zs(t,1,33)),a=BigInt(Zs(t,33,65));return{prefix:r,x:i,y:a}}let e=Number(Zs(t,0,1)),n=BigInt(Zs(t,1,33));return{prefix:e,x:n}}function lfn(t,e={}){return Zd(nct(t,e))}function nct(t,e={}){VQ(t);let{prefix:n,x:r,y:i}=t,{includePrefix:a=!0}=e;return bs(a?Kr(n,{size:1}):"0x",Kr(r,{size:32}),typeof i=="bigint"?Kr(i,{size:32}):"0x")}function ufn(t,e={}){try{return VQ(t,e),!0}catch{return!1}}var HQ,WB,zQ,jQ,GQ,rct=B(()=>{fy();Np();ml();M7();HQ=class extends On{constructor({publicKey:e}){super(`Value \`${h8(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},WB=class extends On{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},zQ=class extends On{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},jQ=class extends On{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},GQ=class extends On{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${$a(U7(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}});function J7(t,e={}){let{strict:n=!0}=e;if(!ffn.test(t))throw new KQ({address:t,cause:new P2e});if(n){if(t.toLowerCase()===t)return;if(ict(t)!==t)throw new KQ({address:t,cause:new k2e})}}function ict(t){if(FQ.has(t))return FQ.get(t);J7(t,{strict:!1});let e=t.substring(2).toLowerCase(),n=DQ(UJ(e),{as:"Bytes"}),r=e.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());let i=`0x${r.join("")}`;return FQ.set(t,i),i}function $Q(t,e={}){let{strict:n=!0}=e??{};try{return J7(t,{strict:n}),!0}catch{return!1}}var ffn,KQ,P2e,k2e,YB=B(()=>{fy();O2e();Np();LQ();ffn=/^0x[a-fA-F0-9]{40}$/;KQ=class extends On{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},P2e=class extends On{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},k2e=class extends On{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}});function YQ(t){let e=!0,n="",r=0,i="",a=!1;for(let o=0;o<t.length;o++){let s=t[o];if(["(",")",","].includes(s)&&(e=!0),s==="("&&r++,s===")"&&r--,!!e){if(r===0){if(s===" "&&["event","function","error",""].includes(i))i="";else if(i+=s,s===")"){a=!0;break}continue}if(s===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=s,n+=s}}if(!a)throw new On("Unable to normalize signature.");return i}function WQ(t,e){let n=typeof t,r=e.type;switch(r){case"address":return $Q(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,a)=>WQ(Object.values(t)[a],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>WQ(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function M2e(t,e,n){for(let r in t){let i=t[r],a=e[r];if(i.type==="tuple"&&a.type==="tuple"&&"components"in i&&"components"in a)return M2e(i.components,a.components,n[r]);let o=[i.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?$Q(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?$Q(n[r],{strict:!1}):!1)return o}}var act=B(()=>{YB();Np()});function JQ(t,e={}){let{prepare:n=!0}=e,r=Array.isArray(t)?BP(t):typeof t=="string"?BP(t):t;return{...r,...n?{hash:Q7(r)}:{}}}function oct(t,e,n){let{args:r=[],prepare:i=!0}=n??{},a=F7(e,{strict:!1}),o=t.filter(l=>a?l.type==="function"||l.type==="error"?D2e(l)===Zs(e,0,4):l.type==="event"?Q7(l)===e:!1:"name"in l&&l.name===e);if(o.length===0)throw new U4({name:e});if(o.length===1)return{...o[0],...i?{hash:Q7(o[0])}:{}};let s;for(let l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:Q7(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((f,d)=>{let p="inputs"in l&&l.inputs[d];return p?WQ(f,p):!1})){if(s&&"inputs"in s&&s.inputs){let f=M2e(l.inputs,s.inputs,r);if(f)throw new B2e({abiItem:l,type:f[0]},{abiItem:s,type:f[1]})}s=l}}let c=(()=>{if(s)return s;let[l,...u]=o;return{...l,overloads:u}})();if(!c)throw new U4({name:e});return{...c,...i?{hash:Q7(c)}:{}}}function D2e(t){return Zs(Q7(t),0,4)}function pfn(t){let e=typeof t=="string"?t:gv(t);return YQ(e)}function Q7(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:DQ(P4(pfn(t)))}var B2e,U4,QQ=B(()=>{ZA();Np();LQ();ml();act();B2e=class extends On{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${YQ(gv(e.abiItem))}\`, and`,`\`${n.type}\` in \`${YQ(gv(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},U4=class extends On{constructor({name:e,data:n,type:r="item"}){let i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}});var sct,cct,ZQ,B_r,D_r,L_r,U_r,F_r,H_r,z_r,j_r,G_r,V_r,K_r,$_r,q_r,W_r,Y_r,J_r,Q_r,Z_r,X_r,eTr,tTr,nTr,rTr,iTr,aTr,oTr,sTr,cTr,lTr,uTr,fTr,dTr,pTr,hTr,mTr,yTr,bTr,gTr,wTr,vTr,ETr,xTr,ATr,_Tr,TTr,STr,CTr,ITr,RTr,OTr,NTr,PTr,kTr,MTr,BTr,DTr,LTr,UTr,FTr,HTr,zTr,jTr,GTr,VTr,KTr,$Tr,qTr,WTr,YTr,JTr,QTr,ZTr,XTr,e7r,t7r,n7r,r7r,i7r,a7r,o7r,s7r,c7r,l7r,u7r,f7r,d7r,p7r,h7r,m7r,y7r,b7r,g7r,w7r,v7r,E7r,U2e,JB=B(()=>{sct=/^(.*)\[([0-9]*)\]$/,cct=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ZQ=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,B_r=2n**(8n-1n)-1n,D_r=2n**(16n-1n)-1n,L_r=2n**(24n-1n)-1n,U_r=2n**(32n-1n)-1n,F_r=2n**(40n-1n)-1n,H_r=2n**(48n-1n)-1n,z_r=2n**(56n-1n)-1n,j_r=2n**(64n-1n)-1n,G_r=2n**(72n-1n)-1n,V_r=2n**(80n-1n)-1n,K_r=2n**(88n-1n)-1n,$_r=2n**(96n-1n)-1n,q_r=2n**(104n-1n)-1n,W_r=2n**(112n-1n)-1n,Y_r=2n**(120n-1n)-1n,J_r=2n**(128n-1n)-1n,Q_r=2n**(136n-1n)-1n,Z_r=2n**(144n-1n)-1n,X_r=2n**(152n-1n)-1n,eTr=2n**(160n-1n)-1n,tTr=2n**(168n-1n)-1n,nTr=2n**(176n-1n)-1n,rTr=2n**(184n-1n)-1n,iTr=2n**(192n-1n)-1n,aTr=2n**(200n-1n)-1n,oTr=2n**(208n-1n)-1n,sTr=2n**(216n-1n)-1n,cTr=2n**(224n-1n)-1n,lTr=2n**(232n-1n)-1n,uTr=2n**(240n-1n)-1n,fTr=2n**(248n-1n)-1n,dTr=2n**(256n-1n)-1n,pTr=-(2n**(8n-1n)),hTr=-(2n**(16n-1n)),mTr=-(2n**(24n-1n)),yTr=-(2n**(32n-1n)),bTr=-(2n**(40n-1n)),gTr=-(2n**(48n-1n)),wTr=-(2n**(56n-1n)),vTr=-(2n**(64n-1n)),ETr=-(2n**(72n-1n)),xTr=-(2n**(80n-1n)),ATr=-(2n**(88n-1n)),_Tr=-(2n**(96n-1n)),TTr=-(2n**(104n-1n)),STr=-(2n**(112n-1n)),CTr=-(2n**(120n-1n)),ITr=-(2n**(128n-1n)),RTr=-(2n**(136n-1n)),OTr=-(2n**(144n-1n)),NTr=-(2n**(152n-1n)),PTr=-(2n**(160n-1n)),kTr=-(2n**(168n-1n)),MTr=-(2n**(176n-1n)),BTr=-(2n**(184n-1n)),DTr=-(2n**(192n-1n)),LTr=-(2n**(200n-1n)),UTr=-(2n**(208n-1n)),FTr=-(2n**(216n-1n)),HTr=-(2n**(224n-1n)),zTr=-(2n**(232n-1n)),jTr=-(2n**(240n-1n)),GTr=-(2n**(248n-1n)),VTr=-(2n**(256n-1n)),KTr=2n**8n-1n,$Tr=2n**16n-1n,qTr=2n**24n-1n,WTr=2n**32n-1n,YTr=2n**40n-1n,JTr=2n**48n-1n,QTr=2n**56n-1n,ZTr=2n**64n-1n,XTr=2n**72n-1n,e7r=2n**80n-1n,t7r=2n**88n-1n,n7r=2n**96n-1n,r7r=2n**104n-1n,i7r=2n**112n-1n,a7r=2n**120n-1n,o7r=2n**128n-1n,s7r=2n**136n-1n,c7r=2n**144n-1n,l7r=2n**152n-1n,u7r=2n**160n-1n,f7r=2n**168n-1n,d7r=2n**176n-1n,p7r=2n**184n-1n,h7r=2n**192n-1n,m7r=2n**200n-1n,y7r=2n**208n-1n,b7r=2n**216n-1n,g7r=2n**224n-1n,w7r=2n**232n-1n,v7r=2n**240n-1n,E7r=2n**248n-1n,U2e=2n**256n-1n});function lct({checksumAddress:t,parameters:e,values:n}){let r=[];for(let i=0;i<e.length;i++)r.push(H2e({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function H2e({checksumAddress:t=!1,parameter:e,value:n}){let r=e,i=Efn(r.type);if(i){let[a,o]=i;return mfn(n,{checksumAddress:t,length:a,parameter:{...r,type:o}})}if(r.type==="tuple")return vfn(n,{checksumAddress:t,parameter:r});if(r.type==="address")return hfn(n,{checksum:t});if(r.type==="bool")return bfn(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){let a=r.type.startsWith("int"),[,,o="256"]=ZQ.exec(r.type)??[];return gfn(n,{signed:a,size:Number(o)})}if(r.type.startsWith("bytes"))return yfn(n,{type:r.type});if(r.type==="string")return wfn(n);throw new ZB(r.type)}function XQ(t){let e=0;for(let a=0;a<t.length;a++){let{dynamic:o,encoded:s}=t[a];o?e+=32:e+=$a(s)}let n=[],r=[],i=0;for(let a=0;a<t.length;a++){let{dynamic:o,encoded:s}=t[a];o?(n.push(Kr(e+i,{size:32})),r.push(s),i+=$a(s)):n.push(s)}return bs(...n,...r)}function hfn(t,e){let{checksum:n=!1}=e;return J7(t,{strict:n}),{dynamic:!1,encoded:_6(t.toLowerCase())}}function mfn(t,e){let{checksumAddress:n,length:r,parameter:i}=e,a=r===null;if(!Array.isArray(t))throw new tZ(t);if(!a&&t.length!==r)throw new eZ({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1,s=[];for(let c=0;c<t.length;c++){let l=H2e({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(o=!0),s.push(l)}if(a||o){let c=XQ(s);if(a){let l=Kr(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?bs(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:bs(...s.map(({encoded:c})=>c))}}function yfn(t,{type:e}){let[,n]=e.split("bytes"),r=$a(t);if(!n){let i=t;return r%32!==0&&(i=Pp(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:bs(_6(Kr(r,{size:32})),i)}}if(r!==Number.parseInt(n))throw new QB({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Pp(t)}}function bfn(t){if(typeof t!="boolean")throw new On(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:_6(PB(t))}}function gfn(t,{signed:e,size:n}){if(typeof n=="number"){let r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new L7({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Kr(t,{size:32,signed:e})}}function wfn(t){let e=P4(t),n=Math.ceil($a(e)/32),r=[];for(let i=0;i<n;i++)r.push(Pp(Zs(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:bs(Pp(Kr($a(e),{size:32})),...r)}}function vfn(t,e){let{checksumAddress:n,parameter:r}=e,i=!1,a=[];for(let o=0;o<r.components.length;o++){let s=r.components[o],c=Array.isArray(t)?o:s.name,l=H2e({checksumAddress:n,parameter:s,value:t[c]});a.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?XQ(a):bs(...a.map(({encoded:o})=>o))}}function Efn(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var uct=B(()=>{XB();YB();Np();ml();JB()});function iZ(t,e,n){let{checksumAddress:r=!1}=n??{};if(t.length!==e.length)throw new rZ({expectedLength:t.length,givenLength:e.length});let i=lct({checksumAddress:r,parameters:t,values:e}),a=XQ(i);return a.length===0?"0x":a}function z2e(t,e){if(t.length!==e.length)throw new rZ({expectedLength:t.length,givenLength:e.length});let n=[];for(let r=0;r<t.length;r++){let i=t[r],a=e[r];n.push(z2e.encode(i,a))}return bs(...n)}var eZ,QB,rZ,tZ,ZB,XB=B(()=>{YB();Np();ml();JB();uct();(function(t){function e(n,r,i=!1){if(n==="address"){let c=r;return J7(c),_6(c.toLowerCase(),i?32:0)}if(n==="string")return P4(r);if(n==="bytes")return r;if(n==="bool")return _6(PB(r),i?32:1);let a=n.match(ZQ);if(a){let[c,l,u="256"]=a,f=Number.parseInt(u)/8;return Kr(r,{size:i?32:f,signed:l==="int"})}let o=n.match(cct);if(o){let[c,l]=o;if(Number.parseInt(l)!==(r.length-2)/2)throw new QB({expectedSize:Number.parseInt(l),value:r});return Pp(r,i?32:0)}let s=n.match(sct);if(s&&Array.isArray(r)){let[c,l]=s,u=[];for(let f=0;f<r.length;f++)u.push(e(l,r[f],!0));return u.length===0?"0x":bs(...u)}throw new ZB(n)}t.encode=e})(z2e||(z2e={}));eZ=class extends On{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},QB=class extends On{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${$a(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},rZ=class extends On{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},tZ=class extends On{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},ZB=class extends On{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}});function fct(t,e){let{bytecode:n,args:r}=e;return bs(n,t.inputs?.length&&r?.length?iZ(t.inputs,r):"0x")}function dct(t){return JQ(t)}var j2e=B(()=>{QQ();XB();ml()});function hct(t,...e){let{overloads:n}=t,r=n?_fn([t,...n],t.name,{args:e[0]}):t,i=Tfn(r),a=e.length>0?iZ(r.inputs,e[0]):void 0;return a?bs(i,a):i}function F4(t,e={}){return JQ(t,e)}function _fn(t,e,n){let r=oct(t,e,n);if(r.type!=="function")throw new U4({name:e,type:"function"});return r}function Tfn(t){return D2e(t)}var G2e=B(()=>{QQ();XB();ml()});var V2e,ya,K2e=B(()=>{V2e="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ya="0x0000000000000000000000000000000000000000"});async function yct(t,e){let{blockNumber:n,blockTag:r,calls:i,stateOverrides:a,traceAssetChanges:o,traceTransfers:s,validation:c}=e,l=e.account?Rn(e.account):void 0;if(o&&!l)throw new de("`account` is required when `traceAssetChanges` is true");let u=l?fct(dct("constructor(bytes, bytes)"),{bytecode:VJ,args:[Sfn,hct(F4("function getBalance(address)"),[l.address])]}):void 0,f=o?await Promise.all(e.calls.map(async T=>{if(!T.data&&!T.abi)return;let{accessList:E}=await xQ(t,{account:l.address,...T,data:T.abi?Oe(T):T.data});return E.map(({address:k,storageKeys:L})=>L.length>0?k:null)})).then(T=>T.flat().filter(Boolean)):[],d=await qB(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:a},{calls:f.map((T,E)=>({abi:[F4("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:T,from:ya,nonce:E})),stateOverrides:[{address:ya,nonce:0}]}]:[],{calls:[...i,{}].map(T=>({...T,from:l?.address})),stateOverrides:a},...o?[{calls:[{data:u}]},{calls:f.map((T,E)=>({abi:[F4("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:T,from:ya,nonce:E})),stateOverrides:[{address:ya,nonce:0}]},{calls:f.map((T,E)=>({to:T,abi:[F4("function decimals() returns (uint256)")],functionName:"decimals",from:ya,nonce:E})),stateOverrides:[{address:ya,nonce:0}]},{calls:f.map((T,E)=>({to:T,abi:[F4("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ya,nonce:E})),stateOverrides:[{address:ya,nonce:0}]},{calls:f.map((T,E)=>({to:T,abi:[F4("function symbol() returns (string)")],functionName:"symbol",from:ya,nonce:E})),stateOverrides:[{address:ya,nonce:0}]}]:[]],traceTransfers:s,validation:c}),p=o?d[2]:d[0],[h,m,,w,g,x,C,P]=o?d:[],{calls:D,...F}=p,H=D.slice(0,-1)??[],O=h?.calls??[],M=m?.calls??[],N=[...O,...M].map(T=>T.status==="success"?Gr(T.data):null),v=w?.calls??[],I=g?.calls??[],S=[...v,...I].map(T=>T.status==="success"?Gr(T.data):null),y=(x?.calls??[]).map(T=>T.status==="success"?T.result:null),b=(P?.calls??[]).map(T=>T.status==="success"?T.result:null),_=(C?.calls??[]).map(T=>T.status==="success"?T.result:null),A=[];for(let[T,E]of S.entries()){let k=N[T];if(typeof E!="bigint"||typeof k!="bigint")continue;let L=y[T-1],R=b[T-1],U=_[T-1],j=T===0?{address:V2e,decimals:18,symbol:"ETH"}:{address:f[T-1],decimals:U||L?Number(L??1):void 0,symbol:R??void 0};A.some(z=>z.token.address===j.address)||A.push({token:j,value:{pre:k,post:E,diff:E-k}})}return{assetChanges:A,block:F,results:H}}var Sfn,bct=B(()=>{j2e();G2e();Ca();K2e();KJ();Dn();ul();bu();b2e();I2e();Sfn="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033"});function gct({r:t,s:e,to:n="hex",v:r,yParity:i}){let a=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new b7.Signature(Gr(t),Gr(e)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?o:Qo(o)}var wct=B(()=>{lbe();ms();Zo()});async function Z7(t,e){let{address:n,factory:r,factoryData:i,hash:a,signature:o,universalSignatureVerifierAddress:s=t.chain?.contracts?.universalSignatureVerifier?.address,...c}=e,l=Lo(o)?o:typeof o=="object"&&"r"in o&&"s"in o?gct(o):Vr(o),u=await(async()=>!r&&!i||D0t(l)?l:$7({address:r,data:i,signature:l}))();try{let f=s?{to:s,data:Oe({abi:Hbe,functionName:"isValidSig",args:[n,a,u]}),...c}:{data:Xd({abi:Hbe,args:[n,a,u],bytecode:lst}),...c},{data:d}=await He(t,If,"call")(f);return MY(d??"0x0")}catch(f){try{if(x6(Js(n),await dJ({hash:a,signature:o})))return!0}catch{}if(f instanceof VT)return!1;throw f}}var aZ=B(()=>{y8();KJ();iy();DB();ty();O7();_p();dn();jr();bu();L0t();ube();_2e();wct();B4()});async function vct(t,{address:e,message:n,factory:r,factoryData:i,signature:a,...o}){let s=yl(n);return Z7(t,{address:e,factory:r,factoryData:i,hash:s,signature:a,...o})}var Ect=B(()=>{PQ();aZ()});async function xct(t,e){let{address:n,factory:r,factoryData:i,signature:a,message:o,primaryType:s,types:c,domain:l,...u}=e,f=B0({message:o,primaryType:s,types:c,domain:l});return Z7(t,{address:n,factory:r,factoryData:i,hash:f,signature:a,...u})}var Act=B(()=>{KB();aZ()});function oZ(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:a,pollingInterval:o=t.pollingInterval}){let s=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),c;return s?(()=>{let f=ur(["watchBlockNumber",t.uid,e,n,o]);return Xs(f,{onBlockNumber:r,onError:i},d=>yu(async()=>{try{let p=await He(t,T6,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let h=c+1n;h<p;h++)d.onBlockNumber(h,c),c=h}(!c||p>c)&&(d.onBlockNumber(p,c),c=p)}catch(p){d.onError?.(p)}},{emitOnBegin:e,interval:o}))})():(()=>{let f=ur(["watchBlockNumber",t.uid,e,n]);return Xs(f,{onBlockNumber:r,onError:i},d=>{let p=!0,h=()=>p=!1;return(async()=>{try{let m=(()=>{if(t.transport.type==="fallback"){let g=t.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return g?g.value:t.transport}return t.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(g){if(!p)return;let x=Gr(g.result?.number);d.onBlockNumber(x,c),c=x},onError(g){d.onError?.(g)}});h=w,p||h()}catch(m){i?.(m)}})(),()=>h()})})()}var $2e=B(()=>{ms();jr();py();b8();P0();z7()});async function _ct(t,e){let{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:a,retryCount:o=6,retryDelay:s=({count:D})=>~~(1<<D)*200,timeout:c=18e4}=e,l=ur(["waitForTransactionReceipt",t.uid,i]),u=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval,f,d,p,h=!1,m,w,{promise:g,resolve:x,reject:C}=H7(),P=c?setTimeout(()=>{w?.(),m?.(),C(new tJ({hash:i}))},c):void 0;return m=Xs(l,{onReplaced:a,resolve:x,reject:C},async D=>{if(p=await He(t,W7,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&r<=1){clearTimeout(P),D.resolve(p),m?.();return}w=He(t,oZ,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(F){let H=M=>{clearTimeout(P),w?.(),M(),m?.()},O=F;if(!h)try{if(p){if(r>1&&(!p.blockNumber||O-p.blockNumber+1n<r))return;H(()=>D.resolve(p));return}if(n&&!f&&(h=!0,await D4(async()=>{f=await He(t,q7,"getTransaction")({hash:i}),f.blockNumber&&(O=f.blockNumber)},{delay:s,retryCount:o}),h=!1),p=await He(t,W7,"getTransactionReceipt")({hash:i}),r>1&&(!p.blockNumber||O-p.blockNumber+1n<r))return;H(()=>D.resolve(p))}catch(M){if(M instanceof jT||M instanceof GT){if(!f){h=!1;return}try{d=f,h=!0;let N=await D4(()=>He(t,kc,"getBlock")({blockNumber:O,includeTransactions:!0}),{delay:s,retryCount:o,shouldRetry:({error:S})=>S instanceof C7});h=!1;let v=N.transactions.find(({from:S,nonce:y})=>S===d.from&&y===d.nonce);if(!v||(p=await He(t,W7,"getTransactionReceipt")({hash:v.hash}),r>1&&(!p.blockNumber||O-p.blockNumber+1n<r)))return;let I="replaced";v.to===d.to&&v.value===d.value&&v.input===d.input?I="repriced":v.from===v.to&&v.value===0n&&(I="cancelled"),H(()=>{D.onReplaced?.({reason:I,replacedTransaction:d,transaction:v,transactionReceipt:p}),D.resolve(p)})}catch(N){H(()=>D.reject(N))}}else H(()=>D.reject(M))}}})}),g}var Tct=B(()=>{ybe();b6();jr();py();JJ();aQ();P0();O4();BQ();C2e();$2e()});function Sct(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:a,includeTransactions:o,poll:s,pollingInterval:c=t.pollingInterval}){let l=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1,f;return l?(()=>{let h=ur(["watchBlocks",t.uid,e,n,r,u,c]);return Xs(h,{onBlock:i,onError:a},m=>yu(async()=>{try{let w=await He(t,kc,"getBlock")({blockTag:e,includeTransactions:u});if(w.number!==null&&f?.number!=null){if(w.number===f.number)return;if(w.number-f.number>1&&n)for(let g=f?.number+1n;g<w.number;g++){let x=await He(t,kc,"getBlock")({blockNumber:g,includeTransactions:u});m.onBlock(x,f),f=x}}(f?.number==null||e==="pending"&&w?.number==null||w.number!==null&&w.number>f.number)&&(m.onBlock(w,f),f=w)}catch(w){m.onError?.(w)}},{emitOnBegin:r,interval:c}))})():(()=>{let h=!0,m=!0,w=()=>h=!1;return(async()=>{try{r&&He(t,kc,"getBlock")({blockTag:e,includeTransactions:u}).then(C=>{h&&m&&(i(C,void 0),m=!1)}).catch(a);let g=(()=>{if(t.transport.type==="fallback"){let C=t.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),{unsubscribe:x}=await g.subscribe({params:["newHeads"],async onData(C){if(!h)return;let P=await He(t,kc,"getBlock")({blockNumber:C.result?.number,includeTransactions:u}).catch(()=>{});h&&(i(P,f),m=!1,f=P)},onError(C){a?.(C)}});w=x,h||w()}catch(g){a?.(g)}})(),()=>w()})()}var Cct=B(()=>{jr();py();b8();P0();O4()});function Ict(t,{address:e,args:n,batch:r=!0,event:i,events:a,fromBlock:o,onError:s,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:f}){let d=typeof l<"u"?l:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=f??!1;return d?(()=>{let w=ur(["watchEvent",e,n,r,t.uid,i,u,o]);return Xs(w,{onLogs:c,onError:s},g=>{let x;o!==void 0&&(x=o-1n);let C,P=!1,D=yu(async()=>{if(!P){try{C=await He(t,AQ,"createEventFilter")({address:e,args:n,event:i,events:a,strict:p,fromBlock:o})}catch{}P=!0;return}try{let F;if(C)F=await He(t,g8,"getFilterChanges")({filter:C});else{let H=await He(t,T6,"getBlockNumber")({});x&&x!==H?F=await He(t,k7,"getLogs")({address:e,args:n,event:i,events:a,fromBlock:x+1n,toBlock:H}):F=[],x=H}if(F.length===0)return;if(r)g.onLogs(F);else for(let H of F)g.onLogs([H])}catch(F){C&&F instanceof w6&&(P=!1),g.onError?.(F)}},{emitOnBegin:!0,interval:u});return async()=>{C&&await He(t,w8,"uninstallFilter")({filter:C}),D()}})})():(()=>{let w=!0,g=()=>w=!1;return(async()=>{try{let x=(()=>{if(t.transport.type==="fallback"){let F=t.transport.transports.find(H=>H.config.type==="webSocket"||H.config.type==="ipc");return F?F.value:t.transport}return t.transport})(),C=a??(i?[i]:void 0),P=[];C&&(P=[C.flatMap(H=>m6({abi:[H],eventName:H.name,args:n}))],i&&(P=P[0]));let{unsubscribe:D}=await x.subscribe({params:["logs",{address:e,topics:P}],onData(F){if(!w)return;let H=F.result;try{let{eventName:O,args:M}=N7({abi:C??[],data:H.data,topics:H.topics,strict:p}),N=Qs(H,{args:M,eventName:O});c([N])}catch(O){let M,N;if(O instanceof Sp||O instanceof f6){if(f)return;M=O.abiItem.name,N=O.abiItem.inputs?.some(I=>!("name"in I&&I.name))}let v=Qs(H,{args:N?[]:{},eventName:M});c([v])}},onError(F){s?.(F)}});g=D,w||g()}catch(x){s?.(x)}})(),()=>g()})()}var Rct=B(()=>{BT();py();b8();P0();Va();f7();PJ();ly();jr();g2e();z7();FB();MJ();HB()});function Oct(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:a=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{let l=ur(["watchPendingTransactions",t.uid,e,a]);return Xs(l,{onTransactions:r,onError:n},u=>{let f,d=yu(async()=>{try{if(!f)try{f=await He(t,_Q,"createPendingTransactionFilter")({});return}catch(h){throw d(),h}let p=await He(t,g8,"getFilterChanges")({filter:f});if(p.length===0)return;if(e)u.onTransactions(p);else for(let h of p)u.onTransactions([h])}catch(p){u.onError?.(p)}},{emitOnBegin:!0,interval:a});return async()=>{f&&await He(t,w8,"uninstallFilter")({filter:f}),d()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{let{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!l)return;let p=d.result;r([p])},onError(d){n?.(d)}});u=f,l||u()}catch(f){n?.(f)}})(),()=>u()})()}var Nct=B(()=>{jr();py();b8();P0();w2e();FB();HB()});function Pct(t){let{scheme:e,statement:n,...r}=t.match(Cfn)?.groups??{},{chainId:i,expirationTime:a,issuedAt:o,notBefore:s,requestId:c,...l}=t.match(Ifn)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...s?{notBefore:new Date(s)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}var Cfn,Ifn,kct=B(()=>{Cfn=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Ifn=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/});function Mct(t){let{address:e,domain:n,message:r,nonce:i,scheme:a,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!pa(r.address,{strict:!1})||e&&!x6(r.address,e))return!1}catch{return!1}return!0}var Bct=B(()=>{Ip();O7()});async function Dct(t,e){let{address:n,domain:r,message:i,nonce:a,scheme:o,signature:s,time:c=new Date,...l}=e,u=Pct(i);if(!u.address||!Mct({address:n,domain:r,message:u,nonce:a,scheme:o,time:c}))return!1;let d=yl(i);return Z7(t,{address:u.address,hash:d,signature:s,...l})}var Lct=B(()=>{PQ();kct();Bct();aZ()});function Uct(t){return{call:e=>If(t,e),createAccessList:e=>xQ(t,e),createBlockFilter:()=>o0t(t),createContractEventFilter:e=>HY(t,e),createEventFilter:e=>AQ(t,e),createPendingTransactionFilter:()=>_Q(t),estimateContractGas:e=>Mot(t,e),estimateGas:e=>R7(t,e),getBalance:e=>NJ(t,e),getBlobBaseFee:()=>c0t(t),getBlock:e=>kc(t,e),getBlockNumber:e=>T6(t,e),getBlockTransactionCount:e=>u0t(t,e),getBytecode:e=>Dp(t,e),getChainId:()=>ha(t),getCode:e=>Dp(t,e),getContractEvents:e=>BJ(t,e),getEip712Domain:e=>p0t(t,e),getEnsAddress:e=>Vst(t,e),getEnsAvatar:e=>e0t(t,e),getEnsName:e=>n0t(t,e),getEnsResolver:e=>i0t(t,e),getEnsText:e=>EQ(t,e),getFeeHistory:e=>b0t(t,e),estimateFeesPerGas:e=>AJ(t,e),getFilterChanges:e=>g8(t,e),getFilterLogs:e=>w0t(t,e),getGasPrice:()=>I7(t),getLogs:e=>k7(t,e),getProof:e=>K0t(t,e),estimateMaxPriorityFeePerGas:e=>wot(t,e),getStorageAt:e=>q0t(t,e),getTransaction:e=>q7(t,e),getTransactionConfirmations:e=>Y0t(t,e),getTransactionCount:e=>f8(t,e),getTransactionReceipt:e=>W7(t,e),multicall:e=>Q0t(t,e),prepareTransactionRequest:e=>d8(t,e),readContract:e=>gt(t,e),sendRawTransaction:e=>j7(t,e),simulate:e=>qB(t,e),simulateBlocks:e=>qB(t,e),simulateCalls:e=>yct(t,e),simulateContract:e=>cn(t,e),verifyMessage:e=>vct(t,e),verifySiweMessage:e=>Dct(t,e),verifyTypedData:e=>xct(t,e),uninstallFilter:e=>w8(t,e),waitForTransactionReceipt:e=>_ct(t,e),watchBlocks:e=>Sct(t,e),watchBlockNumber:e=>oZ(t,e),watchContractEvent:e=>xst(t,e),watchEvent:e=>Ict(t,e),watchPendingTransactions:e=>Oct(t,e)}}var Fct=B(()=>{Kst();t0t();r0t();a0t();y2e();B4();b2e();s0t();Bye();g2e();w2e();Bot();TJ();OJ();vbe();_be();l0t();O4();z7();f0t();E6();TQ();Tbe();h0t();g0t();FB();v0t();xJ();MJ();$0t();W0t();BQ();J0t();_B();C2e();Z0t();kp();I2e();bct();Jbe();HB();Ect();Act();Tct();$2e();Cct();Ast();Rct();Nct();Lct();TB();rQ()});function eD(t){let{key:e="public",name:n="Public Client"}=t;return x8({...t,key:e,name:n,type:"publicClient"}).extend(Uct)}var Hct=B(()=>{jB();Fct()});async function zct(t,{chain:e}){let{id:n,name:r,nativeCurrency:i,rpcUrls:a,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Le(n),chainName:r,nativeCurrency:i,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:s})=>s):void 0}]},{dedupe:!0,retryCount:0})}var jct=B(()=>{dn()});function Gct(t,e){let{abi:n,args:r,bytecode:i,...a}=e,o=Xd({abi:n,args:r,bytecode:i});return E8(t,{...a,...a.authorizationList?{to:null}:{},data:o})}var Vct=B(()=>{DB();zB()});async function Kct(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>d6(n))}var $ct=B(()=>{ty()});async function qct(t,e={}){let{account:n=t.account,chainId:r}=e,i=n?Rn(n):void 0,a=r?[i?.address,[Le(r)]]:[i?.address],o=await t.request({method:"wallet_getCapabilities",params:a}),s={};for(let[c,l]of Object.entries(o)){s[Number(c)]={};for(let[u,f]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),s[Number(c)][u]=f}return typeof r=="number"?s[r]:s}var Wct=B(()=>{Ca();dn()});async function Yct(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}var Jct=B(()=>{});async function H4(t,e){let{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new yo({docsPath:"/docs/eip7702/prepareAuthorization"});let a=Rn(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Rn(e.executor)})(),s={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof s.chainId>"u"&&(s.chainId=t.chain?.id??await He(t,ha,"getChainId")({})),typeof s.nonce>"u"&&(s.nonce=await He(t,f8,"getTransactionCount")({address:a.address,blockTag:"pending"}),(o==="self"||o?.address&&x6(o.address,a.address))&&(s.nonce+=1)),s}var sZ=B(()=>{Ca();Mp();O7();jr();E6();_B()});async function Qct(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Js(n))}var Zct=B(()=>{ty()});async function Xct(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}var elt=B(()=>{});async function tlt(t,e){let{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}var nlt=B(()=>{});async function rlt(t,e){let{account:n=t.account}=e;if(!n)throw new yo({docsPath:"/docs/eip7702/signAuthorization"});let r=Rn(n);if(!r.signAuthorization)throw new v8({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});let i=await H4(t,e);return r.signAuthorization(i)}var ilt=B(()=>{Ca();Mp();sZ()});async function z4(t,{account:e=t.account,message:n}){if(!e)throw new yo({docsPath:"/docs/actions/wallet/signMessage"});let r=Rn(e);if(r.signMessage)return r.signMessage({message:n});let i=typeof n=="string"?Ys(n):n.raw instanceof Uint8Array?An(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}var q2e=B(()=>{Ca();Mp();dn()});async function alt(t,e){let{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new yo({docsPath:"/docs/actions/wallet/signTransaction"});let a=Rn(n);mu({account:a,...e});let o=await He(t,ha,"getChainId")({});r!==null&&tQ({currentChainId:o,chain:r});let c=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Qd;return a.signTransaction?a.signTransaction({...i,chainId:o},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(i),chainId:Le(o),from:a.address}]},{retryCount:0})}var olt=B(()=>{Ca();Mp();Xbe();dn();R4();jr();l8();E6()});async function tD(t,e){let{account:n=t.account,domain:r,message:i,primaryType:a}=e;if(!n)throw new yo({docsPath:"/docs/actions/wallet/signTypedData"});let o=Rn(n),s={EIP712Domain:S6({domain:r}),...e.types};if(my({domain:r,message:i,primaryType:a,types:s}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:a,types:s});let c=E2e({domain:r,message:i,primaryType:a,types:s});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}var W2e=B(()=>{Ca();Mp();NQ()});async function slt(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Le(e)}]},{retryCount:0})}var clt=B(()=>{dn()});async function llt(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}var ult=B(()=>{});function flt(t){return{addChain:e=>zct(t,e),deployContract:e=>Gct(t,e),getAddresses:()=>Kct(t),getCallsStatus:e=>cQ(t,e),getCapabilities:e=>qct(t,e),getChainId:()=>ha(t),getPermissions:()=>Yct(t),prepareAuthorization:e=>H4(t,e),prepareTransactionRequest:e=>d8(t,e),requestAddresses:()=>Qct(t),requestPermissions:e=>Xct(t,e),sendCalls:e=>Tst(t,e),sendRawTransaction:e=>j7(t,e),sendTransaction:e=>E8(t,e),showCallsStatus:e=>tlt(t,e),signAuthorization:e=>rlt(t,e),signMessage:e=>z4(t,e),signTransaction:e=>alt(t,e),signTypedData:e=>tD(t,e),switchChain:e=>slt(t,e),waitForCallsStatus:e=>Sst(t,e),watchAsset:e=>llt(t,e),writeContract:e=>ai(t,e)}}var dlt=B(()=>{E6();jct();Vct();$ct();s2e();Wct();Jct();sZ();TB();Zct();elt();o2e();rQ();zB();nlt();ilt();q2e();olt();W2e();clt();Cst();ult();n2e()});function yy(t){let{key:e="wallet",name:n="Wallet Client",transport:r}=t;return x8({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(flt)}var plt=B(()=>{jB();dlt()});var Wt=B(()=>{ZA();Pst();Fst();Hct();plt();K2e();mbe();FT();Kbe();Wd();DB();ul();N0t();KB();Zo();dn();ys();E0t();C0t();ms();ty();PQ();pu();Zm();z0t();Vd();p6();NQ()});var uZ={};$t(uZ,{fromBytes:()=>Y2e,fromHex:()=>Nfn,fromString:()=>Pfn,toBytes:()=>J2e,toHex:()=>kfn,toString:()=>Mfn});function Y2e(t,e={}){let{pad:n=!0,url:r=!1}=e,i=new Uint8Array(Math.ceil(t.length/3)*4);for(let c=0,l=0;l<t.length;c+=4,l+=3){let u=(t[l]<<16)+(t[l+1]<<8)+(t[l+2]|0);i[c]=cZ[u>>18],i[c+1]=cZ[u>>12&63],i[c+2]=cZ[u>>6&63],i[c+3]=cZ[u&63]}let a=t.length%3,o=Math.floor(t.length/3)*4+(a&&a+1),s=Ofn.decode(new Uint8Array(i.buffer,0,o));return n&&a===1&&(s+="=="),n&&a===2&&(s+="="),r&&(s=s.replaceAll("+","-").replaceAll("/","_")),s}function Nfn(t,e={}){return Y2e(Zd(t),e)}function Pfn(t,e={}){return Y2e(UJ(t),e)}function J2e(t){let e=t.replace(/=+$/,""),n=e.length,r=new Uint8Array(n+3);Rfn.encodeInto(e+"===",r);for(let a=0,o=0;a<e.length;a+=4,o+=3){let s=(lZ[r[a]]<<18)+(lZ[r[a+1]]<<12)+(lZ[r[a+2]]<<6)+lZ[r[a+3]];r[o]=s>>16,r[o+1]=s>>8&255,r[o+2]=s&255}let i=(n>>2)*3+(n%4&&n%4-1);return new Uint8Array(r.buffer,0,i)}function kfn(t){return M0(J2e(t))}function Mfn(t){return Zot(J2e(t))}var Rfn,Ofn,cZ,lZ,hlt=B(()=>{fy();ml();Rfn=new TextEncoder,Ofn=new TextDecoder,cZ=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[e,t.charCodeAt(0)])),lZ={...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[t.charCodeAt(0),e])),61:0,45:62,95:63}});var mlt=B(()=>{});var cOr,ylt=B(()=>{cOr=Uint8Array.from([105,171,180,181,160,222,75,198,42,42,32,31,141,37,186,233])});var eS={};$t(eS,{InvalidRError:()=>dZ,InvalidSError:()=>pZ,InvalidSerializedSizeError:()=>fZ,InvalidVError:()=>hZ,InvalidYParityError:()=>j4,MissingPropertiesError:()=>X7,assert:()=>mZ,extract:()=>Lfn,from:()=>Z2e,fromBytes:()=>blt,fromDerBytes:()=>Ufn,fromDerHex:()=>glt,fromHex:()=>Q2e,fromLegacy:()=>wlt,fromRpc:()=>vlt,fromTuple:()=>Ffn,toBytes:()=>Hfn,toDerBytes:()=>zfn,toDerHex:()=>jfn,toHex:()=>Elt,toLegacy:()=>Gfn,toRpc:()=>Vfn,toTuple:()=>Kfn,vToYParity:()=>yZ,validate:()=>$fn,yParityToV:()=>X2e});function mZ(t,e={}){let{recovered:n}=e;if(typeof t.r>"u")throw new X7({signature:t});if(typeof t.s>"u")throw new X7({signature:t});if(n&&typeof t.yParity>"u")throw new X7({signature:t});if(t.r<0n||t.r>U2e)throw new dZ({value:t.r});if(t.s<0n||t.s>U2e)throw new pZ({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new j4({value:t.yParity})}function blt(t){return Q2e(M0(t))}function Q2e(t){if(t.length!==130&&t.length!==132)throw new fZ({signature:t});let e=BigInt(Zs(t,0,32)),n=BigInt(Zs(t,32,64)),r=(()=>{let i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return yZ(i)}catch{throw new j4({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Lfn(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Z2e(t)}function Z2e(t){let e=typeof t=="string"?Q2e(t):t instanceof Uint8Array?blt(t):typeof t.r=="string"?vlt(t):t.v?wlt(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return mZ(e),e}function Ufn(t){return glt(M0(t))}function glt(t){let{r:e,s:n}=B2.Signature.fromDER(U7(t).slice(2));return{r:e,s:n}}function wlt(t){return{r:t.r,s:t.s,yParity:yZ(t.v)}}function vlt(t){let e=(()=>{let n=t.v?Number(t.v):void 0,r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=yZ(n)),typeof r!="number")throw new j4({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function Ffn(t){let[e,n,r]=t;return Z2e({r:n==="0x"?0n:BigInt(n),s:r==="0x"?0n:BigInt(r),yParity:e==="0x"?0:Number(e)})}function Hfn(t){return Zd(Elt(t))}function Elt(t){mZ(t);let e=t.r,n=t.s;return bs(Kr(e,{size:32}),Kr(n,{size:32}),typeof t.yParity=="number"?Kr(X2e(t.yParity),{size:1}):"0x")}function zfn(t){return new B2.Signature(t.r,t.s).toDERRawBytes()}function jfn(t){return`0x${new B2.Signature(t.r,t.s).toDERHex()}`}function Gfn(t){return{r:t.r,s:t.s,v:X2e(t.yParity)}}function Vfn(t){let{r:e,s:n,yParity:r}=t;return{r:Kr(e,{size:32}),s:Kr(n,{size:32}),yParity:r===0?"0x0":"0x1"}}function Kfn(t){let{r:e,s:n,yParity:r}=t;return[r?"0x01":"0x",e===0n?"0x":kB(Kr(e)),n===0n?"0x":kB(Kr(n))]}function $fn(t,e={}){try{return mZ(t,e),!0}catch{return!1}}function yZ(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new hZ({value:t})}function X2e(t){if(t===0)return 27;if(t===1)return 28;throw new j4({value:t})}var fZ,X7,dZ,pZ,j4,hZ,xlt=B(()=>{Qfe();fy();Np();ml();M7();JB();fZ=class extends On{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${$a(U7(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},X7=class extends On{constructor({signature:e}){super(`Signature \`${h8(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},dZ=class extends On{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},pZ=class extends On{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},j4=class extends On{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},hZ=class extends On{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}});var by,gy,Alt=B(()=>{by=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],gy=[{inputs:[{name:"success",type:"bool"},{name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"},{name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]});function bZ(t){let{authorization:e,factory:n,factoryData:r}=t;if(n==="0x7702"||n==="0x7702000000000000000000000000000000000000"){if(!e)return"0x7702000000000000000000000000000000000000";let i=e.address;return In([i,r??"0x"])}return n?In([n,r??"0x"]):"0x"}var ege=B(()=>{ys()});function G4(t){let{callGasLimit:e,callData:n,maxPriorityFeePerGas:r,maxFeePerGas:i,paymaster:a,paymasterData:o,paymasterPostOpGasLimit:s,paymasterVerificationGasLimit:c,sender:l,signature:u="0x",verificationGasLimit:f}=t,d=In([kr(Le(f||0n),{size:16}),kr(Le(e||0n),{size:16})]),p=bZ(t),h=In([kr(Le(r||0n),{size:16}),kr(Le(i||0n),{size:16})]),m=t.nonce??0n,w=a?In([a,kr(Le(c||0n),{size:16}),kr(Le(s||0n),{size:16}),o||"0x"]):"0x",g=t.preVerificationGas??0n;return{accountGasLimits:d,callData:n,initCode:p,gasFees:h,nonce:m,paymasterAndData:w,preVerificationGas:g,sender:l,signature:u}}var gZ=B(()=>{ys();Zm();bu();ege()});function _lt(t){let{chainId:e,entryPointAddress:n,userOperation:r}=t,i=G4(r);return{types:qfn,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:e,verifyingContract:n},message:i}}var qfn,Tlt=B(()=>{gZ();qfn={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]}});function wy(t){let{chainId:e,entryPointAddress:n,entryPointVersion:r}=t,i=t.userOperation,{authorization:a,callData:o="0x",callGasLimit:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,paymasterAndData:f="0x",preVerificationGas:d,sender:p,verificationGasLimit:h}=i;if(r==="0.8")return B0(_lt({chainId:e,entryPointAddress:n,userOperation:i}));let m=(()=>{if(r==="0.6"){let w=i.initCode?.slice(0,42),g=i.initCode?.slice(42),x=bZ({authorization:a,factory:w,factoryData:g});return gn([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[p,u,Ft(x),Ft(o),s,h,d,c,l,Ft(f)])}if(r==="0.7"){let w=G4(i);return gn([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[w.sender,w.nonce,Ft(w.initCode),Ft(w.callData),w.accountGasLimits,w.preVerificationGas,w.gasFees,Ft(w.paymasterAndData)])}throw new Error(`entryPointVersion "${r}" not supported.`)})();return Ft(gn([{type:"bytes32"},{type:"address"},{type:"uint256"}],[Ft(m),n,BigInt(e)]))}var Slt=B(()=>{Wd();pu();KB();ege();Tlt();gZ()});async function Rf(t){let{extend:e,nonceKeyManager:n=S2e({source:{get(){return Date.now()},set(){}}}),...r}=t,i=!1,a=await t.getAddress();return{...e,...r,address:a,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:t.getFactoryArgs()},async getNonce(o){let s=o?.key??BigInt(await n.consume({address:a,chainId:t.client.chain.id,client:t.client}));return t.getNonce?await t.getNonce({...o,key:s}):await gt(t.client,{abi:wv(["function getNonce(address, uint192) pure returns (uint256)"]),address:t.entryPoint.address,functionName:"getNonce",args:[a,s]})},async isDeployed(){return i?!0:(i=!!await He(t.client,Dp,"getCode")({address:a}),i)},...t.sign?{async sign(o){let[{factory:s,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.sign(o)]);return s&&c?$7({address:s,data:c,signature:l}):l}}:{},async signMessage(o){let[{factory:s,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.signMessage(o)]);return s&&c&&s!=="0x7702"?$7({address:s,data:c,signature:l}):l},async signTypedData(o){let[{factory:s,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.signTypedData(o)]);return s&&c&&s!=="0x7702"?$7({address:s,data:c,signature:l}):l},type:"smart"}}var Clt=B(()=>{ZA();TQ();kp();jr();j0t();_2e()});function tge(t){if(typeof t=="string"){if(!pa(t,{strict:!1}))throw new Uo({address:t});return{address:t,type:"json-rpc"}}if(!pa(t.address,{strict:!1}))throw new Uo({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}var Ilt=B(()=>{ey();Ip()});var Rlt=B(()=>{Ilt()});var tS,C6,nS,rS,iS,aS,oS,sS,cS,lS,uS,fS,dS,V4,pS,I6,hS,mS,K4,$4,yS,bS,q4,gS,W4,wS,vS,ES,xS,Y4,J4,Q4,Z4,wZ,AS,_S,nge=B(()=>{Dn();tS=class extends de{constructor({cause:e}){super("Smart Account is not deployed.",{cause:e,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}};Object.defineProperty(tS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});C6=class extends de{constructor({cause:e,data:n,message:r}={}){let i=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n}};Object.defineProperty(C6,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521});Object.defineProperty(C6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});nS=class extends de{constructor({cause:e}){super("Failed to send funds to beneficiary.",{cause:e,name:"FailedToSendToBeneficiaryError"})}};Object.defineProperty(nS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});rS=class extends de{constructor({cause:e}){super("Gas value overflowed.",{cause:e,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}};Object.defineProperty(rS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});iS=class extends de{constructor({cause:e}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:e,name:"HandleOpsOutOfGasError"})}};Object.defineProperty(iS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});aS=class extends de{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Failed to simulate deployment for Smart Account.",{cause:e,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)",`- Smart Account deployment execution reverted with an error
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeFailedError"})}};Object.defineProperty(aS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});oS=class extends de{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Smart Account initialization implementation did not create an account.",{cause:e,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid",`- Smart Account initialization implementation is incorrect
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}};Object.defineProperty(oS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});sS=class extends de{constructor({cause:e,factory:n,factoryData:r,initCode:i,sender:a}){super("Smart Account initialization implementation does not return the expected sender.",{cause:e,metaMessages:["This could arise when:",`Smart Account initialization implementation does not return a sender address
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`,a&&`sender: ${a}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}};Object.defineProperty(sS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});cS=class extends de{constructor({cause:e}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:e,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}};Object.defineProperty(cS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});lS=class extends de{constructor({cause:e}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:e,name:"InternalCallOnlyError"})}};Object.defineProperty(lS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});uS=class extends de{constructor({cause:e}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:e,name:"InvalidAggregatorError"})}};Object.defineProperty(uS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});fS=class extends de{constructor({cause:e,nonce:n}){super("Invalid Smart Account nonce used for User Operation.",{cause:e,metaMessages:[n&&`nonce: ${n}`].filter(Boolean),name:"InvalidAccountNonceError"})}};Object.defineProperty(fS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});dS=class extends de{constructor({cause:e}){super("Bundler has not set a beneficiary address.",{cause:e,name:"InvalidBeneficiaryError"})}};Object.defineProperty(dS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});V4=class extends de{constructor({cause:e}){super("Invalid fields set on User Operation.",{cause:e,name:"InvalidFieldsError"})}};Object.defineProperty(V4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});pS=class extends de{constructor({cause:e,paymasterAndData:n}){super("Paymaster properties provided are invalid.",{cause:e,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",n&&`paymasterAndData: ${n}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}};Object.defineProperty(pS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});I6=class extends de{constructor({cause:e}){super("Paymaster deposit for the User Operation is too low.",{cause:e,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}};Object.defineProperty(I6,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508});Object.defineProperty(I6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});hS=class extends de{constructor({cause:e}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:e,name:"PaymasterFunctionRevertedError"})}};Object.defineProperty(hS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});mS=class extends de{constructor({cause:e}){super("The Paymaster contract has not been deployed.",{cause:e,name:"PaymasterNotDeployedError"})}};Object.defineProperty(mS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});K4=class extends de{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterRateLimitError"})}};Object.defineProperty(K4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});$4=class extends de{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterStakeTooLowError"})}};Object.defineProperty($4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});yS=class extends de{constructor({cause:e}){super("Paymaster `postOp` function reverted.",{cause:e,name:"PaymasterPostOpFunctionRevertedError"})}};Object.defineProperty(yS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});bS=class extends de{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Smart Account has already been deployed.",{cause:e,metaMessages:["Remove the following properties and try again:",n&&"`factory`",r&&"`factoryData`",i&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}};Object.defineProperty(bS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});q4=class extends de{constructor({cause:e}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:e,name:"SignatureCheckFailedError"})}};Object.defineProperty(q4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});gS=class extends de{constructor({cause:e}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:e,name:"SmartAccountFunctionRevertedError"})}};Object.defineProperty(gS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});W4=class extends de{constructor({cause:e}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:e,name:"UnsupportedSignatureAggregatorError"})}};Object.defineProperty(W4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});wS=class extends de{constructor({cause:e}){super("User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}};Object.defineProperty(wS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});vS=class extends de{constructor({cause:e}){super("Paymaster for User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}};Object.defineProperty(vS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});ES=class extends de{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}};Object.defineProperty(ES,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});xS=class extends de{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}};Object.defineProperty(xS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});Y4=class extends de{constructor({cause:e}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:e,name:"UserOperationRejectedByEntryPointError"})}};Object.defineProperty(Y4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});J4=class extends de{constructor({cause:e}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:e,name:"UserOperationRejectedByPaymasterError"})}};Object.defineProperty(J4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});Q4=class extends de{constructor({cause:e}){super("User Operation rejected with op code validation error.",{cause:e,name:"UserOperationRejectedByOpCodeError"})}};Object.defineProperty(Q4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});Z4=class extends de{constructor({cause:e}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:e,name:"UserOperationOutOfTimeRangeError"})}};Object.defineProperty(Z4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});wZ=class extends de{constructor({cause:e}){super(`An error occurred while executing user operation: ${e?.shortMessage}`,{cause:e,name:"UnknownBundlerError"})}},AS=class extends de{constructor({cause:e}){super("User Operation verification gas limit exceeded.",{cause:e,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}};Object.defineProperty(AS,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});_S=class extends de{constructor({cause:e}){super("User Operation verification gas limit is too low.",{cause:e,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}};Object.defineProperty(_S,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/})});var vZ,EZ,xZ,nD,rD=B(()=>{Dn();b6();bu();vZ=class extends de{constructor(e,{callData:n,callGasLimit:r,docsPath:i,factory:a,factoryData:o,initCode:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,paymaster:f,paymasterAndData:d,paymasterData:p,paymasterPostOpGasLimit:h,paymasterVerificationGasLimit:m,preVerificationGas:w,sender:g,signature:x,verificationGasLimit:C}){let P=ny({callData:n,callGasLimit:r,factory:a,factoryData:o,initCode:s,maxFeePerGas:typeof c<"u"&&`${Ka(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ka(l)} gwei`,nonce:u,paymaster:f,paymasterAndData:d,paymasterData:p,paymasterPostOpGasLimit:h,paymasterVerificationGasLimit:m,preVerificationGas:w,sender:g,signature:x,verificationGasLimit:C});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",P].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},EZ=class extends de{constructor({hash:e}){super(`User Operation receipt with hash "${e}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}},xZ=class extends de{constructor({hash:e}){super(`User Operation with hash "${e}" could not be found.`,{name:"UserOperationNotFoundError"})}},nD=class extends de{constructor({hash:e}){super(`Timed out while waiting for User Operation with hash "${e}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}});function Olt(t,e){let n=(t.details||"").toLowerCase();if(tS.message.test(n))return new tS({cause:t});if(nS.message.test(n))return new nS({cause:t});if(rS.message.test(n))return new rS({cause:t});if(iS.message.test(n))return new iS({cause:t});if(aS.message.test(n))return new aS({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(oS.message.test(n))return new oS({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(sS.message.test(n))return new sS({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode,sender:e.sender});if(cS.message.test(n))return new cS({cause:t});if(lS.message.test(n))return new lS({cause:t});if(fS.message.test(n))return new fS({cause:t,nonce:e.nonce});if(uS.message.test(n))return new uS({cause:t});if(dS.message.test(n))return new dS({cause:t});if(pS.message.test(n))return new pS({cause:t});if(I6.message.test(n))return new I6({cause:t});if(hS.message.test(n))return new hS({cause:t});if(mS.message.test(n))return new mS({cause:t});if(yS.message.test(n))return new yS({cause:t});if(gS.message.test(n))return new gS({cause:t});if(bS.message.test(n))return new bS({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(wS.message.test(n))return new wS({cause:t});if(vS.message.test(n))return new vS({cause:t});if(xS.message.test(n))return new xS({cause:t});if(ES.message.test(n))return new ES({cause:t});if(AS.message.test(n))return new AS({cause:t});if(_S.message.test(n))return new _S({cause:t});let r=t.walk(i=>Wfn.some(a=>a.code===i.code));if(r){if(r.code===C6.code)return new C6({cause:t,data:r.data,message:r.details});if(r.code===V4.code)return new V4({cause:t});if(r.code===I6.code)return new I6({cause:t});if(r.code===K4.code)return new K4({cause:t});if(r.code===$4.code)return new $4({cause:t});if(r.code===q4.code)return new q4({cause:t});if(r.code===W4.code)return new W4({cause:t});if(r.code===Z4.code)return new Z4({cause:t});if(r.code===Y4.code)return new Y4({cause:t});if(r.code===J4.code)return new J4({cause:t});if(r.code===Q4.code)return new Q4({cause:t})}return new wZ({cause:t})}var Wfn,Nlt=B(()=>{nge();Wfn=[C6,V4,I6,K4,$4,q4,W4,Z4,Y4,J4,Q4]});function AZ(t,{calls:e,docsPath:n,...r}){let i=(()=>{let a=Olt(t,r);if(e&&a instanceof C6){let o=Yfn(a),s=e?.filter(c=>c.abi);if(o&&s.length>0)return Jfn({calls:s,revertData:o})}return a})();return new vZ(i,{docsPath:n,...r})}function Yfn(t){let e;return t.walk(n=>{let r=n;if(typeof r.data=="string"||typeof r.data?.revertData=="string"||!(r instanceof de)&&typeof r.message=="string"){let i=(r.data?.revertData||r.data||r.message).match?.(/(0x[A-Za-z0-9]*)/);if(i)return e=i[1],!0}return!1}),e}function Jfn(t){let{calls:e,revertData:n}=t,{abi:r,functionName:i,args:a,to:o}=(()=>{let c=e?.filter(u=>!!u.abi);if(c.length===1)return c[0];let l=c.filter(u=>{try{return!!HT({abi:u.abi,data:n})}catch{return!1}});return l.length===1?l[0]:{abi:[],functionName:c.reduce((u,f)=>`${u?`${u} | `:""}${f.functionName}`,""),args:void 0,to:void 0}})(),s=n==="0x"?new KT({functionName:i}):new ry({abi:r,data:n,functionName:i});return new w4(s,{abi:r,args:a,contractAddress:o,functionName:i})}var rge=B(()=>{Dn();iy();KY();nge();rD();Nlt()});function Plt(t){let e={};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),e}var klt=B(()=>{});function _8(t){let e={};return typeof t.callData<"u"&&(e.callData=t.callData),typeof t.callGasLimit<"u"&&(e.callGasLimit=Le(t.callGasLimit)),typeof t.factory<"u"&&(e.factory=t.factory),typeof t.factoryData<"u"&&(e.factoryData=t.factoryData),typeof t.initCode<"u"&&(e.initCode=t.initCode),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Le(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Le(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Le(t.nonce)),typeof t.paymaster<"u"&&(e.paymaster=t.paymaster),typeof t.paymasterAndData<"u"&&(e.paymasterAndData=t.paymasterAndData||"0x"),typeof t.paymasterData<"u"&&(e.paymasterData=t.paymasterData),typeof t.paymasterPostOpGasLimit<"u"&&(e.paymasterPostOpGasLimit=Le(t.paymasterPostOpGasLimit)),typeof t.paymasterVerificationGasLimit<"u"&&(e.paymasterVerificationGasLimit=Le(t.paymasterVerificationGasLimit)),typeof t.preVerificationGas<"u"&&(e.preVerificationGas=Le(t.preVerificationGas)),typeof t.sender<"u"&&(e.sender=t.sender),typeof t.signature<"u"&&(e.signature=t.signature),typeof t.verificationGasLimit<"u"&&(e.verificationGasLimit=Le(t.verificationGasLimit)),typeof t.authorization<"u"&&(e.eip7702Auth=Qfn(t.authorization)),e}function Qfn(t){return{address:t.address,chainId:Le(t.chainId),nonce:Le(t.nonce),r:t.r?Le(BigInt(t.r),{size:32}):kr("0x",{size:32}),s:t.s?Le(BigInt(t.s),{size:32}):kr("0x",{size:32}),yParity:t.yParity?Le(t.yParity,{size:1}):kr("0x",{size:32})}}var iD=B(()=>{dn();bu()});var Kt=B(()=>{B4();E6();TQ();kp();sZ();q2e();W2e();Jbe();n2e()});async function _Z(t,e){let{chainId:n,entryPointAddress:r,context:i,...a}=e,o=_8(a),{paymasterPostOpGasLimit:s,paymasterVerificationGasLimit:c,...l}=await t.request({method:"pm_getPaymasterData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},r,Le(n),i]});return{...l,...s&&{paymasterPostOpGasLimit:Gr(s)},...c&&{paymasterVerificationGasLimit:Gr(c)}}}var ige=B(()=>{ms();dn();iD()});async function TZ(t,e){let{chainId:n,entryPointAddress:r,context:i,...a}=e,o=_8(a),{paymasterPostOpGasLimit:s,paymasterVerificationGasLimit:c,...l}=await t.request({method:"pm_getPaymasterStubData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},r,Le(n),i]});return{...l,...s&&{paymasterPostOpGasLimit:Gr(s)},...c&&{paymasterVerificationGasLimit:Gr(c)}}}var age=B(()=>{ms();dn();iD()});async function TS(t,e){let n=e,{account:r=t.account,parameters:i=Zfn,stateOverride:a}=n;if(!r)throw new yo;let o=Rn(r),s=t,c=n.paymaster??s?.paymaster,l=typeof c=="string"?c:void 0,{getPaymasterStubData:u,getPaymasterData:f}=(()=>{if(c===!0)return{getPaymasterStubData:F=>He(s,TZ,"getPaymasterStubData")(F),getPaymasterData:F=>He(s,_Z,"getPaymasterData")(F)};if(typeof c=="object"){let{getPaymasterStubData:F,getPaymasterData:H}=c;return{getPaymasterStubData:H&&F?F:H,getPaymasterData:H&&F?H:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),d=n.paymasterContext?n.paymasterContext:s?.paymasterContext,p={...n,paymaster:l,sender:o.address},[h,m,w,g,x]=await Promise.all([(async()=>n.calls?o.encodeCalls(n.calls.map(F=>{let H=F;return H.abi?{data:Oe(H),to:H.to,value:H.value}:H})):n.callData)(),(async()=>{if(!i.includes("factory"))return;if(n.initCode)return{initCode:n.initCode};if(n.factory&&n.factoryData)return{factory:n.factory,factoryData:n.factoryData};let{factory:F,factoryData:H}=await o.getFactoryArgs();return o.entryPoint.version==="0.6"?{initCode:F&&H?In([F,H]):void 0}:{factory:F,factoryData:H}})(),(async()=>{if(i.includes("fees")){if(typeof n.maxFeePerGas=="bigint"&&typeof n.maxPriorityFeePerGas=="bigint")return p;if(s?.userOperation?.estimateFeesPerGas){let F=await s.userOperation.estimateFeesPerGas({account:o,bundlerClient:s,userOperation:p});return{...p,...F}}try{let F=s.client??t,H=await He(F,AJ,"estimateFeesPerGas")({chain:F.chain,type:"eip1559"});return{maxFeePerGas:typeof n.maxFeePerGas=="bigint"?n.maxFeePerGas:BigInt(2n*H.maxFeePerGas),maxPriorityFeePerGas:typeof n.maxPriorityFeePerGas=="bigint"?n.maxPriorityFeePerGas:BigInt(2n*H.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(i.includes("nonce"))return typeof n.nonce=="bigint"?n.nonce:o.getNonce()})(),(async()=>{if(i.includes("authorization")){if(typeof n.authorization=="object")return n.authorization;if(o.authorization&&!await o.isDeployed())return{...await H4(o.client,o.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);typeof h<"u"&&(p.callData=h),typeof m<"u"&&(p={...p,...m}),typeof w<"u"&&(p={...p,...w}),typeof g<"u"&&(p.nonce=g),typeof x<"u"&&(p.authorization=x),i.includes("signature")&&(typeof n.signature<"u"?p.signature=n.signature:p.signature=await o.getStubSignature(p)),o.entryPoint.version==="0.6"&&!p.initCode&&(p.initCode="0x");let C;async function P(){return C||(t.chain?t.chain.id:(C=await He(t,ha,"getChainId")({}),C))}let D=!1;if(i.includes("paymaster")&&u&&!l&&!n.paymasterAndData){let{isFinal:F=!1,sponsor:H,...O}=await u({chainId:await P(),entryPointAddress:o.entryPoint.address,context:d,...p});D=F,p={...p,...O}}if(o.entryPoint.version==="0.6"&&!p.paymasterAndData&&(p.paymasterAndData="0x"),i.includes("gas")){if(o.userOperation?.estimateGas){let F=await o.userOperation.estimateGas(p);p={...p,...F}}if(typeof p.callGasLimit>"u"||typeof p.preVerificationGas>"u"||typeof p.verificationGasLimit>"u"||p.paymaster&&typeof p.paymasterPostOpGasLimit>"u"||p.paymaster&&typeof p.paymasterVerificationGasLimit>"u"){let F=await He(s,CZ,"estimateUserOperationGas")({account:o,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:a,...p.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...p});p={...p,callGasLimit:p.callGasLimit??F.callGasLimit,preVerificationGas:p.preVerificationGas??F.preVerificationGas,verificationGasLimit:p.verificationGasLimit??F.verificationGasLimit,paymasterPostOpGasLimit:p.paymasterPostOpGasLimit??F.paymasterPostOpGasLimit,paymasterVerificationGasLimit:p.paymasterVerificationGasLimit??F.paymasterVerificationGasLimit}}}if(i.includes("paymaster")&&f&&!l&&!n.paymasterAndData&&!D){let F=await f({chainId:await P(),entryPointAddress:o.entryPoint.address,context:d,...p});p={...p,...F}}return delete p.calls,delete p.parameters,delete p.paymasterContext,typeof p.paymaster!="string"&&delete p.paymaster,p}var Zfn,SZ=B(()=>{Ca();Kt();TJ();E6();Mp();ul();ys();jr();ige();age();oge();Zfn=["factory","fees","gas","paymaster","nonce","signature","authorization"]});async function CZ(t,e){let{account:n=t.account,entryPointAddress:r,stateOverride:i}=e;if(!n&&!e.sender)throw new yo;let a=n?Rn(n):void 0,o=c8(i),s=a?await He(t,TS,"prepareUserOperation")({...e,parameters:["authorization","factory","nonce","paymaster","signature"]}):e;try{let c=[_8(s),r??a?.entryPoint?.address],l=await t.request({method:"eth_estimateUserOperationGas",params:o?[...c,o]:[...c]});return Plt(l)}catch(c){let l=e.calls;throw AZ(c,{...s,...l?{calls:l}:{}})}}var oge=B(()=>{Ca();Mp();jr();AB();rge();klt();iD();SZ()});function Mlt(t){return t.request({method:"eth_supportedEntryPoints"})}var Blt=B(()=>{});function Dlt(t){let e={...t};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.maxFeePerGas&&(e.maxFeePerGas=BigInt(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=BigInt(t.maxPriorityFeePerGas)),t.nonce&&(e.nonce=BigInt(t.nonce)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),e}var Llt=B(()=>{});async function Ult(t,{hash:e}){let n=await t.request({method:"eth_getUserOperationByHash",params:[e]},{dedupe:!0});if(!n)throw new xZ({hash:e});let{blockHash:r,blockNumber:i,entryPoint:a,transactionHash:o,userOperation:s}=n;return{blockHash:r,blockNumber:BigInt(i),entryPoint:a,transactionHash:o,userOperation:Dlt(s)}}var Flt=B(()=>{rD();Llt()});function Hlt(t){let e={...t};return t.actualGasCost&&(e.actualGasCost=BigInt(t.actualGasCost)),t.actualGasUsed&&(e.actualGasUsed=BigInt(t.actualGasUsed)),t.logs&&(e.logs=t.logs.map(n=>Qs(n))),t.receipt&&(e.receipt=oQ(e.receipt)),e}var zlt=B(()=>{ly();sQ()});async function IZ(t,{hash:e}){let n=await t.request({method:"eth_getUserOperationReceipt",params:[e]},{dedupe:!0});if(!n)throw new EZ({hash:e});return Hlt(n)}var sge=B(()=>{rD();zlt()});async function jlt(t,e){let{account:n=t.account,entryPointAddress:r}=e;if(!n&&!e.sender)throw new yo;let i=n?Rn(n):void 0,a=i?await He(t,TS,"prepareUserOperation")(e):e,o=e.signature||await i?.signUserOperation?.(a),s=_8({...a,signature:o});try{return await t.request({method:"eth_sendUserOperation",params:[s,r??i?.entryPoint?.address]},{retryCount:0})}catch(c){let l=e.calls;throw AZ(c,{...a,...l?{calls:l}:{},signature:o})}}var Glt=B(()=>{Ca();Mp();jr();rge();iD();SZ()});function Vlt(t,e){let{hash:n,pollingInterval:r=t.pollingInterval,retryCount:i,timeout:a=12e4}=e,o=0,s=ur(["waitForUserOperationReceipt",t.uid,n]);return new Promise((c,l)=>{let u=Xs(s,{resolve:c,reject:l},f=>{let d=h=>{p(),h(),u()},p=yu(async()=>{i&&o>=i&&d(()=>f.reject(new nD({hash:n})));try{let h=await He(t,IZ,"getUserOperationReceipt")({hash:n});d(()=>f.resolve(h))}catch(h){let m=h;m.name!=="UserOperationReceiptNotFoundError"&&d(()=>f.reject(m))}o++},{emitOnBegin:!0,interval:r});return a&&setTimeout(()=>d(()=>f.reject(new nD({hash:n}))),a),p})})}var Klt=B(()=>{jr();py();b8();P0();rD();sge()});function $lt(t){return{estimateUserOperationGas:e=>CZ(t,e),getChainId:()=>ha(t),getSupportedEntryPoints:()=>Mlt(t),getUserOperation:e=>Ult(t,e),getUserOperationReceipt:e=>IZ(t,e),prepareUserOperation:e=>TS(t,e),sendUserOperation:e=>jlt(t,e),waitForUserOperationReceipt:e=>Vlt(t,e)}}var qlt=B(()=>{E6();oge();Blt();Flt();sge();SZ();Glt();Klt()});function Wlt(t){return{getPaymasterData:e=>_Z(t,e),getPaymasterStubData:e=>TZ(t,e)}}var Ylt=B(()=>{ige();age()});function aD(t){let{client:e,key:n="bundler",name:r="Bundler Client",paymaster:i,paymasterContext:a,transport:o,userOperation:s}=t;return Object.assign(x8({...t,chain:t.chain??e?.chain,key:n,name:r,transport:o,type:"bundlerClient"}),{client:e,paymaster:i,paymasterContext:a,userOperation:s}).extend($lt)}var Jlt=B(()=>{jB();qlt()});function oD(t){let{key:e="bundler",name:n="Bundler Client",transport:r}=t;return x8({...t,key:e,name:n,transport:r,type:"PaymasterClient"}).extend(Wlt)}var Qlt=B(()=>{jB();Ylt()});var vy,Lp,Zlt=B(()=>{vy="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",Lp="0x0000000071727De22E5E9d8BAf0edAc6f37da032"});var Xlt=B(()=>{});var Of=B(()=>{Clt();Jlt();Qlt();Alt();Zlt();Slt();gZ()});function lge(t){return async(e,n,r,i)=>{try{let a=await t.request(e);return n.result=a,i()}catch(a){return i(a)}}}var eut,cge,RZ,tut=B(()=>{st();Qe();$c();Oi();iu();xp();eut=fe(Ln());Wt();Of();cge=t=>(e,n,r,i)=>{if(e.isAAProviderRequest=!0,e.method==="eth_accounts"||e.method==="eth_requestAccounts"){n.result=[t],i();return}r()};RZ=class extends wi{constructor({config:e,state:n,getProviderConfig:r,onNetworkStateChange:i}){super({state:n,config:e}),K(this,"_smartAccount",void 0),K(this,"_publicClient",void 0),K(this,"_bundlerClient",void 0),K(this,"_paymasterClient",void 0),K(this,"getProviderConfig",void 0),this.initialize(),this.getProviderConfig=r,i(a=>{a.chainId!==this.config.chainId&&this.configure({chainId:a.chainId})})}get smartAccount(){return this._smartAccount}get bundlerClient(){return this._bundlerClient}async setupProvider(e,n){let r=this.getProviderConfig(),i=VB({id:Number.parseInt(r.chainId,16),name:r.displayName,rpcUrls:{default:{http:[r.rpcTarget],webSocket:[r.wsTarget]}},blockExplorers:r.blockExplorerUrl?{default:{name:"explorer",url:r.blockExplorerUrl}}:void 0,nativeCurrency:{name:r.tickerName,symbol:r.ticker,decimals:r.decimals||18}});this._publicClient=eD({chain:i,transport:hy(r.rpcTarget)});let a=new Om;a.push(cge(n)),a.push(lge(e));let o=k_(a),s=yy({account:n,chain:i,transport:Bp(o)});this._smartAccount=await this.config.smartAccountInit.getSmartAccount({walletClient:s,client:this._publicClient}),this.config.paymasterConfig&&(this._paymasterClient=oD(q(q({},this.config.paymasterConfig),{},{transport:Bp(o)}))),this._bundlerClient=aD(q(q({},this.config.bundlerConfig),{},{account:this.smartAccount,client:this._publicClient,transport:Bp(o),paymaster:this._paymasterClient})),eut.default.info("check: this._smartAccount",this.smartAccount.address),this.update({smartAccountAddress:this.smartAccount.address})}async sendTransaction(e,n,r){var i,a,o,s,c,l;if(r.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let u=n,f={account:this.smartAccount,calls:[{to:u.to,value:u.value?BigInt(u.value):void 0,data:u.data}],maxFeePerGas:u.maxFeePerGas?BigInt(u.maxFeePerGas):void 0,maxPriorityFeePerGas:u.maxPriorityFeePerGas?BigInt(u.maxPriorityFeePerGas):void 0,callGasLimit:u.callGasLimit?BigInt(u.callGasLimit):void 0,preVerificationGas:u.preVerificationGas?BigInt(u.preVerificationGas):void 0,verificationGasLimit:u.verificationGasLimit?BigInt(u.verificationGasLimit):void 0,paymasterVerificationGasLimit:u.paymasterVerificationGasLimit?BigInt(u.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:u.paymasterPostOpGasLimit?BigInt(u.paymasterPostOpGasLimit):void 0},d={transactionParams:u,chainId:(i=u.chainId)!==null&&i!==void 0?i:this.getProviderConfig().chainId,createdAt:new Date,status:Xt.approved};this.updateUserOpMeta(e,d);let p=await this.bundlerClient.sendUserOperation(f);this.updateUserOpMeta(e,{userOpHash:p,status:Xt.submitted});let h=await this.bundlerClient.waitForUserOperationReceipt({hash:p});return this.updateUserOpMeta(e,{receipt:{transactionHash:(a=h.receipt)===null||a===void 0?void 0:a.transactionHash,nonce:(o=h.nonce)===null||o===void 0?void 0:o.toString(),gasUsed:qt((s=h.receipt)===null||s===void 0||(s=s.gasUsed)===null||s===void 0?void 0:s.toString(16)),effectiveGasPrice:qt((c=h.receipt)===null||c===void 0||(c=c.effectiveGasPrice)===null||c===void 0?void 0:c.toString(16)),type:(l=h.receipt)===null||l===void 0?void 0:l.type,reason:h.reason},status:h.success?Xt.confirmed:Xt.failed}),h.receipt.transactionHash}async signTransaction(e,n,r){var i;if(r.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let a=n,o={transactionParams:a,chainId:(i=a.chainId)!==null&&i!==void 0?i:this.getProviderConfig().chainId,createdAt:new Date,status:Xt.approved};this.updateUserOpMeta(e,o);let s=await this.bundlerClient.prepareUserOperation({account:this.smartAccount,calls:[{to:a.to,value:a.value?BigInt(a.value):void 0,data:a.data}],maxFeePerGas:a.maxFeePerGas?BigInt(a.maxFeePerGas):void 0,maxPriorityFeePerGas:a.maxPriorityFeePerGas?BigInt(a.maxPriorityFeePerGas):void 0,callGasLimit:a.callGasLimit?BigInt(a.callGasLimit):void 0,preVerificationGas:a.preVerificationGas?BigInt(a.preVerificationGas):void 0,verificationGasLimit:a.verificationGasLimit?BigInt(a.verificationGasLimit):void 0,paymasterVerificationGasLimit:a.paymasterVerificationGasLimit?BigInt(a.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:a.paymasterPostOpGasLimit?BigInt(a.paymasterPostOpGasLimit):void 0}),c=await this.smartAccount.signUserOperation(s);return this.updateUserOpMeta(e,{signature:c,status:Xt.signed}),c}async estimateGas(e,n){if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let r=[{to:e.to,value:e.value?BigInt(e.value):void 0,data:e.data}],i=e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,a=e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,o={account:this.smartAccount,calls:r,maxFeePerGas:i,maxPriorityFeePerGas:a,stateOverride:[{address:this.smartAccount.address,balance:T2e("1")}]},s;this.smartAccount.entryPoint.version!=="0.6"&&(s=await this.smartAccount.getFactoryArgs()),s&&(s.factory&&(o.factory=s.factory),s.factoryData&&(o.factoryData=s.factoryData));let c=await this.bundlerClient.estimateUserOperationGas(o),l={callGasLimit:An(c.callGasLimit),preVerificationGas:An(c.preVerificationGas),verificationGasLimit:An(c.verificationGasLimit)};return c.paymasterVerificationGasLimit&&(l.paymasterVerificationGasLimit=An(c.paymasterVerificationGasLimit)),c.paymasterPostOpGasLimit&&(l.paymasterPostOpGasLimit=An(c.paymasterPostOpGasLimit)),l}async signMessage(e,n){if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return this.smartAccount.sign({hash:e})}async signPersonalMessage(e,n){var r;if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return(r=this.smartAccount)===null||r===void 0?void 0:r.signMessage({message:Hn(e)?{raw:e}:e})}async signTypedData(e,n){var r;if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return(r=this.smartAccount)===null||r===void 0?void 0:r.signTypedData({domain:q(q({},e.domain),{},{verifyingContract:e.domain.verifyingContract,salt:e.domain.salt,chainId:Number(e.domain.chainId)}),primaryType:e.primaryType,types:e.types,message:e.message})}updateUserOpMeta(e,n){let r=this.state.userOperations[e];this.update({userOperations:q(q({},this.state.userOperations),{},{[e]:q(q({},r),n)})})}}});var uge,edn,tdn,nut,SS,fge=B(()=>{Qe();Oi();uge=fe(Ln()),edn=20,tdn=2,nut=1e3,SS=class extends Zk{constructor({config:e,state:n={},idleTimeTracker:r}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");if(!r)throw new Error("PollingBlockTracker - no idleTimeTracker specified.");super({config:e,state:n}),K(this,"pollingManager",void 0);let i=e.pollingInterval||edn,a=e.retryTimeout||tdn;this.defaultConfig={provider:e.provider,pollingInterval:i*nut,retryTimeout:a*nut,setSkipCacheFlag:e.setSkipCacheFlag||!1},this.initialize(),this.pollingManager=new sl(r,i)}async checkForLatestBlock(){return await this._updateLatestBlock(),this.getLatestBlock()}_start(){this.pollingManager.start(async()=>{await this._synchronize().catch(e=>{this.emit("error",e)})})}_end(){this.pollingManager.stop()}async _synchronize(){try{await this._updateLatestBlock()}catch(e){let n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",n)}catch{uge.default.error(n)}await eM(this.config.retryTimeout)}}async _updateLatestBlock(){let e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){try{let e=await this.config.provider.request({method:"eth_getBlockByNumber",params:["latest",!1]});return{blockHash:e.hash,idempotencyKey:e.number,timestamp:e.timestamp,baseFeePerGas:e.baseFeePerGas,gasLimit:e.gasLimit}}catch(e){throw uge.default.error("Polling Block Tracker: ",e),new Error(`PollingBlockTracker - encountered error fetching block:
${e.message}`)}}}});var rut,OZ,iut=B(()=>{st();Qe();Oi();Uv();rut=fe(Ln()),OZ=class extends Xk{constructor({config:e,state:n,idleTimeTracker:r,onNetworkChanged:i}){super({config:e,state:n}),K(this,"pollingManager",void 0),this.defaultState=q(q({},this.defaultState),{},{commonDenomination:"USD",commonDenominatorPrice:0}),this.initialize(),i(a=>{a.providerConfig.ticker.toUpperCase()!==this.state.nativeCurrency.toUpperCase()&&(this.setNativeCurrency(a.providerConfig.ticker),this.updateConversionRate())}),this.pollingManager=new sl(r,this.config.pollInterval)}setCommonDenomination(e){this.update({commonDenomination:e})}getCommonDenomination(){return this.state.commonDenomination}setCommonDenominatorPrice(e){this.update({commonDenominatorPrice:e})}getCommonDenominatorPrice(){return this.state.commonDenominatorPrice}async scheduleConversionInterval(){this.pollingManager.start(this.updateConversionRate.bind(this))}async updateConversionRate(){let e=this.getCurrentCurrency(),n=this.getNativeCurrency(),r=this.getCommonDenomination(),i=await this.retrieveConversionRate(n,e,r),a=Number.parseFloat(i[e.toUpperCase()]),o=Number.parseFloat(i[r.toUpperCase()]);a||o?(this.setConversionRate(a),this.setConversionDate(Math.floor(Date.now()/1e3).toString()),e.toUpperCase()===r.toUpperCase()?this.setCommonDenominatorPrice(a):this.setCommonDenominatorPrice(o)):(this.setConversionRate(0),this.setConversionDate("N/A"))}async retrieveConversionRate(e,n,r){try{let i=`${this.config.api}/currency?fsym=${e.toUpperCase()}&tsyms=${n.toUpperCase()}`;return r&&r.toUpperCase()!==n.toUpperCase()&&(i+=`,${r.toUpperCase()}`),await hf(i)}catch(i){rut.default.error(i,`CurrencyController - updateCommonDenominatorPrice: Failed to query rate for currency: ${e}/ ${n}`)}return{[n.toUpperCase()]:"0",[r.toUpperCase()]:"0"}}}});function Up(t){if(t==null)throw new TypeError("Cannot destructure "+t)}var aut=B(()=>{});var sut,ndn,rdn,idn,cut,lut,uut,out,adn,odn,sdn,X4,t1,NZ,T8,fut,dut,dge,pge,put,hut,mut,yut,but,bl,n1,PZ=B(()=>{aut();st();V9();$c();Gb();sut=fe(dI()),ndn=["aBase","bBase"],rdn=["aBase","bBase"],idn=["multiplicandBase","multiplierBase"],cut=new mn("1000000000000000000"),lut=new mn("1000000000"),uut=new mn("1"),out={hex:t=>new mn(Si(t),16),dec:t=>new mn(String(t),10),BN:t=>new mn(t.toString(16),16)},adn={WEI:t=>t.div(cut),GWEI:t=>t.div(lut),ETH:t=>t.div(uut)},odn={WEI:t=>t.times(cut).dp(0,mn.ROUND_HALF_UP),GWEI:t=>t.times(lut).dp(9,mn.ROUND_HALF_UP),ETH:t=>t.times(uut).dp(9,mn.ROUND_HALF_UP)},sdn={hex:t=>t.toString(16),dec:t=>new mn(t).toString(10),BN:t=>new sut.default(t.toString(16))},X4=t=>Number.isInteger(t)&&t>1,t1=({value:t,fromNumericBase:e,fromDenomination:n,fromCurrency:r,toNumericBase:i,toDenomination:a,toCurrency:o,numberOfDecimals:s,conversionRate:c,invertConversionRate:l,roundDown:u})=>{let f=e?out[e](t):t;if(n&&(f=adn[n](f)),r!==o){if(c==null)throw new Error(`Converting from ${r} to ${o} requires a conversionRate, but one was not provided`);let d=out.dec(c);l&&(d=new mn(1).div(c)),f=f.times(d)}return a&&(f=odn[a](f)),s&&(f=f.dp(s,mn.ROUND_HALF_DOWN)),u&&(f=f.dp(u,mn.ROUND_DOWN)),i&&(f=sdn[i](f)),f},NZ=(t,{fromCurrency:e=null,toCurrency:n=e,fromNumericBase:r,toNumericBase:i,fromDenomination:a,toDenomination:o,numberOfDecimals:s,conversionRate:c,invertConversionRate:l})=>e!==n&&!c?0:t1({fromCurrency:e,toCurrency:n,fromNumericBase:r,toNumericBase:i,fromDenomination:a,toDenomination:o,numberOfDecimals:s,conversionRate:c,invertConversionRate:l,value:t}),T8=(t,e)=>{if(!X4(e))throw new Error("Must specificy valid base");return typeof t=="string"||t instanceof mn?new mn(t,e):new mn(String(t),e)},fut=(t,e,n={})=>{let{aBase:r,bBase:i}=n,a=Wf(n,ndn);if(!X4(r)||!X4(i))throw new Error("Must specify valid aBase and bBase");let o=T8(t,r).plus(T8(e,i));return t1(q({value:o},a))},dut=(t,e,n={})=>{let{aBase:r,bBase:i}=n,a=Wf(n,rdn);if(!X4(r)||!X4(i))throw new Error("Must specify valid aBase and bBase");let o=T8(t,r).minus(T8(e,i));return t1(q({value:o},a))},dge=(t,e,n={})=>{let{multiplicandBase:r,multiplierBase:i}=n,a=Wf(n,idn);if(!X4(r)||!X4(i))throw new Error("Must specify valid multiplicandBase and multiplierBase");let o=T8(t,r).times(T8(e,i));return t1(q({value:o},a))},pge=(t,e)=>{let n=Object.assign({},(Up(e),e)),r=Object.assign({},(Up(t),t)),i=t1(q({},r)),a=t1(q({},n));return i.gt(a)},put=(t,e)=>{let n=Object.assign({},(Up(e),e)),r=Object.assign({},(Up(t),t)),i=t1(q({},r)),a=t1(q({},n));return i.lt(a)},hut=(t,e)=>{let n=Object.assign({},(Up(e),e)),r=Object.assign({},(Up(t),t));return pge(q({},r),q({},n))?r.value:n.value},mut=(t,e)=>{let n=Object.assign({},(Up(e),e)),r=Object.assign({},(Up(t),t)),i=t1(q({},r)),a=t1(q({},n));return i.isGreaterThanOrEqualTo(a)},yut=(t,e)=>{let n=Object.assign({},(Up(e),e)),r=Object.assign({},(Up(t),t)),i=t1(q({},r)),a=t1(q({},n));return i.isLessThanOrEqualTo(a)},but=(t,e={})=>dge(t,-1,e),bl=t=>NZ(t,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"}),n1=t=>NZ(t,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})});function e9(t){let e=bl(new mn(t));return n1(e)}async function gut(t){let e=await hf(t);return{estimatedBaseFee:e9(e.estimatedBaseFee).toString(10),low:q(q({},e.low),{},{suggestedMaxPriorityFeePerGas:e9(e.low.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:e9(e.low.suggestedMaxFeePerGas).toString(10)}),medium:q(q({},e.medium),{},{suggestedMaxPriorityFeePerGas:e9(e.medium.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:e9(e.medium.suggestedMaxFeePerGas).toString(10)}),high:q(q({},e.high),{},{suggestedMaxPriorityFeePerGas:e9(e.high.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:e9(e.high.suggestedMaxFeePerGas).toString(10)})}}async function wut(t){let n="latest",r=[10,50,95],i=await t.request({method:"eth_feeHistory",params:[10,n,r]}),a=i.baseFeePerGas[i.baseFeePerGas.length-1],o=i.reward.filter(l=>l[0]!=="0x0"||l[1]!=="0x0"||l[2]!=="0x0"),s,c;if(o.length>0)s=o.reduce((l,u)=>({slow:l.slow.plus(new mn(u[0],16)),average:l.average.plus(new mn(u[1],16)),fast:l.fast.plus(new mn(u[2],16))}),{slow:new mn(0),average:new mn(0),fast:new mn(0)}),c=o.length;else{let l=await t.request({method:"eth_maxPriorityFeePerGas"}),u=new mn(l,16);s={slow:u,average:u.multipliedBy(1.1),fast:u.multipliedBy(1.5)},c=1}return{estimatedBaseFee:n1(a).toString(10),high:{maxWaitTimeEstimate:3e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:n1(s.fast.div(c).plus(a).toString(16)).toString(),suggestedMaxPriorityFeePerGas:n1(s.fast.div(c).toString(16)).toString()},medium:{maxWaitTimeEstimate:45e3,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:n1(s.average.div(c).plus(a).toString(16)).toString(),suggestedMaxPriorityFeePerGas:n1(s.average.div(c).toString(16)).toString()},low:{maxWaitTimeEstimate:6e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:n1(s.slow.div(c).plus(a).toString(16)).toString(),suggestedMaxPriorityFeePerGas:n1(s.slow.div(c).toString(16)).toString()}}}async function vut(t){let e=await hf(t,{referrer:t,referrerPolicy:"no-referrer-when-downgrade",method:"GET"});return{low:e.SafeGasPrice,medium:e.ProposeGasPrice,high:e.FastGasPrice}}async function Eut(t){let e=await t.request({method:zt.ETH_GET_GAS_PRICE});return{gasPrice:n1(e).toString()}}function xut(t,e,n){let{low:r,medium:i,high:a,estimatedBaseFee:o}=n,s=new mn(bl(new mn(t)),16),c=new mn(bl(new mn(e)),16),l=new mn(bl(new mn(o)),16),u=mn.min(s,c.minus(l)),f=new mn(bl(new mn(r.suggestedMaxPriorityFeePerGas)),16),d=new mn(bl(new mn(i.suggestedMaxPriorityFeePerGas)),16),p=new mn(bl(new mn(a.suggestedMaxPriorityFeePerGas)),16),h,m;return u.lt(f)?(h=null,m="unknown"):u.gte(f)&&u.lt(d)?(h=r.minWaitTimeEstimate,m=r.maxWaitTimeEstimate):u.gte(d)&&u.lt(p)?(h=i.minWaitTimeEstimate,m=i.maxWaitTimeEstimate):u.eq(p)?(h=a.minWaitTimeEstimate,m=a.maxWaitTimeEstimate):(h=0,m=a.maxWaitTimeEstimate),{lowerTimeBound:h,upperTimeBound:m}}var Aut=B(()=>{st();Uv();Gb();Pi();PZ()});var hge,cdn,ldn,kZ,_ut=B(()=>{Qe();$c();Oi();hge=fe(Ln());Pi();Aut();cdn="https://mock-gas-server.herokuapp.com/",ldn="https://api.metaswap.codefi.network/gasPrices",kZ=class extends wi{constructor({config:e,state:n,idleTimeTracker:r,getNetworkIdentifier:i,getProvider:a,fetchGasEstimates:o=gut,fetchEthGasPriceEstimate:s=Eut,fetchLegacyGasPriceEstimates:c=vut,fetchGasEstimatesViaEthFeeHistory:l=wut,getCurrentNetworkLegacyGasAPICompatibility:u,getCurrentNetworkEIP1559Compatibility:f,getCurrentAccountEIP1559Compatibility:d,onNetworkStateChange:p}){super({config:e,state:n}),K(this,"name","GasFeeController"),K(this,"API_SUPPORTED_CHAINIDS",new Set(["0x1","0x5","0xa4b1","0xa86a","0x2105","0x38","0xfa","0xa","0x89"])),K(this,"provider",void 0),K(this,"currentChainId",void 0),K(this,"getNetworkIdentifier",void 0),K(this,"getProvider",void 0),K(this,"fetchGasEstimates",void 0),K(this,"fetchGasEstimatesViaEthFeeHistory",void 0),K(this,"fetchEthGasPriceEstimate",void 0),K(this,"fetchLegacyGasPriceEstimates",void 0),K(this,"getCurrentNetworkEIP1559Compatibility",void 0),K(this,"getCurrentAccountEIP1559Compatibility",void 0),K(this,"getCurrentNetworkLegacyGasAPICompatibility",void 0),K(this,"pollingManager",void 0),this.getNetworkIdentifier=i,this.getProvider=a,this.fetchGasEstimates=o,this.fetchEthGasPriceEstimate=s,this.fetchLegacyGasPriceEstimates=c,this.getCurrentNetworkEIP1559Compatibility=f,this.getCurrentNetworkLegacyGasAPICompatibility=u,this.getCurrentAccountEIP1559Compatibility=d,this.fetchGasEstimatesViaEthFeeHistory=l,this.defaultConfig={interval:3e4,legacyAPIEndpoint:ldn,EIP1559APIEndpoint:cdn},this.defaultState={gasFeeEstimates:{},estimatedGasFeeTimeBounds:{},gasEstimateType:Gd.NONE},this.currentChainId=this.getNetworkIdentifier(),this.provider=this.getProvider(),this.initialize(),p(()=>{this.onNetworkStateChange()}),this.pollingManager=new sl(r,this.config.interval)}async onNetworkStateChange(){this.provider=this.getProvider();let e=this.getNetworkIdentifier();this.currentChainId!==e&&(this.currentChainId=e,await this.fetchGasFeeEstimates())}async resetPolling(){this.stopPolling(),await this.getGasFeeEstimatesAndStartPolling()}async fetchGasFeeEstimates(){return this._fetchGasFeeEstimateData()}async getGasFeeEstimatesAndStartPolling(){await this._fetchGasFeeEstimateData(),this._startPolling()}disconnectPoller(){this.stopPolling()}destroy(){this.stopPolling()}stopPolling(){this.resetState()}async _fetchGasFeeEstimateData(){let e,n=this.getCurrentNetworkLegacyGasAPICompatibility(),r=this.getNetworkIdentifier();if(r==="loading")return;let i;typeof r=="string"&&os(qt(r))&&(i=Number.parseInt(r,16));try{e=await this.getEIP1559Compatibility(),hge.default.info("eip1559 compatible",e)}catch(o){hge.default.warn(o),e=!1}let a=au(this.defaultState);try{if(e){let o;try{if(this.API_SUPPORTED_CHAINIDS.has(r))o=await this.fetchGasEstimates(this.config.EIP1559APIEndpoint.replace("<chain_id>",`${i}`));else throw new Error("ChainId not supported by api")}catch{o=await this.fetchGasEstimatesViaEthFeeHistory(this.provider)}let{suggestedMaxPriorityFeePerGas:s,suggestedMaxFeePerGas:c}=o.medium,l=this.getTimeEstimate(s,c);a={gasFeeEstimates:o,estimatedGasFeeTimeBounds:l,gasEstimateType:Gd.FEE_MARKET}}else if(n)a={gasFeeEstimates:await this.fetchLegacyGasPriceEstimates(this.config.legacyAPIEndpoint.replace("<chain_id>",`${i}`)),estimatedGasFeeTimeBounds:{},gasEstimateType:Gd.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{a={gasFeeEstimates:await this.fetchEthGasPriceEstimate(this.provider),estimatedGasFeeTimeBounds:{},gasEstimateType:Gd.ETH_GASPRICE}}catch(o){throw new Error(`Gas fee/price estimation failed. Message: ${o.message}`)}}return this.update(a),a}async _startPolling(){this.pollingManager.start(async()=>{await this._fetchGasFeeEstimateData()})}resetState(){this.update(au(this.defaultState))}async getEIP1559Compatibility(){var e,n;let r=await this.getCurrentNetworkEIP1559Compatibility(),i=(e=(n=this.getCurrentAccountEIP1559Compatibility)===null||n===void 0?void 0:n.call(this))!==null&&e!==void 0?e:!0;return r&&i}getTimeEstimate(e,n){return!this.state.gasFeeEstimates||this.state.gasEstimateType!==Gd.FEE_MARKET?{}:xut(e,n,this.state.gasFeeEstimates)}}});var MZ,Tut=B(()=>{$c();Oi();xp();MZ=class extends aM{constructor({config:e,state:n}){super({config:e,state:n}),this.defaultState={wallets:[]},this.initialize()}async signTransaction(e,n){let r=this._getWalletForAccount(n),i=new gf(qt(r.privateKey)),a=e;return a.signature=i.sign(a.unsignedHash),a}getAccounts(){return this.state.wallets.map(e=>e.publicKey)}importAccount(e){let n=e.padStart(64,"0"),r=Buffer.from(n,"hex"),i=Pl($oe(r)),a=uz(Pl(qoe(r))),o=this.state.wallets.find(s=>s.address===a);return o?o.address:(this.update({wallets:[...this.state.wallets,{publicKey:i,privateKey:e,address:a}]}),a)}removeAccount(e){let n=[...this.state.wallets],r=n.findIndex(i=>i.address===e);r!==-1&&(n.splice(r,1),this.update({wallets:n}))}getBufferPrivateKey(e){let n=Si(e);return Buffer.from(n,"hex")}async signMessage(e,n){let r=this._getWalletForAccount(n),i=this.getBufferPrivateKey(r.privateKey),a=nx(Buffer.from(Si(e),"hex"),i);return jq(Buffer.from(bh(a.v)),Buffer.from(a.r),Buffer.from(a.s))}async signPersonalMessage(e,n){let r=this._getWalletForAccount(n),i=new gf(qt(r.privateKey)),a=os(e)?Buffer.from(Si(e),"hex"):Buffer.from(e);return i.sign(zW(a)).serialized}async signTypedData(e,n){let r=this._getWalletForAccount(n),i=new gf(qt(r.privateKey));return delete e.types.EIP712Domain,i.sign(zm.hash(e.domain,e.types,e.message)).serialized}_getWalletForAccount(e){let n=e.toLowerCase(),r=this.state.wallets.find(i=>i.address.toLowerCase()===n);if(!r)throw new Error("Torus Keyring - Unable to find matching address.");return r}}});function BZ(t,e){if(!t||typeof t!="string"||!zb(t))throw new Error(`Invalid "${e}" address: ${t} must be a valid string.`)}function CS(t){let{from:e,data:n}=t;if(BZ(e,"from"),!n||typeof n!="string")throw new Error(`Invalid message "data": ${n} must be a valid string.`)}function IS(t){try{let e=Si(t);if(e.match(udn))return qt(e)}catch{}return Pl(Buffer.from(t,"utf8"))}async function DZ(t,e){if(BZ(t.from,"from"),!t.data||Array.isArray(t.data)||typeof t.data!="object"&&typeof t.data!="string")throw new Error('Invalid message "data": Must be a valid string or object.');let n;if(typeof t.data=="object")n=t.data;else try{n=JSON.parse(t.data)}catch{throw new Error("Data must be passed as a valid JSON string.")}if(!e)throw new Error("Current chainId cannot be null or undefined.");let{chainId:r}=n.domain;if(r){typeof r=="string"&&(r=parseInt(r,r.startsWith("0x")?16:10));let i=parseInt(e,16);if(Number.isNaN(i))throw new Error(`Cannot sign messages for chainId "${r}", because MetaMask is switching networks.`);if(r!==i)throw new Error(`Provided chainId "${r}" must match the active chainId "${i}"`)}}async function LZ(t){let{chainId:e,rpcUrls:n,nativeCurrency:r}=t||{};if(!e)throw new Error("Invalid add chain params: please pass chainId in params");if(!Hn(e))throw new Error("Invalid add chain params: please pass a valid hex chainId in params, for: ex: 0x1");if(!n||n.length===0)throw new Error("params.rpcUrls not provided");if(!r)throw new Error("params.nativeCurrency not provided");let{name:i,symbol:a,decimals:o}=r;if(!i)throw new Error("params.nativeCurrency.name not provided");if(!a)throw new Error("params.nativeCurrency.symbol not provided");if(o===void 0)throw new Error("params.nativeCurrency.decimals not provided");let s=new hT(n[0],"any"),{chainId:c}=await s.getNetwork();if(Number.parseInt(c.toString())!==Number.parseInt(e,16))throw new Error(`Provided rpc url's chainId version is not matching with provided chainId, expected: ${za(c)}, received: ${e}`)}function UZ(t){let{chainId:e}=t||{};if(!e)throw new Error("Invalid switch chain params: please pass chainId in params");if(!Hn(e)){let[n,r]=e.split(":");if(n!==ji.SOLANA&&n!==ji.EIP155)throw new Error("Invalid switch chain params: invalid namespace");if(!r||isNaN(Number(r)))throw new Error("Invalid switch chain params: invalid chainId")}}var udn,t9=B(()=>{$c();Oi();xp();udn=/^[0-9A-Fa-f]+$/gu});var Sut,FZ,Cut=B(()=>{st();Qe();Oi();Sut=fe(Ln());Pi();t9();FZ=class extends mf{constructor({config:e,state:n,addChain:r}){super({config:e,state:n}),K(this,"name","AddChainController"),K(this,"addChain",void 0),this.addChain=r,this.initialize()}async processAddChain(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{return await this.approveMessage(e,n.messageParams),await this.addChain(n.messageParams),this.updateMessage(q(q({},n),{},{rawSig:JSON.stringify(n.messageParams)})),this.setMessageStatus(e,hi.SIGNED),null}catch(r){Sut.default.error(r),n.error=r?.message||r?.toString(),this.setMessageStatus(e,hi.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){n&&(e.origin=n.origin),await LZ(e);let r=e.id||ol(),i={id:r,messageParams:e,status:hi.UNAPPROVED,time:Date.now(),type:zt.ADD_CHAIN};return await this.addMessage(i),this.emit(pp.UNAPPROVED_MESSAGE,{messageData:i,req:n}),r}prepMessageForSigning(e){return Promise.resolve(e)}}});var Iut,HZ,Rut=B(()=>{st();Qe();Oi();Iut=fe(Ln());Pi();t9();HZ=class extends mf{constructor({config:e,state:n,signMessage:r}){super({config:e,state:n}),K(this,"name","MessageController"),K(this,"signMessage",void 0),this.signMessage=r,this.initialize()}async processSignMessage(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{let r=await this.approveMessage(e,n.messageParams),i=await this.signMessage(r.data,r.from);return this.updateMessage(q(q({},n),{},{rawSig:i})),this.setMessageStatus(e,hi.SIGNED),i}catch(r){Iut.default.error(r),n.error=r?.message||r?.toString(),this.setMessageStatus(e,hi.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){CS(e),n&&(e.origin=n.origin),e.data=IS(e.data);let r=e.id||ol(),i={id:r,messageParams:e,status:hi.UNAPPROVED,time:Date.now(),type:zt.ETH_SIGN};return await this.addMessage(i),this.emit(pp.UNAPPROVED_MESSAGE,{messageData:i,req:n}),r}prepMessageForSigning(e){return Promise.resolve(e)}}});var Out,zZ,Nut=B(()=>{st();Qe();Oi();Out=fe(Ln());Pi();t9();zZ=class extends mf{constructor({config:e,state:n,signPersonalMessage:r}){super({config:e,state:n}),K(this,"name","PersonalMessageController"),K(this,"signPersonalMessage",void 0),this.signPersonalMessage=r,this.initialize()}async processSignPersonalMessage(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{let r=await this.approveMessage(e,n.messageParams),i=await this.signPersonalMessage(r.data,r.from);return this.updateMessage(q(q({},n),{},{rawSig:i})),this.setMessageStatus(e,hi.SIGNED),i}catch(r){Out.default.error(r),n.error=r?.message||r?.toString(),this.setMessageStatus(e,hi.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){CS(e),n&&(e.origin=n.origin),e.data=IS(e.data);let r=e.id||ol(),i={id:r,messageParams:e,status:hi.UNAPPROVED,time:Date.now(),type:zt.PERSONAL_SIGN};return await this.addMessage(i),this.emit(pp.UNAPPROVED_MESSAGE,{messageData:i,req:n}),r}prepMessageForSigning(e){return Promise.resolve(e)}}});var Put,jZ,kut=B(()=>{st();Qe();Oi();Put=fe(Ln());Pi();t9();jZ=class extends mf{constructor({config:e,state:n,switchChain:r}){super({config:e,state:n}),K(this,"name","SwitchChainController"),K(this,"switchChain",void 0),this.switchChain=r,this.initialize()}async processSwitchChain(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{return await this.approveMessage(e,n.messageParams),this.switchChain({chainId:n.messageParams.chainId}),this.updateMessage(q(q({},n),{},{rawSig:JSON.stringify(n.messageParams)})),this.setMessageStatus(e,hi.SIGNED),null}catch(r){Put.default.error(r),n.error=r?.message||r?.toString(),this.setMessageStatus(e,hi.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){UZ(e),n&&(e.origin=n.origin);let r=e.id||ol(),i={id:r,messageParams:e,status:hi.UNAPPROVED,time:Date.now(),type:zt.SWITCH_CHAIN};return await this.addMessage(i),this.emit(pp.UNAPPROVED_MESSAGE,{messageData:i,req:n}),r}prepMessageForSigning(e){return Promise.resolve(e)}}});var Mut,GZ,But=B(()=>{st();Qe();Oi();Mut=fe(Ln());Pi();t9();GZ=class extends mf{constructor({config:e,state:n,signTypedData:r,getNetworkIdentifier:i}){super({config:e,state:n}),K(this,"name","TypedMessageController"),K(this,"signTypedData",void 0),K(this,"getNetworkIdentifier",void 0),this.signTypedData=r,this.getNetworkIdentifier=i,this.initialize()}async processSignTypedMessage(e){let n=this.getMessage(e);if(!n)throw new Error("Message not found");try{let r=await this.approveMessage(e,n.messageParams),i=JSON.parse(r.data),a=await this.signTypedData(i,r.from);return this.updateMessage(q(q({},n),{},{rawSig:a})),this.setMessageStatus(e,hi.SIGNED),a}catch(r){Mut.default.error(r),n.error=r?.message||r?.toString(),this.setMessageStatus(e,hi.FAILED)}}async addNewUnapprovedMessage(e,n){return await this.addUnapprovedMessage(e,n),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,n){let r=this.getNetworkIdentifier();await DZ(e,r),typeof e.data!="string"&&(e.data=JSON.stringify(e.data)),n&&(e.origin=n.origin);let i=e.id||ol(),a={id:i,messageParams:e,status:hi.UNAPPROVED,time:Date.now(),type:zt.ETH_SIGN_TYPED_DATA_V4};return await this.addMessage(a),this.emit(pp.UNAPPROVED_MESSAGE,{messageData:a,req:n}),i}prepMessageForSigning(e){return Promise.resolve(e)}}});function mge({getAccounts:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.GET_ACCOUNTS)return r();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");let a=await t(e);n.result=a})}function yge({processTransaction:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.ETH_TRANSACTION)return r();if(!t)throw new Error("WalletMiddleware - opts.processTransaction not provided");n.result=await t(e.params,e)})}function bge({processSignTransaction:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.ETH_SIGN_TRANSACTION)return r();if(!t)throw new Error("WalletMiddleware - opts.processSignTransaction not provided");n.result=await t(e.params,e)})}function gge({processEstimateUserOperationGas:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.ETH_ESTIMATE_AA_TRANSACTION_GAS)return r();if(!t)throw new Error("WalletMiddleware - opts.processEstimateUserOperationGas not provided");n.result=await t(e.params,e)})}function wge({processEthSignMessage:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.ETH_SIGN)return r();if(!t)throw new Error("WalletMiddleware - opts.processEthSignMessage not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let a=e.params;if(Array.isArray(e.params)){if(e.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [address, message]`);let o=e.params,s=o[0],c=o[1];a={from:s,data:c}}n.result=await t(a,e)})}function vge({processTypedMessageV4:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.ETH_SIGN_TYPED_DATA_V4)return r();if(!t)throw new Error("WalletMiddleware - opts.processTypedMessageV4 is not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let a=e.params;if(Array.isArray(e.params)){if(e.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [address, typedData]`);let o=e.params,s=o[0],c=o[1];a={from:s,data:c}}n.result=await t(a,e)})}function Ege({processPersonalMessage:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.PERSONAL_SIGN)return r();if(!t)throw new Error("WalletMiddleware - opts.processPersonalMessage is not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let a=e.params;if(Array.isArray(e.params)){if(!(e.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [message, address]`);let o=e.params;if(typeof o[0]=="object"){let{challenge:s,address:c}=o[0];a={from:c,data:s}}else{let s=o[0];a={from:o[1],data:s}}}n.result=await t(a,e)})}function xge({getPendingNonce:t}){return Bo(async(e,n,r)=>{let{params:i,method:a}=e;if(a!==zt.ETH_GET_TRANSACTION_COUNT)return r();let{blockReference:o}=i;if(o!=="pending")return r();n.result=await t(i,e)})}function Age(t){let{r:e,s:n,v:r,txReceipt:i,transaction:a,transactionHash:o,accessList:s}=t,{to:c,data:l,nonce:u,gas:f,from:d,value:p,gasPrice:h,maxFeePerGas:m,maxPriorityFeePerGas:w}=a,g={v:r,r:e,s:n,to:c,gas:f,from:d,hash:o,nonce:u,input:l||"0x",value:p||"0x0",accessList:s||null,blockHash:i?.blockHash||null,blockNumber:i?.blockNumber||null,transactionIndex:i?.transactionIndex||null,type:null};return m&&w?(g.maxFeePerGas=m,g.maxPriorityFeePerGas=w,g.type=_f.FEE_MARKET):(g.gasPrice=h,g.type=_f.LEGACY),g}function _ge({getPendingTransactionByHash:t}){return Bo(async(e,n,r)=>{let{params:i,method:a}=e;if(a!==zt.ETH_GET_TRANSACTION_BY_HASH)return r();if(!t)throw new Error("WalletMiddleware - opts.getPendingTransactionByHash not provided");let o=await t(i,e);if(!o)return r();n.result=Age(o)})}function Tge({processSwitchEthereumChain:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.SWITCH_CHAIN)return r();if(!t)throw new Error("WalletMiddleware - opts.processSwitchEthereumChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let a=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [data]`);let[o]=e.params;a=o}n.result=await t(a,e)})}function Sge({processWalletSwitchChain:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==Fq.WALLET_SWITCH_CHAIN)return r();if(!t)throw new Error("WalletMiddleware - opts.processWalletSwitchChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let a=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [data]`);let[o]=e.params;a=o}n.result=await t(a,e)})}function Cge({processAddEthereumChain:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!==zt.ADD_CHAIN)return r();if(!t)throw new Error("WalletMiddleware - opts.processAddEthereumChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let a=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [data]`);let[o]=e.params;a=o}n.result=await t(a,e)})}function Ige({requestAccounts:t}){return Bo(async(e,n,r)=>{let{method:i}=e;if(i!=="eth_requestAccounts")return r();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");let a=await t(e);n.result=a})}function Rge({bundlerUrl:t,paymasterUrl:e,providerConfig:n,analytics:r}){let i=[],a=(s,c,l,u)=>{if(!ZM.includes(s.method)&&!XM.includes(s.method))return l();let f=s.id,d=Math.floor(Math.random()*1e6);s.id=d,c.id=d,l(p=>{s.id=f,c.id=f,p()})},o=L_({rpcTarget:t,providerConfig:n,analytics:r});if(i.push(a),i.push((s,c,l,u)=>{if(!ZM.includes(s.method))return l();o(s,c,l,u)}),e){let s=L_({rpcTarget:e,providerConfig:n,analytics:r});i.push((c,l,u,f)=>{if(!XM.includes(c.method))return u();s(c,l,u,f)})}return Fv(i)}function VZ(t,e,n){let{requestAccounts:r,getAccounts:i,getPrivateKey:a,getPublicKey:o,processTransaction:s,processSignTransaction:c,processEstimateUserOperationGas:l,processEthSignMessage:u,processTypedMessageV4:f,processPersonalMessage:d,getPendingNonce:p,getPendingTransactionByHash:h,processSwitchEthereumChain:m,processWalletSwitchChain:w,processAddEthereumChain:g,getProviderState:x,aaConfig:C,version:P}=t,D=[Uq({version:P,[Fq.GET_PROVIDER_STATE]:x}),Ige({requestAccounts:r}),mge({getAccounts:i}),M_(zt.ETH_PRIVATE_KEY,a),M_(zt.PRIVATE_KEY,a),M_(zt.ETH_PUBLIC_KEY,o),M_(zt.PUBLIC_KEY,o),yge({processTransaction:s}),bge({processSignTransaction:c}),gge({processEstimateUserOperationGas:l}),wge({processEthSignMessage:u}),vge({processTypedMessageV4:f}),Ege({processPersonalMessage:d}),xge({getPendingNonce:p}),_ge({getPendingTransactionByHash:h}),Tge({processSwitchEthereumChain:m}),Sge({processWalletSwitchChain:w}),Cge({processAddEthereumChain:g})];return C&&D.push(Rge({bundlerUrl:C.bundlerUrl,paymasterUrl:C.paymasterUrl,providerConfig:e,analytics:n})),Fv(D)}var Oge=B(()=>{Oi();iu();Pi()});var zut=le((pMr,Hut)=>{Hut.exports=sD;sD.default=sD;sD.stable=Uut;sD.stableStringify=Uut;var KZ="[...]",Dut="[Circular]",r9=[],n9=[];function Lut(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function sD(t,e,n,r){typeof r>"u"&&(r=Lut()),Nge(t,"",0,[],void 0,0,r);var i;try{n9.length===0?i=JSON.stringify(t,e,n):i=JSON.stringify(t,Fut(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;r9.length!==0;){var a=r9.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function RS(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),r9.push([r,n,e,i])):n9.push([e,n,t]):(r[n]=t,r9.push([r,n,e]))}function Nge(t,e,n,r,i,a,o){a+=1;var s;if(typeof t=="object"&&t!==null){for(s=0;s<r.length;s++)if(r[s]===t){RS(Dut,t,e,i);return}if(typeof o.depthLimit<"u"&&a>o.depthLimit){RS(KZ,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){RS(KZ,t,e,i);return}if(r.push(t),Array.isArray(t))for(s=0;s<t.length;s++)Nge(t[s],s,s,r,t,a,o);else{var c=Object.keys(t);for(s=0;s<c.length;s++){var l=c[s];Nge(t[l],l,s,r,t,a,o)}}r.pop()}}function fdn(t,e){return t<e?-1:t>e?1:0}function Uut(t,e,n,r){typeof r>"u"&&(r=Lut());var i=Pge(t,"",0,[],void 0,0,r)||t,a;try{n9.length===0?a=JSON.stringify(i,e,n):a=JSON.stringify(i,Fut(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;r9.length!==0;){var o=r9.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return a}function Pge(t,e,n,r,i,a,o){a+=1;var s;if(typeof t=="object"&&t!==null){for(s=0;s<r.length;s++)if(r[s]===t){RS(Dut,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&a>o.depthLimit){RS(KZ,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){RS(KZ,t,e,i);return}if(r.push(t),Array.isArray(t))for(s=0;s<t.length;s++)Pge(t[s],s,s,r,t,a,o);else{var c={},l=Object.keys(t).sort(fdn);for(s=0;s<l.length;s++){var u=l[s];Pge(t[u],u,s,r,t,a,o),c[u]=t[u]}if(typeof i<"u")r9.push([i,e,t]),i[e]=c;else return c}r.pop()}}function Fut(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(n9.length>0)for(var r=0;r<n9.length;r++){var i=n9[r];if(i[1]===e&&i[0]===n){n=i[2],n9.splice(r,1);break}}return t.call(this,e,n)}}});function ddn(t){switch(t){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function pdn(t){switch(t){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return cD.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return cD.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return cD.Block;default:return cD.Never}}function hdn(t){return pdn(t)!==cD.Never}function mdn(t){if(!t.params)return[];let e=ddn(t.method);return e===void 0||!Array.isArray(t.params)||e>=t.params.length?t.params:t.method==="eth_getBlockByNumber"?t.params.slice(1):t.params.slice(0,e)}function Gut(t,e){var n;let r=e?mdn(t):(n=t.params)!==null&&n!==void 0?n:[];return hdn(t.method)?`${t.method}:${(0,jut.default)(r)}`:null}var jut,cD,Vut=B(()=>{jut=fe(zut()),cD=(function(t){return t.Block="block",t.Fork="fork",t.Never="never",t.Permanent="perma",t})({})});function kge(t){return(e,n,r,i)=>e.method==="eth_chainId"?(n.result=t,i()):e.method==="net_version"?(n.result=Number.parseInt(t,16).toString(10),i()):r()}function Mge(t){return(e,n,r,i)=>e.method==="eth_provider_config"?(n.result=t,i()):r()}function $Z(t,e,n,r){let{chainId:i,rpcTarget:a}=t,o=L_({rpcTarget:a,providerConfig:t,analytics:r}),s=N5e(o),c=new SS({config:q(q({},e),{},{provider:s}),state:{},idleTimeTracker:n});return{networkMiddleware:Fv([kge(i),Mge(t),J5e({cacheIdentifierForRequest:Gut}),o]),blockTracker:c}}var Bge=B(()=>{st();Oi();iu();fge();Vut()});var Dge,ydn,qZ,Kut=B(()=>{V9();st();Qe();Oi();iu();fM();Dge=fe(Ln());Pi();Oge();Bge();ydn=["chainId","rpcTarget"],qZ=class extends wi{constructor({config:e,state:n,idleTimeTracker:r,analytics:i}){super({config:e,state:n}),K(this,"name","NetworkController"),K(this,"providerProxy",void 0),K(this,"blockTrackerProxy",void 0),K(this,"mutex",new r6),K(this,"provider",null),K(this,"blockTracker",null),K(this,"baseProviderHandlers",void 0),K(this,"idleTimeTracker",void 0),K(this,"analytics",void 0),this.defaultState={chainId:"loading",properties:{EIPS_1559:void 0},providerConfig:fu[Af]},this.analytics=i,this.initialize(),this.idleTimeTracker=r}getNetworkIdentifier(){return this.state.chainId}getNetworkRPCUrl(){return this.state.providerConfig.rpcTarget}initializeProvider(e){return this.baseProviderHandlers=e,this.configureProvider(),this.lookupNetwork(),this.providerProxy}getProvider(){return this.providerProxy}getBlockTracker(){return this.blockTrackerProxy}getProviderConfig(){return this.state.providerConfig}setProviderConfig(e){this.update({providerConfig:q({},e)}),this.refreshNetwork()}async getEIP1559Compatibility(){let{EIPS_1559:e}=this.state.properties;if(e!==void 0)return e;let n=await this.blockTracker.getLatestBlock(),r=n&&n.baseFeePerGas!==void 0;return this.update({properties:{EIPS_1559:r}}),r}async lookupNetwork(){let{chainId:e,rpcTarget:n}=this.getProviderConfig();if(!e||!n||!this.provider){this.update({chainId:"loading",properties:{}});return}let r=await this.mutex.acquire();try{let[i]=await Promise.all([this.provider.request({method:"eth_chainId"}),this.getEIP1559Compatibility()]);Dge.default.info("network fetched chain id",i),this.update({chainId:i}),this.emit("networkDidChange")}catch{this.update({chainId:"loading"})}finally{r()}}configureProvider(){let e=this.getProviderConfig(),{chainId:n,rpcTarget:r}=e,i=Wf(e,ydn);if(!n||!r)throw new Error("chainId and rpcTarget must be provider in providerConfig");this.configureStandardProvider(q({chainId:n,rpcTarget:r},i))}setNetworkClient({networkMiddleware:e,blockTracker:n}){let r=VZ(this.baseProviderHandlers,this.getProviderConfig(),this.analytics),i=new Om;i.push($5e({providerConfig:this.getProviderConfig(),analytics:this.analytics})),i.push(r),i.push(e);let a=k_(i);this.setProvider({provider:a,blockTracker:n})}setProvider({provider:e,blockTracker:n}){this.providerProxy?this.providerProxy.setTarget(e):this.providerProxy=k5e(e),this.blockTrackerProxy?this.blockTrackerProxy.setTarget(n):this.blockTrackerProxy=P5e(n,{eventFilter:"skipInternal"}),this.provider=e,e.setMaxListeners(10),this.blockTracker=n}configureStandardProvider(e){let n=$Z(e,this.config,this.idleTimeTracker,this.analytics);Dge.default.info("networkClient",n),this.setNetworkClient(n)}refreshNetwork(){this.update({chainId:"loading",properties:{}}),this.configureProvider(),this.lookupNetwork()}}});function lD(t,e=!0){let n={id:t.id||ol(),from:t.from};for(let r in $ut){let i=r;t[i]&&(n[i]=$ut[i](t[i],e))}return n}function Wut(t,e){return typeof t.chainId<"u"?t.chainId===e:!1}function uD(t){var e,n;return os(qt(t==null||(e=t.transaction)===null||e===void 0?void 0:e.maxFeePerGas))&&os(qt(t==null||(n=t.transaction)===null||n===void 0?void 0:n.maxPriorityFeePerGas))}function Yut(t){return typeof t.transaction.maxFeePerGas>"u"&&typeof t.transaction.maxPriorityFeePerGas>"u"&&(typeof t.transaction.gasPrice>"u"||os(qt(t.transaction.gasPrice)))}function OS(t,e,n){if(typeof t[n]<"u")throw pi.invalidParams(`Invalid transaction params: specified ${e} but also included ${n}, these cannot be mixed`)}function i9(t,e){if(typeof t[e]!="string")throw pi.invalidParams(`Invalid transaction params: ${e} is not a string. got: (${t[e]})`)}function Lge(t,e){switch(e){case"maxFeePerGas":case"maxPriorityFeePerGas":if(t.type&&t.type!==_f.FEE_MARKET)throw pi.invalidParams(`Invalid transaction envelope type: specified type "${t.type}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${_f.FEE_MARKET}"`);break;case"gasPrice":default:if(t.type&&t.type===_f.FEE_MARKET)throw pi.invalidParams(`Invalid transaction envelope type: specified type "${t.type}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function Uge(t){if(typeof t.from!="string")throw pi.invalidParams(`Invalid "from" address "${t.from}": not a string.`);if(!zb(t.from))throw pi.invalidParams('Invalid "from" address.')}function Fge(t){if(t.to==="0x"||t.to===null)if(t.data)delete t.to;else throw pi.invalidParams('Invalid "to" address.');else if(t.to!==void 0&&!zb(t.to))throw pi.invalidParams('Invalid "to" address.');return t}function fD(t,e=!0){if(!t||typeof t!="object"||Array.isArray(t))throw pi.invalidParams("Invalid transaction params: must be an object.");if(!t.to&&!t.data)throw pi.invalidParams('Invalid transaction params: must specify "data" for contract deployments, or "to" (and optionally "data") for all other types of transactions.');if(uD({transaction:t})&&!e)throw pi.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559");Object.entries(t).forEach(([n,r])=>{switch(n){case"from":Uge(t);break;case"to":Fge(t);break;case"gasPrice":Lge(t,"gasPrice"),OS(t,"gasPrice","maxFeePerGas"),OS(t,"gasPrice","maxPriorityFeePerGas"),i9(t,"gasPrice");break;case"maxFeePerGas":Lge(t,"maxFeePerGas"),OS(t,"maxFeePerGas","gasPrice"),i9(t,"maxFeePerGas");break;case"maxPriorityFeePerGas":Lge(t,"maxPriorityFeePerGas"),OS(t,"maxPriorityFeePerGas","gasPrice"),i9(t,"maxPriorityFeePerGas");break;case"value":if(i9(t,"value"),r.toString().includes("-"))throw pi.invalidParams(`Invalid transaction value "${r}": not a positive number.`);if(r.toString().includes("."))throw pi.invalidParams(`Invalid transaction value of "${r}": number must be in wei.`);break;case"chainId":if(typeof r!="number"&&typeof r!="string")throw pi.invalidParams(`Invalid transaction params: ${n} is not a Number or hex string. got: (${r})`);break;default:i9(t,n)}})}function dD(t,e=!0){let n=lD(t,e);return fD(n),n}function WZ(){return[Xt.rejected,Xt.confirmed,Xt.failed,Xt.dropped]}function Hge(t){try{let e=bdn.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:h4}}catch{}try{let e=gdn.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:Jo}}catch{}try{let e=wdn.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:uu}}catch{}}async function NS(t,e){let{data:n,to:r}=t,i="",a=[],o="";try{({name:i,methodParams:a,type:o}=n&&Hge(n)||{})}catch(l){qut.default.debug("Failed to parse transaction data",l)}let s,c="";if(n&&!r)s=Ud.DEPLOY_CONTRACT;else{let{contractCode:l,isContractAddress:u}=await zge(e,r);if(c=l,u){let f=t.value&&Number(t.value)!==0,d=[Ud.TOKEN_METHOD_APPROVE,Ud.TOKEN_METHOD_TRANSFER,Ud.TOKEN_METHOD_TRANSFER_FROM,Ud.COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM,Ud.SET_APPROVAL_FOR_ALL].find(p=>{var h;return p.toLowerCase()===((h=i)===null||h===void 0?void 0:h.toLowerCase())});s=n&&d&&!f?d:Ud.CONTRACT_INTERACTION}else s=Ud.SENT_ETHER}return{type:o||ET,category:s,methodParams:a,getCodeResponse:c}}var qut,bdn,gdn,wdn,$ut,zge,pD=B(()=>{$c();Oi();iu();xp();qut=fe(Ln());d4();Pi();bdn=new l6(mT),gdn=new l6(Km),wdn=new l6($m),$ut={from:(t,e=!0)=>e?qt(t).toLowerCase():qt(t),to:(t,e=!0)=>e?qt(t).toLowerCase():qt(t),nonce:t=>qt(t),customNonceValue:t=>qt(t),value:t=>qt(t),data:t=>qt(t),gas:t=>qt(t),gasPrice:t=>qt(t),type:qt,maxFeePerGas:qt,maxPriorityFeePerGas:qt,callGasLimit:qt,preVerificationGas:qt,verificationGasLimit:qt,paymasterVerificationGasLimit:qt,paymasterPostOpGasLimit:qt};zge=async(t,e)=>{let n;try{n=await t.request({method:zt.ETH_GET_CODE,params:[e,"latest"]})}catch{n=null}return{contractCode:n,isContractAddress:n?n!=="0x"&&n!=="0x0":!1}}});function Qut(t){return new mn(Si(t),16)}function Zut(t){return qt(t.toString(16))}function Xut(t,e){return fu[e]?`${fu[e].blockExplorerUrl}/tx/${t}`:""}function JZ(t){let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=new Date(t),r=n.getDate(),i=e[n.getMonth()],a=n.getFullYear();return`${r} ${i} ${a}`}function QZ(t){return new Date(t).toTimeString().slice(0,8)}function jge(t,e){return zb(t)}function eft(t,e){return jge(t)?uz(t):t}function XZ(t,e){return t==null||e===null||e===void 0?null:new mn(t,10).lt(e,10)}function PS(t){let e=t;if(t!=null&&t.startsWith("ipfs")){let n=t.split("ipfs://")[1];e=Gge(n)}return e}function eX(t){return t===Af?"mainnet":dY.includes(t)?"testnet":"custom"}var Jut,a9,YZ,ZZ,Gge,tX,hD=B(()=>{st();$c();Oi();Gb();Jut=fe(Ln());pD();Pi();a9=t=>{var e;let{transaction:n,lowerCaseSelectedAddress:r,blockExplorerUrl:i}=t,a="";n.type===Jo||n.type===uu?a=n.symbol:n.type===h4?a=tM(Number.parseFloat(n.total_amount),n.symbol,!0):a=tM(Number.parseFloat(n.total_amount),n.type_name,!0);let o=n.type===Jo||n.type===uu||n.isEtherscan?"":tM(Number.parseFloat(n.currency_amount),n.selected_currency,!0);return{id:n.created_at.toString(),date:new Date(n.created_at).toString(),from:n.from,from_aa_address:n.from_aa_address,slicedFrom:typeof n.from=="string"?Gq(n.from):"",to:n.to,slicedTo:typeof n.to=="string"?Gq(n.to):"",action:r===((e=n.to)===null||e===void 0?void 0:e.toLowerCase())?B5e:M5e,totalAmount:n.total_amount,totalAmountString:a,currencyAmount:n.currency_amount,currencyAmountString:o,amount:`${a} / ${o}`,status:n.status,etherscanLink:i?`${i}/tx/${n.transaction_hash}`:"",chainId:n.chain_id,ethRate:Number.parseFloat(n?.total_amount)&&Number.parseFloat(n?.currency_amount)?`1 ${n.symbol} = ${H5e(Number.parseFloat(n.currency_amount)/Number.parseFloat(n.total_amount))}`:"",currencyUsed:n.selected_currency,type:n.type,type_name:n.type_name,type_image_link:n.type_image_link,transaction_hash:n.transaction_hash,transaction_category:n.transaction_category,isEtherscan:n.isEtherscan,input:n.input||"",token_id:n.token_id||"",contract_address:n.contract_address||"",nonce:n.nonce||"",is_cancel:!!n.is_cancel||!1,gas:n.gas||"",gasPrice:n.gasPrice||""}},YZ=async(t,e)=>{try{let n=await e.request({method:zt.ETH_GET_TRANSACTION_RECEIPT,params:[t]});return n===null?Xt.submitted:n&&n.status==="0x1"?Xt.confirmed:n&&n.status==="0x0"?Xt.rejected:void 0}catch(n){Jut.default.warn("unable to fetch transaction status",n);return}};ZZ={SIMPLE:qt("5208"),BASE_TOKEN_ESTIMATE:qt("186a0")};Gge=t=>`https://infura-ipfs.io/${t}`;tX=async t=>{let{txn:e,lowerCaseSelectedAddress:n,provider:r,chainId:i,blockExplorerUrl:a}=t;return(await Promise.all(e.map(async c=>{var l,u;let{category:f,type:d}=await NS(q(q({},c),{},{data:c.input}),r);return c.transaction_category=c.transaction_category||f,c.type_image_link=((l=fu[i])===null||l===void 0?void 0:l.logo)||"",c.type_name=(u=fu[i])===null||u===void 0?void 0:u.ticker,c.type=d,c}))).reduce((c,l)=>{var u,f;let d=l.value?new mn(l.value).div(new mn(10).pow(new mn(l.tokenDecimal||18))).toString():"",p=ET;l.contractAddress!==""&&(l.tokenID?p=l.tokenValue?uu:Jo:p=h4),p===uu&&(d=l.tokenValue);let h={type:p,type_image_link:l.type_image_link||"n/a",type_name:l.tokenName||((u=fu[i])===null||u===void 0?void 0:u.ticker)||"n/a",symbol:l.tokenSymbol||((f=fu[i])===null||f===void 0?void 0:f.ticker),token_id:l.tokenID||"",total_amount:d,created_at:new Date(Number(l.timeStamp)*1e3),from:l.from,to:l.to,transaction_hash:l.hash,status:l.txreceipt_status&&l.txreceipt_status==="0"?Xt.failed:Xt.confirmed,isEtherscan:!0,input:l.input,contract_address:l.contractAddress,transaction_category:l.transaction_category,gas:`0x${new mn(l.gasUsed||0,10).toString(16)}`,gasPrice:`0x${new mn(l.gasPrice||0,10).toString(16)}`,chain_id:i,currency_amount:"",nonce:l.nonce,from_aa_address:"",is_cancel:!1,selected_currency:""};return c.push(a9({transaction:h,lowerCaseSelectedAddress:n,blockExplorerUrl:a})),c},[])}});var Vge,kS,Kge=B(()=>{st();Qe();Uv();xp();Vge=fe(Ln());d4();Pi();hD();kS=class{constructor({chainId:e,contractAddress:n,contractImage:r,contractName:i,contractSymbol:a,nftStandard:o,provider:s,contractDescription:c,contractFallbackLogo:l,contractSupply:u}){K(this,"contractAddress",void 0),K(this,"contractName",void 0),K(this,"contractSymbol",void 0),K(this,"contractImage",void 0),K(this,"contractSupply",void 0),K(this,"contractFallbackLogo",void 0),K(this,"nftStandard",void 0),K(this,"contractDescription",void 0),K(this,"chainId",void 0),K(this,"provider",void 0),K(this,"isSpecial",void 0),this.chainId=e,this.contractAddress=n,this.contractImage=r,this.contractName=i,this.contractSymbol=a,this.nftStandard=o,this.provider=s,this.contractDescription=c,this.contractFallbackLogo=l,this.contractSupply=u}async getNftMetadata(e,n){let r=q({description:"",image:"",name:"",tokenBalance:"",tokenId:"",decimals:"1"},n),[i,a]=await Promise.all([this.getCollectibleTokenURI(r.tokenId,this.nftStandard),r.tokenBalance?Promise.resolve("0"):this.fetchNftBalance(e,r.tokenId)]);r.tokenBalance=r.tokenBalance||a;try{let s=JSON.parse(i);r.image=r.image||PS(s.image),r.name=r.name||s.name,r.description=r.description||s.description,r.decimals=r.decimals||s.decimals}catch(s){Vge.default.warn("Token uri is not a valid json object",s)}let o=PS(i);try{if(!r.description||!r.image||!r.name){let s=await hf(o);r.image=r.image||PS(s.image),r.name=r.name||s.name,r.description=r.description||s.description,r.decimals=r.decimals||s.decimals}}catch(s){Vge.default.error("Failed to fetch nft metadata",s)}return r}async getContractMetadata(){let e={chainId:this.chainId,contractAddress:this.contractAddress,contractName:this.contractName,contractSymbol:this.contractSymbol,nftStandard:this.nftStandard,contractImage:this.contractImage,contractDescription:this.contractDescription,contractFallbackLogo:this.contractFallbackLogo,contractSupply:this.contractSupply};if(!this.nftStandard){let{standard:n,isSpecial:r}=await this.checkNftStandard();e.nftStandard=n,this.nftStandard=n,this.isSpecial=r}if(!this.contractName||!this.contractSymbol||!this.contractDescription){let n=this.nftStandard===Jo?Km:$m,r=new po(this.contractAddress,n,this.provider),[i,a]=await Promise.all([r.name(),r.symbol()]);e.contractName=i,e.contractSymbol=a,this.contractName||(this.contractName=i),this.contractSymbol||(this.contractSymbol=a)}return e}async fetchNftBalance(e,n){let{standard:r}=await this.checkNftStandard(),i=r===Jo?Km:$m,a=new po(this.contractAddress,i,this.provider);if(r===uu)return await a.balanceOf(e,n);let o="";try{o=await a.ownerOf(n)}catch{throw new Error("Token id doesn't exists")}return o.toLowerCase()===e.toLowerCase()?"1":"0"}async checkNftStandard(){if(this.nftStandard&&this.isSpecial!==void 0)return;if(Object.prototype.hasOwnProperty.call(fY,this.contractAddress.toLowerCase()))return this.nftStandard=Jo,this.isSpecial=!0,{standard:Jo,isSpecial:!0};if(await this.contractSupportsInterface(Jo,lY))return this.nftStandard=Jo,this.isSpecial=!1,{standard:Jo,isSpecial:!1};if(await this.contractSupportsInterface(uu,cY))return this.nftStandard=uu,this.isSpecial=!1,{standard:uu,isSpecial:!1};throw new Error("Unsupported nft standard")}async contractSupportsInterface(e,n){let r=e===Jo?Km:$m;return new po(this.contractAddress,r,this.provider).supportsInterface(n)}async getCollectibleTokenURI(e,n=Jo){let r=n===Jo?"tokenURI":"uri",i=n===Jo?Km:$m;return new po(this.contractAddress,i,this.provider)[r](e)}}});var tft,$ge,vdn,nX,nft=B(()=>{st();Qe();Oi();tft=fe(Ao());xp();$ge=fe(Ln());Pi();Kge();vdn=180*1e3,nX=class extends wi{constructor({config:e,state:n,provider:r,getCustomNfts:i,getSimpleHashNfts:a,onPreferencesStateChange:o,onNetworkStateChange:s,idleTimeTracker:c}){super({config:e,state:n}),K(this,"name","NftsController"),K(this,"provider",void 0),K(this,"ethersProvider",void 0),K(this,"getCustomNfts",void 0),K(this,"getSimpleHashNfts",void 0),K(this,"pollingManager",void 0),this.provider=r,this.ethersProvider=new u6(this.provider,"any"),this.getCustomNfts=i,this.getSimpleHashNfts=a,this.defaultConfig={interval:vdn,selectedAddress:"",chainId:""},this.defaultState={nfts:{}},this.initialize(),o(l=>{l.selectedAddress!==this.config.selectedAddress&&(this.configure({selectedAddress:l.selectedAddress}),this.restartNftDetection())}),s(l=>{let{chainId:u}=l.providerConfig;u!==this.config.chainId&&(this.configure({chainId:u}),this.restartNftDetection())}),this.pollingManager=new sl(c,this.config.interval)}get userSelectedAddress(){return this.config.selectedAddress}get userNfts(){var e;return this.userSelectedAddress?(e=this.state.nfts[this.userSelectedAddress])!==null&&e!==void 0?e:[]:[]}startNftDetection(e){this.configure({selectedAddress:e}),this.restartNftDetection()}restartNftDetection(){this.userSelectedAddress&&this.pollingManager.start(()=>{this.detectNewNfts(),this.refreshNftBalances()})}detectNewNfts(){let e=this.userSelectedAddress;if(!e)return;let n=this.config.chainId,r=[];if(!n){this.update({nfts:{[e]:[...r]}});return}if(this.getCustomNfts){let a=this.getCustomNfts(e).reduce((o,s)=>{if(s.network===n){let c={description:"",image:"",name:"",tokenBalance:"",tokenId:s.nft_id,customNftId:s.id.toString()};if(o[s.nft_address])o[s.nft_address].assets.push(c);else{let l={assets:[c],chainId:s.network,contractAddress:s.nft_address,contractName:"",contractSymbol:"",contractImage:"",nftStandard:s.nft_contract_standard,contractDescription:""};o[s.nft_address]=l}}return o},{});r.push(...Object.values(a))}this.update({nfts:{[e]:[...r]}})}async refreshNftBalances(e){let n=this.userSelectedAddress;if(n==="")return;let r=[...this.userNfts],i=[];try{let a=this.config.chainId;if(pY.includes(a)){let o=await this.getSimpleHashNfts(n,a,e);i.push(...o),this.update({nfts:{[n]:i}})}r.length>0&&this.getNftBalancesUsingHandler(r)}catch(a){$ge.default.error(a,"unable to fetch nft balances")}}async getNftBalancesUsingHandler(e){if(!this.userSelectedAddress)return;let n=this.userSelectedAddress,r=e,a=(await Promise.allSettled(r.map(async o=>{try{let s=new kS(q(q({},o),{},{provider:this.ethersProvider})),c=await s.getContractMetadata(),l=await Promise.allSettled(o.assets.map(u=>s.getNftMetadata(n,u)));return q(q({},c),{},{assets:l.filter(u=>u.status==="fulfilled").map(u=>u.value)})}catch(s){$ge.default.warn("Invalid contract address while fetching",s);return}}))).filter(o=>o.status==="fulfilled"&&o.value).map(o=>o.value);this.update({nfts:{[n]:(0,tft.default)(this.userNfts,a)}})}}});var Fp,rX,rft=B(()=>{Qe();$c();Oi();fM();Fp=fe(Ln());Pi();hD();rX=class extends lM{constructor({config:e,state:n,provider:r,signAuthMessage:i,getProviderConfig:a,setProviderConfig:o,validateSignMessage:s}){super({config:e,state:n,defaultPreferences:{formattedPastTransactions:[],fetchedPastTx:[],paymentTx:[],etherscanTransactions:[]},signAuthMessage:i,validateSignMessage:s}),K(this,"chainNamespace",ji.EIP155),K(this,"_handle",void 0),K(this,"_mutex",new r6),K(this,"getProviderConfig",void 0),K(this,"setProviderConfig",void 0),K(this,"provider",void 0),this.provider=r,this.getProviderConfig=a,this.setProviderConfig=o}async poll(e){var n;let r=await this._mutex.acquire();e&&this.configure({pollInterval:e}),this._handle&&window.clearTimeout(this._handle);let i=this.state.selectedAddress;i&&(n=this.getAddressState(i))!==null&&n!==void 0&&n.jwtToken&&(await this.sync(i),r(),this._handle=window.setTimeout(()=>{this.poll(this.config.pollInterval)},this.config.pollInterval))}async initPreferences(e){let{address:n,jwtToken:r,calledFromEmbed:i,userInfo:a,rehydrate:o,locale:s="en",type:c,signatures:l,web3AuthClientId:u,web3AuthNetwork:f,loginMode:d,sessionPubKey:p,aaProvider:h,eoaAddress:m,mainAddress:w}=e,{chainId:g}=this.getProviderConfig();await super.init({address:n,userInfo:a,idToken:r,type:c,metadata:{email:a.email,signatures:l,network:f,eoa_address:m,aa_provider:h,chain_id:g,main_address:w}});let{groupedAuthConnectionId:x,authConnectionId:C,userId:P}=a||{};if(!await this.sync(n)){let F=this.getAddressState(n);await this.createUser({selectedCurrency:F.selectedCurrency,theme:F.theme,groupedAuthConnectionId:x,authConnectionId:C,userId:P,locale:s,address:n,type:c,web3AuthNetwork:f,metadata:{aa_provider:h,chain_id:g,eoa_address:m}})}m&&this.updateState({eoaAddress:m},n),this.storeUserLogin({groupedAuthConnectionId:x,authConnectionId:C,userId:P,options:{calledFromEmbed:i,rehydrate:o},address:n,web3AuthClientId:u,web3AuthNetwork:f,sessionPubKey:p,loginMode:d})}getSelectedAddress(){return this.state.selectedAddress}async sync(e){try{let n=await this.getUser(e);if(n){let{default_currency:r,contacts:i,theme:a,locale:o,public_address:s,default_public_address:c,customNetworks:l,customTokens:u,customNfts:f,account_type:d}=n||{};return this.updateState({contacts:i,theme:a,selectedCurrency:r,locale:o,defaultPublicAddress:c||s,customTokens:u,customNfts:f,customNetworks:l,accountType:d},e),!0}return!1}catch(n){if(nM(n))throw n;return Fp.default.error(n),!1}finally{this.getWalletOrders(e).then(n=>{n&&n.length>0&&(this.updateState({fetchedPastTx:[...n]},e),this.calculatePastTx(n,e))}).catch(n=>Fp.default.error(n))}}async patchNewTx(e,n){var r;let i=a9({transaction:e,blockExplorerUrl:this.getBlockExplorerUrl()}),a=((r=this.getAddressState(n))===null||r===void 0?void 0:r.formattedPastTransactions)||[],o=a.findIndex(c=>c.transaction_hash===e.transaction_hash&&c.chainId===e.chain_id);if(e.status===Xt.submitted||e.status===Xt.confirmed)if(o===-1){var s;let c=this.cancelTxCalculate([...a,i]);e.is_cancel=i.is_cancel,e.to=(s=e.to)===null||s===void 0?void 0:s.toLowerCase(),e.from=e.from.toLowerCase(),this.updateState({formattedPastTransactions:c},n),this.postPastTx(e,n)}else i.is_cancel=a[o].is_cancel,a[o]=i,this.updateState({formattedPastTransactions:this.cancelTxCalculate([...a])},n)}recalculatePastTx(e){let n=e||this.state.selectedAddress,r=this.getAddressState(n);r!=null&&r.fetchedPastTx&&this.calculatePastTx(r.fetchedPastTx,n)}async refetchEtherscanTx(e){var n;let r=e||this.state.selectedAddress;if(!r)return[];let i=r?.toLowerCase();if((n=this.getAddressState(r))!==null&&n!==void 0&&n.jwtToken){let{chainId:a}=this.getProviderConfig();if(xT.includes(a)){let o=await this.fetchEtherscanTx({selectedAddress:r,chainId:this.getProviderConfig().chainId}),s=await tX({txn:o,lowerCaseSelectedAddress:i,provider:this.provider,chainId:a,blockExplorerUrl:this.getBlockExplorerUrl()});return Fp.default.info("Formatted Etherscan Response",s),this.updateState({etherscanTransactions:s}),o}}}async fetchEtherscanTx(e){try{let n=await this.wsApiClient.authGet(`etherscan?chainId=${e.chainId}`,this.authCredentials(e.selectedAddress));return Fp.default.info("Etherscan Response API",n),n.success?n.data:[]}catch(n){return Fp.default.error("unable to fetch etherscan tx",n),[]}}async fetchQuote(e){try{let n=await this.wsApiClient.authPost("quote",e,this.authCredentials());return n.success?n.data:[]}catch(n){return Fp.default.error("unable to get swap quote",n),[]}}async getEtherScanTokens(e,n,r){let a=`tokens?chainId=${n}&address=${e}`;return r&&(a+="&skipCache=true"),(await this.wsApiClient.authGet(a,this.authCredentials())).data}async getSimpleHashNfts(e,n,r){let a=`nfts?chainId=${n}&address=${e}`;return r&&(a+="&skipCache=true"),(await this.wsApiClient.authGet(a,this.authCredentials())).data}getCustomTokens(e){var n,r;return(n=(r=this.getAddressState(e))===null||r===void 0?void 0:r.customTokens)!==null&&n!==void 0?n:[]}getCustomNfts(e){var n,r;return(n=(r=this.getAddressState(e))===null||r===void 0?void 0:r.customNfts)!==null&&n!==void 0?n:[]}isChainIdSupported(e,n){return!!this.getChainOptions(e).find(a=>Si(a.chainId)===n)}async addChain(e){if(this.getChainOptions().find(o=>o.chainId===e.chainId))return;let i={displayName:e.chainName,rpcTarget:e.rpcUrls[0],ticker:e.nativeCurrency.symbol,chainId:e.chainId,blockExplorerUrl:e.blockExplorerUrls[0],tickerName:e.nativeCurrency.name,logo:e.nativeCurrency.symbol};if(!await this.addCustomNetwork({network:i}))throw new Error("unable to add custom network")}switchChain(e){let r=this.getChainOptions().find(i=>i.chainId===e.chainId);if(r)this.setProviderConfig(r);else throw new Error(`chainId ${e.chainId} is not supported`)}async addCustomNetwork({network:e}){try{let{selectedAddress:n}=this.state,r={network_name:e.displayName,rpc_url:e.rpcTarget,chain_id:e.chainId,symbol:e.ticker,block_explorer_url:e.blockExplorerUrl||void 0,is_testnet:e.isTestnet||!1,logo:e.logo,symbol_name:e.tickerName},i=await this.wsApiClient.authPost("customnetwork",r,this.authCredentials(n),{useAPIKey:!0});return await this.sync(n),i.data.id}catch{return Fp.default.error("error adding custom network"),null}}async deleteCustomNetwork(e){try{let{selectedAddress:n}=this.state;return await this.wsApiClient.authRemove(`customnetwork/${e}`,{},this.authCredentials(n),{useAPIKey:!0}),await this.sync(n),!0}catch{return Fp.default.error("error deleting custom network"),!1}}async editCustomNetwork({network:e,id:n}){try{let{selectedAddress:r}=this.state,i={network_name:e.displayName,rpc_url:e.rpcTarget,chain_id:e.chainId,symbol:e.ticker||void 0,block_explorer_url:e.blockExplorerUrl||void 0,is_testnet:e.isTestnet||!1};return await this.wsApiClient.authPatch(`customnetwork/${n}`,i,this.authCredentials(r),{useAPIKey:!0}),await this.sync(r),!0}catch{return Fp.default.error("error editing custom network"),!1}}getChainOptions(e=this.state.selectedAddress){var n,r;let{identities:i}=this.state,a=(n=(r=i[e])===null||r===void 0?void 0:r.customNetworks)!==null&&n!==void 0?n:[],o=Object.values(a).reduce((c,l)=>{let u={blockExplorerUrl:l.block_explorer_url,chainId:l.chain_id,displayName:l.network_name,logo:"eth.svg",rpcTarget:l.rpc_url,ticker:l.symbol,tickerName:l.symbol.toUpperCase(),isCustom:!0,id:l.id};return Object.keys(fu).includes(u.chainId)||c.push(u),c},[]);return[...Object.values(fu).reduce((c,l)=>(c.push(l),c),[]),...o]}getBlockExplorerUrl(){let n=this.getChainOptions().find(r=>r.chainId===this.getProviderConfig().chainId);return n?`${n.blockExplorerUrl}`:""}async calculatePastTx(e,n){let r=[],i=[],a=n.toLowerCase(),s=this.getChainOptions(n).find(d=>d.chainId===this.getProviderConfig().chainId);for(let d of e){var c;if(s?.chainId===d.chain_id&&d.to&&d.from&&(a===d.from.toLowerCase()||a===((c=d.to)===null||c===void 0?void 0:c.toLowerCase())))if(d.status!=="confirmed")i.push(d);else{let p=a9({transaction:d,lowerCaseSelectedAddress:a,blockExplorerUrl:this.getBlockExplorerUrl()});r.push(p)}}let l=i.map(d=>YZ(d.transaction_hash,this.provider).catch(p=>Fp.default.error(p))),u=await Promise.all(l);for(let[d,p]of i.entries()){let h=a9({transaction:p,lowerCaseSelectedAddress:a,blockExplorerUrl:this.getBlockExplorerUrl()});h.status=u[d]||Xt.submitted,r.push(h),a===p.from.toLowerCase()&&h.status&&h.status!==p.status&&this.patchPastTx({id:p.id,status:h.status},n)}let f=this.cancelTxCalculate(r);this.updateState({formattedPastTransactions:[...f]},n)}cancelTxCalculate(e){let n={};for(let r of e)n[r.nonce]?n[r.nonce].push(r):n[r.nonce]=[r];for(let[,r]of Object.entries(n))if(r.length>1){let i=r.sort((o,s)=>{let c=new Date(o.date).getTime();return new Date(s.date).getTime()-c}),a=i[0];a.is_cancel=!0,i.slice(1).forEach(o=>{o.hasCancel=!0,o.status=a.status==="confirmed"?Xt.cancelled:Xt.cancelling,o.cancelDateInitiated=`${QZ(new Date(a.date).getTime())} - ${JZ(a.date)}`,o.etherscanLink=a.etherscanLink,o.cancelGas=a.gas,o.cancelGasPrice=a.gasPrice})}return e}}});var ift,MS,qge=B(()=>{Qe();xp();ift=fe(Ln());d4();MS=class{constructor({address:e,symbol:n,decimals:r,name:i,provider:a}){K(this,"address",void 0),K(this,"symbol",void 0),K(this,"decimals",void 0),K(this,"name",void 0),K(this,"contract",void 0),this.address=e,this.contract=new po(e,mT,a),this.symbol=n,this.decimals=r,this.name=i}async getSymbol(){return(!this.symbol||this.symbol==="ERC20")&&(this.symbol=await this.contract.symbol()),this.symbol}async getDecimals(){try{return this.decimals||(this.decimals=await this.contract.decimals()),this.decimals}catch(e){return ift.default.warn(`Could not get decimals for token ${this.address}`,e),0}}async getName(){return this.name||(this.name=await this.contract.name()),this.name}async getUserBalance(e){return this.decimals||await this.getDecimals(),(await this.contract.balanceOf(e)).toString(16)}}});var aft,BS,iX,oft=B(()=>{st();Qe();Oi();Uv();aft=fe(Ln());Pi();BS="eth",iX=class extends wi{constructor({config:e,state:n,idleTimeTracker:r,onPreferencesStateChange:i,onNetworkStateChange:a,onTokensStateChange:o}){super({config:e,state:n}),K(this,"pollingManager",void 0),this.defaultState=q(q({},this.defaultState),{},{contractExchangeRates:{}}),this.initialize(),i(s=>{let{selectedAddress:c}=s;this.configure({selectedAddress:c})}),a(s=>{let{chainId:c,ticker:l}=s.providerConfig;this.configure({chainId:c,nativeCurrency:l})}),o(s=>{let{tokens:c}=s,l=c[this.config.selectedAddress];l?.length>0&&this.config.tokens!==c[this.config.selectedAddress]&&(this.configure({tokens:c[this.config.selectedAddress]}),this.updateExchangeRates())}),this.pollingManager=new sl(r,this.config.pollInterval)}async scheduleConversionInterval(){this.pollingManager.start(this.updateExchangeRates.bind(this))}async updateExchangeRates(){let e=mY[this.config.chainId],n={};e?n=await this.fetchExchangeRates(this.config.nativeCurrency,e):(aft.default.info(`ChainId ${this.config.chainId} not supported by coingecko`),this.config.tokens.forEach(r=>{n[r.tokenAddress]=void 0})),this.update({contractExchangeRates:n})}async fetchExchangeRates(e,n){let r=this.config.tokens.map(c=>c.tokenAddress);if(hY.has(e.toLowerCase())){let c=await hf(`${this.config.currencyApi}/currency/exchange-rates?platform=${n.platform}&contract_addresses=${r.join(",")}&vs_currencies=${e.toLowerCase()}`),l={};return Object.keys(c).forEach(u=>{l[u]=c[u][e.toLowerCase()]||0}),l}let[a,o]=await Promise.all([hf(`${this.config.currencyApi}/currency/exchange-rates?platform=${n.platform}&contract_addresses=${r.join(",")}&vs_currencies=${BS}`),hf(`${this.config.currencyApi}/currency?fsym=${e.toUpperCase()}&tsyms=${BS.toUpperCase()}`)]),s={};return Object.keys(a).forEach(c=>{s[c]=a[c][BS]*Number.parseFloat(o[BS])||0}),s}}});var Wge,Edn,aX,sft=B(()=>{st();Qe();Oi();xp();Wge=fe(Ln());d4();Pi();Tye();qge();Edn=180*1e3,aX=class extends wi{constructor({config:e,state:n,provider:r,idleTimeTracker:i,getCustomTokens:a,getEtherScanTokens:o,getProviderConfig:s,onPreferencesStateChange:c,onNetworkStateChange:l}){super({config:e,state:n}),K(this,"name","TokensController"),K(this,"provider",void 0),K(this,"ethersProvider",void 0),K(this,"pollingManager",void 0),K(this,"getProviderConfig",void 0),K(this,"getCustomTokens",void 0),K(this,"getEtherScanTokens",void 0),this.provider=r,this.ethersProvider=new u6(this.provider,"any"),this.getCustomTokens=a,this.getEtherScanTokens=o,this.getProviderConfig=s,this.defaultConfig={interval:Edn,selectedAddress:"",chainId:""},this.defaultState={tokens:{}},this.initialize(),c(u=>{u.selectedAddress!==this.config.selectedAddress&&(this.configure({selectedAddress:u.selectedAddress}),this.restartTokenDetection())}),l(u=>{let{chainId:f}=u.providerConfig;f!==this.config.chainId&&(this.configure({chainId:f}),this.restartTokenDetection())}),this.pollingManager=new sl(i,this.config.interval)}get userSelectedAddress(){return this.config.selectedAddress}get userTokens(){var e;return this.userSelectedAddress?(e=this.state.tokens[this.userSelectedAddress])!==null&&e!==void 0?e:[]:[]}startTokenDetection(e){this.configure({selectedAddress:e}),this.restartTokenDetection()}restartTokenDetection(){this.userSelectedAddress&&this.pollingManager.start(async()=>{this.detectNewTokens(),await this.refreshTokenBalances()})}detectNewTokens(){let e=this.userSelectedAddress;if(!e)return;let n=this.config.chainId,r=[];if(!n){this.update({tokens:{[e]:[...r]}});return}let i=this.getProviderConfig();if(i!=null&&i.isErc20&&i!==null&&i!==void 0&&i.tokenAddress&&r.push({tokenAddress:i.tokenAddress,name:i.tickerName,logo:i.logo,erc20:!0,symbol:i.ticker,decimals:"18",chainId:n}),this.getCustomTokens){let a=this.getCustomTokens(e);r.push(...a.reduce((o,s)=>(s.network===n&&o.push({tokenAddress:s.token_address,name:s.token_name,logo:"eth.svg",erc20:!0,symbol:s.token_symbol,decimals:s.decimals,balance:"",customTokenId:s.id.toString(),chainId:s.network}),o),[]))}this.update({tokens:{[e]:[...r]}})}async refreshTokenBalances(e){let n=this.userSelectedAddress;if(n==="")return;let r=[...this.userTokens];try{let i=[],a=this.config.chainId;if(xT.includes(a)){let s=await this.getEtherScanTokens(n,a,e);i.push(...s)}let o=r.filter(s=>!i.find(c=>{var l,u;return((l=c.tokenAddress)===null||l===void 0?void 0:l.toLocaleLowerCase())===((u=s.tokenAddress)===null||u===void 0?void 0:u.toLocaleLowerCase())}));if(o.length>0){let s=o.map(l=>l.tokenAddress),c=eB[a];if(c){let u=await new po(c,yT,this.ethersProvider).balances([n],s);s.forEach((f,d)=>{let p=za(u[d]);p&&p!=="0x0"&&i.push(q(q({},o[d]),{},{balance:p,chainId:a}))})}else{let l=await this.getTokenBalancesUsingHandler(o);i.push(...l)}}this.update({tokens:{[n]:i}})}catch(i){Wge.default.error(i,"unable to fetch token balances using single call balance address");let a=await this.getTokenBalancesUsingHandler(r);this.update({tokens:{[n]:a}})}}async getTokenBalancesUsingHandler(e){if(!this.userSelectedAddress)return[];let n=e;return(await Promise.allSettled(n.map(async a=>{try{let o=new MS({address:a.tokenAddress,decimals:Number.parseInt(a.decimals),name:a.name,symbol:a.symbol,provider:this.ethersProvider}),s=await o.getUserBalance(this.userSelectedAddress);return{decimals:o.decimals.toString(),erc20:!0,logo:a.logo||"eth.svg",name:o.name,symbol:o.symbol,tokenAddress:o.address,balance:`0x${s}`,customTokenId:a.customTokenId,network:a.chainId,chainId:a.chainId}}catch(o){Wge.default.warn("could not fetch user token balance",o);return}}))).reduce((a,o)=>(o.status==="fulfilled"&&o.value&&a.push(o.value),a),[])}}});var DS,Yge=B(()=>{Qe();fM();Pi();DS=class{constructor({provider:e,blockTracker:n,getPendingTransactions:r,getConfirmedTransactions:i}){K(this,"provider",void 0),K(this,"blockTracker",void 0),K(this,"getPendingTransactions",void 0),K(this,"getConfirmedTransactions",void 0),K(this,"lockMap",void 0),this.provider=e,this.blockTracker=n,this.getPendingTransactions=r,this.getConfirmedTransactions=i,this.lockMap={}}async getGlobalLock(){return{releaseLock:await this._lookupMutex("global").acquire()}}async getNonceLock(e){await this._globalMutexFree();let n=await this._takeMutex(e);try{let r={},i=await this._getNetworkNextNonce(e),a=this._getHighestLocallyConfirmed(e),o=i.nonce,s=Math.max(o,a),c=this.getPendingTransactions(e),l=this._getHighestContinuousFrom(c,s);return r.params={highestLocallyConfirmed:a,highestSuggested:s,nextNetworkNonce:o},r.local=l,r.network=i,{nextNonce:Math.max(i.nonce,l.nonce),nonceDetails:r,releaseLock:n}}catch(r){throw n(),r}}async _globalMutexFree(){(await this._lookupMutex("global").acquire())()}async _takeMutex(e){return await this._lookupMutex(e).acquire()}_lookupMutex(e){let n=this.lockMap[e];return n||(n=new r6,this.lockMap[e]=n),n}async _getNetworkNextNonce(e){let n=await this.blockTracker.getLatestBlock(),r=await this.provider.request({method:zt.ETH_GET_TRANSACTION_COUNT,params:[e,n.idempotencyKey]}),i=Number.parseInt(r,16);return{name:"network",nonce:i,details:{block:n,baseCount:i}}}_getHighestLocallyConfirmed(e){let n=this.getConfirmedTransactions(e),r=this._getHighestNonce(n);return Number.isInteger(r)?r+1:0}_getHighestNonce(e){let n=e.map(i=>{let{nonce:a}=i.transaction;return Number.parseInt(a,16)});return Math.max.apply(null,n)}_getHighestContinuousFrom(e,n){let r=new Set(e.map(a=>{let{nonce:o}=a.transaction;return Number.parseInt(o,16)})),i=n;for(;r.has(i);)i+=1;return{name:"local",nonce:i,details:{startPoint:n,highest:i}}}}});var oX,LS,Jge=B(()=>{Qe();Oi();iu();oX=fe(Ln());Pi();LS=class extends n6{constructor({provider:e,nonceTracker:n,approveTransaction:r,publishTransaction:i,getPendingTransactions:a,getConfirmedTransactions:o}){super(),K(this,"DROPPED_BUFFER_COUNT",3),K(this,"nonceTracker",void 0),K(this,"provider",void 0),K(this,"approveTransaction",void 0),K(this,"droppedBlocksBufferByHash",void 0),K(this,"getConfirmedTransactions",void 0),K(this,"getPendingTransactions",void 0),K(this,"publishTransaction",void 0),this.provider=e,this.nonceTracker=n,this.approveTransaction=r,this.publishTransaction=i,this.getPendingTransactions=a,this.getConfirmedTransactions=o,this.droppedBlocksBufferByHash=new Map}async updatePendingTxs(){let e=await this.nonceTracker.getGlobalLock();try{let n=this.getPendingTransactions();await Promise.all(n.map(r=>this._checkPendingTx(r)))}catch(n){oX.default.error("PendingTransactionTracker - Error updating pending transactions"),oX.default.error(n)}e.releaseLock()}async resubmitPendingTxs(e){let n=this.getPendingTransactions();if(n.length!==0)for(let i of n)try{await this._resubmitTx(i,e.idempotencyKey)}catch(a){var r;let o=((r=a.value)===null||r===void 0||(r=r.message)===null||r===void 0?void 0:r.toLowerCase())||a.message.toLowerCase();if(o.includes("replacement transaction underpriced")||o.includes("known transaction")||o.includes("gas price too low to replace")||o.includes("transaction with the same hash was already imported")||o.includes("gateway timeout")||o.includes("nonce too low"))return;i.warning={error:o,message:"There was an error when resubmitting this transaction."},this.emit(Ha.TX_WARNING,{txMeta:i,txId:i.id})}}async _resubmitTx(e,n){if(e.userOpHash)return;e.firstRetryBlockNumber||this.emit(Ha.TX_BLOCK_UPDATE,{txMeta:e,latestBlockNumber:n,txId:e.id});let r=e.firstRetryBlockNumber||n,i=Number.parseInt(n,16)-Number.parseInt(r,16),a=e.retryCount||0;if(i<=Math.min(50,2**a))return;if(!("rawTransaction"in e))return this.approveTransaction(e.id);let{rawTransaction:o}=e,s=await this.publishTransaction(o);return this.emit(Ha.TX_RETRY,{txMeta:e,txId:e.id}),s}async _checkPendingTx(e){let n=e,r=n.transactionHash,i=n.id;if(!(n.status!==Xt.submitted||n.isUserOperation)){if(!r){let a=new Error("We had an error while submitting this transaction, please try again.");a.name="NoTxHashError",this.emit(Ha.TX_FAILED,{txId:i,error:a});return}if(this._checkIfNonceIsTaken(n)){this.emit(Ha.TX_DROPPED,{txId:i});return}try{let a=await this.provider.request({method:zt.ETH_GET_TRANSACTION_RECEIPT,params:[r]});if(a!=null&&a.blockNumber){let{baseFeePerGas:o,timestamp:s}=await this.provider.request({method:zt.ETH_GET_BLOCK_BY_HASH,params:[a.blockHash,!1]});this.emit(Ha.TX_CONFIRMED,{txId:i,txReceipt:a,baseFeePerGas:o,blockTimestamp:s});return}}catch(a){oX.default.error("error while loading tx",a),n.warning={error:a.message,message:"There was a problem loading this transaction."},this.emit(Ha.TX_WARNING,{txMeta:n,txId:i})}await this._checkIfTxWasDropped(n)&&this.emit(Ha.TX_DROPPED,{txId:i})}}async _checkIfTxWasDropped(e){let{transactionHash:n,transaction:{nonce:r,from:i}}=e,a=await this.provider.request({method:zt.ETH_GET_TRANSACTION_COUNT,params:[i,"latest"]});if(Number.parseInt(r,16)>=Number.parseInt(a,16))return!1;this.droppedBlocksBufferByHash.has(n)||this.droppedBlocksBufferByHash.set(n,0);let o=this.droppedBlocksBufferByHash.get(n);return o<this.DROPPED_BUFFER_COUNT?(this.droppedBlocksBufferByHash.set(n,o+1),!1):(this.droppedBlocksBufferByHash.delete(n),!0)}_checkIfNonceIsTaken(e){let n=e.transaction.from;return this.getConfirmedTransactions(n).some(i=>i.id===e.id?!1:i.transaction.nonce===e.transaction.nonce)}}});var US,cft,FS,Qge=B(()=>{Qe();$c();Oi();US=fe(dI()),cft=fe(Ln()),FS=class{constructor(e,n){K(this,"provider",void 0),K(this,"blockTracker",void 0),this.provider=e,this.blockTracker=n}async analyzeGasUsage(e){let n=await this.blockTracker.getLatestBlock(),i=new US.BN(Si(n.gasLimit),16).mul(new US.BN(19)).div(new US.BN(20)),a=qt(i.toString("hex")),o;try{a=await this.estimateTxGas(e)}catch(s){cft.default.warn(s),o={reason:s.message,errorKey:s.errorKey,debug:{blockNumber:n.idempotencyKey,blockGasLimit:n.gasLimit}}}return{blockGasLimit:n.gasLimit,estimatedGasHex:a,simulationFails:o}}addGasBuffer(e,n,r=1.5){let i=new US.BN(Si(e),16),o=new US.BN(Si(n),16).muln(.9),s=i.muln(r);return i.gt(o)?qt(i.toString("hex")):s.lt(o)?qt(s.toString("hex")):qt(o.toString("hex"))}async estimateTxGas(e){let n=au(e.transaction);return delete n.gasPrice,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,this.provider.request({method:"eth_estimateGas",params:[n]})}}});function cX(t,e){return Adn.call(t,e)}function lX(t){if(Array.isArray(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var r=[];for(var i in t)cX(t,i)&&r.push(i);return r}function D0(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function uX(t){for(var e=0,n=t.length,r;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function R6(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function mD(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function sX(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,n=t.length;e<n;e++)if(sX(t[e]))return!0}else if(typeof t=="object"){for(var r=lX(t),i=r.length,a=0;a<i;a++)if(sX(t[r[a]]))return!0}}return!1}function lft(t,e){var n=[t];for(var r in e){var i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var xdn,Adn,yD,bD=B(()=>{xdn=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Adn=Object.prototype.hasOwnProperty;yD=(function(t){xdn(e,t);function e(n,r,i,a,o){var s=this.constructor,c=t.call(this,lft(n,{name:r,index:i,operation:a,tree:o}))||this;return c.name=r,c.index=i,c.operation=a,c.tree=o,Object.setPrototypeOf(c,s.prototype),c.message=lft(n,{name:r,index:i,operation:a,tree:o}),c}return e})(Error)});var Zge={};$t(Zge,{JsonPatchError:()=>bo,_areEquals:()=>gD,applyOperation:()=>o9,applyPatch:()=>pX,applyReducer:()=>Sdn,deepClone:()=>_dn,getValueByPointer:()=>fX,validate:()=>uft,validator:()=>dX});function fX(t,e){if(e=="")return t;var n={op:"_get",path:e};return o9(t,n),n.value}function o9(t,e,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(e,0,t,e.path):dX(e,0)),e.path===""){var o={newDocument:t};if(e.op==="add")return o.newDocument=e.value,o;if(e.op==="replace")return o.newDocument=e.value,o.removed=t,o;if(e.op==="move"||e.op==="copy")return o.newDocument=fX(t,e.from),e.op==="move"&&(o.removed=t),o;if(e.op==="test"){if(o.test=gD(t,e.value),o.test===!1)throw new bo("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return o.newDocument=t,o}else{if(e.op==="remove")return o.removed=t,o.newDocument=null,o;if(e.op==="_get")return e.value=t,o;if(n)throw new bo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,t);return o}}else{r||(t=D0(t));var s=e.path||"",c=s.split("/"),l=t,u=1,f=c.length,d=void 0,p=void 0,h=void 0;for(typeof n=="function"?h=n:h=dX;;){if(p=c[u],p&&p.indexOf("~")!=-1&&(p=mD(p)),i&&(p=="__proto__"||p=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[p]===void 0?d=c.slice(0,u).join("/"):u==f-1&&(d=e.path),d!==void 0&&h(e,0,t,d)),u++,Array.isArray(l)){if(p==="-")p=l.length;else{if(n&&!uX(p))throw new bo("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,e,t);uX(p)&&(p=~~p)}if(u>=f){if(n&&e.op==="add"&&p>l.length)throw new bo("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,e,t);var o=Tdn[e.op].call(e,l,p,t);if(o.test===!1)throw new bo("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return o}}else if(u>=f){var o=HS[e.op].call(e,l,p,t);if(o.test===!1)throw new bo("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return o}if(l=l[p],n&&u<f&&(!l||typeof l!="object"))throw new bo("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,e,t)}}}function pX(t,e,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(e))throw new bo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=D0(t));for(var a=new Array(e.length),o=0,s=e.length;o<s;o++)a[o]=o9(t,e[o],n,!0,i,o),t=a[o].newDocument;return a.newDocument=t,a}function Sdn(t,e,n){var r=o9(t,e);if(r.test===!1)throw new bo("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function dX(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new bo("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(HS[t.op]){if(typeof t.path!="string")throw new bo("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new bo('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new bo("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new bo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&sX(t.value))throw new bo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new bo("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new bo("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var o={op:"_get",path:t.from,value:void 0},s=uft([o],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new bo("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new bo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function uft(t,e,n){try{if(!Array.isArray(t))throw new bo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)pX(D0(e),D0(t),n||!0);else{n=n||dX;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof bo)return i;throw i}}function gD(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,a,o;if(n&&r){if(a=t.length,a!=e.length)return!1;for(i=a;i--!==0;)if(!gD(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(t);if(a=s.length,a!==Object.keys(e).length)return!1;for(i=a;i--!==0;)if(!e.hasOwnProperty(s[i]))return!1;for(i=a;i--!==0;)if(o=s[i],!gD(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var bo,_dn,HS,Tdn,hX=B(()=>{bD();bo=yD,_dn=D0,HS={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){var r=fX(n,this.path);r&&(r=D0(r));var i=o9(n,{op:"remove",path:this.from}).removed;return o9(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){var r=fX(n,this.from);return o9(n,{op:"add",path:this.path,value:D0(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:gD(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}},Tdn={add:function(t,e,n){return uX(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:HS.move,copy:HS.copy,test:HS.test,_get:HS._get}});var n8e={};$t(n8e,{compare:()=>Mdn,generate:()=>Xge,observe:()=>kdn,unobserve:()=>Pdn});function Rdn(t){return e8e.get(t)}function Odn(t,e){return t.observers.get(e)}function Ndn(t,e){t.observers.delete(e.callback)}function Pdn(t,e){e.unobserve()}function kdn(t,e){var n=[],r,i=Rdn(t);if(!i)i=new Cdn(t),e8e.set(t,i);else{var a=Odn(i,e);r=a&&a.observer}if(r)return r;if(r={},i.value=D0(t),e){r.callback=e,r.next=null;var o=function(){Xge(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=t,r.unobserve=function(){Xge(r),clearTimeout(r.next),Ndn(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(e,new Idn(e,r)),r}function Xge(t,e){e===void 0&&(e=!1);var n=e8e.get(t.object);t8e(n.value,t.object,t.patches,"",e),t.patches.length&&pX(n.value,t.patches);var r=t.patches;return r.length>0&&(t.patches=[],t.callback&&t.callback(r)),r}function t8e(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var a=lX(e),o=lX(t),s=!1,c=!1,l=o.length-1;l>=0;l--){var u=o[l],f=t[u];if(cX(e,u)&&!(e[u]===void 0&&f!==void 0&&Array.isArray(e)===!1)){var d=e[u];typeof f=="object"&&f!=null&&typeof d=="object"&&d!=null&&Array.isArray(f)===Array.isArray(d)?t8e(f,d,n,r+"/"+R6(u),i):f!==d&&(s=!0,i&&n.push({op:"test",path:r+"/"+R6(u),value:D0(f)}),n.push({op:"replace",path:r+"/"+R6(u),value:D0(d)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+R6(u),value:D0(f)}),n.push({op:"remove",path:r+"/"+R6(u)}),c=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}),s=!0)}if(!(!c&&a.length==o.length))for(var l=0;l<a.length;l++){var u=a[l];!cX(t,u)&&e[u]!==void 0&&n.push({op:"add",path:r+"/"+R6(u),value:D0(e[u])})}}}function Mdn(t,e,n){n===void 0&&(n=!1);var r=[];return t8e(t,e,r,"",n),r}var e8e,Cdn,Idn,r8e=B(()=>{bD();hX();e8e=new WeakMap,Cdn=(function(){function t(e){this.observers=new Map,this.obj=e}return t})(),Idn=(function(){function t(e,n){this.callback=e,this.observer=n}return t})()});var i8e,fft=B(()=>{hX();r8e();bD();hX();r8e();bD();i8e=Object.assign({},Zge,n8e,{JsonPatchError:yD,deepClone:D0,escapePathComponent:R6,unescapePathComponent:mD})});function mX(t,e,n){let r=i8e.compare(t,e);return r[0]&&(n&&(r[0].note=n),r[0].timestamp=Date.now()),r}function yX(t){return au(t).reduce((n,r)=>i8e.applyPatch(n,r).newDocument)}function wD(t){let e=q({},t);return delete e.history,au(e)}var a8e=B(()=>{st();Oi();fft()});var zS,o8e=B(()=>{st();Oi();a8e();pD();zS=class extends uM{constructor({config:e,state:n,getCurrentChainId:r}){super({config:e,state:n,getCurrentChainId:r})}generateTxMeta(e={}){var n;let r=this.getCurrentChainId();if(r==="loading")throw new Error("Torus is having trouble connecting to the network");let i=null;return e.transaction&&typeof e.origin=="string"&&e.origin!=="torus"&&(typeof e.transaction.gasPrice<"u"?i={gasPrice:e.transaction.gasPrice}:(typeof e.transaction.maxFeePerGas<"u"||typeof e.transaction.maxPriorityFeePerGas<"u")&&(i={maxPriorityFeePerGas:e.transaction.maxPriorityFeePerGas,maxFeePerGas:e.transaction.maxFeePerGas}),typeof e.transaction.gas<"u"&&(i=q(q({},i),{},{gas:e.transaction.gas}))),q({id:((n=e.transaction)===null||n===void 0?void 0:n.id)||ol(),time:Date.now(),status:Xt.unapproved,loadingDefaults:!0,chainId:r,dappSuggestedGasFees:i},e)}addTransactionToState(e){e.transaction&&(e.transaction=dD(e.transaction,!1)),this.once(`${e.id}:signed`,()=>{this.removeAllListeners(`${e.id}:rejected`)}),this.once(`${e.id}:rejected`,()=>{this.removeAllListeners(`${e.id}:signed`)}),e.history=[];let n=wD(e);e.history.push(n);let r=this.getTransactions({filterToCurrentNetwork:!1}),{txHistoryLimit:i}=this.config,a=new Set,o=r.reverse().filter(s=>{let{nonce:c}=s.transaction,{chainId:l,status:u}=s,f=`${c}-${l}`;return a.has(f)?!1:a.size<i-1||WZ().includes(u)===!1?(a.add(f),!1):!0}).map(s=>s.id);return this._deleteTransactions(o),this._addTransactionsToState([e]),e}wipeTransactions(e){let{transactions:n}=this.state,r=this.getCurrentChainId();this.update({transactions:oM(n,i=>{let a=Hv(i,r);return i.transaction.from===e&&a})})}getTransactions({searchCriteria:e={},initialList:n=void 0,filterToCurrentNetwork:r=!0,limit:i=void 0}={}){let a=this.getCurrentChainId(),o=Y5e(e,l=>typeof l=="function"?l:u=>u===l),s=n?W5e(n,"id"):this.state.transactions,c=q5e(Object.values(U_(s,l=>{let u=Hv(l,a);if(r&&!u)return!1;for(let[f,d]of Object.entries(o))if(f in l.transaction){if(d(l.transaction[f])===!1)return!1}else if(d(l[f])===!1)return!1;return!0})),"time");if(i!==void 0){let l=new Set,u=[];for(let f=c.length-1;f>-1;f-=1){let d=c[f],{nonce:p}=d.transaction;if(!l.has(p))if(l.size<i)l.add(p);else continue;u.unshift(d)}return u}return c}getApprovedTransactions(e){let n={status:Xt.approved};return e&&(n.from=e),this.getTransactions({searchCriteria:n})}getSubmittedTransactions(e){let n={status:Xt.submitted};return e&&(n.from=e),this.getTransactions({searchCriteria:n})}getPendingTransactions(e){let n=this.getSubmittedTransactions(e),r=this.getApprovedTransactions(e);return[...n,...r]}getConfirmedTransactions(e){let n={status:Xt.confirmed};return e&&(n.from=e),this.getTransactions({searchCriteria:n})}getUnapprovedTxList(){let e=this.getCurrentChainId();return U_(this.state.transactions,n=>{let r=Hv(n,e);return n.status===Xt.unapproved&&r})}updateTransactionInState(e,n){e.transaction&&(e.transaction=dD(e.transaction,!1));let r=wD(e),i=yX(e.history),a=mX(i,r,n);a.length>0&&e.history.push(a),this.updateTransaction(e)}_setTransactionStatus(e,n,r){let i=this.getTransaction(e);i&&(i.status=n,this.updateTransactionInState(i),this.emit(Ha.TX_STATUS_UPDATE,{txId:e,status:n}),this.isFinalState(n)||r?this.emit(`${i.id}:finished`,i):this.emit(`${i.id}:${n}`,e))}}});var S8,bX,dft=B(()=>{st();Qe();$c();Oi();iu();Gb();xp();S8=fe(Ln());Pi();PZ();hD();Yge();Jge();Qge();o8e();pD();bX=class extends zS{constructor({config:e,state:n,provider:r,blockTracker:i,signEthTx:a,getCurrentChainId:o,getCurrentNetworkEIP1559Compatibility:s,getCurrentAccountEIP1559Compatibility:c,getSelectedAddress:l,getEIP1559GasFeeEstimates:u}){super({config:e,state:n,getCurrentChainId:o}),K(this,"getSelectedAddress",void 0),K(this,"getEIP1559GasFeeEstimates",void 0),K(this,"nonceTracker",void 0),K(this,"pendingTxTracker",void 0),K(this,"txGasUtil",void 0),K(this,"_getCurrentNetworkEIP1559Compatibility",void 0),K(this,"_getCurrentAccountEIP1559Compatibility",void 0),K(this,"signEthTx",void 0),K(this,"provider",void 0),K(this,"blockTracker",void 0),K(this,"inProcessOfSigning",new Set),K(this,"getUnapprovedTxCount",()=>Object.keys(this.getUnapprovedTxList()).length),K(this,"getPendingTxCount",f=>this.getPendingTransactions(f).length),this.blockTracker=i,this._getCurrentNetworkEIP1559Compatibility=s,this._getCurrentAccountEIP1559Compatibility=c,this.getSelectedAddress=l,this.getEIP1559GasFeeEstimates=u,this.signEthTx=a,this.provider=r,this.txGasUtil=new FS(this.provider,this.blockTracker),this.nonceTracker=new DS({provider:r,blockTracker:i,getConfirmedTransactions:this.getConfirmedTransactions.bind(this),getPendingTransactions:this.getSubmittedTransactions.bind(this)}),this.pendingTxTracker=new LS({provider:r,nonceTracker:this.nonceTracker,getPendingTransactions:this.getPendingTransactions.bind(this),getConfirmedTransactions:this.getConfirmedTransactions.bind(this),approveTransaction:this.approveTransaction.bind(this),publishTransaction:f=>this.provider.request({method:zt.ETH_SEND_RAW_TRANSACTION,params:[f]})}),this._setupListeners()}addTransactionUnapproved(e){this.addTransactionToState(e),this.emit(`${e.id}:unapproved`,e)}async addNewUnapprovedTransaction(e,n){let r=await this.createTransaction(e,n);return this.processApproval(r)}async processApproval(e){return new Promise((n,r)=>{let i=a=>a.status===Xt.rejected?r(Qk.userRejectedRequest("Transaction Signature: User denied message signature")):a.status===Xt.failed?r(pi.internal(`Transaction Signature: failed to sign message ${a.error}`)):a.status===Xt.signed&&a.isSignOnly?n(a.rawTransaction):a.status===Xt.submitted?n(a.transactionHash):r(pi.internal(`Transaction Signature: Unknown problem: ${JSON.stringify(e.transaction)}`));this.once(`${e.id}:finished`,i)})}async approveTransaction(e){let n=this.getTransaction(e);if(this.inProcessOfSigning.has(e))return;this.inProcessOfSigning.add(e);let r;try{this.setTxStatusApproved(e);let i=n.transaction.from,{customNonceValue:a}=n.transaction,o=Number(a);r=await this.nonceTracker.getNonceLock(i);let s=r.nextNonce,c=o===0?a:a||s;n.transaction.nonce=qt(c.toString(16)),n.nonceDetails=r.nonceDetails,this.updateTransactionInState(n,"transactions#approveTransaction"),await this.signTransaction(e,n.isSignOnly),n.isSignOnly||await this.publishTransaction(e),r.releaseLock()}catch(i){try{this.setTxStatusFailed(e,i)}catch(a){S8.default.error(a)}throw r&&r.releaseLock(),i}finally{this.inProcessOfSigning.delete(e)}}async signTransaction(e,n){let r=this.getTransaction(e),i=this.getCurrentChainId(),a=uD(r)?_f.FEE_MARKET:_f.LEGACY,o={type:Number.parseInt(a,16),chainId:i,gasLimit:r.transaction.gas,accessList:r.transaction.accessList,data:r.transaction.data,gasPrice:r.transaction.gasPrice,maxFeePerGas:r.transaction.maxFeePerGas,maxPriorityFeePerGas:r.transaction.maxPriorityFeePerGas,nonce:Number.parseInt(r.transaction.nonce,16),to:r.transaction.to,value:r.transaction.value},s=r.transaction.from,c=c6.from(o),l=await this.signEthTx(c,s);r.r=l.signature.r,r.s=l.signature.s,r.v=qt(l.signature.v.toString(16));let u=l.serialized;return r.rawTransaction=u,this.updateTransactionInState(r,"transactions#signTransaction: add r, s, v values and rawTx"),this.setTxStatusSigned(e,n),u}async publishTransaction(e){let r=this.getTransaction(e).rawTransaction,i;try{i=await this.provider.request({method:zt.ETH_SEND_RAW_TRANSACTION,params:[r]})}catch(a){if(a.message.toLowerCase().includes("known transaction"))i=Pr(qt(r)),i=qt(i);else throw a}this.setTxHash(e,i),this.setTxStatusSubmitted(e)}async confirmTransaction(e){let{txId:n,txReceipt:r}=e;S8.default.info(e,"confirm params");let i=this.getTransaction(n);if(i)try{i.txReceipt=q({},r),this.setTxStatusConfirmed(n),this.markNonceDuplicatesDropped(n),this.updateTransactionInState(i,"transactions#confirmTransaction - add txReceipt")}catch(a){S8.default.error(a)}}cancelTransaction(e){throw new Error(`Method not implemented. ${e}`)}async getEIP1559Compatibility(e){let n=await this._getCurrentNetworkEIP1559Compatibility(),r=await this._getCurrentAccountEIP1559Compatibility(e);return n&&r}async addTransactionGasDefaults(e){if(e.isUserOperation)return e;let n=e;try{n=await this.addTxGasDefaults(e)}catch(r){throw S8.default.warn(r),n=this.getTransaction(e.id),n.loadingDefaults=!1,this.updateTransactionInState(e,"Failed to calculate gas defaults."),r}return n.loadingDefaults=!1,this.updateTransactionInState(n,"Added new unapproved transaction."),n}async addTxGasDefaults(e){let n=e.transaction.type!==_f.LEGACY&&await this.getEIP1559Compatibility(),{gasPrice:r,maxFeePerGas:i,maxPriorityFeePerGas:a}=await this.getDefaultGasFees(e,n),{gasLimit:o,simulationFails:s}=await this.getDefaultGasLimit(e);return e=this.getTransaction(e.id),s&&(e.simulationFails=s),n?(e.transaction.gasPrice&&!e.transaction.maxFeePerGas&&!e.transaction.maxPriorityFeePerGas?(e.transaction.maxFeePerGas=e.transaction.gasPrice,e.transaction.maxPriorityFeePerGas=XZ(typeof a=="string"?Si(a):a,typeof e.transaction.gasPrice=="string"?Si(e.transaction.gasPrice):e.transaction.gasPrice)?a:e.transaction.gasPrice):(i&&!e.transaction.maxFeePerGas&&(e.transaction.maxFeePerGas=i),a&&!e.transaction.maxPriorityFeePerGas&&(e.transaction.maxPriorityFeePerGas=a),r&&!e.transaction.maxFeePerGas&&(e.transaction.maxFeePerGas=r),e.transaction.maxFeePerGas&&!e.transaction.maxPriorityFeePerGas&&(e.transaction.maxPriorityFeePerGas=e.transaction.maxFeePerGas)),delete e.transaction.gasPrice):(delete e.transaction.maxPriorityFeePerGas,delete e.transaction.maxFeePerGas),r&&!e.transaction.gasPrice&&!e.transaction.maxPriorityFeePerGas&&!e.transaction.maxFeePerGas&&(e.transaction.gasPrice=r),o&&!e.transaction.gas&&(e.transaction.gas=o),e}setTxHash(e,n){let r=this.getTransaction(e);r.transactionHash=n,this.updateTransactionInState(r,"transactions#setTxHash")}async getDefaultGasFees(e,n){if(!n&&e.transaction.gasPrice||n&&e.transaction.maxFeePerGas&&e.transaction.maxPriorityFeePerGas)return{};try{let{gasFeeEstimates:i,gasEstimateType:a}=await this.getEIP1559GasFeeEstimates();if(n&&a===Gd.FEE_MARKET){let{medium:{suggestedMaxPriorityFeePerGas:o,suggestedMaxFeePerGas:s}={}}=i;if(o&&s)return{maxFeePerGas:qt(bl(new mn(s)).toString(16)),maxPriorityFeePerGas:qt(bl(new mn(o)).toString(16))}}else if(a===Gd.LEGACY){let{medium:o}=i;return{gasPrice:qt(bl(new mn(o)).toString(16))}}else if(a===Gd.ETH_GASPRICE){let{gasPrice:o}=i;return{gasPrice:qt(bl(new mn(o)).toString(16))}}}catch(i){S8.default.error(i)}let r=await this.provider.request({method:zt.ETH_GET_GAS_PRICE});return{gasPrice:r&&qt(r)}}async getDefaultGasLimit(e){let n=this.getCurrentChainId(),r=uY[n],i=eX(n);if(e.transaction.gas)return{};if(e.transaction.to&&e.transactionCategory===Ud.SENT_ETHER&&i!=="custom"&&!e.transaction.data)return{gasLimit:ZZ.SIMPLE};let{blockGasLimit:a,estimatedGasHex:o,simulationFails:s}=await this.txGasUtil.analyzeGasUsage(e);return{gasLimit:this.txGasUtil.addGasBuffer(qt(o),a,r),simulationFails:s}}async createTransaction(e,n){let r=lD(e),i=await this.getEIP1559Compatibility(e.from);fD(r,i);let a=this.generateTxMeta({transaction:r,origin:n.origin}),{type:o,category:s,methodParams:c}=await NS(e,this.provider);return a.contractType=o,a.transactionCategory=s,a.methodParams=c,a.isUserOperation=n.isUserOperation,a.isSignOnly=n.isSignOnly,a.transaction.value=a.transaction.value?qt(a.transaction.value):"0x0",this.emit(`${a.id}:unapproved`,a),a=this.addTransactionToState(a),a=await this.addTransactionGasDefaults(a),this.emit(Ha.TX_UNAPPROVED,{txMeta:a,req:n}),a}_setupListeners(){this.setupBlockTrackerListener(),this.pendingTxTracker.on(Ha.TX_WARNING,e=>{this.updateTransactionInState(e.txMeta)}),this.pendingTxTracker.on(Ha.TX_DROPPED,e=>this.setTxStatusDropped(e.txId)),this.pendingTxTracker.on(Ha.TX_BLOCK_UPDATE,({txMeta:e,latestBlockNumber:n})=>{e.firstRetryBlockNumber||(e.firstRetryBlockNumber=n,this.updateTransactionInState(e))}),this.pendingTxTracker.on(Ha.TX_RETRY,e=>{"retryCount"in e.txMeta||(e.txMeta.retryCount=0),e.txMeta.retryCount+=1,this.updateTransactionInState(e.txMeta)}),this.pendingTxTracker.on(Ha.TX_FAILED,e=>{this.setTxStatusFailed(e.txId,e.error)}),this.pendingTxTracker.on(Ha.TX_CONFIRMED,e=>this.confirmTransaction(e))}setupBlockTrackerListener(){let e=!1,n=this.onLatestBlock.bind(this);this.on(Ha.TX_STATUS_UPDATE,()=>{let r=this.getPendingTransactions();!e&&r.length>0?(this.blockTracker.on("latest",n),e=!0):e&&!r.length&&(this.blockTracker.removeListener("latest",n),e=!1)})}async onLatestBlock(e){try{await this.pendingTxTracker.updatePendingTxs()}catch(n){S8.default.error(n)}try{await this.pendingTxTracker.resubmitPendingTxs(e)}catch(n){S8.default.error(n)}}markNonceDuplicatesDropped(e){let n=this.getTransaction(e),{nonce:r,from:i}=n.transaction,a=this.getTransactions({searchCriteria:{from:i,nonce:r}});a.length&&a.forEach(o=>{o.id!==e&&(this.updateTransactionInState(n,"transactions/pending-tx-tracker#event: tx:confirmed reference to confirmed txHash with same nonce"),o.status!==Xt.failed&&this.setTxStatusDropped(o.id))})}}});var O6,jS=B(()=>{Kt();bu();O6=async(t,e)=>{let{address:n,entryPointAddress:r,key:i=BigInt(0)}=e;return await He(t,gt,"readContract")({address:r,abi:[{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"getNonce",args:[n,i]})}});var Bdn,Ddn,vD,s8e=B(()=>{Wt();Kt();bu();Bdn="0x60806040526102a28038038091610015826100ae565b6080396040816080019112610093576080516001600160a01b03811681036100935760a0516001600160401b0381116100935782609f82011215610093578060800151610061816100fc565b9361006f60405195866100d9565b81855260a082840101116100935761008e9160a0602086019101610117565b610196565b600080fd5b634e487b7160e01b600052604160045260246000fd5b6080601f91909101601f19168101906001600160401b038211908210176100d457604052565b610098565b601f909101601f19168101906001600160401b038211908210176100d457604052565b6001600160401b0381116100d457601f01601f191660200190565b60005b83811061012a5750506000910152565b818101518382015260200161011a565b6040916020825261015a8151809281602086015260208686019101610117565b601f01601f1916010190565b3d15610191573d90610177826100fc565b9161018560405193846100d9565b82523d6000602084013e565b606090565b600091908291826040516101cd816101bf6020820195639b249f6960e01b87526024830161013a565b03601f1981018352826100d9565b51925af16101d9610166565b906102485760048151116000146101f7576024015160005260206000f35b60405162461bcd60e51b8152602060048201526024808201527f67657453656e64657241646472657373206661696c656420776974686f7574206044820152636461746160e01b6064820152608490fd5b60405162461bcd60e51b815260206004820152602b60248201527f67657453656e6465724164647265737320646964206e6f74207265766572742060448201526a185cc8195e1c1958dd195960aa1b6064820152608490fdfe",Ddn=[{inputs:[{internalType:"address",name:"_entryPoint",type:"address"},{internalType:"bytes",name:"initCode",type:"bytes"}],stateMutability:"payable",type:"constructor"}],vD=async(t,e)=>{let{initCode:n,entryPointAddress:r,factory:i,factoryData:a}=e;if(!n&&!i&&!a)throw new Error("Either `initCode` or `factory` and `factoryData` must be provided");let o=n||In([i,a]),{data:s}=await He(t,If,"call")({data:Xd({abi:Ddn,bytecode:Bdn,args:[r,o]})});if(!s)throw new Error("Failed to get sender address");return N0([{type:"address"}],s)[0]}});async function gu({owner:t,address:e}){if("type"in t&&t.type==="local")return t;let n;if("request"in t){if(!e)try{[e]=await t.request({method:"eth_requestAccounts"})}catch{[e]=await t.request({method:"eth_accounts"})}if(!e)throw new Error("address is required");n=yy({account:e,transport:Bp(t)})}return n||(n=t),tge({address:n.account.address,async signMessage({message:r}){return n.signMessage({message:r})},async signTypedData(r){return He(n,tD,"signTypedData")(r)},async signTransaction(r){throw new Error("Smart account signer doesn't need to sign transactions")}})}var s9=B(()=>{Wt();Rlt();Kt();bu()});var pft,hft=B(()=>{Wt();pft=async t=>{try{let n=Mc({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],data:t}),r=[];for(let i=0;i<n.args[0].length;i++)r.push({to:n.args[0][i],value:n.args[1][i],data:n.args[2][i]});return r}catch{}let e=Mc({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],data:t});return[{to:e.args[0],value:e.args[1],data:e.args[2]}]}});var mft,yft=B(()=>{Wt();mft=async t=>{if(t.length>1)return Oe({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"executeBatch",args:[t.map(n=>n.to),t.map(n=>n.value??0n),t.map(n=>n.data??"0x")]});let e=t.length===0?void 0:t[0];if(!e)throw new Error("No calls to encode");return Oe({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"execute",args:[e.to,e.value??0n,e.data??"0x"]})}});var bft,gft=B(()=>{Wt();bft=async({bytes:t,index:e,secp256k1VerificationFacetAddress:n})=>Oe({abi:[{inputs:[{internalType:"address",name:"_verificationFacet",type:"address"},{internalType:"bytes",name:"_owner",type:"bytes"},{internalType:"uint256",name:"_salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract Barz",name:"barz",type:"address"}],stateMutability:"nonpayable",type:"function"}],functionName:"createAccount",args:[n,t,e]})});async function wft(t,e,n,r){return t.signTypedData({domain:{chainId:Number(e),name:"Barz",verifyingContract:n,version:"v0.2.0"},types:{BarzMessage:[{name:"message",type:"bytes"}]},message:{message:r},primaryType:"BarzMessage"})}async function c8e(t){let{owner:e,client:n,index:r=0n,address:i,factoryAddress:a=vft.factoryAddress,secp256k1VerificationFacetAddress:o=vft.secp256k1VerificationFacetAddress}=t,s=await gu({owner:e}),c=i,l={address:t.entryPoint?.address??vy,abi:by,version:t.entryPoint?.version??"0.6"},u,f=async()=>u||(u=n.chain?n.chain.id:await He(n,ha,"getChainId")({}),u),d=async()=>({factory:a,factoryData:await bft({bytes:s.address,secp256k1VerificationFacetAddress:o,index:r})});return Rf({client:n,entryPoint:l,getFactoryArgs:d,async getAddress(){if(c)return c;let{factory:p,factoryData:h}=await d();return c=await vD(n,{factory:p,factoryData:h,entryPointAddress:l.address}),c},async encodeCalls(p){return mft(p)},async decodeCalls(p){return pft(p)},async getNonce(p){return O6(n,{address:await this.getAddress(),entryPointAddress:l.address,key:t?.nonceKey??p?.key})},async getStubSignature(){return"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"},async sign({hash:p}){return this.signMessage({message:p})},async signMessage({message:p}){return wft(s,await f(),await this.getAddress(),yl(p))},async signTypedData(p){return wft(s,await f(),await this.getAddress(),B0(p))},async signUserOperation(p){let{chainId:h=await f(),...m}=p;return z4(n,{account:s,message:{raw:wy({userOperation:{...m,sender:m.sender??await this.getAddress(),signature:"0x"},entryPointAddress:l.address,entryPointVersion:l.version,chainId:h})}})}})}var vft,Eft=B(()=>{Wt();Kt();jS();Of();bu();s8e();s9();hft();yft();gft();vft={secp256k1VerificationFacetAddress:"0x81b9E3689390C7e74cF526594A105Dea21a8cdD5",factoryAddress:"0x729c310186a57833f622630a16d13f710b83272a"}});function c9(t){let n=Mc({abi:[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],data:t}),r=n.args[0],i=n.args[1],a=aa(r,0,1),o=aa(r,1,2),s=aa(r,3,7),c=aa(r,7),l;switch(BigInt(a)){case BigInt(0):l="call";break;case BigInt(1):l="batchcall";break;case BigInt(255):l="delegatecall";break;default:throw new Error("Invalid call type")}let u={type:l,revertOnError:BigInt(o)===BigInt(1),selector:s,context:c};if(u.type==="batchcall"){let[h]=N0([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],i);return{mode:u,callData:h.map(m=>({to:m.target,value:m.value,data:m.callData}))}}let f=Js(aa(i,0,20)),d=BigInt(aa(i,20,52)),p=pr(i)>52?aa(i,52):"0x";return{mode:u,callData:[{to:f,value:d,data:p}]}}var gX=B(()=>{Wt()});function Ldn(t){switch(t){case"call":return"0x00";case"batchcall":return"0x01";case"delegatecall":return"0xff"}}function l8e({type:t,revertOnError:e,selector:n,context:r}){return ma(["bytes1","bytes1","bytes4","bytes4","bytes22"],[An(vi(Ldn(t),{size:1})),An(vi(e?"0x01":"0x00",{size:1})),An(vi("0x0",{size:4})),An(vi(n??"0x",{size:4})),An(vi(r??"0x",{size:22}))])}var xft=B(()=>{Wt()});function l9({mode:t,callData:e}){if(e.length>1&&t?.type!=="batchcall")throw new Error(`mode ${JSON.stringify(t)} does not supported for batchcall calldata`);let n=[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}];if(e.length>1)return Oe({abi:n,functionName:"execute",args:[l8e(t),gn([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],[e.map(i=>({target:i.to,value:i.value??0n,callData:i.data??"0x"}))])]});let r=e.length===0?void 0:e[0];if(!r)throw new Error("No calls to encode");return Oe({abi:n,functionName:"execute",args:[l8e(t),ii([r.to,An(r.value??0n,{size:32}),r.data??"0x"])]})}var wX=B(()=>{Wt();xft()});var Aft,_ft=B(()=>{Kt();Aft=async(t,e)=>!!await Dp(t,{address:e})});var Tft=B(()=>{s9()});var Sft=B(()=>{});var Cft=B(()=>{});var Ift=B(()=>{});var Rft=B(()=>{});var Oft=B(()=>{});var Nft=B(()=>{});var Pft=B(()=>{});var kft=B(()=>{});var Mft=B(()=>{});var Bft=B(()=>{});var Dft=B(()=>{});var Lft,Wdn,Uft,Ydn,fLr,Fft=B(()=>{Lft=6,Wdn=32,Uft=4096,Ydn=Wdn*Uft,fLr=Ydn*Lft-1-1*Uft*Lft});var Hft=B(()=>{});var zft=B(()=>{});var jft=B(()=>{});var Gft=B(()=>{});var Vft=B(()=>{});var Kft=B(()=>{});var $ft=B(()=>{});var i1n,a1n,o1n,s1n,qft,Wft,Yft,c1n,l1n,dLr,pLr,hLr,mLr,Jft=B(()=>{i1n=44032,a1n=4352,o1n=4449,s1n=4519,qft=19,Wft=21,Yft=28,c1n=Wft*Yft,l1n=qft*c1n,dLr=i1n+l1n,pLr=a1n+qft,hLr=o1n+Wft,mLr=s1n+Yft});var Qft=B(()=>{Jft()});var Zft=B(()=>{});var Xft=B(()=>{});var edt=B(()=>{});var tdt=B(()=>{});var ndt=B(()=>{});var rdt=B(()=>{});var idt=B(()=>{});var adt=B(()=>{idt()});var odt=B(()=>{});var wu,u8e,f8e,d8e,p8e,h8e,m8e,y8e,b8e,g8e,w8e,v8e,E8e,sdt=B(()=>{wu=class extends Error{constructor(e){let{cause:n,code:r,message:i,data:a,stack:o}=e;super(i,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=n,this.code=r,this.data=a,this.stack=o??""}},u8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Missing or invalid parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}};Object.defineProperty(u8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});f8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Requested resource not found."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}};Object.defineProperty(f8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});d8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Requested resource not available."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}};Object.defineProperty(d8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});p8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Transaction creation failed."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}};Object.defineProperty(p8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});h8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Method is not implemented."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}};Object.defineProperty(h8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});m8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Rate limit exceeded."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}};Object.defineProperty(m8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});y8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"JSON-RPC version not supported."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}};Object.defineProperty(y8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});b8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Input is not a valid JSON-RPC request."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}};Object.defineProperty(b8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});g8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Method does not exist."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}};Object.defineProperty(g8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});w8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Invalid method parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}};Object.defineProperty(w8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});v8e=class t extends wu{constructor(e={}){super({cause:e.cause,code:t.code,data:e.data,message:e.message??"Internal JSON-RPC error.",stack:e.stack}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalError"})}};Object.defineProperty(v8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});E8e=class t extends wu{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Failed to parse JSON-RPC response."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}};Object.defineProperty(E8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700})});var gl,x8e,A8e,_8e,T8e,S8e,C8e,I8e,R8e,O8e,N8e,P8e,k8e,M8e,cdt=B(()=>{Kfe();gl=class extends Error{constructor(e,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=n}},x8e=class extends gl{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}};Object.defineProperty(x8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});A8e=class extends gl{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}};Object.defineProperty(A8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});_8e=class extends gl{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}};Object.defineProperty(_8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});T8e=class extends gl{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}};Object.defineProperty(T8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});S8e=class extends gl{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}};Object.defineProperty(S8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});C8e=class extends gl{constructor({message:e="An error occurred when attempting to switch chain."}={}){super(4902,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.SwitchChainError"})}};Object.defineProperty(C8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});I8e=class extends gl{constructor({message:e="This Wallet does not support a capability that was not marked as optional."}={}){super(5700,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedNonOptionalCapabilityError"})}};Object.defineProperty(I8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});R8e=class extends gl{constructor({message:e="This Wallet does not support the requested chain ID."}={}){super(5710,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedChainIdError"})}};Object.defineProperty(R8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});O8e=class extends gl{constructor({message:e="There is already a bundle submitted with this ID."}={}){super(5720,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DuplicateIdError"})}};Object.defineProperty(O8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});N8e=class extends gl{constructor({message:e="This bundle id is unknown / has not been submitted."}={}){super(5730,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnknownBundleIdError"})}};Object.defineProperty(N8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});P8e=class extends gl{constructor({message:e="The call bundle is too large for the Wallet to process."}={}){super(5740,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.BundleTooLargeError"})}};Object.defineProperty(P8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});k8e=class extends gl{constructor({message:e="The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."}={}){super(5750,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicReadyWalletRejectedUpgradeError"})}};Object.defineProperty(k8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});M8e=class extends gl{constructor({message:e="The wallet does not support atomic execution but the request requires it."}={}){super(5760,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicityNotSupportedError"})}};Object.defineProperty(M8e,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760})});var ldt=B(()=>{});var udt=B(()=>{});var fdt=B(()=>{});var ddt=B(()=>{});var pdt=B(()=>{});var hdt=B(()=>{});var mdt=B(()=>{});var ydt=B(()=>{});var bdt=B(()=>{});var gdt=B(()=>{});var wdt=B(()=>{});var vdt=B(()=>{});var Edt=B(()=>{});var xdt=B(()=>{});var Adt=B(()=>{});var _dt=B(()=>{});var Tdt=B(()=>{});var ED=B(()=>{Sft();j2e();Cft();Ift();G2e();QQ();XB();Rft();Oft();YB();Nft();kft();Mft();hlt();Bft();Fft();zft();zJ();jft();Gft();Vft();fy();O2e();Kft();$ft();Qft();Np();Zft();LQ();edt();ml();tdt();M7();ndt();Dft();rdt();adt();odt();cdt();rct();Pft();ldt();udt();sdt();fdt();Xft();mlt();xlt();ddt();JB();pdt();Hft();mdt();ydt();bdt();gdt();wdt();vdt();Edt();xdt();Xlt();Adt();hdt();ylt();_dt();Dbe();Tdt()});async function Sdt(t){let{chainId:e,entryPoint:n,validAfter:r=0,validUntil:i=0,safe4337ModuleAddress:a,version:o,owners:s,signatures:c,account:l,...u}=t,{safe4337ModuleAddress:f}=L8e(o,n.version,{safe4337ModuleAddress:a}),d={safe:u.sender,callData:u.callData,nonce:u.nonce,initCode:u.initCode??"0x",maxFeePerGas:u.maxFeePerGas,maxPriorityFeePerGas:u.maxPriorityFeePerGas,preVerificationGas:u.preVerificationGas,verificationGasLimit:u.verificationGasLimit,callGasLimit:u.callGasLimit,paymasterAndData:u.paymasterAndData??"0x",validAfter:r,validUntil:i,entryPoint:n.address};if("initCode"in u&&(d.paymasterAndData=u.paymasterAndData??"0x"),"factory"in u){if(u.factory&&u.factoryData&&(d.initCode=ii([u.factory,u.factoryData])),!u.sender)throw new Error("Sender is required");d.paymasterAndData=Idt({...u,sender:u.sender})}let p=r1(l)?l:await gu({owner:l}),h=r1(p)?t.safeWebAuthnSharedSignerAddress:p.address;if(!h)throw new Error("no signer found");let m=[];if(c)try{m=N0([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],c)[0]}catch{m=N0([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"}],name:"signatures",type:"tuple[]"}],c)[0].map(x=>({...x,dynamic:!1}))}let w=[...m,{signer:h,dynamic:r1(p),data:await(async()=>{if(r1(p)){let g=B0({domain:{chainId:e,verifyingContract:f},types:n.version==="0.6"?B8e:D8e,primaryType:"SafeOp",message:d});return vX({owner:p,hash:g})}return p.signTypedData({domain:{chainId:e,verifyingContract:f},types:n.version==="0.6"?B8e:D8e,primaryType:"SafeOp",message:d})})()}];return w.length!==s.length?gn([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],[w]):ma(["uint48","uint48","bytes"],[r,i,xD(w)])}var xD,vX,Cdt=B(()=>{ED();Wt();Tft();U8e();xD=t=>{t.sort((i,a)=>i.signer.toLowerCase().localeCompare(a.signer.toLowerCase()));let e=65,n="0x",r="";for(let i of t)if(i.dynamic){let a=(t.length*e+r.length/2).toString(16).padStart(64,"0"),o=(i.data.slice(2).length/2).toString(16).padStart(64,"0"),s=`${i.signer.slice(2).padStart(64,"0")}${a}00`,c=`${o}${i.data.slice(2)}`;n+=s,r+=c}else n+=i.data.slice(2);return n+=r,n},vX=async({owner:t,hash:e})=>{let{signature:n,webauthn:r}=await t.sign({hash:e}),i=eS.fromHex(n),a=r.clientDataJSON.match(/^\{"type":"webauthn.get","challenge":"[A-Za-z0-9\-_]{43}",(.*)\}$/);if(!a)throw new Error("challenge not found in client data JSON");let[,o]=a;return gn([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],[r.authenticatorData,o,[BigInt(i.r),BigInt(i.s)]])}});function Idt(t){return t.paymaster?In([t.paymaster,kr(An(t.paymasterVerificationGasLimit||BigInt(0)),{size:16}),kr(An(t.paymasterPostOpGasLimit||BigInt(0)),{size:16}),t.paymasterData||"0x"]):"0x"}function Pdt(t){return t.erc7579LaunchpadAddress!==void 0}async function H8e(t){let{client:e,owners:n,address:r,threshold:i=BigInt(n.length),version:a,safe4337ModuleAddress:o,safeProxyFactoryAddress:s,safeSingletonAddress:c,erc7579LaunchpadAddress:l,saltNonce:u=BigInt(0),validUntil:f=0,validAfter:d=0,nonceKey:p,paymentToken:h,payment:m,paymentReceiver:w,onchainIdentifier:g}=t,x=await Promise.all(n.map(async W=>"account"in W?W.account:"request"in W?gu({owner:W}):W)),C=await Promise.all(n.filter(W=>!!("type"in W&&W.type==="local"||"request"in W||"account"in W||r1(W))).map(W=>r1(W)?W:gu({owner:W}))),P={address:t.entryPoint?.address??Lp,abi:(t.entryPoint?.version??"0.7")==="0.6"?by:gy,version:t.entryPoint?.version??"0.7"},D,F,H,O,M=[],N=[],v=[],I=[],S=[],y=[],b=0;Pdt(t)||(D=t.safeModuleSetupAddress,F=t.multiSendAddress,H=t.multiSendCallOnlyAddress,O=t.safeModules,M=t.setupTransactions??[]),Pdt(t)&&(N=t.validators??[],v=t.executors??[],I=t.fallbacks??[],S=t.hooks??[],y=t.attesters??[],b=t.attestersThreshold??0);let{safeModuleSetupAddress:_,safe4337ModuleAddress:A,safeProxyFactoryAddress:T,safeSingletonAddress:E,multiSendAddress:k,multiSendCallOnlyAddress:L,safeWebAuthnSharedSignerAddress:R,safeP256VerifierAddress:U}=L8e(a,P.version,{safeModuleSetupAddress:D,safe4337ModuleAddress:o,safeProxyFactoryAddress:s,safeSingletonAddress:c,multiSendAddress:F,multiSendCallOnlyAddress:H,safeWebAuthnSharedSignerAddress:t.safeWebAuthnSharedSignerAddress,safeP256VerifierAddress:t.safeP256VerifierAddress}),j=r,z,V=async()=>z||(z=e.chain?e.chain.id:await He(e,ha,"getChainId")({}),z);return Rf({client:e,entryPoint:P,getFactoryArgs:async()=>({factory:T,factoryData:await K1n({owners:x,threshold:i,safeModuleSetupAddress:_,safe4337ModuleAddress:A,safeSingletonAddress:E,safeWebAuthnSharedSignerAddress:R,safeP256VerifierAddress:U,multiSendAddress:k,erc7579LaunchpadAddress:l,saltNonce:u,setupTransactions:M,safeModules:O,validators:N,executors:v,fallbacks:I,hooks:S,attesters:y,attestersThreshold:b,paymentToken:h,payment:m,paymentReceiver:w})}),async getAddress(){return j||(j=await q1n({client:e,owners:x,threshold:i,safeModuleSetupAddress:_,safe4337ModuleAddress:A,safeProxyFactoryAddress:T,safeSingletonAddress:E,safeWebAuthnSharedSignerAddress:R,safeP256VerifierAddress:U,multiSendAddress:k,erc7579LaunchpadAddress:l,saltNonce:u,setupTransactions:M,safeModules:O,validators:N,executors:v,fallbacks:I,hooks:S,attesters:y,attestersThreshold:b,paymentToken:h,payment:m,paymentReceiver:w}),j)},async encodeCalls(W){let J=W.length>1;if(l){if(!await Aft(e,await this.getAddress())){let xe=Bdt({safe4337ModuleAddress:A,safeSingletonAddress:E,erc7579LaunchpadAddress:l,safeWebAuthnSharedSignerAddress:R,owners:x,threshold:i,validators:N,executors:v,fallbacks:I,hooks:S,attesters:y,attestersThreshold:b});return Oe({abi:Rdt,functionName:"setupSafe",args:[{...xe,validators:xe.validators.map(ye=>({module:ye.address,initData:ye.context})),callData:l9({mode:{type:J?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:W})}]})}return l9({mode:{type:J?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:W})}let X,te,ne,ue=0;if(J)X=L,te=BigInt(0),ne=Mdt(W.map(oe=>({to:oe.to,value:oe.value??0n,data:oe.data??"0x",operation:0}))),ue=1;else{let oe=W.length===0?void 0:W[0];if(!oe)throw new Error("No calls to encode");X=oe.to,ne=oe.data??"0x",te=oe.value??0n}let ce=Oe({abi:Odt,functionName:"executeUserOpWithErrorString",args:[X,te,ne,ue]});return g?In([ce,g]):ce},async decodeCalls(W){try{let ue=Mc({abi:Rdt,data:W});return c9(ue.args[0].callData).callData}catch{}try{return c9(W).callData}catch{}let J=Mc({abi:Odt,data:W}),X=J.args[0],te=J.args[1],ne=J.args[2];if(X===L){let ce=Mc({abi:kdt,data:ne}).args[0],oe=[],xe=0,ye=pr(ce);for(;xe<ye;){xe+=1;let Se=Js(aa(ce,xe,xe+20));xe+=20;let _t=BigInt(aa(ce,xe,xe+32));xe+=32;let Xe=Number(BigInt(aa(ce,xe,xe+32))*BigInt(2));xe+=32;let qe=aa(ce,xe,xe+Xe);xe+=Xe,oe.push({to:Se,value:_t,data:qe})}return oe}return[{to:X,value:te,data:ne}]},async getNonce(W){return O6(e,{address:await this.getAddress(),entryPointAddress:P.address,key:p??W?.key})},async getStubSignature(){let W=x.map(J=>{let X=R,te=!0,ne="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c";if(r1(J)?ne=gn([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'"origin":"http://somelargdomainheresothatwehaveenoughbytes.com","crossOrigin":false',[44941127272049826721201904734628716258498742255959991581049806490182030242267n,9910254599581058084911561569808925251374718953855182016200087235935345969636n]]):(X=J.address,te=!1),!X)throw new Error("No signer found");return{signer:X,data:ne,dynamic:te}});return ma(["uint48","uint48","bytes"],[0,0,xD(W)])},async sign({hash:W}){return this.signMessage({message:W})},async signMessage({message:W}){if(C.length<Number(i))throw new Error("Owners length mismatch, currently not supported");if(l&&a==="1.5.0")throw new Error("Safe 7579 & version 1.5.0 are not compatible");let J=B0({domain:{chainId:await V(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:F8e(W)}}),X=await Promise.all(C.map(async ne=>{let ue=R,ce,oe=!0;if(r1(ne)?ce=await vX({owner:ne,hash:J}):(ue=ne.address,ce=Ndt("eth_sign",await ne.signMessage({message:{raw:vi(J)}})),oe=!1),!ue)throw new Error("no signer found");return{signer:ue,dynamic:oe,data:ce}})),te=xD(X);return l?In([ya,te]):te},async signTypedData(W){if(C.length<Number(i))throw new Error("Owners length mismatch, currently not supported");if(l&&a==="1.5.0")throw new Error("Safe 7579 & version 1.5.0 are not compatible");let J=await Promise.all(C.map(async te=>{let ne=R,ue,ce=!0;if(!r1(te))ne=te.address,ue=Ndt("eth_signTypedData",await te.signTypedData({domain:{chainId:await V(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:F8e(W)}})),ce=!1;else{let oe=B0({domain:{chainId:await V(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:F8e(W)}});ue=await vX({owner:te,hash:oe})}if(!ne)throw new Error("no signer found");return{signer:ne,dynamic:ce,data:ue}})),X=xD(J);return l?In([ya,X]):X},async signUserOperation(W){let{chainId:J=await V(),...X}=W;if(C.length<Number(i))throw new Error("Owners length mismatch use SafeSmartAccount.signUserOperation from `permissionless/accounts/safe`");let te;for(let ne of C)te=await Sdt({...X,version:a,entryPoint:P,owners:C,account:ne,chainId:J,signatures:te,validAfter:d,validUntil:f,safe4337ModuleAddress:A,safeWebAuthnSharedSignerAddress:R});if(!te)throw new Error("No signatures found");return te}})}var kdt,L1n,U1n,F1n,H1n,z1n,j1n,Rdt,Odt,B8e,D8e,G1n,Ndt,F8e,V1n,Mdt,Bdt,r1,Ddt,K1n,L8e,$1n,q1n,U8e=B(()=>{ED();Wt();Of();Kt();bu();jS();gX();wX();_ft();s9();Cdt();kdt=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],L1n=[{type:"function",name:"initSafe7579",inputs:[{name:"safe7579",type:"address",internalType:"address"},{name:"executors",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"fallbacks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"hooks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"attesters",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint8",internalType:"uint8"}],outputs:[],stateMutability:"nonpayable"}],U1n=[{type:"function",name:"preValidationSetup",inputs:[{name:"initHash",type:"bytes32",internalType:"bytes32"},{name:"to",type:"address",internalType:"address"},{name:"preInit",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],F1n=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],H1n=[{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"}],z1n=[{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"}],j1n=[{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],Rdt=[{type:"function",name:"setupSafe",inputs:[{name:"initData",type:"tuple",internalType:"struct Safe7579Launchpad.InitData",components:[{name:"singleton",type:"address",internalType:"address"},{name:"owners",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint256",internalType:"uint256"},{name:"setupTo",type:"address",internalType:"address"},{name:"setupData",type:"bytes",internalType:"bytes"},{name:"safe7579",type:"address",internalType:"contract ISafe7579"},{name:"validators",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"}],Odt=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"}],B8e={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint256",name:"callGasLimit"},{type:"uint256",name:"verificationGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint256",name:"maxFeePerGas"},{type:"uint256",name:"maxPriorityFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},D8e={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint128",name:"verificationGasLimit"},{type:"uint128",name:"callGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint128",name:"maxPriorityFeePerGas"},{type:"uint128",name:"maxFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},G1n={"1.4.1":{"0.6":{SAFE_MODULE_SETUP_ADDRESS:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",SAFE_4337_MODULE_ADDRESS:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2"},"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}},"1.5.0":{"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x14F2982D601c9458F93bd70B218933A6f8165e7b",SAFE_SINGLETON_ADDRESS:"0xFf51A5898e281Db6DfC7855790607438dF2ca44b",MULTI_SEND_ADDRESS:"0x218543288004CD07832472D464648173c77D7eB7",MULTI_SEND_CALL_ONLY_ADDRESS:"0xA83c336B20401Af773B6219BA5027174338D1836",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}}},Ndt=(t,e)=>{let n=[0,1,27,28],r=27,i=Number.parseInt(e.slice(-2),16);if(!n.includes(i))throw new Error("Invalid signature");return t==="eth_sign"&&(i<r&&(i+=r),i+=4),t==="eth_signTypedData"&&i<r&&(i+=r),e.slice(0,-2)+i.toString(16)},F8e=t=>{let e=t;return typeof e=="string"||e.raw?yl(e):B0(t)},V1n=t=>ma(["uint8","address","uint256","uint256","bytes"],[t.operation,t.to,t.value,BigInt(t.data.slice(2).length/2),t.data]).slice(2),Mdt=t=>{let e=`0x${t.map(n=>V1n(n)).join("")}`;return Oe({abi:kdt,functionName:"multiSend",args:[e]})},Bdt=({safe4337ModuleAddress:t,safeSingletonAddress:e,erc7579LaunchpadAddress:n,safeWebAuthnSharedSignerAddress:r,owners:i,validators:a,executors:o,fallbacks:s,hooks:c,attesters:l,threshold:u,attestersThreshold:f})=>{let d=i.map(h=>{if("type"in h&&h.type==="webAuthn"){if(!r)throw new Error("safeWebAuthnSharedSignerAddress not defined");return r}if("address"in h&&h.address)return h.address;throw new Error("Incorrect owner found")});return{singleton:e,owners:d,threshold:u,setupTo:n,setupData:Oe({abi:L1n,functionName:"initSafe7579",args:[t,o.map(h=>({module:h.address,initData:h.context})),s.map(h=>({module:h.address,initData:h.context})),c.map(h=>({module:h.address,initData:h.context})),l.sort((h,m)=>h.toLowerCase().localeCompare(m.toLowerCase())),f]}),safe7579:t,validators:a}},r1=t=>"type"in t&&t.type==="webAuthn",Ddt=async({owners:t,threshold:e,safeModuleSetupAddress:n,safe4337ModuleAddress:r,safeWebAuthnSharedSignerAddress:i,safeP256VerifierAddress:a,multiSendAddress:o,safeSingletonAddress:s,erc7579LaunchpadAddress:c,setupTransactions:l=[],safeModules:u=[],validators:f=[],executors:d=[],fallbacks:p=[],hooks:h=[],attesters:m=[],attestersThreshold:w=0,paymentToken:g=ya,payment:x=BigInt(0),paymentReceiver:C=ya})=>{if(c){let O=Bdt({safe4337ModuleAddress:r,safeSingletonAddress:s,safeWebAuthnSharedSignerAddress:i,erc7579LaunchpadAddress:c,owners:t,validators:f,executors:d,fallbacks:p,threshold:e,hooks:h,attesters:m,attestersThreshold:w}),M=Ft(gn([{internalType:"address",name:"singleton",type:"address"},{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256",name:"threshold",type:"uint256"},{internalType:"address",name:"setupTo",type:"address"},{internalType:"bytes",name:"setupData",type:"bytes"},{internalType:"contract ISafe7579",name:"safe7579",type:"address"},{internalType:"struct ModuleInit[]",name:"validators",type:"tuple[]",components:[{internalType:"address",name:"module",type:"address"},{internalType:"bytes",name:"initData",type:"bytes"}]}],[O.singleton,O.owners,O.threshold,O.setupTo,O.setupData,O.safe7579,O.validators.map(N=>({module:N.address,initData:N.context}))]));return Oe({abi:U1n,functionName:"preValidationSetup",args:[M,ya,"0x"]})}let P=t.reduce((O,M)=>r1(M)?M:O,void 0),D=t.map(O=>{if(r1(O)){if(!i)throw new Error("safeWebAuthnSharedSignerAddress not defined");return i}if("address"in O&&O.address)return O.address;throw new Error("Incorrect owner found")}),F=[{to:n,data:Oe({abi:F1n,functionName:"enableModules",args:[[r,...u]]}),value:BigInt(0),operation:1}];if(P&&i&&a){let O=Y7.fromHex(P.publicKey);F.push({to:i,data:Oe({abi:H1n,functionName:"configure",args:[{x:O.x,y:O.y,verifiers:BigInt(a)}]}),value:BigInt(0),operation:1})}for(let O of l)F.push({...O,operation:0});let H=Mdt(F);return Oe({abi:z1n,functionName:"setup",args:[D,e,o,H,r,g,x,C]})};K1n=async({owners:t,threshold:e,safeModuleSetupAddress:n,safe4337ModuleAddress:r,safeSingletonAddress:i,erc7579LaunchpadAddress:a,safeWebAuthnSharedSignerAddress:o,safeP256VerifierAddress:s,multiSendAddress:c,paymentToken:l,payment:u,paymentReceiver:f,saltNonce:d=BigInt(0),setupTransactions:p=[],safeModules:h=[],validators:m=[],executors:w=[],fallbacks:g=[],hooks:x=[],attesters:C=[],attestersThreshold:P=0})=>{let D=await Ddt({owners:t,threshold:e,safeModuleSetupAddress:n,safeWebAuthnSharedSignerAddress:o,safeP256VerifierAddress:s,safe4337ModuleAddress:r,multiSendAddress:c,setupTransactions:p,safeSingletonAddress:i,safeModules:h,erc7579LaunchpadAddress:a,validators:m,executors:w,fallbacks:g,hooks:x,attesters:C,attestersThreshold:P,paymentToken:l,payment:u,paymentReceiver:f});return Oe({abi:j1n,functionName:"createProxyWithNonce",args:[a??i,D,d]})},L8e=(t,e,{addModuleLibAddress:n,safeModuleSetupAddress:r,safe4337ModuleAddress:i,safeProxyFactoryAddress:a,safeSingletonAddress:o,multiSendAddress:s,multiSendCallOnlyAddress:c,safeWebAuthnSharedSignerAddress:l,safeP256VerifierAddress:u})=>{let f=G1n[t][e];if(!f)throw new Error(`Safe version ${t} does not support EntryPoint version ${e}`);let d=r??n??f.SAFE_MODULE_SETUP_ADDRESS,p=i??f.SAFE_4337_MODULE_ADDRESS,h=a??f.SAFE_PROXY_FACTORY_ADDRESS,m=o??f.SAFE_SINGLETON_ADDRESS,w=s??f.MULTI_SEND_ADDRESS,g=c??f.MULTI_SEND_CALL_ONLY_ADDRESS,x=l??f.WEB_AUTHN_SHARED_SIGNER_ADDRESS,C=u??f.SAFE_P256_VERIFIER_ADDRESS;return{safeModuleSetupAddress:d,safe4337ModuleAddress:p,safeProxyFactoryAddress:h,safeSingletonAddress:m,multiSendAddress:w,multiSendCallOnlyAddress:g,safeWebAuthnSharedSignerAddress:x,safeP256VerifierAddress:C}};$1n=[{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],q1n=async({client:t,owners:e,threshold:n,safeModuleSetupAddress:r,safe4337ModuleAddress:i,safeProxyFactoryAddress:a,safeSingletonAddress:o,multiSendAddress:s,safeWebAuthnSharedSignerAddress:c,safeP256VerifierAddress:l,erc7579LaunchpadAddress:u,paymentToken:f,payment:d,paymentReceiver:p,setupTransactions:h=[],safeModules:m=[],saltNonce:w=BigInt(0),validators:g=[],executors:x=[],fallbacks:C=[],hooks:P=[],attesters:D=[],attestersThreshold:F=0})=>{let H=await gt(t,{abi:$1n,address:a,functionName:"proxyCreationCode"}),O=await Ddt({owners:e,threshold:n,safeModuleSetupAddress:r,safe4337ModuleAddress:i,safeWebAuthnSharedSignerAddress:c,safeP256VerifierAddress:l,multiSendAddress:s,setupTransactions:h,safeSingletonAddress:o,safeModules:m,erc7579LaunchpadAddress:u,validators:g,executors:x,fallbacks:C,hooks:P,attesters:D,attestersThreshold:F,paymentToken:f,payment:d,paymentReceiver:p}),M=ma(["bytes","uint256"],[H,Gr(u??o)]),N=Ft(ma(["bytes32","uint256"],[Ft(ma(["bytes"],[O])),w]));return L4({from:a,salt:N,bytecode:M,opcode:"CREATE2"})}});var AD,Ldt,EX=B(()=>{AD=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Operation",name:"",type:"uint8"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Call[]",name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"}],Ldt=[{inputs:[{internalType:"contract IKernelValidator",name:"_defaultValidator",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"}]});var Udt,Fdt,Hdt=B(()=>{Udt=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],Fdt=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"},{name:"initConfig",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"}]});var zdt,jdt=B(()=>{zdt=[{type:"function",name:"createAccount",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}]});var Gdt,Vdt=B(()=>{Gdt=[{type:"function",name:"deployWithFactory",inputs:[{name:"factory",type:"address",internalType:"contract KernelFactory"},{name:"createData",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}]});var z8e,Kdt,AX,xX,j8e=B(()=>{z8e="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",Kdt="0x00000000",AX={ROOT:"0x00",VALIDATOR:"0x01",PERMISSION:"0x02"};(function(t){t.DEFAULT="0x00",t.ENABLE="0x01"})(xX||(xX={}))});var Nf,GS=B(()=>{Nf=t=>/0\.2\.\d+/.test(t)});var $dt,qdt=B(()=>{Wt();gX();EX();GS();$dt=({kernelVersion:t,callData:e})=>{if(Nf(t)){let n=Mc({abi:AD,data:e});if(n.functionName==="executeBatch")return n.args[0].map(r=>({to:r.to,value:r.value,data:r.data}));if(n.functionName==="execute"){let[r,i,a]=n.args;return[{to:r,value:i,data:a}]}throw new Error("Invalid function name")}return c9(e).callData}});var Wdt,Ydt=B(()=>{Wt();wX();EX();GS();Wdt=({kernelVersion:t,calls:e})=>{if(Nf(t)){if(e.length>1)return Oe({abi:AD,functionName:"executeBatch",args:[e.map(r=>({to:r.to,value:r.value??0n,data:r.data??"0x"}))]});let n=e.length===0?void 0:e[0];if(!n)throw new Error("No calls to encode");return Oe({abi:AD,functionName:"execute",args:[n.to,n.value??0n,n.data??"0x",0]})}return l9({mode:{type:e.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})}});var Jdt,Qdt=B(()=>{Wt();j8e();GS();Jdt=(t,e,n=0n)=>{if(Nf(t))return n;if(n>pbe)throw new Error(`nonce key must be equal or less than 2 bytes(maxUint16) for Kernel version ${t}`);let r=xX.DEFAULT,i=AX.ROOT,a=kr(ii([r,i,e,An(n,{size:2})]),{size:24});return BigInt(a)}});var Ey,_X=B(()=>{Ey=t=>t.type==="webAuthn"});var _D,G8e=B(()=>{Wt();Wt();GS();_D=(t,{accountAddress:e,kernelVersion:n,chainId:r})=>{let i=$B({domain:{name:"Kernel",version:n,chainId:r,verifyingContract:e}}),a=Nf(n)?t:Ft(gn([{type:"bytes32"},{type:"bytes32"}],[Ft(Ys("Kernel(bytes32 hash)")),t]));return Ft(ii(["0x1901",i,a]))}});async function TD({message:t,owner:e,accountAddress:n,kernelVersion:r,chainId:i}){if(Ey(e)){let o;if(typeof t=="string")o=_D(yl(t),{kernelVersion:r,accountAddress:n,chainId:i});else if("raw"in t&&typeof t.raw=="string")o=t.raw;else if("raw"in t&&t.raw instanceof Uint8Array)o=t.raw.toString();else throw new Error("Unsupported message format");let{signature:s,webauthn:c}=await e.sign({hash:o}),l=eS.fromHex(s);return gn([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],[c.authenticatorData,c.clientDataJSON,BigInt(c.typeIndex),BigInt(l.r),BigInt(l.s),!1])}if(r==="0.2.1"||r==="0.2.2")return e.signMessage({message:t});let a=_D(yl(t),{kernelVersion:r,accountAddress:n,chainId:i});return e.signMessage({message:{raw:a}})}var V8e=B(()=>{ED();Wt();_X();G8e()});async function Zdt(t){let{owner:e,accountAddress:n,kernelVersion:r,chainId:i,...a}=t;if((r==="0.2.1"||r==="0.2.2")&&!Ey(e))return e.signTypedData({...a});let{message:o,primaryType:s,types:c,domain:l}=a,u={EIP712Domain:S6({domain:l}),...c};my({domain:l,message:o,primaryType:s,types:u});let f=B0({message:o,primaryType:s,types:u,domain:l}),d=_D(f,{kernelVersion:r,accountAddress:n,chainId:i});return Ey(e)?TD({message:{raw:d},owner:e,accountAddress:n,kernelVersion:r,chainId:i}):e.signMessage({message:{raw:d}})}var Xdt=B(()=>{Wt();_X();V8e();G8e()});async function e1t(t){let{client:e,address:n,index:r=0n,version:i,validatorAddress:a,factoryAddress:o,metaFactoryAddress:s,accountLogicAddress:c,useMetaFactory:l=!0,eip7702:u=!1}=t,f=(()=>{if(u&&"owner"in t)return[t.owner];if("owners"in t)return t.owners;throw new Error("Invalid parameters")})(),d=f[0].type==="webAuthn",p=await(d?f[0]:gu({owner:f[0]})),h=(()=>{let N=t.entryPoint?.address??Lp,v=t.entryPoint?.version??"0.7",I=gy;return v==="0.6"&&(I=by),{address:N,abi:I,version:v}})(),m=J1n(h.version,i,u),{accountLogicAddress:w,validatorAddress:g,factoryAddress:x,metaFactoryAddress:C}=Q1n({validatorAddress:a,accountLogicAddress:c,factoryAddress:o,metaFactoryAddress:s,kernelVersion:m,isWebAuthn:d});if(!g)throw new Error("Validator address is required");let P=async N=>epn({entryPointVersion:h.version,kernelVersion:m,validatorData:await X1n(p),index:r,factoryAddress:x,accountLogicAddress:w,validatorAddress:g,useMetaFactory:N}),D,F=async()=>D||(D=e.chain?e.chain.id:await He(e,ha,"getChainId")({}),D),H=N=>async()=>({factory:h.version==="0.6"||N===!1?x:C,factoryData:await P(N)}),{accountAddress:O,getFactoryArgs:M}=await(async()=>{if(u)return{accountAddress:p.address,getFactoryArgs:async()=>({factory:void 0,factoryData:void 0})};let N=H(l==="optional"?!0:l);if(n&&l!=="optional")return{accountAddress:n,getFactoryArgs:N};let{factory:v,factoryData:I}=await N(),S=await vD(e,{factory:v,factoryData:I,entryPointAddress:h.address});if(n===S)return{accountAddress:S,getFactoryArgs:N};if(l==="optional"&&S===ya){N=H(!1);let{factory:y,factoryData:b}=await N();S=await vD(e,{factory:y,factoryData:b,entryPointAddress:h.address})}return{accountAddress:S,getFactoryArgs:N}})();return Rf({client:e,entryPoint:h,getFactoryArgs:M,extend:u?{implementation:w}:void 0,authorization:u?{address:w,account:p}:void 0,async getAddress(){return O},async encodeCalls(N){return Wdt({calls:N,kernelVersion:m})},async decodeCalls(N){return $dt({callData:N,kernelVersion:m})},async getNonce(N){return O6(e,{address:await this.getAddress(),entryPointAddress:h.address,key:Jdt(m,g,t.nonceKey??0n)})},async getStubSignature(){return Nf(m)?ii([Kdt,z8e]):Ey(p)?gn([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'{"type":"webauthn.get","challenge":"tbxXNFS9X_4Byr1cMwqKrIGB-_30a0QhZ6y7ucM0BOE","origin":"http://localhost:3000","crossOrigin":false, "other_keys_can_be_added_here":"do not compare clientDataJSON against a template. See https://goo.gl/yabPex"}',1n,44941127272049826721201904734628716258498742255959991581049806490182030242267n,9910254599581058084911561569808925251374718953855182016200087235935345969636n,!1]):z8e},async sign({hash:N}){return this.signMessage({message:N})},async signMessage({message:N}){if(u)throw new Error("Kernel with EIP-7702 isn't 1271 compliant");let v=await TD({owner:p,message:N,accountAddress:await this.getAddress(),kernelVersion:m,chainId:await F()});return Nf(m)?v:ii([TX(g),v])},async signTypedData(N){if(u)throw new Error("Kernel with EIP-7702 isn't 1271 compliant");let v=await Zdt({owner:p,chainId:await F(),...N,accountAddress:await this.getAddress(),kernelVersion:m});return Nf(m)?v:ii([TX(g),v])},async signUserOperation(N){let{chainId:v=await F(),...I}=N,S=wy({userOperation:{...I,sender:I.sender??await this.getAddress(),signature:"0x"},entryPointAddress:h.address,entryPointVersion:h.version,chainId:v}),y=Ey(p)?await TD({owner:p,message:{raw:S},chainId:v,accountAddress:await this.getAddress(),kernelVersion:m}):await p.signMessage({message:{raw:S}});return Nf(m)?ii(["0x00000000",y]):y}})}var W1n,Y1n,J1n,Q1n,TX,Z1n,X1n,epn,t1t=B(()=>{ED();Wt();Of();Kt();bu();jS();s8e();s9();EX();Hdt();jdt();Vdt();j8e();qdt();Ydt();Qdt();GS();_X();V8e();Xdt();W1n=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"}],Y1n={"0.2.1":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xf048AD83CB2dfd6037A43902a2A5Be04e53cd2Eb",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.2":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0x0DA6a956B9488eD4dd761E59f52FDc6c8068E6B5",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.3":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xD3F582F6B4814E989Ee8E96bc3175320B5A540ab",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.4":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xd3082872F8B06073A021b4602e022d5A070d7cfC",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.3.0-beta":{ECDSA_VALIDATOR:"0x8104e3Ad430EA6d354d013A6789fDFc71E671c43",ACCOUNT_LOGIC:"0x94F097E1ebEB4ecA3AAE54cabb08905B239A7D27",FACTORY_ADDRESS:"0x6723b44Abeec4E71eBE3232BD5B455805baDD22f",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"},"0.3.1":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xBAC849bB641841b44E965fB01A4Bf5F074f84b4D",FACTORY_ADDRESS:"0xaac5D4240AF87249B3f71BC8E4A2cae074A3E419",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"},"0.3.2":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xD830D15D3dc0C269F3dBAa0F3e8626d33CFdaBe1",FACTORY_ADDRESS:"0x7a1dBAB750f12a90EB1B60D2Ae3aD17D4D81EfFe",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"},"0.3.3":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xd6CEDDe84be40893d153Be9d467CD6aD37875b28",FACTORY_ADDRESS:"0x2577507b78c2008Ff367261CB6285d44ba5eF2E9",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"}},J1n=(t,e,n)=>n?"0.3.3":e||(t==="0.6"?"0.2.2":"0.3.0-beta"),Q1n=({validatorAddress:t,accountLogicAddress:e,factoryAddress:n,metaFactoryAddress:r,kernelVersion:i,isWebAuthn:a})=>{let o=Y1n[i],s=t??(a?o.WEB_AUTHN_VALIDATOR:o.ECDSA_VALIDATOR),c=e??o.ACCOUNT_LOGIC,l=n??o.FACTORY_ADDRESS,u=r??o?.META_FACTORY_ADDRESS??ya;return{validatorAddress:s,accountLogicAddress:c,factoryAddress:l,metaFactoryAddress:u}},TX=t=>ii([AX.VALIDATOR,t]),Z1n=({entryPoint:{version:t},kernelVersion:e,validatorData:n,validatorAddress:r})=>t==="0.6"?Oe({abi:Ldt,functionName:"initialize",args:[r,n]}):e==="0.3.0-beta"?Oe({abi:Udt,functionName:"initialize",args:[TX(r),ya,n,"0x"]}):Oe({abi:Fdt,functionName:"initialize",args:[TX(r),ya,n,"0x",[]]}),X1n=async t=>{if(t.type==="local")return t.address;if(Ey(t)){let e=Y7.fromHex(t.publicKey),n=Ft(k0.fromBytes(uZ.toBytes(t.id)));return gn([{components:[{name:"x",type:"uint256"},{name:"y",type:"uint256"}],name:"webAuthnData",type:"tuple"},{name:"authenticatorIdHash",type:"bytes32"}],[{x:e.x,y:e.y},n])}throw new Error("Invalid owner type")},epn=async({entryPointVersion:t,kernelVersion:e,validatorData:n,index:r,factoryAddress:i,accountLogicAddress:a,validatorAddress:o,useMetaFactory:s})=>{let c=Z1n({entryPoint:{version:t},kernelVersion:e,validatorAddress:o,validatorData:n});return t==="0.6"?Oe({abi:W1n,functionName:"createAccount",args:[a,c,r]}):s?Oe({abi:Gdt,functionName:"deployWithFactory",args:[i,c,An(r,{size:32})]}):Oe({abi:zdt,functionName:"createAccount",args:[c,An(r,{size:32})]})}});async function K8e(t){return e1t({...t,validatorAddress:t.validatorAddress??t.ecdsaValidatorAddress})}var n1t=B(()=>{t1t()});var r1t,u9,i1t=B(()=>{r1t=[{inputs:[{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"},{internalType:"uint256",name:"index",type:"uint256"}],name:"deployCounterFactualAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],u9=[{inputs:[{internalType:"address",name:"handler",type:"address"},{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"}],name:"init",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"eoaOwner",type:"address"}],name:"initForSmartAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute_ncC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch_y6U",outputs:[],stateMutability:"nonpayable",type:"function"}]});async function $8e(t){let{owners:e,client:n,index:r=0n,address:i,accountLogicAddress:a=SX.ACCOUNT_V2_0_LOGIC,fallbackHandlerAddress:o=SX.DEFAULT_FALLBACK_HANDLER_ADDRESS,ecdsaModuleAddress:s=SX.ECDSA_OWNERSHIP_REGISTRY_MODULE,factoryAddress:c=SX.FACTORY_ADDRESS}=t,l=await gu({owner:e[0]}),u={address:t.entryPoint?.address??vy,abi:by,version:t.entryPoint?.version??"0.6"},f=i;return Rf({client:n,entryPoint:u,getFactoryArgs:async()=>({factory:c,factoryData:await npn({owner:l.address,index:r,ecdsaModuleAddress:s})}),async getAddress(){return f||(f=await rpn({owner:l.address,ecdsaModuleAddress:s,factoryAddress:c,accountLogicAddress:a,fallbackHandlerAddress:o,index:r}),f)},async getNonce(p){let h=await this.getAddress();return O6(n,{address:h,entryPointAddress:u.address,key:t?.nonceKey??p?.key})},encodeCalls:async p=>{if(p.length>1)return Oe({abi:u9,functionName:"executeBatch_y6U",args:[p.map(m=>m.to),p.map(m=>m.value??0n),p.map(m=>m.data??"0x")]});let h=p.length===0?void 0:p[0];if(!h)throw new Error("No calls to encode");return Oe({abi:u9,functionName:"execute_ncC",args:[h.to,h.value??0n,h.data??"0x"]})},decodeCalls:async p=>{let h=Mc({abi:u9,data:p});if(h.functionName==="execute_ncC")return[{to:h.args[0],value:h.args[1],data:h.args[2]}];if(h.functionName==="executeBatch_y6U"){let m=[];for(let w=0;w<h.args[0].length;w++)m.push({to:h.args[0][w],value:h.args[1][w],data:h.args[2][w]});return m}throw new Error("Invalid function name")},async getStubSignature(){return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${s.substring(2).padEnd(40,"0")}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:p}){return this.signMessage({message:p})},async signMessage({message:p}){let h=await l.signMessage({message:p}),m=Number.parseInt(h.slice(-2),16);if(![27,28].includes(m)){let w=m+27;h=h.slice(0,-2)+w.toString(16)}return gn([{type:"bytes"},{type:"address"}],[h,s])},async signTypedData(p){let h=await l.signTypedData(p),m=Number.parseInt(h.slice(-2),16);if(![27,28].includes(m)){let w=m+27;h=h.slice(0,-2)+w.toString(16)}return gn([{type:"bytes"},{type:"address"}],[h,s])},async signUserOperation(p){let{chainId:h=n.chain?.id,...m}=p;if(!h)throw new Error("Chain id not found");let w=wy({userOperation:{...m,sender:m.sender??await this.getAddress(),signature:"0x"},entryPointAddress:u.address,entryPointVersion:u.version,chainId:h}),g=await z4(n,{account:l,message:{raw:w}});return gn(j2("bytes, address"),[g,s])}})}var tpn,SX,npn,rpn,a1t=B(()=>{Wt();Of();Kt();jS();s9();i1t();tpn="0x6080346100aa57601f61012038819003918201601f19168301916001600160401b038311848410176100af578084926020946040528339810103126100aa57516001600160a01b0381168082036100aa5715610065573055604051605a90816100c68239f35b60405162461bcd60e51b815260206004820152601e60248201527f496e76616c696420696d706c656d656e746174696f6e206164647265737300006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608060405230546000808092368280378136915af43d82803e156020573d90f35b3d90fdfea2646970667358221220a03b18dce0be0b4c9afe58a9eb85c35205e2cf087da098bbf1d23945bf89496064736f6c63430008110033",SX={ECDSA_OWNERSHIP_REGISTRY_MODULE:"0x0000001c5b32F37F5beA87BDD5374eB2aC54eA8e",FACTORY_ADDRESS:"0x000000a56Aaca3e9a4C479ea6b6CD0DbcB6634F5",ACCOUNT_V2_0_LOGIC:"0x0000002512019Dafb59528B82CB92D3c5D2423aC",DEFAULT_FALLBACK_HANDLER_ADDRESS:"0x0bBa6d96BD616BedC6BFaa341742FD43c60b83C1"},npn=async({owner:t,index:e,ecdsaModuleAddress:n})=>{if(!t)throw new Error("Owner account not found");let r=Oe({abi:u9,functionName:"initForSmartAccount",args:[t]});return Oe({abi:r1t,functionName:"deployCounterFactualAccount",args:[n,r,e]})},rpn=async({factoryAddress:t,accountLogicAddress:e,fallbackHandlerAddress:n,ecdsaModuleAddress:r,owner:i,index:a=BigInt(0)})=>{let o=Oe({abi:u9,functionName:"initForSmartAccount",args:[i]}),s=Oe({abi:u9,functionName:"init",args:[n,r,o]}),c=ma(["bytes","uint256"],[tpn,Gr(e)]),l=Ft(ma(["bytes32","uint256"],[Ft(ma(["bytes"],[s])),a]));return L4({from:t,salt:l,bytecode:c,opcode:"CREATE2"})}});async function q8e(t){let{owners:e,client:n,index:r=0n,address:i,version:a,factoryAddress:o=s1t.K1_VALIDATOR_FACTORY_ADDRESS,validatorAddress:s=s1t.K1_VALIDATOR_ADDRESS,attesters:c=[],threshold:l=0}=t,u=await gu({owner:e[0]}),f={address:t.entryPoint?.address??Lp,abi:gy,version:t.entryPoint?.version??"0.7"},d=i,p=async()=>({factory:o,factoryData:Oe({abi:[{name:"createAccount",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"createAccount",args:[u.address,r,c.sort((w,g)=>w.toLowerCase().localeCompare(g.toLowerCase())),l]})}),h,m=async()=>h||(h=n.chain?n.chain.id:await He(n,ha,"getChainId")({}),h);return Rf({client:n,entryPoint:f,getFactoryArgs:p,async getAddress(){return d||(d=await gt(n,{address:o,abi:[{name:"computeAccountAddress",type:"function",stateMutability:"view",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"computeAccountAddress",args:[u.address,r,c.sort((w,g)=>w.toLowerCase().localeCompare(g.toLowerCase())),l]}),d)},async getNonce(w){let x=(w?.key??0n)%16777215n,P=In([An(x,{size:3}),"0x00",s]),D=await this.getAddress();return O6(n,{address:D,entryPointAddress:f.address,key:BigInt(P)})},encodeCalls:async w=>l9({mode:{type:w.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:w}),async decodeCalls(w){return c9(w).callData},async getStubSignature(){return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${s.substring(2).padEnd(40,"0")}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:w}){return this.signMessage({message:w})},async signMessage({message:w}){let g=o1t(yl(w),{version:a,accountAddress:await this.getAddress(),chainId:await m()}),x=await u.signMessage({message:{raw:g}});return ma(["address","bytes"],[s,x])},async signTypedData(w){let{message:g,primaryType:x,types:C,domain:P}=w,D={EIP712Domain:S6({domain:P}),...C};my({domain:P,message:g,primaryType:x,types:D});let F=B0({message:g,primaryType:x,types:D,domain:P}),H=o1t(F,{version:a,accountAddress:await this.getAddress(),chainId:await m()}),O=await u.signMessage({message:{raw:H}});return ma(["address","bytes"],[s,O])},async signUserOperation(w){let{chainId:g=await m(),...x}=w;if(!g)throw new Error("Chain id not found");let C=wy({userOperation:{...x,sender:x.sender??await this.getAddress(),signature:"0x"},entryPointAddress:f.address,entryPointVersion:f.version,chainId:g});return await u.signMessage({message:{raw:C}})}})}var o1t,s1t,c1t=B(()=>{Wt();Of();Kt();bu();jS();gX();wX();s9();o1t=(t,{accountAddress:e,version:n,chainId:r})=>{let i=$B({domain:{name:"Nexus",version:n,chainId:r,verifyingContract:e}}),a=Ft(gn([{type:"bytes32"},{type:"bytes32"}],[Ft(Ys("PersonalSign(bytes prefixed)")),t]));return Ft(ii(["0x1901",i,a]))},s1t={K1_VALIDATOR_FACTORY_ADDRESS:"0x00000bb19a3579F4D779215dEf97AFbd0e30DB55",K1_VALIDATOR_ADDRESS:"0x00000004171351c442B202678c48D8AB5B321E8f"}});var VS=B(()=>{Eft();U8e();n1t();a1t();c1t()});var KS,l1t=B(()=>{st();Qe();VS();Of();Pi();KS=class{constructor(e){K(this,"name",Ga.BICONOMY),K(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,r;return $8e(q(q(q({},this.options||{}),{},{entryPoint:{address:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.address)||vy,version:((r=this.options)===null||r===void 0||(r=r.entryPoint)===null||r===void 0?void 0:r.version)||"0.6"}},e),{},{owners:[e.walletClient],client:e.client}))}}});var $S,u1t=B(()=>{st();Qe();VS();Pi();$S=class{constructor(e){K(this,"name",Ga.KERNEL),K(this,"options",void 0),this.options=e}async getSmartAccount(e){return K8e(q(q(q({},this.options||{}),e),{},{owners:[e.walletClient],client:e.client}))}}});var ipn,$r,f1t=B(()=>{ipn=Object.defineProperty,$r=(t,e)=>{for(var n in e)ipn(t,n,{get:e[n],enumerable:!0})}});var Pf,C8,f9,hr,d1t,CX=B(()=>{Pf={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x00e0251aaA263dfE3B3541B758A82D1CBA1c3B6D",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},C8={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},f9={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},hr={mainnet:1,polygon:137,bsc:56,optimism:10,arbitrum:42161,linea:59144,base:8453,gnosis:100,sepolia:11155111,lineaSepolia:59141,baseSepolia:84532,megaEthTestnet:6342,chiado:10200,lineaGoerli:59140},d1t={"1.0.0":{[hr.optimism]:f9,[hr.polygon]:f9,[hr.base]:f9,[hr.arbitrum]:f9,[hr.linea]:f9,[hr.sepolia]:{...f9,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},[hr.lineaSepolia]:{...f9,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{[hr.arbitrum]:C8,[hr.base]:C8,[hr.linea]:C8,[hr.optimism]:C8,[hr.polygon]:C8,[hr.sepolia]:C8,[hr.lineaSepolia]:C8,[hr.baseSepolia]:{...C8,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{[hr.mainnet]:Pf,[hr.polygon]:Pf,[hr.bsc]:Pf,[hr.optimism]:Pf,[hr.arbitrum]:Pf,[hr.linea]:Pf,[hr.base]:Pf,[hr.gnosis]:Pf,[hr.sepolia]:Pf,[hr.lineaSepolia]:Pf,[hr.baseSepolia]:Pf,[hr.megaEthTestnet]:Pf,[hr.chiado]:Pf}}});var apn,Ue,opn,spn,cpn,lpn,upn,fpn,dpn,ppn,hpn,mpn,ypn,bpn,gpn,wpn,vpn,Epn,xpn,Apn,_pn,Tpn,Spn,Cpn,Ipn,Rpn,Opn,Npn,Ppn,oi,kpn,Mpn,Bpn,Dpn,Lpn,Upn,Fpn,Hpn,zpn,jpn,Gpn,Vpn,Kpn,$pn,qpn,Wpn,Ypn,Jpn,Qpn,Zpn,Bc,Xpn,ehn,thn,nhn,rhn,ihn,ahn,ohn,IX,shn,chn,lhn,uhn,fhn,dhn,phn,hhn,mhn,yhn,bhn,ghn,whn,vhn,Ehn,xhn,Ahn,_hn,Thn,Shn,Chn,Ihn,Rhn,Ohn,Nhn,Phn,khn,Mhn,Bhn,Dhn,Lhn,Uhn,Fhn,Hhn,zhn,jhn,Ghn,Vhn,Khn,$hn,qhn,Whn,Yhn,Jhn,Qhn,Zhn,Xhn,e6n,t6n,n6n,r6n,i6n,a6n,o6n,s6n,c6n,l6n,u6n,f6n,d6n,p6n,h6n,W8e,m6n,y6n,b6n,g6n,w6n,v6n,E6n,x6n,A6n,_6n,T6n,S6n,C6n,I6n,R6n,O6n,N6n,P6n,k6n,M6n,B6n,D6n,L6n,U6n,F6n,H6n,z6n,j6n,G6n,V6n,K6n,$6n,q6n,W6n,Y6n,J6n,Q6n,Z6n,X6n,e5n,t5n,n5n,r5n,i5n,a5n,o5n,s5n,c5n,l5n,u5n,f5n,d5n,p5n,h5n,m5n,y5n,b5n,g5n,w5n,v5n,E5n,x5n,Ia,A5n,_5n,T5n,S5n,C5n,I5n,R5n,O5n,N5n,P5n,k5n,M5n,B5n,D5n,L5n,U5n,F5n,H5n,z5n,j5n,G5n,V5n,K5n,$5n,q5n,W5n,Y5n,J5n,Q5n,Z5n,X5n,emn,tmn,nmn,rmn,imn,amn,omn,smn,cmn,lmn,umn,fmn,dmn,pmn,hmn,mmn,ymn,bmn,gmn,wmn,vmn,Emn,xmn,Amn,_mn,Tmn,Smn,Cmn,Imn,Rmn,Omn,vu,Nmn,Pmn,kmn,Mmn,Bmn,Y8e,Dmn,Lmn,Umn,Fmn,Hmn,zmn,jmn,Gmn,Vmn,Kmn,$mn,qmn,Wmn,Ymn,Jmn,Qmn,Zmn,Xmn,eyn,tyn,nyn,ryn,iyn,ayn,oyn,syn,cyn,lyn,uyn,fyn,dyn,pyn,qS,hyn,myn,yyn,byn,gyn,wyn,vyn,Eyn,xyn,Ayn,_yn,Tyn,Syn,Cyn,Iyn,Ryn,Oyn,Nyn,Pyn,kyn,Myn,Byn,Dyn,Lyn,Uyn,Fyn,Hyn,zyn,jyn,Gyn,Vyn,Kyn,$yn,qyn,Wyn,Yyn,Jyn,Qyn,Zyn,Xyn,ebn,Mr,tbn,nbn,rbn,ibn,abn,_n=B(()=>{apn=Object.defineProperty,Ue=(t,e)=>{for(var n in e)apn(t,n,{get:e[n],enumerable:!0})},opn={};Ue(opn,{abi:()=>spn,bytecode:()=>cpn});spn=[{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]}],cpn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212204a050c4fa34153d3fae9d282b8c08f593842bb7e1d0caa440348574559167b6a64736f6c63430008170033",lpn={};Ue(lpn,{abi:()=>upn,bytecode:()=>fpn});upn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedMethods_",type:"bytes4[]",internalType:"bytes4[]"}],stateMutability:"pure"}],fpn="0x608060405234801561001057600080fd5b506107fc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610512565b50505050505050505050565b005b610076610086366004610512565b6100b4565b61009e6100993660046105df565b610197565b6040516100ab9190610621565b60405180910390f35b856100c08160006102e5565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101228160006102e5565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b506101898c8c89896102fc565b505050505050505050505050565b60606000826101a7600482610685565b1580156101b357508015155b6102135760405162461bcd60e51b815260206004820152602b60248201527f416c6c6f7765644d6574686f6473456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610108565b61021e6004826106af565b67ffffffffffffffff811115610236576102366106c3565b60405190808252806020026020018201604052801561025f578160200160208202803683370190505b50925060005b818110156102dc5785818661027b8260046106d9565b92610288939291906106ec565b61029191610716565b8484815181106102a3576102a3610746565b6001600160e01b031990921660209283029190910190910152826102c68161075c565b93506102d590506004826106d9565b9050610265565b50505092915050565b6001600160f81b0319828116908216145b92915050565b366000610309848461045c565b90945092505050600481101561037e5760405162461bcd60e51b815260206004820152603460248201527f416c6c6f7765644d6574686f6473456e666f726365723a696e76616c69642d656044820152730f0cac6eae8d2dedc5ac8c2e8c25ad8cadccee8d60631b6064820152608401610108565b600061038d60048284866106ec565b61039691610716565b905060006103a48888610197565b805190915060005b818110156103fb578281815181106103c6576103c6610746565b60200260200101516001600160e01b031916846001600160e01b031916036103f357505050505050610456565b6001016103ac565b5060405162461bcd60e51b815260206004820152602960248201527f416c6c6f7765644d6574686f6473456e666f726365723a6d6574686f642d6e6f6044820152681d0b585b1b1bddd95960ba1b6064820152608401610108565b50505050565b600080368161046e60148287896106ec565b61047791610775565b60601c935061048a6034601487896106ec565b610493916107a8565b92506104a285603481896106ec565b949793965094505050565b60008083601f8401126104bf57600080fd5b50813567ffffffffffffffff8111156104d757600080fd5b6020830191508360208285010111156104ef57600080fd5b9250929050565b80356001600160a01b038116811461050d57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561053157600080fd5b8a3567ffffffffffffffff8082111561054957600080fd5b6105558e838f016104ad565b909c509a5060208d013591508082111561056e57600080fd5b61057a8e838f016104ad565b909a50985060408d0135975060608d013591508082111561059a57600080fd5b506105a78d828e016104ad565b90965094505060808b013592506105c060a08c016104f6565b91506105ce60c08c016104f6565b90509295989b9194979a5092959850565b600080602083850312156105f257600080fd5b823567ffffffffffffffff81111561060957600080fd5b610615858286016104ad565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156106635783516001600160e01b0319168352928401929184019160010161063d565b50909695505050505050565b634e487b7160e01b600052601260045260246000fd5b6000826106945761069461066f565b500690565b634e487b7160e01b600052601160045260246000fd5b6000826106be576106be61066f565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156102f6576102f6610699565b600080858511156106fc57600080fd5b8386111561070957600080fd5b5050820193919092039150565b6001600160e01b0319813581811691600485101561073e5780818660040360031b1b83161692505b505092915050565b634e487b7160e01b600052603260045260246000fd5b60006001820161076e5761076e610699565b5060010190565b6bffffffffffffffffffffffff19813581811691601485101561073e5760149490940360031b84901b1690921692915050565b803560208310156102f657600019602084900360031b1b169291505056fea26469706673582212200b708c0be5e7b588370a3a50ea4c9e1f7cb79f4e1abc8d9c979a4f6d6867e5ae64736f6c63430008170033",dpn={};Ue(dpn,{abi:()=>ppn,bytecode:()=>hpn});ppn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedTargets_",type:"address[]",internalType:"address[]"}],stateMutability:"pure"}],hpn="0x608060405234801561001057600080fd5b50610736806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461047b565b50505050505050505050565b005b61007661008636600461047b565b6100b4565b61009e610099366004610548565b61025e565b6040516100ab919061058a565b60405180910390f35b856100c08160006103ae565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101228160006103ae565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b50600061018988886103c5565b5050509050600061019a8e8e61025e565b805190915060005b818110156101ed578281815181106101bc576101bc6105d7565b60200260200101516001600160a01b0316846001600160a01b0316036101e55750505050610250565b6001016101a2565b5060405162461bcd60e51b815260206004820152603160248201527f416c6c6f77656454617267657473456e666f726365723a7461726765742d6164604482015270191c995cdccb5b9bdd0b585b1b1bddd959607a1b6064820152608401610108565b505050505050505050505050565b606060008261026e601482610603565b15801561027a57508015155b6102da5760405162461bcd60e51b815260206004820152602b60248201527f416c6c6f77656454617267657473456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610108565b6102e560148261062d565b67ffffffffffffffff8111156102fd576102fd610641565b604051908082528060200260200182016040528015610326578160200160208202803683370190505b50925060005b818110156103a557858186610342826014610657565b9261034f9392919061066a565b61035891610694565b60601c84848151811061036d5761036d6105d7565b6001600160a01b03909216602092830291909101909101528261038f816106c9565b935061039e9050601482610657565b905061032c565b50505092915050565b6001600160f81b0319828116908216145b92915050565b60008036816103d7601482878961066a565b6103e091610694565b60601c93506103f360346014878961066a565b6103fc916106e2565b925061040b856034818961066a565b949793965094505050565b60008083601f84011261042857600080fd5b50813567ffffffffffffffff81111561044057600080fd5b60208301915083602082850101111561045857600080fd5b9250929050565b80356001600160a01b038116811461047657600080fd5b919050565b60008060008060008060008060008060e08b8d03121561049a57600080fd5b8a3567ffffffffffffffff808211156104b257600080fd5b6104be8e838f01610416565b909c509a5060208d01359150808211156104d757600080fd5b6104e38e838f01610416565b909a50985060408d0135975060608d013591508082111561050357600080fd5b506105108d828e01610416565b90965094505060808b0135925061052960a08c0161045f565b915061053760c08c0161045f565b90509295989b9194979a5092959850565b6000806020838503121561055b57600080fd5b823567ffffffffffffffff81111561057257600080fd5b61057e85828601610416565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156105cb5783516001600160a01b0316835292840192918401916001016105a6565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b600082610612576106126105ed565b500690565b634e487b7160e01b600052601160045260246000fd5b60008261063c5761063c6105ed565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156103bf576103bf610617565b6000808585111561067a57600080fd5b8386111561068757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106c15780818660140360031b1b83161692505b505092915050565b6000600182016106db576106db610617565b5060010190565b803560208310156103bf57600019602084900360031b1b169291505056fea2646970667358221220192854344f7cbe5e3a46630068ff1c57d1382d110f4c7dae36ce8f18206bd1c864736f6c63430008170033",mpn={};Ue(mpn,{abi:()=>ypn,bytecode:()=>bpn});ypn=[],bpn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088f05df9a321ebbfd15b9ae491704455fd55c5a0ef490ba4f3111c5cd7aa944764736f6c63430008170033",gpn={};Ue(gpn,{abi:()=>wpn,bytecode:()=>vpn});wpn=[],vpn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ba35151db75ea04dd32865d4b2bd18ac453d87dfd60b81ec325260f801c1709564736f6c63430008170033",Epn={};Ue(Epn,{abi:()=>xpn,bytecode:()=>Apn});xpn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DifferentArgsAndTerms",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"terms",type:"bytes",indexed:!1,internalType:"bytes"},{name:"args",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1}],Apn="0x608060405234801561001057600080fd5b506103b7806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063414c3e3314610051578063a145832a1461006d578063d3eddcc514610051578063ed46336714610051575b600080fd5b61006b61005f366004610249565b50505050505050505050565b005b61006b61007b366004610249565b85600881901b6001600160f81b03198116156100ec5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5088886040516100fd929190610316565b60405180910390208b8b604051610115929190610316565b6040518091039020146101d75783826001600160a01b0316336001600160a01b03167f07fc5f2898fc1f1cf9d6012177b7abb8d010b9e64055979af3a5bcd274e2a11a8e8e8e8e60405161016c949392919061034f565b60405180910390a460405162461bcd60e51b815260206004820152603260248201527f41726773457175616c697479436865636b456e666f726365723a646966666572604482015271656e742d617267732d616e642d7465726d7360701b60648201526084016100e3565b5050505050505050505050565b60008083601f8401126101f657600080fd5b50813567ffffffffffffffff81111561020e57600080fd5b60208301915083602082850101111561022657600080fd5b9250929050565b80356001600160a01b038116811461024457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561026857600080fd5b8a3567ffffffffffffffff8082111561028057600080fd5b61028c8e838f016101e4565b909c509a5060208d01359150808211156102a557600080fd5b6102b18e838f016101e4565b909a50985060408d0135975060608d01359150808211156102d157600080fd5b506102de8d828e016101e4565b90965094505060808b013592506102f760a08c0161022d565b915061030560c08c0161022d565b90509295989b9194979a5092959850565b8183823760009101908152919050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b604081526000610363604083018688610326565b8281036020840152610376818587610326565b97965050505050505056fea264697066735822122078e67ed2011e86335117ad2962f5a7ffbe2179a19bda7b4e0f3c3beff2ca893c64736f6c63430008170033",_pn={};Ue(_pn,{abi:()=>Tpn,bytecode:()=>Spn});Tpn=[],Spn="0x",Cpn={};Ue(Cpn,{abi:()=>Ipn,bytecode:()=>Rpn});Ipn=[{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]}],Rpn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122010c6b66ba2fc3a92f070bf47f6d02e68772a73d44eed07c73bca1c9f7fab44e964736f6c63430008170033",Opn={};Ue(Opn,{abi:()=>Npn,bytecode:()=>Ppn});Npn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"}],Ppn="0x",oi={};Ue(oi,{abi:()=>kpn,bytecode:()=>Mpn});kpn=[{type:"receive",stateMutability:"payable"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],Mpn="0x",Bpn={};Ue(Bpn,{abi:()=>Dpn,bytecode:()=>Lpn});Dpn=[{type:"constructor",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_swapApiSigner",type:"address",internalType:"address"},{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_metaSwap",type:"address",internalType:"contract IMetaSwap"},{name:"_argsEqualityCheckEnforcer",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"WHITELIST_ENFORCED",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"WHITELIST_NOT_ENFORCED",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"argsEqualityCheckEnforcer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"isAggregatorAllowed",inputs:[{name:"aggregatorIdHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"allowed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isTokenAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}],outputs:[{name:"allowed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"metaSwap",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IMetaSwap"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setSwapApiSigner",inputs:[{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swapApiSigner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"swapByDelegation",inputs:[{name:"_signatureData",type:"tuple",internalType:"struct DelegationMetaSwapAdapter.SignatureData",components:[{name:"apiData",type:"bytes",internalType:"bytes"},{name:"expiration",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"_delegations",type:"tuple[]",internalType:"struct Delegation[]",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"_useTokenWhitelist",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swapTokens",inputs:[{name:"_aggregatorId",type:"string",internalType:"string"},{name:"_tokenFrom",type:"address",internalType:"contract IERC20"},{name:"_tokenTo",type:"address",internalType:"contract IERC20"},{name:"_recipient",type:"address",internalType:"address"},{name:"_amountFrom",type:"uint256",internalType:"uint256"},{name:"_balanceFromBefore",type:"uint256",internalType:"uint256"},{name:"_swapData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateAllowedAggregatorIds",inputs:[{name:"_aggregatorIds",type:"string[]",internalType:"string[]"},{name:"_statuses",type:"bool[]",internalType:"bool[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateAllowedTokens",inputs:[{name:"_tokens",type:"address[]",internalType:"contract IERC20[]"},{name:"_statuses",type:"bool[]",internalType:"bool[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"_token",type:"address",internalType:"contract IERC20"},{name:"_amount",type:"uint256",internalType:"uint256"},{name:"_recipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ChangedAggregatorIdStatus",inputs:[{name:"aggregatorIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"aggregatorId",type:"string",indexed:!1,internalType:"string"},{name:"status",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ChangedTokenStatus",inputs:[{name:"token",type:"address",indexed:!1,internalType:"contract IERC20"},{name:"status",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SentTokens",inputs:[{name:"token",type:"address",indexed:!0,internalType:"contract IERC20"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SetArgsEqualityCheckEnforcer",inputs:[{name:"newArgsEqualityCheckEnforcer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetMetaSwap",inputs:[{name:"newMetaSwap",type:"address",indexed:!0,internalType:"contract IMetaSwap"}],anonymous:!1},{type:"event",name:"SwapApiSignerUpdated",inputs:[{name:"newSigner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"AggregatorIdIsNotAllowed",inputs:[{name:"aggregatorId",type:"string",internalType:"string"}]},{type:"error",name:"AmountFromMismatch",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"FailedNativeTokenTransfer",inputs:[{name:"recipient",type:"address",internalType:"address"}]},{type:"error",name:"InputLengthsMismatch",inputs:[]},{type:"error",name:"InsufficientTokens",inputs:[]},{type:"error",name:"InvalidApiSignature",inputs:[]},{type:"error",name:"InvalidEmptyDelegations",inputs:[]},{type:"error",name:"InvalidIdenticalTokens",inputs:[]},{type:"error",name:"InvalidSwapFunctionSelector",inputs:[]},{type:"error",name:"InvalidZeroAddress",inputs:[]},{type:"error",name:"MissingArgsEqualityCheckEnforcer",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotLeafDelegator",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]},{type:"error",name:"SignatureExpired",inputs:[]},{type:"error",name:"TokenFromIsNotAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}]},{type:"error",name:"TokenFromMismatch",inputs:[]},{type:"error",name:"TokenToIsNotAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],Lpn="0x60e06040523480156200001157600080fd5b506040516200306738038062003067833981016040819052620000349162000258565b846001600160a01b0381166200006457604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6200006f81620001d4565b506001600160a01b03841615806200008e57506001600160a01b038316155b80620000a157506001600160a01b038216155b80620000b457506001600160a01b038116155b15620000d35760405163f6b2911f60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0386811691821790925584821660805283821660a05290821660c0526040517fdeeca532e75e413fdd750935f0d28d3686b7e2074831c42f70db2ca0dc7b32d090600090a26040516001600160a01b038416907fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038316907f5a3c783d657606d324917524307587fd272edc5e8b257da020bb6072226b6b2c90600090a26040516001600160a01b038216907fb21681281e4a8a2f3a982e391c6e8b4638d9ccd60e9fa9715dc26c7e3cd15bbe90600090a25050505050620002d8565b600180546001600160a01b0319169055620001ef81620001f2565b50565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0381168114620001ef57600080fd5b600080600080600060a086880312156200027157600080fd5b85516200027e8162000242565b6020870151909550620002918162000242565b6040870151909450620002a48162000242565b6060870151909350620002b78162000242565b6080870151909250620002ca8162000242565b809150509295509295909350565b60805160a05160c051612d356200033260003960008181610288015261136801526000818161033201528181610f4601528181610fd601526110010152600081816103a4015281816109120152610cf30152612d356000f3fe6080604052600436106101235760003560e01c8063ab7180f7116100a0578063ea4d3c9b11610064578063ea4d3c9b14610392578063ea9c6555146103c6578063f2fde38b1461040a578063f9eaee0d1461042a578063fcdea7a91461045a57600080fd5b8063ab7180f7146102aa578063b555ddad14610300578063cb2ef5fe14610320578063d691c96414610354578063e30c39781461037457600080fd5b8063715018a6116100e7578063715018a61461020e57806379ba5097146102235780638da5cb5b1461023857806390ef4d1b14610256578063a42ff9311461027657600080fd5b8063059ba4ee1461012f578063178984911461016c5780636451b418146101ac57806367ebd8a2146101ce57806369328dec146101ee57600080fd5b3661012a57005b600080fd5b34801561013b57600080fd5b5060025461014f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561017857600080fd5b5061019c610187366004611e85565b60046020526000908152604090205460ff1681565b6040519015158152602001610163565b3480156101b857600080fd5b506101cc6101c7366004612108565b61047a565b005b3480156101da57600080fd5b506101cc6101e9366004612281565b61098c565b3480156101fa57600080fd5b506101cc61020936600461229e565b610a05565b34801561021a57600080fd5b506101cc610a1d565b34801561022f57600080fd5b506101cc610a31565b34801561024457600080fd5b506000546001600160a01b031661014f565b34801561026257600080fd5b506101cc61027136600461232b565b610a75565b34801561028257600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b3480156102b657600080fd5b506102f36040518060400160405280601c81526020017f546f6b656e2d57686974656c6973742d4e6f742d456e666f726365640000000081525081565b60405161016391906123e6565b34801561030c57600080fd5b506101cc61031b36600461232b565b610bcb565b34801561032c57600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b61036761036236600461243a565b610ce6565b60405161016391906124df565b34801561038057600080fd5b506001546001600160a01b031661014f565b34801561039e57600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b3480156103d257600080fd5b506102f360405180604001604052806018815260200177151bdad95b8b55da1a5d195b1a5cdd0b515b999bdc98d95960421b81525081565b34801561041657600080fd5b506101cc610425366004612281565b610e1f565b34801561043657600080fd5b5061019c610445366004612281565b60036020526000908152604090205460ff1681565b34801561046657600080fd5b506101cc6104753660046124f2565b610e90565b61048b610486846125b4565b6110ba565b6000808080806104a361049e898061262a565b611194565b94509450945094509450600087519050806000036104d45760405163478bfa6560e01b815260040160405180910390fd5b836001600160a01b0316856001600160a01b03160361050657604051634e570e4560e01b815260040160405180910390fd5b61051285858a8a61132c565b600460008760405160200161052791906123e6565b60408051601f198184030181529181528151602092830120835290820192909252016000205460ff16610578578560405163b55e93d160e01b815260040161056f91906123e6565b60405180910390fd5b336001600160a01b03168860008151811061059557610595612670565b6020026020010151602001516001600160a01b0316146105c85760405163a711bbaf60e01b815260040160405180910390fd5b60003063fcdea7a98888888d6105df60018961269c565b815181106105ef576105ef612670565b602002602001015160200151896106058d6115b4565b8a60405160240161061c97969594939291906126af565b60408051601f19818403018152918152602080830180516001600160e01b031660e09590951b94909417909352805160028082526060820190925291945060009350909182015b60608152602001906001900390816106635790505090508960405160200161068b919061270f565b604051602081830303815290604052816000815181106106ad576106ad612670565b6020908102919091010152600060405190808252806020026020018201604052801561073957816020015b6107266040518060c0016040528060006001600160a01b0316815260200160006001600160a01b03168152602001600080191681526020016060815260200160008152602001606081525090565b8152602001906001900390816106d85790505b5060405160200161074a919061270f565b6040516020818303038152906040528160018151811061076c5761076c612670565b6020908102919091010152604080516002808252606082019092526000918160200160208202803683370190505090506107a4611639565b816000815181106107b7576107b7612670565b6020026020010181815250506107cb611639565b816001815181106107de576107de612670565b602090810291909101015260408051600280825260608201909252600091816020015b60608152602001906001900390816108015790505090506001600160a01b0389166108635761084030886040518060200160405280600081525061164c565b8160008151811061085357610853612670565b60200260200101819052506108d1565b6040513060248201526044810188905260009060640160408051601f198184030181529190526020810180516001600160e01b031663a9059cbb60e01b17905290506108b18a60008361164c565b826000815181106108c4576108c4612670565b6020026020010181905250505b6108dd3060008661164c565b816001815181106108f0576108f0612670565b602090810291909101015260405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061094b90869086908690600401612841565b600060405180830381600087803b15801561096557600080fd5b505af1158015610979573d6000803e3d6000fd5b5050505050505050505050505050505050565b61099461167b565b6001600160a01b0381166109bb5760405163f6b2911f60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0383169081179091556040517fdeeca532e75e413fdd750935f0d28d3686b7e2074831c42f70db2ca0dc7b32d090600090a250565b610a0d61167b565b610a188383836116a8565b505050565b610a2561167b565b610a2f60006117a1565b565b60015433906001600160a01b03168114610a695760405163118cdaa760e01b81526001600160a01b038216600482015260240161056f565b610a72816117a1565b50565b610a7d61167b565b82818114610a9e57604051637e26301b60e11b815260040160405180910390fd5b60005b81811015610bc3576000868683818110610abd57610abd612670565b9050602002810190610acf919061262a565b604051602001610ae09291906128d4565b6040516020818303038152906040528051906020012090506000858584818110610b0c57610b0c612670565b9050602002016020810190610b2191906128f0565b60008381526004602052604090205490915060ff16151581151514610bb9576000828152600460205260409020805460ff1916821515179055817ffe89a7e0da76ce9087f67dbe71c999de74699125edabbdd3ef09b42dafdf9e55898986818110610b8e57610b8e612670565b9050602002810190610ba0919061262a565b84604051610bb09392919061290d565b60405180910390a25b5050600101610aa1565b505050505050565b610bd361167b565b82818114610bf457604051637e26301b60e11b815260040160405180910390fd5b60005b81811015610bc3576000868683818110610c1357610c13612670565b9050602002016020810190610c289190612281565b90506000858584818110610c3e57610c3e612670565b9050602002016020810190610c5391906128f0565b6001600160a01b03831660009081526003602052604090205490915060ff16151581151514610cdc576001600160a01b038216600081815260036020908152604091829020805460ff19168515159081179091558251938452908301527fd0847c60d8132f1d2a3af347506243fa046f163a2c9c6698c43b31e1d7d95bc4910160405180910390a15b5050600101610bf7565b6060336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610d3157604051630692ce8160e21b815260040160405180910390fd5b83600881901b6001600160f81b0319821615610d6c57604051632e5bf3f960e21b81526001600160f81b03198316600482015260240161056f565b6001600160f81b0319811615610da1576040516308c3ee0360e11b81526001600160f81b03198216600482015260240161056f565b600080366000610db189896117ba565b6040805160018082528183019092529498509296509094509250816020015b6060815260200190600190039081610dd0579050509650610df38484848461180b565b87600081518110610e0657610e06612670565b60200260200101819052505050505050505b9392505050565b610e2761167b565b600180546001600160a01b0383166001600160a01b03199091168117909155610e586000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b333014610eb0576040516314e1dbf760e11b815260040160405180910390fd5b600083610ebc896115b4565b610ec6919061269c565b905084811015610ee9576040516378dbf0af60e11b815260040160405180910390fd5b84811115610f0557610f0588610eff878461269c565b886116a8565b6000610f10886115b4565b905060006001600160a01b038a16610f29575085610fff565b604051636eb1769f60e11b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166024830152600091908c169063dd62ed3e90604401602060405180830381865afa158015610f99573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fbd9190612933565b905087811015610ffd57610ffd6001600160a01b038c167f0000000000000000000000000000000000000000000000000000000000000000600019611841565b505b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316635f575529828e8e8e8c8b8b6040518863ffffffff1660e01b81526004016110569695949392919061294c565b6000604051808303818588803b15801561106f57600080fd5b505af1158015611083573d6000803e3d6000fd5b50505050506000826110948b6115b4565b61109e919061269c565b90506110ab8a828b6116a8565b50505050505050505050505050565b806020015142106110de57604051630819bdcd60e01b815260040160405180910390fd5b6000816000015182602001516040516020016110fb929190612996565b604051602081830303815290604052805190602001209050600061114c827f19457468657265756d205369676e6564204d6573736167653a0a3332000000006000908152601c91909152603c902090565b9050600061115e8285604001516118cb565b6002549091506001600160a01b0380831691161461118e57604051626d46e960e31b815260040160405180910390fd5b50505050565b60606000808083816111a9600482898b6129b8565b6111b2916129e2565b90506001600160e01b03198116635f57552960e01b146111e557604051632033702760e11b815260040160405180910390fd5b60006111f4886004818c6129b8565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505082519293506112419284016020908101925084019050612a62565b60408051600060208201819052959c50939a50919750955082918291829182910160408051601f1981840301815290829052611281918a90602001612af9565b6040516020818303038152906040528060200190518101906112a39190612b28565b98505097505050955095509550508a6001600160a01b0316856001600160a01b0316146112e3576040516356cf902d60e01b815260040160405180910390fd5b801580156112fa5750886112f78484612be6565b14155b1561131857604051632f0e599760e11b815260040160405180910390fd5b839950505050505050509295509295909350565b60006001835161133c919061269c565b905082818151811061135057611350612670565b60200260200101516060015151600014806113d857507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168382815181106113a2576113a2612670565b6020026020010151606001516000815181106113c0576113c0612670565b6020026020010151600001516001600160a01b031614155b156113f65760405163113f78d160e31b815260040160405180910390fd5b8115611518576001600160a01b03851660009081526003602052604090205460ff166114405760405163550a4b9360e01b81526001600160a01b038616600482015260240161056f565b6001600160a01b03841660009081526003602052604090205460ff166114845760405163022330e760e61b81526001600160a01b038516600482015260240161056f565b60405180604001604052806018815260200177151bdad95b8b55da1a5d195b1a5cdd0b515b999bdc98d95960421b8152506040516020016114c591906123e6565b6040516020818303038152906040528382815181106114e6576114e6612670565b60200260200101516060015160008151811061150457611504612670565b6020026020010151604001819052506115ad565b6040518060400160405280601c81526020017f546f6b656e2d57686974656c6973742d4e6f742d456e666f726365640000000081525060405160200161155e91906123e6565b60405160208183030381529060405283828151811061157f5761157f612670565b60200260200101516060015160008151811061159d5761159d612670565b6020026020010151604001819052505b5050505050565b60006001600160a01b0382166115cb575047919050565b6040516370a0823160e01b81523060048201526001600160a01b038316906370a0823190602401602060405180830381865afa15801561160f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116339190612933565b92915050565b6000611647818080806118f5565b905090565b606083838360405160200161166393929190612bf9565b60405160208183030381529060405290509392505050565b6000546001600160a01b03163314610a2f5760405163118cdaa760e01b815233600482015260240161056f565b6001600160a01b03831661173b576000816001600160a01b03168360405160006040518083038185875af1925050503d8060008114611703576040519150601f19603f3d011682016040523d82523d6000602084013e611708565b606091505b5050905080611735576040516312988bef60e21b81526001600160a01b038316600482015260240161056f565b5061174f565b61174f6001600160a01b0384168284611960565b806001600160a01b0316836001600160a01b03167f2c42af0ac449800f98313b961b8c9e7d69c3065be5b86449ed4c358e01d3a7808460405161179491815260200190565b60405180910390a3505050565b600180546001600160a01b0319169055610a72816119bf565b60008036816117cc60148287896129b8565b6117d591612c38565b60601c93506117e86034601487896129b8565b6117f191612c6b565b925061180085603481896129b8565b949793965094505050565b60405181838237600038838387895af1611828573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b604051636eb1769f60e11b81523060048201526001600160a01b0383811660248301526000919085169063dd62ed3e90604401602060405180830381865afa158015611891573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118b59190612933565b905061118e84846118c68585612be6565b611a0f565b6000806000806118db8686611a9f565b9250925092506118eb8282611aec565b5090949350505050565b604080516001600160f81b03198087166020830152851660218201526000602282018190526001600160e01b03198516602683015269ffffffffffffffffffff198416602a830152910160405160208183030381529060405261195790612c89565b95945050505050565b6040516001600160a01b03838116602483015260448201839052610a1891859182169063a9059cbb906064015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050611ba9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663095ea7b360e01b179052611a608482611c0c565b61118e576040516001600160a01b03848116602483015260006044830152611a9591869182169063095ea7b39060640161198d565b61118e8482611ba9565b60008060008351604103611ad95760208401516040850151606086015160001a611acb88828585611caf565b955095509550505050611ae5565b50508151600091506002905b9250925092565b6000826003811115611b0057611b00612cb0565b03611b09575050565b6001826003811115611b1d57611b1d612cb0565b03611b3b5760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611b4f57611b4f612cb0565b03611b705760405163fce698f760e01b81526004810182905260240161056f565b6003826003811115611b8457611b84612cb0565b03611ba5576040516335e2f38360e21b81526004810182905260240161056f565b5050565b6000611bbe6001600160a01b03841683611d7e565b90508051600014158015611be3575080806020019051810190611be19190612cc6565b155b15610a1857604051635274afe760e01b81526001600160a01b038416600482015260240161056f565b6000806000846001600160a01b031684604051611c299190612ce3565b6000604051808303816000865af19150503d8060008114611c66576040519150601f19603f3d011682016040523d82523d6000602084013e611c6b565b606091505b5091509150818015611c95575080511580611c95575080806020019051810190611c959190612cc6565b80156119575750505050506001600160a01b03163b151590565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115611cea5750600091506003905082611d74565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa158015611d3e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116611d6a57506000925060019150829050611d74565b9250600091508190505b9450945094915050565b6060610e188383600084600080856001600160a01b03168486604051611da49190612ce3565b60006040518083038185875af1925050503d8060008114611de1576040519150601f19603f3d011682016040523d82523d6000602084013e611de6565b606091505b5091509150611df6868383611e00565b9695505050505050565b606082611e1557611e1082611e5c565b610e18565b8151158015611e2c57506001600160a01b0384163b155b15611e5557604051639996b31560e01b81526001600160a01b038516600482015260240161056f565b5080610e18565b805115611e6c5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b600060208284031215611e9757600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b0381118282101715611ed657611ed6611e9e565b60405290565b60405160c081016001600160401b0381118282101715611ed657611ed6611e9e565b604051601f8201601f191681016001600160401b0381118282101715611f2657611f26611e9e565b604052919050565b60006001600160401b03821115611f4757611f47611e9e565b5060051b60200190565b6001600160a01b0381168114610a7257600080fd5b8035611f7181611f51565b919050565b60006001600160401b03821115611f8f57611f8f611e9e565b50601f01601f191660200190565b600082601f830112611fae57600080fd5b8135611fc1611fbc82611f76565b611efe565b818152846020838601011115611fd657600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f83011261200457600080fd5b81356020612014611fbc83611f2e565b82815260059290921b8401810191818101908684111561203357600080fd5b8286015b848110156120e45780356001600160401b03808211156120575760008081fd5b908801906060828b03601f19018113156120715760008081fd5b612079611eb4565b8784013561208681611f51565b81526040848101358481111561209c5760008081fd5b6120aa8e8b83890101611f9d565b838b0152509184013591838311156120c25760008081fd5b6120d08d8a85880101611f9d565b908201528652505050918301918301612037565b509695505050505050565b8015158114610a7257600080fd5b8035611f71816120ef565b60008060006060848603121561211d57600080fd5b83356001600160401b038082111561213457600080fd5b908501906060828803121561214857600080fd5b909350602090858201358181111561215f57600080fd5b8601601f8101881361217057600080fd5b803561217e611fbc82611f2e565b81815260059190911b8201840190848101908a83111561219d57600080fd5b8584015b83811015612262578035868111156121b857600080fd5b850160c0818e03601f190112156121ce57600080fd5b6121d6611edc565b6121e1898301611f66565b81526121ef60408301611f66565b898201526060820135604082015260808201358881111561220f57600080fd5b61221d8f8b83860101611ff3565b60608301525060a0820135608082015260c0820135888111156122405760008081fd5b61224e8f8b83860101611f9d565b60a0830152508452509186019186016121a1565b50809750505050505050612278604085016120fd565b90509250925092565b60006020828403121561229357600080fd5b8135610e1881611f51565b6000806000606084860312156122b357600080fd5b83356122be81611f51565b92506020840135915060408401356122d581611f51565b809150509250925092565b60008083601f8401126122f257600080fd5b5081356001600160401b0381111561230957600080fd5b6020830191508360208260051b850101111561232457600080fd5b9250929050565b6000806000806040858703121561234157600080fd5b84356001600160401b038082111561235857600080fd5b612364888389016122e0565b9096509450602087013591508082111561237d57600080fd5b5061238a878288016122e0565b95989497509550505050565b60005b838110156123b1578181015183820152602001612399565b50506000910152565b600081518084526123d2816020860160208601612396565b601f01601f19169290920160200192915050565b602081526000610e1860208301846123ba565b60008083601f84011261240b57600080fd5b5081356001600160401b0381111561242257600080fd5b60208301915083602082850101111561232457600080fd5b60008060006040848603121561244f57600080fd5b8335925060208401356001600160401b0381111561246c57600080fd5b612478868287016123f9565b9497909650939450505050565b60008282518085526020808601955060208260051b8401016020860160005b848110156124d257601f198684030189526124c08383516123ba565b988401989250908301906001016124a4565b5090979650505050505050565b602081526000610e186020830184612485565b600080600080600080600080600060e08a8c03121561251057600080fd5b89356001600160401b038082111561252757600080fd5b6125338d838e016123f9565b909b50995060208c0135915061254882611f51565b90975060408b01359061255a82611f51565b90965060608b01359061256c82611f51565b90955060808b0135945060a08b0135935060c08b0135908082111561259057600080fd5b5061259d8c828d016123f9565b915080935050809150509295985092959850929598565b6000606082360312156125c657600080fd5b6125ce611eb4565b82356001600160401b03808211156125e557600080fd5b6125f136838701611f9d565b835260208501356020840152604085013591508082111561261157600080fd5b5061261e36828601611f9d565b60408301525092915050565b6000808335601e1984360301811261264157600080fd5b8301803591506001600160401b0382111561265b57600080fd5b60200191503681900382131561232457600080fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561163357611633612686565b60e0815260006126c260e083018a6123ba565b6001600160a01b0389811660208501528881166040850152871660608401526080830186905260a0830185905282810360c084015261270181856123ba565b9a9950505050505050505050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b8281101561283457603f19888603018452815160c0860160018060a01b038083511688528089840151168989015260408301516040890152606083015160c060608a015282815180855260e08b01915060e08160051b8c010194508b8301925060005b818110156127f85760df198c870301835283518581511687528d81015160608f8901526127c960608901826123ba565b90506040820151915087810360408901526127e481836123ba565b97505050928c0192918c0191600101612799565b50505050506080820151608088015260a0820151915086810360a088015261282081836123ba565b965050509285019290850190600101612736565b5092979650505050505050565b6060815260006128546060830186612485565b82810360208481019190915285518083528682019282019060005b8181101561288b5784518352938301939183019160010161286f565b5050848103604086015261289f8187612485565b98975050505050505050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6020815260006128e86020830184866128ab565b949350505050565b60006020828403121561290257600080fd5b8135610e18816120ef565b6040815260006129216040830185876128ab565b90508215156020830152949350505050565b60006020828403121561294557600080fd5b5051919050565b60808152600061296060808301888a6128ab565b6001600160a01b03871660208401526040830186905282810360608401526129898185876128ab565b9998505050505050505050565b6040815260006129a960408301856123ba565b90508260208301529392505050565b600080858511156129c857600080fd5b838611156129d557600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015612a0a5780818660040360031b1b83161692505b505092915050565b6000612a20611fbc84611f76565b9050828152838383011115612a3457600080fd5b610e18836020830184612396565b600082601f830112612a5357600080fd5b610e1883835160208501612a12565b60008060008060808587031215612a7857600080fd5b84516001600160401b0380821115612a8f57600080fd5b818701915087601f830112612aa357600080fd5b612ab288835160208501612a12565b955060208701519150612ac482611f51565b60408701516060880151929550935080821115612ae057600080fd5b50612aed87828801612a42565b91505092959194509250565b60008351612b0b818460208801612396565b835190830190612b1f818360208801612396565b01949350505050565b60008060008060008060008060006101208a8c031215612b4757600080fd5b8951612b5281611f51565b60208b0151909950612b6381611f51565b60408b0151909850612b7481611f51565b8097505060608a0151955060808a0151945060a08a01516001600160401b03811115612b9f57600080fd5b612bab8c828d01612a42565b94505060c08a0151925060e08a0151612bc381611f51565b6101008b0151909250612bd5816120ef565b809150509295985092959850929598565b8082018082111561163357611633612686565b6bffffffffffffffffffffffff198460601b16815282601482015260008251612c29816034850160208701612396565b91909101603401949350505050565b6bffffffffffffffffffffffff198135818116916014851015612a0a5760149490940360031b84901b1690921692915050565b8035602083101561163357600019602084900360031b1b1692915050565b80516020808301519190811015612caa576000198160200360031b1b821691505b50919050565b634e487b7160e01b600052602160045260246000fd5b600060208284031215612cd857600080fd5b8151610e18816120ef565b60008251612cf5818460208701612396565b919091019291505056fea2646970667358221220e6349ea62bd7b0c0d8eed7da3947908c16ca3383370cc10da3a8b2b40c83b05264736f6c63430008170033",Upn={};Ue(Upn,{abi:()=>Fpn,bytecode:()=>Hpn});Fpn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"blockAfterThreshold_",type:"uint128",internalType:"uint128"},{name:"blockBeforeThreshold_",type:"uint128",internalType:"uint128"}],stateMutability:"pure"}],Hpn="0x608060405234801561001057600080fd5b506104ed806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610345565b50505050505050505050565b005b610076610086366004610345565b6100c2565b61009e610099366004610412565b61023e565b604080516001600160801b0393841681529290911660208301520160405180910390f35b85600881901b6001600160f81b03198116156101335760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806101418d8d61023e565b90925090506001600160801b038216156101b957816001600160801b031643116101b95760405162461bcd60e51b8152602060048201526024808201527f426c6f636b4e756d626572456e666f726365723a6561726c792d64656c6567616044820152633a34b7b760e11b606482015260840161012a565b6001600160801b0381161561022f57806001600160801b0316431061022f5760405162461bcd60e51b815260206004820152602660248201527f426c6f636b4e756d626572456e666f726365723a657870697265642d64656c6560448201526533b0ba34b7b760d11b606482015260840161012a565b50505050505050505050505050565b600080602083146102a25760405162461bcd60e51b815260206004820152602860248201527f426c6f636b4e756d626572456e666f726365723a696e76616c69642d7465726d6044820152670e65ad8cadccee8d60c31b606482015260840161012a565b6102b0601060008587610454565b6102b99161047e565b60801c91506102cb8360108187610454565b6102d49161047e565b60801c90509250929050565b60008083601f8401126102f257600080fd5b50813567ffffffffffffffff81111561030a57600080fd5b60208301915083602082850101111561032257600080fd5b9250929050565b80356001600160a01b038116811461034057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561036457600080fd5b8a3567ffffffffffffffff8082111561037c57600080fd5b6103888e838f016102e0565b909c509a5060208d01359150808211156103a157600080fd5b6103ad8e838f016102e0565b909a50985060408d0135975060608d01359150808211156103cd57600080fd5b506103da8d828e016102e0565b90965094505060808b013592506103f360a08c01610329565b915061040160c08c01610329565b90509295989b9194979a5092959850565b6000806020838503121561042557600080fd5b823567ffffffffffffffff81111561043c57600080fd5b610448858286016102e0565b90969095509350505050565b6000808585111561046457600080fd5b8386111561047157600080fd5b5050820193919092039150565b6fffffffffffffffffffffffffffffffff1981358181169160108510156104af5780818660100360031b1b83161692505b50509291505056fea2646970667358221220e786ddc75b5e54c089f23ff0a2c6c7b67417725b5021ebc3aa3b2726c852e6cb64736f6c63430008170033",zpn={};Ue(zpn,{abi:()=>jpn,bytecode:()=>Gpn});jpn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"computeAddress",inputs:[{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"expectedAddress_",type:"address",internalType:"address"},{name:"salt_",type:"bytes32",internalType:"bytes32"},{name:"bytecode_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"event",name:"DeployedContract",inputs:[{name:"contractAddress",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"SkippedDeployment",inputs:[{name:"contractAddress",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"DeployedEmptyContract",inputs:[{name:"contractAddress",type:"address",internalType:"address"}]}],Gpn="0x608060405234801561001057600080fd5b50610748806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063481286e614610083578063a145832a146100b3578063b99deb0e146100c6578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046104fe565b50505050505050505050565b005b6100966100913660046105cb565b6100e8565b6040516001600160a01b0390911681526020015b60405180910390f35b6100816100c13660046104fe565b6100fd565b6100d96100d43660046105ed565b61026d565b6040516100aa9392919061062f565b60006100f48284610353565b90505b92915050565b85600881901b6001600160f81b031981161561016e5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b50600080600061017e8e8e61026d565b919450925090506001600160a01b0383163b156101d9576040516001600160a01b03841681527f641dafeb23238fae3ef71c64fced975da90c34dede63890507f3dda6b1e0dfef9060200160405180910390a1505050610260565b60006101e58284610360565b9050836001600160a01b0316816001600160a01b03161461025b5760405162461bcd60e51b815260206004820152602a60248201527f4465706c6f796564456e666f726365723a6465706c6f7965642d6164647265736044820152690e65adad2e6dac2e8c6d60b31b6064820152608401610165565b505050505b5050505050505050505050565b6000806060603484116102d05760405162461bcd60e51b815260206004820152602560248201527f4465706c6f796564456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b6064820152608401610165565b6102de601460008688610695565b6102e7916106bf565b60601c92506102fa603460148688610695565b610303916106f4565b91506103128460348188610695565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509598949750919550929350505050565b60006100f48383306103e8565b600061036e60008385610412565b9050806001600160a01b03163b6000036103a6576040516352c7cd4960e11b81526001600160a01b0382166004820152602401610165565b6040516001600160a01b03821681527faf3c4b03f515b5a38f3c238fdc24abf10854a2f27f2a85743a71de17e9bc7e7f9060200160405180910390a192915050565b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b60008347101561043e5760405163392efb2b60e21b815247600482015260248101859052604401610165565b815160000361046057604051631328927760e21b815260040160405180910390fd5b8282516020840186f590506001600160a01b03811661049257604051633a0ba96160e11b815260040160405180910390fd5b9392505050565b60008083601f8401126104ab57600080fd5b50813567ffffffffffffffff8111156104c357600080fd5b6020830191508360208285010111156104db57600080fd5b9250929050565b80356001600160a01b03811681146104f957600080fd5b919050565b60008060008060008060008060008060e08b8d03121561051d57600080fd5b8a3567ffffffffffffffff8082111561053557600080fd5b6105418e838f01610499565b909c509a5060208d013591508082111561055a57600080fd5b6105668e838f01610499565b909a50985060408d0135975060608d013591508082111561058657600080fd5b506105938d828e01610499565b90965094505060808b013592506105ac60a08c016104e2565b91506105ba60c08c016104e2565b90509295989b9194979a5092959850565b600080604083850312156105de57600080fd5b50508035926020909101359150565b6000806020838503121561060057600080fd5b823567ffffffffffffffff81111561061757600080fd5b61062385828601610499565b90969095509350505050565b60018060a01b03841681526000602084602084015260606040840152835180606085015260005b8181101561067257858101830151858201608001528201610656565b506000608082860101526080601f19601f83011685010192505050949350505050565b600080858511156106a557600080fd5b838611156106b257600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106ec5780818660140360031b1b83161692505b505092915050565b803560208310156100f757600019602084900360031b1b169291505056fea264697066735822122012632a27b82f8f9b4b083a1f26c705dcd1ceb840e52519ff7902232eb956870464736f6c63430008170033",Vpn={};Ue(Vpn,{abi:()=>Kpn,bytecode:()=>$pn});Kpn=[],$pn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212201124664c489cae3f1f240552ace1b72f497b65d8c9bdbce66e0c2b36268dcd2c64736f6c63430008170033",qpn={};Ue(qpn,{abi:()=>Wpn,bytecode:()=>Ypn});Wpn=[{type:"receive",stateMutability:"payable"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"InvalidEIP712NameLength",inputs:[]},{type:"error",name:"InvalidEIP712VersionLength",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UnauthorizedCallContext",inputs:[]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],Ypn="0x",Jpn={};Ue(Jpn,{abi:()=>Qpn,bytecode:()=>Zpn});Qpn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_recipient",type:"address",internalType:"address"},{name:"_tokenId",type:"uint256",internalType:"uint256"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"tokenId_",type:"uint256",internalType:"uint256"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],Zpn="0x608060405234801561001057600080fd5b506109cb806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b99deb0e1161005b578063b99deb0e14610122578063d0a3529f1461016b578063d3eddcc51461017e578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c5578063a145832a146100e1578063b5e54492146100f4575b600080fd5b6100b061009b3660046106cb565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610749565b50505050505050505050565b005b6100df6100ef366004610749565b610191565b6101146101023660046106cb565b60006020819052908152604090205481565b6040519081526020016100bc565b610135610130366004610816565b610350565b6040805195151586526001600160a01b03948516602087015292909316918401919091526060830152608082015260a0016100bc565b610114610179366004610858565b61045d565b6100df61018c366004610749565b610476565b85600881901b6101a2816000610661565b6102015760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060008060006102118e8e610350565b50935093509350506000610228338585858c610678565b60008181526001602052604090205490915060ff16156102a25760405162461bcd60e51b815260206004820152602f60248201527f4552433131353542616c616e63654368616e6765456e666f726365723a656e6660448201526e1bdc98d95c8b5a5ccb5b1bd8dad959608a1b60648201526084016101f8565b6000818152600160208190526040808320805460ff191690921790915551627eeac760e11b81526001600160a01b0385811660048301526024820185905286169062fdd58e90604401602060405180830381865afa158015610308573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061032c91906108ad565b60009283526020839052604090922091909155505050505050505050505050505050565b600080808080606986146103c05760405162461bcd60e51b815260206004820152603160248201527f4552433131353542616c616e63654368616e6765456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101f8565b868660008181106103d3576103d36108c6565b909101356001600160f81b031916151595506103f5905060156001888a6108dc565b6103fe91610906565b60601c935061041160296015888a6108dc565b61041a91610906565b60601c925061042d60496029888a6108dc565b6104369161093b565b9150610445866049818a6108dc565b61044e9161093b565b60001c90509295509295909350565b600061046c8686868686610678565b9695505050505050565b60008060008060006104888f8f610350565b9450945094509450945060006104a1338686868d610678565b600081815260016020526040808220805460ff1916905551627eeac760e11b81526001600160a01b03878116600483015260248201879052929350909187169062fdd58e90604401602060405180830381865afa158015610506573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061052a91906108ad565b905086156105bf5760008281526020819052604090205461054c90849061096f565b8110156105ba5760405162461bcd60e51b815260206004820152603660248201527f4552433131353542616c616e63654368616e6765456e666f726365723a65786360448201527565656465642d62616c616e63652d646563726561736560501b60648201526084016101f8565b61064e565b6000828152602081905260409020546105d9908490610982565b81101561064e5760405162461bcd60e51b815260206004820152603a60248201527f4552433131353542616c616e63654368616e6765456e666f726365723a696e7360448201527f756666696369656e742d62616c616e63652d696e63726561736500000000000060648201526084016101f8565b5050505050505050505050505050505050565b6001600160f81b0319828116908216145b92915050565b604080516001600160a01b0396871660208083019190915295871681830152939095166060840152608083019190915260a0808301919091528351808303909101815260c0909101909252815191012090565b6000602082840312156106dd57600080fd5b5035919050565b60008083601f8401126106f657600080fd5b50813567ffffffffffffffff81111561070e57600080fd5b60208301915083602082850101111561072657600080fd5b9250929050565b80356001600160a01b038116811461074457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561076857600080fd5b8a3567ffffffffffffffff8082111561078057600080fd5b61078c8e838f016106e4565b909c509a5060208d01359150808211156107a557600080fd5b6107b18e838f016106e4565b909a50985060408d0135975060608d01359150808211156107d157600080fd5b506107de8d828e016106e4565b90965094505060808b013592506107f760a08c0161072d565b915061080560c08c0161072d565b90509295989b9194979a5092959850565b6000806020838503121561082957600080fd5b823567ffffffffffffffff81111561084057600080fd5b61084c858286016106e4565b90969095509350505050565b600080600080600060a0868803121561087057600080fd5b6108798661072d565b94506108876020870161072d565b93506108956040870161072d565b94979396509394606081013594506080013592915050565b6000602082840312156108bf57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b600080858511156108ec57600080fd5b838611156108f957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156109335780818660140360031b1b83161692505b505092915050565b8035602083101561067257600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561067257610672610959565b808201808211156106725761067261095956fea264697066735822122095ab63871cc701b6845065f3118822a1bb1778b7d93ba045a40145ebc06f19af64736f6c63430008170033",Bc={};Ue(Bc,{abi:()=>Xpn,bytecode:()=>ehn});Xpn=[{type:"constructor",inputs:[{name:"_owner",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"ANY_DELEGATE",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"ROOT_AUTHORITY",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disabledDelegations",inputs:[{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"isDisabled",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDelegationHash",inputs:[{name:"_input",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DisabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"EnabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"RedeemedDelegation",inputs:[{name:"rootDelegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"SetDomain",inputs:[{name:"domainHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"domainVersion",type:"string",indexed:!1,internalType:"string"},{name:"chainId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"contractAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadyDisabled",inputs:[]},{type:"error",name:"AlreadyEnabled",inputs:[]},{type:"error",name:"BatchDataLengthMismatch",inputs:[]},{type:"error",name:"CannotUseADisabledDelegation",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"EmptySignature",inputs:[]},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]},{type:"error",name:"InvalidAuthority",inputs:[]},{type:"error",name:"InvalidDelegate",inputs:[]},{type:"error",name:"InvalidDelegator",inputs:[]},{type:"error",name:"InvalidEOASignature",inputs:[]},{type:"error",name:"InvalidERC1271Signature",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],ehn="0x6101606040523480156200001257600080fd5b506040516200334f3803806200334f833981016040819052620000359162000384565b60408051808201825260118152702232b632b3b0ba34b7b726b0b730b3b2b960791b602080830191909152825180840190935260018352603160f81b9083015290826001600160a01b038116620000a757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b620000b28162000204565b506001805460ff60a01b19169055620000cd82600262000222565b61012052620000de81600362000222565b61014052815160208084019190912060e052815190820120610100524660a0526200015b60e05161010051604080516000805160206200332f83398151915260208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c0526000620001706200025b565b9050306001600160a01b0316817f04a46d9007577c7ff1e513b900545162ec25d25991ae3dc60cf26ec01a84806d604051806040016040528060118152602001702232b632b3b0ba34b7b726b0b730b3b2b960791b815250604051806040016040528060018152602001603160f81b81525046604051620001f493929190620003fe565b60405180910390a35050620005e5565b600180546001600160a01b03191690556200021f81620002f1565b50565b600060208351101562000242576200023a8362000341565b905062000255565b816200024f8482620004df565b5060ff90505b92915050565b600060c0516001600160a01b0316306001600160a01b031614801562000282575060a05146145b156200028f575060805190565b620002ec60e05161010051604080516000805160206200332f83398151915260208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b905090565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600080829050601f815111156200036f578260405163305a27a960e01b81526004016200009e9190620005ab565b80516200037c82620005c0565b179392505050565b6000602082840312156200039757600080fd5b81516001600160a01b0381168114620003af57600080fd5b9392505050565b6000815180845260005b81811015620003de57602081850181015186830182015201620003c0565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000620004136060830186620003b6565b8281036020840152620004278186620003b6565b915050826040830152949350505050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200046357607f821691505b6020821081036200048457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620004da576000816000526020600020601f850160051c81016020861015620004b55750805b601f850160051c820191505b81811015620004d657828155600101620004c1565b5050505b505050565b81516001600160401b03811115620004fb57620004fb62000438565b62000513816200050c84546200044e565b846200048a565b602080601f8311600181146200054b5760008415620005325750858301515b600019600386901b1c1916600185901b178555620004d6565b600085815260208120601f198616915b828110156200057c578886015182559484019460019091019084016200055b565b50858210156200059b5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b602081526000620003af6020830184620003b6565b80516020808301519190811015620004845760001960209190910360031b1b16919050565b60805160a05160c05160e051610100516101205161014051612cef620006406000396000611bda01526000611bad01526000611b1201526000611aea01526000611a4501526000611a6f01526000611a990152612cef6000f3fe608060405234801561001057600080fd5b506004361061012c5760003560e01c806383ebb771116100ad578063acb8cc4911610071578063acb8cc491461027f578063cef6d2091461029f578063e30c3978146102b2578063f2fde38b146102c3578063ffa1ad74146102d657600080fd5b806383ebb771146102065780638456cb591461020e57806384b0196e146102165780638da5cb5b14610231578063a3f4df7e1461024257600080fd5b806358909ebc116100f457806358909ebc146101b05780635c975abb146101d157806366134607146101e3578063715018a6146101f657806379ba5097146101fe57600080fd5b80631b13cac2146101315780632d40d0521461014d5780633ed01015146101805780633f4ba83a14610195578063499340471461019d575b600080fd5b61013a60001981565b6040519081526020015b60405180910390f35b61017061015b3660046120e6565b60046020526000908152604090205460ff1681565b6040519015158152602001610144565b61019361018e3660046120ff565b6102fa565b005b6101936103f4565b6101936101ab3660046120ff565b610406565b6101b9610a1181565b6040516001600160a01b039091168152602001610144565b600154600160a01b900460ff16610170565b61013a6101f13660046120ff565b6104f6565b61019361050f565b610193610521565b61013a61056a565b610193610579565b61021e610589565b6040516101449796959493929190612190565b6000546001600160a01b03166101b9565b610272604051806040016040528060118152602001702232b632b3b0ba34b7b726b0b730b3b2b960791b81525081565b6040516101449190612229565b610272604051806040016040528060018152602001603160f81b81525081565b6101936102ad366004612287565b6105cf565b6001546001600160a01b03166101b9565b6101936102d136600461233c565b611891565b610272604051806040016040528060058152602001640312e332e360dc1b81525081565b61030a604082016020830161233c565b6001600160a01b03811633146103335760405163b9f0f17160e01b815260040160405180910390fd5b600061033e836104f6565b60008181526004602052604090205490915060ff1661037057604051637952fbad60e11b815260040160405180910390fd5b6000818152600460209081526040909120805460ff191690556103959084018461233c565b6001600160a01b03166103ae604085016020860161233c565b6001600160a01b0316827f3feadce88fc1b49db633a56fd5307ed6ee18734df83bcc4011daa720c9cd95f1866040516103e79190612484565b60405180910390a4505050565b6103fc611902565b61040461192f565b565b610416604082016020830161233c565b6001600160a01b038116331461043f5760405163b9f0f17160e01b815260040160405180910390fd5b600061044a836104f6565b60008181526004602052604090205490915060ff161561047c57604051625ecddb60e01b815260040160405180910390fd5b6000818152600460209081526040909120805460ff191660011790556104a49084018461233c565b6001600160a01b03166104bd604085016020860161233c565b6001600160a01b0316827fea589ba9473ee1fe77d352c7ed919747715a5d22931b972de9b02a907c66d5dd866040516103e79190612484565b600061050961050483612823565b611984565b92915050565b610517611902565b6104046000611a1f565b60015433906001600160a01b0316811461055e5760405163118cdaa760e01b81526001600160a01b03821660048201526024015b60405180910390fd5b61056781611a1f565b50565b6000610574611a38565b905090565b610581611902565b610404611b63565b60006060806000806000606061059d611ba6565b6105a5611bd3565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b6105d7611c00565b8481811415806105e75750808414155b1561060557604051631bcaf69f60e01b815260040160405180910390fd5b6000816001600160401b0381111561061f5761061f612555565b60405190808252806020026020018201604052801561065257816020015b606081526020019060019003908161063d5790505b5090506000826001600160401b0381111561066f5761066f612555565b6040519080825280602002602001820160405280156106a257816020015b606081526020019060019003908161068d5790505b50905060005b83811015610c815760008a8a838181106106c4576106c461282f565b90506020028101906106d69190612845565b8101906106e3919061288b565b905080516000036107d1576040805160008082526020820190925290610765565b6107526040518060c0016040528060006001600160a01b0316815260200160006001600160a01b03168152602001600080191681526020016060815260200160008152602001606081525090565b8152602001906001900390816107045790505b508483815181106107785761077861282f565b602090810291909101015260006040519080825280602002602001820160405280156107ae578160200160208202803683370190505b508383815181106107c1576107c161282f565b6020026020010181905250610c78565b808483815181106107e4576107e461282f565b6020026020010181905250600081516001600160401b0381111561080a5761080a612555565b604051908082528060200260200182016040528015610833578160200160208202803683370190505b509050808484815181106108495761084961282f565b6020026020010181905250336001600160a01b0316826000815181106108715761087161282f565b6020026020010151600001516001600160a01b0316141580156108c65750610a116001600160a01b0316826000815181106108ae576108ae61282f565b6020026020010151600001516001600160a01b031614155b156108e457604051632d618d8160e21b815260040160405180910390fd5b60005b8251811015610ab55760008382815181106109045761090461282f565b6020026020010151905061091781611984565b8383815181106109295761092961282f565b60200260200101818152505080602001516001600160a01b03163b6000036109dc57600061099e61099461095b61056a565b86868151811061096d5761096d61282f565b602002602001015160405161190160f01b8152600281019290925260228201526042902090565b8360a00151611c2b565b905081602001516001600160a01b0316816001600160a01b0316146109d657604051630f6d9e4760e21b815260040160405180910390fd5b50610aac565b60006109fb6109e961056a565b85858151811061096d5761096d61282f565b9050600082602001516001600160a01b0316631626ba7e838560a001516040518363ffffffff1660e01b8152600401610a3592919061293b565b602060405180830381865afa158015610a52573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a76919061295c565b6001600160e01b0319169050630b135d3f60e11b8114610aa95760405163155ff42760e01b815260040160405180910390fd5b50505b506001016108e7565b5060005b8251811015610c755760046000838381518110610ad857610ad861282f565b60209081029190910181015182528101919091526040016000205460ff1615610b14576040516302dd502960e11b815260040160405180910390fd5b60018351610b22919061299c565b8114610c2b5781610b348260016129af565b81518110610b4457610b4461282f565b6020026020010151838281518110610b5e57610b5e61282f565b60200260200101516040015114610b8857604051636f6a1b8760e11b815260040160405180910390fd5b600083610b968360016129af565b81518110610ba657610ba661282f565b6020026020010151600001519050610a116001600160a01b0316816001600160a01b031614158015610c075750806001600160a01b0316848381518110610bef57610bef61282f565b6020026020010151602001516001600160a01b031614155b15610c2557604051632d618d8160e21b815260040160405180910390fd5b50610c6d565b60001960001b838281518110610c4357610c4361282f565b60200260200101516040015114610c6d57604051636f6a1b8760e11b815260040160405180910390fd5b600101610ab9565b50505b506001016106a8565b5060005b83811015610ea6576000838281518110610ca157610ca161282f565b6020026020010151511115610e9e5760005b838281518110610cc557610cc561282f565b602002602001015151811015610e9c576000848381518110610ce957610ce961282f565b60200260200101518281518110610d0257610d0261282f565b602002602001015160600151905060005b8151811015610e92576000828281518110610d3057610d3061282f565b6020026020010151600001519050806001600160a01b031663414c3e33848481518110610d5f57610d5f61282f565b602002602001015160200151858581518110610d7d57610d7d61282f565b6020026020010151604001518f8f8a818110610d9b57610d9b61282f565b905060200201358e8e8b818110610db457610db461282f565b9050602002810190610dc69190612845565b8c8c81518110610dd857610dd861282f565b60200260200101518b81518110610df157610df161282f565b60200260200101518e8d81518110610e0b57610e0b61282f565b60200260200101518c81518110610e2457610e2461282f565b602002602001015160200151336040518963ffffffff1660e01b8152600401610e549897969594939291906129c2565b600060405180830381600087803b158015610e6e57600080fd5b505af1158015610e82573d6000803e3d6000fd5b5050505050806001019050610d13565b5050600101610cb3565b505b600101610c85565b5060005b838110156114ca57828181518110610ec457610ec461282f565b602002602001015151600003610f82573363d691c964898984818110610eec57610eec61282f565b90506020020135888885818110610f0557610f0561282f565b9050602002810190610f179190612845565b6040518463ffffffff1660e01b8152600401610f3593929190612a2d565b6000604051808303816000875af1158015610f54573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610f7c9190810190612a50565b506114c2565b60005b838281518110610f9757610f9761282f565b60200260200101515181101561116e576000848381518110610fbb57610fbb61282f565b60200260200101518281518110610fd457610fd461282f565b602002602001015160600151905060005b81518110156111645760008282815181106110025761100261282f565b6020026020010151600001519050806001600160a01b031663a145832a8484815181106110315761103161282f565b60200260200101516020015185858151811061104f5761104f61282f565b6020026020010151604001518f8f8a81811061106d5761106d61282f565b905060200201358e8e8b8181106110865761108661282f565b90506020028101906110989190612845565b8c8c815181106110aa576110aa61282f565b60200260200101518b815181106110c3576110c361282f565b60200260200101518e8d815181106110dd576110dd61282f565b60200260200101518c815181106110f6576110f661282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016111269897969594939291906129c2565b600060405180830381600087803b15801561114057600080fd5b505af1158015611154573d6000803e3d6000fd5b5050505050806001019050610fe5565b5050600101610f85565b508281815181106111815761118161282f565b6020026020010151600184838151811061119d5761119d61282f565b6020026020010151516111b0919061299c565b815181106111c0576111c061282f565b6020026020010151602001516001600160a01b031663d691c9648989848181106111ec576111ec61282f565b905060200201358888858181106112055761120561282f565b90506020028101906112179190612845565b6040518463ffffffff1660e01b815260040161123593929190612a2d565b6000604051808303816000875af1158015611254573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261127c9190810190612a50565b5060008382815181106112915761129161282f565b60200260200101515190505b80156114c05760008483815181106112b7576112b761282f565b60200260200101516001836112cc919061299c565b815181106112dc576112dc61282f565b60200260200101516060015190506000815190505b80156114ad5760008261130560018461299c565b815181106113155761131561282f565b6020026020010151600001519050806001600160a01b031663d3eddcc584600185611340919061299c565b815181106113505761135061282f565b6020026020010151602001518560018661136a919061299c565b8151811061137a5761137a61282f565b6020026020010151604001518f8f8a8181106113985761139861282f565b905060200201358e8e8b8181106113b1576113b161282f565b90506020028101906113c39190612845565b8c8c815181106113d5576113d561282f565b602002602001015160018c6113ea919061299c565b815181106113fa576113fa61282f565b60200260200101518e8d815181106114145761141461282f565b602002602001015160018d611429919061299c565b815181106114395761143961282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016114699897969594939291906129c2565b600060405180830381600087803b15801561148357600080fd5b505af1158015611497573d6000803e3d6000fd5b5050505050806114a690612b2f565b90506112f1565b5050806114b990612b2f565b905061129d565b505b600101610eaa565b5060005b838110156117465760008382815181106114ea576114ea61282f565b602002602001015151111561173e57600083828151811061150d5761150d61282f565b60200260200101515190505b801561173c5760008483815181106115335761153361282f565b6020026020010151600183611548919061299c565b815181106115585761155861282f565b60200260200101516060015190506000815190505b80156117295760008261158160018461299c565b815181106115915761159161282f565b6020026020010151600001519050806001600160a01b031663ed463367846001856115bc919061299c565b815181106115cc576115cc61282f565b602002602001015160200151856001866115e6919061299c565b815181106115f6576115f661282f565b6020026020010151604001518f8f8a8181106116145761161461282f565b905060200201358e8e8b81811061162d5761162d61282f565b905060200281019061163f9190612845565b8c8c815181106116515761165161282f565b602002602001015160018c611666919061299c565b815181106116765761167661282f565b60200260200101518e8d815181106116905761169061282f565b602002602001015160018d6116a5919061299c565b815181106116b5576116b561282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016116e59897969594939291906129c2565b600060405180830381600087803b1580156116ff57600080fd5b505af1158015611713573d6000803e3d6000fd5b50505050508061172290612b2f565b905061156d565b50508061173590612b2f565b9050611519565b505b6001016114ce565b5060005b838110156118855760008382815181106117665761176661282f565b602002602001015151111561187d5760005b83828151811061178a5761178a61282f565b60200260200101515181101561187b57336001600160a01b03168483815181106117b6576117b661282f565b602002602001015160018685815181106117d2576117d261282f565b6020026020010151516117e5919061299c565b815181106117f5576117f561282f565b6020026020010151602001516001600160a01b03167f40dadaa36c6c2e3d7317e24757451ffb2d603d875f0ad5e92c5dd156573b187386858151811061183d5761183d61282f565b602002602001015184815181106118565761185661282f565b602002602001015160405161186b9190612b46565b60405180910390a3600101611778565b505b60010161174a565b50505050505050505050565b611899611902565b600180546001600160a01b0383166001600160a01b031990911681179091556118ca6000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b6000546001600160a01b031633146104045760405163118cdaa760e01b8152336004820152602401610555565b611937611c55565b6001805460ff60a01b191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b6000807f88c1d2ecf185adf710588203a5f263f0ff61be0d33da39792cde19ba9aa4331e8360000151846020015185604001516119c48760600151611c7f565b6080808901516040805160208101989098526001600160a01b03968716908801529490931660608601529184015260a083015260c082015260e0015b60408051601f1981840301815291905280516020909101209392505050565b600180546001600160a01b031916905561056781611d4a565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611a9157507f000000000000000000000000000000000000000000000000000000000000000046145b15611abb57507f000000000000000000000000000000000000000000000000000000000000000090565b610574604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b611b6b611c00565b6001805460ff60a01b1916600160a01b1790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586119673390565b60606105747f00000000000000000000000000000000000000000000000000000000000000006002611d9a565b60606105747f00000000000000000000000000000000000000000000000000000000000000006003611d9a565b600154600160a01b900460ff16156104045760405163d93c066560e01b815260040160405180910390fd5b600080600080611c3b8686611e45565b925092509250611c4b8282611e92565b5090949350505050565b600154600160a01b900460ff1661040457604051638dfc202b60e01b815260040160405180910390fd5b60008082516001600160401b03811115611c9b57611c9b612555565b604051908082528060200260200182016040528015611cc4578160200160208202803683370190505b50905060005b8351811015611d1a57611cf5848281518110611ce857611ce861282f565b6020026020010151611f4f565b828281518110611d0757611d0761282f565b6020908102919091010152600101611cca565b5080604051602001611d2c9190612c33565b60405160208183030381529060405280519060200120915050919050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b606060ff8314611db457611dad83611fb0565b9050610509565b818054611dc090612c69565b80601f0160208091040260200160405190810160405280929190818152602001828054611dec90612c69565b8015611e395780601f10611e0e57610100808354040283529160200191611e39565b820191906000526020600020905b815481529060010190602001808311611e1c57829003601f168201915b50505050509050610509565b60008060008351604103611e7f5760208401516040850151606086015160001a611e7188828585611fef565b955095509550505050611e8b565b50508151600091506002905b9250925092565b6000826003811115611ea657611ea6612ca3565b03611eaf575050565b6001826003811115611ec357611ec3612ca3565b03611ee15760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611ef557611ef5612ca3565b03611f165760405163fce698f760e01b815260048101829052602401610555565b6003826003811115611f2a57611f2a612ca3565b03611f4b576040516335e2f38360e21b815260048101829052602401610555565b5050565b6000807f80ad7e1b04ee6d994a125f4714ca0720908bd80ed16063ec8aee4b88e9253e2d8360000151846020015180519060200120604051602001611a00939291909283526001600160a01b03919091166020830152604082015260600190565b60606000611fbd836120be565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a084111561202a57506000915060039050826120b4565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa15801561207e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166120aa575060009250600191508290506120b4565b9250600091508190505b9450945094915050565b600060ff8216601f81111561050957604051632cd44ac360e21b815260040160405180910390fd5b6000602082840312156120f857600080fd5b5035919050565b60006020828403121561211157600080fd5b81356001600160401b0381111561212757600080fd5b820160c0818503121561213957600080fd5b9392505050565b60005b8381101561215b578181015183820152602001612143565b50506000910152565b6000815180845261217c816020860160208601612140565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e060208401526121b160e084018a612164565b83810360408501526121c3818a612164565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b81811015612217578351835292840192918401916001016121fb565b50909c9b505050505050505050505050565b6020815260006121396020830184612164565b60008083601f84011261224e57600080fd5b5081356001600160401b0381111561226557600080fd5b6020830191508360208260051b850101111561228057600080fd5b9250929050565b600080600080600080606087890312156122a057600080fd5b86356001600160401b03808211156122b757600080fd5b6122c38a838b0161223c565b909850965060208901359150808211156122dc57600080fd5b6122e88a838b0161223c565b9096509450604089013591508082111561230157600080fd5b5061230e89828a0161223c565b979a9699509497509295939492505050565b80356001600160a01b038116811461233757600080fd5b919050565b60006020828403121561234e57600080fd5b61213982612320565b6000808335601e1984360301811261236e57600080fd5b83016020810192503590506001600160401b0381111561238d57600080fd5b80360382131561228057600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561247657858403601f19018a52823536899003605e19018112612404578283fd5b880160606001600160a01b0361241983612320565b16865261242887830183612357565b828989015261243a838901828461239c565b92505050604061244c81840184612357565b93508783038289015261246083858361239c565b9d89019d975050509386019350506001016123df565b509198975050505050505050565b6020815260006001600160a01b038061249c85612320565b166020840152806124af60208601612320565b16604084015250604083013560608301526060830135601e198436030181126124d757600080fd5b83016020810190356001600160401b038111156124f357600080fd5b8060051b360382131561250557600080fd5b60c0608085015261251a60e0850182846123c5565b915050608084013560a084015261253460a0850185612357565b848303601f190160c086015261254b83828461239c565b9695505050505050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b038111828210171561258d5761258d612555565b60405290565b60405160c081016001600160401b038111828210171561258d5761258d612555565b604051601f8201601f191681016001600160401b03811182821017156125dd576125dd612555565b604052919050565b60006001600160401b038211156125fe576125fe612555565b5060051b60200190565b60006001600160401b0382111561262157612621612555565b50601f01601f191660200190565b600082601f83011261264057600080fd5b813561265361264e82612608565b6125b5565b81815284602083860101111561266857600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f83011261269657600080fd5b813560206126a661264e836125e5565b82815260059290921b840181019181810190868411156126c557600080fd5b8286015b848110156127745780356001600160401b03808211156126e95760008081fd5b908801906060828b03601f19018113156127035760008081fd5b61270b61256b565b612716888501612320565b81526040808501358481111561272c5760008081fd5b61273a8e8b8389010161262f565b838b0152509184013591838311156127525760008081fd5b6127608d8a8588010161262f565b9082015286525050509183019183016126c9565b509695505050505050565b600060c0828403121561279157600080fd5b612799612593565b90506127a482612320565b81526127b260208301612320565b60208201526040820135604082015260608201356001600160401b03808211156127db57600080fd5b6127e785838601612685565b60608401526080840135608084015260a084013591508082111561280a57600080fd5b506128178482850161262f565b60a08301525092915050565b6000610509368361277f565b634e487b7160e01b600052603260045260246000fd5b6000808335601e1984360301811261285c57600080fd5b8301803591506001600160401b0382111561287657600080fd5b60200191503681900382131561228057600080fd5b6000602080838503121561289e57600080fd5b82356001600160401b03808211156128b557600080fd5b818501915085601f8301126128c957600080fd5b81356128d761264e826125e5565b81815260059190911b830184019084810190888311156128f657600080fd5b8585015b8381101561292e578035858111156129125760008081fd5b6129208b89838a010161277f565b8452509186019186016128fa565b5098975050505050505050565b8281526040602082015260006129546040830184612164565b949350505050565b60006020828403121561296e57600080fd5b81516001600160e01b03198116811461213957600080fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561050957610509612986565b8082018082111561050957610509612986565b60e0815260006129d560e083018b612164565b82810360208401526129e7818b612164565b90508860408401528281036060840152612a0281888a61239c565b608084019690965250506001600160a01b0392831660a0820152911660c09091015295945050505050565b838152604060208201526000612a4760408301848661239c565b95945050505050565b60006020808385031215612a6357600080fd5b82516001600160401b0380821115612a7a57600080fd5b818501915085601f830112612a8e57600080fd5b8151612a9c61264e826125e5565b81815260059190911b83018401908481019088831115612abb57600080fd5b8585015b8381101561292e57805185811115612ad75760008081fd5b8601603f81018b13612ae95760008081fd5b878101516040612afb61264e83612608565b8281528d82848601011115612b105760008081fd5b612b1f838c8301848701612140565b8652505050918601918601612abf565b600081612b3e57612b3e612986565b506000190190565b602080825282516001600160a01b0390811683830152838201518116604080850191909152808501516060808601919091528086015160c06080870152805160e0870181905260009594610100600583901b8901810195919493870193919290890190885b81811015612c055760ff198b8903018352855187815116895289810151858b8b0152612bd9868b0182612164565b918701518a83038b890152919050612bf18183612164565b995050509488019491880191600101612bab565b50505050505050608085015160a085015260a08501519150601f198482030160c0850152612a478183612164565b815160009082906020808601845b83811015612c5d57815185529382019390820190600101612c41565b50929695505050505050565b600181811c90821680612c7d57607f821691505b602082108103612c9d57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052602160045260246000fdfea2646970667358221220ca409e8c9582544b3b8d8c05ed7b77fb8b148a77f098b1aea58f1517227de31d64736f6c634300081700338b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f",thn={};Ue(thn,{abi:()=>nhn,bytecode:()=>rhn});nhn=[{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]}],rhn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212204f453c45fd8890597438ba3740ed042994be373737c9bd8ac833ff249df3eaab64736f6c63430008170033",ihn={};Ue(ihn,{abi:()=>ahn,bytecode:()=>ohn});ahn=[{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],ohn="0x",IX={};Ue(IX,{abi:()=>shn,bytecode:()=>chn});shn=[{type:"constructor",inputs:[{name:"implementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"fallback",stateMutability:"payable"},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]}],chn="0x60806040526040516103f03803806103f08339810160408190526100229161025e565b61002c8282610033565b5050610341565b61003c82610091565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a280511561008557610080828261010c565b505050565b61008d61017f565b5050565b806001600160a01b03163b5f036100cb57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60605f80846001600160a01b0316846040516101289190610326565b5f60405180830381855af49150503d805f8114610160576040519150601f19603f3d011682016040523d82523d5f602084013e610165565b606091505b5090925090506101768583836101a0565b95945050505050565b341561019e5760405163b398979f60e01b815260040160405180910390fd5b565b6060826101b5576101b0826101ff565b6101f8565b81511580156101cc57506001600160a01b0384163b155b156101f557604051639996b31560e01b81526001600160a01b03851660048201526024016100c2565b50805b9392505050565b80511561020f5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b634e487b7160e01b5f52604160045260245ffd5b5f5b8381101561025657818101518382015260200161023e565b50505f910152565b5f806040838503121561026f575f80fd5b82516001600160a01b0381168114610285575f80fd5b60208401519092506001600160401b03808211156102a1575f80fd5b818501915085601f8301126102b4575f80fd5b8151818111156102c6576102c6610228565b604051601f8201601f19908116603f011681019083821181831017156102ee576102ee610228565b81604052828152886020848701011115610306575f80fd5b61031783602083016020880161023c565b80955050505050509250929050565b5f825161033781846020870161023c565b9190910192915050565b60a38061034d5f395ff3fe6080604052600a600c565b005b60186014601a565b6050565b565b5f604b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b365f80375f80365f845af43d5f803e8080156069573d5ff35b3d5ffdfea2646970667358221220fd2cc92935c943d341edacaf5318a0b9ab0185ce62ef72e95ab393ef358730c464736f6c63430008170033",lhn={};Ue(lhn,{abi:()=>uhn,bytecode:()=>fhn});uhn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"dataStart_",type:"uint256",internalType:"uint256"},{name:"value_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"}],fhn="0x608060405234801561001057600080fd5b506106dc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046104a2565b50505050505050505050565b005b6100766100863660046104a2565b6100b5565b61009e61009936600461056f565b610198565b6040516100ac9291906105b1565b60405180910390f35b856100c1816000610265565b6101125760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610123816000610265565b61017d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610109565b5061018a8c8c898961027c565b505050505050505050505050565b6000606060218310156102005760405162461bcd60e51b815260206004820152602a60248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d6044820152697465726d732d73697a6560b01b6064820152608401610109565b61020e602060008587610608565b61021791610632565b91506102268360208187610608565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250949792965091945050505050565b6001600160f81b0319828116908216145b92915050565b6000606036600061028d86866103d6565b93509350505061029d8888610198565b80519195509350816102af8287610650565b11156103155760405162461bcd60e51b815260206004820152602f60248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d60448201526e0c6c2d8d8c8c2e8c25ad8cadccee8d608b1b6064820152608401610109565b61036e8386846103258583610650565b9261033293929190610608565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250889250610427915050565b6103cb5760405162461bcd60e51b815260206004820152602860248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d60448201526763616c6c6461746160c01b6064820152608401610109565b505050505050505050565b60008036816103e86014828789610608565b6103f191610671565b60601c9350610404603460148789610608565b61040d91610632565b925061041c8560348189610608565b949793965094505050565b8051602091820120825192909101919091201490565b60008083601f84011261044f57600080fd5b50813567ffffffffffffffff81111561046757600080fd5b60208301915083602082850101111561047f57600080fd5b9250929050565b80356001600160a01b038116811461049d57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156104c157600080fd5b8a3567ffffffffffffffff808211156104d957600080fd5b6104e58e838f0161043d565b909c509a5060208d01359150808211156104fe57600080fd5b61050a8e838f0161043d565b909a50985060408d0135975060608d013591508082111561052a57600080fd5b506105378d828e0161043d565b90965094505060808b0135925061055060a08c01610486565b915061055e60c08c01610486565b90509295989b9194979a5092959850565b6000806020838503121561058257600080fd5b823567ffffffffffffffff81111561059957600080fd5b6105a58582860161043d565b90969095509350505050565b8281526000602060406020840152835180604085015260005b818110156105e6578581018301518582016060015282016105ca565b506000606082860101526060601f19601f830116850101925050509392505050565b6000808585111561061857600080fd5b8386111561062557600080fd5b5050820193919092039150565b8035602083101561027657600019602084900360031b1b1692915050565b8082018082111561027657634e487b7160e01b600052601160045260246000fd5b6bffffffffffffffffffffffff19813581811691601485101561069e5780818660140360031b1b83161692505b50509291505056fea2646970667358221220040ece6946150f16c5413920be7d1b9c5d49d2aae2b6945d7da6faa6f92f5ef664736f6c63430008170033",dhn={};Ue(dhn,{abi:()=>phn,bytecode:()=>hhn});phn=[],hhn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220e387e66c46ba5a334fec27a4edf89a8be9952b587b8297dbf10cb57e8c1726d964736f6c63430008170033",mhn={};Ue(mhn,{abi:()=>yhn,bytecode:()=>bhn});yhn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedContract_",type:"address",internalType:"address"},{name:"maxTokens_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"spentMap",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],bhn="0x608060405234801561001057600080fd5b5061081e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780639dd5d9ab14610083578063a145832a146100be578063b99deb0e146100d1578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046105c3565b50505050505050505050565b005b6100ab610091366004610690565b600060208181529281526040808220909352908152205481565b6040519081526020015b60405180910390f35b6100816100cc3660046105c3565b610103565b6100e46100df3660046106ba565b610247565b604080516001600160a01b0390931683526020830191909152016100b5565b8561010f8160006102df565b6101605760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101718160006102df565b6101cb5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610157565b506000806101dc8e8e8b8b8b6102f6565b9150915086856001600160a01b0316336001600160a01b03167fc026e493323d526061a052b5dd562495120e2f648797a48be61966d3a6beec8d858560405161022f929190918252602082015260400190565b60405180910390a45050505050505050505050505050565b600080603483146102a15760405162461bcd60e51b815260206004820152603060248201526000805160206107c983398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b6064820152608401610157565b6102af6014600085876106fc565b6102b891610726565b60601c91506102ca83601481876106fc565b6102d39161075b565b60001c90509250929050565b6001600160f81b0319828116908216145b92915050565b6000806000366000610308888861050d565b9295509350909150506044811461036c5760405162461bcd60e51b815260206004820152603460248201526000805160206107c98339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b6064820152608401610157565b60006103788b8b610247565b965090506001600160a01b03808216908516146103da5760405162461bcd60e51b815260206004820152602c60248201526000805160206107c983398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b6064820152608401610157565b63a9059cbb60e01b6103f06004600085876106fc565b6103f991610779565b6001600160e01b031916146104515760405162461bcd60e51b815260206004820152602a60248201526000805160206107c98339815191526044820152691b1a590b5b595d1a1bd960b21b6064820152608401610157565b61045f6044602484866106fc565b6104689161075b565b336000908152602081815260408083208b8452909152812080549091906104909084906107a7565b9250508190559450858511156104ff5760405162461bcd60e51b815260206004820152602e60248201527f45524332305472616e73666572416d6f756e74456e666f726365723a616c6c6f60448201526d1dd85b98d94b595e18d95959195960921b6064820152608401610157565b505050509550959350505050565b600080368161051f60148287896106fc565b61052891610726565b60601c935061053b6034601487896106fc565b6105449161075b565b925061055385603481896106fc565b949793965094505050565b60008083601f84011261057057600080fd5b50813567ffffffffffffffff81111561058857600080fd5b6020830191508360208285010111156105a057600080fd5b9250929050565b80356001600160a01b03811681146105be57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156105e257600080fd5b8a3567ffffffffffffffff808211156105fa57600080fd5b6106068e838f0161055e565b909c509a5060208d013591508082111561061f57600080fd5b61062b8e838f0161055e565b909a50985060408d0135975060608d013591508082111561064b57600080fd5b506106588d828e0161055e565b90965094505060808b0135925061067160a08c016105a7565b915061067f60c08c016105a7565b90509295989b9194979a5092959850565b600080604083850312156106a357600080fd5b6106ac836105a7565b946020939093013593505050565b600080602083850312156106cd57600080fd5b823567ffffffffffffffff8111156106e457600080fd5b6106f08582860161055e565b90969095509350505050565b6000808585111561070c57600080fd5b8386111561071957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156107535780818660140360031b1b83161692505b505092915050565b803560208310156102f057600019602084900360031b1b1692915050565b6001600160e01b031981358181169160048510156107535760049490940360031b84901b1690921692915050565b808201808211156102f057634e487b7160e01b600052601160045260246000fdfe45524332305472616e73666572416d6f756e74456e666f726365723a696e7661a2646970667358221220936350618a5001f34797bf97c50cd107709e028340c60e13df9fe9a2d10d7fb364736f6c63430008170033",ghn={};Ue(ghn,{abi:()=>whn,bytecode:()=>vhn});whn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],vhn="0x608060405234801561001057600080fd5b50610d12806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610a20565b50505050505050505050565b005b6100b16100ac366004610aed565b61018e565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df366004610b47565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610a20565b610265565b61016461015f366004610b71565b61034a565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a081018352815481526001820154938101939093526002810154918301829052600381015460608401526004015460808301528291829115610203576101f781610416565b9350935093505061025b565b6000806000610212898961034a565b9350935093505060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061024f81610416565b97509750975050505050505b9450945094915050565b856102718160006104aa565b6102c25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102d38160006104aa565b61032d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102b9565b5061033c8c8c898989886104c1565b505050505050505050505050565b6000808080607485146103a65760405162461bcd60e51b81526020600482015260306024820152600080516020610cbd83398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016102b9565b6103b4601460008789610bb3565b6103bd91610bdd565b60601c93506103d0603460148789610bb3565b6103d991610c12565b92506103e9605460348789610bb3565b6103f291610c12565b9150610402607460548789610bb3565b61040b91610c12565b939692955090935050565b60008060008360400151421015610435575060009150819050806104a3565b602084015160408501516104499042610c46565b6104539190610c59565b61045e906001610c7b565b90508084606001511415915060008261047b57846080015161047e565b60005b90508085600001511161049257600061049f565b845161049f908290610c46565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60003660006104d0878761096a565b929550935090915050604481146105345760405162461bcd60e51b81526020600482015260346024820152600080516020610cbd8339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b60648201526084016102b9565b6000806000806105448d8d61034a565b9350935093509350866001600160a01b0316846001600160a01b0316146105b05760405162461bcd60e51b815260206004820152602c6024820152600080516020610cbd83398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b60648201526084016102b9565b63a9059cbb60e01b6105c660046000888a610bb3565b6105cf91610c8e565b6001600160e01b031916146106275760405162461bcd60e51b815260206004820152602a6024820152600080516020610cbd8339815191526044820152691b1a590b5b595d1a1bd960b21b60648201526084016102b9565b336000908152602081815260408083208c8452909152812060028101549091036107e157600082116106a55760405162461bcd60e51b81526020600482015260336024820152600080516020610cbd8339815191526044820152726c69642d7a65726f2d73746172742d6461746560681b60648201526084016102b9565b600084116107025760405162461bcd60e51b81526020600482015260366024820152600080516020610cbd8339815191526044820152751b1a590b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d60521b60648201526084016102b9565b600083116107665760405162461bcd60e51b81526020600482015260386024820152600080516020610cbd83398151915260448201527f6c69642d7a65726f2d706572696f642d6475726174696f6e000000000000000060648201526084016102b9565b814210156107cf5760405162461bcd60e51b815260206004820152603060248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e60448201526f1cd9995c8b5b9bdd0b5cdd185c9d195960821b60648201526084016102b9565b83815560018101839055600281018290555b600080600061082c846040518060a001604052908160008201548152602001600182015481526020016002820154815260200160038201548152602001600482015481525050610416565b919450925090506000610843604460248c8e610bb3565b61084c91610c12565b9050838111156108bb5760405162461bcd60e51b815260206004820152603460248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e6044820152731cd9995c8b585b5bdd5b9d0b595e18d95959195960621b60648201526084016102b9565b82156108d05760038501829055600060048601555b808560040160008282546108e49190610c7b565b90915550506004850154604080516001600160a01b038c81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a4505050505050505050505050505050505050565b600080368161097c6014828789610bb3565b61098591610bdd565b60601c9350610998603460148789610bb3565b6109a191610c12565b92506109b08560348189610bb3565b949793965094505050565b60008083601f8401126109cd57600080fd5b50813567ffffffffffffffff8111156109e557600080fd5b6020830191508360208285010111156109fd57600080fd5b9250929050565b80356001600160a01b0381168114610a1b57600080fd5b919050565b60008060008060008060008060008060e08b8d031215610a3f57600080fd5b8a3567ffffffffffffffff80821115610a5757600080fd5b610a638e838f016109bb565b909c509a5060208d0135915080821115610a7c57600080fd5b610a888e838f016109bb565b909a50985060408d0135975060608d0135915080821115610aa857600080fd5b50610ab58d828e016109bb565b90965094505060808b01359250610ace60a08c01610a04565b9150610adc60c08c01610a04565b90509295989b9194979a5092959850565b60008060008060608587031215610b0357600080fd5b84359350610b1360208601610a04565b9250604085013567ffffffffffffffff811115610b2f57600080fd5b610b3b878288016109bb565b95989497509550505050565b60008060408385031215610b5a57600080fd5b610b6383610a04565b946020939093013593505050565b60008060208385031215610b8457600080fd5b823567ffffffffffffffff811115610b9b57600080fd5b610ba7858286016109bb565b90969095509350505050565b60008085851115610bc357600080fd5b83861115610bd057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610c0a5780818660140360031b1b83161692505b505092915050565b803560208310156104bb57600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156104bb576104bb610c30565b600082610c7657634e487b7160e01b600052601260045260246000fd5b500490565b808201808211156104bb576104bb610c30565b6001600160e01b03198135818116916004851015610c0a5760049490940360031b84901b169092169291505056fe4552433230506572696f645472616e73666572456e666f726365723a696e7661a264697066735822122078259b929dc2fea71614ebe238bd74e88ff3ea3542e0d11a18122c300122d3f664736f6c63430008170033",Ehn={};Ue(Ehn,{abi:()=>xhn,bytecode:()=>Ahn});xhn=[{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],Ahn="0x",_hn={};Ue(_hn,{abi:()=>Thn,bytecode:()=>Shn});Thn=[],Shn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ac220b672ee89e055a56513b249d66df06ecb6da367b913fa0b7b7f3f838634764736f6c63430008170033",Chn={};Ue(Chn,{abi:()=>Ihn,bytecode:()=>Rhn});Ihn=[{type:"event",name:"AdminChanged",inputs:[{name:"previousAdmin",type:"address",indexed:!1,internalType:"address"},{name:"newAdmin",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeaconUpgraded",inputs:[{name:"beacon",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"ERC1967InvalidAdmin",inputs:[{name:"admin",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidBeacon",inputs:[{name:"beacon",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]}],Rhn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220bf999523a2735d33a4f148563c82738a41cc465257ff9df9a8912b831ab5af9564736f6c63430008170033",Ohn={};Ue(Ohn,{abi:()=>Nhn,bytecode:()=>Phn});Nhn=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"InvalidEIP712NameLength",inputs:[]},{type:"error",name:"InvalidEIP712VersionLength",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UnauthorizedCallContext",inputs:[]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],Phn="0x6101c060405230610160523480156200001757600080fd5b50604051620031b0380380620031b08339810160408190526200003a91620002b3565b81816040518060400160405280601981526020017f4549503737303253746174656c65737344656c654761746f7200000000000000815250604051806040016040528060018152602001603160f81b8152508181620000a46000836200021560201b90919060201c565b61012052620000b581600162000215565b61014052815160208084019190912060e052815190820120610100524660a0526200014360e05161010051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c0528151601f10156200017057604051631ad9af3960e21b815260040160405180910390fd5b601f8151111562000194576040516309203c9d60e41b815260040160405180910390fd5b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a2505050505050620004db565b600060208351101562000235576200022d836200024e565b905062000248565b8162000242848262000399565b5060ff90505b92915050565b600080829050601f8151111562000285578260405163305a27a960e01b81526004016200027c919062000465565b60405180910390fd5b80516200029282620004b6565b179392505050565b6001600160a01b0381168114620002b057600080fd5b50565b60008060408385031215620002c757600080fd5b8251620002d4816200029a565b6020840151909250620002e7816200029a565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200031d57607f821691505b6020821081036200033e57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111562000394576000816000526020600020601f850160051c810160208610156200036f5750805b601f850160051c820191505b8181101562000390578281556001016200037b565b5050505b505050565b81516001600160401b03811115620003b557620003b5620002f2565b620003cd81620003c6845462000308565b8462000344565b602080601f831160018114620004055760008415620003ec5750858301515b600019600386901b1c1916600185901b17855562000390565b600085815260208120601f198616915b82811015620004365788860151825594840194600190910190840162000415565b5085821015620004555787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620004955785810183015185820160400152820162000477565b506000604082860101526040601f19601f8301168501019250505092915050565b805160208083015191908110156200033e5760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051612bb1620005ff60003960008181610471015281816107f7015281816108c20152818161094001528181610aa401528181610b9a01528181610bf201528181610c7401528181610ce601528181610e1001528181610e8f01528181611015015281816112cd01526115ce01526000818161057a015281816109a301528181610a2601528181610b0701528181610ef201526110590152600081816106190152818161073a015281816107960152818161083f01528181610b4601528181610da7015261162101526000611960015260006119330152600061174c015260006117240152600061167f015260006116a9015260006116d30152612bb16000f3fe6080604052600436106101c65760003560e01c806384b0196e116100f7578063d03c791411610095578063ea4d3c9b11610064578063ea4d3c9b14610568578063ed8101b51461059c578063f23a6e61146105bc578063ffa1ad74146105dc57600080fd5b8063d03c791414610500578063d087d28814610520578063d691c96414610535578063e9ae5c531461055557600080fd5b8063b0d691fe116100d1578063b0d691fe1461045f578063bc197c81146104ab578063c399ec88146104cb578063cef6d209146104e057600080fd5b806384b0196e146103b4578063a3f4df7e146103dc578063acb8cc491461043257600080fd5b80633ed01015116101645780634a58db191161013e5780634a58db19146103645780635c1c6dcd1461036c5780637f07bfdc1461037f57806383ebb7711461039f57600080fd5b80633ed0101514610302578063445140b814610324578063499340471461034457600080fd5b80631626ba7e116101a05780631626ba7e1461026e57806319822f7c1461028e5780632b3afd99146102ae5780633e1b0812146102e257600080fd5b806301ffc9a7146101d257806306394d6714610207578063150b7a021461023557600080fd5b366101cd57005b600080fd5b3480156101de57600080fd5b506101f26101ed366004611fb2565b61060d565b60405190151581526020015b60405180910390f35b34801561021357600080fd5b50610227610222366004611ff5565b6106f9565b6040519081526020016101fe565b34801561024157600080fd5b506102556102503660046120fb565b61072e565b6040516001600160e01b031990911681526020016101fe565b34801561027a57600080fd5b506102556102893660046121ae565b61078a565b34801561029a57600080fd5b506102276102a93660046121f9565b6107ea565b3480156102ba57600080fd5b506102277fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156102ee57600080fd5b506102276102fd366004612246565b61089b565b34801561030e57600080fd5b5061032261031d36600461226f565b610935565b005b34801561033057600080fd5b506101f261033f3660046122a9565b610a0d565b34801561035057600080fd5b5061032261035f36600461226f565b610a99565b610322610b3c565b61032261037a3660046122c2565b610be7565b34801561038b57600080fd5b5061032261039a3660046122fc565b610c69565b3480156103ab57600080fd5b50610227610d46565b3480156103c057600080fd5b506103c9610d55565b6040516101fe979695949392919061236e565b3480156103e857600080fd5b506104256040518060400160405280601981526020017f4549503737303253746174656c65737344656c654761746f720000000000000081525081565b6040516101fe9190612407565b34801561043e57600080fd5b50610425604051806040016040528060018152602001603160f81b81525081565b34801561046b57600080fd5b506104937f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016101fe565b3480156104b757600080fd5b506102556104c6366004612499565b610d9b565b3480156104d757600080fd5b50610227610df8565b3480156104ec57600080fd5b506103226104fb36600461258a565b610e84565b34801561050c57600080fd5b506101f261051b3660046122a9565b610f6b565b34801561052c57600080fd5b50610227610ff6565b6105486105433660046121ae565b61104c565b6040516101fe9190612623565b6103226105633660046121ae565b6112c2565b34801561057457600080fd5b506104937f000000000000000000000000000000000000000000000000000000000000000081565b3480156105a857600080fd5b506102276105b7366004611ff5565b6114d3565b3480156105c857600080fd5b506102556105d7366004612687565b611615565b3480156105e857600080fd5b50610425604051806040016040528060058152602001640312e332e360dc1b81525081565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361065857604051634f81d01360e11b815260040160405180910390fd5b6001600160e01b031982166335a4725960e21b148061068757506001600160e01b03198216630a85bd0160e11b145b806106a257506001600160e01b03198216630271189760e51b145b806106bd57506001600160e01b031982166301ffc9a760e01b145b806106d857506001600160e01b03198216630b135d3f60e11b145b806106f357506001600160e01b03198216633992254760e01b145b92915050565b60006106f3610706611672565b61070f846114d3565b60405161190160f01b8152600281019290925260228201526042902090565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361077957604051634f81d01360e11b815260040160405180910390fd5b50630a85bd0160e11b949350505050565b60006001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001630036107d557604051634f81d01360e11b815260040160405180910390fd5b6107e084848461179d565b90505b9392505050565b6000336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461083557604051636b31ba1560e11b815260040160405180910390fd5b6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361087e57604051634f81d01360e11b815260040160405180910390fd5b6108908461088b866106f9565b611816565b90506107e38261185e565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610911573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f391906126ef565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061096e5750333014155b1561098c57604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed01015906109d8908490600401612837565b600060405180830381600087803b1580156109f257600080fd5b505af1158015610a06573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610a75573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f39190612908565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ad25750333014155b15610af057604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906349934047906109d8908490600401612837565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610b8557604051634f81d01360e11b815260040160405180910390fd5b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b1580156109f257600080fd5b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610c205750333014155b15610c3e57604051630796d94560e01b815260040160405180910390fd5b610c65610c4e602083018361292a565b6020830135610c606040850185612947565b6118f6565b5050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ca25750333014155b15610cc057604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b158015610d2a57600080fd5b505af1158015610d3e573d6000803e3d6000fd5b505050505050565b6000610d50611672565b905090565b600060608060008060006060610d6961192c565b610d71611959565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b60006001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610de657604051634f81d01360e11b815260040160405180910390fd5b5063bc197c8160e01b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015610e60573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d5091906126ef565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ebd5750333014155b15610edb57604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d20990610f31908990899089908990899089906004016129ee565b600060405180830381600087803b158015610f4b57600080fd5b505af1158015610f5f573d6000803e3d6000fd5b50505050505050505050565b600081600881901b603082901b605083901b610f878486611986565b80610f9b5750610f9b84600160f81b611986565b8015610fc15750610fad836000611986565b80610fc15750610fc183600160f81b611986565b8015610fd557506001600160e01b03198216155b8015610fec575069ffffffffffffffffffff198116155b9695505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401610e43565b6060336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461109757604051630692ce8160e21b815260040160405180910390fd5b83600881901b6110ab82600160f81b611986565b15611131573660006110bd8787611998565b90925090506110cd836000611986565b156110e3576110dc8282611a31565b945061112a565b6110f183600160f81b611986565b15611100576110dc8282611af2565b6040516308c3ee0360e11b81526001600160f81b0319841660048201526024015b60405180910390fd5b50506112b9565b61113c826000611986565b15611294576000803660006111518989611c1f565b6040805160018082528183019092529498509296509094509250816020015b606081526020019060019003908161117057905050965060006111938682611986565b156111c7576111a4858585856118f6565b886000815181106111b7576111b7612a57565b602002602001018190525061128a565b6111d586600160f81b611986565b15611265576111e685858585611c70565b896000815181106111f9576111f9612a57565b6020908102919091010152905080611260577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008960008151811061124157611241612a57565b6020026020010151604051611257929190612a6d565b60405180910390a15b61128a565b6040516308c3ee0360e11b81526001600160f81b031987166004820152602401611121565b50505050506112b9565b604051632e5bf3f960e21b81526001600160f81b031983166004820152602401611121565b50509392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906112fb5750333014155b1561131957604051630796d94560e01b815260040160405180910390fd5b82600881901b61132d82600160f81b611986565b156113885736600061133f8686611998565b909250905061134f836000611986565b156113645761135e8282611a31565b50611381565b61137283600160f81b611986565b156111005761135e8282611af2565b5050610a06565b611393826000611986565b15611294576000803660006113a88888611c1f565b93509350935093506113be85600060f81b611986565b156113d5576113cf848484846118f6565b506114ca565b6113e385600160f81b611986565b156114a557604080516001808252818301909252600091816020015b60608152602001906001900390816113ff579050509050600061142486868686611c70565b8360008151811061143757611437612a57565b602090810291909101015290508061149e577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008360008151811061147f5761147f612a57565b6020026020010151604051611495929190612a6d565b60405180910390a15b50506114ca565b6040516308c3ee0360e11b81526001600160f81b031986166004820152602401611121565b50505050610a06565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc18611503602084018461292a565b60208401356115156040860186612947565b604051611523929190612a86565b6040519081900390206115396060870187612947565b604051611547929190612a86565b604051908190039020608087013560a088013560c089013561156c60e08b018b612947565b60405161157a929190612a86565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361166057604051634f81d01360e11b815260040160405180910390fd5b5063f23a6e6160e01b95945050505050565b6000306001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480156116cb57507f000000000000000000000000000000000000000000000000000000000000000046145b156116f557507f000000000000000000000000000000000000000000000000000000000000000090565b610d50604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b6000306001600160a01b03166117e98585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250611ca192505050565b6001600160a01b0316036118055750630b135d3f60e11b6107e3565b506001600160e01b03199392505050565b6000806118308361182b610100870187612947565b61179d565b90506374eca2c160e11b6001600160e01b03198216016118545760009150506106f3565b5060019392505050565b80156118f357604051600090339060001990849084818181858888f193505050503d80600081146118ab576040519150601f19603f3d011682016040523d82523d6000602084013e6118b0565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a2505b50565b60405181838237600038838387895af1611913573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b6060610d507f00000000000000000000000000000000000000000000000000000000000000006000611ccb565b6060610d507f00000000000000000000000000000000000000000000000000000000000000006001611ccb565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156119d05763ba597e7e6000526004601cfd5b8315611a27578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715611a1e5763ba597e7e6000526004601cfd5b505050826119da575b5050509250929050565b606081806001600160401b03811115611a4c57611a4c612046565b604051908082528060200260200182016040528015611a7f57816020015b6060815260200190600190039081611a6a5790505b50915060005b81811015611aea5736858583818110611aa057611aa0612a57565b9050602002810190611ab29190612a96565b9050611ac4610c4e602083018361292a565b848381518110611ad657611ad6612a57565b602090810291909101015250600101611a85565b505092915050565b606081806001600160401b03811115611b0d57611b0d612046565b604051908082528060200260200182016040528015611b4057816020015b6060815260200190600190039081611b2b5790505b50915060005b81811015611aea5736858583818110611b6157611b61612a57565b9050602002810190611b739190612a96565b90506000611b9e611b87602084018461292a565b6020840135611b996040860186612947565b611c70565b868581518110611bb057611bb0612a57565b6020908102919091010152905080611c15577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110611bf657611bf6612a57565b6020026020010151604051611c0c929190612a6d565b60405180910390a15b5050600101611b46565b6000803681611c316014828789612ab6565b611c3a91612ae0565b60601c9350611c4d603460148789612ab6565b611c5691612b13565b9250611c658560348189612ab6565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080611cb18686611d76565b925092509250611cc18282611dc3565b5090949350505050565b606060ff8314611ce557611cde83611e7c565b90506106f3565b818054611cf190612b31565b80601f0160208091040260200160405190810160405280929190818152602001828054611d1d90612b31565b8015611d6a5780601f10611d3f57610100808354040283529160200191611d6a565b820191906000526020600020905b815481529060010190602001808311611d4d57829003601f168201915b505050505090506106f3565b60008060008351604103611db05760208401516040850151606086015160001a611da288828585611ebb565b955095509550505050611dbc565b50508151600091506002905b9250925092565b6000826003811115611dd757611dd7612b65565b03611de0575050565b6001826003811115611df457611df4612b65565b03611e125760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611e2657611e26612b65565b03611e475760405163fce698f760e01b815260048101829052602401611121565b6003826003811115611e5b57611e5b612b65565b03610c65576040516335e2f38360e21b815260048101829052602401611121565b60606000611e8983611f8a565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115611ef65750600091506003905082611f80565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa158015611f4a573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116611f7657506000925060019150829050611f80565b9250600091508190505b9450945094915050565b600060ff8216601f8111156106f357604051632cd44ac360e21b815260040160405180910390fd5b600060208284031215611fc457600080fd5b81356001600160e01b0319811681146107e357600080fd5b60006101208284031215611fef57600080fd5b50919050565b60006020828403121561200757600080fd5b81356001600160401b0381111561201d57600080fd5b61202984828501611fdc565b949350505050565b6001600160a01b03811681146118f357600080fd5b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b038111828210171561208457612084612046565b604052919050565b600082601f83011261209d57600080fd5b81356001600160401b038111156120b6576120b6612046565b6120c9601f8201601f191660200161205c565b8181528460208386010111156120de57600080fd5b816020850160208301376000918101602001919091529392505050565b6000806000806080858703121561211157600080fd5b843561211c81612031565b9350602085013561212c81612031565b92506040850135915060608501356001600160401b0381111561214e57600080fd5b61215a8782880161208c565b91505092959194509250565b60008083601f84011261217857600080fd5b5081356001600160401b0381111561218f57600080fd5b6020830191508360208285010111156121a757600080fd5b9250929050565b6000806000604084860312156121c357600080fd5b8335925060208401356001600160401b038111156121e057600080fd5b6121ec86828701612166565b9497909650939450505050565b60008060006060848603121561220e57600080fd5b83356001600160401b0381111561222457600080fd5b61223086828701611fdc565b9660208601359650604090950135949350505050565b60006020828403121561225857600080fd5b81356001600160c01b03811681146107e357600080fd5b60006020828403121561228157600080fd5b81356001600160401b0381111561229757600080fd5b820160c081850312156107e357600080fd5b6000602082840312156122bb57600080fd5b5035919050565b6000602082840312156122d457600080fd5b81356001600160401b038111156122ea57600080fd5b8201606081850312156107e357600080fd5b6000806040838503121561230f57600080fd5b823561231a81612031565b946020939093013593505050565b6000815180845260005b8181101561234e57602081850181015186830182015201612332565b506000602082860101526020601f19601f83011685010191505092915050565b60ff60f81b881681526000602060e0602084015261238f60e084018a612328565b83810360408501526123a1818a612328565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156123f5578351835292840192918401916001016123d9565b50909c9b505050505050505050505050565b6020815260006107e36020830184612328565b600082601f83011261242b57600080fd5b813560206001600160401b0382111561244657612446612046565b8160051b61245582820161205c565b928352848101820192828101908785111561246f57600080fd5b83870192505b8483101561248e57823582529183019190830190612475565b979650505050505050565b600080600080600060a086880312156124b157600080fd5b85356124bc81612031565b945060208601356124cc81612031565b935060408601356001600160401b03808211156124e857600080fd5b6124f489838a0161241a565b9450606088013591508082111561250a57600080fd5b61251689838a0161241a565b9350608088013591508082111561252c57600080fd5b506125398882890161208c565b9150509295509295909350565b60008083601f84011261255857600080fd5b5081356001600160401b0381111561256f57600080fd5b6020830191508360208260051b85010111156121a757600080fd5b600080600080600080606087890312156125a357600080fd5b86356001600160401b03808211156125ba57600080fd5b6125c68a838b01612546565b909850965060208901359150808211156125df57600080fd5b6125eb8a838b01612546565b9096509450604089013591508082111561260457600080fd5b5061261189828a01612546565b979a9699509497509295939492505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b8281101561267a57603f19888603018452612668858351612328565b9450928501929085019060010161264c565b5092979650505050505050565b600080600080600060a0868803121561269f57600080fd5b85356126aa81612031565b945060208601356126ba81612031565b9350604086013592506060860135915060808601356001600160401b038111156126e357600080fd5b6125398882890161208c565b60006020828403121561270157600080fd5b5051919050565b6000808335601e1984360301811261271f57600080fd5b83016020810192503590506001600160401b0381111561273e57600080fd5b8036038213156121a757600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561282957858403601f19018a52823536899003605e190181126127b5578283fd5b8801606081356127c481612031565b6001600160a01b031686526127db82880183612708565b82898901526127ed838901828461274d565b9250505060406127ff81840184612708565b93508783038289015261281383858361274d565b9d89019d97505050938601935050600101612790565b509198975050505050505050565b602081526000823561284881612031565b6001600160a01b039081166020848101919091528401359061286982612031565b80821660408501525050604083013560608301526060830135601e1984360301811261289457600080fd5b83016020810190356001600160401b038111156128b057600080fd5b8060051b36038213156128c257600080fd5b60c060808501526128d760e085018284612776565b915050608084013560a08401526128f160a0850185612708565b848303601f190160c0860152610fec83828461274d565b60006020828403121561291a57600080fd5b815180151581146107e357600080fd5b60006020828403121561293c57600080fd5b81356107e381612031565b6000808335601e1984360301811261295e57600080fd5b8301803591506001600160401b0382111561297857600080fd5b6020019150368190038213156121a757600080fd5b6000838385526020808601955060208560051b8301018460005b878110156129e157848303601f190189526129c28288612708565b6129cd85828461274d565b9a86019a94505050908301906001016129a7565b5090979650505050505050565b606081526000612a0260608301888a61298d565b8281036020848101919091528682528791810160005b88811015612a3457833582529282019290820190600101612a18565b508481036040860152612a4881878961298d565b9b9a5050505050505050505050565b634e487b7160e01b600052603260045260246000fd5b8281526040602082015260006107e06040830184612328565b8183823760009101908152919050565b60008235605e19833603018112612aac57600080fd5b9190910192915050565b60008085851115612ac657600080fd5b83861115612ad357600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015611aea5760149490940360031b84901b1690921692915050565b803560208310156106f357600019602084900360031b1b1692915050565b600181811c90821680612b4557607f821691505b602082108103611fef57634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fdfea26469706673582212202a8fc88ef923739742bc7ec1685cd9198a7251cfb58c7e873c821a7e716b2ca664736f6c63430008170033",khn={};Ue(khn,{abi:()=>Mhn,bytecode:()=>Bhn});Mhn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],Bhn="0x608060405234801561001057600080fd5b5061095e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780638678d6ef146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610677565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d33660046106f5565b50505050505050505050565b005b6100f46100ef3660046107c2565b61018d565b6040519081526020016100bc565b6100df6101103660046106f5565b6101a2565b6100f4610123366004610677565b60006020819052908152604090205481565b6101486101433660046107fe565b610353565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df6101883660046106f5565b610440565b600061019a84848461061d565b949350505050565b85600881901b6101b3816000610660565b6102125760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102208d8d610353565b509250925050600061023333848961061d565b60008181526001602052604090205490915060ff16156102ab5760405162461bcd60e51b815260206004820152602d60248201527f455243323042616c616e63654368616e6765456e666f726365723a656e666f7260448201526c18d95c8b5a5ccb5b1bd8dad959609a1b6064820152608401610209565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa15801561030c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103309190610840565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c05760405162461bcd60e51b815260206004820152602f60248201527f455243323042616c616e63654368616e6765456e666f726365723a696e76616c60448201526e0d2c85ae8cae4dae65ad8cadccee8d608b1b6064820152608401610209565b858560008181106103d3576103d3610859565b909101356001600160f81b031916151594506103f5905060156001878961086f565b6103fe91610899565b60601c925061041160296015878961086f565b61041a91610899565b60601c915061042c856029818961086f565b610435916108ce565b939692955090935050565b6000806000806104508e8e610353565b9350935093509350600061046533858a61061d565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104c5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e99190610840565b9050851561057c5760008281526020819052604090205461050b908490610902565b8110156105775760405162461bcd60e51b815260206004820152603460248201527f455243323042616c616e63654368616e6765456e666f726365723a65786365656044820152736465642d62616c616e63652d646563726561736560601b6064820152608401610209565b61060b565b600082815260208190526040902054610596908490610915565b81101561060b5760405162461bcd60e51b815260206004820152603860248201527f455243323042616c616e63654368616e6765456e666f726365723a696e73756660448201527f66696369656e742d62616c616e63652d696e63726561736500000000000000006064820152608401610209565b50505050505050505050505050505050565b604080516001600160a01b039485166020808301919091529390941684820152606080850192909252805180850390920182526080909301909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561068957600080fd5b5035919050565b60008083601f8401126106a257600080fd5b50813567ffffffffffffffff8111156106ba57600080fd5b6020830191508360208285010111156106d257600080fd5b9250929050565b80356001600160a01b03811681146106f057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561071457600080fd5b8a3567ffffffffffffffff8082111561072c57600080fd5b6107388e838f01610690565b909c509a5060208d013591508082111561075157600080fd5b61075d8e838f01610690565b909a50985060408d0135975060608d013591508082111561077d57600080fd5b5061078a8d828e01610690565b90965094505060808b013592506107a360a08c016106d9565b91506107b160c08c016106d9565b90509295989b9194979a5092959850565b6000806000606084860312156107d757600080fd5b6107e0846106d9565b92506107ee602085016106d9565b9150604084013590509250925092565b6000806020838503121561081157600080fd5b823567ffffffffffffffff81111561082857600080fd5b61083485828601610690565b90969095509350505050565b60006020828403121561085257600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561087f57600080fd5b8386111561088c57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108c65780818660140360031b1b83161692505b505092915050565b8035602083101561067157600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610671576106716108ec565b80820180821115610671576106716108ec56fea26469706673582212202ee065285e6d78b8f4f72189bef225cff106ed6fed2f250af767e847d4faa24364736f6c63430008170033",Dhn={};Ue(Dhn,{abi:()=>Lhn,bytecode:()=>Uhn});Lhn=[],Uhn="0x60556032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea26469706673582212201dfea0fb90d440a56b093020135bfa0529382b21cf5681ce6bf65b9ef384b15664736f6c63430008170033",Fhn={};Ue(Fhn,{abi:()=>Hhn,bytecode:()=>zhn});Hhn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_recipient",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],zhn="0x608060405234801561001057600080fd5b5061097c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780635f6f02e0146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610686565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610704565b50505050505050505050565b005b6100f46100ef3660046107d1565b61018d565b6040519081526020016100bc565b6100df610110366004610704565b6101a4565b6100f4610123366004610686565b60006020819052908152604090205481565b61014861014336600461081c565b610357565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df610188366004610704565b610445565b600061019b85858585610624565b95945050505050565b85600881901b6101b581600061066f565b6102145760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102228d8d610357565b50925092505060006102363384848a610624565b60008181526001602052604090205490915060ff16156102af5760405162461bcd60e51b815260206004820152602e60248201527f45524337323142616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b606482015260840161020b565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa158015610310573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610334919061085e565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c55760405162461bcd60e51b815260206004820152603060248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b606482015260840161020b565b858560008181106103d8576103d8610877565b909101356001600160f81b031916151594506103fa905060156001878961088d565b610403916108b7565b60601c925061041660296015878961088d565b61041f916108b7565b60601c9150610431856029818961088d565b61043a916108ec565b939692955090935050565b6000806000806104558e8e610357565b9350935093509350600061046b3385858b610624565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ef919061085e565b9050851561058357600082815260208190526040902054610511908490610920565b81101561057e5760405162461bcd60e51b815260206004820152603560248201527f45524337323142616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b606482015260840161020b565b610612565b60008281526020819052604090205461059d908490610933565b8110156106125760405162461bcd60e51b815260206004820152603960248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e63726561736500000000000000606482015260840161020b565b50505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152948616818301529290941660608301526080808301919091528351808303909101815260a0909101909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561069857600080fd5b5035919050565b60008083601f8401126106b157600080fd5b50813567ffffffffffffffff8111156106c957600080fd5b6020830191508360208285010111156106e157600080fd5b9250929050565b80356001600160a01b03811681146106ff57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561072357600080fd5b8a3567ffffffffffffffff8082111561073b57600080fd5b6107478e838f0161069f565b909c509a5060208d013591508082111561076057600080fd5b61076c8e838f0161069f565b909a50985060408d0135975060608d013591508082111561078c57600080fd5b506107998d828e0161069f565b90965094505060808b013592506107b260a08c016106e8565b91506107c060c08c016106e8565b90509295989b9194979a5092959850565b600080600080608085870312156107e757600080fd5b6107f0856106e8565b93506107fe602086016106e8565b925061080c604086016106e8565b9396929550929360600135925050565b6000806020838503121561082f57600080fd5b823567ffffffffffffffff81111561084657600080fd5b6108528582860161069f565b90969095509350505050565b60006020828403121561087057600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561089d57600080fd5b838611156108aa57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108e45780818660140360031b1b83161692505b505092915050565b8035602083101561068057600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156106805761068061090a565b808201808211156106805761068061090a56fea26469706673582212201a908643c89c30b103124ac1346de2de7964be6fc4c537dea357364db407b9ad64736f6c63430008170033",jhn={};Ue(jhn,{abi:()=>Ghn,bytecode:()=>Vhn});Ghn=[{type:"error",name:"ERC7579DecodingError",inputs:[]}],Vhn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220e31e42482ef7832f3e446f04f27415313e49db77c6e6717169033c8535b19d3764736f6c63430008170033",Khn={};Ue(Khn,{abi:()=>$hn,bytecode:()=>qhn});$hn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"permittedContract_",type:"address",internalType:"address"},{name:"permittedTokenId_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"}],qhn="0x608060405234801561001057600080fd5b50610821806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046105ea565b50505050505050505050565b005b6100766100863660046105ea565b6100c1565b61009e6100993660046106bd565b61047c565b604080516001600160a01b03909316835260208301919091520160405180910390f35b856100cd816000610521565b61011e5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61012f816000610521565b6101895760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610115565b506000806101978e8e61047c565b9150915060003660006101aa8c8c610538565b929550935090915050606481101561021b5760405162461bcd60e51b815260206004820152602e60248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d6360448201526d0c2d8d8c8c2e8c25ad8cadccee8d60931b6064820152608401610115565b6000808061022c84600481886106ff565b8101906102399190610729565b919450925090506001600160a01b038316158061025d57506001600160a01b038216155b156102b95760405162461bcd60e51b815260206004820152602660248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d6160448201526564647265737360d01b6064820152608401610115565b60006102c860048287896106ff565b6102d19161076a565b9050886001600160a01b0316876001600160a01b0316146103505760405162461bcd60e51b815260206004820152603360248201527f4552433732315472616e73666572456e666f726365723a756e617574686f72696044820152721e99590b58dbdb9d1c9858dd0b5d185c99d95d606a1b6064820152608401610115565b6001600160e01b031981166323b872dd60e01b1480159061038257506001600160e01b03198116632142170760e11b14155b801561039f57506001600160e01b03198116635c46a7ef60e11b14155b156104015760405162461bcd60e51b815260206004820152602c60248201527f4552433732315472616e73666572456e666f726365723a756e617574686f726960448201526b3d32b216b9b2b632b1ba37b960a11b6064820152608401610115565b8782146104655760405162461bcd60e51b815260206004820152602c60248201527f4552433732315472616e73666572456e666f726365723a756e617574686f726960448201526b1e99590b5d1bdad95b8b5a5960a21b6064820152608401610115565b505050505050505050505050505050505050505050565b600080603483146104e35760405162461bcd60e51b815260206004820152602b60248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610115565b6104f16014600085876106ff565b6104fa9161079a565b60601c915061050c83601481876106ff565b610515916107cd565b60001c90509250929050565b6001600160f81b0319828116908216145b92915050565b600080368161054a60148287896106ff565b6105539161079a565b60601c93506105666034601487896106ff565b61056f916107cd565b925061057e85603481896106ff565b949793965094505050565b60008083601f84011261059b57600080fd5b50813567ffffffffffffffff8111156105b357600080fd5b6020830191508360208285010111156105cb57600080fd5b9250929050565b6001600160a01b03811681146105e757600080fd5b50565b60008060008060008060008060008060e08b8d03121561060957600080fd5b8a3567ffffffffffffffff8082111561062157600080fd5b61062d8e838f01610589565b909c509a5060208d013591508082111561064657600080fd5b6106528e838f01610589565b909a50985060408d0135975060608d013591508082111561067257600080fd5b5061067f8d828e01610589565b90965094505060808b0135925060a08b013561069a816105d2565b915060c08b01356106aa816105d2565b809150509295989b9194979a5092959850565b600080602083850312156106d057600080fd5b823567ffffffffffffffff8111156106e757600080fd5b6106f385828601610589565b90969095509350505050565b6000808585111561070f57600080fd5b8386111561071c57600080fd5b5050820193919092039150565b60008060006060848603121561073e57600080fd5b8335610749816105d2565b92506020840135610759816105d2565b929592945050506040919091013590565b6001600160e01b031981358181169160048510156107925780818660040360031b1b83161692505b505092915050565b6bffffffffffffffffffffffff1981358181169160148510156107925760149490940360031b84901b1690921692915050565b8035602083101561053257600019602084900360031b1b169291505056fea264697066735822122059baae7c286b09a388772bb8a0feea8851f9a4fec98691fdc00e38b6eb1a59b964736f6c63430008170033",Whn={};Ue(Whn,{abi:()=>Yhn,bytecode:()=>Jhn});Yhn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"initialAmount_",type:"uint256",internalType:"uint256"},{name:"maxAmount_",type:"uint256",internalType:"uint256"},{name:"amountPerSecond_",type:"uint256",internalType:"uint256"},{name:"startTime_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"streamingAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"initialAmount",type:"uint256",internalType:"uint256"},{name:"maxAmount",type:"uint256",internalType:"uint256"},{name:"amountPerSecond",type:"uint256",internalType:"uint256"},{name:"startTime",type:"uint256",internalType:"uint256"},{name:"spent",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"initialAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amountPerSecond",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"},{name:"lastUpdateTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Jhn="0x608060405234801561001057600080fd5b50610b7d806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100fb578063fb7d2c5b1461011c57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610910565b50505050505050505050565b005b61009c6100ac366004610910565b610189565b6100c46100bf3660046109dd565b61026e565b604080516001600160a01b0390961686526020860194909452928401919091526060830152608082015260a0015b60405180910390f35b61010e610109366004610a1f565b610365565b6040519081526020016100f2565b61016161012a366004610a1f565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100f2565b856101958160006103d0565b6101e65760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101f78160006103d0565b6102515760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101dd565b506102608c8c898989886103e7565b505050505050505050505050565b600080808080609486146102d85760405162461bcd60e51b815260206004820152602b60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b60648201526084016101dd565b6102e660146000888a610a49565b6102ef91610a73565b60601c945061030260346014888a610a49565b61030b91610aa8565b935061031b60546034888a610a49565b61032491610aa8565b925061033460746054888a610a49565b61033d91610aa8565b915061034d60946074888a610a49565b61035691610aa8565b60001c90509295509295909350565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a081018352815481526001820154938101939093526002810154918301919091526003810154606083015260048101546080830152906103c8906107d9565b949350505050565b6001600160f81b0319828116908216145b92915050565b60003660006103f6878761085a565b929550935090915050604481146104675760405162461bcd60e51b815260206004820152602f60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6560448201526e0f0cac6eae8d2dedc5ad8cadccee8d608b1b60648201526084016101dd565b60008060008060006104798e8e61026e565b94509450945094509450838310156104e55760405162461bcd60e51b815260206004820152602960248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6d604482015268185e0b585b5bdd5b9d60ba1b60648201526084016101dd565b6000811161054c5760405162461bcd60e51b815260206004820152602e60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d7a60448201526d65726f2d73746172742d74696d6560901b60648201526084016101dd565b876001600160a01b0316856001600160a01b0316146105bd5760405162461bcd60e51b815260206004820152602760248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d636044820152661bdb9d1c9858dd60ca1b60648201526084016101dd565b63a9059cbb60e01b6105d360046000898b610a49565b6105dc91610ac6565b6001600160e01b031916146106415760405162461bcd60e51b815260206004820152602560248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6d604482015264195d1a1bd960da1b60648201526084016101dd565b336000908152602081815260408083208d84529091528120600481015490910361067e578481556001810184905560028101839055600381018290555b600061068e604460248a8c610a49565b61069791610aa8565b6040805160a081018252845481526001850154602082015260028501549181019190915260038401546060820152600484015460808201529091506106db906107d9565b81111561073c5760405162461bcd60e51b815260206004820152602960248201527f455243323053747265616d696e67456e666f726365723a616c6c6f77616e63656044820152680b595e18d95959195960ba1b60648201526084016101dd565b808260040160008282546107509190610b0a565b90915550506004820154604080516001600160a01b038a81168252602082018a9052818301899052606082018890526080820187905260a08201939093524260c082015290518e928e169133917f30ceca901166c86cac9d1024230d7f5740b26cce6bdd9bad7b1d6e616904ea639181900360e00190a450505050505050505050505050505050565b600081606001514210156107ef57506000919050565b60008260600151426108019190610b1d565b905060008184604001516108159190610b30565b84516108219190610b0a565b90508360200151811115610836575060208301515b8084608001511061084b575060009392505050565b60808401516103c89082610b1d565b600080368161086c6014828789610a49565b61087591610a73565b60601c9350610888603460148789610a49565b61089191610aa8565b92506108a08560348189610a49565b949793965094505050565b60008083601f8401126108bd57600080fd5b50813567ffffffffffffffff8111156108d557600080fd5b6020830191508360208285010111156108ed57600080fd5b9250929050565b80356001600160a01b038116811461090b57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561092f57600080fd5b8a3567ffffffffffffffff8082111561094757600080fd5b6109538e838f016108ab565b909c509a5060208d013591508082111561096c57600080fd5b6109788e838f016108ab565b909a50985060408d0135975060608d013591508082111561099857600080fd5b506109a58d828e016108ab565b90965094505060808b013592506109be60a08c016108f4565b91506109cc60c08c016108f4565b90509295989b9194979a5092959850565b600080602083850312156109f057600080fd5b823567ffffffffffffffff811115610a0757600080fd5b610a13858286016108ab565b90969095509350505050565b60008060408385031215610a3257600080fd5b610a3b836108f4565b946020939093013593505050565b60008085851115610a5957600080fd5b83861115610a6657600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610aa05780818660140360031b1b83161692505b505092915050565b803560208310156103e157600019602084900360031b1b1692915050565b6001600160e01b03198135818116916004851015610aa05760049490940360031b84901b1690921692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103e1576103e1610af4565b818103818111156103e1576103e1610af4565b80820281158282048414176103e1576103e1610af456fea2646970667358221220d9282c553e448eac7b4631259f5a457c28077fd4d88ef08db72ec3df532e99ed64736f6c63430008170033",Qhn={};Ue(Qhn,{abi:()=>Zhn,bytecode:()=>Xhn});Zhn=[{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}],Xhn="0x",e6n={};Ue(e6n,{abi:()=>t6n,bytecode:()=>n6n});t6n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"callData_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"}],n6n="0x608060405234801561001057600080fd5b50610559806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610338565b50505050505050505050565b005b610076610086366004610338565b6100b4565b61009e610099366004610405565b61022b565b6040516100ab9190610447565b60405180910390f35b856100c081600061026b565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61012281600061026b565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b5036600061018a8989610282565b935093505050600061019c8f8f61022b565b905082826040516101ae929190610496565b604051809103902081805190602001201461021a5760405162461bcd60e51b815260206004820152602660248201527f457861637443616c6c64617461456e666f726365723a696e76616c69642d63616044820152656c6c6461746160d01b6064820152608401610108565b505050505050505050505050505050565b606082828080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929695505050505050565b6001600160f81b0319828116908216145b92915050565b600080368161029460148287896104a6565b61029d916104d0565b60601c93506102b06034601487896104a6565b6102b991610505565b92506102c885603481896104a6565b949793965094505050565b60008083601f8401126102e557600080fd5b50813567ffffffffffffffff8111156102fd57600080fd5b60208301915083602082850101111561031557600080fd5b9250929050565b80356001600160a01b038116811461033357600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035757600080fd5b8a3567ffffffffffffffff8082111561036f57600080fd5b61037b8e838f016102d3565b909c509a5060208d013591508082111561039457600080fd5b6103a08e838f016102d3565b909a50985060408d0135975060608d01359150808211156103c057600080fd5b506103cd8d828e016102d3565b90965094505060808b013592506103e660a08c0161031c565b91506103f460c08c0161031c565b90509295989b9194979a5092959850565b6000806020838503121561041857600080fd5b823567ffffffffffffffff81111561042f57600080fd5b61043b858286016102d3565b90969095509350505050565b60006020808352835180602085015260005b8181101561047557858101830151858201604001528201610459565b506000604082860101526040601f19601f8301168501019250505092915050565b8183823760009101908152919050565b600080858511156104b657600080fd5b838611156104c357600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156104fd5780818660140360031b1b83161692505b505092915050565b8035602083101561027c57600019602084900360031b1b169291505056fea26469706673582212207ea2be587c5142bd07609ab1e9e3d82af76502619dbab0e88f14c164094d01e564736f6c63430008170033",r6n={};Ue(r6n,{abi:()=>i6n,bytecode:()=>a6n});i6n=[{type:"function",name:"aggregateSignatures",inputs:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"aggregatedSignature",type:"bytes",internalType:"bytes"}],stateMutability:"view"},{type:"function",name:"validateSignatures",inputs:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"view"},{type:"function",name:"validateUserOpSignature",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"sigForUserOp",type:"bytes",internalType:"bytes"}],stateMutability:"view"}],a6n="0x",o6n={};Ue(o6n,{abi:()=>s6n,bytecode:()=>c6n});s6n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"execution_",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],c6n="0x608060405234801561001057600080fd5b5061062f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103e9565b50505050505050505050565b005b6100766100863660046103e9565b6100b4565b61009e6100993660046104b6565b610197565b6040516100ab91906104f8565b60405180910390f35b856100c0816000610210565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610122816000610210565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b506101898c8c8989610227565b505050505050505050505050565b604080516060808201835260008083526020830152918101919091526101bd8383610333565b81818080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050506040860152505060208301526001600160a01b0316815292915050565b6001600160f81b0319828116908216145b92915050565b6000803660006102378686610333565b929650909450925090506001600160a01b038416610259601460008a8c61056c565b61026291610596565b60601c14801561028757508261027c603460148a8c61056c565b610285916105cb565b145b80156102cc5750818160405161029e9291906105e9565b6040519081900390206102b4886034818c61056c565b6040516102c29291906105e9565b6040518091039020145b6103295760405162461bcd60e51b815260206004820152602860248201527f4578616374457865637574696f6e456e666f726365723a696e76616c69642d656044820152673c32b1baba34b7b760c11b6064820152608401610108565b5050505050505050565b6000803681610345601482878961056c565b61034e91610596565b60601c935061036160346014878961056c565b61036a916105cb565b9250610379856034818961056c565b949793965094505050565b60008083601f84011261039657600080fd5b50813567ffffffffffffffff8111156103ae57600080fd5b6020830191508360208285010111156103c657600080fd5b9250929050565b80356001600160a01b03811681146103e457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561040857600080fd5b8a3567ffffffffffffffff8082111561042057600080fd5b61042c8e838f01610384565b909c509a5060208d013591508082111561044557600080fd5b6104518e838f01610384565b909a50985060408d0135975060608d013591508082111561047157600080fd5b5061047e8d828e01610384565b90965094505060808b0135925061049760a08c016103cd565b91506104a560c08c016103cd565b90509295989b9194979a5092959850565b600080602083850312156104c957600080fd5b823567ffffffffffffffff8111156104e057600080fd5b6104ec85828601610384565b90969095509350505050565b6000602080835260018060a01b038451166020840152602084015160408401526040840151606080850152805180608086015260005b8181101561054a5782810184015186820160a00152830161052e565b50600060a0828701015260a0601f19601f830116860101935050505092915050565b6000808585111561057c57600080fd5b8386111561058957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105c35780818660140360031b1b83161692505b505092915050565b8035602083101561022157600019602084900360031b1b1692915050565b818382376000910190815291905056fea2646970667358221220e961f8992a129634c5841f6f8ff7eac208b6822d2646363c613c0f46bcd65a0b64736f6c63430008170033",l6n={};Ue(l6n,{abi:()=>u6n,bytecode:()=>f6n});u6n=[{type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"}],f6n="0x",d6n={};Ue(d6n,{abi:()=>p6n,bytecode:()=>h6n});p6n=[{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disabledDelegations",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDelegationHash",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DisabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"EnabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"RedeemedDelegation",inputs:[{name:"rootDelegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"SetDomain",inputs:[{name:"domainHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"domainVersion",type:"string",indexed:!1,internalType:"string"},{name:"chainId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"contractAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadyDisabled",inputs:[]},{type:"error",name:"AlreadyEnabled",inputs:[]},{type:"error",name:"BatchDataLengthMismatch",inputs:[]},{type:"error",name:"CannotUseADisabledDelegation",inputs:[]},{type:"error",name:"EmptySignature",inputs:[]},{type:"error",name:"InvalidAuthority",inputs:[]},{type:"error",name:"InvalidDelegate",inputs:[]},{type:"error",name:"InvalidDelegator",inputs:[]},{type:"error",name:"InvalidEOASignature",inputs:[]},{type:"error",name:"InvalidERC1271Signature",inputs:[]}],h6n="0x",W8e={};Ue(W8e,{abi:()=>m6n,bytecode:()=>y6n});m6n=[{type:"receive",stateMutability:"payable"},{type:"function",name:"addStake",inputs:[{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegateAndRevert",inputs:[{name:"target",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"deposits",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getSenderAddress",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"handleAggregatedOps",inputs:[{name:"opsPerAggregator",type:"tuple[]",internalType:"struct IEntryPoint.UserOpsPerAggregator[]",components:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"aggregator",type:"address",internalType:"contract IAggregator"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"handleOps",inputs:[{name:"ops",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"innerHandleOp",inputs:[{name:"callData",type:"bytes",internalType:"bytes"},{name:"opInfo",type:"tuple",internalType:"struct EntryPoint.UserOpInfo",components:[{name:"mUserOp",type:"tuple",internalType:"struct EntryPoint.MemoryUserOp",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256",internalType:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"paymaster",type:"address",internalType:"address"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"prefund",type:"uint256",internalType:"uint256"},{name:"contextOffset",type:"uint256",internalType:"uint256"},{name:"preOpGas",type:"uint256",internalType:"uint256"}]},{name:"context",type:"bytes",internalType:"bytes"}],outputs:[{name:"actualGasCost",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"nonceSequenceNumber",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AccountDeployed",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"factory",type:"address",indexed:!1,internalType:"address"},{name:"paymaster",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeforeExecution",inputs:[],anonymous:!1},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PostOpRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"SignatureAggregatorChanged",inputs:[{name:"aggregator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationEvent",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"paymaster",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"},{name:"actualGasCost",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actualGasUsed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationPrefundTooLow",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"DelegateAndRevert",inputs:[{name:"success",type:"bool",internalType:"bool"},{name:"ret",type:"bytes",internalType:"bytes"}]},{type:"error",name:"FailedOp",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"}]},{type:"error",name:"FailedOpWithRevert",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"},{name:"inner",type:"bytes",internalType:"bytes"}]},{type:"error",name:"PostOpReverted",inputs:[{name:"returnData",type:"bytes",internalType:"bytes"}]},{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]},{type:"error",name:"SenderAddressResult",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"SignatureValidationFailed",inputs:[{name:"aggregator",type:"address",internalType:"address"}]}],y6n="0x60a0604052604051620000129062000051565b604051809103905ff0801580156200002c573d5f803e3d5ffd5b506001600160a01b031660805234801562000045575f80fd5b5060016002556200005f565b6101ff806200374883390190565b6080516136c96200007f5f395f8181610de0015261271501526136c95ff3fe608060405260043610610107575f3560e01c806370a0823111610092578063b760faf911610062578063b760faf914610425578063bb9fe6bf14610438578063c23a5cea1461044c578063dbed18e01461046b578063fc7e286d1461048a575f80fd5b806370a0823114610394578063765e827f146103c8578063850aaf62146103e75780639b249f6914610406575f80fd5b80631b2e01b8116100d85780631b2e01b8146101ae578063205c2878146101e457806322cdde4c1461020357806335567e1a146102225780635287ce1214610280575f80fd5b806242dc531461011b57806301ffc9a71461014d5780630396cb601461017c5780630bd28e3b1461018f575f80fd5b366101175761011533610530565b005b5f80fd5b348015610126575f80fd5b5061013a610135366004612c4f565b610584565b6040519081526020015b60405180910390f35b348015610158575f80fd5b5061016c610167366004612d06565b610702565b6040519015158152602001610144565b61011561018a366004612d2d565b610789565b34801561019a575f80fd5b506101156101a9366004612d66565b610a14565b3480156101b9575f80fd5b5061013a6101c8366004612d7f565b600160209081525f928352604080842090915290825290205481565b3480156101ef575f80fd5b506101156101fe366004612db2565b610a4a565b34801561020e575f80fd5b5061013a61021d366004612ddc565b610b96565b34801561022d575f80fd5b5061013a61023c366004612d7f565b6001600160a01b0382165f9081526001602090815260408083206001600160c01b038516845290915290819020549082901b67ffffffffffffffff19161792915050565b34801561028b575f80fd5b5061033a61029a366004612e13565b6040805160a0810182525f80825260208201819052918101829052606081018290526080810191909152506001600160a01b03165f9081526020818152604091829020825160a0810184528154815260019091015460ff811615159282019290925261010082046001600160701b031692810192909252600160781b810463ffffffff166060830152600160981b900465ffffffffffff16608082015290565b60405161014491905f60a082019050825182526020830151151560208301526001600160701b03604084015116604083015263ffffffff606084015116606083015265ffffffffffff608084015116608083015292915050565b34801561039f575f80fd5b5061013a6103ae366004612e13565b6001600160a01b03165f9081526020819052604090205490565b3480156103d3575f80fd5b506101156103e2366004612e6e565b610bd7565b3480156103f2575f80fd5b50610115610401366004612ec0565b610d4c565b348015610411575f80fd5b50610115610420366004612f10565b610dc7565b610115610433366004612e13565b610530565b348015610443575f80fd5b50610115610e7e565b348015610457575f80fd5b50610115610466366004612e13565b610fa8565b348015610476575f80fd5b50610115610485366004612e6e565b6111c7565b348015610495575f80fd5b506104ed6104a4366004612e13565b5f602081905290815260409020805460019091015460ff81169061010081046001600160701b031690600160781b810463ffffffff1690600160981b900465ffffffffffff1685565b6040805195865293151560208601526001600160701b039092169284019290925263ffffffff909116606083015265ffffffffffff16608082015260a001610144565b5f61053b82346115ce565b9050816001600160a01b03167f2da466a7b24304f47e87fa2e1e5a81b9831ce54fec19055ce277ca2f39ba42c48260405161057891815260200190565b60405180910390a25050565b5f805a90503330146105dd5760405162461bcd60e51b815260206004820152601760248201527f4141393220696e7465726e616c2063616c6c206f6e6c7900000000000000000060448201526064015b60405180910390fd5b8451606081015160a082015181016127100160405a603f028161060257610602612f4e565b0410156106185763deaddead60e01b5f5260205ffd5b87515f90156106a6575f610631845f01515f8c86611600565b9050806106a4575f610644610800611616565b80519091501561069e57845f01516001600160a01b03168a602001517f1c4fada7374c0a9ee8841fc38afe82932dc0f8e69012e927f061a8bae611a201876020015184604051610695929190612faf565b60405180910390a35b60019250505b505b5f88608001515a86030190506106f4828a8a8a8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250879250611641915050565b9a9950505050505050505050565b5f6001600160e01b0319821663307e35b760e11b148061073257506001600160e01b0319821663122a0e9b60e31b145b8061074d57506001600160e01b0319821663cf28ef9760e01b145b8061076857506001600160e01b03198216633e84f02160e01b145b8061078357506301ffc9a760e01b6001600160e01b03198316145b92915050565b335f90815260208190526040902063ffffffff82166107ea5760405162461bcd60e51b815260206004820152601a60248201527f6d757374207370656369667920756e7374616b652064656c617900000000000060448201526064016105d4565b600181015463ffffffff600160781b9091048116908316101561084f5760405162461bcd60e51b815260206004820152601c60248201527f63616e6e6f7420646563726561736520756e7374616b652074696d650000000060448201526064016105d4565b60018101545f9061086f90349061010090046001600160701b0316612fdb565b90505f81116108b55760405162461bcd60e51b81526020600482015260126024820152711b9bc81cdd185ad9481cdc1958da599a595960721b60448201526064016105d4565b6001600160701b038111156108fd5760405162461bcd60e51b815260206004820152600e60248201526d7374616b65206f766572666c6f7760901b60448201526064016105d4565b6040805160a08101825283548152600160208083018281526001600160701b0386811685870190815263ffffffff8a8116606088018181525f60808a0181815233808352828a52918c90209a518b55965199909801805494519151965165ffffffffffff16600160981b0265ffffffffffff60981b1997909416600160781b029690961669ffffffffffffffffffff60781b1991909516610100026effffffffffffffffffffffffffff0019991515999099166effffffffffffffffffffffffffffff1990941693909317979097179190911691909117179055835185815290810192909252917fa5ae833d0bb1dcd632d98a8b70973e8516812898e19bf27b70071ebc8dc52c01910160405180910390a2505050565b335f9081526001602090815260408083206001600160c01b03851684529091528120805491610a4283612fee565b919050555050565b335f9081526020819052604090208054821115610aa95760405162461bcd60e51b815260206004820152601960248201527f576974686472617720616d6f756e7420746f6f206c617267650000000000000060448201526064016105d4565b8054610ab6908390613006565b8155604080516001600160a01b03851681526020810184905233917fd1c19fbcd4551a5edfb66d43d2e337c04837afda3482b42bdf569a8fccdae5fb910160405180910390a25f836001600160a01b0316836040515f6040518083038185875af1925050503d805f8114610b45576040519150601f19603f3d011682016040523d82523d5f602084013e610b4a565b606091505b5050905080610b905760405162461bcd60e51b81526020600482015260126024820152716661696c656420746f20776974686472617760701b60448201526064016105d4565b50505050565b5f610ba0826117f9565b6040805160208101929092523090820152466060820152608001604051602081830303815290604052805190602001209050919050565b610bdf611811565b815f816001600160401b03811115610bf957610bf9612a5a565b604051908082528060200260200182016040528015610c3257816020015b610c1f6129d0565b815260200190600190039081610c175790505b5090505f5b82811015610ca7575f828281518110610c5257610c52613019565b602002602001015190505f80610c8c848a8a87818110610c7457610c74613019565b9050602002810190610c86919061302d565b85611839565b91509150610c9c8483835f611a3b565b505050600101610c37565b506040515f907fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972908290a15f5b83811015610d2f57610d2381888884818110610cf257610cf2613019565b9050602002810190610d04919061302d565b858481518110610d1657610d16613019565b6020026020010151611bd5565b90910190600101610cd4565b50610d3a8482611e83565b505050610d476001600255565b505050565b5f80846001600160a01b03168484604051610d6892919061304c565b5f60405180830381855af49150503d805f8114610da0576040519150601f19603f3d011682016040523d82523d5f602084013e610da5565b606091505b50915091508181604051632650415560e21b81526004016105d492919061305b565b604051632b870d1b60e11b81525f906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063570e1a3690610e17908690869060040161309d565b6020604051808303815f875af1158015610e33573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610e5791906130b0565b604051633653dc0360e11b81526001600160a01b03821660048201529091506024016105d4565b335f90815260208190526040812060018101549091600160781b90910463ffffffff169003610edc5760405162461bcd60e51b815260206004820152600a6024820152691b9bdd081cdd185ad95960b21b60448201526064016105d4565b600181015460ff16610f245760405162461bcd60e51b8152602060048201526011602482015270616c726561647920756e7374616b696e6760781b60448201526064016105d4565b60018101545f90610f4290600160781b900463ffffffff16426130cb565b60018301805460ff65ffffffffffff60981b011916600160981b65ffffffffffff841690810260ff19169190911790915560405190815290915033907ffa9b3c14cc825c412c9ed81b3ba365a5b459439403f18829e572ed53a4180f0a90602001610578565b335f908152602081905260409020600181015461010090046001600160701b03168061100d5760405162461bcd60e51b81526020600482015260146024820152734e6f207374616b6520746f20776974686472617760601b60448201526064016105d4565b6001820154600160981b900465ffffffffffff1661106d5760405162461bcd60e51b815260206004820152601d60248201527f6d7573742063616c6c20756e6c6f636b5374616b65282920666972737400000060448201526064016105d4565b600182015442600160981b90910465ffffffffffff1611156110d15760405162461bcd60e51b815260206004820152601b60248201527f5374616b65207769746864726177616c206973206e6f7420647565000000000060448201526064016105d4565b600182018054610100600160c81b0319169055604080516001600160a01b03851681526020810183905233917fb7c918e0e249f999e965cafeb6c664271b3f4317d296461500e71da39f0cbda3910160405180910390a25f836001600160a01b0316826040515f6040518083038185875af1925050503d805f8114611171576040519150601f19603f3d011682016040523d82523d5f602084013e611176565b606091505b5050905080610b905760405162461bcd60e51b815260206004820152601860248201527f6661696c656420746f207769746864726177207374616b65000000000000000060448201526064016105d4565b6111cf611811565b815f805b8281101561133657368686838181106111ee576111ee613019565b905060200281019061120091906130f1565b9050365f61120e8380613105565b90925090505f6112246040850160208601612e13565b90505f196001600160a01b0382160161127f5760405162461bcd60e51b815260206004820152601760248201527f4141393620696e76616c69642061676772656761746f7200000000000000000060448201526064016105d4565b6001600160a01b0381161561131a576001600160a01b038116632dd8113384846112ac604089018961314a565b6040518563ffffffff1660e01b81526004016112cb94939291906132ab565b5f6040518083038186803b1580156112e1575f80fd5b505afa9250505080156112f2575060015b61131a5760405163086a9f7560e41b81526001600160a01b03821660048201526024016105d4565b6113248287612fdb565b955050600190930192506111d3915050565b505f816001600160401b0381111561135057611350612a5a565b60405190808252806020026020018201604052801561138957816020015b6113766129d0565b81526020019060019003908161136e5790505b5090505f805b8481101561146057368888838181106113aa576113aa613019565b90506020028101906113bc91906130f1565b9050365f6113ca8380613105565b90925090505f6113e06040850160208601612e13565b9050815f5b8181101561144e575f89898151811061140057611400613019565b602002602001015190505f806114228b898987818110610c7457610c74613019565b9150915061143284838389611a3b565b8a61143c81612fee565b9b5050600190930192506113e5915050565b50506001909401935061138f92505050565b506040517fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972905f90a1505f80805b8581101561158a57368989838181106114a9576114a9613019565b90506020028101906114bb91906130f1565b90506114cd6040820160208301612e13565b6001600160a01b03167f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d60405160405180910390a2365f61150e8380613105565b9092509050805f5b81811015611579576115588885858481811061153457611534613019565b9050602002810190611546919061302d565b8b8b81518110610d1657610d16613019565b6115629088612fdb565b96508761156e81612fee565b985050600101611516565b50506001909301925061148e915050565b506040515f907f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d908290a26115bf8682611e83565b5050505050610d476001600255565b6001600160a01b0382165f908152602081905260408120805482906115f4908590612fdb565b91829055509392505050565b5f805f845160208601878987f195945050505050565b60603d828111156116245750815b604051602082018101604052818152815f602083013e9392505050565b5f805a85519091505f908161165582611f78565b60e08301519091506001600160a01b038116611674578251935061172b565b8093505f8851111561172b57868202955060028a600281111561169957611699613325565b1461172b5760a0830151604051637c627b2160e01b81526001600160a01b03831691637c627b21916116d5908e908d908c908990600401613339565b5f604051808303815f88803b1580156116ec575f80fd5b5087f1935050505080156116fe575060015b61172b575f61170e610800611616565b905080604051632b5e552f60e21b81526004016105d49190613380565b5a60a0840151606085015160808c01519288039990990198019088038082111561175e576064600a828403020498909801975b505060408901518783029650868110156117b75760028b600281111561178657611786613325565b036117a8578096506117978a611fa9565b6117a38a5f898b611ff8565b6117eb565b63deadaa5160e01b5f5260205ffd5b8681036117c486826115ce565b505f808d60028111156117d9576117d9613325565b1490506117e88c828b8d611ff8565b50505b505050505050949350505050565b5f61180382612073565b805190602001209050919050565b600280540361183357604051633ee5aeb560e01b815260040160405180910390fd5b60028055565b5f805f5a845190915061184c8682612128565b61185586610b96565b6020860152604081015161012082015161010083015160a08401516080850151606086015160c0870151861717171717176effffffffffffffffffffffffffffff8111156118e55760405162461bcd60e51b815260206004820152601860248201527f41413934206761732076616c756573206f766572666c6f77000000000000000060448201526064016105d4565b5f6119138460c081015160a08201516080830151606084015160408501516101009095015194010101010290565b90506119228a8a8a8487612234565b9650611935845f015185602001516123c5565b61198b5789604051631101335b60e11b81526004016105d4918152604060208201819052601a908201527f4141323520696e76616c6964206163636f756e74206e6f6e6365000000000000606082015260800190565b825a860311156119e75789604051631101335b60e11b81526004016105d4918152604060208201819052601e908201527f41413236206f76657220766572696669636174696f6e4761734c696d69740000606082015260800190565b60e08401516060906001600160a01b031615611a0e57611a098b8b8b85612411565b975090505b604089018290528060608a015260a08a01355a870301896080018181525050505050505050935093915050565b5f80611a46856125c8565b91509150816001600160a01b0316836001600160a01b031614611aac5785604051631101335b60e11b81526004016105d49181526040602082018190526014908201527320a0991a1039b4b3b730ba3ab9329032b93937b960611b606082015260800190565b8015611b045785604051631101335b60e11b81526004016105d49181526040602082018190526017908201527f414132322065787069726564206f72206e6f7420647565000000000000000000606082015260800190565b5f611b0e856125c8565b925090506001600160a01b03811615611b6a5786604051631101335b60e11b81526004016105d49181526040602082018190526014908201527320a0999a1039b4b3b730ba3ab9329032b93937b960611b606082015260800190565b8115611bcc5786604051631101335b60e11b81526004016105d49181526040602082018190526021908201527f41413332207061796d61737465722065787069726564206f72206e6f742064756060820152606560f81b608082015260a00190565b50505050505050565b5f805a90505f611be6846060015190565b6040519091505f903682611bfd60608a018a61314a565b9150915060605f826003811115611c1357843591505b506372288ed160e01b6001600160e01b0319821601611cc0575f8b8b60200151604051602401611c44929190613392565b60408051601f198184030181529181526020820180516001600160e01b0316638dd7712f60e01b1790525190915030906242dc5390611c8b9084908f908d9060240161345d565b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050925050611d15565b306001600160a01b03166242dc5385858d8b604051602401611ce5949392919061349c565b604051602081830303815290604052915060e01b6020820180516001600160e01b03838183161783525050505091505b60205f8351602085015f305af195505f51985084604052505050505080611e79575f3d80602003611d4a5760205f803e5f5191505b5063deaddead60e01b8103611d9d5787604051631101335b60e11b81526004016105d4918152604060208201819052600f908201526e41413935206f7574206f662067617360881b606082015260800190565b63deadaa5160e01b8103611dec575f86608001515a611dbc9087613006565b611dc69190612fdb565b6040880151909150611dd788611fa9565b611de3885f8385611ff8565b9550611e779050565b855180516020808901519201516001600160a01b0390911691907ff62676f440ff169a3a9afdbf812e89e7f95975ee8e5c31214ffdef631c5f479290611e33610800611616565b604051611e41929190612faf565b60405180910390a35f86608001515a611e5a9087613006565b611e649190612fdb565b9050611e736002888684611641565b9550505b505b5050509392505050565b6001600160a01b038216611ed95760405162461bcd60e51b815260206004820152601860248201527f4141393020696e76616c69642062656e6566696369617279000000000000000060448201526064016105d4565b5f826001600160a01b0316826040515f6040518083038185875af1925050503d805f8114611f22576040519150601f19603f3d011682016040523d82523d5f602084013e611f27565b606091505b5050905080610d475760405162461bcd60e51b815260206004820152601f60248201527f41413931206661696c65642073656e6420746f2062656e65666963696172790060448201526064016105d4565b6101008101516101208201515f9190808203611f95575092915050565b611fa182488301612617565b949350505050565b80518051602080840151928101516040519081526001600160a01b0390921692917f67b4fa9642f42120bf031f3051d1824b0fe25627945b27b8a6a65d5761d5482e910160405180910390a350565b835160e081015181516020808801519301516040516001600160a01b039384169492909316927f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f916120659189908990899093845291151560208401526040830152606082015260800190565b60405180910390a450505050565b6060813560208301355f61209261208d604087018761314a565b61262e565b90505f6120a561208d606088018861314a565b9050608086013560a087013560c08801355f6120c761208d60e08c018c61314a565b604080516001600160a01b039a909a1660208b015289810198909852606089019690965250608087019390935260a086019190915260c085015260e08401526101008084019190915281518084039091018152610120909201905292915050565b6121356020830183612e13565b6001600160a01b03168152602082810135908201526001600160801b036080808401358281166060850152811c604084015260a084013560c0808501919091528401359182166101008401521c610120820152365f61219760e085018561314a565b9092509050801561221a5760348110156121f35760405162461bcd60e51b815260206004820152601d60248201527f4141393320696e76616c6964207061796d6173746572416e644461746100000060448201526064016105d4565b6121fd8282612640565b60a086015260808501526001600160a01b031660e0840152610b90565b5f60e084018190526080840181905260a084015250505050565b825180515f9190612252888761224d60408b018b61314a565b6126a7565b60e08201515f6001600160a01b038216612293576001600160a01b0383165f9081526020819052604090205487811161228d5780880361228f565b5f5b9150505b60208801516040516306608bdf60e21b81526001600160a01b038516916319822f7c9189916122c9918e919087906004016134d2565b6020604051808303815f8887f193505050508015612304575060408051601f3d908101601f19168201909252612301918101906134f6565b60015b61232f5789612314610800611616565b6040516365c8fd4d60e01b81526004016105d492919061350d565b94506001600160a01b0382166123b8576001600160a01b0383165f9081526020819052604090208054808911156123b2578b604051631101335b60e11b81526004016105d49181526040602082018190526017908201527f41413231206469646e2774207061792070726566756e64000000000000000000606082015260800190565b88900390555b5050505095945050505050565b6001600160a01b0382165f90815260016020908152604080832084821c80855292528220805484916001600160401b03831691908561240383612fee565b909155501495945050505050565b60605f805a855160e08101516001600160a01b0381165f9081526020819052604090208054939450919290919087811015612498578a604051631101335b60e11b81526004016105d4918152604060208201819052601e908201527f41413331207061796d6173746572206465706f73697420746f6f206c6f770000606082015260800190565b878103825f01819055505f84608001519050836001600160a01b03166352b7512c828d8d602001518d6040518563ffffffff1660e01b81526004016124df939291906134d2565b5f604051808303815f8887f19350505050801561251d57506040513d5f823e601f3d908101601f1916820160405261251a9190810190613549565b60015b612548578b61252d610800611616565b6040516365c8fd4d60e01b81526004016105d49291906135c4565b9098509650805a870311156125b9578b604051631101335b60e11b81526004016105d49181526040602082018190526027908201527f41413336206f766572207061796d6173746572566572696669636174696f6e47606082015266185cd31a5b5a5d60ca1b608082015260a00190565b50505050505094509492505050565b5f80825f036125db57505f928392509050565b5f6125e584612961565b9050806040015165ffffffffffff1642118061260c5750806020015165ffffffffffff1642105b905194909350915050565b5f8183106126255781612627565b825b9392505050565b5f604051828085833790209392505050565b5f80806126506014828688613600565b61265991613627565b60601c61266a602460148789613600565b6126739161365c565b60801c61268460346024888a613600565b61268d9161365c565b9194506001600160801b0316925060801c90509250925092565b8015610b90578251516001600160a01b0381163b156127125784604051631101335b60e11b81526004016105d4918152604060208201819052601f908201527f414131302073656e64657220616c726561647920636f6e737472756374656400606082015260800190565b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663570e1a36865f01516040015186866040518463ffffffff1660e01b815260040161276992919061309d565b6020604051808303815f8887f1158015612785573d5f803e3d5ffd5b50505050506040513d601f19601f820116820180604052508101906127aa91906130b0565b90506001600160a01b03811661280c5785604051631101335b60e11b81526004016105d4918152604060208201819052601b908201527f4141313320696e6974436f6465206661696c6564206f72204f4f470000000000606082015260800190565b816001600160a01b0316816001600160a01b0316146128765785604051631101335b60e11b81526004016105d491815260406020808301829052908201527f4141313420696e6974436f6465206d7573742072657475726e2073656e646572606082015260800190565b806001600160a01b03163b5f036128d85785604051631101335b60e11b81526004016105d491815260406020808301829052908201527f4141313520696e6974436f6465206d757374206372656174652073656e646572606082015260800190565b5f6128e66014828688613600565b6128ef91613627565b60601c9050826001600160a01b031686602001517fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d83895f015160e001516040516129509291906001600160a01b0392831681529116602082015260400190565b60405180910390a350505050505050565b604080516060810182525f80825260208201819052918101919091528160a081901c65ffffffffffff81165f0361299b575065ffffffffffff5b604080516060810182526001600160a01b03909316835260d09490941c602083015265ffffffffffff16928101929092525090565b6040518060a00160405280612a396040518061014001604052805f6001600160a01b031681526020015f81526020015f81526020015f81526020015f81526020015f81526020015f81526020015f6001600160a01b031681526020015f81526020015f81525090565b81526020015f80191681526020015f81526020015f81526020015f81525090565b634e487b7160e01b5f52604160045260245ffd5b60405160a081016001600160401b0381118282101715612a9057612a90612a5a565b60405290565b60405161014081016001600160401b0381118282101715612a9057612a90612a5a565b604051601f8201601f191681016001600160401b0381118282101715612ae157612ae1612a5a565b604052919050565b5f6001600160401b03821115612b0157612b01612a5a565b50601f01601f191660200190565b6001600160a01b0381168114612b23575f80fd5b50565b8035612b3181612b0f565b919050565b5f8183036101c0811215612b48575f80fd5b612b50612a6e565b915061014080821215612b61575f80fd5b612b69612a96565b9150612b7484612b26565b82526020840135602083015260408401356040830152606084013560608301526080840135608083015260a084013560a083015260c084013560c0830152612bbe60e08501612b26565b60e0830152610100848101359083015261012080850135908301529082528201356020820152610160820135604082015261018082013560608201526101a0909101356080820152919050565b5f8083601f840112612c1b575f80fd5b5081356001600160401b03811115612c31575f80fd5b602083019150836020828501011115612c48575f80fd5b9250929050565b5f805f806102008587031215612c63575f80fd5b84356001600160401b0380821115612c79575f80fd5b818701915087601f830112612c8c575f80fd5b8135612c9f612c9a82612ae9565b612ab9565b818152896020838601011115612cb3575f80fd5b816020850160208301375f602083830101528097505050612cd78860208901612b36565b94506101e0870135915080821115612ced575f80fd5b50612cfa87828801612c0b565b95989497509550505050565b5f60208284031215612d16575f80fd5b81356001600160e01b031981168114612627575f80fd5b5f60208284031215612d3d575f80fd5b813563ffffffff81168114612627575f80fd5b80356001600160c01b0381168114612b31575f80fd5b5f60208284031215612d76575f80fd5b61262782612d50565b5f8060408385031215612d90575f80fd5b8235612d9b81612b0f565b9150612da960208401612d50565b90509250929050565b5f8060408385031215612dc3575f80fd5b8235612dce81612b0f565b946020939093013593505050565b5f60208284031215612dec575f80fd5b81356001600160401b03811115612e01575f80fd5b82016101208185031215612627575f80fd5b5f60208284031215612e23575f80fd5b813561262781612b0f565b5f8083601f840112612e3e575f80fd5b5081356001600160401b03811115612e54575f80fd5b6020830191508360208260051b8501011115612c48575f80fd5b5f805f60408486031215612e80575f80fd5b83356001600160401b03811115612e95575f80fd5b612ea186828701612e2e565b9094509250506020840135612eb581612b0f565b809150509250925092565b5f805f60408486031215612ed2575f80fd5b8335612edd81612b0f565b925060208401356001600160401b03811115612ef7575f80fd5b612f0386828701612c0b565b9497909650939450505050565b5f8060208385031215612f21575f80fd5b82356001600160401b03811115612f36575f80fd5b612f4285828601612c0b565b90969095509350505050565b634e487b7160e01b5f52601260045260245ffd5b5f5b83811015612f7c578181015183820152602001612f64565b50505f910152565b5f8151808452612f9b816020860160208601612f62565b601f01601f19169290920160200192915050565b828152604060208201525f611fa16040830184612f84565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561078357610783612fc7565b5f60018201612fff57612fff612fc7565b5060010190565b8181038181111561078357610783612fc7565b634e487b7160e01b5f52603260045260245ffd5b5f823561011e19833603018112613042575f80fd5b9190910192915050565b818382375f9101908152919050565b8215158152604060208201525f611fa16040830184612f84565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b602081525f611fa1602083018486613075565b5f602082840312156130c0575f80fd5b815161262781612b0f565b65ffffffffffff8181168382160190808211156130ea576130ea612fc7565b5092915050565b5f8235605e19833603018112613042575f80fd5b5f808335601e1984360301811261311a575f80fd5b8301803591506001600160401b03821115613133575f80fd5b6020019150600581901b3603821315612c48575f80fd5b5f808335601e1984360301811261315f575f80fd5b8301803591506001600160401b03821115613178575f80fd5b602001915036819003821315612c48575f80fd5b5f808335601e198436030181126131a1575f80fd5b83016020810192503590506001600160401b038111156131bf575f80fd5b803603821315612c48575f80fd5b5f6101206131eb846131de85612b26565b6001600160a01b03169052565b60208301356020850152613202604084018461318c565b8260408701526132158387018284613075565b92505050613226606084018461318c565b8583036060870152613239838284613075565b925050506080830135608085015260a083013560a085015260c083013560c085015261326860e084018461318c565b85830360e087015261327b838284613075565b9250505061010061328e8185018561318c565b868403838801526132a0848284613075565b979650505050505050565b604080825281018490525f6060600586901b8301810190830187835b8881101561330f57858403605f190183528135368b900361011e190181126132ed575f80fd5b6132f9858c83016131cd565b94505060209283019291909101906001016132c7565b50505082810360208401526132a0818587613075565b634e487b7160e01b5f52602160045260245ffd5b5f6003861061335657634e487b7160e01b5f52602160045260245ffd5b8582526080602083015261336d6080830186612f84565b6040830194909452506060015292915050565b602081525f6126276020830184612f84565b604081525f6133a460408301856131cd565b90508260208301529392505050565b805180516001600160a01b031683526020810151602084015260408101516040840152606081015160608401526080810151608084015260a081015160a084015260c081015160c084015260e081015161341860e08501826001600160a01b03169052565b5061010081810151908401526101209081015190830152602081015161014083015260408101516101608301526060810151610180830152608001516101a090910152565b5f61020080835261347081840187612f84565b905061347f60208401866133b3565b8281036101e08401526134928185612f84565b9695505050505050565b5f6102008083526134b08184018789613075565b90506134bf60208401866133b3565b8281036101e08401526132a08185612f84565b606081525f6134e460608301866131cd565b60208301949094525060400152919050565b5f60208284031215613506575f80fd5b5051919050565b82815260606020820152600d60608201526c10504c8cc81c995d995c9d1959609a1b608082015260a060408201525f611fa160a0830184612f84565b5f806040838503121561355a575f80fd5b82516001600160401b0381111561356f575f80fd5b8301601f8101851361357f575f80fd5b805161358d612c9a82612ae9565b8181528660208385010111156135a1575f80fd5b6135b2826020830160208601612f62565b60209590950151949694955050505050565b82815260606020820152600d60608201526c10504cccc81c995d995c9d1959609a1b608082015260a060408201525f611fa160a0830184612f84565b5f808585111561360e575f80fd5b8386111561361a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156136545780818660140360031b1b83161692505b505092915050565b6fffffffffffffffffffffffffffffffff1981358181169160108510156136545760109490940360031b84901b169092169291505056fea2646970667358221220397996f36f516bad9951ba1f23ade372bdd0ef7639623362f57652a7762031c164736f6c63430008170033608060405234801561000f575f80fd5b506101e28061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063570e1a361461002d575b5f80fd5b61004061003b3660046100e4565b61005c565b6040516001600160a01b03909116815260200160405180910390f35b5f8061006b6014828587610150565b61007491610177565b60601c90505f6100878460148188610150565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525084519495509360209350849250905082850182875af190505f519350806100db575f93505b50505092915050565b5f80602083850312156100f5575f80fd5b823567ffffffffffffffff8082111561010c575f80fd5b818501915085601f83011261011f575f80fd5b81358181111561012d575f80fd5b86602082850101111561013e575f80fd5b60209290920196919550909350505050565b5f808585111561015e575f80fd5b8386111561016a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156101a45780818660140360031b1b83161692505b50509291505056fea264697066735822122078c1aaa9f040f8c523cf2b642dd06415593eec30d2e75021458af7e0c704e6fb64736f6c63430008170033",b6n={};Ue(b6n,{abi:()=>g6n,bytecode:()=>w6n});g6n=[{type:"function",name:"executeUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"}],w6n="0x",v6n={};Ue(v6n,{abi:()=>E6n,bytecode:()=>x6n});E6n=[{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"onERC1155Received",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],x6n="0x",A6n={};Ue(A6n,{abi:()=>_6n,bytecode:()=>T6n});_6n=[{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{name:"accounts",type:"address[]",internalType:"address[]"},{name:"ids",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"account",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"safeBatchTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"ApprovalForAll",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"ids",type:"uint256[]",indexed:!1,internalType:"uint256[]"},{name:"values",type:"uint256[]",indexed:!1,internalType:"uint256[]"}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"value",type:"string",indexed:!1,internalType:"string"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],T6n="0x",S6n={};Ue(S6n,{abi:()=>C6n,bytecode:()=>I6n});C6n=[{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"}],I6n="0x",R6n={};Ue(R6n,{abi:()=>O6n,bytecode:()=>N6n});O6n=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"approveAndCall",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"approveAndCall",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferAndCall",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferAndCall",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFromAndCall",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFromAndCall",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],N6n="0x",P6n={};Ue(P6n,{abi:()=>k6n,bytecode:()=>M6n});k6n=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],M6n="0x",B6n={};Ue(B6n,{abi:()=>D6n,bytecode:()=>L6n});D6n=[{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],L6n="0x",U6n={};Ue(U6n,{abi:()=>F6n,bytecode:()=>H6n});F6n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"executions_",type:"tuple[]",internalType:"struct Execution[]",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],H6n="0x608060405234801561001057600080fd5b5061083a806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610417565b50505050505050505050565b005b610076610086366004610417565b6100b4565b61009e6100993660046104e4565b6102fd565b6040516100ab9190610526565b60405180910390f35b85600160f81b6001600160f81b03198216146101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6001600160f81b03198116156101835760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b503660006101918989610319565b9150915060006101a18f8f6102fd565b8051909150821461020a5760405162461bcd60e51b815260206004820152602d60248201527f457861637443616c6c646174614261746368456e666f726365723a696e76616c60448201526c69642d62617463682d73697a6560981b606482015260840161010e565b60005b828110156102eb57838382818110610227576102276105e8565b905060200281019061023991906105fe565b61024790604081019061061e565b604051610255929190610665565b604051809103902082828151811061026f5761026f6105e8565b60200260200101516040015180519060200120146102e35760405162461bcd60e51b815260206004820152602b60248201527f457861637443616c6c646174614261746368456e666f726365723a696e76616c60448201526a69642d63616c6c6461746160a81b606482015260840161010e565b60010161020d565b50505050505050505050505050505050565b60606103098383610319565b610312916106e5565b9392505050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156103515763ba597e7e6000526004601cfd5b83156103a8578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c171561039f5763ba597e7e6000526004601cfd5b5050508261035b575b5050509250929050565b60008083601f8401126103c457600080fd5b50813567ffffffffffffffff8111156103dc57600080fd5b6020830191508360208285010111156103f457600080fd5b9250929050565b80356001600160a01b038116811461041257600080fd5b919050565b60008060008060008060008060008060e08b8d03121561043657600080fd5b8a3567ffffffffffffffff8082111561044e57600080fd5b61045a8e838f016103b2565b909c509a5060208d013591508082111561047357600080fd5b61047f8e838f016103b2565b909a50985060408d0135975060608d013591508082111561049f57600080fd5b506104ac8d828e016103b2565b90965094505060808b013592506104c560a08c016103fb565b91506104d360c08c016103fb565b90509295989b9194979a5092959850565b600080602083850312156104f757600080fd5b823567ffffffffffffffff81111561050e57600080fd5b61051a858286016103b2565b90969095509350505050565b600060208083018184528085518083526040925060408601915060408160051b8701018488016000805b848110156105d957898403603f19018652825180516001600160a01b0316855288810151898601528701516060888601819052815190860181905283905b808210156105ac578282018b015187830160800152908a019061058e565b8681016080908101869052988b0198601f909101601f191690960190950194505091870191600101610550565b50919998505050505050505050565b634e487b7160e01b600052603260045260246000fd5b60008235605e1983360301811261061457600080fd5b9190910192915050565b6000808335601e1984360301811261063557600080fd5b83018035915067ffffffffffffffff82111561065057600080fd5b6020019150368190038213156103f457600080fd5b8183823760009101908152919050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff811182821017156106ae576106ae610675565b60405290565b604051601f8201601f1916810167ffffffffffffffff811182821017156106dd576106dd610675565b604052919050565b600067ffffffffffffffff8084111561070057610700610675565b8360051b60206107118183016106b4565b86815291850191818101903684111561072957600080fd5b865b848110156107f8578035868111156107435760008081fd5b880160603682900312156107575760008081fd5b61075f61068b565b610768826103fb565b81528582013586820152604080830135898111156107865760008081fd5b9290920191601f368185011261079c5760008081fd5b83358a8111156107ae576107ae610675565b6107bf818301601f19168a016106b4565b915080825236898287010111156107d65760008081fd5b808986018a84013760009082018901529082015284525091830191830161072b565b5097965050505050505056fea26469706673582212208d28ccd8e989ae016d34ead1b420bc19b8be9eaa747049c2602c587d0a44891264736f6c63430008170033",z6n={};Ue(z6n,{abi:()=>j6n,bytecode:()=>G6n});j6n=[{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"}],G6n="0x",V6n={};Ue(V6n,{abi:()=>K6n,bytecode:()=>$6n});K6n=[{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"}],$6n="0x",q6n={};Ue(q6n,{abi:()=>W6n,bytecode:()=>Y6n});W6n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"executions_",type:"tuple[]",internalType:"struct Execution[]",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],Y6n="0x608060405234801561001057600080fd5b50610870806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103e9565b50505050505050505050565b005b6100766100863660046103e9565b6100b4565b61009e6100993660046104b6565b6102cf565b6040516100ab91906104f8565b60405180910390f35b85600160f81b6001600160f81b03198216146101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6001600160f81b03198116156101835760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b5036600061019189896102eb565b9150915060006101a18f8f6102cf565b8051909150821461020b5760405162461bcd60e51b815260206004820152602e60248201527f4578616374457865637574696f6e4261746368456e666f726365723a696e766160448201526d6c69642d62617463682d73697a6560901b606482015260840161010e565b8060405160200161021c91906104f8565b6040516020818303038152906040528051906020012083836040516020016102459291906105ba565b60405160208183030381529060405280519060200120146102be5760405162461bcd60e51b815260206004820152602d60248201527f4578616374457865637574696f6e4261746368456e666f726365723a696e766160448201526c3634b216b2bc32b1baba34b7b760991b606482015260840161010e565b505050505050505050505050505050565b60606102db83836102eb565b6102e49161071b565b9392505050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156103235763ba597e7e6000526004601cfd5b831561037a578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156103715763ba597e7e6000526004601cfd5b5050508261032d575b5050509250929050565b60008083601f84011261039657600080fd5b50813567ffffffffffffffff8111156103ae57600080fd5b6020830191508360208285010111156103c657600080fd5b9250929050565b80356001600160a01b03811681146103e457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561040857600080fd5b8a3567ffffffffffffffff8082111561042057600080fd5b61042c8e838f01610384565b909c509a5060208d013591508082111561044557600080fd5b6104518e838f01610384565b909a50985060408d0135975060608d013591508082111561047157600080fd5b5061047e8d828e01610384565b90965094505060808b0135925061049760a08c016103cd565b91506104a560c08c016103cd565b90509295989b9194979a5092959850565b600080602083850312156104c957600080fd5b823567ffffffffffffffff8111156104e057600080fd5b6104ec85828601610384565b90969095509350505050565b600060208083018184528085518083526040925060408601915060408160051b8701018488016000805b848110156105ab57898403603f19018652825180516001600160a01b0316855288810151898601528701516060888601819052815190860181905283905b8082101561057e578282018b015187830160800152908a0190610560565b8681016080908101869052988b0198601f909101601f191690960190950194505091870191600101610522565b50919998505050505050505050565b60208082528181018390526000906040808401600586901b8501820187855b8881101561069d57878303603f190184528135368b9003605e190181126105ff57600080fd5b8a0160606001600160a01b03610614836103cd565b168552878201358886015286820135601e1983360301811261063557600080fd5b90910187810191903567ffffffffffffffff81111561065357600080fd5b80360383131561066257600080fd5b8188870152808287015260809150808383880137600086820183015295880195601f01601f19169094019093019250908501906001016105d9565b509098975050505050505050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff811182821017156106e4576106e46106ab565b60405290565b604051601f8201601f1916810167ffffffffffffffff81118282101715610713576107136106ab565b604052919050565b600067ffffffffffffffff80841115610736576107366106ab565b8360051b60206107478183016106ea565b86815291850191818101903684111561075f57600080fd5b865b8481101561082e578035868111156107795760008081fd5b8801606036829003121561078d5760008081fd5b6107956106c1565b61079e826103cd565b81528582013586820152604080830135898111156107bc5760008081fd5b9290920191601f36818501126107d25760008081fd5b83358a8111156107e4576107e46106ab565b6107f5818301601f19168a016106ea565b9150808252368982870101111561080c5760008081fd5b808986018a840137600090820189015290820152845250918301918301610761565b5097965050505050505056fea26469706673582212205e0b91ba43666d3d9ebd5eb11438023697fc7df67dea03687ac126f13d8d464564736f6c63430008170033",J6n={};Ue(J6n,{abi:()=>Q6n,bytecode:()=>Z6n});Q6n=[{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ExecutionFailed",inputs:[]}],Z6n="0x6080604052348015600f57600080fd5b50603f80601d6000396000f3fe6080604052600080fdfea264697066735822122070e8319b78da08f58cb6bf69f50e33c8c919ae6c2113f3ef3b34f1da6bf44c5f64736f6c63430008170033",X6n={};Ue(X6n,{abi:()=>e5n,bytecode:()=>t5n});e5n=[{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1}],t5n="0x",n5n={};Ue(n5n,{abi:()=>r5n,bytecode:()=>i5n});r5n=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],i5n="0x",a5n={};Ue(a5n,{abi:()=>o5n,bytecode:()=>s5n});o5n=[{type:"function",name:"approve",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"operator",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],s5n="0x",c5n={};Ue(c5n,{abi:()=>l5n,bytecode:()=>u5n});l5n=[{type:"function",name:"accountId",inputs:[],outputs:[{name:"accountImplementationId",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"installModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"isModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"additionalContext",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"encodedMode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"uninstallModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"deInitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"ModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"ModuleUninstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1}],u5n="0x",f5n={};Ue(f5n,{abi:()=>d5n,bytecode:()=>p5n});d5n=[{type:"function",name:"postOp",inputs:[{name:"mode",type:"uint8",internalType:"enum IPaymaster.PostOpMode"},{name:"context",type:"bytes",internalType:"bytes"},{name:"actualGasCost",type:"uint256",internalType:"uint256"},{name:"actualUserOpFeePerGas",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"validatePaymasterUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"maxCost",type:"uint256",internalType:"uint256"}],outputs:[{name:"context",type:"bytes",internalType:"bytes"},{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}],p5n="0x",h5n={};Ue(h5n,{abi:()=>m5n,bytecode:()=>y5n});m5n=[{type:"function",name:"addStake",inputs:[{name:"_unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],y5n="0x",b5n={};Ue(b5n,{abi:()=>g5n,bytecode:()=>w5n});g5n=[{type:"function",name:"addStake",inputs:[{name:"_unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegateAndRevert",inputs:[{name:"target",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getSenderAddress",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"handleAggregatedOps",inputs:[{name:"opsPerAggregator",type:"tuple[]",internalType:"struct IEntryPoint.UserOpsPerAggregator[]",components:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"aggregator",type:"address",internalType:"contract IAggregator"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"handleOps",inputs:[{name:"ops",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AccountDeployed",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"factory",type:"address",indexed:!1,internalType:"address"},{name:"paymaster",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeforeExecution",inputs:[],anonymous:!1},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PostOpRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"SignatureAggregatorChanged",inputs:[{name:"aggregator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationEvent",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"paymaster",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"},{name:"actualGasCost",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actualGasUsed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationPrefundTooLow",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"DelegateAndRevert",inputs:[{name:"success",type:"bool",internalType:"bool"},{name:"ret",type:"bytes",internalType:"bytes"}]},{type:"error",name:"FailedOp",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"}]},{type:"error",name:"FailedOpWithRevert",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"},{name:"inner",type:"bytes",internalType:"bytes"}]},{type:"error",name:"PostOpReverted",inputs:[{name:"returnData",type:"bytes",internalType:"bytes"}]},{type:"error",name:"SenderAddressResult",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"SignatureValidationFailed",inputs:[{name:"aggregator",type:"address",internalType:"address"}]}],w5n="0x",v5n={};Ue(v5n,{abi:()=>E5n,bytecode:()=>x5n});E5n=[{type:"function",name:"adapters",inputs:[{name:"id",type:"string",internalType:"string"}],outputs:[{name:"",type:"tuple",internalType:"struct IMetaSwap.Adapter",components:[{name:"addr",type:"address",internalType:"address"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"data",type:"bytes",internalType:"bytes"}]}],stateMutability:"view"},{type:"function",name:"removeAdapter",inputs:[{name:"aggregatorId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setAdapter",inputs:[{name:"aggregatorId",type:"string",internalType:"string"},{name:"addr",type:"address",internalType:"address"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swap",inputs:[{name:"aggregatorId",type:"string",internalType:"string"},{name:"tokenFrom",type:"address",internalType:"contract IERC20"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],x5n="0x",Ia={};Ue(Ia,{abi:()=>A5n,bytecode:()=>_5n});A5n=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"addKey",inputs:[{name:"_keyId",type:"string",internalType:"string"},{name:"_x",type:"uint256",internalType:"uint256"},{name:"_y",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getKey",inputs:[{name:"_keyId",type:"string",internalType:"string"}],outputs:[{name:"x_",type:"uint256",internalType:"uint256"},{name:"y_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getKeyIdHashes",inputs:[],outputs:[{name:"",type:"bytes32[]",internalType:"bytes32[]"}],stateMutability:"view"},{type:"function",name:"getKeyIdHashesCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"reinitialize",inputs:[{name:"_version",type:"uint8",internalType:"uint8"},{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"},{name:"_deleteP256Keys",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeKey",inputs:[{name:"_keyId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateSigners",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AddedP256Key",inputs:[{name:"keyIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"keyId",type:"string",indexed:!1,internalType:"string"},{name:"x",type:"uint256",indexed:!1,internalType:"uint256"},{name:"y",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RemovedP256Key",inputs:[{name:"keyIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"x",type:"uint256",indexed:!1,internalType:"uint256"},{name:"y",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"CannotRemoveLastSigner",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InputLengthsMismatch",inputs:[{name:"keyIdsLength",type:"uint256",internalType:"uint256"},{name:"xValuesLength",type:"uint256",internalType:"uint256"},{name:"yValuesLength",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidEmptyKey",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"KeyAlreadyExists",inputs:[{name:"keyIdHash",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"KeyDoesNotExist",inputs:[{name:"keyIdHash",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"KeyNotOnCurve",inputs:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"SignersCannotBeEmpty",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],_5n="0x6101c0604052306080523480156200001657600080fd5b506040516200556538038062005565833981016040819052620000399162000319565b81816040518060400160405280600f81526020016e243cb13934b22232b632a3b0ba37b960891b815250604051806040016040528060018152602001603160f81b815250818162000095600083620001ca60201b90919060201c565b61014052620000a6816001620001ca565b61016052815160208084019190912061010052815190820120610120524660c052620001366101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0526200014962000203565b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a250505050505062000541565b6000602083511015620001ea57620001e283620002b7565b9050620001fd565b81620001f78482620003ff565b5060ff90505b92915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff1615620002545760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b0390811614620002b45780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b600080829050601f81511115620002ee578260405163305a27a960e01b8152600401620002e59190620004cb565b60405180910390fd5b8051620002fb826200051c565b179392505050565b6001600160a01b0381168114620002b457600080fd5b600080604083850312156200032d57600080fd5b82516200033a8162000303565b60208401519092506200034d8162000303565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200038357607f821691505b602082108103620003a457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620003fa576000816000526020600020601f850160051c81016020861015620003d55750805b601f850160051c820191505b81811015620003f657828155600101620003e1565b5050505b505050565b81516001600160401b038111156200041b576200041b62000358565b62000433816200042c84546200036e565b84620003aa565b602080601f8311600181146200046b5760008415620004525750858301515b600019600386901b1c1916600185901b178555620003f6565b600085815260208120601f198616915b828110156200049c578886015182559484019460019091019084016200047b565b5085821015620004bb5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620004fb57858101830151858201604001528201620004dd565b506000604082860101526040601f19601f8301168501019250505092915050565b80516020808301519190811015620003a45760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051614eeb6200067a6000396000818161068c0152818161091e015281816109cb01528181610abe01528181610b3c01528181610ca001528181610d5501528181610de001528181610e5001528181610f3c01528181610ff701528181611069015281816112c301528181611342015281816113ab015281816114a60152818161156501528181611a1b01528181611d0e01528181611d7c0152612d4e0152600081816107ff01528181610b9f01528181610c2201528181610d030152818161140e01526117ac0152600061275a0152600061272d01526000611f3e01526000611f1601526000611e7101526000611e9b01526000611ec5015260008181612190015281816121b901526126100152614eeb6000f3fe6080604052600436106102765760003560e01c80638da5cb5b1161014f578063c8561e73116100c1578063e9ae5c531161007a578063e9ae5c53146107da578063ea4d3c9b146107ed578063ed8101b514610821578063f23a6e6114610841578063f2fde38b14610861578063ffa1ad741461088157600080fd5b8063c8561e7314610710578063cef6d20914610730578063d087d28814610750578063d37aec9214610765578063d5d33b551461079a578063d691c964146107ba57600080fd5b8063acb8cc4911610113578063acb8cc491461061c578063ad3cb1cc14610649578063b0d691fe1461067a578063b3c65015146106ae578063bc197c81146106db578063c399ec88146106fb57600080fd5b80638da5cb5b1461054d5780638ebf95331461058c578063a24c8f32146105ac578063a3f4df7e146105bf578063aaf10f421461060757600080fd5b8063445140b8116101e85780635c1c6dcd116101ac5780635c1c6dcd146104a8578063715018a6146104bb57806378a68ecf146104d05780637f07bfdc146104f057806383ebb7711461051057806384b0196e1461052557600080fd5b8063445140b81461043857806349934047146104585780634a58db19146104785780634f1ef2861461048057806352d1902d1461049357600080fd5b806319822f7c1161023a57806319822f7c146103605780631c03010a146103805780632b3afd99146103a25780632ffeaad6146103d65780633e1b0812146103f85780633ed010151461041857600080fd5b806301ffc9a71461028257806306394d67146102b7578063074feff3146102e5578063150b7a02146103075780631626ba7e1461034057600080fd5b3661027d57005b600080fd5b34801561028e57600080fd5b506102a261029d366004613d03565b6108b2565b60405190151581526020015b60405180910390f35b3480156102c357600080fd5b506102d76102d2366004613d46565b6108de565b6040519081526020016102ae565b3480156102f157600080fd5b50610305610300366004613ded565b610913565b005b34801561031357600080fd5b50610327610322366004613f5c565b610984565b6040516001600160e01b031990911681526020016102ae565b34801561034c57600080fd5b5061032761035b366004614008565b61099f565b34801561036c57600080fd5b506102d761037b366004614053565b6109be565b34801561038c57600080fd5b50600080516020614e36833981519152546102d7565b3480156103ae57600080fd5b506102d77fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156103e257600080fd5b506103eb610a2e565b6040516102ae91906140a0565b34801561040457600080fd5b506102d76104133660046140d8565b610a97565b34801561042457600080fd5b50610305610433366004614101565b610b31565b34801561044457600080fd5b506102a261045336600461413b565b610c09565b34801561046457600080fd5b50610305610473366004614101565b610c95565b610305610d38565b61030561048e366004614154565b610da2565b34801561049f57600080fd5b506102d7610db8565b6103056104b63660046141a3565b610dd5565b3480156104c757600080fd5b50610305610e45565b3480156104dc57600080fd5b506103056104eb3660046141f6565b610ea8565b3480156104fc57600080fd5b5061030561050b3660046142c8565b610fec565b34801561051c57600080fd5b506102d76110c9565b34801561053157600080fd5b5061053a6110d8565b6040516102ae9796959493929190614344565b34801561055957600080fd5b50600080516020614e16833981519152546001600160a01b03165b6040516001600160a01b0390911681526020016102ae565b34801561059857600080fd5b506103056105a7366004613ded565b61111e565b6103056105ba366004614154565b610daa565b3480156105cb57600080fd5b506105fa6040518060400160405280600f81526020016e243cb13934b22232b632a3b0ba37b960891b81525081565b6040516102ae91906143dd565b34801561061357600080fd5b5061057461123a565b34801561062857600080fd5b506105fa604051806040016040528060018152602001603160f81b81525081565b34801561065557600080fd5b506105fa604051806040016040528060058152602001640352e302e360dc1b81525081565b34801561068657600080fd5b506105747f000000000000000000000000000000000000000000000000000000000000000081565b3480156106ba57600080fd5b506106c361125b565b6040516001600160401b0390911681526020016102ae565b3480156106e757600080fd5b506103276106f636600461446f565b61128e565b34801561070757600080fd5b506102d76112ab565b34801561071c57600080fd5b5061030561072b36600461451c565b611337565b34801561073c57600080fd5b5061030561074b36600461456c565b6113a0565b34801561075c57600080fd5b506102d7611487565b34801561077157600080fd5b50610785610780366004614605565b6114dd565b604080519283526020830191909152016102ae565b3480156107a657600080fd5b506103056107b5366004614605565b61155a565b6107cd6107c8366004614008565b61179f565b6040516102ae9190614646565b6103056107e8366004614008565b611a10565b3480156107f957600080fd5b506105747f000000000000000000000000000000000000000000000000000000000000000081565b34801561082d57600080fd5b506102d761083c366004613d46565b611c13565b34801561084d57600080fd5b5061032761085c3660046146aa565b611d55565b34801561086d57600080fd5b5061030561087c366004614712565b611d71565b34801561088d57600080fd5b506105fa604051806040016040528060058152602001640312e332e360dc1b81525081565b60006108bd82611dd4565b806108d857506001600160e01b031982166307f5828d60e41b145b92915050565b60006108d86108eb611e64565b6108f484611c13565b60405161190160f01b8152600281019290925260228201526042902090565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061094c5750333014155b1561096a57604051630796d94560e01b815260040160405180910390fd5b61097b878787878787876001611f8f565b50505050505050565b600061098e612185565b50630a85bd0160e11b949350505050565b60006109a9612185565b6109b484848461222a565b90505b9392505050565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610a0957604051636b31ba1560e11b815260040160405180910390fd5b610a11612185565b610a2384610a1e866108de565b61244e565b90506109b782612496565b60606000600080516020614e1683398151915260028101805460408051602080840282018101909252828152939450830182828015610a8c57602002820191906000526020600020905b815481526020019060010190808311610a78575b505050505091505090565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610b0d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d8919061472f565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610b6a5750333014155b15610b8857604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed0101590610bd4908490600401614877565b600060405180830381600087803b158015610bee57600080fd5b505af1158015610c02573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610c71573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d89190614953565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610cce5750333014155b15610cec57604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690634993404790610bd4908490600401614877565b610d40612185565b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b158015610bee57600080fd5b610daa61252d565b610db482826125ea565b5050565b6000610dc2612605565b50600080516020614e5683398151915290565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610e1e57604051636b31ba1560e11b815260040160405180910390fd5b610db4610e2e6020830183614712565b6020830135610e406040850185614970565b61264e565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610e7e5750333014155b15610e9c57604051630796d94560e01b815260040160405180910390fd5b610ea66000612684565b565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805460ff8b81169291600160401b90041680610ef2575080546001600160401b03808416911610155b15610f105760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b178155336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610f6a5750333014155b15610f8857604051630796d94560e01b815260040160405180910390fd5b610f988a8a8a8a8a8a8a8a611f8f565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15050505050505050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906110255750333014155b1561104357604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156110ad57600080fd5b505af11580156110c1573d6000803e3d6000fd5b505050505050565b60006110d3611e64565b905090565b6000606080600080600060606110ec612726565b6110f4612753565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff1615906001600160401b03166000811580156111635750825b90506000826001600160401b0316600114801561117f5750303b155b90508115801561118d575080155b156111ab5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156111d557845460ff60401b1916600160401b1785555b6111e68c8c8c8c8c8c8c6000611f8f565b831561122c57845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050505050565b60006110d3600080516020614e56833981519152546001600160a01b031690565b60006110d37ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00546001600160401b031690565b6000611298612185565b5063bc197c8160e01b5b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015611313573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110d3919061472f565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906113705750333014155b1561138e57604051630796d94560e01b815260040160405180910390fd5b61139a84848484612780565b50505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906113d95750333014155b156113f757604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061144d90899089908990899089908990600401614a17565b600060405180830381600087803b15801561146757600080fd5b505af115801561147b573d6000803e3d6000fd5b50505050505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a906044016112f6565b60008080600080516020614e1683398151915290506000816001016000878760405160200161150d929190614a80565b60408051601f198184030181529181528151602092830120835282820193909352908201600020825180840190935280548084526001909101549290910182905297909650945050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906115935750333014155b156115b157604051630796d94560e01b815260040160405180910390fd5b604051600080516020614e16833981519152906000906115d79085908590602001614a80565b60408051601f198184030181528282528051602091820120600081815260018088018452908490208585019094528354808652930154918401829052935081158015611621575080155b1561164757604051631a36430d60e31b8152600481018590526024015b60405180910390fd5b6002850154600181148015611664575085546001600160a01b0316155b156116825760405163c4c8547360e01b815260040160405180910390fd5b60005b611690600183614aa6565b81101561171557858760020182815481106116ad576116ad614ab9565b90600052602060002001540361170d57600287016116cc600184614aa6565b815481106116dc576116dc614ab9565b90600052602060002001548760020182815481106116fc576116fc614ab9565b600091825260209091200155611715565b600101611685565b508560020180548061172957611729614acf565b60008281526020808220830160001990810183905590920190925586825260018881018252604080842084815590910192909255815185815290810184905286917facf0e8088062f44f734bbcb5223794fd8bb6f6db1c199cb6a72df119d002a71b910160405180910390a25050505050505050565b6060336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146117ea57604051630692ce8160e21b815260040160405180910390fd5b83600881901b6117fe82600160f81b6128fd565b1561187f57366000611810878761290f565b90925090506118208360006128fd565b156118365761182f82826129a8565b9450611878565b61184483600160f81b6128fd565b156118535761182f8282612a69565b6040516308c3ee0360e11b81526001600160f81b03198416600482015260240161163e565b5050611a07565b61188a8260006128fd565b156119e25760008036600061189f8989612b96565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816118be57905050965060006118e186826128fd565b15611915576118f28585858561264e565b8860008151811061190557611905614ab9565b60200260200101819052506119d8565b61192386600160f81b6128fd565b156119b35761193485858585612be7565b8960008151811061194757611947614ab9565b60209081029190910101529050806119ae577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008960008151811061198f5761198f614ab9565b60200260200101516040516119a5929190614ae5565b60405180910390a15b6119d8565b6040516308c3ee0360e11b81526001600160f81b03198716600482015260240161163e565b5050505050611a07565b604051632e5bf3f960e21b81526001600160f81b03198316600482015260240161163e565b50509392505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611a5957604051636b31ba1560e11b815260040160405180910390fd5b82600881901b611a6d82600160f81b6128fd565b15611ac857366000611a7f868661290f565b9092509050611a8f8360006128fd565b15611aa457611a9e82826129a8565b50611ac1565b611ab283600160f81b6128fd565b1561185357611a9e8282612a69565b5050610c02565b611ad38260006128fd565b156119e257600080366000611ae88888612b96565b9350935093509350611afe85600060f81b6128fd565b15611b1557611b0f8484848461264e565b50611c0a565b611b2385600160f81b6128fd565b15611be557604080516001808252818301909252600091816020015b6060815260200190600190039081611b3f5790505090506000611b6486868686612be7565b83600081518110611b7757611b77614ab9565b6020908102919091010152905080611bde577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb7600083600081518110611bbf57611bbf614ab9565b6020026020010151604051611bd5929190614ae5565b60405180910390a15b5050611c0a565b6040516308c3ee0360e11b81526001600160f81b03198616600482015260240161163e565b50505050610c02565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc18611c436020840184614712565b6020840135611c556040860186614970565b604051611c63929190614a80565b604051908190039020611c796060870187614970565b604051611c87929190614a80565b604051908190039020608087013560a088013560c0890135611cac60e08b018b614970565b604051611cba929190614a80565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b6000611d5f612185565b5063f23a6e6160e01b95945050505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611daa5750333014155b15611dc857604051630796d94560e01b815260040160405180910390fd5b611dd181612684565b50565b6000611dde612185565b6001600160e01b031982166335a4725960e21b1480611e0d57506001600160e01b03198216630a85bd0160e11b145b80611e2857506001600160e01b03198216630271189760e51b145b80611e4357506001600160e01b031982166301ffc9a760e01b145b806108d8575050630b135d3f60e11b6001600160e01b03198216145b919050565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611ebd57507f000000000000000000000000000000000000000000000000000000000000000046145b15611ee757507f000000000000000000000000000000000000000000000000000000000000000090565b6110d3604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b856001600160a01b038916158015611fa5575080155b8015611fae5750815b15611fcc576040516312da594d60e11b815260040160405180910390fd5b8085141580611fdb5750808314155b1561200a5760405163a297991b60e01b815260048101829052602481018690526044810184905260640161163e565b81156120ff57600080516020614e3683398151915254600080516020614e168339815191529080156120fc5760005b818110156120ed57600083600201828154811061205857612058614ab9565b6000918252602080832090910154808352600180880180845260408086208151808301835281548152938101805485880190815286895293909652869055949093558051925193519194509284927facf0e8088062f44f734bbcb5223794fd8bb6f6db1c199cb6a72df119d002a71b926120db9290918252602082015260400190565b60405180910390a25050600101612039565b506120fc600283016000613cd1565b50505b60005b818110156121705761216889898381811061211f5761211f614ab9565b90506020028101906121319190614970565b89898581811061214357612143614ab9565b9050602002013588888681811061215c5761215c614ab9565b90506020020135612780565b600101612102565b5061217a89612684565b505050505050505050565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148061220c57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316612200600080516020614e56833981519152546001600160a01b031690565b6001600160a01b031614155b15610ea65760405163703e46dd60e11b815260040160405180910390fd5b60008160418190036122c757600080516020614e16833981519152546001600160a01b03166001600160a01b03166122988686868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250612c1892505050565b6001600160a01b0316036122b65750630b135d3f60e11b90506109b7565b506001600160e01b031990506109b7565b60608110156122e157506001600160e01b031990506109b7565b600080516020614e1683398151915260006122ff6020828789614afe565b61230891614b28565b60008181526001808501602090815260409283902083518085019094528054808552920154908301529192509015801561234457506020810151155b1561235e57506001600160e01b031993506109b792505050565b8360601480156123b257506123b28888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050855160208701519092509050612c42565b156123cb5750630b135d3f60e11b93506109b792505050565b8360601415801561242057506124208888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050855160208701519092509050612ce0565b156124395750630b135d3f60e11b93506109b792505050565b506001600160e01b031993506109b792505050565b60008061246883612463610100870187614970565b61222a565b90506374eca2c160e11b6001600160e01b031982160161248c5760009150506108d8565b5060019392505050565b8015611dd157604051600090339060001990849084818181858888f193505050503d80600081146124e3576040519150601f19603f3d011682016040523d82523d6000602084013e6124e8565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a25050565b600080516020614e3683398151915254600080516020614e168339815191529060005b818110156125a05782600101600084600201838154811061257357612573614ab9565b60009182526020808320909101548352820192909252604001812081815560019081019190915501612550565b506125af600283016000613cd1565b81546001600160a01b03191682556040517feb09d532980c3cc73dcad99b80e264204a667a54cbb7b63ec8d68dcb1c7096be90600090a15050565b6125f2612185565b6125fb82612d43565b610db48282612d9a565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610ea65760405163703e46dd60e11b815260040160405180910390fd5b60405181838237600038838387895af161266b573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b600080516020614e3683398151915254600080516020614e16833981519152901580156126b857506001600160a01b038216155b156126d65760405163c4c8547360e01b815260040160405180910390fd5b80546001600160a01b031981166001600160a01b03848116918217845560405192169182907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3505050565b60606110d37f00000000000000000000000000000000000000000000000000000000000000006000612e5c565b60606110d37f00000000000000000000000000000000000000000000000000000000000000006001612e5c565b61278a8282612f07565b6127b1576040516313c3d61f60e01b8152600481018390526024810182905260440161163e565b600084846040516020016127c6929190614a80565b6040516020818303038152906040528051906020012090508484905060000361280257604051637e25658160e11b815260040160405180910390fd5b60008181527fa2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694901602052604090208054600080516020614e1683398151915291901515806128525750600181015415155b15612873576040516361db108160e01b81526004810184905260240161163e565b604080518082018252868152602080820187815260008781526001808801845285822094518555915193820193909355600286018054918201815583529120018490555183907fd00539cb08a7c24166308150d64d603150c01baf89d3d3e4c6063d6db7c6983d906128ec908a908a908a908a90614b46565b60405180910390a250505050505050565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156129475763ba597e7e6000526004601cfd5b831561299e578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156129955763ba597e7e6000526004601cfd5b50505082612951575b5050509250929050565b606081806001600160401b038111156129c3576129c3613e99565b6040519080825280602002602001820160405280156129f657816020015b60608152602001906001900390816129e15790505b50915060005b81811015612a615736858583818110612a1757612a17614ab9565b9050602002810190612a299190614b6d565b9050612a3b610e2e6020830183614712565b848381518110612a4d57612a4d614ab9565b6020908102919091010152506001016129fc565b505092915050565b606081806001600160401b03811115612a8457612a84613e99565b604051908082528060200260200182016040528015612ab757816020015b6060815260200190600190039081612aa25790505b50915060005b81811015612a615736858583818110612ad857612ad8614ab9565b9050602002810190612aea9190614b6d565b90506000612b15612afe6020840184614712565b6020840135612b106040860186614970565b612be7565b868581518110612b2757612b27614ab9565b6020908102919091010152905080612b8c577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612b6d57612b6d614ab9565b6020026020010151604051612b83929190614ae5565b60405180910390a15b5050600101612abd565b6000803681612ba86014828789614afe565b612bb191614b8d565b60601c9350612bc4603460148789614afe565b612bcd91614b28565b9250612bdc8560348189614afe565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080612c288686612f6a565b925092509250612c388282612fb7565b5090949350505050565b6000806000612c5086613070565b915091506000600288604051602001612c6b91815260200190565b60408051601f1981840301815290829052612c8591614bc0565b602060405180830381855afa158015612ca2573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190612cc5919061472f565b9050612cd48184848989613092565b98975050505050505050565b600080612cec85613241565b9050612d3986604051602001612d0491815260200190565b60408051601f198184030181529181528301516060840151608085015160a086015160c0870151875160208901518c8c6132bf565b9695505050505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590612d7c5750333014155b15611dd157604051630796d94560e01b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015612df4575060408051601f3d908101601f19168201909252612df19181019061472f565b60015b612e1c57604051634c9c8ce360e01b81526001600160a01b038316600482015260240161163e565b600080516020614e568339815191528114612e4d57604051632a87526960e21b81526004810182905260240161163e565b612e57838361345d565b505050565b606060ff8314612e7657612e6f836134b3565b90506108d8565b818054612e8290614bd2565b80601f0160208091040260200160405190810160405280929190818152602001828054612eae90614bd2565b8015612efb5780601f10612ed057610100808354040283529160200191612efb565b820191906000526020600020905b815481529060010190602001808311612ede57829003601f168201915b505050505090506108d8565b60006109b76ffffffffeffffffffffffffffffffffff60601b197fffffffff00000001000000000000000000000000fffffffffffffffffffffffc7f5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b86866134f2565b60008060008351604103612fa45760208401516040850151606086015160001a612f968882858561359d565b955095509550505050612fb0565b50508151600091506002905b9250925092565b6000826003811115612fcb57612fcb614c06565b03612fd4575050565b6001826003811115612fe857612fe8614c06565b036130065760405163f645eedf60e01b815260040160405180910390fd5b600282600381111561301a5761301a614c06565b0361303b5760405163fce698f760e01b81526004810182905260240161163e565b600382600381111561304f5761304f614c06565b03610db4576040516335e2f38360e21b81526004810182905260240161163e565b600080828060200190518101906130879190614c1c565b909590945092505050565b60006130bf60027fffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551614c60565b8411156130ce575060006112a2565b6040805160208101889052908101869052606081018590526080810184905260a0810183905260009060c00160405160208183030381529060405290506000806101006001600160a01b0316836040516131289190614bc0565b600060405180830381855afa9150503d8060008114613163576040519150601f19603f3d011682016040523d82523d6000602084013e613168565b606091505b5080519193509150151582801561317c5750805b156131a35781806020019051810190613195919061472f565b6001149450505050506112a2565b60405163a1f3128160e01b8152600481018b9052602481018a905260448101899052606481018890526084810187905273__$b8f96b288d4d0429e38b8ed50fd423070f$__9063a1f312819060a401602060405180830381865af415801561320f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132339190614953565b9a9950505050505050505050565b6132836040518060e001604052806000815260200160008152602001606081526020016000151581526020016060815260200160608152602001600081525090565b818060200190518101906132979190614cc7565b60c089015260a088015260808701521515606086015260408501526020840152825250919050565b600060258a5110806132f957506132f78a6020815181106132e2576132e2614ab9565b01602001516001600160f81b0319168a61366c565b155b1561330657506000613233565b6000886133128d6136d2565b8960405160200161332593929190614d86565b60408051601f198184030181528282019091526015825274113a3cb832911d113bb2b130baba34371733b2ba1160591b6020830152915061336781838a6138df565b61337657600092505050613233565b60006002836040516133889190614bc0565b602060405180830381855afa1580156133a5573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906133c8919061472f565b9050600060028e836040516020016133e1929190614dc9565b60408051601f19818403018152908290526133fb91614bc0565b602060405180830381855afa158015613418573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061343b919061472f565b905061344a818a8a8a8a613092565b9f9e505050505050505050505050505050565b6134668261398e565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a28051156134ab57612e5782826139f3565b610db4613a60565b606060006134c083613a7f565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600082158015613500575081155b8061350b5750858310155b806135165750858210155b15613523575060006112a2565b6000868061353357613533614c4a565b83840990506000878061354857613548614c4a565b888061355657613556614c4a565b888709898061356757613567614c4a565b878b8061357657613576614c4a565b898a0909089050878061358b5761358b614c4a565b86820891909114979650505050505050565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08411156135d85750600091506003905082613662565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa15801561362c573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661365857506000925060019150829050613662565b9250600091508190505b9450945094915050565b6000600160f81b83811614613683575060006108d8565b8180156136965750600160fa1b83811614155b156136a3575060006108d8565b600160fb1b838116146136c957600f60fc1b600160fc1b8416016136c9575060006108d8565b50600192915050565b606060006136df83613aa7565b9050600081905060006002825111801561372a575081600283516137039190614aa6565b8151811061371357613713614ab9565b6020910101516001600160f81b031916603d60f81b145b1561373757506002613782565b60018251118015613779575081600183516137529190614aa6565b8151811061376257613762614ab9565b6020910101516001600160f81b031916603d60f81b145b15613782575060015b60008183516137919190614aa6565b90506000816001600160401b038111156137ad576137ad613e99565b6040519080825280601f01601f1916602001820160405280156137d7576020820181803683370190505b50905060005b828110156138d4578481815181106137f7576137f7614ab9565b01602001516001600160f81b031916602b60f81b0361384357602d60f81b82828151811061382757613827614ab9565b60200101906001600160f81b031916908160001a9053506138cc565b84818151811061385557613855614ab9565b01602001516001600160f81b031916602f60f81b0361388557605f60f81b82828151811061382757613827614ab9565b84818151811061389757613897614ab9565b602001015160f81c60f81b8282815181106138b4576138b4614ab9565b60200101906001600160f81b031916908160001a9053505b6001016137dd565b509695505050505050565b825182516000918591859190845b8281101561397f57816139008289614deb565b10613913576000955050505050506109b7565b8361391e8289614deb565b8151811061392e5761392e614ab9565b602001015160f81c60f81b6001600160f81b03191685828151811061395557613955614ab9565b01602001516001600160f81b03191614613977576000955050505050506109b7565b6001016138ed565b50600198975050505050505050565b806001600160a01b03163b6000036139c457604051634c9c8ce360e01b81526001600160a01b038216600482015260240161163e565b600080516020614e5683398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b031684604051613a109190614bc0565b600060405180830381855af49150503d8060008114613a4b576040519150601f19603f3d011682016040523d82523d6000602084013e613a50565b606091505b50915091506112a2858383613acd565b3415610ea65760405163b398979f60e01b815260040160405180910390fd5b600060ff8216601f8111156108d857604051632cd44ac360e21b815260040160405180910390fd5b60606108d882604051806060016040528060408152602001614e76604091396001613b29565b606082613ae257613add82613ca8565b6109b7565b8151158015613af957506001600160a01b0384163b155b15613b2257604051639996b31560e01b81526001600160a01b038516600482015260240161163e565b50806109b7565b60608351600003613b4957506040805160208101909152600081526109b7565b600082613b7a57600385516004613b609190614dfe565b613b6b906002614deb565b613b759190614c60565b613b9f565b600385516002613b8a9190614deb565b613b949190614c60565b613b9f906004614dfe565b90506000816001600160401b03811115613bbb57613bbb613e99565b6040519080825280601f01601f191660200182016040528015613be5576020820181803683370190505b50905060018501602082018788518901602081018051600082525b82841015613c5b576003840193508351603f8160121c168701518653600186019550603f81600c1c168701518653600186019550603f8160061c168701518653600186019550603f8116870151865350600185019450613c00565b905250508515613c9c57600388510660018114613c7f5760028114613c9257613c9a565b603d6001830353603d6002830353613c9a565b603d60018303535b505b50909695505050505050565b805115613cb85780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b5080546000825590600052602060002090810190611dd191905b80821115613cff5760008155600101613ceb565b5090565b600060208284031215613d1557600080fd5b81356001600160e01b0319811681146109b757600080fd5b60006101208284031215613d4057600080fd5b50919050565b600060208284031215613d5857600080fd5b81356001600160401b03811115613d6e57600080fd5b613d7a84828501613d2d565b949350505050565b6001600160a01b0381168114611dd157600080fd5b8035611e5f81613d82565b60008083601f840112613db457600080fd5b5081356001600160401b03811115613dcb57600080fd5b6020830191508360208260051b8501011115613de657600080fd5b9250929050565b60008060008060008060006080888a031215613e0857600080fd5b8735613e1381613d82565b965060208801356001600160401b0380821115613e2f57600080fd5b613e3b8b838c01613da2565b909850965060408a0135915080821115613e5457600080fd5b613e608b838c01613da2565b909650945060608a0135915080821115613e7957600080fd5b50613e868a828b01613da2565b989b979a50959850939692959293505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715613ed757613ed7613e99565b604052919050565b60006001600160401b03821115613ef857613ef8613e99565b50601f01601f191660200190565b600082601f830112613f1757600080fd5b8135613f2a613f2582613edf565b613eaf565b818152846020838601011115613f3f57600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215613f7257600080fd5b8435613f7d81613d82565b93506020850135613f8d81613d82565b92506040850135915060608501356001600160401b03811115613faf57600080fd5b613fbb87828801613f06565b91505092959194509250565b60008083601f840112613fd957600080fd5b5081356001600160401b03811115613ff057600080fd5b602083019150836020828501011115613de657600080fd5b60008060006040848603121561401d57600080fd5b8335925060208401356001600160401b0381111561403a57600080fd5b61404686828701613fc7565b9497909650939450505050565b60008060006060848603121561406857600080fd5b83356001600160401b0381111561407e57600080fd5b61408a86828701613d2d565b9660208601359650604090950135949350505050565b6020808252825182820181905260009190848201906040850190845b81811015613c9c578351835292840192918401916001016140bc565b6000602082840312156140ea57600080fd5b81356001600160c01b03811681146109b757600080fd5b60006020828403121561411357600080fd5b81356001600160401b0381111561412957600080fd5b820160c081850312156109b757600080fd5b60006020828403121561414d57600080fd5b5035919050565b6000806040838503121561416757600080fd5b823561417281613d82565b915060208301356001600160401b0381111561418d57600080fd5b61419985828601613f06565b9150509250929050565b6000602082840312156141b557600080fd5b81356001600160401b038111156141cb57600080fd5b8201606081850312156109b757600080fd5b8015158114611dd157600080fd5b8035611e5f816141dd565b600080600080600080600080600060c08a8c03121561421457600080fd5b893560ff8116811461422557600080fd5b985061423360208b01613d97565b975060408a01356001600160401b038082111561424f57600080fd5b61425b8d838e01613da2565b909950975060608c013591508082111561427457600080fd5b6142808d838e01613da2565b909750955060808c013591508082111561429957600080fd5b506142a68c828d01613da2565b90945092506142b9905060a08b016141eb565b90509295985092959850929598565b600080604083850312156142db57600080fd5b82356142e681613d82565b946020939093013593505050565b60005b8381101561430f5781810151838201526020016142f7565b50506000910152565b600081518084526143308160208601602086016142f4565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e0602084015261436560e084018a614318565b8381036040850152614377818a614318565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156143cb578351835292840192918401916001016143af565b50909c9b505050505050505050505050565b6020815260006109b76020830184614318565b600082601f83011261440157600080fd5b813560206001600160401b0382111561441c5761441c613e99565b8160051b61442b828201613eaf565b928352848101820192828101908785111561444557600080fd5b83870192505b848310156144645782358252918301919083019061444b565b979650505050505050565b600080600080600060a0868803121561448757600080fd5b853561449281613d82565b945060208601356144a281613d82565b935060408601356001600160401b03808211156144be57600080fd5b6144ca89838a016143f0565b945060608801359150808211156144e057600080fd5b6144ec89838a016143f0565b9350608088013591508082111561450257600080fd5b5061450f88828901613f06565b9150509295509295909350565b6000806000806060858703121561453257600080fd5b84356001600160401b0381111561454857600080fd5b61455487828801613fc7565b90989097506020870135966040013595509350505050565b6000806000806000806060878903121561458557600080fd5b86356001600160401b038082111561459c57600080fd5b6145a88a838b01613da2565b909850965060208901359150808211156145c157600080fd5b6145cd8a838b01613da2565b909650945060408901359150808211156145e657600080fd5b506145f389828a01613da2565b979a9699509497509295939492505050565b6000806020838503121561461857600080fd5b82356001600160401b0381111561462e57600080fd5b61463a85828601613fc7565b90969095509350505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b8281101561469d57603f1988860301845261468b858351614318565b9450928501929085019060010161466f565b5092979650505050505050565b600080600080600060a086880312156146c257600080fd5b85356146cd81613d82565b945060208601356146dd81613d82565b9350604086013592506060860135915060808601356001600160401b0381111561470657600080fd5b61450f88828901613f06565b60006020828403121561472457600080fd5b81356109b781613d82565b60006020828403121561474157600080fd5b5051919050565b6000808335601e1984360301811261475f57600080fd5b83016020810192503590506001600160401b0381111561477e57600080fd5b803603821315613de657600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561486957858403601f19018a52823536899003605e190181126147f5578283fd5b88016060813561480481613d82565b6001600160a01b0316865261481b82880183614748565b828989015261482d838901828461478d565b92505050604061483f81840184614748565b93508783038289015261485383858361478d565b9d89019d975050509386019350506001016147d0565b509198975050505050505050565b602081526000823561488881613d82565b6001600160a01b03908116602084810191909152840135906148a982613d82565b80821660408501525050604083013560608301526060830135601e198436030181126148d457600080fd5b83016020810190356001600160401b038111156148f057600080fd5b8060051b360382131561490257600080fd5b60c0608085015261491760e0850182846147b6565b915050608084013560a084015261493160a0850185614748565b848303601f190160c0860152612d3983828461478d565b8051611e5f816141dd565b60006020828403121561496557600080fd5b81516109b7816141dd565b6000808335601e1984360301811261498757600080fd5b8301803591506001600160401b038211156149a157600080fd5b602001915036819003821315613de657600080fd5b6000838385526020808601955060208560051b8301018460005b87811015614a0a57848303601f190189526149eb8288614748565b6149f685828461478d565b9a86019a94505050908301906001016149d0565b5090979650505050505050565b606081526000614a2b60608301888a6149b6565b8281036020848101919091528682528791810160005b88811015614a5d57833582529282019290820190600101614a41565b508481036040860152614a718187896149b6565b9b9a5050505050505050505050565b8183823760009101908152919050565b634e487b7160e01b600052601160045260246000fd5b818103818111156108d8576108d8614a90565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b8281526040602082015260006109b46040830184614318565b60008085851115614b0e57600080fd5b83861115614b1b57600080fd5b5050820193919092039150565b803560208310156108d857600019602084900360031b1b1692915050565b606081526000614b5a60608301868861478d565b6020830194909452506040015292915050565b60008235605e19833603018112614b8357600080fd5b9190910192915050565b6bffffffffffffffffffffffff198135818116916014851015612a615760149490940360031b84901b1690921692915050565b60008251614b838184602087016142f4565b600181811c90821680614be657607f821691505b602082108103613d4057634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b600080600060608486031215614c3157600080fd5b8351925060208401519150604084015190509250925092565b634e487b7160e01b600052601260045260246000fd5b600082614c7d57634e487b7160e01b600052601260045260246000fd5b500490565b600082601f830112614c9357600080fd5b8151614ca1613f2582613edf565b818152846020838601011115614cb657600080fd5b613d7a8260208301602087016142f4565b600080600080600080600080610100898b031215614ce457600080fd5b88519750602089015196506040890151955060608901516001600160401b0380821115614d1057600080fd5b614d1c8c838d01614c82565b9650614d2a60808c01614948565b955060a08b0151915080821115614d4057600080fd5b614d4c8c838d01614c82565b945060c08b0151915080821115614d6257600080fd5b50614d6f8b828c01614c82565b92505060e089015190509295985092959890939650565b60008451614d988184602089016142f4565b845190830190614dac8183602089016142f4565b8451910190614dbf8183602088016142f4565b0195945050505050565b60008351614ddb8184602088016142f4565b9190910191825250602001919050565b808201808211156108d8576108d8614a90565b80820281158282048414176108d8576108d8614a9056fea2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694900a2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694902360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2fa2646970667358221220d641f685fbc825f5c1c752f10b46c0f81d9143a8b41e10871b92196f03c53fe864736f6c63430008170033",T5n={};Ue(T5n,{abi:()=>S5n,bytecode:()=>C5n});S5n=[],C5n="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212203d81846f7dee1e1b6ac5ec7facf37349f677e4fb70664eb5852e6414aa31b93064736f6c63430008170033",I5n={};Ue(I5n,{abi:()=>R5n,bytecode:()=>O5n});R5n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getIsUsed",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegator",type:"address",internalType:"address"},{name:"_id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"id_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"UsedId",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],O5n="0x608060405234801561001057600080fd5b50610518806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063595dce4814610083578063a145832a146100ab578063b99deb0e146100be578063d3eddcc514610067578063ed46336714610067575b600080fd5b610081610075366004610379565b50505050505050505050565b005b610096610091366004610446565b6100df565b60405190151581526020015b60405180910390f35b6100816100b9366004610379565b610116565b6100d16100cc366004610482565b61028c565b6040519081526020016100a2565b6001600160a01b03808416600090815260208181526040808320938616835292905290812061010e90836102ef565b949350505050565b85600881901b6001600160f81b03198116156101875760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101948c8c61028c565b90506101a13385836100df565b156101ee5760405162461bcd60e51b815260206004820152601a60248201527f4964456e666f726365723a69642d616c72656164792d75736564000000000000604482015260640161017e565b336000908152602081815260408083206001600160a01b03881684528252808320600885901c845290915290208054600160ff84161b179055826001600160a01b0316846001600160a01b0316336001600160a01b03167f6286af1aaf28b34723a53056e5608eabb40c823d1ce093ff371cf08c502431d68460405161027691815260200190565b60405180910390a4505050505050505050505050565b6000602082146102de5760405162461bcd60e51b815260206004820152601f60248201527f4964456e666f726365723a696e76616c69642d7465726d732d6c656e67746800604482015260640161017e565b6102e882846104c4565b9392505050565b600881901c600090815260208390526040902054600160ff83161b1615155b92915050565b60008083601f84011261032657600080fd5b50813567ffffffffffffffff81111561033e57600080fd5b60208301915083602082850101111561035657600080fd5b9250929050565b80356001600160a01b038116811461037457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561039857600080fd5b8a3567ffffffffffffffff808211156103b057600080fd5b6103bc8e838f01610314565b909c509a5060208d01359150808211156103d557600080fd5b6103e18e838f01610314565b909a50985060408d0135975060608d013591508082111561040157600080fd5b5061040e8d828e01610314565b90965094505060808b0135925061042760a08c0161035d565b915061043560c08c0161035d565b90509295989b9194979a5092959850565b60008060006060848603121561045b57600080fd5b6104648461035d565b92506104726020850161035d565b9150604084013590509250925092565b6000806020838503121561049557600080fd5b823567ffffffffffffffff8111156104ac57600080fd5b6104b885828601610314565b90969095509350505050565b8035602083101561030e57600019602084900360031b1b169291505056fea26469706673582212204a96dd3b9054d6055c3a36da342d1ecb848915fb596c41cf0571e73299243bf864736f6c63430008170033",N5n={};Ue(N5n,{abi:()=>P5n,bytecode:()=>k5n});P5n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"callCounts",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"count",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"limit_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"IncreasedCount",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"callCount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],k5n="0x608060405234801561001057600080fd5b506104e9806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806319054d8914610067578063414c3e33146100a1578063a145832a146100bd578063b99deb0e146100d0578063d3eddcc5146100a1578063ed463367146100a1575b600080fd5b61008f6100753660046102ec565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100bb6100af36600461035f565b50505050505050505050565b005b6100bb6100cb36600461035f565b6100e3565b61008f6100de36600461042c565b610244565b85600881901b6100f48160006102b9565b6101535760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101608c8c610244565b33600090815260208181526040808320898452909152812080549293509091829061018a9061046e565b91829055509050818111156101ed5760405162461bcd60e51b815260206004820152602360248201527f4c696d6974656443616c6c73456e666f726365723a6c696d69742d657863656560448201526219195960ea1b606482015260840161014a565b604080518381526020810183905287916001600160a01b0387169133917f449da07f2c06c9d1a6b19d2454ffe749e8cf991d22f686e076a1a4844c5ff370910160405180910390a450505050505050505050505050565b6000602082146102a85760405162461bcd60e51b815260206004820152602960248201527f4c696d6974656443616c6c73456e666f726365723a696e76616c69642d7465726044820152680dae65ad8cadccee8d60bb1b606482015260840161014a565b6102b28284610495565b9392505050565b6001600160f81b0319828116908216145b92915050565b80356001600160a01b03811681146102e757600080fd5b919050565b600080604083850312156102ff57600080fd5b610308836102d0565b946020939093013593505050565b60008083601f84011261032857600080fd5b50813567ffffffffffffffff81111561034057600080fd5b60208301915083602082850101111561035857600080fd5b9250929050565b60008060008060008060008060008060e08b8d03121561037e57600080fd5b8a3567ffffffffffffffff8082111561039657600080fd5b6103a28e838f01610316565b909c509a5060208d01359150808211156103bb57600080fd5b6103c78e838f01610316565b909a50985060408d0135975060608d01359150808211156103e757600080fd5b506103f48d828e01610316565b90965094505060808b0135925061040d60a08c016102d0565b915061041b60c08c016102d0565b90509295989b9194979a5092959850565b6000806020838503121561043f57600080fd5b823567ffffffffffffffff81111561045657600080fd5b61046285828601610316565b90969095509350505050565b60006001820161048e57634e487b7160e01b600052601160045260246000fd5b5060010190565b803560208310156102ca57600019602084900360031b1b169291505056fea264697066735822122058fb87f0b8e8aa4745b9ef395d8bd725c313f876828d7be4c479f4049d6644ac64736f6c63430008170033",M5n={};Ue(M5n,{abi:()=>B5n,bytecode:()=>D5n});B5n=[{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"}],D5n="0x",L5n={};Ue(L5n,{abi:()=>U5n,bytecode:()=>F5n});U5n=[],F5n="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220f3b6a0af2d4dff4702805c39f40ed768201654e38f4d05a5ef7ae0498666b77964736f6c63430008170033",H5n={};Ue(H5n,{abi:()=>z5n,bytecode:()=>j5n});z5n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"initialAmount_",type:"uint256",internalType:"uint256"},{name:"maxAmount_",type:"uint256",internalType:"uint256"},{name:"amountPerSecond_",type:"uint256",internalType:"uint256"},{name:"startTime_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"streamingAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"initialAmount",type:"uint256",internalType:"uint256"},{name:"maxAmount",type:"uint256",internalType:"uint256"},{name:"amountPerSecond",type:"uint256",internalType:"uint256"},{name:"startTime",type:"uint256",internalType:"uint256"},{name:"spent",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"initialAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amountPerSecond",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"},{name:"lastUpdateTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],j5n="0x608060405234801561001057600080fd5b506109a4806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100e9578063fb7d2c5b1461010a57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610765565b50505050505050505050565b005b61009c6100ac366004610765565b610177565b6100c46100bf366004610832565b61025c565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b6100fc6100f7366004610874565b610338565b6040519081526020016100e0565b61014f610118366004610874565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100e0565b856101838160006103a3565b6101d45760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101e58160006103a3565b61023f5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101cb565b5061024e8c8c898989886103ba565b505050505050505050505050565b6000808080608085146102cb5760405162461bcd60e51b815260206004820152603160248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101cb565b6102d960206000878961089e565b6102e2916108c8565b93506102f260406020878961089e565b6102fb916108c8565b925061030b60606040878961089e565b610314916108c8565b915061032460806060878961089e565b61032d916108c8565b939692955090935050565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a0810183528154815260018201549381019390935260028101549183019190915260038101546060830152600481015460808301529061039b9061062e565b949350505050565b6001600160f81b0319828116908216145b92915050565b60006103c685856106af565b50509150506000806000806103db8b8b61025c565b93509350935093508383101561044b5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e7660448201526e185b1a590b5b585e0b585b5bdd5b9d608a1b60648201526084016101cb565b600081116104b85760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e76604482015273616c69642d7a65726f2d73746172742d74696d6560601b60648201526084016101cb565b336000908152602081815260408083208a8452909152812060048101549091036104f5578481556001810184905560028101839055600381018290555b6040805160a081018252825481526001830154602082015260028301549181019190915260038201546060820152600482015460808201526105369061062e565b86111561059d5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a616c6c60448201526e1bddd85b98d94b595e18d959591959608a1b60648201526084016101cb565b858160040160008282546105b191906108fc565b9091555050600481015460408051878152602081018790529081018590526060810184905260808101919091524260a082015288906001600160a01b0389169033907fa4d5df1d290378aabb8f054b2f3100faf35e2266bb7fbe661f947dfc686704ae9060c00160405180910390a4505050505050505050505050565b6000816060015142101561064457506000919050565b6000826060015142610656919061090f565b9050600081846040015161066a9190610922565b845161067691906108fc565b9050836020015181111561068b575060208301515b808460800151106106a0575060009392505050565b608084015161039b908261090f565b60008036816106c1601482878961089e565b6106ca91610939565b60601c93506106dd60346014878961089e565b6106e6916108c8565b92506106f5856034818961089e565b949793965094505050565b60008083601f84011261071257600080fd5b50813567ffffffffffffffff81111561072a57600080fd5b60208301915083602082850101111561074257600080fd5b9250929050565b80356001600160a01b038116811461076057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561078457600080fd5b8a3567ffffffffffffffff8082111561079c57600080fd5b6107a88e838f01610700565b909c509a5060208d01359150808211156107c157600080fd5b6107cd8e838f01610700565b909a50985060408d0135975060608d01359150808211156107ed57600080fd5b506107fa8d828e01610700565b90965094505060808b0135925061081360a08c01610749565b915061082160c08c01610749565b90509295989b9194979a5092959850565b6000806020838503121561084557600080fd5b823567ffffffffffffffff81111561085c57600080fd5b61086885828601610700565b90969095509350505050565b6000806040838503121561088757600080fd5b61089083610749565b946020939093013593505050565b600080858511156108ae57600080fd5b838611156108bb57600080fd5b5050820193919092039150565b803560208310156103b457600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103b4576103b46108e6565b818103818111156103b4576103b46108e6565b80820281158282048414176103b4576103b46108e6565b6bffffffffffffffffffffffff1981358181169160148510156109665780818660140360031b1b83161692505b50509291505056fea264697066735822122052704058a3717c34d4c81be20ba9801f9b76f6f0c65ef9abba014d246806f21f64736f6c63430008170033",G5n={};Ue(G5n,{abi:()=>V5n,bytecode:()=>K5n});V5n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],K5n="0x608060405234801561001057600080fd5b50610263806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063d3eddcc51461008b578063e38ad59014610099578063ed4633671461005c575b600080fd5b61007661006a366004610139565b50505050505050505050565b005b610076610086366004610139565b6100b4565b610076610057366004610139565b6100a260005481565b60405190815260200160405180910390f35b6000805490806100c383610206565b919050555050505050505050505050565b60008083601f8401126100e657600080fd5b50813567ffffffffffffffff8111156100fe57600080fd5b60208301915083602082850101111561011657600080fd5b9250929050565b80356001600160a01b038116811461013457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561015857600080fd5b8a3567ffffffffffffffff8082111561017057600080fd5b61017c8e838f016100d4565b909c509a5060208d013591508082111561019557600080fd5b6101a18e838f016100d4565b909a50985060408d0135975060608d01359150808211156101c157600080fd5b506101ce8d828e016100d4565b90965094505060808b013592506101e760a08c0161011d565b91506101f560c08c0161011d565b90509295989b9194979a5092959850565b60006001820161022657634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220bcf0049f14343021d3eb32b64d949a39aec074b673cc386de61163856ad518a964736f6c63430008170033",$5n={};Ue($5n,{abi:()=>q5n,bytecode:()=>W5n});q5n=[],W5n="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122074ec8ae00f245173ca026cab4a450417e87849694c5e94ec4fdf9b92eee9682e64736f6c63430008170033",Y5n={};Ue(Y5n,{abi:()=>J5n,bytecode:()=>Q5n});J5n=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"nonpayable"},{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]}],Q5n="0x60a060405234801561001057600080fd5b50604051610fa1380380610fa183398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b608051610efc6100a560003960008181609c0152818160f8015281816102010152818161030201526103f60152610efc6000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610071578063d3eddcc514610084578063ea4d3c9b14610097578063ed463367146100da575b600080fd5b61006f61006a36600461084c565b6100ed565b005b61006f61007f36600461084c565b6101c7565b61006f61009236600461084c565b6102c8565b6100be7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b61006f6100e836600461084c565b6103bc565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461013e5760405162461bcd60e51b815260040161013590610918565b60405180910390fd5b6101bb8a8a8a8a6040518060a001604052808c81526020018b8b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018a90526001600160a01b03808a166040830152881660609091015263414c3e3360e01b6104ac565b50505050505050505050565b85600881901b6001600160f81b03198116156101f55760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461023e5760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b16604083015289166060909101526350a2c19560e11b6104ac565b5050505050505050505050565b85600881901b6001600160f81b03198116156102f65760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461033f5760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b166040830152891660609091015263d3eddcc560e01b6104ac565b85600881901b6001600160f81b03198116156103ea5760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104335760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b166040830152891660609091015263ed46336760e01b5b60006104ba86880188610af1565b905060006104ca85870187610cf3565b905081518160000151106105355760405162461bcd60e51b815260206004820152602c60248201527f4c6f676963616c4f7257726170706572456e666f726365723a696e76616c696460448201526b05acee4deeae05ad2dcc8caf60a31b6064820152608401610135565b60008282600001518151811061054d5761054d610ddb565b602002602001015190506000816000015151905080836020015151146105d15760405162461bcd60e51b815260206004820152603360248201527f4c6f676963616c4f7257726170706572456e666f726365723a696e76616c696460448201527205ac6c2eccac2e85ac2e4cee65ad8cadccee8d606b1b6064820152608401610135565b60005b818110156102bb576106a8836000015182815181106105f5576105f5610ddb565b602002602001015160000151878560000151848151811061061857610618610ddb565b6020026020010151602001518760200151858151811061063a5761063a610ddb565b60200260200101518b600001518c602001518d604001518e606001518f608001516040516024016106719796959493929190610e41565b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b0319909316929092179091526106b1565b506001016105d4565b60606106bf838360006106c6565b9392505050565b6060814710156106eb5760405163cd78605960e01b8152306004820152602401610135565b600080856001600160a01b031684866040516107079190610eaa565b60006040518083038185875af1925050503d8060008114610744576040519150601f19603f3d011682016040523d82523d6000602084013e610749565b606091505b5091509150610759868383610763565b9695505050505050565b60608261077857610773826107bf565b6106bf565b815115801561078f57506001600160a01b0384163b155b156107b857604051639996b31560e01b81526001600160a01b0385166004820152602401610135565b50806106bf565b8051156107cf5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b60008083601f8401126107fa57600080fd5b5081356001600160401b0381111561081157600080fd5b60208301915083602082850101111561082957600080fd5b9250929050565b80356001600160a01b038116811461084757600080fd5b919050565b60008060008060008060008060008060e08b8d03121561086b57600080fd5b8a356001600160401b038082111561088257600080fd5b61088e8e838f016107e8565b909c509a5060208d01359150808211156108a757600080fd5b6108b38e838f016107e8565b909a50985060408d0135975060608d01359150808211156108d357600080fd5b506108e08d828e016107e8565b90965094505060808b013592506108f960a08c01610830565b915061090760c08c01610830565b90509295989b9194979a5092959850565b60208082526030908201527f4c6f676963616c4f7257726170706572456e666f726365723a6f6e6c792d646560408201526f3632b3b0ba34b7b716b6b0b730b3b2b960811b606082015260800190565b60208082526025908201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6040820152642d7479706560d81b606082015260800190565b634e487b7160e01b600052604160045260246000fd5b604051602081016001600160401b03811182821017156109e5576109e56109ad565b60405290565b604051606081016001600160401b03811182821017156109e5576109e56109ad565b604080519081016001600160401b03811182821017156109e5576109e56109ad565b604051601f8201601f191681016001600160401b0381118282101715610a5757610a576109ad565b604052919050565b60006001600160401b03821115610a7857610a786109ad565b5060051b60200190565b600082601f830112610a9357600080fd5b81356001600160401b03811115610aac57610aac6109ad565b610abf601f8201601f1916602001610a2f565b818152846020838601011115610ad457600080fd5b816020850160208301376000918101602001919091529392505050565b600060208284031215610b0357600080fd5b6001600160401b0382351115610b1857600080fd5b8135820183601f820112610b2b57600080fd5b610b3d610b388235610a5f565b610a2f565b81358082526020808301929160051b840101861015610b5b57600080fd5b602083015b6020843560051b850101811015610ce9576001600160401b0381351115610b8657600080fd5b6020813585018803601f19011215610b9d57600080fd5b610ba56109c3565b6001600160401b0360208335870101351115610bc057600080fd5b81358501602081013501603f81018913610bd957600080fd5b610be9610b386020830135610a5f565b602082810135808352908201919060051b83016040018b1015610c0b57600080fd5b604083015b6040602085013560051b850101811015610cd6576001600160401b0381351115610c3957600080fd5b803584016060818e03603f19011215610c5157600080fd5b610c596109eb565b610c6560408301610830565b81526001600160401b0360608301351115610c7f57600080fd5b610c928e60406060850135850101610a82565b60208201526001600160401b0360808301351115610caf57600080fd5b610cc28e60406080850135850101610a82565b604082015284525060209283019201610c10565b5083525050835260209283019201610b60565b5095945050505050565b60006020808385031215610d0657600080fd5b82356001600160401b0380821115610d1d57600080fd5b9084019060408287031215610d3157600080fd5b610d39610a0d565b823581528383013582811115610d4e57600080fd5b80840193505086601f840112610d6357600080fd5b8235610d71610b3882610a5f565b81815260059190911b84018501908581019089831115610d9057600080fd5b8686015b83811015610dc857803586811115610dac5760008081fd5b610dba8c8a838b0101610a82565b845250918701918701610d94565b5095830195909552509695505050505050565b634e487b7160e01b600052603260045260246000fd5b60005b83811015610e0c578181015183820152602001610df4565b50506000910152565b60008151808452610e2d816020860160208601610df1565b601f01601f19169290920160200192915050565b60e081526000610e5460e083018a610e15565b8281036020840152610e66818a610e15565b90508760408401528281036060840152610e808188610e15565b608084019690965250506001600160a01b0392831660a0820152911660c090910152949350505050565b60008251610ebc818460208701610df1565b919091019291505056fea2646970667358221220849f3e028a14dd0caba34e88e124f67834a95e85298a8ec49d35e542d61e676b64736f6c63430008170033",Z5n={};Ue(Z5n,{abi:()=>X5n,bytecode:()=>emn});X5n=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],emn="0x608060405234801561001057600080fd5b5061028c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780637c46d3c814610083578063a145832a1461009e578063d3eddcc5146100b1578063e38ad590146100c4578063ed46336714610067575b600080fd5b610081610075366004610162565b50505050505050505050565b005b61008c60015481565b60405190815260200160405180910390f35b6100816100ac366004610162565b6100cd565b6100816100bf366004610162565b6100ed565b61008c60005481565b6000805490806100dc8361022f565b919050555050505050505050505050565b600180549060006100dc8361022f565b60008083601f84011261010f57600080fd5b50813567ffffffffffffffff81111561012757600080fd5b60208301915083602082850101111561013f57600080fd5b9250929050565b80356001600160a01b038116811461015d57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561018157600080fd5b8a3567ffffffffffffffff8082111561019957600080fd5b6101a58e838f016100fd565b909c509a5060208d01359150808211156101be57600080fd5b6101ca8e838f016100fd565b909a50985060408d0135975060608d01359150808211156101ea57600080fd5b506101f78d828e016100fd565b90965094505060808b0135925061021060a08c01610146565b915061021e60c08c01610146565b90509295989b9194979a5092959850565b60006001820161024f57634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220fbb59fec9ec7bf6cdda251d9d498ff456d0623f22ca1f4ef5f02ab03744fc44c64736f6c63430008170033",tmn={};Ue(tmn,{abi:()=>nmn,bytecode:()=>rmn});nmn=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_argsEqualityCheckEnforcer",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"argsEqualityCheckEnforcer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"ValidatedPayment",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!1,internalType:"address"},{name:"redeemer",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],rmn="0x60c060405234801561001057600080fd5b506040516111b73803806111b783398101604081905261002f9161005e565b6001600160a01b039182166080521660a052610098565b6001600160a01b038116811461005b57600080fd5b50565b6000806040838503121561007157600080fd5b825161007c81610046565b602084015190925061008d81610046565b809150509250929050565b60805160a0516110e66100d16000396000818160a301526103c001526000818161011901528181610273015261065a01526110e66000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063b99deb0e1161005b578063b99deb0e146100e2578063d3eddcc514610082578063ea4d3c9b14610114578063ed4633671461013b57600080fd5b8063414c3e3314610082578063a145832a14610082578063a42ff9311461009e575b600080fd5b61009c6100903660046108d5565b50505050505050505050565b005b6100c57f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100f56100f03660046109a2565b61014e565b604080516001600160a01b0390931683526020830191909152016100d9565b6100c57f000000000000000000000000000000000000000000000000000000000000000081565b61009c6101493660046108d5565b6101fc565b600080603483146101be5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a696e76616c60448201526e0d2c85ae8cae4dae65ad8cadccee8d608b1b60648201526084015b60405180910390fd5b6101cc6014600085876109e4565b6101d591610a0e565b60601c91506101e783601481876109e4565b6101f091610a43565b60001c90509250929050565b85600881901b61020d8160006107ac565b6102675760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101b5565b50336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146102fb5760405162461bcd60e51b815260206004820152603260248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a6f6e6c792d6044820152713232b632b3b0ba34b7b716b6b0b730b3b2b960711b60648201526084016101b5565b6000806103088d8d61014e565b9092509050600061031b8b8d018d610c88565b905060008151116103945760405162461bcd60e51b815260206004820152603f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a696e76616c60448201527f69642d616c6c6f77616e63652d64656c65676174696f6e732d6c656e6774680060648201526084016101b5565b6000816000815181106103a9576103a9610dcd565b6020026020010151606001515111801561043057507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316816000815181106103fb576103fb610dcd565b60200260200101516060015160008151811061041957610419610dcd565b6020026020010151600001516001600160a01b0316145b6104a25760405162461bcd60e51b815260206004820152603c60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a6d6973736960448201527f6e672d61726773457175616c697479436865636b456e666f726365720000000060648201526084016101b5565b86856040516020016104d092919091825260601b6bffffffffffffffffffffffff1916602082015260340190565b604051602081830303815290604052816000815181106104f2576104f2610dcd565b60200260200101516060015160008151811061051057610510610dcd565b602090810291909101015160409081019190915280516001808252818301909252600091816020015b6060815260200190600190039081610539579050509050816040516020016105619190610e33565b6040516020818303038152906040528160008151811061058357610583610dcd565b6020908102919091010152604080516001808252818301909252600091816020015b60608152602001906001900390816105a55790505090506105d68585604051806020016040528060008152506107c3565b816000815181106105e9576105e9610dcd565b60209081029190910101526040805160018082528183019092526000918160200160208202803683370190505090506106206107f2565b8160008151811061063357610633610dcd565b602090810291909101015260405163cef6d20960e01b81526001600160a01b0380881631917f00000000000000000000000000000000000000000000000000000000000000009091169063cef6d2099061069590879086908890600401610fbf565b600060405180830381600087803b1580156106af57600080fd5b505af11580156106c3573d6000803e3d6000fd5b505050506001600160a01b038716316106dc8783611029565b8110156107435760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a7061796d6560448201526e1b9d0b5b9bdd0b5c9958d95a5d9959608a1b60648201526084016101b5565b604080516001600160a01b038d811682528c81166020830152918101899052908916908d9033907fac266e0d9b66169d0dc4479d531985bcec62dfd9d7992d0f6865afdbb7baa5e29060600160405180910390a450505050505050505050505050505050505050565b6001600160f81b0319828116908216145b92915050565b60608383836040516020016107da9392919061104a565b60405160208183030381529060405290509392505050565b600061080081808080610805565b905090565b604080516001600160f81b03198087166020830152851660218201526000602282018190526001600160e01b03198516602683015269ffffffffffffffffffff198416602a830152910160405160208183030381529060405261086790611089565b95945050505050565b60008083601f84011261088257600080fd5b50813567ffffffffffffffff81111561089a57600080fd5b6020830191508360208285010111156108b257600080fd5b9250929050565b80356001600160a01b03811681146108d057600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108f457600080fd5b8a3567ffffffffffffffff8082111561090c57600080fd5b6109188e838f01610870565b909c509a5060208d013591508082111561093157600080fd5b61093d8e838f01610870565b909a50985060408d0135975060608d013591508082111561095d57600080fd5b5061096a8d828e01610870565b90965094505060808b0135925061098360a08c016108b9565b915061099160c08c016108b9565b90509295989b9194979a5092959850565b600080602083850312156109b557600080fd5b823567ffffffffffffffff8111156109cc57600080fd5b6109d885828601610870565b90969095509350505050565b600080858511156109f457600080fd5b83861115610a0157600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610a3b5780818660140360031b1b83161692505b505092915050565b803560208310156107bd57600019602084900360031b1b1692915050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff81118282101715610a9a57610a9a610a61565b60405290565b60405160c0810167ffffffffffffffff81118282101715610a9a57610a9a610a61565b604051601f8201601f1916810167ffffffffffffffff81118282101715610aec57610aec610a61565b604052919050565b600067ffffffffffffffff821115610b0e57610b0e610a61565b5060051b60200190565b600082601f830112610b2957600080fd5b813567ffffffffffffffff811115610b4357610b43610a61565b610b56601f8201601f1916602001610ac3565b818152846020838601011115610b6b57600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f830112610b9957600080fd5b81356020610bae610ba983610af4565b610ac3565b82815260059290921b84018101918181019086841115610bcd57600080fd5b8286015b84811015610c7d57803567ffffffffffffffff80821115610bf25760008081fd5b908801906060828b03601f1901811315610c0c5760008081fd5b610c14610a77565b610c1f8885016108b9565b815260408085013584811115610c355760008081fd5b610c438e8b83890101610b18565b838b015250918401359183831115610c5b5760008081fd5b610c698d8a85880101610b18565b908201528652505050918301918301610bd1565b509695505050505050565b60006020808385031215610c9b57600080fd5b823567ffffffffffffffff80821115610cb357600080fd5b818501915085601f830112610cc757600080fd5b8135610cd5610ba982610af4565b81815260059190911b83018401908481019088831115610cf457600080fd5b8585015b83811015610dc057803585811115610d0f57600080fd5b860160c0818c03601f19011215610d265760008081fd5b610d2e610aa0565b610d398983016108b9565b81526040610d488184016108b9565b8a83015260608084013582840152608091508184013589811115610d6c5760008081fd5b610d7a8f8d83880101610b88565b82850152505060a0808401358284015260c0840135915088821115610d9f5760008081fd5b610dad8e8c84870101610b18565b9083015250845250918601918601610cf8565b5098975050505050505050565b634e487b7160e01b600052603260045260246000fd5b60005b83811015610dfe578181015183820152602001610de6565b50506000910152565b60008151808452610e1f816020860160208601610de3565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610f5857603f19888603018452815160c0860160018060a01b038083511688528089840151168989015260408301516040890152606083015160c060608a015282815180855260e08b01915060e08160051b8c010194508b8301925060005b81811015610f1c5760df198c870301835283518581511687528d81015160608f890152610eed6060890182610e07565b9050604082015191508781036040890152610f088183610e07565b97505050928c0192918c0191600101610ebd565b50505050506080820151608088015260a0820151915086810360a0880152610f448183610e07565b965050509285019290850190600101610e5a565b5092979650505050505050565b60008282518085526020808601955060208260051b8401016020860160005b84811015610fb257601f19868403018952610fa0838351610e07565b98840198925090830190600101610f84565b5090979650505050505050565b606081526000610fd26060830186610f65565b82810360208481019190915285518083528682019282019060005b8181101561100957845183529383019391830191600101610fed565b5050848103604086015261101d8187610f65565b98975050505050505050565b808201808211156107bd57634e487b7160e01b600052601160045260246000fd5b6bffffffffffffffffffffffff198460601b1681528260148201526000825161107a816034850160208701610de3565b91909101603401949350505050565b805160208083015191908110156110aa576000198160200360031b1b821691505b5091905056fea264697066735822122085080b51672c95cef1f0b772853b91117f909ad9d873a40d2cad7c2b29f5117c64736f6c63430008170033",imn={};Ue(imn,{abi:()=>amn,bytecode:()=>omn});amn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],omn="0x608060405234801561001057600080fd5b50610b57806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610893565b50505050505050505050565b005b6100b16100ac366004610960565b61017f565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df3660046109ba565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610893565b610255565b61016461015f3660046109e4565b61033a565b604080519384526020840192909252908201526060016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a0810183528154815260018201549381019390935260028101549183018290526003810154606084015260040154608083015282918291156101f4576101e8816103f0565b9350935093505061024b565b6000806000610203898961033a565b92509250925060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061023f816103f0565b97509750975050505050505b9450945094915050565b85610261816000610484565b6102b25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102c3816000610484565b61031d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102a9565b5061032c8c8c8989898861049b565b505050505050505050505050565b600080806060841461039b5760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152750e474d2dcecc2d8d2c85ae8cae4dae65ad8cadccee8d60531b60648201526084016102a9565b6103a9602060008688610a26565b6103b291610a50565b92506103c2604060208688610a26565b6103cb91610a50565b91506103db606060408688610a26565b6103e491610a50565b60001c90509250925092565b6000806000836040015142101561040f5750600091508190508061047d565b602084015160408501516104239042610a84565b61042d9190610a97565b610438906001610ab9565b905080846060015114159150600082610455578460800151610458565b60005b90508085600001511161046c576000610479565b8451610479908290610a84565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60006104a785856107dd565b505091505060008060006104bb8a8a61033a565b336000908152602081815260408083208c84529091528120600281015494975092955090935090919003610684576000821161054d5760405162461bcd60e51b81526020600482015260396024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d73746172742d646174650000000000000060648201526084016102a9565b600084116105b15760405162461bcd60e51b815260206004820152603c6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d616d6f756e740000000060648201526084016102a9565b600083116106155760405162461bcd60e51b815260206004820152603e6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d6475726174696f6e000060648201526084016102a9565b814210156106725760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152751c8e9d1c985b9cd9995c8b5b9bdd0b5cdd185c9d195960521b60648201526084016102a9565b83815560018101839055600281018290555b60008060006106cf846040518060a0016040529081600082015481526020016001820154815260200160028201548152602001600382015481526020016004820154815250506103f0565b925092509250828811156107395760405162461bcd60e51b815260206004820152603a6024820152600080516020610b0283398151915260448201527f723a7472616e736665722d616d6f756e742d657863656564656400000000000060648201526084016102a9565b811561074e5760038401819055600060048501555b878460040160008282546107629190610ab9565b909155505060028401546004850154604080518a8152602081018a90529081019290925260608201524260808201528a906001600160a01b038b169033907f22e1bbd8bc0380d336958afc37cd8cb128d6c43891ed276162c30e8df467734d9060a00160405180910390a45050505050505050505050505050565b60008036816107ef6014828789610a26565b6107f891610acc565b60601c935061080b603460148789610a26565b61081491610a50565b92506108238560348189610a26565b949793965094505050565b60008083601f84011261084057600080fd5b50813567ffffffffffffffff81111561085857600080fd5b60208301915083602082850101111561087057600080fd5b9250929050565b80356001600160a01b038116811461088e57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108b257600080fd5b8a3567ffffffffffffffff808211156108ca57600080fd5b6108d68e838f0161082e565b909c509a5060208d01359150808211156108ef57600080fd5b6108fb8e838f0161082e565b909a50985060408d0135975060608d013591508082111561091b57600080fd5b506109288d828e0161082e565b90965094505060808b0135925061094160a08c01610877565b915061094f60c08c01610877565b90509295989b9194979a5092959850565b6000806000806060858703121561097657600080fd5b8435935061098660208601610877565b9250604085013567ffffffffffffffff8111156109a257600080fd5b6109ae8782880161082e565b95989497509550505050565b600080604083850312156109cd57600080fd5b6109d683610877565b946020939093013593505050565b600080602083850312156109f757600080fd5b823567ffffffffffffffff811115610a0e57600080fd5b610a1a8582860161082e565b90969095509350505050565b60008085851115610a3657600080fd5b83861115610a4357600080fd5b5050820193919092039150565b8035602083101561049557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561049557610495610a6e565b600082610ab457634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561049557610495610a6e565b6bffffffffffffffffffffffff198135818116916014851015610af95780818660140360031b1b83161692505b50509291505056fe4e6174697665546f6b656e506572696f645472616e73666572456e666f726365a2646970667358221220ddbfb33bfc3119eae666e9c14c2e492d38eed690114f0ed176d6eb49d0bc21a364736f6c63430008170033",smn={};Ue(smn,{abi:()=>cmn,bytecode:()=>lmn});cmn=[{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"nonceSequenceNumber",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],lmn="0x",umn={};Ue(umn,{abi:()=>fmn,bytecode:()=>dmn});fmn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"currentNonce",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"nonce_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"incrementNonce",inputs:[{name:"_delegationManager",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"UsedNonce",inputs:[{name:"delegationManager",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],dmn="0x608060405234801561001057600080fd5b5061050e806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063b99deb0e1161005b578063b99deb0e146100eb578063d3eddcc5146100bc578063ed463367146100bc578063f5743c4c146100fe57600080fd5b80632bd4ed2114610082578063414c3e33146100bc578063a145832a146100d8575b600080fd5b6100aa610090366004610314565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100d66100ca366004610390565b50505050505050505050565b005b6100d66100e6366004610390565b610111565b6100aa6100f936600461045d565b61020f565b6100d661010c36600461049f565b61027d565b85600881901b6101228160006102e1565b6101815760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b50600061018e8c8c61020f565b336000908152602081815260408083206001600160a01b038916845290915290205490915081146102015760405162461bcd60e51b815260206004820152601b60248201527f4e6f6e6365456e666f726365723a696e76616c69642d6e6f6e636500000000006044820152606401610178565b505050505050505050505050565b60006020821461026c5760405162461bcd60e51b815260206004820152602260248201527f4e6f6e6365456e666f726365723a696e76616c69642d7465726d732d6c656e676044820152610e8d60f31b6064820152608401610178565b61027682846104ba565b9392505050565b6001600160a01b038116600081815260208181526040808320338085529083529281902080546001810190915590518181529093917fe02d340254c92bc3ad96f0fceb790db939e11c669c1f4c8a549d248f17130b33910160405180910390a35050565b6001600160f81b0319828116908216145b92915050565b80356001600160a01b038116811461030f57600080fd5b919050565b6000806040838503121561032757600080fd5b610330836102f8565b915061033e602084016102f8565b90509250929050565b60008083601f84011261035957600080fd5b50813567ffffffffffffffff81111561037157600080fd5b60208301915083602082850101111561038957600080fd5b9250929050565b60008060008060008060008060008060e08b8d0312156103af57600080fd5b8a3567ffffffffffffffff808211156103c757600080fd5b6103d38e838f01610347565b909c509a5060208d01359150808211156103ec57600080fd5b6103f88e838f01610347565b909a50985060408d0135975060608d013591508082111561041857600080fd5b506104258d828e01610347565b90965094505060808b0135925061043e60a08c016102f8565b915061044c60c08c016102f8565b90509295989b9194979a5092959850565b6000806020838503121561047057600080fd5b823567ffffffffffffffff81111561048757600080fd5b61049385828601610347565b90969095509350505050565b6000602082840312156104b157600080fd5b610276826102f8565b803560208310156102f257600019602084900360031b1b169291505056fea26469706673582212205626dd2329dbdfa25ba379781a5be6c8fc6ae0eb3a22e9122f5d8207bb7de74564736f6c63430008170033",pmn={};Ue(pmn,{abi:()=>hmn,bytecode:()=>mmn});hmn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAllTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"tokens_",type:"address[]",internalType:"address[]"},{name:"periodAmounts_",type:"uint256[]",internalType:"uint256[]"},{name:"periodDurations_",type:"uint256[]",internalType:"uint256[]"},{name:"startDates_",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"pure"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_tokenIndex",type:"uint256",internalType:"uint256"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],mmn="0x608060405234801561001057600080fd5b5061148b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063a145832a11610066578063a145832a1461014b578063d3eddcc5146100c4578063da8081c21461015e578063ed463367146100c4578063f5c7d74e146101c357600080fd5b806319de6ebc14610098578063414c3e33146100c4578063733c0d80146100e05780638572e3191461011d575b600080fd5b6100ab6100a6366004610f6f565b6101e4565b6040516100bb9493929190610fed565b60405180910390f35b6100de6100d2366004611094565b50505050505050505050565b005b6100f36100ee366004611161565b6104b6565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100bb565b61013061012b3660046111ad565b61062a565b604080519384529115156020840152908201526060016100bb565b6100de610159366004611094565b6106fc565b61019b61016c366004611237565b600060208190529081526040902080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100bb565b6101d66101d1366004611250565b6107de565b6040519081526020016100bb565b6060808080846101f56074826112a8565b15801561020157508015155b6102265760405162461bcd60e51b815260040161021d906112bc565b60405180910390fd5b600061023360748361130d565b90508067ffffffffffffffff81111561024e5761024e611321565b604051908082528060200260200182016040528015610277578160200160208202803683370190505b5095508067ffffffffffffffff81111561029357610293611321565b6040519080825280602002602001820160405280156102bc578160200160208202803683370190505b5094508067ffffffffffffffff8111156102d8576102d8611321565b604051908082528060200260200182016040528015610301578160200160208202803683370190505b5093508067ffffffffffffffff81111561031d5761031d611321565b604051908082528060200260200182016040528015610346578160200160208202803683370190505b50925060005b818110156104aa576000610361826074611337565b905089818a61037182601461134e565b9261037e93929190611361565b6103879161138b565b60601c88838151811061039c5761039c6113c0565b6001600160a01b039092166020928302919091019091015289896103c183601461134e565b906103cd84603461134e565b926103da93929190611361565b6103e3916113d6565b60001c8783815181106103f8576103f86113c0565b6020908102919091010152898961041083603461134e565b9061041c84605461134e565b9261042993929190611361565b610432916113d6565b60001c868381518110610447576104476113c0565b6020908102919091010152898961045f83605461134e565b9061046b84607461134e565b9261047893929190611361565b610481916113d6565b60001c858381518110610496576104966113c0565b60209081029190910101525060010161034c565b50505092959194509250565b60008080808580158015906104d357506104d16074826112a8565b155b6104ef5760405162461bcd60e51b815260040161021d906112bc565b60006104fc60748361130d565b90508087106105505760405162461bcd60e51b815260206004820152602c602482015260008051602061143683398151915260448201526b05ae8ded6cadc5ad2dcc8caf60a31b606482015260840161021d565b600061055d886074611337565b905089818a61056d82601461134e565b9261057a93929190611361565b6105839161138b565b60601c9650898961059583601461134e565b906105a184603461134e565b926105ae93929190611361565b6105b7916113d6565b955089896105c683603461134e565b906105d284605461134e565b926105df93929190611361565b6105e8916113d6565b945089896105f783605461134e565b9061060384607461134e565b9261061093929190611361565b610619916113d6565b60001c935050505093509350935093565b60008060008060008060006106438d8d8d8d8d8d6107f5565b60008481526020818152604091829020825160a081018452815481526001820154928101929092526002810154928201839052600381015460608301526004015460808201529498509296509094509250156106b2576106a28161083c565b97509750975050505050506106f0565b6040805160a0810182528581526020810185905290810183905260006060820181905260808201526106e38161083c565b9850985098505050505050505b96509650969350505050565b856107088160006108d0565b6107545760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d74797065604482015260640161021d565b86600881901b6107658160006108d0565b6107bf5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161021d565b506107d08c8c8c8c8b8b8b8a6108e7565b505050505050505050505050565b60006107ec85858585610e8b565b95945050505050565b60008080808061080786880188611237565b905060006108168a8a846104b6565b91975095509350905061082b8b828e85610e8b565b955050509650965096509692505050565b6000806000836040015142101561085b575060009150819050806108c9565b6020840151604085015161086f90426113f4565b610879919061130d565b61088490600161134e565b9050808460600151141591506000826108a15784608001516108a4565b60005b9050808560000151116108b85760006108c5565b84516108c59082906113f4565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b6000806000803660006108fa8a8a610ed5565b935093509350935081819050604403610a0657821561096f5760405162461bcd60e51b8152602060048201526038602482015260008051602061143683398151915260448201527f2d76616c75652d696e2d65726332302d7472616e736665720000000000000000606482015260840161021d565b63a9059cbb60e01b610985600460008486611361565b61098e91611407565b6001600160e01b031916146109e35760405162461bcd60e51b815260206004820152602760248201526000805160206114368339815191526044820152660b5b595d1a1bd960ca1b606482015260840161021d565b92935083926109f6604460248385611361565b6109ff916113d6565b9550610acf565b6000819003610a7f5760008311610a735760405162461bcd60e51b815260206004820152603e602482015260008051602061143683398151915260448201527f2d7a65726f2d76616c75652d696e2d6e61746976652d7472616e736665720000606482015260840161021d565b60009450829550610acf565b60405162461bcd60e51b8152602060048201526031602482015260008051602061143683398151915260448201527005ac6c2d8d85ac8c2e8c25ad8cadccee8d607b1b606482015260840161021d565b5060009250610ae3915050888a018a611237565b9050600080600080610af68f8f876104b6565b9350935093509350836001600160a01b0316866001600160a01b031614610b6f5760405162461bcd60e51b815260206004820152602760248201527f4d756c7469546f6b656e506572696f64456e666f726365723a746f6b656e2d6d6044820152660d2e6dac2e8c6d60cb1b606482015260840161021d565b6000610b7d33888c89610e8b565b60008181526020819052604081206002810154929350919003610d1f5760008311610bf15760405162461bcd60e51b8152602060048201526030602482015260008051602061143683398151915260448201526f2d7a65726f2d73746172742d6461746560801b606482015260840161021d565b60008511610c4b5760405162461bcd60e51b815260206004820152603360248201526000805160206114368339815191526044820152720b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d606a1b606482015260840161021d565b60008411610ca75760405162461bcd60e51b8152602060048201526035602482015260008051602061143683398151915260448201527416bd32b93796b832b934b7b216b23ab930ba34b7b760591b606482015260840161021d565b82421015610d0d5760405162461bcd60e51b815260206004820152602d60248201527f4d756c7469546f6b656e506572696f64456e666f726365723a7472616e73666560448201526c1c8b5b9bdd0b5cdd185c9d1959609a1b606482015260840161021d565b84815560018101849055600281018390555b6000806000610d6a846040518060a00160405290816000820154815260200160018201548152602001600282015481526020016003820154815260200160048201548152505061083c565b925092509250828c1115610dda5760405162461bcd60e51b815260206004820152603160248201527f4d756c7469546f6b656e506572696f64456e666f726365723a7472616e7366656044820152701c8b585b5bdd5b9d0b595e18d959591959607a1b606482015260840161021d565b8115610def5760038401819055600060048501555b8b846004016000828254610e03919061134e565b90915550506004840154604080516001600160a01b038e81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a45050505050505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152949095168582015260608501929092526080808501919091528151808503909101815260a09093019052815191012090565b6000803681610ee76014828789611361565b610ef09161138b565b60601c9350610f03603460148789611361565b610f0c916113d6565b9250610f1b8560348189611361565b949793965094505050565b60008083601f840112610f3857600080fd5b50813567ffffffffffffffff811115610f5057600080fd5b602083019150836020828501011115610f6857600080fd5b9250929050565b60008060208385031215610f8257600080fd5b823567ffffffffffffffff811115610f9957600080fd5b610fa585828601610f26565b90969095509350505050565b60008151808452602080850194506020840160005b83811015610fe257815187529582019590820190600101610fc6565b509495945050505050565b6080808252855190820181905260009060209060a0840190828901845b8281101561102f5781516001600160a01b03168452928401929084019060010161100a565b50505083810360208501526110448188610fb1565b91505082810360408401526110598186610fb1565b9050828103606084015261106d8185610fb1565b979650505050505050565b80356001600160a01b038116811461108f57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156110b357600080fd5b8a3567ffffffffffffffff808211156110cb57600080fd5b6110d78e838f01610f26565b909c509a5060208d01359150808211156110f057600080fd5b6110fc8e838f01610f26565b909a50985060408d0135975060608d013591508082111561111c57600080fd5b506111298d828e01610f26565b90965094505060808b0135925061114260a08c01611078565b915061115060c08c01611078565b90509295989b9194979a5092959850565b60008060006040848603121561117657600080fd5b833567ffffffffffffffff81111561118d57600080fd5b61119986828701610f26565b909790965060209590950135949350505050565b600080600080600080608087890312156111c657600080fd5b863595506111d660208801611078565b9450604087013567ffffffffffffffff808211156111f357600080fd5b6111ff8a838b01610f26565b9096509450606089013591508082111561121857600080fd5b5061122589828a01610f26565b979a9699509497509295939492505050565b60006020828403121561124957600080fd5b5035919050565b6000806000806080858703121561126657600080fd5b61126f85611078565b935061127d60208601611078565b93969395505050506040820135916060013590565b634e487b7160e01b600052601260045260246000fd5b6000826112b7576112b7611292565b500690565b6020808252602d9082015260008051602061143683398151915260408201526c05ae8cae4dae65ad8cadccee8d609b1b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b60008261131c5761131c611292565b500490565b634e487b7160e01b600052604160045260246000fd5b80820281158282048414176108e1576108e16112f7565b808201808211156108e1576108e16112f7565b6000808585111561137157600080fd5b8386111561137e57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156113b85780818660140360031b1b83161692505b505092915050565b634e487b7160e01b600052603260045260246000fd5b803560208310156108e157600019602084900360031b1b1692915050565b818103818111156108e1576108e16112f7565b6001600160e01b031981358181169160048510156113b85760049490940360031b84901b169092169291505056fe4d756c7469546f6b656e506572696f64456e666f726365723a696e76616c6964a264697066735822122024c53d9970ff849bf9025e90cc5d34bfc99b0f5ee6a61ef6c48512264a9b0a3164736f6c63430008170033",ymn={};Ue(ymn,{abi:()=>bmn,bytecode:()=>gmn});bmn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],gmn="0x608060405234801561001057600080fd5b50610824806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461016d578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c5578063a145832a146100e1578063a79a0db5146100f4575b600080fd5b6100b061009b366004610568565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d33660046105e6565b50505050505050505050565b005b6100df6100ef3660046105e6565b610180565b6101076101023660046106b3565b6102c6565b6040519081526020016100bc565b610107610123366004610568565b60006020819052908152604090205481565b6101486101433660046106dd565b6102db565b6040805193151584526001600160a01b039092166020840152908201526060016100bc565b6100df61017b3660046105e6565b6103ad565b85600881901b6001600160f81b03198116156101f15760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101fe338661052b565b9050600061020c8d8d6102db565b5060008481526001602052604090205490925060ff161590506102885760405162461bcd60e51b815260206004820152602e60248201527f4e617469766542616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b60648201526084016101e8565b6000918252600160208181526040808520805460ff19169093179092558390529091206001600160a01b039091163190555050505050505050505050565b60006102d2838361052b565b90505b92915050565b60008080603584146103485760405162461bcd60e51b815260206004820152603060248201527f4e617469766542616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016101e8565b8484600081811061035b5761035b61071f565b909101356001600160f81b0319161515935061037d9050601560018688610735565b6103869161075f565b60601c91506103988460158188610735565b6103a191610794565b60001c90509250925092565b60008060006103bc8d8d6102db565b92509250925060006103ce338861052b565b6000818152600160205260409020805460ff1916905590508315610482576000818152602081905260409020546104069083906107c8565b836001600160a01b031631101561047d5760405162461bcd60e51b815260206004820152603560248201527f4e617469766542616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b60648201526084016101e8565b61051b565b60008181526020819052604090205461049c9083906107db565b836001600160a01b031631101561051b5760405162461bcd60e51b815260206004820152603960248201527f4e617469766542616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e6372656173650000000000000060648201526084016101e8565b5050505050505050505050505050565b604080516001600160a01b038416602082015290810182905260009060600160405160208183030381529060405280519060200120905092915050565b60006020828403121561057a57600080fd5b5035919050565b60008083601f84011261059357600080fd5b50813567ffffffffffffffff8111156105ab57600080fd5b6020830191508360208285010111156105c357600080fd5b9250929050565b80356001600160a01b03811681146105e157600080fd5b919050565b60008060008060008060008060008060e08b8d03121561060557600080fd5b8a3567ffffffffffffffff8082111561061d57600080fd5b6106298e838f01610581565b909c509a5060208d013591508082111561064257600080fd5b61064e8e838f01610581565b909a50985060408d0135975060608d013591508082111561066e57600080fd5b5061067b8d828e01610581565b90965094505060808b0135925061069460a08c016105ca565b91506106a260c08c016105ca565b90509295989b9194979a5092959850565b600080604083850312156106c657600080fd5b6106cf836105ca565b946020939093013593505050565b600080602083850312156106f057600080fd5b823567ffffffffffffffff81111561070757600080fd5b61071385828601610581565b90969095509350505050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561074557600080fd5b8386111561075257600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff19813581811691601485101561078c5780818660140360031b1b83161692505b505092915050565b803560208310156102d557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156102d5576102d56107b2565b808201808211156102d5576102d56107b256fea2646970667358221220b33a5c188759ed62e28774f4ab95ff422856e7b7a36f7de87da5f14ed435ece964736f6c63430008170033",wmn={};Ue(wmn,{abi:()=>vmn,bytecode:()=>Emn});vmn=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],Emn="0x",xmn={};Ue(xmn,{abi:()=>Amn,bytecode:()=>_mn});Amn=[],_mn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220709bae2a6201f60c7dd916d94e8aed6e76d68870a93207bbf209cbf2ce9581c664736f6c63430008170033",Tmn={};Ue(Tmn,{abi:()=>Smn,bytecode:()=>Cmn});Smn=[{type:"function",name:"onERC721Received",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"}],Cmn="0x",Imn={};Ue(Imn,{abi:()=>Rmn,bytecode:()=>Omn});Rmn=[{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]}],Omn="0x",vu={};Ue(vu,{abi:()=>Nmn,bytecode:()=>Pmn});Nmn=[{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],Pmn="0x",kmn={};Ue(kmn,{abi:()=>Mmn,bytecode:()=>Bmn});Mmn=[{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],Bmn="0x",Y8e={};Ue(Y8e,{abi:()=>Dmn,bytecode:()=>Lmn});Dmn=[{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]}],Lmn="0x",Umn={};Ue(Umn,{abi:()=>Fmn,bytecode:()=>Hmn});Fmn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowance_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"spentMap",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Hmn="0x608060405234801561001057600080fd5b506105cd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780639dd5d9ab14610083578063a145832a146100bd578063b99deb0e146100d0578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046103a7565b50505050505050505050565b005b6100ab610091366004610474565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100816100cb3660046103a7565b6100e3565b6100ab6100de36600461049e565b6102c5565b856100ef8160006102da565b6101405760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101518160006102da565b6101ab5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610137565b5060006101b88d8d6102c5565b905060006101c689896102f1565b5050336000908152602081815260408083208c845290915281208054929450909250839183906101f79084906104e0565b92505081905590508281111561026c5760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e5472616e73666572416d6f756e74456e666f7263656044820152731c8e985b1b1bddd85b98d94b595e18d95959195960621b6064820152608401610137565b604080518481526020810183905289916001600160a01b0389169133917fc026e493323d526061a052b5dd562495120e2f648797a48be61966d3a6beec8d910160405180910390a4505050505050505050505050505050565b60006102d382840184610501565b9392505050565b6001600160f81b0319828116908216145b92915050565b6000803681610303601482878961051a565b61030c91610544565b60601c935061031f60346014878961051a565b61032891610579565b9250610337856034818961051a565b949793965094505050565b60008083601f84011261035457600080fd5b50813567ffffffffffffffff81111561036c57600080fd5b60208301915083602082850101111561038457600080fd5b9250929050565b80356001600160a01b03811681146103a257600080fd5b919050565b60008060008060008060008060008060e08b8d0312156103c657600080fd5b8a3567ffffffffffffffff808211156103de57600080fd5b6103ea8e838f01610342565b909c509a5060208d013591508082111561040357600080fd5b61040f8e838f01610342565b909a50985060408d0135975060608d013591508082111561042f57600080fd5b5061043c8d828e01610342565b90965094505060808b0135925061045560a08c0161038b565b915061046360c08c0161038b565b90509295989b9194979a5092959850565b6000806040838503121561048757600080fd5b6104908361038b565b946020939093013593505050565b600080602083850312156104b157600080fd5b823567ffffffffffffffff8111156104c857600080fd5b6104d485828601610342565b90969095509350505050565b808201808211156102eb57634e487b7160e01b600052601160045260246000fd5b60006020828403121561051357600080fd5b5035919050565b6000808585111561052a57600080fd5b8386111561053757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105715780818660140360031b1b83161692505b505092915050565b803560208310156102eb57600019602084900360031b1b169291505056fea2646970667358221220242bcbb545bdb30c0cc3054c27d7e861e0e03c97037d12e0a3a635b723f4c96064736f6c63430008170033",zmn={};Ue(zmn,{abi:()=>jmn,bytecode:()=>Gmn});jmn=[],Gmn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220d7aca7990ce9da4d7914667722de1ec02253803fb163d86029328ca9bb504b0164736f6c63430008170033",Vmn={};Ue(Vmn,{abi:()=>Kmn,bytecode:()=>$mn});Kmn=[{type:"fallback",stateMutability:"nonpayable"}],$mn="0x608060405234801561001057600080fd5b5061022e806100206000396000f3fe608060405234801561001057600080fd5b50600036606060a0821461004057604080516000602082015201604051602081830303815290604052905061017b565b600061004f6020828587610186565b610058916101b0565b9050600061006a604060208688610186565b610073916101b0565b90506000610085606060408789610186565b61008e916101b0565b905060006100a060806060888a610186565b6100a9916101b0565b905060006100bb60a06080898b610186565b6100c4916101b0565b60405163a1f3128160e01b8152600481018790526024810186905260448101859052606481018490526084810182905290915073__$b8f96b288d4d0429e38b8ed50fd423070f$__9063a1f312819060a401602060405180830381865af4158015610133573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061015791906101cf565b60408051911515602083015201604051602081830303815290604052955050505050505b915050805190602001f35b6000808585111561019657600080fd5b838611156101a357600080fd5b5050820193919092039150565b803560208310156101c957600019602084900360031b1b165b92915050565b6000602082840312156101e157600080fd5b815180151581146101f157600080fd5b939250505056fea26469706673582212203dafaa4c8f34ad767d36775120cdf65742956a98b33a9913f2e11f858baf2d9e64736f6c63430008170033",qmn={};Ue(qmn,{abi:()=>Wmn,bytecode:()=>Ymn});Wmn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"targetContract_",type:"address",internalType:"address"}],stateMutability:"pure"},{type:"event",name:"OwnershipTransferEnforced",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newOwner",type:"address",indexed:!1,internalType:"address"}],anonymous:!1}],Ymn="0x608060405234801561001057600080fd5b506106af806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461049f565b50505050505050505050565b005b61007661008636600461049f565b6100ba565b61009e61009936600461056c565b6101e7565b6040516001600160a01b03909116815260200160405180910390f35b856100c6816000610252565b6101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610128816000610252565b6101825760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b5060006101918d8d8a8a610269565b6040516001600160a01b038083168252919250879186169033907f0f026cada0b544ae1cc47ac006f1f4c3d7e94832af22aa0065351de49f9284d79060200160405180910390a450505050505050505050505050565b60006014821461023e5760405162461bcd60e51b815260206004820152602e602482015260008051602061065a83398151915260448201526d0c85ae8cae4dae65ad8cadccee8d60931b606482015260840161010e565b61024882846105ae565b60601c9392505050565b6001600160f81b0319828116908216145b92915050565b60008036600061027986866103e9565b929550935090915050602481146102db5760405162461bcd60e51b8152602060048201526032602482015260008051602061065a8339815191526044820152710c85acaf0cac6eae8d2dedc5ad8cadccee8d60731b606482015260840161010e565b60006102ea60048284866105e3565b6102f39161060d565b90506001600160e01b0319811663f2fde38b60e01b146103545760405162461bcd60e51b8152602060048201526028602482015260008051602061065a833981519152604482015267190b5b595d1a1bd960c21b606482015260840161010e565b60006103608a8a6101e7565b9050846001600160a01b0316816001600160a01b0316146103c45760405162461bcd60e51b815260206004820152602a602482015260008051602061065a833981519152604482015269190b58dbdb9d1c9858dd60b21b606482015260840161010e565b6103d26024600485876105e3565b6103db9161063b565b9a9950505050505050505050565b60008036816103fb60148287896105e3565b610404916105ae565b60601c93506104176034601487896105e3565b6104209161063b565b925061042f85603481896105e3565b949793965094505050565b60008083601f84011261044c57600080fd5b50813567ffffffffffffffff81111561046457600080fd5b60208301915083602082850101111561047c57600080fd5b9250929050565b80356001600160a01b038116811461049a57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156104be57600080fd5b8a3567ffffffffffffffff808211156104d657600080fd5b6104e28e838f0161043a565b909c509a5060208d01359150808211156104fb57600080fd5b6105078e838f0161043a565b909a50985060408d0135975060608d013591508082111561052757600080fd5b506105348d828e0161043a565b90965094505060808b0135925061054d60a08c01610483565b915061055b60c08c01610483565b90509295989b9194979a5092959850565b6000806020838503121561057f57600080fd5b823567ffffffffffffffff81111561059657600080fd5b6105a28582860161043a565b90969095509350505050565b6bffffffffffffffffffffffff1981358181169160148510156105db5780818660140360031b1b83161692505b505092915050565b600080858511156105f357600080fd5b8386111561060057600080fd5b5050820193919092039150565b6001600160e01b031981358181169160048510156105db5760049490940360031b84901b1690921692915050565b8035602083101561026357600019602084900360031b1b169291505056fe4f776e6572736869705472616e73666572456e666f726365723a696e76616c69a2646970667358221220ca5ae6d7f1b90ba5d22d1aa6d07431cba5451fcdcfda2c53ba5014e9bf6c30cc64736f6c63430008170033",Jmn={};Ue(Jmn,{abi:()=>Qmn,bytecode:()=>Zmn});Qmn=[{type:"error",name:"SafeERC20FailedDecreaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"currentAllowance",type:"uint256",internalType:"uint256"},{name:"requestedDecrease",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]}],Zmn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088a0aa059cfc49869da70b79266115a887b85b6bf4a5e84a430f64ac0e13ee7c64736f6c63430008170033",Xmn={};Ue(Xmn,{abi:()=>eyn,bytecode:()=>tyn});eyn=[{type:"function",name:"createSender",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[{name:"sender",type:"address",internalType:"address"}],stateMutability:"nonpayable"}],tyn="0x608060405234801561000f575f80fd5b506101e28061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063570e1a361461002d575b5f80fd5b61004061003b3660046100e4565b61005c565b6040516001600160a01b03909116815260200160405180910390f35b5f8061006b6014828587610150565b61007491610177565b60601c90505f6100878460148188610150565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525084519495509360209350849250905082850182875af190505f519350806100db575f93505b50505092915050565b5f80602083850312156100f5575f80fd5b823567ffffffffffffffff8082111561010c575f80fd5b818501915085601f83011261011f575f80fd5b81358181111561012d575f80fd5b86602082850101111561013e575f80fd5b60209290920196919550909350505050565b5f808585111561015e575f80fd5b8386111561016a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156101a45780818660140360031b1b83161692505b50509291505056fea264697066735822122078c1aaa9f040f8c523cf2b642dd06415593eec30d2e75021458af7e0c704e6fb64736f6c63430008170033",nyn={};Ue(nyn,{abi:()=>ryn,bytecode:()=>iyn});ryn=[{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]}],iyn="0x",ayn={};Ue(ayn,{abi:()=>oyn,bytecode:()=>syn});oyn=[{type:"error",name:"SafeCastOverflowedIntDowncast",inputs:[{name:"bits",type:"uint8",internalType:"uint8"},{name:"value",type:"int256",internalType:"int256"}]},{type:"error",name:"SafeCastOverflowedIntToUint",inputs:[{name:"value",type:"int256",internalType:"int256"}]},{type:"error",name:"SafeCastOverflowedUintDowncast",inputs:[{name:"bits",type:"uint8",internalType:"uint8"},{name:"value",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SafeCastOverflowedUintToInt",inputs:[{name:"value",type:"uint256",internalType:"uint256"}]}],syn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122061ebdeb3510df44a7d9170525bd3fc61f93c656e67274c3f3b4aa33ec92dc13864736f6c63430008170033",cyn={};Ue(cyn,{abi:()=>lyn,bytecode:()=>uyn});lyn=[],uyn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212203d65f4321e18e96a0e0a3e6a8d19e56735de368638fd48b184c923bf46a5170f64736f6c63430008170033",fyn={};Ue(fyn,{abi:()=>dyn,bytecode:()=>pyn});dyn=[{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],pyn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088910c5f67a05f7b05fc7425f62972b57385080dd0be1e4dea1ea74435bca86f64736f6c63430008170033",qS={};Ue(qS,{abi:()=>hyn,bytecode:()=>myn});hyn=[{type:"function",name:"computeAddress",inputs:[{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"deploy",inputs:[{name:"_bytecode",type:"bytes",internalType:"bytes"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"event",name:"Deployed",inputs:[{name:"addr",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SimpleFactoryEmptyContract",inputs:[{name:"deployed",type:"address",internalType:"address"}]}],myn="0x608060405234801561001057600080fd5b506102ef806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063481286e61461003b5780634af63f021461006a575b600080fd5b61004e6100493660046101cc565b61007d565b6040516001600160a01b03909116815260200160405180910390f35b61004e610078366004610204565b610090565b60006100898284610115565b9392505050565b600061009e60008385610122565b9050806001600160a01b03163b6000036100db576040516301e3495560e61b81526001600160a01b03821660048201526024015b60405180910390fd5b6040516001600160a01b038216907ff40fcec21964ffb566044d083b4073f29f7f7929110ea19e1b3ebe375d89055e90600090a292915050565b60006100898383306101a2565b60008347101561014e5760405163392efb2b60e21b8152476004820152602481018590526044016100d2565b815160000361017057604051631328927760e21b815260040160405180910390fd5b8282516020840186f590506001600160a01b03811661008957604051633a0ba96160e11b815260040160405180910390fd5b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b600080604083850312156101df57600080fd5b50508035926020909101359150565b634e487b7160e01b600052604160045260246000fd5b6000806040838503121561021757600080fd5b823567ffffffffffffffff8082111561022f57600080fd5b818501915085601f83011261024357600080fd5b813581811115610255576102556101ee565b604051601f8201601f19908116603f0116810190838211818310171561027d5761027d6101ee565b8160405282815288602084870101111561029657600080fd5b82602086016020830137600060209382018401529896909101359650505050505056fea264697066735822122060b446de0182f6cf23546703f0e9eb0c1da6c4f00138f5d151474f865157cd3164736f6c63430008170033",yyn={};Ue(yyn,{abi:()=>byn,bytecode:()=>gyn});byn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedRedeemers_",type:"address[]",internalType:"address[]"}],stateMutability:"pure"}],gyn="0x608060405234801561001057600080fd5b5061064b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103ae565b50505050505050505050565b005b6100766100863660046103ae565b6100b4565b61009e61009936600461047b565b6101e8565b6040516100ab91906104bd565b60405180910390f35b85600881901b6100c5816000610332565b6101245760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101318c8c6101e8565b805190915060005b81811015610183578281815181106101535761015361050a565b60200260200101516001600160a01b0316856001600160a01b03160361017b575050506101db565b600101610139565b5060405162461bcd60e51b815260206004820152602660248201527f52656465656d6572456e666f726365723a756e617574686f72697a65642d72656044820152653232b2b6b2b960d11b606482015260840161011b565b5050505050505050505050565b606060008280158015906102045750610202601482610536565b155b61025e5760405162461bcd60e51b815260206004820152602560248201527f52656465656d6572456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b606482015260840161011b565b610269601482610560565b67ffffffffffffffff81111561028157610281610574565b6040519080825280602002602001820160405280156102aa578160200160208202803683370190505b50925060005b81811015610329578581866102c682601461058a565b926102d39392919061059d565b6102dc916105c7565b60601c8484815181106102f1576102f161050a565b6001600160a01b039092166020928302919091019091015282610313816105fc565b9350610322905060148261058a565b90506102b0565b50505092915050565b6001600160f81b0319828116908216145b92915050565b60008083601f84011261035b57600080fd5b50813567ffffffffffffffff81111561037357600080fd5b60208301915083602082850101111561038b57600080fd5b9250929050565b80356001600160a01b03811681146103a957600080fd5b919050565b60008060008060008060008060008060e08b8d0312156103cd57600080fd5b8a3567ffffffffffffffff808211156103e557600080fd5b6103f18e838f01610349565b909c509a5060208d013591508082111561040a57600080fd5b6104168e838f01610349565b909a50985060408d0135975060608d013591508082111561043657600080fd5b506104438d828e01610349565b90965094505060808b0135925061045c60a08c01610392565b915061046a60c08c01610392565b90509295989b9194979a5092959850565b6000806020838503121561048e57600080fd5b823567ffffffffffffffff8111156104a557600080fd5b6104b185828601610349565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156104fe5783516001600160a01b0316835292840192918401916001016104d9565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b60008261054557610545610520565b500690565b634e487b7160e01b600052601160045260246000fd5b60008261056f5761056f610520565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156103435761034361054a565b600080858511156105ad57600080fd5b838611156105ba57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105f45780818660140360031b1b83161692505b505092915050565b60006001820161060e5761060e61054a565b506001019056fea264697066735822122021c89a0ebcdb2523c453552212243b747d81b7c16f2f3e22d20bb9692240f3a364736f6c63430008170033",wyn={};Ue(wyn,{abi:()=>vyn,bytecode:()=>Eyn});vyn=[],Eyn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212209bac814741dd376ccf59547680acabccb0310545d980db81a1b4c6c7f17cdbc164736f6c63430008170033",xyn={};Ue(xyn,{abi:()=>Ayn,bytecode:()=>_yn});Ayn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"termsData_",type:"tuple",internalType:"struct SpecificActionERC20TransferBatchEnforcer.TermsData",components:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"recipient",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"firstTarget",type:"address",internalType:"address"},{name:"firstCalldata",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"},{type:"function",name:"usedDelegations",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"DelegationExecuted",inputs:[{name:"delegationManager",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],_yn="0x608060405234801561001057600080fd5b50610ccf806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063a145832a14610083578063b99deb0e14610096578063b9cf5249146100bf578063d3eddcc514610067578063ed46336714610067575b600080fd5b610081610075366004610958565b50505050505050505050565b005b610081610091366004610958565b6100fa565b6100a96100a4366004610a25565b6106ce565b6040516100b69190610a67565b60405180910390f35b6100ea6100cd366004610af5565b600060208181529281526040808220909352908152205460ff1681565b60405190151581526020016100b6565b8561010981600160f81b610843565b61015a5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61016b816000610843565b6101c55760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610151565b503360009081526020818152604080832088845290915290205460ff1615610245576040805162461bcd60e51b8152602060048201526024810191909152600080516020610c7a83398151915260448201527f456e666f726365723a64656c65676174696f6e2d616c72656164792d757365646064820152608401610151565b336000908152602081815260408083208884529091528120805460ff191660011790553690610274898961085a565b9092509050600281146102dd5760405162461bcd60e51b815260206004820152603b6024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d62617463682d73697a6500000000006064820152608401610151565b60006102e98f8f6106ce565b905080606001516001600160a01b03168383600081811061030c5761030c610b1f565b905060200281019061031e9190610b35565b61032c906020810190610b55565b6001600160a01b031614158061036957508282600081811061035057610350610b1f565b90506020028101906103629190610b35565b6020013515155b806103c757508060800151805190602001208383600081811061038e5761038e610b1f565b90506020028101906103a09190610b35565b6103ae906040810190610b77565b6040516103bc929190610bbe565b604051809103902014155b156104335760405162461bcd60e51b81526020600482015260426024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d66697273742d7472616e736163746960648201526137b760f11b608482015260a401610151565b80516001600160a01b03168383600181811061045157610451610b1f565b90506020028101906104639190610b35565b610471906020810190610b55565b6001600160a01b03161415806104ae57508282600181811061049557610495610b1f565b90506020028101906104a79190610b35565b6020013515155b806104ee5750828260018181106104c7576104c7610b1f565b90506020028101906104d99190610b35565b6104e7906040810190610b77565b9050604414155b80610554575063a9059cbb60e01b8383600181811061050f5761050f610b1f565b90506020028101906105219190610b35565b61052f906040810190610b77565b61053e91600491600091610bce565b61054791610bf8565b6001600160e01b03191614155b806105bf575080602001516001600160a01b03168383600181811061057b5761057b610b1f565b905060200281019061058d9190610b35565b61059b906040810190610b77565b6105aa91602491600491610bce565b6105b391610c28565b6001600160a01b031614155b8061061857508060400151838360018181106105dd576105dd610b1f565b90506020028101906105ef9190610b35565b6105fd906040810190610b77565b61060c91604491602491610bce565b61061591610c28565b14155b156106855760405162461bcd60e51b81526020600482015260436024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d7365636f6e642d7472616e7361637460648201526234b7b760e91b608482015260a401610151565b6040516001600160a01b03881690899033907f76f83a16f9924b51c0c3ad67a44af3e517fbdec68ffa3729776df2ac0f03144090600090a4505050505050505050505050505050565b61071b6040518060a0016040528060006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160006001600160a01b03168152602001606081525090565b605c8210156107805760405162461bcd60e51b815260206004820152603d6024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d7465726d732d6c656e6774680000006064820152608401610151565b61078e601460008486610bce565b61079791610c46565b60601c81526107aa602860148486610bce565b6107b391610c46565b60601c60208201526107c9604860288486610bce565b6107d291610c28565b60408201526107e5605c60488486610bce565b6107ee91610c46565b606090811c9082015261080482605c8186610bce565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505050608082015292915050565b6001600160f81b0319828116908216145b92915050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156108925763ba597e7e6000526004601cfd5b83156108e9578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156108e05763ba597e7e6000526004601cfd5b5050508261089c575b5050509250929050565b60008083601f84011261090557600080fd5b50813567ffffffffffffffff81111561091d57600080fd5b60208301915083602082850101111561093557600080fd5b9250929050565b80356001600160a01b038116811461095357600080fd5b919050565b60008060008060008060008060008060e08b8d03121561097757600080fd5b8a3567ffffffffffffffff8082111561098f57600080fd5b61099b8e838f016108f3565b909c509a5060208d01359150808211156109b457600080fd5b6109c08e838f016108f3565b909a50985060408d0135975060608d01359150808211156109e057600080fd5b506109ed8d828e016108f3565b90965094505060808b01359250610a0660a08c0161093c565b9150610a1460c08c0161093c565b90509295989b9194979a5092959850565b60008060208385031215610a3857600080fd5b823567ffffffffffffffff811115610a4f57600080fd5b610a5b858286016108f3565b90969095509350505050565b6000602080835260018060a01b038085511660208501528060208601511660408501526040850151606085015280606086015116608085015250608084015160a08085015280518060c086015260005b81811015610ad35782810184015186820160e001528301610ab7565b50600060e0828701015260e0601f19601f830116860101935050505092915050565b60008060408385031215610b0857600080fd5b610b118361093c565b946020939093013593505050565b634e487b7160e01b600052603260045260246000fd5b60008235605e19833603018112610b4b57600080fd5b9190910192915050565b600060208284031215610b6757600080fd5b610b708261093c565b9392505050565b6000808335601e19843603018112610b8e57600080fd5b83018035915067ffffffffffffffff821115610ba957600080fd5b60200191503681900382131561093557600080fd5b8183823760009101908152919050565b60008085851115610bde57600080fd5b83861115610beb57600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015610c205780818660040360031b1b83161692505b505092915050565b8035602083101561085457600019602084900360031b1b1692915050565b6bffffffffffffffffffffffff198135818116916014851015610c205760149490940360031b84901b169092169291505056fe5370656369666963416374696f6e45524332305472616e736665724261746368a2646970667358221220e8d1de6d5cca88243b7e7a1d3b3a1ae6b1a75dad78f305486212fafaf9e3ca5264736f6c63430008170033",Tyn={};Ue(Tyn,{abi:()=>Syn,bytecode:()=>Cyn});Syn=[{type:"receive",stateMutability:"payable"},{type:"function",name:"addStake",inputs:[{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"deposits",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Cyn="0x",Iyn={};Ue(Iyn,{abi:()=>Ryn,bytecode:()=>Oyn});Ryn=[{type:"error",name:"StringsInsufficientHexLength",inputs:[{name:"value",type:"uint256",internalType:"uint256"},{name:"length",type:"uint256",internalType:"uint256"}]}],Oyn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ce1bfc0cd5aac1e748b751339a93cc065f5fd20fd73be10a7844adf26543eb8164736f6c63430008170033",Nyn={};Ue(Nyn,{abi:()=>Pyn,bytecode:()=>kyn});Pyn=[],kyn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122089188054053227534294662d666312081d2f72553264bdfc0ce4a353c15e0f6364736f6c63430008170033",Myn={};Ue(Myn,{abi:()=>Byn,bytecode:()=>Dyn});Byn=[{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"}],Dyn="0x",Lyn={};Ue(Lyn,{abi:()=>Uyn,bytecode:()=>Fyn});Uyn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"value_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"}],Fyn="0x608060405234801561001057600080fd5b506104f8806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610336565b50505050505050505050565b005b610076610086366004610336565b6100b0565b61009e610099366004610403565b6101f8565b60405190815260200160405180910390f35b856100bc816000610269565b61010d5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61011e816000610269565b6101785760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610104565b5060006101858888610280565b505091505060006101968e8e6101f8565b9050808211156101e85760405162461bcd60e51b815260206004820152601f60248201527f56616c75654c7465456e666f726365723a76616c75652d746f6f2d68696768006044820152606401610104565b5050505050505050505050505050565b6000602082146102585760405162461bcd60e51b815260206004820152602560248201527f56616c75654c7465456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b6064820152608401610104565b6102628284610445565b9392505050565b6001600160f81b0319828116908216145b92915050565b60008036816102926014828789610463565b61029b9161048d565b60601c93506102ae603460148789610463565b6102b791610445565b92506102c68560348189610463565b949793965094505050565b60008083601f8401126102e357600080fd5b50813567ffffffffffffffff8111156102fb57600080fd5b60208301915083602082850101111561031357600080fd5b9250929050565b80356001600160a01b038116811461033157600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035557600080fd5b8a3567ffffffffffffffff8082111561036d57600080fd5b6103798e838f016102d1565b909c509a5060208d013591508082111561039257600080fd5b61039e8e838f016102d1565b909a50985060408d0135975060608d01359150808211156103be57600080fd5b506103cb8d828e016102d1565b90965094505060808b013592506103e460a08c0161031a565b91506103f260c08c0161031a565b90509295989b9194979a5092959850565b6000806020838503121561041657600080fd5b823567ffffffffffffffff81111561042d57600080fd5b610439858286016102d1565b90969095509350505050565b8035602083101561027a57600019602084900360031b1b1692915050565b6000808585111561047357600080fd5b8386111561048057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156104ba5780818660140360031b1b83161692505b50509291505056fea26469706673582212201b32f956e1bfeecade9436bbfc83066c0610b5679c49ae7d06d58eaeb4e24ff564736f6c63430008170033",Hyn={};Ue(Hyn,{abi:()=>zyn,bytecode:()=>jyn});zyn=[{type:"function",name:"PAYMASTER_DATA_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PAYMASTER_POSTOP_GAS_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PAYMASTER_VALIDATION_GAS_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],jyn="0x60a7610034600b8282823980515f1a60731461002857634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106046575f3560e01c806325093e1b14604a578063b29a8ff4146063578063ede3150214606a575b5f80fd5b6051602481565b60405190815260200160405180910390f35b6051601481565b605160348156fea2646970667358221220e3e47e9c438ff94c86dca42d7dcd69637923bbba71e55fc90068fd2fbb4991dc64736f6c63430008170033",Gyn={};Ue(Gyn,{abi:()=>Vyn,bytecode:()=>Kyn});Vyn=[{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}],Kyn="0x",$yn={};Ue($yn,{abi:()=>qyn,bytecode:()=>Wyn});qyn=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"timestampAfterThreshold_",type:"uint128",internalType:"uint128"},{name:"timestampBeforeThreshold_",type:"uint128",internalType:"uint128"}],stateMutability:"pure"}],Wyn="0x608060405234801561001057600080fd5b506104e7806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461033f565b50505050505050505050565b005b61007661008636600461033f565b6100c2565b61009e61009936600461040c565b61023a565b604080516001600160801b0393841681529290911660208301520160405180910390f35b85600881901b6001600160f81b03198116156101335760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806101418d8d61023a565b90925090506001600160801b038216156101b857816001600160801b031642116101b85760405162461bcd60e51b815260206004820152602260248201527f54696d657374616d70456e666f726365723a6561726c792d64656c656761746960448201526137b760f11b606482015260840161012a565b6001600160801b0381161561022b57806001600160801b0316421061022b5760405162461bcd60e51b8152602060048201526024808201527f54696d657374616d70456e666f726365723a657870697265642d64656c6567616044820152633a34b7b760e11b606482015260840161012a565b50505050505050505050505050565b6000806020831461029c5760405162461bcd60e51b815260206004820152602660248201527f54696d657374616d70456e666f726365723a696e76616c69642d7465726d732d6044820152650d8cadccee8d60d31b606482015260840161012a565b6102a9836010818761044e565b6102b291610478565b60801c90506102c560106000858761044e565b6102ce91610478565b60801c91509250929050565b60008083601f8401126102ec57600080fd5b50813567ffffffffffffffff81111561030457600080fd5b60208301915083602082850101111561031c57600080fd5b9250929050565b80356001600160a01b038116811461033a57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035e57600080fd5b8a3567ffffffffffffffff8082111561037657600080fd5b6103828e838f016102da565b909c509a5060208d013591508082111561039b57600080fd5b6103a78e838f016102da565b909a50985060408d0135975060608d01359150808211156103c757600080fd5b506103d48d828e016102da565b90965094505060808b013592506103ed60a08c01610323565b91506103fb60c08c01610323565b90509295989b9194979a5092959850565b6000806020838503121561041f57600080fd5b823567ffffffffffffffff81111561043657600080fd5b610442858286016102da565b90969095509350505050565b6000808585111561045e57600080fd5b8386111561046b57600080fd5b5050820193919092039150565b6fffffffffffffffffffffffffffffffff1981358181169160108510156104a95780818660100360031b1b83161692505b50509291505056fea2646970667358221220493f1dd46bf21857fc13b6e41e6f29c1c53fbb939ca84fcd1536c7cf1000d18064736f6c63430008170033",Yyn={};Ue(Yyn,{abi:()=>Jyn,bytecode:()=>Qyn});Jyn=[{type:"fallback",stateMutability:"payable"}],Qyn="0x",Zyn={};Ue(Zyn,{abi:()=>Xyn,bytecode:()=>ebn});Xyn=[],ebn="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122034801a6b4534dfc9cfe9c8b31e018c344c3329b6bf478762f2158ce5781d2b7a64736f6c63430008170033",Mr={};Ue(Mr,{abi:()=>tbn,bytecode:()=>nbn});tbn=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"MAX_NUMBER_OF_SIGNERS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"addSigner",inputs:[{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getSigners",inputs:[],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getSignersCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getThreshold",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isSigner",inputs:[{name:"_addr",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"reinitialize",inputs:[{name:"_version",type:"uint64",internalType:"uint64"},{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"},{name:"_clearSigners",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeSigner",inputs:[{name:"_oldSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"replaceSigner",inputs:[{name:"_oldSigner",type:"address",internalType:"address"},{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"updateMultiSigParameters",inputs:[{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"},{name:"_clearSigners",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateThreshold",inputs:[{name:"_threshold",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AddedSigner",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"RemovedSigner",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ReplacedSigner",inputs:[{name:"oldSigner",type:"address",indexed:!0,internalType:"address"},{name:"newSigner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"UpdatedThreshold",inputs:[{name:"threshold",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AlreadyASigner",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientSigners",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"InvalidSignerAddress",inputs:[]},{type:"error",name:"InvalidThreshold",inputs:[]},{type:"error",name:"NotASigner",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"TooManySigners",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],nbn="0x6101c0604052306080523480156200001657600080fd5b506040516200492838038062004928833981016040819052620000399162000392565b81816040518060400160405280601181526020017026bab63a34a9b4b3a232b632a3b0ba37b960791b815250604051806040016040528060018152602001603160f81b8152508181620000976000836200021f60201b90919060201c565b61014052620000a88160016200021f565b61016052815160208084019190912061010052815190820120610120524660c052620001386101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0526200014b62000258565b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a2505050506000620001d66200030c60201b60201c565b600019600282018190556040519081529091507f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d039060200160405180910390a1505050620005ba565b60006020835110156200023f57620002378362000330565b905062000252565b816200024c848262000478565b5060ff90505b92915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff1615620002a95760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b0390811614620003095780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b7fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c0090565b600080829050601f8151111562000367578260405163305a27a960e01b81526004016200035e919062000544565b60405180910390fd5b8051620003748262000595565b179392505050565b6001600160a01b03811681146200030957600080fd5b60008060408385031215620003a657600080fd5b8251620003b3816200037c565b6020840151909250620003c6816200037c565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680620003fc57607f821691505b6020821081036200041d57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111562000473576000816000526020600020601f850160051c810160208610156200044e5750805b601f850160051c820191505b818110156200046f578281556001016200045a565b5050505b505050565b81516001600160401b03811115620004945762000494620003d1565b620004ac81620004a58454620003e7565b8462000423565b602080601f831160018114620004e45760008415620004cb5750858301515b600019600386901b1c1916600185901b1785556200046f565b600085815260208120601f198616915b828110156200051557888601518255948401946001909101908401620004f4565b5085821015620005345787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620005745785810183015185820160400152820162000556565b506000604082860101526040601f19601f8301168501019250505092915050565b805160208083015191908110156200041d5760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051614235620006f3600039600081816106d8015281816109cd01528181610c2d01528181610cb701528181610d3501528181610e9901528181610f4e01528181610fd90152818161115e0152818161124e015281816113010152818161137301528181611523015281816115a20152818161169d0152818161195501528181611a4b01528181611c6101528181611e64015281816120da0152612d0d01526000818161084a01528181610d9801528181610e1b01528181610efc0152818161160501526116e1015260006129970152600061296a015260006122be01526000612296015260006121f10152600061221b0152600061224501526000818161214801528181612171015261267101526142356000f3fe6080604052600436106102815760003560e01c806394cf795e1161014f578063cef6d209116100c1578063e9ae5c531161007a578063e9ae5c5314610825578063ea4d3c9b14610838578063eb12d61e1461086c578063ed8101b51461088c578063f23a6e61146108ac578063ffa1ad74146108cc57600080fd5b8063cef6d2091461075c578063d087d2881461077c578063d691c96414610791578063d7d7442f146107b1578063e3d9109f146107d1578063e75235b8146107f157600080fd5b8063acb8cc4911610113578063acb8cc4914610668578063ad3cb1cc14610695578063b0d691fe146106c6578063b3c65015146106fa578063bc197c8114610727578063c399ec881461074757600080fd5b806394cf795e1461059a578063a0c1deb4146105bc578063a24c8f32146105de578063a3f4df7e146105f1578063aaf10f421461063b57600080fd5b806349934047116101f357806365ee81d8116101ac57806365ee81d8146104b757806378979a80146104d75780637df73e27146104f75780637f07bfdc1461053d57806383ebb7711461055d57806384b0196e1461057257600080fd5b806349934047146104345780634a58db19146104545780634f1ef2861461045c57806352d1902d1461046f5780635c1c6dcd1461048457806360b5bb3f1461049757600080fd5b806319822f7c1161024557806319822f7c1461036b5780632b3afd991461038b5780633e1b0812146103bf5780633ed01015146103df578063445140b8146103ff5780634891161f1461041f57600080fd5b806301ffc9a71461028d57806306394d67146102c25780630e316ab7146102f0578063150b7a02146103125780631626ba7e1461034b57600080fd5b3661028857005b600080fd5b34801561029957600080fd5b506102ad6102a8366004613309565b6108fd565b60405190151581526020015b60405180910390f35b3480156102ce57600080fd5b506102e26102dd36600461334c565b61098d565b6040519081526020016102b9565b3480156102fc57600080fd5b5061031061030b36600461339d565b6109c2565b005b34801561031e57600080fd5b5061033261032d36600461346f565b610be6565b6040516001600160e01b031990911681526020016102b9565b34801561035757600080fd5b50610332610366366004613522565b610c01565b34801561037757600080fd5b506102e261038636600461356d565b610c20565b34801561039757600080fd5b506102e27fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156103cb57600080fd5b506102e26103da3660046135ba565b610c90565b3480156103eb57600080fd5b506103106103fa3660046135e3565b610d2a565b34801561040b57600080fd5b506102ad61041a36600461361d565b610e02565b34801561042b57600080fd5b506102e2601e81565b34801561044057600080fd5b5061031061044f3660046135e3565b610e8e565b610310610f31565b61031061046a366004613636565b610f9b565b34801561047b57600080fd5b506102e2610fb1565b610310610492366004613685565b610fce565b3480156104a357600080fd5b506103106104b2366004613703565b61103e565b3480156104c357600080fd5b506103106104d236600461375c565b611153565b3480156104e357600080fd5b506103106104f23660046137ba565b6111bc565b34801561050357600080fd5b506102ad61051236600461339d565b6001600160a01b031660009081526000805160206141c0833981519152602052604090205460ff1690565b34801561054957600080fd5b50610310610558366004613836565b6112f6565b34801561056957600080fd5b506102e26113d3565b34801561057e57600080fd5b506105876113e2565b6040516102b997969594939291906138b2565b3480156105a657600080fd5b506105af611428565b6040516102b9919061394b565b3480156105c857600080fd5b506000805160206141a0833981519152546102e2565b6103106105ec366004613636565b610fa3565b3480156105fd57600080fd5b5061062e6040518060400160405280601181526020017026bab63a34a9b4b3a232b632a3b0ba37b960791b81525081565b6040516102b99190613998565b34801561064757600080fd5b5061065061149b565b6040516001600160a01b0390911681526020016102b9565b34801561067457600080fd5b5061062e604051806040016040528060018152602001603160f81b81525081565b3480156106a157600080fd5b5061062e604051806040016040528060058152602001640352e302e360dc1b81525081565b3480156106d257600080fd5b506106507f000000000000000000000000000000000000000000000000000000000000000081565b34801561070657600080fd5b5061070f6114bc565b6040516001600160401b0390911681526020016102b9565b34801561073357600080fd5b50610332610742366004613a2a565b6114ef565b34801561075357600080fd5b506102e261150b565b34801561076857600080fd5b50610310610777366004613ad7565b611597565b34801561078857600080fd5b506102e261167e565b6107a461079f366004613522565b6116d4565b6040516102b99190613b70565b3480156107bd57600080fd5b506103106107cc36600461361d565b61194a565b3480156107dd57600080fd5b506103106107ec366004613bd4565b611a40565b3480156107fd57600080fd5b507fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c02546102e2565b610310610833366004613522565b611c56565b34801561084457600080fd5b506106507f000000000000000000000000000000000000000000000000000000000000000081565b34801561087857600080fd5b5061031061088736600461339d565b611e59565b34801561089857600080fd5b506102e26108a736600461334c565b611fdf565b3480156108b857600080fd5b506103326108c7366004613c0d565b612121565b3480156108d857600080fd5b5061062e604051806040016040528060058152602001640312e332e360dc1b81525081565b600061090761213d565b6001600160e01b031982166335a4725960e21b148061093657506001600160e01b03198216630a85bd0160e11b145b8061095157506001600160e01b03198216630271189760e51b145b8061096c57506001600160e01b031982166301ffc9a760e01b145b8061098757506001600160e01b03198216630b135d3f60e11b145b92915050565b600061098761099a6121e4565b6109a384611fdf565b60405161190160f01b8152600281019290925260228201526042902090565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906109fb5750333014155b15610a1957604051630796d94560e01b815260040160405180910390fd5b6001600160a01b03811660009081526000805160206141c0833981519152602081905260409091205460ff16610a625760405163da0357f760e01b815260040160405180910390fd5b600181015460028201548103610a8b576040516361774dcf60e11b815260040160405180910390fd5b60005b610a99600183613c8b565b811015610b6357836001600160a01b0316836001018281548110610abf57610abf613c9e565b6000918252602090912001546001600160a01b031603610b5b5782600101600183610aea9190613c8b565b81548110610afa57610afa613c9e565b6000918252602090912001546001840180546001600160a01b039092169183908110610b2857610b28613c9e565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550610b63565b600101610a8e565b5081600101805480610b7757610b77613cb4565b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b038516808352908490526040808320805460ff191690555190917fb0073c14ccc2332b5b461c0d2fb94366f38d3954a82745e74827aa0811c9f98191a2505050565b6000610bf061213d565b50630a85bd0160e11b949350505050565b6000610c0b61213d565b610c1684848461230f565b90505b9392505050565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610c6b57604051636b31ba1560e11b815260040160405180910390fd5b610c7361213d565b610c8584610c808661098d565b6124ae565b9050610c19826124f6565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610d06573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109879190613cca565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610d635750333014155b15610d8157604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed0101590610dcd908490600401613e12565b600060405180830381600087803b158015610de757600080fd5b505af1158015610dfb573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610e6a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109879190613eed565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ec75750333014155b15610ee557604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690634993404790610dcd908490600401613e12565b610f3961213d565b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b158015610de757600080fd5b610fa361258e565b610fad828261264b565b5050565b6000610fbb612666565b506000805160206141e083398151915290565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461101757604051636b31ba1560e11b815260040160405180910390fd5b610fad611027602083018361339d565b60208301356110396040850185613f0a565b6126af565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff1615906001600160401b03166000811580156110835750825b90506000826001600160401b0316600114801561109f5750303b155b9050811580156110ad575080155b156110cb5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156110f557845460ff60401b1916600160401b1785555b61110288888860006126e5565b831561114957845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d2906020015b60405180910390a15b5050505050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061118c5750333014155b156111aa57604051630796d94560e01b815260040160405180910390fd5b6111b6848484846126e5565b50505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054869190600160401b900460ff1680611204575080546001600160401b03808416911610155b156112225760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b178155336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061127c5750333014155b1561129a57604051630796d94560e01b815260040160405180910390fd5b6112a6868686866126e5565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a150505050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061132f5750333014155b1561134d57604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156113b757600080fd5b505af11580156113cb573d6000803e3d6000fd5b505050505050565b60006113dd6121e4565b905090565b6000606080600080600060606113f6612963565b6113fe612990565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b606060006000805160206141c08339815191526001810180546040805160208084028201810190925282815293945083018282801561149057602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611472575b505050505091505090565b60006113dd6000805160206141e0833981519152546001600160a01b031690565b60006113dd7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00546001600160401b031690565b60006114f961213d565b5063bc197c8160e01b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015611573573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113dd9190613cca565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906115d05750333014155b156115ee57604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061164490899089908990899089908990600401613fb1565b600060405180830381600087803b15801561165e57600080fd5b505af1158015611672573d6000803e3d6000fd5b50505050505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401611556565b6060336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461171f57604051630692ce8160e21b815260040160405180910390fd5b83600881901b61173382600160f81b6129bd565b156117b95736600061174587876129cf565b90925090506117558360006129bd565b1561176b576117648282612a68565b94506117b2565b61177983600160f81b6129bd565b15611788576117648282612b29565b6040516308c3ee0360e11b81526001600160f81b0319841660048201526024015b60405180910390fd5b5050611941565b6117c48260006129bd565b1561191c576000803660006117d98989612c56565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816117f8579050509650600061181b86826129bd565b1561184f5761182c858585856126af565b8860008151811061183f5761183f613c9e565b6020026020010181905250611912565b61185d86600160f81b6129bd565b156118ed5761186e85858585612ca7565b8960008151811061188157611881613c9e565b60209081029190910101529050806118e8577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb76000896000815181106118c9576118c9613c9e565b60200260200101516040516118df92919061401a565b60405180910390a15b611912565b6040516308c3ee0360e11b81526001600160f81b0319871660048201526024016117a9565b5050505050611941565b604051632e5bf3f960e21b81526001600160f81b0319831660048201526024016117a9565b50509392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906119835750333014155b156119a157604051630796d94560e01b815260040160405180910390fd5b806000036119c25760405163aabd5a0960e01b815260040160405180910390fd5b6000805160206141a0833981519152546000805160206141c083398151915290821115611a025760405163aabd5a0960e01b815260040160405180910390fd5b600281018290556040518281527f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d039060200160405180910390a15050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611a795750333014155b15611a9757604051630796d94560e01b815260040160405180910390fd5b6001600160a01b0381161580611ab657506001600160a01b0381163b15155b15611ad457604051634501a91960e01b815260040160405180910390fd5b6001600160a01b03821660009081526000805160206141c0833981519152602081905260409091205460ff16611b1d5760405163da0357f760e01b815260040160405180910390fd5b6001600160a01b03821660009081526020829052604090205460ff1615611b5757604051631985f4ab60e31b815260040160405180910390fd5b600181015460005b81811015611bf157846001600160a01b0316836001018281548110611b8657611b86613c9e565b6000918252602090912001546001600160a01b031603611be95783836001018281548110611bb657611bb6613c9e565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550611bf1565b600101611b5f565b506001600160a01b03808516600081815260208590526040808220805460ff199081169091559387168083528183208054909516600117909455517f53a7b6f060162826746b07f3ff5cc66b83afad3bc9a57c9f34d7802901c6e8299190a350505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611c9f57604051636b31ba1560e11b815260040160405180910390fd5b82600881901b611cb382600160f81b6129bd565b15611d0e57366000611cc586866129cf565b9092509050611cd58360006129bd565b15611cea57611ce48282612a68565b50611d07565b611cf883600160f81b6129bd565b1561178857611ce48282612b29565b5050610dfb565b611d198260006129bd565b1561191c57600080366000611d2e8888612c56565b9350935093509350611d4485600060f81b6129bd565b15611d5b57611d55848484846126af565b50611e50565b611d6985600160f81b6129bd565b15611e2b57604080516001808252818301909252600091816020015b6060815260200190600190039081611d855790505090506000611daa86868686612ca7565b83600081518110611dbd57611dbd613c9e565b6020908102919091010152905080611e24577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb7600083600081518110611e0557611e05613c9e565b6020026020010151604051611e1b92919061401a565b60405180910390a15b5050611e50565b6040516308c3ee0360e11b81526001600160f81b0319861660048201526024016117a9565b50505050610dfb565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611e925750333014155b15611eb057604051630796d94560e01b815260040160405180910390fd5b6001600160a01b0381161580611ecf57506001600160a01b0381163b15155b15611eed57604051634501a91960e01b815260040160405180910390fd5b6000805160206141a0833981519152546000805160206141c083398151915290601d1901611f2e57604051630dc92ed360e11b815260040160405180910390fd5b6001600160a01b03821660009081526020829052604090205460ff1615611f6857604051631985f4ab60e31b815260040160405180910390fd5b6001818101805480830182556000918252602080832090910180546001600160a01b0319166001600160a01b038716908117909155808352908490526040808320805460ff191690941790935591517f82b74755d483f0688b80354268454667c377a5684e64a4dbb6820fc11a6276d49190a25050565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1861200f602084018461339d565b60208401356120216040860186613f0a565b60405161202f929190614033565b6040519081900390206120456060870187613f0a565b604051612053929190614033565b604051908190039020608087013560a088013560c089013561207860e08b018b613f0a565b604051612086929190614033565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b600061212b61213d565b5063f23a6e6160e01b95945050505050565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614806121c457507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166121b86000805160206141e0833981519152546001600160a01b031690565b6001600160a01b031614155b156121e25760405163703e46dd60e11b815260040160405180910390fd5b565b6000306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801561223d57507f000000000000000000000000000000000000000000000000000000000000000046145b1561226757507f000000000000000000000000000000000000000000000000000000000000000090565b6113dd604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b7fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c02546000906000805160206141c08339815191529061235090604190614043565b831461236757506001600160e01b03199050610c19565b600061237460418561405a565b600283015490915060008080805b858110156124965760008a8a612399604185614043565b9060416123a786600161407c565b6123b19190614043565b926123be9392919061408f565b8080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092935061240292508e9150839050612cd8565b9350846001600160a01b0316846001600160a01b031611158061243e57506001600160a01b03841660009081526020899052604090205460ff16155b1561245c57506001600160e01b03199750610c199650505050505050565b82612466816140b9565b9350508583106124885750630b135d3f60e11b9750610c199650505050505050565b509192508291600101612382565b506001600160e01b03199a9950505050505050505050565b6000806124c8836124c3610100870187613f0a565b61230f565b90506374eca2c160e11b6001600160e01b03198216016124ec576000915050610987565b5060019392505050565b801561258b57604051600090339060001990849084818181858888f193505050503d8060008114612543576040519150601f19603f3d011682016040523d82523d6000602084013e612548565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a2505b50565b6000805160206141a0833981519152546000805160206141c08339815191529060005b81811015612608578260000160008460010183815481106125d4576125d4613c9e565b60009182526020808320909101546001600160a01b031683528201929092526040019020805460ff191690556001016125b1565b506126176001830160006132d7565b6000600283018190556040517feb09d532980c3cc73dcad99b80e264204a667a54cbb7b63ec8d68dcb1c7096be9190a15050565b61265361213d565b61265c82612d02565b610fad8282612d59565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146121e25760405163703e46dd60e11b815260040160405180910390fd5b60405181838237600038838387895af16126cc573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b6000805160206141a08339815191525483906000805160206141c08339815191529060008461271d57612718828561407c565b61271f565b835b905085158061272d57508086115b1561274b5760405163aabd5a0960e01b815260040160405180910390fd5b601e81111561276d57604051630dc92ed360e11b815260040160405180910390fd5b84156128015760005b828110156127f257600084600101828154811061279557612795613c9e565b60009182526020808320909101546001600160a01b0316808352908790526040808320805460ff191690555190925082917fb0073c14ccc2332b5b461c0d2fb94366f38d3954a82745e74827aa0811c9f98191a250600101612776565b506128016001840160006132d7565b60005b8481101561292b57600089898381811061282057612820613c9e565b9050602002016020810190612835919061339d565b6001600160a01b03811660009081526020879052604090205490915060ff161561287257604051631985f4ab60e31b815260040160405180910390fd5b6001600160a01b038116158061289157506001600160a01b0381163b15155b156128af57604051634501a91960e01b815260040160405180910390fd5b6001858101805480830182556000918252602080832090910180546001600160a01b0319166001600160a01b038616908117909155808352908890526040808320805460ff191690941790935591517f82b74755d483f0688b80354268454667c377a5684e64a4dbb6820fc11a6276d49190a250600101612804565b50600283018690556040518681527f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d0390602001611140565b60606113dd7f00000000000000000000000000000000000000000000000000000000000000006000612e1b565b60606113dd7f00000000000000000000000000000000000000000000000000000000000000006001612e1b565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c1715612a075763ba597e7e6000526004601cfd5b8315612a5e578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715612a555763ba597e7e6000526004601cfd5b50505082612a11575b5050509250929050565b606081806001600160401b03811115612a8357612a836133ba565b604051908082528060200260200182016040528015612ab657816020015b6060815260200190600190039081612aa15790505b50915060005b81811015612b215736858583818110612ad757612ad7613c9e565b9050602002810190612ae991906140d2565b9050612afb611027602083018361339d565b848381518110612b0d57612b0d613c9e565b602090810291909101015250600101612abc565b505092915050565b606081806001600160401b03811115612b4457612b446133ba565b604051908082528060200260200182016040528015612b7757816020015b6060815260200190600190039081612b625790505b50915060005b81811015612b215736858583818110612b9857612b98613c9e565b9050602002810190612baa91906140d2565b90506000612bd5612bbe602084018461339d565b6020840135612bd06040860186613f0a565b612ca7565b868581518110612be757612be7613c9e565b6020908102919091010152905080612c4c577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612c2d57612c2d613c9e565b6020026020010151604051612c4392919061401a565b60405180910390a15b5050600101612b7d565b6000803681612c68601482878961408f565b612c71916140f2565b60601c9350612c8460346014878961408f565b612c8d91614125565b9250612c9c856034818961408f565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080612ce88686612ec6565b925092509250612cf88282612f13565b5090949350505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590612d3b5750333014155b1561258b57604051630796d94560e01b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015612db3575060408051601f3d908101601f19168201909252612db091810190613cca565b60015b612ddb57604051634c9c8ce360e01b81526001600160a01b03831660048201526024016117a9565b6000805160206141e08339815191528114612e0c57604051632a87526960e21b8152600481018290526024016117a9565b612e168383612fcc565b505050565b606060ff8314612e3557612e2e83613022565b9050610987565b818054612e4190614143565b80601f0160208091040260200160405190810160405280929190818152602001828054612e6d90614143565b8015612eba5780601f10612e8f57610100808354040283529160200191612eba565b820191906000526020600020905b815481529060010190602001808311612e9d57829003601f168201915b50505050509050610987565b60008060008351604103612f005760208401516040850151606086015160001a612ef288828585613061565b955095509550505050612f0c565b50508151600091506002905b9250925092565b6000826003811115612f2757612f27614177565b03612f30575050565b6001826003811115612f4457612f44614177565b03612f625760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115612f7657612f76614177565b03612f975760405163fce698f760e01b8152600481018290526024016117a9565b6003826003811115612fab57612fab614177565b03610fad576040516335e2f38360e21b8152600481018290526024016117a9565b612fd582613130565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561301a57612e168282613195565b610fad61320b565b6060600061302f8361322a565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a084111561309c5750600091506003905082613126565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa1580156130f0573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661311c57506000925060019150829050613126565b9250600091508190505b9450945094915050565b806001600160a01b03163b60000361316657604051634c9c8ce360e01b81526001600160a01b03821660048201526024016117a9565b6000805160206141e083398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b0316846040516131b2919061418d565b600060405180830381855af49150503d80600081146131ed576040519150601f19603f3d011682016040523d82523d6000602084013e6131f2565b606091505b5091509150613202858383613252565b95945050505050565b34156121e25760405163b398979f60e01b815260040160405180910390fd5b600060ff8216601f81111561098757604051632cd44ac360e21b815260040160405180910390fd5b60608261326757613262826132ae565b610c19565b815115801561327e57506001600160a01b0384163b155b156132a757604051639996b31560e01b81526001600160a01b03851660048201526024016117a9565b5080610c19565b8051156132be5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b508054600082559060005260206000209081019061258b91905b8082111561330557600081556001016132f1565b5090565b60006020828403121561331b57600080fd5b81356001600160e01b031981168114610c1957600080fd5b6000610120828403121561334657600080fd5b50919050565b60006020828403121561335e57600080fd5b81356001600160401b0381111561337457600080fd5b61338084828501613333565b949350505050565b6001600160a01b038116811461258b57600080fd5b6000602082840312156133af57600080fd5b8135610c1981613388565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b03811182821017156133f8576133f86133ba565b604052919050565b600082601f83011261341157600080fd5b81356001600160401b0381111561342a5761342a6133ba565b61343d601f8201601f19166020016133d0565b81815284602083860101111561345257600080fd5b816020850160208301376000918101602001919091529392505050565b6000806000806080858703121561348557600080fd5b843561349081613388565b935060208501356134a081613388565b92506040850135915060608501356001600160401b038111156134c257600080fd5b6134ce87828801613400565b91505092959194509250565b60008083601f8401126134ec57600080fd5b5081356001600160401b0381111561350357600080fd5b60208301915083602082850101111561351b57600080fd5b9250929050565b60008060006040848603121561353757600080fd5b8335925060208401356001600160401b0381111561355457600080fd5b613560868287016134da565b9497909650939450505050565b60008060006060848603121561358257600080fd5b83356001600160401b0381111561359857600080fd5b6135a486828701613333565b9660208601359650604090950135949350505050565b6000602082840312156135cc57600080fd5b81356001600160c01b0381168114610c1957600080fd5b6000602082840312156135f557600080fd5b81356001600160401b0381111561360b57600080fd5b820160c08185031215610c1957600080fd5b60006020828403121561362f57600080fd5b5035919050565b6000806040838503121561364957600080fd5b823561365481613388565b915060208301356001600160401b0381111561366f57600080fd5b61367b85828601613400565b9150509250929050565b60006020828403121561369757600080fd5b81356001600160401b038111156136ad57600080fd5b820160608185031215610c1957600080fd5b60008083601f8401126136d157600080fd5b5081356001600160401b038111156136e857600080fd5b6020830191508360208260051b850101111561351b57600080fd5b60008060006040848603121561371857600080fd5b83356001600160401b0381111561372e57600080fd5b61373a868287016136bf565b909790965060209590950135949350505050565b801515811461258b57600080fd5b6000806000806060858703121561377257600080fd5b84356001600160401b0381111561378857600080fd5b613794878288016136bf565b9095509350506020850135915060408501356137af8161374e565b939692955090935050565b6000806000806000608086880312156137d257600080fd5b85356001600160401b0380821682146137ea57600080fd5b9095506020870135908082111561380057600080fd5b5061380d888289016136bf565b9095509350506040860135915060608601356138288161374e565b809150509295509295909350565b6000806040838503121561384957600080fd5b823561385481613388565b946020939093013593505050565b60005b8381101561387d578181015183820152602001613865565b50506000910152565b6000815180845261389e816020860160208601613862565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e060208401526138d360e084018a613886565b83810360408501526138e5818a613886565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156139395783518352928401929184019160010161391d565b50909c9b505050505050505050505050565b6020808252825182820181905260009190848201906040850190845b8181101561398c5783516001600160a01b031683529284019291840191600101613967565b50909695505050505050565b602081526000610c196020830184613886565b600082601f8301126139bc57600080fd5b813560206001600160401b038211156139d7576139d76133ba565b8160051b6139e68282016133d0565b9283528481018201928281019087851115613a0057600080fd5b83870192505b84831015613a1f57823582529183019190830190613a06565b979650505050505050565b600080600080600060a08688031215613a4257600080fd5b8535613a4d81613388565b94506020860135613a5d81613388565b935060408601356001600160401b0380821115613a7957600080fd5b613a8589838a016139ab565b94506060880135915080821115613a9b57600080fd5b613aa789838a016139ab565b93506080880135915080821115613abd57600080fd5b50613aca88828901613400565b9150509295509295909350565b60008060008060008060608789031215613af057600080fd5b86356001600160401b0380821115613b0757600080fd5b613b138a838b016136bf565b90985096506020890135915080821115613b2c57600080fd5b613b388a838b016136bf565b90965094506040890135915080821115613b5157600080fd5b50613b5e89828a016136bf565b979a9699509497509295939492505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b82811015613bc757603f19888603018452613bb5858351613886565b94509285019290850190600101613b99565b5092979650505050505050565b60008060408385031215613be757600080fd5b8235613bf281613388565b91506020830135613c0281613388565b809150509250929050565b600080600080600060a08688031215613c2557600080fd5b8535613c3081613388565b94506020860135613c4081613388565b9350604086013592506060860135915060808601356001600160401b03811115613c6957600080fd5b613aca88828901613400565b634e487b7160e01b600052601160045260246000fd5b8181038181111561098757610987613c75565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b600060208284031215613cdc57600080fd5b5051919050565b6000808335601e19843603018112613cfa57600080fd5b83016020810192503590506001600160401b03811115613d1957600080fd5b80360382131561351b57600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b88811015613e0457858403601f19018a52823536899003605e19018112613d90578283fd5b880160608135613d9f81613388565b6001600160a01b03168652613db682880183613ce3565b8289890152613dc88389018284613d28565b925050506040613dda81840184613ce3565b935087830382890152613dee838583613d28565b9d89019d97505050938601935050600101613d6b565b509198975050505050505050565b6020815260008235613e2381613388565b6001600160a01b0390811660208481019190915284013590613e4482613388565b80821660408501525050604083013560608301526060830135601e19843603018112613e6f57600080fd5b83016020810190356001600160401b03811115613e8b57600080fd5b8060051b3603821315613e9d57600080fd5b60c06080850152613eb260e085018284613d51565b915050608084013560a0840152613ecc60a0850185613ce3565b848303601f190160c0860152613ee3838284613d28565b9695505050505050565b600060208284031215613eff57600080fd5b8151610c198161374e565b6000808335601e19843603018112613f2157600080fd5b8301803591506001600160401b03821115613f3b57600080fd5b60200191503681900382131561351b57600080fd5b6000838385526020808601955060208560051b8301018460005b87811015613fa457848303601f19018952613f858288613ce3565b613f90858284613d28565b9a86019a9450505090830190600101613f6a565b5090979650505050505050565b606081526000613fc560608301888a613f50565b8281036020848101919091528682528791810160005b88811015613ff757833582529282019290820190600101613fdb565b50848103604086015261400b818789613f50565b9b9a5050505050505050505050565b828152604060208201526000610c166040830184613886565b8183823760009101908152919050565b808202811582820484141761098757610987613c75565b60008261407757634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561098757610987613c75565b6000808585111561409f57600080fd5b838611156140ac57600080fd5b5050820193919092039150565b6000600182016140cb576140cb613c75565b5060010190565b60008235605e198336030181126140e857600080fd5b9190910192915050565b6bffffffffffffffffffffffff198135818116916014851015612b215760149490940360031b84901b1690921692915050565b8035602083101561098757600019602084900360031b1b1692915050565b600181811c9082168061415757607f821691505b60208210810361334657634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b600082516140e881846020870161386256feb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c01b005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c00360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbca26469706673582212205fc6fdc85503c31560366339056f5ba5c2624d0697f326aa98f14cda48fe6f7164736f6c63430008170033",rbn={};Ue(rbn,{abi:()=>ibn,bytecode:()=>abn});ibn=[{type:"function",name:"verify",inputs:[{name:"message",type:"bytes32",internalType:"bytes32"},{name:"r",type:"uint256",internalType:"uint256"},{name:"s",type:"uint256",internalType:"uint256"},{name:"qx",type:"uint256",internalType:"uint256"},{name:"qy",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],abn="0x610c9761003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100355760003560e01c8063a1f312811461003a575b600080fd5b61004d610048366004610bf0565b610061565b604051901515815260200160405180910390f35b600084158061007e5750600080516020610c428339815191528510155b80610087575083155b806100a05750600080516020610c428339815191528410155b156100ad5750600061020a565b6100fe600160601b63ffffffff60c01b03196bfffffffffffffffffffffffd63ffffffff60c01b03197f5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b8686610213565b151560000361010f5750600061020a565b600061011a856102be565b90506000600080516020610c4283398151915282890990506000600080516020610c42833981519152838909905060006040518060c00160405280888152602001878152602001600160601b63ffffffff60c01b031981526020016bfffffffffffffffffffffffd63ffffffff60c01b031981526020017f6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c29681526020017f4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5815250905060006101ea828585610337565b509050600080516020610c428339815191528a8103820815955050505050505b95945050505050565b600082158015610221575081155b8061022c5750858310155b806102375750858210155b156102445750600061020a565b6000868061025457610254610c2b565b83840990506000878061026957610269610c2b565b888061027757610277610c2b565b888709898061028857610288610c2b565b878b8061029757610297610c2b565b898a090908905087806102ac576102ac610c2b565b86820891909114979650505050505050565b600060405160208152602080820152602060408201528260608201527fffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc63254f6080820152600080516020610c4283398151915260a082015260208160c0836005600019fa610330576107fe60405260206040fd5b5192915050565b600080600160ff1b8415801561034b575083155b1561035d576000809250925050610be8565b60008061080060405101604052604088015161082060405101526108206040510151610466565b6000806000808886600209898182098a8188098b82840992508b8c8d8c8d098f098d8e8b8c096003090895508b8b840993508b8a830994508b8c8260028f03098d8889090896508b8c828e03890887099150508a818c8a8509089450505082890392509650965096509692505050565b9086039086828186890908955086818803888588090894506000806000808a898a0993508a89850992508a84880991508a83890990508a84860996508a8b8860028e03098c858e038e8e8f09080893508a8a8c868e038a080994508a8b84880986089250975097509750979350505050565b60a0898101516080808c01516040519182015291820152600160c0820181905260e0909101526104a760608a01518260018060a08e015160808f0151610384565b95509350955095506104d683838789610100604051019081526020810191909152604081019190915260600152565b6104ed8160a08b015160808c015186868a8c6103f4565b955093509550955061051c83838789610180604051019081526020810191909152604081019190915260600152565b61054c60018060208c015160008d0151610200604051019081526020810191909152604081019190915260600152565b6080890151955060a089015194506105728160208b015160008c01516001808a8c6103f4565b95509350955095506105a183838789610280604051019081526020810191909152604081019190915260600152565b6105b88160a08b015160808c015186868a8c6103f4565b95509350955095506105e783838789610300604051019081526020810191909152604081019190915260600152565b6105fe8160a08b015160808c015186868a8c6103f4565b955093509550955061062d83838789610380604051019081526020810191909152604081019190915260600152565b600089015195506020890151945061064e60608a015182600180898b610384565b955093509550955061067d83838789610400604051019081526020810191909152604081019190915260600152565b6106948160a08b015160808c015186868a8c6103f4565b95509350955095506106c383838789610480604051019081526020810191909152604081019190915260600152565b6106da8160a08b015160808c015186868a8c6103f4565b955093509550955061070983838789610500604051019081526020810191909152604081019190915260600152565b6107208160a08b015160808c015186868a8c6103f4565b955093509550955061074f83838789610580604051019081526020810191909152604081019190915260600152565b6104006040510151955061042060405101519450610440604051015191506104606040510151925061078e8160208b015160008c015186868a8c6103f4565b95509350955095506107bd83838789610600604051019081526020810191909152604081019190915260600152565b6107d48160a08b015160808c015186868a8c6103f4565b955093509550955061080383838789610680604051019081526020810191909152604081019190915260600152565b61081a8160a08b015160808c015186868a8c6103f4565b955093509550955061084983838789610700604051019081526020810191909152604081019190915260600152565b6108608160a08b015160808c015186868a8c6103f4565b95509350955095505061089082828688610780604051019081526020810191909152604081019190915260600152565b600091505b816108d5578286161560010360031b8360011c87161560010360021b018388161560010360011b8460011c891615600103010191508260021c9250610895565b506040805160079290921b82018051602082015192820151606090920151610820850151919750929550919290915b8415610b7d5780866002098181820982818a09838284099250838487880960608f015109848186878e8f09600309089050848885099750848784099650600285039a508485838d0986838409089a5084858387038d088209925050508281848a850908830397508291508790506002098181820982818a09838284099250838487880960608f015109848186878e8f09600309089050848885099750848784099650600285039a508485838d0986838409089a5084858387038d088209925050508281848a850908975050508488161560010360031b8560011c89161560010360021b01858a161560010360011b8660011c8b1615600103010180610a0d575094850394610b72565b60071b828101805160609091015161086085015284610a48579083016020810151604082015160609092015192995097509094509250610b72565b82836108608601518a09848885602001880151090861084085015290830160400151908280838b0984038487840908610840850151610b005780610b005783896002860309925083838409905083818b09610840860152838184099250838487880960608f0151099150838285868d8e09600309089150838784099650838682099550838461084087015160028703098584850908995083848b8603610840880151088309905083848a850982089850505050610b72565b83818209915083818309905083838584890909955083838b0992508361086086015185838a09099650838485846002880309850985838703876108408a01516108408b01510908089950838284099150838482866108608901518d090985610840880151878e89038708090898505050505b8460021c9450610904565b61088060408190526108e085905260208082526108a08190526108c08190526001198301610900526109208390529092508260c0816005600019fa610bc8576107ff60405260206040fd5b808251870995508082518409925080838409925080838809965050505050505b935093915050565b600080600080600060a08688031215610c0857600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b634e487b7160e01b600052601260045260246000fdfeffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551a26469706673582212202032a0a92437c4c7498b5f3dbbeea2851a22a8974a563aed836730aa07e1cdda64736f6c63430008170033"});function J8e(t){return`0x${va(t)}`}function p1t(t){return c0(t.slice(2))}var h1t=B(()=>{Is()});function Q8e(t){let e=typeof t=="string"?p1t(t):t,n=e.slice(0,32),r=e.slice(32,64);return{r:BigInt(J8e(n)),s:BigInt(J8e(r))}}var m1t=B(()=>{h1t()});var y1t=B(()=>{m1t()});function w1t(t,e=pbn){let n=hbn[e][t];if(n)return n;let r=d1t[e]?.[t];if(!r)throw new Error(`No contracts found for version ${e} chain ${t}`);return mbn(r)}function mbn(t){return{DelegationManager:t.DelegationManager,EntryPoint:t.EntryPoint,SimpleFactory:t.SimpleFactory,implementations:{MultiSigDeleGatorImpl:t.MultiSigDeleGatorImpl,HybridDeleGatorImpl:t.HybridDeleGatorImpl},caveatEnforcers:{AllowedCalldataEnforcer:t.AllowedCalldataEnforcer,AllowedMethodsEnforcer:t.AllowedMethodsEnforcer,AllowedTargetsEnforcer:t.AllowedTargetsEnforcer,ArgsEqualityCheckEnforcer:t.ArgsEqualityCheckEnforcer,BlockNumberEnforcer:t.BlockNumberEnforcer,DeployedEnforcer:t.DeployedEnforcer,ERC20BalanceChangeEnforcer:t.ERC20BalanceChangeEnforcer,ERC20TransferAmountEnforcer:t.ERC20TransferAmountEnforcer,ERC20StreamingEnforcer:t.ERC20StreamingEnforcer,ERC721BalanceChangeEnforcer:t.ERC721BalanceChangeEnforcer,ERC721TransferEnforcer:t.ERC721TransferEnforcer,ERC1155BalanceChangeEnforcer:t.ERC1155BalanceChangeEnforcer,IdEnforcer:t.IdEnforcer,LimitedCallsEnforcer:t.LimitedCallsEnforcer,NonceEnforcer:t.NonceEnforcer,TimestampEnforcer:t.TimestampEnforcer,ValueLteEnforcer:t.ValueLteEnforcer,NativeTokenTransferAmountEnforcer:t.NativeTokenTransferAmountEnforcer,NativeBalanceChangeEnforcer:t.NativeBalanceChangeEnforcer,NativeTokenStreamingEnforcer:t.NativeTokenStreamingEnforcer,NativeTokenPaymentEnforcer:t.NativeTokenPaymentEnforcer,OwnershipTransferEnforcer:t.OwnershipTransferEnforcer,RedeemerEnforcer:t.RedeemerEnforcer,SpecificActionERC20TransferBatchEnforcer:t.SpecificActionERC20TransferBatchEnforcer,ERC20PeriodTransferEnforcer:t.ERC20PeriodTransferEnforcer,NativeTokenPeriodTransferEnforcer:t.NativeTokenPeriodTransferEnforcer,ExactCalldataBatchEnforcer:t.ExactCalldataBatchEnforcer,ExactCalldataEnforcer:t.ExactCalldataEnforcer,ExactExecutionEnforcer:t.ExactExecutionEnforcer,ExactExecutionBatchEnforcer:t.ExactExecutionBatchEnforcer,MultiTokenPeriodEnforcer:t.MultiTokenPeriodEnforcer}}}function A1t(t,e,n,r){let i=Ft(ma(["string"],[t])),{r:a,s:o}=Q8e(e);for(;o>ybn;)o=E1t-o;let[s,c]=bbn(n),{userVerified:l}=vbn(r),u=gbn(n);return gn(x1t,[i,a,o,r,l,s,c,u])}function vbn(t){return{userVerified:(Buffer.from(t.slice(2),"hex").readUInt8(wbn)&4)!==0}}var SD,Z8e,b1t,obn,sbn,cbn,RX,CD,KFr,lbn,qFr,kf,wl,ubn,X8e,fbn,YFr,dbn,g1t,pbn,hbn,v1t,E1t,ybn,x1t,bbn,gbn,wbn,_1t,Ebn,e3e,Mf=B(()=>{CX();_n();Wt();CX();Wt();Wt();CX();y1t();Wt();Wt();SD=(t=ya,e=0n,n="0x")=>({target:t,value:e,callData:n}),Z8e="0x0000000000000000000000000000000000000000000000000000000000000000",b1t="0x0100000000000000000000000000000000000000000000000000000000000000",obn=[{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"callData"}],sbn=t=>ma(["address","uint256","bytes"],[t.target,t.value,t.callData]),cbn=t=>gn([{components:obn,name:"executions",type:"tuple[]"}],[t]),RX=t=>{if(t.length==0)throw new Error("Error while getting the execution calldatas, executions is empty");if(t.length==1){let e=t[0];return sbn(e)}return cbn(t)},CD=t=>{if(t.length==0)throw new Error("Error while getting the execution calldatas, executionsBatch is empty");return t.map(RX)},KFr={[hr.mainnet]:"https://etherscan.io",[hr.optimism]:"https://optimistic.etherscan.io",[hr.polygon]:"https://polygonscan.com",[hr.base]:"https://basescan.org",[hr.arbitrum]:"https://arbiscan.io",[hr.linea]:"https://lineascan.build",[hr.sepolia]:"https://sepolia.etherscan.io",[hr.lineaSepolia]:"https://sepolia.lineascan.build"},lbn=[{type:"address",name:"enforcer"},{type:"bytes",name:"terms"},{type:"bytes",name:"args"}],qFr=Ft(An("Caveat(address enforcer,bytes terms)")),kf=(t=>(t[t.MultiSig=0]="MultiSig",t[t.Hybrid=1]="Hybrid",t))(kf||{}),wl=t=>{let e=t.caveats.map(r=>({enforcer:Js(r.enforcer),terms:r.terms,args:r.args})),n=t.salt==="0x"?0n:BigInt(t.salt);return{delegate:Js(t.delegate),delegator:Js(t.delegator),authority:t.authority===void 0?fbn:t.authority,caveats:e,salt:n,signature:t.signature}},ubn=t=>{let e=t.map(wl);return gn([{components:dbn,name:"delegations",type:"tuple[]"}],[e])},X8e=t=>t.map(n=>ubn(n)),fbn="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",YFr=Ft(An("Delegation(address delegate,address delegator,bytes32 authority,Caveat[] caveats,uint256 salt)Caveat(address enforcer,bytes terms)")),dbn=[{type:"address",name:"delegate"},{type:"address",name:"delegator"},{type:"bytes32",name:"authority"},{type:"tuple[]",name:"caveats",components:lbn},{type:"uint256",name:"salt"},{type:"bytes",name:"signature"}],g1t={Caveat:[{name:"enforcer",type:"address"},{name:"terms",type:"bytes"}],Delegation:[{name:"delegate",type:"address"},{name:"delegator",type:"address"},{name:"authority",type:"bytes32"},{name:"caveats",type:"Caveat[]"},{name:"salt",type:"uint256"}]},pbn="1.3.0",hbn={"1.0.0":{},"1.1.0":{},"1.2.0":{},"1.3.0":{}};v1t={PackedUserOperation:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"entryPoint",type:"address"}]},E1t=115792089210356248762697446949407573529996955224135760342422259061068512044369n,ybn=E1t/2n,x1t=j2("bytes32, uint256, uint256, bytes, bool, string, string, uint256"),bbn=t=>{try{let{challenge:e}=JSON.parse(t);if(e===void 0)throw new Error('No "challenge" found in the input string');return t.split(e)}catch(e){throw new Error('No "challenge" found in the input string',{cause:e})}},gbn=t=>{try{let e=t.indexOf('"type":');if(e===-1)throw new Error('No "type" found in the input string');return BigInt(e)}catch(e){throw new Error('No "type" found in the input string',{cause:e})}};wbn=32;_1t=t=>{let e=Ft(ma(["string"],["AuthenticatorData"])),i=In([e,"0x05","0x00000000"]),a=Ft(ma(["string"],[t])),o=57896044605178124381348723474703786764998477612067880171211129530534256022184n;return gn(x1t,[a,o,o,i,!0,'{"type":"webauthn.get","challenge":"','","origin":"passkey-domain","crossOrigin":false}',1n])},Ebn=["ECDSA"],e3e=({signatures:t})=>{if(t.length===0)return"0x";for(let{type:n}of t)if(!Ebn.includes(n))throw new Error(`Invalid signature type: ${n}`);let e=[...t].sort((n,r)=>n.signer.localeCompare(r.signer));return In(e.map(({signature:n})=>n))}});async function D1t({client:t,contractAddress:e}){let n=await Dp(t,{address:e});return!!n&&n!=="0x"}async function n2n({client:t,contractAddress:e,expectedImplementationAddress:n}){return await D1t({client:t,contractAddress:e})?await B1t({client:t,contractAddress:e})===n:!1}async function r3e(t){let{client:e,client:{chain:n},implementation:r}=t;if(!n)throw new Error("Chain not specified");let i=xbn({implementation:r,signatory:t.signatory}),a=t.environment??w1t(n.id),o=r===kf.Hybrid?"HybridDeleGator":"MultiSigDeleGator",s,c;if(t.address)c=void 0,s=t.address;else{let x=await r2n({factory:a.SimpleFactory,implementations:a.implementations,implementation:r,deployParams:t.deployParams,deploySalt:t.deploySalt});s=x.address,c=x.factoryData}let l={abi:gy,address:a.EntryPoint,version:h2n},u=async()=>{if(c===void 0)throw new Error("Deploy params were not provided, so factory args cannot be inferred");return{factoryData:c,factory:a.SimpleFactory}},f=x=>{let{delegation:C,chainId:P}=x,D=wl({...C,signature:"0x"});return i.signTypedData({domain:{chainId:P||n.id,name:"DelegationManager",version:"1",verifyingContract:a.DelegationManager},types:g1t,primaryType:"Delegation",message:D})},d=async x=>{let{chainId:C}=x,P=G4({sender:s,...x,signature:"0x"});return await i.signTypedData({domain:{chainId:C||n.id,name:o,version:"1",verifyingContract:s},types:v1t,primaryType:"PackedUserOperation",message:{...P,entryPoint:l.address}})},p=r===kf.Hybrid?Ia.abi:Mr.abi;return await Rf({abi:p,client:e,entryPoint:l,environment:a,getAddress:async()=>s,getFactoryArgs:u,encodeCalls:async x=>d2n(s,x),getNonce:()=>q1t({client:e,entryPoint:a.EntryPoint,contractAddress:s,key:0n}),signUserOperation:d,signDelegation:f,...i})}var n3e,xbn,T1t,S1t,Abn,_bn,C1t,Tbn,Sbn,Cbn,I1t,Ibn,Rbn,Obn,Nbn,Pbn,kbn,R1t,Mbn,Bbn,Dbn,O1t,Lbn,Ubn,Fbn,Hbn,zbn,jbn,Gbn,Vbn,Kbn,$bn,N1t,P1t,k1t,qbn,Wbn,M1t,Ybn,Jbn,Qbn,Zbn,B1t,Xbn,e2n,t2n,L1t,r2n,U1t,F1t,i2n,a2n,H1t,o2n,s2n,z1t,c2n,j1t,G1t,l2n,V1t,K1t,u2n,f2n,d2n,p2n,t3e,$1t,q1t,h2n,W1t,Y1t,m2n,y2n,J1t,b2n,g2n,Q1t,w2n,v2n,Z1t,X1t,E2n,x2n,ept,A2n,_2n,T2n,S2n,C2n,I2n,tpt,npt,rpt,R2n,O2n,N2n,ipt,P2n,k2n,M2n,apt,B2n,D2n,L2n,U2n,F2n,H2n,opt,z2n,j2n,G2n,V2n,K2n,spt,$2n,q2n,cpt,W2n,Y2n,lpt,upt,J2n,Q2n,fpt,Z2n,X2n,dpt,egn,tgn,ppt,hpt,mpt,ngn,ypt,bpt,gpt,rgn,ign,wpt,vpt,agn,ogn,Ept,xpt,Apt,sgn,_pt,Tpt,Yjr,Jjr,Qjr,Zjr,Spt=B(()=>{f1t();Mf();Of();Mf();Wt();Mf();Mf();Wt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();Mf();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Wt();Kt();Kt();Wt();Mf();Wt();_n();Mf();Kt();Wt();_n();Mf();Kt();Wt();_n();Kt();Wt();_n();Mf();Kt();Wt();_n();Kt();_n();Kt();Wt();_n();Kt();Mf();Wt();_n();Kt();Mf();Wt();_n();Kt();Mf();_n();Kt();_n();Kt();Kt();Kt();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();Wt();_n();Kt();_n();Kt();Wt();Kt();Wt();Kt();_n();Kt();n3e="0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",xbn=t=>{let{implementation:e}=t;if(e===kf.Hybrid)return Abn(t.signatory);if(e===kf.MultiSig)return _bn(t.signatory);throw new Error(`Implementation type '${e}' not supported`)},T1t=t=>({signMessage:t.walletClient.signMessage,signTypedData:e=>t.walletClient.signTypedData(e),getStubSignature:async()=>n3e}),S1t=t=>({signMessage:t.account.signMessage,signTypedData:t.account.signTypedData,getStubSignature:async()=>n3e}),Abn=t=>{if("walletClient"in t)return T1t(t);if("account"in t){let{signMessage:e,signTypedData:n,getStubSignature:r}=S1t(t);if(!e)throw new Error("Account does not support signMessage");if(!n)throw new Error("Account does not support signTypedData");return{signMessage:e,signTypedData:n,getStubSignature:r}}else{let{keyId:e,webAuthnAccount:n}=t;if(n.type!=="webAuthn")throw new Error("Account is not a webAuthn account");let r=({signature:s,webauthn:c})=>A1t(e,s,c.clientDataJSON,c.authenticatorData);return{signMessage:async s=>n.signMessage(s).then(r),signTypedData:async s=>n.signTypedData(s).then(r),getStubSignature:async()=>_1t(e)}}},_bn=t=>{let e=t.map(a=>{let o,s,c;if("walletClient"in a){let{signMessage:l,signTypedData:u}=T1t(a);o=l,s=u,c=a.walletClient.account.address}else{let{signMessage:l,signTypedData:u}=S1t(a);if(!l)throw new Error("Account does not support signMessage");if(!u)throw new Error("Account does not support signTypedData");o=l,s=u,c=a.account.address}return{address:c,individualSignMessage:o,individualSignTypedData:s}});return{signMessage:async a=>{let o=e.map(async({individualSignMessage:c,address:l})=>({signature:await c(a),signer:l,type:"ECDSA"})),s=await Promise.all(o);return e3e({signatures:s})},signTypedData:async a=>{let o=e.map(async({individualSignTypedData:c,address:l})=>({signature:await c(a),signer:l,type:"ECDSA"})),s=await Promise.all(o);return e3e({signatures:s})},getStubSignature:async()=>In(e.map(()=>n3e))}},C1t={};$r(C1t,{addKey:()=>Sbn,initializeHybridDeleGator:()=>I1t,reinitializeHybridDeleGator:()=>Rbn,removeKey:()=>Nbn,updateSigners:()=>kbn});Tbn=({client:t,hybridDeleGatorAddress:e,p256Owner:n})=>cn(t,{address:e,abi:Ia.abi,functionName:"addKey",args:[n.keyId,n.x,n.y]}),Sbn=({p256Owner:t})=>Oe({abi:Ia.abi,functionName:"addKey",args:[t.keyId,t.x,t.y]}),Cbn=({client:t,hybridDeleGatorAddress:e,eoaOwner:n,p256Owners:r})=>cn(t,{address:e,abi:Ia.abi,functionName:"initialize",args:[n,r.map(i=>i.keyId),r.map(i=>i.x),r.map(i=>i.y)]}),I1t=({eoaOwner:t,p256Owners:e})=>Oe({abi:Ia.abi,functionName:"initialize",args:[t,e.map(n=>n.keyId),e.map(n=>n.x),e.map(n=>n.y)]}),Ibn=({client:t,hybridDeleGatorAddress:e,version:n,eoaOwner:r,p256Owners:i,removeExistingP256Owners:a})=>cn(t,{address:e,abi:Ia.abi,functionName:"reinitialize",args:[n,r,i.map(o=>o.keyId),i.map(o=>o.x),i.map(o=>o.y),a]}),Rbn=({version:t,eoaOwner:e,p256Owners:n,removeExistingP256Owners:r})=>Oe({abi:Ia.abi,functionName:"reinitialize",args:[t,e,n.map(i=>i.keyId),n.map(i=>i.x),n.map(i=>i.y),r]}),Obn=({client:t,hybridDeleGatorAddress:e,keyId:n})=>cn(t,{address:e,abi:Ia.abi,functionName:"removeKey",args:[n]}),Nbn=({keyId:t})=>Oe({abi:Ia.abi,functionName:"removeKey",args:[t]}),Pbn=({client:t,hybridDeleGatorAddress:e,eoaOwner:n,p256Owners:r})=>cn(t,{address:e,abi:Ia.abi,functionName:"updateSigners",args:[n,r.map(i=>i.keyId),r.map(i=>i.x),r.map(i=>i.y)]}),kbn=({eoaOwner:t,p256Owners:e})=>Oe({abi:Ia.abi,functionName:"updateSigners",args:[t,e.map(n=>n.keyId),e.map(n=>n.x),e.map(n=>n.y)]}),R1t={};$r(R1t,{addSigner:()=>Bbn,initializeMultiSigDeleGator:()=>O1t,reinitializeMultiSigDeleGator:()=>Ubn,removeSigner:()=>Hbn,replaceSigner:()=>jbn,updateMultiSigParameters:()=>$bn,updateThreshold:()=>Vbn});Mbn=({client:t,multiSigDeleGatorAddress:e,signer:n})=>cn(t,{address:e,abi:Mr.abi,functionName:"addSigner",args:[n]}),Bbn=({signer:t})=>Oe({abi:Mr.abi,functionName:"addSigner",args:[t]}),Dbn=({client:t,multiSigDeleGatorAddress:e,owners:n,threshold:r})=>cn(t,{address:e,abi:Mr.abi,functionName:"initialize",args:[n,r]}),O1t=({owners:t,threshold:e})=>Oe({abi:Mr.abi,functionName:"initialize",args:[t,e]}),Lbn=({client:t,multiSigDeleGatorAddress:e,version:n,owners:r,threshold:i,removeExistingOwners:a})=>cn(t,{address:e,abi:Mr.abi,functionName:"reinitialize",args:[n,r,i,a]}),Ubn=({version:t,owners:e,threshold:n,removeExistingOwners:r})=>Oe({abi:Mr.abi,functionName:"reinitialize",args:[t,e,n,r]}),Fbn=({client:t,multiSigDeleGatorAddress:e,signer:n})=>cn(t,{address:e,abi:Mr.abi,functionName:"removeSigner",args:[n]}),Hbn=({signer:t})=>Oe({abi:Mr.abi,functionName:"removeSigner",args:[t]}),zbn=({client:t,multiSigDeleGatorAddress:e,oldSigner:n,newSigner:r})=>cn(t,{address:e,abi:Mr.abi,functionName:"replaceSigner",args:[n,r]}),jbn=({oldSigner:t,newSigner:e})=>Oe({abi:Mr.abi,functionName:"replaceSigner",args:[t,e]}),Gbn=({client:t,multiSigDeleGatorAddress:e,threshold:n})=>cn(t,{address:e,abi:Mr.abi,functionName:"updateThreshold",args:[n]}),Vbn=({threshold:t})=>Oe({abi:Mr.abi,functionName:"updateThreshold",args:[t]}),Kbn=({client:t,multiSigDeleGatorAddress:e,owners:n,threshold:r,removeExistingOwners:i})=>cn(t,{address:e,abi:Mr.abi,functionName:"updateMultiSigParameters",args:[n,r,i]}),$bn=({owners:t,threshold:e,removeExistingOwners:n})=>Oe({abi:Mr.abi,functionName:"updateMultiSigParameters",args:[t,e,n]}),N1t={};$r(N1t,{create2Deploy:()=>k1t});P1t=({client:t,factoryAddress:e,creationCode:n,salt:r})=>cn(t,{address:e,abi:qS.abi,functionName:"deploy",args:[n,r]}),k1t=(t,e)=>Oe({abi:qS.abi,functionName:"deploy",args:[t,e]}),qbn=async({client:t,factoryAddress:e,creationCode:n,salt:r})=>{let{request:i}=await P1t({client:t,factoryAddress:e,creationCode:n,salt:r});return ai(t,i)},Wbn={};$r(Wbn,{encodeProxyCreationCode:()=>L1t,isContractDeployed:()=>D1t,isImplementationExpected:()=>n2n});M1t={};$r(M1t,{getDelegationManager:()=>Ybn,getDeposit:()=>Jbn,getEntryPoint:()=>Qbn,getNonce:()=>Zbn,getProxyImplementation:()=>B1t,getProxyVersion:()=>Xbn,isValidSignature:()=>e2n});Ybn=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:oi.abi,functionName:"delegationManager"}),Jbn=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:oi.abi,functionName:"getDeposit"}),Qbn=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:oi.abi,functionName:"entryPoint"}),Zbn=async({client:t,contractAddress:e,key:n})=>await gt(t,{address:e,abi:oi.abi,functionName:"getNonce",args:n?[n]:void 0}),B1t=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:oi.abi,functionName:"getImplementation"}),Xbn=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:oi.abi,functionName:"getInitializedVersion"}),e2n=async({client:t,contractAddress:e,hash:n,signature:r})=>await gt(t,{address:e,abi:oi.abi,functionName:"isValidSignature",args:[n,r]}),t2n=({hash:t,signature:e})=>Oe({abi:oi.abi,functionName:"isValidSignature",args:[t,e]});L1t=({implementationAddress:t,initcode:e})=>Xd({abi:IX.abi,args:[t,e],bytecode:IX.bytecode}),r2n=async({factory:t,implementations:e,implementation:n,deployParams:r,deploySalt:i})=>{let a,o;switch(n){case kf.Hybrid:let[f,d,p,h]=r;a=e.HybridDeleGatorImpl;let m=d.map((x,C)=>({keyId:x,x:p[C],y:h[C]}));o=I1t({eoaOwner:f,p256Owners:m});break;case kf.MultiSig:let[w,g]=r;a=e.MultiSigDeleGatorImpl,o=O1t({owners:w,threshold:g});break;default:throw new Error(`Implementation type '${n}' not supported`)}let s=kr(i,{dir:"left",size:32}),c=L1t({implementationAddress:a,initcode:o}),l=L4({bytecode:c,from:t,opcode:"CREATE2",salt:s});return{factoryData:k1t(c,s),address:l}},U1t={};$r(U1t,{disableDelegation:()=>a2n,enableDelegation:()=>s2n,execute:()=>j1t,executeWithMode:()=>V1t,isValidSignature:()=>t2n,upgradeToAndCall:()=>f2n});F1t=({client:t,delegationManagerAddress:e,delegation:n})=>{let r=oi.abi,i=wl(n);return cn(t,{address:e,abi:r,functionName:"disableDelegation",args:[i]})},i2n=async({client:t,delegationManagerAddress:e,delegation:n})=>{let{request:r}=await F1t({client:t,delegationManagerAddress:e,delegation:n});return ai(t,r)},a2n=({delegation:t})=>{let e=wl(t);return Oe({abi:oi.abi,functionName:"disableDelegation",args:[e]})},H1t=({client:t,delegationManagerAddress:e,delegation:n})=>{let r=oi.abi,i=wl(n);return cn(t,{address:e,abi:r,functionName:"enableDelegation",args:[i]})},o2n=async({client:t,delegationManagerAddress:e,delegation:n})=>{let{request:r}=await H1t({client:t,delegationManagerAddress:e,delegation:n});return ai(t,r)},s2n=({delegation:t})=>{let e=wl(t);return Oe({abi:oi.abi,functionName:"enableDelegation",args:[e]})},z1t=({client:t,contractAddress:e,execution:n})=>cn(t,{address:e,abi:oi.abi,functionName:"execute",args:[n]}),c2n=async({client:t,contractAddress:e,execution:n})=>{let{request:r}=await z1t({client:t,contractAddress:e,execution:n});return ai(t,r)},j1t=({execution:t})=>Oe({abi:oi.abi,functionName:"execute",args:[t]}),G1t=({client:t,contractAddress:e,mode:n,executions:r})=>cn(t,{address:e,abi:oi.abi,functionName:"execute",args:[n,RX(r)]}),l2n=async({client:t,contractAddress:e,mode:n,executions:r})=>{let{request:i}=await G1t({client:t,contractAddress:e,mode:n,executions:r});return ai(t,i)},V1t=({mode:t,executions:e})=>Oe({abi:oi.abi,functionName:"execute",args:[t,RX(e)]}),K1t=({client:t,contractAddress:e,implementation:n,data:r})=>cn(t,{address:e,abi:oi.abi,functionName:"upgradeToAndCall",args:[n,r]}),u2n=async({client:t,contractAddress:e,implementation:n,data:r})=>{let{request:i}=await K1t({client:t,contractAddress:e,implementation:n,data:r});return ai(t,i)},f2n=({implementation:t,data:e})=>Oe({abi:oi.abi,functionName:"upgradeToAndCall",args:[t,e]}),d2n=async(t,e)=>{if(e.length===1){let n=e[0];if(n.to===t&&!t3e(n))return n.data||"0x"}return p2n(e)},p2n=t=>{if(t.length===1&&!t3e(t[0])){let{to:r,value:i,data:a}=t[0],o=SD(r,i,a);return j1t({execution:o})}let e=t.map(r=>{if(t3e(r)){let{permissionsContext:i,delegationManager:a}=r,o=Oe({abi:Bc.abi,functionName:"redeemDelegations",args:[[i],[Z8e],CD([[SD(r.to,r.value,r.data)]])]});return SD(a,0n,o)}else{let{to:i,value:a,data:o}=r;return SD(i,a,o)}}),n=t.length===1?Z8e:b1t;return V1t({mode:n,executions:e})},t3e=t=>"permissionsContext"in t&&"delegationManager"in t,$1t={};$r($1t,{entryPointGetNonce:()=>q1t});q1t=async({client:t,entryPoint:e,contractAddress:n,key:r})=>await gt(t,{address:e,abi:W8e.abi,functionName:"getNonce",args:[n,r]}),h2n="0.7";W1t={};$r(W1t,{disableDelegation:()=>y2n,enableDelegation:()=>g2n,redeemDelegations:()=>v2n});Y1t=({client:t,delegationManagerAddress:e,delegation:n})=>{let r=Bc.abi,i=wl(n);return cn(t,{address:e,abi:r,functionName:"disableDelegation",args:[i]})},m2n=async({client:t,delegationManagerAddress:e,delegation:n})=>{let{request:r}=await Y1t({client:t,delegationManagerAddress:e,delegation:n});return ai(t,r)},y2n=({delegation:t})=>{let e=wl(t);return Oe({abi:Bc.abi,functionName:"disableDelegation",args:[e]})},J1t=({client:t,delegationManagerAddress:e,delegation:n})=>{let r=Bc.abi,i=wl(n);return cn(t,{address:e,abi:r,functionName:"enableDelegation",args:[i]})},b2n=async({client:t,delegationManagerAddress:e,delegation:n})=>{let{request:r}=await J1t({client:t,delegationManagerAddress:e,delegation:n});return ai(t,r)},g2n=({delegation:t})=>{let e=wl(t);return Oe({abi:Bc.abi,functionName:"enableDelegation",args:[e]})},Q1t=({client:t,delegationManagerAddress:e,delegations:n,modes:r,executions:i})=>{let a=Bc.abi;return cn(t,{address:e,abi:a,functionName:"redeemDelegations",args:[X8e(n),r,CD(i)]})},w2n=async({client:t,delegationManagerAddress:e,delegations:n,modes:r,executions:i})=>{let{request:a}=await Q1t({client:t,delegationManagerAddress:e,delegations:n,modes:r,executions:i});return ai(t,a)},v2n=({delegations:t,modes:e,executions:n})=>Oe({abi:Bc.abi,functionName:"redeemDelegations",args:[X8e(t),e,CD(n)]}),Z1t={};$r(Z1t,{disableDelegation:()=>m2n,enableDelegation:()=>b2n,redeemDelegations:()=>w2n});X1t={};$r(X1t,{getAnyDelegate:()=>E2n,getRootAuthority:()=>x2n});E2n=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:Bc.abi,functionName:"ANY_DELEGATE"}),x2n=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:Bc.abi,functionName:"ROOT_AUTHORITY"}),ept={};$r(ept,{disableDelegation:()=>Y1t,enableDelegation:()=>J1t,redeemDelegations:()=>Q1t});A2n={};$r(A2n,{ANY_DELEGATE:()=>I2n,DOMAIN_VERSION:()=>S2n,NAME:()=>_2n,ROOT_AUTHORITY:()=>C2n,VERSION:()=>T2n});_2n="DelegationManager",T2n="1.3.0",S2n="1",C2n="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",I2n="0x0000000000000000000000000000000000000a11",tpt={};$r(tpt,{disableDelegation:()=>i2n,enableDelegation:()=>o2n,execute:()=>c2n,executeWithMode:()=>l2n,upgradeToAndCall:()=>u2n});npt={};$r(npt,{disableDelegation:()=>F1t,enableDelegation:()=>H1t,execute:()=>z1t,executeWithMode:()=>G1t,upgradeToAndCall:()=>K1t});rpt={};$r(rpt,{getContractName:()=>R2n,getContractVersion:()=>O2n,getDomainVersion:()=>N2n});R2n=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:[{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"NAME"}),O2n=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:[{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"VERSION"}),N2n=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:[{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"DOMAIN_VERSION"}),ipt={};$r(ipt,{getKey:()=>P2n,getKeyIdHashes:()=>k2n,getKeyIdHashesCount:()=>M2n});P2n=async({client:t,hybridDeleGatorAddress:e,keyId:n})=>await gt(t,{address:e,abi:Ia.abi,functionName:"getKey",args:[n]}),k2n=async({client:t,hybridDeleGatorAddress:e})=>await gt(t,{address:e,abi:Ia.abi,functionName:"getKeyIdHashes"}),M2n=async({client:t,hybridDeleGatorAddress:e})=>await gt(t,{address:e,abi:Ia.abi,functionName:"getKeyIdHashesCount"}),apt={};$r(apt,{addKey:()=>Tbn,initializeHybridDeleGator:()=>Cbn,reinitializeHybridDeleGator:()=>Ibn,removeKey:()=>Obn,updateSigners:()=>Pbn});B2n={};$r(B2n,{ANY_DELEGATE:()=>H2n,DOMAIN_VERSION:()=>U2n,NAME:()=>D2n,ROOT_AUTHORITY:()=>F2n,VERSION:()=>L2n});D2n="HybridDeleGator",L2n="1.3.0",U2n="1",F2n="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",H2n="0x0000000000000000000000000000000000000a11",opt={};$r(opt,{getMaxNumberOfSigners:()=>K2n,getSigners:()=>z2n,getSignersCount:()=>j2n,getThreshold:()=>G2n,isSigner:()=>V2n});z2n=async({client:t,multiSigDeleGatorAddress:e})=>await gt(t,{address:e,abi:Mr.abi,functionName:"getSigners"}),j2n=async({client:t,multiSigDeleGatorAddress:e})=>await gt(t,{address:e,abi:Mr.abi,functionName:"getSignersCount"}),G2n=async({client:t,multiSigDeleGatorAddress:e})=>await gt(t,{address:e,abi:Mr.abi,functionName:"getThreshold"}),V2n=async({client:t,multiSigDeleGatorAddress:e,signer:n})=>await gt(t,{address:e,abi:Mr.abi,functionName:"isSigner",args:[n]}),K2n=async({client:t,multiSigDeleGatorAddress:e})=>await gt(t,{address:e,abi:Mr.abi,functionName:"MAX_NUMBER_OF_SIGNERS"}),spt={};$r(spt,{addSigner:()=>Mbn,initializeMultiSigDeleGator:()=>Dbn,reinitializeMultiSigDeleGator:()=>Lbn,removeSigner:()=>Fbn,replaceSigner:()=>zbn,updateMultiSigParameters:()=>Kbn,updateThreshold:()=>Gbn});$2n={};$r($2n,{MAX_NUMBER_OF_SIGNERS:()=>q2n});q2n=30,cpt={};$r(cpt,{getOwner:()=>Y2n,getPendingOwner:()=>W2n});W2n=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:vu.abi,functionName:"pendingOwner"}),Y2n=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:vu.abi,functionName:"owner"}),lpt={};$r(lpt,{acceptOwnership:()=>egn,renounceOwnership:()=>Z2n,transferOwnership:()=>J2n});upt=({client:t,contractAddress:e,account:n})=>cn(t,{address:e,abi:vu.abi,functionName:"transferOwnership",args:[n]}),J2n=async({client:t,contractAddress:e,account:n})=>{let{request:r}=await upt({client:t,contractAddress:e,account:n});return ai(t,r)},Q2n=t=>Oe({abi:vu.abi,functionName:"transferOwnership",args:[t]}),fpt=({client:t,contractAddress:e})=>cn(t,{address:e,abi:vu.abi,functionName:"renounceOwnership"}),Z2n=async({client:t,contractAddress:e})=>{let{request:n}=await fpt({client:t,contractAddress:e});return ai(t,n)},X2n=()=>Oe({abi:vu.abi,functionName:"renounceOwnership"}),dpt=({client:t,contractAddress:e})=>cn(t,{address:e,abi:vu.abi,functionName:"acceptOwnership"}),egn=async({client:t,contractAddress:e})=>{let{request:n}=await dpt({client:t,contractAddress:e});return ai(t,n)},tgn=()=>Oe({abi:vu.abi,functionName:"acceptOwnership"}),ppt={};$r(ppt,{acceptOwnership:()=>tgn,renounceOwnership:()=>X2n,transferOwnership:()=>Q2n});hpt={};$r(hpt,{acceptOwnership:()=>dpt,renounceOwnership:()=>fpt,transferOwnership:()=>upt});mpt={};$r(mpt,{isPaused:()=>ngn});ngn=async({client:t,contractAddress:e})=>await gt(t,{address:e,abi:Y8e.abi,functionName:"paused"}),ypt={};$r(ypt,{pause:()=>rgn,unpause:()=>agn});bpt=[{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"}],gpt=({client:t,contractAddress:e})=>cn(t,{address:e,abi:bpt,functionName:"pause"}),rgn=async({client:t,contractAddress:e})=>{let{request:n}=await gpt({client:t,contractAddress:e});return ai(t,n)},ign=()=>Oe({abi:bpt,functionName:"pause"}),wpt=[{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"}],vpt=({client:t,contractAddress:e})=>cn(t,{address:e,abi:wpt,functionName:"unpause"}),agn=async({client:t,contractAddress:e})=>{let{request:n}=await vpt({client:t,contractAddress:e});return ai(t,n)},ogn=()=>Oe({abi:wpt,functionName:"unpause"}),Ept={};$r(Ept,{pause:()=>ign,unpause:()=>ogn});xpt={};$r(xpt,{pause:()=>gpt,unpause:()=>vpt});Apt={};$r(Apt,{getCreate2Address:()=>sgn});sgn=(t,e,n,r)=>gt(t,{address:e,abi:qS.abi,functionName:"computeAddress",args:[n,r]}),_pt={};$r(_pt,{create2Deploy:()=>P1t});Tpt={};$r(Tpt,{create2Deploy:()=>qbn});Yjr={...C1t,...R1t,...W1t,...U1t,...ppt,...Ept,...N1t},Jjr={...Z1t,...lpt,...ypt,...Tpt,...tpt},Qjr={...ipt,...opt,...M1t,...X1t,...$1t,...rpt,...cpt,...mpt,...Apt},Zjr={...apt,...spt,...ept,...npt,...hpt,...xpt,..._pt}});function cgn(t){return t===kf.Hybrid}var WS,Cpt=B(()=>{st();Qe();Spt();Pi();WS=class{constructor(e){K(this,"name",Ga.METAMASK),K(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,r,i,a,o,s,c,l,u,f,d,p,h,m;let w={walletClient:e.walletClient,webAuthnAccount:(n=this.options)===null||n===void 0||(n=n.hybridParams)===null||n===void 0?void 0:n.webAuthnAccount,keyId:(r=this.options)===null||r===void 0||(r=r.hybridParams)===null||r===void 0?void 0:r.keyId},g=[{walletClient:e.walletClient},...(((i=this.options)===null||i===void 0||(i=i.multiSigParams)===null||i===void 0?void 0:i.additionalSignerWalletClients)||[]).map(H=>({walletClient:H}))],[x]=await e.walletClient.getAddresses(),C=[x,[...((a=this.options)===null||a===void 0||(a=a.hybridParams)===null||a===void 0?void 0:a.p256KeyIds)||[]],[...((o=this.options)===null||o===void 0||(o=o.hybridParams)===null||o===void 0?void 0:o.p256XValues)||[]],[...((s=this.options)===null||s===void 0||(s=s.hybridParams)===null||s===void 0?void 0:s.p256YValues)||[]]],P=[[x,...((c=this.options)===null||c===void 0||(c=c.multiSigParams)===null||c===void 0?void 0:c.additionalSignerAddresses)||[]],(l=(u=this.options)===null||u===void 0||(u=u.multiSigParams)===null||u===void 0?void 0:u.threshold)!==null&&l!==void 0?l:BigInt(1+(((f=this.options)===null||f===void 0||(f=f.multiSigParams)===null||f===void 0||(f=f.additionalSignerWalletClients)===null||f===void 0?void 0:f.length)||0))],D={client:e.client,deploySalt:(d=(p=this.options)===null||p===void 0?void 0:p.deploySalt)!==null&&d!==void 0?d:"0x0"},F=(h=(m=this.options)===null||m===void 0?void 0:m.implementation)!==null&&h!==void 0?h:kf.Hybrid;if(cgn(F)){let H=q(q({},D),{},{implementation:F,deployParams:C,signatory:w});return r3e(H)}else{let H=q(q({},D),{},{implementation:F,deployParams:P,signatory:g});return r3e(H)}}}});var YS,Ipt=B(()=>{st();Qe();VS();Of();Pi();YS=class{constructor(e){K(this,"name",Ga.NEXUS),K(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,r,i;return q8e(q(q(q({},this.options||{}),{},{entryPoint:{address:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.address)||Lp,version:((r=this.options)===null||r===void 0||(r=r.entryPoint)===null||r===void 0?void 0:r.version)||"0.7"},version:((i=this.options)===null||i===void 0?void 0:i.version)||"1.0.0"},e),{},{owners:[e.walletClient],client:e.client}))}}});var JS,Rpt=B(()=>{st();Qe();VS();Of();Pi();JS=class{constructor(e){K(this,"name",Ga.SAFE),K(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,r,i;return H8e(q(q(q({},this.options||{}),{},{entryPoint:{address:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.address)||Lp,version:((r=this.options)===null||r===void 0||(r=r.entryPoint)===null||r===void 0?void 0:r.version)||"0.7"},version:((i=this.options)===null||i===void 0?void 0:i.version)||"1.4.1"},e),{},{owners:[e.walletClient],client:e.client}))}}});var QS,Opt=B(()=>{st();Qe();VS();Of();Pi();QS=class{constructor(e){K(this,"name",Ga.TRUST),K(this,"options",void 0),this.options=e}async getSmartAccount(e){var n,r;return c8e(q(q(q({},this.options||{}),{},{entryPoint:{address:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.address)||vy,version:((r=this.options)===null||r===void 0||(r=r.entryPoint)===null||r===void 0?void 0:r.version)||"0.6"}},e),{},{owner:e.walletClient,client:e.client}))}}});var d9={};$t(d9,{ARBITRUM_MAINNET_CHAIN_ID:()=>Kg,ARBITRUM_TESTNET_CHAIN_ID:()=>YM,AVALANCHE_MAINNET_CHAIN_ID:()=>Ym,AVALANCHE_TESTNET_CHAIN_ID:()=>WM,AccountAbstractionController:()=>RZ,AccountTrackerController:()=>bY,AddChainController:()=>FZ,BASE_CHAIN_ID:()=>p4,BASE_TESTNET_CHAIN_ID:()=>JM,BNToHex:()=>Zut,BSC_MAINNET_CHAIN_ID:()=>Wm,BSC_TESTNET_CHAIN_ID:()=>qM,BUNDLER_METHOD_TYPES:()=>ZM,BiconomySmartAccount:()=>KS,CELO_MAINNET_CHAIN_ID:()=>bT,CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP:()=>uY,COINGECKO_PLATFORMS_CHAIN_CODE_MAP:()=>mY,COINGECKO_SUPPORTED_CURRENCIES:()=>hY,CONTRACT_TYPE_ERC1155:()=>uu,CONTRACT_TYPE_ERC20:()=>h4,CONTRACT_TYPE_ERC721:()=>Jo,CONTRACT_TYPE_ETH:()=>ET,CurrencyController:()=>OZ,DEFAULT_CURRENCY:()=>BS,ERC1155_INTERFACE_ID:()=>cY,ERC721_ENUMERABLE_INTERFACE_ID:()=>Lit,ERC721_INTERFACE_ID:()=>lY,ERC721_METADATA_INTERFACE_ID:()=>Dit,GAS_ESTIMATE_TYPES:()=>Gd,GAS_LIMITS:()=>ZZ,GasFeeController:()=>kZ,KernelSmartAccount:()=>$S,KeyringController:()=>MZ,LINEA_CHAIN_ID:()=>gT,LINEA_SEPOLIA_CHAIN_ID:()=>QM,LOCALHOST:()=>Bit,MAINNET_CHAIN_ID:()=>Af,METHOD_TYPES:()=>zt,MM_NFT_API_SUPPORTED_CHAINS:()=>pY,MM_TOKEN_API_SUPPORTED_CHAINS:()=>xT,MessageController:()=>HZ,MetamaskSmartAccount:()=>WS,NetworkController:()=>qZ,NexusSmartAccount:()=>YS,NftHandler:()=>kS,NftsController:()=>nX,NonceTracker:()=>DS,OLD_ERC721_LIST:()=>fY,OPTIMISM_MAINNET_CHAIN_ID:()=>Jm,OPTIMISM_TESTNET_CHAIN_ID:()=>vT,PAYMASTER_METHOD_TYPES:()=>XM,POLYGON_AMOY_CHAIN_ID:()=>$M,POLYGON_CHAIN_ID:()=>qm,PendingTransactionTracker:()=>LS,PersonalMessageController:()=>zZ,PollingBlockTracker:()=>SS,PreferencesController:()=>rX,SEPOLIA_CHAIN_ID:()=>wT,SMART_ACCOUNT:()=>Ga,SUPPORTED_NETWORKS:()=>fu,SafeSmartAccount:()=>JS,SwitchChainController:()=>jZ,TEST_CHAINS:()=>dY,TRANSACTION_ENVELOPE_TYPES:()=>_f,TokenHandler:()=>MS,TokenRatesController:()=>iX,TokensController:()=>aX,TransactionController:()=>bX,TransactionGasUtil:()=>FS,TransactionStateManager:()=>zS,TrustSmartAccount:()=>QS,TypedMessageController:()=>GZ,XDAI_CHAIN_ID:()=>_ye,addCurrencies:()=>fut,addEtherscanTransactions:()=>tX,bnLessThan:()=>XZ,conversionGTE:()=>mut,conversionGreaterThan:()=>pge,conversionLTE:()=>yut,conversionLessThan:()=>put,conversionMax:()=>hut,conversionUtil:()=>NZ,createAAMiddleware:()=>Rge,createChainIdMiddleware:()=>kge,createEthereumMiddleware:()=>VZ,createGetAccountsMiddleware:()=>mge,createJsonRpcClient:()=>$Z,createPendingNonceMiddleware:()=>xge,createPendingTxMiddleware:()=>_ge,createProcessAddEthereumChain:()=>Cge,createProcessEstimateUserOperationGasMiddleware:()=>gge,createProcessEthSignMessage:()=>wge,createProcessPersonalMessage:()=>Ege,createProcessSignTransactionMiddleware:()=>bge,createProcessSwitchEthereumChain:()=>Tge,createProcessTransactionMiddleware:()=>yge,createProcessTypedMessageV4:()=>vge,createProcessWalletSwitchChain:()=>Sge,createProviderConfigMiddleware:()=>Mge,createRequestAccountsMiddleware:()=>Ige,decGWEIToHexWEI:()=>bl,determineTransactionType:()=>NS,ensureFieldIsString:()=>i9,ensureMutuallyExclusiveFieldsNotProvided:()=>OS,eoaInterceptorMiddleware:()=>cge,eoaProviderAsMiddleware:()=>lge,erc1155Abi:()=>$m,erc20Abi:()=>mT,erc721Abi:()=>Km,formatDate:()=>JZ,formatPastTx:()=>a9,formatTime:()=>QZ,formatTxMetaForRpcResult:()=>Age,generateHistoryEntry:()=>mX,getBigNumber:()=>T8,getChainType:()=>eX,getEthTxStatus:()=>YZ,getEtherScanHashLink:()=>Xut,getFinalStates:()=>WZ,getIpfsEndpoint:()=>Gge,hexToBn:()=>Qut,hexWEIToDecGWEI:()=>n1,isAddressByChainId:()=>jge,isEIP1559Transaction:()=>uD,isLegacyTransaction:()=>Yut,multiplyCurrencies:()=>dge,normalizeAndValidateTxParams:()=>dD,normalizeMessageData:()=>IS,normalizeTxParameters:()=>lD,parseStandardTokenTransactionData:()=>Hge,readAddressAsContract:()=>zge,replayHistory:()=>yX,sanitizeNftMetdataUrl:()=>PS,singleBalanceCheckerAbi:()=>yT,snapshotFromTxMeta:()=>wD,subtractCurrencies:()=>dut,toChecksumAddressByChainId:()=>eft,toNegative:()=>but,transactionMatchesNetwork:()=>Wut,validateAddChainData:()=>LZ,validateAddress:()=>BZ,validateFrom:()=>Uge,validateRecipient:()=>Fge,validateSignMessageData:()=>CS,validateSwitchChainData:()=>UZ,validateTxParameters:()=>fD,validateTypedSignMessageDataV4:()=>DZ});var N6=B(()=>{Uit();tut();fge();iut();_ut();Tut();Cut();Rut();Nut();kut();But();t9();Oge();Bge();Kut();Kge();nft();rft();qge();oft();sft();Yge();Jge();dft();Qge();a8e();o8e();pD();d4();Pi();PZ();hD();l1t();u1t();Cpt();Ipt();Rpt();Opt()});async function Npt({eoaProvider:t,handlers:e}){let[n]=await t.request({method:zt.GET_ACCOUNTS});async function r(p,h){if(typeof p=="string"&&p.length>0){let w=(await e.getAccounts(h)).map(x=>x.toLowerCase()),g=p.toLowerCase();if(w.includes(g))return g}throw Gn.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function i(p,h){if(p.toLowerCase()===n.toLowerCase())return n;let[m]=await e.getAccounts(h);if(p.toLowerCase()===m.toLowerCase())return n;throw Gn.invalidParams({message:"Invalid parameters: must provide valid sender address."})}async function a(p,h){h.result=await e.getAccounts(p)}async function o(p,h){if(!e.getPrivateKey)throw Gn.methodNotSupported();h.result=await e.getPrivateKey(p)}async function s(p,h){if(!e.processTransaction)throw Gn.methodNotSupported();let m=p.params[0]||{from:""};m.from=await r(m.from,p),h.result=e.processTransaction(m,p)}async function c(p,h){let m=p.params[0]||{from:""};m.from&&(m.from=await i(m.from,p)),h.result=await e.processSignTransaction(m,p)}async function l(p,h){let m=p.params,w=p.params[2]||{};if(Array.isArray(p.params)){if(p.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${p.method} method. expected [address, message]`);let g=p.params,x=g[0],C=g[1];m={from:x,data:C}}m=q(q({},w),m),h.result=await e.processEthSignMessage(m,p)}async function u(p,h){if(!(p!=null&&p.params))throw new Error("WalletMiddleware - missing params");let m=p.params;if(Array.isArray(p.params)){if(p.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${p.method} method. expected [address, typedData]`);let w=p.params,g=w[0],x=w[1];m={from:g,data:x}}h.result=await e.processTypedMessageV4(m,p)}async function f(p,h){let m=p.params,w=p.params[2]||{};if(Array.isArray(p.params)){if(!(p.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${p.method} method. expected [message, address]`);let g=p.params;if(typeof g[0]=="object"){let{challenge:x,address:C}=g[0];m={from:C,data:x}}else{let x=g[0];m={from:g[1],data:x}}}m=q(q({},w),m),h.result=await e.processPersonalMessage(m,p)}async function d(p,h){if(!e.getPublicKey)throw Gn.methodNotSupported();h.result=await e.getPublicKey(p)}return N1({eth_accounts:dr(a),eth_requestAccounts:dr(a),eth_private_key:dr(o),private_key:dr(o),eth_public_key:dr(d),public_key:dr(d),eth_sendTransaction:dr(s),eth_signTransaction:dr(c),eth_sign:dr(l),eth_signTypedData_v4:dr(u),personal_sign:dr(f)})}async function Ppt({aaProvider:t}){async function e(r,i){let[,a]=await t.request({method:zt.GET_ACCOUNTS});i.result=[a]}async function n(r,i){let[,a]=await t.request({method:zt.ETH_REQUEST_ACCOUNTS});i.result=[a]}return N1({eth_accounts:dr(e),eth_requestAccounts:dr(n)})}function i3e(t){return async(e,n,r,i)=>{try{let a=await t.request(e);return n.result=a,i()}catch(a){return i(a)}}}var kpt=B(()=>{st();N6();Zi()});function Mpt({bundlerClient:t,smartAccount:e,chain:n,eoaProvider:r}){let i=yy({account:e,chain:n,transport:hy()});return{getAccounts:async a=>{let[o,s]=await Promise.all([e.getAddress(),r.request({method:"eth_accounts"})]);return De.info("smartAccounts",o),De.info("eoaAccounts",s),[o,...s]},getPrivateKey:async a=>{throw So.custom({message:"Smart accounts do not have private key",code:4903})},getPublicKey:async a=>{throw So.custom({message:"Smart accounts do not have a public key. Use address instead.",code:4903})},processTransaction:async a=>{a.input&&!a.data&&(a.data=qt(a.input));let{to:o,value:s,data:c}=a,l={account:e,calls:[{to:o,value:BigInt(s),data:c}]},u=await t.sendUserOperation(l),f=await t.waitForUserOperationReceipt({hash:u});if(!f.success)throw So.custom({message:f.reason,code:4905});return f.receipt.transactionHash},processSignTransaction:async a=>{let{to:o,value:s,data:c}=a,l=await t.prepareUserOperation({account:e,calls:[{to:o,value:BigInt(s),data:c}]});return await e.signUserOperation({callData:l.callData,callGasLimit:l.callGasLimit,maxFeePerGas:l.maxFeePerGas,maxPriorityFeePerGas:l.maxPriorityFeePerGas,nonce:l.nonce,preVerificationGas:l.preVerificationGas,verificationGasLimit:l.verificationGasLimit,signature:l.signature})},processEthSignMessage:async(a,o)=>r.request(o),processPersonalMessage:async(a,o)=>{let s=a.data;return i.signMessage({account:e,message:os(s)?{raw:s}:s})},processTypedMessageV4:async(a,o)=>{try{let s=typeof a.data=="string"?JSON.parse(a.data):a.data;return await i.signTypedData({account:e,domain:q(q({},s.domain),{},{verifyingContract:s.domain.verifyingContract,salt:s.domain.salt,chainId:Number(s.domain.chainId)}),primaryType:s.primaryType,types:s.types,message:s.message})}catch(s){throw So.custom({message:s instanceof Error?s.message:"Failed to sign typed data",code:4905})}}}}var Bpt=B(()=>{st();$c();Zi();Wt();U1()});var Dpt,ID,Lpt,Upt,Fpt=B(()=>{st();Qe();N6();Zi();Wt();Of();kpt();Bpt();Mw();Co();ss();ID=class extends Ll{constructor({config:e,state:n}){super({config:e,state:n}),K(this,"PROVIDER_CHAIN_NAMESPACE",bt.EIP155),K(this,"_smartAccount",void 0),K(this,"_publicClient",void 0),K(this,"_bundlerClient",void 0),K(this,"_paymasterClient",void 0),K(this,"_useProviderAsTransport",void 0),this.update({chainId:e.chain.chainId})}get smartAccount(){return this._smartAccount}get bundlerClient(){return this._bundlerClient}get paymasterClient(){return this._paymasterClient}get publicClient(){return this._publicClient}async enable(){if(!this.state.eoaProvider)throw So.custom({message:"eoaProvider is not found in state, please pass it",code:4902});return await this.setupProvider(this.state.eoaProvider),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){var n;let{currentChain:r}=this,{chainNamespace:i}=r;if(i!==this.PROVIDER_CHAIN_NAMESPACE)throw at.incompatibleChainNameSpace("Invalid chain namespace");let a=this.config.smartAccountChainsConfig.find(g=>g.chainId===r.chainId);if(!a)throw at.invalidProviderConfigError(`Bundler and paymaster config not found for chain ${r.chainId}`);let{bundlerConfig:o,paymasterConfig:s}=a,c=VB({id:Number.parseInt(r.chainId,16),name:r.displayName,rpcUrls:{default:{http:[r.rpcTarget],webSocket:[r.wsTarget]}},blockExplorers:r.blockExplorerUrl?{default:{name:"explorer",url:r.blockExplorerUrl}}:void 0,nativeCurrency:{name:r.tickerName,symbol:r.ticker,decimals:r.decimals||18}});this._publicClient=eD({chain:c,transport:hy(r.rpcTarget)});let[l]=await e.request({method:zt.ETH_REQUEST_ACCOUNTS}),u=yy({account:l,chain:c,transport:Bp(e)});if(this._smartAccount=await this.config.smartAccountInit.getSmartAccount({walletClient:u,client:this._publicClient}),s){var f;this._paymasterClient=oD(q(q({},s),{},{transport:this._useProviderAsTransport?Bp(e):(f=s.transport)!==null&&f!==void 0?f:hy(s.url)}))}this._bundlerClient=aD(q(q({},o),{},{account:this.smartAccount,client:this._publicClient,transport:this._useProviderAsTransport?Bp(e):(n=o.transport)!==null&&n!==void 0?n:hy(o.url),paymaster:this._paymasterClient}));let d=Mpt({bundlerClient:this._bundlerClient,smartAccount:this._smartAccount,chain:c,eoaProvider:e}),p=new Y0,h=await Npt({eoaProvider:e,handlers:d});p.push(h);let m=i3e(e);p.push(m);let w=Hu(p);this.updateProviderEngineProxy(w),e.once("chainChanged",g=>{this.update({chainId:g}),this.setupChainSwitchMiddleware(),this.emit("chainChanged",g)})}async updateAccount(e){throw So.unsupportedMethod("updateAccount. Please call it on eoaProvider")}async switchChain(e){throw So.unsupportedMethod("switchChain. Please call it on eoaProvider")}async lookupNetwork(){throw So.unsupportedMethod("lookupNetwork. Please call it on eoaProvider")}async setupChainSwitchMiddleware(){return this.setupProvider(this.state.eoaProvider)}};Dpt=ID;K(ID,"getProviderInstance",async t=>{let e=new Dpt({config:t});return e._useProviderAsTransport=t.useProviderAsTransport,await e.setupProvider(t.eoaProvider),e.update({eoaProvider:t.eoaProvider}),e});Lpt=async({accountAbstractionConfig:t,chain:e,chains:n,provider:r,useProviderAsTransport:i})=>{let a,{smartAccountType:o,chains:s}=t,{smartAccountConfig:c}=s.find(l=>l.chainId===e.chainId)||{};switch(o){case Ga.BICONOMY:{let{BiconomySmartAccount:l}=await Promise.resolve().then(()=>(N6(),d9));a=new l(c);break}case Ga.KERNEL:{let{KernelSmartAccount:l}=await Promise.resolve().then(()=>(N6(),d9));a=new l(c);break}case Ga.NEXUS:{let{NexusSmartAccount:l}=await Promise.resolve().then(()=>(N6(),d9));a=new l(c);break}case Ga.SAFE:{let{SafeSmartAccount:l}=await Promise.resolve().then(()=>(N6(),d9));a=new l(c);break}case Ga.TRUST:{let{TrustSmartAccount:l}=await Promise.resolve().then(()=>(N6(),d9));a=new l(c);break}case Ga.METAMASK:{let{MetamaskSmartAccount:l}=await Promise.resolve().then(()=>(N6(),d9));a=new l(c);break}default:throw new Error("Smart account type not supported")}return ID.getProviderInstance({eoaProvider:r,smartAccountInit:a,chain:e,chains:n,smartAccountChainsConfig:s,useProviderAsTransport:i})},Upt=async t=>{let e=new Y0,n=await Ppt({aaProvider:t});return e.push(n),e.push(i3e(t)),Hu(e)}});var Hpt={};$t(Hpt,{BiconomySmartAccount:()=>KS,KernelSmartAccount:()=>$S,MetamaskSmartAccount:()=>WS,NexusSmartAccount:()=>YS,SMART_ACCOUNT:()=>Ga,SafeSmartAccount:()=>JS,TrustSmartAccount:()=>QS,accountAbstractionProvider:()=>Lpt,toEoaProvider:()=>Upt});var zpt=B(()=>{Fpt();N6()});var pht=le(Ra=>{"use strict";function y3e(t,e){var n=t.length;t.push(e);e:for(;0<n;){var r=n-1>>>1,i=t[r];if(0<MX(i,e))t[r]=e,t[n]=i,n=r;else break e}}function M6(t){return t.length===0?null:t[0]}function DX(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var r=0,i=t.length,a=i>>>1;r<a;){var o=2*(r+1)-1,s=t[o],c=o+1,l=t[c];if(0>MX(s,n))c<i&&0>MX(l,s)?(t[r]=l,t[c]=n,r=c):(t[r]=s,t[o]=n,r=o);else if(c<i&&0>MX(l,n))t[r]=l,t[c]=n,r=c;else break e}}return e}function MX(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}Ra.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(iht=performance,Ra.unstable_now=function(){return iht.now()}):(p3e=Date,aht=p3e.now(),Ra.unstable_now=function(){return p3e.now()-aht});var iht,p3e,aht,xy=[],I8=[],Tgn=1,i1=null,Dc=3,b3e=!1,MD=!1,BD=!1,g3e=!1,cht=typeof setTimeout=="function"?setTimeout:null,lht=typeof clearTimeout=="function"?clearTimeout:null,oht=typeof setImmediate<"u"?setImmediate:null;function BX(t){for(var e=M6(I8);e!==null;){if(e.callback===null)DX(I8);else if(e.startTime<=t)DX(I8),e.sortIndex=e.expirationTime,y3e(xy,e);else break;e=M6(I8)}}function w3e(t){if(BD=!1,BX(t),!MD)if(M6(xy)!==null)MD=!0,XS||(XS=!0,ZS());else{var e=M6(I8);e!==null&&v3e(w3e,e.startTime-t)}}var XS=!1,DD=-1,uht=5,fht=-1;function dht(){return g3e?!0:!(Ra.unstable_now()-fht<uht)}function h3e(){if(g3e=!1,XS){var t=Ra.unstable_now();fht=t;var e=!0;try{e:{MD=!1,BD&&(BD=!1,lht(DD),DD=-1),b3e=!0;var n=Dc;try{t:{for(BX(t),i1=M6(xy);i1!==null&&!(i1.expirationTime>t&&dht());){var r=i1.callback;if(typeof r=="function"){i1.callback=null,Dc=i1.priorityLevel;var i=r(i1.expirationTime<=t);if(t=Ra.unstable_now(),typeof i=="function"){i1.callback=i,BX(t),e=!0;break t}i1===M6(xy)&&DX(xy),BX(t)}else DX(xy);i1=M6(xy)}if(i1!==null)e=!0;else{var a=M6(I8);a!==null&&v3e(w3e,a.startTime-t),e=!1}}break e}finally{i1=null,Dc=n,b3e=!1}e=void 0}}finally{e?ZS():XS=!1}}}var ZS;typeof oht=="function"?ZS=function(){oht(h3e)}:typeof MessageChannel<"u"?(m3e=new MessageChannel,sht=m3e.port2,m3e.port1.onmessage=h3e,ZS=function(){sht.postMessage(null)}):ZS=function(){cht(h3e,0)};var m3e,sht;function v3e(t,e){DD=cht(function(){t(Ra.unstable_now())},e)}Ra.unstable_IdlePriority=5;Ra.unstable_ImmediatePriority=1;Ra.unstable_LowPriority=4;Ra.unstable_NormalPriority=3;Ra.unstable_Profiling=null;Ra.unstable_UserBlockingPriority=2;Ra.unstable_cancelCallback=function(t){t.callback=null};Ra.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):uht=0<t?Math.floor(1e3/t):5};Ra.unstable_getCurrentPriorityLevel=function(){return Dc};Ra.unstable_next=function(t){switch(Dc){case 1:case 2:case 3:var e=3;break;default:e=Dc}var n=Dc;Dc=e;try{return t()}finally{Dc=n}};Ra.unstable_requestPaint=function(){g3e=!0};Ra.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=Dc;Dc=t;try{return e()}finally{Dc=n}};Ra.unstable_scheduleCallback=function(t,e,n){var r=Ra.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=n+i,t={id:Tgn++,callback:e,priorityLevel:t,startTime:n,expirationTime:i,sortIndex:-1},n>r?(t.sortIndex=n,y3e(I8,t),M6(xy)===null&&t===M6(I8)&&(BD?(lht(DD),DD=-1):BD=!0,v3e(w3e,n-r))):(t.sortIndex=i,y3e(xy,t),MD||b3e||(MD=!0,XS||(XS=!0,ZS()))),t};Ra.unstable_shouldYield=dht;Ra.unstable_wrapCallback=function(t){var e=Dc;return function(){var n=Dc;Dc=e;try{return t.apply(this,arguments)}finally{Dc=n}}}});var mht=le((u$r,hht)=>{"use strict";hht.exports=pht()});var Cht=le(tr=>{"use strict";var x3e=Symbol.for("react.transitional.element"),Sgn=Symbol.for("react.portal"),Cgn=Symbol.for("react.fragment"),Ign=Symbol.for("react.strict_mode"),Rgn=Symbol.for("react.profiler"),Ogn=Symbol.for("react.consumer"),Ngn=Symbol.for("react.context"),Pgn=Symbol.for("react.forward_ref"),kgn=Symbol.for("react.suspense"),Mgn=Symbol.for("react.memo"),Eht=Symbol.for("react.lazy"),yht=Symbol.iterator;function Bgn(t){return t===null||typeof t!="object"?null:(t=yht&&t[yht]||t["@@iterator"],typeof t=="function"?t:null)}var xht={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Aht=Object.assign,_ht={};function tC(t,e,n){this.props=t,this.context=e,this.refs=_ht,this.updater=n||xht}tC.prototype.isReactComponent={};tC.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tC.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tht(){}Tht.prototype=tC.prototype;function A3e(t,e,n){this.props=t,this.context=e,this.refs=_ht,this.updater=n||xht}var _3e=A3e.prototype=new Tht;_3e.constructor=A3e;Aht(_3e,tC.prototype);_3e.isPureReactComponent=!0;var bht=Array.isArray,Oa={H:null,A:null,T:null,S:null,V:null},Sht=Object.prototype.hasOwnProperty;function T3e(t,e,n,r,i,a){return n=a.ref,{$$typeof:x3e,type:t,key:e,ref:n!==void 0?n:null,props:a}}function Dgn(t,e){return T3e(t.type,e,void 0,void 0,void 0,t.props)}function S3e(t){return typeof t=="object"&&t!==null&&t.$$typeof===x3e}function Lgn(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ght=/\/+/g;function E3e(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lgn(""+t.key):e.toString(36)}function wht(){}function Ugn(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(wht,wht):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function eC(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case x3e:case Sgn:o=!0;break;case Eht:return o=t._init,eC(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+E3e(t,0):r,bht(i)?(n="",o!=null&&(n=o.replace(ght,"$&/")+"/"),eC(i,e,n,"",function(l){return l})):i!=null&&(S3e(i)&&(i=Dgn(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(ght,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(bht(t))for(var c=0;c<t.length;c++)r=t[c],a=s+E3e(r,c),o+=eC(r,e,n,a,i);else if(c=Bgn(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,a=s+E3e(r,c++),o+=eC(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return eC(Ugn(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function LX(t,e,n){if(t==null)return t;var r=[],i=0;return eC(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Fgn(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vht=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hgn(){}tr.Children={map:LX,forEach:function(t,e,n){LX(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return LX(t,function(){e++}),e},toArray:function(t){return LX(t,function(e){return e})||[]},only:function(t){if(!S3e(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tr.Component=tC;tr.Fragment=Cgn;tr.Profiler=Rgn;tr.PureComponent=A3e;tr.StrictMode=Ign;tr.Suspense=kgn;tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Oa;tr.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Oa.H.useMemoCache(t)}};tr.cache=function(t){return function(){return t.apply(null,arguments)}};tr.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=Aht({},t.props),i=t.key,a=void 0;if(e!=null)for(o in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!Sht.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];r.children=s}return T3e(t.type,i,void 0,void 0,a,r)};tr.createContext=function(t){return t={$$typeof:Ngn,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Ogn,_context:t},t};tr.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)Sht.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return T3e(t,a,void 0,void 0,null,i)};tr.createRef=function(){return{current:null}};tr.forwardRef=function(t){return{$$typeof:Pgn,render:t}};tr.isValidElement=S3e;tr.lazy=function(t){return{$$typeof:Eht,_payload:{_status:-1,_result:t},_init:Fgn}};tr.memo=function(t,e){return{$$typeof:Mgn,type:t,compare:e===void 0?null:e}};tr.startTransition=function(t){var e=Oa.T,n={};Oa.T=n;try{var r=t(),i=Oa.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Hgn,vht)}catch(a){vht(a)}finally{Oa.T=e}};tr.unstable_useCacheRefresh=function(){return Oa.H.useCacheRefresh()};tr.use=function(t){return Oa.H.use(t)};tr.useActionState=function(t,e,n){return Oa.H.useActionState(t,e,n)};tr.useCallback=function(t,e){return Oa.H.useCallback(t,e)};tr.useContext=function(t){return Oa.H.useContext(t)};tr.useDebugValue=function(){};tr.useDeferredValue=function(t,e){return Oa.H.useDeferredValue(t,e)};tr.useEffect=function(t,e,n){var r=Oa.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};tr.useId=function(){return Oa.H.useId()};tr.useImperativeHandle=function(t,e,n){return Oa.H.useImperativeHandle(t,e,n)};tr.useInsertionEffect=function(t,e){return Oa.H.useInsertionEffect(t,e)};tr.useLayoutEffect=function(t,e){return Oa.H.useLayoutEffect(t,e)};tr.useMemo=function(t,e){return Oa.H.useMemo(t,e)};tr.useOptimistic=function(t,e){return Oa.H.useOptimistic(t,e)};tr.useReducer=function(t,e,n){return Oa.H.useReducer(t,e,n)};tr.useRef=function(t){return Oa.H.useRef(t)};tr.useState=function(t){return Oa.H.useState(t)};tr.useSyncExternalStore=function(t,e,n){return Oa.H.useSyncExternalStore(t,e,n)};tr.useTransition=function(){return Oa.H.useTransition()};tr.version="19.1.1"});var Br=le((d$r,Iht)=>{"use strict";Iht.exports=Cht()});var Oht=le(xl=>{"use strict";var zgn=Br();function Rht(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function R8(){}var El={d:{f:R8,r:function(){throw Error(Rht(522))},D:R8,C:R8,L:R8,m:R8,X:R8,S:R8,M:R8},p:0,findDOMNode:null},jgn=Symbol.for("react.portal");function Ggn(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jgn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var LD=zgn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function UX(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}xl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=El;xl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Rht(299));return Ggn(t,e,null,n)};xl.flushSync=function(t){var e=LD.T,n=El.p;try{if(LD.T=null,El.p=2,t)return t()}finally{LD.T=e,El.p=n,El.d.f()}};xl.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,El.d.C(t,e))};xl.prefetchDNS=function(t){typeof t=="string"&&El.d.D(t)};xl.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=UX(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?El.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&El.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};xl.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=UX(e.as,e.crossOrigin);El.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&El.d.M(t)};xl.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=UX(n,e.crossOrigin);El.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};xl.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=UX(e.as,e.crossOrigin);El.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else El.d.m(t)};xl.requestFormReset=function(t){El.d.r(t)};xl.unstable_batchedUpdates=function(t,e){return t(e)};xl.useFormState=function(t,e,n){return LD.H.useFormState(t,e,n)};xl.useFormStatus=function(){return LD.H.useHostTransitionStatus()};xl.version="19.1.1"});var kht=le((h$r,Pht)=>{"use strict";function Nht(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nht)}catch(t){console.error(t)}}Nht(),Pht.exports=Oht()});var Byt=le(ote=>{"use strict";var vs=mht(),t5t=Br(),Vgn=kht();function ze(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n5t(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _L(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r5t(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mht(t){if(_L(t)!==t)throw Error(ze(188))}function Kgn(t){var e=t.alternate;if(!e){if(e=_L(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Mht(i),t;if(a===r)return Mht(i),e;a=a.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?t:e}function i5t(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=i5t(t),e!==null)return e;t=t.sibling}return null}var ba=Object.assign,$gn=Symbol.for("react.element"),FX=Symbol.for("react.transitional.element"),$D=Symbol.for("react.portal"),cC=Symbol.for("react.fragment"),a5t=Symbol.for("react.strict_mode"),iwe=Symbol.for("react.profiler"),qgn=Symbol.for("react.provider"),o5t=Symbol.for("react.consumer"),Cy=Symbol.for("react.context"),Xwe=Symbol.for("react.forward_ref"),awe=Symbol.for("react.suspense"),owe=Symbol.for("react.suspense_list"),eve=Symbol.for("react.memo"),P8=Symbol.for("react.lazy");Symbol.for("react.scope");var swe=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var Wgn=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var Bht=Symbol.iterator;function UD(t){return t===null||typeof t!="object"?null:(t=Bht&&t[Bht]||t["@@iterator"],typeof t=="function"?t:null)}var Ygn=Symbol.for("react.client.reference");function cwe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ygn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cC:return"Fragment";case iwe:return"Profiler";case a5t:return"StrictMode";case awe:return"Suspense";case owe:return"SuspenseList";case swe:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $D:return"Portal";case Cy:return(t.displayName||"Context")+".Provider";case o5t:return(t._context.displayName||"Context")+".Consumer";case Xwe:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eve:return e=t.displayName||null,e!==null?e:cwe(t.type)||"Memo";case P8:e=t._payload,t=t._init;try{return cwe(t(e))}catch{}}return null}var qD=Array.isArray,Tn=t5t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ci=Vgn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,g9={pending:!1,data:null,method:null,action:null},lwe=[],lC=-1;function z6(t){return{current:t}}function r0(t){0>lC||(t.current=lwe[lC],lwe[lC]=null,lC--)}function Pa(t,e){lC++,lwe[lC]=t.current,t.current=e}var U6=z6(null),uL=z6(null),j8=z6(null),mee=z6(null);function yee(t,e){switch(Pa(j8,e),Pa(uL,t),Pa(U6,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?z6t(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=z6t(e),t=Ayt(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}r0(U6),Pa(U6,t)}function IC(){r0(U6),r0(uL),r0(j8)}function uwe(t){t.memoizedState!==null&&Pa(mee,t);var e=U6.current,n=Ayt(e,t.type);e!==n&&(Pa(uL,t),Pa(U6,n))}function bee(t){uL.current===t&&(r0(U6),r0(uL)),mee.current===t&&(r0(mee),vL._currentValue=g9)}var fwe=Object.prototype.hasOwnProperty,tve=vs.unstable_scheduleCallback,C3e=vs.unstable_cancelCallback,Jgn=vs.unstable_shouldYield,Qgn=vs.unstable_requestPaint,F6=vs.unstable_now,Zgn=vs.unstable_getCurrentPriorityLevel,s5t=vs.unstable_ImmediatePriority,c5t=vs.unstable_UserBlockingPriority,gee=vs.unstable_NormalPriority,Xgn=vs.unstable_LowPriority,l5t=vs.unstable_IdlePriority,e8n=vs.log,t8n=vs.unstable_setDisableYieldValue,TL=null,Ff=null;function U8(t){if(typeof e8n=="function"&&t8n(t),Ff&&typeof Ff.setStrictMode=="function")try{Ff.setStrictMode(TL,t)}catch{}}var Hf=Math.clz32?Math.clz32:i8n,n8n=Math.log,r8n=Math.LN2;function i8n(t){return t>>>=0,t===0?32:31-(n8n(t)/r8n|0)|0}var HX=256,zX=4194304;function m9(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kee(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=m9(r):(o&=s,o!==0?i=m9(o):n||(n=s&~t,n!==0&&(i=m9(n))))):(s=r&~a,s!==0?i=m9(s):o!==0?i=m9(o):n||(n=r&~t,n!==0&&(i=m9(n)))),i===0?0:e!==0&&e!==i&&(e&a)===0&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function SL(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function a8n(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u5t(){var t=HX;return HX<<=1,(HX&4194048)===0&&(HX=256),t}function f5t(){var t=zX;return zX<<=1,(zX&62914560)===0&&(zX=4194304),t}function I3e(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function CL(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function o8n(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,c=t.expirationTimes,l=t.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Hf(n),f=1<<u;s[u]=0,c[u]=-1;var d=l[u];if(d!==null)for(l[u]=null,u=0;u<d.length;u++){var p=d[u];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&d5t(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function d5t(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Hf(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function p5t(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hf(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function nve(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rve(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function h5t(){var t=ci.p;return t!==0?t:(t=window.event,t===void 0?32:kyt(t.type))}function s8n(t,e){var n=ci.p;try{return ci.p=t,e()}finally{ci.p=n}}var X8=Math.random().toString(36).slice(2),Lc="__reactFiber$"+X8,_u="__reactProps$"+X8,FC="__reactContainer$"+X8,dwe="__reactEvents$"+X8,c8n="__reactListeners$"+X8,l8n="__reactHandles$"+X8,Dht="__reactResources$"+X8,IL="__reactMarker$"+X8;function ive(t){delete t[Lc],delete t[_u],delete t[dwe],delete t[c8n],delete t[l8n]}function uC(t){var e=t[Lc];if(e)return e;for(var n=t.parentNode;n;){if(e=n[FC]||n[Lc]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=V6t(t);t!==null;){if(n=t[Lc])return n;t=V6t(t)}return e}t=n,n=t.parentNode}return null}function HC(t){if(t=t[Lc]||t[FC]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function WD(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ze(33))}function vC(t){var e=t[Dht];return e||(e=t[Dht]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function t0(t){t[IL]=!0}var m5t=new Set,y5t={};function R9(t,e){RC(t,e),RC(t+"Capture",e)}function RC(t,e){for(y5t[t]=e,t=0;t<e.length;t++)m5t.add(e[t])}var u8n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lht={},Uht={};function f8n(t){return fwe.call(Uht,t)?!0:fwe.call(Lht,t)?!1:u8n.test(t)?Uht[t]=!0:(Lht[t]=!0,!1)}function nee(t,e,n){if(f8n(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function jX(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ay(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var R3e,Fht;function aC(t){if(R3e===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);R3e=e&&e[1]||"",Fht=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R3e+t+Fht}var O3e=!1;function N3e(t,e){if(!t||O3e)return"";O3e=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){d=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=r&&0<=i);break}}}finally{O3e=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?aC(n):""}function d8n(t){switch(t.tag){case 26:case 27:case 5:return aC(t.type);case 16:return aC("Lazy");case 13:return aC("Suspense");case 19:return aC("SuspenseList");case 0:case 15:return N3e(t.type,!1);case 11:return N3e(t.type.render,!1);case 1:return N3e(t.type,!0);case 31:return aC("Activity");default:return""}}function Hht(t){try{var e="";do e+=d8n(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function o1(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b5t(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p8n(t){var e=b5t(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wee(t){t._valueTracker||(t._valueTracker=p8n(t))}function g5t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=b5t(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vee(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var h8n=/[\n"\\]/g;function l1(t){return t.replace(h8n,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function pwe(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+o1(e)):t.value!==""+o1(e)&&(t.value=""+o1(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?hwe(t,o,o1(e)):n!=null?hwe(t,o,o1(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+o1(s):t.removeAttribute("name")}function w5t(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+o1(n):"",e=e!=null?""+o1(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function hwe(t,e,n){e==="number"&&vee(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function EC(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+o1(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function v5t(t,e,n){if(e!=null&&(e=""+o1(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+o1(n):""}function E5t(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(ze(92));if(qD(r)){if(1<r.length)throw Error(ze(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=o1(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function OC(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var m8n=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zht(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||m8n.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function x5t(t,e,n){if(e!=null&&typeof e!="object")throw Error(ze(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&zht(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&zht(t,a,e[a])}function ave(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y8n=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b8n=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ree(t){return b8n.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mwe=null;function ove(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fC=null,xC=null;function jht(t){var e=HC(t);if(e&&(t=e.stateNode)){var n=t[_u]||null;e:switch(t=e.stateNode,e.type){case"input":if(pwe(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+l1(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[_u]||null;if(!i)throw Error(ze(90));pwe(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&g5t(r)}break e;case"textarea":v5t(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&EC(t,!!n.multiple,e,!1)}}}var P3e=!1;function A5t(t,e,n){if(P3e)return t(e,n);P3e=!0;try{var r=t(e);return r}finally{if(P3e=!1,(fC!==null||xC!==null)&&(tte(),fC&&(e=fC,t=xC,xC=fC=null,jht(e),t)))for(e=0;e<t.length;e++)jht(t[e])}}function fL(t,e){var n=t.stateNode;if(n===null)return null;var r=n[_u]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ze(231,e,typeof n));return n}var My=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ywe=!1;if(My)try{nC={},Object.defineProperty(nC,"passive",{get:function(){ywe=!0}}),window.addEventListener("test",nC,nC),window.removeEventListener("test",nC,nC)}catch{ywe=!1}var nC,F8=null,sve=null,iee=null;function _5t(){if(iee)return iee;var t,e=sve,n=e.length,r,i="value"in F8?F8.value:F8.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return iee=i.slice(t,1<r?1-r:void 0)}function aee(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function GX(){return!0}function Ght(){return!1}function Tu(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?GX:Ght,this.isPropagationStopped=Ght,this}return ba(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=GX)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=GX)},persist:function(){},isPersistent:GX}),e}var O9={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$ee=Tu(O9),RL=ba({},O9,{view:0,detail:0}),g8n=Tu(RL),k3e,M3e,FD,qee=ba({},RL,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cve,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==FD&&(FD&&t.type==="mousemove"?(k3e=t.screenX-FD.screenX,M3e=t.screenY-FD.screenY):M3e=k3e=0,FD=t),k3e)},movementY:function(t){return"movementY"in t?t.movementY:M3e}}),Vht=Tu(qee),w8n=ba({},qee,{dataTransfer:0}),v8n=Tu(w8n),E8n=ba({},RL,{relatedTarget:0}),B3e=Tu(E8n),x8n=ba({},O9,{animationName:0,elapsedTime:0,pseudoElement:0}),A8n=Tu(x8n),_8n=ba({},O9,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T8n=Tu(_8n),S8n=ba({},O9,{data:0}),Kht=Tu(S8n),C8n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I8n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R8n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O8n(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R8n[t])?!!e[t]:!1}function cve(){return O8n}var N8n=ba({},RL,{key:function(t){if(t.key){var e=C8n[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=aee(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I8n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cve,charCode:function(t){return t.type==="keypress"?aee(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?aee(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P8n=Tu(N8n),k8n=ba({},qee,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$ht=Tu(k8n),M8n=ba({},RL,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cve}),B8n=Tu(M8n),D8n=ba({},O9,{propertyName:0,elapsedTime:0,pseudoElement:0}),L8n=Tu(D8n),U8n=ba({},qee,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F8n=Tu(U8n),H8n=ba({},O9,{newState:0,oldState:0}),z8n=Tu(H8n),j8n=[9,13,27,32],lve=My&&"CompositionEvent"in window,JD=null;My&&"documentMode"in document&&(JD=document.documentMode);var G8n=My&&"TextEvent"in window&&!JD,T5t=My&&(!lve||JD&&8<JD&&11>=JD),qht=" ",Wht=!1;function S5t(t,e){switch(t){case"keyup":return j8n.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C5t(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dC=!1;function V8n(t,e){switch(t){case"compositionend":return C5t(e);case"keypress":return e.which!==32?null:(Wht=!0,qht);case"textInput":return t=e.data,t===qht&&Wht?null:t;default:return null}}function K8n(t,e){if(dC)return t==="compositionend"||!lve&&S5t(t,e)?(t=_5t(),iee=sve=F8=null,dC=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return T5t&&e.locale!=="ko"?null:e.data;default:return null}}var $8n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yht(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$8n[t.type]:e==="textarea"}function I5t(t,e,n,r){fC?xC?xC.push(r):xC=[r]:fC=r,e=Uee(e,"onChange"),0<e.length&&(n=new $ee("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var QD=null,dL=null;function q8n(t){vyt(t,0)}function Wee(t){var e=WD(t);if(g5t(e))return t}function Jht(t,e){if(t==="change")return e}var R5t=!1;My&&(My?(KX="oninput"in document,KX||(D3e=document.createElement("div"),D3e.setAttribute("oninput","return;"),KX=typeof D3e.oninput=="function"),VX=KX):VX=!1,R5t=VX&&(!document.documentMode||9<document.documentMode));var VX,KX,D3e;function Qht(){QD&&(QD.detachEvent("onpropertychange",O5t),dL=QD=null)}function O5t(t){if(t.propertyName==="value"&&Wee(dL)){var e=[];I5t(e,dL,t,ove(t)),A5t(q8n,e)}}function W8n(t,e,n){t==="focusin"?(Qht(),QD=e,dL=n,QD.attachEvent("onpropertychange",O5t)):t==="focusout"&&Qht()}function Y8n(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wee(dL)}function J8n(t,e){if(t==="click")return Wee(e)}function Q8n(t,e){if(t==="input"||t==="change")return Wee(e)}function Z8n(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gf=typeof Object.is=="function"?Object.is:Z8n;function pL(t,e){if(Gf(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fwe.call(e,i)||!Gf(t[i],e[i]))return!1}return!0}function Zht(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xht(t,e){var n=Zht(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zht(n)}}function N5t(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N5t(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P5t(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=vee(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vee(t.document)}return e}function uve(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var X8n=My&&"documentMode"in document&&11>=document.documentMode,pC=null,bwe=null,ZD=null,gwe=!1;function e6t(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gwe||pC==null||pC!==vee(r)||(r=pC,"selectionStart"in r&&uve(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ZD&&pL(ZD,r)||(ZD=r,r=Uee(bwe,"onSelect"),0<r.length&&(e=new $ee("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pC)))}function h9(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hC={animationend:h9("Animation","AnimationEnd"),animationiteration:h9("Animation","AnimationIteration"),animationstart:h9("Animation","AnimationStart"),transitionrun:h9("Transition","TransitionRun"),transitionstart:h9("Transition","TransitionStart"),transitioncancel:h9("Transition","TransitionCancel"),transitionend:h9("Transition","TransitionEnd")},L3e={},k5t={};My&&(k5t=document.createElement("div").style,"AnimationEvent"in window||(delete hC.animationend.animation,delete hC.animationiteration.animation,delete hC.animationstart.animation),"TransitionEvent"in window||delete hC.transitionend.transition);function N9(t){if(L3e[t])return L3e[t];if(!hC[t])return t;var e=hC[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k5t)return L3e[t]=e[n];return t}var M5t=N9("animationend"),B5t=N9("animationiteration"),D5t=N9("animationstart"),e3n=N9("transitionrun"),t3n=N9("transitionstart"),n3n=N9("transitioncancel"),L5t=N9("transitionend"),U5t=new Map,wwe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wwe.push("scrollEnd");function jp(t,e){U5t.set(t,e),R9(e,[t])}var t6t=new WeakMap;function u1(t,e){if(typeof t=="object"&&t!==null){var n=t6t.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Hht(e)},t6t.set(t,e),e)}return{value:t,source:e,stack:Hht(e)}}var a1=[],mC=0,fve=0;function Yee(){for(var t=mC,e=fve=mC=0;e<t;){var n=a1[e];a1[e++]=null;var r=a1[e];a1[e++]=null;var i=a1[e];a1[e++]=null;var a=a1[e];if(a1[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&F5t(n,i,a)}}function Jee(t,e,n,r){a1[mC++]=t,a1[mC++]=e,a1[mC++]=n,a1[mC++]=r,fve|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function dve(t,e,n,r){return Jee(t,e,n,r),Eee(t)}function zC(t,e){return Jee(t,null,null,e),Eee(t)}function F5t(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Hf(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Eee(t){if(50<cL)throw cL=0,Hwe=null,Error(ze(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var yC={};function r3n(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uf(t,e,n,r){return new r3n(t,e,n,r)}function pve(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Py(t,e){var n=t.alternate;return n===null?(n=Uf(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function H5t(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function oee(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")pve(t)&&(o=1);else if(typeof t=="string")o=rwn(t,n,U6.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case swe:return t=Uf(31,n,e,i),t.elementType=swe,t.lanes=a,t;case cC:return w9(n.children,i,a,e);case a5t:o=8,i|=24;break;case iwe:return t=Uf(12,n,e,i|2),t.elementType=iwe,t.lanes=a,t;case awe:return t=Uf(13,n,e,i),t.elementType=awe,t.lanes=a,t;case owe:return t=Uf(19,n,e,i),t.elementType=owe,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qgn:case Cy:o=10;break e;case o5t:o=9;break e;case Xwe:o=11;break e;case eve:o=14;break e;case P8:o=16,r=null;break e}o=29,n=Error(ze(130,t===null?"null":typeof t,"")),r=null}return e=Uf(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function w9(t,e,n,r){return t=Uf(7,t,r,e),t.lanes=n,t}function U3e(t,e,n){return t=Uf(6,t,null,e),t.lanes=n,t}function F3e(t,e,n){return e=Uf(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var bC=[],gC=0,xee=null,Aee=0,s1=[],c1=0,v9=null,Iy=1,Ry="";function y9(t,e){bC[gC++]=Aee,bC[gC++]=xee,xee=t,Aee=e}function z5t(t,e,n){s1[c1++]=Iy,s1[c1++]=Ry,s1[c1++]=v9,v9=t;var r=Iy;t=Ry;var i=32-Hf(r)-1;r&=~(1<<i),n+=1;var a=32-Hf(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Iy=1<<32-Hf(e)+i|n<<i|r,Ry=a+t}else Iy=1<<a|n<<i|r,Ry=t}function hve(t){t.return!==null&&(y9(t,1),z5t(t,1,0))}function mve(t){for(;t===xee;)xee=bC[--gC],bC[gC]=null,Aee=bC[--gC],bC[gC]=null;for(;t===v9;)v9=s1[--c1],s1[c1]=null,Ry=s1[--c1],s1[c1]=null,Iy=s1[--c1],s1[c1]=null}var Al=null,go=null,si=!1,E9=null,D6=!1,vwe=Error(ze(519));function T9(t){var e=Error(ze(418,""));throw hL(u1(e,t)),vwe}function n6t(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Lc]=t,e[_u]=r,n){case"dialog":mr("cancel",e),mr("close",e);break;case"iframe":case"object":case"embed":mr("load",e);break;case"video":case"audio":for(n=0;n<bL.length;n++)mr(bL[n],e);break;case"source":mr("error",e);break;case"img":case"image":case"link":mr("error",e),mr("load",e);break;case"details":mr("toggle",e);break;case"input":mr("invalid",e),w5t(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),wee(e);break;case"select":mr("invalid",e);break;case"textarea":mr("invalid",e),E5t(e,r.value,r.defaultValue,r.children),wee(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||xyt(e.textContent,n)?(r.popover!=null&&(mr("beforetoggle",e),mr("toggle",e)),r.onScroll!=null&&mr("scroll",e),r.onScrollEnd!=null&&mr("scrollend",e),r.onClick!=null&&(e.onclick=ite),e=!0):e=!1,e||T9(t)}function r6t(t){for(Al=t.return;Al;)switch(Al.tag){case 5:case 13:D6=!1;return;case 27:case 3:D6=!0;return;default:Al=Al.return}}function HD(t){if(t!==Al)return!1;if(!si)return r6t(t),si=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||$we(t.type,t.memoizedProps)),n=!n),n&&go&&T9(t),r6t(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){go=zp(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}go=null}}else e===27?(e=go,e3(t.type)?(t=Ywe,Ywe=null,go=t):go=e):go=Al?zp(t.stateNode.nextSibling):null;return!0}function OL(){go=Al=null,si=!1}function i6t(){var t=E9;return t!==null&&(Au===null?Au=t:Au.push.apply(Au,t),E9=null),t}function hL(t){E9===null?E9=[t]:E9.push(t)}var Ewe=z6(null),P9=null,Oy=null;function M8(t,e,n){Pa(Ewe,e._currentValue),e._currentValue=n}function ky(t){t._currentValue=Ewe.current,r0(Ewe)}function xwe(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Awe(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var c=0;c<e.length;c++)if(s.context===e[c]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),xwe(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(ze(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xwe(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function NL(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if((i.flags&524288)!==0)a=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(ze(387));if(o=o.memoizedProps,o!==null){var s=i.type;Gf(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===mee.current){if(o=i.alternate,o===null)throw Error(ze(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(vL):t=[vL])}i=i.return}t!==null&&Awe(e,t,n,r),e.flags|=262144}function _ee(t){for(t=t.firstContext;t!==null;){if(!Gf(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function S9(t){P9=t,Oy=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Uc(t){return j5t(P9,t)}function $X(t,e){return P9===null&&S9(t),j5t(t,e)}function j5t(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Oy===null){if(t===null)throw Error(ze(308));Oy=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Oy=Oy.next=e;return n}var i3n=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},a3n=vs.unstable_scheduleCallback,o3n=vs.unstable_NormalPriority,gs={$$typeof:Cy,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yve(){return{controller:new i3n,data:new Map,refCount:0}}function PL(t){t.refCount--,t.refCount===0&&a3n(o3n,function(){t.controller.abort()})}var XD=null,_we=0,NC=0,AC=null;function s3n(t,e){if(XD===null){var n=XD=[];_we=0,NC=Fve(),AC={status:"pending",value:void 0,then:function(r){n.push(r)}}}return _we++,e.then(a6t,a6t),e}function a6t(){if(--_we===0&&XD!==null){AC!==null&&(AC.status="fulfilled");var t=XD;XD=null,NC=0,AC=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function c3n(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var o6t=Tn.S;Tn.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&s3n(t,e),o6t!==null&&o6t(t,e)};var x9=z6(null);function bve(){var t=x9.current;return t!==null?t:sa.pooledCache}function see(t,e){e===null?Pa(x9,x9.current):Pa(x9,e.pool)}function G5t(){var t=bve();return t===null?null:{parent:gs._currentValue,pool:t}}var kL=Error(ze(460)),V5t=Error(ze(474)),Qee=Error(ze(542)),Twe={then:function(){}};function s6t(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qX(){}function K5t(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(qX,qX),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,l6t(t),t;default:if(typeof e.status=="string")e.then(qX,qX);else{if(t=sa,t!==null&&100<t.shellSuspendCounter)throw Error(ze(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,l6t(t),t}throw eL=e,kL}}var eL=null;function c6t(){if(eL===null)throw Error(ze(459));var t=eL;return eL=null,t}function l6t(t){if(t===kL||t===Qee)throw Error(ze(483))}var k8=!1;function gve(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Swe(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function G8(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function V8(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(xi&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Eee(t),F5t(t,null,n),e}return Jee(t,r,e,n),Eee(t)}function tL(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p5t(t,n)}}function H3e(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Cwe=!1;function nL(){if(Cwe){var t=AC;if(t!==null)throw t}}function rL(t,e,n,r){Cwe=!1;var i=t.updateQueue;k8=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,u=l=c=null,s=a;do{var d=s.lane&-536870913,p=d!==s.lane;if(p?(Dr&d)===d:(r&d)===d){d!==0&&d===NC&&(Cwe=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var h=t,m=s;d=e;var w=n;switch(m.tag){case 1:if(h=m.payload,typeof h=="function"){f=h.call(w,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,d=typeof h=="function"?h.call(w,f,d):h,d==null)break e;f=ba({},f,d);break e;case 2:k8=!0}}d=s.callback,d!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=f):u=u.next=p,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Z8|=o,t.lanes=o,t.memoizedState=f}}function $5t(t,e){if(typeof t!="function")throw Error(ze(191,t));t.call(e)}function q5t(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)$5t(n[t],e)}var PC=z6(null),Tee=z6(0);function u6t(t,e){t=Ly,Pa(Tee,t),Pa(PC,e),Ly=t|e.baseLanes}function Iwe(){Pa(Tee,Ly),Pa(PC,PC.current)}function wve(){Ly=Tee.current,r0(PC),r0(Tee)}var J8=0,or=null,Bi=null,Xo=null,See=!1,_C=!1,C9=!1,Cee=0,mL=0,TC=null,l3n=0;function Fo(){throw Error(ze(321))}function vve(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gf(t[n],e[n]))return!1;return!0}function Eve(t,e,n,r,i,a){return J8=a,or=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tn.H=t===null||t.memoizedState===null?_mt:Tmt,C9=!1,a=n(r,i),C9=!1,_C&&(a=Y5t(e,n,r,i)),W5t(t),a}function W5t(t){Tn.H=Iee;var e=Bi!==null&&Bi.next!==null;if(J8=0,Xo=Bi=or=null,See=!1,mL=0,TC=null,e)throw Error(ze(300));t===null||n0||(t=t.dependencies,t!==null&&_ee(t)&&(n0=!0))}function Y5t(t,e,n,r){or=t;var i=0;do{if(_C&&(TC=null),mL=0,_C=!1,25<=i)throw Error(ze(301));if(i+=1,Xo=Bi=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Tn.H=y3n,a=e(n,r)}while(_C);return a}function u3n(){var t=Tn.H,e=t.useState()[0];return e=typeof e.then=="function"?ML(e):e,t=t.useState()[0],(Bi!==null?Bi.memoizedState:null)!==t&&(or.flags|=1024),e}function xve(){var t=Cee!==0;return Cee=0,t}function Ave(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function _ve(t){if(See){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}See=!1}J8=0,Xo=Bi=or=null,_C=!1,mL=Cee=0,TC=null}function Eu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xo===null?or.memoizedState=Xo=t:Xo=Xo.next=t,Xo}function es(){if(Bi===null){var t=or.alternate;t=t!==null?t.memoizedState:null}else t=Bi.next;var e=Xo===null?or.memoizedState:Xo.next;if(e!==null)Xo=e,Bi=t;else{if(t===null)throw or.alternate===null?Error(ze(467)):Error(ze(310));Bi=t,t={memoizedState:Bi.memoizedState,baseState:Bi.baseState,baseQueue:Bi.baseQueue,queue:Bi.queue,next:null},Xo===null?or.memoizedState=Xo=t:Xo=Xo.next=t}return Xo}function Tve(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ML(t){var e=mL;return mL+=1,TC===null&&(TC=[]),t=K5t(TC,t,e),e=or,(Xo===null?e.memoizedState:Xo.next)===null&&(e=e.alternate,Tn.H=e===null||e.memoizedState===null?_mt:Tmt),t}function Zee(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ML(t);if(t.$$typeof===Cy)return Uc(t)}throw Error(ze(438,String(t)))}function Sve(t){var e=null,n=or.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=or.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Tve(),or.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=Wgn;return e.index++,n}function By(t,e){return typeof e=="function"?e(t):e}function cee(t){var e=es();return Cve(e,Bi,t)}function Cve(t,e,n){var r=t.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,c=null,l=e,u=!1;do{var f=l.lane&-536870913;if(f!==l.lane?(Dr&f)===f:(J8&f)===f){var d=l.revertLane;if(d===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),f===NC&&(u=!0);else if((J8&d)===d){l=l.next,d===NC&&(u=!0);continue}else f={lane:0,revertLane:l.revertLane,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null},c===null?(s=c=f,o=a):c=c.next=f,or.lanes|=d,Z8|=d;f=l.action,C9&&n(a,f),a=l.hasEagerState?l.eagerState:n(a,f)}else d={lane:f,revertLane:l.revertLane,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null},c===null?(s=c=d,o=a):c=c.next=d,or.lanes|=f,Z8|=f;l=l.next}while(l!==null&&l!==e);if(c===null?o=a:c.next=s,!Gf(a,t.memoizedState)&&(n0=!0,u&&(n=AC,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function z3e(t){var e=es(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Gf(a,e.memoizedState)||(n0=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function J5t(t,e,n){var r=or,i=es(),a=si;if(a){if(n===void 0)throw Error(ze(407));n=n()}else n=e();var o=!Gf((Bi||i).memoizedState,n);o&&(i.memoizedState=n,n0=!0),i=i.queue;var s=X5t.bind(null,r,i,t);if(BL(2048,8,s,[t]),i.getSnapshot!==e||o||Xo!==null&&Xo.memoizedState.tag&1){if(r.flags|=2048,kC(9,Xee(),Z5t.bind(null,r,i,n,e),null),sa===null)throw Error(ze(349));a||(J8&124)!==0||Q5t(r,e,n)}return n}function Q5t(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=or.updateQueue,e===null?(e=Tve(),or.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z5t(t,e,n,r){e.value=n,e.getSnapshot=r,emt(e)&&tmt(t)}function X5t(t,e,n){return n(function(){emt(e)&&tmt(t)})}function emt(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gf(t,n)}catch{return!0}}function tmt(t){var e=zC(t,2);e!==null&&jf(e,t,2)}function Rwe(t){var e=Eu();if(typeof t=="function"){var n=t;if(t=n(),C9){U8(!0);try{n()}finally{U8(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:t},e}function nmt(t,e,n,r){return t.baseState=n,Cve(t,Bi,typeof r=="function"?r:By)}function f3n(t,e,n,r,i){if(ete(t))throw Error(ze(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};Tn.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,rmt(e,a)):(a.next=n.next,e.pending=n.next=a)}}function rmt(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=Tn.T,o={};Tn.T=o;try{var s=n(i,r),c=Tn.S;c!==null&&c(o,s),f6t(t,e,s)}catch(l){Owe(t,e,l)}finally{Tn.T=a}}else try{a=n(i,r),f6t(t,e,a)}catch(l){Owe(t,e,l)}}function f6t(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){d6t(t,e,r)},function(r){return Owe(t,e,r)}):d6t(t,e,n)}function d6t(t,e,n){e.status="fulfilled",e.value=n,imt(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,rmt(t,n)))}function Owe(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,imt(e),e=e.next;while(e!==r)}t.action=null}function imt(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function amt(t,e){return e}function p6t(t,e){if(si){var n=sa.formState;if(n!==null){e:{var r=or;if(si){if(go){t:{for(var i=go,a=D6;i.nodeType!==8;){if(!a){i=null;break t}if(i=zp(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){go=zp(i.nextSibling),r=i.data==="F!";break e}}T9(r)}r=!1}r&&(e=n[0])}}return n=Eu(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:amt,lastRenderedState:e},n.queue=r,n=Emt.bind(null,or,r),r.dispatch=n,r=Rwe(!1),a=Nve.bind(null,or,!1,r.queue),r=Eu(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=f3n.bind(null,or,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function h6t(t){var e=es();return omt(e,Bi,t)}function omt(t,e,n){if(e=Cve(t,e,amt)[0],t=cee(By)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ML(e)}catch(o){throw o===kL?Qee:o}else r=e;e=es();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(or.flags|=2048,kC(9,Xee(),d3n.bind(null,i,n),null)),[r,a,t]}function d3n(t,e){t.action=e}function m6t(t){var e=es(),n=Bi;if(n!==null)return omt(e,n,t);es(),e=e.memoizedState,n=es();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function kC(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=or.updateQueue,e===null&&(e=Tve(),or.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Xee(){return{destroy:void 0,resource:void 0}}function smt(){return es().memoizedState}function lee(t,e,n,r){var i=Eu();r=r===void 0?null:r,or.flags|=t,i.memoizedState=kC(1|e,Xee(),n,r)}function BL(t,e,n,r){var i=es();r=r===void 0?null:r;var a=i.memoizedState.inst;Bi!==null&&r!==null&&vve(r,Bi.memoizedState.deps)?i.memoizedState=kC(e,a,n,r):(or.flags|=t,i.memoizedState=kC(1|e,a,n,r))}function y6t(t,e){lee(8390656,8,t,e)}function cmt(t,e){BL(2048,8,t,e)}function lmt(t,e){return BL(4,2,t,e)}function umt(t,e){return BL(4,4,t,e)}function fmt(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dmt(t,e,n){n=n!=null?n.concat([t]):null,BL(4,4,fmt.bind(null,e,t),n)}function Ive(){}function pmt(t,e){var n=es();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&vve(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hmt(t,e){var n=es();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&vve(e,r[1]))return r[0];if(r=t(),C9){U8(!0);try{t()}finally{U8(!1)}}return n.memoizedState=[r,e],r}function Rve(t,e,n){return n===void 0||(J8&1073741824)!==0?t.memoizedState=e:(t.memoizedState=n,t=iyt(),or.lanes|=t,Z8|=t,n)}function mmt(t,e,n,r){return Gf(n,e)?n:PC.current!==null?(t=Rve(t,n,r),Gf(t,e)||(n0=!0),t):(J8&42)===0?(n0=!0,t.memoizedState=n):(t=iyt(),or.lanes|=t,Z8|=t,e)}function ymt(t,e,n,r,i){var a=ci.p;ci.p=a!==0&&8>a?a:8;var o=Tn.T,s={};Tn.T=s,Nve(t,!1,e,n);try{var c=i(),l=Tn.S;if(l!==null&&l(s,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c3n(c,r);iL(t,e,u,zf(t))}else iL(t,e,r,zf(t))}catch(f){iL(t,e,{then:function(){},status:"rejected",reason:f},zf())}finally{ci.p=a,Tn.T=o}}function p3n(){}function Nwe(t,e,n,r){if(t.tag!==5)throw Error(ze(476));var i=bmt(t).queue;ymt(t,i,e,g9,n===null?p3n:function(){return gmt(t),n(r)})}function bmt(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:g9,baseState:g9,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:g9},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function gmt(t){var e=bmt(t).next.queue;iL(t,e,{},zf())}function Ove(){return Uc(vL)}function wmt(){return es().memoizedState}function vmt(){return es().memoizedState}function h3n(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=zf();t=G8(n);var r=V8(e,t,n);r!==null&&(jf(r,e,n),tL(r,e,n)),e={cache:yve()},t.payload=e;return}e=e.return}}function m3n(t,e,n){var r=zf();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ete(t)?xmt(e,n):(n=dve(t,e,n,r),n!==null&&(jf(n,t,r),Amt(n,e,r)))}function Emt(t,e,n){var r=zf();iL(t,e,n,r)}function iL(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ete(t))xmt(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Gf(s,o))return Jee(t,e,i,0),sa===null&&Yee(),!1}catch{}finally{}if(n=dve(t,e,i,r),n!==null)return jf(n,t,r),Amt(n,e,r),!0}return!1}function Nve(t,e,n,r){if(r={lane:2,revertLane:Fve(),action:r,hasEagerState:!1,eagerState:null,next:null},ete(t)){if(e)throw Error(ze(479))}else e=dve(t,n,r,2),e!==null&&jf(e,t,2)}function ete(t){var e=t.alternate;return t===or||e!==null&&e===or}function xmt(t,e){_C=See=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Amt(t,e,n){if((n&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p5t(t,n)}}var Iee={readContext:Uc,use:Zee,useCallback:Fo,useContext:Fo,useEffect:Fo,useImperativeHandle:Fo,useLayoutEffect:Fo,useInsertionEffect:Fo,useMemo:Fo,useReducer:Fo,useRef:Fo,useState:Fo,useDebugValue:Fo,useDeferredValue:Fo,useTransition:Fo,useSyncExternalStore:Fo,useId:Fo,useHostTransitionStatus:Fo,useFormState:Fo,useActionState:Fo,useOptimistic:Fo,useMemoCache:Fo,useCacheRefresh:Fo},_mt={readContext:Uc,use:Zee,useCallback:function(t,e){return Eu().memoizedState=[t,e===void 0?null:e],t},useContext:Uc,useEffect:y6t,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,lee(4194308,4,fmt.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lee(4194308,4,t,e)},useInsertionEffect:function(t,e){lee(4,2,t,e)},useMemo:function(t,e){var n=Eu();e=e===void 0?null:e;var r=t();if(C9){U8(!0);try{t()}finally{U8(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Eu();if(n!==void 0){var i=n(e);if(C9){U8(!0);try{n(e)}finally{U8(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=m3n.bind(null,or,t),[r.memoizedState,t]},useRef:function(t){var e=Eu();return t={current:t},e.memoizedState=t},useState:function(t){t=Rwe(t);var e=t.queue,n=Emt.bind(null,or,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ive,useDeferredValue:function(t,e){var n=Eu();return Rve(n,t,e)},useTransition:function(){var t=Rwe(!1);return t=ymt.bind(null,or,t.queue,!0,!1),Eu().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=or,i=Eu();if(si){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=e(),sa===null)throw Error(ze(349));(Dr&124)!==0||Q5t(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,y6t(X5t.bind(null,r,a,t),[t]),r.flags|=2048,kC(9,Xee(),Z5t.bind(null,r,a,n,e),null),n},useId:function(){var t=Eu(),e=sa.identifierPrefix;if(si){var n=Ry,r=Iy;n=(r&~(1<<32-Hf(r)-1)).toString(32)+n,e="\xAB"+e+"R"+n,n=Cee++,0<n&&(e+="H"+n.toString(32)),e+="\xBB"}else n=l3n++,e="\xAB"+e+"r"+n.toString(32)+"\xBB";return t.memoizedState=e},useHostTransitionStatus:Ove,useFormState:p6t,useActionState:p6t,useOptimistic:function(t){var e=Eu();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Nve.bind(null,or,!0,n),n.dispatch=e,[t,e]},useMemoCache:Sve,useCacheRefresh:function(){return Eu().memoizedState=h3n.bind(null,or)}},Tmt={readContext:Uc,use:Zee,useCallback:pmt,useContext:Uc,useEffect:cmt,useImperativeHandle:dmt,useInsertionEffect:lmt,useLayoutEffect:umt,useMemo:hmt,useReducer:cee,useRef:smt,useState:function(){return cee(By)},useDebugValue:Ive,useDeferredValue:function(t,e){var n=es();return mmt(n,Bi.memoizedState,t,e)},useTransition:function(){var t=cee(By)[0],e=es().memoizedState;return[typeof t=="boolean"?t:ML(t),e]},useSyncExternalStore:J5t,useId:wmt,useHostTransitionStatus:Ove,useFormState:h6t,useActionState:h6t,useOptimistic:function(t,e){var n=es();return nmt(n,Bi,t,e)},useMemoCache:Sve,useCacheRefresh:vmt},y3n={readContext:Uc,use:Zee,useCallback:pmt,useContext:Uc,useEffect:cmt,useImperativeHandle:dmt,useInsertionEffect:lmt,useLayoutEffect:umt,useMemo:hmt,useReducer:z3e,useRef:smt,useState:function(){return z3e(By)},useDebugValue:Ive,useDeferredValue:function(t,e){var n=es();return Bi===null?Rve(n,t,e):mmt(n,Bi.memoizedState,t,e)},useTransition:function(){var t=z3e(By)[0],e=es().memoizedState;return[typeof t=="boolean"?t:ML(t),e]},useSyncExternalStore:J5t,useId:wmt,useHostTransitionStatus:Ove,useFormState:m6t,useActionState:m6t,useOptimistic:function(t,e){var n=es();return Bi!==null?nmt(n,Bi,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Sve,useCacheRefresh:vmt},SC=null,yL=0;function WX(t){var e=yL;return yL+=1,SC===null&&(SC=[]),K5t(SC,t,e)}function zD(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function YX(t,e){throw e.$$typeof===$gn?Error(ze(525)):(t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function b6t(t){var e=t._init;return e(t._payload)}function Smt(t){function e(g,x){if(t){var C=g.deletions;C===null?(g.deletions=[x],g.flags|=16):C.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g){for(var x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function i(g,x){return g=Py(g,x),g.index=0,g.sibling=null,g}function a(g,x,C){return g.index=C,t?(C=g.alternate,C!==null?(C=C.index,C<x?(g.flags|=67108866,x):C):(g.flags|=67108866,x)):(g.flags|=1048576,x)}function o(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function s(g,x,C,P){return x===null||x.tag!==6?(x=U3e(C,g.mode,P),x.return=g,x):(x=i(x,C),x.return=g,x)}function c(g,x,C,P){var D=C.type;return D===cC?u(g,x,C.props.children,P,C.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===P8&&b6t(D)===x.type)?(x=i(x,C.props),zD(x,C),x.return=g,x):(x=oee(C.type,C.key,C.props,null,g.mode,P),zD(x,C),x.return=g,x)}function l(g,x,C,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=F3e(C,g.mode,P),x.return=g,x):(x=i(x,C.children||[]),x.return=g,x)}function u(g,x,C,P,D){return x===null||x.tag!==7?(x=w9(C,g.mode,P,D),x.return=g,x):(x=i(x,C),x.return=g,x)}function f(g,x,C){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=U3e(""+x,g.mode,C),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case FX:return C=oee(x.type,x.key,x.props,null,g.mode,C),zD(C,x),C.return=g,C;case $D:return x=F3e(x,g.mode,C),x.return=g,x;case P8:var P=x._init;return x=P(x._payload),f(g,x,C)}if(qD(x)||UD(x))return x=w9(x,g.mode,C,null),x.return=g,x;if(typeof x.then=="function")return f(g,WX(x),C);if(x.$$typeof===Cy)return f(g,$X(g,x),C);YX(g,x)}return null}function d(g,x,C,P){var D=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return D!==null?null:s(g,x,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case FX:return C.key===D?c(g,x,C,P):null;case $D:return C.key===D?l(g,x,C,P):null;case P8:return D=C._init,C=D(C._payload),d(g,x,C,P)}if(qD(C)||UD(C))return D!==null?null:u(g,x,C,P,null);if(typeof C.then=="function")return d(g,x,WX(C),P);if(C.$$typeof===Cy)return d(g,x,$X(g,C),P);YX(g,C)}return null}function p(g,x,C,P,D){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return g=g.get(C)||null,s(x,g,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case FX:return g=g.get(P.key===null?C:P.key)||null,c(x,g,P,D);case $D:return g=g.get(P.key===null?C:P.key)||null,l(x,g,P,D);case P8:var F=P._init;return P=F(P._payload),p(g,x,C,P,D)}if(qD(P)||UD(P))return g=g.get(C)||null,u(x,g,P,D,null);if(typeof P.then=="function")return p(g,x,C,WX(P),D);if(P.$$typeof===Cy)return p(g,x,C,$X(x,P),D);YX(x,P)}return null}function h(g,x,C,P){for(var D=null,F=null,H=x,O=x=0,M=null;H!==null&&O<C.length;O++){H.index>O?(M=H,H=null):M=H.sibling;var N=d(g,H,C[O],P);if(N===null){H===null&&(H=M);break}t&&H&&N.alternate===null&&e(g,H),x=a(N,x,O),F===null?D=N:F.sibling=N,F=N,H=M}if(O===C.length)return n(g,H),si&&y9(g,O),D;if(H===null){for(;O<C.length;O++)H=f(g,C[O],P),H!==null&&(x=a(H,x,O),F===null?D=H:F.sibling=H,F=H);return si&&y9(g,O),D}for(H=r(H);O<C.length;O++)M=p(H,g,O,C[O],P),M!==null&&(t&&M.alternate!==null&&H.delete(M.key===null?O:M.key),x=a(M,x,O),F===null?D=M:F.sibling=M,F=M);return t&&H.forEach(function(v){return e(g,v)}),si&&y9(g,O),D}function m(g,x,C,P){if(C==null)throw Error(ze(151));for(var D=null,F=null,H=x,O=x=0,M=null,N=C.next();H!==null&&!N.done;O++,N=C.next()){H.index>O?(M=H,H=null):M=H.sibling;var v=d(g,H,N.value,P);if(v===null){H===null&&(H=M);break}t&&H&&v.alternate===null&&e(g,H),x=a(v,x,O),F===null?D=v:F.sibling=v,F=v,H=M}if(N.done)return n(g,H),si&&y9(g,O),D;if(H===null){for(;!N.done;O++,N=C.next())N=f(g,N.value,P),N!==null&&(x=a(N,x,O),F===null?D=N:F.sibling=N,F=N);return si&&y9(g,O),D}for(H=r(H);!N.done;O++,N=C.next())N=p(H,g,O,N.value,P),N!==null&&(t&&N.alternate!==null&&H.delete(N.key===null?O:N.key),x=a(N,x,O),F===null?D=N:F.sibling=N,F=N);return t&&H.forEach(function(I){return e(g,I)}),si&&y9(g,O),D}function w(g,x,C,P){if(typeof C=="object"&&C!==null&&C.type===cC&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case FX:e:{for(var D=C.key;x!==null;){if(x.key===D){if(D=C.type,D===cC){if(x.tag===7){n(g,x.sibling),P=i(x,C.props.children),P.return=g,g=P;break e}}else if(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===P8&&b6t(D)===x.type){n(g,x.sibling),P=i(x,C.props),zD(P,C),P.return=g,g=P;break e}n(g,x);break}else e(g,x);x=x.sibling}C.type===cC?(P=w9(C.props.children,g.mode,P,C.key),P.return=g,g=P):(P=oee(C.type,C.key,C.props,null,g.mode,P),zD(P,C),P.return=g,g=P)}return o(g);case $D:e:{for(D=C.key;x!==null;){if(x.key===D)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){n(g,x.sibling),P=i(x,C.children||[]),P.return=g,g=P;break e}else{n(g,x);break}else e(g,x);x=x.sibling}P=F3e(C,g.mode,P),P.return=g,g=P}return o(g);case P8:return D=C._init,C=D(C._payload),w(g,x,C,P)}if(qD(C))return h(g,x,C,P);if(UD(C)){if(D=UD(C),typeof D!="function")throw Error(ze(150));return C=D.call(C),m(g,x,C,P)}if(typeof C.then=="function")return w(g,x,WX(C),P);if(C.$$typeof===Cy)return w(g,x,$X(g,C),P);YX(g,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,x!==null&&x.tag===6?(n(g,x.sibling),P=i(x,C),P.return=g,g=P):(n(g,x),P=U3e(C,g.mode,P),P.return=g,g=P),o(g)):n(g,x)}return function(g,x,C,P){try{yL=0;var D=w(g,x,C,P);return SC=null,D}catch(H){if(H===kL||H===Qee)throw H;var F=Uf(29,H,null,g.mode);return F.lanes=P,F.return=g,F}finally{}}}var MC=Smt(!0),Cmt=Smt(!1),d1=z6(null),H6=null;function B8(t){var e=t.alternate;Pa(ws,ws.current&1),Pa(d1,t),H6===null&&(e===null||PC.current!==null||e.memoizedState!==null)&&(H6=t)}function Imt(t){if(t.tag===22){if(Pa(ws,ws.current),Pa(d1,t),H6===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(H6=t)}}else D8(t)}function D8(){Pa(ws,ws.current),Pa(d1,d1.current)}function Ny(t){r0(d1),H6===t&&(H6=null),r0(ws)}var ws=z6(0);function Ree(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Wwe(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function j3e(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ba({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pwe={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zf(),i=G8(r);i.payload=e,n!=null&&(i.callback=n),e=V8(t,i,r),e!==null&&(jf(e,t,r),tL(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zf(),i=G8(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=V8(t,i,r),e!==null&&(jf(e,t,r),tL(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zf(),r=G8(n);r.tag=2,e!=null&&(r.callback=e),e=V8(t,r,n),e!==null&&(jf(e,t,n),tL(e,t,n))}};function g6t(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!pL(n,r)||!pL(i,a):!0}function w6t(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pwe.enqueueReplaceState(e,e.state,null)}function I9(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=ba({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Oee=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Rmt(t){Oee(t)}function Omt(t){console.error(t)}function Nmt(t){Oee(t)}function Nee(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function v6t(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function kwe(t,e,n){return n=G8(n),n.tag=3,n.payload={element:null},n.callback=function(){Nee(t,e)},n}function Pmt(t){return t=G8(t),t.tag=3,t}function kmt(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){v6t(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){v6t(e,n,r),typeof i!="function"&&(K8===null?K8=new Set([this]):K8.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function b3n(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&NL(e,n,i,!0),n=d1.current,n!==null){switch(n.tag){case 13:return H6===null?zwe():n.alternate===null&&wo===0&&(wo=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Twe?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),X3e(t,r,i)),!1;case 22:return n.flags|=65536,r===Twe?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),X3e(t,r,i)),!1}throw Error(ze(435,n.tag))}return X3e(t,r,i),zwe(),!1}if(si)return e=d1.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==vwe&&(t=Error(ze(422),{cause:r}),hL(u1(t,n)))):(r!==vwe&&(e=Error(ze(423),{cause:r}),hL(u1(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=u1(r,n),i=kwe(t.stateNode,r,i),H3e(t,i),wo!==4&&(wo=2)),!1;var a=Error(ze(520),{cause:r});if(a=u1(a,n),sL===null?sL=[a]:sL.push(a),wo!==4&&(wo=2),e===null)return!0;r=u1(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=kwe(n.stateNode,r,t),H3e(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(K8===null||!K8.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Pmt(i),kmt(i,t,n,r),H3e(n,i),!1}n=n.return}while(n!==null);return!1}var Mmt=Error(ze(461)),n0=!1;function L0(t,e,n,r){e.child=t===null?Cmt(e,null,n,r):MC(e,t.child,n,r)}function E6t(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return S9(e),r=Eve(t,e,n,o,a,i),s=xve(),t!==null&&!n0?(Ave(t,e,i),Dy(t,e,i)):(si&&s&&hve(e),e.flags|=1,L0(t,e,r,i),e.child)}function x6t(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!pve(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,Bmt(t,e,a,r,i)):(t=oee(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Pve(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:pL,n(o,r)&&t.ref===e.ref)return Dy(t,e,i)}return e.flags|=1,t=Py(a,r),t.ref=e.ref,t.return=e,e.child=t}function Bmt(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(pL(a,r)&&t.ref===e.ref)if(n0=!1,e.pendingProps=r=a,Pve(t,i))(t.flags&131072)!==0&&(n0=!0);else return e.lanes=t.lanes,Dy(t,e,i)}return Mwe(t,e,n,r,i)}function Dmt(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return A6t(t,e,r,n)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&see(e,a!==null?a.cachePool:null),a!==null?u6t(e,a):Iwe(),Imt(e);else return e.lanes=e.childLanes=536870912,A6t(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(see(e,a.cachePool),u6t(e,a),D8(e),e.memoizedState=null):(t!==null&&see(e,null),Iwe(),D8(e));return L0(t,e,i,n),e.child}function A6t(t,e,n,r){var i=bve();return i=i===null?null:{parent:gs._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&see(e,null),Iwe(),Imt(e),t!==null&&NL(t,e,r,!0),null}function uee(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ze(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Mwe(t,e,n,r,i){return S9(e),n=Eve(t,e,n,r,void 0,i),r=xve(),t!==null&&!n0?(Ave(t,e,i),Dy(t,e,i)):(si&&r&&hve(e),e.flags|=1,L0(t,e,n,i),e.child)}function _6t(t,e,n,r,i,a){return S9(e),e.updateQueue=null,n=Y5t(e,r,n,i),W5t(t),r=xve(),t!==null&&!n0?(Ave(t,e,a),Dy(t,e,a)):(si&&r&&hve(e),e.flags|=1,L0(t,e,n,a),e.child)}function T6t(t,e,n,r,i){if(S9(e),e.stateNode===null){var a=yC,o=n.contextType;typeof o=="object"&&o!==null&&(a=Uc(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Pwe,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},gve(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?Uc(o):yC,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(j3e(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Pwe.enqueueReplaceState(a,a.state,null),rL(e,r,a,i),nL(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,c=I9(n,s);a.props=c;var l=a.context,u=n.contextType;o=yC,typeof u=="object"&&u!==null&&(o=Uc(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||l!==o)&&w6t(e,a,r,o),k8=!1;var d=e.memoizedState;a.state=d,rL(e,r,a,i),nL(),l=e.memoizedState,s||d!==l||k8?(typeof f=="function"&&(j3e(e,n,f,r),l=e.memoizedState),(c=k8||g6t(e,n,c,r,d,l,o))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Swe(t,e),o=e.memoizedProps,u=I9(n,o),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,c=yC,typeof l=="object"&&l!==null&&(c=Uc(l)),s=n.getDerivedStateFromProps,(l=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==c)&&w6t(e,a,r,c),k8=!1,d=e.memoizedState,a.state=d,rL(e,r,a,i),nL();var p=e.memoizedState;o!==f||d!==p||k8||t!==null&&t.dependencies!==null&&_ee(t.dependencies)?(typeof s=="function"&&(j3e(e,n,s,r),p=e.memoizedState),(u=k8||g6t(e,n,u,r,d,p,c)||t!==null&&t.dependencies!==null&&_ee(t.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,uee(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=MC(e,t.child,null,i),e.child=MC(e,null,n,i)):L0(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Dy(t,e,i),t}function S6t(t,e,n,r){return OL(),e.flags|=256,L0(t,e,n,r),e.child}var G3e={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function V3e(t){return{baseLanes:t,cachePool:G5t()}}function K3e(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=f1),t}function Lmt(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(ws.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(si){if(i?B8(e):D8(e),si){var s=go,c;if(c=s){e:{for(c=s,s=D6;c.nodeType!==8;){if(!s){s=null;break e}if(c=zp(c.nextSibling),c===null){s=null;break e}}s=c}s!==null?(e.memoizedState={dehydrated:s,treeContext:v9!==null?{id:Iy,overflow:Ry}:null,retryLane:536870912,hydrationErrors:null},c=Uf(18,null,null,0),c.stateNode=s,c.return=e,e.child=c,Al=e,go=null,c=!0):c=!1}c||T9(e)}if(s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null))return Wwe(s)?e.lanes=32:e.lanes=536870912,null;Ny(e)}return s=r.children,r=r.fallback,i?(D8(e),i=e.mode,s=Pee({mode:"hidden",children:s},i),r=w9(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,i=e.child,i.memoizedState=V3e(n),i.childLanes=K3e(t,o,n),e.memoizedState=G3e,r):(B8(e),Bwe(e,s))}if(c=t.memoizedState,c!==null&&(s=c.dehydrated,s!==null)){if(a)e.flags&256?(B8(e),e.flags&=-257,e=$3e(t,e,n)):e.memoizedState!==null?(D8(e),e.child=t.child,e.flags|=128,e=null):(D8(e),i=r.fallback,s=e.mode,r=Pee({mode:"visible",children:r.children},s),i=w9(i,s,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,MC(e,t.child,null,n),r=e.child,r.memoizedState=V3e(n),r.childLanes=K3e(t,o,n),e.memoizedState=G3e,e=i);else if(B8(e),Wwe(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var l=o.dgst;o=l,r=Error(ze(419)),r.stack="",r.digest=o,hL({value:r,source:null,stack:null}),e=$3e(t,e,n)}else if(n0||NL(t,e,n,!1),o=(n&t.childLanes)!==0,n0||o){if(o=sa,o!==null&&(r=n&-n,r=(r&42)!==0?1:nve(r),r=(r&(o.suspendedLanes|n))!==0?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,zC(t,r),jf(o,t,r),Mmt;s.data==="$?"||zwe(),e=$3e(t,e,n)}else s.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,go=zp(s.nextSibling),Al=e,si=!0,E9=null,D6=!1,t!==null&&(s1[c1++]=Iy,s1[c1++]=Ry,s1[c1++]=v9,Iy=t.id,Ry=t.overflow,v9=e),e=Bwe(e,r.children),e.flags|=4096);return e}return i?(D8(e),i=r.fallback,s=e.mode,c=t.child,l=c.sibling,r=Py(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,l!==null?i=Py(l,i):(i=w9(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s===null?s=V3e(n):(c=s.cachePool,c!==null?(l=gs._currentValue,c=c.parent!==l?{parent:l,pool:l}:c):c=G5t(),s={baseLanes:s.baseLanes|n,cachePool:c}),i.memoizedState=s,i.childLanes=K3e(t,o,n),e.memoizedState=G3e,r):(B8(e),n=t.child,t=n.sibling,n=Py(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Bwe(t,e){return e=Pee({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Pee(t,e){return t=Uf(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $3e(t,e,n){return MC(e,t.child,null,n),t=Bwe(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C6t(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xwe(t.return,e,n)}function q3e(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Umt(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(L0(t,e,r.children,n),r=ws.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C6t(t,n,e);else if(t.tag===19)C6t(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Pa(ws,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ree(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),q3e(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ree(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}q3e(e,!0,n,null,a);break;case"together":q3e(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dy(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Z8|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(NL(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,n=Py(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Py(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pve(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&_ee(t)))}function g3n(t,e,n){switch(e.tag){case 3:yee(e,e.stateNode.containerInfo),M8(e,gs,t.memoizedState.cache),OL();break;case 27:case 5:uwe(e);break;case 4:yee(e,e.stateNode.containerInfo);break;case 10:M8(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(B8(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Lmt(t,e,n):(B8(e),t=Dy(t,e,n),t!==null?t.sibling:null);B8(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(NL(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return Umt(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pa(ws,ws.current),r)break;return null;case 22:case 23:return e.lanes=0,Dmt(t,e,n);case 24:M8(e,gs,t.memoizedState.cache)}return Dy(t,e,n)}function Fmt(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)n0=!0;else{if(!Pve(t,n)&&(e.flags&128)===0)return n0=!1,g3n(t,e,n);n0=(t.flags&131072)!==0}else n0=!1,si&&(e.flags&1048576)!==0&&z5t(e,Aee,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")pve(r)?(t=I9(r,t),e.tag=1,e=T6t(null,e,r,t,n)):(e.tag=0,e=Mwe(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Xwe){e.tag=11,e=E6t(null,e,r,t,n);break e}else if(i===eve){e.tag=14,e=x6t(null,e,r,t,n);break e}}throw e=cwe(r)||r,Error(ze(306,e,""))}}return e;case 0:return Mwe(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=I9(r,e.pendingProps),T6t(t,e,r,i,n);case 3:e:{if(yee(e,e.stateNode.containerInfo),t===null)throw Error(ze(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,Swe(t,e),rL(e,r,null,n);var o=e.memoizedState;if(r=o.cache,M8(e,gs,r),r!==a.cache&&Awe(e,[gs],n,!0),nL(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=S6t(t,e,r,n);break e}else if(r!==i){i=u1(Error(ze(424)),e),hL(i),e=S6t(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(go=zp(t.firstChild),Al=e,si=!0,E9=null,D6=!0,n=Cmt(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(OL(),r===i){e=Dy(t,e,n);break e}L0(t,e,r,n)}e=e.child}return e;case 26:return uee(t,e),t===null?(n=$6t(e.type,null,e.pendingProps,null))?e.memoizedState=n:si||(n=e.type,t=e.pendingProps,r=Fee(j8.current).createElement(n),r[Lc]=e,r[_u]=t,F0(r,n,t),t0(r),e.stateNode=r):e.memoizedState=$6t(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return uwe(e),t===null&&si&&(r=e.stateNode=Tyt(e.type,e.pendingProps,j8.current),Al=e,D6=!0,i=go,e3(e.type)?(Ywe=i,go=zp(r.firstChild)):go=i),L0(t,e,e.pendingProps.children,n),uee(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&si&&((i=r=go)&&(r=V3n(r,e.type,e.pendingProps,D6),r!==null?(e.stateNode=r,Al=e,go=zp(r.firstChild),D6=!1,i=!0):i=!1),i||T9(e)),uwe(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,$we(i,a)?r=null:o!==null&&$we(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=Eve(t,e,u3n,null,null,n),vL._currentValue=i),uee(t,e),L0(t,e,r,n),e.child;case 6:return t===null&&si&&((t=n=go)&&(n=K3n(n,e.pendingProps,D6),n!==null?(e.stateNode=n,Al=e,go=null,t=!0):t=!1),t||T9(e)),null;case 13:return Lmt(t,e,n);case 4:return yee(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=MC(e,null,r,n):L0(t,e,r,n),e.child;case 11:return E6t(t,e,e.type,e.pendingProps,n);case 7:return L0(t,e,e.pendingProps,n),e.child;case 8:return L0(t,e,e.pendingProps.children,n),e.child;case 12:return L0(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,M8(e,e.type,r.value),L0(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,S9(e),i=Uc(i),r=r(i),e.flags|=1,L0(t,e,r,n),e.child;case 14:return x6t(t,e,e.type,e.pendingProps,n);case 15:return Bmt(t,e,e.type,e.pendingProps,n);case 19:return Umt(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Pee(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Py(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Dmt(t,e,n);case 24:return S9(e),r=Uc(gs),t===null?(i=bve(),i===null&&(i=sa,a=yve(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},gve(e),M8(e,gs,i)):((t.lanes&n)!==0&&(Swe(t,e),rL(e,null,null,n),nL()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),M8(e,gs,r)):(r=a.cache,M8(e,gs,r),r!==i.cache&&Awe(e,[gs],n,!0))),L0(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(ze(156,e.tag))}function _y(t){t.flags|=4}function I6t(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Iyt(e)){if(e=d1.current,e!==null&&((Dr&4194048)===Dr?H6!==null:(Dr&62914560)!==Dr&&(Dr&536870912)===0||e!==H6))throw eL=Twe,V5t;t.flags|=8192}}function JX(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?f5t():536870912,t.lanes|=e,BC|=e)}function jD(t,e){if(!si)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qa(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function w3n(t,e,n){var r=e.pendingProps;switch(mve(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(e),null;case 1:return qa(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),ky(gs),IC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(HD(e)?_y(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,i6t())),qa(e),null;case 26:return n=e.memoizedState,t===null?(_y(e),n!==null?(qa(e),I6t(e,n)):(qa(e),e.flags&=-16777217)):n?n!==t.memoizedState?(_y(e),qa(e),I6t(e,n)):(qa(e),e.flags&=-16777217):(t.memoizedProps!==r&&_y(e),qa(e),e.flags&=-16777217),null;case 27:bee(e),n=j8.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&_y(e);else{if(!r){if(e.stateNode===null)throw Error(ze(166));return qa(e),null}t=U6.current,HD(e)?n6t(e,t):(t=Tyt(i,r,n),e.stateNode=t,_y(e))}return qa(e),null;case 5:if(bee(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&_y(e);else{if(!r){if(e.stateNode===null)throw Error(ze(166));return qa(e),null}if(t=U6.current,HD(e))n6t(e,t);else{switch(i=Fee(j8.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Lc]=e,t[_u]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(F0(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&_y(e)}}return qa(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&_y(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ze(166));if(t=j8.current,HD(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Al,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Lc]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||xyt(t.nodeValue,n)),t||T9(e)}else t=Fee(t).createTextNode(r),t[Lc]=e,e.stateNode=t}return qa(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=HD(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ze(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[Lc]=e}else OL(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;qa(e),i=!1}else i=i6t(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Ny(e),e):(Ny(e),null)}if(Ny(e),(e.flags&128)!==0)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),JX(e,e.updateQueue),qa(e),null;case 4:return IC(),t===null&&Hve(e.stateNode.containerInfo),qa(e),null;case 10:return ky(e.type),qa(e),null;case 19:if(r0(ws),i=e.memoizedState,i===null)return qa(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)jD(i,!1);else{if(wo!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(a=Ree(t),a!==null){for(e.flags|=128,jD(i,!1),t=a.updateQueue,e.updateQueue=t,JX(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)H5t(n,t),n=n.sibling;return Pa(ws,ws.current&1|2),e.child}t=t.sibling}i.tail!==null&&F6()>Mee&&(e.flags|=128,r=!0,jD(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ree(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,JX(e,t),jD(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!si)return qa(e),null}else 2*F6()-i.renderingStartTime>Mee&&n!==536870912&&(e.flags|=128,r=!0,jD(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=F6(),e.sibling=null,t=ws.current,Pa(ws,r?t&1|2:t&1),e):(qa(e),null);case 22:case 23:return Ny(e),wve(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(n&536870912)!==0&&(e.flags&128)===0&&(qa(e),e.subtreeFlags&6&&(e.flags|=8192)):qa(e),n=e.updateQueue,n!==null&&JX(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&r0(x9),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ky(gs),qa(e),null;case 25:return null;case 30:return null}throw Error(ze(156,e.tag))}function v3n(t,e){switch(mve(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ky(gs),IC(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return bee(e),null;case 13:if(Ny(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));OL()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return r0(ws),null;case 4:return IC(),null;case 10:return ky(e.type),null;case 22:case 23:return Ny(e),wve(),t!==null&&r0(x9),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ky(gs),null;case 25:return null;default:return null}}function Hmt(t,e){switch(mve(e),e.tag){case 3:ky(gs),IC();break;case 26:case 27:case 5:bee(e);break;case 4:IC();break;case 13:Ny(e);break;case 19:r0(ws);break;case 10:ky(e.type);break;case 22:case 23:Ny(e),wve(),t!==null&&r0(x9);break;case 24:ky(gs)}}function DL(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){Ki(e,e.return,s)}}function Q8(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var c=n,l=s;try{l()}catch(u){Ki(i,c,u)}}}r=r.next}while(r!==a)}}catch(u){Ki(e,e.return,u)}}function zmt(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{q5t(e,n)}catch(r){Ki(t,t.return,r)}}}function jmt(t,e,n){n.props=I9(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ki(t,e,r)}}function aL(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ki(t,e,i)}}function L6(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ki(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ki(t,e,i)}else n.current=null}function Gmt(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ki(t,t.return,i)}}function W3e(t,e,n){try{var r=t.stateNode;F3n(r,t.type,n,e),r[_u]=e}catch(i){Ki(t,t.return,i)}}function Vmt(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&e3(t.type)||t.tag===4}function Y3e(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vmt(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&e3(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dwe(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ite));else if(r!==4&&(r===27&&e3(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Dwe(t,e,n),t=t.sibling;t!==null;)Dwe(t,e,n),t=t.sibling}function kee(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&e3(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(kee(t,e,n),t=t.sibling;t!==null;)kee(t,e,n),t=t.sibling}function Kmt(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);F0(e,r,n),e[Lc]=t,e[_u]=n}catch(a){Ki(t,t.return,a)}}var Sy=!1,Ho=!1,J3e=!1,R6t=typeof WeakSet=="function"?WeakSet:Set,e0=null;function E3n(t,e){if(t=t.containerInfo,Vwe=Gee,t=P5t(t),uve(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,c=-1,l=0,u=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++l===i&&(s=o),d===a&&++u===r&&(c=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kwe={focusedElem:t,selectionRange:n},Gee=!1,e0=e;e0!==null;)if(e=e0,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,e0=t;else for(;e0!==null;){switch(e=e0,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var h=I9(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(h,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(m){Ki(n,n.return,m)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)qwe(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qwe(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(ze(163))}if(t=e.sibling,t!==null){t.return=e.return,e0=t;break}e0=e.return}}function $mt(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:O8(t,n),r&4&&DL(5,n);break;case 1:if(O8(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){Ki(n,n.return,o)}else{var i=I9(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){Ki(n,n.return,o)}}r&64&&zmt(n),r&512&&aL(n,n.return);break;case 3:if(O8(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{q5t(t,e)}catch(o){Ki(n,n.return,o)}}break;case 27:e===null&&r&4&&Kmt(n);case 26:case 5:O8(t,n),e===null&&r&4&&Gmt(n),r&512&&aL(n,n.return);break;case 12:O8(t,n);break;case 13:O8(t,n),r&4&&Ymt(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=O3n.bind(null,n),$3n(t,n))));break;case 22:if(r=n.memoizedState!==null||Sy,!r){e=e!==null&&e.memoizedState!==null||Ho,i=Sy;var a=Ho;Sy=r,(Ho=e)&&!a?N8(t,n,(n.subtreeFlags&8772)!==0):O8(t,n),Sy=i,Ho=a}break;case 30:break;default:O8(t,n)}}function qmt(t){var e=t.alternate;e!==null&&(t.alternate=null,qmt(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ive(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Na=null,xu=!1;function Ty(t,e,n){for(n=n.child;n!==null;)Wmt(t,e,n),n=n.sibling}function Wmt(t,e,n){if(Ff&&typeof Ff.onCommitFiberUnmount=="function")try{Ff.onCommitFiberUnmount(TL,n)}catch{}switch(n.tag){case 26:Ho||L6(n,e),Ty(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ho||L6(n,e);var r=Na,i=xu;e3(n.type)&&(Na=n.stateNode,xu=!1),Ty(t,e,n),lL(n.stateNode),Na=r,xu=i;break;case 5:Ho||L6(n,e);case 6:if(r=Na,i=xu,Na=null,Ty(t,e,n),Na=r,xu=i,Na!==null)if(xu)try{(Na.nodeType===9?Na.body:Na.nodeName==="HTML"?Na.ownerDocument.body:Na).removeChild(n.stateNode)}catch(a){Ki(n,e,a)}else try{Na.removeChild(n.stateNode)}catch(a){Ki(n,e,a)}break;case 18:Na!==null&&(xu?(t=Na,G6t(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),AL(t)):G6t(Na,n.stateNode));break;case 4:r=Na,i=xu,Na=n.stateNode.containerInfo,xu=!0,Ty(t,e,n),Na=r,xu=i;break;case 0:case 11:case 14:case 15:Ho||Q8(2,n,e),Ho||Q8(4,n,e),Ty(t,e,n);break;case 1:Ho||(L6(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&jmt(n,e,r)),Ty(t,e,n);break;case 21:Ty(t,e,n);break;case 22:Ho=(r=Ho)||n.memoizedState!==null,Ty(t,e,n),Ho=r;break;default:Ty(t,e,n)}}function Ymt(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{AL(t)}catch(n){Ki(e,e.return,n)}}function x3n(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new R6t),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new R6t),e;default:throw Error(ze(435,t.tag))}}function Q3e(t,e){var n=x3n(t);e.forEach(function(r){var i=N3n.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function Bf(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(e3(s.type)){Na=s.stateNode,xu=!1;break e}break;case 5:Na=s.stateNode,xu=!1;break e;case 3:case 4:Na=s.stateNode.containerInfo,xu=!0;break e}s=s.return}if(Na===null)throw Error(ze(160));Wmt(a,o,i),Na=null,xu=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Jmt(e,t),e=e.sibling}var Hp=null;function Jmt(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bf(e,t),Df(t),r&4&&(Q8(3,t,t.return),DL(3,t),Q8(5,t,t.return));break;case 1:Bf(e,t),Df(t),r&512&&(Ho||n===null||L6(n,n.return)),r&64&&Sy&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Hp;if(Bf(e,t),Df(t),r&512&&(Ho||n===null||L6(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[IL]||a[Lc]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),F0(a,r,n),a[Lc]=t,t0(a),r=a;break e;case"link":var o=W6t("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),F0(a,r,n),i.head.appendChild(a);break;case"meta":if(o=W6t("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),F0(a,r,n),i.head.appendChild(a);break;default:throw Error(ze(468,r))}a[Lc]=t,t0(a),r=a}t.stateNode=r}else Y6t(i,t.type,t.stateNode);else t.stateNode=q6t(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?Y6t(i,t.type,t.stateNode):q6t(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&W3e(t,t.memoizedProps,n.memoizedProps)}break;case 27:Bf(e,t),Df(t),r&512&&(Ho||n===null||L6(n,n.return)),n!==null&&r&4&&W3e(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Bf(e,t),Df(t),r&512&&(Ho||n===null||L6(n,n.return)),t.flags&32){i=t.stateNode;try{OC(i,"")}catch(p){Ki(t,t.return,p)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,W3e(t,i,n!==null?n.memoizedProps:i)),r&1024&&(J3e=!0);break;case 6:if(Bf(e,t),Df(t),r&4){if(t.stateNode===null)throw Error(ze(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(p){Ki(t,t.return,p)}}break;case 3:if(pee=null,i=Hp,Hp=Hee(e.containerInfo),Bf(e,t),Hp=i,Df(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{AL(e.containerInfo)}catch(p){Ki(t,t.return,p)}J3e&&(J3e=!1,Qmt(t));break;case 4:r=Hp,Hp=Hee(t.stateNode.containerInfo),Bf(e,t),Df(t),Hp=r;break;case 12:Bf(e,t),Df(t);break;case 13:Bf(e,t),Df(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lve=F6()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Q3e(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,l=Sy,u=Ho;if(Sy=l||i,Ho=u||c,Bf(e,t),Ho=u,Sy=l,Df(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Sy||Ho||b9(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(a=c.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){Ki(c,c.return,p)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){Ki(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Q3e(t,n))));break;case 19:Bf(e,t),Df(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Q3e(t,r)));break;case 30:break;case 21:break;default:Bf(e,t),Df(t)}}function Df(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(Vmt(r)){n=r;break}r=r.return}if(n==null)throw Error(ze(160));switch(n.tag){case 27:var i=n.stateNode,a=Y3e(t);kee(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(OC(o,""),n.flags&=-33);var s=Y3e(t);kee(t,s,o);break;case 3:case 4:var c=n.stateNode.containerInfo,l=Y3e(t);Dwe(t,l,c);break;default:throw Error(ze(161))}}catch(u){Ki(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qmt(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Qmt(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function O8(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)$mt(t,e.alternate,e),e=e.sibling}function b9(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Q8(4,e,e.return),b9(e);break;case 1:L6(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&jmt(e,e.return,n),b9(e);break;case 27:lL(e.stateNode);case 26:case 5:L6(e,e.return),b9(e);break;case 22:e.memoizedState===null&&b9(e);break;case 30:b9(e);break;default:b9(e)}t=t.sibling}}function N8(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:N8(i,a,n),DL(4,a);break;case 1:if(N8(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(l){Ki(r,r.return,l)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)$5t(c[i],s)}catch(l){Ki(r,r.return,l)}}n&&o&64&&zmt(a),aL(a,a.return);break;case 27:Kmt(a);case 26:case 5:N8(i,a,n),n&&r===null&&o&4&&Gmt(a),aL(a,a.return);break;case 12:N8(i,a,n);break;case 13:N8(i,a,n),n&&o&4&&Ymt(i,a);break;case 22:a.memoizedState===null&&N8(i,a,n),aL(a,a.return);break;case 30:break;default:N8(i,a,n)}e=e.sibling}}function kve(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&PL(n))}function Mve(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&PL(t))}function B6(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zmt(t,e,n,r),e=e.sibling}function Zmt(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:B6(t,e,n,r),i&2048&&DL(9,e);break;case 1:B6(t,e,n,r);break;case 3:B6(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&PL(t)));break;case 12:if(i&2048){B6(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Ki(e,e.return,c)}}else B6(t,e,n,r);break;case 13:B6(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?B6(t,e,n,r):oL(t,e):a._visibility&2?B6(t,e,n,r):(a._visibility|=2,oC(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&kve(o,e);break;case 24:B6(t,e,n,r),i&2048&&Mve(e.alternate,e);break;default:B6(t,e,n,r)}}function oC(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,o=e,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:oC(a,o,s,c,i),DL(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState!==null?u._visibility&2?oC(a,o,s,c,i):oL(a,o):(u._visibility|=2,oC(a,o,s,c,i)),i&&l&2048&&kve(o.alternate,o);break;case 24:oC(a,o,s,c,i),i&&l&2048&&Mve(o.alternate,o);break;default:oC(a,o,s,c,i)}e=e.sibling}}function oL(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:oL(n,r),i&2048&&kve(r.alternate,r);break;case 24:oL(n,r),i&2048&&Mve(r.alternate,r);break;default:oL(n,r)}e=e.sibling}}var YD=8192;function rC(t){if(t.subtreeFlags&YD)for(t=t.child;t!==null;)Xmt(t),t=t.sibling}function Xmt(t){switch(t.tag){case 26:rC(t),t.flags&YD&&t.memoizedState!==null&&awn(Hp,t.memoizedState,t.memoizedProps);break;case 5:rC(t);break;case 3:case 4:var e=Hp;Hp=Hee(t.stateNode.containerInfo),rC(t),Hp=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=YD,YD=16777216,rC(t),YD=e):rC(t));break;default:rC(t)}}function eyt(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function GD(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];e0=r,nyt(r,t)}eyt(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tyt(t),t=t.sibling}function tyt(t){switch(t.tag){case 0:case 11:case 15:GD(t),t.flags&2048&&Q8(9,t,t.return);break;case 3:GD(t);break;case 12:GD(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,fee(t)):GD(t);break;default:GD(t)}}function fee(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];e0=r,nyt(r,t)}eyt(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Q8(8,e,e.return),fee(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,fee(e));break;default:fee(e)}t=t.sibling}}function nyt(t,e){for(;e0!==null;){var n=e0;switch(n.tag){case 0:case 11:case 15:Q8(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:PL(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,e0=r;else e:for(n=t;e0!==null;){r=e0;var i=r.sibling,a=r.return;if(qmt(r),r===n){e0=null;break e}if(i!==null){i.return=a,e0=i;break e}e0=a}}}var A3n={getCacheForType:function(t){var e=Uc(gs),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},_3n=typeof WeakMap=="function"?WeakMap:Map,xi=0,sa=null,yr=null,Dr=0,Ei=0,Lf=null,H8=!1,jC=!1,Bve=!1,Ly=0,wo=0,Z8=0,A9=0,Dve=0,f1=0,BC=0,sL=null,Au=null,Lwe=!1,Lve=0,Mee=1/0,Bee=null,K8=null,U0=0,$8=null,DC=null,CC=0,Uwe=0,Fwe=null,ryt=null,cL=0,Hwe=null;function zf(){if((xi&2)!==0&&Dr!==0)return Dr&-Dr;if(Tn.T!==null){var t=NC;return t!==0?t:Fve()}return h5t()}function iyt(){f1===0&&(f1=(Dr&536870912)===0||si?u5t():536870912);var t=d1.current;return t!==null&&(t.flags|=32),f1}function jf(t,e,n){(t===sa&&(Ei===2||Ei===9)||t.cancelPendingCommit!==null)&&(LC(t,0),z8(t,Dr,f1,!1)),CL(t,n),((xi&2)===0||t!==sa)&&(t===sa&&((xi&2)===0&&(A9|=n),wo===4&&z8(t,Dr,f1,!1)),j6(t))}function ayt(t,e,n){if((xi&6)!==0)throw Error(ze(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||SL(t,e),i=r?C3n(t,e):Z3e(t,e,!0),a=r;do{if(i===0){jC&&!r&&z8(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!T3n(n)){i=Z3e(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=sL;var c=s.current.memoizedState.isDehydrated;if(c&&(LC(s,o).flags|=256),o=Z3e(s,o,!1),o!==2){if(Bve&&!c){s.errorRecoveryDisabledLanes|=a,A9|=a,i=4;break e}a=Au,Au=i,a!==null&&(Au===null?Au=a:Au.push.apply(Au,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){LC(t,0),z8(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(ze(345));case 4:if((e&4194048)!==e)break;case 6:z8(r,e,f1,!H8);break e;case 2:Au=null;break;case 3:case 5:break;default:throw Error(ze(329))}if((e&62914560)===e&&(i=Lve+300-F6(),10<i)){if(z8(r,e,f1,!H8),Kee(r,0,!0)!==0)break e;r.timeoutHandle=_yt(O6t.bind(null,r,n,Au,Bee,Lwe,e,f1,A9,BC,H8,a,2,-0,0),i);break e}O6t(r,n,Au,Bee,Lwe,e,f1,A9,BC,H8,a,0,-0,0)}}break}while(!0);j6(t)}function O6t(t,e,n,r,i,a,o,s,c,l,u,f,d,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(wL={stylesheets:null,count:0,unsuspend:iwn},Xmt(e),f=own(),f!==null)){t.cancelPendingCommit=f(P6t.bind(null,t,e,a,n,r,i,o,s,c,u,1,d,p)),z8(t,a,o,!l);return}P6t(t,e,a,n,r,i,o,s,c)}function T3n(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gf(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function z8(t,e,n,r){e&=~Dve,e&=~A9,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Hf(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&d5t(t,n,e)}function tte(){return(xi&6)===0?(LL(0,!1),!1):!0}function Uve(){if(yr!==null){if(Ei===0)var t=yr.return;else t=yr,Oy=P9=null,_ve(t),SC=null,yL=0,t=yr;for(;t!==null;)Hmt(t.alternate,t),t=t.return;yr=null}}function LC(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,z3n(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Uve(),sa=t,yr=n=Py(t.current,null),Dr=e,Ei=0,Lf=null,H8=!1,jC=SL(t,e),Bve=!1,BC=f1=Dve=A9=Z8=wo=0,Au=sL=null,Lwe=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Hf(r),a=1<<i;e|=t[i],r&=~a}return Ly=e,Yee(),n}function oyt(t,e){or=null,Tn.H=Iee,e===kL||e===Qee?(e=c6t(),Ei=3):e===V5t?(e=c6t(),Ei=4):Ei=e===Mmt?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Lf=e,yr===null&&(wo=1,Nee(t,u1(e,t.current)))}function syt(){var t=Tn.H;return Tn.H=Iee,t===null?Iee:t}function cyt(){var t=Tn.A;return Tn.A=A3n,t}function zwe(){wo=4,H8||(Dr&4194048)!==Dr&&d1.current!==null||(jC=!0),(Z8&134217727)===0&&(A9&134217727)===0||sa===null||z8(sa,Dr,f1,!1)}function Z3e(t,e,n){var r=xi;xi|=2;var i=syt(),a=cyt();(sa!==t||Dr!==e)&&(Bee=null,LC(t,e)),e=!1;var o=wo;e:do try{if(Ei!==0&&yr!==null){var s=yr,c=Lf;switch(Ei){case 8:Uve(),o=6;break e;case 3:case 2:case 9:case 6:d1.current===null&&(e=!0);var l=Ei;if(Ei=0,Lf=null,wC(t,s,c,l),n&&jC){o=0;break e}break;default:l=Ei,Ei=0,Lf=null,wC(t,s,c,l)}}S3n(),o=wo;break}catch(u){oyt(t,u)}while(!0);return e&&t.shellSuspendCounter++,Oy=P9=null,xi=r,Tn.H=i,Tn.A=a,yr===null&&(sa=null,Dr=0,Yee()),o}function S3n(){for(;yr!==null;)lyt(yr)}function C3n(t,e){var n=xi;xi|=2;var r=syt(),i=cyt();sa!==t||Dr!==e?(Bee=null,Mee=F6()+500,LC(t,e)):jC=SL(t,e);e:do try{if(Ei!==0&&yr!==null){e=yr;var a=Lf;t:switch(Ei){case 1:Ei=0,Lf=null,wC(t,e,a,1);break;case 2:case 9:if(s6t(a)){Ei=0,Lf=null,N6t(e);break}e=function(){Ei!==2&&Ei!==9||sa!==t||(Ei=7),j6(t)},a.then(e,e);break e;case 3:Ei=7;break e;case 4:Ei=5;break e;case 7:s6t(a)?(Ei=0,Lf=null,N6t(e)):(Ei=0,Lf=null,wC(t,e,a,7));break;case 5:var o=null;switch(yr.tag){case 26:o=yr.memoizedState;case 5:case 27:var s=yr;if(!o||Iyt(o)){Ei=0,Lf=null;var c=s.sibling;if(c!==null)yr=c;else{var l=s.return;l!==null?(yr=l,nte(l)):yr=null}break t}}Ei=0,Lf=null,wC(t,e,a,5);break;case 6:Ei=0,Lf=null,wC(t,e,a,6);break;case 8:Uve(),wo=6;break e;default:throw Error(ze(462))}}I3n();break}catch(u){oyt(t,u)}while(!0);return Oy=P9=null,Tn.H=r,Tn.A=i,xi=n,yr!==null?0:(sa=null,Dr=0,Yee(),wo)}function I3n(){for(;yr!==null&&!Jgn();)lyt(yr)}function lyt(t){var e=Fmt(t.alternate,t,Ly);t.memoizedProps=t.pendingProps,e===null?nte(t):yr=e}function N6t(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=_6t(n,e,e.pendingProps,e.type,void 0,Dr);break;case 11:e=_6t(n,e,e.pendingProps,e.type.render,e.ref,Dr);break;case 5:_ve(e);default:Hmt(n,e),e=yr=H5t(e,Ly),e=Fmt(n,e,Ly)}t.memoizedProps=t.pendingProps,e===null?nte(t):yr=e}function wC(t,e,n,r){Oy=P9=null,_ve(e),SC=null,yL=0;var i=e.return;try{if(b3n(t,i,e,n,Dr)){wo=1,Nee(t,u1(n,t.current)),yr=null;return}}catch(a){if(i!==null)throw yr=i,a;wo=1,Nee(t,u1(n,t.current)),yr=null;return}e.flags&32768?(si||r===1?t=!0:jC||(Dr&536870912)!==0?t=!1:(H8=t=!0,(r===2||r===9||r===3||r===6)&&(r=d1.current,r!==null&&r.tag===13&&(r.flags|=16384))),uyt(e,t)):nte(e)}function nte(t){var e=t;do{if((e.flags&32768)!==0){uyt(e,H8);return}t=e.return;var n=w3n(e.alternate,e,Ly);if(n!==null){yr=n;return}if(e=e.sibling,e!==null){yr=e;return}yr=e=t}while(e!==null);wo===0&&(wo=5)}function uyt(t,e){do{var n=v3n(t.alternate,t);if(n!==null){n.flags&=32767,yr=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){yr=t;return}yr=t=n}while(t!==null);wo=6,yr=null}function P6t(t,e,n,r,i,a,o,s,c){t.cancelPendingCommit=null;do rte();while(U0!==0);if((xi&6)!==0)throw Error(ze(327));if(e!==null){if(e===t.current)throw Error(ze(177));if(a=e.lanes|e.childLanes,a|=fve,o8n(t,n,a,o,s,c),t===sa&&(yr=sa=null,Dr=0),DC=e,$8=t,CC=n,Uwe=a,Fwe=i,ryt=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,P3n(gee,function(){return myt(!0),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=Tn.T,Tn.T=null,i=ci.p,ci.p=2,o=xi,xi|=4;try{E3n(t,e,n)}finally{xi=o,ci.p=i,Tn.T=r}}U0=1,fyt(),dyt(),pyt()}}function fyt(){if(U0===1){U0=0;var t=$8,e=DC,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=Tn.T,Tn.T=null;var r=ci.p;ci.p=2;var i=xi;xi|=4;try{Jmt(e,t);var a=Kwe,o=P5t(t.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&N5t(s.ownerDocument.documentElement,s)){if(c!==null&&uve(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),"selectionStart"in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var f=s.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),h=s.textContent.length,m=Math.min(c.start,h),w=c.end===void 0?m:Math.min(c.end,h);!p.extend&&m>w&&(o=w,w=m,m=o);var g=Xht(s,m),x=Xht(s,w);if(g&&x&&(p.rangeCount!==1||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var C=f.createRange();C.setStart(g.node,g.offset),p.removeAllRanges(),m>w?(p.addRange(C),p.extend(x.node,x.offset)):(C.setEnd(x.node,x.offset),p.addRange(C))}}}}for(f=[],p=s;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var P=f[s];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Gee=!!Vwe,Kwe=Vwe=null}finally{xi=i,ci.p=r,Tn.T=n}}t.current=e,U0=2}}function dyt(){if(U0===2){U0=0;var t=$8,e=DC,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=Tn.T,Tn.T=null;var r=ci.p;ci.p=2;var i=xi;xi|=4;try{$mt(t,e.alternate,e)}finally{xi=i,ci.p=r,Tn.T=n}}U0=3}}function pyt(){if(U0===4||U0===3){U0=0,Qgn();var t=$8,e=DC,n=CC,r=ryt;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?U0=5:(U0=0,DC=$8=null,hyt(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(K8=null),rve(n),e=e.stateNode,Ff&&typeof Ff.onCommitFiberRoot=="function")try{Ff.onCommitFiberRoot(TL,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Tn.T,i=ci.p,ci.p=2,Tn.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{Tn.T=e,ci.p=i}}(CC&3)!==0&&rte(),j6(t),i=t.pendingLanes,(n&4194090)!==0&&(i&42)!==0?t===Hwe?cL++:(cL=0,Hwe=t):cL=0,LL(0,!1)}}function hyt(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,PL(e)))}function rte(t){return fyt(),dyt(),pyt(),myt(t)}function myt(){if(U0!==5)return!1;var t=$8,e=Uwe;Uwe=0;var n=rve(CC),r=Tn.T,i=ci.p;try{ci.p=32>n?32:n,Tn.T=null,n=Fwe,Fwe=null;var a=$8,o=CC;if(U0=0,DC=$8=null,CC=0,(xi&6)!==0)throw Error(ze(331));var s=xi;if(xi|=4,tyt(a.current),Zmt(a,a.current,o,n),xi=s,LL(0,!1),Ff&&typeof Ff.onPostCommitFiberRoot=="function")try{Ff.onPostCommitFiberRoot(TL,a)}catch{}return!0}finally{ci.p=i,Tn.T=r,hyt(t,e)}}function k6t(t,e,n){e=u1(n,e),e=kwe(t.stateNode,e,2),t=V8(t,e,2),t!==null&&(CL(t,2),j6(t))}function Ki(t,e,n){if(t.tag===3)k6t(t,t,n);else for(;e!==null;){if(e.tag===3){k6t(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(K8===null||!K8.has(r))){t=u1(n,t),n=Pmt(2),r=V8(e,n,2),r!==null&&(kmt(n,r,e,t),CL(r,2),j6(r));break}}e=e.return}}function X3e(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _3n;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Bve=!0,i.add(n),t=R3n.bind(null,t,e,n),e.then(t,t))}function R3n(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,sa===t&&(Dr&n)===n&&(wo===4||wo===3&&(Dr&62914560)===Dr&&300>F6()-Lve?(xi&2)===0&&LC(t,0):Dve|=n,BC===Dr&&(BC=0)),j6(t)}function yyt(t,e){e===0&&(e=f5t()),t=zC(t,e),t!==null&&(CL(t,e),j6(t))}function O3n(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yyt(t,n)}function N3n(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(ze(314))}r!==null&&r.delete(e),yyt(t,n)}function P3n(t,e){return tve(t,e)}var Dee=null,sC=null,jwe=!1,Lee=!1,ewe=!1,_9=0;function j6(t){t!==sC&&t.next===null&&(sC===null?Dee=sC=t:sC=sC.next=t),Lee=!0,jwe||(jwe=!0,M3n())}function LL(t,e){if(!ewe&&Lee){ewe=!0;do for(var n=!1,r=Dee;r!==null;){if(!e)if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Hf(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,M6t(r,a))}else a=Dr,a=Kee(r,r===sa?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(a&3)===0||SL(r,a)||(n=!0,M6t(r,a));r=r.next}while(n);ewe=!1}}function k3n(){byt()}function byt(){Lee=jwe=!1;var t=0;_9!==0&&(H3n()&&(t=_9),_9=0);for(var e=F6(),n=null,r=Dee;r!==null;){var i=r.next,a=gyt(r,e);a===0?(r.next=null,n===null?Dee=i:n.next=i,i===null&&(sC=n)):(n=r,(t!==0||(a&3)!==0)&&(Lee=!0)),r=i}LL(t,!1)}function gyt(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Hf(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=a8n(s,e)):c<=e&&(t.expiredLanes|=s),a&=~s}if(e=sa,n=Dr,n=Kee(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ei===2||Ei===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&C3e(r),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||SL(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&C3e(r),rve(n)){case 2:case 8:n=c5t;break;case 32:n=gee;break;case 268435456:n=l5t;break;default:n=gee}return r=wyt.bind(null,t),n=tve(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&C3e(r),t.callbackPriority=2,t.callbackNode=null,2}function wyt(t,e){if(U0!==0&&U0!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(rte(!0)&&t.callbackNode!==n)return null;var r=Dr;return r=Kee(t,t===sa?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(ayt(t,r,e),gyt(t,F6()),t.callbackNode!=null&&t.callbackNode===n?wyt.bind(null,t):null)}function M6t(t,e){if(rte())return null;ayt(t,e,!0)}function M3n(){j3n(function(){(xi&6)!==0?tve(s5t,k3n):byt()})}function Fve(){return _9===0&&(_9=u5t()),_9}function B6t(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ree(""+t)}function D6t(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function B3n(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=B6t((i[_u]||null).action),o=r.submitter;o&&(e=(e=o[_u]||null)?B6t(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new $ee("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(_9!==0){var c=o?D6t(i,o):new FormData(i);Nwe(n,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(s.preventDefault(),c=o?D6t(i,o):new FormData(i),Nwe(n,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(QX=0;QX<wwe.length;QX++)ZX=wwe[QX],L6t=ZX.toLowerCase(),U6t=ZX[0].toUpperCase()+ZX.slice(1),jp(L6t,"on"+U6t);var ZX,L6t,U6t,QX;jp(M5t,"onAnimationEnd");jp(B5t,"onAnimationIteration");jp(D5t,"onAnimationStart");jp("dblclick","onDoubleClick");jp("focusin","onFocus");jp("focusout","onBlur");jp(e3n,"onTransitionRun");jp(t3n,"onTransitionStart");jp(n3n,"onTransitionCancel");jp(L5t,"onTransitionEnd");RC("onMouseEnter",["mouseout","mouseover"]);RC("onMouseLeave",["mouseout","mouseover"]);RC("onPointerEnter",["pointerout","pointerover"]);RC("onPointerLeave",["pointerout","pointerover"]);R9("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));R9("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));R9("onBeforeInput",["compositionend","keypress","textInput","paste"]);R9("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));R9("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));R9("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bL="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D3n=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bL));function vyt(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=l;try{a(i)}catch(u){Oee(u)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=l;try{a(i)}catch(u){Oee(u)}i.currentTarget=null,a=c}}}}function mr(t,e){var n=e[dwe];n===void 0&&(n=e[dwe]=new Set);var r=t+"__bubble";n.has(r)||(Eyt(e,t,2,!1),n.add(r))}function twe(t,e,n){var r=0;e&&(r|=4),Eyt(n,t,r,e)}var XX="_reactListening"+Math.random().toString(36).slice(2);function Hve(t){if(!t[XX]){t[XX]=!0,m5t.forEach(function(n){n!=="selectionchange"&&(D3n.has(n)||twe(n,!1,t),twe(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[XX]||(e[XX]=!0,twe("selectionchange",!1,e))}}function Eyt(t,e,n,r){switch(kyt(e)){case 2:var i=lwn;break;case 8:i=uwn;break;default:i=Vve}n=i.bind(null,e,n,t),i=void 0,!ywe||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nwe(t,e,n,r,i){var a=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=uC(s),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){r=a=o;continue e}s=s.parentNode}}r=r.return}A5t(function(){var l=a,u=ove(n),f=[];e:{var d=U5t.get(t);if(d!==void 0){var p=$ee,h=t;switch(t){case"keypress":if(aee(n)===0)break e;case"keydown":case"keyup":p=P8n;break;case"focusin":h="focus",p=B3e;break;case"focusout":h="blur",p=B3e;break;case"beforeblur":case"afterblur":p=B3e;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=v8n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=B8n;break;case M5t:case B5t:case D5t:p=A8n;break;case L5t:p=L8n;break;case"scroll":case"scrollend":p=g8n;break;case"wheel":p=F8n;break;case"copy":case"cut":case"paste":p=T8n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$ht;break;case"toggle":case"beforetoggle":p=z8n}var m=(e&4)!==0,w=!m&&(t==="scroll"||t==="scrollend"),g=m?d!==null?d+"Capture":null:d;m=[];for(var x=l,C;x!==null;){var P=x;if(C=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||C===null||g===null||(P=fL(x,g),P!=null&&m.push(gL(x,P,C))),w)break;x=x.return}0<m.length&&(d=new p(d,h,null,n,u),f.push({event:d,listeners:m}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==mwe&&(h=n.relatedTarget||n.fromElement)&&(uC(h)||h[FC]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=l,h=h?uC(h):null,h!==null&&(w=_L(h),m=h.tag,h!==w||m!==5&&m!==27&&m!==6)&&(h=null)):(p=null,h=l),p!==h)){if(m=Vht,P="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=$ht,P="onPointerLeave",g="onPointerEnter",x="pointer"),w=p==null?d:WD(p),C=h==null?d:WD(h),d=new m(P,x+"leave",p,n,u),d.target=w,d.relatedTarget=C,P=null,uC(u)===l&&(m=new m(g,x+"enter",h,n,u),m.target=C,m.relatedTarget=w,P=m),w=P,p&&h)t:{for(m=p,g=h,x=0,C=m;C;C=iC(C))x++;for(C=0,P=g;P;P=iC(P))C++;for(;0<x-C;)m=iC(m),x--;for(;0<C-x;)g=iC(g),C--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=iC(m),g=iC(g)}m=null}else m=null;p!==null&&F6t(f,d,p,m,!1),h!==null&&w!==null&&F6t(f,w,h,m,!0)}}e:{if(d=l?WD(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var D=Jht;else if(Yht(d))if(R5t)D=Q8n;else{D=Y8n;var F=W8n}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?l&&ave(l.elementType)&&(D=Jht):D=J8n;if(D&&(D=D(t,l))){I5t(f,D,n,u);break e}F&&F(t,d,l),t==="focusout"&&l&&d.type==="number"&&l.memoizedProps.value!=null&&hwe(d,"number",d.value)}switch(F=l?WD(l):window,t){case"focusin":(Yht(F)||F.contentEditable==="true")&&(pC=F,bwe=l,ZD=null);break;case"focusout":ZD=bwe=pC=null;break;case"mousedown":gwe=!0;break;case"contextmenu":case"mouseup":case"dragend":gwe=!1,e6t(f,n,u);break;case"selectionchange":if(X8n)break;case"keydown":case"keyup":e6t(f,n,u)}var H;if(lve)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else dC?S5t(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(T5t&&n.locale!=="ko"&&(dC||O!=="onCompositionStart"?O==="onCompositionEnd"&&dC&&(H=_5t()):(F8=u,sve="value"in F8?F8.value:F8.textContent,dC=!0)),F=Uee(l,O),0<F.length&&(O=new Kht(O,t,null,n,u),f.push({event:O,listeners:F}),H?O.data=H:(H=C5t(n),H!==null&&(O.data=H)))),(H=G8n?V8n(t,n):K8n(t,n))&&(O=Uee(l,"onBeforeInput"),0<O.length&&(F=new Kht("onBeforeInput","beforeinput",null,n,u),f.push({event:F,listeners:O}),F.data=H)),B3n(f,t,l,n,u)}vyt(f,e)})}function gL(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uee(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=fL(t,n),i!=null&&r.unshift(gL(t,i,a)),i=fL(t,e),i!=null&&r.push(gL(t,i,a))),t.tag===3)return r;t=t.return}return[]}function iC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function F6t(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=fL(n,a),l!=null&&o.unshift(gL(n,l,c))):i||(l=fL(n,a),l!=null&&o.push(gL(n,l,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var L3n=/\r\n?/g,U3n=/\u0000|\uFFFD/g;function H6t(t){return(typeof t=="string"?t:""+t).replace(L3n,`
`).replace(U3n,"")}function xyt(t,e){return e=H6t(e),H6t(t)===e}function ite(){}function Mi(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||OC(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&OC(t,""+r);break;case"className":jX(t,"class",r);break;case"tabIndex":jX(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":jX(t,n,r);break;case"style":x5t(t,r,a);break;case"data":if(e!=="object"){jX(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ree(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Mi(t,e,"name",i.name,i,null),Mi(t,e,"formEncType",i.formEncType,i,null),Mi(t,e,"formMethod",i.formMethod,i,null),Mi(t,e,"formTarget",i.formTarget,i,null)):(Mi(t,e,"encType",i.encType,i,null),Mi(t,e,"method",i.method,i,null),Mi(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ree(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=ite);break;case"onScroll":r!=null&&mr("scroll",t);break;case"onScrollEnd":r!=null&&mr("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ze(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ze(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=ree(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":mr("beforetoggle",t),mr("toggle",t),nee(t,"popover",r);break;case"xlinkActuate":Ay(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ay(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ay(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ay(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ay(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ay(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ay(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ay(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ay(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":nee(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=y8n.get(n)||n,nee(t,n,r))}}function Gwe(t,e,n,r,i,a){switch(n){case"style":x5t(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ze(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ze(60));t.innerHTML=n}}break;case"children":typeof r=="string"?OC(t,r):(typeof r=="number"||typeof r=="bigint")&&OC(t,""+r);break;case"onScroll":r!=null&&mr("scroll",t);break;case"onScrollEnd":r!=null&&mr("scrollend",t);break;case"onClick":r!=null&&(t.onclick=ite);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y5t.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[_u]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):nee(t,n,r)}}}function F0(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mr("error",t),mr("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ze(137,e));default:Mi(t,e,a,o,n,null)}}i&&Mi(t,e,"srcSet",n.srcSet,n,null),r&&Mi(t,e,"src",n.src,n,null);return;case"input":mr("invalid",t);var s=a=o=i=null,c=null,l=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":i=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":l=u;break;case"value":a=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(ze(137,e));break;default:Mi(t,e,r,u,n,null)}}w5t(t,a,s,c,l,o,i,!1),wee(t);return;case"select":mr("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:Mi(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?EC(t,!!r,e,!1):n!=null&&EC(t,!!r,n,!0);return;case"textarea":mr("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(ze(91));break;default:Mi(t,e,o,s,n,null)}E5t(t,r,i,a),wee(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Mi(t,e,c,r,n,null)}return;case"dialog":mr("beforetoggle",t),mr("toggle",t),mr("cancel",t),mr("close",t);break;case"iframe":case"object":mr("load",t);break;case"video":case"audio":for(r=0;r<bL.length;r++)mr(bL[r],t);break;case"image":mr("error",t),mr("load",t);break;case"details":mr("toggle",t);break;case"embed":case"source":case"link":mr("error",t),mr("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(ze(137,e));default:Mi(t,e,l,r,n,null)}return;default:if(ave(e)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&Gwe(t,e,u,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&Mi(t,e,s,r,n,null))}function F3n(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,c=null,l=null,u=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(p)||Mi(t,e,p,null,r,f)}}for(var d in r){var p=r[d];if(f=n[d],r.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":a=p;break;case"name":i=p;break;case"checked":l=p;break;case"defaultChecked":u=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(ze(137,e));break;default:p!==f&&Mi(t,e,d,p,r,f)}}pwe(t,o,s,c,l,u,a,i);return;case"select":p=o=s=d=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Mi(t,e,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":d=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==c&&Mi(t,e,i,a,r,c)}e=s,n=o,r=p,d!=null?EC(t,!!n,d,!1):!!r!=!!n&&(e!=null?EC(t,!!n,e,!0):EC(t,!!n,n?[]:"",!1));return;case"textarea":p=d=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:Mi(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":d=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ze(91));break;default:i!==a&&Mi(t,e,o,i,r,a)}v5t(t,d,p);return;case"option":for(var h in n)if(d=n[h],n.hasOwnProperty(h)&&d!=null&&!r.hasOwnProperty(h))switch(h){case"selected":t.selected=!1;break;default:Mi(t,e,h,null,r,d)}for(c in r)if(d=r[c],p=n[c],r.hasOwnProperty(c)&&d!==p&&(d!=null||p!=null))switch(c){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Mi(t,e,c,d,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)d=n[m],n.hasOwnProperty(m)&&d!=null&&!r.hasOwnProperty(m)&&Mi(t,e,m,null,r,d);for(l in r)if(d=r[l],p=n[l],r.hasOwnProperty(l)&&d!==p&&(d!=null||p!=null))switch(l){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(ze(137,e));break;default:Mi(t,e,l,d,r,p)}return;default:if(ave(e)){for(var w in n)d=n[w],n.hasOwnProperty(w)&&d!==void 0&&!r.hasOwnProperty(w)&&Gwe(t,e,w,void 0,r,d);for(u in r)d=r[u],p=n[u],!r.hasOwnProperty(u)||d===p||d===void 0&&p===void 0||Gwe(t,e,u,d,r,p);return}}for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!r.hasOwnProperty(g)&&Mi(t,e,g,null,r,d);for(f in r)d=r[f],p=n[f],!r.hasOwnProperty(f)||d===p||d==null&&p==null||Mi(t,e,f,d,r,p)}var Vwe=null,Kwe=null;function Fee(t){return t.nodeType===9?t:t.ownerDocument}function z6t(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ayt(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function $we(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rwe=null;function H3n(){var t=window.event;return t&&t.type==="popstate"?t===rwe?!1:(rwe=t,!0):(rwe=null,!1)}var _yt=typeof setTimeout=="function"?setTimeout:void 0,z3n=typeof clearTimeout=="function"?clearTimeout:void 0,j6t=typeof Promise=="function"?Promise:void 0,j3n=typeof queueMicrotask=="function"?queueMicrotask:typeof j6t<"u"?function(t){return j6t.resolve(null).then(t).catch(G3n)}:_yt;function G3n(t){setTimeout(function(){throw t})}function e3(t){return t==="head"}function G6t(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var o=t.ownerDocument;if(n&1&&lL(o.documentElement),n&2&&lL(o.body),n&4)for(n=o.head,lL(n),o=n.firstChild;o;){var s=o.nextSibling,c=o.nodeName;o[IL]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=s}}if(i===0){t.removeChild(a),AL(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);AL(e)}function qwe(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":qwe(n),ive(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function V3n(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[IL])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=zp(t.nextSibling),t===null)break}return null}function K3n(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zp(t.nextSibling),t===null))return null;return t}function Wwe(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $3n(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function zp(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Ywe=null;function V6t(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Tyt(t,e,n){switch(e=Fee(n),t){case"html":if(t=e.documentElement,!t)throw Error(ze(452));return t;case"head":if(t=e.head,!t)throw Error(ze(453));return t;case"body":if(t=e.body,!t)throw Error(ze(454));return t;default:throw Error(ze(451))}}function lL(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ive(t)}var p1=new Map,K6t=new Set;function Hee(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Uy=ci.d;ci.d={f:q3n,r:W3n,D:Y3n,C:J3n,L:Q3n,m:Z3n,X:ewn,S:X3n,M:twn};function q3n(){var t=Uy.f(),e=tte();return t||e}function W3n(t){var e=HC(t);e!==null&&e.tag===5&&e.type==="form"?gmt(e):Uy.r(t)}var GC=typeof document>"u"?null:document;function Syt(t,e,n){var r=GC;if(r&&typeof e=="string"&&e){var i=l1(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),K6t.has(i)||(K6t.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),F0(e,"link",t),t0(e),r.head.appendChild(e)))}}function Y3n(t){Uy.D(t),Syt("dns-prefetch",t,null)}function J3n(t,e){Uy.C(t,e),Syt("preconnect",t,e)}function Q3n(t,e,n){Uy.L(t,e,n);var r=GC;if(r&&t&&e){var i='link[rel="preload"][as="'+l1(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+l1(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+l1(n.imageSizes)+'"]')):i+='[href="'+l1(t)+'"]';var a=i;switch(e){case"style":a=UC(t);break;case"script":a=VC(t)}p1.has(a)||(t=ba({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),p1.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(UL(a))||e==="script"&&r.querySelector(FL(a))||(e=r.createElement("link"),F0(e,"link",t),t0(e),r.head.appendChild(e)))}}function Z3n(t,e){Uy.m(t,e);var n=GC;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+l1(r)+'"][href="'+l1(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=VC(t)}if(!p1.has(a)&&(t=ba({rel:"modulepreload",href:t},e),p1.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(FL(a)))return}r=n.createElement("link"),F0(r,"link",t),t0(r),n.head.appendChild(r)}}}function X3n(t,e,n){Uy.S(t,e,n);var r=GC;if(r&&t){var i=vC(r).hoistableStyles,a=UC(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(UL(a)))s.loading=5;else{t=ba({rel:"stylesheet",href:t,"data-precedence":e},n),(n=p1.get(a))&&zve(t,n);var c=o=r.createElement("link");t0(c),F0(c,"link",t),c._p=new Promise(function(l,u){c.onload=l,c.onerror=u}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,dee(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function ewn(t,e){Uy.X(t,e);var n=GC;if(n&&t){var r=vC(n).hoistableScripts,i=VC(t),a=r.get(i);a||(a=n.querySelector(FL(i)),a||(t=ba({src:t,async:!0},e),(e=p1.get(i))&&jve(t,e),a=n.createElement("script"),t0(a),F0(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function twn(t,e){Uy.M(t,e);var n=GC;if(n&&t){var r=vC(n).hoistableScripts,i=VC(t),a=r.get(i);a||(a=n.querySelector(FL(i)),a||(t=ba({src:t,async:!0,type:"module"},e),(e=p1.get(i))&&jve(t,e),a=n.createElement("script"),t0(a),F0(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function $6t(t,e,n,r){var i=(i=j8.current)?Hee(i):null;if(!i)throw Error(ze(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=UC(n.href),n=vC(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=UC(n.href);var a=vC(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(UL(t)))&&!a._p&&(o.instance=a,o.state.loading=5),p1.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},p1.set(t,n),a||nwn(i,t,n,o.state))),e&&r===null)throw Error(ze(528,""));return o}if(e&&r!==null)throw Error(ze(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=VC(n),n=vC(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ze(444,t))}}function UC(t){return'href="'+l1(t)+'"'}function UL(t){return'link[rel="stylesheet"]['+t+"]"}function Cyt(t){return ba({},t,{"data-precedence":t.precedence,precedence:null})}function nwn(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),F0(e,"link",n),t0(e),t.head.appendChild(e))}function VC(t){return'[src="'+l1(t)+'"]'}function FL(t){return"script[async]"+t}function q6t(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+l1(n.href)+'"]');if(r)return e.instance=r,t0(r),r;var i=ba({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),t0(r),F0(r,"style",i),dee(r,n.precedence,t),e.instance=r;case"stylesheet":i=UC(n.href);var a=t.querySelector(UL(i));if(a)return e.state.loading|=4,e.instance=a,t0(a),a;r=Cyt(n),(i=p1.get(i))&&zve(r,i),a=(t.ownerDocument||t).createElement("link"),t0(a);var o=a;return o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),F0(a,"link",r),e.state.loading|=4,dee(a,n.precedence,t),e.instance=a;case"script":return a=VC(n.src),(i=t.querySelector(FL(a)))?(e.instance=i,t0(i),i):(r=n,(i=p1.get(a))&&(r=ba({},n),jve(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),t0(i),F0(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ze(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,dee(r,n.precedence,t));return e.instance}function dee(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function zve(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function jve(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var pee=null;function W6t(t,e,n){if(pee===null){var r=new Map,i=pee=new Map;i.set(n,r)}else i=pee,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[IL]||a[Lc]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Y6t(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function rwn(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Iyt(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wL=null;function iwn(){}function awn(t,e,n){if(wL===null)throw Error(ze(475));var r=wL;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var i=UC(n.href),a=t.querySelector(UL(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=zee.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,t0(a);return}a=t.ownerDocument||t,n=Cyt(n),(i=p1.get(i))&&zve(n,i),a=a.createElement("link"),t0(a);var o=a;o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),F0(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=zee.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function own(){if(wL===null)throw Error(ze(475));var t=wL;return t.stylesheets&&t.count===0&&Jwe(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Jwe(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function zee(){if(this.count--,this.count===0){if(this.stylesheets)Jwe(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jee=null;function Jwe(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jee=new Map,e.forEach(swn,t),jee=null,zee.call(t))}function swn(t,e){if(!(e.state.loading&4)){var n=jee.get(t);if(n)var r=n.get(null);else{n=new Map,jee.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=zee.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var vL={$$typeof:Cy,Provider:null,Consumer:null,_currentValue:g9,_currentValue2:g9,_threadCount:0};function cwn(t,e,n,r,i,a,o,s){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I3e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I3e(0),this.hiddenUpdates=I3e(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Ryt(t,e,n,r,i,a,o,s,c,l,u,f){return t=new cwn(t,e,n,o,s,c,l,f),e=1,a===!0&&(e|=24),a=Uf(3,null,null,e),t.current=a,a.stateNode=t,e=yve(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},gve(a),t}function Oyt(t){return t?(t=yC,t):yC}function Nyt(t,e,n,r,i,a){i=Oyt(i),r.context===null?r.context=i:r.pendingContext=i,r=G8(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=V8(t,r,e),n!==null&&(jf(n,t,e),tL(n,t,e))}function J6t(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gve(t,e){J6t(t,e),(t=t.alternate)&&J6t(t,e)}function Pyt(t){if(t.tag===13){var e=zC(t,67108864);e!==null&&jf(e,t,67108864),Gve(t,67108864)}}var Gee=!0;function lwn(t,e,n,r){var i=Tn.T;Tn.T=null;var a=ci.p;try{ci.p=2,Vve(t,e,n,r)}finally{ci.p=a,Tn.T=i}}function uwn(t,e,n,r){var i=Tn.T;Tn.T=null;var a=ci.p;try{ci.p=8,Vve(t,e,n,r)}finally{ci.p=a,Tn.T=i}}function Vve(t,e,n,r){if(Gee){var i=Qwe(r);if(i===null)nwe(t,e,r,Vee,n),Q6t(t,r);else if(dwn(i,t,e,n,r))r.stopPropagation();else if(Q6t(t,r),e&4&&-1<fwn.indexOf(t)){for(;i!==null;){var a=HC(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=m9(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Hf(o);s.entanglements[1]|=c,o&=~c}j6(a),(xi&6)===0&&(Mee=F6()+500,LL(0,!1))}}break;case 13:s=zC(a,2),s!==null&&jf(s,a,2),tte(),Gve(a,2)}if(a=Qwe(r),a===null&&nwe(t,e,r,Vee,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else nwe(t,e,r,null,n)}}function Qwe(t){return t=ove(t),Kve(t)}var Vee=null;function Kve(t){if(Vee=null,t=uC(t),t!==null){var e=_L(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=r5t(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Vee=t,null}function kyt(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zgn()){case s5t:return 2;case c5t:return 8;case gee:case Xgn:return 32;case l5t:return 268435456;default:return 32}default:return 32}}var Zwe=!1,q8=null,W8=null,Y8=null,EL=new Map,xL=new Map,L8=[],fwn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q6t(t,e){switch(t){case"focusin":case"focusout":q8=null;break;case"dragenter":case"dragleave":W8=null;break;case"mouseover":case"mouseout":Y8=null;break;case"pointerover":case"pointerout":EL.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xL.delete(e.pointerId)}}function VD(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=HC(e),e!==null&&Pyt(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dwn(t,e,n,r,i){switch(e){case"focusin":return q8=VD(q8,t,e,n,r,i),!0;case"dragenter":return W8=VD(W8,t,e,n,r,i),!0;case"mouseover":return Y8=VD(Y8,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return EL.set(a,VD(EL.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xL.set(a,VD(xL.get(a)||null,t,e,n,r,i)),!0}return!1}function Myt(t){var e=uC(t.target);if(e!==null){var n=_L(e);if(n!==null){if(e=n.tag,e===13){if(e=r5t(n),e!==null){t.blockedOn=e,s8n(t.priority,function(){if(n.tag===13){var r=zf();r=nve(r);var i=zC(n,r);i!==null&&jf(i,n,r),Gve(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hee(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qwe(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mwe=r,n.target.dispatchEvent(r),mwe=null}else return e=HC(n),e!==null&&Pyt(e),t.blockedOn=n,!1;e.shift()}return!0}function Z6t(t,e,n){hee(t)&&n.delete(e)}function pwn(){Zwe=!1,q8!==null&&hee(q8)&&(q8=null),W8!==null&&hee(W8)&&(W8=null),Y8!==null&&hee(Y8)&&(Y8=null),EL.forEach(Z6t),xL.forEach(Z6t)}function eee(t,e){t.blockedOn===e&&(t.blockedOn=null,Zwe||(Zwe=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,pwn)))}var tee=null;function X6t(t){tee!==t&&(tee=t,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,function(){tee===t&&(tee=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Kve(r||n)===null)continue;break}var a=HC(n);a!==null&&(t.splice(e,3),e-=3,Nwe(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function AL(t){function e(c){return eee(c,t)}q8!==null&&eee(q8,t),W8!==null&&eee(W8,t),Y8!==null&&eee(Y8,t),EL.forEach(e),xL.forEach(e);for(var n=0;n<L8.length;n++){var r=L8[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<L8.length&&(n=L8[0],n.blockedOn===null);)Myt(n),n.blockedOn===null&&L8.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[_u]||null;if(typeof a=="function")o||X6t(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[_u]||null)s=o.formAction;else if(Kve(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),X6t(n)}}}function $ve(t){this._internalRoot=t}ate.prototype.render=$ve.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));var n=e.current,r=zf();Nyt(n,r,t,e,null,null)};ate.prototype.unmount=$ve.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nyt(t.current,2,null,t,null,null),tte(),e[FC]=null}};function ate(t){this._internalRoot=t}ate.prototype.unstable_scheduleHydration=function(t){if(t){var e=h5t();t={blockedOn:null,target:t,priority:e};for(var n=0;n<L8.length&&e!==0&&e<L8[n].priority;n++);L8.splice(n,0,t),n===0&&Myt(t)}};var e5t=t5t.version;if(e5t!=="19.1.1")throw Error(ze(527,e5t,"19.1.1"));ci.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=Kgn(e),t=t!==null?i5t(t):null,t=t===null?null:t.stateNode,t};var hwn={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Tn,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(KD=__REACT_DEVTOOLS_GLOBAL_HOOK__,!KD.isDisabled&&KD.supportsFiber))try{TL=KD.inject(hwn),Ff=KD}catch{}var KD;ote.createRoot=function(t,e){if(!n5t(t))throw Error(ze(299));var n=!1,r="",i=Rmt,a=Omt,o=Nmt,s=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(s=e.unstable_transitionCallbacks)),e=Ryt(t,1,!1,null,null,n,r,i,a,o,s,null),t[FC]=e.current,Hve(t),new $ve(e)};ote.hydrateRoot=function(t,e,n){if(!n5t(t))throw Error(ze(299));var r=!1,i="",a=Rmt,o=Omt,s=Nmt,c=null,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(l=n.formState)),e=Ryt(t,1,!0,e,n??null,r,i,a,o,s,c,l),e.context=Oyt(null),n=e.current,r=zf(),r=nve(r),i=G8(r),i.callback=null,V8(n,i,r),n=r,e.current.lanes=n,CL(e,n),j6(e),t[FC]=e.current,Hve(t),new ate(e)};ote.version="19.1.1"});var Uyt=le((y$r,Lyt)=>{"use strict";function Dyt(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dyt)}catch(t){console.error(t)}}Dyt(),Lyt.exports=Byt()});var bbt=le(dte=>{"use strict";var Wwn=Symbol.for("react.transitional.element"),Ywn=Symbol.for("react.fragment");function ybt(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:Wwn,type:t,key:r,ref:e!==void 0?e:null,props:n}}dte.Fragment=Ywn;dte.jsx=ybt;dte.jsxs=ybt});var Di=le((I$r,gbt)=>{"use strict";gbt.exports=bbt()});var xbt=le((k$r,Ebt)=>{Ebt.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}});var Zbt={};$t(Zbt,{default:()=>l4e,modal:()=>Jbt,passwordless:()=>Qbt});var Jbt,Qbt,l4e,u4e=B(()=>{Jbt={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue",allChains:"All Chains","connect-wallet.more-wallets":"More Wallets",connectYourWallet:"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.search-subtext":"Try search instead","external.search-text":"Don't see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you'd like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version",getWallet:"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!",resendCode:"Resend Code",resendTimer:" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},Qbt={"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","error-invalid-test-account":"Invalid test account","something-wrong-error":"Something went wrong"},l4e={modal:Jbt,passwordless:Qbt}});var r2t=le((SWr,Ste)=>{(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=r(i,n(o)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return e.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var o in i)t.call(i,o)&&i[o]&&(a=r(a,o));return a}function r(i,a){return a?i?i+" "+a:i+a:i}typeof Ste<"u"&&Ste.exports?(e.default=e,Ste.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var j2t=le((JL,nI)=>{var Ivn=200,x4e="__lodash_hash_undefined__",Mte=1,w2t=2,v2t=9007199254740991,Cte="[object Arguments]",m4e="[object Array]",Rvn="[object AsyncFunction]",E2t="[object Boolean]",x2t="[object Date]",A2t="[object Error]",_2t="[object Function]",Ovn="[object GeneratorFunction]",Ite="[object Map]",T2t="[object Number]",Nvn="[object Null]",tI="[object Object]",c2t="[object Promise]",Pvn="[object Proxy]",S2t="[object RegExp]",Rte="[object Set]",C2t="[object String]",kvn="[object Symbol]",Mvn="[object Undefined]",y4e="[object WeakMap]",I2t="[object ArrayBuffer]",Ote="[object DataView]",Bvn="[object Float32Array]",Dvn="[object Float64Array]",Lvn="[object Int8Array]",Uvn="[object Int16Array]",Fvn="[object Int32Array]",Hvn="[object Uint8Array]",zvn="[object Uint8ClampedArray]",jvn="[object Uint16Array]",Gvn="[object Uint32Array]",Vvn=/[\\^$.*+?()[\]{}|]/g,Kvn=/^\[object .+?Constructor\]$/,$vn=/^(?:0|[1-9]\d*)$/,ga={};ga[Bvn]=ga[Dvn]=ga[Lvn]=ga[Uvn]=ga[Fvn]=ga[Hvn]=ga[zvn]=ga[jvn]=ga[Gvn]=!0;ga[Cte]=ga[m4e]=ga[I2t]=ga[E2t]=ga[Ote]=ga[x2t]=ga[A2t]=ga[_2t]=ga[Ite]=ga[T2t]=ga[tI]=ga[S2t]=ga[Rte]=ga[C2t]=ga[y4e]=!1;var R2t=typeof global=="object"&&global&&global.Object===Object&&global,qvn=typeof self=="object"&&self&&self.Object===Object&&self,Vy=R2t||qvn||Function("return this")(),O2t=typeof JL=="object"&&JL&&!JL.nodeType&&JL,l2t=O2t&&typeof nI=="object"&&nI&&!nI.nodeType&&nI,N2t=l2t&&l2t.exports===O2t,d4e=N2t&&R2t.process,u2t=(function(){try{return d4e&&d4e.binding&&d4e.binding("util")}catch{}})(),f2t=u2t&&u2t.isTypedArray;function Wvn(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}function Yvn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Jvn(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Qvn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Zvn(t){return function(e){return t(e)}}function Xvn(t,e){return t.has(e)}function e4n(t,e){return t?.[e]}function t4n(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function n4n(t,e){return function(n){return t(e(n))}}function r4n(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var i4n=Array.prototype,a4n=Function.prototype,Bte=Object.prototype,p4e=Vy["__core-js_shared__"],P2t=a4n.toString,$6=Bte.hasOwnProperty,d2t=(function(){var t=/[^.]+$/.exec(p4e&&p4e.keys&&p4e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),k2t=Bte.toString,o4n=RegExp("^"+P2t.call($6).replace(Vvn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p2t=N2t?Vy.Buffer:void 0,Nte=Vy.Symbol,h2t=Vy.Uint8Array,M2t=Bte.propertyIsEnumerable,s4n=i4n.splice,U9=Nte?Nte.toStringTag:void 0,m2t=Object.getOwnPropertySymbols,c4n=p2t?p2t.isBuffer:void 0,l4n=n4n(Object.keys,Object),b4e=rI(Vy,"DataView"),QL=rI(Vy,"Map"),g4e=rI(Vy,"Promise"),w4e=rI(Vy,"Set"),v4e=rI(Vy,"WeakMap"),ZL=rI(Object,"create"),u4n=z9(b4e),f4n=z9(QL),d4n=z9(g4e),p4n=z9(w4e),h4n=z9(v4e),y2t=Nte?Nte.prototype:void 0,h4e=y2t?y2t.valueOf:void 0;function F9(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function m4n(){this.__data__=ZL?ZL(null):{},this.size=0}function y4n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function b4n(t){var e=this.__data__;if(ZL){var n=e[t];return n===x4e?void 0:n}return $6.call(e,t)?e[t]:void 0}function g4n(t){var e=this.__data__;return ZL?e[t]!==void 0:$6.call(e,t)}function w4n(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ZL&&e===void 0?x4e:e,this}F9.prototype.clear=m4n;F9.prototype.delete=y4n;F9.prototype.get=b4n;F9.prototype.has=g4n;F9.prototype.set=w4n;function Ky(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function v4n(){this.__data__=[],this.size=0}function E4n(t){var e=this.__data__,n=Dte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():s4n.call(e,n,1),--this.size,!0}function x4n(t){var e=this.__data__,n=Dte(e,t);return n<0?void 0:e[n][1]}function A4n(t){return Dte(this.__data__,t)>-1}function _4n(t,e){var n=this.__data__,r=Dte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}Ky.prototype.clear=v4n;Ky.prototype.delete=E4n;Ky.prototype.get=x4n;Ky.prototype.has=A4n;Ky.prototype.set=_4n;function H9(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function T4n(){this.size=0,this.__data__={hash:new F9,map:new(QL||Ky),string:new F9}}function S4n(t){var e=Lte(this,t).delete(t);return this.size-=e?1:0,e}function C4n(t){return Lte(this,t).get(t)}function I4n(t){return Lte(this,t).has(t)}function R4n(t,e){var n=Lte(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}H9.prototype.clear=T4n;H9.prototype.delete=S4n;H9.prototype.get=C4n;H9.prototype.has=I4n;H9.prototype.set=R4n;function Pte(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new H9;++e<n;)this.add(t[e])}function O4n(t){return this.__data__.set(t,x4e),this}function N4n(t){return this.__data__.has(t)}Pte.prototype.add=Pte.prototype.push=O4n;Pte.prototype.has=N4n;function o3(t){var e=this.__data__=new Ky(t);this.size=e.size}function P4n(){this.__data__=new Ky,this.size=0}function k4n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function M4n(t){return this.__data__.get(t)}function B4n(t){return this.__data__.has(t)}function D4n(t,e){var n=this.__data__;if(n instanceof Ky){var r=n.__data__;if(!QL||r.length<Ivn-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new H9(r)}return n.set(t,e),this.size=n.size,this}o3.prototype.clear=P4n;o3.prototype.delete=k4n;o3.prototype.get=M4n;o3.prototype.has=B4n;o3.prototype.set=D4n;function L4n(t,e){var n=kte(t),r=!n&&Z4n(t),i=!n&&!r&&E4e(t),a=!n&&!r&&!i&&z2t(t),o=n||r||i||a,s=o?Qvn(t.length,String):[],c=s.length;for(var l in t)(e||$6.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||q4n(l,c)))&&s.push(l);return s}function Dte(t,e){for(var n=t.length;n--;)if(L2t(t[n][0],e))return n;return-1}function U4n(t,e,n){var r=e(t);return kte(t)?r:Yvn(r,n(t))}function eU(t){return t==null?t===void 0?Mvn:Nvn:U9&&U9 in Object(t)?K4n(t):Q4n(t)}function b2t(t){return XL(t)&&eU(t)==Cte}function B2t(t,e,n,r,i){return t===e?!0:t==null||e==null||!XL(t)&&!XL(e)?t!==t&&e!==e:F4n(t,e,n,r,B2t,i)}function F4n(t,e,n,r,i,a){var o=kte(t),s=kte(e),c=o?m4e:a3(t),l=s?m4e:a3(e);c=c==Cte?tI:c,l=l==Cte?tI:l;var u=c==tI,f=l==tI,d=c==l;if(d&&E4e(t)){if(!E4e(e))return!1;o=!0,u=!1}if(d&&!u)return a||(a=new o3),o||z2t(t)?D2t(t,e,n,r,i,a):G4n(t,e,c,n,r,i,a);if(!(n&Mte)){var p=u&&$6.call(t,"__wrapped__"),h=f&&$6.call(e,"__wrapped__");if(p||h){var m=p?t.value():t,w=h?e.value():e;return a||(a=new o3),i(m,w,n,r,a)}}return d?(a||(a=new o3),V4n(t,e,n,r,i,a)):!1}function H4n(t){if(!H2t(t)||Y4n(t))return!1;var e=U2t(t)?o4n:Kvn;return e.test(z9(t))}function z4n(t){return XL(t)&&F2t(t.length)&&!!ga[eU(t)]}function j4n(t){if(!J4n(t))return l4n(t);var e=[];for(var n in Object(t))$6.call(t,n)&&n!="constructor"&&e.push(n);return e}function D2t(t,e,n,r,i,a){var o=n&Mte,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var u=-1,f=!0,d=n&w2t?new Pte:void 0;for(a.set(t,e),a.set(e,t);++u<s;){var p=t[u],h=e[u];if(r)var m=o?r(h,p,u,e,t,a):r(p,h,u,t,e,a);if(m!==void 0){if(m)continue;f=!1;break}if(d){if(!Jvn(e,function(w,g){if(!Xvn(d,g)&&(p===w||i(p,w,n,r,a)))return d.push(g)})){f=!1;break}}else if(!(p===h||i(p,h,n,r,a))){f=!1;break}}return a.delete(t),a.delete(e),f}function G4n(t,e,n,r,i,a,o){switch(n){case Ote:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I2t:return!(t.byteLength!=e.byteLength||!a(new h2t(t),new h2t(e)));case E2t:case x2t:case T2t:return L2t(+t,+e);case A2t:return t.name==e.name&&t.message==e.message;case S2t:case C2t:return t==e+"";case Ite:var s=t4n;case Rte:var c=r&Mte;if(s||(s=r4n),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;r|=w2t,o.set(t,e);var u=D2t(s(t),s(e),r,i,a,o);return o.delete(t),u;case kvn:if(h4e)return h4e.call(t)==h4e.call(e)}return!1}function V4n(t,e,n,r,i,a){var o=n&Mte,s=g2t(t),c=s.length,l=g2t(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var d=s[f];if(!(o?d in e:$6.call(e,d)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var h=!0;a.set(t,e),a.set(e,t);for(var m=o;++f<c;){d=s[f];var w=t[d],g=e[d];if(r)var x=o?r(g,w,d,e,t,a):r(w,g,d,t,e,a);if(!(x===void 0?w===g||i(w,g,n,r,a):x)){h=!1;break}m||(m=d=="constructor")}if(h&&!m){var C=t.constructor,P=e.constructor;C!=P&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(h=!1)}return a.delete(t),a.delete(e),h}function g2t(t){return U4n(t,t9n,$4n)}function Lte(t,e){var n=t.__data__;return W4n(e)?n[typeof e=="string"?"string":"hash"]:n.map}function rI(t,e){var n=e4n(t,e);return H4n(n)?n:void 0}function K4n(t){var e=$6.call(t,U9),n=t[U9];try{t[U9]=void 0;var r=!0}catch{}var i=k2t.call(t);return r&&(e?t[U9]=n:delete t[U9]),i}var $4n=m2t?function(t){return t==null?[]:(t=Object(t),Wvn(m2t(t),function(e){return M2t.call(t,e)}))}:n9n,a3=eU;(b4e&&a3(new b4e(new ArrayBuffer(1)))!=Ote||QL&&a3(new QL)!=Ite||g4e&&a3(g4e.resolve())!=c2t||w4e&&a3(new w4e)!=Rte||v4e&&a3(new v4e)!=y4e)&&(a3=function(t){var e=eU(t),n=e==tI?t.constructor:void 0,r=n?z9(n):"";if(r)switch(r){case u4n:return Ote;case f4n:return Ite;case d4n:return c2t;case p4n:return Rte;case h4n:return y4e}return e});function q4n(t,e){return e=e??v2t,!!e&&(typeof t=="number"||$vn.test(t))&&t>-1&&t%1==0&&t<e}function W4n(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Y4n(t){return!!d2t&&d2t in t}function J4n(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Bte;return t===n}function Q4n(t){return k2t.call(t)}function z9(t){if(t!=null){try{return P2t.call(t)}catch{}try{return t+""}catch{}}return""}function L2t(t,e){return t===e||t!==t&&e!==e}var Z4n=b2t((function(){return arguments})())?b2t:function(t){return XL(t)&&$6.call(t,"callee")&&!M2t.call(t,"callee")},kte=Array.isArray;function X4n(t){return t!=null&&F2t(t.length)&&!U2t(t)}var E4e=c4n||r9n;function e9n(t,e){return B2t(t,e)}function U2t(t){if(!H2t(t))return!1;var e=eU(t);return e==_2t||e==Ovn||e==Rvn||e==Pvn}function F2t(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=v2t}function H2t(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function XL(t){return t!=null&&typeof t=="object"}var z2t=f2t?Zvn(f2t):z4n;function t9n(t){return X4n(t)?L4n(t):j4n(t)}function n9n(){return[]}function r9n(){return!1}nI.exports=e9n});var $2t=le((V2t,K2t)=>{var G2t=(function(){var t=function(x,C){var P=236,D=17,F=x,H=n[C],O=null,M=0,N=null,v=[],I={},S=function(z,V){M=F*4+17,O=(function($){for(var W=new Array($),J=0;J<$;J+=1){W[J]=new Array($);for(var X=0;X<$;X+=1)W[J][X]=null}return W})(M),y(0,0),y(M-7,0),y(0,M-7),A(),_(),E(z,V),F>=7&&T(z),N==null&&(N=R(F,H,v)),k(N,V)},y=function(z,V){for(var $=-1;$<=7;$+=1)if(!(z+$<=-1||M<=z+$))for(var W=-1;W<=7;W+=1)V+W<=-1||M<=V+W||(0<=$&&$<=6&&(W==0||W==6)||0<=W&&W<=6&&($==0||$==6)||2<=$&&$<=4&&2<=W&&W<=4?O[z+$][V+W]=!0:O[z+$][V+W]=!1)},b=function(){for(var z=0,V=0,$=0;$<8;$+=1){S(!0,$);var W=i.getLostPoint(I);($==0||z>W)&&(z=W,V=$)}return V},_=function(){for(var z=8;z<M-8;z+=1)O[z][6]==null&&(O[z][6]=z%2==0);for(var V=8;V<M-8;V+=1)O[6][V]==null&&(O[6][V]=V%2==0)},A=function(){for(var z=i.getPatternPosition(F),V=0;V<z.length;V+=1)for(var $=0;$<z.length;$+=1){var W=z[V],J=z[$];if(O[W][J]==null)for(var X=-2;X<=2;X+=1)for(var te=-2;te<=2;te+=1)X==-2||X==2||te==-2||te==2||X==0&&te==0?O[W+X][J+te]=!0:O[W+X][J+te]=!1}},T=function(z){for(var V=i.getBCHTypeNumber(F),$=0;$<18;$+=1){var W=!z&&(V>>$&1)==1;O[Math.floor($/3)][$%3+M-8-3]=W}for(var $=0;$<18;$+=1){var W=!z&&(V>>$&1)==1;O[$%3+M-8-3][Math.floor($/3)]=W}},E=function(z,V){for(var $=H<<3|V,W=i.getBCHTypeInfo($),J=0;J<15;J+=1){var X=!z&&(W>>J&1)==1;J<6?O[J][8]=X:J<8?O[J+1][8]=X:O[M-15+J][8]=X}for(var J=0;J<15;J+=1){var X=!z&&(W>>J&1)==1;J<8?O[8][M-J-1]=X:J<9?O[8][15-J-1+1]=X:O[8][15-J-1]=X}O[M-8][8]=!z},k=function(z,V){for(var $=-1,W=M-1,J=7,X=0,te=i.getMaskFunction(V),ne=M-1;ne>0;ne-=2)for(ne==6&&(ne-=1);;){for(var ue=0;ue<2;ue+=1)if(O[W][ne-ue]==null){var ce=!1;X<z.length&&(ce=(z[X]>>>J&1)==1);var oe=te(W,ne-ue);oe&&(ce=!ce),O[W][ne-ue]=ce,J-=1,J==-1&&(X+=1,J=7)}if(W+=$,W<0||M<=W){W-=$,$=-$;break}}},L=function(z,V){for(var $=0,W=0,J=0,X=new Array(V.length),te=new Array(V.length),ne=0;ne<V.length;ne+=1){var ue=V[ne].dataCount,ce=V[ne].totalCount-ue;W=Math.max(W,ue),J=Math.max(J,ce),X[ne]=new Array(ue);for(var oe=0;oe<X[ne].length;oe+=1)X[ne][oe]=255&z.getBuffer()[oe+$];$+=ue;var xe=i.getErrorCorrectPolynomial(ce),ye=o(X[ne],xe.getLength()-1),Se=ye.mod(xe);te[ne]=new Array(xe.getLength()-1);for(var oe=0;oe<te[ne].length;oe+=1){var _t=oe+Se.getLength()-te[ne].length;te[ne][oe]=_t>=0?Se.getAt(_t):0}}for(var Xe=0,oe=0;oe<V.length;oe+=1)Xe+=V[oe].totalCount;for(var qe=new Array(Xe),Lt=0,oe=0;oe<W;oe+=1)for(var ne=0;ne<V.length;ne+=1)oe<X[ne].length&&(qe[Lt]=X[ne][oe],Lt+=1);for(var oe=0;oe<J;oe+=1)for(var ne=0;ne<V.length;ne+=1)oe<te[ne].length&&(qe[Lt]=te[ne][oe],Lt+=1);return qe},R=function(z,V,$){for(var W=s.getRSBlocks(z,V),J=c(),X=0;X<$.length;X+=1){var te=$[X];J.put(te.getMode(),4),J.put(te.getLength(),i.getLengthInBits(te.getMode(),z)),te.write(J)}for(var ne=0,X=0;X<W.length;X+=1)ne+=W[X].dataCount;if(J.getLengthInBits()>ne*8)throw"code length overflow. ("+J.getLengthInBits()+">"+ne*8+")";for(J.getLengthInBits()+4<=ne*8&&J.put(0,4);J.getLengthInBits()%8!=0;)J.putBit(!1);for(;!(J.getLengthInBits()>=ne*8||(J.put(P,8),J.getLengthInBits()>=ne*8));)J.put(D,8);return L(J,W)};I.addData=function(z,V){V=V||"Byte";var $=null;switch(V){case"Numeric":$=l(z);break;case"Alphanumeric":$=u(z);break;case"Byte":$=f(z);break;case"Kanji":$=d(z);break;default:throw"mode:"+V}v.push($),N=null},I.isDark=function(z,V){if(z<0||M<=z||V<0||M<=V)throw z+","+V;return O[z][V]},I.getModuleCount=function(){return M},I.make=function(){if(F<1){for(var z=1;z<40;z++){for(var V=s.getRSBlocks(z,H),$=c(),W=0;W<v.length;W++){var J=v[W];$.put(J.getMode(),4),$.put(J.getLength(),i.getLengthInBits(J.getMode(),z)),J.write($)}for(var X=0,W=0;W<V.length;W++)X+=V[W].dataCount;if($.getLengthInBits()<=X*8)break}F=z}S(!1,b())},I.createTableTag=function(z,V){z=z||2,V=typeof V>"u"?z*4:V;var $="";$+='<table style="',$+=" border-width: 0px; border-style: none;",$+=" border-collapse: collapse;",$+=" padding: 0px; margin: "+V+"px;",$+='">',$+="<tbody>";for(var W=0;W<I.getModuleCount();W+=1){$+="<tr>";for(var J=0;J<I.getModuleCount();J+=1)$+='<td style="',$+=" border-width: 0px; border-style: none;",$+=" border-collapse: collapse;",$+=" padding: 0px; margin: 0px;",$+=" width: "+z+"px;",$+=" height: "+z+"px;",$+=" background-color: ",$+=I.isDark(W,J)?"#000000":"#ffffff",$+=";",$+='"/>';$+="</tr>"}return $+="</tbody>",$+="</table>",$},I.createSvgTag=function(z,V,$,W){var J={};typeof arguments[0]=="object"&&(J=arguments[0],z=J.cellSize,V=J.margin,$=J.alt,W=J.title),z=z||2,V=typeof V>"u"?z*4:V,$=typeof $=="string"?{text:$}:$||{},$.text=$.text||null,$.id=$.text?$.id||"qrcode-description":null,W=typeof W=="string"?{text:W}:W||{},W.text=W.text||null,W.id=W.text?W.id||"qrcode-title":null;var X=I.getModuleCount()*z+V*2,te,ne,ue,ce,oe="",xe;for(xe="l"+z+",0 0,"+z+" -"+z+",0 0,-"+z+"z ",oe+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',oe+=J.scalable?"":' width="'+X+'px" height="'+X+'px"',oe+=' viewBox="0 0 '+X+" "+X+'" ',oe+=' preserveAspectRatio="xMinYMin meet"',oe+=W.text||$.text?' role="img" aria-labelledby="'+U([W.id,$.id].join(" ").trim())+'"':"",oe+=">",oe+=W.text?'<title id="'+U(W.id)+'">'+U(W.text)+"</title>":"",oe+=$.text?'<description id="'+U($.id)+'">'+U($.text)+"</description>":"",oe+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',oe+='<path d="',ue=0;ue<I.getModuleCount();ue+=1)for(ce=ue*z+V,te=0;te<I.getModuleCount();te+=1)I.isDark(ue,te)&&(ne=te*z+V,oe+="M"+ne+","+ce+xe);return oe+='" stroke="transparent" fill="black"/>',oe+="</svg>",oe},I.createDataURL=function(z,V){z=z||2,V=typeof V>"u"?z*4:V;var $=I.getModuleCount()*z+V*2,W=V,J=$-V;return g($,$,function(X,te){if(W<=X&&X<J&&W<=te&&te<J){var ne=Math.floor((X-W)/z),ue=Math.floor((te-W)/z);return I.isDark(ue,ne)?0:1}else return 1})},I.createImgTag=function(z,V,$){z=z||2,V=typeof V>"u"?z*4:V;var W=I.getModuleCount()*z+V*2,J="";return J+="<img",J+=' src="',J+=I.createDataURL(z,V),J+='"',J+=' width="',J+=W,J+='"',J+=' height="',J+=W,J+='"',$&&(J+=' alt="',J+=U($),J+='"'),J+="/>",J};var U=function(z){for(var V="",$=0;$<z.length;$+=1){var W=z.charAt($);switch(W){case"<":V+="&lt;";break;case">":V+="&gt;";break;case"&":V+="&amp;";break;case'"':V+="&quot;";break;default:V+=W;break}}return V},j=function(z){var V=1;z=typeof z>"u"?V*2:z;var $=I.getModuleCount()*V+z*2,W=z,J=$-z,X,te,ne,ue,ce,oe={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},xe={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},ye="";for(X=0;X<$;X+=2){for(ne=Math.floor((X-W)/V),ue=Math.floor((X+1-W)/V),te=0;te<$;te+=1)ce="\u2588",W<=te&&te<J&&W<=X&&X<J&&I.isDark(ne,Math.floor((te-W)/V))&&(ce=" "),W<=te&&te<J&&W<=X+1&&X+1<J&&I.isDark(ue,Math.floor((te-W)/V))?ce+=" ":ce+="\u2588",ye+=z<1&&X+1>=J?xe[ce]:oe[ce];ye+=`
`}return $%2&&z>0?ye.substring(0,ye.length-$-1)+Array($+1).join("\u2580"):ye.substring(0,ye.length-1)};return I.createASCII=function(z,V){if(z=z||1,z<2)return j(V);z-=1,V=typeof V>"u"?z*2:V;var $=I.getModuleCount()*z+V*2,W=V,J=$-V,X,te,ne,ue,ce=Array(z+1).join("\u2588\u2588"),oe=Array(z+1).join("  "),xe="",ye="";for(X=0;X<$;X+=1){for(ne=Math.floor((X-W)/z),ye="",te=0;te<$;te+=1)ue=1,W<=te&&te<J&&W<=X&&X<J&&I.isDark(ne,Math.floor((te-W)/z))&&(ue=0),ye+=ue?ce:oe;for(ne=0;ne<z;ne+=1)xe+=ye+`
`}return xe.substring(0,xe.length-1)},I.renderTo2dContext=function(z,V){V=V||2;for(var $=I.getModuleCount(),W=0;W<$;W++)for(var J=0;J<$;J++)z.fillStyle=I.isDark(W,J)?"black":"white",z.fillRect(W*V,J*V,V,V)},I};t.stringToBytesFuncs={default:function(x){for(var C=[],P=0;P<x.length;P+=1){var D=x.charCodeAt(P);C.push(D&255)}return C}},t.stringToBytes=t.stringToBytesFuncs.default,t.createStringToBytes=function(x,C){var P=(function(){for(var F=m(x),H=function(){var _=F.read();if(_==-1)throw"eof";return _},O=0,M={};;){var N=F.read();if(N==-1)break;var v=H(),I=H(),S=H(),y=String.fromCharCode(N<<8|v),b=I<<8|S;M[y]=b,O+=1}if(O!=C)throw O+" != "+C;return M})(),D=63;return function(F){for(var H=[],O=0;O<F.length;O+=1){var M=F.charCodeAt(O);if(M<128)H.push(M);else{var N=P[F.charAt(O)];typeof N=="number"?(N&255)==N?H.push(N):(H.push(N>>>8),H.push(N&255)):H.push(D)}}return H}};var e={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i=(function(){var x=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],C=1335,P=7973,D=21522,F={},H=function(O){for(var M=0;O!=0;)M+=1,O>>>=1;return M};return F.getBCHTypeInfo=function(O){for(var M=O<<10;H(M)-H(C)>=0;)M^=C<<H(M)-H(C);return(O<<10|M)^D},F.getBCHTypeNumber=function(O){for(var M=O<<12;H(M)-H(P)>=0;)M^=P<<H(M)-H(P);return O<<12|M},F.getPatternPosition=function(O){return x[O-1]},F.getMaskFunction=function(O){switch(O){case r.PATTERN000:return function(M,N){return(M+N)%2==0};case r.PATTERN001:return function(M,N){return M%2==0};case r.PATTERN010:return function(M,N){return N%3==0};case r.PATTERN011:return function(M,N){return(M+N)%3==0};case r.PATTERN100:return function(M,N){return(Math.floor(M/2)+Math.floor(N/3))%2==0};case r.PATTERN101:return function(M,N){return M*N%2+M*N%3==0};case r.PATTERN110:return function(M,N){return(M*N%2+M*N%3)%2==0};case r.PATTERN111:return function(M,N){return(M*N%3+(M+N)%2)%2==0};default:throw"bad maskPattern:"+O}},F.getErrorCorrectPolynomial=function(O){for(var M=o([1],0),N=0;N<O;N+=1)M=M.multiply(o([1,a.gexp(N)],0));return M},F.getLengthInBits=function(O,M){if(1<=M&&M<10)switch(O){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw"mode:"+O}else if(M<27)switch(O){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw"mode:"+O}else if(M<41)switch(O){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw"mode:"+O}else throw"type:"+M},F.getLostPoint=function(O){for(var M=O.getModuleCount(),N=0,v=0;v<M;v+=1)for(var I=0;I<M;I+=1){for(var S=0,y=O.isDark(v,I),b=-1;b<=1;b+=1)if(!(v+b<0||M<=v+b))for(var _=-1;_<=1;_+=1)I+_<0||M<=I+_||b==0&&_==0||y==O.isDark(v+b,I+_)&&(S+=1);S>5&&(N+=3+S-5)}for(var v=0;v<M-1;v+=1)for(var I=0;I<M-1;I+=1){var A=0;O.isDark(v,I)&&(A+=1),O.isDark(v+1,I)&&(A+=1),O.isDark(v,I+1)&&(A+=1),O.isDark(v+1,I+1)&&(A+=1),(A==0||A==4)&&(N+=3)}for(var v=0;v<M;v+=1)for(var I=0;I<M-6;I+=1)O.isDark(v,I)&&!O.isDark(v,I+1)&&O.isDark(v,I+2)&&O.isDark(v,I+3)&&O.isDark(v,I+4)&&!O.isDark(v,I+5)&&O.isDark(v,I+6)&&(N+=40);for(var I=0;I<M;I+=1)for(var v=0;v<M-6;v+=1)O.isDark(v,I)&&!O.isDark(v+1,I)&&O.isDark(v+2,I)&&O.isDark(v+3,I)&&O.isDark(v+4,I)&&!O.isDark(v+5,I)&&O.isDark(v+6,I)&&(N+=40);for(var T=0,I=0;I<M;I+=1)for(var v=0;v<M;v+=1)O.isDark(v,I)&&(T+=1);var E=Math.abs(100*T/M/M-50)/5;return N+=E*10,N},F})(),a=(function(){for(var x=new Array(256),C=new Array(256),P=0;P<8;P+=1)x[P]=1<<P;for(var P=8;P<256;P+=1)x[P]=x[P-4]^x[P-5]^x[P-6]^x[P-8];for(var P=0;P<255;P+=1)C[x[P]]=P;var D={};return D.glog=function(F){if(F<1)throw"glog("+F+")";return C[F]},D.gexp=function(F){for(;F<0;)F+=255;for(;F>=256;)F-=255;return x[F]},D})();function o(x,C){if(typeof x.length>"u")throw x.length+"/"+C;var P=(function(){for(var F=0;F<x.length&&x[F]==0;)F+=1;for(var H=new Array(x.length-F+C),O=0;O<x.length-F;O+=1)H[O]=x[O+F];return H})(),D={};return D.getAt=function(F){return P[F]},D.getLength=function(){return P.length},D.multiply=function(F){for(var H=new Array(D.getLength()+F.getLength()-1),O=0;O<D.getLength();O+=1)for(var M=0;M<F.getLength();M+=1)H[O+M]^=a.gexp(a.glog(D.getAt(O))+a.glog(F.getAt(M)));return o(H,0)},D.mod=function(F){if(D.getLength()-F.getLength()<0)return D;for(var H=a.glog(D.getAt(0))-a.glog(F.getAt(0)),O=new Array(D.getLength()),M=0;M<D.getLength();M+=1)O[M]=D.getAt(M);for(var M=0;M<F.getLength();M+=1)O[M]^=a.gexp(a.glog(F.getAt(M))+H);return o(O,0).mod(F)},D}var s=(function(){var x=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],C=function(F,H){var O={};return O.totalCount=F,O.dataCount=H,O},P={},D=function(F,H){switch(H){case n.L:return x[(F-1)*4+0];case n.M:return x[(F-1)*4+1];case n.Q:return x[(F-1)*4+2];case n.H:return x[(F-1)*4+3];default:return}};return P.getRSBlocks=function(F,H){var O=D(F,H);if(typeof O>"u")throw"bad rs block @ typeNumber:"+F+"/errorCorrectionLevel:"+H;for(var M=O.length/3,N=[],v=0;v<M;v+=1)for(var I=O[v*3+0],S=O[v*3+1],y=O[v*3+2],b=0;b<I;b+=1)N.push(C(S,y));return N},P})(),c=function(){var x=[],C=0,P={};return P.getBuffer=function(){return x},P.getAt=function(D){var F=Math.floor(D/8);return(x[F]>>>7-D%8&1)==1},P.put=function(D,F){for(var H=0;H<F;H+=1)P.putBit((D>>>F-H-1&1)==1)},P.getLengthInBits=function(){return C},P.putBit=function(D){var F=Math.floor(C/8);x.length<=F&&x.push(0),D&&(x[F]|=128>>>C%8),C+=1},P},l=function(x){var C=e.MODE_NUMBER,P=x,D={};D.getMode=function(){return C},D.getLength=function(O){return P.length},D.write=function(O){for(var M=P,N=0;N+2<M.length;)O.put(F(M.substring(N,N+3)),10),N+=3;N<M.length&&(M.length-N==1?O.put(F(M.substring(N,N+1)),4):M.length-N==2&&O.put(F(M.substring(N,N+2)),7))};var F=function(O){for(var M=0,N=0;N<O.length;N+=1)M=M*10+H(O.charAt(N));return M},H=function(O){if("0"<=O&&O<="9")return O.charCodeAt(0)-48;throw"illegal char :"+O};return D},u=function(x){var C=e.MODE_ALPHA_NUM,P=x,D={};D.getMode=function(){return C},D.getLength=function(H){return P.length},D.write=function(H){for(var O=P,M=0;M+1<O.length;)H.put(F(O.charAt(M))*45+F(O.charAt(M+1)),11),M+=2;M<O.length&&H.put(F(O.charAt(M)),6)};var F=function(H){if("0"<=H&&H<="9")return H.charCodeAt(0)-48;if("A"<=H&&H<="Z")return H.charCodeAt(0)-65+10;switch(H){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+H}};return D},f=function(x){var C=e.MODE_8BIT_BYTE,P=x,D=t.stringToBytes(x),F={};return F.getMode=function(){return C},F.getLength=function(H){return D.length},F.write=function(H){for(var O=0;O<D.length;O+=1)H.put(D[O],8)},F},d=function(x){var C=e.MODE_KANJI,P=x,D=t.stringToBytesFuncs.SJIS;if(!D)throw"sjis not supported.";(function(O,M){var N=D(O);if(N.length!=2||(N[0]<<8|N[1])!=M)throw"sjis not supported."})("\u53CB",38726);var F=D(x),H={};return H.getMode=function(){return C},H.getLength=function(O){return~~(F.length/2)},H.write=function(O){for(var M=F,N=0;N+1<M.length;){var v=(255&M[N])<<8|255&M[N+1];if(33088<=v&&v<=40956)v-=33088;else if(57408<=v&&v<=60351)v-=49472;else throw"illegal char at "+(N+1)+"/"+v;v=(v>>>8&255)*192+(v&255),O.put(v,13),N+=2}if(N<M.length)throw"illegal char at "+(N+1)},H},p=function(){var x=[],C={};return C.writeByte=function(P){x.push(P&255)},C.writeShort=function(P){C.writeByte(P),C.writeByte(P>>>8)},C.writeBytes=function(P,D,F){D=D||0,F=F||P.length;for(var H=0;H<F;H+=1)C.writeByte(P[H+D])},C.writeString=function(P){for(var D=0;D<P.length;D+=1)C.writeByte(P.charCodeAt(D))},C.toByteArray=function(){return x},C.toString=function(){var P="";P+="[";for(var D=0;D<x.length;D+=1)D>0&&(P+=","),P+=x[D];return P+="]",P},C},h=function(){var x=0,C=0,P=0,D="",F={},H=function(M){D+=String.fromCharCode(O(M&63))},O=function(M){if(!(M<0)){if(M<26)return 65+M;if(M<52)return 97+(M-26);if(M<62)return 48+(M-52);if(M==62)return 43;if(M==63)return 47}throw"n:"+M};return F.writeByte=function(M){for(x=x<<8|M&255,C+=8,P+=1;C>=6;)H(x>>>C-6),C-=6},F.flush=function(){if(C>0&&(H(x<<6-C),x=0,C=0),P%3!=0)for(var M=3-P%3,N=0;N<M;N+=1)D+="="},F.toString=function(){return D},F},m=function(x){var C=x,P=0,D=0,F=0,H={};H.read=function(){for(;F<8;){if(P>=C.length){if(F==0)return-1;throw"unexpected end of file./"+F}var M=C.charAt(P);if(P+=1,M=="=")return F=0,-1;if(M.match(/^\s$/))continue;D=D<<6|O(M.charCodeAt(0)),F+=6}var N=D>>>F-8&255;return F-=8,N};var O=function(M){if(65<=M&&M<=90)return M-65;if(97<=M&&M<=122)return M-97+26;if(48<=M&&M<=57)return M-48+52;if(M==43)return 62;if(M==47)return 63;throw"c:"+M};return H},w=function(x,C){var P=x,D=C,F=new Array(x*C),H={};H.setPixel=function(v,I,S){F[I*P+v]=S},H.write=function(v){v.writeString("GIF87a"),v.writeShort(P),v.writeShort(D),v.writeByte(128),v.writeByte(0),v.writeByte(0),v.writeByte(0),v.writeByte(0),v.writeByte(0),v.writeByte(255),v.writeByte(255),v.writeByte(255),v.writeString(","),v.writeShort(0),v.writeShort(0),v.writeShort(P),v.writeShort(D),v.writeByte(0);var I=2,S=M(I);v.writeByte(I);for(var y=0;S.length-y>255;)v.writeByte(255),v.writeBytes(S,y,255),y+=255;v.writeByte(S.length-y),v.writeBytes(S,y,S.length-y),v.writeByte(0),v.writeString(";")};var O=function(v){var I=v,S=0,y=0,b={};return b.write=function(_,A){if(_>>>A)throw"length over";for(;S+A>=8;)I.writeByte(255&(_<<S|y)),A-=8-S,_>>>=8-S,y=0,S=0;y=_<<S|y,S=S+A},b.flush=function(){S>0&&I.writeByte(y)},b},M=function(v){for(var I=1<<v,S=(1<<v)+1,y=v+1,b=N(),_=0;_<I;_+=1)b.add(String.fromCharCode(_));b.add(String.fromCharCode(I)),b.add(String.fromCharCode(S));var A=p(),T=O(A);T.write(I,y);var E=0,k=String.fromCharCode(F[E]);for(E+=1;E<F.length;){var L=String.fromCharCode(F[E]);E+=1,b.contains(k+L)?k=k+L:(T.write(b.indexOf(k),y),b.size()<4095&&(b.size()==1<<y&&(y+=1),b.add(k+L)),k=L)}return T.write(b.indexOf(k),y),T.write(S,y),T.flush(),A.toByteArray()},N=function(){var v={},I=0,S={};return S.add=function(y){if(S.contains(y))throw"dup key:"+y;v[y]=I,I+=1},S.size=function(){return I},S.indexOf=function(y){return v[y]},S.contains=function(y){return typeof v[y]<"u"},S};return H},g=function(x,C,P){for(var D=w(x,C),F=0;F<C;F+=1)for(var H=0;H<x;H+=1)D.setPixel(H,F,P(H,F));var O=p();D.write(O);for(var M=h(),N=O.toByteArray(),v=0;v<N.length;v+=1)M.writeByte(N[v]);return M.flush(),"data:image/gif;base64,"+M};return t})();(function(){G2t.stringToBytesFuncs["UTF-8"]=function(t){function e(n){for(var r=[],i=0;i<n.length;i++){var a=n.charCodeAt(i);a<128?r.push(a):a<2048?r.push(192|a>>6,128|a&63):a<55296||a>=57344?r.push(224|a>>12,128|a>>6&63,128|a&63):(i++,a=65536+((a&1023)<<10|n.charCodeAt(i)&1023),r.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63))}return r}return e(t)}})();(function(t){typeof define=="function"&&define.amd?define([],t):typeof V2t=="object"&&(K2t.exports=t())})(function(){return G2t})});var q2t=le(s3=>{"use strict";var i9n=s3&&s3.__extends||(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),_4e=s3&&s3.__assign||function(){return _4e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_4e.apply(this,arguments)};Object.defineProperty(s3,"__esModule",{value:!0});s3.QRCode=void 0;var a9n=j2t(),o9n=$2t(),A4e=Br(),s9n=(function(t){i9n(e,t);function e(n){var r=t.call(this,n)||this;return r.canvasRef=A4e.createRef(),r}return e.prototype.download=function(n,r){if(this.canvasRef.current){var i=void 0;switch(n){case"jpg":i="image/jpeg";break;case"webp":i="image/webp";break;case"png":default:i="image/png";break}var a=this.canvasRef.current.toDataURL(i,1),o=document.createElement("a");o.download=r??"react-qrcode-logo",o.href=a,o.click()}},e.prototype.utf16to8=function(n){var r="",i,a,o=n.length;for(i=0;i<o;i++)a=n.charCodeAt(i),a>=1&&a<=127?r+=n.charAt(i):a>2047?(r+=String.fromCharCode(224|a>>12&15),r+=String.fromCharCode(128|a>>6&63),r+=String.fromCharCode(128|a>>0&63)):(r+=String.fromCharCode(192|a>>6&31),r+=String.fromCharCode(128|a>>0&63));return r},e.prototype.drawRoundedSquare=function(n,r,i,a,o,s,c,l){l.lineWidth=n,l.fillStyle=o,l.strokeStyle=o,i+=n/2,r+=n/2,a-=n,Array.isArray(s)||(s=[s,s,s,s]),s=s.map(function(h){return h=Math.min(h,a/2),h<0?0:h});var u=s[0]||0,f=s[1]||0,d=s[2]||0,p=s[3]||0;l.beginPath(),l.moveTo(r+u,i),l.lineTo(r+a-f,i),f&&l.quadraticCurveTo(r+a,i,r+a,i+f),l.lineTo(r+a,i+a-d),d&&l.quadraticCurveTo(r+a,i+a,r+a-d,i+a),l.lineTo(r+p,i+a),p&&l.quadraticCurveTo(r,i+a,r,i+a-p),l.lineTo(r,i+u),u&&l.quadraticCurveTo(r,i,r+u,i),l.closePath(),l.stroke(),c&&l.fill()},e.prototype.drawPositioningPattern=function(n,r,i,a,o,s,c){c===void 0&&(c=[0,0,0,0]);var l=Math.ceil(r),u,f;typeof c!="number"&&!Array.isArray(c)?(u=c.outer||0,f=c.inner||0):(u=c,f=u);var d,p;typeof s!="string"?(d=s.outer,p=s.inner):(d=s,p=s);var h=a*r+i,m=o*r+i,w=r*7;this.drawRoundedSquare(l,m,h,w,d,u,!1,n),w=r*3,h+=r*2,m+=r*2,this.drawRoundedSquare(l,m,h,w,p,f,!0,n)},e.prototype.isInPositioninZone=function(n,r,i){return i.some(function(a){return r>=a.row&&r<=a.row+7&&n>=a.col&&n<=a.col+7})},e.prototype.transformPixelLengthIntoNumberOfCells=function(n,r){return n/r},e.prototype.isCoordinateInImage=function(n,r,i,a,o,s,c,l){if(l){var u=2,f=this.transformPixelLengthIntoNumberOfCells(o,c),d=this.transformPixelLengthIntoNumberOfCells(s,c),p=this.transformPixelLengthIntoNumberOfCells(i,c)-1,h=this.transformPixelLengthIntoNumberOfCells(a,c)-1;return r>=f-u&&r<=f+p+u&&n>=d-u&&n<=d+h+u}else return!1},e.prototype.shouldComponentUpdate=function(n){return!a9n(this.props,n)},e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.update=function(){var n,r=this.props,i=r.value,a=r.ecLevel,o=r.enableCORS,s=r.bgColor,c=r.fgColor,l=r.logoImage,u=r.logoOpacity,f=r.logoOnLoad,d=r.removeQrCodeBehindLogo,p=r.qrStyle,h=r.eyeRadius,m=r.eyeColor,w=r.logoPaddingStyle,g=+this.props.size,x=+this.props.quietZone,C=this.props.logoWidth?+this.props.logoWidth:0,P=this.props.logoHeight?+this.props.logoHeight:0,D=this.props.logoPadding?+this.props.logoPadding:0,F=o9n(0,a);F.addData(this.utf16to8(i)),F.make();var H=(n=this.canvasRef)===null||n===void 0?void 0:n.current,O=H.getContext("2d"),M=g+2*x,N=F.getModuleCount(),v=g/N,I=window.devicePixelRatio||1;H.height=H.width=M*I,O.scale(I,I),O.fillStyle=s,O.fillRect(0,0,M,M);var S=x,y=[{row:0,col:0},{row:0,col:N-7},{row:N-7,col:0}];if(O.strokeStyle=c,p==="dots"){O.fillStyle=c;for(var b=v/2,_=0;_<N;_++)for(var A=0;A<N;A++)F.isDark(_,A)&&!this.isInPositioninZone(_,A,y)&&(O.beginPath(),O.arc(Math.round(A*v)+b+S,Math.round(_*v)+b+S,b/100*75,0,2*Math.PI,!1),O.closePath(),O.fill())}else if(p==="fluid"){for(var b=Math.ceil(v/2),_=0;_<N;_++)for(var A=0;A<N;A++)if(F.isDark(_,A)&&!this.isInPositioninZone(_,A,y)){var T=[!1,!1,!1,!1];_>0&&!F.isDark(_-1,A)&&A>0&&!F.isDark(_,A-1)&&(T[0]=!0),_>0&&!F.isDark(_-1,A)&&A<N-1&&!F.isDark(_,A+1)&&(T[1]=!0),_<N-1&&!F.isDark(_+1,A)&&A<N-1&&!F.isDark(_,A+1)&&(T[2]=!0),_<N-1&&!F.isDark(_+1,A)&&A>0&&!F.isDark(_,A-1)&&(T[3]=!0);var E=Math.ceil((A+1)*v)-Math.floor(A*v),k=Math.ceil((_+1)*v)-Math.floor(_*v);O.fillStyle=c,O.beginPath(),O.arc(Math.round(A*v)+b+S,Math.round(_*v)+b+S,b,0,2*Math.PI,!1),O.closePath(),O.fill(),T[0]||O.fillRect(Math.round(A*v)+S,Math.round(_*v)+S,E/2,k/2),T[1]||O.fillRect(Math.round(A*v)+S+Math.floor(E/2),Math.round(_*v)+S,E/2,k/2),T[2]||O.fillRect(Math.round(A*v)+S+Math.floor(E/2),Math.round(_*v)+S+Math.floor(k/2),E/2,k/2),T[3]||O.fillRect(Math.round(A*v)+S,Math.round(_*v)+S+Math.floor(k/2),E/2,k/2)}}else for(var _=0;_<N;_++)for(var A=0;A<N;A++)if(F.isDark(_,A)&&!this.isInPositioninZone(_,A,y)){O.fillStyle=c;var E=Math.ceil((A+1)*v)-Math.floor(A*v),k=Math.ceil((_+1)*v)-Math.floor(_*v);O.fillRect(Math.round(A*v)+S,Math.round(_*v)+S,E,k)}for(var L=0;L<3;L++){var R=y[L],_=R.row,A=R.col,U=h,j=void 0;Array.isArray(U)&&(U=U[L]),typeof U=="number"&&(U=[U,U,U,U]),m?Array.isArray(m)?j=m[L]:j=m:j=c,this.drawPositioningPattern(O,v,S,_,A,j,U)}if(l){var z=new Image;o&&(z.crossOrigin="Anonymous"),z.onload=function(V){O.save();var $=C||g*.2,W=P||$,J=(g-$)/2,X=(g-W)/2;if(d||D){O.beginPath(),O.strokeStyle=s,O.fillStyle=s;var te=$+2*D,ne=W+2*D,ue=J+S-D,ce=X+S-D;if(w==="circle"){var oe=ue+te/2,xe=ce+ne/2;O.ellipse(oe,xe,te/2,ne/2,0,0,2*Math.PI),O.stroke(),O.fill()}else O.fillRect(ue,ce,te,ne)}O.globalAlpha=u,O.drawImage(z,J+S,X+S,$,W),O.restore(),f&&f(V)},z.src=l}},e.prototype.render=function(){var n,r=+this.props.size+2*+this.props.quietZone;return A4e.createElement("canvas",{id:(n=this.props.id)!==null&&n!==void 0?n:"react-qrcode-logo",height:r,width:r,style:_4e({height:r+"px",width:r+"px"},this.props.style),ref:this.canvasRef})},e.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},e})(A4e.Component);s3.QRCode=s9n});var Rgt={};$t(Rgt,{default:()=>q9n,modal:()=>Cgt,passwordless:()=>Igt});var Cgt,Igt,q9n,Ogt=B(()=>{Cgt={"adapter-loader.message":"Best\xE4tigen Sie Ihr {{adapter}}-Konto, um fortzufahren","adapter-loader.message1":"Best\xE4tigen Sie Ihr {{adapter}}","adapter-loader.message2":"Konto fortzusetzen",allChains:"Alle Kettens","connect-wallet.more-wallets":"Mehr Wallets",connectYourWallet:"Ihre Wallet verbinden","errors-invalid-email":"Ung\xFCltige E-Mail","errors-invalid-number":"Ung\xFCltige Telefonnummer","errors-invalid-number-email":"Ung\xFCltige E-Mail-Adresse oder Telefonnummer","errors-required":"Erforderlich","external.all-wallets":"Alle Geldb\xF6rsen","external.back":"Zur\xFCck","external.connect":"Fahren Sie mit einer Brieftasche fort","external.connect-wallet":"Wallet verbinden","external.continue":"Fahren Sie mit der externen Wallet fort","external.continue-custom":"Fahren Sie mit {{wallet}} fort","external.dont-have":"Haben nicht","external.get":"Erhalten","external.get-wallet":"Wallet erhalten","external.install-browser-extension":"Installieren Sie die {{browser}}-Erweiterung","external.install-mobile-app":"Installieren Sie die {{os}}-App","external.installed":"Installiert","external.no-wallets-found":"Keine Wallets gefunden","external.search-subtext":"Versuchen Sie es stattdessen mit der Suche","external.search-text":"Sie sehen Ihr Portemonnaie nicht?","external.search-wallet":"Suche durch {{count}} Geldb\xF6rsen...","external.select-chain":"Kette ausw\xE4hlen","external.select-chain-description":"Diese {{wallet}}-Brieftasche unterst\xFCtzt mehrere Ketten. W\xE4hlen Sie die Kette aus, mit der Sie verbinden m\xF6chten","external.title":"Externe Geldb\xF6rse","external.walletconnect-connect":"Verbinden","external.walletconnect-copy":"Scannen Sie den QR-Code mit einer WalletConnect-kompatiblen Geldb\xF6rse oder klicken Sie, um den Link zu kopieren","external.walletconnect-subtitle":"Scannen Sie den QR-Code mit einer WalletConnect-kompatiblen Geldb\xF6rse","footer.and":"und","footer.by-signing-in":"Durch das Anmelden stimmen Sie unseren","footer.message":"Selbstverwahrungs-Login durch","footer.message-new":"Selbstversorgung \xFCber","footer.policy":"Datenschutzrichtlinie","footer.privacy-policy":"Datenschutzerkl\xE4rung","footer.terms":"Nutzungsbedingungen","footer.terms-of-service":"Nutzungsbedingungen","footer.terms-service":"Nutzungsbedingungen","footer.version":"Versio\u0301n",getWallet:"Wallet holen","header-subtitle":"W\xE4hlen Sie eine der folgenden Optionen aus, um fortzufahren","header-subtitle-name":"Ihre {{appName}}-Brieftasche mit einem Klick","header-subtitle-new":"Ihre Blockchain-Brieftasche mit einem Klick","header-title":"Einloggen","header-tooltip-desc":"Die Brieftasche dient als Konto zum Speichern und Verwalten Ihrer digitalen Assets auf der Blockchain.","header-tooltip-title":"Brieftasche","network.add-request":"Diese Website fordert das Hinzuf\xFCgen eines Netzwerks an","network.cancel":"Abbrechen","network.from":"Von","network.proceed":"Fortfahren","network.switch-request":"Diese Website fordert einen Netzwerkwechsel an","network.to":"Zu","otp.email-subtext":"Bitte geben Sie den 6-stelligen \xDCberpr\xFCfungscodes ein","otp.email-subtext-example":"die an Ihre E-Mail {{email}} gesendet wurde","otp.email-title":"Email-\xDCberpr\xFCfung","otp.mobile-subtext":"Geben Sie den OTP ein, der an","otp.mobile-title":"OTP-\xDCberpr\xFCfung","otp.success":"Sie sind mit Ihrem Konto verbunden!","passkey.add":"Passkey hinzuf\xFCgen","passkey.haveExisting":"Haben Sie bereits einen passkey?","passkey.learn-more":"Erfahren Sie mehr","passkey.or":"oder","passkey.register-desc":"Mit passkeys k\xF6nnen Sie Ihre Identit\xE4t durch Ihr Gesicht, Ihren Fingerabdruck oder Sicherheitsschl\xFCssel \xFCberpr\xFCfen.","passkey.register-title":"Registrieren Sie Passkey","passkey.use":"Ich habe einen passkey","passwordless.title":"Mit {{title}} fortfahren","popup.phone-body":"Ihr L\xE4ndercode wird automatisch erkannt, aber wenn Sie eine Telefonnummer aus einem anderen Land verwenden, m\xFCssen Sie den richtigen L\xE4ndercode manuell eingeben.","popup.phone-header":"Telefonnummer und L\xE4ndercode","post-loading.connected":"Sie sind mit Ihrem Konto verbunden","post-loading.something-wrong":"Etwas ist schief gelaufen!",resendCode:"Code erneut senden",resendTimer:" {{timer}} Sekunden sp\xE4ter erneut senden","social.continue":"Weitermachen mit","social.continueCustom":"Fahren Sie mit {{adapter}} fort","social.email":"E-Mail","social.email-continue":"Weitermachen mit E-Mail","social.email-new":"name@example.com","social.passwordless-cta":"Weitermachen","social.passwordless-login":"Anmeldung","social.passwordless-title":"E-Mail/Telefon","social.phone":"Telefon","social.policy":"Wir speichern keine Daten im Zusammenhang mit Ihren Social Logins.","social.sign-in":"Anmelden","social.sms":"Mobiltelefon","social.sms-continue":"Mit Mobilger\xE4t fortfahren","social.sms-invalid-number":"Ung\xFCltige Telefonnummer","social.sms-placeholder-text":"Z.B.:","social.view-less":"Weniger anzeigen","social.view-less-socials":"Weniger anzeigen socials","social.view-more":"Mehr anzeigen","social.view-more-socials":"Weitere socials anzeigen"},Igt={"error-invalid-link":"Ung\xFCltiger \xDCberpr\xFCfungsverbindung oder Link ist abgelaufen","error-invalid-origin":"Etwas ist schief gelaufen, Fehlercode: E002","error-invalid-otp":"Ung\xFCltiges OTP, bitte versuchen Sie es erneut","error-invalid-params":"Fehlende oder ung\xFCltige Parameter","error-max-retry-limit-reached":"Sie haben die Grenze f\xFCr falsche Versuche erreicht. Bitte starten Sie den Fluss erneut neu, um die \xDCberpr\xFCfung abzuschlie\xDFen.","error-new-link-generated-heading":"Neuer Verifizierungslink","error-no-mail-generated":"Keine Mail generiert. Bitte initiieren Sie zuerst den passwortlosen Fluss.","error-no-sms-generated":"Kein OTP erzeugt. Bitte initiieren Sie zuerst den passwortlosen Fluss.","error-otp-expired":"OTP abgelaufen","error-plan-limit-reached":"E411. Grenze erreicht","error-recaptcha-verification-failed":"Die Captcha-\xDCberpr\xFCfung ist fehlgeschlagen. Bitte versuchen Sie es erneut.","error-sending-sms-failed":"Es gab einen Fehler beim Senden einer SMS. Bitte versuche es erneut.","error-invalid-test-account":"Ung\xFCltiges Testkonto","something-wrong-error":"Etwas ist schief gelaufen"},q9n={modal:Cgt,passwordless:Igt}});var kgt={};$t(kgt,{default:()=>W9n,modal:()=>Ngt,passwordless:()=>Pgt});var Ngt,Pgt,W9n,Mgt=B(()=>{Ngt={"adapter-loader.message":"{{adapter}} \u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u78BA\u8A8D\u3057\u3066\u7D9A\u884C\u3059\u308B","adapter-loader.message1":"{{adapter}} \u3092\u78BA\u8A8D\u3059\u308B","adapter-loader.message2":"\u7D9A\u884C\u3059\u308B\u30A2\u30AB\u30A6\u30F3\u30C8",allChains:"\u3059\u3079\u3066\u306E\u30C1\u30A7\u30FC\u30F3","connect-wallet.more-wallets":"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u3082\u3063\u3068\u898B\u308B",connectYourWallet:"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u63A5\u7D9A","errors-invalid-email":"\u7121\u52B9\u306A\u96FB\u5B50\u30E1\u30FC\u30EB","errors-invalid-number":"\u7121\u52B9\u306A\u96FB\u8A71\u756A\u53F7","errors-invalid-number-email":"\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u307E\u305F\u306F\u96FB\u8A71\u756A\u53F7","errors-required":"\u5FC5\u9808","external.all-wallets":"\u3059\u3079\u3066\u306E\u30A6\u30A9\u30EC\u30C3\u30C8","external.back":"\u623B\u308B","external.connect":"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u7D9A\u3051\u308B","external.connect-wallet":"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u63A5\u7D9A","external.continue":"\u5916\u90E8\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u7D9A\u884C\u3059\u308B","external.continue-custom":"{{wallet}}\u3092\u7D9A\u3051\u307E\u3059","external.dont-have":"\u6301\u3063\u3066\u3044\u306A\u3044","external.get":"\u53D6\u5F97","external.get-wallet":"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u53D6\u5F97","external.install-browser-extension":"{{browser}} \u62E1\u5F35\u6A5F\u80FD\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","external.install-mobile-app":"{{os}}\u30A2\u30D7\u30EA\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","external.installed":"\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u6E08\u307F","external.no-wallets-found":"\u30A6\u30A9\u30EC\u30C3\u30C8\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093","external.search-subtext":"\u4EE3\u308F\u308A\u306B\u691C\u7D22\u3057\u3066\u307F\u3066\u304F\u3060\u3055\u3044","external.search-text":"\u8CA1\u5E03\u304C\u898B\u3048\u307E\u305B\u3093\u304B\uFF1F","external.search-wallet":"{{count}} \u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u691C\u7D22...","external.select-chain":"\u30C1\u30A7\u30FC\u30F3\u3092\u9078\u629E","external.select-chain-description":"\u3053\u306E {{wallet}} \u30A6\u30A9\u30EC\u30C3\u30C8\u306F\u8907\u6570\u306E\u30C1\u30A7\u30FC\u30F3\u3092\u30B5\u30DD\u30FC\u30C8\u3057\u3066\u3044\u307E\u3059\u3002\u63A5\u7D9A\u3057\u305F\u3044\u30C1\u30A7\u30FC\u30F3\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044","external.title":"\u5916\u90E8\u30A6\u30A9\u30EC\u30C3\u30C8","external.walletconnect-connect":"\u63A5\u7D9A\u3059\u308B","external.walletconnect-copy":"WalletConnect \u304C\u30B5\u30DD\u30FC\u30C8\u3059\u308B\u30A6\u30A9\u30EC\u30C3\u30C8\u3067 QR \u30B3\u30FC\u30C9\u3092\u30B9\u30AD\u30E3\u30F3\u3059\u308B\u304B\u3001\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30B3\u30D4\u30FC\u3057\u307E\u3059\u3002","external.walletconnect-subtitle":"WalletConnect\u5BFE\u5FDC\u30A6\u30A9\u30EC\u30C3\u30C8\u3067QR\u30B3\u30FC\u30C9\u3092\u30B9\u30AD\u30E3\u30F3\u3057\u3066\u304F\u3060\u3055\u3044","footer.and":"\u304A\u3088\u3073","footer.by-signing-in":"\u30B5\u30A4\u30F3\u30A4\u30F3\u3059\u308B\u3068\u3001\u79C1\u305F\u3061\u306E","footer.message":"\u81EA\u5DF1\u4FDD\u7BA1\u30ED\u30B0\u30A4\u30F3 by","footer.message-new":"\u7D4C\u7531\u306E\u81EA\u7ACB","footer.policy":"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC","footer.privacy-policy":"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC","footer.terms":"\u5229\u7528\u898F\u7D04","footer.terms-of-service":"\u5229\u7528\u898F\u7D04","footer.terms-service":"\u5229\u7528\u898F\u7D04","footer.version":"\u30D0\u30FC\u30B8\u30E7\u30F3",getWallet:"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u53D6\u5F97","header-subtitle":"\u7D9A\u884C\u3059\u308B\u305F\u3081\u306B\u4EE5\u4E0B\u306E\u30AA\u30D7\u30B7\u30E7\u30F3\u306E\u3044\u305A\u308C\u304B\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044","header-subtitle-name":"\u30EF\u30F3\u30AF\u30EA\u30C3\u30AF\u3067 {{appName}} \u30A6\u30A9\u30EC\u30C3\u30C8","header-subtitle-new":"\u30EF\u30F3\u30AF\u30EA\u30C3\u30AF\u3067\u3042\u306A\u305F\u306E\u30D6\u30ED\u30C3\u30AF\u30C1\u30A7\u30FC\u30F3\u30A6\u30A9\u30EC\u30C3\u30C8","header-title":"\u30ED\u30B0\u30A4\u30F3","header-tooltip-desc":"\u30A6\u30A9\u30EC\u30C3\u30C8\u306F\u3001\u30D6\u30ED\u30C3\u30AF\u30C1\u30A7\u30FC\u30F3\u4E0A\u3067\u30C7\u30B8\u30BF\u30EB\u8CC7\u7523\u3092\u4FDD\u5B58\u304A\u3088\u3073\u7BA1\u7406\u3059\u308B\u305F\u3081\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u3068\u3057\u3066\u6A5F\u80FD\u3057\u307E\u3059\u3002","header-tooltip-title":"\u30A6\u30A9\u30EC\u30C3\u30C8","network.add-request":"\u3053\u306E\u30B5\u30A4\u30C8\u306F\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306E\u8FFD\u52A0\u3092\u30EA\u30AF\u30A8\u30B9\u30C8\u3057\u3066\u3044\u307E\u3059","network.cancel":"\u30AD\u30E3\u30F3\u30BB\u30EB","network.from":"\u304B\u3089","network.proceed":"\u9032\u3080","network.switch-request":"\u3053\u306E\u30B5\u30A4\u30C8\u306F\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306E\u5207\u308A\u66FF\u3048\u3092\u8981\u6C42\u3057\u3066\u3044\u307E\u3059","network.to":"\u3078","otp.email-subtext":"6\u6841\u306E\u691C\u8A3C\u30B3\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044","otp.email-subtext-example":"{{email}}\u306B\u9001\u4FE1\u3055\u308C\u305F\u3082\u306E\u3067\u3059","otp.email-title":"\u30E1\u30FC\u30EB \u691C\u8A3C","otp.mobile-subtext":"OTP \u691C\u8A3C","otp.mobile-title":"OTP \u691C\u8A3C","otp.success":"\u3042\u306A\u305F\u306F\u3042\u306A\u305F\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u306B\u63A5\u7D9A\u3055\u308C\u3066\u3044\u307E\u3059!","passkey.add":"{\u30D1\u30B9}\u3092\u8FFD\u52A0","passkey.haveExisting":"\u65E2\u5B58\u306E passkey \u3092\u304A\u6301\u3061\u3067\u3059\u304B?","passkey.learn-more":"\u3082\u3063\u3068\u8A73\u3057\u304F\u77E5\u308B","passkey.or":"\u307E\u305F\u306F","passkey.register-desc":"passkeys \u3092\u4F7F\u7528\u3059\u308B\u3068\u3001\u9854\u3001\u6307\u7D0B\u3001\u307E\u305F\u306F\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3 \u30AD\u30FC\u3092\u4F7F\u7528\u3057\u3066\u672C\u4EBA\u78BA\u8A8D\u3092\u884C\u3046\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002","passkey.register-title":"Passkey \u3092\u767B\u9332\u3059\u308B","passkey.use":"Passkey \u3092\u6301\u3063\u3066\u3044\u307E\u3059","passwordless.title":"{{title}} \u3067\u7D9A\u884C","popup.phone-body":"\u56FD\u30B3\u30FC\u30C9\u306F\u81EA\u52D5\u7684\u306B\u691C\u51FA\u3055\u308C\u307E\u3059\u304C\u3001\u7570\u306A\u308B\u56FD\u306E\u96FB\u8A71\u756A\u53F7\u3092\u4F7F\u7528\u3059\u308B\u5834\u5408\u306F\u3001\u6B63\u3057\u3044\u56FD\u30B3\u30FC\u30C9\u3092\u624B\u52D5\u3067\u5165\u529B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002","popup.phone-header":"\u96FB\u8A71\u756A\u53F7\u3068\u56FD\u30B3\u30FC\u30C9","post-loading.connected":"\u30A2\u30AB\u30A6\u30F3\u30C8\u306B\u63A5\u7D9A\u3055\u308C\u3066\u3044\u307E\u3059","post-loading.something-wrong":"\u4F55\u304B\u304C\u3046\u307E\u304F\u3044\u304B\u306A\u304B\u3063\u305F\uFF01",resendCode:"\u30B3\u30FC\u30C9\u3092\u518D\u9001\u4FE1",resendTimer:" {{timer}} \u79D2\u5F8C\u306B\u518D\u9001\u4FE1","social.continue":"\u7D9A\u3051\u308B","social.continueCustom":"{{adapter}}\u3092\u7D9A\u3051\u307E\u3059","social.email":"E\u30E1\u30FC\u30EB","social.email-continue":"\u30E1\u30FC\u30EB\u3067\u7D9A\u884C","social.email-new":"name@example.com","social.passwordless-cta":"\u7D9A\u3051\u308B","social.passwordless-login":"\u30ED\u30B0\u30A4\u30F3","social.passwordless-title":"\u30E1\u30FC\u30EB/\u96FB\u8A71","social.phone":"\u96FB\u8A71","social.policy":"\u30BD\u30FC\u30B7\u30E3\u30EB\u30ED\u30B0\u30A4\u30F3\u306B\u95A2\u9023\u3059\u308B\u30C7\u30FC\u30BF\u306F\u4FDD\u5B58\u3055\u308C\u307E\u305B\u3093\u3002","social.sign-in":"\u30ED\u30B0\u30A4\u30F3","social.sms":"\u30E2\u30D0\u30A4\u30EB","social.sms-continue":"\u30E2\u30D0\u30A4\u30EB\u3067\u7D9A\u884C","social.sms-invalid-number":"\u7121\u52B9\u306A\u96FB\u8A71\u756A\u53F7","social.sms-placeholder-text":"\u4F8B:","social.view-less":"\u8868\u793A\u304C\u5C11\u306A\u304F\u306A\u308A\u307E\u3059","social.view-less-socials":"\u8868\u793A\u3092\u6E1B\u3089\u3059 socials","social.view-more":"\u3082\u3063\u3068\u898B\u308B","social.view-more-socials":"\u3082\u3063\u3068\u898B\u308B socials"},Pgt={"error-invalid-link":"\u7121\u52B9\u306A\u691C\u8A3C\u30EA\u30F3\u30AF\u307E\u305F\u306F\u30EA\u30F3\u30AF\u304C\u671F\u9650\u5207\u308C\u306B\u306A\u308A\u307E\u3057\u305F","error-invalid-origin":"\u4F55\u304B\u304C\u3046\u307E\u304F\u3044\u304B\u306A\u304B\u3063\u305F, \u30A8\u30E9\u30FC\u30B3\u30FC\u30C9: E002","error-invalid-otp":"\u7121\u52B9\u306AOTP\u3001\u3082\u3046\u4E00\u5EA6\u3084\u308A\u76F4\u3057\u3066\u304F\u3060\u3055\u3044","error-invalid-params":"\u30D1\u30E9\u30E1\u30FC\u30BF\u30FC\u306E\u6B20\u843D\u307E\u305F\u306F\u7121\u52B9\u306A\u30D1\u30E9\u30E1\u30FC\u30BF\u30FC","error-max-retry-limit-reached":"\u9593\u9055\u3063\u305F\u8A66\u307F\u306E\u5236\u9650\u306B\u9054\u3057\u307E\u3057\u305F\u3002\u78BA\u8A8D\u3092\u5B8C\u4E86\u3059\u308B\u306B\u306F\u3001\u30D5\u30ED\u30FC\u3092\u3082\u3046\u4E00\u5EA6\u518D\u8D77\u52D5\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-new-link-generated-heading":"\u65B0\u3057\u3044\u691C\u8A3C\u30EA\u30F3\u30AF\u304C\u751F\u6210\u3055\u308C\u307E\u3057\u305F","error-no-mail-generated":"\u30E1\u30FC\u30EB\u304C\u751F\u6210\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u6700\u521D\u306B\u30D1\u30B9\u30EF\u30FC\u30C9\u30EC\u30B9\u30D5\u30ED\u30FC\u3092\u958B\u59CB\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-no-sms-generated":"OTP\u751F\u6210\u306F\u3042\u308A\u307E\u305B\u3093\u3002\u6700\u521D\u306B\u30D1\u30B9\u30EF\u30FC\u30C9\u30EC\u30B9\u30D5\u30ED\u30FC\u3092\u958B\u59CB\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-otp-expired":"OTP\u306E\u6709\u52B9\u671F\u9650\u304C\u5207\u308C\u307E\u3057\u305F","error-plan-limit-reached":"E411. \u5236\u9650\u306B\u9054\u3057\u307E\u3057\u305F","error-recaptcha-verification-failed":"Captcha \u691C\u8A3C\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u8A66\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-sending-sms-failed":"SMS\u306E\u9001\u4FE1\u30A8\u30E9\u30FC\u304C\u3042\u308A\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u3084\u308A\u76F4\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-invalid-test-account":"\u7121\u52B9\u306A\u30C6\u30B9\u30C8\u30A2\u30AB\u30A6\u30F3\u30C8","something-wrong-error":"\u4F55\u304B\u304C\u3046\u307E\u304F\u3044\u304B\u306A\u304B\u3063\u305F"},W9n={modal:Ngt,passwordless:Pgt}});var Lgt={};$t(Lgt,{default:()=>Y9n,modal:()=>Bgt,passwordless:()=>Dgt});var Bgt,Dgt,Y9n,Ugt=B(()=>{Bgt={"adapter-loader.message":"\uACC4\uC18D\uD558\uB824\uBA74 {{adapter}} \uACC4\uC815\uC744 \uC778\uC99D\uD558\uC138\uC694","adapter-loader.message1":"{{adapter}}\uB97C \uC778\uC99D\uD558\uC138\uC694","adapter-loader.message2":"\uACC4\uC18D\uD560 \uACC4\uC815",allChains:"\uBAA8\uB4E0 \uCCB4\uC778","connect-wallet.more-wallets":"\uB354 \uB9CE\uC740 \uC9C0\uAC11",connectYourWallet:"\uC9C0\uAC11 \uC5F0\uACB0","errors-invalid-email":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC774\uBA54\uC77C","errors-invalid-number":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC804\uD654\uBC88\uD638","errors-invalid-number-email":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC774\uBA54\uC77C \uB610\uB294 \uC804\uD654\uBC88\uD638","errors-required":"\uD544\uC218","external.all-wallets":"\uBAA8\uB4E0 \uC9C0\uAC11","external.back":"\uB4A4\uB85C","external.connect":"\uC9C0\uAC11\uC73C\uB85C \uACC4\uC18D\uD558\uAE30","external.connect-wallet":"\uC9C0\uAC11 \uC5F0\uACB0","external.continue":"\uC678\uBD80 \uC9C0\uAC11\uC73C\uB85C \uACC4\uC18D\uD558\uAE30","external.continue-custom":"{{wallet}}\uB85C \uACC4\uC18D\uD558\uAE30","external.dont-have":"\uC5C6\uC74C","external.get":"\uBC1B\uAE30","external.get-wallet":"\uC9C0\uAC11 \uBC1B\uAE30","external.install-browser-extension":"{{browser}} \uD655\uC7A5 \uD504\uB85C\uADF8\uB7A8 \uC124\uCE58","external.install-mobile-app":"{{os}} \uC571 \uC124\uCE58","external.installed":"\uC124\uCE58 \uC644\uB8CC","external.no-wallets-found":"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.","external.search-subtext":"\uAC80\uC0C9\uD574\uBCF4\uC138\uC694","external.search-text":"\uC9C0\uAC11\uC774 \uBCF4\uC774\uC9C0 \uC54A\uB098\uC694?","external.search-wallet":"{{count}}\uAC1C\uC758 \uC9C0\uAC11\uC744 \uAC80\uC0C9 \uC911\uC785\uB2C8\uB2E4...","external.select-chain":"\uCCB4\uC778 \uC120\uD0DD","external.select-chain-description":"\uC774 {{wallet}} \uC9C0\uAC11\uC740 \uC5EC\uB7EC \uCCB4\uC778\uC744 \uC9C0\uC6D0\uD569\uB2C8\uB2E4. \uC5F0\uACB0\uD558\uB824\uB294 \uCCB4\uC778\uC744 \uC120\uD0DD\uD558\uC138\uC694","external.title":"\uC678\uBD80 \uC9C0\uAC11","external.walletconnect-connect":"\uC5F0\uACB0","external.walletconnect-copy":"WalletConnect \uD638\uD658 \uC9C0\uAC11\uC73C\uB85C QR \uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uAC70\uB098 \uB9C1\uD06C\uB97C \uD074\uB9AD\uD558\uC5EC \uBCF5\uC0AC\uD558\uC138\uC694.","external.walletconnect-subtitle":"WalletConnect \uD638\uD658 \uC9C0\uAC11\uC73C\uB85C QR \uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694","footer.and":"\uBC0F","footer.by-signing-in":"\uB85C\uADF8\uC778\uD558\uBA74 \uC6B0\uB9AC\uC758","footer.message":"\uC790\uAC00 \uAD00\uB9AC\uD615 \uB85C\uADF8\uC778","footer.message-new":"\uC140\uD504 \uCEE4\uC2A4\uD130\uB514","footer.policy":"\uAC1C\uC778\uC815\uBCF4 \uCC98\uB9AC\uBC29\uCE68","footer.privacy-policy":"\uAC1C\uC778\uC815\uBCF4 \uCDE8\uAE09 \uBC29\uCE68","footer.terms":"\uC774\uC6A9 \uC57D\uAD00","footer.terms-of-service":"\uC774\uC6A9 \uC57D\uAD00","footer.terms-service":"\uC11C\uBE44\uC2A4 \uC57D\uAD00","footer.version":"\uBC84\uC804",getWallet:"\uC9C0\uAC11 \uAC00\uC838\uC624\uAE30","header-subtitle":"\uACC4\uC18D\uD558\uB824\uBA74 \uB2E4\uC74C \uC911 \uD558\uB098\uB97C \uC120\uD0DD\uD558\uC138\uC694","header-subtitle-name":"\uD55C \uBC88\uC758 \uD074\uB9AD\uC73C\uB85C {{appName}} \uC9C0\uAC11 \uC774\uC6A9\uD558\uAE30","header-subtitle-new":"\uD55C \uBC88\uC758 \uD074\uB9AD\uC73C\uB85C \uBE14\uB85D\uCCB4\uC778 \uC9C0\uAC11 \uC774\uC6A9\uD558\uAE30","header-title":"\uB85C\uADF8\uC778","header-tooltip-desc":"\uC774 \uC9C0\uAC11\uC740 \uBE14\uB85D\uCCB4\uC778 \uC0C1\uC5D0\uC11C \uB514\uC9C0\uD138 \uC790\uC0B0\uC744 \uBCF4\uAD00\uD558\uACE0 \uAD00\uB9AC\uD558\uB294 \uB370 \uC0AC\uC6A9\uB418\uB294 \uACC4\uC815\uC785\uB2C8\uB2E4.","header-tooltip-title":"\uC9C0\uAC11","network.add-request":"\uC774 \uC0AC\uC774\uD2B8\uC5D0\uC11C \uB124\uD2B8\uC6CC\uD06C \uCD94\uAC00\uB97C \uC694\uCCAD\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4","network.cancel":"\uCDE8\uC18C","network.from":"\uBCF4\uB0B8 \uC0AC\uB78C","network.proceed":"\uACC4\uC18D","network.switch-request":"\uC774 \uC0AC\uC774\uD2B8\uC5D0\uC11C \uB124\uD2B8\uC6CC\uD06C \uC804\uD658\uC744 \uC694\uCCAD\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4","network.to":"\uBC1B\uB294 \uC0AC\uB78C","otp.email-subtext":"6\uC790\uB9AC \uC778\uC99D \uCF54\uB4DC\uB97C \uC785\uB825\uD558\uC138\uC694","otp.email-subtext-example":"{{email}}\uC5D0 \uC804\uC1A1\uB41C \uAC83\uC785\uB2C8\uB2E4","otp.email-title":"\uC774\uBA54\uC77C \uAC80\uC99D","otp.mobile-subtext":"OTP \uAC80\uC99D","otp.mobile-title":"OTP \uAC80\uC99D","otp.success":"\uB2F9\uC2E0\uC740 \uB2F9\uC2E0\uC758 \uACC4\uC815\uC5D0 \uC5F0\uACB0\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4!","passkey.add":"Passkey \uCD94\uAC00","passkey.haveExisting":"\uAE30\uC874 passkey\uAC00 \uC788\uB098\uC694?","passkey.learn-more":"\uB354 \uC54C\uC544\uBCF4\uAE30","passkey.or":"\uB610\uB294","passkey.register-desc":"passkeys \uC0AC\uC6A9 \uC2DC \uC5BC\uAD74, \uC9C0\uBB38 \uB610\uB294 \uBCF4\uC548 \uD0A4\uB97C \uD1B5\uD574 \uBCF8\uC778\uC784\uC744 \uC778\uC99D\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.","passkey.register-title":"Passkey \uB4F1\uB85D","passkey.use":"\uAE30\uC874 Passkey \uC0AC\uC6A9\uD558\uAE30","passwordless.title":"{{title}} \uB85C \uACC4\uC18D\uD558\uAE30","popup.phone-body":"\uAD6D\uAC00 \uCF54\uB4DC\uB294 \uC790\uB3D9\uC73C\uB85C \uAC10\uC9C0\uB429\uB2C8\uB2E4. \uADF8\uB7EC\uB098 \uB2E4\uB978 \uAD6D\uAC00\uC758 \uC804\uD654\uBC88\uD638\uB97C \uC0AC\uC6A9\uD558\uB294 \uACBD\uC6B0, \uC62C\uBC14\uB978 \uAD6D\uAC00 \uCF54\uB4DC\uB97C \uC218\uB3D9\uC73C\uB85C \uC785\uB825\uD574\uC57C \uD569\uB2C8\uB2E4.","popup.phone-header":"\uC804\uD654\uBC88\uD638 \uBC0F \uAD6D\uAC00 \uCF54\uB4DC","post-loading.connected":"\uACC4\uC815\uC5D0 \uC5F0\uACB0\uB418\uC5C8\uC2B5\uB2C8\uB2E4","post-loading.something-wrong":"\uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4!",resendCode:"\uCF54\uB4DC \uB2E4\uC2DC \uBCF4\uB0B4\uAE30",resendTimer:" {{timer}} \uCD08 \uD6C4 \uB2E4\uC2DC \uBCF4\uB0B4\uAE30","social.continue":"\uACC4\uC18D\uD558\uAE30","social.continueCustom":"{{adapter}}\uB85C \uACC4\uC18D\uD558\uAE30","social.email":"\uC774\uBA54\uC77C","social.email-continue":"\uC774\uBA54\uC77C\uB85C \uACC4\uC18D\uD558\uAE30","social.email-new":"name@example.com","social.passwordless-cta":"\uACC4\uC18D","social.passwordless-login":"\uB85C\uADF8\uC778","social.passwordless-title":"\uC774\uBA54\uC77C/\uC804\uD654\uBC88\uD638","social.phone":"\uC804\uD654\uBC88\uD638","social.policy":"\uC800\uD76C\uB294 \uC18C\uC15C \uB85C\uADF8\uC778\uACFC \uAD00\uB828\uB41C \uC5B4\uB5A0\uD55C \uB370\uC774\uD130\uB3C4 \uC800\uC7A5\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.","social.sign-in":"\uB85C\uADF8\uC778","social.sms":"\uBAA8\uBC14\uC77C","social.sms-continue":"\uBAA8\uBC14\uC77C\uB85C \uACC4\uC18D\uD558\uAE30","social.sms-invalid-number":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC804\uD654\uBC88\uD638","social.sms-placeholder-text":"\uC608\uC2DC:","social.view-less":"\uAC04\uB7B5\uD788 \uBCF4\uAE30","social.view-less-socials":"Socials \uAC04\uB7B5\uD788 \uBCF4\uAE30","social.view-more":"\uB354\uBCF4\uAE30","social.view-more-socials":"Socials \uB354\uBCF4\uAE30"},Dgt={"error-invalid-link":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC778\uC99D \uB9C1\uD06C\uC774\uAC70\uB098 \uB9C1\uD06C\uAC00 \uB9CC\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4","error-invalid-origin":"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4, \uC624\uB958 \uCF54\uB4DC: E002","error-invalid-otp":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 OTP\uC785\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.","error-invalid-params":"\uB204\uB77D\uB418\uC5C8\uAC70\uB098 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC815\uBCF4\uC785\uB2C8\uB2E4.","error-max-retry-limit-reached":"\uC798\uBABB\uB41C \uC2DC\uB3C4 \uD69F\uC218\uB97C \uCD08\uACFC\uD588\uC2B5\uB2C8\uB2E4. \uC778\uC99D\uC744 \uC644\uB8CC\uD558\uB824\uBA74 \uC808\uCC28\uB97C \uB2E4\uC2DC \uC2DC\uC791\uD574 \uC8FC\uC138\uC694.","error-new-link-generated-heading":"\uC0C8 \uC778\uC99D \uB9C1\uD06C\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","error-no-mail-generated":"\uBA54\uC77C\uC774 \uC0DD\uC131\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uBE44\uBC00\uBC88\uD638\uAC00 \uC5C6\uB294 \uC808\uCC28\uBD80\uD130 \uC2DC\uC791\uD574 \uC8FC\uC138\uC694.","error-no-sms-generated":"OTP\uAC00 \uC0DD\uC131\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uBE44\uBC00\uBC88\uD638\uAC00 \uC5C6\uB294 \uC808\uCC28\uBD80\uD130 \uC2DC\uC791\uD574 \uC8FC\uC138\uC694.","error-otp-expired":"OTP\uAC00 \uB9CC\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4","error-plan-limit-reached":"E411. \uC81C\uD55C\uC5D0 \uB3C4\uB2EC\uD588\uC2B5\uB2C8\uB2E4","error-recaptcha-verification-failed":"Captcha \uC778\uC99D\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.","error-sending-sms-failed":"SMS \uC804\uC1A1 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.","error-invalid-test-account":"\uC798\uBABB\uB41C \uD14C\uC2A4\uD2B8 \uACC4\uC815\uC785\uB2C8\uB2E4","something-wrong-error":"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4"},Y9n={modal:Bgt,passwordless:Dgt}});var zgt={};$t(zgt,{default:()=>J9n,modal:()=>Fgt,passwordless:()=>Hgt});var Fgt,Hgt,J9n,jgt=B(()=>{Fgt={"adapter-loader.message":"\u9A8C\u8BC1\u60A8\u7684{{adapter}}\u5E10\u6237\u4EE5\u7EE7\u7EED","adapter-loader.message1":"\u5728\u60A8\u7684{{adapter}}\u4E0A\u9A8C\u8BC1","adapter-loader.message2":"\u5E10\u53F7\u7EE7\u7EED",allChains:"\u6240\u6709\u94FE","connect-wallet.more-wallets":"\u67E5\u770B\u66F4\u591A\u94B1\u5305",connectYourWallet:"\u8FDE\u63A5\u60A8\u7684\u94B1\u5305","errors-invalid-email":"\u65E0\u6548\u7684\u7535\u5B50\u90AE\u4EF6","errors-invalid-number":"\u7535\u8BDD\u53F7\u7801\u65E0\u6548","errors-invalid-number-email":"\u65E0\u6548\u7684\u7535\u5B50\u90AE\u4EF6\u6216\u7535\u8BDD\u53F7\u7801","errors-required":"\u5FC5\u586B","external.all-wallets":"\u6240\u6709\u94B1\u5305","external.back":"\u8FD4\u56DE","external.connect":"\u7EE7\u7EED\u4F7F\u7528\u94B1\u5305","external.connect-wallet":"\u8FDE\u63A5\u94B1\u5305","external.continue":"\u7EE7\u7EED\u4F7F\u7528\u5916\u90E8\u94B1\u5305","external.continue-custom":"\u7EE7\u7EED\u4F7F\u7528{{wallet}}","external.dont-have":"\u6CA1\u6709","external.get":"\u83B7\u53D6","external.get-wallet":"\u83B7\u53D6\u94B1\u5305","external.install-browser-extension":"\u5B89\u88C5{{browser}}\u6269\u5C55","external.install-mobile-app":"\u5B89\u88C5{{os}}\u5E94\u7528","external.installed":"\u5DF2\u5B89\u88C5","external.no-wallets-found":"\u6CA1\u6709\u627E\u5230\u94B1\u5305","external.search-subtext":"\u5C1D\u8BD5\u6539\u4E3A\u641C\u7D22","external.search-text":"\u6CA1\u770B\u5230\u4F60\u7684\u94B1\u5305\u5417\uFF1F","external.search-wallet":"\u641C\u7D22{{count}}\u4E2A\u94B1\u5305...","external.select-chain":"\u9009\u62E9\u94FE","external.select-chain-description":"\u8FD9\u4E2A {{wallet}} \u94B1\u5305\u652F\u6301\u591A\u79CD\u94FE\u3002\u9009\u62E9\u60A8\u60F3\u8981\u8FDE\u63A5\u7684\u94FE","external.title":"\u5916\u90E8\u94B1\u5305","external.walletconnect-connect":"\u8FDE\u63A5","external.walletconnect-copy":"\u4F7F\u7528\u652F\u6301 WalletConnect \u7684\u94B1\u5305\u626B\u63CF QR \u7801\u6216\u70B9\u51FB\u590D\u5236\u94FE\u63A5","external.walletconnect-subtitle":"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF QR \u7801","footer.and":"\u548C","footer.by-signing-in":"\u767B\u5F55\u5373\u8868\u793A\u60A8\u540C\u610F\u6211\u4EEC\u7684","footer.message":"\u81EA\u6258\u7BA1\u767B\u5F55\u7531","footer.message-new":"\u81EA\u6211castody\u901A\u8FC7","footer.policy":"\u9690\u79C1\u653F\u7B56","footer.privacy-policy":"\u9690\u79C1\u653F\u7B56","footer.terms":"\u4F7F\u7528\u6761\u6B3E","footer.terms-of-service":"\u4F7F\u7528\u6761\u6B3E","footer.terms-service":"\u670D\u52A1\u6761\u6B3E","footer.version":"\u7248\u672C",getWallet:"\u83B7\u53D6\u94B1\u5305","header-subtitle":"\u9009\u62E9\u4EE5\u4E0B\u9009\u9879\u4EE5\u7EE7\u7EED","header-subtitle-name":"\u4E00\u952E\u70B9\u51FB\u60A8\u7684 {{appName}} \u94B1\u5305","header-subtitle-new":"\u4E00\u952E\u70B9\u51FB\u60A8\u7684\u533A\u5757\u94FE\u94B1\u5305","header-title":"\u767B\u5F55","header-tooltip-desc":"\u94B1\u5305\u4F5C\u4E3A\u4E00\u4E2A\u8D26\u6237\u7528\u4E8E\u5728\u533A\u5757\u94FE\u4E0A\u5B58\u50A8\u548C\u7BA1\u7406\u60A8\u7684\u6570\u5B57\u8D44\u4EA7\u3002","header-tooltip-title":"\u94B1\u5305","network.add-request":"\u6B64\u7AD9\u70B9\u6B63\u5728\u8BF7\u6C42\u6DFB\u52A0\u7F51\u7EDC","network.cancel":"\u53D6\u6D88","network.from":"\u4ECE","network.proceed":"\u7EE7\u7EED","network.switch-request":"\u6B64\u7AD9\u70B9\u6B63\u5728\u8BF7\u6C42\u5207\u6362\u7F51\u7EDC","network.to":"\u81F3","otp.email-subtext":"\u8BF7\u8F93\u51656\u4F4D\u9A8C\u8BC1\u7801","otp.email-subtext-example":"{{email}} \u53D1\u9001\u7684","otp.email-title":"\u7535\u5B50\u90AE\u4EF6\u9A8C\u8BC1","otp.mobile-subtext":"\u8F93\u5165 OTP \u9A8C\u8BC1","otp.mobile-title":"OTP \u9A8C\u8BC1","otp.success":"\u60A8\u5DF2\u8FDE\u63A5\u5230\u60A8\u7684\u5E10\u6237\uFF01","passkey.add":"\u6DFB\u52A0Passkey","passkey.haveExisting":"\u5DF2\u6709 passkey \u5417\uFF1F","passkey.learn-more":"\u4E86\u89E3\u66F4\u591A","passkey.or":"\u6216\u8005","passkey.register-desc":"\u4F7F\u7528passkeys\uFF0C\u60A8\u53EF\u4EE5\u901A\u8FC7\u9762\u90E8\u3001\u6307\u7EB9\u6216\u5B89\u5168\u5BC6\u94A5\u9A8C\u8BC1\u60A8\u7684\u8EAB\u4EFD\u3002","passkey.register-title":"\u6CE8\u518CPasskey","passkey.use":"\u6211\u6709\u4E00\u4E2APasskey","passwordless.title":"\u7EE7\u7EED\u4F7F\u7528 {{title}}","popup.phone-body":"\u60A8\u7684\u56FD\u5BB6\u4EE3\u7801\u5C06\u81EA\u52A8\u68C0\u6D4B\u5230\uFF0C\u4F46\u5982\u679C\u60A8\u4F7F\u7528\u5176\u4ED6\u56FD\u5BB6/\u5730\u533A\u7684\u7535\u8BDD\u53F7\u7801\uFF0C\u60A8\u9700\u8981\u624B\u52A8\u8F93\u5165\u6B63\u786E\u7684\u56FD\u5BB6\u4EE3\u7801\u3002","popup.phone-header":"\u7535\u8BDD\u53F7\u7801\u548C\u56FD\u5BB6\u4EE3\u7801","post-loading.connected":"\u60A8\u4E0E\u60A8\u7684\u5E10\u6237\u6709\u8054\u7CFB","post-loading.something-wrong":"\u51FA\u4E86\u4E9B\u95EE\u9898\uFF01",resendCode:"\u91CD\u65B0\u53D1\u9001\u4EE3\u7801",resendTimer:" {{timer}} \u79D2\u540E\u91CD\u65B0\u53D1\u9001","social.continue":"\u7EE7\u7EED","social.continueCustom":"\u7EE7\u7EED\u4F7F\u7528{{adapter}}","social.email":"\u7535\u5B50\u90AE\u4EF6","social.email-continue":"\u7EE7\u7EED\u4F7F\u7528\u7535\u5B50\u90AE\u4EF6","social.email-new":"name@example.com","social.passwordless-cta":"\u7EE7\u7EED","social.passwordless-login":"\u767B\u5F55","social.passwordless-title":"\u7535\u5B50\u90AE\u4EF6/\u7535\u8BDD","social.phone":"\u7535\u8BDD","social.policy":"\u6211\u4EEC\u4E0D\u5B58\u50A8\u4E0E\u60A8\u7684\u793E\u4EA4\u767B\u5F55\u76F8\u5173\u7684\u4EFB\u4F55\u6570\u636E\u3002","social.sign-in":"\u767B\u5F55","social.sms":"\u79FB\u52A8","social.sms-continue":"\u7EE7\u7EED\u4F7F\u7528\u79FB\u52A8\u8BBE\u5907","social.sms-invalid-number":"\u65E0\u6548\u7684\u7535\u8BDD\u53F7\u7801","social.sms-placeholder-text":"\u4F8B\u5982\uFF1A","social.view-less":"\u5C11\u67E5\u770B","social.view-less-socials":"\u67E5\u770B\u66F4\u5C11socials","social.view-more":"\u67E5\u770B\u66F4\u591A","social.view-more-socials":"\u67E5\u770B\u66F4\u591Asocials"},Hgt={"error-invalid-link":"\u65E0\u6548\u7684\u9A8C\u8BC1\u94FE\u63A5\u6216\u94FE\u63A5\u5DF2\u8FC7\u671F","error-invalid-origin":"\u51FA\u95EE\u9898\u4E86, \u9519\u8BEF\u4EE3\u7801: E002","error-invalid-otp":"\u65E0\u6548\u7684OTP\uFF0C\u8BF7\u91CD\u8BD5","error-invalid-params":"\u7F3A\u5931\u6216\u65E0\u6548\u53C2\u6570","error-max-retry-limit-reached":"\u60A8\u5DF2\u7ECF\u8FBE\u5230\u4E86\u9519\u8BEF\u7684\u5C1D\u8BD5\u7684\u6781\u9650\u3002\u8BF7\u518D\u6B21\u91CD\u65B0\u542F\u52A8\u6D41\u7A0B\u4EE5\u5B8C\u6210\u9A8C\u8BC1\u3002","error-new-link-generated-heading":"\u751F\u6210\u7684\u65B0\u9A8C\u8BC1\u94FE\u63A5","error-no-mail-generated":"\u6CA1\u6709\u751F\u6210\u90AE\u4EF6\u3002\u8BF7\u5148\u542F\u52A8\u65E0\u5BC6\u7801\u6D41\u3002","error-no-sms-generated":"\u6CA1\u6709\u751F\u6210OTP\u3002\u8BF7\u5148\u542F\u52A8\u65E0\u5BC6\u7801\u6D41\u3002","error-otp-expired":"OTP\u8FC7\u671F","error-plan-limit-reached":"E411. \u9650\u5236\u5DF2\u8FBE\u5230","error-recaptcha-verification-failed":"Captcha \u9A8C\u8BC1\u5931\u8D25\u3002\u8BF7\u518D\u8BD5\u4E00\u6B21\u3002","error-sending-sms-failed":"\u53D1\u9001\u77ED\u4FE1\u7684\u9519\u8BEF\u3002\u8BF7\u518D\u8BD5\u4E00\u904D\u3002","error-invalid-test-account":"\u6D4B\u8BD5\u8D26\u6237\u65E0\u6548","something-wrong-error":"\u51FA\u95EE\u9898\u4E86"},J9n={modal:Fgt,passwordless:Hgt}});var Kgt={};$t(Kgt,{default:()=>Q9n,modal:()=>Ggt,passwordless:()=>Vgt});var Ggt,Vgt,Q9n,$gt=B(()=>{Ggt={"adapter-loader.message":"Verifica tu cuenta {{adapter}} para continuar","adapter-loader.message1":"Verifique su {{adapter}}","adapter-loader.message2":"cuenta para continuar",allChains:"Todas las cadenas","connect-wallet.more-wallets":"M\xE1s carteras",connectYourWallet:"Conecte su portefeuille","errors-invalid-email":"Correo electr\xF3nico no v\xE1lido","errors-invalid-number":"N\xFAmero de tel\xE9fono no v\xE1lido","errors-invalid-number-email":"Correo electr\xF3nico o n\xFAmero de tel\xE9fono no v\xE1lido","errors-required":"Campo obligatorio","external.all-wallets":"Todas las billeteras","external.back":"Atr\xE1s","external.connect":"Conectar con la billetera","external.connect-wallet":"Conectar billetera","external.continue":"Continuar con billetera externa","external.continue-custom":"Continuar con {{wallet}}","external.dont-have":"No tiene","external.get":"Obtener","external.get-wallet":"Obtener billetera","external.install-browser-extension":"Instalar extensi\xF3n {{browser}}","external.install-mobile-app":"Instalar aplicaci\xF3n {{os}}","external.installed":"Instalado","external.no-wallets-found":"No se encontraron billeteras","external.search-subtext":"Intenta buscar en su lugar","external.search-text":"\xBFNo ves tu billetera?","external.search-wallet":"Buscar a trav\xE9s de {{count}} billeteras...","external.select-chain":"Seleccionar cadena","external.select-chain-description":"Este {{wallet}} billetera soporta varias cadenas. Seleccione la cadena que desea conectar","external.title":"Billetera Externa","external.walletconnect-connect":"Conectar","external.walletconnect-copy":"Escanee el c\xF3digo QR con una billetera compatible con WalletConnect o haga clic para copiar el enlace","external.walletconnect-subtitle":"Escanear el c\xF3digo QR con una billetera compatible con WalletConnect","footer.and":"y","footer.by-signing-in":"Al iniciar sesi\xF3n, acepta nuestros","footer.message":"Inicio de sesi\xF3n con autocustodia por","footer.message-new":"Autocustodia a trav\xE9s de","footer.policy":"Pol\xEDtica de privacidad","footer.privacy-policy":"Pol\xEDtica de privacidad","footer.terms":"T\xE9rminos de Uso","footer.terms-of-service":"T\xE9rminos de uso","footer.terms-service":"T\xE9rminos de servicio","footer.version":"Versi\xF3n",getWallet:"Obtener billetera","header-subtitle":"Seleccione una de las siguientes opciones para continuar","header-subtitle-name":"Su billetera {{appName}} con un solo clic","header-subtitle-new":"Su billetera blockchain con un solo clic","header-title":"Iniciar sesi\xF3n","header-tooltip-desc":"La billetera sirve como una cuenta para almacenar y administrar sus activos digitales en la blockchain.","header-tooltip-title":"Billetera","network.add-request":"Este sitio est\xE1 solicitando agregar una red","network.cancel":"Cancelar","network.from":"De","network.proceed":"Continuar","network.switch-request":"Este sitio est\xE1 solicitando cambiar de red","network.to":"A","otp.email-subtext":"Por favor, ingrese el c\xF3digo de verificaci\xF3n de 6 d\xEDgitos","otp.email-subtext-example":"que fue enviado a su email {{email}}","otp.email-title":"Verificaci\xF3n de email","otp.mobile-subtext":"Verificaci\xF3n OTP","otp.mobile-title":"Verificaci\xF3n OTP","otp.success":"\xA1Est\xE1s conectado a tu cuenta!","passkey.add":"A\xF1adir Passkey","passkey.haveExisting":"\xBFTiene un passkey existente?","passkey.learn-more":"Aprende m\xE1s","passkey.or":"o","passkey.register-desc":"Con passkeys, puedes verificar tu identidad a trav\xE9s de tu rostro, huella digital o claves de seguridad.","passkey.register-title":"Registrarse Passkey","passkey.use":"Tengo una Passkey","passwordless.title":"Continuar con {{title}}","popup.phone-body":"Su c\xF3digo de pa\xEDs se detectar\xE1 autom\xE1ticamente, pero si est\xE1 utilizando un n\xFAmero de tel\xE9fono de otro pa\xEDs, deber\xE1 ingresar manualmente el c\xF3digo de pa\xEDs correcto.","popup.phone-header":"N\xFAmero de tel\xE9fono y c\xF3digo de pa\xEDs","post-loading.connected":"Est\xE1s conectado con tu cuenta","post-loading.something-wrong":"\xA1Algo sali\xF3 mal!",resendCode:"Reenviar c\xF3digo",resendTimer:" Reenviar en {{timer}} segundos","social.continue":"Continuar con","social.continueCustom":"Continuar con {{adapter}}","social.email":"Correo electr\xF3nico","social.email-continue":"Continuar con correo electr\xF3nico","social.email-new":"nombre@ejemplo.com","social.passwordless-cta":"Continuar","social.passwordless-login":"Acceso","social.passwordless-title":"Email/Tel\xE9fono","social.phone":"Tel\xE9fono","social.policy":"No almacenamos ning\xFAn dato relacionado con sus inicios de sesi\xF3n sociales.","social.sign-in":"Iniciar sesi\xF3n","social.sms":"M\xF3vil","social.sms-continue":"Continuar con m\xF3vil","social.sms-invalid-number":"N\xFAmero de tel\xE9fono inv\xE1lido","social.sms-placeholder-text":"Por ej.:","social.view-less":"Ver menos","social.view-less-socials":"Ver menos socials","social.view-more":"Ver m\xE1s","social.view-more-socials":"Ver m\xE1s socials"},Vgt={"error-invalid-link":"El enlace o el enlace de verificaci\xF3n ha expirado","error-invalid-origin":"Algo sali\xF3 mal, c\xF3digo de error: E002","error-invalid-otp":"OTP no v\xE1lido, intente nuevamente","error-invalid-params":"Par\xE1metros faltantes o no v\xE1lidos","error-max-retry-limit-reached":"Has alcanzado el l\xEDmite para intentos incorrectos. Reinicie el proceso para completar la verificaci\xF3n.","error-new-link-generated-heading":"Nuevo enlace de verificaci\xF3n generado","error-no-mail-generated":"No se gener\xF3 el correo. Inicie primero el proceso sin contrase\xF1a.","error-no-sms-generated":"No se gener\xF3 OTP. Inicie primero el proceso sin contrase\xF1a.","error-otp-expired":"OTP expir\xF3","error-plan-limit-reached":"E411. L\xEDmite alcanzado","error-recaptcha-verification-failed":"La verificaci\xF3n de Captcha ha fallado. Por favor, int\xE9ntelo de nuevo.","error-sending-sms-failed":"Hubo un error al enviar el SMS. Int\xE9ntalo de nuevo.","error-invalid-test-account":"Cuenta de prueba no v\xE1lida","something-wrong-error":"Algo sali\xF3 mal"},Q9n={modal:Ggt,passwordless:Vgt}});var Ygt={};$t(Ygt,{default:()=>Z9n,modal:()=>qgt,passwordless:()=>Wgt});var qgt,Wgt,Z9n,Jgt=B(()=>{qgt={"adapter-loader.message":"V\xE9rifiez votre compte {{adapter}} pour continuer","adapter-loader.message1":"V\xE9rifiez votre {{adapter}}","adapter-loader.message2":"compte pour continuer",allChains:"Toutes les cha\xEEnes","connect-wallet.more-wallets":"Plus de portefeuilles",connectYourWallet:"Connectez votre portefeuille","errors-invalid-email":"E-mail invalide","errors-invalid-number":"Num\xE9ro de t\xE9l\xE9phone invalide","errors-invalid-number-email":"Adresse e-mail ou num\xE9ro de t\xE9l\xE9phone invalide","errors-required":"Champ obligatoire","external.all-wallets":"Toutes les billeteras","external.back":"Retour","external.connect":"Continuer avec un portefeuille","external.connect-wallet":"Connecter le portefeuille","external.continue":"Continuer avec le portefeuille externe","external.continue-custom":"Continuer avec {{wallet}}","external.dont-have":"N'avez pas","external.get":"Obtenir","external.get-wallet":"Obtenir un portefeuille","external.installed":"Install\xE9","external.no-wallets-found":"Aucun portefeuille trouv\xE9","external.search-subtext":"Essayez plut\xF4t de rechercher","external.search-text":"Vous ne voyez pas votre portefeuille ?","external.search-wallet":"Rechercher parmi {{count}} portefeuilles...","external.select-chain":"S\xE9lectionner la cha\xEEne","external.select-chain-description":"Cette {{wallet}} portefeuille prend en charge plusieurs cha\xEEnes. S\xE9lectionnez la cha\xEEne que vous souhaitez connecter","external.title":"Portefeuille externe","external.walletconnect-connect":"Se connecter","external.walletconnect-copy":"Scannez le code QR avec un portefeuille compatible WalletConnect ou cliquez pour copier le lien","external.walletconnect-subtitle":"Scannez le code QR avec un portefeuille compatible WalletConnect","footer.and":"et","footer.by-signing-in":"En vous connectant, vous acceptez nos","footer.message":"Connexion en autonomie par","footer.message-new":"Auto-cuir via","footer.policy":"Politique de confidentialit\xE9","footer.privacy-policy":"Politique de confidentialit\xE9","footer.terms":"Conditions d'utilisation","footer.terms-of-service":"Conditions d'utilisation","footer.terms-service":"Conditions d'utilisation","footer.version":"Version",getWallet:"Obtenir le portefeuille","header-subtitle":"S\xE9lectionnez l'une des options suivantes pour continuer","header-subtitle-name":"Votre portefeuille {{appName}} en un clic","header-subtitle-new":"Votre portefeuille blockchain en un clic","header-title":"Se connecter","header-tooltip-desc":"Le portefeuille sert de compte pour stocker et g\xE9rer vos actifs num\xE9riques sur la blockchain.","header-tooltip-title":"Portefeuille","network.add-request":"Ce site demande d'ajouter un r\xE9seau","network.cancel":"Annuler","network.from":"De","network.proceed":"Continuer","network.switch-request":"Ce site demande de changer de r\xE9seau","network.to":"\xC0","otp.email-subtext":"Veuillez entrer le code de v\xE9rification 6 chiffres","otp.email-subtext-example":"qui a \xE9t\xE9 envoy\xE9 \xE0 votre email {{email}}","otp.email-title":"V\xE9rification de l'email","otp.mobile-subtext":"Entrez le OTP envoy\xE9 \xE0","otp.mobile-title":"V\xE9rification OTP","otp.success":"Vous \xEAtes connect\xE9 \xE0 votre compte!","passkey.add":"Ajouter Passkey","passkey.haveExisting":"Vous disposez d\xE9j\xE0 d'un passkey\xA0?","passkey.learn-more":"Apprendre encore plus","passkey.or":"ou","passkey.register-desc":"Avec passkeys, vous pouvez v\xE9rifier votre identit\xE9 gr\xE2ce \xE0 votre visage, vos empreintes digitales ou vos cl\xE9s de s\xE9curit\xE9.","passkey.register-title":"Inscrivez-vous Passkey","passkey.use":"J'ai un passkey","passwordless.title":"Continuer avec {{title}}","popup.phone-body":"Votre code pays sera d\xE9tect\xE9 automatiquement, mais si vous utilisez un num\xE9ro de t\xE9l\xE9phone d'un autre pays, vous devrez saisir manuellement le bon code pays.","popup.phone-header":"Num\xE9ro de t\xE9l\xE9phone et code pays","post-loading.connected":"Vous \xEAtes connect\xE9 avec votre compte","post-loading.something-wrong":"Quelque chose s'est mal pass\xE9!",resendCode:"Renvoyer le code",resendTimer:" Renvoyer dans {{timer}} secondes","social.continue":"Continuer avec","social.continueCustom":"Continuer avec {{adapter}}","social.email":"Email","social.email-continue":"Continuer avec l'email","social.email-new":"nom@exemple.com","social.passwordless-cta":"Continuer","social.passwordless-login":"Se connecter","social.passwordless-title":"Email/T\xE9l\xE9phone","social.phone":"T\xE9l\xE9phone","social.policy":"Nous ne stockons aucune donn\xE9e li\xE9e \xE0 vos connexions sociales.","social.sign-in":"Connexion","social.sms":"Mobile","social.sms-continue":"Continuer avec le mobile","social.sms-invalid-number":"Num\xE9ro de t\xE9l\xE9phone invalide","social.sms-placeholder-text":"Par exemple :","social.view-less":"Voir moins","social.view-less-socials":"Voir moins socials","social.view-more":"Voir plus","social.view-more-socials":"Voir plus socials"},Wgt={"error-invalid-link":"Lien de v\xE9rification invalide ou lien expir\xE9","error-invalid-origin":"Quelque chose s'est mal pass\xE9, code d'erreur: E002","error-invalid-otp":"OTP non valide, veuillez r\xE9essayer","error-invalid-params":"Param\xE8tres manquants ou invalides.","error-max-retry-limit-reached":"Vous avez atteint la limite pour les tentatives erron\xE9es. Veuillez red\xE9marrer le flux pour terminer la v\xE9rification.","error-new-link-generated-heading":"Nouveau lien de v\xE9rification g\xE9n\xE9r\xE9","error-no-mail-generated":"Aucun courrier g\xE9n\xE9r\xE9. Veuillez d'abord lancer le flux sans mot de passe.","error-no-sms-generated":"Aucun OTP g\xE9n\xE9r\xE9. Veuillez d'abord lancer le flux sans mot de passe.","error-otp-expired":"OTP expir\xE9","error-plan-limit-reached":"E411. Limite atteinte","error-recaptcha-verification-failed":"La v\xE9rification Captcha a \xE9chou\xE9. Veuillez r\xE9essayer.","error-sending-sms-failed":"Une erreur s'est produite lors de l'envoi d'un SMS. Veuillez r\xE9essayer.","error-invalid-test-account":"Compte de test non valide","something-wrong-error":"Quelque chose s'est mal pass\xE9"},Z9n={modal:qgt,passwordless:Wgt}});var Xgt={};$t(Xgt,{default:()=>X9n,modal:()=>Qgt,passwordless:()=>Zgt});var Qgt,Zgt,X9n,e8t=B(()=>{Qgt={"adapter-loader.message":"Verifique a sua conta {{adapter}} para continuar","adapter-loader.message1":"Verifique o(a) seu/sua {{adapter}}","adapter-loader.message2":"conta para continuar",allChains:"Todas as cadeias","connect-wallet.more-wallets":"Mais carteiras",connectYourWallet:"Conecte seu portefeuille","errors-invalid-email":"E-mail inv\xE1lido","errors-invalid-number":"N\xFAmero de telefone inv\xE1lido","errors-invalid-number-email":"Email ou n\xFAmero de telefone inv\xE1lido","errors-required":"Obrigat\xF3rio","external.all-wallets":"Todas as carteiras","external.back":"Voltar","external.connect":"Continuar com uma carteira","external.connect-wallet":"Conectar carteira","external.continue":"Continuar com carteira externa","external.continue-custom":"Continue com o {{wallet}}","external.dont-have":"N\xE3o tem","external.get":"Obter","external.get-wallet":"Obter carteira","external.install-browser-extension":"Instalar extens\xE3o {{browser}}","external.install-mobile-app":"Instalar aplicativo {{os}}","external.installed":"Instalado","external.no-wallets-found":"Nenhuma carteira encontrada","external.search-subtext":"Tente pesquisar","external.search-text":"N\xE3o v\xEA sua carteira?","external.search-wallet":"Pesquisar atrav\xE9s de {{count}} carteiras...","external.select-chain":"Selecionar cadeia","external.select-chain-description":"Este {{wallet}} carteira suporta v\xE1rias cadeias. Selecione a cadeia que voc\xEA gostaria de conectar","external.title":"Carteira Externa","external.walletconnect-connect":"Conectar","external.walletconnect-copy":"Digitalize o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect ou clique para copiar o link","external.walletconnect-subtitle":"Digitalize o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect","footer.and":"e","footer.by-signing-in":"Ao se conectar, voc\xEA concorda com nossos","footer.message":"Login de autocust\xF3dia por","footer.message-new":"Autoconfian\xE7a via","footer.policy":"Pol\xEDtica de Privacidade","footer.privacy-policy":"Pol\xEDtica de privacidade","footer.terms":"Termos de Uso","footer.terms-of-service":"Termos de uso","footer.terms-service":"Termos de Servi\xE7o","footer.version":"Vers\xE3o",getWallet:"Obter carteira","header-subtitle":"Selecione uma das seguintes op\xE7\xF5es para continuar","header-subtitle-name":"Sua carteira {{appName}} com um clique","header-subtitle-new":"Sua carteira de blockchain com um clique","header-title":"Entrar","header-tooltip-desc":"A carteira serve como uma conta para armazenar e gerenciar seus ativos digitais na blockchain.","header-tooltip-title":"Carteira","network.add-request":"Este site est\xE1 solicitando adicionar uma rede","network.cancel":"Cancelar","network.from":"De","network.proceed":"Prosseguir","network.switch-request":"Este site est\xE1 solicitando trocar de rede","network.to":"Para","otp.email-subtext":"Por favor, insira o c\xF3digo de verifica\xE7\xE3o de 6 d\xEDgitos","otp.email-subtext-example":"que foi enviado para o seu email {{email}}","otp.email-title":"Verifica\xE7\xE3o de email","otp.mobile-subtext":"Verifique o OTP enviado para","otp.mobile-title":"Verifica\xE7\xE3o OTP","otp.success":"Voc\xEA est\xE1 conectado ao seu conta!","passkey.add":"Adicionar Passkey","passkey.haveExisting":"Voc\xEA j\xE1 possui um passkey?","passkey.learn-more":"Saber mais","passkey.or":"ou","passkey.register-desc":"Com passkeys, voc\xEA pode verificar sua identidade por meio de seu rosto, impress\xE3o digital ou chaves de seguran\xE7a.","passkey.register-title":"Registre-se Passkey","passkey.use":"Eu tenho uma passkey","passwordless.title":"Continuar com {{title}}","popup.phone-body":"O c\xF3digo do seu pa\xEDs ser\xE1 detectado automaticamente, mas se estiver usando um n\xFAmero de telefone de um pa\xEDs diferente, voc\xEA precisar\xE1 inserir manualmente o c\xF3digo correto do pa\xEDs.","popup.phone-header":"N\xFAmero de telefone e c\xF3digo do pa\xEDs","post-loading.connected":"Voc\xEA est\xE1 conectado com sua conta","post-loading.something-wrong":"Algo deu errado!",resendCode:"Reenviar c\xF3digo",resendTimer:" Reenviar em {{timer}} segundos","social.continue":"Continuar com","social.continueCustom":"Continue com o {{adapter}}","social.email":"Email","social.email-continue":"Continuar com email","social.email-new":"nome@exemplo.com","social.passwordless-cta":"Continuar","social.passwordless-login":"Conecte-se","social.passwordless-title":"Email/Telefone","social.phone":"Telefone","social.policy":"N\xE3o armazenamos nenhum dado relacionado ao seu login por rede social.","social.sign-in":"Entrar","social.sms":"M\xF3vel","social.sms-continue":"Continuar com o celular","social.sms-invalid-number":"N\xFAmero de telefone inv\xE1lido","social.sms-placeholder-text":"Por exemplo:","social.view-less":"Ver menos","social.view-less-socials":"Ver menos socials","social.view-more":"Ver mais","social.view-more-socials":"Ver mais socials"},Zgt={"error-invalid-link":"Link de verifica\xE7\xE3o inv\xE1lido ou link expirado","error-invalid-origin":"Algo deu errado, c\xF3digo de erro: E002","error-invalid-otp":"OTP inv\xE1lido, por favor tente novamente","error-invalid-params":"Par\xE2metros ausentes ou inv\xE1lidos","error-max-retry-limit-reached":"Voc\xEA atingiu o limite para tentativas erradas. Reinicie o fluxo novamente para concluir a verifica\xE7\xE3o.","error-new-link-generated-heading":"Novo link de verifica\xE7\xE3o gerado","error-no-mail-generated":"Nenhum correio gerado. Inicie o fluxo sem senha primeiro.","error-no-sms-generated":"Nenhum OTP gerado. Inicie o fluxo sem senha primeiro.","error-otp-expired":"OTP expirou","error-plan-limit-reached":"E411. Limite atingido","error-recaptcha-verification-failed":"A verifica\xE7\xE3o Captcha falhou. Por favor, tente novamente.","error-sending-sms-failed":"Houve um erro de envio de um SMS. Por favor, tente novamente.","error-invalid-test-account":"Conta de teste inv\xE1lida","something-wrong-error":"Algo deu errado"},X9n={modal:Qgt,passwordless:Zgt}});var r8t={};$t(r8t,{default:()=>eEn,modal:()=>t8t,passwordless:()=>n8t});var t8t,n8t,eEn,i8t=B(()=>{t8t={"adapter-loader.message":"Verifieer uw {{adapter}}-account om door te gaan","adapter-loader.message1":"Verifieer uw {{adapter}}","adapter-loader.message2":"account om door te gaan",allChains:"Alle ketens","connect-wallet.more-wallets":"Meer portemonnees",connectYourWallet:"Uw portemonnee verbinden","errors-invalid-email":"Ongeldig e-mailadres","errors-invalid-number":"Ongeldig telefoonnummer","errors-invalid-number-email":"Ongeldig e-mailadres of telefoonnummer","errors-required":"Vereist","external.all-wallets":"Alle portemonnees","external.back":"Terug","external.connect":"Ga verder met een portemonnee","external.connect-wallet":"Verbinden met portemonnee","external.continue":"Ga verder met externe portemonnee","external.continue-custom":"Doorgaan met {{wallet}}","external.dont-have":"Heb niet","external.get":"Krijgen","external.get-wallet":"Portemonnee krijgen","external.install-browser-extension":"{{browser}}-extensie installeren","external.install-mobile-app":"Installeer {{os}}-app","external.installed":"Ge\xEFnstalleerd","external.no-wallets-found":"Geen portefeuilles gevonden","external.search-subtext":"Probeer in plaats daarvan te zoeken","external.search-text":"Ziet u uw portemonnee niet?","external.search-wallet":"Zoeken door {{count}} portemonnees...","external.select-chain":"Ketting selecteren","external.select-chain-description":"Deze {{wallet}} portemonnee ondersteunt meerdere ketens. Selecteer welke ketting u wilt verbinden","external.title":"Externe portemonnee","external.walletconnect-connect":"Verbinden","external.walletconnect-copy":"Scan de QR-code met een WalletConnect-compatibele portemonnee of klik op de QR-code om de link naar je klembord te kopi\xEBren.","external.walletconnect-subtitle":"Scan de QR-code met een WalletConnect-compatibele portemonnee","footer.and":"en","footer.by-signing-in":"Door in te loggen, gaat u akkoord met onze","footer.message":"Zelfbeheerde login door","footer.message-new":"Zelfkusten via","footer.policy":"Privacybeleid","footer.privacy-policy":"Privacy Policy","footer.terms":"Gebruiksvoorwaarden","footer.terms-of-service":"Gebruiksvoorwaarden","footer.terms-service":"Gebruiksvoorwaarden","footer.version":"Versie",getWallet:"Portemonnee ophalen","header-subtitle":"Selecteer een van de volgende opties om door te gaan","header-subtitle-name":"Uw {{appName}}-portemonnee met \xE9\xE9n klik","header-subtitle-new":"Uw blockchain-portemonnee met \xE9\xE9n klik","header-title":"Aanmelden","header-tooltip-desc":"De portemonnee dient als een account om uw digitale activa op de blockchain op te slaan en te beheren.","header-tooltip-title":"Portemonnee","network.add-request":"Deze site vraagt om een netwerk toe te voegen","network.cancel":"Annuleren","network.from":"Van","network.proceed":"Doorgaan","network.switch-request":"Deze site vraagt om over te schakelen naar een ander netwerk","network.to":"Naar","otp.email-subtext":"Voer de 6-cijferige verificatiecode in","otp.email-subtext-example":"{{email}} adres is verstuurd","otp.email-title":"Email Verificatie","otp.mobile-subtext":"OTP Verificatie","otp.mobile-title":"OTP Verificatie","otp.success":"U bent verbonden met uw account!","passkey.add":"Passkey toevoegen","passkey.haveExisting":"Heeft u een bestaande passkey?","passkey.learn-more":"Kom meer te weten","passkey.or":"of","passkey.register-desc":"Met passkeys kunt u uw identiteit verifi\xEBren via uw gezicht, vingerafdruk of beveiligingssleutels.","passkey.register-title":"Registreer Passkey","passkey.use":"Ik heb een passkey","passwordless.title":"Doorgaan met {{title}}","popup.phone-body":"Uw landcode wordt automatisch gedetecteerd, maar als u een telefoonnummer uit een ander land gebruikt, moet u handmatig de juiste landcode invoeren.","popup.phone-header":"Telefoonnummer en landcode","post-loading.connected":"U bent verbonden met uw account","post-loading.something-wrong":"Er is iets fout gegaan!",resendCode:"Code opnieuw verzenden",resendTimer:" Opnieuw verzenden in {{timer}} seconden","social.continue":"Doorgaan met","social.continueCustom":"Doorgaan met {{adapter}}","social.email":"E-mail","social.email-continue":"Doorgaan met e-mail","social.email-new":"naam@voorbeeld.com","social.passwordless-cta":"Doorgaan","social.passwordless-login":"Log in","social.passwordless-title":"E-mail/Telefoon","social.phone":"Telefoon","social.policy":"We slaan geen gegevens op die verband houden met uw sociale logins.","social.sign-in":"Inloggen","social.sms":"Mobiel","social.sms-continue":"Doorgaan met mobiel","social.sms-invalid-number":"Ongeldig telefoonnummer","social.sms-placeholder-text":"Bijv.:","social.view-less":"Minder bekijken","social.view-less-socials":"Bekijk minder socials","social.view-more":"Meer bekijken","social.view-more-socials":"Bekijk meer socials"},n8t={"error-invalid-link":"Ongeldige verificatielink of link verlopen","error-invalid-origin":"Er is iets misgegaan, foutcode: E002","error-invalid-otp":"Ongeldige OTP, probeer het opnieuw","error-invalid-params":"Ontbrekende of ongeldige parameters","error-max-retry-limit-reached":"U heeft de limiet voor verkeerde pogingen bereikt. Start de stroom opnieuw om de verificatie te voltooien.","error-new-link-generated-heading":"Nieuwe verificatielink gegenereerd","error-no-mail-generated":"Geen e-mail gegenereerd. Start eerst de wachtwoordloze flow.","error-no-sms-generated":"Geen OTP gegenereerd. Start eerst de wachtwoordloze flow.","error-otp-expired":"OTP verlopen","error-plan-limit-reached":"E411. Limiet bereikt","error-recaptcha-verification-failed":"Er is iets misgegaan tijdens het verifi\xEBren. Probeer het opnieuw door de pagina te laden.","error-sending-sms-failed":"Er is een fout opgetreden bij het verzenden van een sms. Probeer het opnieuw.","error-invalid-test-account":"Ongeldig testaccount","something-wrong-error":"Er is iets misgegaan"},eEn={modal:t8t,passwordless:n8t}});var s8t={};$t(s8t,{default:()=>tEn,modal:()=>a8t,passwordless:()=>o8t});var a8t,o8t,tEn,c8t=B(()=>{a8t={"adapter-loader.message":"Devam etmek i\xE7in {{adapter}} hesab\u0131n\u0131z\u0131 do\u011Frula","adapter-loader.message1":"{{adapter}} do\u011Frula","adapter-loader.message2":"devam edecek hesap",allChains:"T\xFCm zincirler","connect-wallet.more-wallets":"Daha fazla c\xFCzdan",connectYourWallet:"C\xFCzdan\u0131n\u0131z\u0131 ba\u011Flay\u0131n","errors-invalid-email":"Ge\xE7ersiz E-posta","errors-invalid-number":"Ge\xE7ersiz Telefon Numaras\u0131","errors-invalid-number-email":"Ge\xE7ersiz E-posta veya Telefon Numaras\u0131","errors-required":"Zorunlu","external.all-wallets":"T\xFCm c\xFCzdanlar","external.back":"Geri","external.connect":"C\xFCzdanla devam et","external.connect-wallet":"C\xFCzdan\u0131 Ba\u011Fla","external.continue":"Harici c\xFCzdanla devam et","external.continue-custom":"{{wallet}} ile devam et","external.dont-have":"Yok","external.get":"Al","external.get-wallet":"C\xFCzdan Al","external.install-browser-extension":"{{browser}} uzant\u0131s\u0131n\u0131 y\xFCkle","external.install-mobile-app":"{{os}} uygulamas\u0131n\u0131 y\xFCkle","external.installed":"Y\xFCklendi","external.no-wallets-found":"C\xFCzdan bulunamad\u0131","external.search-subtext":"Bunun yerine aramay\u0131 deneyin","external.search-text":"C\xFCzdan\u0131n\u0131z\u0131 g\xF6rm\xFCyor musunuz?","external.search-wallet":"{{count}} c\xFCzdan ara...","external.select-chain":"Zincir se\xE7","external.select-chain-description":"Bu {{wallet}} c\xFCzdan birden fazla zincir destekler. \u0130stedi\u011Finiz zinciri se\xE7in","external.title":"Harici C\xFCzdan","external.walletconnect-connect":"Ba\u011Fla","external.walletconnect-copy":"WalletConnect destekli bir c\xFCzdanla QR kodu taray\u0131n veya ba\u011Flant\u0131y\u0131 kopyalay\u0131n","external.walletconnect-subtitle":"QR kodunu WalletConnect uyumlu bir c\xFCzdanla taray\u0131n","footer.and":"ve","footer.by-signing-in":"Giri\u015F yapmak, bizimle ilgili \u015Fartlar\u0131 kabul etti\u011Finiz anlam\u0131na gelir.","footer.message":"\xD6z-y\xF6netimli giri\u015F yapan:","footer.message-new":"Kendi kendine velayet","footer.policy":"Gizlilik Politikas\u0131","footer.privacy-policy":"Gizlilik Politikas\u0131","footer.terms":"Kullan\u0131m \u015Eartlar\u0131","footer.terms-of-service":"Kullan\u0131m \u015Eartlar\u0131","footer.terms-service":"Hizmet \u015Eartlar\u0131","footer.version":"Versiyon",getWallet:"C\xFCzdan\u0131 al","header-subtitle":"Devam etmek i\xE7in se\xE7eneklerden birini i\u015Faretle","header-subtitle-name":"Tek t\u0131klama ile {{appName}} c\xFCzdan\u0131n\u0131z","header-subtitle-new":"Tek t\u0131klama ile blockchain c\xFCzdan\u0131n\u0131z","header-title":"Giri\u015F yap","header-tooltip-desc":"C\xFCzdan, dijital varl\u0131klar\u0131n\u0131z\u0131 blockchain'de saklama ve y\xF6netme g\xF6revi g\xF6r\xFCr.","header-tooltip-title":"C\xFCzdan","network.add-request":"Bu site bir a\u011F eklemek istiyor","network.cancel":"\u0130ptal","network.from":"Nereden","network.proceed":"Devam","network.switch-request":"Bu site a\u011F de\u011Fi\u015Ftirmeyi talep ediyor","network.to":"Nereye","otp.email-subtext":"6 haneli do\u011Frulama kodunu giriniz","otp.email-subtext-example":"{{email}} adresine g\xF6nderildi","otp.email-title":"Email Do\u011Frulama","otp.mobile-subtext":"OTP Do\u011Frulama","otp.mobile-title":"OTP Do\u011Frulama","otp.success":"Hesab\u0131n\u0131za ba\u011Fland\u0131n\u0131z!","passkey.add":"Passkey ekle","passkey.haveExisting":"Mevcut bir passkey'\u0131n\u0131z m\u0131 var?","passkey.learn-more":"Daha fazla bilgi edin","passkey.or":"veya","passkey.register-desc":"passkeys ile kimli\u011Finizi y\xFCz\xFCn\xFCz, parmak iziniz veya g\xFCvenlik anahtarlar\u0131n\u0131z arac\u0131l\u0131\u011F\u0131yla do\u011Frulayabilirsiniz.","passkey.register-title":"Passkey'\u0131 kaydedin","passkey.use":"Bir passkey'im var","passwordless.title":"{{title}} ile devam et","popup.phone-body":"\xDClke kodunuz otomatik olarak alg\u0131lanacakt\u0131r, ancak farkl\u0131 bir \xFClkeden bir telefon numaras\u0131 kullan\u0131yorsan\u0131z, do\u011Fru \xFClke kodunu manuel olarak girmeniz gerekir.","popup.phone-header":"Telefon numaras\u0131 ve \xFClke kodu","post-loading.connected":"Hesab\u0131n\u0131zla ba\u011Fland\u0131n\u0131z","post-loading.something-wrong":"Bir \u015Feyler ters gitti!",resendCode:"Kodu tekrar g\xF6nder",resendTimer:" {{timer}} saniye sonra tekrar g\xF6nder","social.continue":"Devam et: ","social.continueCustom":"{{adapter}} ile devam et","social.email":"E-posta","social.email-continue":"E-posta ile devam et","social.email-new":"isim@ornek.com","social.passwordless-cta":"Devam et","social.passwordless-login":"Giri\u015F yapmak","social.passwordless-title":"E-posta/Telefon","social.phone":"Telefon","social.policy":"Sosyal medya giri\u015Flerinizle ilgili hi\xE7bir veriyi saklam\u0131yoruz.","social.sign-in":"Giri\u015F yap","social.sms":"Mobil Telefon","social.sms-continue":"Telefon ile devam et","social.sms-invalid-number":"Ge\xE7ersiz telefon numaras\u0131","social.sms-placeholder-text":"\xD6rne\u011Fin:","social.view-less":"Daha az g\xF6r\xFCnt\xFCle","social.view-less-socials":"Daha az socials g\xF6r\xFCnt\xFCle","social.view-more":"Daha fazla g\xF6r\xFCnt\xFCle","social.view-more-socials":"Daha fazlas\u0131n\u0131 g\xF6r\xFCnt\xFCle socials"},o8t={"error-invalid-link":"Hatal\u0131 ya da s\xFCresi ge\xE7mi\u015F do\u011Frulama linki","error-invalid-origin":"Bir \u015Feyler ters gitti, hata kodu: E002","error-invalid-otp":"Hatal\u0131 OTP, l\xFCtfen tekrar deneyin.","error-invalid-params":"Eksik ya da hatal\u0131 parametreler var.","error-max-retry-limit-reached":"Hatal\u0131 deneme limitine ula\u015Ft\u0131n\u0131z. Do\u011Frulamay\u0131 tamamlamak i\xE7in l\xFCtfen ak\u0131\u015F\u0131 ba\u015Ftan ba\u015Flat\u0131n.","error-new-link-generated-heading":"Yeni do\u011Frulama linki olu\u015Fturuldu.","error-no-mail-generated":"E-posta olu\u015Fturulmad\u0131. L\xFCtfen \xF6nce \u015Fifresiz ak\u0131\u015F\u0131 ba\u015Flat\u0131n.","error-no-sms-generated":"OTP olu\u015Fturulmad\u0131. L\xFCtfen \xF6nce \u015Fifresiz ak\u0131\u015F\u0131 ba\u015Flat\u0131n.","error-otp-expired":"OTP'nin s\xFCresi ge\xE7ti.","error-plan-limit-reached":"E411. S\u0131n\u0131r a\u015F\u0131ld\u0131","error-recaptcha-verification-failed":"Captcha do\u011Frulama hatas\u0131. L\xFCtfen tekrar deneyin.","error-sending-sms-failed":"SMS g\xF6nderilirken bir hata oldu. L\xFCtfen tekrar deneyin.","error-invalid-test-account":"Ge\xE7ersiz test hesab\u0131","something-wrong-error":"Bir \u015Feyler ters gitti"},tEn={modal:a8t,passwordless:o8t}});var m1,P4e=B(()=>{m1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});function l3(t,e,n){return Math.min(Math.max(e,t),n)}function Jte(t){let e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}var l8t,Iu,G9,u8t=B(()=>{P4e();l8t=Object.create(null);for(let t in m1)Object.hasOwn(m1,t)&&(l8t[m1[t]]=t);Iu={to:{},get:{}};Iu.get=function(t){let e=t.slice(0,3).toLowerCase(),n,r;switch(e){case"hsl":{n=Iu.get.hsl(t),r="hsl";break}case"hwb":{n=Iu.get.hwb(t),r="hwb";break}default:{n=Iu.get.rgb(t),r="rgb";break}}return n?{model:r,value:n}:null};Iu.get.rgb=function(t){if(!t)return null;let e=/^#([a-f\d]{3,4})$/i,n=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,o=[0,0,0,1],s,c,l;if(s=t.match(n)){for(l=s[2],s=s[1],c=0;c<3;c++){let u=c*2;o[c]=Number.parseInt(s.slice(u,u+2),16)}l&&(o[3]=Number.parseInt(l,16)/255)}else if(s=t.match(e)){for(s=s[1],l=s[3],c=0;c<3;c++)o[c]=Number.parseInt(s[c]+s[c],16);l&&(o[3]=Number.parseInt(l+l,16)/255)}else if(s=t.match(r)){for(c=0;c<3;c++)o[c]=Number.parseInt(s[c+1],10);s[4]&&(o[3]=s[5]?Number.parseFloat(s[4])*.01:Number.parseFloat(s[4]))}else if(s=t.match(i)){for(c=0;c<3;c++)o[c]=Math.round(Number.parseFloat(s[c+1])*2.55);s[4]&&(o[3]=s[5]?Number.parseFloat(s[4])*.01:Number.parseFloat(s[4]))}else return(s=t.match(a))?s[1]==="transparent"?[0,0,0,0]:Object.hasOwn(m1,s[1])?(o=m1[s[1]],o[3]=1,o):null:null;for(c=0;c<3;c++)o[c]=l3(o[c],0,255);return o[3]=l3(o[3],0,1),o};Iu.get.hsl=function(t){if(!t)return null;let e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){let r=Number.parseFloat(n[4]),i=(Number.parseFloat(n[1])%360+360)%360,a=l3(Number.parseFloat(n[2]),0,100),o=l3(Number.parseFloat(n[3]),0,100),s=l3(Number.isNaN(r)?1:r,0,1);return[i,a,o,s]}return null};Iu.get.hwb=function(t){if(!t)return null;let e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){let r=Number.parseFloat(n[4]),i=(Number.parseFloat(n[1])%360+360)%360,a=l3(Number.parseFloat(n[2]),0,100),o=l3(Number.parseFloat(n[3]),0,100),s=l3(Number.isNaN(r)?1:r,0,1);return[i,a,o,s]}return null};Iu.to.hex=function(...t){return"#"+Jte(t[0])+Jte(t[1])+Jte(t[2])+(t[3]<1?Jte(Math.round(t[3]*255)):"")};Iu.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Iu.to.rgb.percent=function(...t){let e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"};Iu.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Iu.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Iu.to.keyword=function(...t){return l8t[t.slice(0,3)]};G9=Iu});function lI(t){let e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function uI(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}function nEn(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}var f8t,kt,Yy,Wy,k4e=B(()=>{P4e();f8t={};for(let t of Object.keys(m1))f8t[m1[t]]=t;kt={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Yy=kt,Wy=(6/29)**3;for(let t of Object.keys(kt)){if(!("channels"in kt[t]))throw new Error("missing channels property: "+t);if(!("labels"in kt[t]))throw new Error("missing channel labels property: "+t);if(kt[t].labels.length!==kt[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:n}=kt[t];delete kt[t].channels,delete kt[t].labels,Object.defineProperty(kt[t],"channels",{value:e}),Object.defineProperty(kt[t],"labels",{value:n})}kt.rgb.hsl=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=a-i,s,c;switch(a){case i:{s=0;break}case e:{s=(n-r)/o;break}case n:{s=2+(r-e)/o;break}case r:{s=4+(e-n)/o;break}}s=Math.min(s*60,360),s<0&&(s+=360);let l=(i+a)/2;return a===i?c=0:l<=.5?c=o/(a+i):c=o/(2-a-i),[s,c*100,l*100]};kt.rgb.hsv=function(t){let e,n,r,i,a,o=t[0]/255,s=t[1]/255,c=t[2]/255,l=Math.max(o,s,c),u=l-Math.min(o,s,c),f=function(d){return(l-d)/6/u+1/2};if(u===0)i=0,a=0;else{switch(a=u/l,e=f(o),n=f(s),r=f(c),l){case o:{i=r-n;break}case s:{i=1/3+e-r;break}case c:{i=2/3+n-e;break}}i<0?i+=1:i>1&&(i-=1)}return[i*360,a*100,l*100]};kt.rgb.hwb=function(t){let e=t[0],n=t[1],r=t[2],i=kt.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,a*100,r*100]};kt.rgb.oklab=function(t){let e=uI(t[0]/255),n=uI(t[1]/255),r=uI(t[2]/255),i=Math.cbrt(.4122214708*e+.5363325363*n+.0514459929*r),a=Math.cbrt(.2119034982*e+.6806995451*n+.1073969566*r),o=Math.cbrt(.0883024619*e+.2817188376*n+.6299787005*r),s=.2104542553*i+.793617785*a-.0040720468*o,c=1.9779984951*i-2.428592205*a+.4505937099*o,l=.0259040371*i+.7827717662*a-.808675766*o;return[s*100,c*100,l*100]};kt.rgb.cmyk=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),a=(1-e-i)/(1-i)||0,o=(1-n-i)/(1-i)||0,s=(1-r-i)/(1-i)||0;return[a*100,o*100,s*100,i*100]};kt.rgb.keyword=function(t){let e=f8t[t];if(e)return e;let n=Number.POSITIVE_INFINITY,r;for(let i of Object.keys(m1)){let a=m1[i],o=nEn(t,a);o<n&&(n=o,r=i)}return r};kt.keyword.rgb=function(t){return m1[t]};kt.rgb.xyz=function(t){let e=uI(t[0]/255),n=uI(t[1]/255),r=uI(t[2]/255),i=e*.4124564+n*.3575761+r*.1804375,a=e*.2126729+n*.7151522+r*.072175,o=e*.0193339+n*.119192+r*.9503041;return[i*100,a*100,o*100]};kt.rgb.lab=function(t){let e=kt.rgb.xyz(t),n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>Wy?n**(1/3):7.787*n+16/116,r=r>Wy?r**(1/3):7.787*r+16/116,i=i>Wy?i**(1/3):7.787*i+16/116;let a=116*r-16,o=500*(n-r),s=200*(r-i);return[a,o,s]};kt.hsl.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i,a;if(n===0)return a=r*255,[a,a,a];let o=r<.5?r*(1+n):r+n-r*n,s=2*r-o,c=[0,0,0];for(let l=0;l<3;l++)i=e+1/3*-(l-1),i<0&&i++,i>1&&i--,6*i<1?a=s+(o-s)*6*i:2*i<1?a=o:3*i<2?a=s+(o-s)*(2/3-i)*6:a=s,c[l]=a*255;return c};kt.hsl.hsv=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=n,a=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=a<=1?a:2-a;let o=(r+n)/2,s=r===0?2*i/(a+i):2*n/(r+n);return[e,s*100,o*100]};kt.hsv.rgb=function(t){let e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,a=e-Math.floor(e),o=255*r*(1-n),s=255*r*(1-n*a),c=255*r*(1-n*(1-a));switch(r*=255,i){case 0:return[r,c,o];case 1:return[s,r,o];case 2:return[o,r,c];case 3:return[o,s,r];case 4:return[c,o,r];case 5:return[r,o,s]}};kt.hsv.hsl=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01),a,o;o=(2-n)*r;let s=(2-n)*i;return a=n*i,a/=s<=1?s:2-s,a=a||0,o/=2,[e,a*100,o*100]};kt.hwb.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i=n+r,a;i>1&&(n/=i,r/=i);let o=Math.floor(6*e),s=1-r;a=6*e-o,(o&1)!==0&&(a=1-a);let c=n+a*(s-n),l,u,f;switch(o){default:case 6:case 0:{l=s,u=c,f=n;break}case 1:{l=c,u=s,f=n;break}case 2:{l=n,u=s,f=c;break}case 3:{l=n,u=c,f=s;break}case 4:{l=c,u=n,f=s;break}case 5:{l=s,u=n,f=c;break}}return[l*255,u*255,f*255]};kt.cmyk.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,a=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),s=1-Math.min(1,r*(1-i)+i);return[a*255,o*255,s*255]};kt.xyz.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i,a,o;return i=e*3.2404542+n*-1.5371385+r*-.4985314,a=e*-.969266+n*1.8760108+r*.041556,o=e*.0556434+n*-.2040259+r*1.0572252,i=lI(i),a=lI(a),o=lI(o),[i*255,a*255,o*255]};kt.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>Wy?e**(1/3):7.787*e+16/116,n=n>Wy?n**(1/3):7.787*n+16/116,r=r>Wy?r**(1/3):7.787*r+16/116;let i=116*n-16,a=500*(e-n),o=200*(n-r);return[i,a,o]};kt.xyz.oklab=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=Math.cbrt(.8189330101*e+.3618667424*n-.1288597137*r),a=Math.cbrt(.0329845436*e+.9293118715*n+.0361456387*r),o=Math.cbrt(.0482003018*e+.2643662691*n+.633851707*r),s=.2104542553*i+.793617785*a-.0040720468*o,c=1.9779984951*i-2.428592205*a+.4505937099*o,l=.0259040371*i+.7827717662*a-.808675766*o;return[s*100,c*100,l*100]};kt.oklab.oklch=function(t){return kt.lab.lch(t)};kt.oklab.xyz=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=(.999999998*e+.396337792*n+.215803758*r)**3,a=(1.000000008*e-.105561342*n-.063854175*r)**3,o=(1.000000055*e-.089484182*n-1.291485538*r)**3,s=1.227013851*i-.55779998*a+.281256149*o,c=-.040580178*i+1.11225687*a-.071676679*o,l=-.076381285*i-.421481978*a+1.58616322*o;return[s*100,c*100,l*100]};kt.oklab.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=(e+.3963377774*n+.2158037573*r)**3,a=(e-.1055613458*n-.0638541728*r)**3,o=(e-.0894841775*n-1.291485548*r)**3,s=lI(4.0767416621*i-3.3077115913*a+.2309699292*o),c=lI(-1.2684380046*i+2.6097574011*a-.3413193965*o),l=lI(-.0041960863*i-.7034186147*a+1.707614701*o);return[s*255,c*255,l*255]};kt.oklch.oklab=function(t){return kt.lch.lab(t)};kt.lab.xyz=function(t){let e=t[0],n=t[1],r=t[2],i,a,o;a=(e+16)/116,i=n/500+a,o=a-r/200;let s=a**3,c=i**3,l=o**3;return a=s>Wy?s:(a-16/116)/7.787,i=c>Wy?c:(i-16/116)/7.787,o=l>Wy?l:(o-16/116)/7.787,i*=95.047,a*=100,o*=108.883,[i,a,o]};kt.lab.lch=function(t){let e=t[0],n=t[1],r=t[2],i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(n*n+r*r);return[e,o,i]};kt.lch.lab=function(t){let e=t[0],n=t[1],i=t[2]/360*2*Math.PI,a=n*Math.cos(i),o=n*Math.sin(i);return[e,a,o]};kt.rgb.ansi16=function(t,e=null){let[n,r,i]=t,a=e===null?kt.rgb.hsv(t)[2]:e;if(a=Math.round(a/50),a===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return a===2&&(o+=60),o};kt.hsv.ansi16=function(t){return kt.rgb.ansi16(kt.hsv.rgb(t),t[2])};kt.rgb.ansi256=function(t){let e=t[0],n=t[1],r=t[2];return e>>4===n>>4&&n>>4===r>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};kt.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let n=(Math.trunc(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,a=(e>>2&1)*n*255;return[r,i,a]};kt.ansi256.rgb=function(t){if(t=t[0],t>=232){let a=(t-232)*10+8;return[a,a,a]}t-=16;let e,n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};kt.rgb.hex=function(t){let n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(n.length)+n};kt.hex.rgb=function(t){let e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=[...n].map(s=>s+s).join(""));let r=Number.parseInt(n,16),i=r>>16&255,a=r>>8&255,o=r&255;return[i,a,o]};kt.rgb.hcg=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),a=Math.min(Math.min(e,n),r),o=i-a,s,c=o<1?a/(1-o):0;return o<=0?s=0:i===e?s=(n-r)/o%6:i===n?s=2+(r-e)/o:s=4+(e-n)/o,s/=6,s%=1,[s*360,o*100,c*100]};kt.hsl.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};kt.hsv.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};kt.hcg.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];let i=[0,0,0],a=e%1*6,o=a%1,s=1-o,c=0;switch(Math.floor(a)){case 0:{i[0]=1,i[1]=o,i[2]=0;break}case 1:{i[0]=s,i[1]=1,i[2]=0;break}case 2:{i[0]=0,i[1]=1,i[2]=o;break}case 3:{i[0]=0,i[1]=s,i[2]=1;break}case 4:{i[0]=o,i[1]=0,i[2]=1;break}default:i[0]=1,i[1]=0,i[2]=s}return c=(1-n)*r,[(n*i[0]+c)*255,(n*i[1]+c)*255,(n*i[2]+c)*255]};kt.hcg.hsv=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};kt.hcg.hsl=function(t){let e=t[1]/100,r=t[2]/100*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};kt.hcg.hwb=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};kt.hwb.hcg=function(t){let e=t[1]/100,r=1-t[2]/100,i=r-e,a=0;return i<1&&(a=(r-i)/(1-i)),[t[0],i*100,a*100]};kt.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};kt.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};kt.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};kt.gray.hsl=function(t){return[0,0,t[0]]};kt.gray.hsv=kt.gray.hsl;kt.gray.hwb=function(t){return[0,100,t[0]]};kt.gray.cmyk=function(t){return[0,0,0,t[0]]};kt.gray.lab=function(t){return[t[0],0,0]};kt.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r};kt.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});function rEn(){let t={},e=Object.keys(Yy);for(let{length:n}=e,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function iEn(t){let e=rEn(),n=[t];for(e[t].distance=0;n.length>0;){let r=n.pop(),i=Object.keys(Yy[r]);for(let{length:a}=i,o=0;o<a;o++){let s=i[o],c=e[s];c.distance===-1&&(c.distance=e[r].distance+1,c.parent=r,n.unshift(s))}}return e}function aEn(t,e){return function(n){return e(t(n))}}function oEn(t,e){let n=[e[t].parent,t],r=Yy[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=aEn(Yy[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}function sEn(t){let e=iEn(t),n={},r=Object.keys(e);for(let{length:i}=r,a=0;a<i;a++){let o=r[a];e[o].parent!==null&&(n[o]=oEn(o,e))}return n}var d8t,p8t=B(()=>{k4e();d8t=sEn});function lEn(t){let e=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function uEn(t){let e=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let i=t(n);if(typeof i=="object")for(let{length:a}=i,o=0;o<a;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}var fI,cEn,Ru,h8t=B(()=>{k4e();p8t();fI={},cEn=Object.keys(Yy);for(let t of cEn){fI[t]={},Object.defineProperty(fI[t],"channels",{value:Yy[t].channels}),Object.defineProperty(fI[t],"labels",{value:Yy[t].labels});let e=d8t(t),n=Object.keys(e);for(let r of n){let i=e[r];fI[t][r]=uEn(i),fI[t][r].raw=lEn(i)}}Ru=fI});var y8t={};$t(y8t,{default:()=>hEn});function a0(t,e){if(!(this instanceof a0))return new a0(t,e);if(e&&e in m8t&&(e=null),e&&!(e in Ru))throw new Error("Unknown model: "+e);let n,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof a0)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){let i=G9.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,r=Ru[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=Ru[this.model].channels;let i=Array.prototype.slice.call(t,0,r);this.color=D4e(i,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let a=i.sort().join("");if(!(a in M4e))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=M4e[a];let{labels:o}=Ru[this.model],s=[];for(n=0;n<o.length;n++)s.push(t[o[n]]);this.color=D4e(s)}if(B4e[this.model])for(r=Ru[this.model].channels,n=0;n<r;n++){let i=B4e[this.model][n];i&&(this.color[n]=i(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function fEn(t,e){return Number(t.toFixed(e))}function dEn(t){return function(e){return fEn(e,t)}}function Eo(t,e,n){t=Array.isArray(t)?t:[t];for(let r of t)(B4e[r]||=[])[e]=n;return t=t[0],function(r){let i;return r!==void 0?(n&&(r=n(r)),i=this[t](),i.color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function Ts(t){return function(e){return Math.max(0,Math.min(t,e))}}function pEn(t){return Array.isArray(t)?t:[t]}function D4e(t,e){for(let n=0;n<e;n++)typeof t[n]!="number"&&(t[n]=0);return t}var m8t,M4e,B4e,hEn,b8t=B(()=>{u8t();h8t();m8t=["keyword","gray","hex"],M4e={};for(let t of Object.keys(Ru))M4e[[...Ru[t].labels].sort().join("")]=t;B4e={};a0.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in G9.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let n=e.valpha===1?e.color:[...e.color,this.valpha];return G9.to[e.model](...n)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),n=e.valpha===1?e.color:[...e.color,this.valpha];return G9.to.rgb.percent(...n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let t={},{channels:e}=Ru[this.model],{labels:n}=Ru[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new a0([...this.color.map(dEn(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new a0([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Eo("rgb",0,Ts(255)),green:Eo("rgb",1,Ts(255)),blue:Eo("rgb",2,Ts(255)),hue:Eo(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Eo("hsl",1,Ts(100)),lightness:Eo("hsl",2,Ts(100)),saturationv:Eo("hsv",1,Ts(100)),value:Eo("hsv",2,Ts(100)),chroma:Eo("hcg",1,Ts(100)),gray:Eo("hcg",2,Ts(100)),white:Eo("hwb",1,Ts(100)),wblack:Eo("hwb",2,Ts(100)),cyan:Eo("cmyk",0,Ts(100)),magenta:Eo("cmyk",1,Ts(100)),yellow:Eo("cmyk",2,Ts(100)),black:Eo("cmyk",3,Ts(100)),x:Eo("xyz",0,Ts(95.047)),y:Eo("xyz",1,Ts(100)),z:Eo("xyz",2,Ts(108.833)),l:Eo("lab",0,Ts(100)),a:Eo("lab",1),b:Eo("lab",2),keyword(t){return t!==void 0?new a0(t):Ru[this.model].keyword(this.color)},hex(t){return t!==void 0?new a0(t):G9.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new a0(t);let e=this.rgb().round().color,n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),G9.to.hex(...e)+n},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[n,r]of t.entries()){let i=r/255;e[n]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return a0.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let n=t.rgb(),r=this.rgb(),i=e===void 0?.5:e,a=2*i-1,o=n.alpha()-r.alpha(),s=((a*o===-1?a:(a+o)/(1+a*o))+1)/2,c=1-s;return a0.rgb(s*n.red()+c*r.red(),s*n.green()+c*r.green(),s*n.blue()+c*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(let t of Object.keys(Ru)){if(m8t.includes(t))continue;let{channels:e}=Ru[t];a0.prototype[t]=function(...n){return this.model===t?new a0(this):n.length>0?new a0(n,t):new a0([...pEn(Ru[this.model][t].raw(this.color)),this.valpha],t)},a0[t]=function(...n){let r=n[0];return typeof r=="number"&&(r=D4e(n,e)),new a0(r,t)}}hEn=a0});V9();st();Qe();Co();Zi();var OX=fe(Ao());function KNe(t,e){return JSON.parse(t,(n,r)=>{var i,a,o;let s=r;return((i=s)===null||i===void 0?void 0:i.__type)==="bigint"&&(s=BigInt(s.value)),((a=s)===null||a===void 0?void 0:a.__type)==="Map"&&(s=new Map(s.value)),(o=void 0)!==null&&o!==void 0?o:s})}var $Ne=t=>({getItem(e){if(typeof window>"u")return null;let n=$It(document.cookie,e);return n??null},setItem(e,n){if(typeof window>"u")return;let r=`${e}=${n};path=/;samesite=Lax`;t!=null&&t.expiry&&typeof t.expiry=="number"&&(r+=`; expires=${new Date(Date.now()+t.expiry).toUTCString()}`),r+="; secure",document.cookie=r},removeItem(e){typeof window>"u"||(document.cookie=`${e}=;max-age=-1;path=/`)}});function $It(t,e){let n=t.split("; ").find(r=>r.startsWith(`${e}=`));if(n)return n.substring(e.length+1)}rx();Cx();kw();J0e();st();Qe();Mie();Zi();var vj=fe(Ao());sj();DO();Xb();P5();md();ss();U1();Co();var wce=class extends Sh{constructor(e){super(e),K(this,"name",ct.AUTH),K(this,"connectorNamespace",jo.MULTICHAIN),K(this,"type",cs.IN_APP),K(this,"authInstance",null),K(this,"status",Pe.NOT_READY),K(this,"privateKeyProvider",null),K(this,"authOptions",void 0),K(this,"loginSettings",{authConnection:""}),K(this,"wsSettings",void 0),K(this,"wsEmbedInstance",null),K(this,"authConnectionConfig",[]),K(this,"wsEmbedInstancePromise",null),this.authOptions=e.connectorSettings,this.loginSettings=e.loginSettings||{authConnection:""},this.wsSettings=e.walletServicesSettings||{},this.authConnectionConfig=e.authConnectionConfig||[]}get provider(){if(this.status!==Pe.NOT_READY){var e;if((e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw new Error("Not implemented")}async init(e){let{chains:n}=this.coreOptions,{chainId:r}=e,i=n.find(f=>f.chainId===r);if(super.checkInitializationRequirements({chainConfig:i}),!this.coreOptions.clientId)throw at.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw at.invalidParams("authOptions is required before auth's initialization");if(this.authConnectionConfig.length===0)throw at.invalidParams("authConnectionConfig is required before auth's initialization");let a=this.authOptions.uxMode===Ma.REDIRECT;this.authOptions=q(q({},this.authOptions),{},{replaceUrlOnRedirect:a,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new TR(q(q({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:Fu.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(f=>!f.isDefault),mfaSettings:this.coreOptions.mfaSettings})),De.debug("initializing auth connector init",this.authOptions);let o=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(i.chainNamespace){case bt.EIP155:case bt.SOLANA:{var s,c,l,u;let{default:f}=await Promise.resolve().then(()=>(Fw(),gDe));this.wsEmbedInstance=new f({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});let d=n.filter(h=>h.chainNamespace===bt.EIP155||h.chainNamespace===bt.SOLANA),p=q(q(q({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel),{},{logoLight:((s=this.wsSettings.whiteLabel)===null||s===void 0?void 0:s.logoLight)||((c=this.authOptions.whiteLabel)===null||c===void 0?void 0:c.logoLight)||"",logoDark:((l=this.wsSettings.whiteLabel)===null||l===void 0?void 0:l.logoDark)||((u=this.authOptions.whiteLabel)===null||u===void 0?void 0:u.logoDark)||""});this.wsEmbedInstancePromise=this.wsEmbedInstance.init(q(q({},this.wsSettings),{},{chains:d,chainId:r,whiteLabel:q(q({},p),{},{logoLight:p.logoLight||"",logoDark:p.logoDark||""})})).then(()=>{this.wsEmbedInstancePromise=null});break}case bt.XRPL:throw rt.connectionError("Private key provider is required for XRPL");default:{let{CommonPrivateKeyProvider:f}=await Promise.resolve().then(()=>(xDe(),EDe));this.privateKeyProvider=new f({config:{chain:i,chains:this.coreOptions.chains}})}}De.debug("initializing auth connector"),await o,this.status=Pe.READY,this.emit(lt.READY,ct.AUTH);try{let{sessionId:f}=this.authInstance||{};if(f&&(e.autoConnect||a))this.rehydrated=!0,await this.connect({chainId:e.chainId});else if(!f&&e.autoConnect)throw rt.connectionError("Failed to rehydrate")}catch(f){this.emit(lt.REHYDRATION_ERROR,f)}}async connect(e){super.checkConnectionRequirements(),this.status=Pe.CONNECTING,this.emit(lt.CONNECTING,q(q({},e),{},{connector:ct.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(r){var n;throw De.error("Failed to connect with auth provider",r),this.status=Pe.READY,this.emit(lt.ERRORED,r),r!=null&&(n=r.message)!==null&&n!==void 0&&n.includes("user closed popup")?rt.popupClosed():r instanceof Ua?r:rt.connectionError("Failed to login with auth",r)}}async enableMFA(e={authConnection:""}){if(this.status!==Pe.CONNECTED)throw rt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw at.notReady("authInstance is not ready");try{let n=await this.authInstance.enableMFA(e);n&&this.emit(lt.MFA_ENABLED,n)}catch(n){throw De.error("Failed to enable MFA with auth provider",n),n instanceof Ua?n:rt.connectionError("Failed to enable MFA with auth",n)}}async manageMFA(e={authConnection:""}){if(this.status!==Pe.CONNECTED)throw rt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw at.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(n){throw De.error("Failed to manage MFA with auth provider",n),n instanceof Ua?n:rt.connectionError("Failed to manage MFA with auth",n)}}async disconnect(e={cleanup:!1}){if(this.status!==Pe.CONNECTED)throw rt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw at.notReady("authInstance is not ready");this.status=Pe.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=Pe.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=Pe.READY,this.rehydrated=!1,this.emit(lt.DISCONNECTED)}async getIdentityToken(){if(this.status!==Pe.CONNECTED)throw rt.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==Pe.CONNECTED)throw rt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw at.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);let{chainId:r}=e,{chainId:i}=this.provider,{chainNamespace:a}=this.getChain(i),{chainNamespace:o}=this.getChain(r);if(i!==r)if(a===bt.SOLANA||a===bt.EIP155){var s;if(o!==bt.SOLANA&&o!==bt.EIP155)throw rt.connectionError("Cannot switch to other chain namespace");let l=`${o}:${Number(e.chainId)}`;await((s=this.wsEmbedInstance.provider)===null||s===void 0?void 0:s.request({method:"wallet_switchChain",params:{chainId:l}}))}else{var c;if(a!==o)throw rt.connectionError("Cannot switch to other chain namespace");await((c=this.privateKeyProvider)===null||c===void 0?void 0:c.switchChain(e))}}async cleanup(){if(!this.authInstance)throw at.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){let{authConnection:n,authConnectionId:r,groupedAuthConnectionId:i}=e;return this.authConnectionConfig.find(o=>i&&r?o.authConnection===n&&o.groupedAuthConnectionId===i&&o.authConnectionId===r:r?o.authConnection===n&&o.authConnectionId===r:o.authConnection===n&&o.isDefault)}getChain(e){return this.coreOptions.chains.find(n=>n.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw rt.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(e){var n,r;if(!this.authInstance)throw at.notReady("authInstance is not ready");let i=this.coreOptions.chains.find(l=>l.chainId===e.chainId);if(!i)throw rt.connectionError("Chain config is not available");let{chainNamespace:a}=i,o=a===bt.EIP155||a===bt.SOLANA?(n=this.authInstance)===null||n===void 0?void 0:n.sessionId:this._getFinalPrivKey();if(e.idToken&&(e.extraLoginOptions=q(q({},e.extraLoginOptions),{},{id_token:e.idToken})),!o||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){var s;this.loginSettings.curve=bie.OTHER;let l=(0,vj.default)(this.loginSettings,e);(s=e.extraLoginOptions)!==null&&s!==void 0&&s.id_token?await this.connectWithJwtLogin(l):await this.connectWithSocialLogin(l)}if(a===bt.EIP155||a===bt.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;let{sessionId:l,sessionNamespace:u}=this.authInstance||{};if(l&&await this.wsEmbedInstance.loginWithSessionId({sessionId:l,sessionNamespace:u})){var c;this.status=Pe.CONNECTED,this.emit(lt.CONNECTED,{connector:ct.AUTH,reconnected:this.rehydrated,provider:this.provider}),(c=this.wsEmbedInstance)===null||c===void 0||c.provider.on("accountsChanged",(d=[])=>{d.length===0&&this.status===Pe.CONNECTED&&this.disconnect({cleanup:!1})})}}else{let l=this._getFinalPrivKey();l&&(await this.privateKeyProvider.setupProvider(l,e.chainId),this.status=Pe.CONNECTED,this.emit(lt.CONNECTED,{connector:ct.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var n,r;let i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection))throw rt.connectionError("Invalid auth connection.");let a=q(q(q({},i.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||((n=e.extraLoginOptions)===null||n===void 0?void 0:n.login_hint)}),o=_3(),s=dd(e);s.extraLoginOptions=q(q({},s.extraLoginOptions||{}),{},{login_hint:e.loginHint||((r=e.extraLoginOptions)===null||r===void 0?void 0:r.login_hint)}),delete s.chainId;let c={authConnection:e.authConnection,authConnectionId:i.authConnectionId,clientId:i.clientId||a.client_id,groupedAuthConnectionId:i.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:a,customState:{nonce:o,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(s),version:CE.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork},l=lie(c),u=new x1({url:l.finalURL,timeout:0});if(this.authOptions.uxMode===Ma.REDIRECT)return u.redirect(this.authOptions.replaceUrlOnRedirect);let f=!1;return new Promise((d,p)=>{u.open().catch(m=>{De.error("Error during login with social",m),this.authInstance.postLoginCancelledMessage(o),p(m)});let h=new V3({sameIpCheck:!0});h.subscribe(`web3auth-login-${o}`).then(m=>{let w=JSON.parse(m||"{}");return w?.message==="login_finished"&&(w!=null&&w.error&&(this.authInstance.postLoginCancelledMessage(o),p(w.error)),f=!0,h.cleanup(),u.close()),!0}).catch(m=>{De.error("Error during login with social",m)}),u.once("close",()=>{f||(h.cleanup(),this.authInstance.postLoginCancelledMessage(o),p(rt.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(s,o).then(d).catch(m=>{if(m instanceof Ua)throw m;p(rt.connectionError(m instanceof Error?m.message:m||"Failed to login with social"))})})}connectWithJwtLogin(e){var n,r;let i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection)&&!e.authConnectionId)throw rt.connectionError("Invalid auth connection.");i!=null&&i.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});let a=dd(e),o=q(q({},i?.jwtParameters||{}),e.extraLoginOptions||{}),s;if(e.loginHint||(n=e.extraLoginOptions)!==null&&n!==void 0&&n.login_hint){var c;s=e.loginHint||((c=e.extraLoginOptions)===null||c===void 0?void 0:c.login_hint)}else if((r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){let{payload:l}=bBe(e.extraLoginOptions.id_token);s=t5(l,a.authConnection,o.userIdField,o.isUserIdCaseSensitive)}else throw rt.connectionError("Invalid login hint or id_token");return a.extraLoginOptions=q(q({},o),{},{login_hint:s}),delete a.chainId,this.authInstance.postLoginInitiatedMessage(a)}},ADe=t=>({projectConfig:e,coreOptions:n})=>{var r,i,a,o;let s={},{whitelist:c,sessionTime:l}=e;c&&(s.originData=c.signed_urls),n.sessionTime?s.sessionTime=n.sessionTime:l&&(s.sessionTime=l),(r=n.uiConfig)!==null&&r!==void 0&&r.uxMode&&(s.uxMode=n.uiConfig.uxMode);let u=n.uiConfig||{};s.whiteLabel=u;let f=vj.default.all([{uxMode:Ma.POPUP,buildEnv:n.authBuildEnv||I1.PRODUCTION},s,t?.connectorSettings||{}]),d=vj.default.all([u,((i=n.walletServicesConfig)===null||i===void 0?void 0:i.whiteLabel)||{}]),p=q(q({},n.walletServicesConfig),{},{whiteLabel:d,accountAbstractionConfig:n.accountAbstractionConfig,enableLogging:n.enableLogging}),h=(a=(o=n.walletServicesConfig)===null||o===void 0?void 0:o.enableKeyExport)!==null&&a!==void 0?a:!0;return n.privateKeyProvider&&n.privateKeyProvider.setKeyExportFlag(h),new wce({connectorSettings:f,walletServicesSettings:p,loginSettings:q(q({},t?.loginSettings||{}),{},{mfaLevel:n.mfaLevel}),coreOptions:n,authConnectionConfig:e.embeddedWalletAuth})};st();Qe();var fue=fe(TDe()),cc=fe(ODe()),ro=fe(VDe()),sA=fe(qDe());Nj();SF();var LPt=L4e({});function Ie(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(l){try{c(r.next(l))}catch(u){a(u)}}function s(l){try{c(r.throw(l))}catch(u){a(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof n?u:new n((function(f){f(u)}))).then(o,s)}c((r=r.apply(t,e||[])).next())}))}var Qc=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},Nh=[],Ed=[],UPt=typeof Uint8Array<"u"?Uint8Array:Array,due=!1;function OFe(){due=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)Nh[e]=t[e],Ed[t.charCodeAt(e)]=e;Ed[45]=62,Ed[95]=63}function FPt(t,e,n){for(var r,i,a=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],a.push(Nh[(i=r)>>18&63]+Nh[i>>12&63]+Nh[i>>6&63]+Nh[63&i]);return a.join("")}function pLe(t){var e;due||OFe();for(var n=t.length,r=n%3,i="",a=[],o=16383,s=0,c=n-r;s<c;s+=o)a.push(FPt(t,s,s+o>c?c:s+o));return r===1?(e=t[n-1],i+=Nh[e>>2],i+=Nh[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=Nh[e>>10],i+=Nh[e>>4&63],i+=Nh[e<<2&63],i+="="),a.push(i),a.join("")}function Pj(t,e,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,f=n?i-1:0,d=n?-1:1,p=t[e+f];for(f+=d,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=256*a+t[e+f],f+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+t[e+f],f+=d,u-=8);if(a===0)a=1-l;else{if(a===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=l}return(p?-1:1)*o*Math.pow(2,a-r)}function NFe(t,e,n,r,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,f=u>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(o++,c/=2),o+f>=u?(s=0,o=u):o+f>=1?(s=(e*c-1)*Math.pow(2,i),o+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[n+p]=255&o,p+=h,o/=256,l-=8);t[n+p-h]|=128*m}var HPt={}.toString,PFe=Array.isArray||function(t){return HPt.call(t)=="[object Array]"};Ne.TYPED_ARRAY_SUPPORT=Qc.TYPED_ARRAY_SUPPORT===void 0||Qc.TYPED_ARRAY_SUPPORT;var zPt=bG();function bG(){return Ne.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function H5(t,e){if(bG()<e)throw new RangeError("Invalid typed array length");return Ne.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Ne.prototype:(t===null&&(t=new Ne(e)),t.length=e),t}function Ne(t,e,n){if(!(Ne.TYPED_ARRAY_SUPPORT||this instanceof Ne))return new Ne(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return vle(this,t)}return kFe(this,t,e,n)}function kFe(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?(function(i,a,o,s){if(a.byteLength,o<0||a.byteLength<o)throw new RangeError("'offset' is out of bounds");if(a.byteLength<o+(s||0))throw new RangeError("'length' is out of bounds");return a=o===void 0&&s===void 0?new Uint8Array(a):s===void 0?new Uint8Array(a,o):new Uint8Array(a,o,s),Ne.TYPED_ARRAY_SUPPORT?(i=a).__proto__=Ne.prototype:i=Bce(i,a),i})(t,e,n,r):typeof e=="string"?(function(i,a,o){if(typeof o=="string"&&o!==""||(o="utf8"),!Ne.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var s=0|BFe(a,o);i=H5(i,s);var c=i.write(a,o);return c!==s&&(i=i.slice(0,c)),i})(t,e,n):(function(i,a){if(Ph(a)){var o=0|pue(a.length);return(i=H5(i,o)).length===0||a.copy(i,0,0,o),i}if(a){if(typeof ArrayBuffer<"u"&&a.buffer instanceof ArrayBuffer||"length"in a)return typeof a.length!="number"||(s=a.length)!=s?H5(i,0):Bce(i,a);if(a.type==="Buffer"&&PFe(a.data))return Bce(i,a.data)}var s;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")})(t,e)}function MFe(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function vle(t,e){if(MFe(e),t=H5(t,e<0?0:0|pue(e)),!Ne.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Bce(t,e){var n=e.length<0?0:0|pue(e.length);t=H5(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function pue(t){if(t>=bG())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+bG().toString(16)+" bytes");return 0|t}function Ph(t){return!(t==null||!t._isBuffer)}function BFe(t,e){if(Ph(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return gG(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return FFe(t).length;default:if(r)return gG(t).length;e=(""+e).toLowerCase(),r=!0}}function jPt(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return QPt(this,e,n);case"utf8":case"utf-8":return LFe(this,e,n);case"ascii":return YPt(this,e,n);case"latin1":case"binary":return JPt(this,e,n);case"base64":return WPt(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ZPt(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function zw(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function hLe(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof e=="string"&&(e=Ne.from(e,r)),Ph(e))return e.length===0?-1:mLe(t,e,n,r,i);if(typeof e=="number")return e&=255,Ne.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):mLe(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function mLe(t,e,n,r,i){var a,o=1,s=t.length,c=e.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,n/=2}function l(p,h){return o===1?p[h]:p.readUInt16BE(h*o)}if(i){var u=-1;for(a=n;a<s;a++)if(l(t,a)===l(e,u===-1?0:a-u)){if(u===-1&&(u=a),a-u+1===c)return u*o}else u!==-1&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var f=!0,d=0;d<c;d++)if(l(t,a+d)!==l(e,d)){f=!1;break}if(f)return a}return-1}function GPt(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function VPt(t,e,n,r){return QG(gG(e,t.length-n),t,n,r)}function DFe(t,e,n,r){return QG((function(i){for(var a=[],o=0;o<i.length;++o)a.push(255&i.charCodeAt(o));return a})(e),t,n,r)}function KPt(t,e,n,r){return DFe(t,e,n,r)}function $Pt(t,e,n,r){return QG(FFe(e),t,n,r)}function qPt(t,e,n,r){return QG((function(i,a){for(var o,s,c,l=[],u=0;u<i.length&&!((a-=2)<0);++u)s=(o=i.charCodeAt(u))>>8,c=o%256,l.push(c),l.push(s);return l})(e,t.length-n),t,n,r)}function WPt(t,e,n){return e===0&&n===t.length?pLe(t):pLe(t.slice(e,n))}function LFe(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a,o,s,c,l=t[i],u=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(u=l);break;case 2:(192&(a=t[i+1]))==128&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=t[i+1],o=t[i+2],(192&a)==128&&(192&o)==128&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],(192&a)==128&&(192&o)==128&&(192&s)==128&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}u===null?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=f}return(function(d){var p=d.length;if(p<=yLe)return String.fromCharCode.apply(String,d);for(var h="",m=0;m<p;)h+=String.fromCharCode.apply(String,d.slice(m,m+=yLe));return h})(r)}Ne.poolSize=8192,Ne._augment=function(t){return t.__proto__=Ne.prototype,t},Ne.from=function(t,e,n){return kFe(null,t,e,n)},Ne.TYPED_ARRAY_SUPPORT&&(Ne.prototype.__proto__=Uint8Array.prototype,Ne.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Ne[Symbol.species]),Ne.alloc=function(t,e,n){return(function(r,i,a,o){return MFe(i),i<=0?H5(r,i):a!==void 0?typeof o=="string"?H5(r,i).fill(a,o):H5(r,i).fill(a):H5(r,i)})(null,t,e,n)},Ne.allocUnsafe=function(t){return vle(null,t)},Ne.allocUnsafeSlow=function(t){return vle(null,t)},Ne.isBuffer=HFe,Ne.compare=function(t,e){if(!Ph(t)||!Ph(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Ne.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ne.concat=function(t,e){if(!PFe(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ne.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Ne.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!Ph(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},Ne.byteLength=BFe,Ne.prototype._isBuffer=!0,Ne.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)zw(this,e,e+1);return this},Ne.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)zw(this,e,e+3),zw(this,e+1,e+2);return this},Ne.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)zw(this,e,e+7),zw(this,e+1,e+6),zw(this,e+2,e+5),zw(this,e+3,e+4);return this},Ne.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?LFe(this,0,t):jPt.apply(this,arguments)},Ne.prototype.equals=function(t){if(!Ph(t))throw new TypeError("Argument must be a Buffer");return this===t||Ne.compare(this,t)===0},Ne.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Ne.prototype.compare=function(t,e,n,r,i){if(!Ph(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),s=Math.min(a,o),c=this.slice(r,i),l=t.slice(e,n),u=0;u<s;++u)if(c[u]!==l[u]){a=c[u],o=l[u];break}return a<o?-1:o<a?1:0},Ne.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},Ne.prototype.indexOf=function(t,e,n){return hLe(this,t,e,n,!0)},Ne.prototype.lastIndexOf=function(t,e,n){return hLe(this,t,e,n,!1)},Ne.prototype.write=function(t,e,n,r){if(e===void 0)r="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return GPt(this,t,e,n);case"utf8":case"utf-8":return VPt(this,t,e,n);case"ascii":return DFe(this,t,e,n);case"latin1":case"binary":return KPt(this,t,e,n);case"base64":return $Pt(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qPt(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},Ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var yLe=4096;function YPt(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function JPt(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function QPt(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=ekt(t[a]);return i}function ZPt(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function Hs(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function Hl(t,e,n,r,i,a){if(!Ph(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function kj(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Mj(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function UFe(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function bLe(t,e,n,r,i){return i||UFe(t,0,n,4),NFe(t,e,n,r,23,4),n+4}function gLe(t,e,n,r,i){return i||UFe(t,0,n,8),NFe(t,e,n,r,52,8),n+8}Ne.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),Ne.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Ne.prototype;else{var i=e-t;n=new Ne(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},Ne.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Hs(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},Ne.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Hs(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},Ne.prototype.readUInt8=function(t,e){return e||Hs(t,1,this.length),this[t]},Ne.prototype.readUInt16LE=function(t,e){return e||Hs(t,2,this.length),this[t]|this[t+1]<<8},Ne.prototype.readUInt16BE=function(t,e){return e||Hs(t,2,this.length),this[t]<<8|this[t+1]},Ne.prototype.readUInt32LE=function(t,e){return e||Hs(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Ne.prototype.readUInt32BE=function(t,e){return e||Hs(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Ne.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Hs(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},Ne.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Hs(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},Ne.prototype.readInt8=function(t,e){return e||Hs(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Ne.prototype.readInt16LE=function(t,e){e||Hs(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Ne.prototype.readInt16BE=function(t,e){e||Hs(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Ne.prototype.readInt32LE=function(t,e){return e||Hs(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Ne.prototype.readInt32BE=function(t,e){return e||Hs(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Ne.prototype.readFloatLE=function(t,e){return e||Hs(t,4,this.length),Pj(this,t,!0,23,4)},Ne.prototype.readFloatBE=function(t,e){return e||Hs(t,4,this.length),Pj(this,t,!1,23,4)},Ne.prototype.readDoubleLE=function(t,e){return e||Hs(t,8,this.length),Pj(this,t,!0,52,8)},Ne.prototype.readDoubleBE=function(t,e){return e||Hs(t,8,this.length),Pj(this,t,!1,52,8)},Ne.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||Hl(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},Ne.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||Hl(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},Ne.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,1,255,0),Ne.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Ne.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,2,65535,0),Ne.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):kj(this,t,e,!0),e+2},Ne.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,2,65535,0),Ne.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):kj(this,t,e,!1),e+2},Ne.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,4,4294967295,0),Ne.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Mj(this,t,e,!0),e+4},Ne.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,4,4294967295,0),Ne.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Mj(this,t,e,!1),e+4},Ne.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);Hl(this,t,e,n,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<n&&(o*=256);)t<0&&s===0&&this[e+a-1]!==0&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},Ne.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);Hl(this,t,e,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&s===0&&this[e+a+1]!==0&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},Ne.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,1,127,-128),Ne.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Ne.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,2,32767,-32768),Ne.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):kj(this,t,e,!0),e+2},Ne.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,2,32767,-32768),Ne.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):kj(this,t,e,!1),e+2},Ne.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,4,2147483647,-2147483648),Ne.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Mj(this,t,e,!0),e+4},Ne.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||Hl(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Ne.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Mj(this,t,e,!1),e+4},Ne.prototype.writeFloatLE=function(t,e,n){return bLe(this,t,e,!0,n)},Ne.prototype.writeFloatBE=function(t,e,n){return bLe(this,t,e,!1,n)},Ne.prototype.writeDoubleLE=function(t,e,n){return gLe(this,t,e,!0,n)},Ne.prototype.writeDoubleBE=function(t,e,n){return gLe(this,t,e,!1,n)},Ne.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!Ne.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},Ne.prototype.fill=function(t,e,n,r){if(typeof t=="string"){if(typeof e=="string"?(r=e,e=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!Ne.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof t=="number"&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var o=Ph(t)?t:gG(new Ne(t,r).toString()),s=o.length;for(a=0;a<n-e;++a)this[a+e]=o[a%s]}return this};var XPt=/[^+\/0-9A-Za-z-_]/g;function ekt(t){return t<16?"0"+t.toString(16):t.toString(16)}function gG(t,e){var n;e=e||1/0;for(var r=t.length,i=null,a=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function FFe(t){return(function(e){var n,r,i,a,o,s;due||OFe();var c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[c-2]==="="?2:e[c-1]==="="?1:0,s=new UPt(3*c/4-o),i=o>0?c-4:c;var l=0;for(n=0,r=0;n<i;n+=4,r+=3)a=Ed[e.charCodeAt(n)]<<18|Ed[e.charCodeAt(n+1)]<<12|Ed[e.charCodeAt(n+2)]<<6|Ed[e.charCodeAt(n+3)],s[l++]=a>>16&255,s[l++]=a>>8&255,s[l++]=255&a;return o===2?(a=Ed[e.charCodeAt(n)]<<2|Ed[e.charCodeAt(n+1)]>>4,s[l++]=255&a):o===1&&(a=Ed[e.charCodeAt(n)]<<10|Ed[e.charCodeAt(n+1)]<<4|Ed[e.charCodeAt(n+2)]>>2,s[l++]=a>>8&255,s[l++]=255&a),s})((function(e){if((e=(function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")})(e).replace(XPt,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e})(t))}function QG(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function HFe(t){return t!=null&&(!!t._isBuffer||wLe(t)||(function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&wLe(e.slice(0,0))})(t))}function wLe(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var tkt=Object.freeze({__proto__:null,Buffer:Ne,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Ne.alloc(+t)},isBuffer:HFe,kMaxLength:zPt}),_d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})})),n}var Gx={},Zu={},ac={};function wG(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function zFe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function jFe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function hue(t,...e){if(!jFe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function GFe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");wG(t.outputLen),wG(t.blockLen)}function VFe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KFe(t,e){hue(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(ac,"__esModule",{value:!0}),ac.isBytes=jFe,ac.number=wG,ac.bool=zFe,ac.bytes=hue,ac.hash=GFe,ac.exists=VFe,ac.output=KFe;var nkt={number:wG,bool:zFe,bytes:hue,hash:GFe,exists:VFe,output:KFe};ac.default=nkt,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=r,t.hexToBytes=o,t.hexToNumber=s,t.bytesToNumberBE=function(f){return s(r(f))},t.numberToBytesBE=function(f,d){return o(f.toString(16).padStart(2*d,"0"))},t.asyncLoop=async function(f,d,p){let h=Date.now();for(let m=0;m<f;m++){p(m);let w=Date.now()-h;w>=0&&w<d||(await(0,t.nextTick)(),h+=w)}},t.utf8ToBytes=c,t.bytesToUtf8=function(f){return new TextDecoder().decode(f)},t.toBytes=function(f){if(typeof f=="string")f=c(f);else{if(!(0,e.isBytes)(f))throw new Error("Uint8Array expected, got "+typeof f);f=u(f)}return f},t.concatBytes=function(...f){let d=0;for(let h=0;h<f.length;h++){let m=f[h];(0,e.bytes)(m),d+=m.length}let p=new Uint8Array(d);for(let h=0,m=0;h<f.length;h++){let w=f[h];p.set(w,m),m+=w.length}return p},t.checkOpts=function(f,d){if(d==null||typeof d!="object")throw new Error("options must be defined");return Object.assign(f,d)},t.equalBytes=function(f,d){if(f.length!==d.length)return!1;let p=0;for(let h=0;h<f.length;h++)p|=f[h]^d[h];return p===0},t.setBigUint64=l,t.u64Lengths=function(f,d){let p=new Uint8Array(16),h=(0,t.createView)(p);return l(h,0,BigInt(d?d.length:0),!0),l(h,8,BigInt(f.length),!0),p},t.isAligned32=function(f){return f.byteOffset%4==0},t.copyBytes=u,t.clean=function(...f){for(let d=0;d<f.length;d++)f[d].fill(0)};let e=ac;if(t.u8=f=>new Uint8Array(f.buffer,f.byteOffset,f.byteLength),t.u16=f=>new Uint16Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/2)),t.u32=f=>new Uint32Array(f.buffer,f.byteOffset,Math.floor(f.byteLength/4)),t.createView=f=>new DataView(f.buffer,f.byteOffset,f.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");let n=Array.from({length:256},((f,d)=>d.toString(16).padStart(2,"0")));function r(f){(0,e.bytes)(f);let d="";for(let p=0;p<f.length;p++)d+=n[f[p]];return d}let i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(f){return f>=i._0&&f<=i._9?f-i._0:f>=i._A&&f<=i._F?f-(i._A-10):f>=i._a&&f<=i._f?f-(i._a-10):void 0}function o(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);let d=f.length,p=d/2;if(d%2)throw new Error("padded hex string expected, got unpadded hex of length "+d);let h=new Uint8Array(p);for(let m=0,w=0;m<p;m++,w+=2){let g=a(f.charCodeAt(w)),x=a(f.charCodeAt(w+1));if(g===void 0||x===void 0){let C=f[w]+f[w+1];throw new Error('hex string expected, got non-hex character "'+C+'" at index '+w)}h[m]=16*g+x}return h}function s(f){if(typeof f!="string")throw new Error("hex string expected, got "+typeof f);return BigInt(f===""?"0":`0x${f}`)}function c(f){if(typeof f!="string")throw new Error("string expected, got "+typeof f);return new Uint8Array(new TextEncoder().encode(f))}t.nextTick=async()=>{},t.Hash=class{};function l(f,d,p,h){if(typeof f.setBigUint64=="function")return f.setBigUint64(d,p,h);let m=BigInt(32),w=BigInt(4294967295),g=Number(p>>m&w),x=Number(p&w),C=h?4:0,P=h?0:4;f.setUint32(d+C,g,h),f.setUint32(d+P,x,h)}function u(f){return Uint8Array.from(f)}t.wrapCipher=(f,d)=>(Object.assign(d,f),d)})(Zu);var mN={},zs={};Object.defineProperty(zs,"__esModule",{value:!0}),zs.AEAD_TAG_LENGTH=zs.XCHACHA20_NONCE_LENGTH=zs.CURVE25519_PUBLIC_KEY_SIZE=zs.ETH_PUBLIC_KEY_SIZE=zs.UNCOMPRESSED_PUBLIC_KEY_SIZE=zs.COMPRESSED_PUBLIC_KEY_SIZE=zs.SECRET_KEY_LENGTH=void 0,zs.SECRET_KEY_LENGTH=32,zs.COMPRESSED_PUBLIC_KEY_SIZE=33,zs.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,zs.ETH_PUBLIC_KEY_SIZE=64,zs.CURVE25519_PUBLIC_KEY_SIZE=32,zs.XCHACHA20_NONCE_LENGTH=24,zs.AEAD_TAG_LENGTH=16,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=zs,n=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};t.ECIES_CONFIG=new n,t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var r={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in r)return r[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}})(mN);var Dce={},vG={},XG={},$Fe={},mue={},Bj={};Object.defineProperty(Bj,"__esModule",{value:!0}),Bj.crypto=void 0,Bj.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=a,t.managedNonce=function(c){return(0,n.number)(c.nonceLength),(l,...u)=>({encrypt(f,...d){let{nonceLength:p}=c,h=i(p),m=c(l,h,...u).encrypt(f,...d),w=(0,r.concatBytes)(h,m);return m.fill(0),w},decrypt(f,...d){let{nonceLength:p}=c,h=f.subarray(0,p),m=f.subarray(p);return c(l,h,...u).decrypt(m,...d)}})};let e=Bj,n=ac,r=Zu;function i(c=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(c));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(c);throw new Error("crypto.getRandomValues must be defined")}function a(){if(e.crypto&&typeof e.crypto.subtle=="object"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error("crypto.subtle must be defined")}t.utils={async encrypt(c,l,u,f){let d=a(),p=await d.importKey("raw",c,l,!0,["encrypt"]),h=await d.encrypt(u,p,f);return new Uint8Array(h)},async decrypt(c,l,u,f){let d=a(),p=await d.importKey("raw",c,l,!0,["decrypt"]),h=await d.decrypt(u,p,f);return new Uint8Array(h)}};let o={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function s(c){return(l,u,f)=>{(0,n.bytes)(l),(0,n.bytes)(u);let d={name:c,length:8*l.length},p=(function(h,m,w){if(h===o.CBC)return{name:o.CBC,iv:m};if(h===o.CTR)return{name:o.CTR,counter:m,length:64};if(h===o.GCM)return w?{name:o.GCM,iv:m,additionalData:w}:{name:o.GCM,iv:m};throw new Error("unknown aes block mode")})(c,u,f);return{encrypt:h=>((0,n.bytes)(h),t.utils.encrypt(l,d,p,h)),decrypt:h=>((0,n.bytes)(h),t.utils.decrypt(l,d,p,h))}}}t.cbc=s(o.CBC),t.ctr=s(o.CTR),t.gcm=s(o.GCM)})(mue);var qFe={},js={},z5={},Yu={};function EG(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function WFe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function YFe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function yue(t,...e){if(!YFe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function JFe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");EG(t.outputLen),EG(t.blockLen)}function QFe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZFe(t,e){yue(t);let n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.isBytes=YFe,Yu.number=EG,Yu.bool=WFe,Yu.bytes=yue,Yu.hash=JFe,Yu.exists=QFe,Yu.output=ZFe;var rkt={number:EG,bool:WFe,bytes:yue,hash:JFe,exists:QFe,output:ZFe};Yu.default=rkt;var $5={},Dj={};Object.defineProperty(Dj,"__esModule",{value:!0}),Dj.crypto=void 0,Dj.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"},t.byteSwap32=function(l){for(let u=0;u<l.length;u++)l[u]=(0,t.byteSwap)(l[u])},t.bytesToHex=function(l){(0,n.bytes)(l);let u="";for(let f=0;f<l.length;f++)u+=r[l[f]];return u},t.hexToBytes=function(l){if(typeof l!="string")throw new Error("hex string expected, got "+typeof l);let u=l.length,f=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);let d=new Uint8Array(f);for(let p=0,h=0;p<f;p++,h+=2){let m=a(l.charCodeAt(h)),w=a(l.charCodeAt(h+1));if(m===void 0||w===void 0){let g=l[h]+l[h+1];throw new Error('hex string expected, got non-hex character "'+g+'" at index '+h)}d[p]=16*m+w}return d},t.asyncLoop=async function(l,u,f){let d=Date.now();for(let p=0;p<l;p++){f(p);let h=Date.now()-d;h>=0&&h<u||(await(0,t.nextTick)(),d+=h)}},t.utf8ToBytes=o,t.toBytes=s,t.concatBytes=function(...l){let u=0;for(let d=0;d<l.length;d++){let p=l[d];(0,n.bytes)(p),u+=p.length}let f=new Uint8Array(u);for(let d=0,p=0;d<l.length;d++){let h=l[d];f.set(h,p),p+=h.length}return f},t.checkOpts=function(l,u){if(u!==void 0&&c.call(u)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(l,u)},t.wrapConstructor=function(l){let u=d=>l().update(s(d)).digest(),f=l();return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=()=>l(),u},t.wrapConstructorWithOpts=function(l){let u=(d,p)=>l(p).update(s(d)).digest(),f=l({});return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=d=>l(d),u},t.wrapXOFConstructorWithOpts=function(l){let u=(d,p)=>l(p).update(s(d)).digest(),f=l({});return u.outputLen=f.outputLen,u.blockLen=f.blockLen,u.create=d=>l(d),u},t.randomBytes=function(l=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(l));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(l);throw new Error("crypto.getRandomValues must be defined")};let e=Dj,n=Yu;t.u8=l=>new Uint8Array(l.buffer,l.byteOffset,l.byteLength),t.u32=l=>new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4)),t.createView=l=>new DataView(l.buffer,l.byteOffset,l.byteLength),t.rotr=(l,u)=>l<<32-u|l>>>u,t.rotl=(l,u)=>l<<u|l>>>32-u>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=l=>l<<24&4278190080|l<<8&16711680|l>>>8&65280|l>>>24&255,t.byteSwapIfBE=t.isLE?l=>l:l=>(0,t.byteSwap)(l);let r=Array.from({length:256},((l,u)=>u.toString(16).padStart(2,"0"))),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(l){return l>=i._0&&l<=i._9?l-i._0:l>=i._A&&l<=i._F?l-(i._A-10):l>=i._a&&l<=i._f?l-(i._a-10):void 0}function o(l){if(typeof l!="string")throw new Error("utf8ToBytes expected string, got "+typeof l);return new Uint8Array(new TextEncoder().encode(l))}function s(l){return typeof l=="string"&&(l=o(l)),(0,n.bytes)(l),l}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};let c={}.toString})($5),Object.defineProperty(z5,"__esModule",{value:!0}),z5.HashMD=z5.Maj=z5.Chi=void 0;var Lce=Yu,JO=$5;z5.Chi=(t,e,n)=>t&e^~t&n;z5.Maj=(t,e,n)=>t&e^t&n^e&n;z5.HashMD=class extends JO.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,JO.createView)(this.buffer)}update(t){(0,Lce.exists)(this);let{view:e,buffer:n,blockLen:r}=this,i=(t=(0,JO.toBytes)(t)).length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);if(o!==r)n.set(t.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(e,0),this.pos=0);else{let s=(0,JO.createView)(t);for(;r<=i-a;a+=r)this.process(s,a)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Lce.exists)(this),(0,Lce.output)(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:r,isLE:i}=this,{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let u=a;u<r;u++)e[u]=0;(function(u,f,d,p){if(typeof u.setBigUint64=="function")return u.setBigUint64(f,d,p);let h=BigInt(32),m=BigInt(4294967295),w=Number(d>>h&m),g=Number(d&m),x=p?4:0,C=p?0:4;u.setUint32(f+x,w,p),u.setUint32(f+C,g,p)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);let o=(0,JO.createView)(t),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=s/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return t.length=r,t.pos=o,t.finished=i,t.destroyed=a,r%e&&t.buffer.set(n),t}};var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.add5L=Mn.add5H=Mn.add4H=Mn.add4L=Mn.add3H=Mn.add3L=Mn.rotlBL=Mn.rotlBH=Mn.rotlSL=Mn.rotlSH=Mn.rotr32L=Mn.rotr32H=Mn.rotrBL=Mn.rotrBH=Mn.rotrSL=Mn.rotrSH=Mn.shrSL=Mn.shrSH=Mn.toBig=void 0,Mn.fromBig=bue,Mn.split=XFe,Mn.add=pHe;var Lj=BigInt(2**32-1),Ele=BigInt(32);function bue(t,e=!1){return e?{h:Number(t&Lj),l:Number(t>>Ele&Lj)}:{h:0|Number(t>>Ele&Lj),l:0|Number(t&Lj)}}function XFe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:a,l:o}=bue(t[i],e);[n[i],r[i]]=[a,o]}return[n,r]}var eHe=(t,e)=>BigInt(t>>>0)<<Ele|BigInt(e>>>0);Mn.toBig=eHe;var tHe=(t,e,n)=>t>>>n;Mn.shrSH=tHe;var nHe=(t,e,n)=>t<<32-n|e>>>n;Mn.shrSL=nHe;var rHe=(t,e,n)=>t>>>n|e<<32-n;Mn.rotrSH=rHe;var iHe=(t,e,n)=>t<<32-n|e>>>n;Mn.rotrSL=iHe;var aHe=(t,e,n)=>t<<64-n|e>>>n-32;Mn.rotrBH=aHe;var oHe=(t,e,n)=>t>>>n-32|e<<64-n;Mn.rotrBL=oHe;var sHe=(t,e)=>e;Mn.rotr32H=sHe;var cHe=(t,e)=>t;Mn.rotr32L=cHe;var lHe=(t,e,n)=>t<<n|e>>>32-n;Mn.rotlSH=lHe;var uHe=(t,e,n)=>e<<n|t>>>32-n;Mn.rotlSL=uHe;var fHe=(t,e,n)=>e<<n-32|t>>>64-n;Mn.rotlBH=fHe;var dHe=(t,e,n)=>t<<n-32|e>>>64-n;function pHe(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}Mn.rotlBL=dHe;var hHe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);Mn.add3L=hHe;var mHe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;Mn.add3H=mHe;var yHe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);Mn.add4L=yHe;var bHe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;Mn.add4H=bHe;var gHe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);Mn.add5L=gHe;var wHe=(t,e,n,r,i,a)=>e+n+r+i+a+(t/2**32|0)|0;Mn.add5H=wHe;var ikt={fromBig:bue,split:XFe,toBig:eHe,shrSH:tHe,shrSL:nHe,rotrSH:rHe,rotrSL:iHe,rotrBH:aHe,rotrBL:oHe,rotr32H:sHe,rotr32L:cHe,rotlSH:lHe,rotlSL:uHe,rotlBH:fHe,rotlBL:dHe,add:pHe,add3L:hHe,add3H:mHe,add4L:yHe,add4H:bHe,add5H:wHe,add5L:gHe};Mn.default=ikt,Object.defineProperty(js,"__esModule",{value:!0}),js.sha384=js.sha512_256=js.sha512_224=js.sha512=js.SHA384=js.SHA512_256=js.SHA512_224=js.SHA512=void 0;var akt=z5,Xn=Mn,Uj=$5,[okt,skt]=Xn.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),o2=new Uint32Array(80),s2=new Uint32Array(80),Jw=class extends akt.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:n,Bh:r,Bl:i,Ch:a,Cl:o,Dh:s,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:h,Hh:m,Hl:w}=this;return[e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w]}set(e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w){this.Ah=0|e,this.Al=0|n,this.Bh=0|r,this.Bl=0|i,this.Ch=0|a,this.Cl=0|o,this.Dh=0|s,this.Dl=0|c,this.Eh=0|l,this.El=0|u,this.Fh=0|f,this.Fl=0|d,this.Gh=0|p,this.Gl=0|h,this.Hh=0|m,this.Hl=0|w}process(e,n){for(let C=0;C<16;C++,n+=4)o2[C]=e.getUint32(n),s2[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){let P=0|o2[C-15],D=0|s2[C-15],F=Xn.default.rotrSH(P,D,1)^Xn.default.rotrSH(P,D,8)^Xn.default.shrSH(P,D,7),H=Xn.default.rotrSL(P,D,1)^Xn.default.rotrSL(P,D,8)^Xn.default.shrSL(P,D,7),O=0|o2[C-2],M=0|s2[C-2],N=Xn.default.rotrSH(O,M,19)^Xn.default.rotrBH(O,M,61)^Xn.default.shrSH(O,M,6),v=Xn.default.rotrSL(O,M,19)^Xn.default.rotrBL(O,M,61)^Xn.default.shrSL(O,M,6),I=Xn.default.add4L(H,v,s2[C-7],s2[C-16]),S=Xn.default.add4H(I,F,N,o2[C-7],o2[C-16]);o2[C]=0|S,s2[C]=0|I}let{Ah:r,Al:i,Bh:a,Bl:o,Ch:s,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:h,Gh:m,Gl:w,Hh:g,Hl:x}=this;for(let C=0;C<80;C++){let P=Xn.default.rotrSH(f,d,14)^Xn.default.rotrSH(f,d,18)^Xn.default.rotrBH(f,d,41),D=Xn.default.rotrSL(f,d,14)^Xn.default.rotrSL(f,d,18)^Xn.default.rotrBL(f,d,41),F=f&p^~f&m,H=d&h^~d&w,O=Xn.default.add5L(x,D,H,skt[C],s2[C]),M=Xn.default.add5H(O,g,P,F,okt[C],o2[C]),N=0|O,v=Xn.default.rotrSH(r,i,28)^Xn.default.rotrBH(r,i,34)^Xn.default.rotrBH(r,i,39),I=Xn.default.rotrSL(r,i,28)^Xn.default.rotrBL(r,i,34)^Xn.default.rotrBL(r,i,39),S=r&a^r&s^a&s,y=i&o^i&c^o&c;g=0|m,x=0|w,m=0|p,w=0|h,p=0|f,h=0|d,{h:f,l:d}=Xn.default.add(0|l,0|u,0|M,0|N),l=0|s,u=0|c,s=0|a,c=0|o,a=0|r,o=0|i;let b=Xn.default.add3L(N,I,y);r=Xn.default.add3H(b,M,v,S),i=0|b}({h:r,l:i}=Xn.default.add(0|this.Ah,0|this.Al,0|r,0|i)),{h:a,l:o}=Xn.default.add(0|this.Bh,0|this.Bl,0|a,0|o),{h:s,l:c}=Xn.default.add(0|this.Ch,0|this.Cl,0|s,0|c),{h:l,l:u}=Xn.default.add(0|this.Dh,0|this.Dl,0|l,0|u),{h:f,l:d}=Xn.default.add(0|this.Eh,0|this.El,0|f,0|d),{h:p,l:h}=Xn.default.add(0|this.Fh,0|this.Fl,0|p,0|h),{h:m,l:w}=Xn.default.add(0|this.Gh,0|this.Gl,0|m,0|w),{h:g,l:x}=Xn.default.add(0|this.Hh,0|this.Hl,0|g,0|x),this.set(r,i,a,o,s,c,l,u,f,d,p,h,m,w,g,x)}roundClean(){o2.fill(0),s2.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};js.SHA512=Jw;var xG=class extends Jw{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}};js.SHA512_224=xG;var AG=class extends Jw{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}};js.SHA512_256=AG;var _G=class extends Jw{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};js.SHA384=_G,js.sha512=(0,Uj.wrapConstructor)((()=>new Jw)),js.sha512_224=(0,Uj.wrapConstructor)((()=>new xG)),js.sha512_256=(0,Uj.wrapConstructor)((()=>new AG)),js.sha384=(0,Uj.wrapConstructor)((()=>new _G));var xle={},Kx={},di={},ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.notImplemented=ir.bitMask=void 0,ir.isBytes=TG,ir.abytes=SG,ir.abool=function(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)},ir.bytesToHex=Uce,ir.numberToHexUnpadded=vLe,ir.hexToNumber=Fce,ir.hexToBytes=tG,ir.bytesToNumberBE=function(t){return Fce(Uce(t))},ir.bytesToNumberLE=function(t){return SG(t),Fce(Uce(Uint8Array.from(t).reverse()))},ir.numberToBytesBE=xLe,ir.numberToBytesLE=function(t,e){return xLe(t,e).reverse()},ir.numberToVarBytesBE=function(t){return tG(vLe(t))},ir.ensureBytes=function(t,e,n){let r;if(typeof e=="string")try{r=tG(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else{if(!TG(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}let i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r},ir.concatBytes=ALe,ir.equalBytes=function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0},ir.utf8ToBytes=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))},ir.inRange=_Le,ir.aInRange=function(t,e,n,r){if(!_Le(e,n,r))throw new Error(`expected valid ${t}: ${n} <= n < ${r}, got ${typeof e} ${e}`)},ir.bitLen=function(t){let e;for(e=0;t>Ale;t>>=eG,e+=1);return e},ir.bitGet=function(t,e){return t>>BigInt(e)&eG},ir.bitSet=function(t,e,n){return t|(n?eG:Ale)<<BigInt(e)},ir.createHmacDrbg=function(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=zce(t),i=zce(t),a=0,o=()=>{r.fill(1),i.fill(0),a=0},s=(...u)=>n(i,r,...u),c=(u=zce())=>{i=s(TLe([0]),u),r=s(),u.length!==0&&(i=s(TLe([1]),u),r=s())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let u=0,f=[];for(;u<e;){r=s();let d=r.slice();f.push(d),u+=r.length}return ALe(...f)};return(u,f)=>{let d;for(o(),c(u);!(d=f(l()));)c();return o(),d}},ir.validateObject=function(t,e,n={}){let r=(i,a,o)=>{let s=ukt[a];if(typeof s!="function")throw new Error(`Invalid validator "${a}", expected function`);let c=t[i];if(!(o&&c===void 0||s(c,t)))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${a}`)};for(let[i,a]of Object.entries(e))r(i,a,!1);for(let[i,a]of Object.entries(n))r(i,a,!0);return t},ir.memoized=function(t){let e=new WeakMap;return(n,...r)=>{let i=e.get(n);if(i!==void 0)return i;let a=t(n,...r);return e.set(n,a),a}};var Ale=BigInt(0),eG=BigInt(1),ckt=BigInt(2);function TG(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function SG(t){if(!TG(t))throw new Error("Uint8Array expected")}var lkt=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Uce(t){SG(t);let e="";for(let n=0;n<t.length;n++)e+=lkt[t[n]];return e}function vLe(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function Fce(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var M5={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ELe(t){return t>=M5._0&&t<=M5._9?t-M5._0:t>=M5._A&&t<=M5._F?t-(M5._A-10):t>=M5._a&&t<=M5._f?t-(M5._a-10):void 0}function tG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){let o=ELe(t.charCodeAt(a)),s=ELe(t.charCodeAt(a+1));if(o===void 0||s===void 0){let c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[i]=16*o+s}return r}function xLe(t,e){return tG(t.toString(16).padStart(2*e,"0"))}function ALe(...t){let e=0;for(let r=0;r<t.length;r++){let i=t[r];SG(i),e+=i.length}let n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){let a=t[r];n.set(a,i),i+=a.length}return n}var Hce=t=>typeof t=="bigint"&&Ale<=t;function _Le(t,e,n){return Hce(t)&&Hce(e)&&Hce(n)&&e<=t&&t<n}ir.bitMask=t=>(ckt<<BigInt(t-1))-eG;var zce=t=>new Uint8Array(t),TLe=t=>Uint8Array.from(t),ukt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||TG(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};ir.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(di,"__esModule",{value:!0}),di.isNegativeLE=void 0,di.mod=Wu,di.pow=vHe,di.pow2=function(t,e,n){let r=t;for(;e-- >Gs;)r*=r,r%=n;return r},di.invert=Fj,di.tonelliShanks=EHe,di.FpSqrt=ILe,di.validateField=function(t){let e=dkt.reduce(((n,r)=>(n[r]="function",n)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,$u.validateObject)(t,e)},di.FpPow=RLe,di.FpInvertBatch=OLe,di.FpDiv=function(t,e,n){return t.mul(e,typeof n=="bigint"?Fj(n,t.ORDER):t.inv(n))},di.FpLegendre=NLe,di.FpIsSquare=function(t){let e=NLe(t.ORDER);return n=>{let r=e(t,n);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}},di.nLength=jce,di.Field=function(t,e,n=!1,r={}){if(t<=Gs)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:a}=jce(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=ILe(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:(0,$u.bitMask)(i),ZERO:Gs,ONE:Xi,create:c=>Wu(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof c);return Gs<=c&&c<t},is0:c=>c===Gs,isOdd:c=>(c&Xi)===Xi,neg:c=>Wu(-c,t),eql:(c,l)=>c===l,sqr:c=>Wu(c*c,t),add:(c,l)=>Wu(c+l,t),sub:(c,l)=>Wu(c-l,t),mul:(c,l)=>Wu(c*l,t),pow:(c,l)=>RLe(s,c,l),div:(c,l)=>Wu(c*Fj(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Fj(c,t),sqrt:r.sqrt||(c=>o(s,c)),invertBatch:c=>OLe(s,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?(0,$u.numberToBytesLE)(c,a):(0,$u.numberToBytesBE)(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return n?(0,$u.bytesToNumberLE)(c):(0,$u.bytesToNumberBE)(c)}});return Object.freeze(s)},di.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let n=t.sqrt(e);return t.isOdd(n)?n:t.neg(n)},di.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n},di.hashToPrivateScalar=function(t,e,n=!1){t=(0,$u.ensureBytes)("privateHash",t);let r=t.length,i=jce(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);let a=n?(0,$u.bytesToNumberLE)(t):(0,$u.bytesToNumberBE)(t);return Wu(a,e-Xi)+Xi},di.getFieldBytesLength=Tle,di.getMinHashLength=PLe,di.mapHashToField=function(t,e,n=!1){let r=t.length,i=Tle(e),a=PLe(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);let o=Wu(n?(0,$u.bytesToNumberBE)(t):(0,$u.bytesToNumberLE)(t),e-Xi)+Xi;return n?(0,$u.numberToBytesLE)(o,i):(0,$u.numberToBytesBE)(o,i)};var $u=ir,Gs=BigInt(0),Xi=BigInt(1),v2=BigInt(2),fkt=BigInt(3),_le=BigInt(4),SLe=BigInt(5),CLe=BigInt(8);function Wu(t,e){let n=t%e;return n>=Gs?n:e+n}function vHe(t,e,n){if(n<=Gs||e<Gs)throw new Error("Expected power/modulo > 0");if(n===Xi)return Gs;let r=Xi;for(;e>Gs;)e&Xi&&(r=r*t%n),t=t*t%n,e>>=Xi;return r}function Fj(t,e){if(t===Gs||e<=Gs)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Wu(t,e),r=e,i=Gs,a=Xi;for(;n!==Gs;){let o=r%n,s=i-a*(r/n);r=n,n=o,i=a,a=s}if(r!==Xi)throw new Error("invert: does not exist");return Wu(i,e)}function EHe(t){let e=(t-Xi)/v2,n,r,i;for(n=t-Xi,r=0;n%v2===Gs;n/=v2,r++);for(i=v2;i<t&&vHe(i,e,t)!==t-Xi;i++);if(r===1){let o=(t+Xi)/_le;return function(s,c){let l=s.pow(c,o);if(!s.eql(s.sqr(l),c))throw new Error("Cannot find square root");return l}}let a=(n+Xi)/v2;return function(o,s){if(o.pow(s,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(s,a),f=o.pow(s,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let h=o.sqr(f);d<c&&!o.eql(h,o.ONE);d++)h=o.sqr(h);let p=o.pow(l,Xi<<BigInt(c-d-1));l=o.sqr(p),u=o.mul(u,p),f=o.mul(f,l),c=d}return u}}function ILe(t){if(t%_le===fkt){let e=(t+Xi)/_le;return function(n,r){let i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%CLe===SLe){let e=(t-SLe)/CLe;return function(n,r){let i=n.mul(r,v2),a=n.pow(i,e),o=n.mul(r,a),s=n.mul(n.mul(o,v2),a),c=n.mul(o,n.sub(s,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return EHe(t)}BigInt(9),BigInt(16);di.isNegativeLE=(t,e)=>(Wu(t,e)&Xi)===Xi;var dkt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function RLe(t,e,n){if(n<Gs)throw new Error("Expected power > 0");if(n===Gs)return t.ONE;if(n===Xi)return e;let r=t.ONE,i=e;for(;n>Gs;)n&Xi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Xi;return r}function OLe(t,e){let n=new Array(e.length),r=e.reduce(((a,o,s)=>t.is0(o)?a:(n[s]=a,t.mul(a,o))),t.ONE),i=t.inv(r);return e.reduceRight(((a,o,s)=>t.is0(o)?a:(n[s]=t.mul(a,n[s]),t.mul(a,o))),i),n}function NLe(t){let e=(t-Xi)/v2;return(n,r)=>n.pow(r,e)}function jce(t,e){let n=e!==void 0?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Tle(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function PLe(t){let e=Tle(t);return e+Math.ceil(e/2)}Object.defineProperty(Kx,"__esModule",{value:!0}),Kx.wNAF=function(t,e){let n=(a,o)=>{let s=o.negate();return a?s:o},r=a=>{if(!Number.isSafeInteger(a)||a<=0||a>e)throw new Error(`Wrong window size=${a}, should be [1..${e}]`)},i=a=>(r(a),{windows:Math.ceil(e/a)+1,windowSize:2**(a-1)});return{constTimeNegate:n,unsafeLadder(a,o){let s=t.ZERO,c=a;for(;o>pkt;)o&Gce&&(s=s.add(c)),c=c.double(),o>>=Gce;return s},precomputeWindow(a,o){let{windows:s,windowSize:c}=i(o),l=[],u=a,f=u;for(let d=0;d<s;d++){f=u,l.push(f);for(let p=1;p<c;p++)f=f.add(u),l.push(f);u=f.double()}return l},wNAF(a,o,s){let{windows:c,windowSize:l}=i(a),u=t.ZERO,f=t.BASE,d=BigInt(2**a-1),p=2**a,h=BigInt(a);for(let m=0;m<c;m++){let w=m*l,g=Number(s&d);s>>=h,g>l&&(g-=p,s+=Gce);let x=w,C=w+Math.abs(g)-1,P=m%2!=0,D=g<0;g===0?f=f.add(n(P,o[x])):u=u.add(n(D,o[C]))}return{p:u,f}},wNAFCached(a,o,s){let c=BLe.get(a)||1,l=Vce.get(a);return l||(l=this.precomputeWindow(a,c),c!==1&&Vce.set(a,s(l))),this.wNAF(c,l,o)},setWindowSize(a,o){r(o),BLe.set(a,o),Vce.delete(a)}}},Kx.pippenger=function(t,e,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach(((u,f)=>{if(!e.isValid(u))throw new Error(`wrong scalar at index ${f}`)})),n.forEach(((u,f)=>{if(!(u instanceof t))throw new Error(`wrong point at index ${f}`)}));let i=(0,MLe.bitLen)(BigInt(n.length)),a=i>12?i-3:i>4?i-2:i?2:1,o=(1<<a)-1,s=new Array(o+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/a)*a,l=t.ZERO;for(let u=c;u>=0;u-=a){s.fill(t.ZERO);for(let d=0;d<r.length;d++){let p=r[d],h=Number(p>>BigInt(u)&BigInt(o));s[h]=s[h].add(n[d])}let f=t.ZERO;for(let d=s.length-1,p=t.ZERO;d>0;d--)p=p.add(s[d]),f=f.add(p);if(l=l.add(f),u!==0)for(let d=0;d<a;d++)l=l.double()}return l},Kx.validateBasic=function(t){return(0,kLe.validateField)(t.Fp),(0,MLe.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,kLe.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};var kLe=di,MLe=ir,pkt=BigInt(0),Gce=BigInt(1),Vce=new WeakMap,BLe=new WeakMap;Object.defineProperty(xle,"__esModule",{value:!0}),xle.twistedEdwards=function(t){let e=(function(S){let y=(0,Kce.validateBasic)(S);return zl.validateObject(S,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...y})})(t),{Fp:n,n:r,prehash:i,hash:a,randomBytes:o,nByteLength:s,h:c}=e,l=Hj<<BigInt(8*s)-jl,u=n.create,f=(0,DLe.Field)(e.n,e.nBitLength),d=e.uvRatio||((S,y)=>{try{return{isValid:!0,value:n.sqrt(S*n.inv(y))}}catch{return{isValid:!1,value:K1}}}),p=e.adjustScalarBytes||(S=>S),h=e.domain||((S,y,b)=>{if((0,qu.abool)("phflag",b),y.length||b)throw new Error("Contexts/pre-hash are not supported");return S});function m(S,y){zl.aInRange("coordinate "+S,y,K1,l)}function w(S){if(!(S instanceof C))throw new Error("ExtendedPoint expected")}let g=(0,qu.memoized)(((S,y)=>{let{ex:b,ey:_,ez:A}=S,T=S.is0();y==null&&(y=T?hkt:n.inv(A));let E=u(b*y),k=u(_*y),L=u(A*y);if(T)return{x:K1,y:jl};if(L!==jl)throw new Error("invZ was invalid");return{x:E,y:k}})),x=(0,qu.memoized)((S=>{let{a:y,d:b}=e;if(S.is0())throw new Error("bad point: ZERO");let{ex:_,ey:A,ez:T,et:E}=S,k=u(_*_),L=u(A*A),R=u(T*T),U=u(R*R),j=u(k*y);if(u(R*u(j+L))!==u(U+u(b*u(k*L))))throw new Error("bad point: equation left != right (1)");if(u(_*A)!==u(T*E))throw new Error("bad point: equation left != right (2)");return!0}));class C{constructor(y,b,_,A){this.ex=y,this.ey=b,this.ez=_,this.et=A,m("x",y),m("y",b),m("z",_),m("t",A),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof C)throw new Error("extended point not allowed");let{x:b,y:_}=y||{};return m("x",b),m("y",_),new C(b,_,jl,u(b*_))}static normalizeZ(y){let b=n.invertBatch(y.map((_=>_.ez)));return y.map(((_,A)=>_.toAffine(b[A]))).map(C.fromAffine)}static msm(y,b){return(0,Kce.pippenger)(C,f,y,b)}_setWindowSize(y){F.setWindowSize(this,y)}assertValidity(){x(this)}equals(y){w(y);let{ex:b,ey:_,ez:A}=this,{ex:T,ey:E,ez:k}=y,L=u(b*k),R=u(T*A),U=u(_*k),j=u(E*A);return L===R&&U===j}is0(){return this.equals(C.ZERO)}negate(){return new C(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:y}=e,{ex:b,ey:_,ez:A}=this,T=u(b*b),E=u(_*_),k=u(Hj*u(A*A)),L=u(y*T),R=b+_,U=u(u(R*R)-T-E),j=L+E,z=j-k,V=L-E,$=u(U*z),W=u(j*V),J=u(U*V),X=u(z*j);return new C($,W,X,J)}add(y){w(y);let{a:b,d:_}=e,{ex:A,ey:T,ez:E,et:k}=this,{ex:L,ey:R,ez:U,et:j}=y;if(b===BigInt(-1)){let ye=u((T-A)*(R+L)),Se=u((T+A)*(R-L)),_t=u(Se-ye);if(_t===K1)return this.double();let Xe=u(E*Hj*j),qe=u(k*Hj*U),Lt=qe+Xe,nt=Se+ye,it=qe-Xe,br=u(Lt*_t),Be=u(nt*it),ot=u(Lt*it),kn=u(_t*nt);return new C(br,Be,kn,ot)}let z=u(A*L),V=u(T*R),$=u(k*_*j),W=u(E*U),J=u((A+T)*(L+R)-z-V),X=W-$,te=W+$,ne=u(V-b*z),ue=u(J*X),ce=u(te*ne),oe=u(J*ne),xe=u(X*te);return new C(ue,ce,xe,oe)}subtract(y){return this.add(y.negate())}wNAF(y){return F.wNAFCached(this,y,C.normalizeZ)}multiply(y){let b=y;zl.aInRange("scalar",b,jl,r);let{p:_,f:A}=this.wNAF(b);return C.normalizeZ([_,A])[0]}multiplyUnsafe(y){let b=y;return zl.aInRange("scalar",b,K1,r),b===K1?D:this.equals(D)||b===jl?this:this.equals(P)?this.wNAF(b).p:F.unsafeLadder(this,b)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return F.unsafeLadder(this,r).is0()}toAffine(y){return g(this,y)}clearCofactor(){let{h:y}=e;return y===jl?this:this.multiplyUnsafe(y)}static fromHex(y,b=!1){let{d:_,a:A}=e,T=n.BYTES;y=(0,qu.ensureBytes)("pointHex",y,T),(0,qu.abool)("zip215",b);let E=y.slice(),k=y[T-1];E[T-1]=-129&k;let L=zl.bytesToNumberLE(E),R=b?l:n.ORDER;zl.aInRange("pointHex.y",L,K1,R);let U=u(L*L),j=u(U-jl),z=u(_*U-A),{isValid:V,value:$}=d(j,z);if(!V)throw new Error("Point.fromHex: invalid y coordinate");let W=($&jl)===jl,J=(128&k)!=0;if(!b&&$===K1&&J)throw new Error("Point.fromHex: x=0 and x_0=1");return J!==W&&($=u(-$)),C.fromAffine({x:$,y:L})}static fromPrivateKey(y){return M(y).point}toRawBytes(){let{x:y,y:b}=this.toAffine(),_=zl.numberToBytesLE(b,n.BYTES);return _[_.length-1]|=y&jl?128:0,_}toHex(){return zl.bytesToHex(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,jl,u(e.Gx*e.Gy)),C.ZERO=new C(K1,jl,jl,K1);let{BASE:P,ZERO:D}=C,F=(0,Kce.wNAF)(C,8*s);function H(S){return(0,DLe.mod)(S,r)}function O(S){return H(zl.bytesToNumberLE(S))}function M(S){let y=s;S=(0,qu.ensureBytes)("private key",S,y);let b=(0,qu.ensureBytes)("hashed private key",a(S),2*y),_=p(b.slice(0,y)),A=b.slice(y,2*y),T=O(_),E=P.multiply(T),k=E.toRawBytes();return{head:_,prefix:A,scalar:T,point:E,pointBytes:k}}function N(S=new Uint8Array,...y){let b=zl.concatBytes(...y);return O(a(h(b,(0,qu.ensureBytes)("context",S),!!i)))}let v=mkt;return P._setWindowSize(8),{CURVE:e,getPublicKey:function(S){return M(S).pointBytes},sign:function(S,y,b={}){S=(0,qu.ensureBytes)("message",S),i&&(S=i(S));let{prefix:_,scalar:A,pointBytes:T}=M(y),E=N(b.context,_,S),k=P.multiply(E).toRawBytes(),L=H(E+N(b.context,k,T,S)*A);zl.aInRange("signature.s",L,K1,r);let R=zl.concatBytes(k,zl.numberToBytesLE(L,n.BYTES));return(0,qu.ensureBytes)("result",R,2*s)},verify:function(S,y,b,_=v){let{context:A,zip215:T}=_,E=n.BYTES;S=(0,qu.ensureBytes)("signature",S,2*E),y=(0,qu.ensureBytes)("message",y),T!==void 0&&(0,qu.abool)("zip215",T),i&&(y=i(y));let k=zl.bytesToNumberLE(S.slice(E,2*E)),L,R,U;try{L=C.fromHex(b,T),R=C.fromHex(S.slice(0,E),T),U=P.multiplyUnsafe(k)}catch{return!1}if(!T&&L.isSmallOrder())return!1;let j=N(A,R.toRawBytes(),L.toRawBytes(),y);return R.add(L.multiplyUnsafe(j)).subtract(U).clearCofactor().equals(C.ZERO)},ExtendedPoint:C,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(n.BYTES),precompute:(S=8,y=C.BASE)=>(y._setWindowSize(S),y.multiply(BigInt(3)),y)}}};var Kce=Kx,DLe=di,zl=ir,qu=ir,K1=BigInt(0),jl=BigInt(1),Hj=BigInt(2),hkt=BigInt(8),mkt={zip215:!0},m2={};Object.defineProperty(m2,"__esModule",{value:!0}),m2.expand_message_xmd=xHe,m2.expand_message_xof=AHe,m2.hash_to_field=$ce,m2.isogenyMap=function(t,e){let n=e.map((r=>Array.from(r).reverse()));return(r,i)=>{let[a,o,s,c]=n.map((l=>l.reduce(((u,f)=>t.add(t.mul(u,r),f)))));return r=t.div(a,o),i=t.mul(i,t.div(s,c)),{x:r,y:i}}},m2.createHasher=function(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){let a=$ce(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(a[0])),s=t.fromAffine(e(a[1])),c=o.add(s).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){let a=$ce(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(a[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(let a of r)if(typeof a!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${a} in array`);let i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}};var ykt=di,ic=ir,bkt=ic.bytesToNumberBE;function y2(t,e){if(yN(t),yN(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=255&t,t>>>=8;return new Uint8Array(n)}function gkt(t,e){let n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function yN(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function xHe(t,e,n,r){(0,ic.abytes)(t),(0,ic.abytes)(e),yN(n),e.length>255&&(e=r((0,ic.concatBytes)((0,ic.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:a}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");let s=(0,ic.concatBytes)(e,y2(e.length,1)),c=y2(0,a),l=y2(n,2),u=new Array(o),f=r((0,ic.concatBytes)(c,t,l,y2(0,1),s));u[0]=r((0,ic.concatBytes)(f,y2(1,1),s));for(let d=1;d<=o;d++){let p=[gkt(f,u[d-1]),y2(d+1,1),s];u[d]=r((0,ic.concatBytes)(...p))}return(0,ic.concatBytes)(...u).slice(0,n)}function AHe(t,e,n,r,i){if((0,ic.abytes)(t),(0,ic.abytes)(e),yN(n),e.length>255){let a=Math.ceil(2*r/8);e=i.create({dkLen:a}).update((0,ic.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(y2(n,2)).update(e).update(y2(e.length,1)).digest()}function $ce(t,e,n){(0,ic.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:r,k:i,m:a,hash:o,expand:s,DST:c}=n;(0,ic.abytes)(t),yN(e);let l=typeof c=="string"?(0,ic.utf8ToBytes)(c):c,u=r.toString(2).length,f=Math.ceil((u+i)/8),d=e*a*f,p;if(s==="xmd")p=xHe(t,l,d,o);else if(s==="xof")p=AHe(t,l,d,i,o);else{if(s!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');p=t}let h=new Array(e);for(let m=0;m<e;m++){let w=new Array(a);for(let g=0;g<a;g++){let x=f*(g+m*a),C=p.subarray(x,x+f);w[g]=(0,ykt.mod)(bkt(C),r)}h[m]=w}return h}var Sle={};Object.defineProperty(Sle,"__esModule",{value:!0}),Sle.montgomery=function(t){let e=(function(m){return(0,c2.validateObject)(m,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...m})})(t),{P:n}=e,r=m=>(0,LLe.mod)(m,n),i=e.montgomeryBits,a=Math.ceil(i/8),o=e.nByteLength,s=e.adjustScalarBytes||(m=>m),c=e.powPminus2||(m=>(0,LLe.pow)(m,n-BigInt(2),n));function l(m,w,g){let x=r(m*(w-g));return[w=r(w-x),g=r(g+x)]}let u=(e.a-BigInt(2))/BigInt(4);function f(m){return(0,c2.numberToBytesLE)(r(m),a)}function d(m,w){let g=(function(P){let D=(0,c2.ensureBytes)("u coordinate",P,a);return o===32&&(D[31]&=127),(0,c2.bytesToNumberLE)(D)})(w),x=(function(P){let D=(0,c2.ensureBytes)("scalar",P),F=D.length;if(F!==a&&F!==o)throw new Error(`Expected ${a} or ${o} bytes, got ${F}`);return(0,c2.bytesToNumberLE)(s(D))})(m),C=(function(P,D){(0,c2.aInRange)("u",P,Fx,n),(0,c2.aInRange)("scalar",D,Fx,n);let F=D,H=P,O,M=qce,N=Fx,v=P,I=qce,S=Fx;for(let b=BigInt(i-1);b>=Fx;b--){let _=F>>b&qce;S^=_,O=l(S,M,v),M=O[0],v=O[1],O=l(S,N,I),N=O[0],I=O[1],S=_;let A=M+N,T=r(A*A),E=M-N,k=r(E*E),L=T-k,R=v+I,U=r((v-I)*A),j=r(R*E),z=U+j,V=U-j;v=r(z*z),I=r(H*r(V*V)),M=r(T*k),N=r(L*(T+r(u*L)))}O=l(S,M,v),M=O[0],v=O[1],O=l(S,N,I),N=O[0],I=O[1];let y=c(N);return r(M*y)})(g,x);if(C===Fx)throw new Error("Invalid private or public key received");return f(C)}let p=f(e.Gu);function h(m){return d(m,p)}return{scalarMult:d,scalarMultBase:h,getSharedSecret:(m,w)=>d(m,w),getPublicKey:m=>h(m),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:p}};var LLe=di,c2=ir,Fx=BigInt(0),qce=BigInt(1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=F,t.edwardsToMontgomeryPriv=function(j){let z=P.hash(j.subarray(0,32));return P.adjustScalarBytes(z).subarray(0,32)};let e=js,n=$5,r=xle,i=m2,a=di,o=Sle,s=ir,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),f=BigInt(1),d=BigInt(2),p=BigInt(3),h=BigInt(5),m=BigInt(8);function w(j){let z=BigInt(10),V=BigInt(20),$=BigInt(40),W=BigInt(80),J=c,X=j*j%J*j%J,te=(0,a.pow2)(X,d,J)*X%J,ne=(0,a.pow2)(te,f,J)*j%J,ue=(0,a.pow2)(ne,h,J)*ne%J,ce=(0,a.pow2)(ue,z,J)*ue%J,oe=(0,a.pow2)(ce,V,J)*ce%J,xe=(0,a.pow2)(oe,$,J)*oe%J,ye=(0,a.pow2)(xe,W,J)*xe%J,Se=(0,a.pow2)(ye,W,J)*xe%J,_t=(0,a.pow2)(Se,z,J)*ue%J;return{pow_p_5_8:(0,a.pow2)(_t,d,J)*j%J,b2:X}}function g(j){return j[0]&=248,j[31]&=127,j[31]|=64,j}function x(j,z){let V=c,$=(0,a.mod)(z*z*z,V),W=w(j*(0,a.mod)($*$*z,V)).pow_p_5_8,J=(0,a.mod)(j*$*W,V),X=(0,a.mod)(z*J*J,V),te=J,ne=(0,a.mod)(J*l,V),ue=X===j,ce=X===(0,a.mod)(-j,V),oe=X===(0,a.mod)(-j*l,V);return ue&&(J=te),(ce||oe)&&(J=ne),(0,a.isNegativeLE)(J,V)&&(J=(0,a.mod)(-J,V)),{isValid:ue||ce,value:J}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];let C=(0,a.Field)(c,void 0,!0),P={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:C,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:m,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:n.randomBytes,adjustScalarBytes:g,uvRatio:x};function D(j,z,V){if(z.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([V?1:0,z.length]),z,j)}function F(j){let{y:z}=t.ed25519.ExtendedPoint.fromHex(j),V=BigInt(1);return C.toBytes(C.create((V+z)*C.inv(V-z)))}t.ed25519=(0,r.twistedEdwards)(P),t.ed25519ctx=(0,r.twistedEdwards)({...P,domain:D}),t.ed25519ph=(0,r.twistedEdwards)(Object.assign({},P,{domain:D,prehash:e.sha512})),t.x25519=(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:j=>{let z=c,{pow_p_5_8:V,b2:$}=w(j);return(0,a.mod)((0,a.pow2)(V,p,z)*$,z)},adjustScalarBytes:g,randomBytes:n.randomBytes}),t.edwardsToMontgomery=F;let H=(C.ORDER+p)/m,O=C.pow(d,H),M=C.sqrt(C.neg(C.ONE)),N=(0,a.FpSqrtEven)(C,C.neg(BigInt(486664)));function v(j){let{xMn:z,xMd:V,yMn:$,yMd:W}=(function(xe){let ye=(C.ORDER-h)/m,Se=BigInt(486662),_t=C.sqr(xe);_t=C.mul(_t,d);let Xe=C.add(_t,C.ONE),qe=C.neg(Se),Lt=C.sqr(Xe),nt=C.mul(Lt,Xe),it=C.mul(_t,Se);it=C.mul(it,qe),it=C.add(it,Lt),it=C.mul(it,qe);let br=C.sqr(nt);Lt=C.sqr(br),br=C.mul(br,nt),br=C.mul(br,it),Lt=C.mul(Lt,br);let Be=C.pow(Lt,ye);Be=C.mul(Be,br);let ot=C.mul(Be,M);Lt=C.sqr(Be),Lt=C.mul(Lt,nt);let kn=C.eql(Lt,it),Et=C.cmov(ot,Be,kn),ht=C.mul(qe,_t),ti=C.mul(Be,xe);ti=C.mul(ti,O);let Ot=C.mul(ti,M),Zt=C.mul(it,_t);Lt=C.sqr(ti),Lt=C.mul(Lt,nt);let ca=C.eql(Lt,Zt),tn=C.cmov(Ot,ti,ca);Lt=C.sqr(Et),Lt=C.mul(Lt,nt);let Vt=C.eql(Lt,it),o0=C.cmov(ht,qe,Vt),Yt=C.cmov(tn,Et,Vt),nn=C.isOdd(Yt);return Yt=C.cmov(Yt,C.neg(Yt),Vt!==nn),{xMn:o0,xMd:Xe,yMn:Yt,yMd:f}})(j),J=C.mul(z,W);J=C.mul(J,N);let X=C.mul(V,$),te=C.sub(z,V),ne=C.add(z,V),ue=C.mul(X,ne),ce=C.eql(ue,C.ZERO);J=C.cmov(J,C.ZERO,ce),X=C.cmov(X,C.ONE,ce),te=C.cmov(te,C.ONE,ce),ne=C.cmov(ne,C.ONE,ce);let oe=C.invertBatch([X,ne]);return{x:C.mul(J,oe[0]),y:C.mul(te,oe[1])}}let I=(0,i.createHasher)(t.ed25519.ExtendedPoint,(j=>v(j[0])),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:C.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});function S(j){if(!(j instanceof U))throw new Error("RistrettoPoint expected")}t.hashToCurve=I.hashToCurve,t.encodeToCurve=I.encodeToCurve;let y=l,b=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),_=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),A=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),T=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),E=j=>x(f,j),k=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=j=>t.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(j)&k);function R(j){let{d:z}=t.ed25519.CURVE,V=t.ed25519.CURVE.Fp.ORDER,$=t.ed25519.CURVE.Fp.create,W=$(y*j*j),J=$((W+f)*A),X=BigInt(-1),te=$((X-z*W)*$(W+z)),{isValid:ne,value:ue}=x(J,te),ce=$(ue*j);(0,a.isNegativeLE)(ce,V)||(ce=$(-ce)),ne||(ue=ce),ne||(X=W);let oe=$(X*(W-f)*T-te),xe=ue*ue,ye=$((ue+ue)*te),Se=$(oe*b),_t=$(f-xe),Xe=$(f+xe);return new t.ed25519.ExtendedPoint($(ye*Xe),$(_t*Se),$(Se*Xe),$(ye*_t))}class U{constructor(z){this.ep=z}static fromAffine(z){return new U(t.ed25519.ExtendedPoint.fromAffine(z))}static hashToCurve(z){z=(0,s.ensureBytes)("ristrettoHash",z,64);let V=R(L(z.slice(0,32))),$=R(L(z.slice(32,64)));return new U(V.add($))}static fromHex(z){z=(0,s.ensureBytes)("ristrettoHex",z,32);let{a:V,d:$}=t.ed25519.CURVE,W=t.ed25519.CURVE.Fp.ORDER,J=t.ed25519.CURVE.Fp.create,X="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",te=L(z);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(te,32),z)||(0,a.isNegativeLE)(te,W))throw new Error(X);let ne=J(te*te),ue=J(f+V*ne),ce=J(f-V*ne),oe=J(ue*ue),xe=J(ce*ce),ye=J(V*$*oe-xe),{isValid:Se,value:_t}=E(J(ye*xe)),Xe=J(_t*ce),qe=J(_t*Xe*ye),Lt=J((te+te)*Xe);(0,a.isNegativeLE)(Lt,W)&&(Lt=J(-Lt));let nt=J(ue*qe),it=J(Lt*nt);if(!Se||(0,a.isNegativeLE)(it,W)||nt===u)throw new Error(X);return new U(new t.ed25519.ExtendedPoint(Lt,nt,f,it))}toRawBytes(){let{ex:z,ey:V,ez:$,et:W}=this.ep,J=t.ed25519.CURVE.Fp.ORDER,X=t.ed25519.CURVE.Fp.create,te=X(X($+V)*X($-V)),ne=X(z*V),ue=X(ne*ne),{value:ce}=E(X(te*ue)),oe=X(ce*te),xe=X(ce*ne),ye=X(oe*xe*W),Se;if((0,a.isNegativeLE)(W*ye,J)){let Xe=X(V*y),qe=X(z*y);z=Xe,V=qe,Se=X(oe*_)}else Se=xe;(0,a.isNegativeLE)(z*ye,J)&&(V=X(-V));let _t=X(($-V)*Se);return(0,a.isNegativeLE)(_t,J)&&(_t=X(-_t)),(0,s.numberToBytesLE)(_t,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(z){S(z);let{ex:V,ey:$}=this.ep,{ex:W,ey:J}=z.ep,X=t.ed25519.CURVE.Fp.create,te=X(V*J)===X($*W),ne=X($*J)===X(V*W);return te||ne}add(z){return S(z),new U(this.ep.add(z.ep))}subtract(z){return S(z),new U(this.ep.subtract(z.ep))}multiply(z){return new U(this.ep.multiply(z))}multiplyUnsafe(z){return new U(this.ep.multiplyUnsafe(z))}double(){return new U(this.ep.double())}negate(){return new U(this.ep.negate())}}t.RistrettoPoint=(U.BASE||(U.BASE=new U(t.ed25519.ExtendedPoint.BASE)),U.ZERO||(U.ZERO=new U(t.ed25519.ExtendedPoint.ZERO)),U),t.hashToRistretto255=(j,z)=>{let V=z.DST,$=typeof V=="string"?(0,n.utf8ToBytes)(V):V,W=(0,i.expand_message_xmd)(j,$,64,e.sha512);return U.hashToCurve(W)},t.hash_to_ristretto255=t.hashToRistretto255})(qFe);var _He={},j5={};Object.defineProperty(j5,"__esModule",{value:!0}),j5.sha224=j5.sha256=j5.SHA256=void 0;var Wce=z5,wd=$5,wkt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),l2=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u2=new Uint32Array(64),bN=class extends Wce.HashMD{constructor(){super(64,32,8,!1),this.A=0|l2[0],this.B=0|l2[1],this.C=0|l2[2],this.D=0|l2[3],this.E=0|l2[4],this.F=0|l2[5],this.G=0|l2[6],this.H=0|l2[7]}get(){let{A:e,B:n,C:r,D:i,E:a,F:o,G:s,H:c}=this;return[e,n,r,i,a,o,s,c]}set(e,n,r,i,a,o,s,c){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|a,this.F=0|o,this.G=0|s,this.H=0|c}process(e,n){for(let f=0;f<16;f++,n+=4)u2[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){let d=u2[f-15],p=u2[f-2],h=(0,wd.rotr)(d,7)^(0,wd.rotr)(d,18)^d>>>3,m=(0,wd.rotr)(p,17)^(0,wd.rotr)(p,19)^p>>>10;u2[f]=m+u2[f-7]+h+u2[f-16]|0}let{A:r,B:i,C:a,D:o,E:s,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=u+((0,wd.rotr)(s,6)^(0,wd.rotr)(s,11)^(0,wd.rotr)(s,25))+(0,Wce.Chi)(s,c,l)+wkt[f]+u2[f]|0,p=((0,wd.rotr)(r,2)^(0,wd.rotr)(r,13)^(0,wd.rotr)(r,22))+(0,Wce.Maj)(r,i,a)|0;u=l,l=c,c=s,s=o+d|0,o=a,a=i,i=r,r=d+p|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,a,o,s,c,l,u)}roundClean(){u2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};j5.SHA256=bN;var Cle=class extends bN{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};j5.sha256=(0,wd.wrapConstructor)((()=>new bN)),j5.sha224=(0,wd.wrapConstructor)((()=>new Cle));var nG={},gue={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;let e=Yu,n=$5;class r extends n.Hash{constructor(a,o){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(a);let s=(0,n.toBytes)(o);if(this.iHash=a.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let c=this.blockLen,l=new Uint8Array(c);l.set(s.length>c?a.create().update(s).digest():s);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=a.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),l.fill(0)}update(a){return(0,e.exists)(this),this.iHash.update(a),this}digestInto(a){(0,e.exists)(this),(0,e.bytes)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:o,iHash:s,finished:c,destroyed:l,blockLen:u,outputLen:f}=this;return a.finished=c,a.destroyed=l,a.blockLen=u,a.outputLen=f,a.oHash=o._cloneInto(a.oHash),a.iHash=s._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r,t.hmac=(i,a,o)=>new r(i,a).update(o).digest(),t.hmac.create=(i,a)=>new r(i,a)})(gue);var wue={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=void 0,t.weierstrassPoints=p,t.weierstrass=function(m){let w=(function(j){let z=(0,e.validateBasic)(j);return r.validateObject(z,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...z})})(m),{Fp:g,n:x}=w,C=g.BYTES+1,P=2*g.BYTES+1;function D(j){return n.mod(j,x)}function F(j){return n.invert(j,x)}let{ProjectivePoint:H,normPrivateKeyToScalar:O,weierstrassEquation:M,isWithinCurveOrder:N}=p({...w,toBytes(j,z,V){let $=z.toAffine(),W=g.toBytes($.x),J=r.concatBytes;return(0,i.abool)("isCompressed",V),V?J(Uint8Array.from([z.hasEvenY()?2:3]),W):J(Uint8Array.from([4]),W,g.toBytes($.y))},fromBytes(j){let z=j.length,V=j[0],$=j.subarray(1);if(z!==C||V!==2&&V!==3){if(z===P&&V===4)return{x:g.fromBytes($.subarray(0,g.BYTES)),y:g.fromBytes($.subarray(g.BYTES,2*g.BYTES))};throw new Error(`Point of length ${z} was invalid. Expected ${C} compressed bytes or ${P} uncompressed bytes`)}{let W=r.bytesToNumberBE($);if(!r.inRange(W,l,g.ORDER))throw new Error("Point is not on curve");let J=M(W),X;try{X=g.sqrt(J)}catch(te){let ne=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+ne)}return(1&V)==1!=((X&l)===l)&&(X=g.neg(X)),{x:W,y:X}}}}),v=j=>r.bytesToHex(r.numberToBytesBE(j,w.nByteLength));function I(j){return j>x>>l}let S=(j,z,V)=>r.bytesToNumberBE(j.slice(z,V));class y{constructor(z,V,$){this.r=z,this.s=V,this.recovery=$,this.assertValidity()}static fromCompact(z){let V=w.nByteLength;return z=(0,i.ensureBytes)("compactSignature",z,2*V),new y(S(z,0,V),S(z,V,2*V))}static fromDER(z){let{r:V,s:$}=t.DER.toSig((0,i.ensureBytes)("DER",z));return new y(V,$)}assertValidity(){r.aInRange("r",this.r,l,x),r.aInRange("s",this.s,l,x)}addRecoveryBit(z){return new y(this.r,this.s,z)}recoverPublicKey(z){let{r:V,s:$,recovery:W}=this,J=T((0,i.ensureBytes)("msgHash",z));if(W==null||![0,1,2,3].includes(W))throw new Error("recovery id invalid");let X=W===2||W===3?V+w.n:V;if(X>=g.ORDER)throw new Error("recovery id 2 or 3 invalid");let te=(1&W)==0?"02":"03",ne=H.fromHex(te+v(X)),ue=F(X),ce=D(-J*ue),oe=D($*ue),xe=H.BASE.multiplyAndAddUnsafe(ne,ce,oe);if(!xe)throw new Error("point at infinify");return xe.assertValidity(),xe}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,D(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}let b={isValidPrivateKey(j){try{return O(j),!0}catch{return!1}},normPrivateKeyToScalar:O,randomPrivateKey:()=>{let j=n.getMinHashLength(w.n);return n.mapHashToField(w.randomBytes(j),w.n)},precompute:(j=8,z=H.BASE)=>(z._setWindowSize(j),z.multiply(BigInt(3)),z)};function _(j){let z=r.isBytes(j),V=typeof j=="string",$=(z||V)&&j.length;return z?$===C||$===P:V?$===2*C||$===2*P:j instanceof H}let A=w.bits2int||function(j){let z=r.bytesToNumberBE(j),V=8*j.length-w.nBitLength;return V>0?z>>BigInt(V):z},T=w.bits2int_modN||function(j){return D(A(j))},E=r.bitMask(w.nBitLength);function k(j){return r.aInRange(`num < 2^${w.nBitLength}`,j,c,E),r.numberToBytesBE(j,w.nByteLength)}function L(j,z,V=R){if(["recovered","canonical"].some((ye=>ye in V)))throw new Error("sign() legacy options not supported");let{hash:$,randomBytes:W}=w,{lowS:J,prehash:X,extraEntropy:te}=V;J==null&&(J=!0),j=(0,i.ensureBytes)("msgHash",j),a(V),X&&(j=(0,i.ensureBytes)("prehashed msgHash",$(j)));let ne=T(j),ue=O(z),ce=[k(ue),k(ne)];if(te!=null&&te!==!1){let ye=te===!0?W(g.BYTES):te;ce.push((0,i.ensureBytes)("extraEntropy",ye))}let oe=r.concatBytes(...ce),xe=ne;return{seed:oe,k2sig:function(ye){let Se=A(ye);if(!N(Se))return;let _t=F(Se),Xe=H.BASE.multiply(Se).toAffine(),qe=D(Xe.x);if(qe===c)return;let Lt=D(_t*D(xe+qe*ue));if(Lt===c)return;let nt=(Xe.x===qe?0:2)|Number(Xe.y&l),it=Lt;return J&&I(Lt)&&(it=(function(br){return I(br)?D(-br):br})(Lt),nt^=1),new y(qe,it,nt)}}}let R={lowS:w.lowS,prehash:!1},U={lowS:w.lowS,prehash:!1};return H.BASE._setWindowSize(8),{CURVE:w,getPublicKey:function(j,z=!0){return H.fromPrivateKey(j).toRawBytes(z)},getSharedSecret:function(j,z,V=!0){if(_(j))throw new Error("first arg must be private key");if(!_(z))throw new Error("second arg must be public key");return H.fromHex(z).multiply(O(j)).toRawBytes(V)},sign:function(j,z,V=R){let{seed:$,k2sig:W}=L(j,z,V),J=w;return r.createHmacDrbg(J.hash.outputLen,J.nByteLength,J.hmac)($,W)},verify:function(j,z,V,$=U){let W=j;if(z=(0,i.ensureBytes)("msgHash",z),V=(0,i.ensureBytes)("publicKey",V),"strict"in $)throw new Error("options.strict was renamed to lowS");a($);let{lowS:J,prehash:X}=$,te,ne;try{if(typeof W=="string"||r.isBytes(W))try{te=y.fromDER(W)}catch(qe){if(!(qe instanceof t.DER.Err))throw qe;te=y.fromCompact(W)}else{if(typeof W!="object"||typeof W.r!="bigint"||typeof W.s!="bigint")throw new Error("PARSE");{let{r:qe,s:Lt}=W;te=new y(qe,Lt)}}ne=H.fromHex(V)}catch(qe){if(qe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&te.hasHighS())return!1;X&&(z=w.hash(z));let{r:ue,s:ce}=te,oe=T(z),xe=F(ce),ye=D(oe*xe),Se=D(ue*xe),_t=H.BASE.multiplyAndAddUnsafe(ne,ye,Se)?.toAffine();return _t?D(_t.x)===ue:!1},ProjectivePoint:H,Signature:y,utils:b}},t.SWUFpSqrtRatio=h,t.mapToCurveSimpleSWU=function(m,w){if(n.validateField(m),!m.isValid(w.A)||!m.isValid(w.B)||!m.isValid(w.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let g=h(m,w.Z);if(!m.isOdd)throw new Error("Fp.isOdd is not implemented!");return x=>{let C,P,D,F,H,O,M,N;C=m.sqr(x),C=m.mul(C,w.Z),P=m.sqr(C),P=m.add(P,C),D=m.add(P,m.ONE),D=m.mul(D,w.B),F=m.cmov(w.Z,m.neg(P),!m.eql(P,m.ZERO)),F=m.mul(F,w.A),P=m.sqr(D),O=m.sqr(F),H=m.mul(O,w.A),P=m.add(P,H),P=m.mul(P,D),O=m.mul(O,F),H=m.mul(O,w.B),P=m.add(P,H),M=m.mul(C,D);let{isValid:v,value:I}=g(P,O);N=m.mul(C,x),N=m.mul(N,I),M=m.cmov(M,D,v),N=m.cmov(N,I,v);let S=m.isOdd(x)===m.isOdd(N);return N=m.cmov(m.neg(N),N,S),M=m.div(M,F),{x:M,y:N}}};let e=Kx,n=di,r=ir,i=ir;function a(m){m.lowS!==void 0&&(0,i.abool)("lowS",m.lowS),m.prehash!==void 0&&(0,i.abool)("prehash",m.prehash)}let{bytesToNumberBE:o,hexToBytes:s}=r;t.DER={Err:class extends Error{constructor(m=""){super(m)}},_tlv:{encode:(m,w)=>{let{Err:g}=t.DER;if(m<0||m>256)throw new g("tlv.encode: wrong tag");if(1&w.length)throw new g("tlv.encode: unpadded data");let x=w.length/2,C=r.numberToHexUnpadded(x);if(C.length/2&128)throw new g("tlv.encode: long form length too big");let P=x>127?r.numberToHexUnpadded(C.length/2|128):"";return`${r.numberToHexUnpadded(m)}${P}${C}${w}`},decode(m,w){let{Err:g}=t.DER,x=0;if(m<0||m>256)throw new g("tlv.encode: wrong tag");if(w.length<2||w[x++]!==m)throw new g("tlv.decode: wrong tlv");let C=w[x++],P=0;if(128&C){let F=127&C;if(!F)throw new g("tlv.decode(long): indefinite length not supported");if(F>4)throw new g("tlv.decode(long): byte length is too big");let H=w.subarray(x,x+F);if(H.length!==F)throw new g("tlv.decode: length bytes not complete");if(H[0]===0)throw new g("tlv.decode(long): zero leftmost byte");for(let O of H)P=P<<8|O;if(x+=F,P<128)throw new g("tlv.decode(long): not minimal encoding")}else P=C;let D=w.subarray(x,x+P);if(D.length!==P)throw new g("tlv.decode: wrong value length");return{v:D,l:w.subarray(x+P)}}},_int:{encode(m){let{Err:w}=t.DER;if(m<c)throw new w("integer: negative integers are not allowed");let g=r.numberToHexUnpadded(m);if(8&Number.parseInt(g[0],16)&&(g="00"+g),1&g.length)throw new w("unexpected assertion");return g},decode(m){let{Err:w}=t.DER;if(128&m[0])throw new w("Invalid signature integer: negative");if(m[0]===0&&!(128&m[1]))throw new w("Invalid signature integer: unnecessary leading zero");return o(m)}},toSig(m){let{Err:w,_int:g,_tlv:x}=t.DER,C=typeof m=="string"?s(m):m;r.abytes(C);let{v:P,l:D}=x.decode(48,C);if(D.length)throw new w("Invalid signature: left bytes after parsing");let{v:F,l:H}=x.decode(2,P),{v:O,l:M}=x.decode(2,H);if(M.length)throw new w("Invalid signature: left bytes after parsing");return{r:g.decode(F),s:g.decode(O)}},hexFromSig(m){let{_tlv:w,_int:g}=t.DER,x=`${w.encode(2,g.encode(m.r))}${w.encode(2,g.encode(m.s))}`;return w.encode(48,x)}};let c=BigInt(0),l=BigInt(1),u=BigInt(2),f=BigInt(3),d=BigInt(4);function p(m){let w=(function(S){let y=(0,e.validateBasic)(S);r.validateObject(y,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:b,Fp:_,a:A}=y;if(b){if(!_.eql(A,_.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof b!="object"||typeof b.beta!="bigint"||typeof b.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...y})})(m),{Fp:g}=w,x=n.Field(w.n,w.nBitLength),C=w.toBytes||((S,y,b)=>{let _=y.toAffine();return r.concatBytes(Uint8Array.from([4]),g.toBytes(_.x),g.toBytes(_.y))}),P=w.fromBytes||(S=>{let y=S.subarray(1);return{x:g.fromBytes(y.subarray(0,g.BYTES)),y:g.fromBytes(y.subarray(g.BYTES,2*g.BYTES))}});function D(S){let{a:y,b}=w,_=g.sqr(S),A=g.mul(_,S);return g.add(g.add(A,g.mul(S,y)),b)}if(!g.eql(g.sqr(w.Gy),D(w.Gx)))throw new Error("bad generator point: equation left != right");function F(S){let{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:_,n:A}=w;if(y&&typeof S!="bigint"){if(r.isBytes(S)&&(S=r.bytesToHex(S)),typeof S!="string"||!y.includes(S.length))throw new Error("Invalid key");S=S.padStart(2*b,"0")}let T;try{T=typeof S=="bigint"?S:r.bytesToNumberBE((0,i.ensureBytes)("private key",S,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof S}`)}return _&&(T=n.mod(T,A)),r.aInRange("private key",T,l,A),T}function H(S){if(!(S instanceof N))throw new Error("ProjectivePoint expected")}let O=(0,i.memoized)(((S,y)=>{let{px:b,py:_,pz:A}=S;if(g.eql(A,g.ONE))return{x:b,y:_};let T=S.is0();y==null&&(y=T?g.ONE:g.inv(A));let E=g.mul(b,y),k=g.mul(_,y),L=g.mul(A,y);if(T)return{x:g.ZERO,y:g.ZERO};if(!g.eql(L,g.ONE))throw new Error("invZ was invalid");return{x:E,y:k}})),M=(0,i.memoized)((S=>{if(S.is0()){if(w.allowInfinityPoint&&!g.is0(S.py))return;throw new Error("bad point: ZERO")}let{x:y,y:b}=S.toAffine();if(!g.isValid(y)||!g.isValid(b))throw new Error("bad point: x or y not FE");let _=g.sqr(b),A=D(y);if(!g.eql(_,A))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class N{constructor(y,b,_){if(this.px=y,this.py=b,this.pz=_,y==null||!g.isValid(y))throw new Error("x required");if(b==null||!g.isValid(b))throw new Error("y required");if(_==null||!g.isValid(_))throw new Error("z required");Object.freeze(this)}static fromAffine(y){let{x:b,y:_}=y||{};if(!y||!g.isValid(b)||!g.isValid(_))throw new Error("invalid affine point");if(y instanceof N)throw new Error("projective point not allowed");let A=T=>g.eql(T,g.ZERO);return A(b)&&A(_)?N.ZERO:new N(b,_,g.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let b=g.invertBatch(y.map((_=>_.pz)));return y.map(((_,A)=>_.toAffine(b[A]))).map(N.fromAffine)}static fromHex(y){let b=N.fromAffine(P((0,i.ensureBytes)("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return N.BASE.multiply(F(y))}static msm(y,b){return(0,e.pippenger)(N,x,y,b)}_setWindowSize(y){I.setWindowSize(this,y)}assertValidity(){M(this)}hasEvenY(){let{y}=this.toAffine();if(g.isOdd)return!g.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){H(y);let{px:b,py:_,pz:A}=this,{px:T,py:E,pz:k}=y,L=g.eql(g.mul(b,k),g.mul(T,A)),R=g.eql(g.mul(_,k),g.mul(E,A));return L&&R}negate(){return new N(this.px,g.neg(this.py),this.pz)}double(){let{a:y,b}=w,_=g.mul(b,f),{px:A,py:T,pz:E}=this,k=g.ZERO,L=g.ZERO,R=g.ZERO,U=g.mul(A,A),j=g.mul(T,T),z=g.mul(E,E),V=g.mul(A,T);return V=g.add(V,V),R=g.mul(A,E),R=g.add(R,R),k=g.mul(y,R),L=g.mul(_,z),L=g.add(k,L),k=g.sub(j,L),L=g.add(j,L),L=g.mul(k,L),k=g.mul(V,k),R=g.mul(_,R),z=g.mul(y,z),V=g.sub(U,z),V=g.mul(y,V),V=g.add(V,R),R=g.add(U,U),U=g.add(R,U),U=g.add(U,z),U=g.mul(U,V),L=g.add(L,U),z=g.mul(T,E),z=g.add(z,z),U=g.mul(z,V),k=g.sub(k,U),R=g.mul(z,j),R=g.add(R,R),R=g.add(R,R),new N(k,L,R)}add(y){H(y);let{px:b,py:_,pz:A}=this,{px:T,py:E,pz:k}=y,L=g.ZERO,R=g.ZERO,U=g.ZERO,j=w.a,z=g.mul(w.b,f),V=g.mul(b,T),$=g.mul(_,E),W=g.mul(A,k),J=g.add(b,_),X=g.add(T,E);J=g.mul(J,X),X=g.add(V,$),J=g.sub(J,X),X=g.add(b,A);let te=g.add(T,k);return X=g.mul(X,te),te=g.add(V,W),X=g.sub(X,te),te=g.add(_,A),L=g.add(E,k),te=g.mul(te,L),L=g.add($,W),te=g.sub(te,L),U=g.mul(j,X),L=g.mul(z,W),U=g.add(L,U),L=g.sub($,U),U=g.add($,U),R=g.mul(L,U),$=g.add(V,V),$=g.add($,V),W=g.mul(j,W),X=g.mul(z,X),$=g.add($,W),W=g.sub(V,W),W=g.mul(j,W),X=g.add(X,W),V=g.mul($,X),R=g.add(R,V),V=g.mul(te,X),L=g.mul(J,L),L=g.sub(L,V),V=g.mul(J,$),U=g.mul(te,U),U=g.add(U,V),new N(L,R,U)}subtract(y){return this.add(y.negate())}is0(){return this.equals(N.ZERO)}wNAF(y){return I.wNAFCached(this,y,N.normalizeZ)}multiplyUnsafe(y){r.aInRange("scalar",y,c,w.n);let b=N.ZERO;if(y===c)return b;if(y===l)return this;let{endo:_}=w;if(!_)return I.unsafeLadder(this,y);let{k1neg:A,k1:T,k2neg:E,k2:k}=_.splitScalar(y),L=b,R=b,U=this;for(;T>c||k>c;)T&l&&(L=L.add(U)),k&l&&(R=R.add(U)),U=U.double(),T>>=l,k>>=l;return A&&(L=L.negate()),E&&(R=R.negate()),R=new N(g.mul(R.px,_.beta),R.py,R.pz),L.add(R)}multiply(y){let{endo:b,n:_}=w,A,T;if(r.aInRange("scalar",y,l,_),b){let{k1neg:E,k1:k,k2neg:L,k2:R}=b.splitScalar(y),{p:U,f:j}=this.wNAF(k),{p:z,f:V}=this.wNAF(R);U=I.constTimeNegate(E,U),z=I.constTimeNegate(L,z),z=new N(g.mul(z.px,b.beta),z.py,z.pz),A=U.add(z),T=j.add(V)}else{let{p:E,f:k}=this.wNAF(y);A=E,T=k}return N.normalizeZ([A,T])[0]}multiplyAndAddUnsafe(y,b,_){let A=N.BASE,T=(k,L)=>L!==c&&L!==l&&k.equals(A)?k.multiply(L):k.multiplyUnsafe(L),E=T(this,b).add(T(y,_));return E.is0()?void 0:E}toAffine(y){return O(this,y)}isTorsionFree(){let{h:y,isTorsionFree:b}=w;if(y===l)return!0;if(b)return b(N,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:b}=w;return y===l?this:b?b(N,this):this.multiplyUnsafe(w.h)}toRawBytes(y=!0){return(0,i.abool)("isCompressed",y),this.assertValidity(),C(N,this,y)}toHex(y=!0){return(0,i.abool)("isCompressed",y),r.bytesToHex(this.toRawBytes(y))}}N.BASE=new N(w.Gx,w.Gy,g.ONE),N.ZERO=new N(g.ZERO,g.ONE,g.ZERO);let v=w.nBitLength,I=(0,e.wNAF)(N,w.endo?Math.ceil(v/2):v);return{CURVE:w,ProjectivePoint:N,normPrivateKeyToScalar:F,weierstrassEquation:D,isWithinCurveOrder:function(S){return r.inRange(S,l,w.n)}}}function h(m,w){let g=m.ORDER,x=c;for(let S=g-l;S%u===c;S/=u)x+=l;let C=x,P=u<<C-l-l,D=P*u,F=(g-l)/D,H=(F-l)/u,O=D-l,M=P,N=m.pow(w,F),v=m.pow(w,(F+l)/u),I=(S,y)=>{let b=N,_=m.pow(y,O),A=m.sqr(_);A=m.mul(A,y);let T=m.mul(S,A);T=m.pow(T,H),T=m.mul(T,_),_=m.mul(T,y),A=m.mul(T,S);let E=m.mul(A,_);T=m.pow(E,M);let k=m.eql(T,m.ONE);_=m.mul(A,v),T=m.mul(E,b),A=m.cmov(_,A,k),E=m.cmov(T,E,k);for(let L=C;L>l;L--){let R=L-u;R=u<<R-l;let U=m.pow(E,R),j=m.eql(U,m.ONE);_=m.mul(A,b),b=m.mul(b,b),U=m.mul(E,b),A=m.cmov(_,A,j),E=m.cmov(U,E,j)}return{isValid:k,value:A}};if(m.ORDER%d===f){let S=(m.ORDER-f)/d,y=m.sqrt(m.neg(w));I=(b,_)=>{let A=m.sqr(_),T=m.mul(b,_);A=m.mul(A,T);let E=m.pow(A,S);E=m.mul(E,T);let k=m.mul(E,y),L=m.mul(m.sqr(E),_),R=m.eql(L,b);return{isValid:R,value:m.cmov(k,E,R)}}}return I}})(wue),Object.defineProperty(nG,"__esModule",{value:!0}),nG.getHash=FLe,nG.createCurve=function(t,e){let n=r=>(0,Ekt.weierstrass)({...t,...FLe(r)});return Object.freeze({...n(e),create:n})};var vkt=gue,ULe=$5,Ekt=wue;function FLe(t){return{hash:t,hmac:(e,...n)=>(0,vkt.hmac)(t,e,(0,ULe.concatBytes)(...n)),randomBytes:ULe.randomBytes}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;let e=j5,n=$5,r=nG,i=m2,a=di,o=ir,s=wue,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(1),f=BigInt(2),d=(T,E)=>(T+E/f)/E;function p(T){let E=c,k=BigInt(3),L=BigInt(6),R=BigInt(11),U=BigInt(22),j=BigInt(23),z=BigInt(44),V=BigInt(88),$=T*T*T%E,W=$*$*T%E,J=(0,a.pow2)(W,k,E)*W%E,X=(0,a.pow2)(J,k,E)*W%E,te=(0,a.pow2)(X,f,E)*$%E,ne=(0,a.pow2)(te,R,E)*te%E,ue=(0,a.pow2)(ne,U,E)*ne%E,ce=(0,a.pow2)(ue,z,E)*ue%E,oe=(0,a.pow2)(ce,V,E)*ce%E,xe=(0,a.pow2)(oe,z,E)*ue%E,ye=(0,a.pow2)(xe,k,E)*W%E,Se=(0,a.pow2)(ye,j,E)*ne%E,_t=(0,a.pow2)(Se,L,E)*$%E,Xe=(0,a.pow2)(_t,f,E);if(!h.eql(h.sqr(Xe),T))throw new Error("Cannot find square root");return Xe}let h=(0,a.Field)(c,void 0,void 0,{sqrt:p});t.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:h,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:T=>{let E=l,k=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),L=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),R=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),U=k,j=BigInt("0x100000000000000000000000000000000"),z=d(U*T,E),V=d(-L*T,E),$=(0,a.mod)(T-z*k-V*R,E),W=(0,a.mod)(-z*L-V*U,E),J=$>j,X=W>j;if(J&&($=E-$),X&&(W=E-W),$>j||W>j)throw new Error("splitScalar: Endomorphism failed, k="+T);return{k1neg:J,k1:$,k2neg:X,k2:W}}}},e.sha256);let m=BigInt(0),w={};function g(T,...E){let k=w[T];if(k===void 0){let L=(0,e.sha256)(Uint8Array.from(T,(R=>R.charCodeAt(0))));k=(0,o.concatBytes)(L,L),w[T]=k}return(0,e.sha256)((0,o.concatBytes)(k,...E))}let x=T=>T.toRawBytes(!0).slice(1),C=T=>(0,o.numberToBytesBE)(T,32),P=T=>(0,a.mod)(T,c),D=T=>(0,a.mod)(T,l),F=t.secp256k1.ProjectivePoint,H=(T,E,k)=>F.BASE.multiplyAndAddUnsafe(T,E,k);function O(T){let E=t.secp256k1.utils.normPrivateKeyToScalar(T),k=F.fromPrivateKey(E);return{scalar:k.hasEvenY()?E:D(-E),bytes:x(k)}}function M(T){(0,o.aInRange)("x",T,u,c);let E=P(T*T),k=p(P(E*T+BigInt(7)));k%f!==m&&(k=P(-k));let L=new F(T,k,u);return L.assertValidity(),L}let N=o.bytesToNumberBE;function v(...T){return D(N(g("BIP0340/challenge",...T)))}function I(T){return O(T).bytes}function S(T,E,k=(0,n.randomBytes)(32)){let L=(0,o.ensureBytes)("message",T),{bytes:R,scalar:U}=O(E),j=(0,o.ensureBytes)("auxRand",k,32),z=C(U^N(g("BIP0340/aux",j))),V=g("BIP0340/nonce",z,R,L),$=D(N(V));if($===m)throw new Error("sign failed: k is zero");let{bytes:W,scalar:J}=O($),X=v(W,R,L),te=new Uint8Array(64);if(te.set(W,0),te.set(C(D(J+X*U)),32),!y(te,L,R))throw new Error("sign: Invalid signature produced");return te}function y(T,E,k){let L=(0,o.ensureBytes)("signature",T,64),R=(0,o.ensureBytes)("message",E),U=(0,o.ensureBytes)("publicKey",k,32);try{let j=M(N(U)),z=N(L.subarray(0,32));if(!(0,o.inRange)(z,u,c))return!1;let V=N(L.subarray(32,64));if(!(0,o.inRange)(V,u,l))return!1;let $=v(C(z),x(j),R),W=H(j,V,D(-$));return!(!W||!W.hasEvenY()||W.toAffine().x!==z)}catch{return!1}}t.schnorr={getPublicKey:I,sign:S,verify:y,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:M,pointToBytes:x,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:g,mod:a.mod}};let b=(0,i.isogenyMap)(h,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((T=>T.map((E=>BigInt(E)))))),_=(0,s.mapToCurveSimpleSWU)(h,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:h.create(BigInt("-11"))}),A=(0,i.createHasher)(t.secp256k1.ProjectivePoint,(T=>{let{x:E,y:k}=_(h.create(T[0]));return b(E,k)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:h.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=A.hashToCurve,t.encodeToCurve=A.encodeToCurve})(_He);var Ile={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=Zu;t.remove0x=function(n){return n.startsWith("0x")||n.startsWith("0X")?n.slice(2):n},t.decodeHex=function(n){return(0,e.hexToBytes)((0,t.remove0x)(n))}})(Ile),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=mue,n=qFe,r=_He,i=mN,a=zs,o=Ile;t.getValidSecret=function(){var u;do u=(0,e.randomBytes)(a.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(u));return u},t.isValidPrivateKey=function(u){return s((0,i.ellipticCurve)(),(function(f){return f.utils.isValidPrivateKey(u)}),(function(){return!0}),(function(){return!0}))},t.getPublicKey=function(u){return s((0,i.ellipticCurve)(),(function(f){return f.getPublicKey(u)}),(function(f){return f.getPublicKey(u)}),(function(f){return f.getPublicKey(u)}))},t.getSharedPoint=function(u,f,d){return s((0,i.ellipticCurve)(),(function(p){return p.getSharedSecret(u,f,d)}),(function(p){return p.getSharedSecret(u,f)}),(function(p){return l(p,u,f)}))},t.convertPublicKeyFormat=function(u,f){return s((0,i.ellipticCurve)(),(function(d){return d.getSharedSecret(BigInt(1),u,f)}),(function(){return u}),(function(){return u}))};function s(u,f,d,p){if(u==="secp256k1")return f(r.secp256k1);if(u==="x25519")return d(n.x25519);if(u==="ed25519")return p(n.ed25519);throw new Error("Not implemented")}t.hexToPublicKey=function(u){var f=(0,o.decodeHex)(u);return s((0,i.ellipticCurve)(),(function(){return c(f)}),(function(){return f}),(function(){return f}))};var c=function(u){if(u.length===a.ETH_PUBLIC_KEY_SIZE){var f=new Uint8Array(1+u.length);return f.set([4]),f.set(u,1),f}return u},l=function(u,f,d){var p=u.utils.getExtendedPublicKey(f).scalar;return u.ExtendedPoint.fromHex(d).multiply(p).toRawBytes()}})($Fe);var THe={},$x={};Object.defineProperty($x,"__esModule",{value:!0}),$x.hkdf=void 0,$x.extract=CHe,$x.expand=IHe;var Rle=Yu,HLe=$5,SHe=gue;function CHe(t,e,n){return(0,Rle.hash)(t),n===void 0&&(n=new Uint8Array(t.outputLen)),(0,SHe.hmac)(t,(0,HLe.toBytes)(n),(0,HLe.toBytes)(e))}var Yce=new Uint8Array([0]),zLe=new Uint8Array;function IHe(t,e,n,r=32){if((0,Rle.hash)(t),(0,Rle.number)(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");let i=Math.ceil(r/t.outputLen);n===void 0&&(n=zLe);let a=new Uint8Array(i*t.outputLen),o=SHe.hmac.create(t,e),s=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)Yce[0]=l+1,s.update(l===0?zLe:c).update(n).update(Yce).digestInto(c),a.set(c,t.outputLen*l),o._cloneInto(s);return o.destroy(),s.destroy(),c.fill(0),Yce.fill(0),a.slice(0,r)}$x.hkdf=(t,e,n,r,i)=>IHe(t,CHe(t,e,n),r,i),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=Zu,n=$x,r=j5;t.deriveKey=function(i,a,o){return(0,n.hkdf)(r.sha256,i,a,o,32)},t.getSharedKey=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}})(THe);var jLe={},Zx={},to={},Kw={};Object.defineProperty(Kw,"__esModule",{value:!0}),Kw.polyval=Kw.ghash=void 0,Kw._toGHASHKey=RHe;var $w=ac,Yc=Zu,D5=16,vue=new Uint8Array(16),kh=(0,Yc.u32)(vue),xd=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function RHe(t){t.reverse();let e=1&t[15],n=0;for(let r=0;r<t.length;r++){let i=t[r];t[r]=i>>>1|n,n=(1&i)<<7}return t[0]^=225&-e,t}var CG=class{constructor(e,n){this.blockLen=D5,this.outputLen=D5,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,Yc.toBytes)(e),(0,$w.bytes)(e,16);let r=(0,Yc.createView)(e),i=r.getUint32(0,!1),a=r.getUint32(4,!1),o=r.getUint32(8,!1),s=r.getUint32(12,!1),c=[];for(let g=0;g<128;g++)c.push({s0:xd(i),s1:xd(a),s2:xd(o),s3:xd(s)}),{s0:i,s1:a,s2:o,s3:s}={s3:(f=o)<<31|(d=s)>>>1,s2:(u=a)<<31|f>>>1,s1:(l=i)<<31|u>>>1,s0:l>>>1^225<<24&-(1&d)};var l,u,f,d;let p=(g=>g>65536?8:g>1024?4:2)(n||1024);if(![1,2,4,8].includes(p))throw new Error(`ghash: wrong window size=${p}, should be 2, 4 or 8`);this.W=p;let h=128/p,m=this.windowSize=2**p,w=[];for(let g=0;g<h;g++)for(let x=0;x<m;x++){let C=0,P=0,D=0,F=0;for(let H=0;H<p;H++){if(!(x>>>p-H-1&1))continue;let{s0:O,s1:M,s2:N,s3:v}=c[p*g+H];C^=O,P^=M,D^=N,F^=v}w.push({s0:C,s1:P,s2:D,s3:F})}this.t=w}_updateBlock(e,n,r,i){e^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;let{W:a,t:o,windowSize:s}=this,c=0,l=0,u=0,f=0,d=(1<<a)-1,p=0;for(let h of[e,n,r,i])for(let m=0;m<4;m++){let w=h>>>8*m&255;for(let g=8/a-1;g>=0;g--){let x=w>>>a*g&d,{s0:C,s1:P,s2:D,s3:F}=o[p*s+x];c^=C,l^=P,u^=D,f^=F,p+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=f}update(e){e=(0,Yc.toBytes)(e),(0,$w.exists)(this);let n=(0,Yc.u32)(e),r=Math.floor(e.length/D5),i=e.length%D5;for(let a=0;a<r;a++)this._updateBlock(n[4*a+0],n[4*a+1],n[4*a+2],n[4*a+3]);return i&&(vue.set(e.subarray(r*D5)),this._updateBlock(kh[0],kh[1],kh[2],kh[3]),(0,Yc.clean)(kh)),this}destroy(){let{t:e}=this;for(let n of e)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(e){(0,$w.exists)(this),(0,$w.output)(e,this),this.finished=!0;let{s0:n,s1:r,s2:i,s3:a}=this,o=(0,Yc.u32)(e);return o[0]=n,o[1]=r,o[2]=i,o[3]=a,e}digest(){let e=new Uint8Array(D5);return this.digestInto(e),this.destroy(),e}},Ole=class extends CG{constructor(e,n){e=(0,Yc.toBytes)(e);let r=RHe((0,Yc.copyBytes)(e));super(r,n),(0,Yc.clean)(r)}update(e){e=(0,Yc.toBytes)(e),(0,$w.exists)(this);let n=(0,Yc.u32)(e),r=e.length%D5,i=Math.floor(e.length/D5);for(let a=0;a<i;a++)this._updateBlock(xd(n[4*a+3]),xd(n[4*a+2]),xd(n[4*a+1]),xd(n[4*a+0]));return r&&(vue.set(e.subarray(i*D5)),this._updateBlock(xd(kh[3]),xd(kh[2]),xd(kh[1]),xd(kh[0])),(0,Yc.clean)(kh)),this}digestInto(e){(0,$w.exists)(this),(0,$w.output)(e,this),this.finished=!0;let{s0:n,s1:r,s2:i,s3:a}=this,o=(0,Yc.u32)(e);return o[0]=n,o[1]=r,o[2]=i,o[3]=a,e.reverse()}};function GLe(t){let e=(r,i)=>t(i,r.length).update((0,Yc.toBytes)(r)).digest(),n=t(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(r,i)=>t(r,i),e}Kw.ghash=GLe(((t,e)=>new CG(t,e))),Kw.polyval=GLe(((t,e)=>new Ole(t,e))),Object.defineProperty(to,"__esModule",{value:!0}),to.unsafe=to.aeskwp=to.aeskw=to.siv=to.gcm=to.cfb=to.cbc=to.ecb=to.ctr=void 0,to.expandKeyLE=W1,to.expandKeyDecLE=gN;var Or=ac,Nle=Kw,Ge=Zu,Vl=16,zj=new Uint8Array(Vl),xkt=283;function Eue(t){return t<<1^xkt&-(t>>7)}function qx(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(1&e),t=Eue(t);return n}var Ple=(()=>{let t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Eue(r))t[n]=r;let e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,Ge.clean)(t),e})(),Akt=Ple.map(((t,e)=>Ple.indexOf(e))),_kt=t=>t<<24|t>>>8,Jce=t=>t<<8|t>>>24,IG=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function OHe(t,e){if(t.length!==256)throw new Error("Wrong sbox length");let n=new Uint32Array(256).map(((l,u)=>e(t[u]))),r=n.map(Jce),i=r.map(Jce),a=i.map(Jce),o=new Uint32Array(65536),s=new Uint32Array(65536),c=new Uint16Array(65536);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let f=256*l+u;o[f]=n[l]^r[u],s[f]=i[l]^a[u],c[f]=t[l]<<8|t[u]}return{sbox:t,sbox2:c,T0:n,T1:r,T2:i,T3:a,T01:o,T23:s}}var xue=OHe(Ple,(t=>qx(t,3)<<24|t<<16|t<<8|qx(t,2))),NHe=OHe(Akt,(t=>qx(t,11)<<24|qx(t,13)<<16|qx(t,9)<<8|qx(t,14))),Tkt=(()=>{let t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=Eue(n))t[e]=n;return t})();function W1(t){(0,Or.bytes)(t);let e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);let{sbox2:n}=xue,r=[];(0,Ge.isAligned32)(t)||r.push(t=(0,Ge.copyBytes)(t));let i=(0,Ge.u32)(t),a=i.length,o=c=>Bh(n,c,c,c,c),s=new Uint32Array(e+28);s.set(i);for(let c=a;c<s.length;c++){let l=s[c-1];c%a==0?l=o(_kt(l))^Tkt[c/a-1]:a>6&&c%a==4&&(l=o(l)),s[c]=s[c-a]^l}return(0,Ge.clean)(...r),s}function gN(t){let e=W1(t),n=e.slice(),r=e.length,{sbox2:i}=xue,{T0:a,T1:o,T2:s,T3:c}=NHe;for(let l=0;l<r;l+=4)for(let u=0;u<4;u++)n[l+u]=e[r-l-4+u];(0,Ge.clean)(e);for(let l=4;l<r-4;l++){let u=n[l],f=Bh(i,u,u,u,u);n[l]=a[255&f]^o[f>>>8&255]^s[f>>>16&255]^c[f>>>24]}return n}function x2(t,e,n,r,i,a){return t[n<<8&65280|r>>>8&255]^e[i>>>8&65280|a>>>24&255]}function Bh(t,e,n,r,i){return t[255&e|65280&n]|t[r>>>16&255|i>>>16&65280]<<16}function Jc(t,e,n,r,i){let{sbox2:a,T01:o,T23:s}=xue,c=0;e^=t[c++],n^=t[c++],r^=t[c++],i^=t[c++];let l=t.length/4-2;for(let u=0;u<l;u++){let f=t[c++]^x2(o,s,e,n,r,i),d=t[c++]^x2(o,s,n,r,i,e),p=t[c++]^x2(o,s,r,i,e,n),h=t[c++]^x2(o,s,i,e,n,r);e=f,n=d,r=p,i=h}return{s0:t[c++]^Bh(a,e,n,r,i),s1:t[c++]^Bh(a,n,r,i,e),s2:t[c++]^Bh(a,r,i,e,n),s3:t[c++]^Bh(a,i,e,n,r)}}function wN(t,e,n,r,i){let{sbox2:a,T01:o,T23:s}=NHe,c=0;e^=t[c++],n^=t[c++],r^=t[c++],i^=t[c++];let l=t.length/4-2;for(let u=0;u<l;u++){let f=t[c++]^x2(o,s,e,i,r,n),d=t[c++]^x2(o,s,n,e,i,r),p=t[c++]^x2(o,s,r,n,e,i),h=t[c++]^x2(o,s,i,r,n,e);e=f,n=d,r=p,i=h}return{s0:t[c++]^Bh(a,e,i,r,n),s1:t[c++]^Bh(a,n,e,i,r),s2:t[c++]^Bh(a,r,n,e,i),s3:t[c++]^Bh(a,i,r,n,e)}}function Xx(t,e){if(e===void 0)return new Uint8Array(t);if((0,Or.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,Ge.isAligned32)(e))throw new Error("unaligned dst");return e}function PHe(t,e,n,r){(0,Or.bytes)(e,Vl),(0,Or.bytes)(n);let i=n.length;r=Xx(i,r);let a=e,o=(0,Ge.u32)(a),{s0:s,s1:c,s2:l,s3:u}=Jc(t,o[0],o[1],o[2],o[3]),f=(0,Ge.u32)(n),d=(0,Ge.u32)(r);for(let h=0;h+4<=f.length;h+=4){d[h+0]=f[h+0]^s,d[h+1]=f[h+1]^c,d[h+2]=f[h+2]^l,d[h+3]=f[h+3]^u;let m=1;for(let w=a.length-1;w>=0;w--)m=m+(255&a[w])|0,a[w]=255&m,m>>>=8;({s0:s,s1:c,s2:l,s3:u}=Jc(t,o[0],o[1],o[2],o[3]))}let p=Vl*Math.floor(f.length/4);if(p<i){let h=new Uint32Array([s,c,l,u]),m=(0,Ge.u8)(h);for(let w=p,g=0;w<i;w++,g++)r[w]=n[w]^m[g];(0,Ge.clean)(h)}return r}function Wx(t,e,n,r,i){(0,Or.bytes)(n,Vl),(0,Or.bytes)(r),i=Xx(r.length,i);let a=n,o=(0,Ge.u32)(a),s=(0,Ge.createView)(a),c=(0,Ge.u32)(r),l=(0,Ge.u32)(i),u=e?0:12,f=r.length,d=s.getUint32(u,e),{s0:p,s1:h,s2:m,s3:w}=Jc(t,o[0],o[1],o[2],o[3]);for(let x=0;x+4<=c.length;x+=4)l[x+0]=c[x+0]^p,l[x+1]=c[x+1]^h,l[x+2]=c[x+2]^m,l[x+3]=c[x+3]^w,d=d+1>>>0,s.setUint32(u,d,e),{s0:p,s1:h,s2:m,s3:w}=Jc(t,o[0],o[1],o[2],o[3]);let g=Vl*Math.floor(c.length/4);if(g<f){let x=new Uint32Array([p,h,m,w]),C=(0,Ge.u8)(x);for(let P=g,D=0;P<f;P++,D++)i[P]=r[P]^C[D];(0,Ge.clean)(x)}return i}function VLe(t){if((0,Or.bytes)(t),t.length%Vl!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function KLe(t,e,n){(0,Or.bytes)(t);let r=t.length,i=r%Vl;if(!e&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,Ge.isAligned32)(t)||(t=(0,Ge.copyBytes)(t));let a=(0,Ge.u32)(t);if(e){let s=Vl-i;s||(s=Vl),r+=s}let o=Xx(r,n);return{b:a,o:(0,Ge.u32)(o),out:o}}function $Le(t,e){if(!e)return t;let n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");let r=t[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");let i=t.subarray(0,-r);for(let a=0;a<r;a++)if(t[n-a-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function qLe(t){let e=new Uint8Array(16),n=(0,Ge.u32)(e);e.set(t);let r=Vl-t.length;for(let i=Vl-r;i<Vl;i++)e[i]=r;return n}function kHe(t,e,n,r,i){let a=i==null?0:i.length,o=t.create(n,r.length+a);i&&o.update(i),o.update(r);let s=new Uint8Array(16),c=(0,Ge.createView)(s);i&&(0,Ge.setBigUint64)(c,0,BigInt(8*a),e),(0,Ge.setBigUint64)(c,8,BigInt(8*r.length),e),o.update(s);let l=o.digest();return(0,Ge.clean)(s),l}to.ctr=(0,Ge.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e){function n(r,i){if((0,Or.bytes)(r),i!==void 0&&((0,Or.bytes)(i),!(0,Ge.isAligned32)(i)))throw new Error("unaligned destination");let a=W1(t),o=(0,Ge.copyBytes)(e),s=[a,o];(0,Ge.isAligned32)(r)||s.push(r=(0,Ge.copyBytes)(r));let c=PHe(a,o,r,i);return(0,Ge.clean)(...s),c}return(0,Or.bytes)(t),(0,Or.bytes)(e,Vl),{encrypt:(r,i)=>n(r,i),decrypt:(r,i)=>n(r,i)}})),to.ecb=(0,Ge.wrapCipher)({blockSize:16},(function(t,e={}){(0,Or.bytes)(t);let n=!e.disablePadding;return{encrypt(r,i){let{b:a,o,out:s}=KLe(r,n,i),c=W1(t),l=0;for(;l+4<=a.length;){let{s0:u,s1:f,s2:d,s3:p}=Jc(c,a[l+0],a[l+1],a[l+2],a[l+3]);o[l++]=u,o[l++]=f,o[l++]=d,o[l++]=p}if(n){let u=qLe(r.subarray(4*l)),{s0:f,s1:d,s2:p,s3:h}=Jc(c,u[0],u[1],u[2],u[3]);o[l++]=f,o[l++]=d,o[l++]=p,o[l++]=h}return(0,Ge.clean)(c),s},decrypt(r,i){VLe(r);let a=gN(t),o=Xx(r.length,i),s=[a];(0,Ge.isAligned32)(r)||s.push(r=(0,Ge.copyBytes)(r));let c=(0,Ge.u32)(r),l=(0,Ge.u32)(o);for(let u=0;u+4<=c.length;){let{s0:f,s1:d,s2:p,s3:h}=wN(a,c[u+0],c[u+1],c[u+2],c[u+3]);l[u++]=f,l[u++]=d,l[u++]=p,l[u++]=h}return(0,Ge.clean)(...s),$Le(o,n)}}})),to.cbc=(0,Ge.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e,n={}){(0,Or.bytes)(t),(0,Or.bytes)(e,16);let r=!n.disablePadding;return{encrypt(i,a){let o=W1(t),{b:s,o:c,out:l}=KLe(i,r,a),u=e,f=[o];(0,Ge.isAligned32)(u)||f.push(u=(0,Ge.copyBytes)(u));let d=(0,Ge.u32)(u),p=d[0],h=d[1],m=d[2],w=d[3],g=0;for(;g+4<=s.length;)p^=s[g+0],h^=s[g+1],m^=s[g+2],w^=s[g+3],{s0:p,s1:h,s2:m,s3:w}=Jc(o,p,h,m,w),c[g++]=p,c[g++]=h,c[g++]=m,c[g++]=w;if(r){let x=qLe(i.subarray(4*g));p^=x[0],h^=x[1],m^=x[2],w^=x[3],{s0:p,s1:h,s2:m,s3:w}=Jc(o,p,h,m,w),c[g++]=p,c[g++]=h,c[g++]=m,c[g++]=w}return(0,Ge.clean)(...f),l},decrypt(i,a){VLe(i);let o=gN(t),s=e,c=[o];(0,Ge.isAligned32)(s)||c.push(s=(0,Ge.copyBytes)(s));let l=(0,Ge.u32)(s),u=Xx(i.length,a);(0,Ge.isAligned32)(i)||c.push(i=(0,Ge.copyBytes)(i));let f=(0,Ge.u32)(i),d=(0,Ge.u32)(u),p=l[0],h=l[1],m=l[2],w=l[3];for(let g=0;g+4<=f.length;){let x=p,C=h,P=m,D=w;p=f[g+0],h=f[g+1],m=f[g+2],w=f[g+3];let{s0:F,s1:H,s2:O,s3:M}=wN(o,p,h,m,w);d[g++]=F^x,d[g++]=H^C,d[g++]=O^P,d[g++]=M^D}return(0,Ge.clean)(...c),$Le(u,r)}}})),to.cfb=(0,Ge.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e){function n(r,i,a){(0,Or.bytes)(r);let o=r.length;a=Xx(o,a);let s=W1(t),c=e,l=[s];(0,Ge.isAligned32)(c)||l.push(c=(0,Ge.copyBytes)(c)),(0,Ge.isAligned32)(r)||l.push(r=(0,Ge.copyBytes)(r));let u=(0,Ge.u32)(r),f=(0,Ge.u32)(a),d=i?f:u,p=(0,Ge.u32)(c),h=p[0],m=p[1],w=p[2],g=p[3];for(let C=0;C+4<=u.length;){let{s0:P,s1:D,s2:F,s3:H}=Jc(s,h,m,w,g);f[C+0]=u[C+0]^P,f[C+1]=u[C+1]^D,f[C+2]=u[C+2]^F,f[C+3]=u[C+3]^H,h=d[C++],m=d[C++],w=d[C++],g=d[C++]}let x=Vl*Math.floor(u.length/4);if(x<o){({s0:h,s1:m,s2:w,s3:g}=Jc(s,h,m,w,g));let C=(0,Ge.u8)(new Uint32Array([h,m,w,g]));for(let P=x,D=0;P<o;P++,D++)a[P]=r[P]^C[D];(0,Ge.clean)(C)}return(0,Ge.clean)(...l),a}return(0,Or.bytes)(t),(0,Or.bytes)(e,16),{encrypt:(r,i)=>n(r,!0,i),decrypt:(r,i)=>n(r,!1,i)}})),to.gcm=(0,Ge.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(t,e,n){if((0,Or.bytes)(t),(0,Or.bytes)(e),n!==void 0&&(0,Or.bytes)(n),e.length<8)throw new Error("aes/gcm: invalid nonce length");let r=16;function i(o,s,c){let l=kHe(Nle.ghash,!1,o,c,n);for(let u=0;u<s.length;u++)l[u]^=s[u];return l}function a(){let o=W1(t),s=zj.slice(),c=zj.slice();if(Wx(o,!1,c,c,s),e.length===12)c.set(e);else{let l=zj.slice(),u=(0,Ge.createView)(l);(0,Ge.setBigUint64)(u,8,BigInt(8*e.length),!1);let f=Nle.ghash.create(s).update(e).update(l);f.digestInto(c),f.destroy()}return{xk:o,authKey:s,counter:c,tagMask:Wx(o,!1,c,zj)}}return{encrypt(o){(0,Or.bytes)(o);let{xk:s,authKey:c,counter:l,tagMask:u}=a(),f=new Uint8Array(o.length+r),d=[s,c,l,u];(0,Ge.isAligned32)(o)||d.push(o=(0,Ge.copyBytes)(o)),Wx(s,!1,l,o,f);let p=i(c,u,f.subarray(0,f.length-r));return d.push(p),f.set(p,o.length),(0,Ge.clean)(...d),f},decrypt(o){if((0,Or.bytes)(o),o.length<r)throw new Error("aes/gcm: ciphertext less than tagLen (16)");let{xk:s,authKey:c,counter:l,tagMask:u}=a(),f=[s,c,u,l];(0,Ge.isAligned32)(o)||f.push(o=(0,Ge.copyBytes)(o));let d=o.subarray(0,-16),p=o.subarray(-16),h=i(c,u,d);if(f.push(h),!(0,Ge.equalBytes)(h,p))throw new Error("aes/gcm: invalid ghash tag");let m=Wx(s,!1,l,d);return(0,Ge.clean)(...f),m}}}));var jj=(t,e,n)=>r=>{if(!Number.isSafeInteger(r)||e>r||r>n)throw new Error(`${t}: invalid value=${r}, must be [${e}..${n}]`)};function MHe(t){return t!=null&&typeof t=="object"&&(t instanceof Uint32Array||t.constructor.name==="Uint32Array")}function BHe(t,e){if((0,Or.bytes)(e,16),!MHe(t))throw new Error("_encryptBlock accepts result of expandKeyLE");let n=(0,Ge.u32)(e),{s0:r,s1:i,s2:a,s3:o}=Jc(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=a,n[3]=o,e}function DHe(t,e){if((0,Or.bytes)(e,16),!MHe(t))throw new Error("_decryptBlock accepts result of expandKeyLE");let n=(0,Ge.u32)(e),{s0:r,s1:i,s2:a,s3:o}=wN(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=a,n[3]=o,e}to.siv=(0,Ge.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(t,e,n){let r=jj("AAD",0,68719476736),i=jj("plaintext",0,2**36),a=jj("nonce",12,12),o=jj("ciphertext",16,2**36+16);function s(){let u=W1(t),f=new Uint8Array(t.length),d=new Uint8Array(16),p=[u,f],h=e;(0,Ge.isAligned32)(h)||p.push(h=(0,Ge.copyBytes)(h));let m=(0,Ge.u32)(h),w=0,g=m[0],x=m[1],C=m[2],P=0;for(let F of[d,f].map(Ge.u32)){let H=(0,Ge.u32)(F);for(let O=0;O<H.length;O+=2){let{s0:M,s1:N}=Jc(u,w,g,x,C);H[O+0]=M,H[O+1]=N,w=++P}}let D={authKey:d,encKey:W1(f)};return(0,Ge.clean)(...p),D}function c(u,f,d){let p=kHe(Nle.polyval,!0,f,d,n);for(let C=0;C<12;C++)p[C]^=e[C];p[15]&=127;let h=(0,Ge.u32)(p),m=h[0],w=h[1],g=h[2],x=h[3];return{s0:m,s1:w,s2:g,s3:x}=Jc(u,m,w,g,x),h[0]=m,h[1]=w,h[2]=g,h[3]=x,p}function l(u,f,d){let p=(0,Ge.copyBytes)(f);p[15]|=128;let h=Wx(u,!0,p,d);return(0,Ge.clean)(p),h}return(0,Or.bytes)(t,16,24,32),(0,Or.bytes)(e),a(e.length),n!==void 0&&((0,Or.bytes)(n),r(n.length)),{encrypt(u){(0,Or.bytes)(u),i(u.length);let{encKey:f,authKey:d}=s(),p=c(f,d,u),h=[f,d,p];(0,Ge.isAligned32)(u)||h.push(u=(0,Ge.copyBytes)(u));let m=new Uint8Array(u.length+16);return m.set(p,u.length),m.set(l(f,p,u)),(0,Ge.clean)(...h),m},decrypt(u){(0,Or.bytes)(u),o(u.length);let f=u.subarray(-16),{encKey:d,authKey:p}=s(),h=[d,p];(0,Ge.isAligned32)(u)||h.push(u=(0,Ge.copyBytes)(u));let m=l(d,f,u.subarray(0,-16)),w=c(d,p,m);if(h.push(w),!(0,Ge.equalBytes)(f,w))throw(0,Ge.clean)(...h),new Error("invalid polyval tag");return(0,Ge.clean)(...h),m}}}));var RG={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");let n=W1(t);if(e.length===16)BHe(n,e);else{let r=(0,Ge.u32)(e),i=r[0],a=r[1];for(let o=0,s=1;o<6;o++)for(let c=2;c<r.length;c+=2,s++){let{s0:l,s1:u,s2:f,s3:d}=Jc(n,i,a,r[c],r[c+1]);i=l,a=u^IG(s),r[c]=f,r[c+1]=d}r[0]=i,r[1]=a}n.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");let n=gN(t),r=e.length/8-1;if(r===1)DHe(n,e);else{let i=(0,Ge.u32)(e),a=i[0],o=i[1];for(let s=0,c=6*r;s<6;s++)for(let l=2*r;l>=1;l-=2,c--){o^=IG(c);let{s0:u,s1:f,s2:d,s3:p}=wN(n,a,o,i[l],i[l+1]);a=u,o=f,i[l]=d,i[l+1]=p}i[0]=a,i[1]=o}n.fill(0)}},WLe=new Uint8Array(8).fill(166);to.aeskw=(0,Ge.wrapCipher)({blockSize:8},(t=>({encrypt(e){if((0,Or.bytes)(e),!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(e.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");let n=(0,Ge.concatBytes)(WLe,e);return RG.encrypt(t,n),n},decrypt(e){if((0,Or.bytes)(e),e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");let n=(0,Ge.copyBytes)(e);if(RG.decrypt(t,n),!(0,Ge.equalBytes)(n.subarray(0,8),WLe))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}})));var YLe=2790873510;to.aeskwp=(0,Ge.wrapCipher)({blockSize:8},(t=>({encrypt(e){if((0,Or.bytes)(e),!e.length)throw new Error("invalid plaintext length");let n=8*Math.ceil(e.length/8),r=new Uint8Array(8+n);r.set(e,8);let i=(0,Ge.u32)(r);return i[0]=YLe,i[1]=IG(e.length),RG.encrypt(t,r),r},decrypt(e){if((0,Or.bytes)(e),e.length<16)throw new Error("invalid ciphertext length");let n=(0,Ge.copyBytes)(e),r=(0,Ge.u32)(n);RG.decrypt(t,n);let i=IG(r[1])>>>0,a=8*Math.ceil(i/8);if(r[0]!==YLe||n.length-8!==a)throw new Error("integrity check failed");for(let o=i;o<a;o++)if(n[8+o]!==0)throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}}))),to.unsafe={expandKeyLE:W1,expandKeyDecLE:gN,encrypt:Jc,decrypt:wN,encryptBlock:BHe,decryptBlock:DHe,ctrCounter:PHe,ctr32:Wx},Object.defineProperty(Zx,"__esModule",{value:!0}),Zx.aes256cbc=Zx.aes256gcm=void 0;var LHe=to;Zx.aes256gcm=function(t,e,n){return(0,LHe.gcm)(t,e,n)};Zx.aes256cbc=function(t,e,n){return(0,LHe.cbc)(t,e)};var OG={},UHe={},Yx={};Object.defineProperty(Yx,"__esModule",{value:!0}),Yx.sigma=void 0,Yx.rotl=function(t,e){return t<<e|t>>>32-e},Yx.createCipher=function(t,e){let{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:a,rounds:o}=(0,vd.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return(0,B5.number)(i),(0,B5.number)(o),(0,B5.bool)(a),(0,B5.bool)(n),(s,c,l,u,f=0)=>{(0,B5.bytes)(s),(0,B5.bytes)(c),(0,B5.bytes)(l);let d=l.length;if(u===void 0&&(u=new Uint8Array(d)),(0,B5.bytes)(u),(0,B5.number)(f),f<0||f>=JLe)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);let p=[],h,m,w=s.length;if(w===32)p.push(h=(0,vd.copyBytes)(s)),m=HHe;else{if(w!==16||!n)throw new Error(`arx: invalid 32-byte key, got length=${w}`);h=new Uint8Array(32),h.set(s),h.set(s,16),m=Ikt,p.push(h)}Qce(c)||p.push(c=(0,vd.copyBytes)(c));let g=(0,vd.u32)(h);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,g,(0,vd.u32)(c.subarray(0,16)),g),c=c.subarray(16)}let x=16-i;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){let P=new Uint8Array(12);P.set(c,a?0:12-c.length),c=P,p.push(c)}let C=(0,vd.u32)(c);return(function(P,D,F,H,O,M,N,v){let I=O.length,S=new Uint8Array(Gj),y=(0,vd.u32)(S),b=Qce(O)&&Qce(M),_=b?(0,vd.u32)(O):QLe,A=b?(0,vd.u32)(M):QLe;for(let T=0;T<I;N++){if(P(D,F,H,y,N,v),N>=JLe)throw new Error("arx: counter overflow");let E=Math.min(Gj,I-T);if(b&&E===Gj){let k=T/4;if(T%4!=0)throw new Error("arx: invalid block position");for(let L,R=0;R<Rkt;R++)L=k+R,A[L]=_[L]^y[R];T+=Gj}else{for(let k,L=0;L<E;L++)k=T+L,M[k]=O[k]^S[L];T+=E}}})(t,m,g,C,l,u,f,o),(0,vd.clean)(...p),u}};var B5=ac,vd=Zu,FHe=t=>Uint8Array.from(t.split("").map((e=>e.charCodeAt(0)))),Skt=FHe("expand 16-byte k"),Ckt=FHe("expand 32-byte k"),Ikt=(0,vd.u32)(Skt),HHe=(0,vd.u32)(Ckt);function Qce(t){return t.byteOffset%4==0}Yx.sigma=HHe.slice();var Gj=64,Rkt=16,JLe=2**32-1,QLe=new Uint32Array,aN={};Object.defineProperty(aN,"__esModule",{value:!0}),aN.poly1305=void 0,aN.wrapConstructorWithKey=zHe;var Vj=ac,tN=Zu,m0=(t,e)=>255&t[e++]|(255&t[e++])<<8,kle=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,tN.toBytes)(e),(0,Vj.bytes)(e,32);let n=m0(e,0),r=m0(e,2),i=m0(e,4),a=m0(e,6),o=m0(e,8),s=m0(e,10),c=m0(e,12),l=m0(e,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|a<<9),this.r[4]=255&(a>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|s<<2),this.r[7]=8065&(s>>>11|c<<5),this.r[8]=8191&(c>>>8|l<<8),this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=m0(e,16+2*u)}process(e,n,r=!1){let i=r?0:2048,{h:a,r:o}=this,s=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],p=o[6],h=o[7],m=o[8],w=o[9],g=m0(e,n+0),x=m0(e,n+2),C=m0(e,n+4),P=m0(e,n+6),D=m0(e,n+8),F=m0(e,n+10),H=m0(e,n+12),O=m0(e,n+14),M=a[0]+(8191&g),N=a[1]+(8191&(g>>>13|x<<3)),v=a[2]+(8191&(x>>>10|C<<6)),I=a[3]+(8191&(C>>>7|P<<9)),S=a[4]+(8191&(P>>>4|D<<12)),y=a[5]+(D>>>1&8191),b=a[6]+(8191&(D>>>14|F<<2)),_=a[7]+(8191&(F>>>11|H<<5)),A=a[8]+(8191&(H>>>8|O<<8)),T=a[9]+(O>>>5|i),E=0,k=E+M*s+N*(5*w)+v*(5*m)+I*(5*h)+S*(5*p);E=k>>>13,k&=8191,k+=y*(5*d)+b*(5*f)+_*(5*u)+A*(5*l)+T*(5*c),E+=k>>>13,k&=8191;let L=E+M*c+N*s+v*(5*w)+I*(5*m)+S*(5*h);E=L>>>13,L&=8191,L+=y*(5*p)+b*(5*d)+_*(5*f)+A*(5*u)+T*(5*l),E+=L>>>13,L&=8191;let R=E+M*l+N*c+v*s+I*(5*w)+S*(5*m);E=R>>>13,R&=8191,R+=y*(5*h)+b*(5*p)+_*(5*d)+A*(5*f)+T*(5*u),E+=R>>>13,R&=8191;let U=E+M*u+N*l+v*c+I*s+S*(5*w);E=U>>>13,U&=8191,U+=y*(5*m)+b*(5*h)+_*(5*p)+A*(5*d)+T*(5*f),E+=U>>>13,U&=8191;let j=E+M*f+N*u+v*l+I*c+S*s;E=j>>>13,j&=8191,j+=y*(5*w)+b*(5*m)+_*(5*h)+A*(5*p)+T*(5*d),E+=j>>>13,j&=8191;let z=E+M*d+N*f+v*u+I*l+S*c;E=z>>>13,z&=8191,z+=y*s+b*(5*w)+_*(5*m)+A*(5*h)+T*(5*p),E+=z>>>13,z&=8191;let V=E+M*p+N*d+v*f+I*u+S*l;E=V>>>13,V&=8191,V+=y*c+b*s+_*(5*w)+A*(5*m)+T*(5*h),E+=V>>>13,V&=8191;let $=E+M*h+N*p+v*d+I*f+S*u;E=$>>>13,$&=8191,$+=y*l+b*c+_*s+A*(5*w)+T*(5*m),E+=$>>>13,$&=8191;let W=E+M*m+N*h+v*p+I*d+S*f;E=W>>>13,W&=8191,W+=y*u+b*l+_*c+A*s+T*(5*w),E+=W>>>13,W&=8191;let J=E+M*w+N*m+v*h+I*p+S*d;E=J>>>13,J&=8191,J+=y*f+b*u+_*l+A*c+T*s,E+=J>>>13,J&=8191,E=(E<<2)+E|0,E=E+k|0,k=8191&E,E>>>=13,L+=E,a[0]=k,a[1]=L,a[2]=R,a[3]=U,a[4]=j,a[5]=z,a[6]=V,a[7]=$,a[8]=W,a[9]=J}finalize(){let{h:e,pad:n}=this,r=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=i,i=e[s]>>>13,e[s]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let s=1;s<10;s++)r[s]=e[s]+i,i=r[s]>>>13,r[s]&=8191;r[9]-=8192;let a=(1^i)-1;for(let s=0;s<10;s++)r[s]&=a;a=~a;for(let s=0;s<10;s++)e[s]=e[s]&a|r[s];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+n[0];e[0]=65535&o;for(let s=1;s<8;s++)o=(e[s]+n[s]|0)+(o>>>16)|0,e[s]=65535&o;(0,tN.clean)(r)}update(e){(0,Vj.exists)(this);let{buffer:n,blockLen:r}=this,i=(e=(0,tN.toBytes)(e)).length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);if(o!==r)n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=i-a;a+=r)this.process(e,a)}return this}destroy(){(0,tN.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,Vj.exists)(this),(0,Vj.output)(e,this),this.finished=!0;let{buffer:n,h:r}=this,{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let o=0;o<8;o++)e[a++]=r[o]>>>0,e[a++]=r[o]>>>8;return e}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let r=e.slice(0,n);return this.destroy(),r}};function zHe(t){let e=(r,i)=>t(i).update((0,tN.toBytes)(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}aN.poly1305=zHe((t=>new kle(t))),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=o;let e=Yx,n=ac,r=aN,i=Zu;function a(f,d,p,h,m,w=20){let g=f[0],x=f[1],C=f[2],P=f[3],D=d[0],F=d[1],H=d[2],O=d[3],M=d[4],N=d[5],v=d[6],I=d[7],S=m,y=p[0],b=p[1],_=p[2],A=g,T=x,E=C,k=P,L=D,R=F,U=H,j=O,z=M,V=N,$=v,W=I,J=S,X=y,te=b,ne=_;for(let ce=0;ce<w;ce+=2)A=A+L|0,J=(0,e.rotl)(J^A,16),z=z+J|0,L=(0,e.rotl)(L^z,12),A=A+L|0,J=(0,e.rotl)(J^A,8),z=z+J|0,L=(0,e.rotl)(L^z,7),T=T+R|0,X=(0,e.rotl)(X^T,16),V=V+X|0,R=(0,e.rotl)(R^V,12),T=T+R|0,X=(0,e.rotl)(X^T,8),V=V+X|0,R=(0,e.rotl)(R^V,7),E=E+U|0,te=(0,e.rotl)(te^E,16),$=$+te|0,U=(0,e.rotl)(U^$,12),E=E+U|0,te=(0,e.rotl)(te^E,8),$=$+te|0,U=(0,e.rotl)(U^$,7),k=k+j|0,ne=(0,e.rotl)(ne^k,16),W=W+ne|0,j=(0,e.rotl)(j^W,12),k=k+j|0,ne=(0,e.rotl)(ne^k,8),W=W+ne|0,j=(0,e.rotl)(j^W,7),A=A+R|0,ne=(0,e.rotl)(ne^A,16),$=$+ne|0,R=(0,e.rotl)(R^$,12),A=A+R|0,ne=(0,e.rotl)(ne^A,8),$=$+ne|0,R=(0,e.rotl)(R^$,7),T=T+U|0,J=(0,e.rotl)(J^T,16),W=W+J|0,U=(0,e.rotl)(U^W,12),T=T+U|0,J=(0,e.rotl)(J^T,8),W=W+J|0,U=(0,e.rotl)(U^W,7),E=E+j|0,X=(0,e.rotl)(X^E,16),z=z+X|0,j=(0,e.rotl)(j^z,12),E=E+j|0,X=(0,e.rotl)(X^E,8),z=z+X|0,j=(0,e.rotl)(j^z,7),k=k+L|0,te=(0,e.rotl)(te^k,16),V=V+te|0,L=(0,e.rotl)(L^V,12),k=k+L|0,te=(0,e.rotl)(te^k,8),V=V+te|0,L=(0,e.rotl)(L^V,7);let ue=0;h[ue++]=g+A|0,h[ue++]=x+T|0,h[ue++]=C+E|0,h[ue++]=P+k|0,h[ue++]=D+L|0,h[ue++]=F+R|0,h[ue++]=H+U|0,h[ue++]=O+j|0,h[ue++]=M+z|0,h[ue++]=N+V|0,h[ue++]=v+$|0,h[ue++]=I+W|0,h[ue++]=S+J|0,h[ue++]=y+X|0,h[ue++]=b+te|0,h[ue++]=_+ne|0}function o(f,d,p,h){let m=f[0],w=f[1],g=f[2],x=f[3],C=d[0],P=d[1],D=d[2],F=d[3],H=d[4],O=d[5],M=d[6],N=d[7],v=p[0],I=p[1],S=p[2],y=p[3];for(let _=0;_<20;_+=2)m=m+C|0,v=(0,e.rotl)(v^m,16),H=H+v|0,C=(0,e.rotl)(C^H,12),m=m+C|0,v=(0,e.rotl)(v^m,8),H=H+v|0,C=(0,e.rotl)(C^H,7),w=w+P|0,I=(0,e.rotl)(I^w,16),O=O+I|0,P=(0,e.rotl)(P^O,12),w=w+P|0,I=(0,e.rotl)(I^w,8),O=O+I|0,P=(0,e.rotl)(P^O,7),g=g+D|0,S=(0,e.rotl)(S^g,16),M=M+S|0,D=(0,e.rotl)(D^M,12),g=g+D|0,S=(0,e.rotl)(S^g,8),M=M+S|0,D=(0,e.rotl)(D^M,7),x=x+F|0,y=(0,e.rotl)(y^x,16),N=N+y|0,F=(0,e.rotl)(F^N,12),x=x+F|0,y=(0,e.rotl)(y^x,8),N=N+y|0,F=(0,e.rotl)(F^N,7),m=m+P|0,y=(0,e.rotl)(y^m,16),M=M+y|0,P=(0,e.rotl)(P^M,12),m=m+P|0,y=(0,e.rotl)(y^m,8),M=M+y|0,P=(0,e.rotl)(P^M,7),w=w+D|0,v=(0,e.rotl)(v^w,16),N=N+v|0,D=(0,e.rotl)(D^N,12),w=w+D|0,v=(0,e.rotl)(v^w,8),N=N+v|0,D=(0,e.rotl)(D^N,7),g=g+F|0,I=(0,e.rotl)(I^g,16),H=H+I|0,F=(0,e.rotl)(F^H,12),g=g+F|0,I=(0,e.rotl)(I^g,8),H=H+I|0,F=(0,e.rotl)(F^H,7),x=x+C|0,S=(0,e.rotl)(S^x,16),O=O+S|0,C=(0,e.rotl)(C^O,12),x=x+C|0,S=(0,e.rotl)(S^x,8),O=O+S|0,C=(0,e.rotl)(C^O,7);let b=0;h[b++]=m,h[b++]=w,h[b++]=g,h[b++]=x,h[b++]=v,h[b++]=I,h[b++]=S,h[b++]=y}t.chacha20orig=(0,e.createCipher)(a,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(a,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(a,{counterRight:!1,counterLength:8,extendNonceFn:o,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(a,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(a,{counterRight:!1,counterLength:4,rounds:12});let s=new Uint8Array(16),c=(f,d)=>{f.update(d);let p=d.length%16;p&&f.update(s.subarray(p))},l=new Uint8Array(32);function u(f,d,p,h,m){let w=f(d,p,l),g=r.poly1305.create(w);m&&c(g,m),c(g,h);let x=new Uint8Array(16),C=(0,i.createView)(x);(0,i.setBigUint64)(C,0,BigInt(m?m.length:0),!0),(0,i.setBigUint64)(C,8,BigInt(h.length),!0),g.update(x);let P=g.digest();return(0,i.clean)(w,x),P}t._poly1305_aead=f=>(d,p,h)=>((0,n.bytes)(d,32),(0,n.bytes)(p),{encrypt(w,g){let x=w.length,C=x+16;g?(0,n.bytes)(g,C):g=new Uint8Array(C),f(d,p,w,g,1);let P=u(f,d,p,g.subarray(0,-16),h);return g.set(P,x),(0,i.clean)(P),g},decrypt(w,g){let x=w.length,C=x-16;if(x<16)throw new Error("encrypted data must be at least 16 bytes");g?(0,n.bytes)(g,C):g=new Uint8Array(C);let P=w.subarray(0,-16),D=w.subarray(-16),F=u(f,d,p,P,h);if(!(0,i.equalBytes)(D,F))throw new Error("invalid tag");return f(d,p,P,g,1),(0,i.clean)(F),g}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))})(UHe),Object.defineProperty(OG,"__esModule",{value:!0}),OG.xchacha20=void 0;var Hx,ZLe,QO,Okt=UHe;OG.xchacha20=function(t,e,n){return(0,Okt.xchacha20poly1305)(t,e,n)},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=Zu,n=mue,r=Zx,i=OG,a=mN,o=zs;t.symEncrypt=function(u,f,d){return s(c,u,f,d)};function s(u,f,d,p){var h=(0,a.symmetricAlgorithm)();if(h==="aes-256-gcm")return u(r.aes256gcm,f,d,(0,a.symmetricNonceLength)(),o.AEAD_TAG_LENGTH,p);if(h==="xchacha20")return u(i.xchacha20,f,d,o.XCHACHA20_NONCE_LENGTH,o.AEAD_TAG_LENGTH,p);if(h==="aes-256-cbc")return u(r.aes256cbc,f,d,16,0);throw new Error("Not implemented")}function c(u,f,d,p,h,m){var w=(0,n.randomBytes)(p),g=u(f,w,m).encrypt(d);if(h===0)return(0,e.concatBytes)(w,g);var x=g.length-h,C=g.subarray(0,x),P=g.subarray(x);return(0,e.concatBytes)(w,P,C)}function l(u,f,d,p,h,m){var w=d.subarray(0,p),g=u(f,Uint8Array.from(w),m),x=d.subarray(p);if(h===0)return g.decrypt(x);var C=x.subarray(0,h),P=x.subarray(h);return g.decrypt((0,e.concatBytes)(P,C))}t.symDecrypt=function(u,f,d){return s(l,u,f,d)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt})(jLe),Hx=XG,ZLe=_d&&_d.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),QO=_d&&_d.__exportStar||function(t,e){for(var n in t)n==="default"||Object.prototype.hasOwnProperty.call(e,n)||ZLe(e,t,n)},Object.defineProperty(Hx,"__esModule",{value:!0}),QO($Fe,Hx),QO(THe,Hx),QO(Ile,Hx),QO(jLe,Hx);var vN={};Object.defineProperty(vN,"__esModule",{value:!0}),vN.PublicKey=void 0;var XLe=Zu,Kj=XG,Nkt=(function(){function t(e){this.data=(0,Kj.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,Kj.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return Ne.from((0,Kj.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return Ne.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,XLe.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.data:this.uncompressed,i=e.multiply(this,n);return(0,Kj.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,XLe.equalBytes)(this.data,e.data)},t})();vN.PublicKey=Nkt,Object.defineProperty(vG,"__esModule",{value:!0}),vG.PrivateKey=void 0;var eUe=Zu,zx=XG,Pkt=vN,kkt=(function(){function t(e){if(e===void 0)this.data=(0,zx.getValidSecret)();else{if(!(0,zx.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new Pkt.PublicKey((0,zx.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,zx.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return Ne.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,eUe.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,n);return(0,zx.getSharedKey)(r,i)},t.prototype.multiply=function(e,n){return n===void 0&&(n=!1),(0,zx.getSharedPoint)(this.data,e.compressed,n)},t.prototype.equals=function(e){return(0,eUe.equalBytes)(this.data,e.data)},t})();vG.PrivateKey=kkt,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=vG;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var n=vN;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return n.PublicKey}})})(Dce),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(s,c){var l=new r.PrivateKey,u=s instanceof Uint8Array?new r.PublicKey(s):r.PublicKey.fromHex(s),f=l.encapsulate(u,(0,n.isHkdfKeyCompressed)()),d=(0,n.isEphemeralKeyCompressed)()?l.publicKey.compressed:l.publicKey.uncompressed,p=(0,i.symEncrypt)(f,c);return Ne.from((0,e.concatBytes)(d,p))},t.decrypt=function(s,c){var l=s instanceof Uint8Array?new r.PrivateKey(s):r.PrivateKey.fromHex(s),u=(0,n.ephemeralKeySize)(),f=new r.PublicKey(c.subarray(0,u)),d=c.subarray(u),p=f.decapsulate(l,(0,n.isHkdfKeyCompressed)());return Ne.from((0,i.symDecrypt)(p,d))};var e=Zu,n=mN,r=Dce,i=XG,a=mN;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return a.ECIES_CONFIG}});var o=Dce;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return o.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}})(Gx);var jHe=(0,cc.default)("KeyExchange:Layer"),GHe=(0,cc.default)("SocketService:Layer"),VHe=(0,cc.default)("Ecies:Layer"),KHe=(0,cc.default)("RemoteCommunication:Layer");jHe.color="##95c44e",GHe.color="#f638d7",VHe.color="#465b9c",KHe.color="#47a2be";var we={KeyExchange:jHe,SocketService:GHe,Ecies:VHe,RemoteCommunication:KHe},ZO,$j=[],Zce=[],K5=(t,e)=>Ie(void 0,void 0,void 0,(function*(){ZO=e,Zce.push(t),(function(n){return Ie(this,void 0,void 0,(function*(){if(!ZO||!n)return;(function(){let o=Zce;Zce=$j,$j=o})();let r=ZO.endsWith("/")?`${ZO}evt`:`${ZO}/evt`,i=Object.assign({},n);if(delete i.params,n.params)for(let[o,s]of Object.entries(n.params))i[o]=s;let a=JSON.stringify(i);we.RemoteCommunication(`[sendBufferedEvents] Sending ${$j.length} analytics events to ${r}`);try{let o=yield(0,fue.default)(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}),s=yield o.text();we.RemoteCommunication(`[sendBufferedEvents] Response: ${s}`),$j.length=0}catch{}}))})(t).catch((()=>{}))})),oN=class{constructor(e){this.enabled=!0,e?.debug&&cc.default.enable("Ecies:Layer"),this.ecies=e?.privateKey?Gx.PrivateKey.fromHex(e.privateKey):new Gx.PrivateKey,we.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),we.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),we.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new Gx.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,n){let r=e;if(this.enabled)try{we.Ecies("[ECIES: encrypt()] using otherPublicKey",n);let i=Ne.from(e),a=Gx.encrypt(n,i);r=Ne.from(a).toString("base64")}catch(i){throw we.Ecies("[ECIES: encrypt()] error encrypt:",i),we.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),we.Ecies("[ECIES: encrypt()] data: ",e),we.Ecies("[ECIES: encrypt()] otherkey: ",n),i}return r}decrypt(e){let n=e;if(this.enabled)try{we.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());let r=Ne.from(e.toString(),"base64");n=Gx.decrypt(this.ecies.toHex(),r).toString()}catch(r){throw we.Ecies("[ECIES: decrypt()] error decrypt",r),we.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),we.Ecies("[ECIES: decrypt()] encryptedData: ",e),r}return n}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){we.Ecies("[ECIES: toString()]",this.getKeyInfo())}},S2={name:"@metamask/sdk-communication-layer",version:"0.33.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk.git",directory:"packages/sdk-communication-layer"},main:"dist/node/cjs/metamask-sdk-communication-layer.js",unpkg:"dist/browser/umd/metamask-sdk-communication-layer.js",module:"dist/node/es/metamask-sdk-communication-layer.js",browser:"dist/browser/es/metamask-sdk-communication-layer.js","react-native":"dist/react-native/es/metamask-sdk-communication-layer.js",types:"dist/types/src/index.d.ts",files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types","build:clean":"yarn clean && yarn build",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs",dev:'concurrently "tsc --watch" "rollup -c --bundleConfigAsCjs -w"',"build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",size:"size-limit",clean:"rimraf ./dist",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk-communication-layer","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore","publish:preview":"yarn npm publish --tag preview",prepack:"../../scripts/prepack.sh",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:coverage":"jest --coverage","test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":"jest",watch:"rollup -c --bundleConfigAsCjs -w"},dependencies:{"@metamask/sdk-analytics":"workspace:*",bufferutil:"^4.0.8","date-fns":"^2.29.3",debug:"^4.3.4","utf-8-validate":"^5.0.2",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@rollup/plugin-commonjs":"^25.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.4","@size-limit/preset-big-lib":"^11.0.2","@types/jest":"^29.2.4","@types/node":"^20.1.3","@types/uuid":"^9.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0",concurrently:"^9.1.2","cross-fetch":"^4.0.0",eciesjs:"^0.4.11",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0",eventemitter2:"^6.4.9",jest:"^29.3.1",prettier:"^2.3.0",rimraf:"^3.0.2",rollup:"^4.26.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-node-globals":"^1.4.0","rollup-plugin-peer-deps-external":"^2.2.4","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.1.6","socket.io-client":"^4.5.1","stream-browserify":"^3.0.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^5.6.3"},peerDependencies:{"cross-fetch":"^4.0.0",eciesjs:"*",eventemitter2:"^6.4.9","readable-stream":"^3.6.2","socket.io-client":"^4.5.1"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"@lavamoat/preinstall-always-fail":!1,canvas:!0,"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,bufferutil:!1,"utf-8-validate":!1}}},rA="https://metamask-sdk.api.cx.metamask.io/",Mkt=["websocket"],iA=6048e5,Bkt=3e3,rc={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_SWITCHETHEREUMCHAIN:"wallet_switchEthereumChain",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},Dkt=[rc.METAMASK_CONNECTSIGN,rc.METAMASK_CONNECTWITH,rc.METAMASK_OPEN,rc.METAMASK_BATCH,rc.PERSONAL_SIGN,rc.WALLET_REQUESTPERMISSIONS,rc.WALLET_REVOKEPERMISSIONS,rc.WALLET_WATCHASSET,rc.ETH_SENDTRANSACTION,rc.ETH_SIGNTYPEDDATA,rc.ETH_SIGNTYPEDDATA_V3,rc.ETH_SIGNTYPEDDATA_V4,rc.ETH_SIGNTRANSACTION,rc.ETH_SIGN,rc.PERSONAL_EC_RECOVER];function PN(t){return Dkt.includes(t)}function $He(t){let{context:e}=t;we.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var b0,Ve,NG,fi,Fa,Ro,jx;(jx=b0||(b0={})).DISCONNECTED="disconnected",jx.WAITING="waiting",jx.TIMEOUT="timeout",jx.LINKED="linked",jx.PAUSED="paused",jx.TERMINATED="terminated",(function(t){t.KEY_INFO="key_info",t.SERVICE_STATUS="service_status",t.PROVIDER_UPDATE="provider_update",t.RPC_UPDATE="rpc_update",t.KEYS_EXCHANGED="keys_exchanged",t.JOIN_CHANNEL="join_channel",t.PUBLIC_KEY="public_key",t.CHANNEL_CREATED="channel_created",t.CLIENTS_CONNECTED="clients_connected",t.CLIENTS_DISCONNECTED="clients_disconnected",t.CLIENTS_WAITING="clients_waiting",t.CLIENTS_READY="clients_ready",t.REJECTED="rejected",t.WALLET_INIT="wallet_init",t.CHANNEL_PERSISTENCE="channel_persistence",t.CONFIG="config",t.MESSAGE_ACK="ack",t.SOCKET_DISCONNECTED="socket_disconnected",t.SOCKET_RECONNECT="socket_reconnect",t.OTP="otp",t.SDK_RPC_CALL="sdk_rpc_call",t.AUTHORIZED="authorized",t.CONNECTION_STATUS="connection_status",t.MESSAGE="message",t.TERMINATE="terminate"})(Ve||(Ve={})),(NG||(NG={})).KEY_EXCHANGE="key_exchange",(function(t){t.KEY_HANDSHAKE_START="key_handshake_start",t.KEY_HANDSHAKE_CHECK="key_handshake_check",t.KEY_HANDSHAKE_SYN="key_handshake_SYN",t.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",t.KEY_HANDSHAKE_ACK="key_handshake_ACK",t.KEY_HANDSHAKE_WALLET="key_handshake_wallet",t.KEY_HANDSHAKE_NONE="none"})(fi||(fi={}));var Mle=class extends sA.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:n,context:r,ecies:i,logging:a}){super(),this.keysExchanged=!1,this.step=fi.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=r,this.communicationLayer=e,i?.privateKey&&n&&(we.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${n} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new oN(Object.assign(Object.assign({},i),{debug:a?.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=a?.keyExchangeLayer===!0,n&&this.setOtherPublicKey(n),this.communicationLayer.on(NG.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){let{relayPersistence:n}=this.communicationLayer.remote.state;if(we.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${n}`,e),n)return void we.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");let{message:r}=e;this.keysExchanged&&we.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(Ve.KEY_INFO,r.type),r.type===fi.KEY_HANDSHAKE_SYN?(this.checkStep([fi.KEY_HANDSHAKE_NONE,fi.KEY_HANDSHAKE_ACK]),we.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",r),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:fi.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch((i=>{we.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)})),this.setStep(fi.KEY_HANDSHAKE_ACK)):r.type===fi.KEY_HANDSHAKE_SYNACK?(this.checkStep([fi.KEY_HANDSHAKE_SYNACK,fi.KEY_HANDSHAKE_ACK,fi.KEY_HANDSHAKE_NONE]),we.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:fi.KEY_HANDSHAKE_ACK}).catch((i=>{we.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)})),this.keysExchanged=!0,this.setStep(fi.KEY_HANDSHAKE_ACK),this.emit(Ve.KEYS_EXCHANGED)):r.type===fi.KEY_HANDSHAKE_ACK&&(we.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([fi.KEY_HANDSHAKE_ACK,fi.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(fi.KEY_HANDSHAKE_ACK),this.emit(Ve.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new oN(e)}clean(){we.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(fi.KEY_HANDSHAKE_NONE),this.emit(Ve.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:n}){let{relayPersistence:r,protocolVersion:i}=this.communicationLayer.remote.state,a=i>=2;r?we.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(we.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${n} relayPersistence=${r} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==fi.KEY_HANDSHAKE_NONE&&this.step!==fi.KEY_HANDSHAKE_SYNACK)||n?(we.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${n}) -- step=${this.step}`,this.step),this.clean(),this.setStep(fi.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:fi.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch((o=>{we.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",o)}))):we.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&n!==!0?we.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):a?this.communicationLayer.sendMessage({type:fi.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch((o=>{we.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",o)})):(this.communicationLayer.sendMessage({type:fi.KEY_HANDSHAKE_START}).catch((o=>{we.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",o)})),this.clean()))}setStep(e){this.step=e,this.emit(Ve.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:n}){this.otherPublicKey=n,this.myECIES=new oN({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){we.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){let e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}};(function(t){t.TERMINATE="terminate",t.ANSWER="answer",t.OFFER="offer",t.CANDIDATE="candidate",t.JSONRPC="jsonrpc",t.WALLET_INFO="wallet_info",t.WALLET_INIT="wallet_init",t.ORIGINATOR_INFO="originator_info",t.PAUSE="pause",t.OTP="otp",t.AUTHORIZED="authorized",t.PING="ping",t.READY="ready"})(Fa||(Fa={})),(function(t){t.REQUEST="sdk_connect_request_started",t.REQUEST_MOBILE="sdk_connect_request_started_mobile",t.RECONNECT="sdk_reconnect_request_started",t.CONNECTED="sdk_connection_established",t.CONNECTED_MOBILE="sdk_connection_established_mobile",t.AUTHORIZED="sdk_connection_authorized",t.REJECTED="sdk_connection_rejected",t.TERMINATED="sdk_connection_terminated",t.DISCONNECTED="sdk_disconnected",t.SDK_USE_EXTENSION="sdk_use_extension",t.SDK_RPC_REQUEST="sdk_rpc_request",t.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",t.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",t.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",t.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"})(Ro||(Ro={}));var rG=(t,e,n)=>Ie(void 0,void 0,void 0,(function*(){var r,i,a,o,s,c;let{remote:l,state:u}=t,{channelId:f,isOriginator:d}=u;if(e==="error_terminated")return we.SocketService(`handleJoinChannelResults: Channel ${f} terminated`),void t.emit(Ve.TERMINATE);if(!n)return void we.SocketService(`handleJoinChannelResults: No result for channel ${f}`);let{persistence:p,walletKey:h,rejected:m}=n;if(we.SocketService(`handleJoinChannelResults: Channel ${f} persistence=${p} walletKey=${h} rejected=${m}`),m)return we.SocketService(`handleJoinChannelResults: Channel ${f} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Ve.REJECTED,{channelId:f}),void t.remote.emitServiceStatusEvent();if(h&&!(!((r=l.state.channelConfig)===null||r===void 0)&&r.otherKey)){t.getKeyExchange().setOtherPublicKey(h),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Ve.AUTHORIZED);let{communicationLayer:w,storageManager:g}=l.state,x=Object.assign(Object.assign({},l.state.channelConfig),{channelId:(a=l.state.channelId)!==null&&a!==void 0?a:"",validUntil:Date.now()+iA,localKey:w?.getKeyInfo().ecies.private,otherKey:h});t.sendMessage({type:fi.KEY_HANDSHAKE_ACK}).catch((C=>{})),(o=t.state.socket)===null||o===void 0||o.emit(Fa.PING,{id:f,clientType:d?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield g?.persistChannelConfig(x),l.emitServiceStatusEvent(),l.setConnectionStatus(b0.LINKED)}p&&(t.emit(Ve.CHANNEL_PERSISTENCE),(s=t.state.keyExchange)===null||s===void 0||s.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Ve.AUTHORIZED),K5(Object.assign(Object.assign({id:f??"",event:d?Ro.CONNECTED:Ro.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:S2.version,walletVersion:(c=t.remote.state.walletInfo)===null||c===void 0?void 0:c.version}),u.communicationServerUrl).catch((w=>{})))})),eA=t=>new Promise((e=>{setTimeout(e,t)})),tUe=(t,e,...n)=>Ie(void 0,[t,e,...n],void 0,(function*(r,i,a=200){let o,s=Date.now(),c=!1;for(;!c;){if(c=Date.now()-s>3e5,o=i[r],o.elapsedTime!==void 0)return o;yield eA(a)}throw new Error(`RPC ${r} timed out`)})),Ble=t=>Ie(void 0,void 0,void 0,(function*(){let{state:e}=t,{socket:n,channelId:r,context:i,isOriginator:a,isReconnecting:o}=e;if(o)return we.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",t),!1;if(!n)return we.SocketService("[SocketService: reconnectSocket()] socket is not defined",t),!1;if(!r)return!1;let{connected:s}=n;e.isReconnecting=!0,e.reconnectionAttempts=0,we.SocketService(`[SocketService: reconnectSocket()] connected=${s} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(we.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield eA(200),n.connected)return we.SocketService("Socket already connected --- ping to retrieve messages"),n.emit(Fa.PING,{id:r,clientType:a?"dapp":"wallet",context:"on_channel_config",message:""}),!0;e.resumed=!0,n.connect(),t.emit(Ve.SOCKET_RECONNECT);try{if(yield new Promise(((c,l)=>{n.emit(Ve.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:a?"dapp":"wallet"},((u,f)=>Ie(void 0,void 0,void 0,(function*(){try{yield rG(t,u,f),c()}catch(d){l(d)}}))))})),yield eA(100),n.connected)return we.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(c){we.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,c)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield eA(200))}return we.SocketService("Failed to reconnect after 3 attempts"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}}));function qHe(t,e){return Ie(this,void 0,void 0,(function*(){var n;let r=(n=t.state.keyExchange)===null||n===void 0?void 0:n.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?"dapp":"wallet",message:r,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return we.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===Fa.TERMINATE&&(t.state.manualDisconnect=!0),new Promise(((a,o)=>{var s;(s=t.state.socket)===null||s===void 0||s.emit(Ve.MESSAGE,i,((c,l)=>{var u;c&&(we.SocketService(`[SocketService: encryptAndSendMessage()] error=${c}`),o(c)),we.SocketService("[encryptAndSendMessage] response",l),a((u=l?.success)!==null&&u!==void 0&&u)}))}))}))}var Jx;(function(t){t.RPC_CHECK="rpcCheck",t.SKIPPED_RPC="skippedRpc"})(Jx||(Jx={}));var WHe=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map((t=>t.toLowerCase())),Lkt=[{event:Ve.CLIENTS_CONNECTED,handler:function(t,e){return n=>Ie(this,void 0,void 0,(function*(){var r,i,a,o,s,c,l,u,f,d,p;let h=(i=(r=t.remote.state.channelConfig)===null||r===void 0?void 0:r.relayPersistence)!==null&&i!==void 0&&i;if(we.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${h} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(Ve.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(we.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged()} -- backward compatibility`),(c=t.state.keyExchange)===null||c===void 0||c.start({isOriginator:(l=t.state.isOriginator)!==null&&l!==void 0&&l})),t.state.resumed=!1;else if(t.state.clientsPaused)we.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!t.state.isOriginator){let m=!h;we.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(u=t.state.keyExchange)===null||u===void 0?void 0:u.areKeysExchanged()} -- force=${m} -- backward compatibility`),we.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(f=t.state.keyExchange)===null||f===void 0?void 0:f.areKeysExchanged()} -- force=${m} -- backward compatibility`),(d=t.state.keyExchange)===null||d===void 0||d.start({isOriginator:(p=t.state.isOriginator)!==null&&p!==void 0&&p,force:m})}t.state.clientsConnected=!0,t.state.clientsPaused=!1}))}},{event:Ve.CHANNEL_CREATED,handler:function(t,e){return n=>{we.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,n),t.emit(Ve.CHANNEL_CREATED,n)}}},{event:Ve.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var n;t.state.clientsConnected=!1,we.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?we.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((n=t.state.keyExchange)===null||n===void 0||n.clean()),t.emit(Ve.CLIENTS_DISCONNECTED,e))}}},{event:Ve.CONFIG,handler:function(t,e){return n=>Ie(this,void 0,void 0,(function*(){var r,i,a;we.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,n);let{persistence:o,walletKey:s}=n;t.state.isOriginator&&t.remote.state.channelConfig?(n.walletKey&&!t.remote.state.channelConfig.otherKey&&(we.SocketService(`Setting wallet key ${s}`),t.remote.state.channelConfig.otherKey=s,t.getKeyExchange().setOtherPublicKey(n.walletKey),(r=t.state.keyExchange)===null||r===void 0||r.setKeysExchanged(!0),yield t.remote.sendMessage({type:fi.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:Fa.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),o!==!0||t.remote.state.channelConfig.relayPersistence||(we.SocketService(`Setting relay persistence ${o}`),t.remote.state.channelConfig.relayPersistence=o,t.remote.state.relayPersistence=!0,t.remote.emit(Ve.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(Ve.AUTHORIZED),yield(a=t.remote.state.storageManager)===null||a===void 0?void 0:a.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||n.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(Ve.CHANNEL_PERSISTENCE))}))}},{event:Ve.MESSAGE,handler:function(t,e){return n=>{var r,i,a,o,s,c,l,u,f,d,p,h,m,w,g,x,C,P;let{ackId:D,message:F,error:H}=n,O=(r=t.remote.state.relayPersistence)!==null&&r!==void 0&&r;if(we.SocketService(`[SocketService handleMessage()]  relayPersistence=${O}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),H)throw we.SocketService(`
      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${H}`),new Error(H);let M=typeof F=="string";if(!M&&F?.type===fi.KEY_HANDSHAKE_START)return O?void 0:(we.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,F),void((a=t.state.keyExchange)===null||a===void 0||a.start({isOriginator:(o=t.state.isOriginator)!==null&&o!==void 0&&o,force:!0})));if(!M&&(!((s=F?.type)===null||s===void 0)&&s.startsWith("key_handshake")))return O?void 0:(we.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,F),void t.emit(NG.KEY_EXCHANGE,{message:F,context:t.state.context}));if(M&&!(!((c=t.state.keyExchange)===null||c===void 0)&&c.areKeysExchanged())){let I=!1;try{we.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(l=t.state.keyExchange)===null||l===void 0||l.decryptMessage(F),I=!0}catch(S){we.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,S)}if(!I)return t.state.isOriginator?(f=t.state.keyExchange)===null||f===void 0||f.start({isOriginator:(d=t.state.isOriginator)!==null&&d!==void 0&&d}):t.sendMessage({type:fi.KEY_HANDSHAKE_START}).catch((S=>{})),void we.SocketService(`Message ignored because invalid key exchange status. step=${(p=t.state.keyExchange)===null||p===void 0?void 0:p.getKeyInfo().step}`,(h=t.state.keyExchange)===null||h===void 0?void 0:h.getKeyInfo(),F);we.SocketService("Invalid key exchange status detected --- updating it."),(u=t.state.keyExchange)===null||u===void 0||u.setKeysExchanged(!0)}else if(!M&&F?.type)return void t.emit(Ve.MESSAGE,F);if(!M)return void t.emit(Ve.MESSAGE,F);let N=(m=t.state.keyExchange)===null||m===void 0?void 0:m.decryptMessage(F),v=JSON.parse(N??"{}");if(D&&D?.length>0&&(we.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${D} channelId=${e}`),(w=t.state.socket)===null||w===void 0||w.emit(Ve.MESSAGE_ACK,{ackId:D,channelId:e,clientType:t.state.isOriginator?"dapp":"wallet"})),t.state.clientsPaused=v?.type===Fa.PAUSE,t.state.isOriginator&&v.data){let I=v.data,S=t.state.rpcMethodTracker[I.id];if(S){let y=Date.now()-S.timestamp;we.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${I.id} method=${S.method} responseTime=${y}`,v),t.remote.state.analytics&&WHe.includes(S.method.toLowerCase())&&K5(Object.assign(Object.assign({id:(g=t.remote.state.channelId)!==null&&g!==void 0?g:"",event:Ro.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:S2.version},t.remote.state.originatorInfo),{walletVersion:(x=t.remote.state.walletInfo)===null||x===void 0?void 0:x.version,params:{method:S.method,from:"mobile"}}),t.remote.state.communicationServerUrl).catch((_=>{})),PN(S.method)&&ro.analytics.track(I.error?I.error.code===4001?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:S.method});let b=Object.assign(Object.assign({},S),{result:I.result,error:I.error?{code:(C=I.error)===null||C===void 0?void 0:C.code,message:(P=I.error)===null||P===void 0?void 0:P.message}:void 0,elapsedTime:y});t.state.rpcMethodTracker[I.id]=b,t.emit(Ve.RPC_UPDATE,b)}}t.emit(Ve.MESSAGE,{message:v})}}},{event:Ve.REJECTED,handler:function(t,e){return n=>Ie(this,void 0,void 0,(function*(){var r;t.state.isOriginator&&!t.remote.state.ready?(we.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),K5(Object.assign(Object.assign({id:e,event:Ro.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:S2.version,walletVersion:(r=t.remote.state.walletInfo)===null||r===void 0?void 0:r.version}),t.remote.state.communicationServerUrl).catch((i=>{})),ro.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Ve.REJECTED,{channelId:e}),t.remote.setConnectionStatus(b0.DISCONNECTED)):we.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)}))}},{event:"clients_waiting_to_join",handler:function(t,e){return n=>{we.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,n),t.emit(Ve.CLIENTS_WAITING,n)}}}],Ukt=[{event:Ve.KEY_INFO,handler:function(t){return e=>{we.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",e),t.emit(Ve.KEY_INFO,e)}}},{event:Ve.KEYS_EXCHANGED,handler:function(t){return()=>{var e,n,r;we.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);let{channelConfig:i}=t.remote.state;if(i){let o=t.getKeyExchange().getKeyInfo().ecies;i.localKey=o.private,i.otherKey=o.otherPubKey,t.remote.state.channelConfig=i,(n=t.remote.state.storageManager)===null||n===void 0||n.persistChannelConfig(i).catch((s=>{}))}t.emit(Ve.KEYS_EXCHANGED,{keysExchanged:(r=t.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged(),isOriginator:t.state.isOriginator});let a={keyInfo:t.getKeyInfo()};t.emit(Ve.SERVICE_STATUS,a)}}}];function nUe(t,e){we.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);let{socket:n}=t.state,{keyExchange:r}=t.state;n&&t.state.isOriginator&&(t.state.debug&&(n?.io.on("error",(i=>{we.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)})),n?.io.on("reconnect",(i=>{we.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),Ble(t).catch((a=>{}))})),n?.io.on("reconnect_error",(i=>{we.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)})),n?.io.on("reconnect_failed",(()=>{we.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)}))),n?.on("disconnect",(i=>(we.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),(function(a){return o=>{we.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${a.state.manualDisconnect}`,o),a.state.manualDisconnect||(a.emit(Ve.SOCKET_DISCONNECTED),Ble(a).catch((s=>{})))}})(t)(i))))),Lkt.forEach((({event:i,handler:a})=>{n?.on(`${i}-${e}`,a(t,e))})),Ukt.forEach((({event:i,handler:a})=>{r?.on(i,a(t))})),t.state.setupChannelListeners=!0}var Dle=class extends sA.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;let{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:a,remote:o,logging:s}=e;this.state.resumed=n,this.state.context=a,this.state.isOriginator=o.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=s?.serviceLayer===!0,this.remote=o,s?.serviceLayer===!0&&cc.default.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==rA&&s?.plaintext===!0,we.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;let{otherPublicKey:n,ecies:r,logging:i}=this.options,a={autoConnect:!1,transports:Mkt,withCredentials:!0},o=this.state.communicationServerUrl;we.SocketService(`[SocketService: initSocket()] Socket IO url: ${o}`),this.state.socket=s5(o,a),(function(c){if(typeof window<"u"&&typeof document<"u"&&(we.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,c),!c.state.focusListenerAdded)){let l=()=>{we.SocketService("Document has focus --- reconnecting socket"),Ble(c).catch((u=>{}))};window.addEventListener("focus",l),c.state.focusListenerAdded=!0,c.state.removeFocusListener=()=>{window.removeEventListener("focus",l),c.state.focusListenerAdded=!1}}})(this);let s={communicationLayer:this,otherPublicKey:n,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:"",ecies:r,logging:i};this.state.keyExchange=new Mle(s)}resetKeys(){return we.SocketService("[SocketService: resetKeys()] Resetting keys."),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){var n,r,i;if(we.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(n=e.state.socket)===null||n===void 0?void 0:n.connected)throw new Error("socket already connected");(r=e.state.socket)===null||r===void 0||r.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;let a=V1();e.state.channelId=a,nUe(e,a),yield new Promise(((s,c)=>{var l;(l=e.state.socket)===null||l===void 0||l.emit(Ve.JOIN_CHANNEL,{channelId:a,context:`${e.state.context}createChannel`,clientType:"dapp"},((u,f)=>Ie(this,void 0,void 0,(function*(){try{yield rG(e,u,f),s()}catch(d){c(d)}}))))}));let o=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:a,pubKey:o?.ecies.public||"",privKey:o?.ecies.private||""}}))})(this)}))}connectToChannel({channelId:e,withKeyExchange:n=!1,authorized:r}){return(function(i){return Ie(this,arguments,void 0,(function*({options:a,instance:o}){let{channelId:s,authorized:c,withKeyExchange:l}=a,{state:u,remote:f}=o,{isOriginator:d=!1,socket:p,keyExchange:h}=u,{channelConfig:m}=f.state;if(p?.connected)throw new Error("socket already connected");if(d&&m?.relayPersistence){let{localKey:w,otherKey:g}=m;w&&g&&h?.setRelayPersistence({localKey:w,otherKey:g})}return Object.assign(u,{manualDisconnect:!1,withKeyExchange:l,isOriginator:d,channelId:s}),p?.connect(),nUe(o,s),!d&&c&&(h?.setKeysExchanged(!0),Object.assign(f.state,{ready:!0,authorized:!0})),new Promise((w=>{var g;let x=(g=h?.getKeyInfo())===null||g===void 0?void 0:g.ecies.public;p?.emit(Ve.JOIN_CHANNEL,{channelId:s,context:`${u.context}_connectToChannel`,clientType:d?"dapp":"wallet",publicKey:c&&!d?x:void 0},((C,P)=>Ie(this,void 0,void 0,(function*(){yield rG(o,C,P),w()}))))}))}))})({options:{channelId:e,withKeyExchange:n,authorized:r},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,n;(n=(e=this).state.socket)===null||n===void 0||n.emit(Ve.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:fi.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return Ie(this,void 0,void 0,(function*(){return(function(n,r){return Ie(this,void 0,void 0,(function*(){var i,a,o;if(!n.state.channelId)throw we.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(we.SocketService(`[SocketService: handleSendMessage()] context=${n.state.context} areKeysExchanged=${(i=n.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),(a=r?.type)===null||a===void 0?void 0:a.startsWith("key_handshake"))return(function(c,l){var u;we.SocketService(`[SocketService: handleKeyHandshake()] context=${c.state.context}`,l),(u=c.state.socket)===null||u===void 0||u.emit(Ve.MESSAGE,{id:c.state.channelId,context:c.state.context,clientType:c.state.isOriginator?"dapp":"wallet",message:l})})(n,r),!0;(function(c,l){var u;if(!(!((u=c.state.keyExchange)===null||u===void 0)&&u.areKeysExchanged())&&!c.remote.state.relayPersistence)throw we.SocketService(`[SocketService: validateKeyExchange()] context=${c.state.context} ERROR keys not exchanged`,l),new Error("Keys not exchanged BBB")})(n,r),(function(c,l){var u;let f=(u=l?.method)!==null&&u!==void 0?u:"",d=l?.id;c.state.isOriginator&&d&&(c.state.rpcMethodTracker[d]={id:d,timestamp:Date.now(),method:f},c.emit(Ve.RPC_UPDATE,c.state.rpcMethodTracker[d]))})(n,r);let s=yield qHe(n,r);return n.remote.state.analytics&&n.remote.state.isOriginator&&r.method&&WHe.includes(r.method.toLowerCase())&&K5({id:(o=n.remote.state.channelId)!==null&&o!==void 0?o:"",event:Ro.SDK_RPC_REQUEST,params:{method:r.method,from:"mobile"}},n.remote.state.communicationServerUrl).catch((c=>{})),n.remote.state.isOriginator&&r.method&&PN(r.method)&&ro.analytics.track("sdk_action_requested",{action:r.method}),(function(c,l){return Ie(this,void 0,void 0,(function*(){var u;let f=l?.id,d=(u=l?.method)!==null&&u!==void 0?u:"";if(c.state.isOriginator&&f)try{let p=tUe(f,c.state.rpcMethodTracker,200).then((w=>({type:Jx.RPC_CHECK,result:w}))),h=Ie(this,void 0,void 0,(function*(){let w=yield(x=>Ie(void 0,[x],void 0,(function*({rpcId:C,instance:P}){for(;P.state.lastRpcId===C||P.state.lastRpcId===void 0;)yield eA(200);return P.state.lastRpcId})))({instance:c,rpcId:f}),g=yield tUe(w,c.state.rpcMethodTracker,200);return{type:Jx.SKIPPED_RPC,result:g}})),m=yield Promise.race([p,h]);if(m.type===Jx.RPC_CHECK){let w=m.result;we.SocketService(`[SocketService:handleRpcReplies()] id=${l.id} ${d} ( ${w.elapsedTime} ms)`,w.result)}else{if(m.type!==Jx.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${f}`);{let w=Object.assign(Object.assign({},c.state.rpcMethodTracker[f]),{error:new Error("SDK_CONNECTION_ISSUE")});c.emit(Ve.RPC_UPDATE,w);let g={data:Object.assign(Object.assign({},w),{jsonrpc:"2.0"}),name:"metamask-provider"};c.emit(Ve.MESSAGE,{message:g})}}}catch(p){throw p}}))})(n,r).catch((c=>{})),s}))})(this,e)}))}ping(){return(function(e){return Ie(this,void 0,void 0,(function*(){var n,r;we.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(n=e.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged()}`),(r=e.state.socket)===null||r===void 0||r.emit(Fa.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})}))})(this)}pause(){return(function(e){return Ie(this,void 0,void 0,(function*(){var n,r;we.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((n=e.state.keyExchange)===null||n===void 0)&&n.areKeysExchanged()&&(yield e.sendMessage({type:Fa.PAUSE})),(r=e.state.socket)===null||r===void 0||r.disconnect()}))})(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return(function(e){return Ie(this,void 0,void 0,(function*(){let{state:n,remote:r}=e,{socket:i,channelId:a,context:o,keyExchange:s,isOriginator:c}=n,{isOriginator:l}=r.state;if(we.SocketService(`[SocketService: resume()] channelId=${a} context=${o} connected=${i?.connected} manualDisconnect=${n.manualDisconnect} resumed=${n.resumed} keysExchanged=${s?.areKeysExchanged()}`),!a)throw we.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i?.connected?(we.SocketService("[SocketService: resume()] already connected."),i.emit(Fa.PING,{id:a,clientType:l?"dapp":"wallet",context:"on_channel_config",message:""}),r.hasRelayPersistence()||s?.areKeysExchanged()||(c?yield e.sendMessage({type:Fa.READY}):s?.start({isOriginator:!1}))):(i?.connect(),we.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i?.connected}`),i?.emit(Ve.JOIN_CHANNEL,{channelId:a,context:`${o}_resume`,clientType:l?"dapp":"wallet"},((u,f)=>Ie(this,void 0,void 0,(function*(){try{yield rG(e,u,f)}catch{}}))))),n.manualDisconnect=!1,n.resumed=!0}))})(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return(function(n,r){var i,a,o,s,c;we.SocketService(`[SocketService: disconnect()] context=${n.state.context}`,r),r?.terminate&&((a=(i=n.state).removeFocusListener)===null||a===void 0||a.call(i),n.state.channelId=r.channelId,(o=n.state.socket)===null||o===void 0||o.removeAllListeners(),(s=n.state.keyExchange)===null||s===void 0||s.clean(),n.remote.state.ready=!1,n.state.socket=void 0,n.state.rpcMethodTracker={}),n.state.manualDisconnect=!0,(c=n.state.socket)===null||c===void 0||c.disconnect()})(this,e)}},Qw,oc,rUe;function Fkt(t){return()=>Ie(this,void 0,void 0,(function*(){var e,n,r;let{state:i}=t;if(i.authorized)return;yield Ie(this,void 0,void 0,(function*(){for(;!i.walletInfo;)yield eA(500)}));let a="7.3".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||"");if(we.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(n=i.walletInfo)===null||n===void 0?void 0:n.version} compareValue=${a}`),a!==1)return;let o=i.platformType===oc.MobileWeb||i.platformType===oc.ReactNative||i.platformType===oc.MetaMaskMobileWebview;we.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${o} channel=${i.channelId} walletVersion=${(r=i.walletInfo)===null||r===void 0?void 0:r.version}`),o&&(i.authorized=!0,t.emit(Ve.AUTHORIZED))}))}function Hkt(t){return e=>{let{state:n}=t;we.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${e}`),t.emit(Ve.CHANNEL_CREATED,e)}}function zkt(t,e){return()=>{var n,r,i,a;let{state:o}=t;we.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${o.channelId} keysExchanged=${(r=(n=o.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||r===void 0?void 0:r.keysExchanged}`),o.analytics&&K5(Object.assign(Object.assign({id:(i=o.channelId)!==null&&i!==void 0?i:"",event:o.reconnection?Ro.RECONNECT:o.isOriginator?Ro.REQUEST:Ro.REQUEST_MOBILE},o.originatorInfo),{commLayer:e,sdkVersion:o.sdkVersion,walletVersion:(a=o.walletInfo)===null||a===void 0?void 0:a.version,commLayerVersion:S2.version}),o.communicationServerUrl).catch((s=>{})),o.isOriginator&&!o.reconnection&&ro.analytics.track("sdk_connection_established",{transport_type:"websocket"}),o.clientsConnected=!0,o.originatorInfoSent=!1,t.emit(Ve.CLIENTS_CONNECTED)}}function jkt(t){return e=>{let{state:n}=t;we.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${e}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),t.emit(Ve.CLIENTS_DISCONNECTED,n.channelId),t.setConnectionStatus(b0.DISCONNECTED)}}function Gkt(t){return e=>{var n;let{state:r}=t;if(we.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${e} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),t.setConnectionStatus(b0.WAITING),t.emit(Ve.CLIENTS_WAITING,e),r.originatorConnectStarted){we.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);let i=((n=r.autoConnectOptions)===null||n===void 0?void 0:n.timeout)||3e3,a=setTimeout((()=>{we.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||t.setConnectionStatus(b0.TIMEOUT),clearTimeout(a)}),i)}}}function Vkt(t,e){return n=>{var r,i,a,o,s,c,l,u;let{state:f}=t;if(we.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${f.context} on commLayer.'keys_exchanged' channel=${f.channelId}`,n),(i=(r=f.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){let d=Object.assign(Object.assign({},f.channelConfig),{channelId:(a=f.channelId)!==null&&a!==void 0?a:"",validUntil:((o=f.channelConfig)===null||o===void 0?void 0:o.validUntil)||iA,localKey:f.communicationLayer.getKeyInfo().ecies.private,otherKey:f.communicationLayer.getKeyInfo().ecies.otherPubKey});(s=f.storageManager)===null||s===void 0||s.persistChannelConfig(d).catch((p=>{})),t.setConnectionStatus(b0.LINKED)}(function(d,p){var h,m,w,g,x,C,P,D;let{state:F}=d;we.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${F.channelId}`,p);let H=Object.assign(Object.assign({},F.channelConfig),{channelId:(h=F.channelId)!==null&&h!==void 0?h:"",validUntil:(w=(m=F.channelConfig)===null||m===void 0?void 0:m.validUntil)!==null&&w!==void 0?w:0,relayPersistence:F.relayPersistence,localKey:(x=(g=F.communicationLayer)===null||g===void 0?void 0:g.state.keyExchange)===null||x===void 0?void 0:x.getKeyInfo().ecies.private,otherKey:(P=(C=F.communicationLayer)===null||C===void 0?void 0:C.state.keyExchange)===null||P===void 0?void 0:P.getKeyInfo().ecies.otherPubKey,lastActive:p.getTime()});(D=F.storageManager)===null||D===void 0||D.persistChannelConfig(H)})(t,new Date),f.analytics&&f.channelId&&K5(Object.assign(Object.assign({id:f.channelId,event:n.isOriginator?Ro.CONNECTED:Ro.CONNECTED_MOBILE},f.originatorInfo),{sdkVersion:f.sdkVersion,commLayer:e,commLayerVersion:S2.version,walletVersion:(c=f.walletInfo)===null||c===void 0?void 0:c.version}),f.communicationServerUrl).catch((d=>{})),f.isOriginator=n.isOriginator,n.isOriginator||((l=f.communicationLayer)===null||l===void 0||l.sendMessage({type:Fa.READY}),f.ready=!0,f.paused=!1),n.isOriginator&&!f.originatorInfoSent&&((u=f.communicationLayer)===null||u===void 0||u.sendMessage({type:Fa.ORIGINATOR_INFO,originatorInfo:f.originatorInfo,originator:f.originatorInfo}),f.originatorInfoSent=!0)}}function Kkt(t){return e=>{let n=e;e.message&&(n=n.message),(function(r,i){let{state:a}=i;if(we.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${a.context} on 'message' typeof=${typeof r}`,r),i.state.ready=!0,a.isOriginator||r.type!==Fa.ORIGINATOR_INFO)if(a.isOriginator&&r.type===Fa.WALLET_INFO)(function(o,s){let{state:c}=o;c.walletInfo=s.walletInfo,c.paused=!1})(i,r);else{if(a.isOriginator&&r.type===Fa.WALLET_INIT)(function(o,s){return Ie(this,void 0,void 0,(function*(){var c,l,u;let{state:f}=o;if(f.isOriginator){let d=s.data||{};if(typeof d=="object"&&"accounts"in d&&"chainId"in d&&"walletKey"in d)try{let{channelConfig:p}=o.state;if(we.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(p,null,2)),p){let h=d.accounts,m=d.chainId,w=d.walletKey,g,x=!1;"deeplinkProtocol"in d&&(x=!!d.deeplinkProtocol,o.state.deeplinkProtocolAvailable=x),"walletVersion"in d&&(g=d.walletVersion),yield(c=o.state.storageManager)===null||c===void 0?void 0:c.persistChannelConfig(Object.assign(Object.assign({},p),{otherKey:w,walletVersion:g,deeplinkProtocolAvailable:x,relayPersistence:!0})),yield(l=o.state.storageManager)===null||l===void 0?void 0:l.persistAccounts(h),yield(u=o.state.storageManager)===null||u===void 0?void 0:u.persistChainId(m)}o.emit(Ve.WALLET_INIT,{accounts:d.accounts,chainId:d.chainId})}catch{}}}))})(i,r).catch((o=>{we.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${o}`)}));else if(r.type===Fa.TERMINATE)(function(o){return Ie(this,void 0,void 0,(function*(){let{state:s}=o;s.isOriginator&&(yield YHe({options:{terminate:!0,sendMessage:!1},instance:o}),o.emit(Ve.TERMINATE))}))})(i).catch((o=>{we.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${o}`)}));else if(r.type===Fa.PAUSE)(function(o){let{state:s}=o;s.paused=!0,o.setConnectionStatus(b0.PAUSED)})(i);else if(r.type===Fa.READY&&a.isOriginator)(function(o){let{state:s}=o;o.setConnectionStatus(b0.LINKED);let c=s.paused;s.paused=!1,o.emit(Ve.CLIENTS_READY,{isOriginator:s.isOriginator,walletInfo:s.walletInfo}),c&&(s.authorized=!0,o.emit(Ve.AUTHORIZED))})(i);else{if(r.type===Fa.OTP&&a.isOriginator)return void(function(o,s){var c;let{state:l}=o;o.emit(Ve.OTP,s.otpAnswer),"6.6".localeCompare(((c=l.walletInfo)===null||c===void 0?void 0:c.version)||"")===1&&o.emit(Ve.SDK_RPC_CALL,{method:rc.ETH_REQUESTACCOUNTS,params:[]})})(i,r);r.type===Fa.AUTHORIZED&&a.isOriginator&&(function(o){let{state:s}=o;s.authorized=!0,o.emit(Ve.AUTHORIZED)})(i)}i.emit(Ve.MESSAGE,r)}else(function(o,s){var c;let{state:l}=o;(c=l.communicationLayer)===null||c===void 0||c.sendMessage({type:Fa.WALLET_INFO,walletInfo:l.walletInfo}),l.originatorInfo=s.originatorInfo||s.originator,o.emit(Ve.CLIENTS_READY,{isOriginator:l.isOriginator,originatorInfo:l.originatorInfo}),l.paused=!1})(i,r)})(n,t)}}function $kt(t){return()=>{let{state:e}=t;we.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),e.ready=!1,e.authorized=!1,$He(e),t.emitServiceStatusEvent({context:"socket_reconnect"})}}function qkt(t){return()=>{let{state:e}=t;we.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),e.ready=!1}}function Wkt(t){return()=>Ie(this,void 0,void 0,(function*(){var e,n,r,i,a,o,s;let{state:c}=t;we.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${c.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(Ve.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(Ve.AUTHORIZED),t.emit(Ve.CLIENTS_READY),t.emit(Ve.CHANNEL_PERSISTENCE);try{c.channelConfig=Object.assign(Object.assign({},c.channelConfig),{localKey:(n=c.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:(r=c.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:(i=c.channelId)!==null&&i!==void 0?i:"",validUntil:(o=(a=c.channelConfig)===null||a===void 0?void 0:a.validUntil)!==null&&o!==void 0?o:iA,relayPersistence:!0}),yield(s=c.storageManager)===null||s===void 0?void 0:s.persistChannelConfig(c.channelConfig)}catch{}}))}function iUe({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,ecies:r,communicationServerUrl:i=rA,instance:a}){var o,s,c,l,u,f,d,p,h,m,w;let{state:g}=a;if(we.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(g,null,2)),t!==Qw.SOCKET)throw new Error("Invalid communication protocol");g.communicationLayer=new Dle({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,transports:g.transports,communicationServerUrl:i,context:g.context,ecies:r,logging:g.logging,remote:a});let x=typeof document<"u"&&document.URL||"",C=typeof document<"u"&&document.title||"";!((o=g.dappMetadata)===null||o===void 0)&&o.url&&(x=g.dappMetadata.url),!((s=g.dappMetadata)===null||s===void 0)&&s.name&&(C=g.dappMetadata.name);let P=(f=(l=(c=g.dappMetadata)===null||c===void 0?void 0:c.name)!==null&&l!==void 0?l:(u=g.dappMetadata)===null||u===void 0?void 0:u.url)!==null&&f!==void 0?f:"N/A",D=typeof window<"u"&&window.location!==void 0&&(d=window.location.hostname)!==null&&d!==void 0?d:P,F={url:x,title:C,source:(p=g.dappMetadata)===null||p===void 0?void 0:p.source,dappId:D,anonId:g.anonId,icon:((h=g.dappMetadata)===null||h===void 0?void 0:h.iconUrl)||((m=g.dappMetadata)===null||m===void 0?void 0:m.base64Icon),platform:g.platformType,apiVersion:S2.version,connector:(w=g.dappMetadata)===null||w===void 0?void 0:w.connector};g.originatorInfo=F;let H={[Ve.AUTHORIZED]:Fkt(a),[Ve.MESSAGE]:Kkt(a),[Ve.CHANNEL_PERSISTENCE]:Wkt(a),[Ve.CLIENTS_CONNECTED]:zkt(a,t),[Ve.KEYS_EXCHANGED]:Vkt(a,t),[Ve.SOCKET_DISCONNECTED]:qkt(a),[Ve.SOCKET_RECONNECT]:$kt(a),[Ve.CLIENTS_DISCONNECTED]:jkt(a),[Ve.KEY_INFO]:()=>{},[Ve.CHANNEL_CREATED]:Hkt(a),[Ve.CLIENTS_WAITING]:Gkt(a),[Ve.RPC_UPDATE]:O=>{a.emit(Ve.RPC_UPDATE,O)}};for(let[O,M]of Object.entries(H))try{g.communicationLayer.on(O,M)}catch{}}function YHe(t){return Ie(this,arguments,void 0,(function*({options:e,instance:n}){let{state:r}=n;return we.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${r.channelId}`,e),new Promise(((i,a)=>{var o,s,c,l,u,f;e?.terminate?(n.state.ready&&K5({id:(o=n.state.channelId)!==null&&o!==void 0?o:"",event:Ro.TERMINATED},n.state.communicationServerUrl).catch((d=>{})),r.ready=!1,r.paused=!1,(s=r.storageManager)===null||s===void 0||s.terminate((c=r.channelId)!==null&&c!==void 0?c:""),n.state.terminated=!0,e.sendMessage?!((l=r.communicationLayer)===null||l===void 0)&&l.getKeyInfo().keysExchanged&&n.state.communicationLayer&&qHe(n.state.communicationLayer,{type:Fa.TERMINATE}).then((()=>{i(!0)})).catch((d=>{a(d)})):i(!0),r.authorized=!1,r.relayPersistence=!1,r.channelId=V1(),e.channelId=r.channelId,r.channelConfig=void 0,r.originatorConnectStarted=!1,(u=r.communicationLayer)===null||u===void 0||u.disconnect(e),n.setConnectionStatus(b0.TERMINATED)):((f=r.communicationLayer)===null||f===void 0||f.disconnect(e),n.setConnectionStatus(b0.DISCONNECTED),i(!0))}))}))}(Qw||(Qw={})).SOCKET="socket",(function(t){t.NonBrowser="nodejs",t.MetaMaskMobileWebview="in-app-browser",t.DesktopWeb="web-desktop",t.MobileWeb="web-mobile",t.ReactNative="react-native"})(oc||(oc={}));var Lle=class extends sA.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:rA,context:"",persist:!1,clientsConnected:!1,sessionDuration:iA,originatorConnectStarted:!1,debug:!1,_connectionStatus:b0.DISCONNECTED},this._options=e;let{anonId:n,platformType:r,communicationLayerPreference:i,otherPublicKey:a,reconnect:o,walletInfo:s,dappMetadata:c,protocolVersion:l,transports:u,context:f,relayPersistence:d,ecies:p,analytics:h=!1,storage:m,sdkVersion:w,communicationServerUrl:g=rA,logging:x,autoConnect:C={timeout:Bkt}}=e;this.state.anonId=n,this.state.otherPublicKey=a,this.state.dappMetadata=c,this.state.walletInfo=s,this.state.transports=u,this.state.platformType=r,this.state.analytics=h,this.state.protocolVersion=l??1,this.state.isOriginator=!a,this.state.relayPersistence=d,this.state.communicationServerUrl=g,this.state.context=f,this.state.terminated=!1,this.state.sdkVersion=w,this.setMaxListeners(50),this.setConnectionStatus(b0.DISCONNECTED),m?.duration&&(this.state.sessionDuration=iA),this.state.storageOptions=m,this.state.autoConnectOptions=C,this.state.debug=x?.remoteLayer===!0,x?.remoteLayer===!0&&cc.default.enable("RemoteCommunication:Layer"),x?.serviceLayer===!0&&cc.default.enable("SocketService:Layer"),x?.eciesLayer===!0&&cc.default.enable("ECIES:Layer"),x?.keyExchangeLayer===!0&&cc.default.enable("KeyExchange:Layer"),this.state.logging=x,m?.storageManager&&(this.state.storageManager=m.storageManager),we.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${l} relayPersistence=${d} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${a} reconnect=${o}`),this.state.isOriginator||iUe({communicationLayerPreference:i,otherPublicKey:a,reconnect:o,ecies:p,communicationServerUrl:g,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return Ie(this,void 0,void 0,(function*(){var e;if(this.state.storageManager){let n=yield this.state.storageManager.getPersistedChannelConfig({});n&&(this.state.channelConfig=n,this.state.channelId=n.channelId,this.state.deeplinkProtocolAvailable=(e=n.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,n.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(b0.LINKED),yield this.connectToChannel({channelId:n.channelId})))}iUe({communicationLayerPreference:Qw.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})}))}originatorSessionConnect(){return Ie(this,void 0,void 0,(function*(){return yield(function(e){return Ie(this,void 0,void 0,(function*(){var n;let{state:r}=e;if(!r.storageManager)return void we.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");let i=yield r.storageManager.getPersistedChannelConfig({});if(we.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${r.originatorConnectStarted} channelConfig`,i),(n=r.communicationLayer)===null||n===void 0?void 0:n.isConnected())return we.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return r.channelConfig=i,r.originatorConnectStarted=!0,r.channelId=i?.channelId,r.reconnection=!0,i;we.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}r.originatorConnectStarted=!1}))})(this)}))}generateChannelIdConnect(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){var n,r,i,a,o,s;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(!((n=e.communicationLayer)===null||n===void 0)&&n.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(r=e.storageManager)===null||r===void 0||r.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(a=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||a===void 0?void 0:a.ecies.private,pubKey:(s=(o=e.communicationLayer)===null||o===void 0?void 0:o.getKeyInfo())===null||s===void 0?void 0:s.ecies.public};we.RemoteCommunication("[RemoteCommunication: generateChannelId()]");let c=yield e.communicationLayer.createChannel();we.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",c);let l=Object.assign(Object.assign({},e.channelConfig),{channelId:c.channelId,localKey:c.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=c.channelId,e.channelConfig=l,{channelId:e.channelId,pubKey:c.pubKey,privKey:c.privKey}}))})(this.state)}))}clean(){return $He(this.state)}connectToChannel({channelId:e,withKeyExchange:n,authorized:r}){return(function(i){return Ie(this,arguments,void 0,(function*({channelId:a,withKeyExchange:o,authorized:s,state:c}){var l,u,f;if(!G1(a))throw we.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} invalid channel channelId=${a}`),new Error(`Invalid channel ${a}`);if(we.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} channelId=${a} withKeyExchange=${o}`),(l=c.communicationLayer)===null||l===void 0?void 0:l.isConnected())return void we.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} already connected - interrupt connection.`);c.channelId=a,yield(u=c.communicationLayer)===null||u===void 0?void 0:u.connectToChannel({channelId:a,authorized:s,withKeyExchange:o});let d=Object.assign(Object.assign({},c.channelConfig),{channelId:a,validUntil:Date.now()+c.sessionDuration});c.channelConfig=d,(f=c.storageManager)===null||f===void 0||f.persistChannelConfig(d)}))})({channelId:e,authorized:r,withKeyExchange:n,state:this.state})}sendMessage(e){return Ie(this,void 0,void 0,(function*(){let n=this.state.isOriginator&&e.method&&PN(e.method);n&&ro.analytics.track("sdk_action_requested",{action:e.method});try{return yield(function(r,i){return Ie(this,void 0,void 0,(function*(){var a,o;let{state:s}=r;we.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context} paused=${s.paused} ready=${s.ready} relayPersistence=${s.relayPersistence} authorized=${s.authorized} socket=${(a=s.communicationLayer)===null||a===void 0?void 0:a.isConnected()} clientsConnected=${s.clientsConnected} status=${s._connectionStatus}`,i),s.relayPersistence||s.ready&&(!((o=s.communicationLayer)===null||o===void 0)&&o.isConnected())&&s.clientsConnected||(we.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise((c=>{r.once(Ve.CLIENTS_READY,c)})),we.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  AFTER SKIP / READY -- sending pending message`));try{return yield(function(l,u){return Ie(this,void 0,void 0,(function*(){return new Promise((f=>{var d;let{state:p}=l;we.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${p.context} ready=${p.ready} authorized=${p.authorized} method=${u.method}`),!p.isOriginator||p.authorized||p.relayPersistence?(d=p.communicationLayer)===null||d===void 0||d.sendMessage(u).then((h=>{f(h)})).catch((h=>{f(!1)})):l.once(Ve.AUTHORIZED,(()=>{var h;we.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${p.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(h=p.communicationLayer)===null||h===void 0||h.sendMessage(u).then((m=>{f(m)})).catch((m=>{f(!1)}))}))}))}))})(r,i)}catch(c){throw c}}))})(this,e)}catch(r){throw n&&ro.analytics.track("sdk_action_failed",{action:e.method}),r}}))}testStorage(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){var n;let r=yield(n=e.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();we.RemoteCommunication("[RemoteCommunication: testStorage()] res",r)}))})(this.state)}))}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return Ie(this,void 0,void 0,(function*(){var e;we.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()}))}testLogger(){we.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),we.SocketService(`testLogger() channel=${this.state.channelId}`),we.Ecies(`testLogger() channel=${this.state.channelId}`),we.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;we.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(Ve.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(Ve.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var n;let r=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange();if(!r)throw new Error("KeyExchange is not initialized.");r.getOtherPublicKey()!==e&&r.setOtherPublicKey(e)}pause(){return Ie(this,void 0,void 0,(function*(){var e;we.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus(b0.PAUSED)}))}getVersion(){return S2.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){var n;let{state:r}=e;we.RemoteCommunication(`[RemoteCommunication: resume()] channel=${r.channelId}`),yield(n=r.communicationLayer)===null||n===void 0?void 0:n.resume(),e.setConnectionStatus(b0.LINKED)}))})(this)}))}encrypt(e){var n,r,i;let a=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange(),o=a?.getOtherPublicKey();if(!o)throw new Error("KeyExchange not completed");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,o)}decrypt(e){var n,r,i;if(!(!((n=this.state.communicationLayer)===null||n===void 0)&&n.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return(function(n){return Ie(this,arguments,void 0,(function*({channelId:r,state:i}){var a,o,s;if(!G1(r))throw we.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${r}`),new Error(`Invalid channel ${r}`);if(i.isOriginator)return void we.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${r}`);let{socket:c}=(o=(a=i.communicationLayer)===null||a===void 0?void 0:a.state)!==null&&o!==void 0?o:{};c?.connected||(we.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),c?.connect()),K5(Object.assign(Object.assign({id:r,event:Ro.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:S2.version,walletVersion:(s=i.walletInfo)===null||s===void 0?void 0:s.version}),i.communicationServerUrl).catch((l=>{})),yield new Promise(((l,u)=>{c?.emit(Ve.REJECTED,{channelId:r},((f,d)=>{we.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${c?.id}`,{error:f,response:d}),f?u(f):l(d)}))}))}))})({channelId:e,state:this.state})}disconnect(e){return Ie(this,void 0,void 0,(function*(){return YHe({options:e,instance:this})}))}};(function(t){t.RENEW="renew",t.LINK="link"})(rUe||(rUe={}));var Ykt="ERC721",Jkt="ERC1155",no={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID "${t}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function Qkt(t){let e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{e.ethDecryptDeprecation||n.method!=="eth_decrypt"?e.ethGetEncryptionPublicKeyDeprecation||n.method!=="eth_getEncryptionPublicKey"?!e.walletWatchAssetNFTExperimental&&n.method==="wallet_watchAsset"&&[Ykt,Jkt].includes(n.params?.type||"")&&(t.warn(no.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(no.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(no.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var JHe=4294967295,aUe=Math.floor(Math.random()*JHe);function Zkt(){return(t,e,n,r)=>{let i=t.id,a=aUe=(aUe+1)%JHe;t.id=a,e.id=a,n((o=>{t.id=i,e.id=i,o()}))}}var Aue=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},E2=(t,e,n)=>(Aue(t,e,"read from private field"),n?n.call(t):e.get(t)),q1=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},qj=(t,e,n,r)=>(Aue(t,e,"write to private field"),e.set(t,n),n),Wc=(t,e,n)=>(Aue(t,e,"access private method"),n),b2={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},oUe={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function sUe(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var PG=(t,e)=>Object.hasOwnProperty.call(t,e),Ule=class extends TypeError{constructor(e,n){let r,{message:i,explanation:a,...o}=e,{path:s}=e,c=s.length===0?i:`At path: ${s.join(".")} -- ${i}`;super(a??c),a!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function V5(t){return typeof t=="object"&&t!=null}function Hh(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Xkt(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:a}=e,{type:o}=n,{refinement:s,message:c=`Expected a value of type \`${o}\`${s?` with refinement \`${s}\``:""}, but received: \`${Hh(r)}\``}=t;return{value:r,type:o,refinement:s,key:i[i.length-1],path:i,branch:a,...t,message:c}}function*cUe(t,e,n,r){(function(i){return V5(i)&&typeof i[Symbol.iterator]=="function"})(t)||(t=[t]);for(let i of t){let a=Xkt(i,e,n,r);a&&(yield a)}}function*_ue(t,e,n={}){let{path:r=[],branch:i=[t],coerce:a=!1,mask:o=!1}=n,s={path:r,branch:i};if(a&&(t=e.coercer(t,s),o&&e.type!=="type"&&V5(e.schema)&&V5(t)&&!Array.isArray(t)))for(let l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(let l of e.validator(t,s))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,f]of e.entries(t,s)){let d=_ue(u,f,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:a,mask:o,message:n.message});for(let p of d)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):a&&(u=p[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):V5(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(let l of e.refiner(t,s))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}var Qu=class{constructor(e){let{type:n,schema:r,validator:i,refiner:a,coercer:o=(c=>c),entries:s=function*(){}}=e;this.type=n,this.schema=r,this.entries=s,this.coercer=o,this.validator=i?(c,l)=>cUe(i(c,l),l,this,c):()=>[],this.refiner=a?(c,l)=>cUe(a(c,l),l,this,c):()=>[]}assert(e,n){return QHe(e,this,n)}create(e,n){return ZHe(e,this,n)}is(e){return cA(e,this)}mask(e,n){return(function(r,i,a){let o=EN(r,i,{coerce:!0,mask:!0,message:a});if(o[0])throw o[0];return o[1]})(e,this,n)}validate(e,n={}){return EN(e,this,n)}};function QHe(t,e,n){let r=EN(t,e,{message:n});if(r[0])throw r[0]}function ZHe(t,e,n){let r=EN(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function cA(t,e){return!EN(t,e)[0]}function EN(t,e,n={}){let r=_ue(t,e,n),i=(function(a){let{done:o,value:s}=a.next();return o?void 0:s})(r);return i[0]?[new Ule(i[0],(function*(){for(let o of r)o[0]&&(yield o[0])})),void 0]:[void 0,i[1]]}function C2(t,e){return new Qu({type:t,schema:null,validator:e})}function lUe(t){let e;return new Qu({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(e??(e=t()),e.validator(n,r)),coercer:(n,r)=>(e??(e=t()),e.coercer(n,r)),refiner:(n,r)=>(e??(e=t()),e.refiner(n,r))})}function XHe(t){return new Qu({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[n,r]of e.entries())yield[n,r,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Hh(e)}`})}function eze(t){let e=Hh(t),n=typeof t;return new Qu({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${Hh(r)}`})}function tze(){return C2("number",(t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Hh(t)}`))}function nze(t){let e=t?Object.keys(t):[],n=C2("never",(()=>!1));return new Qu({type:"object",schema:t||null,*entries(r){if(t&&V5(r)){let i=new Set(Object.keys(r));for(let a of e)i.delete(a),yield[a,r[a],t[a]];for(let a of i)yield[a,r[a],n]}},validator:r=>V5(r)||`Expected an object, but received: ${Hh(r)}`,coercer:r=>V5(r)?{...r}:r})}function uUe(t){return new Qu({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function rze(t,e){return new Qu({type:"record",schema:null,*entries(n){if(V5(n))for(let r in n){let i=n[r];yield[r,r,t],yield[r,i,e]}},validator:n=>V5(n)||`Expected an object, but received: ${Hh(n)}`})}function I2(){return C2("string",(t=>typeof t=="string"||`Expected a string, but received: ${Hh(t)}`))}function eV(t){let e=t.map((n=>n.type)).join(" | ");return new Qu({type:"union",schema:null,coercer(n){for(let r of t){let[i,a]=r.validate(n,{coerce:!0});if(!i)return a}return n},validator(n,r){let i=[];for(let a of t){let[...o]=_ue(n,a,r),[s]=o;if(!s[0])return[];for(let[c]of o)c&&i.push(c)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Hh(n)}`,...i]}})}function eMt(t){return(function(e){return(function(n){return typeof n=="object"&&n!==null&&"message"in n})(e)&&typeof e.message=="string"?e.message:e==null?"":String(e)})(t).replace(/\.$/u,"")}function tMt(t,e){return n=t,typeof n?.prototype?.constructor?.name=="string"?new t({message:e}):t({message:e});var n}var nMt=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function ize(){throw new Error("setTimeout has not been defined")}function aze(){throw new Error("clearTimeout has not been defined")}var f2=ize,d2=aze;function oze(t){if(f2===setTimeout)return setTimeout(t,0);if((f2===ize||!f2)&&setTimeout)return f2=setTimeout,setTimeout(t,0);try{return f2(t,0)}catch{try{return f2.call(null,t,0)}catch{return f2.call(this,t,0)}}}typeof Qc.setTimeout=="function"&&(f2=setTimeout),typeof Qc.clearTimeout=="function"&&(d2=clearTimeout);var qw,G5=[],tA=!1,iG=-1;function rMt(){tA&&qw&&(tA=!1,qw.length?G5=qw.concat(G5):iG=-1,G5.length&&sze())}function sze(){if(!tA){var t=oze(rMt);tA=!0;for(var e=G5.length;e;){for(qw=G5,G5=[];++iG<e;)qw&&qw[iG].run();iG=-1,e=G5.length}qw=null,tA=!1,(function(n){if(d2===clearTimeout)return clearTimeout(n);if((d2===aze||!d2)&&clearTimeout)return d2=clearTimeout,clearTimeout(n);try{return d2(n)}catch{try{return d2.call(null,n)}catch{return d2.call(this,n)}}})(t)}}function cze(t,e){this.fun=t,this.array=e}cze.prototype.run=function(){this.fun.apply(null,this.array)};function Xw(){}var iMt=Xw,aMt=Xw,oMt=Xw,sMt=Xw,cMt=Xw,lMt=Xw,uMt=Xw,Vx=Qc.performance||{},fMt=Vx.now||Vx.mozNow||Vx.msNow||Vx.oNow||Vx.webkitNow||function(){return new Date().getTime()},dMt=new Date,Hr={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];G5.push(new cze(t,e)),G5.length!==1||tA||oze(sze)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:iMt,addListener:aMt,once:oMt,off:sMt,removeListener:cMt,removeAllListeners:lMt,emit:uMt,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*fMt.call(Vx),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-dMt)/1e3}},xN=t=>nze(t);function fUe({path:t,branch:e}){let n=t[t.length-1];return PG(e[e.length-2],n)}function kG(t){return new Qu({...t,type:`optional ${t.type}`,validator:(e,n)=>!fUe(n)||t.validator(e,n),refiner:(e,n)=>!fUe(n)||t.refiner(e,n)})}var Wj,dUe,pUe,MG=eV([eze(null),C2("boolean",(t=>typeof t=="boolean")),C2("finite number",(t=>cA(t,tze())&&Number.isFinite(t))),I2(),XHe(lUe((()=>MG))),rze(I2(),lUe((()=>MG)))]),AN=(Wj=MG,dUe=C2("any",(()=>!0)),pUe=t=>((function(e,n,r="Assertion failed",i=nMt){try{QHe(e,n)}catch(a){throw tMt(i,`${r}: ${eMt(a)}.`)}})(t,MG),JSON.parse(JSON.stringify(t,((e,n)=>{if(e!=="__proto__"&&e!=="constructor")return n})))),new Qu({...Wj,coercer:(t,e)=>cA(t,dUe)?Wj.coercer(pUe(t,e),e):Wj.coercer(t,e)}));function Fle(t){try{return(function(e){ZHe(e,AN)})(t),!0}catch{return!1}}var sN=eze("2.0"),aG=(function(t){return new Qu({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})})(eV([tze(),I2()])),Hle=xN({code:C2("integer",(t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Hh(t)}`)),message:I2(),data:kG(AN),stack:kG(I2())}),lze=eV([rze(I2(),AN),XHe(AN)]),pMt=xN({id:aG,jsonrpc:sN,method:I2(),params:kG(lze)}),hMt=xN({jsonrpc:sN,method:I2(),params:kG(lze)});function hUe(t){return cA(t,pMt)}function mUe(t){return cA(t,Hle)}nze({id:aG,jsonrpc:sN,result:uUe(C2("unknown",(()=>!0))),error:uUe(Hle)}),eV([xN({id:aG,jsonrpc:sN,result:AN}),xN({id:aG,jsonrpc:sN,error:Hle})]);var yUe=b2.internal,mMt="Unspecified error message. This is a bug, please report it.",yMt={code:yUe,message:uze(yUe)},bMt="Unspecified server error.";function uze(t,e=mMt){if((function(n){return Number.isInteger(n)})(t)){let n=t.toString();if(PG(oUe,n))return oUe[n].message;if((function(r){return r>=-32099&&r<=-32e3})(t))return bMt}return e}function bUe(t,{fallbackError:e=yMt,shouldIncludeStack:n=!0}={}){if(!mUe(e))throw new Error("Must provide fallback error with integer number code and string message.");let r=(function(i,a){if(i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function")return i.serialize();if(mUe(i))return i;let o=fze(i);return{...a,data:{cause:o}}})(t,e);return n||delete r.stack,r}function fze(t){return Array.isArray(t)?t.map((e=>Fle(e)?e:sUe(e)?gUe(e):null)):sUe(t)?gUe(t):Fle(t)?t:null}function gUe(t){return Object.getOwnPropertyNames(t).reduce(((e,n)=>{let r=t[n];return Fle(r)&&(e[n]=r),e}),{})}var dze=nN;nN.default=nN,nN.stable=wUe,nN.stableStringify=wUe;var BG="[...]",pze="[Circular]",Zw=[],Ww=[];function hze(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function nN(t,e,n,r){var i;r===void 0&&(r=hze()),zle(t,"",0,[],void 0,0,r);try{i=Ww.length===0?JSON.stringify(t,e,n):JSON.stringify(t,mze(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zw.length!==0;){var a=Zw.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function nA(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Zw.push([r,n,e,i])):Ww.push([e,n,t]):(r[n]=t,Zw.push([r,n,e]))}function zle(t,e,n,r,i,a,o){var s;if(a+=1,typeof t=="object"&&t!==null){for(s=0;s<r.length;s++)if(r[s]===t)return void nA(pze,t,e,i);if(o.depthLimit!==void 0&&a>o.depthLimit||o.edgesLimit!==void 0&&n+1>o.edgesLimit)return void nA(BG,t,e,i);if(r.push(t),Array.isArray(t))for(s=0;s<t.length;s++)zle(t[s],s,s,r,t,a,o);else{var c=Object.keys(t);for(s=0;s<c.length;s++){var l=c[s];zle(t[l],l,s,r,t,a,o)}}r.pop()}}function gMt(t,e){return t<e?-1:t>e?1:0}function wUe(t,e,n,r){r===void 0&&(r=hze());var i,a=jle(t,"",0,[],void 0,0,r)||t;try{i=Ww.length===0?JSON.stringify(a,e,n):JSON.stringify(a,mze(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zw.length!==0;){var o=Zw.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function jle(t,e,n,r,i,a,o){var s;if(a+=1,typeof t=="object"&&t!==null){for(s=0;s<r.length;s++)if(r[s]===t)return void nA(pze,t,e,i);try{if(typeof t.toJSON=="function")return}catch{return}if(o.depthLimit!==void 0&&a>o.depthLimit||o.edgesLimit!==void 0&&n+1>o.edgesLimit)return void nA(BG,t,e,i);if(r.push(t),Array.isArray(t))for(s=0;s<t.length;s++)jle(t[s],s,s,r,t,a,o);else{var c={},l=Object.keys(t).sort(gMt);for(s=0;s<l.length;s++){var u=l[s];jle(t[u],u,s,r,t,a,o),c[u]=t[u]}if(i===void 0)return c;Zw.push([i,e,t]),i[e]=c}r.pop()}}function mze(t){return t=t!==void 0?t:function(e,n){return n},function(e,n){if(Ww.length>0)for(var r=0;r<Ww.length;r++){var i=Ww[r];if(i[1]===e&&i[0]===n){n=i[2],Ww.splice(r,1);break}}return t.call(this,e,n)}}var wMt=ZG(dze),L5=class extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||typeof e!="string")throw new Error('"message" must be a non-empty string.');super(e),this.code=t,n!==void 0&&(this.data=n)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,(function(e){if(typeof e!="object"||e===null)return!1;try{let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}catch{return!1}})(this.data)&&(t.data.cause=fze(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return wMt(this.serialize(),vMt,2)}};function vMt(t,e){if(e!=="[Circular]")return e}var cN=t=>EMt(b2.invalidRequest,t);function EMt(t,e){let[n,r]=(function(i){if(i){if(typeof i=="string")return[i];if(typeof i=="object"&&!Array.isArray(i)){let{message:a,data:o}=i;if(a&&typeof a!="string")throw new Error("Must specify string message.");return[a??void 0,o]}}return[]})(e);return new L5(t,n??uze(t),r)}var yze={};function p2(){}function ui(){ui.init.call(this)}function bze(t){return t._maxListeners===void 0?ui.defaultMaxListeners:t._maxListeners}function vUe(t,e,n,r){var i,a,o;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if((a=t._events)?(a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]):(a=t._events=new p2,t._eventsCount=0),o){if(typeof o=="function"?o=a[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=bze(t))&&i>0&&o.length>i){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=o.length,(function(c){typeof console.warn=="function"?console.warn(c):console.log(c)})(s)}}else o=a[e]=n,++t._eventsCount;return t}function EUe(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function xUe(t){var e=this._events;if(e){var n=e[t];if(typeof n=="function")return 1;if(n)return n.length}return 0}function XO(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}p2.prototype=Object.create(null),ui.EventEmitter=ui,ui.usingDomains=!1,ui.prototype.domain=void 0,ui.prototype._events=void 0,ui.prototype._maxListeners=void 0,ui.defaultMaxListeners=10,ui.init=function(){this.domain=null,ui.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new p2,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ui.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},ui.prototype.getMaxListeners=function(){return bze(this)},ui.prototype.emit=function(t){var e,n,r,i,a,o,s,c=t==="error";if(o=this._events)c=c&&o.error==null;else if(!c)return!1;if(s=this.domain,c){if(e=arguments[1],!s){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=s,e.domainThrown=!1,s.emit("error",e),!1}if(!(n=o[t]))return!1;var u=typeof n=="function";switch(r=arguments.length){case 1:(function(f,d,p){if(d)f.call(p);else for(var h=f.length,m=XO(f,h),w=0;w<h;++w)m[w].call(p)})(n,u,this);break;case 2:(function(f,d,p,h){if(d)f.call(p,h);else for(var m=f.length,w=XO(f,m),g=0;g<m;++g)w[g].call(p,h)})(n,u,this,arguments[1]);break;case 3:(function(f,d,p,h,m){if(d)f.call(p,h,m);else for(var w=f.length,g=XO(f,w),x=0;x<w;++x)g[x].call(p,h,m)})(n,u,this,arguments[1],arguments[2]);break;case 4:(function(f,d,p,h,m,w){if(d)f.call(p,h,m,w);else for(var g=f.length,x=XO(f,g),C=0;C<g;++C)x[C].call(p,h,m,w)})(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];(function(f,d,p,h){if(d)f.apply(p,h);else for(var m=f.length,w=XO(f,m),g=0;g<m;++g)w[g].apply(p,h)})(n,u,this,i)}return!0},ui.prototype.addListener=function(t,e){return vUe(this,t,e,!1)},ui.prototype.on=ui.prototype.addListener,ui.prototype.prependListener=function(t,e){return vUe(this,t,e,!0)},ui.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,EUe(this,t,e)),this},ui.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,EUe(this,t,e)),this},ui.prototype.removeListener=function(t,e){var n,r,i,a,o;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount==0?this._events=new p2:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,a=n.length;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=n[a].listener,i=a;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new p2,this;delete r[t]}else(function(s,c){for(var l=c,u=l+1,f=s.length;u<f;l+=1,u+=1)s[l]=s[u];s.pop()})(n,i);r.removeListener&&this.emit("removeListener",t,o||e)}return this},ui.prototype.off=function(t,e){return this.removeListener(t,e)},ui.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new p2,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new p2:delete n[t]),this;if(arguments.length===0){for(var r,i=Object.keys(n),a=0;a<i.length;++a)(r=i[a])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new p2,this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},ui.prototype.listeners=function(t){var e,n,r=this._events;return n=r&&(e=r[t])?typeof e=="function"?[e.listener||e]:(function(i){for(var a=new Array(i.length),o=0;o<a.length;++o)a[o]=i[o].listener||i[o];return a})(e):[],n},ui.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):xUe.call(t,e)},ui.prototype.listenerCount=xUe,ui.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Tue=NN(Object.freeze({__proto__:null,EventEmitter:ui,default:ui}));Object.defineProperty(yze,"__esModule",{value:!0});var xMt=Tue;function AUe(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout((()=>{throw r}))}}var AMt=class extends xMt.EventEmitter{emit(t,...e){let n=t==="error",r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){let a;if(e.length>0&&([a]=e),a instanceof Error)throw a;let o=new Error("Unhandled error."+(a?` (${a.message})`:""));throw o.context=a,o}let i=r[t];if(i===void 0)return!1;if(typeof i=="function")AUe(i,this,e);else{let a=i.length,o=(function(s){let c=s.length,l=new Array(c);for(let u=0;u<c;u+=1)l[u]=s[u];return l})(i);for(let s=0;s<a;s+=1)AUe(o[s],this,e)}return!0}},DG,g2,Qx,rN,oG,sG,Gle,cG,Vle,Xce,_Ue,lG,Kle,ele,TUe,lN,LG,tle,SUe,gze=yze.default=AMt,$1=class uG extends gze{constructor({notificationHandler:e}={}){super(),q1(this,rN),q1(this,sG),q1(this,cG),q1(this,DG,!1),q1(this,g2,void 0),q1(this,Qx,void 0),qj(this,g2,[]),qj(this,Qx,e)}destroy(){E2(this,g2).forEach((e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()})),qj(this,g2,[]),qj(this,DG,!0)}push(e){Wc(this,rN,oG).call(this),E2(this,g2).push(e)}handle(e,n){if(Wc(this,rN,oG).call(this),n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?Wc(this,sG,Gle).call(this,e,n):Wc(this,sG,Gle).call(this,e):n?Wc(this,cG,Vle).call(this,e,n):this._promiseHandle(e)}asMiddleware(){return Wc(this,rN,oG).call(this),async(e,n,r,i)=>{var a,o;try{let[s,c,l]=await Wc(a=uG,lG,Kle).call(a,e,n,E2(this,g2));return c?(await Wc(o=uG,lN,LG).call(o,l),i(s)):r((async u=>{var f;try{await Wc(f=uG,lN,LG).call(f,l)}catch(d){return u(d)}return u()}))}catch(s){return i(s)}}}async _promiseHandle(e){return new Promise(((n,r)=>{Wc(this,cG,Vle).call(this,e,((i,a)=>{i&&a===void 0?r(i):n(a)})).catch(r)}))}};DG=new WeakMap,g2=new WeakMap,Qx=new WeakMap,rN=new WeakSet,oG=function(){if(E2(this,DG))throw new Error("This engine is destroyed and can no longer be used.")},sG=new WeakSet,Gle=async function(t,e){try{if(t.length===0){let r=[{id:null,jsonrpc:"2.0",error:new L5(b2.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return e?e(null,r):r}let n=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter((r=>r!==void 0));return e?e(null,n):n}catch(n){if(e)return e(n);throw n}},cG=new WeakSet,Vle=async function(t,e){var n;if(!t||Array.isArray(t)||typeof t!="object"){let o=new L5(b2.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(o,{id:null,jsonrpc:"2.0",error:o})}if(typeof t.method!="string"){let o=new L5(b2.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return E2(this,Qx)&&!hUe(t)?e(null):e(o,{id:t.id??null,jsonrpc:"2.0",error:o})}if(E2(this,Qx)&&cA(t,hMt)&&!hUe(t)){try{await E2(this,Qx).call(this,t)}catch(o){return e(o)}return e(null)}let r=null,i={...t},a={id:i.id,jsonrpc:i.jsonrpc};try{await Wc(n=$1,Xce,_Ue).call(n,i,a,E2(this,g2))}catch(o){r=o}return r&&(delete a.result,a.error||(a.error=bUe(r))),e(r,a)},Xce=new WeakSet,_Ue=async function(t,e,n){var r,i,a;let[o,s,c]=await Wc(r=$1,lG,Kle).call(r,t,e,n);if(Wc(i=$1,tle,SUe).call(i,t,e,s),await Wc(a=$1,lN,LG).call(a,c),o)throw o},lG=new WeakSet,Kle=async function(t,e,n){var r;let i=[],a=null,o=!1;for(let s of n)if([a,o]=await Wc(r=$1,ele,TUe).call(r,t,e,s,i),o)break;return[a,o,i.reverse()]},ele=new WeakSet,TUe=async function(t,e,n,r){return new Promise((i=>{let a=s=>{let c=s||e.error;c&&(e.error=bUe(c)),i([c,!0])},o=s=>{e.error?a(e.error):(s&&(typeof s!="function"&&a(new L5(b2.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof s}" for request:
${nle(t)}`,{request:t})),r.push(s)),i([null,!1]))};try{n(t,e,o,a)}catch(s){a(s)}}))},lN=new WeakSet,LG=async function(t){for(let e of t)await new Promise(((n,r)=>{e((i=>i?r(i):n()))}))},tle=new WeakSet,SUe=function(t,e,n){if(!PG(e,"result")&&!PG(e,"error"))throw new L5(b2.internal,`JsonRpcEngine: Response has no error or result for request:
${nle(t)}`,{request:t});if(!n)throw new L5(b2.internal,`JsonRpcEngine: Nothing ended request:
${nle(t)}`,{request:t})},q1($1,Xce),q1($1,lG),q1($1,ele),q1($1,lN),q1($1,tle);var _Mt=$1;function nle(t){return JSON.stringify(t,null,2)}var wze=Object.freeze(["eth_subscription"]),TMt=(t=console)=>[Zkt(),SMt(t),Qkt(t)];function SMt(t){return(e,n,r)=>{typeof e.method=="string"&&e.method||(n.error=cN({message:"The request 'method' must be a non-empty string.",data:e})),r((i=>{let{error:a}=n;return a&&t.error(`MetaMask - RPC Error: ${a.message}`,a),i()}))}}var fG=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)},vze=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),Eze=()=>{};async function CUe(t,e){try{let n=await(async function(){return{name:CMt(window),icon:await IMt(window)}})();t.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:n},Eze)}catch(n){e.error({message:no.errors.sendSiteMetadata(),originalError:n})}}function CMt(t){let{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;let r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function IMt(t){let{document:e}=t,n=e.querySelectorAll('head > link[rel~="icon"]');for(let r of Array.from(n))if(r&&await RMt(r.href))return r.href;return null}async function RMt(t){return new Promise(((e,n)=>{try{let r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}}))}var xze=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Mh=(t,e,n)=>(xze(t,e,"read from private field"),n?n.call(t):e.get(t)),$le=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},U5=(t,e,n,r)=>(xze(t,e,"write to private field"),e.set(t,n),n);function IUe(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout((()=>{throw r}))}}var qle=class extends ui{emit(e,...n){let r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;let s=new Error("Unhandled error."+(o?` (${o.message})`:""));throw s.context=o,s}let a=i[e];if(a===void 0)return!1;if(typeof a=="function")IUe(a,this,n);else{let o=a.length,s=(function(c){let l=c.length,u=new Array(l);for(let f=0;f<l;f+=1)u[f]=c[f];return u})(a);for(let c=0;c<o;c+=1)IUe(s[c],this,n)}return!0}},h2,Gw,OMt=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(a=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!=0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!=e&&n!=n},NMt=ZG(OMt),Aze=class _ze extends qle{constructor({logger:e=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),$le(this,h2,void 0),$le(this,Gw,void 0),this._log=e,this.setMaxListeners(n),this._state={..._ze._defaultState},U5(this,Gw,null),U5(this,h2,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);let i=new _Mt;r.forEach((a=>i.push(a))),this._rpcEngine=i}get chainId(){return Mh(this,h2)}get selectedAddress(){return Mh(this,Gw)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw cN({message:no.errors.invalidRequestArgs(),data:e});let{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw cN({message:no.errors.invalidRequestMethod(),data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw cN({message:no.errors.invalidRequestParams(),data:e});let i=r==null?{method:n}:{method:n,params:r};return new Promise(((a,o)=>{this._rpcRequest(i,fG(a,o))}))}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){let{accounts:n,chainId:r,isUnlocked:i,networkVersion:a}=e;this._handleConnect(r),this._handleChainChanged({chainId:r,networkVersion:a}),this._handleUnlockStateChanged({accounts:n,isUnlocked:i}),this._handleAccountsChanged(n)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,n){let r=n;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),e.method!=="eth_accounts"&&e.method!=="eth_requestAccounts"||(r=(i,a)=>{this._handleAccountsChanged(a.result??[],e.method==="eth_accounts"),n(i,a)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(no.info.connected(e)))}_handleDisconnect(e,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new L5(1013,n??no.errors.disconnected()),this._log.debug(r)):(r=new L5(1011,n??no.errors.permanentlyDisconnected()),this._log.error(r),U5(this,h2,null),this._state.accounts=null,U5(this,Gw,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleChainChanged({chainId:e}={}){vze(e)?(this._handleConnect(e),e!==Mh(this,h2)&&(U5(this,h2,e),this._state.initialized&&this.emit("chainChanged",Mh(this,h2)))):this._log.error(no.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,n=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(let i of e)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}if(!NMt(this._state.accounts,r)&&(n&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,Mh(this,Gw)!==r[0]&&U5(this,Gw,r[0]||null),this._state.initialized)){let i=[...r];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:n}={}){typeof n=="boolean"?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};h2=new WeakMap,Gw=new WeakMap,Aze._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var RUe,OUe,PMt=Aze,Wle={exports:{}};function Tze(){return OUe?RUe:(OUe=1,RUe=Tue.EventEmitter)}var Sue,Cue=NN(tkt);Sue=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var Sze=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},kMt=/%[sdj%]/g;function tV(t){if(!_N(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(Uh(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(kMt,(function(s){if(s==="%%")return"%";if(n>=i)return s;switch(s){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return s}})),o=r[n];n<i;o=r[++n])kN(o)||!ev(o)?a+=" "+o:a+=" "+Uh(o);return a}function Iue(t,e){if(Dh(Qc.process))return function(){return Iue(t,e).apply(this,arguments)};if(Hr.noDeprecation===!0)return t;var n=!1;return function(){if(!n){if(Hr.throwDeprecation)throw new Error(e);Hr.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var rle,Yj={};function Cze(t){return Dh(rle)&&(rle=Hr.env.NODE_DEBUG||""),t=t.toUpperCase(),!Yj[t]&&(new RegExp("\\b"+t+"\\b","i").test(rle)?Yj[t]=function(){var e=tV.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:Yj[t]=function(){}),Yj[t]}function Uh(t,e){var n={seen:[],stylize:BMt};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),nV(e)?n.showHidden=e:e&&Pue(n,e),Dh(n.showHidden)&&(n.showHidden=!1),Dh(n.depth)&&(n.depth=2),Dh(n.colors)&&(n.colors=!1),Dh(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=MMt),UG(n,t,n.depth)}function MMt(t,e){var n=Uh.styles[e];return n?"\x1B["+Uh.colors[n][0]+"m"+t+"\x1B["+Uh.colors[n][1]+"m":t}function BMt(t,e){return t}function UG(t,e,n){if(t.customInspect&&e&&dN(e.inspect)&&e.inspect!==Uh&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return _N(r)||(r=UG(t,r,n)),r}var i=(function(d,p){if(Dh(p))return d.stylize("undefined","undefined");if(_N(p)){var h="'"+JSON.stringify(p).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return d.stylize(h,"string")}if(Oue(p))return d.stylize(""+p,"number");if(nV(p))return d.stylize(""+p,"boolean");if(kN(p))return d.stylize("null","null")})(t,e);if(i)return i;var a=Object.keys(e),o=(function(d){var p={};return d.forEach((function(h,m){p[h]=!0})),p})(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),fN(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return ile(e);if(a.length===0){if(dN(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(uN(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(FG(e))return t.stylize(Date.prototype.toString.call(e),"date");if(fN(e))return ile(e)}var c,l="",u=!1,f=["{","}"];return Rue(e)&&(u=!0,f=["[","]"]),dN(e)&&(l=" [Function"+(e.name?": "+e.name:"")+"]"),uN(e)&&(l=" "+RegExp.prototype.toString.call(e)),FG(e)&&(l=" "+Date.prototype.toUTCString.call(e)),fN(e)&&(l=" "+ile(e)),a.length!==0||u&&e.length!=0?n<0?uN(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=u?(function(d,p,h,m,w){for(var g=[],x=0,C=p.length;x<C;++x)kze(p,String(x))?g.push(ale(d,p,h,m,String(x),!0)):g.push("");return w.forEach((function(P){P.match(/^\d+$/)||g.push(ale(d,p,h,m,P,!0))})),g})(t,e,n,o,a):a.map((function(d){return ale(t,e,n,o,d,u)})),t.seen.pop(),(function(d,p,h){var m=d.reduce((function(w,g){return g.indexOf(`
`),w+g.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return m>60?h[0]+(p===""?"":p+`
 `)+" "+d.join(`,
  `)+" "+h[1]:h[0]+p+" "+d.join(", ")+" "+h[1]})(c,l,f)):f[0]+l+f[1]}function ile(t){return"["+Error.prototype.toString.call(t)+"]"}function ale(t,e,n,r,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),kze(r,i)||(o="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=kN(n)?UG(t,c.value,null):UG(t,c.value,n-1)).indexOf(`
`)>-1&&(s=a?s.split(`
`).map((function(l){return"  "+l})).join(`
`).substr(2):`
`+s.split(`
`).map((function(l){return"   "+l})).join(`
`)):s=t.stylize("[Circular]","special")),Dh(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function Rue(t){return Array.isArray(t)}function nV(t){return typeof t=="boolean"}function kN(t){return t===null}function Ize(t){return t==null}function Oue(t){return typeof t=="number"}function _N(t){return typeof t=="string"}function Rze(t){return typeof t=="symbol"}function Dh(t){return t===void 0}function uN(t){return ev(t)&&Nue(t)==="[object RegExp]"}function ev(t){return typeof t=="object"&&t!==null}function FG(t){return ev(t)&&Nue(t)==="[object Date]"}function fN(t){return ev(t)&&(Nue(t)==="[object Error]"||t instanceof Error)}function dN(t){return typeof t=="function"}function Oze(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function Nze(t){return Ne.isBuffer(t)}function Nue(t){return Object.prototype.toString.call(t)}function ole(t){return t<10?"0"+t.toString(10):t.toString(10)}Uh.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Uh.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var DMt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Pze(){var t,e;console.log("%s - %s",(t=new Date,e=[ole(t.getHours()),ole(t.getMinutes()),ole(t.getSeconds())].join(":"),[t.getDate(),DMt[t.getMonth()],e].join(" ")),tV.apply(null,arguments))}function Pue(t,e){if(!e||!ev(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function kze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Vw=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function kue(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(Vw&&t[Vw]){var e;if(typeof(e=t[Vw])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,Vw,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var n,r,i=new Promise((function(s,c){n=s,r=c})),a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);a.push((function(s,c){s?r(s):n(c)}));try{t.apply(this,a)}catch(s){r(s)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Vw&&Object.defineProperty(e,Vw,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,Sze(t))}function LMt(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function Mze(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,n).then((function(s){Hr.nextTick(o.bind(null,null,s))}),(function(s){Hr.nextTick(LMt.bind(null,s,o))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Sze(t)),e}kue.custom=Vw;var sle,NUe,cle,PUe,UMt={inherits:Sue,_extend:Pue,log:Pze,isBuffer:Nze,isPrimitive:Oze,isFunction:dN,isError:fN,isDate:FG,isObject:ev,isRegExp:uN,isUndefined:Dh,isSymbol:Rze,isString:_N,isNumber:Oue,isNullOrUndefined:Ize,isNull:kN,isBoolean:nV,isArray:Rue,inspect:Uh,deprecate:Iue,format:tV,debuglog:Cze,promisify:kue,callbackify:Mze},Bze=NN(Object.freeze({__proto__:null,_extend:Pue,callbackify:Mze,debuglog:Cze,default:UMt,deprecate:Iue,format:tV,inherits:Sue,inspect:Uh,isArray:Rue,isBoolean:nV,isBuffer:Nze,isDate:FG,isError:fN,isFunction:dN,isNull:kN,isNullOrUndefined:Ize,isNumber:Oue,isObject:ev,isPrimitive:Oze,isRegExp:uN,isString:_N,isSymbol:Rze,isUndefined:Dh,log:Pze,promisify:kue}));function FMt(){if(NUe)return sle;function t(c,l){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);l&&(f=f.filter((function(d){return Object.getOwnPropertyDescriptor(c,d).enumerable}))),u.push.apply(u,f)}return u}function e(c){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?t(Object(u),!0).forEach((function(f){n(c,f,u[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach((function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(u,f))}))}return c}function n(c,l,u){return(l=i(l))in c?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u,c}function r(c,l,u){return l&&(function(f,d){for(var p=0;p<d.length;p++){var h=d[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,i(h.key),h)}})(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var l=(function(u,f){if(typeof u!="object"||u===null)return u;var d=u[Symbol.toPrimitive];if(d!==void 0){var p=d.call(u,f||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(u)})(c,"string");return typeof l=="symbol"?l:String(l)}NUe=1;var a=Cue.Buffer,o=Bze.inspect,s=o&&o.custom||"inspect";return sle=(function(){function c(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return r(c,[{key:"push",value:function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var u=this.head,f=""+u.data;u=u.next;)f+=l+u.data;return f}},{key:"concat",value:function(l){if(this.length===0)return a.alloc(0);for(var u,f,d,p=a.allocUnsafe(l>>>0),h=this.head,m=0;h;)u=h.data,f=p,d=m,a.prototype.copy.call(u,f,d),m+=h.data.length,h=h.next;return p}},{key:"consume",value:function(l,u){var f;return l<this.head.data.length?(f=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):f=l===this.head.data.length?this.shift():u?this._getString(l):this._getBuffer(l),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var u=this.head,f=1,d=u.data;for(l-=d.length;u=u.next;){var p=u.data,h=l>p.length?p.length:l;if(h===p.length?d+=p:d+=p.slice(0,l),(l-=h)===0){h===p.length?(++f,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=p.slice(h));break}++f}return this.length-=f,d}},{key:"_getBuffer",value:function(l){var u=a.allocUnsafe(l),f=this.head,d=1;for(f.data.copy(u),l-=f.data.length;f=f.next;){var p=f.data,h=l>p.length?p.length:l;if(p.copy(u,u.length-l,0,h),(l-=h)===0){h===p.length?(++d,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=p.slice(h));break}++d}return this.length-=d,u}},{key:s,value:function(l,u){return o(this,e(e({},u),{},{depth:0,customInspect:!1}))}}]),c})(),sle}function Dze(){if(PUe)return cle;function t(r,i){n(r,i),e(r)}function e(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function n(r,i){r.emit("error",i)}return PUe=1,cle={destroy:function(r,i){var a=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Hr.nextTick(n,this,r)):Hr.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(c){!i&&c?a._writableState?a._writableState.errorEmitted?Hr.nextTick(e,a):(a._writableState.errorEmitted=!0,Hr.nextTick(t,a,c)):Hr.nextTick(t,a,c):i?(Hr.nextTick(e,a),i(c)):Hr.nextTick(e,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,i){var a=r._readableState,o=r._writableState;a&&a.autoDestroy||o&&o.autoDestroy?r.destroy(i):r.emit("error",i)}},cle}var tv={},kUe,MUe,Lze={};function bd(t,e,n){n||(n=Error);var r=(function(i){var a,o;function s(c,l,u){return i.call(this,(function(f,d,p){return typeof e=="string"?e:e(f,d,p)})(c,l,u))||this}return o=i,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,s})(n);r.prototype.name=n.name,r.prototype.code=t,Lze[t]=r}function BUe(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(r){return String(r)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function Uze(){if(MUe)return kUe;MUe=1;var t=tv.codes.ERR_INVALID_OPT_VALUE;return kUe={getHighWaterMark:function(e,n,r,i){var a=(function(o,s,c){return o.highWaterMark!=null?o.highWaterMark:s?o[c]:null})(n,i,r);if(a!=null){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new t(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}}bd("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),bd("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,a;if(typeof e=="string"&&(i="not ",e.substr(0,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",(function(s,c,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-c.length,l)===c})(t," argument"))a="The ".concat(t," ").concat(r," ").concat(BUe(e,"type"));else{var o=(function(s,c,l){return typeof l!="number"&&(l=0),!(l+c.length>s.length)&&s.indexOf(c,l)!==-1})(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(o," ").concat(r," ").concat(BUe(e,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),bd("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),bd("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),bd("ERR_STREAM_PREMATURE_CLOSE","Premature close"),bd("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),bd("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),bd("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),bd("ERR_STREAM_WRITE_AFTER_END","write after end"),bd("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),bd("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),bd("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),tv.codes=Lze;var lle,DUe,ule,LUe,fle,UUe,HMt=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},MN=NN(Object.freeze({__proto__:null,default:HMt}));function zMt(){if(DUe)return lle;function t(e){try{if(!_d.localStorage)return!1}catch{return!1}var n=_d.localStorage[e];return n!=null&&String(n).toLowerCase()==="true"}return DUe=1,lle=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}},lle}function Fze(){if(LUe)return ule;function t(I){var S=this;this.next=null,this.entry=null,this.finish=function(){(function(y,b,_){var A=y.entry;for(y.entry=null;A;){var T=A.callback;b.pendingcb--,T(_),A=A.next}b.corkedRequestsFree.next=y})(S,I)}}var e;LUe=1,ule=D,D.WritableState=P;var n={deprecate:zMt()},r=Tze(),i=Cue.Buffer,a=(_d!==void 0?_d:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,s=Dze(),c=Uze().getHighWaterMark,l=tv.codes,u=l.ERR_INVALID_ARG_TYPE,f=l.ERR_METHOD_NOT_IMPLEMENTED,d=l.ERR_MULTIPLE_CALLBACK,p=l.ERR_STREAM_CANNOT_PIPE,h=l.ERR_STREAM_DESTROYED,m=l.ERR_STREAM_NULL_VALUES,w=l.ERR_STREAM_WRITE_AFTER_END,g=l.ERR_UNKNOWN_ENCODING,x=s.errorOrDestroy;function C(){}function P(I,S,y){e=e||aA(),I=I||{},typeof y!="boolean"&&(y=S instanceof e),this.objectMode=!!I.objectMode,y&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=c(this,I,"writableHighWaterMark",y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var b=I.decodeStrings===!1;this.decodeStrings=!b,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){(function(A,T){var E=A._writableState,k=E.sync,L=E.writecb;if(typeof L!="function")throw new d;if((function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0})(E),T)(function(U,j,z,V,$){--j.pendingcb,z?(Hr.nextTick($,V),Hr.nextTick(v,U,j),U._writableState.errorEmitted=!0,x(U,V)):($(V),U._writableState.errorEmitted=!0,x(U,V),v(U,j))})(A,E,k,T,L);else{var R=M(E)||A.destroyed;R||E.corked||E.bufferProcessing||!E.bufferedRequest||O(A,E),k?Hr.nextTick(H,A,E,R,L):H(A,E,R,L)}})(S,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function D(I){var S=this instanceof(e=e||aA());if(!S&&!o.call(D,this))return new D(I);this._writableState=new P(I,this,S),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),r.call(this)}function F(I,S,y,b,_,A,T){S.writelen=b,S.writecb=T,S.writing=!0,S.sync=!0,S.destroyed?S.onwrite(new h("write")):y?I._writev(_,S.onwrite):I._write(_,A,S.onwrite),S.sync=!1}function H(I,S,y,b){y||(function(_,A){A.length===0&&A.needDrain&&(A.needDrain=!1,_.emit("drain"))})(I,S),S.pendingcb--,b(),v(I,S)}function O(I,S){S.bufferProcessing=!0;var y=S.bufferedRequest;if(I._writev&&y&&y.next){var b=S.bufferedRequestCount,_=new Array(b),A=S.corkedRequestsFree;A.entry=y;for(var T=0,E=!0;y;)_[T]=y,y.isBuf||(E=!1),y=y.next,T+=1;_.allBuffers=E,F(I,S,!0,S.length,_,"",A.finish),S.pendingcb++,S.lastBufferedRequest=null,A.next?(S.corkedRequestsFree=A.next,A.next=null):S.corkedRequestsFree=new t(S),S.bufferedRequestCount=0}else{for(;y;){var k=y.chunk,L=y.encoding,R=y.callback;if(F(I,S,!1,S.objectMode?1:k.length,k,L,R),y=y.next,S.bufferedRequestCount--,S.writing)break}y===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=y,S.bufferProcessing=!1}function M(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function N(I,S){I._final((function(y){S.pendingcb--,y&&x(I,y),S.prefinished=!0,I.emit("prefinish"),v(I,S)}))}function v(I,S){var y=M(S);if(y&&((function(_,A){A.prefinished||A.finalCalled||(typeof _._final!="function"||A.destroyed?(A.prefinished=!0,_.emit("prefinish")):(A.pendingcb++,A.finalCalled=!0,Hr.nextTick(N,_,A)))})(I,S),S.pendingcb===0&&(S.finished=!0,I.emit("finish"),S.autoDestroy))){var b=I._readableState;(!b||b.autoDestroy&&b.endEmitted)&&I.destroy()}return y}return MN(D,r),P.prototype.getBuffer=function(){for(var I=this.bufferedRequest,S=[];I;)S.push(I),I=I.next;return S},(function(){try{Object.defineProperty(P.prototype,"buffer",{get:n.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(I){return!!o.call(this,I)||this===D&&I&&I._writableState instanceof P}})):o=function(I){return I instanceof this},D.prototype.pipe=function(){x(this,new p)},D.prototype.write=function(I,S,y){var b,_=this._writableState,A=!1,T=!_.objectMode&&(b=I,i.isBuffer(b)||b instanceof a);return T&&!i.isBuffer(I)&&(I=(function(E){return i.from(E)})(I)),typeof S=="function"&&(y=S,S=null),T?S="buffer":S||(S=_.defaultEncoding),typeof y!="function"&&(y=C),_.ending?(function(E,k){var L=new w;x(E,L),Hr.nextTick(k,L)})(this,y):(T||(function(E,k,L,R){var U;return L===null?U=new m:typeof L=="string"||k.objectMode||(U=new u("chunk",["string","Buffer"],L)),!U||(x(E,U),Hr.nextTick(R,U),!1)})(this,_,I,y))&&(_.pendingcb++,A=(function(E,k,L,R,U,j){if(!L){var z=(function(J,X,te){return J.objectMode||J.decodeStrings===!1||typeof X!="string"||(X=i.from(X,te)),X})(k,R,U);R!==z&&(L=!0,U="buffer",R=z)}var V=k.objectMode?1:R.length;k.length+=V;var $=k.length<k.highWaterMark;if($||(k.needDrain=!0),k.writing||k.corked){var W=k.lastBufferedRequest;k.lastBufferedRequest={chunk:R,encoding:U,isBuf:L,callback:j,next:null},W?W.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else F(E,k,!1,V,R,U,j);return $})(this,_,T,I,S,y)),A},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||O(this,I))},D.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new g(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(I,S,y){y(new f("_write()"))},D.prototype._writev=null,D.prototype.end=function(I,S,y){var b=this._writableState;return typeof I=="function"?(y=I,I=null,S=null):typeof S=="function"&&(y=S,S=null),I!=null&&this.write(I,S),b.corked&&(b.corked=1,this.uncork()),b.ending||(function(_,A,T){A.ending=!0,v(_,A),T&&(A.finished?Hr.nextTick(T):_.once("finish",T)),A.ended=!0,_.writable=!1})(this,b,y),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),D.prototype.destroy=s.destroy,D.prototype._undestroy=s.undestroy,D.prototype._destroy=function(I,S){S(I)},ule}function aA(){if(UUe)return fle;UUe=1;var t=Object.keys||function(l){var u=[];for(var f in l)u.push(f);return u};fle=o;var e=Hze(),n=Fze();MN(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var a=r[i];o.prototype[a]||(o.prototype[a]=n.prototype[a])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||Hr.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),fle}var jMt=Ne.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function dG(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),(function(e){if(e&&!jMt(e))throw new Error("Unknown encoding: "+e)})(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=VMt;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=KMt;break;default:return void(this.write=GMt)}this.charBuffer=new Ne(6),this.charReceived=0,this.charLength=0}function GMt(t){return t.toString(this.encoding)}function VMt(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function KMt(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}dG.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;if(r=(e+=t.toString(this.encoding,0,r)).length-1,(i=e.charCodeAt(r))>=55296&&i<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),t.copy(this.charBuffer,0,0,a),e.substring(0,r)}return e},dG.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},dG.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};var FUe=NN(Object.freeze({__proto__:null,StringDecoder:dG})),HUe=tv.codes.ERR_STREAM_PREMATURE_CLOSE;function $Mt(){}var dle,zUe,jUe,GUe,ple,VUe,Mue=function t(e,n,r){if(typeof n=="function")return t(e,null,n);n||(n={}),r=(function(h){var m=!1;return function(){if(!m){m=!0;for(var w=arguments.length,g=new Array(w),x=0;x<w;x++)g[x]=arguments[x];h.apply(this,g)}}})(r||$Mt);var i=n.readable||n.readable!==!1&&e.readable,a=n.writable||n.writable!==!1&&e.writable,o=function(){e.writable||c()},s=e._writableState&&e._writableState.finished,c=function(){a=!1,s=!0,i||r.call(e)},l=e._readableState&&e._readableState.endEmitted,u=function(){i=!1,l=!0,a||r.call(e)},f=function(h){r.call(e,h)},d=function(){var h;return i&&!l?(e._readableState&&e._readableState.ended||(h=new HUe),r.call(e,h)):a&&!s?(e._writableState&&e._writableState.ended||(h=new HUe),r.call(e,h)):void 0},p=function(){e.req.on("finish",c)};return(function(h){return h.setHeader&&typeof h.abort=="function"})(e)?(e.on("complete",c),e.on("abort",d),e.req?p():e.on("request",p)):a&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",u),e.on("finish",c),n.error!==!1&&e.on("error",f),e.on("close",d),function(){e.removeListener("complete",c),e.removeListener("abort",d),e.removeListener("request",p),e.req&&e.req.removeListener("finish",c),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",c),e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",d)}};function qMt(){if(zUe)return dle;var t;function e(m,w,g){return(w=(function(x){var C=(function(P,D){if(typeof P!="object"||P===null)return P;var F=P[Symbol.toPrimitive];if(F!==void 0){var H=F.call(P,D||"default");if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(P)})(x,"string");return typeof C=="symbol"?C:String(C)})(w))in m?Object.defineProperty(m,w,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[w]=g,m}zUe=1;var n=Mue,r=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),o=Symbol("ended"),s=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(m,w){return{value:m,done:w}}function f(m){var w=m[r];if(w!==null){var g=m[l].read();g!==null&&(m[s]=null,m[r]=null,m[i]=null,w(u(g,!1)))}}function d(m){Hr.nextTick(f,m)}var p=Object.getPrototypeOf((function(){})),h=Object.setPrototypeOf((e(t={get stream(){return this[l]},next:function(){var m=this,w=this[a];if(w!==null)return Promise.reject(w);if(this[o])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise((function(P,D){Hr.nextTick((function(){m[a]?D(m[a]):P(u(void 0,!0))}))}));var g,x=this[s];if(x)g=new Promise((function(P,D){return function(F,H){P.then((function(){D[o]?F(u(void 0,!0)):D[c](F,H)}),H)}})(x,this));else{var C=this[l].read();if(C!==null)return Promise.resolve(u(C,!1));g=new Promise(this[c])}return this[s]=g,g}},Symbol.asyncIterator,(function(){return this})),e(t,"return",(function(){var m=this;return new Promise((function(w,g){m[l].destroy(null,(function(x){x?g(x):w(u(void 0,!0))}))}))})),t),p);return dle=function(m){var w,g=Object.create(h,(e(w={},l,{value:m,writable:!0}),e(w,r,{value:null,writable:!0}),e(w,i,{value:null,writable:!0}),e(w,a,{value:null,writable:!0}),e(w,o,{value:m._readableState.endEmitted,writable:!0}),e(w,c,{value:function(x,C){var P=g[l].read();P?(g[s]=null,g[r]=null,g[i]=null,x(u(P,!1))):(g[r]=x,g[i]=C)},writable:!0}),w));return g[s]=null,n(m,(function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=g[i];return C!==null&&(g[s]=null,g[r]=null,g[i]=null,C(x)),void(g[a]=x)}var P=g[r];P!==null&&(g[s]=null,g[r]=null,g[i]=null,P(u(void 0,!0))),g[o]=!0})),m.on("readable",d.bind(null,g)),g},dle}function Hze(){if(VUe)return ple;var t;VUe=1,ple=D,D.ReadableState=P,Tue.EventEmitter;var e=function(R,U){return R.listeners(U).length},n=Tze(),r=Cue.Buffer,i=(_d!==void 0?_d:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a,o=Bze;a=o&&o.debuglog?o.debuglog("stream"):function(){};var s,c,l,u=FMt(),f=Dze(),d=Uze().getHighWaterMark,p=tv.codes,h=p.ERR_INVALID_ARG_TYPE,m=p.ERR_STREAM_PUSH_AFTER_EOF,w=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;MN(D,n);var x=f.errorOrDestroy,C=["error","close","destroy","pause","resume"];function P(R,U,j){t=t||aA(),R=R||{},typeof j!="boolean"&&(j=U instanceof t),this.objectMode=!!R.objectMode,j&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=d(this,R,"readableHighWaterMark",j),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(s||(s=FUe.StringDecoder),this.decoder=new s(R.encoding),this.encoding=R.encoding)}function D(R){if(t=t||aA(),!(this instanceof D))return new D(R);var U=this instanceof t;this._readableState=new P(R,this,U),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}function F(R,U,j,z,V){a("readableAddChunk",U);var $,W=R._readableState;if(U===null)W.reading=!1,(function(J,X){if(a("onEofChunk"),!X.ended){if(X.decoder){var te=X.decoder.end();te&&te.length&&(X.buffer.push(te),X.length+=X.objectMode?1:te.length)}X.ended=!0,X.sync?N(J):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,v(J)))}})(R,W);else if(V||($=(function(J,X){var te;ne=X,r.isBuffer(ne)||ne instanceof i||typeof X=="string"||X===void 0||J.objectMode||(te=new h("chunk",["string","Buffer","Uint8Array"],X));var ne;return te})(W,U)),$)x(R,$);else if(W.objectMode||U&&U.length>0)if(typeof U=="string"||W.objectMode||Object.getPrototypeOf(U)===r.prototype||(U=(function(J){return r.from(J)})(U)),z)W.endEmitted?x(R,new g):H(R,W,U,!0);else if(W.ended)x(R,new m);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!j?(U=W.decoder.write(U),W.objectMode||U.length!==0?H(R,W,U,!1):I(R,W)):H(R,W,U,!1)}else z||(W.reading=!1,I(R,W));return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function H(R,U,j,z){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,R.emit("data",j)):(U.length+=U.objectMode?1:j.length,z?U.buffer.unshift(j):U.buffer.push(j),U.needReadable&&N(R)),I(R,U)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(R,U){U(R)},D.prototype.push=function(R,U){var j,z=this._readableState;return z.objectMode?j=!0:typeof R=="string"&&((U=U||z.defaultEncoding)!==z.encoding&&(R=r.from(R,U),U=""),j=!0),F(this,R,U,!1,j)},D.prototype.unshift=function(R){return F(this,R,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(R){s||(s=FUe.StringDecoder);var U=new s(R);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var j=this._readableState.buffer.head,z="";j!==null;)z+=U.write(j.data),j=j.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var O=1073741824;function M(R,U){return R<=0||U.length===0&&U.ended?0:U.objectMode?1:R!=R?U.flowing&&U.length?U.buffer.head.data.length:U.length:(R>U.highWaterMark&&(U.highWaterMark=(function(j){return j>=O?j=O:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j})(R)),R<=U.length?R:U.ended?U.length:(U.needReadable=!0,0))}function N(R){var U=R._readableState;a("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(a("emitReadable",U.flowing),U.emittedReadable=!0,Hr.nextTick(v,R))}function v(R){var U=R._readableState;a("emitReadable_",U.destroyed,U.length,U.ended),U.destroyed||!U.length&&!U.ended||(R.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,A(R)}function I(R,U){U.readingMore||(U.readingMore=!0,Hr.nextTick(S,R,U))}function S(R,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var j=U.length;if(a("maybeReadMore read 0"),R.read(0),j===U.length)break}U.readingMore=!1}function y(R){var U=R._readableState;U.readableListening=R.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:R.listenerCount("data")>0&&R.resume()}function b(R){a("readable nexttick read 0"),R.read(0)}function _(R,U){a("resume",U.reading),U.reading||R.read(0),U.resumeScheduled=!1,R.emit("resume"),A(R),U.flowing&&!U.reading&&R.read(0)}function A(R){var U=R._readableState;for(a("flow",U.flowing);U.flowing&&R.read()!==null;);}function T(R,U){return U.length===0?null:(U.objectMode?j=U.buffer.shift():!R||R>=U.length?(j=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):j=U.buffer.consume(R,U.decoder),j);var j}function E(R){var U=R._readableState;a("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,Hr.nextTick(k,U,R))}function k(R,U){if(a("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,U.readable=!1,U.emit("end"),R.autoDestroy)){var j=U._writableState;(!j||j.autoDestroy&&j.finished)&&U.destroy()}}function L(R,U){for(var j=0,z=R.length;j<z;j++)if(R[j]===U)return j;return-1}return D.prototype.read=function(R){a("read",R),R=parseInt(R,10);var U=this._readableState,j=R;if(R!==0&&(U.emittedReadable=!1),R===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return a("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?E(this):N(this),null;if((R=M(R,U))===0&&U.ended)return U.length===0&&E(this),null;var z,V=U.needReadable;return a("need readable",V),(U.length===0||U.length-R<U.highWaterMark)&&a("length less than watermark",V=!0),U.ended||U.reading?a("reading or ended",V=!1):V&&(a("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(R=M(j,U))),(z=R>0?T(R,U):null)===null?(U.needReadable=U.length<=U.highWaterMark,R=0):(U.length-=R,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),j!==R&&U.ended&&E(this)),z!==null&&this.emit("data",z),z},D.prototype._read=function(R){x(this,new w("_read()"))},D.prototype.pipe=function(R,U){var j=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=R;break;case 1:z.pipes=[z.pipes,R];break;default:z.pipes.push(R)}z.pipesCount+=1,a("pipe count=%d opts=%j",z.pipesCount,U);var V=(!U||U.end!==!1)&&R!==Hr.stdout&&R!==Hr.stderr?W:oe;function $(xe,ye){a("onunpipe"),xe===j&&ye&&ye.hasUnpiped===!1&&(ye.hasUnpiped=!0,a("cleanup"),R.removeListener("close",ue),R.removeListener("finish",ce),R.removeListener("drain",J),R.removeListener("error",ne),R.removeListener("unpipe",$),j.removeListener("end",W),j.removeListener("end",oe),j.removeListener("data",te),X=!0,!z.awaitDrain||R._writableState&&!R._writableState.needDrain||J())}function W(){a("onend"),R.end()}z.endEmitted?Hr.nextTick(V):j.once("end",V),R.on("unpipe",$);var J=(function(xe){return function(){var ye=xe._readableState;a("pipeOnDrain",ye.awaitDrain),ye.awaitDrain&&ye.awaitDrain--,ye.awaitDrain===0&&e(xe,"data")&&(ye.flowing=!0,A(xe))}})(j);R.on("drain",J);var X=!1;function te(xe){a("ondata");var ye=R.write(xe);a("dest.write",ye),ye===!1&&((z.pipesCount===1&&z.pipes===R||z.pipesCount>1&&L(z.pipes,R)!==-1)&&!X&&(a("false write response, pause",z.awaitDrain),z.awaitDrain++),j.pause())}function ne(xe){a("onerror",xe),oe(),R.removeListener("error",ne),e(R,"error")===0&&x(R,xe)}function ue(){R.removeListener("finish",ce),oe()}function ce(){a("onfinish"),R.removeListener("close",ue),oe()}function oe(){a("unpipe"),j.unpipe(R)}return j.on("data",te),(function(xe,ye,Se){if(typeof xe.prependListener=="function")return xe.prependListener(ye,Se);xe._events&&xe._events[ye]?Array.isArray(xe._events[ye])?xe._events[ye].unshift(Se):xe._events[ye]=[Se,xe._events[ye]]:xe.on(ye,Se)})(R,"error",ne),R.once("close",ue),R.once("finish",ce),R.emit("pipe",j),z.flowing||(a("pipe resume"),j.resume()),R},D.prototype.unpipe=function(R){var U=this._readableState,j={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return R&&R!==U.pipes||(R||(R=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,R&&R.emit("unpipe",this,j)),this;if(!R){var z=U.pipes,V=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var $=0;$<V;$++)z[$].emit("unpipe",this,{hasUnpiped:!1});return this}var W=L(U.pipes,R);return W===-1||(U.pipes.splice(W,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),R.emit("unpipe",this,j)),this},D.prototype.on=function(R,U){var j=n.prototype.on.call(this,R,U),z=this._readableState;return R==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):R==="readable"&&(z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,a("on readable",z.length,z.reading),z.length?N(this):z.reading||Hr.nextTick(b,this))),j},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(R,U){var j=n.prototype.removeListener.call(this,R,U);return R==="readable"&&Hr.nextTick(y,this),j},D.prototype.removeAllListeners=function(R){var U=n.prototype.removeAllListeners.apply(this,arguments);return R!=="readable"&&R!==void 0||Hr.nextTick(y,this),U},D.prototype.resume=function(){var R=this._readableState;return R.flowing||(a("resume"),R.flowing=!R.readableListening,(function(U,j){j.resumeScheduled||(j.resumeScheduled=!0,Hr.nextTick(_,U,j))})(this,R)),R.paused=!1,this},D.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(R){var U=this,j=this._readableState,z=!1;for(var V in R.on("end",(function(){if(a("wrapped end"),j.decoder&&!j.ended){var W=j.decoder.end();W&&W.length&&U.push(W)}U.push(null)})),R.on("data",(function(W){a("wrapped data"),j.decoder&&(W=j.decoder.write(W)),j.objectMode&&W==null||(j.objectMode||W&&W.length)&&(U.push(W)||(z=!0,R.pause()))})),R)this[V]===void 0&&typeof R[V]=="function"&&(this[V]=(function(W){return function(){return R[W].apply(R,arguments)}})(V));for(var $=0;$<C.length;$++)R.on(C[$],this.emit.bind(this,C[$]));return this._read=function(W){a("wrapped _read",W),z&&(z=!1,R.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return c===void 0&&(c=qMt()),c(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}}),D._fromList=T,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(D.from=function(R,U){return l===void 0&&(l=GUe?jUe:(GUe=1,jUe=function(){throw new Error("Readable.from is not available in the browser")})),l(D,R,U)}),ple}var zze=F5,rV=tv.codes,WMt=rV.ERR_METHOD_NOT_IMPLEMENTED,YMt=rV.ERR_MULTIPLE_CALLBACK,JMt=rV.ERR_TRANSFORM_ALREADY_TRANSFORMING,QMt=rV.ERR_TRANSFORM_WITH_LENGTH_0,pG=aA();function ZMt(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new YMt);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function F5(t){if(!(this instanceof F5))return new F5(t);pG.call(this,t),this._transformState={afterTransform:ZMt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",XMt)}function XMt(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?KUe(this,null,null):this._flush((function(e,n){KUe(t,e,n)}))}function KUe(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new QMt;if(t._transformState.transforming)throw new JMt;return t.push(null)}MN(F5,pG),F5.prototype.push=function(t,e){return this._transformState.needTransform=!1,pG.prototype.push.call(this,t,e)},F5.prototype._transform=function(t,e,n){n(new WMt("_transform()"))},F5.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},F5.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},F5.prototype._destroy=function(t,e){pG.prototype._destroy.call(this,t,(function(n){e(n)}))};var hle,eBt=TN,jze=zze;function TN(t){if(!(this instanceof TN))return new TN(t);jze.call(this,t)}MN(TN,jze),TN.prototype._transform=function(t,e,n){n(null,t)};var Gze=tv.codes,tBt=Gze.ERR_MISSING_ARGS,nBt=Gze.ERR_STREAM_DESTROYED;function $Ue(t){if(t)throw t}function qUe(t){t()}function rBt(t,e){return t.pipe(e)}var iBt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=(function(o){return o.length?typeof o[o.length-1]!="function"?$Ue:o.pop():$Ue})(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new tBt("streams");var a=e.map((function(o,s){var c=s<e.length-1;return(function(l,u,f,d){d=(function(m){var w=!1;return function(){w||(w=!0,m.apply(void 0,arguments))}})(d);var p=!1;l.on("close",(function(){p=!0})),hle===void 0&&(hle=Mue),hle(l,{readable:u,writable:f},(function(m){if(m)return d(m);p=!0,d()}));var h=!1;return function(m){if(!p&&!h)return h=!0,(function(w){return w.setHeader&&typeof w.abort=="function"})(l)?l.abort():typeof l.destroy=="function"?l.destroy():void d(m||new nBt("pipe"))}})(o,c,s>0,(function(l){r||(r=l),l&&a.forEach(qUe),c||(a.forEach(qUe),i(r))}))}));return e.reduce(rBt)};(function(t,e){(e=Wle.exports=Hze()).Stream=e,e.Readable=e,e.Writable=Fze(),e.Duplex=aA(),e.Transform=zze,e.PassThrough=eBt,e.finished=Mue,e.pipeline=iBt})(0,Wle.exports);var oA=Wle.exports;function aBt(t={}){let e={},n=new oA.Duplex({objectMode:!0,read:()=>{},write:function(a,o,s){let c=null;try{a.id?(function(l){let{id:u}=l;if(u===null)return;let f=e[u];if(!f)return void console.warn(`StreamMiddleware - Unknown response id "${u}"`);delete e[u],Object.assign(f.res,l),setTimeout(f.end)})(a):(function(l){t?.retryOnMessage&&l.method===t.retryOnMessage&&Object.values(e).forEach((({req:u,retryCount:f=0})=>{if(!u.id)return;if(f>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${u.id}"`);let d=e[u.id];d&&(d.retryCount=f+1),i(u)})),r.emit("notification",l)})(a)}catch(l){c=l}s(c)}}),r=new gze;return{events:r,middleware:(a,o,s,c)=>{e[a.id]={req:a,res:o,next:s,end:c},i(a)},stream:n};function i(a){n.push(a)}}var HG={},Yle={exports:{}},oBt=function t(e,n){if(e&&n)return t(e)(n);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(i){r[i]=e[i]})),r;function r(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];var o=e.apply(this,i),s=i[i.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach((function(c){o[c]=s[c]})),o}},WUe=oBt;function Jj(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function YUe(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}Yle.exports=WUe(Jj),Yle.exports.strict=WUe(YUe),Jj.proto=Jj((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Jj(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return YUe(this)},configurable:!0})}));var sBt=Yle.exports,zG={};Object.defineProperty(zG,"__esModule",{value:!0}),zG.Substream=void 0;var cBt=oA,Jle=class extends cBt.Duplex{constructor({parent:e,name:n}){super({objectMode:!0}),this._parent=e,this._name=n}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}};zG.Substream=Jle;var lBt=_d&&_d.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(HG,"__esModule",{value:!0}),HG.ObjectMultiplex=void 0;var mle=oA,uBt=lBt(sBt),fBt=zG,JUe=Symbol("IGNORE_SUBSTREAM"),dBt=class extends mle.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already ended`);if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);let e=new fBt.Substream({parent:this,name:t});return this._substreams[t]=e,(function(n,r){let i=(0,uBt.default)(r);(0,mle.finished)(n,{readable:!1},i),(0,mle.finished)(n,{writable:!1},i)})(this,(n=>e.destroy(n||void 0))),e}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=JUe}_read(){}_write(t,e,n){let{name:r,data:i}=t;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();let a=this._substreams[r];return a?(a!==JUe&&a.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}};HG.ObjectMultiplex=dBt;var pBt=ZG(HG.ObjectMultiplex),Rh=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Rh.writable=t=>Rh(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",Rh.readable=t=>Rh(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",Rh.duplex=t=>Rh.writable(t)&&Rh.readable(t),Rh.transform=t=>Rh.duplex(t)&&typeof t._transform=="function";var Oh,hBt=Rh,mBt=class extends PMt{constructor(t,{jsonRpcStreamName:e,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!hBt.duplex(t))throw new Error(no.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);let a=new pBt;oA.pipeline(t,a,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=aBt({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),oA.pipeline(this._jsonRpcConnection.stream,a.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",(o=>{let{method:s,params:c}=o;s==="metamask_accountsChanged"?this._handleAccountsChanged(c):s==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(c):s==="metamask_chainChanged"?this._handleChainChanged(c):wze.includes(s)?this.emit("message",{type:s,data:c}):s==="METAMASK_STREAM_FAILURE"&&t.destroy(new Error(no.errors.permanentlyDisconnected()))}))}async _initializeStateAsync(){let t;try{t=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let n=`MetaMask: Lost connection to "${t}".`;e?.stack&&(n+=`
${e.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){vze(t)&&(n=>!!n&&typeof n=="string")(e)?e==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(no.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},yBt=class extends mBt{constructor(t,{jsonRpcStreamName:e="metamask-provider",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:n,maxEventListeners:r,rpcMiddleware:TMt(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},$le(this,Oh,void 0),this._initializeStateAsync(),U5(this,Oh,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(a=>{let{method:o}=a;wze.includes(o)&&(this.emit("data",a),this.emit("notification",a.params.result))})),i)if(document.readyState==="complete")CUe(this._rpcEngine,this._log);else{let a=()=>{CUe(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",a)};window.addEventListener("DOMContentLoaded",a)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(no.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(no.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),Mh(this,Oh)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(no.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),Mh(this,Oh)&&!t&&U5(this,Oh,null)}_warnOfDeprecation(t){this._sentWarnings?.events[t]===!1&&(this._log.warn(no.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(no.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((t,e)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},fG(t,e))}catch(n){e(n)}}))}send(t,e){return this._sentWarnings.send||(this._log.warn(no.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!="string"||e&&!Array.isArray(e)?t&&typeof t=="object"&&typeof e=="function"?this._rpcRequest(t,e):this._sendSync(t):new Promise(((n,r)=>{try{this._rpcRequest({method:t,params:e},fG(n,r,!1))}catch(i){r(i)}}))}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(t,Eze),e=!0;break;case"net_version":e=Mh(this,Oh)??null;break;default:throw new Error(no.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((t=>{this.on("_initialized",(()=>t()))})),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw cN({message:"Batch requests must be made with an array of request objects.",data:t});return new Promise(((e,n)=>{this._rpcRequest(t,fG(e,n))}))}},{get:(t,e,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(no.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...n))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==Mh(this,Oh)&&(U5(this,Oh,e),this._state.initialized&&this.emit("networkChanged",Mh(this,Oh)))}};Oh=new WeakMap;var Ee=(0,cc.default)("MM_SDK"),QUe;Ee.color="#FFAC1C";var Vze={},_2={};Object.defineProperty(_2,"__esModule",{value:!0}),_2.EthereumProviderError=_2.EthereumRpcError=void 0;var bBt=dze,jG=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return bBt.default(this.serialize(),gBt,2)}};_2.EthereumRpcError=jG;function gBt(t,e){if(e!=="[Circular]")return e}_2.EthereumProviderError=class extends jG{constructor(t,e,n){if(!(function(r){return Number.isInteger(r)&&r>=1e3&&r<=4999})(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,n)}};var Bue={},w2={};Object.defineProperty(w2,"__esModule",{value:!0}),w2.errorValues=w2.errorCodes=void 0,w2.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},w2.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let e=w2,n=_2,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",a={code:r,message:o(r)};function o(f,d=i){if(Number.isInteger(f)){let p=f.toString();if(u(e.errorValues,p))return e.errorValues[p].message;if(c(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}function s(f){if(!Number.isInteger(f))return!1;let d=f.toString();return!!e.errorValues[d]||!!c(f)}function c(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function u(f,d){return Object.prototype.hasOwnProperty.call(f,d)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=o,t.isValidCode=s,t.serializeError=function(f,{fallbackError:d=a,shouldIncludeStack:p=!1}={}){var h,m;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof n.EthereumRpcError)return f.serialize();let w={};if(f&&typeof f=="object"&&!Array.isArray(f)&&u(f,"code")&&s(f.code)){let x=f;w.code=x.code,x.message&&typeof x.message=="string"?(w.message=x.message,u(x,"data")&&(w.data=x.data)):(w.message=o(w.code),w.data={originalError:l(f)})}else{w.code=d.code;let x=(h=f)===null||h===void 0?void 0:h.message;w.message=x&&typeof x=="string"?x:d.message,w.data={originalError:l(f)}}let g=(m=f)===null||m===void 0?void 0:m.stack;return p&&f&&g&&typeof g=="string"&&(w.stack=g),w}})(Bue);var GG={};Object.defineProperty(GG,"__esModule",{value:!0}),GG.ethErrors=void 0;var Due=_2,Kze=Bue,nc=w2;function gd(t,e){let[n,r]=$ze(e);return new Due.EthereumRpcError(t,n||Kze.getMessageFromCode(t),r)}function eN(t,e){let[n,r]=$ze(e);return new Due.EthereumProviderError(t,n||Kze.getMessageFromCode(t),r)}function $ze(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}GG.ethErrors={rpc:{parse:t=>gd(nc.errorCodes.rpc.parse,t),invalidRequest:t=>gd(nc.errorCodes.rpc.invalidRequest,t),invalidParams:t=>gd(nc.errorCodes.rpc.invalidParams,t),methodNotFound:t=>gd(nc.errorCodes.rpc.methodNotFound,t),internal:t=>gd(nc.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return gd(e,t)},invalidInput:t=>gd(nc.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>gd(nc.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>gd(nc.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>gd(nc.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>gd(nc.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>gd(nc.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>eN(nc.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>eN(nc.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>eN(nc.errorCodes.provider.unsupportedMethod,t),disconnected:t=>eN(nc.errorCodes.provider.disconnected,t),chainDisconnected:t=>eN(nc.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Due.EthereumProviderError(e,n,r)}}},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;let e=_2;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});let n=Bue;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});let r=GG;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});let i=w2;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Vze);var qze={exports:{}};qze.exports=(function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,a){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:a})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)n.d(a,o,function(s){return r[s]}.bind(null,o));return a},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)})({17:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=n(18),i=(function(){function a(){}return a.getFirstMatch=function(o,s){var c=s.match(o);return c&&c.length>0&&c[1]||""},a.getSecondMatch=function(o,s){var c=s.match(o);return c&&c.length>1&&c[2]||""},a.matchAndReturnConst=function(o,s,c){if(o.test(s))return c},a.getWindowsVersionName=function(o){switch(o){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},a.getMacOSVersionName=function(o){var s=o.split(".").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},a.getAndroidVersionName=function(o){var s=o.split(".").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},a.getVersionPrecision=function(o){return o.split(".").length},a.compareVersions=function(o,s,c){c===void 0&&(c=!1);var l=a.getVersionPrecision(o),u=a.getVersionPrecision(s),f=Math.max(l,u),d=0,p=a.map([o,s],(function(h){var m=f-a.getVersionPrecision(h),w=h+new Array(m+1).join(".0");return a.map(w.split("."),(function(g){return new Array(20-g.length).join("0")+g})).reverse()}));for(c&&(d=f-Math.min(l,u)),f-=1;f>=d;){if(p[0][f]>p[1][f])return 1;if(p[0][f]===p[1][f]){if(f===d)return 0;f-=1}else if(p[0][f]<p[1][f])return-1}},a.map=function(o,s){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(o,s);for(c=0;c<o.length;c+=1)l.push(s(o[c]));return l},a.find=function(o,s){var c,l;if(Array.prototype.find)return Array.prototype.find.call(o,s);for(c=0,l=o.length;c<l;c+=1){var u=o[c];if(s(u,c))return u}},a.assign=function(o){for(var s,c,l=o,u=arguments.length,f=new Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];if(Object.assign)return Object.assign.apply(Object,[o].concat(f));var p=function(){var h=f[s];typeof h=="object"&&h!==null&&Object.keys(h).forEach((function(m){l[m]=h[m]}))};for(s=0,c=f.length;s<c;s+=1)p();return o},a.getBrowserAlias=function(o){return r.BROWSER_ALIASES_MAP[o]},a.getBrowserTypeByAlias=function(o){return r.BROWSER_MAP[o]||""},a})();e.default=i,t.exports=e.default},18:function(t,e,n){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(c,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}var s=(function(){function c(){}var l,u,f;return c.getParser=function(d,p){if(p===void 0&&(p=!1),typeof d!="string")throw new Error("UserAgent should be a string");return new i.default(d,p)},c.parse=function(d){return new i.default(d).getResult()},l=c,f=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],(u=null)&&o(l.prototype,u),f&&o(l,f),c})();e.default=s,t.exports=e.default},91:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),a=c(n(94)),o=c(n(95)),s=c(n(17));function c(u){return u&&u.__esModule?u:{default:u}}var l=(function(){function u(d,p){if(p===void 0&&(p=!1),d==null||d==="")throw new Error("UserAgent parameter can't be empty");this._ua=d,this.parsedResult={},p!==!0&&this.parse()}var f=u.prototype;return f.getUA=function(){return this._ua},f.test=function(d){return d.test(this._ua)},f.parseBrowser=function(){var d=this;this.parsedResult.browser={};var p=s.default.find(r.default,(function(h){if(typeof h.test=="function")return h.test(d);if(h.test instanceof Array)return h.test.some((function(m){return d.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},f.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},f.getBrowserName=function(d){return d?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},f.getBrowserVersion=function(){return this.getBrowser().version},f.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},f.parseOS=function(){var d=this;this.parsedResult.os={};var p=s.default.find(i.default,(function(h){if(typeof h.test=="function")return h.test(d);if(h.test instanceof Array)return h.test.some((function(m){return d.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},f.getOSName=function(d){var p=this.getOS().name;return d?String(p).toLowerCase()||"":p||""},f.getOSVersion=function(){return this.getOS().version},f.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},f.getPlatformType=function(d){d===void 0&&(d=!1);var p=this.getPlatform().type;return d?String(p).toLowerCase()||"":p||""},f.parsePlatform=function(){var d=this;this.parsedResult.platform={};var p=s.default.find(a.default,(function(h){if(typeof h.test=="function")return h.test(d);if(h.test instanceof Array)return h.test.some((function(m){return d.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},f.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},f.getEngineName=function(d){return d?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},f.parseEngine=function(){var d=this;this.parsedResult.engine={};var p=s.default.find(o.default,(function(h){if(typeof h.test=="function")return h.test(d);if(h.test instanceof Array)return h.test.some((function(m){return d.test(m)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},f.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},f.getResult=function(){return s.default.assign({},this.parsedResult)},f.satisfies=function(d){var p=this,h={},m=0,w={},g=0;if(Object.keys(d).forEach((function(M){var N=d[M];typeof N=="string"?(w[M]=N,g+=1):typeof N=="object"&&(h[M]=N,m+=1)})),m>0){var x=Object.keys(h),C=s.default.find(x,(function(M){return p.isOS(M)}));if(C){var P=this.satisfies(h[C]);if(P!==void 0)return P}var D=s.default.find(x,(function(M){return p.isPlatform(M)}));if(D){var F=this.satisfies(h[D]);if(F!==void 0)return F}}if(g>0){var H=Object.keys(w),O=s.default.find(H,(function(M){return p.isBrowser(M,!0)}));if(O!==void 0)return this.compareVersion(w[O])}},f.isBrowser=function(d,p){p===void 0&&(p=!1);var h=this.getBrowserName().toLowerCase(),m=d.toLowerCase(),w=s.default.getBrowserTypeByAlias(m);return p&&w&&(m=w.toLowerCase()),m===h},f.compareVersion=function(d){var p=[0],h=d,m=!1,w=this.getBrowserVersion();if(typeof w=="string")return d[0]===">"||d[0]==="<"?(h=d.substr(1),d[1]==="="?(m=!0,h=d.substr(2)):p=[],d[0]===">"?p.push(1):p.push(-1)):d[0]==="="?h=d.substr(1):d[0]==="~"&&(m=!0,h=d.substr(1)),p.indexOf(s.default.compareVersions(w,h,m))>-1},f.isOS=function(d){return this.getOSName(!0)===String(d).toLowerCase()},f.isPlatform=function(d){return this.getPlatformType(!0)===String(d).toLowerCase()},f.isEngine=function(d){return this.getEngineName(!0)===String(d).toLowerCase()},f.is=function(d,p){return p===void 0&&(p=!1),this.isBrowser(d,p)||this.isOS(d)||this.isPlatform(d)},f.some=function(d){var p=this;return d===void 0&&(d=[]),d.some((function(h){return p.is(h)}))},u})();e.default=l,t.exports=e.default},92:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(s){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(s){var c={name:"Opera"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(s){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(s){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(s){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(s){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(s){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(s){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(s){var c={name:"Opera Coast"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(s){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(s){var c={name:"UC Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(s){var c={name:"Maxthon"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(s){var c={name:"Epiphany"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(s){var c={name:"Puffin"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(s){var c={name:"Sleipnir"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(s){var c={name:"K-Meleon"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(s){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(s){var c={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(s){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(s){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(s){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(s){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(s){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(s){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(s){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(s){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(s){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var c={name:"BlackBerry"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(a,s)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(s){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(s){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(s){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(s){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(s){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(s){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(s){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(s){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){var c=!s.test(/like android/i),l=s.test(/android/i);return c&&l},describe:function(s){var c={name:"Android Browser"},l=i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(s){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(s){var c={name:"Safari"},l=i.default.getFirstMatch(a,s);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(s){var c=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,s),version:i.default.getSecondMatch(c,s)}}}];e.default=o,t.exports=e.default},93:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(s){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:a.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(s){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(s){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),l=i.default.getWindowsVersionName(c);return{name:a.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var c={name:a.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(s){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),u={name:a.OS_MAP.MacOS,version:c};return l&&(u.versionName=l),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:c}}},{test:function(s){var c=!s.test(/like android/i),l=s.test(/android/i);return c&&l},describe:function(s){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),l=i.default.getAndroidVersionName(c),u={name:a.OS_MAP.Android,version:c};return l&&(u.versionName=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),l={name:a.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||i.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:a.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(s){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(s){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:a.OS_MAP.PlayStation4,version:c}}}];e.default=o,t.exports=e.default},94:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var c=i.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",l={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(s){var c=s.test(/ipod|iphone/i),l=s.test(/like (ipod|iphone)/i);return c&&!l},describe:function(s){var c=i.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var c=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:a.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:a.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(s){var c={name:a.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){return s.test(/presto/i)},describe:function(s){var c={name:a.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){var c=s.test(/gecko/i),l=s.test(/like gecko/i);return c&&!l},describe:function(s){var c={name:a.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var c={name:a.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}}];e.default=o,t.exports=e.default}});var Wze=ZG(qze.exports),Gl={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"},Y1=class t{constructor({shouldSetOnWindow:e,connectionStream:n,shouldSendMetadata:r=!1,shouldShimWeb3:i,sdkInstance:a}){let o=new Qle({connectionStream:n,shouldSendMetadata:r,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),s=new Proxy(o,{deleteProperty:()=>!0});if(this.provider=s,this.sdkInstance=a,e&&typeof window<"u")try{c=o,window.ethereum=c,window.dispatchEvent(new Event("ethereum#initialized"))}catch(l){Ee("[Ethereum] Unable to set global provider - window.ethereum may be read-only",l)}var c;if(i&&typeof window<"u")try{(function(l,u=console){let f=!1,d=!1;if(!window.web3){let p="__isMetaMaskShim__",h={currentProvider:l};Object.defineProperty(h,p,{value:!0,enumerable:!0,configurable:!1,writable:!1}),h=new Proxy(h,{get:(m,w,...g)=>(w!=="currentProvider"||f?w==="currentProvider"||w===p||d||(d=!0,u.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),l.request({method:"metamask_logWeb3ShimUsage"}).catch((x=>{u.debug("MetaMask: Failed to log web3 shim usage.",x)}))):(f=!0,u.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(m,w,...g)),set:(...m)=>(u.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...m))}),Object.defineProperty(window,"web3",{value:h,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(l){Ee("[Ethereum] Unable to shim web3 - window.web3 may be read-only",l)}this.provider.on("display_uri",(l=>{this.sdkInstance.emit(Gl.DisplayURI,l)})),this.provider.on("_initialized",(()=>{let l={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(Gl.Initialized,l),Ee("[Ethereum: constructor()] provider initialized",l)}))}static init(e){var n;return Ee("[Ethereum: init()] Initializing Ethereum service"),this.instance=new t(e),(n=this.instance)===null||n===void 0?void 0:n.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}},VG=class t{constructor({useDeepLink:e,preferredOpenLink:n,debug:r=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=n,this.state.debug=r}openDeeplink(e,n,r){return(function(i,a,o,s){let{state:c}=i;Ee(`[PlatfformManager: openDeeplink()] universalLink --> ${a}`),Ee(`[PlatfformManager: openDeeplink()] deepLink --> ${o}`);try{if(c.preferredOpenLink)return void c.preferredOpenLink(c.useDeeplink?o:a,s);if(Ee(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${c.useDeeplink} link=${c.useDeeplink?o:a}`),c.useDeeplink)typeof window<"u"&&(window.location.href=o);else if(typeof document<"u"){let l=document.createElement("a");l.href=a,l.target="_self",l.rel="noreferrer noopener",l.click()}}catch(l){console.log("[PlatfformManager: openDeeplink()] can't open link",l)}})(this,e,n,r)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<"u"&&window?.navigator&&((e=window.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"}isMetaMaskInstalled(){return(function(){let e=Y1.getProvider()||window?.ethereum;return Ee(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e?.isMetaMask} isConnected=${e?.isConnected()}`),e?.isMetaMask&&e?.isConnected()})()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,n;let r=Wze.parse(window.navigator.userAgent);return((e=r?.platform)===null||e===void 0?void 0:e.type)==="mobile"||((n=r?.platform)===null||n===void 0?void 0:n.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===oc.MobileWeb}static isNotBrowser(){var e;return typeof window>"u"||!window?.navigator||Qc!==void 0&&((e=Qc?.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"||navigator?.product==="ReactNative"}isNotBrowser(){return t.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return t.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return(function(e){let{state:n}=e;return n.platformType?n.platformType:e.isReactNative()?oc.ReactNative:e.isNotBrowser()?oc.NonBrowser:e.isMetaMaskMobileWebView()?oc.MetaMaskMobileWebview:e.isMobile()?oc.MobileWeb:oc.DesktopWeb})(this)}},Yze=t=>Ie(void 0,void 0,void 0,(function*(){if(VG.isBrowser()){let{StorageManagerWeb:n}=yield Promise.resolve().then((function(){return jBt}));return new n(t)}let e={persistChannelConfig:()=>Ie(void 0,void 0,void 0,(function*(){})),getPersistedChannelConfig:()=>Ie(void 0,void 0,void 0,(function*(){})),persistAccounts:()=>Ie(void 0,void 0,void 0,(function*(){})),getCachedAccounts:()=>Ie(void 0,void 0,void 0,(function*(){return[]})),persistChainId:()=>Ie(void 0,void 0,void 0,(function*(){})),getCachedChainId:()=>Ie(void 0,void 0,void 0,(function*(){})),terminate:()=>Ie(void 0,void 0,void 0,(function*(){}))};return Promise.resolve(e)})),Qle=class extends yBt{constructor({connectionStream:e,shouldSendMetadata:n,autoRequestAccounts:r=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:n}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},Ee(`[SDKProvider: constructor()] autoRequestAccounts=${r}`),this.state.autoRequestAccounts=r}forceInitializeState(){return Ie(this,void 0,void 0,(function*(){return Ee(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()}))}_setConnected(){Ee("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;let{accounts:n}=this._state;return n&&n.length!==0?((e=n[0])===null||e===void 0?void 0:e.toLowerCase())||"":(Ee("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,n){return this._handleAccountsChanged(e,n)}handleDisconnect({terminate:e=!1}){(function({terminate:n=!1,instance:r}){let{state:i}=r;Ee(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${n}`,r),n&&(r._state.accounts=null,r._state.isUnlocked=!1,r._state.isPermanentlyDisconnected=!0,r._state.initialized=!1),r._handleAccountsChanged([]),r._state.isConnected=!1,r.emit("disconnect",Vze.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return Ie(this,void 0,void 0,(function*(){return(function(e){var n,r;return Ie(this,void 0,void 0,(function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});let{state:i}=e,a;if(i.providerStateRequested)Ee("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let o;i.providerStateRequested=!0;let s=null,c=!1,l=!1,u=yield Yze({enabled:!0});if(u){let f=yield u.getPersistedChannelConfig({});c=(n=f?.relayPersistence)!==null&&n!==void 0&&n,o=yield u.getCachedChainId();let d=yield u.getCachedAccounts();d.length>0&&(s=d[0])}if(Ee(`[SDKProvider: initializeStateAsync()] relayPersistence=${c}`,{relayPersistence:c,cachedChainId:o,cachedSelectedAddress:s}),c)if(o&&s)a={accounts:[s],chainId:o,isUnlocked:!1},l=!0;else try{a=yield e.request({method:"metamask_getProviderState"})}catch(f){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",f),void(i.providerStateRequested=!1)}if(((r=a?.accounts)===null||r===void 0?void 0:r.length)===0)if(e.getSelectedAddress())a.accounts=[e.getSelectedAddress()];else{Ee("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");let f=yield e.request({method:"eth_requestAccounts",params:[]});a.accounts=f}e._initializeState(a),i.providerStateRequested=!1,l&&(e._state.isConnected=!0,e.emit("connect",{chainId:a?.chainId}))}}))})(this)}))}_initializeState(e){return Ee("[SDKProvider: _initializeState()]",e),(function(n,r,i){return Ee("[SDKProvider: initializeState()] set state._initialized to false"),n._state.initialized=!1,r(i)})(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:n}={}){this.state.chainId=e,this.state.networkVersion=n,(function({instance:r,chainId:i,networkVersion:a,superHandleChainChanged:o}){Ee(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${a}`);let s=a;a||(Ee("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),s="1"),i!==QUe&&(ro.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(i??"0x1",16)}`}),QUe=i),r._state.isConnected=!0,r.emit("connect",{chainId:i}),o({chainId:i,networkVersion:s})})({instance:this,chainId:e,networkVersion:n,superHandleChainChanged:super._handleChainChanged.bind(this)})}},SN,nv={name:"@metamask/sdk",version:"0.33.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-analytics":"workspace:*","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"^4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(t){t.INPAGE="metamask-inpage",t.CONTENT_SCRIPT="metamask-contentscript",t.PROVIDER="metamask-provider"})(SN||(SN={}));var ZUe="direct",CN="https://metamask.app.link/connect",IN="metamask://connect",XUe={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},wBt=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,an={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},RN={[an.ETH_REQUESTACCOUNTS]:!0,[an.ETH_SENDTRANSACTION]:!0,[an.ETH_SIGNTRANSACTION]:!0,[an.ETH_SIGN]:!0,[an.PERSONAL_SIGN]:!0,[an.ETH_ACCOUNTS]:!1,[an.ETH_CHAINID]:!1,[an.PERSONAL_SIGN]:!0,[an.ETH_SIGNTYPEDDATA]:!0,[an.ETH_SIGNTYPEDDATA_V3]:!0,[an.ETH_SIGNTYPEDDATA_V4]:!0,[an.WALLET_REQUESTPERMISSIONS]:!0,[an.WALLET_GETPERMISSIONS]:!0,[an.WALLET_WATCHASSET]:!0,[an.WALLET_ADDETHEREUMCHAIN]:!0,[an.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[an.METAMASK_CONNECTSIGN]:!0,[an.METAMASK_CONNECTWITH]:!0,[an.PERSONAL_EC_RECOVER]:!0,[an.METAMASK_BATCH]:!0,[an.METAMASK_OPEN]:!0},vBt=Object.keys(RN).filter((t=>RN[t]===!0)).map((t=>t.toLowerCase())),Jze=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map((t=>t.toLowerCase())),yle=".sdk-comm",KG="providerType",Zle=".MMSDK_cached_address",Xle=".MMSDK_cached_chainId",Ih={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},EBt=1e6,Fh;(function(t){t.TERMINATE="terminate",t.EXTENSION="extension",t.INITIALIZED="initialized"})(Fh||(Fh={}));var xBt=typeof window<"u"&&window.localStorage;function ABt({instance:t,msg:e}){return Ie(this,void 0,void 0,(function*(){if(t._initialized||(Ee("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield t.init()),Ee(`[MetaMaskSDK: connectAndSign()] activeProvider=${t.activeProvider}`),!t.activeProvider)throw new Error("SDK state invalid -- undefined provider");let n=/^0x([0-9A-Fa-f]{2})*$/u.test(e)?e:(function(r){let i;if(Ne!==void 0)i=Ne.from(r,"utf8").toString("hex");else if(typeof TextEncoder<"u"){let a=new TextEncoder().encode(r);i=Array.from(a).map((o=>o.toString(16).padStart(2,"0"))).join("")}else{if(typeof Qc!="object"||!("Buffer"in Qc))throw new Error("Unable to convert string to hex: No available method.");i=Qc.Buffer.from(r,"utf8").toString("hex")}return`0x${i}`})(e);return t.activeProvider.request({method:an.METAMASK_CONNECTWITH,params:[{method:an.PERSONAL_SIGN,params:[n]}]})}))}function eFe(t){var e,n;return Ie(this,void 0,void 0,(function*(){Ee("[MetaMaskSDK: connectWithExtensionProvider()] ",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{let r=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:"eth_requestAccounts"});Ee(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${r}`)}catch(r){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",r)}localStorage.setItem(KG,"extension"),t.extensionActive=!0,t.emit(Gl.ProviderUpdate,Fh.EXTENSION),t.options.enableAnalytics&&((n=t.analytics)===null||n===void 0||n.send({event:Ro.SDK_USE_EXTENSION}))}))}function $G(t){let e;if(Ne!==void 0)e=Ne.from(t,"utf8").toString("base64");else if(typeof btoa=="function")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,((n,r)=>String.fromCharCode(parseInt(r,16)))));else{if(typeof Qc!="object"||!("Buffer"in Qc))throw new Error("Unable to base64 encode: No available method.");e=Qc.Buffer.from(t,"utf8").toString("base64")}return e}function _Bt(t,e,n,r){var i,a,o,s,c,l,u,f,d,p,h,m,w,g,x,C,P,D,F,H;return Ie(this,void 0,void 0,(function*(){let O=(i=t.state.remote)===null||i===void 0?void 0:i.isReady(),M=(a=t.state.remote)===null||a===void 0?void 0:a.isConnected(),N=(o=t.state.remote)===null||o===void 0?void 0:o.isPaused(),v=Y1.getProvider(),I=(s=t.state.remote)===null||s===void 0?void 0:s.getChannelId(),S=(c=t.state.remote)===null||c===void 0?void 0:c.isAuthorized(),{deeplinkProtocol:y}=t.state,{method:b,data:_,triggeredInstaller:A}=(L=>{var R,U,j,z;let V;Ne.isBuffer(L)?(V=L.toJSON(),V._isBuffer=!0):V=L;let $=(R=V?.data)===null||R===void 0?void 0:R.method,W=!1;return typeof((U=V?.data)===null||U===void 0?void 0:U.params)=="object"&&((z=(j=V?.data)===null||j===void 0?void 0:j.params)===null||z===void 0?void 0:z.__triggeredInstaller)===!0&&(W=!0,V.data.params=V.data.params.wrappedParams),{method:$,data:V,triggeredInstaller:W}})(e);if(Ee(`[RCPMS: write()] method='${b}' isRemoteReady=${O} channelId=${I} isSocketConnected=${M} isRemotePaused=${N} providerConnected=${v.isConnected()}`,e),!I)return b!==an.METAMASK_GETPROVIDERSTATE&&Ee(`[RCPMS: write()] ${b} --> channelId is undefined`),r(new Error("disconnected"));Ee(`[RCPMS: write()] remote.isPaused()=${(l=t.state.remote)===null||l===void 0?void 0:l.isPaused()} authorized=${S} ready=${O} socketConnected=${M}`,e);let T=(u=t.state.platformManager)===null||u===void 0?void 0:u.isSecure(),E=(d=(f=t.state.platformManager)===null||f===void 0?void 0:f.isMobileWeb())!==null&&d!==void 0&&d,k=(h=(p=t.state.remote)===null||p===void 0?void 0:p.hasDeeplinkProtocol())!==null&&h!==void 0&&h&&E&&S;try{if(!A){let U=JSON.stringify(_?.data);if(U.length>EBt)return r(new Error(`Message size ${U.length} exceeds maximum allowed size of 1000000 bytes`));(m=t.state.remote)===null||m===void 0||m.sendMessage(_?.data).then((()=>{Ee(`[RCPMS: _write()] ${b} sent successfully`)})).catch((j=>{Ee("[RCPMS: _write()] error sending message",j)}))}if(!T)return Ee(`[RCPMS: _write()] unsecure platform for method ${b} -- return callback`),r();if(A)return Ee("[RCPMS: _write()] prevent deeplink -- installation completed separately."),r();let L=(x=(g=(w=t.state.remote)===null||w===void 0?void 0:w.getKeyInfo())===null||g===void 0?void 0:g.ecies.public)!==null&&x!==void 0?x:"",R=encodeURI(`channelId=${I}&pubkey=${L}&comm=socket&t=d&v=2`);if(k){let U=JSON.stringify(_?.data),j=(C=t.state.remote)===null||C===void 0?void 0:C.encrypt(U);if(!j)return Ee("[RCPMS: _write()] error encrypting message"),r(new Error("RemoteCommunicationPostMessageStream - disconnected"));R+=`&scheme=${y}&rpc=${$G(j)}`}if(!(!((P=t.state.platformManager)===null||P===void 0)&&P.isMetaMaskInstalled()))return Ee("[RCPMS: _write()] prevent deeplink until installation is completed."),r();RN[b]?(Ee(`[RCPMS: _write()] redirect link for '${b}' socketConnected=${M} connect?${R}`),(D=t.state.platformManager)===null||D===void 0||D.openDeeplink(`${CN}?${R}`,`${IN}?${R}`,"_self")):!((F=t.state.remote)===null||F===void 0)&&F.isPaused()?(Ee(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${b}`),(H=t.state.platformManager)===null||H===void 0||H.openDeeplink(`${CN}?redirect=true&${R}`,`${IN}?redirect=true&${R}`,"_self")):Ee(`[RCPMS: _write()] method ${b} doesn't need redirect.`)}catch(L){return Ee("[RCPMS: _write()] error sending message",L),r(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return r()}))}var eue=class extends oA.Duplex{constructor({name:e,remote:n,deeplinkProtocol:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=n,this.state.deeplinkProtocol=r,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(Ve.MESSAGE,this._onMessage)}_write(e,n,r){return Ie(this,void 0,void 0,(function*(){return _Bt(this,e,0,r)}))}_read(){}_onMessage(e){return(function(n,r){try{if(Ee("[RCPMS: onMessage()] message",r),!r||typeof r!="object"||typeof r?.data!="object")return;if(!r?.name)return void Ee("[RCPMS: onMessage()] ignore message without name",r);if(r?.name!==SN.PROVIDER)return void Ee(`[RCPMS: onMessage()] ignore message with wrong name message=${r}`);if(Ne.isBuffer(r)){let i=Ne.from(r);n.push(i)}else n.push(r)}catch(i){Ee(`[RCPMS: onMessage()] ignore message error err=${i}`)}})(this,e)}start(){}},tFe=1,Qze=t=>new Promise((e=>{setTimeout((()=>{e(!0)}),t)})),TBt=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:a,sdk:o,remoteConnection:s,debug:c})=>Ie(void 0,void 0,void 0,(function*(){var l,u;let f=(({name:N,remoteConnection:v})=>{if(!v||!v?.getConnector())throw new Error("Missing remote connection parameter");return new eue({name:N,remote:v?.getConnector(),deeplinkProtocol:v?.state.deeplinkProtocol,platformManager:v?.getPlatformManager()})})({name:SN.INPAGE,target:SN.CONTENT_SCRIPT,platformManager:i,communicationLayerPreference:e,remoteConnection:s}),d=i.getPlatformType(),p=o.options.dappMetadata,h=`Sdk/Javascript SdkVersion/${nv.version} Platform/${d} dApp/${(l=p.url)!==null&&l!==void 0?l:p.name} dAppTitle/${p.name}`,m=null,w=null,g=(u=o.options.storage)===null||u===void 0?void 0:u.storageManager;if(g){try{let N=yield g.getCachedAccounts();N.length>0&&(m=N[0])}catch(N){console.error(`[initializeMobileProvider] failed to get cached addresses: ${N}`)}try{let N=yield g.getCachedChainId();N&&(w=N)}catch(N){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${N}`)}}Ee(`[initializeMobileProvider] cachedAccountAddress: ${m}, cachedChainId: ${w}`);let x=!(!n||d===oc.NonBrowser||d===oc.ReactNative),C=Y1.init({shouldSetOnWindow:x,connectionStream:f,shouldShimWeb3:r,sdkInstance:o}),P=!1,D=N=>{P=N},F=()=>P,H=(N,v,I,S)=>Ie(void 0,void 0,void 0,(function*(){var y,b,_,A,T,E,k,L,R;let U=Y1.getProvider();if(P){U.emit("display_uri",s?.state.qrcodeLink||""),s?.showActiveModal();let ne=F();for(;ne;){let ue=F(),ce=s?.isAuthorized();ne=ue&&!ce,Ee(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${ue} authorized: ${ce}`),yield Qze(1e3)}return Ee("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),I(...v)}let j=i.isMetaMaskInstalled(),z=s?.isConnected(),V=null,$=null,W=null;if(V=(y=U.getSelectedAddress())!==null&&y!==void 0?y:m,W=U.getChainId()||w,V&&g&&V!==m&&g.persistAccounts([V]).catch((ne=>{console.error(`[initializeMobileProvider] failed to persist account: ${ne}`)})),W&&(w=W,g&&g.persistChainId(W).catch((ne=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${ne}`)}))),Ee("[initializeMobileProvider: sendRequest()]",{selectedAddress:V,chainId:W}),S&&Ee(`[initializeMobileProvider: sendRequest()] method=${N} ongoing=${P} selectedAddress=${V} isInstalled=${j} checkInstallationOnAllCalls=${t} socketConnected=${z}`),V&&N.toLowerCase()===an.ETH_ACCOUNTS.toLowerCase())return[V];if(W&&N.toLowerCase()===an.ETH_CHAINID.toLowerCase())return W;let J=[an.ETH_REQUESTACCOUNTS,an.WALLET_REQUESTPERMISSIONS,an.METAMASK_CONNECTSIGN,an.METAMASK_CONNECTWITH],X=!RN[N],te=(b=o.options.readonlyRPCMap)===null||b===void 0?void 0:b[W];if(te&&X)try{let ne=(_=v?.[0])===null||_===void 0?void 0:_.params,ue=yield(({rpcEndpoint:ce,method:oe,sdkInfo:xe,params:ye})=>Ie(void 0,void 0,void 0,(function*(){let Se=JSON.stringify({jsonrpc:"2.0",method:oe,params:ye,id:(tFe+=1,tFe)}),_t={Accept:"application/json","Content-Type":"application/json"},Xe;ce.includes("infura")&&(_t["Metamask-Sdk-Info"]=xe);try{Xe=yield(0,fue.default)(ce,{method:"POST",headers:_t,body:Se})}catch(qe){throw qe instanceof Error?new Error(`Failed to fetch from RPC: ${qe.message}`):new Error(`Failed to fetch from RPC: ${qe}`)}if(!Xe.ok)throw new Error(`Server responded with a status of ${Xe.status}`);return(yield Xe.json()).result})))({rpcEndpoint:te,sdkInfo:h,method:N,params:ne||[]});return S&&Ee(`initializeProvider::ReadOnlyRPCResponse ${ue}`),ue}catch(ne){console.warn(`[initializeMobileProvider: sendRequest()] method=${N} readOnlyRPCRequest failed:`,ne)}if((!j||j&&!z)&&N!==an.METAMASK_GETPROVIDERSTATE){let ne=((A=v?.[0])===null||A===void 0?void 0:A.params)||[];if(J.indexOf(N)!==-1||t){D(!0);let ue=N===an.METAMASK_CONNECTWITH,ce=`${Date.now()}`;try{yield a.start({wait:!1,connectWith:ue?{method:N,id:ce,params:ne}:void 0}),yield new Promise(((oe,xe)=>{s?.isAuthorized()&&(Ee("[initializeMobileProvider: sendRequest()] already authorized"),oe(!0)),s?.getConnector().once(Ve.AUTHORIZED,(()=>{oe(!0)})),o.once(Ve.PROVIDER_UPDATE,(ye=>{Ee(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${ye}`),ye===Fh.EXTENSION?xe(Ve.PROVIDER_UPDATE):xe(new Error("Connection Terminated"))}))}))}catch(oe){if(Fh.EXTENSION===oe){if(Ee(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${N} on the active provider`),N.toLowerCase()===an.METAMASK_CONNECTSIGN.toLowerCase()){let xe=yield(T=o.getProvider())===null||T===void 0?void 0:T.request({method:an.ETH_REQUESTACCOUNTS,params:[]});if(!xe.length)throw new Error("SDK state invalid -- undefined accounts");let ye=yield(E=o.getProvider())===null||E===void 0?void 0:E.request({method:an.PERSONAL_SIGN,params:[ne[0],xe[0]]});return o.emit(Gl.ConnectWithResponse,ye),ye}if(N.toLowerCase()===an.METAMASK_CONNECTWITH.toLowerCase()){let[xe]=ne,ye=yield(({method:Se,sdk:_t,params:Xe})=>Ie(void 0,void 0,void 0,(function*(){var qe,Lt,nt,it;if(!_t.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");Ee("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",Se,Xe);let br=yield(qe=_t.getProvider())===null||qe===void 0?void 0:qe.request({method:an.ETH_REQUESTACCOUNTS,params:[]});if(!br.length)throw new Error("SDK state invalid -- undefined accounts");if(Se?.toLowerCase()===an.PERSONAL_SIGN.toLowerCase()){let Be={method:Se,params:[Xe[0],br[0]]};return yield(Lt=_t.getProvider())===null||Lt===void 0?void 0:Lt.request(Be)}if(Se?.toLowerCase()===an.ETH_SENDTRANSACTION.toLowerCase()){let Be={method:Se,params:[Object.assign(Object.assign({},Xe[0]),{from:br[0]})]};return yield(nt=_t.getProvider())===null||nt===void 0?void 0:nt.request(Be)}return Jze.includes(Se.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${Se} -- not handled by the extension -- call separately`),br):yield(it=_t.getProvider())===null||it===void 0?void 0:it.request({method:Se,params:Xe})})))({method:xe.method,sdk:o,params:xe.params});return o.emit(Gl.ConnectWithResponse,ye),ye}return Ee(`[initializeMobileProvider: sendRequest()] sending '${N}' on active provider`,ne),yield(k=o.getProvider())===null||k===void 0?void 0:k.request({method:N,params:ne})}throw oe===Ve.REJECTED?(s?.closeModal(),(L=o.getProvider())===null||L===void 0||L.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(Ee(`[initializeMobileProvider: sendRequest()] failed to start installer: ${oe}`),oe)}finally{D(!1)}if(N===an.ETH_REQUESTACCOUNTS)return $=yield new Promise((oe=>{let xe=setInterval((()=>{let{accounts:ye}=U.getState();ye&&(clearInterval(xe),oe(ye))}),100)})),Ee(`[initializeMobileProvider: sendRequest()] selectedAddress: ${V} --- SKIP rpc call`),$;if(N===an.METAMASK_CONNECTWITH)try{let oe=0,xe=5,ye=({resolve:qe,reject:Lt})=>{oe+=1;let nt=s?.getConnector().getRPCMethodTracker(),it=nt?.[ce];return Ee(`TRACKER: update method ${ce}`,it),it?.result?(Ee("[initializeMobileProvider: sendRequest()] found result",it.result),o.emit(Gl.ConnectWithResponse,it.result),void qe(it.result)):it?.error?(Ee("[initializeMobileProvider: sendRequest()] found error",it.error),void Lt(it.error)):oe>=xe?(Ee("[initializeMobileProvider: sendRequest()] max message count reached without result"),void Lt(new Error("Max message count reached without result"))):void Ee("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")},Se,_t,Xe=yield new Promise(((qe,Lt)=>{let nt=s?.getConnector().getRPCMethodTracker();Ee(`TRACKER: method ${ce}`,nt),nt?.[ce].result?(Ee("[initializeMobileProvider: sendRequest()] found result",nt?.[ce].result),qe(nt?.[ce].result)):nt?.[ce].error&&(Ee("[initializeMobileProvider: sendRequest()] found error",nt?.[ce].error),Lt(nt?.[ce].error)),_t=()=>ye({resolve:qe,reject:Lt}),Se=s?.getConnector().on(Ve.RPC_UPDATE,_t)}));return _t&&Se?.off(Ve.RPC_UPDATE,_t),Ee("TRACKER: result",Xe),Xe}catch(oe){throw Ee("[initializeMobileProvider: sendRequest()] error:",oe),oe}return v[0]&&typeof v[0]=="object"&&(v[0].params={__triggeredInstaller:!0,wrappedParams:v[0].params}),I(...v)}if(i.isSecure()&&RN[N])return I(...v);if(o.isExtensionActive())return Ee(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${N}' to it`,v,ne),yield(R=o.getProvider())===null||R===void 0?void 0:R.request({method:N,params:ne});throw Ee(`[initializeMobileProvider: sendRequest()] method=${N} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{let ne=yield I(...v);if(Ee(`[initializeMobileProvider: sendRequest()] method=${N} rpcResponse`,ne),N===an.WALLET_REQUESTPERMISSIONS){let ue=ne.reduce(((ce,oe)=>{var xe;if(oe.parentCapability==="eth_accounts"){let ye=(xe=oe.caveats.find((Se=>Se.type==="restrictReturnedAccounts")))===null||xe===void 0?void 0:xe.value;ye&&ce.push(...ye)}return ce}),[]);Ee("[initializeMobileProvider: sendRequest()] accountsToPersist:",ue),ue.length>0&&(U.handleAccountsChanged(ue,!1),g?.persistAccounts(ue))}return ne}catch(ne){throw console.error("[initializeMobileProvider: sendRequest()] error:",ne),ne}})),{request:O}=C;C.request=(...N)=>Ie(void 0,void 0,void 0,(function*(){return H(N?.[0].method,N,O,c)}));let{send:M}=C;return C.send=(...N)=>Ie(void 0,void 0,void 0,(function*(){return H(N?.[0],N,M,c)})),Ee("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),f.start(),C}));function SBt(t){var e,n,r,i;return Ie(this,void 0,void 0,(function*(){let{options:a}=t,o={communicationLayerPreference:(e=a.communicationLayerPreference)!==null&&e!==void 0?e:Qw.SOCKET,platformManager:t.platformManager,sdk:t,checkInstallationOnAllCalls:a.checkInstallationOnAllCalls,injectProvider:(n=a.injectProvider)===null||n===void 0||n,shouldShimWeb3:(r=a.shouldShimWeb3)===null||r===void 0||r,extensionOnly:(i=a.extensionOnly)===null||i===void 0||i,installer:t.installer,remoteConnection:t.remoteConnection,debug:t.debug},s=yield TBt(o);t.activeProvider=s,(function(c){var l,u,f,d;(u=(l=c.remoteConnection)===null||l===void 0?void 0:l.getConnector())===null||u===void 0||u.on(Gl.ConnectionStatus,(p=>{c.emit(Gl.ConnectionStatus,p)})),(d=(f=c.remoteConnection)===null||f===void 0?void 0:f.getConnector())===null||d===void 0||d.on(Gl.ServiceStatus,(p=>{c.emit(Gl.ServiceStatus,p)}))})(t)}))}var CBt="sdk",tue=class{constructor({serverUrl:e,enabled:n,originatorInfo:r}){this.serverURL=rA,this.serverURL=e,this.originatorInfo=r,this.enabled=n==null||n}send({event:e,params:n}){if(!this.enabled)return;let r=Object.assign(Object.assign({id:CBt,event:e,sdkVersion:nv.version},this.originatorInfo),{params:n});Ee(`[Analytics: send()] event: ${e}`,r),K5(r,this.serverURL).catch((i=>{Ee(`[Analytics: send()] error: ${i}`)}))}},IBt=()=>{if(typeof document>"u")return;let t,e=document.getElementsByTagName("link");for(let n=0;n<e.length;n++)e[n].getAttribute("rel")!=="icon"&&e[n].getAttribute("rel")!=="shortcut icon"||(t=e[n].getAttribute("href"));return t},RBt=163400;function nFe(t){var e,n,r;let{dappMetadata:i}=t,a=(function({url:u,name:f}){var d;let p=u+f,h=$G(p);if(!localStorage)return"";let m=(d=localStorage.getItem(h))!==null&&d!==void 0?d:"";if(!m){m=V1();try{localStorage.setItem(h,m)}catch{return""}}return m})({url:(e=i?.url)!==null&&e!==void 0?e:"no_url",name:(n=i?.name)!==null&&n!==void 0?n:"no_name"}),o=(r=t.platformManager)===null||r===void 0?void 0:r.getPlatformType(),s=o===oc.DesktopWeb,c=o===oc.MetaMaskMobileWebview,l="N/A";return s?l="extension":c&&(l="mobile"),{id:a,from:l}}var Qj=(t,e,n)=>{if(PN(t))if(n||e&&typeof e=="object"&&e!==null&&"error"in e){let r=n||e?.error;r&&r.code===4001?ro.analytics.track("sdk_action_rejected",{action:t}):ro.analytics.track("sdk_action_failed",{action:t})}else ro.analytics.track("sdk_action_succeeded",{action:t})},nue=({provider:t,sdkInstance:e})=>{if("state"in t)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(t,{get:(n,r)=>r==="request"?function(i){var a,o;return Ie(this,void 0,void 0,(function*(){Ee("[wrapExtensionProvider()] Overwriting request method",i);let{method:s,params:c}=i,l=vBt.includes(s.toLowerCase()),{id:u,from:f}=nFe(e);if(l&&((a=e.analytics)===null||a===void 0||a.send({event:Ro.SDK_RPC_REQUEST,params:{method:s,from:f,id:u}})),PN(s)&&ro.analytics.track("sdk_action_requested",{action:s}),s===an.METAMASK_BATCH&&Array.isArray(c))return(({target:h,args:m,trackEvent:w,sdkInstance:g})=>Ie(void 0,void 0,void 0,(function*(){var x,C;if(m.method!=="metamask_batch")throw new Error("Invalid usage");let P=[],D=(x=m?.params)!==null&&x!==void 0?x:[];for(let O of D){let M=yield h?.request({method:O.method,params:O.params});P.push(M)}let{id:F,from:H}=nFe(g);w&&((C=g.analytics)===null||C===void 0||C.send({event:Ro.SDK_RPC_REQUEST_DONE,params:{method:m.method,from:H,id:F}}));for(let O of P)Qj(m.method,O,null);return P})))({target:n,args:i,trackEvent:l,sdkInstance:e});if(s.toLowerCase()===an.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(c))return(({target:h,params:m})=>Ie(void 0,void 0,void 0,(function*(){let w,g=null;try{let x=yield h.request({method:an.ETH_REQUESTACCOUNTS,params:[]});if(!x.length)throw new Error("SDK state invalid -- undefined accounts");return w=yield h.request({method:an.PERSONAL_SIGN,params:[m[0],x[0]]}),w}catch(x){throw g=x,x}finally{Qj(an.PERSONAL_SIGN,w,g)}})))({target:n,params:c});if(s.toLowerCase()===an.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(c))return(({target:h,params:m})=>Ie(void 0,void 0,void 0,(function*(){let[w]=m,g=w.method,x=w.params,C,P=null;try{let D=yield h.request({method:an.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(D)||!D.length)throw new Error("SDK state invalid -- undefined accounts");return g?.toLowerCase()===an.PERSONAL_SIGN.toLowerCase()?(C=yield h.request({method:g,params:[x[0],D[0]]}),C):g?.toLowerCase()===an.ETH_SENDTRANSACTION.toLowerCase()?(C=yield h.request({method:g,params:[Object.assign(Object.assign({},x[0]),{from:D[0]})]}),C):Jze.includes(g.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${g} -- not handled by the extension -- call separately`),C=D,C):(C=yield h.request({method:g,params:x}),C)}catch(D){throw P=D,D}finally{Qj(g,C,P)}})))({target:n,params:c});let d,p=null;try{return d=yield n.request(i),d}catch(h){throw p=h,h}finally{l&&((o=e.analytics)===null||o===void 0||o.send({event:Ro.SDK_RPC_REQUEST_DONE,params:{method:s,from:f,id:u}})),Qj(s,d,p)}}))}:r==="getChainId"?function(){return t.chainId}:r==="getNetworkVersion"?function(){return t.networkVersion}:r==="getSelectedAddress"?function(){return t.selectedAddress}:r==="isConnected"?function(){return t._state.isConnected}:n[r]})},qG;function OBt({mustBeMetaMask:t,sdkInstance:e}){return Ie(this,void 0,void 0,(function*(){if(typeof window>"u")throw new Error("window not available");try{let n=yield new Promise(((r,i)=>{let a=setTimeout((()=>{i(new Error("eip6963RequestProvider timed out"))}),500);window.addEventListener(qG.Announce,(o=>{let s=o,{detail:{info:c,provider:l}={}}=s,{name:u,rdns:f,uuid:d}=c??{};wBt.test(d)&&u.startsWith(XUe.NAME)&&XUe.RDNS.includes(f)&&(clearTimeout(a),r(l))})),window.dispatchEvent(new Event(qG.Request))}));return nue({provider:n,sdkInstance:e})}catch{if(!t&&window.ethereum)return nue({provider:window.ethereum,sdkInstance:e});throw new Error("Provider not found")}}))}(function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"})(qG||(qG={}));var NBt=t=>Ie(void 0,void 0,void 0,(function*(){let{options:e}=t,{infuraAPIKey:n}=e;if(!n)return;let r={"0x1":`https://mainnet.infura.io/v3/${n}`,"0x5":`https://goerli.infura.io/v3/${n}`,"0xaa36a7":`https://sepolia.infura.io/v3/${n}`,"0xe708":`https://linea-mainnet.infura.io/v3/${n}`,"0xe704":`https://linea-goerli.infura.io/v3/${n}`,"0x89":`https://polygon-mainnet.infura.io/v3/${n}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${n}`,"0x45":`https://optimism-mainnet.infura.io/v3/${n}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${n}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${n}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${n}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${n}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${n}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${n}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${n}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${n}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${n}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${n}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${n}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${n}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${n}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${n}`};t.options.readonlyRPCMap?t.options.readonlyRPCMap=Object.assign(Object.assign({},t.options.readonlyRPCMap),r):t.options.readonlyRPCMap=r})),PBt=t=>Ie(void 0,void 0,void 0,(function*(){let{options:e}=t,{readonlyRPCMap:n}=e;if(n)try{Ee("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",n),t.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}}));function kBt(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(l){try{c(r.next(l))}catch(u){a(u)}}function s(l){try{c(r.throw(l))}catch(u){a(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof n?u:new n((function(f){f(u)}))).then(o,s)}c((r=r.apply(t,[])).next())}))}function MBt(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return(function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(u[0]===6&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(f){u=[6,f],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}})([c,l])}}}var rFe="INSTALLED",iFe="NOT_INSTALLED",aFe="REGISTERED",oFe="REGISTERING",sFe="RELOADING",cFe={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},Zj="REGISTRATION_IN_PROGRESS",lFe="FORWARDER_ID",BBt=(function(){function t(e){var n=e===void 0?{}:e,r=n.forwarderOrigin,i=r===void 0?"https://fwd.metamask.io":r,a=n.forwarderMode,o=a===void 0?t.FORWARDER_MODE.INJECT:a;this.forwarderOrigin=i,this.forwarderMode=o,this.state=t.isMetaMaskInstalled()?rFe:iFe;var s=t._detectBrowser();this.downloadUrl=s?cFe[s]:cFe.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),o===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(Zj)==="true"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type==="metamask:reload"?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},t.prototype._onMessageFromForwarder=function(e){return kBt(this,0,void 0,(function(){return MBt(this,(function(n){switch(n.label){case 0:switch(this.state){case sFe:return[3,1];case iFe:return[3,2];case rFe:return[3,3];case oFe:return[3,5];case aFe:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=sFe,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=oFe,[4,t._register()];case 4:return n.sent(),this.state=aFe,e.source.postMessage({type:"metamask:registrationCompleted"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}}))}))},t.prototype.startOnboarding=function(){sessionStorage.setItem(Zj,"true"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(Zj)==="true"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),t._removeForwarder()),sessionStorage.setItem(Zj,"false"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},t._injectForwarder=function(e){var n=document.body,r=document.createElement("iframe");r.setAttribute("height","0"),r.setAttribute("width","0"),r.setAttribute("style","display: none;"),r.setAttribute("src",e),r.setAttribute("id",lFe),n.insertBefore(r,n.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(lFe))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=Wze.parse(window.navigator.userAgent);return e.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},t.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},t})();function DBt(t,{wait:e=!1}){return Ie(this,void 0,void 0,(function*(){return Ee(`[MetamaskInstaller: startInstaller()] wait=${e}`),e&&(yield Qze(1e3)),yield t.checkInstallation()}))}var rue=class{constructor({remote:e,preferDesktop:n,platformManager:r,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=n,this.state.platformManager=r,this.state.debug=i}startDesktopOnboarding(){return(function(){return Ie(this,void 0,void 0,(function*(){Ee("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new BBt().startOnboarding()}))})()}redirectToProperInstall(){return Ie(this,void 0,void 0,(function*(){return(function(e){var n,r;return Ie(this,void 0,void 0,(function*(){let{state:i}=e,a=(n=i.platformManager)===null||n===void 0?void 0:n.getPlatformType();if(Ee(`[MetamaskInstaller: redirectToProperInstall()] platform=${a}`),a===oc.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(r=i.remote)===null||r===void 0?void 0:r.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(o){throw i.isInstalling=!1,o}return!0}))})(this)}))}checkInstallation(){return Ie(this,void 0,void 0,(function*(){return(function(e){var n;return Ie(this,void 0,void 0,(function*(){let{state:r}=e,i=(n=r.platformManager)===null||n===void 0?void 0:n.isMetaMaskInstalled();return Ee(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())}))})(this)}))}start({wait:e=!1,connectWith:n}){return Ie(this,void 0,void 0,(function*(){this.state.connectWith=n,Ee(`[MetaMaskInstaller: start()] wait=${e}`,n),yield DBt(this,{wait:e})}))}},WG=class{constructor({debug:e,sdkVersion:n}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=n}loadComponent(e){return Ie(this,void 0,void 0,(function*(){if(!this.defined[e]){this.defined[e]=!0;try{let n=yield Promise.resolve().then((function(){return mDt}));console.log("loader",n),n.defineCustomElements()}catch(n){console.error(`Failed to load ${e} modal:`,n)}}}))}renderInstallModal(e){var n;return Ie(this,void 0,void 0,(function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");let r=document.createElement("mm-install-modal");r.link=e.link,r.preferDesktop=e.preferDesktop,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.addEventListener("close",(({detail:{shouldTerminate:i}})=>e.onClose(i))),r.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),r.addEventListener("trackAnalytics",(i=>{var a;return(a=e.onAnalyticsEvent)===null||a===void 0?void 0:a.call(e,i.detail)})),e.parentElement.appendChild(r)}))}renderSelectModal(e){var n;return Ie(this,void 0,void 0,(function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");let r=document.createElement("mm-select-modal");r.link=e.link,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.preferDesktop=e.preferDesktop,r.addEventListener("close",(({detail:{shouldTerminate:i}})=>e.onClose(i))),r.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(r),setTimeout((()=>this.updateQRCode(e.link)),100)}))}renderPendingModal(e){var n;return Ie(this,void 0,void 0,(function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");let r=document.createElement("mm-pending-modal");r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.displayOTP=e.displayOTP,r.addEventListener("close",e.onClose),r.addEventListener("updateOTPValue",(({detail:{otpValue:i}})=>e.updateOTPValue(i))),e.onDisconnect&&r.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(r)}))}updateOTPValue(e){let n=()=>{var r;let i=(r=this.containers.pending)===null||r===void 0?void 0:r.querySelector("mm-pending-modal");return!!i&&(i.otpCode=e,!0)};setTimeout((()=>{n()}),800)}updateQRCode(e){var n,r;let i=(n=this.containers.install)===null||n===void 0?void 0:n.querySelector("mm-install-modal");if(i)i.link=e;else{let a=(r=this.containers.select)===null||r===void 0?void 0:r.querySelector("mm-select-modal");a&&(a.link=e)}}unmount(){Object.entries(this.containers).forEach((([e,n])=>{var r;(r=n?.parentNode)===null||r===void 0||r.removeChild(n),this.containers[e]=void 0}))}},LBt=({link:t,debug:e,installer:n,terminate:r,connectWithExtension:i,preferDesktop:a,onAnalyticsEvent:o})=>{let s=null,c=null;Ee("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),Ee(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),Ee(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --ios`),Ee(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --android`),Ee(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${t}"`);let l=u=>{var f;Ee("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",u,c),c?.parentNode&&((f=c.parentNode)===null||f===void 0||f.removeChild(c)),c=null,s=null,u===!0&&r?.()};return{mount:u=>{if(Ee("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",c),c)return c.style.display="block",void(s==null||s.updateQRCode(u));s=new WG({debug:e,sdkVersion:nv.version}),c=document.createElement("div"),document.body.appendChild(c),window.extension?s.renderSelectModal({parentElement:c,connectWithExtension:()=>{l(),i?.()},onClose:l,link:t,preferDesktop:a!=null&&a}).catch((f=>{console.error(f)})):s.renderInstallModal({parentElement:c,preferDesktop:a!=null&&a,link:t,metaMaskInstaller:n,onClose:l,onAnalyticsEvent:o}).catch((f=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",f)}))},unmount:l}},UBt=({onDisconnect:t,debug:e})=>{let n=null,r=null,i=()=>{Ee("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",n),n?.parentNode&&n.parentNode.removeChild(n),n=null,r=null},a=s=>{Ee("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",s),r&&r.updateOTPValue(s)},o=({displayOTP:s}={displayOTP:!0})=>{Ee("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",n),n?n.style.display="block":(r=new WG({debug:e,sdkVersion:nv.version}),n=document.createElement("div"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:t,updateOTPValue:a,displayOTP:s}).catch((c=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",c)})))};return o(),{mount:o,unmount:i,updateOTPValue:a}};function Zze(t,e){var n,r,i,a;t.connector||(Ee("[RemoteConnection: initializeConnector()] initialize connector"),t.connector=new Lle({anonId:e.anonId,platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:nv.version,context:"dapp",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(Ee("[RemoteConnection: initializeConnector()] reset background timer",e.timer),(r=(n=e.timer)===null||n===void 0?void 0:n.stopBackgroundTimer)===null||r===void 0||r.call(n),(a=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||a===void 0||a.call(i,(()=>!1),1e4)))}function iue(t){t.listeners.forEach((({event:e,handler:n})=>{var r;(r=t.connector)===null||r===void 0||r.off(e,n)})),t.listeners=[]}function FBt(t,e,n){return Ie(this,void 0,void 0,(function*(){let r=setTimeout((()=>{ro.analytics.track("sdk_connection_failed",{transport_type:"websocket"})}),6e4);return new Promise(((i,a)=>{if(!t.connector)return void a(new Error("No connector available"));Ee("[RemoteConnection: connectWithModalInstaller()]",{state:t,options:e,linkParams:n});let o=`${t.useDeeplink?IN:CN}?${n}`;(function(s,c,l){var u,f,d,p;s.installModal=(f=(u=c.modals).install)===null||f===void 0?void 0:f.call(u,{link:l,preferDesktop:s.preferDesktop,installer:c.getMetaMaskInstaller(),terminate:()=>{Ee("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),c.sdk.terminate().catch((h=>{console.warn("[MMSDK] failed to terminate connection",h)}))},debug:s.developerMode,connectWithExtension:()=>{var h;return(h=c.connectWithExtensionProvider)===null||h===void 0||h.call(c),!1},onAnalyticsEvent:({event:h,params:m})=>{var w,g,x;let C=Object.assign(Object.assign({},m),{sdkVersion:c.sdk.getVersion(),dappId:(w=c.dappMetadata)===null||w===void 0?void 0:w.name,source:c._source,url:(g=c.dappMetadata)===null||g===void 0?void 0:g.url});(x=s.analytics)===null||x===void 0||x.send({event:h,params:C})}}),(p=(d=s.installModal)===null||d===void 0?void 0:d.mount)===null||p===void 0||p.call(d,l)})(t,e,o),e.sdk.once(Ve.PROVIDER_UPDATE,(s=>Ie(this,void 0,void 0,(function*(){if(Ee("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),s===Fh.TERMINATE){let c={code:4001,message:"User rejected the request."};return clearTimeout(r),void a(c)}a(s)})))),t.connector.once(Ve.AUTHORIZED,(()=>{clearTimeout(r),i()})),t.connector.once(Ve.REJECTED,(()=>{clearTimeout(r),a(Ve.REJECTED)})),t.connector.once(Ve.CLIENTS_READY,(()=>Ie(this,void 0,void 0,(function*(){Ee("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(r),i()}))))}))}))}function Xze(t,e){function n(r,i){var a;(a=t.connector)===null||a===void 0||a.on(r,i),t.listeners.push({event:r,handler:i})}t.connector&&(iue(t),n(Ve.WALLET_INIT,(({accounts:r,chainId:i})=>Ie(this,void 0,void 0,(function*(){Ee(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${r} chainId=${i}`);let a=Y1.getProvider();a._setConnected();let o={accounts:r,chainId:i,isUnlocked:!1};a._initializeState(o),a.emit("chainChanged",i),a.emit("accountsChanged",r)})))),n(Ve.AUTHORIZED,(()=>Ie(this,void 0,void 0,(function*(){var r,i,a,o;try{Ee("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",t.pendingModal,t.installModal);let s=Y1.getProvider();s._setConnected(),(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(o=(a=t.installModal)===null||a===void 0?void 0:a.unmount)===null||o===void 0||o.call(a,!1),t.otpAnswer=void 0,t.authorized=!0,Ee("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",s.getState()),yield s.forceInitializeState()}catch{}})))),n(Ve.TERMINATE,(()=>{var r,i,a,o,s;(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(o=(a=t.installModal)===null||a===void 0?void 0:a.unmount)===null||o===void 0||o.call(a,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(s=t.connector)===null||s===void 0||s.disconnect({terminate:!0}),t.authorized=!1,Y1.getProvider().handleDisconnect({terminate:!0}),iue(t),Ee("[RemoteConnection: setupListeners()] All listeners cleaned up")})))}function HBt(t,e,{initialCheck:n,connectWith:r}={}){var i,a,o,s,c,l,u,f,d,p,h,m,w,g,x,C,P,D,F;return Ie(this,void 0,void 0,(function*(){try{if(Zze(t,e),!t.connector)throw new Error("no connector defined");Xze(t);let H=Y1.getProvider();t.authorized=!1,H.emit("connecting");let O=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();Ee(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,O);let M=(a=O?.channelId)!==null&&a!==void 0?a:"",N=(s=(o=t.connector.getKeyInfo())===null||o===void 0?void 0:o.ecies.public)!==null&&s!==void 0?s:"",v=(l=(c=t.connector.getKeyInfo())===null||c===void 0?void 0:c.ecies.private)!==null&&l!==void 0?l:"";if(n&&!O)return Promise.resolve();if(!O&&!n){let z=yield t.connector.generateChannelIdConnect();M=(u=z.channelId)!==null&&u!==void 0?u:"",N=(f=z.pubKey)!==null&&f!==void 0?f:"",v=(d=z.privKey)!==null&&d!==void 0?d:"";let V=Date.now();(p=t.connector.state.storageManager)===null||p===void 0||p.persistChannelConfig({channelId:M,localKey:v,lastActive:V,validUntil:V+iA})}if(n&&O?.channelId)return!((h=t.connector)===null||h===void 0)&&h.isConnected()||(Ee(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,O),yield(m=t.connector)===null||m===void 0?void 0:m.connectToChannel({channelId:M})),Promise.resolve();O&&!(!((w=t.connector)===null||w===void 0)&&w.isConnected())&&(Ee("[RemoteConnection: startConnection()] reconnecting to channel",O),yield(g=t.connector)===null||g===void 0?void 0:g.connectToChannel({channelId:M}));let I=!((x=t.platformManager)===null||x===void 0)&&x.isSecure()?"":"&t=q",S=nv.version,{iconUrl:y,name:b,url:_,scheme:A}=e.dappMetadata||{},T=(C=t.platformManager)===null||C===void 0?void 0:C.getPlatformType(),E="N/A";typeof window<"u"&&window.location&&window.location.hostname?E=window.location.hostname:b!==void 0?E=b:_!==void 0&&(E=_);let k={url:_??"",title:b??"",icon:y,scheme:A??"",apiVersion:S,dappId:E||_||"N/A",anonId:e.anonId,platform:T??"",source:(P=e._source)!==null&&P!==void 0?P:""},L=$G(JSON.stringify(k)),R=`channelId=${M}&v=2&comm=${(D=t.communicationLayerPreference)!==null&&D!==void 0?D:""}&pubkey=${N}${I}&originatorInfo=${L}`;if(r){R+=`&rpc=${$G(JSON.stringify(r))}`;let z=t.connector.getRPCMethodTracker();z&&(z[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}let U=encodeURI(R),j=`${t.useDeeplink?IN:CN}?${R}`;if(t.qrcodeLink=j,t.developerMode&&Ee(`[RemoteConnection: startConnection()] qrcodeLink=${U}`),H.emit("display_uri",j),ro.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),(F=t.platformManager)===null||F===void 0?void 0:F.isSecure()){let z=setTimeout((()=>{ro.analytics.track("sdk_connection_failed",{transport_type:"websocket"})}),6e4);return yield(function(V,$){var W,J;return Ie(this,void 0,void 0,(function*(){let X=`${CN}?${$}`,te=`${IN}?${$}`;(J=(W=V.platformManager)===null||W===void 0?void 0:W.openDeeplink)===null||J===void 0||J.call(W,X,te,"_self")}))})(t,U),new Promise(((V,$)=>{var W,J,X;if(!((W=t.connector)===null||W===void 0)&&W.isAuthorized())return clearTimeout(z),void V();(J=t.connector)===null||J===void 0||J.once(Ve.AUTHORIZED,(()=>{clearTimeout(z),V()})),(X=t.connector)===null||X===void 0||X.once(Ve.REJECTED,(()=>{clearTimeout(z),$(Ve.REJECTED)}))}))}return FBt(t,e,U)}catch(H){throw console.error("[startConnection] error",H),H}}))}var aue=class{constructor(e){var n,r,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;let a=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0||((r=e.logging)===null||r===void 0?void 0:r.sdk)===!0;this.state.developerMode=a,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=LBt),e.modals.otp||(e.modals.otp=UBt)}startConnection(e){return Ie(this,void 0,void 0,(function*(){return HBt(this.state,this.options,e)}))}initRemoteCommunication({sdkInstance:e}){var n,r,i;return Ie(this,void 0,void 0,(function*(){let a=yield(r=(n=e.options.storage)===null||n===void 0?void 0:n.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();if(!this.options.ecies){let o={privateKey:a?.localKey};this.options.ecies=o}Zze(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),Xze(this.state,this.options)}))}showActiveModal(){return(function(e){var n,r,i,a;e.authorized?Ee("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?(r=(n=e.pendingModal).mount)===null||r===void 0||r.call(n):e.installModal&&((a=(i=e.installModal).mount)===null||a===void 0||a.call(i,e.qrcodeLink||""))})(this.state)}closeModal(){var e,n,r,i;(n=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||n===void 0||n.call(e),(i=(r=this.state.installModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var n,r,i;Ee("[RemoteConnection: disconnect()]",e),e?.terminate&&(Y1.getProvider().handleDisconnect({terminate:!0}),(r=(n=this.state.pendingModal)===null||n===void 0?void 0:n.unmount)===null||r===void 0||r.call(n),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),(function(a){Ee("[RemoteConnection: cleanupConnector()] cleaning up connector"),a.connector&&(iue(a),a.connector.disconnect({terminate:!0}).catch((o=>{Ee("[RemoteConnection: cleanupConnector()] error disconnecting connector",o)})))})(this.state)}};function zBt(t){var e,n,r,i,a,o,s,c,l,u,f;return Ie(this,void 0,void 0,(function*(){let{options:d}=t;if(d.logging=(e=d.logging)!==null&&e!==void 0?e:{},d.communicationLayerPreference=(n=d.communicationLayerPreference)!==null&&n!==void 0?n:Qw.SOCKET,d.enableDebug!==void 0&&(cc.default.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),d.enableAnalytics=(r=d.enableAnalytics)===null||r===void 0||r,d.injectProvider=(i=d.injectProvider)===null||i===void 0||i,d.shouldShimWeb3=(a=d.shouldShimWeb3)===null||a===void 0||a,d.extensionOnly=(o=d.extensionOnly)===null||o===void 0||o,d.useDeeplink=(s=d.useDeeplink)===null||s===void 0||s,d.storage=(c=d.storage)!==null&&c!==void 0?c:{enabled:!0},d.headless){(0,cc.default)("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");let x=()=>{},C={install:()=>({mount:x,unmount:x})},P={installer:x};d.modals=C,d.ui=P}let p=((l=d.logging)===null||l===void 0?void 0:l.developerMode)===!0;t.debug=((u=d.logging)===null||u===void 0?void 0:u.sdk)||p,Ee("[MetaMaskSDK: performSDKInitialization()] options",t.options);let h=Object.assign({},d.logging);p&&(h.sdk=!0,h.eciesLayer=!0,h.keyExchangeLayer=!0,h.remoteLayer=!0,h.serviceLayer=!0,h.plaintext=!0),yield(function(x){var C;return Ie(this,void 0,void 0,(function*(){let{options:P}=x;x.platformManager=new VG({useDeepLink:(C=P.useDeeplink)!==null&&C!==void 0&&C,preferredOpenLink:P.openDeeplink,debug:x.debug})}))})(t),yield(function(x){var C,P,D,F,H;return Ie(this,void 0,void 0,(function*(){let{options:O}=x,M=(C=x.platformManager)===null||C===void 0?void 0:C.getPlatformType();x.analytics=new tue({serverUrl:(P=O.communicationServerUrl)!==null&&P!==void 0?P:rA,enabled:O.enableAnalytics,originatorInfo:{url:(D=O.dappMetadata.url)!==null&&D!==void 0?D:"",title:(F=O.dappMetadata.name)!==null&&F!==void 0?F:"",dappId:x.getDappId(),platform:M??"",source:(H=O._source)!==null&&H!==void 0?H:"",anonId:""}})}))})(t),yield(function(x){var C,P,D;return Ie(this,void 0,void 0,(function*(){if(!x.options.enableAnalytics||!(!((C=x.platformManager)===null||C===void 0)&&C.isBrowser())&&!(!((P=x.platformManager)===null||P===void 0)&&P.isReactNative()))return;let F=x.getVersion(),H=x.getDappId(),O=yield x.getAnonId(),M=(D=x.platformManager)===null||D===void 0?void 0:D.getPlatformType(),N=x.options._source;ro.analytics.setGlobalProperty("sdk_version",F),ro.analytics.setGlobalProperty("dapp_id",H),ro.analytics.setGlobalProperty("anon_id",O),ro.analytics.setGlobalProperty("platform",M),ro.analytics.setGlobalProperty("integration_type",N),ro.analytics.enable(),ro.analytics.track("sdk_initialized",{})}))})(t),yield(function(x){var C;return Ie(this,void 0,void 0,(function*(){let{options:P}=x;((C=P.storage)===null||C===void 0?void 0:C.enabled)!==!0||P.storage.storageManager||(P.storage.storageManager=yield Yze(P.storage))}))})(t),yield(function(x){return Ie(this,void 0,void 0,(function*(){let{options:C}=x,P=/^(http|https):\/\/[^\s]*$/;if(C.dappMetadata){C.dappMetadata.iconUrl&&!P.test(C.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),C.dappMetadata.iconUrl=void 0),C.dappMetadata.base64Icon&&C.dappMetadata.base64Icon.length>RBt&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),C.dappMetadata.base64Icon=void 0),C.dappMetadata.url&&!P.test(C.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");let D=IBt();if(D&&!C.dappMetadata.iconUrl&&!C.dappMetadata.base64Icon){let F=`${window.location.protocol}//${window.location.host}${D}`;C.dappMetadata.iconUrl=F}}x.dappMetadata=C.dappMetadata}))})(t),yield NBt(t),yield PBt(t);let{metamaskBrowserExtension:m,preferExtension:w,shouldReturn:g}=yield(function(x){var C,P,D,F;return Ie(this,void 0,void 0,(function*(){let{options:H}=x,O,M=!1,N=!1;if(typeof window<"u"&&window.ethereum&&!(!((C=x.platformManager)===null||C===void 0)&&C.isMetaMaskMobileWebView())){M=localStorage.getItem(KG)==="extension";try{O=yield OBt({mustBeMetaMask:!0,sdkInstance:x}),window.extension=O,O.on(Ih.CHAIN_CHANGED,(v=>{Ee(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${v}`),x.sdkProvider&&x.getMobileProvider().emit(Ih.CHAIN_CHANGED,v)})),O.on(Ih.ACCOUNTS_CHANGED,(v=>Ie(this,void 0,void 0,(function*(){var I;Ee(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${v}`);let S=!!x.sdkProvider,y=!!x.extensionActive;if(S&&x.getMobileProvider().emit(Ih.ACCOUNTS_CHANGED,v),y&&v?.length===0&&(yield(I=x.getProvider())===null||I===void 0?void 0:I.request({method:an.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield x.terminate()}catch(b){Ee("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",b)}})))),O.on(Ih.DISCONNECT,(v=>{Ee(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${v}`),x.sdkProvider&&x.getMobileProvider().emit(Ih.DISCONNECT,v)})),O.on(Ih.CONNECT,(v=>{Ee(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${v}`),x.sdkProvider&&x.getMobileProvider().emit(Ih.CONNECT,v)})),O.on(Ih.CONNECTED,(v=>{Ee("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",v),x.sdkProvider&&x.getMobileProvider().emit(Ih.CONNECTED,v)}))}catch{window.extension=void 0}}else!((P=x.platformManager)===null||P===void 0)&&P.isMetaMaskMobileWebView()&&((D=x.analytics)===null||D===void 0||D.send({event:Ro.SDK_USE_INAPP_BROWSER}),x.activeProvider=nue({provider:window.ethereum,sdkInstance:x}),x._initialized=!0,N=!0);return O&&H.extensionOnly&&(Ee("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(F=x.analytics)===null||F===void 0||F.send({event:Ro.SDK_USE_EXTENSION}),x.activeProvider=O,x.extensionActive=!0,x.extension=O,x._initialized=!0,N=!0),{preferExtension:M,shouldReturn:N,metamaskBrowserExtension:O}}))})(t);if(g)Ee("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield(function(x,C){var P,D,F,H,O;return Ie(this,void 0,void 0,(function*(){let{options:M}=x,N=Object.assign({},M.logging);x.remoteConnection=new aue({anonId:yield x.getAnonId(),preferDesktop:(P=M.preferDesktop)!==null&&P!==void 0&&P,communicationLayerPreference:(D=M.communicationLayerPreference)!==null&&D!==void 0?D:Qw.SOCKET,analytics:x.analytics,dappMetadata:M.dappMetadata,_source:M._source,enableAnalytics:(F=M.enableAnalytics)===null||F===void 0||F,timer:M.timer,sdk:x,platformManager:x.platformManager,transports:M.transports,communicationServerUrl:M.communicationServerUrl,storage:(H=M.storage)!==null&&H!==void 0?H:{enabled:!0},getMetaMaskInstaller:()=>{if(!x.installer)throw new Error("Invalid SDK status -- installer not initialized");return x.installer},logging:N,connectWithExtensionProvider:C===void 0?void 0:()=>eFe(x),modals:Object.assign(Object.assign({},M.modals),{onPendingModalDisconnect:x.terminate.bind(x)})}),yield x.remoteConnection.initRemoteCommunication({sdkInstance:x}),x.installer=new rue({remote:x.remoteConnection,preferDesktop:(O=M.preferDesktop)!==null&&O!==void 0&&O,platformManager:x.platformManager,debug:x.debug})}))})(t,m),yield SBt(t),yield(function(x,C){var P,D;return Ie(this,void 0,void 0,(function*(){let{options:F}=x;C?(Ee("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(P=x.analytics)===null||P===void 0||P.send({event:Ro.SDK_EXTENSION_UTILIZED}),eFe(x).catch((H=>{console.warn("Can't connect with MetaMask extension...",H),localStorage.removeItem(KG)}))):F.checkInstallationImmediately&&(!((D=x.platformManager)===null||D===void 0)&&D.isDesktopWeb()?(Ee("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),x.connect().catch((H=>{Ee(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${H}`)}))):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),x._initialized=!0}))})(t,w);try{yield(f=t.remoteConnection)===null||f===void 0?void 0:f.startConnection({initialCheck:!0})}catch(x){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",x)}t.emit(Gl.ProviderUpdate,Fh.INITIALIZED)}}))}var YG=class extends sA.default{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:ZUe,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",cc.default.disable();let a=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0;if((!((r=e.logging)===null||r===void 0)&&r.sdk||a)&&cc.default.enable("MM_SDK"),Ee("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=e.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=ZUe),this.init().then((()=>{Ee("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)})).catch((o=>{console.error("[MetaMaskSDK: constructor()] error during initialization",o)}))}init(){return Ie(this,void 0,void 0,(function*(){return(function(e){var n;return Ie(this,void 0,void 0,(function*(){if(typeof window<"u"&&(!((n=window.mmsdk)===null||n===void 0)&&n.isInitialized()))return Ee("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return Ee("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return Ee("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=zBt(e),yield e.sdkInitPromise}catch(r){throw console.error(r),r}return e.sdkInitPromise}))})(this)}))}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<"u"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){if(e._initialized||(Ee("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),Ee(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");let n=e.activeProvider.getSelectedAddress();return n?[n]:e.activeProvider.request({method:an.ETH_REQUESTACCOUNTS,params:[]})}))})(this)}))}connectAndSign({msg:e}){return Ie(this,void 0,void 0,(function*(){return ABt({instance:this,msg:e})}))}connectWith(e){return Ie(this,void 0,void 0,(function*(){return(function({instance:n,rpc:r}){return Ie(this,void 0,void 0,(function*(){if(n._initialized||(Ee("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield n.init()),Ee(`[MetaMaskSDK: connectWith()] method: ${r.method} rpc=${r}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");return n.activeProvider.request({method:an.METAMASK_CONNECTWITH,params:[r]})}))})({instance:this,rpc:e})}))}resume(){return(function(e){var n,r,i;return Ie(this,void 0,void 0,(function*(){if(!(!((r=(n=e.remoteConnection)===null||n===void 0?void 0:n.getConnector())===null||r===void 0)&&r.isReady()))return Ee("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());Ee("[MetaMaskSDK: resume()] channel is ready")}))})(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return(function(e){var n,r,i;return Ie(this,void 0,void 0,(function*(){if(!(!((n=e.platformManager)===null||n===void 0)&&n.isMetaMaskMobileWebView())){if(xBt&&(window.localStorage.removeItem(KG),window.localStorage.removeItem(Xle),window.localStorage.removeItem(Zle)),e.extensionActive){try{yield(r=e.activeProvider)===null||r===void 0?void 0:r.request({method:an.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(a){Ee("[MetaMaskSDK: terminate()] error revoking permissions",a)}return e.options.extensionOnly?(e.emit(Gl.ProviderUpdate,Fh.TERMINATE),void Ee("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(Gl.ProviderUpdate,Fh.TERMINATE))}e.emit(Gl.ProviderUpdate,Fh.TERMINATE),Ee(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}}))})(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;let n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!n)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return n}getChannelId(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||n===void 0?void 0:n.channelId}getRPCHistory(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getRPCMethodTracker()}getVersion(){return nv.version}getDappId(){var e,n,r,i;return typeof window>"u"||window.location===void 0?(i=(n=(e=this.options.dappMetadata)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:(r=this.options.dappMetadata)===null||r===void 0?void 0:r.url)!==null&&i!==void 0?i:"N/A":window.location.hostname}getAnonId(){var e,n;return Ie(this,void 0,void 0,(function*(){if(this._anonId)return this._anonId;let r;return r=!((e=this.platformManager)===null||e===void 0)&&e.isBrowser()?this.getBrowserAnonId():!((n=this.platformManager)===null||n===void 0)&&n.isReactNative()?yield this.getReactNativeAnonId():V1(),this._anonId=r,r}))}getBrowserAnonId(){let e=this.ANON_ID_STORAGE_KEY;try{let n=localStorage.getItem(e);if(n)return n;let r=V1();return localStorage.setItem(e,r),r}catch(n){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",n),V1()}}getReactNativeAnonId(){return Ie(this,void 0,void 0,(function*(){let e=this.ANON_ID_STORAGE_KEY;try{let n=ene("@react-native-async-storage/async-storage").default,r=yield n.getItem(e);if(r)return r;let i=V1();return yield n.setItem(e,i),i}catch(n){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",n),V1()}}))}getWalletStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.ping()}_keyCheck(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.keyCheck()}_getServiceStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,n){return super.emit(e,n)}on(e,n){return super.on(e,n)}},jBt=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return Ie(this,void 0,void 0,(function*(){let e=JSON.stringify(t);Ee(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem(yle,e)}))}getPersistedChannelConfig(){return Ie(this,void 0,void 0,(function*(){let t;try{if(Ee(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem(yle),Ee("[StorageManagerWeb: getPersistedChannelConfig()]",t),!t)return;let e=JSON.parse(t);return Ee("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",e),e}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}}))}persistAccounts(t){return Ie(this,void 0,void 0,(function*(){Ee(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);let e=JSON.stringify(t);localStorage.setItem(Zle,e)}))}getCachedAccounts(){return Ie(this,void 0,void 0,(function*(){try{let t=localStorage.getItem(Zle);return t?JSON.parse(t):[]}catch(t){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",t),t}}))}persistChainId(t){return Ie(this,void 0,void 0,(function*(){Ee(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(Xle,t)}))}getCachedChainId(){return Ie(this,void 0,void 0,(function*(){try{let t=localStorage.getItem(Xle);return t??void 0}catch(t){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",t),t}}))}terminate(){return Ie(this,void 0,void 0,(function*(){Ee(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(yle)}))}}}),GBt="hydrated",VBt=!1,KBt=!1,$Bt=!0,qBt=Object.defineProperty,Lue=new WeakMap,A2=t=>Lue.get(t),Uue=(t,e)=>Lue.set(e.$lazyInstance$=t,e),uFe=(t,e)=>e in t,Yw=(t,e)=>(0,console.error)(t,e),ble=new Map,hG=new Map,eje="slot-fb{display:contents}slot-fb[hidden]{display:none}",iV=typeof window<"u"?window:{},Lh=iV.document||{head:{}},y0={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},tje=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),oue=!1,fFe=[],nje=[],WBt=(t,e)=>n=>{t.push(n),oue||(oue=!0,4&y0.$flags$?Fue(sue):y0.raf(sue))},dFe=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Yw(n)}t.length=0},sue=()=>{dFe(fFe),dFe(nje),(oue=fFe.length>0)&&y0.raf(sue)},Fue=t=>(e=>Promise.resolve(e))().then(t),YBt=WBt(nje),pFe={},Hue=t=>(t=typeof t)=="object"||t==="function";function rje(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}((t,e)=>{for(var n in e)qBt(t,n,{get:e[n],enumerable:!0})})({},{err:()=>ije,map:()=>JBt,ok:()=>cue,unwrap:()=>QBt,unwrapErr:()=>ZBt});var cue=t=>({isOk:!0,isErr:!1,value:t}),ije=t=>({isOk:!1,isErr:!0,value:t});function JBt(t,e){if(t.isOk){let n=e(t.value);return n instanceof Promise?n.then((r=>cue(r))):cue(n)}if(t.isErr){let n=t.value;return ije(n)}throw"should never get here"}var mG,zue,QBt=t=>{if(t.isOk)return t.value;throw t.value},ZBt=t=>{if(t.isErr)return t.value;throw t.value},_e=(t,e,...n)=>{let r=null,i=!1,a=!1,o=[],s=l=>{for(let u=0;u<l.length;u++)r=l[u],Array.isArray(r)?s(r):r!=null&&typeof r!="boolean"&&((i=typeof t!="function"&&!Hue(r))&&(r=String(r)),i&&a?o[o.length-1].$text$+=r:o.push(i?JG(null,r):r),a=i)};if(s(n),e){let l=e.className||e.class;l&&(e.class=typeof l!="object"?l:Object.keys(l).filter((u=>l[u])).join(" "))}if(typeof t=="function")return t(e===null?{}:e,o,eDt);let c=JG(t,null);return c.$attrs$=e,o.length>0&&(c.$children$=o),c},JG=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),XBt={},eDt={forEach:(t,e)=>t.map(hFe).forEach(e),map:(t,e)=>t.map(hFe).map(e).map(tDt)},hFe=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),tDt=t=>{if(typeof t.vtag=="function"){let n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),_e(t.vtag,n,...t.vchildren||[])}let e=JG(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},aV=t=>A2(t).$hostElement$,T2=(t,e,n)=>{let r=aV(t);return{emit:i=>aje(r,e,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:i})}},aje=(t,e,n)=>{let r=y0.ce(e,n);return t.dispatchEvent(r),r},mFe=new WeakMap,nDt=t=>{let e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=(e.$tagName$,()=>{}),a=((o,s,c)=>{var l;let u=oje(s),f=hG.get(u);if(o=o.nodeType===11?o:Lh,f)if(typeof f=="string"){o=o.head||o;let d,p=mFe.get(o);if(p||mFe.set(o,p=new Set),!p.has(u)){{d=Lh.createElement("style"),d.innerHTML=f;let h=(l=y0.$nonce$)!=null?l:rje(Lh);if(h!=null&&d.setAttribute("nonce",h),!(1&s.$flags$))if(o.nodeName==="HEAD"){let m=o.querySelectorAll("link[rel=preconnect]"),w=m.length>0?m[m.length-1].nextSibling:o.querySelector("style");o.insertBefore(d,w)}else if("host"in o)if(tje){let m=new CSSStyleSheet;m.replaceSync(f),o.adoptedStyleSheets=[m,...o.adoptedStyleSheets]}else{let m=o.querySelector("style");m?m.innerHTML=f+m.innerHTML:o.prepend(d)}else o.append(d);1&s.$flags$&&o.nodeName!=="HEAD"&&o.insertBefore(d,null)}4&s.$flags$&&(d.innerHTML+=eje),p&&p.add(u)}}else o.adoptedStyleSheets.includes(f)||(o.adoptedStyleSheets=[...o.adoptedStyleSheets,f]);return u})(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);10&r&&2&r&&(n["s-sc"]=a,n.classList.add(a+"-h")),i()},oje=(t,e)=>"sc-"+t.$tagName$,yFe=(t,e,n,r,i,a)=>{if(n!==r){let o=uFe(t,e),s=e.toLowerCase();if(e==="class"){let c=t.classList,l=bFe(n),u=bFe(r);c.remove(...l.filter((f=>f&&!u.includes(f)))),c.add(...u.filter((f=>f&&!l.includes(f))))}else if(e==="style"){for(let c in n)r&&r[c]!=null||(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(let c in r)n&&r[c]===n[c]||(c.includes("-")?t.style.setProperty(c,r[c]):t.style[c]=r[c])}else if(o||e[0]!=="o"||e[1]!=="n"){let c=Hue(r);if((o||c&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{let l=r??"";e==="list"?o=!1:n!=null&&t[e]==l||(typeof t.__lookupSetter__(e)=="function"?t[e]=l:t.setAttribute(e,l))}}catch{}r==null||r===!1?r===!1&&t.getAttribute(e)!==""||t.removeAttribute(e):(!o||4&a||i)&&!c&&(r=r===!0?"":r,t.setAttribute(e,r))}else if(e=e[2]==="-"?e.slice(3):uFe(iV,s)?s.slice(2):s[2]+e.slice(3),n||r){let c=e.endsWith(sje);e=e.replace(iDt,""),n&&y0.rel(t,e,n,c),r&&y0.ael(t,e,r,c)}}},rDt=/\s/,bFe=t=>t?t.split(rDt):[],sje="Capture",iDt=new RegExp(sje+"$"),cje=(t,e,n)=>{let r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||pFe,a=e.$attrs$||pFe;for(let o of gFe(Object.keys(i)))o in a||yFe(r,o,i[o],void 0,n,e.$flags$);for(let o of gFe(Object.keys(a)))yFe(r,o,i[o],a[o],n,e.$flags$)};function gFe(t){return t.includes("ref")?[...t.filter((e=>e!=="ref")),"ref"]:t}var lje=!1,Ad=!1,jue=(t,e,n,r)=>{let i=e.$children$[n],a,o,s=0;if(i.$text$!==null)a=i.$elm$=Lh.createTextNode(i.$text$);else{if(Ad||(Ad=i.$tag$==="svg"),a=i.$elm$=Lh.createElementNS(Ad?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!lje&&KBt&&2&i.$flags$?"slot-fb":i.$tag$),Ad&&i.$tag$==="foreignObject"&&(Ad=!1),cje(null,i,Ad),a.getRootNode().querySelector("body")&&VBt&&(c=>c!=null)(mG)&&a["s-si"]!==mG&&a.classList.add(a["s-si"]=mG),i.$children$)for(s=0;s<i.$children$.length;++s)o=jue(t,i,s),o&&a.appendChild(o);i.$tag$==="svg"?Ad=!1:a.tagName==="foreignObject"&&(Ad=!0)}return a["s-hn"]=zue,a},wFe=(t,e,n,r,i,a)=>{let o,s=t;for(s.shadowRoot&&s.tagName===zue&&(s=s.shadowRoot);i<=a;++i)r[i]&&(o=jue(null,n,i),o&&(r[i].$elm$=o,yG(s,o,e)))},vFe=(t,e,n)=>{for(let r=e;r<=n;++r){let i=t[r];if(i){let a=i.$elm$;a&&a.remove()}}},Xj=(t,e,n=!1)=>t.$tag$===e.$tag$,iN=(t,e,n=!1)=>{let r=e.$elm$=t.$elm$,i=t.$children$,a=e.$children$,o=e.$tag$,s=e.$text$;s===null?(cje(t,e,Ad=o==="svg"||o!=="foreignObject"&&Ad),i!==null&&a!==null?((c,l,u,f,d=!1)=>{let p,h=0,m=0,w=l.length-1,g=l[0],x=l[w],C=f.length-1,P=f[0],D=f[C];for(;h<=w&&m<=C;)g==null?g=l[++h]:x==null?x=l[--w]:P==null?P=f[++m]:D==null?D=f[--C]:Xj(g,P,d)?(iN(g,P,d),g=l[++h],P=f[++m]):Xj(x,D,d)?(iN(x,D,d),x=l[--w],D=f[--C]):Xj(g,D,d)?(iN(g,D,d),yG(c,g.$elm$,x.$elm$.nextSibling),g=l[++h],D=f[--C]):Xj(x,P,d)?(iN(x,P,d),yG(c,x.$elm$,g.$elm$),x=l[--w],P=f[++m]):(p=jue(l&&l[m],u,m),P=f[++m],p&&yG(g.$elm$.parentNode,p,g.$elm$));h>w?wFe(c,f[C+1]==null?null:f[C+1].$elm$,u,f,m,C):m>C&&vFe(l,h,w)})(r,i,e,a,n):a!==null?(t.$text$!==null&&(r.textContent=""),wFe(r,null,e,a,0,a.length-1)):!n&&$Bt&&i!==null&&vFe(i,0,i.length-1),Ad&&o==="svg"&&(Ad=!1)):t.$text$!==s&&(r.data=s)},yG=(t,e,n)=>t?.insertBefore(e,n),aDt=(t,e,n=!1)=>{let r=t.$hostElement$,i=t.$cmpMeta$,a=t.$vnode$||JG(null,null),o=(s=e)&&s.$tag$===XBt?e:_e(null,null,e);var s;if(zue=r.tagName,n&&o.$attrs$)for(let c of Object.keys(o.$attrs$))r.hasAttribute(c)&&!["key","ref","style","class"].includes(c)&&(o.$attrs$[c]=r[c]);o.$tag$=null,o.$flags$|=4,t.$vnode$=o,o.$elm$=a.$elm$=r.shadowRoot||r,mG=r["s-sc"],lje=(1&i.$flags$)!=0,iN(a,o,n)},uje=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((n=>t.$onRenderResolve$=n)))},Gue=(t,e)=>(t.$flags$|=16,4&t.$flags$?void(t.$flags$|=512):(uje(t,t.$ancestorComponent$),YBt((()=>oDt(t,e))))),oDt=(t,e)=>{let n=t.$hostElement$,r=(t.$cmpMeta$.$tagName$,()=>{}),i=t.$lazyInstance$;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return r(),sDt(void 0,(()=>lDt(t,i,e)))},sDt=(t,e)=>cDt(t)?t.then(e).catch((n=>{console.error(n),e()})):e(),cDt=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",lDt=async(t,e,n)=>{var r;let i=t.$hostElement$,a=(t.$cmpMeta$.$tagName$,()=>{}),o=i["s-rc"];n&&nDt(t);let s=(t.$cmpMeta$.$tagName$,()=>{});uDt(t,e,i,n),o&&(o.map((c=>c())),i["s-rc"]=void 0),s(),a();{let c=(r=i["s-p"])!=null?r:[],l=()=>fDt(t);c.length===0?l():(Promise.all(c).then(l),t.$flags$|=4,c.length=0)}},uDt=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,aDt(t,e,r)}catch(i){Yw(i,t.$hostElement$)}return null},fDt=t=>{t.$cmpMeta$.$tagName$;let e=t.$hostElement$,n=()=>{},r=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?n():(t.$flags$|=64,dje(e),Vue(r,"componentDidLoad"),n(),t.$onReadyResolve$(e),i||fje()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&Fue((()=>Gue(t,!1))),t.$flags$&=-517},fje=t=>{dje(Lh.documentElement),Fue((()=>aje(iV,"appload",{detail:{namespace:"sdk-install-modal-web"}})))},Vue=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){Yw(r)}},dje=t=>{var e;return t.classList.add((e=GBt)!=null?e:"hydrated")},dDt=(t,e,n,r)=>{let i=A2(t);if(!i)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);let a=i.$hostElement$,o=i.$instanceValues$.get(e),s=i.$flags$,c=i.$lazyInstance$;var l,u;l=n,u=r.$members$[e][0],n=l==null||Hue(l)?l:4&u?l!=="false"&&(l===""||!!l):1&u?String(l):l;let f=Number.isNaN(o)&&Number.isNaN(n);if((!(8&s)||o===void 0)&&n!==o&&!f&&(i.$instanceValues$.set(e,n),c)){if(r.$watchers$&&128&s){let d=r.$watchers$[e];d&&d.map((p=>{try{c[p](n,o,e)}catch(h){Yw(h,a)}}))}(18&s)==2&&Gue(i,!1)}},pje=(t,e,n)=>{var r,i;let a=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);let o=Object.entries((r=e.$members$)!=null?r:{});if(o.map((([s,[c]])=>{(31&c||2&n&&32&c)&&Object.defineProperty(a,s,{get(){return l=s,A2(this).$instanceValues$.get(l);var l},set(l){dDt(this,s,l,e)},configurable:!0,enumerable:!0})})),1&n){let s=new Map;a.attributeChangedCallback=function(c,l,u){y0.jmp((()=>{var f;let d=s.get(c);if(this.hasOwnProperty(d))u=this[d],delete this[d];else{if(a.hasOwnProperty(d)&&typeof this[d]=="number"&&this[d]==u)return;if(d==null){let p=A2(this),h=p?.$flags$;if(h&&!(8&h)&&128&h&&u!==l){let m=p.$lazyInstance$,w=(f=e.$watchers$)==null?void 0:f[c];w?.forEach((g=>{m[g]!=null&&m[g].call(m,u,l,c)}))}return}}this[d]=(u!==null||typeof this[d]!="boolean")&&u}))},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter((([c,l])=>15&l[0])).map((([c,l])=>{let u=l[1]||c;return s.set(u,c),u}))]))}}return t},pDt=async(t,e,n,r)=>{let i;if((32&e.$flags$)==0){if(e.$flags$|=32,n.$lazyBundleId$){let s=((l,u,f)=>{let d=l.$tagName$.replace(/-/g,"_"),p=l.$lazyBundleId$;if(!p)return;let h=ble.get(p);if(h)return h[d];{let m=w=>(ble.set(p,w),w[d]);if(p==="mm-install-modal_3")return Promise.resolve().then((function(){return IDt})).then(m,Yw)}return LPt(`./${p}.entry.js`).then((m=>(ble.set(p,m),m[d])),Yw)})(n);if(s&&"then"in s){let l=()=>{};i=await s,l()}else i=s;if(!i)throw new Error(`Constructor for "${n.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(n.$watchers$=i.watchers,pje(i,n,2),i.isProxied=!0);let c=(n.$tagName$,()=>{});e.$flags$|=8;try{new i(e)}catch(l){Yw(l)}e.$flags$&=-9,e.$flags$|=128,c(),lue(e.$lazyInstance$)}else{i=t.constructor;let s=t.localName;customElements.whenDefined(s).then((()=>e.$flags$|=128))}if(i&&i.style){let s;typeof i.style=="string"&&(s=i.style);let c=oje(n);if(!hG.has(c)){let l=(n.$tagName$,()=>{});((u,f,d)=>{let p=hG.get(u);tje&&d?(p=p||new CSSStyleSheet,typeof p=="string"?p=f:p.replaceSync(f)):p=f,hG.set(u,p)})(c,s,!!(1&n.$flags$)),l()}}}let a=e.$ancestorComponent$,o=()=>Gue(e,!0);a&&a["s-rc"]?a["s-rc"].push(o):o()},lue=t=>{Vue(t,"connectedCallback")},EFe=t=>{Vue(t,"disconnectedCallback")},hDt=(t,e={})=>{var n;let r=()=>{},i=[],a=e.exclude||[],o=iV.customElements,s=Lh.head,c=s.querySelector("meta[charset]"),l=Lh.createElement("style"),u=[],f,d=!0;Object.assign(y0,e),y0.$resourcesUrl$=new URL(e.resourcesUrl||"./",Lh.baseURI).href;let p=!1;if(t.map((h=>{h[1].map((m=>{var w;let g={$flags$:m[0],$tagName$:m[1],$members$:m[2],$listeners$:m[3]};4&g.$flags$&&(p=!0),g.$members$=m[2],g.$watchers$=(w=m[4])!=null?w:{};let x=g.$tagName$,C=class extends HTMLElement{constructor(P){if(super(P),this.hasRegisteredEventListeners=!1,((D,F)=>{let H={$flags$:0,$hostElement$:D,$cmpMeta$:F,$instanceValues$:new Map};H.$onReadyPromise$=new Promise((O=>H.$onReadyResolve$=O)),D["s-p"]=[],D["s-rc"]=[],Lue.set(D,H)})(P=this,g),1&g.$flags$)if(P.shadowRoot){if(P.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${g.$tagName$}! Mode is set to ${P.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else P.attachShadow({mode:"open"})}connectedCallback(){A2(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),f&&(clearTimeout(f),f=null),d?u.push(this):y0.jmp((()=>(P=>{if((1&y0.$flags$)==0){let D=A2(P),F=D.$cmpMeta$,H=(F.$tagName$,()=>{});if(1&D.$flags$)D?.$lazyInstance$?lue(D.$lazyInstance$):D?.$onReadyPromise$&&D.$onReadyPromise$.then((()=>lue(D.$lazyInstance$)));else{D.$flags$|=1;{let O=P;for(;O=O.parentNode||O.host;)if(O["s-p"]){uje(D,D.$ancestorComponent$=O);break}}F.$members$&&Object.entries(F.$members$).map((([O,[M]])=>{if(31&M&&P.hasOwnProperty(O)){let N=P[O];delete P[O],P[O]=N}})),pDt(P,D,F)}H()}})(this)))}disconnectedCallback(){y0.jmp((()=>(async P=>{if((1&y0.$flags$)==0){let D=A2(P);D?.$lazyInstance$?EFe(D.$lazyInstance$):D?.$onReadyPromise$&&D.$onReadyPromise$.then((()=>EFe(D.$lazyInstance$)))}})(this)))}componentOnReady(){return A2(this).$onReadyPromise$}};g.$lazyBundleId$=h[0],a.includes(x)||o.get(x)||(i.push(x),o.define(x,pje(C,g,1)))}))})),i.length>0&&(p&&(l.textContent+=eje),l.textContent+=i.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",l.innerHTML.length)){l.setAttribute("data-styles","");let h=(n=y0.$nonce$)!=null?n:rje(Lh);h!=null&&l.setAttribute("nonce",h),s.insertBefore(l,c?c.nextSibling:s.firstChild)}d=!1,u.length?u.map((h=>h.connectedCallback())):y0.jmp((()=>f=setTimeout(fje,30))),r()};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var mDt=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<"u")return await void 0,hDt([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],e)},setNonce:t=>y0.$nonce$=t}),yDt={fontFamily:"Roboto, sans-serif"},Kue=({className:t},e)=>_e("div",{style:yDt,class:t},e),gle=({Icon:t,text:e})=>_e("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},_e("div",{class:"flexItem1"},_e(t,null)),_e("div",{class:"flexItem11"},_e("span",{style:{lineHeight:"2",color:"black"}},e))),bDt=()=>_e("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),_e("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),gDt=()=>_e("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),wDt=()=>_e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),vDt=()=>_e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),_e("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),_e("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function $ue({version:t}){return _e("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",t?`v${t}`:"unknown")}var que=()=>_e("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e("rect",{width:"16",height:"16",fill:"white"}),_e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),Wue=()=>_e("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},_e("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function jw(t,e){return t.toString(2).padStart(e,"0")}function xFe(t,e){let n=t%e;return n>=0?n:e+n}function Ju(t,e){return new Array(t).fill(e)}function AFe(...t){let e=0;for(let r of t)e=Math.max(e,r.length);let n=[];for(let r=0;r<e;r++)for(let i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function _Fe(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function TFe(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map((n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);let r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r}))},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map((n=>{if((function(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)})(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]}))}}}var pN=class t{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){let n=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),r=n.length,i=new Array(r),a;for(let o of n){let s=o.split("").map((c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)}));if(a&&s.length!==a)throw new Error(`Bitmap.fromString different row sizes: width=${a} cur=${s.length}`);a=s.length,i.push(s)}return a||(a=0),new t({height:r,width:a},i)}constructor(e,n){let{height:r,width:i}=t.size(e);this.data=n||Array.from({length:r},(()=>Ju(i,void 0))),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};let{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=xFe(e.x,this.width),e.y=xFe(e.y,this.height),e}rect(e,n,r){let{x:i,y:a}=this.xy(e),{height:o,width:s}=t.size(n,this.size({x:i,y:a}));for(let c=0;c<o;c++)for(let l=0;l<s;l++)this.data[a+c][i+l]=typeof r=="function"?r({x:l,y:c},this.data[a+c][i+l]):r;return this}rectRead(e,n,r){return this.rect(e,n,((i,a)=>(r(i,a),a)))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){let r=this.height+2*e,i=this.width+2*e,a=Ju(e,n),o=Array.from({length:e},(()=>Ju(i,n)));return new t({height:r,width:i},[...o,...this.data.map((s=>[...a,...s,...a])),...o])}embed(e,n){return this.rect(e,n.size(),(({x:r,y:i})=>n.data[i][r]))}rectSlice(e,n=this.size()){let r=new t(t.size(n,this.size(this.xy(e))));return this.rect(e,n,(({x:i,y:a},o)=>r.data[a][i]=o)),r}inverse(){let{height:e,width:n}=this;return new t({height:n,width:e}).rect({x:0,y:0},1/0,(({x:r,y:i})=>this.data[r][i]))}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);let{height:n,width:r}=this;return new t({height:e*n,width:e*r}).rect({x:0,y:0},1/0,(({x:i,y:a})=>this.data[Math.floor(a/e)][Math.floor(i/e)]))}clone(){return new t(this.size()).rect({x:0,y:0},this.size(),(({x:e,y:n})=>this.data[n][e]))}assertDrawn(){this.rectRead(0,1/0,((e,n)=>{if(typeof n!="boolean")throw new Error("Invalid color type="+typeof n)}))}toString(){return this.data.map((e=>e.map((n=>n===void 0?"?":n?"X":" ")).join(""))).join(`
`)}toASCII(){let{height:e,width:n,data:r}=this,i="";for(let a=0;a<e;a+=2){for(let o=0;o<n;o++){let s=r[a][o],c=a+1>=e||r[a+1][o];s||c?!s&&c?i+="\u2580":s&&!c?i+="\u2584":s&&c&&(i+=" "):i+="\u2588"}i+=`
`}return i}toTerm(){let e="\x1B[0m",n=`\x1B[1;47m  ${e}`,r=`\x1B[40m  ${e}`;return this.data.map((i=>i.map((a=>a?r:n)).join(""))).join(`
`)}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,(({x:n,y:r},i)=>{i&&(e+=`<rect x="${n}" y="${r}" width="1" height="1" />`)})),e+="</svg>",e}toGIF(){let e=s=>[255&s,s>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,((s,c)=>r.push(+(c===!0))));let i=126,a=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Ju(381,0),44,0,0,0,0,...n,0,7],o=Math.floor(r.length/i);for(let s=0;s<o;s++)a.push(127,128,...r.slice(i*s,i*(s+1)).map((c=>+c)));return a.push(r.length%i+1,128,...r.slice(o*i).map((s=>+s))),a.push(1,129,0,59),new Uint8Array(a)}toImage(e=!1){let{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4)),a=0;for(let o=0;o<n;o++)for(let s=0;s<r;s++){let c=this.data[o][s]?0:255;i[a++]=c,i[a++]=c,i[a++]=c,e||(i[a++]=255)}return{height:n,width:r,data:i}}},SFe=["low","medium","quartile","high"],CFe=["numeric","alphanumeric","byte","kanji","eci"],EDt=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],xDt={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},ADt={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},sc={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];let e=sc.size.encode(t)-6-1,n=e-6,r=Math.ceil(n/28),i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);let a=[6];for(let o=1;o<r;o++)a.push(e-(r-o)*i);return a.push(e),a},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){let n=sc.ECCode[t]<<3|e,r=n;for(let i=0;i<10;i++)r=r<<1^1335*(r>>9);return(n<<10|r)^sc.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:TFe("0123456789"),alphanumerc:TFe("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][sc.sizeType(t)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){let n=EDt[t-1],r=xDt[e][t-1],i=ADt[e][t-1],a=Math.floor(n/i)-r,o=i-n%i;return{words:r,numBlocks:i,shortBlocks:o,blockLen:a,capacity:8*(n-r*i),total:(r+a)*i+i-o}}},uue=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],Dt={tables:(t=>{let e=Ju(256,0),n=Ju(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,256&i&&(i^=285);return{exp:e,log:n}})(),exp:t=>Dt.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return Dt.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:Dt.tables.exp[(Dt.tables.log[t]+Dt.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>Dt.tables.exp[Dt.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return Dt.tables.exp[255-Dt.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: wrong length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let n=Ju(t+1,0);return n[0]=e,Dt.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[Dt.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];let n=Ju(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=Dt.add(n[r+i],Dt.mul(t[r],e[i]));return Dt.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;let n=Ju(t.length,0);for(let r=0;r<t.length;r++)n[r]=Dt.mul(t[r],e);return Dt.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(n==0)return[0];let r=Ju(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=Dt.mul(t[i],n);return Dt.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=Ju(r.length,0),a=r.length-n.length,o=r.slice(0,a);for(let s=0;s<o.length;s++)i[s]=o[s];for(let s=a;s<r.length;s++)i[s]=Dt.add(n[s-a],r[s]);return Dt.polynomial(i)},remainderPoly(t,e){let n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){let i=n[r];if(i!==0)for(let a=1;a<e.length;a++)e[a]!==0&&(n[r+a]=Dt.add(n[r+a],Dt.mul(e[a],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=Dt.mulPoly(e,[1,Dt.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return Dt.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=Dt.add(Dt.mul(e,n),t[r]);return n},euclidian(t,e,n){Dt.degree(t)<Dt.degree(e)&&([t,e]=[e,t]);let r=t,i=e,a=[0],o=[1];for(;2*Dt.degree(i)>=n;){let l=r,u=a;if(r=i,a=o,r[0]===0)throw new Error("rLast[0] === 0");i=l;let f=[0],d=Dt.inv(r[0]);for(;Dt.degree(i)>=Dt.degree(r)&&i[0]!==0;){let p=Dt.degree(i)-Dt.degree(r),h=Dt.mul(i[0],d);f=Dt.addPoly(f,Dt.monomial(p,h)),i=Dt.addPoly(i,Dt.mulPolyMonomial(r,p,h))}if(f=Dt.mulPoly(f,a),o=Dt.addPoly(f,u),Dt.degree(i)>=Dt.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}let s=Dt.coefficient(o,0);if(s==0)throw new Error("sigmaTilde(0) was zero");let c=Dt.inv(s);return[Dt.mulPolyScalar(o,c),Dt.mulPolyScalar(i,c)]}};function _Dt(t,e){let{words:n,shortBlocks:r,numBlocks:i,blockLen:a,total:o}=sc.capacity(t,e),s=(c=n,{encode(l){let u=Dt.divisorPoly(c),f=Array.from(l);return f.push(...u.slice(0,-1).fill(0)),Uint8Array.from(Dt.remainderPoly(f,u))},decode(l){let u=l.slice(),f=Dt.polynomial(Array.from(l)),d=Ju(c,0),p=!1;for(let C=0;C<c;C++){let P=Dt.evalPoly(f,Dt.exp(C));d[d.length-1-C]=P,P!==0&&(p=!0)}if(!p)return u;d=Dt.polynomial(d);let h=Dt.monomial(c,1),[m,w]=Dt.euclidian(h,d,c),g=Ju(Dt.degree(m),0),x=0;for(let C=1;C<256&&x<g.length;C++)Dt.evalPoly(m,C)===0&&(g[x++]=Dt.inv(C));if(x!==g.length)throw new Error("RS.decode: wrong errors number");for(let C=0;C<g.length;C++){let P=u.length-1-Dt.log(g[C]);if(P<0)throw new Error("RS.decode: wrong error location");let D=Dt.inv(g[C]),F=1;for(let H=0;H<g.length;H++)C!==H&&(F=Dt.mul(F,Dt.add(1,Dt.mul(g[H],D))));u[P]=Dt.add(u[P],Dt.mul(Dt.evalPoly(w,D),Dt.inv(F)))}return u}});var c;return{encode(l){let u=[],f=[];for(let m=0;m<i;m++){let w=a+(m<r?0:1);u.push(l.subarray(0,w)),f.push(s.encode(l.subarray(0,w))),l=l.subarray(w)}let d=AFe(...u),p=AFe(...f),h=new Uint8Array(d.length+p.length);return h.set(d),h.set(p,d.length),h},decode(l){if(l.length!==o)throw new Error(`interleave.decode: len(data)=${l.length}, total=${o}`);let u=[];for(let p=0;p<i;p++){let h=p<r;u.push(new Uint8Array(n+a+(h?0:1)))}let f=0;for(let p=0;p<a;p++)for(let h=0;h<i;h++)u[h][p]=l[f++];for(let p=r;p<i;p++)u[p][a]=l[f++];for(let p=a;p<a+n;p++)for(let h=0;h<i;h++){let m=h<r;u[h][p+(m?0:1)]=l[f++]}let d=[];for(let p of u)d.push(...Array.from(s.decode(p)).slice(0,-n));return Uint8Array.from(d)}}}function IFe(t,e,n,r){let i="",a=n.length;if(r==="numeric"){let f=sc.alphabet.numeric.decode(n.split("")),d=f.length;for(let p=0;p<d-2;p+=3)i+=jw(100*f[p]+10*f[p+1]+f[p+2],10);d%3==1?i+=jw(f[d-1],4):d%3==2&&(i+=jw(10*f[d-2]+f[d-1],7))}else if(r==="alphanumeric"){let f=sc.alphabet.alphanumerc.decode(n.split("")),d=f.length;for(let p=0;p<d-1;p+=2)i+=jw(45*f[p]+f[p+1],11);d%2==1&&(i+=jw(f[d-1],6))}else{if(r!=="byte")throw new Error("encode: unsupported type");{let f=(function(d){if(typeof d!="string")throw new Error("utf8ToBytes expected string, got "+typeof d);return new Uint8Array(new TextEncoder().encode(d))})(n);a=f.length,i=Array.from(f).map((d=>jw(d,8))).join("")}}let{capacity:o}=sc.capacity(t,e),s=jw(a,sc.lengthBits(t,r)),c=sc.modeBits[r]+s+i;if(c.length>o)throw new Error("Capacity overflow");c+="0".repeat(Math.min(4,Math.max(0,o-c.length))),c.length%8&&(c+="0".repeat(8-c.length%8));let l="1110110000010001";for(let f=0;c.length!==o;f++)c+=l[f%16];let u=Uint8Array.from(c.match(/(.{8})/g).map((f=>+`0b${f}`)));return _Dt(t,e).encode(u)}function RFe(t,e,n,r,i=!1){let a=(function(c,l,u,f=!1){let d=sc.size.encode(c),p=new pN(d+2),h=new pN(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);p=p.embed(0,h).embed({x:-h.width,y:0},h).embed({x:0,y:-h.height},h),p=p.rectSlice(1,d);let m=new pN(1).rect(0,1,!0).border(1,!1).border(1,!0),w=sc.alignmentPatterns(c);for(let g of w)for(let x of w)p.data[g][x]===void 0&&p.embed({x:x-2,y:g-2},m);p=p.hLine({x:0,y:6},1/0,(({x:g},x)=>x===void 0?g%2==0:x)).vLine({x:6,y:0},1/0,(({y:g},x)=>x===void 0?g%2==0:x));{let g=sc.formatBits(l,u),x=C=>!f&&(g>>C&1)==1;for(let C=0;C<6;C++)p.data[C][8]=x(C);for(let C=6;C<8;C++)p.data[C+1][8]=x(C);for(let C=8;C<15;C++)p.data[d-15+C][8]=x(C);for(let C=0;C<8;C++)p.data[8][d-C-1]=x(C);for(let C=8;C<9;C++)p.data[8][15-C-1+1]=x(C);for(let C=9;C<15;C++)p.data[8][15-C-1]=x(C);p.data[d-8][8]=!f}if(c>=7){let g=sc.versionBits(c);for(let x=0;x<18;x+=1){let C=!f&&(g>>x&1)==1,P=Math.floor(x/3),D=x%3+d-8-3;p.data[P][D]=C,p.data[D][P]=C}}return p})(t,e,r,i),o=0,s=8*n.length;if((function(c,l,u){let f=c.height,d=uue[l],p=-1,h=f-1;for(let m=f-1;m>0;m-=2){for(m==6&&(m=5);;h+=p){for(let w=0;w<2;w+=1){let g=m-w;c.data[h][g]===void 0&&u(g,h,d(g,h))}if(h+p<0||h+p>=f)break}p=-p}})(a,r,((c,l,u)=>{let f=!1;o<s&&(f=(n[o>>>3]>>(7-o&7)&1)!=0,o++),a.data[l][c]=f!==u})),o!==s)throw new Error("QR: bytes left after draw");return a}function TDt(t){let e=t.inverse(),n=p=>{let h=0;for(let m,w=0,g=1;w<p.length;w++)m===p[w]&&(g++,w!==p.length-1)||(g>=5&&(h+=g-5+3),m=p[w],g=1);return h},r=0;t.data.forEach((p=>r+=n(p))),e.data.forEach((p=>r+=n(p)));let i=0,a=t.data,o=t.width-1,s=t.height-1;for(let p=0;p<o;p++)for(let h=0;h<s;h++){let m=p+1,w=h+1;a[p][h]===a[m][h]&&a[m][h]===a[p][w]&&a[m][h]===a[m][w]&&(i+=3)}let c=p=>{let h=[!0,!1,!0,!0,!0,!1,!0],m=[!1,!1,!1,!1],w=[...h,...m],g=[...m,...h],x=0;for(let C=0;C<p.length;C++)_Fe(p,w,C)&&(x+=40),_Fe(p,g,C)&&(x+=40);return x},l=0;for(let p of t.data)l+=c(p);for(let p of e.data)l+=c(p);let u=0;t.rectRead(0,1/0,((p,h)=>u+=h?1:0));let f=u/(t.height*t.width)*100,d=10*Math.floor(Math.abs(f-50)/5);return r+i+l+d}function hje(t,e="raw",n={}){let r=n.ecc!==void 0?n.ecc:"medium";(function(u){if(!SFe.includes(u))throw new Error(`Invalid error correction mode=${u}. Expected: ${SFe}`)})(r);let i=n.encoding!==void 0?n.encoding:(function(u){let f="numeric";for(let d of u)if(!sc.alphabet.numeric.has(d)&&(f="alphanumeric",!sc.alphabet.alphanumerc.has(d)))return"byte";return f})(t);(function(u){if(!CFe.includes(u))throw new Error(`Encoding: invalid mode=${u}. Expected: ${CFe}`);if(u==="kanji"||u==="eci")throw new Error(`Encoding: ${u} is not supported (yet?).`)})(i),n.mask!==void 0&&(function(u){if(![0,1,2,3,4,5,6,7].includes(u)||!uue[u])throw new Error(`Invalid mask=${u}. Expected number [0..7]`)})(n.mask);let a,o=n.version,s=new Error("Unknown error");if(o!==void 0)(function(u){if(!Number.isSafeInteger(u)||u<1||u>40)throw new Error(`Invalid version=${u}. Expected number [1..40]`)})(o),a=IFe(o,r,t,i);else for(let u=1;u<=40;u++)try{a=IFe(u,r,t,i),o=u;break}catch(f){s=f}if(!o||!a)throw s;let c=(function(u,f,d,p){if(p===void 0){let h=(function(){let m,w=1/0;return{add(g,x){g>=w||(m=x,w=g)},get:()=>m,score:()=>w}})();for(let m=0;m<uue.length;m++)h.add(TDt(RFe(u,f,d,m,!0)),m);p=h.get()}if(p===void 0)throw new Error("Cannot find mask");return RFe(u,f,d,p)})(o,r,a,n.mask);c.assertDrawn();let l=n.border===void 0?2:n.border;if(!Number.isSafeInteger(l))throw new Error("Wrong border type="+typeof l);if(c=c.border(l,!1),n.scale!==void 0&&(c=c.scale(n.scale)),e==="raw")return c.data;if(e==="ascii")return c.toASCII();if(e==="svg")return c.toSVG();if(e==="gif")return c.toGIF();if(e==="term")return c.toTerm();throw new Error(`Unknown output: ${e}`)}var wle={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}},ON=class{constructor(e){var n;this.translations=wle,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(n=e?.baseUrl)!==null&&n!==void 0?n:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some((n=>n.toLowerCase().startsWith("en"))))return"en";let e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){let n=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(n)}async loadTranslations(e){let n=e.split("-")[0];if(n!=="en"&&this.supportedLocales.includes(n))try{let r=`${this.baseUrl}/${n}.json`,i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(r){console.warn(`\u274C Failed to load ${n} translations, falling back to English:`,r),this.translations=wle}else this.translations=wle}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,n){let r=e.split("."),i=n;for(let a of r){if(typeof i!="object")return"";i=i[a]}return typeof i=="string"?i:""}},hN;(function(t){t.SDK_MODAL_VIEWED="sdk_modal_viewed",t.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",t.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(hN||(hN={}));var mje=class{constructor(t){Uue(this,t),this.close=T2(this,"close",7),this.startDesktopOnboarding=T2(this,"startDesktopOnboarding",7),this.trackAnalytics=T2(this,"trackAnalytics",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new ON}componentDidLoad(){this.trackAnalytics.emit({event:hN.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:hN.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:hN.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;let t=r=>this.i18nInstance.t(r),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=hje(this.link,"svg",{ecc:"medium",scale:2});return _e(Kue,{className:"install-model"},_e("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),_e("div",{class:"modal"},_e("div",{class:"closeButtonContainer"},_e("div",{class:"right"},_e("span",{class:"closeButton",onClick:()=>this.onClose(!0)},_e(que,null)))),_e("div",{class:"logoContainer"},_e(Wue,null)),_e("div",null,_e("div",{class:"tabcontainer"},_e("div",{class:"flexContainer"},_e("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(e===1?"tabactive":"")},t("DESKTOP")),_e("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(e===2?"tabactive":"")},t("MOBILE")))),_e("div",{style:{display:e===1?"none":"block"}},_e("div",{class:"flexContainer"},_e("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},n&&_e("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:n}),_e("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT")," ",_e("br",null),_e("span",{class:"blue"},_e("b",null,t("META_MASK_MOBILE_APP"))))))),_e("div",{style:{display:e===2?"none":"block"}},_e("div",{class:"item"},_e(gle,{Icon:gDt,text:t("INSTALL_MODAL.TRUSTED_BY_USERS")})),_e("div",{class:"item"},_e(gle,{Icon:bDt,text:t("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),_e("div",{class:"item"},_e(gle,{Icon:wDt,text:t("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),_e("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},_e(vDt,null),_e("span",{class:"installExtensionText"},t("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),_e($ue,{version:this.sdkVersion})))}get el(){return aV(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};mje.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var yje=class{constructor(t){Uue(this,t),this.close=T2(this,"close",7),this.disconnect=T2(this,"disconnect",7),this.updateOTPValue=T2(this,"updateOTPValue",7),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new ON}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;let e=(t=this.displayOTP)===null||t===void 0||t,n=this.sdkVersion,r=i=>this.i18nInstance.t(i);return _e(Kue,{className:"pending-modal"},_e("div",{class:"backdrop",onClick:()=>this.onClose()}),_e("div",{class:"modal"},_e("div",{class:"closeButtonContainer"},_e("div",{class:"right"},_e("span",{class:"closeButton",onClick:()=>this.onClose()},_e(que,null)))),_e("div",{class:"logoContainer"},_e(Wue,null)),_e("div",null,_e("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},_e("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},r(e?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),_e("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),e&&_e("div",{class:"notice"},"* ",r("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),_e("div",{style:{marginTop:"20px"}},_e("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},r("PENDING_MODAL.DISCONNECT")))),_e($ue,{version:n})))}get el(){return aV(this)}};yje.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var SDt=()=>_e("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),CDt=()=>_e("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e("rect",{width:"400",height:"300",fill:"white"}),_e("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),_e("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),_e("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),_e("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),_e("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),_e("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),_e("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),_e("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),_e("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),_e("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),_e("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),_e("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),_e("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),_e("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),_e("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),_e("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),_e("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),_e("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),_e("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),_e("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),_e("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),_e("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),bje=class{constructor(t){Uue(this,t),this.close=T2(this,"close",7),this.connectWithExtension=T2(this,"connectWithExtension",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new ON,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;let t=i=>this.i18nInstance.t(i),e=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=hje(this.link,"svg",{ecc:"medium",scale:2});return _e(Kue,{className:"select-modal"},_e("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),_e("div",{class:"modal"},_e("div",{class:"closeButtonContainer"},_e("div",{class:"right"},_e("span",{class:"closeButton",onClick:()=>this.onClose(!0)},_e(que,null)))),_e("div",{class:"logoContainer"},_e(Wue,null)),_e("div",null,_e("div",{class:"tabcontainer"},_e("div",{class:"flexContainer"},_e("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(n===1?"tabactive":"")},t("DESKTOP")),_e("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(n===2?"tabactive":"")},t("MOBILE")))),_e("div",{style:{display:n===1?"none":"block"}},_e("div",{class:"flexContainer"},_e("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},_e("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:r}),_e("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT"),_e("br",null),_e("span",{class:"blue"},_e("b",null,t("META_MASK_MOBILE_APP"))))))),_e("div",{style:{display:n===2?"none":"block"}},_e("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},_e(CDt,null)),_e("div",{class:"extensionLabel"},t("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),_e("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},_e(SDt,null),_e("span",{class:"installExtensionText"},t("CONNECT_WITH_EXTENSION"))))),_e($ue,{version:e})))}get el(){return aV(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};bje.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var IDt=Object.freeze({__proto__:null,mm_install_modal:mje,mm_pending_modal:yje,mm_select_modal:bje});Co();var gje=fe(Ao());sj();kw();Cx();Yue();P5();md();Xb();ss();var Jue=class extends pA{constructor(e){super(e),K(this,"connectorNamespace",jo.EIP155),K(this,"currentChainNamespace",bt.EIP155),K(this,"type",cs.EXTERNAL),K(this,"name",ct.METAMASK),K(this,"status",Pe.NOT_READY),K(this,"metamaskProvider",null),K(this,"metamaskSDK",null),K(this,"metamaskOptions",void 0),K(this,"analytics",void 0),this.metamaskOptions=e.connectorSettings,this.analytics=e.analytics}get provider(){return this.status!==Pe.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var n;await super.init(e);let r=this.coreOptions.chains.find(c=>c.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r});let i=await oj(window),a={name:aj(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:i},o=(0,gje.default)(this.metamaskOptions||{},{dappMetadata:a});this.metamaskSDK=new YG(q(q({},o),{},{_source:"web3auth",useDeeplink:(n=o.useDeeplink)!==null&&n!==void 0?n:!0}));let s=await this.metamaskSDK.init();s&&(this.metamaskSDK=s),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=Pe.READY,this.emit(lt.READY,ct.METAMASK);try{if(e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,rt.connectionError("Failed to rehydrate.")}catch(c){this.emit(lt.REHYDRATION_ERROR,c)}}async connect({chainId:e}){if(super.checkConnectionRequirements(),!this.metamaskSDK)throw rt.notConnectedError("Connector is not initialized");let n=this.coreOptions.chains.find(f=>f.chainId===e);if(!n)throw rt.connectionError("Chain config is not available");let r=!this.isInjected&&!this.rehydrated,i=Date.now(),a={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:H1(n),chain_name:n?.displayName,chain_namespace:n?.chainNamespace};try{if(this.status!==Pe.CONNECTING){var o;this.status=Pe.CONNECTING,this.emit(lt.CONNECTING,{connector:ct.METAMASK}),!this.metamaskSDK.isExtensionActive()&&(o=this.metamaskOptions)!==null&&o!==void 0&&o.headless&&this.metamaskSDK.getProvider().on("display_uri",p=>{this.updateConnectorData({uri:p})}),await this.metamaskSDK.connect()}if(this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw rt.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==n.chainId&&await this.switchChain(n,!0);let d=p=>{p.length===0&&this.disconnect()};if(this.metamaskProvider.on("accountsChanged",d),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=Pe.CONNECTED,r){var s,c;(s=this.analytics)===null||s===void 0||s.track(Vn.CONNECTION_STARTED,a),(c=this.analytics)===null||c===void 0||c.track(Vn.CONNECTION_COMPLETED,q(q({},a),{},{duration:Date.now()-i}))}return this.emit(lt.CONNECTED,{connector:ct.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider}),this.metamaskProvider}catch(f){if(this.status=Pe.READY,this.rehydrated||this.emit(lt.ERRORED,f),this.rehydrated=!1,r){var l,u;(l=this.analytics)===null||l===void 0||l.track(Vn.CONNECTION_STARTED,a),(u=this.analytics)===null||u===void 0||u.track(Vn.CONNECTION_FAILED,q(q(q({},a),XR(f)),{},{duration:Date.now()-i}))}throw f instanceof Ua?f:rt.connectionError("Failed to login with MetaMask wallet",f)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw rt.connectionError("MetaMask provider is not available");await super.disconnectSession(),typeof this.metamaskProvider.removeAllListeners<"u"&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=Pe.NOT_READY,this.metamaskProvider=null):this.status=Pe.READY,await super.disconnect()}async getUserInfo(){if(this.status!==Pe.CONNECTED)throw rt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);let r=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await r()}catch(i){if(i?.code===4902){let a=this.coreOptions.chains.find(o=>o.chainId===e.chainId&&[bt.EIP155,bt.SOLANA].includes(o.chainNamespace));await this.addChain(a),await r()}else throw i}}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw rt.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}},wje=t=>({coreOptions:e,analytics:n})=>new Jue({connectorSettings:t,coreOptions:e,analytics:n});Qe();Zi();st();Co();var sV=q(q({},bt),{},{MULTICHAIN:"multichain"}),Td={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},hA=q({},Td),Que={WALLET_SERVICES:"wallet-services",NFT_CHECKOUT:"nft-checkout"},RDt={SOLANA:"solana"},MYn=q(q({},Que),RDt);Qe();ss();var lc=class t extends Ua{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,n="",r){return new t(e,`${t.messages[e]}${n}`,r)}static notInitialized(e="",n){return t.fromCode(5210,e,n)}static unsupportedConnector(e="",n){return t.fromCode(5211,e,n)}static providerRequired(e="",n){return t.fromCode(5212,e,n)}static web3authRequired(e="",n){return t.fromCode(5213,e,n)}static web3AuthNotConnected(e="",n){return t.fromCode(5214,e,n)}static alreadyInitialized(e="",n){return t.fromCode(5216,e,n)}static unsupportedChainNamespace(e="",n){return t.fromCode(5218,e,n)}static differentWeb3AuthNetwork(e="",n){return t.fromCode(5219,e,n)}static invalidParams(e="",n){return t.fromCode(5220,e,n)}static web3authNotInitialized(e="",n){return t.fromCode(5221,e,n)}static invalidSession(e="",n){return t.fromCode(5222,e,n)}static walletPluginNotConnected(e="",n){return t.fromCode(5223,e,n)}};K(lc,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});var Zue=class t extends Ua{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"NFTCheckoutPluginError"})}static fromCode(e,n="",r){return new t(e,`${t.messages[e]}${n}`,r)}static notInitialized(e="",n){return t.fromCode(6210,e,n)}static providerRequired(e="",n){return t.fromCode(6212,e,n)}static web3authRequired(e="",n){return t.fromCode(6213,e,n)}static web3AuthNotConnected(e="",n){return t.fromCode(6214,e,n)}static pluginNotConnected(e="",n){return t.fromCode(6223,e,n)}};K(Zue,"messages",{6210:"NFT Checkout Plugin is not initialized",6212:"Provider is required..",6213:"Web3Auth instance is required while initialization.",6214:"Web3Auth is not connected.",6223:"NFT Checkout plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});Xb();Co();md();U1();Cx();var Xue=class extends Ol{constructor(...e){super(...e),K(this,"name",Que.WALLET_SERVICES),K(this,"status",Td.DISCONNECTED),K(this,"SUPPORTED_CONNECTORS",[ct.AUTH]),K(this,"pluginNamespace",sV.MULTICHAIN),K(this,"wsEmbedInstance",void 0),K(this,"provider",null),K(this,"web3auth",null),K(this,"isInitialized",!1),K(this,"analytics",void 0)}get proxyProvider(){var e;return(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(e,n,r){if(this.isInitialized)return;if(!e)throw lc.web3authRequired();if(e.provider&&!this.SUPPORTED_CONNECTORS.includes(e.connectedConnectorName))throw lc.notInitialized();let i=e.currentChain;if(![bt.EIP155,bt.SOLANA].includes(i?.chainNamespace))throw lc.unsupportedChainNamespace();e.provider&&(this.provider=e.provider),this.web3auth=e,this.analytics=r;let a=e.getConnector(ct.AUTH);if(!a||!a.wsEmbed)throw lc.web3AuthNotConnected();this.wsEmbedInstance=a.wsEmbed,this.isInitialized=!0,this.status=Td.READY,this.emit(hA.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw lc.notInitialized();if(this.emit(hA.CONNECTING),this.status=Td.CONNECTING,!this.provider){var e;(e=this.web3auth)!==null&&e!==void 0&&e.provider&&(this.provider=this.web3auth.provider)}if(this.web3auth.status!==Pe.CONNECTED)throw lc.web3AuthNotConnected();if(!this.web3auth.provider)throw lc.providerRequired();try{this.emit(hA.CONNECTED),this.status=Td.CONNECTED}catch(n){De.error(n),this.status=Td.ERRORED,this.emit(hA.ERRORED,{error:n.message||"Something went wrong"})}}async showWalletConnectScanner(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw lc.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Vn.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:e?.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showCheckout(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw lc.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Vn.WALLET_CHECKOUT_CLICKED,{is_visible:e?.show,receive_wallet_address_enabled:!!(e!=null&&e.receiveWalletAddress),token_list:e?.tokenList,fiat_list:e?.fiatList}),this.wsEmbedInstance.showCheckout(e)}async showWalletUi(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw lc.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Vn.WALLET_UI_CLICKED,{is_visible:e?.show,path:e?.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw lc.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Vn.WALLET_SWAP_CLICKED,{is_visible:e?.show,from_token:e?.fromToken,to_token:e?.toToken,from_value_enabled:!!(e!=null&&e.fromValue),to_address_enabled:!!(e!=null&&e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return(e=this.wsEmbedInstance)===null||e===void 0?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==Td.CONNECTED)throw lc.invalidSession("Wallet Services plugin is not connected");(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(hA.DISCONNECTED),this.status=Td.DISCONNECTED}},vje=()=>()=>new Xue;BN();md();ss();U1();Xb();P5();var lgn=["walletScope"],RD=class extends Ol{constructor(e,n){if(super(),K(this,"coreOptions",void 0),K(this,"status",Pe.NOT_READY),K(this,"aaProvider",null),K(this,"connectors",[]),K(this,"commonJRPCProvider",null),K(this,"analytics",void 0),K(this,"plugins",{}),K(this,"storage",void 0),K(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),K(this,"loginMode",S5.NO_MODAL),!e.clientId)throw at.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?De.enableAll():De.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new TO,this.analytics.setGlobalProperties({integration_type:K0e.NATIVE_SDK}),this.loadState(n),this.state.idToken&&this.coreOptions.ssr&&(this.status=Pe.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(n=>n.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==Pe.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||((e=this.coreOptions.chains)===null||e===void 0||(e=e[0])===null||e===void 0?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,(e=this.currentChain)===null||e===void 0?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}set provider(e){throw new Error("Not implemented")}async init(e){let n=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:SO.WEB_NO_MODAL,sdk_version:kO,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let r={};try{var i,a;let{signal:s}=e||{},c;try{var o;c=await RO({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:(o=this.coreOptions.accountAbstractionConfig)===null||o===void 0?void 0:o.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(u){let f=await c5(u);throw De.error("Failed to fetch project configurations",f),at.notReady("failed to fetch project configurations",f)}this.initAccountAbstractionConfig(c),this.initChainsConfig(c),this.initCachedConnectorAndChainId(),this.initUIConfig(c),this.initWalletServicesConfig(c),this.analytics.setGlobalProperties({team_id:c.teamId}),r=this.getInitializationTrackData(),await hd(()=>this.setupCommonJRPCProvider(),s),this.on(lt.CONNECTORS_UPDATED,async({connectors:u})=>{await hd(()=>Promise.all(u.map(this.setupConnector.bind(this))),s,()=>{var d;((d=this.connectors)===null||d===void 0?void 0:d.length)>0&&this.cleanup()}),this.status===Pe.NOT_READY&&(this.status=Pe.READY,this.emit(lt.READY))}),await hd(()=>this.loadConnectors({projectConfig:c}),s),await hd(()=>this.initPlugins(),s);let l=this.getConnector(ct.AUTH);r=q(q({},r),{},{connectors:this.connectors.map(u=>u.name),plugins:Object.keys(this.plugins),auth_ux_mode:(l==null||(i=l.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((a=this.coreOptions.uiConfig)===null||a===void 0?void 0:a.uxMode)}),this.analytics.track(Vn.SDK_INITIALIZATION_COMPLETED,q(q({},r),{},{duration:Date.now()-n}))}catch(s){if(s instanceof DOMException&&s.name==="AbortError")return;throw this.analytics.track(Vn.SDK_INITIALIZATION_FAILED,q(q(q({},r),N5(s)),{},{duration:Date.now()-n})),De.error("Failed to initialize modal",s),s}}getConnector(e,n){return this.connectors.find(r=>r.name!==e?!1:n?r.connectorNamespace===jo.MULTICHAIN?!0:r.connectorNamespace===n:!0)||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(let e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var n;if(e.chainId===((n=this.currentChain)===null||n===void 0?void 0:n.chainId))return;if(!this.coreOptions.chains.find(i=>i.chainId===e.chainId))throw at.invalidParams("Invalid chainId");if(this.status===Pe.CONNECTED&&this.connectedConnector){await this.connectedConnector.switchChain(e);return}if(this.commonJRPCProvider){await this.commonJRPCProvider.switchChain(e);return}throw at.notReady("No wallet is ready")}async connectTo(e,n,r){this.loginMode=r||"no-modal";let i=this.getConnector(e,n?.chainNamespace);if(!i||!this.commonJRPCProvider)throw at.notFound(`Please add wallet connector for ${e} wallet, before connecting`);let a=this.getInitialChainIdForConnector(i),o=q(q({},n),{},{chainId:a.chainId}),s=Date.now(),c;if(e===ct.AUTH){var l;let u=n,f=i.getOAuthProviderConfig({authConnection:u.authConnection,authConnectionId:u.authConnectionId,groupedAuthConnectionId:u.groupedAuthConnectionId});c={connector:e,connector_type:i.type,chain_id:H1(a),chain_name:a.displayName,chain_namespace:a.chainNamespace,auth_connection:u.authConnection,auth_connection_id:u.authConnectionId,group_auth_connection_id:u.groupedAuthConnectionId,mfa_level:u.mfaLevel,wallet_key_enabled:u.getWalletKey,extra_login_options_enabled:!!u.extraLoginOptions,dapp_share_enabled:!!u.dappShare,curve:u.curve,auth_dapp_url:u.dappUrl,is_sfa:!!u.idToken,is_default_auth_connection:f?.isDefault,auth_ux_mode:(l=i.authInstance)===null||l===void 0||(l=l.options)===null||l===void 0?void 0:l.uxMode}}else c={connector:e,connector_type:i.type,is_injected:i.isInjected,chain_id:H1(a),chain_name:a.displayName,chain_namespace:a.chainNamespace};return this.analytics.track(Vn.CONNECTION_STARTED,c),new Promise((u,f)=>{let d=()=>{this.off(lt.CONNECTED,p),this.off(lt.ERRORED,h)},p=async()=>{let m=await i.getUserInfo();this.analytics.track(Vn.CONNECTION_COMPLETED,q(q({},c),{},{is_mfa_enabled:m?.isMfaEnabled,duration:Date.now()-s})),d(),u(this.provider)},h=async m=>{this.analytics.track(Vn.CONNECTION_FAILED,q(q(q({},c),N5(m)),{},{duration:Date.now()-s})),d(),f(m)};this.once(lt.CONNECTED,p),this.once(lt.ERRORED,h),i.connect(o),this.setCurrentChain(a.chainId)})}async logout(e={cleanup:!1}){if(this.status!==Pe.CONNECTED||!this.connectedConnector)throw rt.notConnectedError("No wallet is connected");await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if(De.debug("Getting user info",this.status,(e=this.connectedConnector)===null||e===void 0?void 0:e.name),this.status!==Pe.CONNECTED||!this.connectedConnector)throw rt.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(e){var n;if(this.status!==Pe.CONNECTED||!this.connectedConnector)throw rt.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==ct.AUTH)throw rt.unsupportedOperation("EnableMFA is not supported for this connector.");let r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(Vn.MFA_ENABLEMENT_STARTED,i),await this.connectedConnector.enableMFA(e)}catch(a){throw this.analytics.track(Vn.MFA_ENABLEMENT_FAILED,q(q({},i),N5(a))),a}}async manageMFA(e){var n;if(this.status!==Pe.CONNECTED||!this.connectedConnector)throw rt.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==ct.AUTH)throw rt.unsupportedOperation("ManageMFA is not supported for this connector.");let r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(Vn.MFA_MANAGEMENT_SELECTED,i),await this.connectedConnector.manageMFA(e)}catch(a){throw this.analytics.track(Vn.MFA_MANAGEMENT_FAILED,q(q({},i),N5(a))),a}}async getIdentityToken(){if(this.status!==Pe.CONNECTED||!this.connectedConnector)throw rt.notConnectedError("No wallet is connected");let e={connector:this.connectedConnector.name};try{this.analytics.track(Vn.IDENTITY_TOKEN_STARTED,e);let n=await this.connectedConnector.getIdentityToken();return this.analytics.track(Vn.IDENTITY_TOKEN_COMPLETED,e),n}catch(n){throw this.analytics.track(Vn.IDENTITY_TOKEN_FAILED,q(q({},e),N5(n))),n}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){let n=new Map,r=[...e.chains||[],...this.coreOptions.chains||[]];for(let o of r){let s=n.get(o.chainId);s?n.set(o.chainId,q(q({},s),o)):n.set(o.chainId,o)}if(this.coreOptions.chains=Array.from(n.values()),this.coreOptions.chains.length===0)throw De.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),at.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");let i=new Set(Object.values(bt));for(let o of this.coreOptions.chains){if(!o.chainNamespace||!i.has(o.chainNamespace))throw De.error(`Please provide a valid chainNamespace in chains for chain ${o.chainId}`),at.invalidParams(`Please provide a valid chainNamespace in chains for chain ${o.chainId}`);if(o.chainNamespace!==bt.OTHER&&!IO(o.chainId))throw De.error(`Please provide a valid chainId in chains for chain ${o.chainId}`),at.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${o.chainId}`);if(o.chainNamespace!==bt.OTHER)try{new URL(o.rpcTarget)}catch(s){throw De.error(`Please provide a valid rpcTarget in chains for chain ${o.chainId}`,s),at.invalidParams(`Please provide a valid rpcTarget in chains for chain ${o.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(this.coreOptions.accountAbstractionConfig.chains.length===0)throw De.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),at.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(let o of this.coreOptions.accountAbstractionConfig.chains){if(!IO(o.chainId))throw De.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${o.chainId}`),at.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${o.chainId}`);try{var a;new URL((a=o.bundlerConfig)===null||a===void 0?void 0:a.url)}catch(s){throw De.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${o.chainId}`,s),at.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${o.chainId}`)}if(!n.has(o.chainId))throw De.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${o.chainId}`),at.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${o.chainId}`)}}}initAccountAbstractionConfig(e){var n;if(!!!(this.coreOptions.accountAbstractionConfig||e?.smartAccounts))return;let i=e?.smartAccounts||{},{walletScope:a}=i,o=Wf(i,lgn),s=new Map,c=[...o?.chains||[],...((n=this.coreOptions.accountAbstractionConfig)===null||n===void 0?void 0:n.chains)||[]];for(let l of c){let u=s.get(l.chainId);u?s.set(l.chainId,q(q({},u),l)):s.set(l.chainId,l)}this.coreOptions.accountAbstractionConfig=q(q({},(0,OX.default)(o||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(s.values())}),this.coreOptions.useAAWithExternalWallet===void 0&&(this.coreOptions.useAAWithExternalWallet=a===dse.ALL)}initUIConfig(e){this.coreOptions.uiConfig=OX.default.all([{mode:"light",uxMode:Ma.POPUP},Rie(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initCachedConnectorAndChainId(){let e=this.state.currentChainId,n=e&&this.coreOptions.chains.some(i=>i.chainId===e);if(this.coreOptions.defaultChainId&&!IO(this.coreOptions.defaultChainId))throw at.invalidParams("Please provide a valid defaultChainId in constructor");let r=n?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:r})}initWalletServicesConfig(e){var n,r,i,a,o,s;let{enableKeyExport:c,walletUi:l}=e,{enablePortfolioWidget:u=!1,enableTokenDisplay:f=!0,enableNftDisplay:d=!0,enableWalletConnect:p=!0,enableBuyButton:h=!0,enableSendButton:m=!0,enableSwapButton:w=!0,enableReceiveButton:g=!0,enableShowAllTokensButton:x=!0,enableConfirmationModal:C=!1,portfolioWidgetPosition:P=Xoe.BOTTOM_LEFT,defaultPortfolio:D="token"}=l||{},F={showWidgetButton:u,hideNftDisplay:!d,hideTokenDisplay:!f,hideTransfers:!m,hideTopup:!h,hideReceive:!g,hideSwap:!w,hideShowAllTokens:!x,hideWalletConnect:!p,buttonPosition:P,defaultPortfolio:D},H=OX.default.all([F,((n=this.coreOptions.walletServicesConfig)===null||n===void 0?void 0:n.whiteLabel)||{}]),O=(r=(i=this.coreOptions.walletServicesConfig)===null||i===void 0?void 0:i.confirmationStrategy)!==null&&r!==void 0?r:C?dz.MODAL:dz.AUTO_APPROVE,M=(a=(o=(s=this.coreOptions.walletServicesConfig)===null||s===void 0?void 0:s.enableKeyExport)!==null&&o!==void 0?o:c)!==null&&a!==void 0?a:!0;this.coreOptions.walletServicesConfig=q(q({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:O,whiteLabel:q(q({},H),{},{logoLight:H?.logoLight||"",logoDark:H?.logoDark||""}),enableKeyExport:M})}getInitializationTrackData(){try{var e,n,r,i,a;let o=(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(c=>c.chainId===this.coreOptions.defaultChainId),s=Array.from(new Set((n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(c=>CO(c.rpcTarget)))).filter(Boolean);return q(q(q({chain_ids:(r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(c=>H1(c)),chain_names:(i=this.coreOptions.chains)===null||i===void 0?void 0:i.map(c=>c.displayName),chain_rpc_targets:s,default_chain_id:o?H1(o):void 0,default_chain_name:o?.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:(a=this.coreOptions.uiConfig)===null||a===void 0?void 0:a.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},PO(this.coreOptions.uiConfig)),q0e(this.coreOptions.accountAbstractionConfig)),W0e(this.coreOptions.walletServicesConfig))}catch(o){return De.error("Failed to get initialization track data",o),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await Zb.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{let n=this.getInitialChainIdForConnector(e),r=this.checkIfAutoConnect(e);await e.init({autoConnect:r,chainId:n.chainId})}catch(n){De.error(n,e.name)}}async loadConnectors({projectConfig:e,modalMode:n}){var r;let i=[...this.coreOptions.connectors||[],ADe()],a={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},o=!!e.externalWalletAuth,s=o&&((r=this.coreOptions.multiInjectedProviderDiscovery)!==null&&r!==void 0?r:!0),c=new Set(this.coreOptions.chains.map(u=>u.chainNamespace));if(s&&NO()){if(c.has(bt.SOLANA)){let{createSolanaMipd:u,hasSolanaWalletStandardFeatures:f,walletStandardConnector:d}=await Promise.resolve().then(()=>(MVe(),kVe)),p=u();p.on("register",async(...h)=>{let m=h.filter(f).map(w=>d(w)(a));this.setConnectors(m)}),i.push(...p.get().filter(h=>f(h)).map(d))}if(c.has(bt.EIP155)){let{createMipd:u,injectedEvmConnector:f}=await Promise.resolve().then(()=>(jVe(),zVe)),d=u();d.subscribe(p=>{let h=p.map(m=>f(m)(a));this.setConnectors(h)}),i.push(...d.getProviders().map(f))}}if(NO()&&(c.has(bt.EIP155)||c.has(bt.SOLANA))&&i.push(wje(n?{headless:!0}:void 0)),NO()&&o&&(c.has(bt.SOLANA)||c.has(bt.EIP155))){let{walletConnectV2Connector:u}=await Promise.resolve().then(()=>(JXe(),YXe));i.push(u())}let l=i.map(u=>u(a));this.setConnectors(l)}async initPlugins(){let{chains:e,plugins:n}=this.coreOptions,r=n||[];e.some(a=>a.chainNamespace===bt.EIP155||a.chainNamespace===bt.SOLANA)&&r.push(vje());for(let a of r){let o=a();this.plugins[o.name]||(this.plugins[o.name]=o)}}setConnectors(e){let n=a=>`${a.connectorNamespace}-${a.name}`,r=new Set(this.connectors.map(n)),i=e.map(a=>{let o=n(a);return r.has(o)?null:(r.add(o),a)}).filter(a=>a!==null);i.length>0&&(this.connectors=[...this.connectors,...i],this.emit(lt.CONNECTORS_UPDATED,{connectors:i}))}subscribeToConnectorEvents(e){e.on(lt.CONNECTED,async n=>{var r,i;if(!this.commonJRPCProvider)throw at.notFound("CommonJrpcProvider not found");let{provider:a}=n;if(this.coreOptions.ssr)try{let u=await e.getIdentityToken();if(!u.idToken)throw rt.connectionError("No idToken found");this.setState({idToken:u.idToken})}catch(u){De.error(u),this.status=Pe.ERRORED,this.emit(lt.ERRORED,u,this.loginMode);return}let o=a.provider||a,{accountAbstractionConfig:s}=this.coreOptions;if(((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)===bt.EIP155&&(s==null||(i=s.chains)===null||i===void 0?void 0:i.some(u=>{var f;return u.chainId===((f=this.currentChain)===null||f===void 0?void 0:f.chainId)}))&&(n.connector===ct.AUTH||this.coreOptions.useAAWithExternalWallet)){var l;let{accountAbstractionProvider:u,toEoaProvider:f}=await Promise.resolve().then(()=>(zpt(),Hpt)),d=n.connector===ct.AUTH?await f(a):a,p=new Set((s==null||(l=s.chains)===null||l===void 0?void 0:l.map(m=>m.chainId))||[]),h=await u({accountAbstractionConfig:s,provider:d,chain:this.currentChain,chains:this.coreOptions.chains.filter(m=>p.has(m.chainId)),useProviderAsTransport:n.connector===ct.AUTH});this.aaProvider=h,n.connector!==ct.AUTH&&this.coreOptions.useAAWithExternalWallet&&(o=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(o),this.setState({connectedConnectorName:n.connector}),this.cacheWallet(n.connector),this.status=Pe.CONNECTED,De.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins(n),this.emit(lt.CONNECTED,q(q({},n),{},{loginMode:this.loginMode}))}),e.on(lt.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=Pe.READY;let n=this.state.cachedConnector;this.connectedConnectorName===n&&this.clearCache(),De.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async r=>{if(r.SUPPORTED_CONNECTORS.includes(e.name)&&r.status===Td.CONNECTED)return r.disconnect().catch(i=>{i.code!==5211&&De.error(i)})})),this.setState({connectedConnectorName:null}),this.emit(lt.DISCONNECTED)}),e.on(lt.CONNECTING,n=>{this.status=Pe.CONNECTING,this.emit(lt.CONNECTING,n),De.debug("connecting",this.status,this.connectedConnectorName)}),e.on(lt.ERRORED,n=>{this.status=Pe.ERRORED,this.clearCache(),this.emit(lt.ERRORED,n,this.loginMode),De.debug("errored",this.status,this.connectedConnectorName)}),e.on(lt.REHYDRATION_ERROR,n=>{this.status=Pe.READY,this.clearCache(),this.emit(lt.REHYDRATION_ERROR,n)}),e.on(lt.CONNECTOR_DATA_UPDATED,n=>{De.debug("connector data updated",n),this.emit(lt.CONNECTOR_DATA_UPDATED,n)}),e.on(lt.CACHE_CLEAR,n=>{De.debug("connector cache clear",n),this.clearCache()}),e.on(lt.MFA_ENABLED,n=>{var r;De.debug("mfa enabled",n);let i=this.connectedConnector;this.analytics.track(Vn.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:(r=i.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode,is_mfa_enabled:n}),this.emit(lt.MFA_ENABLED,n)})}checkInitRequirements(){if(this.status===Pe.READY)throw at.notReady("Connector is already initialized")}checkIfAutoConnect(e){var n;let r=this.cachedConnector===e.name;return r&&(n=this.currentChain)!==null&&n!==void 0&&n.chainNamespace&&(e.connectorNamespace===jo.MULTICHAIN?r=!0:r=e.connectorNamespace===this.currentChain.chainNamespace),r}getInitialChainIdForConnector(e){var n;let r=this.currentChain;if(((n=r)===null||n===void 0?void 0:n.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==jo.MULTICHAIN&&(r=this.coreOptions.chains.find(i=>i.chainNamespace===e.connectorNamespace),!r))throw at.invalidParams(`No chain found for ${e.connectorNamespace}`);return r}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e===this.currentChainId)return;if(!this.coreOptions.chains.find(r=>r.chainId===e))throw at.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}connectToPlugins(e){Object.values(this.plugins).map(async n=>{try{var r;if(!n.SUPPORTED_CONNECTORS.includes(e.connector)||n.pluginNamespace!==sV.MULTICHAIN&&n.pluginNamespace!==((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)||n.status===Td.CONNECTED)return;await n.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await n.connect()}catch(i){if(i.code===5211)return;De.error(i)}})}setState(e){this.state=q(q({},this.state),e),this.storage.setItem(yz,JSON.stringify(this.state))}loadState(e){if(e){this.state=e;return}let n=this.storage.getItem(yz);n&&(this.state=KNe(n))}getStorageMethod(){return this.coreOptions.ssr||this.coreOptions.storageType==="cookies"?$Ne({expiry:this.coreOptions.sessionTime}):this.coreOptions.storageType==="session"&&lA("sessionStorage")?window.sessionStorage:this.coreOptions.storageType==="local"&&lA("localStorage")?window.localStorage:new IE}};Cx();P5();Co();md();rx();ss();U1();kw();Xb();var a3e="10.2.0",o3e={hideWalletDiscovery:!1,connectors:{[Ix.AUTH]:{label:"Auth",showOnModal:!0}}},s3e="https://assets.web3auth.io/v1/wallet-registry.json";st();Qe();l5();var ki={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},P6={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},ugn={[ki.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[ki.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[ki.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[ki.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[ki.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"};var fgn={[ki.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:P6.SAPPHIRE_MAINNET},[ki.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:P6.SAPPHIRE_MAINNET},[ki.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:P6.SAPPHIRE_MAINNET},[ki.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:P6.SAPPHIRE_MAINNET},[ki.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:P6.SAPPHIRE_DEVNET}},dgn={[ki.MAINNET]:"mainnet",[ki.TESTNET]:"goerli",[ki.CYAN]:"polygon-mainnet",[ki.AQUA]:"polygon-mainnet",[ki.CELESTE]:"polygon-mainnet"},pgn={[P6.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[P6.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[ki.MAINNET]:"https://api.web3auth.io/signer-service",[ki.TESTNET]:"https://api.web3auth.io/signer-service",[ki.CYAN]:"https://api.web3auth.io/signer-polygon-service",[ki.AQUA]:"https://api.web3auth.io/signer-polygon-service",[ki.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},hgn={[ki.MAINNET]:"https://api.web3auth.io/metadata-service",[ki.TESTNET]:"https://api.web3auth.io/metadata-service",[ki.CYAN]:"https://api.web3auth.io/metadata-service",[ki.AQUA]:"https://api.web3auth.io/metadata-service",[ki.CELESTE]:"https://api.web3auth.io/metadata-service"};st();var c3e=fe(Ao()),PX=fe(Ln()),NX=PX.default.getLogger("http-helpers");NX.setLevel(PX.levels.INFO);var jpt="torus-default",Gpt="",mgn="x-api-key",ygn="x-embed-host",Vpt=null,bgn=[],ggn=[];async function Kpt(t,e){let n=null;try{n=new URL(t)}catch{}return Vpt&&n&&(bgn.includes(n.origin)||ggn.includes(n.pathname))?await Vpt.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function $pt(){let t={};return jpt&&(t[mgn]=jpt),Gpt&&(t[ygn]=Gpt),t}function qpt(t){NX.info(`Response: ${t.status} ${t.statusText}`),NX.info(`Url: ${t.url}`)}function wgn(t){let e=t.headers.get("x-web3-correlation-id");e&&NX.info(`Request tracing with traceID = ${e}`)}var vgn=async(t,e)=>{let n=null;try{let r=new Promise((a,o)=>{n=setTimeout(()=>{o(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,r]);return n!=null&&clearTimeout(n),i}catch(r){throw n!=null&&clearTimeout(n),r}},Wpt=async(t,e={},n={})=>{let r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=q(q({},r.headers),$pt())),e.method="GET";let i=(0,c3e.default)(r,e),a=await Kpt(t,i);if(a.ok){let o=a.headers.get("content-type");return o!=null&&o.includes("application/json")?a.json():a.text()}throw qpt(a),a},OD=(t,e={},n={},r={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=q(q({},i.headers),$pt())),n.method="POST";let a=(0,c3e.default)(i,n);return r.isUrlEncodedData?(a.body=e,a.headers["Content-Type"]==="application/json; charset=utf-8"&&delete a.headers["Content-Type"]):a.body=JSON.stringify(e),vgn(r.timeout||6e4,Kpt(t,a).then(o=>{if(r.logTracingHeader&&wgn(o),o.ok){let s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw qpt(o),o}))};st();var Ypt=ki,Jpt=P6,l3e=q(q({},Jpt),Ypt);var k6={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"};var Egn=1e3*10;var vl={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},u3e={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"};var Zpt=fe(Ps());function Qpt(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function xgn(t){let e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}var ND=class extends Zpt.EventEmitter{emit(e,...n){let r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;let s=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw s.context=o,s}let a=i[e];if(a===void 0)return!1;if(typeof a=="function")Qpt(a,this,n);else{let o=a.length,s=xgn(a);for(let c=0;c<o;c+=1)Qpt(s[c],this,n)}return!0}};function f3e(t,e=3,n=50,r="black",i=0,a=20,o="#0346ff"){let s=[],c;for(c=0;c<e;c+=1)s.push(t(o).rotate((c+1)/e*-i).saturate((c+1)/e*(a/100)).mix(t(r),n/100*(c+1)/e).hex());return s}function Xpt(t,e){let n=f3e(t,3,50,"black",0,20,e),r=f3e(t,6,85,"white",0,20,e);return[...n.reverse(),e,...r]}function d3e(t,e,n){if(n.primary){let r=Xpt(t,n.primary);e.style.setProperty("--app-primary-900",r[0]),e.style.setProperty("--app-primary-800",r[1]),e.style.setProperty("--app-primary-700",r[2]),e.style.setProperty("--app-primary-600",r[3]),e.style.setProperty("--app-primary-500",r[4]),e.style.setProperty("--app-primary-400",r[5]),e.style.setProperty("--app-primary-300",r[6]),e.style.setProperty("--app-primary-200",r[7]),e.style.setProperty("--app-primary-100",r[8]),e.style.setProperty("--app-primary-50",r[9])}n.onPrimary&&e.style.setProperty("--app-on-primary",n.onPrimary)}var Xte=fe(Ao());function PD(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Agn=new Set([Ze.CUSTOM,Ze.PASSKEYS,Ze.TELEGRAM,Ze.AUTHENTICATOR]),kX=Object.values(Ze).filter(t=>!Agn.has(t)),eht=kX.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=PD(e),t),{}),tht={[k6.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[k6.STAGING]:"https://api.web3auth.io/passwordless-service",[k6.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[k6.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},nht="d5f0c15c-eeda-4f9c-934a-d8e0348e83b2";var kD={MODAL_VISIBILITY:"MODAL_VISIBILITY"},oa={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"},p9=(function(t){return t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t})({});st();Qe();function rht(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var _gn=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}`;rht(_gn);var g8t=fe(CI()),w8t=fe(Uyt());var Fyt=t=>({ui_modal_login_methods_order:t?.loginMethodsOrder,ui_modal_z_index:t?.modalZIndex,ui_modal_display_errors_on_modal:t?.displayErrorsOnModal,ui_modal_login_grid_col:t?.loginGridCol,ui_modal_primary_button:t?.primaryButton,ui_modal_widget_type:t?.widgetType,ui_modal_target_id_used:!!t?.targetId,ui_modal_logo_alignment:t?.logoAlignment,ui_modal_border_radius_type:t?.borderRadiusType,ui_modal_button_radius_type:t?.buttonRadiusType,ui_modal_sign_in_methods:t?.signInMethods,ui_modal_add_previous_login_hint:t?.addPreviousLoginHint,ui_modal_display_installed_external_wallets:t?.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:t?.displayExternalWalletsCount});st();var Tgt=fe(Ao()),z0=fe(Br());var Fy={LOGIN:"login",CONNECT_WALLET:"connect_wallet"},Gp={CONNECT_WALLET:"Connect Your Wallet",SELECTED_WALLET:"Selected Wallet"},ste="https://images.web3auth.io/web3auth-logo-w.svg",cte="https://images.web3auth.io/web3auth-logo-w-light.svg",Hyt="https://images.web3auth.io/login-wallet-connect.svg",zyt="#0364FF",jyt="#FFFFFF",Gyt={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}};var pte=fe(Br());function Vyt(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Vyt(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mwn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Vyt(t))&&(r&&(r+=" "),r+=e);return r}var Kyt=mwn;var ywn=t=>{let e=gwn(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{let s=o.split("-");return s[0]===""&&s.length!==1&&s.shift(),Jyt(s,e)||bwn(o)},getConflictingClassGroupIds:(o,s)=>{let c=n[o]||[];return s&&r[o]?[...c,...r[o]]:c}}},Jyt=(t,e)=>{if(t.length===0)return e.classGroupId;let n=t[0],r=e.nextPart.get(n),i=r?Jyt(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;let a=t.join("-");return e.validators.find(({validator:o})=>o(a))?.classGroupId},$yt=/^\[(.+)\]$/,bwn=t=>{if($yt.test(t)){let e=$yt.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},gwn=t=>{let{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(let i in n)Yve(n[i],r,i,e);return r},Yve=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){let a=i===""?e:qyt(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(wwn(i)){Yve(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Yve(o,qyt(e,a),n,r)})})},qyt=(t,e)=>{let n=t;return e.split("-").forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wwn=t=>t.isThemeGetter,vwn=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map,i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}};var Ewn=t=>{let{prefix:e,experimentalParseClassName:n}=t,r=i=>{let a=[],o=0,s=0,c=0,l;for(let h=0;h<i.length;h++){let m=i[h];if(o===0&&s===0){if(m===":"){a.push(i.slice(c,h)),c=h+1;continue}if(m==="/"){l=h;continue}}m==="["?o++:m==="]"?o--:m==="("?s++:m===")"&&s--}let u=a.length===0?i:i.substring(c),f=xwn(u),d=f!==u,p=l&&l>c?l-c:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}};if(e){let i=e+":",a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){let i=r;r=a=>n({className:a,parseClassName:i})}return r},xwn=t=>t.endsWith("!")?t.substring(0,t.length-1):t.startsWith("!")?t.substring(1):t,Awn=t=>{let e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;let i=[],a=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},_wn=t=>({cache:vwn(t.cacheSize),parseClassName:Ewn(t),sortModifiers:Awn(t),...ywn(t)}),Twn=/\s+/,Swn=(t,e)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],s=t.trim().split(Twn),c="";for(let l=s.length-1;l>=0;l-=1){let u=s[l],{isExternal:f,modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}=n(u);if(f){c=u+(c.length>0?" "+c:c);continue}let w=!!m,g=r(w?h.substring(0,m):h);if(!g){if(!w){c=u+(c.length>0?" "+c:c);continue}if(g=r(h),!g){c=u+(c.length>0?" "+c:c);continue}w=!1}let x=a(d).join(":"),C=p?x+"!":x,P=C+g;if(o.includes(P))continue;o.push(P);let D=i(g,w);for(let F=0;F<D.length;++F){let H=D[F];o.push(C+H)}c=u+(c.length>0?" "+c:c)}return c};function Cwn(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Qyt(e))&&(r&&(r+=" "),r+=n);return r}var Qyt=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qyt(t[r]))&&(n&&(n+=" "),n+=e);return n};function Iwn(t,...e){let n,r,i,a=o;function o(c){let l=e.reduce((u,f)=>f(u),t());return n=_wn(l),r=n.cache.get,i=n.cache.set,a=s,s(c)}function s(c){let l=r(c);if(l)return l;let u=Swn(c,n);return i(c,u),u}return function(){return a(Cwn.apply(null,arguments))}}var Es=t=>{let e=n=>n[t]||[];return e.isThemeGetter=!0,e},Zyt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Xyt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Rwn=/^\d+\/\d+$/,Own=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nwn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pwn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kwn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mwn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,KC=t=>Rwn.test(t),sr=t=>!!t&&!Number.isNaN(Number(t)),t3=t=>!!t&&Number.isInteger(Number(t)),qve=t=>t.endsWith("%")&&sr(t.slice(0,-1)),Hy=t=>Own.test(t),Bwn=()=>!0,Dwn=t=>Nwn.test(t)&&!Pwn.test(t),ebt=()=>!1,Lwn=t=>kwn.test(t),Uwn=t=>Mwn.test(t),Fwn=t=>!jt(t)&&!Gt(t),Hwn=t=>$C(t,rbt,ebt),jt=t=>Zyt.test(t),k9=t=>$C(t,ibt,Dwn),Wve=t=>$C(t,Kwn,sr),Wyt=t=>$C(t,tbt,ebt),zwn=t=>$C(t,nbt,Uwn),lte=t=>$C(t,abt,Lwn),Gt=t=>Xyt.test(t),HL=t=>qC(t,ibt),jwn=t=>qC(t,$wn),Yyt=t=>qC(t,tbt),Gwn=t=>qC(t,rbt),Vwn=t=>qC(t,nbt),ute=t=>qC(t,abt,!0),$C=(t,e,n)=>{let r=Zyt.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},qC=(t,e,n=!1)=>{let r=Xyt.exec(t);return r?r[1]?e(r[1]):n:!1},tbt=t=>t==="position"||t==="percentage",nbt=t=>t==="image"||t==="url",rbt=t=>t==="length"||t==="size"||t==="bg-size",ibt=t=>t==="length",Kwn=t=>t==="number",$wn=t=>t==="family-name",abt=t=>t==="shadow";var qwn=()=>{let t=Es("color"),e=Es("font"),n=Es("text"),r=Es("font-weight"),i=Es("tracking"),a=Es("leading"),o=Es("breakpoint"),s=Es("container"),c=Es("spacing"),l=Es("radius"),u=Es("shadow"),f=Es("inset-shadow"),d=Es("text-shadow"),p=Es("drop-shadow"),h=Es("blur"),m=Es("perspective"),w=Es("aspect"),g=Es("ease"),x=Es("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...P(),Gt,jt],F=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],O=()=>[Gt,jt,c],M=()=>[KC,"full","auto",...O()],N=()=>[t3,"none","subgrid",Gt,jt],v=()=>["auto",{span:["full",t3,Gt,jt]},t3,Gt,jt],I=()=>[t3,"auto",Gt,jt],S=()=>["auto","min","max","fr",Gt,jt],y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],b=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...O()],A=()=>[KC,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],T=()=>[t,Gt,jt],E=()=>[...P(),Yyt,Wyt,{position:[Gt,jt]}],k=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",Gwn,Hwn,{size:[Gt,jt]}],R=()=>[qve,HL,k9],U=()=>["","none","full",l,Gt,jt],j=()=>["",sr,HL,k9],z=()=>["solid","dashed","dotted","double"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[sr,qve,Yyt,Wyt],W=()=>["","none",h,Gt,jt],J=()=>["none",sr,Gt,jt],X=()=>["none",sr,Gt,jt],te=()=>[sr,Gt,jt],ne=()=>[KC,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hy],breakpoint:[Hy],color:[Bwn],container:[Hy],"drop-shadow":[Hy],ease:["in","out","in-out"],font:[Fwn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hy],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hy],shadow:[Hy],spacing:["px",sr],text:[Hy],"text-shadow":[Hy],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",KC,jt,Gt,w]}],container:["container"],columns:[{columns:[sr,jt,Gt,s]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[t3,"auto",Gt,jt]}],basis:[{basis:[KC,"full","auto",s,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[sr,KC,"auto","initial","none",jt]}],grow:[{grow:["",sr,Gt,jt]}],shrink:[{shrink:["",sr,Gt,jt]}],order:[{order:[t3,"first","last","none",Gt,jt]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:v()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:v()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...y(),"normal"]}],"justify-items":[{"justify-items":[...b(),"normal"]}],"justify-self":[{"justify-self":["auto",...b()]}],"align-content":[{content:["normal",...y()]}],"align-items":[{items:[...b(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...b(),{baseline:["","last"]}]}],"place-content":[{"place-content":y()}],"place-items":[{"place-items":[...b(),"baseline"]}],"place-self":[{"place-self":["auto",...b()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:A()}],w:[{w:[s,"screen",...A()]}],"min-w":[{"min-w":[s,"screen","none",...A()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...A()]}],h:[{h:["screen","lh",...A()]}],"min-h":[{"min-h":["screen","lh","none",...A()]}],"max-h":[{"max-h":["screen","lh",...A()]}],"font-size":[{text:["base",n,HL,k9]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Gt,Wve]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qve,jt]}],"font-family":[{font:[jwn,jt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Gt,jt]}],"line-clamp":[{"line-clamp":[sr,"none",Gt,Wve]}],leading:[{leading:[a,...O()]}],"list-image":[{"list-image":["none",Gt,jt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Gt,jt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[sr,"from-font","auto",Gt,k9]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[sr,"auto",Gt,jt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gt,jt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gt,jt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:E()}],"bg-repeat":[{bg:k()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},t3,Gt,jt],radial:["",Gt,jt],conic:[t3,Gt,jt]},Vwn,zwn]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:j()}],"border-w-x":[{"border-x":j()}],"border-w-y":[{"border-y":j()}],"border-w-s":[{"border-s":j()}],"border-w-e":[{"border-e":j()}],"border-w-t":[{"border-t":j()}],"border-w-r":[{"border-r":j()}],"border-w-b":[{"border-b":j()}],"border-w-l":[{"border-l":j()}],"divide-x":[{"divide-x":j()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":j()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[sr,Gt,jt]}],"outline-w":[{outline:["",sr,HL,k9]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",u,ute,lte]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",f,ute,lte]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[sr,k9]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":j()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",d,ute,lte]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[sr,Gt,jt]}],"mix-blend":[{"mix-blend":[...V(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":V()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[sr]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[Gt,jt]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[sr]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:E()}],"mask-repeat":[{mask:k()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Gt,jt]}],filter:[{filter:["","none",Gt,jt]}],blur:[{blur:W()}],brightness:[{brightness:[sr,Gt,jt]}],contrast:[{contrast:[sr,Gt,jt]}],"drop-shadow":[{"drop-shadow":["","none",p,ute,lte]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",sr,Gt,jt]}],"hue-rotate":[{"hue-rotate":[sr,Gt,jt]}],invert:[{invert:["",sr,Gt,jt]}],saturate:[{saturate:[sr,Gt,jt]}],sepia:[{sepia:["",sr,Gt,jt]}],"backdrop-filter":[{"backdrop-filter":["","none",Gt,jt]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[sr,Gt,jt]}],"backdrop-contrast":[{"backdrop-contrast":[sr,Gt,jt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",sr,Gt,jt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[sr,Gt,jt]}],"backdrop-invert":[{"backdrop-invert":["",sr,Gt,jt]}],"backdrop-opacity":[{"backdrop-opacity":[sr,Gt,jt]}],"backdrop-saturate":[{"backdrop-saturate":[sr,Gt,jt]}],"backdrop-sepia":[{"backdrop-sepia":["",sr,Gt,jt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Gt,jt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[sr,"initial",Gt,jt]}],ease:[{ease:["linear","initial",g,Gt,jt]}],delay:[{delay:[sr,Gt,jt]}],animate:[{animate:["none",x,Gt,jt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Gt,jt]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:te()}],"skew-x":[{"skew-x":te()}],"skew-y":[{"skew-y":te()}],transform:[{transform:[Gt,jt,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gt,jt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gt,jt]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[sr,HL,k9,Wve]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}};var obt=Iwn(qwn);var Jve=new Map;function wn(...t){let e=JSON.stringify(t);if(Jve.has(e))return Jve.get(e);let n=obt(Kyt(t));return Jve.set(e,n),n}var sbt=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},cbt=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},lbt=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},ubt=t=>t.charAt(0).toUpperCase()+t.slice(1),Wa=t=>`https://images.web3auth.io/login-modal/${t}.svg`,fbt="https://api.web3auth.io/passwordless-service",dbt=async()=>{try{let t=await Wpt(`${fbt}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return De.error("error getting user country",t),null}},pbt=async t=>{try{let e=await OD(`${fbt}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e:{success:!1,parsed_number:"",country_flag:""}}catch(e){return De.error("error validating phone number",e),e.status===400?{success:!1,parsed_number:"",country_flag:""}:{success:!1,parsed_number:"",country_flag:""}}},fte=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(u3e,e)?e:vl.en};function hbt(t){let e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}var mbt=t=>{if(!t)return"passwordless.something-wrong-error";switch(t){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}};var WC=fe(Di());function wbt(t){let{open:e=!0,padding:n=!0,shadow:r=!0,border:i=!1,showCloseIcon:a=!1,onClose:o,children:s,borderRadius:c="large"}=t,[l,u]=(0,pte.useState)(!1);(0,pte.useEffect)(()=>{e?setTimeout(()=>{u(!0)},50):u(!1)},[e]);let f=()=>{o&&o()};return l?(0,WC.jsxs)("div",{className:wn("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":l,"w3a--translate-y-[100vh]":!l,"w3a--p-4":n,"w3a--shadow-xl sm:w3a--shadow-lg":r,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":c==="large","w3a--rounded-2xl":c==="medium","w3a--rounded-none":c==="small"}),children:[a&&(0,WC.jsx)("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:(0,WC.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:f,className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:(0,WC.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),s]}):null}var B9=fe(Br());var M9=fe(Di());function vbt(t){let{children:e,open:n,onClose:r,placement:i="center",padding:a=!0,shadow:o=!0,border:s=!1,showCloseIcon:c=!0,borderRadius:l="large"}=t,[u,f]=(0,B9.useState)(!1);(0,B9.useEffect)(()=>{n?(document.body.style.overflow="hidden",setTimeout(()=>{f(!0)},50)):(f(!1),document.body.style.overflow="")},[n]);let d=(0,B9.useMemo)(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),p=(0,B9.useMemo)(()=>d[i],[i,d]),h=()=>{r&&r()};return(0,M9.jsx)("div",{className:wn("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",p,{"w3a--w-screen w3a--h-screen":u,"w3a--w-0 w3a--h-0 w3a--delay-500":!u}),children:(0,M9.jsxs)("div",{className:wn("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":u,"w3a--translate-y-[100vh]":!u,"w3a--p-4":a,"w3a--shadow-xl sm:w3a--shadow-lg":o,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":s,"w3a--rounded-[30px]":l==="large","w3a--rounded-2xl":l==="medium","w3a--rounded-none":l==="small"}),children:[c&&(0,M9.jsx)("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:(0,M9.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:h,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,M9.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),e]})})}st();var Ya=fe(Br());var tvn=fe(Br(),1);var GL=fe(Br(),1);var Jwn=fe(xbt());var _bt=(t,e,n,r)=>{let i=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);zy(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},Abt={},zL=(t,e,n,r)=>{zy(n)&&Abt[n]||(zy(n)&&(Abt[n]=new Date),_bt(t,e,n,r))},Tbt=(t,e)=>()=>{if(t.isInitialized)e();else{let n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},hte=(t,e,n)=>{t.loadNamespaces(e,Tbt(t,n))},Qve=(t,e,n,r)=>{if(zy(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return hte(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Tbt(t,r))},Sbt=(t,e,n={})=>!e.languages||!e.languages.length?(zL(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}});var zy=t=>typeof t=="string",Zve=t=>typeof t=="object"&&t!==null;var Qwn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Zwn={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Xwn=t=>Zwn[t],Cbt=t=>t.replace(Qwn,Xwn);var Xve={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Cbt},mte=(t={})=>{Xve={...Xve,...t}},jL=()=>Xve;var Ibt,yte=t=>{Ibt=t},D9=()=>Ibt;var Rbt=fe(Br(),1);var bte={type:"3rdParty",init(t){mte(t.options.react),yte(t)}};var YC=(0,Rbt.createContext)(),gte=class{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}};var Vf=fe(Br(),1);var nvn=(t,e)=>{let n=(0,Vf.useRef)();return(0,Vf.useEffect)(()=>{n.current=e?n.current:t},[t,e]),n.current},Obt=(t,e,n,r)=>t.getFixedT(e,n,r),rvn=(t,e,n,r)=>(0,Vf.useCallback)(Obt(t,e,n,r),[t,e,n,r]),ei=(t,e={})=>{let{i18n:n}=e,{i18n:r,defaultNS:i}=(0,Vf.useContext)(YC)||{},a=n||r||D9();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new gte),!a){zL(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");let P=(F,H)=>zy(H)?H:Zve(H)&&zy(H.defaultValue)?H.defaultValue:Array.isArray(F)?F[F.length-1]:F,D=[P,{},!1];return D.t=P,D.i18n={},D.ready=!1,D}a.options.react?.wait&&zL(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let o={...jL(),...a.options.react,...e},{useSuspense:s,keyPrefix:c}=o,l=t||i||a.options?.defaultNS;l=zy(l)?[l]:l||["translation"],a.reportNamespaces.addUsedNamespaces?.(l);let u=(a.isInitialized||a.initializedStoreOnce)&&l.every(P=>Sbt(P,a,o)),f=rvn(a,e.lng||null,o.nsMode==="fallback"?l:l[0],c),d=()=>f,p=()=>Obt(a,e.lng||null,o.nsMode==="fallback"?l:l[0],c),[h,m]=(0,Vf.useState)(d),w=l.join();e.lng&&(w=`${e.lng}${w}`);let g=nvn(w),x=(0,Vf.useRef)(!0);(0,Vf.useEffect)(()=>{let{bindI18n:P,bindI18nStore:D}=o;x.current=!0,!u&&!s&&(e.lng?Qve(a,e.lng,l,()=>{x.current&&m(p)}):hte(a,l,()=>{x.current&&m(p)})),u&&g&&g!==w&&x.current&&m(p);let F=()=>{x.current&&m(p)};return P&&a?.on(P,F),D&&a?.store.on(D,F),()=>{x.current=!1,a&&P&&P?.split(" ").forEach(H=>a.off(H,F)),D&&a&&D.split(" ").forEach(H=>a.store.off(H,F))}},[a,w]),(0,Vf.useEffect)(()=>{x.current&&u&&m(d)},[a,c,u]);let C=[h,a,u];if(C.t=h,C.i18n=a,C.ready=u,u||!u&&!s)return C;throw new Promise(P=>{e.lng?Qve(a,e.lng,l,()=>P()):hte(a,l,()=>P())})};var Nbt=fe(Br(),1);var Pbt=fe(Br(),1);var cvn=fe(Br(),1);var avn=fe(Br(),1);var kbt=fe(Br());var G6=(0,kbt.createContext)({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:p9.SUCCESS},setBodyState:()=>{},setToast:()=>{}});var Mbt=fe(Br()),n3=(0,Mbt.createContext)({isDark:!0});var Nn=t=>typeof t=="string",VL=()=>{let t,e,n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},Bbt=t=>t==null?"":""+t,lvn=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},uvn=/###/g,Dbt=t=>t&&t.indexOf("###")>-1?t.replace(uvn,"."):t,Lbt=t=>!t||Nn(t),KL=(t,e,n)=>{let r=Nn(e)?e.split("."):e,i=0;for(;i<r.length-1;){if(Lbt(t))return{};let a=Dbt(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return Lbt(t)?{}:{obj:t,k:Dbt(r[i])}},Ubt=(t,e,n)=>{let{obj:r,k:i}=KL(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=KL(t,o,Object);for(;s.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),s=KL(t,o,Object),s?.obj&&typeof s.obj[`${s.k}.${a}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=n},fvn=(t,e,n,r)=>{let{obj:i,k:a}=KL(t,e,Object);i[a]=i[a]||[],i[a].push(n)},vte=(t,e)=>{let{obj:n,k:r}=KL(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},dvn=(t,e,n)=>{let r=vte(t,n);return r!==void 0?r:vte(e,n)},qbt=(t,e,n)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Nn(t[r])||t[r]instanceof String||Nn(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):qbt(t[r],e[r],n):t[r]=e[r]);return t},JC=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),pvn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},hvn=t=>Nn(t)?t.replace(/[&<>"'\/]/g,e=>pvn[e]):t,t4e=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},mvn=[" ",",","?","!",";"],yvn=new t4e(20),bvn=(t,e,n)=>{e=e||"",n=n||"";let r=mvn.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;let i=yvn.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`),a=!i.test(t);if(!a){let o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},n4e=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(n),i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let o,s="";for(let c=a;c<r.length;++c)if(c!==a&&(s+=n),s+=r[c],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;a+=c-a+1;break}i=o}return i},$L=t=>t?.replace("_","-"),gvn={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},r4e=class t{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||gvn,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Nn(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},V6=new r4e,QC=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...n])})}},Ete=class extends QC{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){let a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,s;e.indexOf(".")>-1?s=e.split("."):(s=[e,n],r&&(Array.isArray(r)?s.push(...r):Nn(r)&&a?s.push(...r.split(a)):s.push(r)));let c=vte(this.data,s);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=s[0],n=s[1],r=s.slice(2).join(".")),c||!o||!Nn(r)?c:n4e(this.data?.[e]?.[n],r,a)}addResource(e,n,r,i,a={silent:!1}){let o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,s=[e,n];r&&(s=s.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(s=e.split("."),i=n,n=s[1]),this.addNamespaces(n),Ubt(this.data,s,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(let a in r)(Nn(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,o={silent:!1,skipCopy:!1}){let s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let c=vte(this.data,s)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?qbt(c,r,a):c={...c,...r},Ubt(this.data,s,c),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}},Wbt={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{e=this.processors[a]?.process(e,n,r,i)??e}),e}},Ybt=Symbol("i18next/PATH_KEY");function wvn(){let t=[],e=Object.create(null),n;return e.get=(r,i)=>(n?.revoke?.(),i===Ybt?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function i4e(t,e){let{[Ybt]:n}=t(wvn());return n.join(e?.keySeparator??".")}var Fbt={},Hbt=t=>!Nn(t)&&typeof t!="boolean"&&typeof t!="number",xte=class t extends QC{constructor(e,n={}){super(),lvn(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=V6.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let r={...n};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ns||this.options.defaultNS||[],o=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!bvn(e,r,i);if(o&&!s){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Nn(a)?[a]:a};let l=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(a=l.shift()),e=l.join(i)}return{key:e,namespaces:Nn(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=i4e(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:c}=this.extractFromKey(e[e.length-1],i),l=c[c.length-1],u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");let f=i.lng||this.language,d=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return d?a?{res:`${l}${u}${s}`,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${u}${s}`:a?{res:s,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:s;let p=this.resolve(e,i),h=p?.res,m=p?.usedKey||s,w=p?.exactUsedKey||s,g=["[object Number]","[object Function]","[object RegExp]"],x=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,P=i.count!==void 0&&!Nn(i.count),D=t.hasDefaultValue(i),F=P?this.pluralResolver.getSuffix(f,i.count,i):"",H=i.ordinal&&P?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",O=P&&!i.ordinal&&i.count===0,M=O&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${F}`]||i[`defaultValue${H}`]||i.defaultValue,N=h;C&&!h&&D&&(N=M);let v=Hbt(N),I=Object.prototype.toString.apply(N);if(C&&N&&v&&g.indexOf(I)<0&&!(Nn(x)&&Array.isArray(N))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,N,{...i,ns:c}):`key '${s} (${this.language})' returned an object instead of string.`;return a?(p.res=S,p.usedParams=this.getUsedParamsDetails(i),p):S}if(o){let S=Array.isArray(N),y=S?[]:{},b=S?w:m;for(let _ in N)if(Object.prototype.hasOwnProperty.call(N,_)){let A=`${b}${o}${_}`;D&&!h?y[_]=this.translate(A,{...i,defaultValue:Hbt(M)?M[_]:void 0,joinArrays:!1,ns:c}):y[_]=this.translate(A,{...i,joinArrays:!1,ns:c}),y[_]===A&&(y[_]=N[_])}h=y}}else if(C&&Nn(x)&&Array.isArray(h))h=h.join(x),h&&(h=this.extendTranslation(h,e,i,r));else{let S=!1,y=!1;!this.isValidLookup(h)&&D&&(S=!0,h=M),this.isValidLookup(h)||(y=!0,h=s);let _=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&y?void 0:h,A=D&&M!==h&&this.options.updateMissing;if(y||S||A){if(this.logger.log(A?"updateKey":"missingKey",f,l,s,A?M:h),o){let L=this.resolve(s,{...i,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let T=[],E=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&E&&E[0])for(let L=0;L<E.length;L++)T.push(E[L]);else this.options.saveMissingTo==="all"?T=this.languageUtils.toResolveHierarchy(i.lng||this.language):T.push(i.lng||this.language);let k=(L,R,U)=>{let j=D&&U!==h?U:_;this.options.missingKeyHandler?this.options.missingKeyHandler(L,l,R,j,A,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(L,l,R,j,A,i),this.emit("missingKey",L,l,R,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?T.forEach(L=>{let R=this.pluralResolver.getSuffixes(L,i);O&&i[`defaultValue${this.options.pluralSeparator}zero`]&&R.indexOf(`${this.options.pluralSeparator}zero`)<0&&R.push(`${this.options.pluralSeparator}zero`),R.forEach(U=>{k([L],s+U,i[`defaultValue${U}`]||M)})}):k(T,s,M))}h=this.extendTranslation(h,e,i,p,r),y&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${l}${u}${s}`),(y||S)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${u}${s}`:s,S?h:void 0,i))}return a?(p.res=h,p.usedParams=this.getUsedParamsDetails(i),p):h}extendTranslation(e,n,r,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let c=Nn(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(c){let f=e.match(this.interpolator.nestingRegexp);l=f&&f.length}let u=r.replace&&!Nn(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,r.lng||this.language||i.usedLng,r),c){let f=e.match(this.interpolator.nestingRegexp),d=f&&f.length;l<d&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>a?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),r)),r.interpolation&&this.interpolator.reset()}let o=r.postProcess||this.options.postProcess,s=Nn(o)?[o]:o;return e!=null&&s?.length&&r.applyPostProcessor!==!1&&(e=Wbt.handle(s,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,o,s;return Nn(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;let l=this.extractFromKey(c,n),u=l.key;i=u;let f=l.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));let d=n.count!==void 0&&!Nn(n.count),p=d&&!n.ordinal&&n.count===0,h=n.context!==void 0&&(Nn(n.context)||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(w=>{this.isValidLookup(r)||(s=w,!Fbt[`${m[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(s)&&(Fbt[`${m[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(g=>{if(this.isValidLookup(r))return;o=g;let x=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(x,u,g,w,n);else{let P;d&&(P=this.pluralResolver.getSuffix(g,n.count,n));let D=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(n.ordinal&&P.indexOf(F)===0&&x.push(u+P.replace(F,this.options.pluralSeparator)),x.push(u+P),p&&x.push(u+D)),h){let H=`${u}${this.options.contextSeparator||"_"}${n.context}`;x.push(H),d&&(n.ordinal&&P.indexOf(F)===0&&x.push(H+P.replace(F,this.options.pluralSeparator)),x.push(H+P),p&&x.push(H+D))}}let C;for(;C=x.pop();)this.isValidLookup(r)||(a=C,r=this.getResource(g,w,C,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Nn(e.replace),i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(let a of n)delete i[a]}return i}static hasDefaultValue(e){let n="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}},Ate=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=V6.create("languageUtils")}getScriptPartFromCode(e){if(e=$L(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=$L(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Nn(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;let i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;let i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;let a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Nn(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Nn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Nn(e)&&a(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}},zbt={zero:0,one:1,two:2,few:3,many:4,other:5},jbt={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})},a4e=class{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=V6.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let r=$L(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),jbt;if(!e.match(/-|_/))return jbt;let c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,n)}return this.pluralRulesCache[a]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>zbt[i]-zbt[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){let i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}},Gbt=(t,e,n,r=".",i=!0)=>{let a=dvn(t,e,n);return!a&&i&&Nn(n)&&(a=n4e(t,n,r),a===void 0&&(a=n4e(e,n,r))),a},e4e=t=>t.replace(/\$/g,"$$$$"),o4e=class{constructor(e={}){this.logger=V6.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:c,formatSeparator:l,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:h,nestingSuffixEscaped:m,nestingOptionsSeparator:w,maxReplaces:g,alwaysFormat:x}=e.interpolation;this.escape=n!==void 0?n:hvn,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?JC(a):o||"{{",this.suffix=s?JC(s):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?JC(d):p||JC("$t("),this.nestingSuffix=h?JC(h):m||JC(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=g||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let a,o,s,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=p=>{if(p.indexOf(this.formatSeparator)<0){let g=Gbt(n,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,r,{...i,...n,interpolationkey:p}):g}let h=p.split(this.formatSeparator),m=h.shift().trim(),w=h.join(this.formatSeparator).trim();return this.format(Gbt(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:m})};this.resetRegExp();let u=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>e4e(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?e4e(this.escape(p)):e4e(p)}].forEach(p=>{for(s=0;a=p.regex.exec(e);){let h=a[1].trim();if(o=l(h),o===void 0)if(typeof u=="function"){let w=u(e,a,i);o=Nn(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,h))o="";else if(f){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${h} for interpolating ${e}`),o="";else!Nn(o)&&!this.useRawValueToEscape&&(o=Bbt(o));let m=p.safeValue(o);if(e=e.replace(a[0],m),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,o,s=(c,l)=>{let u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;let f=c.split(new RegExp(`${u}[ ]*{`)),d=`{${f[1]}`;c=f[0],d=this.interpolate(d,o);let p=d.match(/'/g),h=d.match(/"/g);((p?.length??0)%2===0&&!h||h.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),l&&(o={...l,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,m),`${c}${u}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...r},o=o.replace&&!Nn(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(l!==-1&&(c=i[1].slice(l).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),a=n(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!Nn(a))return a;Nn(a)||(a=Bbt(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}},vvn=t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){let[s,...c]=o.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),u=s.trim();n[u]||(n[u]=l),l==="false"&&(n[u]=!1),l==="true"&&(n[u]=!0),isNaN(l)||(n[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:n}},Vbt=t=>{let e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});let o=r+JSON.stringify(a),s=e[o];return s||(s=t($L(r),i),e[o]=s),s(n)}},Evn=t=>(e,n,r)=>t($L(n),r)(e),s4e=class{constructor(e={}){this.logger=V6.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?Vbt:Evn;this.formats={number:r((i,a)=>{let o=new Intl.NumberFormat(i,{...a});return s=>o.format(s)}),currency:r((i,a)=>{let o=new Intl.NumberFormat(i,{...a,style:"currency"});return s=>o.format(s)}),datetime:r((i,a)=>{let o=new Intl.DateTimeFormat(i,{...a});return s=>o.format(s)}),relativetime:r((i,a)=>{let o=new Intl.RelativeTimeFormat(i,{...a});return s=>o.format(s,a.range||"day")}),list:r((i,a)=>{let o=new Intl.ListFormat(i,{...a});return s=>o.format(s)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Vbt(n)}format(e,n,r,i={}){let a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){let s=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,c)=>{let{formatName:l,formatOptions:u}=vvn(c);if(this.formats[l]){let f=s;try{let d=i?.formatParams?.[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||r;f=this.formats[l](s,p,{...u,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${l}`);return s},e)}},xvn=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},c4e=class extends QC{constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=V6.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){let a={},o={},s={},c={};return e.forEach(l=>{let u=!0;n.forEach(f=>{let d=`${l}|${f}`;!r.reload&&this.store.hasResourceBundle(l,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,u=!1,o[d]===void 0&&(o[d]=!0),a[d]===void 0&&(a[d]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(s[l]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){let i=e.split("|"),a=i[0],o=i[1];n&&this.emit("failedLoading",a,o,n),!n&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);let s={};this.queue.forEach(c=>{fvn(c.loaded,[a],o),xvn(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{s[l]||(s[l]={});let u=c.loaded[l];u.length&&u.forEach(f=>{s[l][f]===void 0&&(s[l][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:o});return}this.readingCalls++;let s=(l,u)=>{if(this.readingCalls--,this.waitingReads.length>0){let f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(l&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,o)},a);return}o(l,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{let l=c(e,n);l&&typeof l.then=="function"?l.then(u=>s(null,u)).catch(s):s(null,l)}catch(l){s(l)}return}return c(e,n,s)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Nn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Nn(n)&&(n=[n]);let a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){let r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,o),!o&&s&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,s),this.loaded(e,o,s)})}saveMissing(e,n,r,i,a,o={},s=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let c={...o,isUpdate:a},l=this.backend.create.bind(this.backend);if(l.length<6)try{let u;l.length===5?u=l(e,n,r,i,c):u=l(e,n,r,i),u&&typeof u.then=="function"?u.then(f=>s(null,f)).catch(s):s(null,u)}catch(u){s(u)}else l(e,n,r,i,s,c)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}},Kbt=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Nn(t[1])&&(e.defaultValue=t[1]),Nn(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),$bt=t=>(Nn(t.ns)&&(t.ns=[t.ns]),Nn(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Nn(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),wte=()=>{},Avn=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},_te=class t extends QC{constructor(e={},n){if(super(),this.options=$bt(e),this.services={},this.logger=V6,this.modules={external:[]},Avn(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Nn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=Kbt();this.options={...r,...this.options,...$bt(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?V6.init(i(this.modules.logger),this.options):V6.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=s4e;let u=new Ate(this.options);this.store=new Ete(this.options.resources,this.options);let f=this.services;f.logger=V6,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new a4e(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(l),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new o4e(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new c4e(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(p,...h)=>{this.emit(p,...h)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new xte(this.services,this.options),this.translator.on("*",(p,...h)=>{this.emit(p,...h)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=wte),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...u)=>this.store[l](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...u)=>(this.store[l](...u),this)});let s=VL(),c=()=>{let l=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(f),n(u,f)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),s}loadResources(e,n=wte){let r=n,i=Nn(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let a=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(l=>{l!=="cimode"&&a.indexOf(l)<0&&a.push(l)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(s=>o(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(e,n,r){let i=VL();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=wte),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Wbt.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let r=VL();this.emit("languageChanging",e);let i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},a=(s,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...l)=>this.t(...l)),n&&n(s,(...l)=>this.t(...l))},o=s=>{!e&&!s&&this.services.languageDetector&&(s=[]);let c=Nn(s)?s:s&&s[0],l=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Nn(s)?[s]:s);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector?.cacheUserLanguage?.(l)),this.loadResources(l,u=>{a(u,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){let i=(a,o,...s)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([a,o].concat(s)):c={...o},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);let l=this.options.keySeparator||".",u;return c.keyPrefix&&Array.isArray(a)?u=a.map(f=>(typeof f=="function"&&(f=i4e(f,{...this.options,...o})),`${c.keyPrefix}${l}${f}`)):(typeof a=="function"&&(a=i4e(a,{...this.options,...o})),u=c.keyPrefix?`${c.keyPrefix}${l}${a}`:a),this.t(u,c)};return Nn(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let o=(s,c)=>{let l=this.services.backendConnector.state[`${s}|${c}`];return l===-1||l===0||l===2};if(n.precheck){let s=n.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(a,e)))}loadNamespaces(e,n){let r=VL();return this.options.ns?(Nn(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){let r=VL();Nn(e)&&(e=[e]);let i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Ate(Kbt());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new t(e,n)}cloneInstance(e={},n=wte){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},a=new t(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){let s=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},c[l]=Object.keys(c[l]).reduce((u,f)=>(u[f]={...c[l][f]},u),c[l]),c),{});a.store=new Ete(s,i),a.services.resourceStore=a.store}return a.translator=new xte(a.services,i),a.translator.on("*",(s,...c)=>{a.emit(s,...c)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},H0=_te.createInstance();H0.createInstance=_te.createInstance;var zqr=H0.createInstance,jqr=H0.dir,Gqr=H0.init,Vqr=H0.loadResources,Kqr=H0.reloadResources,$qr=H0.use,qqr=H0.changeLanguage,Wqr=H0.getFixedT,Yqr=H0.t,Jqr=H0.exists,Qqr=H0.setDefaultNamespace,Zqr=H0.hasLoadedNamespace,Xqr=H0.loadNamespaces,eWr=H0.loadLanguages;u4e();var vn=H0.createInstance();vn.use(bte).init({resources:{en:{translation:l4e}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});var K6=fe(Di());function f4e({isShown:t,onClose:e,children:n,uiConfig:r}){let{borderRadiusType:i="large"}=r;return(0,K6.jsxs)(K6.Fragment,{children:[(0,K6.jsx)("div",{className:wn("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),onClick:e,"aria-hidden":"true",role:"button"}),(0,K6.jsxs)("div",{className:wn(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col 
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${t?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),children:[(0,K6.jsx)("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:(0,K6.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:e,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,K6.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),n]})]})}st();var vo=fe(Br());var Xbt=fe(Br()),ZC=(0,Xbt.createContext)({analytics:void 0});var e2t=fe(Br());var r3=fe(Di());function t2t(t){let{isDark:e,isLoading:n,selectedChain:r,setSelectedChain:i,chainNamespace:a}=t,[o]=ei(void 0,{i18n:vn}),s=(0,e2t.useMemo)(()=>{let c=[{id:"all",name:"modal.allChains",icon:""}];for(let l of a)(l===bt.EIP155||l===bt.SOLANA)&&c.push({id:l,name:l===bt.EIP155?"EVM":l,icon:l===bt.EIP155?"ethereum":l});return c},[a]);return n?(0,r3.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:s.length}).map((c,l)=>(0,r3.jsx)("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${l}`))}):(0,r3.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:s.map(c=>(0,r3.jsxs)("button",{type:"button",className:wn("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":r===c.id}),onClick:()=>i(c.id),children:[c.icon&&(0,r3.jsx)("img",{src:Wa(e?`${c.icon}-dark`:`${c.icon}-light`),alt:c.name,className:"w3a--size-5 w3a--object-contain"}),(0,r3.jsx)("span",{className:"first-letter:w3a--capitalize",children:o(c.name)})]},c.id))})}var i3=fe(Di());function Tte(t){let{onBackClick:e,currentPage:n,selectedButton:r}=t,[i]=ei(void 0,{i18n:vn});return(0,i3.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[(0,i3.jsx)("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>{e&&e()},children:(0,i3.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:(0,i3.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),(0,i3.jsx)("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:n===Gp.SELECTED_WALLET?r?.displayName:n===Gp.CONNECT_WALLET?i("modal.connectYourWallet"):n}),(0,i3.jsx)("div",{className:"w3a--z-[-1] w3a--size-5"})]})}var o2t=fe(Br());var jy={SOCIAL:"social",WALLET:"wallet"};var WL=fe(Br());var qL=fe(Di());function xs(t){let{id:e="",isButton:n=!1,imageData:r="",height:i="auto",width:a="auto",extension:o="svg",darkImageId:s="",darkHoverImageId:c="",imageId:l,hoverImageId:u,fallbackImageId:f}=t,{isDark:d}=(0,WL.useContext)(n3),p=(0,WL.useMemo)(()=>d&&s?s:l,[d,s,l]),h=(0,WL.useMemo)(()=>d&&c?c:u,[d,c,u]);return n?r?(0,qL.jsx)("img",{id:e,src:r,height:i,width:a,alt:u,className:wn("w3a--object-contain",`w3a--h-${i} w3a--w-${a}`)}):(0,qL.jsx)("img",{id:e,src:`https://images.web3auth.io/${h}.${o}`,height:i,width:a,alt:u,className:wn("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${a}`)}):r?(0,qL.jsx)("img",{id:e,src:r,height:i,width:a,alt:l,className:wn("w3a--object-contain",`w3a--h-${i} w3a--w-${a}`),onError:({currentTarget:m})=>{if(f){let w=m;w.onerror=null,w.src=`https://images.web3auth.io/${f}.svg`}}}):(0,qL.jsx)("img",{id:e,src:`https://images.web3auth.io/${p}.${o}`,height:i,width:a,alt:l,className:wn("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${a}`),onError:({currentTarget:m})=>{if(f){let w=m;w.onerror=null,w.src=`https://images.web3auth.io/${f}.svg`}}})}var XC=fe(Di());function _vn(t,e,n){let r=t===Ze.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===Ze.APPLE||t===Ze.GITHUB||t===Ze.TWITTER?r:`login-${t}-active`;return n?(0,XC.jsx)(xs,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):(0,XC.jsx)(xs,{width:"20",imageId:r,hoverImageId:i})}function n2t(t){let{text:e,showIcon:n,showText:r,method:i,isDark:a,isPrimaryBtn:o,onClick:s,children:c,btnStyle:l,buttonRadius:u="pill"}=t;return(0,XC.jsxs)("button",{type:"button",onClick:f=>s&&s(f),className:wn("w3a--btn",l,{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[n&&_vn(i,a,o),r&&(0,XC.jsx)("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e}),c]})}var i2t=fe(r2t()),YL=fe(Br());var Gy=fe(Di());function a2t(t){let[e]=ei(void 0,{i18n:vn}),{deviceDetails:n,button:r,walletConnectUri:i,onClick:a,label:o,buttonRadius:s}=t,c=(0,YL.useContext)(n3),l=(0,YL.useMemo)(()=>n.platform!=="desktop"&&r.href&&r.hasWalletConnect&&!r.isInstalled,[n,r]),u=(0,YL.useMemo)(()=>r.href?hbt({uri:i,link:r.href}):i,[r,i]),f=()=>{u&&l?window.open(u,"_blank"):a&&a()};return(0,Gy.jsxs)("button",{type:"button",className:(0,i2t.default)(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"}),onClick:f,children:[(0,Gy.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[(0,Gy.jsx)("figure",{className:"w3a--size-5",children:(0,Gy.jsx)(xs,{imageData:r.icon,imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:r.imgExtension||"webp"})}),(0,Gy.jsx)("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:o})]}),r.hasInjectedWallet&&(0,Gy.jsx)("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e("modal.external.installed")}),(0,Gy.jsx)("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Wa(c?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}var L9=fe(Di());function eI(t){let{type:e,props:n}=t,r=n,i=n,{text:a,showIcon:o,showText:s,method:c,isDark:l,isPrimaryBtn:u,onClick:f,children:d,btnStyle:p,buttonRadius:h}=r,{label:m,onClick:w,button:g,deviceDetails:x,walletConnectUri:C,buttonRadius:P}=i;return(0,L9.jsxs)(L9.Fragment,{children:[e===jy.SOCIAL&&(0,L9.jsx)(n2t,{text:a,showIcon:o,showText:s,method:c,isDark:l,isPrimaryBtn:u,onClick:f,btnStyle:p,buttonRadius:h,children:d}),e===jy.WALLET&&(0,L9.jsx)(a2t,{label:m,walletConnectUri:C,onClick:w,button:g,deviceDetails:x,buttonRadius:P})]})}var As=fe(Di());function Tvn(){let[t]=ei(void 0,{i18n:vn});return(0,As.jsx)("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:t("modal.external.no-wallets-found")})}function Svn(t){let{externalButtons:e,isLoading:n,handleWalletClick:r,deviceDetails:i,walletConnectUri:a,buttonRadius:o}=t;return n?(0,As.jsx)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((s,c)=>(0,As.jsx)("div",{className:wn("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})},`loader-${c}`))}):(0,As.jsx)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:e.map(s=>(0,As.jsx)(eI,{type:jy.WALLET,props:{label:s.displayName,onClick:()=>r(s),button:s,deviceDetails:i,walletConnectUri:a,buttonRadius:o}},s.name))})}function Cvn(t){let{totalExternalWalletsCount:e,initialWalletCount:n,handleMoreWallets:r,isLoading:i,isDark:a,buttonRadius:o}=t,[s]=ei(void 0,{i18n:vn}),c=()=>{r&&r()};return i&&n<e?(0,As.jsx)("div",{className:wn("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})}):(0,As.jsxs)("button",{type:"button",className:wn("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"}),onClick:c,children:[(0,As.jsx)("img",{src:Wa(a?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),(0,As.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s("modal.connect-wallet.more-wallets")}),(0,As.jsx)("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e-n})]})}function s2t(t){let{externalButtons:e,isLoading:n,totalExternalWalletsCount:r,initialWalletCount:i,handleWalletClick:a,handleMoreWallets:o,isDark:s,deviceDetails:c,walletConnectUri:l,buttonRadius:u}=t,[f,d]=(0,o2t.useState)(!0),p=()=>{d(!1),o()};return(0,As.jsxs)(As.Fragment,{children:[(0,As.jsx)("ul",{className:wn("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!f}),children:e.length===0?(0,As.jsx)(Tvn,{}):(0,As.jsx)(Svn,{externalButtons:e,isLoading:n,handleWalletClick:a,deviceDetails:c,walletConnectUri:l,buttonRadius:u})}),f&&r>15&&!n&&i<r&&(0,As.jsx)(Cvn,{totalExternalWalletsCount:r,initialWalletCount:i,handleMoreWallets:p,isLoading:n,isDark:s,buttonRadius:u})]})}st();var W2t=fe(CI()),Ute=fe(Br());var Y2t=fe(q2t());var Kf=fe(Di());function Fte(t){var e;let[n]=ei(void 0,{i18n:vn}),{bodyState:r,setBodyState:i}=(0,Ute.useContext)(G6),{qrCodeValue:a,isDark:o,selectedButton:s,logoImage:c,primaryColor:l}=t,u=(0,Ute.useMemo)(()=>typeof window>"u"?!1:W2t.default.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),f=document.documentElement,d="#FFFFFF",p="#000000",h=((e=getComputedStyle(f))===null||e===void 0||(e=e.getPropertyValue("--app-gray-800"))===null||e===void 0?void 0:e.trim())||"#1f2a37",m=l&&l.toLowerCase()==="#ffffff"?"#000000":l;return(0,Kf.jsxs)("div",{className:"w3a--contents",children:[a?(0,Kf.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[(0,Kf.jsx)("div",{className:"w3a--relative w3a--flex w3a--size-[300px] w3a--items-center w3a--justify-center w3a--rounded-2xl",children:(0,Kf.jsx)(Y2t.QRCode,{size:u?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:c||Hyt,value:a,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:o?d:m,bgColor:o?h:d,fgColor:o?d:p})}),(0,Kf.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:n("modal.external.walletconnect-copy")})]}):(0,Kf.jsx)("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:(0,Kf.jsx)(xs,{imageId:`login-${s.name}`,hoverImageId:`login-${s.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:s.imgExtension})}),(0,Kf.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[(0,Kf.jsxs)("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[n("modal.external.dont-have")," ",(0,Kf.jsx)("span",{children:s?.displayName}),"?"]}),(0,Kf.jsx)("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{i(q(q({},r),{},{installLinks:{show:!0,wallet:s}}))},children:n("modal.external.get-wallet")})]})]})}var J2t=fe(Br());var Q2t=fe(Di());function Z2t(t){let{totalExternalWalletCount:e,isLoading:n,walletSearch:r,handleWalletSearch:i,buttonRadius:a}=t,[o,s]=(0,J2t.useState)(!1),[c]=ei(void 0,{i18n:vn});return(0,Q2t.jsx)("input",{type:"text",value:r,onInput:u=>{i(u),s(!0)},onFocus:u=>{u.target.placeholder="",s(!0)},onBlur:u=>{u.target.placeholder=c("modal.external.search-wallet",{count:e}),s(!1)},placeholder:n?c("modal.external.search-wallet-loading"):c("modal.external.search-wallet",{count:e}),disabled:n,className:wn("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",o&&"!w3a--border-app-primary-600",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"})})}var $y=fe(Di());function X2t(t){var e;let{isDark:n,config:r,walletConnectUri:i,metamaskConnectUri:a,walletRegistry:o,allExternalButtons:s,customConnectorButtons:c,connectorVisibilityMap:l,deviceDetails:u,buttonRadius:f="pill",chainNamespace:d,onBackClick:p,handleExternalWalletClick:h,handleWalletDetailsHeight:m}=t,{bodyState:w,setBodyState:g}=(0,vo.useContext)(G6),{analytics:x}=(0,vo.useContext)(ZC),[C,P]=(0,vo.useState)(Gp.CONNECT_WALLET),[D,F]=(0,vo.useState)(!1),[H]=(0,vo.useState)(!1),[O,M]=(0,vo.useState)(null),[N,v]=(0,vo.useState)(""),[I,S]=(0,vo.useState)("all"),[y,b]=(0,vo.useState)(!1),_=()=>{if(!D&&C===Gp.CONNECT_WALLET&&p){p(!1);return}D&&(P(Gp.CONNECT_WALLET),F(!1),m())},A=(0,vo.useMemo)(()=>o&&Object.keys(o.default||{}).length>0&&Object.keys(o.others||{}).length>0,[o]),T=(0,vo.useMemo)(()=>{let te=new Set;return c.concat(s).filter(ne=>te.has(ne.name)?!1:(te.add(ne.name),!0))},[s,c]),E=(0,vo.useMemo)(()=>new Set(Object.keys(o.default)),[o]),k=(0,vo.useMemo)(()=>{let te=[...s.filter(ue=>ue.hasInjectedWallet&&E.has(ue.name)),...c,...s.filter(ue=>!ue.hasInjectedWallet&&E.has(ue.name))].sort((ue,ce)=>ue.name===ct.METAMASK&&ce.name===ct.METAMASK?ue.hasInjectedWallet?-1:ce.hasInjectedWallet?1:ue.isInstalled?-1:ce.isInstalled?1:0:ue.name===ct.METAMASK?-1:ce.name===ct.METAMASK?1:0),ne=new Set;return te.filter(ue=>ne.has(ue.name)?!1:(ne.add(ue.name),!0)).filter(ue=>{var ce;return I==="all"||((ce=ue.chainNamespaces)===null||ce===void 0?void 0:ce.includes(I))})},[s,c,E,I]),L=(0,vo.useMemo)(()=>{let te=l;return Object.keys(r).reduce((ne,ue)=>(ue!==ct.WALLET_CONNECT_V2&&te[ue]&&ne.push({name:ue,displayName:r[ue].label||ue,hasInjectedWallet:r[ue].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),ne),[])},[l,r]),R=te=>{let ne=te.target.value;v(ne)},U=te=>{S(te),b(!1)},j=(0,vo.useMemo)(()=>A?[...T.filter(te=>te.hasInjectedWallet),...T.filter(te=>!te.hasInjectedWallet)].sort((te,ne)=>te.name===ct.METAMASK?-1:1).filter(te=>I==="all"||te.chainNamespaces.includes(I)).filter(te=>te.name.toLowerCase().includes(N.toLowerCase())):L,[A,L,N,T,I]),z=(0,vo.useMemo)(()=>A&&!N&&!y?k:j,[A,N,j,k,y]),V=(0,vo.useMemo)(()=>j.length,[j]),$=(0,vo.useMemo)(()=>y?V:A?k.length:L.length,[A,k,L,y,V]),W=te=>{if(x?.track(Vn.EXTERNAL_WALLET_SELECTED,{connector:te.isInstalled?te.name:te.hasWalletConnect?ct.WALLET_CONNECT_V2:"",wallet_name:te.displayName,is_installed:te.isInstalled,is_injected:te.hasInjectedWallet,chain_namespaces:te.chainNamespaces,has_wallet_connect:te.hasWalletConnect,has_install_links:te.hasInstallLinks,has_wallet_registry_item:!!te.walletRegistryItem,total_external_wallets:T.length}),te.isInstalled){var ne;if(te.name===ct.METAMASK&&!te.hasInjectedWallet&&u.platform==="desktop"){h({connector:te.name}),M(te),F(!0),P(Gp.SELECTED_WALLET),m();return}if(((ne=te.chainNamespaces)===null||ne===void 0?void 0:ne.length)>1){g(q(q({},w),{},{multiChainSelector:{show:!0,wallet:te}}));return}h({connector:te.name});return}else te.hasWalletConnect?(M(te),F(!0),P(Gp.SELECTED_WALLET),m()):g(q(q({},w),{},{installLinks:{show:!0,wallet:te}}))},J=()=>{b(!0)},X=(0,vo.useMemo)(()=>D?O.name===ct.METAMASK&&!O.hasInjectedWallet?a:i:null,[a,O,D,i]);return(0,$y.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[(0,$y.jsx)(Tte,{onBackClick:_,currentPage:C,selectedButton:O}),D?(0,$y.jsx)(Fte,{qrCodeValue:X,isDark:n,selectedButton:O,primaryColor:(e=O.walletRegistryItem)===null||e===void 0?void 0:e.primaryColor,logoImage:`https://images.web3auth.io/login-${O.name}.${O.imgExtension}`}):(0,$y.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[(0,$y.jsx)(t2t,{isDark:n,isLoading:H,selectedChain:I,setSelectedChain:U,chainNamespace:d}),(0,$y.jsx)(Z2t,{totalExternalWalletCount:V,isLoading:H,walletSearch:N,handleWalletSearch:R,buttonRadius:f}),(0,$y.jsx)(s2t,{externalButtons:z,isLoading:H,totalExternalWalletsCount:V,initialWalletCount:$,handleWalletClick:W,handleMoreWallets:J,isDark:n,deviceDetails:u,walletConnectUri:i,buttonRadius:f})]})]})}var _l=fe(Di()),egt=t=>{let{isDark:e,wallet:n,handleExternalWalletClick:r}=t,[i]=ei(void 0,{i18n:vn}),a=n.chainNamespaces.sort().map(o=>({chainNamespace:o,displayName:o==="eip155"?"EVM":o,imageId:`chain-${o==="eip155"?"evm":o}`}));return(0,_l.jsxs)("div",{children:[(0,_l.jsx)("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:(0,_l.jsx)("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),(0,_l.jsx)("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:(0,_l.jsx)(xs,{imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:n.imgExtension})}),(0,_l.jsx)("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500",children:i("modal.external.select-chain-description",{wallet:n.displayName})}),(0,_l.jsx)("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:a.map(({chainNamespace:o,displayName:s,imageId:c})=>(0,_l.jsx)("li",{children:(0,_l.jsxs)("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>r({connector:n.name,chainNamespace:o}),children:[(0,_l.jsxs)("div",{className:"w3a--flex w3a--items-center",children:[(0,_l.jsx)(xs,{imageId:c,hoverImageId:c,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),(0,_l.jsx)("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm first-letter:w3a--capitalize",children:s})]}),(0,_l.jsx)("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Wa(e?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},o))})]})};var h1=fe(Di());function tgt({privacyPolicy:t,termsOfService:e}){let[n]=ei(void 0,{i18n:vn});return(0,h1.jsxs)("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(t||e)&&(0,h1.jsxs)("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[n("modal.footer.by-signing-in")," ",e&&(0,h1.jsxs)("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[n("modal.footer.terms-of-service")," "]}),t&&(0,h1.jsxs)(h1.Fragment,{children:[n("modal.footer.and")," ",(0,h1.jsx)("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:n("modal.footer.privacy-policy")})]})]}),(0,h1.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[(0,h1.jsx)("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),(0,h1.jsx)("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}var Hte=fe(Br());var iI=fe(Di()),aI=()=>(0,iI.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[(0,iI.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),(0,iI.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),(0,iI.jsx)("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});var ka=fe(Di());function c9n(t){let[e]=ei(void 0,{i18n:vn}),{connector:n,appLogo:r,connectorName:i}=t,a=(0,Hte.useMemo)(()=>n==="twitter"?(0,ka.jsx)(xs,{imageId:"login-x-dark"}):(0,ka.jsx)(xs,{imageId:`login-${n}`,height:"40",width:"40"}),[n]);return(0,ka.jsxs)("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[(0,ka.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[(0,ka.jsx)("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:(0,ka.jsx)("img",{src:r,alt:"",className:"w3a--size-full w3a--object-contain"})}),(0,ka.jsx)(aI,{}),a]}),(0,ka.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[(0,ka.jsx)("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message1",{adapter:i})}),(0,ka.jsx)("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message2",{adapter:i})})]})]})}function l9n(t){let{message:e}=t;return(0,ka.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[(0,ka.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:(0,ka.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),(0,ka.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function u9n(t){let{message:e}=t;return(0,ka.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[(0,ka.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:(0,ka.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),(0,ka.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function ngt(t){let{connector:e,connectorName:n,modalStatus:r,onClose:i,appLogo:a,message:o}=t;return(0,Hte.useEffect)(()=>{r===oa.CONNECTED&&setTimeout(()=>{i()},1e3)},[r,i]),(0,ka.jsxs)("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[r===oa.CONNECTING&&(0,ka.jsx)(c9n,{connector:e,connectorName:n,appLogo:a}),r===oa.CONNECTED&&(0,ka.jsx)(l9n,{message:o}),r===oa.ERRORED&&(0,ka.jsx)(u9n,{message:o})]})}st();function $f(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zte(t,e){return zte=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},zte(t,e)}function rgt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,zte(t,e)}var sI=fe(Br());var f9n=Object.defineProperty,d9n=Object.defineProperties,p9n=Object.getOwnPropertyDescriptors,Kte=Object.getOwnPropertySymbols,sgt=Object.prototype.hasOwnProperty,cgt=Object.prototype.propertyIsEnumerable,T4e=(t,e,n)=>e in t?f9n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qf=(t,e)=>{for(var n in e||(e={}))sgt.call(e,n)&&T4e(t,n,e[n]);if(Kte)for(var n of Kte(e))cgt.call(e,n)&&T4e(t,n,e[n]);return t},lgt=(t,e)=>d9n(t,p9n(e)),h9n=(t,e)=>{var n={};for(var r in t)sgt.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Kte)for(var r of Kte(t))e.indexOf(r)<0&&cgt.call(t,r)&&(n[r]=t[r]);return n},i0=(t,e,n)=>(T4e(t,typeof e!="symbol"?e+"":e,n),n),oI=(t,e,n)=>new Promise((r,i)=>{var a=c=>{try{s(n.next(c))}catch(l){i(l)}},o=c=>{try{s(n.throw(c))}catch(l){i(l)}},s=c=>c.done?r(c.value):Promise.resolve(c.value).then(a,o);s((n=n.apply(t,e)).next())}),m9n="hCaptcha-script",Vte="hCaptchaOnLoad",igt="script-error",j9="@hCaptcha/loader";function y9n(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,n])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`).join("&")}function ugt(t){let e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function fgt(t){return t||document.head}function b9n(t){var e;t.setTag("source",j9),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",qf({},g9n())),t.setContext("device",lgt(qf({},w9n()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function g9n(){var t,e,n,r,i,a;let o=navigator.userAgent,s,c;return o.indexOf("Firefox")!==-1?(s="Firefox",c=(t=o.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):o.indexOf("Edg")!==-1?(s="Microsoft Edge",c=(e=o.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):o.indexOf("Chrome")!==-1&&o.indexOf("Safari")!==-1?(s="Chrome",c=(n=o.match(/Chrome\/([\d.]+)/))==null?void 0:n[1]):o.indexOf("Safari")!==-1&&o.indexOf("Chrome")===-1?(s="Safari",c=(r=o.match(/Version\/([\d.]+)/))==null?void 0:r[1]):o.indexOf("Opera")!==-1||o.indexOf("OPR")!==-1?(s="Opera",c=(i=o.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:i[2]):o.indexOf("MSIE")!==-1||o.indexOf("Trident")!==-1?(s="Internet Explorer",c=(a=o.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:a[2]):(s="Unknown",c="Unknown"),{name:s,version:c}}function w9n(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let n;return/Mobile|iPhone|iPod|Android/i.test(t)?n="Mobile":/Tablet|iPad/i.test(t)?n="Tablet":n="Desktop",{model:e,family:e,device:n}}var v9n=class dgt{constructor(e){i0(this,"_parent"),i0(this,"breadcrumbs",[]),i0(this,"context",{}),i0(this,"extra",{}),i0(this,"tags",{}),i0(this,"request"),i0(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new dgt(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,n){return this.extra[e]=n,this}removeExtra(e){return delete this.extra[e],this}setContext(e,n){return typeof n.type>"u"&&(n.type=e),this.context[e]=n,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=qf(qf({},this.tags),e),this}setTag(e,n){return this.tags[e]=n,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],n=this;for(;n;)e.push(n),n=n.parent;return e.reverse().reduce((r,i)=>{var a;return r.breadcrumbs=[...(a=r.breadcrumbs)!=null?a:[],...i.breadcrumbs],r.extra=qf(qf({},r.extra),i.extra),r.contexts=qf(qf({},r.contexts),i.context),r.tags=qf(qf({},r.tags),i.tags),i.user&&(r.user=i.user),i.request&&(r.request=i.request),r},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},E9n=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,x9n=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,A9n=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,_9n=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,jte="?",agt="An unknown error occurred",T9n="0.0.4";function S9n(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function Fc(t){return(t+256).toString(16).substring(1)}function C9n(){let t=S9n(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Fc(t[0])+Fc(t[1])+Fc(t[2])+Fc(t[3])+"-"+Fc(t[4])+Fc(t[5])+"-"+Fc(t[6])+Fc(t[7])+"-"+Fc(t[8])+Fc(t[9])+"-"+Fc(t[10])+Fc(t[11])+Fc(t[12])+Fc(t[13])+Fc(t[14])+Fc(t[15])}var I9n=[[E9n,"chrome"],[A9n,"winjs"],[x9n,"gecko"]];function R9n(t){var e,n,r,i;if(!t.stack)return null;let a=[],o=(r=(n=(e=t.stack).split)==null?void 0:n.call(e,`
`))!=null?r:[];for(let s=0;s<o.length;++s){let c=null,l=null,u=null;for(let[f,d]of I9n)if(l=f.exec(o[s]),l){u=d;break}if(!(!l||!u)){if(u==="chrome")c={filename:(i=l[2])!=null&&i.startsWith("address at ")?l[2].substring(11):l[2],function:l[1]||jte,lineno:l[3]?+l[3]:null,colno:l[4]?+l[4]:null};else if(u==="winjs")c={filename:l[2],function:l[1]||jte,lineno:+l[3],colno:l[4]?+l[4]:null};else if(u==="gecko")s===0&&!l[5]&&t.columnNumber!==void 0&&a.length>0&&(a[0].column=t.columnNumber+1),c={filename:l[3],function:l[1]||jte,lineno:l[4]?+l[4]:null,colno:l[5]?+l[5]:null};else continue;!c.function&&c.lineno&&(c.function=jte),a.push(c)}}return a.length?a.reverse():null}function O9n(t){let e=R9n(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function N9n(t){let e=_9n.exec(t),n=e?e.slice(1):[];if(n.length!==6)throw new Error("Invalid DSN");let r=n[5].split("/"),i=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(i?"/"+i:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}function P9n(t,e,n){var r,i;let a=qf({event_id:C9n().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:T9n},environment:e,release:n,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){a.message=(i=(r=t.error)==null?void 0:r.message)!=null?i:"Unknown error",a.fingerprint=[a.message];let o=[],s=t.error;for(let c=0;c<5&&s&&(o.push(O9n(s)),!(!s.cause||!(s.cause instanceof Error)));c++)s=s.cause;a.exception={values:o.reverse()}}return t.type==="message"&&(a.message=t.message,a.level=t.level),a}function k9n(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=t,{message:r}=n,i=h9n(n,["message"]),a=new Error(typeof r=="string"?r:agt);return Object.assign(a,i)}let e=new Error(agt);return Object.assign(e,{cause:t})}function M9n(t,e,n){return oI(this,null,function*(){var r,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let a;if(n){let c=new AbortController;a=c.signal,setTimeout(()=>c.abort(),n)}let o=yield fetch(t,lgt(qf({},e),{signal:a})),s=yield o.text();return{status:o.status,body:s}}return yield new Promise((a,o)=>{var s,c;let l=new XMLHttpRequest;if(l.open((s=e?.method)!=null?s:"GET",t),l.onload=()=>a({status:l.status,body:l.responseText}),l.onerror=()=>o(new Error("XHR Network Error")),e?.headers)for(let[u,f]of Object.entries(e.headers))l.setRequestHeader(u,f);if(n){let u=setTimeout(()=>{l.abort(),o(new Error("Request timed out"))},n);l.onloadend=()=>{clearTimeout(u)}}l.send((c=e?.body)==null?void 0:c.toString())})}catch(a){return{status:0,body:(i=(r=a?.toString)==null?void 0:r.call(a))!=null?i:"Unknown error"}}})}var Su,S4e=(Su=class{constructor(t){i0(this,"apiURL"),i0(this,"dsn"),i0(this,"environment"),i0(this,"release"),i0(this,"sampleRate"),i0(this,"debug"),i0(this,"_scope"),i0(this,"shouldBuffer",!1),i0(this,"bufferlimit",20),i0(this,"buffer",[]);var e,n,r,i,a;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(n=t.debug)!=null?n:!1,this._scope=(r=t.scope)!=null?r:new v9n,this.apiURL=N9n(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(i=t.buffer)!=null?i:!1,this.bufferlimit=(a=t.bufferLimit)!=null?a:20}static init(t){Su._instance||(Su._instance=new Su(t))}static get instance(){if(!Su._instance)throw new Error("Sentry has not been initialized");return Su._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return Su.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){Su.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:k9n(t),scope:e??this._scope})}static captureException(t,e){Su.instance.captureException(t,e)}captureMessage(t,e="info",n){this.captureEvent({type:"message",level:e,message:t,scope:n??this._scope})}static captureMessage(t,e="info",n){Su.instance.captureMessage(t,e,n)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return oI(this,null,function*(){try{this.log("Sending sentry event",t);let n=P9n(t,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},i={type:"event"},a=JSON.stringify(r)+`
`+JSON.stringify(i)+`
`+JSON.stringify(n),o=yield M9n(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:a},e);this.log("Sentry response",o.status),o.status!==200&&(console.log(o.body),console.error("Failed to send event to Sentry",o))}catch(n){console.error("Failed to send event",n)}})}flush(t=5e3){return oI(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(n=>this.sendEvent(n,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return Su.instance.flush(t)}static reset(){Su._instance=void 0}},i0(Su,"_instance"),Su),B9n="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",D9n="2.0.1",L9n="production";function U9n(t=!0){if(!t)return ogt();S4e.init({dsn:B9n,release:D9n,environment:L9n});let e=S4e.scope;return b9n(e),ogt(e)}function ogt(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&S4e.captureException(e,t)}}}function F9n({scriptLocation:t,query:e,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:a=!0,secureApi:o=!1,scriptSource:s=""}={},c){let l=fgt(t),u=ugt(l);return new Promise((f,d)=>{let p=u.document.createElement("script");p.id=m9n,s?p.src=`${s}?onload=${Vte}`:o?p.src=`${i}/1/secure-api.js?onload=${Vte}`:p.src=`${i}/1/api.js?onload=${Vte}`,p.crossOrigin=r,p.async=n;let h=(m,w)=>{try{!o&&a&&l.removeChild(p),w(m)}catch(g){d(g)}};p.onload=m=>h(m,f),p.onerror=m=>{c&&c(p.src),h(m,d)},p.src+=e!==""?`&${e}`:"",l.appendChild(p)})}var Gte=[];function H9n(t={cleanup:!0},e){try{e.addBreadcrumb({category:j9,message:"hCaptcha loader params",data:t});let n=fgt(t.scriptLocation),r=ugt(n),i=Gte.find(({scope:o})=>o===r.window);if(i)return e.addBreadcrumb({category:j9,message:"hCaptcha already loaded"}),i.promise;let a=new Promise((o,s)=>oI(this,null,function*(){try{r.window[Vte]=()=>{e.addBreadcrumb({category:j9,message:"hCaptcha script called onload function"}),o(r.window.hcaptcha)};let c=y9n({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});yield F9n(qf({query:c},t),l=>{e.captureRequest({url:l,method:"GET"})}),e.addBreadcrumb({category:j9,message:"hCaptcha loaded",data:i})}catch{e.addBreadcrumb({category:j9,message:"hCaptcha failed to load"});let l=Gte.findIndex(u=>u.scope===r.window);l!==-1&&Gte.splice(l,1),s(new Error(igt))}}));return Gte.push({promise:a,scope:r.window}),a}catch(n){return e.captureException(n),Promise.reject(new Error(igt))}}function pgt(t,e,n=0){return oI(this,null,function*(){let r=n<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield H9n(t,e)}catch(i){return e.addBreadcrumb({category:j9,message:r}),n>=2?(e.captureException(i),Promise.reject(i)):(n+=1,pgt(t,e,n))}})}function hgt(){return oI(this,arguments,function*(t={}){let e=U9n(t.sentry);return yield pgt(t,e)})}function C4e(t){var e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function I4e(t){return t||document.head}var z9n=(function(t){rgt(e,t);function e(r){var i;return i=t.call(this,r)||this,i._hcaptcha=void 0,i.renderCaptcha=i.renderCaptcha.bind($f(i)),i.resetCaptcha=i.resetCaptcha.bind($f(i)),i.removeCaptcha=i.removeCaptcha.bind($f(i)),i.isReady=i.isReady.bind($f(i)),i._onReady=null,i.loadCaptcha=i.loadCaptcha.bind($f(i)),i.handleOnLoad=i.handleOnLoad.bind($f(i)),i.handleSubmit=i.handleSubmit.bind($f(i)),i.handleExpire=i.handleExpire.bind($f(i)),i.handleError=i.handleError.bind($f(i)),i.handleOpen=i.handleOpen.bind($f(i)),i.handleClose=i.handleClose.bind($f(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind($f(i)),i.ref=sI.createRef(),i.apiScriptRequested=!1,i.sentryHub=null,i.captchaId="",i.state={isApiReady:!1,isRemoved:!1,elementId:r.id},i}var n=e.prototype;return n.componentDidMount=function(){var i=this,a=I4e(this.props.scriptLocation),o=C4e(a);this._hcaptcha=o.window.hcaptcha||void 0;var s=typeof this._hcaptcha<"u";if(s){this.setState({isApiReady:!0},function(){i.renderCaptcha()});return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this._hcaptcha,a=this.captchaId;this.isReady()&&(i.reset(a),i.remove(a))},n.shouldComponentUpdate=function(i,a){return!(this.state.isApiReady!==a.isApiReady||this.state.isRemoved!==a.isRemoved)},n.componentDidUpdate=function(i){var a=this,o=["sitekey","size","theme","tabindex","languageOverride","endpoint"],s=o.every(function(c){return i[c]===a.props[c]});s||this.removeCaptcha(function(){a.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,a=i.apihost,o=i.assethost,s=i.endpoint,c=i.host,l=i.imghost,u=i.languageOverride,f=i.reCaptchaCompat,d=i.reportapi,p=i.sentry,h=i.custom,m=i.loadAsync,w=i.scriptLocation,g=i.scriptSource,x=i.secureApi,C=i.cleanup,P=C===void 0?!0:C,D={render:"explicit",apihost:a,assethost:o,endpoint:s,hl:u,host:c,imghost:l,recaptchacompat:f===!1?"off":null,reportapi:d,sentry:p,custom:h,loadAsync:m,scriptLocation:w,scriptSource:g,secureApi:x,cleanup:P};hgt(D).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var a=this,o=this.props.onReady,s=this.state.isApiReady,c=this.captchaId;if(!(!s||c)){var l=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),u=this._hcaptcha,f=u.render(this.ref.current,l);this.captchaId=f,this.setState({isRemoved:!1},function(){i&&i(),o&&o(),a._onReady&&a._onReady(f)})}},n.resetCaptcha=function(){var i=this._hcaptcha,a=this.captchaId;this.isReady()&&i.reset(a)},n.removeCaptcha=function(i){var a=this,o=this._hcaptcha,s=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){a.captchaId="",o.remove(s),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){var a=I4e(i.props.scriptLocation),o=C4e(a);i._hcaptcha=o.window.hcaptcha,i.renderCaptcha(function(){var s=i.props.onLoad;s&&s()})})},n.handleSubmit=function(i){var a=this.props.onVerify,o=this.state.isRemoved,s=this._hcaptcha,c=this.captchaId;if(!(typeof s>"u"||o)){var l=s.getResponse(c),u=s.getRespKey(c);a&&a(l,u)}},n.handleExpire=function(){var i=this.props.onExpire,a=this._hcaptcha,o=this.captchaId;this.isReady()&&(a.reset(o),i&&i())},n.handleError=function(i){var a=this.props.onError,o=this._hcaptcha,s=this.captchaId;this.isReady()&&o.reset(s),a&&a(i)},n.isReady=function(){var i=this.state,a=i.isApiReady,o=i.isRemoved;return a&&!o},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){var a=this;i===void 0&&(i=null),i=typeof i=="object"?i:null;try{var o=this._hcaptcha,s=this.captchaId;if(!this.isReady()){var c,l=new Promise(function(u,f){a._onReady=function(d){try{var p=a._hcaptcha;i&&i.async?p.execute(d,i).then(u).catch(f):u(p.execute(d,i))}catch(h){f(h)}}});return(c=i)!=null&&c.async?l:null}return o.execute(s,i)}catch(u){return i&&i.async?Promise.reject(u):null}},n.close=function(){var i=this._hcaptcha,a=this.captchaId;if(this.isReady())return i.close(a)},n.setData=function(i){var a=this._hcaptcha,o=this.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),a.setData(o,i))},n.getResponse=function(){var i=this._hcaptcha;return i.getResponse(this.captchaId)},n.getRespKey=function(){var i=this._hcaptcha;return i.getRespKey(this.captchaId)},n.render=function(){var i=this.state.elementId;return sI.createElement("div",{ref:this.ref,id:i})},e})(sI.Component),mgt=z9n;var mi=fe(Br());Qe();Qe();var cI=class{constructor(e){if(K(this,"authBaseApiUrl",void 0),K(this,"passwordlessParams",void 0),K(this,"trackingIdentifier",void 0),K(this,"version",`web3auth-${a3e.split(".")[0]}`),!e.authConnection)throw at.invalidParams("authConnection is required");if(!e.web3authClientId)throw at.invalidParams("web3authClientId is required");if(!e.loginHint)throw at.invalidParams("loginHint is required");if(!e.network)throw at.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=k6.PRODUCTION),this.authBaseApiUrl=`${tht[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===Ze.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===Ze.SMS_PASSWORDLESS)return"Mobile";throw at.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===Ze.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===Ze.SMS_PASSWORDLESS)return"sms";throw at.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return sE("sessionStorage")}get whiteLabelParams(){var e;let{uiConfig:n}=this.passwordlessParams;if(!n)return{};let{appName:r,appUrl:i,defaultLanguage:a,mode:o,logoLight:s,logoDark:c,theme:l}=n,u=(e=o==="dark"?c:s)!==null&&e!==void 0?e:"";return{mode:o??"light",name:r??"",url:i??"",language:a??"en",logo:u.includes(".svg")?"":u,theme:l??{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{let r=await OD(`${this.authBaseApiUrl}/passwordless/start`,e);if(r&&r.success){var n;this.trackingId=(n=r.data)===null||n===void 0?void 0:n.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return r}catch(r){return this.handleError(r)}}async verify(e){try{let n=await OD(`${this.authBaseApiUrl}/passwordless/verify`,e);return n.success?(this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:n.id_token}}):{success:!1,error:n.message}}catch(n){return this.handleError(n)}}async handleError(e){let n;if(e.status===429)n="passwordless.error-too-many-requests";else try{let r=await e.json();n=r.error_code?mbt(r.error_code):r.message}catch{n="passwordless.something-wrong-error"}return{success:!1,error:n}}};var $te=class extends cI{constructor(e){var n;super(e),K(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0)}async sendVerificationCode({captchaToken:e}){let{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,a={client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r,flow_type:_E.code,captcha_token:e};return super.start(a)}async verifyCode(e){let{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,a={client_id:i,login_hint:n,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:r,flow_type:_E.code};return super.verify(a)}};st();var qte=class extends cI{constructor(e){if(super(e),this.sessionStorageAvailable){var n;this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0}}async sendVerificationCode({captchaToken:e}){let{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,a=q({client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r},e&&{captcha_token:e});return super.start(a)}async verifyCode(e){let{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,a={client_id:i,login_hint:n,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:r};return super.verify(a)}};var ygt=(t,e)=>{switch(t){case Ze.EMAIL_PASSWORDLESS:return new $te(e);case Ze.SMS_PASSWORDLESS:return new qte(e);default:throw at.invalidParams(`Unsupported auth connection: ${t}`)}};var j9n="test_account_",G9n="@example.com",V9n="+1-555",bgt=(t,e)=>{if(t===Ze.EMAIL_PASSWORDLESS)return e.startsWith(j9n)&&e.endsWith(G9n);if(t===Ze.SMS_PASSWORDLESS)return e.startsWith(V9n);throw at.invalidParams(`Unsupported auth connection: ${t}`)};var Wte=fe(Br());var tU=fe(Di()),ggt=({children:t,content:e,isDark:n=!1,hideHint:r=!1})=>{let[i,a]=(0,Wte.useState)(!1),o=()=>{a(!0)},s=()=>{a(!1)},c=(0,Wte.useMemo)(()=>({borderTop:"8px solid transparent",borderRight:"none",borderBottom:"8px solid transparent",borderLeft:`8px solid ${n?"#ffffff":"#1f2a37"}`,left:"0%",top:"calc(100% - 8px)"}),[n]);return(0,tU.jsxs)("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:o,onMouseLeave:s,onFocus:o,onBlur:s,onClick:s,children:[t,i&&!r&&(0,tU.jsxs)("div",{"data-popover":!0,role:"tooltip",className:wn("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",n?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[e,(0,tU.jsx)("div",{className:"w3a--absolute",style:c})]})]})};var wa=fe(Di());function wgt(t,e,n){let r=t===Ze.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===Ze.APPLE||t===Ze.GITHUB||t===Ze.TWITTER?r:`login-${t}-active`;return(0,wa.jsxs)(wa.Fragment,{children:[(0,wa.jsx)("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${n}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),(0,wa.jsx)("img",{id:"login-img",src:`https://images.web3auth.io/${r}${n}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function vgt(t){let{visibleRow:e,otherRow:n,isDark:r,canShowMore:i,handleSocialLoginClick:a,handleExpandSocialLogins:o,buttonRadius:s}=t,c=()=>e.length===1?"w3a--grid-cols-1":e.length===2?"w3a--grid-cols-2":e.length===3?"w3a--grid-cols-3":"w3a--grid-cols-4";return e.length!==0&&n?.length===0?(0,wa.jsx)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:(0,wa.jsxs)("div",{className:wn("w3a--grid w3a--w-full w3a--gap-x-2",c()),children:[e.filter((l,u)=>e.length===4?u<=3:u<3).map(l=>(0,wa.jsx)(ggt,{content:"Last Login",isDark:r,hideHint:!0,children:(0,wa.jsx)(eI,{type:jy.SOCIAL,props:{showText:!1,method:l.method,isDark:r,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:(0,wa.jsx)(wa.Fragment,{children:wgt(l.method,r,".svg")}),onClick:()=>a({connector:l.connector,loginParams:l.loginParams}),buttonRadius:s}},l.method)},l.method)),i&&e.length>4&&(0,wa.jsx)(eI,{type:jy.SOCIAL,props:{showIcon:!1,onClick:o,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:(0,wa.jsx)("img",{src:Wa(r?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:s}})]})}):(0,wa.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[(0,wa.jsx)("button",{type:"button",className:"w3a--appearance-none",onClick:()=>o(),children:(0,wa.jsx)("img",{src:Wa(r?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),(0,wa.jsx)("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:n.map(l=>(0,wa.jsx)("div",{className:"w3a--h-11 w3a--w-full",children:(0,wa.jsx)(eI,{type:jy.SOCIAL,props:{method:l.method,isDark:r,isPrimaryBtn:!1,onClick:()=>a({connector:l.connector,loginParams:l.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:s,children:(0,wa.jsxs)(wa.Fragment,{children:[wgt(l.method,r,".svg"),(0,wa.jsx)("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:l.name}),(0,wa.jsx)("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Wa(r?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},l.method))})]})}var O4e=fe(Br());var q6=fe(Br());var Vp=fe(Di()),R4e=(0,q6.forwardRef)(({length:t,loading:e,resendTimer:n=60,onComplete:r,onChange:i,error:a=!1,success:o=!1,disabled:s=!1,classes:c,helperText:l="",onResendTimer:u,showCta:f=!0,showTimer:d=!0,autoFocus:p=!1,placeholder:h="",autoComplete:m="one-time-code",type:w="text",resendBtnText:g=""},x)=>{let[C,P]=(0,q6.useState)(Array(t).fill("")),[D,F]=(0,q6.useState)(n??0),[H]=ei(void 0,{i18n:vn}),O=(0,q6.useRef)([]),M=_=>/^\d$/.test(_)&&_.trim().length===1,N=(_,A)=>{if(_.key==="Backspace"||_.key==="Delete"){_.preventDefault();let L=[...C];if(C[A]!=="")L[A]="";else if(A>0){var T;(T=O.current[A-1])===null||T===void 0||T.focus(),L[A-1]=""}P(L),i&&i(L.join(""))}else if(_.key==="ArrowLeft"){var E;_.preventDefault(),(E=O.current[A-1])===null||E===void 0||E.focus()}else if(_.key==="ArrowRight"){var k;_.preventDefault(),(k=O.current[A+1])===null||k===void 0||k.focus()}else(_.key===" "||_.key==="Spacebar"||_.key==="Space"||!M(_.key)&&O.current[A+1])&&(_.preventDefault(),O.current[A+1].value="")},v=(_,A)=>{_.preventDefault();let{value:T}=_.target;if(T&&T.length>1&&T.length===t){var E;let L=T.split(""),R=[...C];L.forEach((U,j)=>{R[j]=U}),P(R),(E=O.current[L.length===t?t-1:L.length])===null||E===void 0||E.focus(),r&&t===R.length&&r(R.join(""))}else if(M(T)){let L=[...C].slice(0,t);L[A]=T,P(L);let R=L.join("");if(A<t-1&&O.current[A+1]){var k;(k=O.current[A+1])===null||k===void 0||k.focus()}i&&i(T),r&&t===R.length&&r(R)}},I=_=>{_.preventDefault();let A=_.clipboardData.getData("text").slice(0,t);if(A&&/^\d+$/.test(A)){var T;let E=A.split(""),k=[...C];E.forEach((L,R)=>{k[R]=L}),P(k),(T=O.current[E.length===t?t-1:E.length])===null||T===void 0||T.focus(),r&&t===k.length&&r(k.join(""))}},S=()=>{F(n||0),u&&u()};(0,q6.useEffect)(()=>{let _=null;return f&&d&&(_=window.setInterval(()=>{D>0?F(A=>A-1):clearInterval(_)},1e3)),()=>{clearInterval(_)}},[D]),(0,q6.useEffect)(()=>{if(O&&p){var _;(_=O.current)===null||_===void 0||_[0].focus()}},[p]);let y=wn("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":a,"w3a--text-app-green-500 dark:w3a--text-app-green-400":o},c?.helperText),b=new Date().getFullYear();return(0,Vp.jsxs)("div",{className:wn("w3a--flex w3a--flex-col w3a--items-center",c?.root),ref:x,children:[(0,Vp.jsx)("form",{className:wn("w3a--flex w3a--space-x-2",c?.inputContainer),children:C.map((_,A)=>{var T,E,k;return(0,Vp.jsx)("input",{id:`${b+A}`,type:w,value:_,autoComplete:m,placeholder:Array.isArray(h)?h[A]:h,inputMode:"numeric",onInput:L=>v(L,A),onKeyUp:L=>N(L,A),onPaste:I,className:wn("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",o&&((T=c?.success)!==null&&T!==void 0?T:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),a&&((E=c?.error)!==null&&E!==void 0?E:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),s&&((k=c?.disabled)!==null&&k!==void 0?k:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),c?.input),ref:L=>{O.current[A]=L},disabled:s},`${b+A}`)})}),l&&(0,Vp.jsx)("p",{className:y,children:l}),e&&(0,Vp.jsx)("div",{className:"w3a--mt-3",children:(0,Vp.jsx)(aI,{})}),f&&!e&&(0,Vp.jsx)("div",{className:wn("w3a--flex w3a--items-center w3a--mt-3",c?.ctaContainer),children:D>0&&d?(0,Vp.jsx)("span",{className:wn("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",c?.timerText),children:H("modal.resendTimer",{timer:D})}):(0,Vp.jsx)("button",{type:"button",className:wn("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",c?.resendBtnText),onClick:S,disabled:D>0&&d,children:g||H("modal.resendCode")})})]})});R4e.displayName="OtpInput";var _s=fe(Di());function K9n(t){let{setShowOtpFlow:e,handleOtpComplete:n,authConnection:r,loginHint:i="",errorMessage:a,otpLoading:o,countryFlag:s}=t,c=(0,O4e.useMemo)(()=>r===Ze.SMS_PASSWORDLESS,[r]),[l]=ei(void 0,{i18n:vn}),u=(0,O4e.useMemo)(()=>{if(r===Ze.EMAIL_PASSWORDLESS)return i;let[f,d]=i.includes("-")?i.split("-"):["",i],p=`${d}`.slice(-Math.floor(d.length/2)).padStart(`${d}`.length,"*");return`${s} ${f} ${p}`},[i,r,s]);return(0,_s.jsxs)(_s.Fragment,{children:[(0,_s.jsx)("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:(0,_s.jsx)("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>e(!1),children:(0,_s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:(0,_s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),(0,_s.jsxs)("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[(0,_s.jsx)("img",{src:Wa(c?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),(0,_s.jsxs)("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[(0,_s.jsx)("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:l(c?"modal.otp.mobile-title":"modal.otp.email-title")}),(0,_s.jsxs)("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[(0,_s.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l(c?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),(0,_s.jsx)("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c?u:l("modal.otp.email-subtext-example",{email:u})})]})]}),(0,_s.jsx)(R4e,{length:6,onComplete:n,error:!!a,helperText:a,loading:o,disabled:o})]})]})}function Egt(t){let{otpLoading:e,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:a,errorMessage:o,countryFlag:s}=t;return(0,_s.jsx)("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:(0,_s.jsx)(K9n,{errorMessage:o,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:a,otpLoading:e,countryFlag:s})})}var c3=fe(Br());var Cu=fe(Di());function xgt(t){let{isModalVisible:e,isPasswordLessCtaClicked:n,setIsPasswordLessCtaClicked:r,title:i,placeholder:a,handleFormSubmit:o,errorMessage:s,isDark:c,isPasswordLessLoading:l,buttonRadius:u}=t,[f]=ei(void 0,{i18n:vn}),d=(0,c3.useRef)(null),[p,h]=(0,c3.useState)(""),[m,w]=(0,c3.useState)(!1),g=P=>{h(P.target.value),w(!0)},x=P=>{let{key:D}=P;D==="Enter"&&(o(p),w(!1))},C=P=>{P.preventDefault(),P.stopPropagation(),o(p),w(!1)};return(0,c3.useEffect)(()=>{e||r(!1)},[e,r]),(0,c3.useEffect)(()=>{if(n){var P;(P=d.current)===null||P===void 0||P.focus()}},[n]),n?(0,Cu.jsxs)(Cu.Fragment,{children:[(0,Cu.jsxs)("div",{className:wn("w3a--input",m&&"!w3a--border-app-primary-600",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[(0,Cu.jsx)("input",{ref:d,onInput:g,value:p,placeholder:a,onFocus:()=>{w(!0)},onBlur:P=>{P.target.placeholder=`${a}`,w(!1)},type:"text",className:wn("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:P=>x(P),disabled:l}),l&&(0,Cu.jsx)(aI,{}),p&&!l&&(0,Cu.jsx)("button",{type:"button",className:"w3a--appearance-none",onClick:C,children:(0,Cu.jsx)("img",{src:Wa(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),s&&!m&&n&&(0,Cu.jsx)("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:s})]}):(0,Cu.jsxs)("button",{type:"button",className:wn("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),onClick:()=>{r(!0)},children:[(0,Cu.jsx)("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:f("modal.passwordless.title",{title:i})}),(0,Cu.jsx)("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Wa(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}var Ai=fe(Di()),$9n=[Ze.SMS_PASSWORDLESS,Ze.EMAIL_PASSWORDLESS,Ze.AUTHENTICATOR,Ze.PASSKEYS,Ze.TELEGRAM,Ze.CUSTOM];function Agt(t){let{web3authClientId:e,web3authNetwork:n,authBuildEnv:r,appLogo:i,isModalVisible:a,handleSocialLoginHeight:o,socialLoginsConfig:s,installedExternalWalletConfig:c,isDark:l,handleSocialLoginClick:u,totalExternalWallets:f,isEmailPasswordLessLoginVisible:d,isSmsPasswordLessLoginVisible:p,handleExternalWalletBtnClick:h,handleExternalWalletClick:m,areSocialLoginsVisible:w,showPasswordLessInput:g,showExternalWalletButton:x,showExternalWalletCount:C,showInstalledExternalWallets:P,logoAlignment:D="center",buttonRadius:F="pill",deviceDetails:H}=t,[O]=ei(void 0,{i18n:vn}),{bodyState:M,setBodyState:N}=(0,mi.useContext)(G6),{analytics:v}=(0,mi.useContext)(ZC),[I,S]=(0,mi.useState)(""),[y,b]=(0,mi.useState)(""),[_,A]=(0,mi.useState)(""),[T,E]=(0,mi.useState)(""),[k,L]=(0,mi.useState)(!1),[R,U]=(0,mi.useState)(!1),[j,z]=(0,mi.useState)([]),[V,$]=(0,mi.useState)([]),[W,J]=(0,mi.useState)(!1),[X,te]=(0,mi.useState)(!1),[ne,ue]=(0,mi.useState)(void 0),[ce,oe]=(0,mi.useState)(void 0),[xe,ye]=(0,mi.useState)(!1),[Se,_t]=(0,mi.useState)(!1),[Xe,qe]=(0,mi.useState)(!1),[Lt,nt]=(0,mi.useState)(""),it=(0,mi.useRef)(null),br=()=>{L(Fe=>!Fe),J(!1),o()};(0,mi.useEffect)(()=>{let Fe=Object.keys(s.loginMethods).filter(mt=>s.loginMethods[mt].showOnModal),$n=[],vt=[],It=(s.loginMethodsOrder||[]).reduce((mt,Jt,s0)=>(mt[Jt]=s0,mt),{}),lr=Object.keys(s.loginMethods).filter(mt=>!!s.loginMethods[mt].showOnModal&&!$9n.includes(mt)).sort((mt,Jt)=>{var s0,Mt;let pn=(s.loginMethodsOrder||[]).length,Y=(s0=It[mt])!==null&&s0!==void 0?s0:pn,Z=(Mt=It[Jt])!==null&&Mt!==void 0?Mt:pn,{mainOption:Q}=s.loginMethods[mt]||{},{mainOption:G}=s.loginMethods[Jt]||{};return Q&&G?Y-Z:Q?-1:G?1:Y-Z});lr.forEach((mt,Jt)=>{var s0;let Mt=s.loginMethods[mt],pn=PD(Mt.name||mt),Y=Jt+1,Z=(s==null||(s0=s.uiConfig)===null||s0===void 0?void 0:s0.primaryButton)==="socialLogin"&&Y===1,Q=lr.length;(Q>=4?Y>0&&Y<=Q:Y>0&&Y<4)&&$n.push({method:mt,isDark:l,isPrimaryBtn:Z,name:pn,connector:s.connector,loginParams:{authConnection:Mt.authConnection||mt,authConnectionId:Mt.authConnectionId,groupedAuthConnectionId:Mt.groupedAuthConnectionId,extraLoginOptions:Mt.extraLoginOptions,name:pn,login_hint:""},order:Y}),vt.push({method:mt,isDark:l,isPrimaryBtn:Z,name:pn==="Twitter"?"X":pn,connector:s.connector,loginParams:{authConnection:mt,authConnectionId:Mt.authConnectionId,groupedAuthConnectionId:Mt.groupedAuthConnectionId,extraLoginOptions:Mt.extraLoginOptions,name:pn,login_hint:""},order:Y})}),z($n),$(vt),U(Fe.length>4)},[s,l,F]);let Be=async(Fe,$n)=>{try{let It=ygt(Fe,{loginHint:$n,web3authClientId:e,network:n,uiConfig:s.uiConfig,authConnection:Fe,authBuildEnv:r}),lr;if(!bgt(Fe,$n)){var vt;let Jt=await((vt=it.current)===null||vt===void 0?void 0:vt.execute({async:!0}));if(!Jt)throw rt.connectionError("Captcha token is required");lr=Jt.response}let mt=await It.sendVerificationCode({captchaToken:lr});if(mt!=null&&mt.error){A(O(mt.error));return}ue(Fe),te(!0),oe(It)}catch(It){De.error(It)}finally{ye(!1)}},ot=async Fe=>{if(ye(!0),d&&Fe.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){let vt=s.loginMethods[Ze.EMAIL_PASSWORDLESS];return vt.isDefault?u({connector:s.connector,loginParams:{authConnection:Ze.EMAIL_PASSWORDLESS,authConnectionId:vt.authConnectionId,groupedAuthConnectionId:vt.groupedAuthConnectionId,extraLoginOptions:vt.extraLoginOptions,loginHint:Fe,name:"Email"}}):Be(Ze.EMAIL_PASSWORDLESS,Fe)}if(p){let $n=Fe.startsWith("+")?Fe:`${I}${Fe}`,vt=await pbt($n);if(vt.success){let It=typeof vt.parsed_number=="string"?vt.parsed_number:$n,lr=s.loginMethods[Ze.SMS_PASSWORDLESS];return lr.isDefault?u({connector:s.connector,loginParams:{authConnection:Ze.SMS_PASSWORDLESS,authConnectionId:lr.authConnectionId,groupedAuthConnectionId:lr.groupedAuthConnectionId,extraLoginOptions:lr.extraLoginOptions,loginHint:It,name:"Mobile"}}):(b(vt.country_flag),Be(Ze.SMS_PASSWORDLESS,It))}}A(ht),ye(!1)},kn=(0,mi.useMemo)(()=>O(d&&p?"modal.social.passwordless-title":d?"modal.social.email":"modal.social.phone"),[d,p,O]),Et=(0,mi.useMemo)(()=>d&&p?"+(00)123456/name@example.com":d?"name@example.com":"+(00)123456",[d,p]),ht=(0,mi.useMemo)(()=>O(d&&p?"modal.errors-invalid-number-email":d?"modal.errors-invalid-email":"modal.errors-invalid-number"),[d,p,O]);(0,mi.useEffect)(()=>{p&&(async()=>{let $n=await dbt();$n&&$n.dialCode&&S($n.dialCode)})()},[p]);let ti=Fe=>{v?.track(Vn.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:f,installed_external_wallets:ca.length}),J(!1),Fe.preventDefault(),h&&h(!0)},Ot=async Fe=>{_t(!0),T&&E("");try{var $n;let It=s.loginMethods[ne],lr=await ce?.verifyCode(Fe);if(lr!=null&&lr.error){E(O(lr.error));return}if(lr!=null&&($n=lr.data)!==null&&$n!==void 0&&$n.id_token){var vt;return u({connector:s.connector,loginParams:{authConnection:ne,authConnectionId:It.authConnectionId,groupedAuthConnectionId:It.groupedAuthConnectionId,extraLoginOptions:q(q({},It.extraLoginOptions),{},{id_token:(vt=lr.data)===null||vt===void 0?void 0:vt.id_token}),loginHint:ce.passwordlessParams.loginHint,name:ce.name}})}}catch(It){De.error(It)}finally{_t(!1)}},Zt=Fe=>{var $n;if(v?.track(Vn.EXTERNAL_WALLET_SELECTED,{connector:Fe.name,wallet_name:Fe.displayName,is_installed:Fe.isInstalled,is_injected:Fe.hasInjectedWallet,chain_namespaces:Fe.chainNamespaces,has_wallet_connect:Fe.hasWalletConnect,has_install_links:Fe.hasInstallLinks,has_wallet_registry_item:!!Fe.walletRegistryItem,total_external_wallets:f}),Fe.name===ct.METAMASK&&!Fe.hasInjectedWallet&&H.platform==="desktop"){m({connector:Fe.name}),N(q(q({},M),{},{metamaskQrCode:{show:!0,wallet:Fe}}));return}(($n=Fe.chainNamespaces)===null||$n===void 0?void 0:$n.length)>1?N(q(q({},M),{},{multiChainSelector:{show:!0,wallet:Fe}})):m({connector:Fe.name})},ca=(0,mi.useMemo)(()=>P?c:c.filter(Fe=>Fe.name===ct.METAMASK),[c,P]);if(X)return(0,Ai.jsx)(Egt,{otpLoading:Se,loginHint:ce?.passwordlessParams.loginHint,setShowOtpFlow:te,authConnection:ne,handleOtpComplete:Ot,errorMessage:T,countryFlag:y});let tn=(Fe=[])=>(0,Ai.jsx)(vgt,{otherRow:Fe,isDark:l,visibleRow:j,canShowMore:R,handleSocialLoginClick:u,socialLoginsConfig:s,handleExpandSocialLogins:br,buttonRadius:F},"social-login-section"),Vt=()=>(0,Ai.jsx)(xgt,{isModalVisible:a,isPasswordLessCtaClicked:W,setIsPasswordLessCtaClicked:J,title:kn,placeholder:Et,handleFormSubmit:ot,errorMessage:_,isDark:l,buttonRadius:F,isPasswordLessLoading:xe},"passwordless-section"),o0=()=>(0,Ai.jsxs)("div",{className:wn("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[ca.length>0&&ca.map(Fe=>(0,Ai.jsxs)("button",{type:"button",className:wn("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":F==="pill","w3a--rounded-lg":F==="rounded","w3a--rounded-none":F==="square"}),onClick:()=>Zt(Fe),children:[(0,Ai.jsx)("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:Fe.displayName}),(0,Ai.jsxs)("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[Fe.hasInjectedWallet&&(0,Ai.jsx)("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:O("modal.external.installed")}),(0,Ai.jsx)("figure",{className:"w3a--size-5",children:(0,Ai.jsx)(xs,{imageData:Fe.icon,imageId:`login-${Fe.name}`,hoverImageId:`login-${Fe.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:Fe.imgExtension||"webp"})})]}),(0,Ai.jsx)("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Wa(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},Fe.name)),f>3&&(0,Ai.jsxs)("button",{type:"button",className:wn("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":F==="pill","w3a--rounded-lg":F==="rounded","w3a--rounded-none":F==="square"}),onClick:ti,children:[(0,Ai.jsx)("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:O("modal.external.all-wallets")}),C&&f>0&&(0,Ai.jsx)("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:f-1}),(0,Ai.jsx)("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Wa(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),Yt=[cte,ste].includes(i)?"":i,nn=Fe=>(0,Ai.jsxs)("div",{className:wn("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",Yt?"w3a--my-2":"w3a--my-4"),children:[(0,Ai.jsx)("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),(0,Ai.jsx)("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),(0,Ai.jsx)("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${Fe}`),Ou=()=>{var Fe;let $n={social:tn,passwordless:Vt,externalWallets:o0},vt={social:w,passwordless:g,externalWallets:x},It=((Fe=s.uiConfig)===null||Fe===void 0?void 0:Fe.signInMethods)||["social","passwordless","externalWallets"];Object.entries(vt).forEach(([mt,Jt])=>{Jt&&!It.includes(mt)&&It.push(mt)});let lr=It.map(mt=>vt[mt]&&$n[mt]()).filter(Boolean);if(lr.length===3){let mt=It.findIndex(Jt=>Jt==="externalWallets");mt===0?lr.splice(1,0,nn(1)):mt===1?(lr.splice(1,0,nn(1)),lr.splice(3,0,nn(2))):mt===2&&lr.splice(2,0,nn(1))}else lr.length===2&&vt.externalWallets&&lr.splice(1,0,nn(1));return lr},En=()=>tn(V);return(0,Ai.jsxs)("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[(0,Ai.jsxs)("div",{className:wn("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6",D==="center"?"":"w3a--w-full"),children:[Yt&&(0,Ai.jsx)("figure",{className:wn("w3a--mx-auto w3a--h-12 w3a--w-[200px]",D==="center"?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:(0,Ai.jsx)("img",{src:Yt,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),(0,Ai.jsx)("p",{className:wn("w3a--text-app-gray-900 dark:w3a--text-app-white",D==="center"?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",Yt?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:O("modal.social.sign-in")})]}),(0,Ai.jsx)(mgt,{ref:it,sitekey:nht,size:"invisible",languageOverride:s.uiConfig.defaultLanguage,theme:s.uiConfig.theme,onOpen:()=>qe(!0),onClose:()=>qe(!1),onError:()=>nt("passwordless.captcha-default-error"),onChalExpired:()=>nt("passwordless.captcha-default-error")}),Lt&&Xe&&(0,Ai.jsx)("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:O(Lt)}),!Xe&&(0,Ai.jsxs)("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!k&&Ou(),k&&En()]})]})}var Yte=fe(Br());var qy=fe(Di()),_gt=()=>{let{toast:t,setToast:e}=(0,Yte.useContext)(G6);if((0,Yte.useEffect)(()=>{t.message&&setTimeout(()=>{e({message:"",type:p9.SUCCESS})},3e3)},[t.message,e]),!t.message)return null;let n={success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"},r={success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"};return(0,qy.jsxs)("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${n[t.type]}`,children:[(0,qy.jsx)("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:(0,qy.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e({message:"",type:p9.SUCCESS}),className:r[t.type],children:(0,qy.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),(0,qy.jsxs)("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:[(0,qy.jsx)("p",{className:r[t.type],children:"x"}),(0,qy.jsx)("p",{children:t.message})]})]})};var cr=fe(Di());function N4e(t){var e,n,r,i,a,o,s;let{setModalState:c,modalState:l,handleExternalWalletBtnClick:u,chainNamespaces:f,walletRegistry:d,appLogo:p,onCloseLoader:h,handleSocialLoginClick:m,showPasswordLessInput:w,showExternalWalletButton:g,socialLoginsConfig:x,areSocialLoginsVisible:C,isEmailPrimary:P,isExternalPrimary:D,showExternalWalletPage:F,isEmailPasswordLessLoginVisible:H,isSmsPasswordLessLoginVisible:O,preHandleExternalWalletClick:M,uiConfig:N,deviceDetails:v}=t,{logoAlignment:I="center",buttonRadiusType:S="pill",privacyPolicy:y="",tncLink:b="",displayInstalledExternalWallets:_=!0,displayExternalWalletsCount:A=!0}=N,[T]=ei(void 0,{i18n:vn}),{isDark:E}=(0,Ya.useContext)(n3),[k,L]=(0,Ya.useState)({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[R,U]=(0,Ya.useState)({message:"",type:p9.SUCCESS}),[j,z]=(0,Ya.useState)(!1),[V,$]=(0,Ya.useState)(!1),W=Be=>{c(q(q({},l),{},{currentPage:Fy.CONNECT_WALLET})),u&&u(Be)},J=Be=>{c(q(q({},l),{},{currentPage:Fy.LOGIN})),u&&u(Be)},X=(0,Ya.useMemo)(()=>{var Be;if(v.platform==="desktop")return[];let ot=((Be=k.installLinks)===null||Be===void 0||(Be=Be.wallet)===null||Be===void 0||(Be=Be.walletRegistryItem)===null||Be===void 0?void 0:Be.app)||{};return Object.keys(ot).reduce((Et,ht)=>{if(!["android","ios"].includes(ht))return Et;let ti=ot[ht];if(!ti)return Et;let Ot=cbt(ht,ti);if(!Ot)return Et;let Zt=`${ht}-light`,ca=`${ht}-dark`;return Et.push((0,cr.jsx)("li",{className:"w3a--w-full",children:(0,cr.jsx)("a",{href:Ot,rel:"noopener noreferrer",target:"_blank",children:(0,cr.jsxs)("button",{type:"button",className:wn("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":S==="pill","w3a--rounded-lg":S==="rounded","w3a--rounded-none":S==="square"}),children:[(0,cr.jsx)(xs,{imageId:Zt,darkImageId:ca,hoverImageId:Zt,darkHoverImageId:ca,height:"28",width:"28",isButton:!0}),(0,cr.jsx)("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:T("modal.external.install-mobile-app",{os:lbt(ht)})}),(0,cr.jsx)("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Wa(E?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},Ot)),Et},[])},[(e=k.installLinks)===null||e===void 0||(e=e.wallet)===null||e===void 0||(e=e.walletRegistryItem)===null||e===void 0?void 0:e.app,v.platform,E,T,S]),te=(0,Ya.useMemo)(()=>{var Be;if(v.platform!=="desktop")return[];let ot=v.browser==="brave"?"chrome":v.browser,kn=((Be=k.installLinks)===null||Be===void 0||(Be=Be.wallet)===null||Be===void 0||(Be=Be.walletRegistryItem)===null||Be===void 0?void 0:Be.app)||{},Et=kn.browser&&kn.browser.includes(ot)?kn.browser:void 0,ht=kn[ot]||Et,ti=ht?sbt(ot,ht):null;return[ti?(0,cr.jsx)("li",{children:(0,cr.jsx)("a",{href:ti,rel:"noopener noreferrer",target:"_blank",children:(0,cr.jsxs)("button",{type:"button",className:wn("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":S==="pill","w3a--rounded-lg":S==="rounded","w3a--rounded-none":S==="square"}),children:[(0,cr.jsx)(xs,{imageId:v.browser,darkImageId:v.browser,hoverImageId:v.browser,darkHoverImageId:v.browser,height:"30",width:"30",isButton:!0}),(0,cr.jsx)("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:T("modal.external.install-browser-extension",{browser:ubt(v.browser)})}),(0,cr.jsx)("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:Wa(E?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},ti):null,...X]},[(n=k.installLinks)===null||n===void 0||(n=n.wallet)===null||n===void 0||(n=n.walletRegistryItem)===null||n===void 0?void 0:n.app,v.browser,v.platform,E,X,S,T]),ne=(0,Ya.useMemo)(()=>l.externalWalletsConfig,[l.externalWalletsConfig]),ue=(0,Ya.useMemo)(()=>{let Be={};return Object.keys(ne).forEach(ot=>{var kn;Be[ot]=!!(!((kn=ne[ot])===null||kn===void 0)&&kn.showOnModal)}),Be},[ne]),ce=(0,Ya.useMemo)(()=>Object.keys(d?.default||{}).length>0||Object.keys(d?.others||{}).length>0,[d]),oe=(0,Ya.useCallback)(Be=>Object.keys(Be).reduce((ot,kn)=>{var Et,ht,ti;if(ue[kn]===!1)return ot;let Ot=Be[kn],Zt="";if(v.platform!=="desktop"){var ca,tn;let Fe=Ot==null||(ca=Ot.mobile)===null||ca===void 0?void 0:ca.universal,$n=Ot==null||(tn=Ot.mobile)===null||tn===void 0?void 0:tn.native;Zt=Fe||$n}let Vt=ne[kn],o0=Vt?.chainNamespaces||[],Yt=new Set((Et=Ot.chains)===null||Et===void 0?void 0:Et.map(Fe=>Fe.split(":")[0])),nn=new Set((ht=Ot.injected)===null||ht===void 0?void 0:ht.map(Fe=>Fe.namespace)),Ou=f.filter(Fe=>Yt.has(Fe)||nn.has(Fe)||o0.includes(Fe)),En={name:kn,displayName:Ot.name,href:Zt,hasInjectedWallet:Vt?.isInjected||!1,isInstalled:!!Vt,hasWalletConnect:ce&&((ti=Ot.walletConnect)===null||ti===void 0||(ti=ti.sdks)===null||ti===void 0?void 0:ti.includes("sign_v2")),hasInstallLinks:Object.keys(Ot.app||{}).length>0,walletRegistryItem:Ot,imgExtension:Ot.imgExtension||"svg",icon:Vt?.icon,chainNamespaces:Ou};return!En.hasInjectedWallet&&!En.hasWalletConnect&&!En.hasInstallLinks||Ou.length===0||ot.push(En),ot},[]),[ue,f,ne,v.platform,ce]),xe=(0,Ya.useMemo)(()=>[...oe(d.default),...oe(d.others)],[oe,d.default,d.others]),ye=(0,Ya.useMemo)(()=>{let Be=Object.keys(ne).reduce((kn,Et)=>{if(Et===ct.WALLET_CONNECT_V2||!ue[Et])return kn;let ht=ne[Et];return kn.push({name:Et,displayName:ht?.label||Et,hasInjectedWallet:ht?.isInjected||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:ht?.icon,chainNamespaces:ht?.chainNamespaces||[]}),kn},[]),ot=Be.findIndex(kn=>kn.name===ct.METAMASK&&!kn.hasInjectedWallet);if(ot!==-1){let kn=Be[ot],Et=xe.find(ht=>ht.name===ct.METAMASK);Et||(Et=oe({[ct.METAMASK]:Gyt})[0]),Et&&Be.splice(ot,1,q(q({},Et),{},{chainNamespaces:kn.chainNamespaces,isInstalled:!0}))}return Be},[xe,ne,ue,oe]),Se=(0,Ya.useMemo)(()=>ye.filter(Be=>!Be.hasInjectedWallet),[ye]),_t=(0,Ya.useMemo)(()=>ye.sort((ot,kn)=>ot.name===ct.METAMASK?-1:1).slice(0,_?3:1),[ye,_]),Xe=(0,Ya.useMemo)(()=>{let Be=new Set;return xe.concat(ye).filter(ot=>Be.has(ot.name)?!1:(Be.add(ot.name),!0)).length},[xe,ye]),qe=()=>{z(Be=>!Be)},Lt=()=>{$(Be=>!Be)},nt=(0,Ya.useMemo)(()=>{var Be;let ot=y||b;if(l.status!==oa.INITIALIZED)return"530px";if(V||(Be=k.metamaskQrCode)!==null&&Be!==void 0&&Be.show)return ot?"640px":"588px";if(l.currentPage===Fy.CONNECT_WALLET)return ot?"640px":"580px";if(j)return ot?"644px":"588px";if(_t.length===1)return ot?"560px":"530px";if(_t.length>1){let kn=500+(_t.length-1)*58;return ot?`${kn+60}px`:`${kn+16}px`}return"539px"},[y,b,l.status,l.currentPage,V,(r=k.metamaskQrCode)===null||r===void 0?void 0:r.show,j,_t.length]),it=(0,Ya.useMemo)(()=>({bodyState:k,setBodyState:L,toast:R,setToast:U}),[k,L,R,U]),br=(0,Ya.useMemo)(()=>l.status!==oa.INITIALIZED,[l.status]);return(0,cr.jsx)(G6.Provider,{value:it,children:(0,cr.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[(0,cr.jsxs)("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:nt},children:[(0,cr.jsx)("div",{className:"w3a--modal-curtain"}),(0,cr.jsxs)("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[br?(0,cr.jsx)(ngt,{connector:l.detailedLoaderConnector,connectorName:l.detailedLoaderConnectorName,modalStatus:l.status,onClose:h,appLogo:p}):(0,cr.jsx)(cr.Fragment,{children:(i=k.metamaskQrCode)!==null&&i!==void 0&&i.show?(0,cr.jsxs)("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[(0,cr.jsx)(Tte,{onBackClick:()=>L(q(q({},k),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:Gp.SELECTED_WALLET,selectedButton:k.metamaskQrCode.wallet}),(0,cr.jsx)(Fte,{qrCodeValue:l.metamaskConnectUri,isDark:E,selectedButton:k.metamaskQrCode.wallet,primaryColor:(a=k.metamaskQrCode.wallet.walletRegistryItem)===null||a===void 0?void 0:a.primaryColor,logoImage:`https://images.web3auth.io/login-${k.metamaskQrCode.wallet.name}.${k.metamaskQrCode.wallet.imgExtension}`})]}):(0,cr.jsxs)(cr.Fragment,{children:[l.currentPage===Fy.LOGIN&&F&&l.status===oa.INITIALIZED&&(0,cr.jsx)(Agt,{web3authClientId:l.web3authClientId,web3authNetwork:l.web3authNetwork,authBuildEnv:l.authBuildEnv,isModalVisible:l.modalVisibility,isDark:E,appLogo:p,showPasswordLessInput:w,showExternalWalletButton:g,showExternalWalletCount:A,showInstalledExternalWallets:_,socialLoginsConfig:x,areSocialLoginsVisible:C,isEmailPrimary:P,isExternalPrimary:D,installedExternalWalletConfig:_t,isEmailPasswordLessLoginVisible:H,isSmsPasswordLessLoginVisible:O,totalExternalWallets:Xe,logoAlignment:I,buttonRadius:S,deviceDetails:v,handleSocialLoginClick:m,handleExternalWalletBtnClick:W,handleSocialLoginHeight:qe,handleExternalWalletClick:M}),l.currentPage===Fy.CONNECT_WALLET&&!F&&l.status===oa.INITIALIZED&&(0,cr.jsx)(X2t,{isDark:E,walletConnectUri:l.walletConnectUri,metamaskConnectUri:l.metamaskConnectUri,config:l.externalWalletsConfig,walletRegistry:d,allExternalButtons:xe,connectorVisibilityMap:ue,customConnectorButtons:Se,deviceDetails:v,chainNamespace:f,buttonRadius:S,handleWalletDetailsHeight:Lt,onBackClick:J,handleExternalWalletClick:M})]})}),(0,cr.jsx)(tgt,{privacyPolicy:y,termsOfService:b}),((o=k.multiChainSelector)===null||o===void 0?void 0:o.show)&&(0,cr.jsx)(f4e,{uiConfig:N,isShown:k.multiChainSelector.show,onClose:()=>L(q(q({},k),{},{multiChainSelector:{show:!1,wallet:null}})),children:(0,cr.jsx)(egt,{isDark:E,wallet:k.multiChainSelector.wallet,handleExternalWalletClick:Be=>{M(Be),L(q(q({},k),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),((s=k.installLinks)===null||s===void 0?void 0:s.show)&&(0,cr.jsxs)(f4e,{uiConfig:N,isShown:k.installLinks.show,onClose:()=>L(q(q({},k),{},{installLinks:{show:!1,wallet:null}})),children:[(0,cr.jsx)("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:T("modal.getWallet")}),(0,cr.jsx)("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:(0,cr.jsx)(xs,{imageId:`login-${k.installLinks.wallet.name}`,hoverImageId:`login-${k.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:k.installLinks.wallet.imgExtension})}),(0,cr.jsx)("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:v.platform==="desktop"?te:X})]})]})]}),(0,cr.jsx)(_gt,{})]})})}var nU=fe(Di());function Sgt(t){let{stateListener:e,handleSocialLoginClick:n,handleExternalWalletClick:r,handleShowExternalWallets:i,closeModal:a,appLogo:o,appName:s,chainNamespaces:c,walletRegistry:l,uiConfig:u,deviceDetails:f}=t,{widgetType:d}=u,p=(0,z0.useMemo)(()=>d===T5.EMBED,[d]),[h,m]=(0,z0.useState)({externalWalletsVisibility:!1,status:oa.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:Fy.LOGIN,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:l3e.SAPPHIRE_MAINNET,authBuildEnv:k6.PRODUCTION});(0,z0.useEffect)(()=>{m(y=>q(q({},y),{},{modalVisibility:p}))},[p]),(0,z0.useEffect)(()=>{e.on("STATE_UPDATED",y=>{De.debug("state updated",y),m(b=>dd((0,Tgt.default)(b,y,{arrayMerge:(A,T)=>T})))}),e.emit("MOUNTED")},[e]);let w=y=>{let{connector:b}=y;m(_=>q(q({},_),{},{detailedLoaderConnector:b,detailedLoaderAdapterName:BO[b]})),r&&r(y)},g=y=>{let{loginParams:b}=y;m(_=>q(q({},_),{},{detailedLoaderConnector:b.authConnection,detailedLoaderConnectorName:b.name})),n(y)},x=(0,z0.useMemo)(()=>{var y,b;return h.showExternalWalletsOnly||Object.keys(((y=h.socialLoginsConfig)===null||y===void 0?void 0:y.loginMethods)||{}).length===0?!1:Object.entries(((b=h.socialLoginsConfig)===null||b===void 0?void 0:b.loginMethods)||{}).some(([A,T])=>A!==Ze.EMAIL_PASSWORDLESS&&T.showOnModal!==!1)},[h]),C=(0,z0.useMemo)(()=>{var y;return(y=h.socialLoginsConfig)===null||y===void 0||(y=y.loginMethods[Ze.EMAIL_PASSWORDLESS])===null||y===void 0?void 0:y.showOnModal},[h.socialLoginsConfig]),P=(0,z0.useMemo)(()=>{var y;return(y=h.socialLoginsConfig)===null||y===void 0||(y=y.loginMethods[Ze.SMS_PASSWORDLESS])===null||y===void 0?void 0:y.showOnModal},[h.socialLoginsConfig]),D=(0,z0.useMemo)(()=>{var y;return((y=h.socialLoginsConfig)===null||y===void 0||(y=y.uiConfig)===null||y===void 0?void 0:y.primaryButton)==="emailLogin"},[h.socialLoginsConfig]),F=(0,z0.useMemo)(()=>{var y;return((y=h.socialLoginsConfig)===null||y===void 0||(y=y.uiConfig)===null||y===void 0?void 0:y.primaryButton)==="externalLogin"},[h.socialLoginsConfig]),H=(0,z0.useMemo)(()=>C||P,[C,P]),O=(0,z0.useMemo)(()=>h.hasExternalWallets||!!h.externalWalletsConfig[ct.METAMASK],[h]),M=(0,z0.useMemo)(()=>(x||H||!!h.externalWalletsConfig[ct.METAMASK])&&!h.externalWalletsVisibility,[x,H,h]),N=y=>{m(b=>q(q({},b),{},{externalWalletsVisibility:y})),y&&i&&i(h.externalWalletsInitialized)},v=()=>{m(y=>q(q({},y),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:Fy.LOGIN})),a()},I=()=>{h.status===oa.CONNECTED&&m(q(q({},h),{},{modalVisibility:!1,externalWalletsVisibility:!1})),h.status===oa.ERRORED&&m(q(q({},h),{},{modalVisibility:!0,status:oa.INITIALIZED}))},S=(0,z0.useMemo)(()=>h.status===oa.INITIALIZED||h.status===oa.CONNECTED||h.status===oa.ERRORED,[h.status]);return(0,z0.useEffect)(()=>{if(h.modalVisibility&&typeof h.externalWalletsConfig=="object"){var y;(((y=h.externalWalletsConfig[ct.WALLET_CONNECT_V2])===null||y===void 0?void 0:y.showOnModal)||!1)!==!1&&!h.walletConnectUri&&typeof r=="function"&&r({connector:ct.WALLET_CONNECT_V2})}},[h,r]),d===T5.MODAL?(0,nU.jsx)(vbt,{open:h.modalVisibility,placement:"center",padding:!1,showCloseIcon:S,onClose:v,borderRadius:u.borderRadiusType,children:h.modalVisibility&&(0,nU.jsx)(N4e,{appLogo:o,appName:s,chainNamespaces:c,walletRegistry:l,showPasswordLessInput:H,showExternalWalletButton:O,handleSocialLoginClick:y=>g(y),socialLoginsConfig:h.socialLoginsConfig,areSocialLoginsVisible:x,isEmailPrimary:D,isExternalPrimary:F,showExternalWalletPage:M,handleExternalWalletBtnClick:N,modalState:h,preHandleExternalWalletClick:w,setModalState:m,onCloseLoader:I,isEmailPasswordLessLoginVisible:C,isSmsPasswordLessLoginVisible:P,uiConfig:u,deviceDetails:f})}):(0,nU.jsx)(wbt,{open:h.modalVisibility,padding:!1,onClose:v,borderRadius:u.borderRadiusType,children:h.modalVisibility&&(0,nU.jsx)(N4e,{chainNamespaces:c,walletRegistry:l,appLogo:o,appName:s,showPasswordLessInput:H,showExternalWalletButton:O,handleSocialLoginClick:y=>g(y),socialLoginsConfig:h.socialLoginsConfig,areSocialLoginsVisible:x,isEmailPrimary:D,isExternalPrimary:F,showExternalWalletPage:M,handleExternalWalletBtnClick:N,modalState:h,preHandleExternalWalletClick:w,setModalState:m,onCloseLoader:I,isEmailPasswordLessLoginVisible:C,isSmsPasswordLessLoginVisible:P,uiConfig:u,deviceDetails:f})})}var Qte=fe(Di());function mEn(t){let e=document.getElementById("w3a-parent-container");e&&e.remove();let n=document.createElement("section");n.classList.add("w3a-parent-container"),n.setAttribute("id","w3a-parent-container"),n.style.zIndex=t,n.style.position="relative",document.body.appendChild(n)}function yEn(t){let e=document.getElementById(t);if(!e){De.error(`Element with ID ${t} not found`);return}e.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>'}var Zte=class{constructor(e,n){if(K(this,"uiConfig",void 0),K(this,"stateEmitter",void 0),K(this,"chainNamespaces",void 0),K(this,"walletRegistry",void 0),K(this,"callbacks",void 0),K(this,"externalWalletsConfig",void 0),K(this,"analytics",void 0),K(this,"initModal",async()=>{let r={isDark:this.isDark},i=this.uiConfig.defaultLanguage||vl.en;return i===vl.de?Promise.resolve().then(()=>(Ogt(),Rgt)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.ja?Promise.resolve().then(()=>(Mgt(),kgt)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.ko?Promise.resolve().then(()=>(Ugt(),Lgt)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.zh?Promise.resolve().then(()=>(jgt(),zgt)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.es?Promise.resolve().then(()=>($gt(),Kgt)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.fr?Promise.resolve().then(()=>(Jgt(),Ygt)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.pt?Promise.resolve().then(()=>(e8t(),Xgt)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.nl?Promise.resolve().then(()=>(i8t(),r8t)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.tr?Promise.resolve().then(()=>(c8t(),s8t)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}):i===vl.en&&Promise.resolve().then(()=>(u4e(),Zbt)).then(a=>(vn.addResourceBundle(i,"translation",a.default),vn.changeLanguage(i))).catch(a=>{De.error(a)}),new Promise(a=>{var o,s,c;if(this.stateEmitter.once("MOUNTED",()=>(De.info("rendered"),this.setState({status:oa.INITIALIZED,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),a())),this.uiConfig.widgetType===T5.MODAL)mEn(this.uiConfig.modalZIndex);else if(this.uiConfig.widgetType===T5.EMBED)yEn(this.uiConfig.targetId);else throw at.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);let l=document.getElementById("w3a-parent-container");r.isDark?l.classList.add("w3a--dark"):l.classList.remove("w3a--dark"),(0,w8t.createRoot)(l).render((0,Qte.jsx)(n3.Provider,{value:r,children:(0,Qte.jsx)(ZC.Provider,{value:{analytics:this.analytics},children:(0,Qte.jsx)(Sgt,{stateListener:this.stateEmitter,appLogo:r.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig})})}));let f=((o=this.uiConfig)===null||o===void 0||(o=o.theme)===null||o===void 0?void 0:o.primary)===zyt&&((s=this.uiConfig.theme)===null||s===void 0?void 0:s.onPrimary)===jyt;(c=this.uiConfig)!==null&&c!==void 0&&c.theme&&!f&&Promise.resolve().then(()=>(b8t(),y8t)).then(({default:d})=>{let p=document.getElementById("w3a-parent-container");d3e(d,p,this.uiConfig.theme)}).catch(d=>{De.error(d)})})}),K(this,"addSocialLogins",(r,i,a,o)=>{this.setState({socialLoginsConfig:{connector:r,loginMethods:i,loginMethodsOrder:a,uiConfig:o}}),De.info("addSocialLogins",r,i,a,o)}),K(this,"addWalletLogins",(r,i)=>{this.externalWalletsConfig=r;let a=!!r[ct.METAMASK];this.setState({externalWalletsConfig:r,externalWalletsInitialized:!!i.externalWalletsInitialized,showExternalWalletsOnly:!!i.showExternalWalletsOnly,externalWalletsVisibility:a?!1:!!i.externalWalletsVisibility})}),K(this,"open",()=>{var r,i,a;this.setState({modalVisibility:!0}),(r=this.analytics)===null||r===void 0||r.track(Vn.LOGIN_MODAL_OPENED,q(q({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys((i=this.walletRegistry)===null||i===void 0?void 0:i.default).length+Object.keys((a=this.walletRegistry)===null||a===void 0?void 0:a.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},PO(this.uiConfig)),Fyt(this.uiConfig))),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),K(this,"closeModal",()=>{var r;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),(r=this.analytics)===null||r===void 0||r.track(Vn.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),K(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),K(this,"handleShowExternalWallets",r=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:r})}),K(this,"handleExternalWalletClick",r=>{De.info("external wallet clicked",r);let{connector:i,chainNamespace:a}=r;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:i,loginParams:{chainNamespace:a}})}),K(this,"handleSocialLoginClick",r=>{var i;De.info("social login clicked",r);let{connector:a,loginParams:o}=r;(i=this.analytics)===null||i===void 0||i.track(Vn.SOCIAL_LOGIN_SELECTED,{connector:a,auth_connection:o.authConnection,auth_connection_id:o.authConnectionId,group_auth_connection_id:o.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:a,loginParams:o})}),K(this,"setState",r=>{this.stateEmitter.emit("STATE_UPDATED",r)}),K(this,"handleConnectorData",r=>{if(r.connectorName===ct.WALLET_CONNECT_V2){let i=r.data;i.uri&&this.setState({walletConnectUri:i.uri})}if(r.connectorName===ct.METAMASK){let i=r.data;i.uri&&this.setState({metamaskConnectUri:i.uri})}}),K(this,"subscribeCoreEvents",r=>{r.on(lt.CONNECTING,i=>{var a;if(De.info("connecting with connector",i),i?.connector===ct.WALLET_CONNECT_V2)return;let o=(a=this.externalWalletsConfig)===null||a===void 0||(a=a[ct.METAMASK])===null||a===void 0?void 0:a.isInjected;i?.connector===ct.METAMASK&&!o&&this.deviceDetails.platform==="desktop"||this.setState({status:oa.CONNECTING})}),r.on(lt.CONNECTED,i=>{De.debug("connected with connector",i),!i.reconnected&&i.loginMode===S5.MODAL?this.setState({status:oa.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"}):this.setState({status:oa.CONNECTED})}),r.on(lt.ERRORED,(i,a)=>{De.error("error",i,i.message),a!==S5.NO_MODAL&&(i.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:i.message||"modal.post-loading.something-wrong",status:oa.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:oa.INITIALIZED}))}),r.on(lt.DISCONNECTED,()=>{this.setState({status:oa.INITIALIZED,externalWalletsVisibility:!1})}),r.on(lt.CONNECTOR_DATA_UPDATED,i=>{this.handleConnectorData(i)})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=cte),e.logoLight||(this.uiConfig.logoLight=ste),e.mode||(this.uiConfig.mode="light"),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=fte(e.defaultLanguage)),e.widgetType||(this.uiConfig.widgetType=T5.MODAL),e.widgetType===T5.EMBED&&!e.targetId)throw De.error("targetId is required for embed widget"),at.invalidParams("targetId is required for embed widget");this.stateEmitter=new ND,this.chainNamespaces=e.chainNamespaces,this.walletRegistry=e.walletRegistry,this.callbacks=n,this.analytics=e.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if(typeof window>"u")return{platform:"mobile",browser:"chrome",os:"ios"};let e=g8t.default.getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}};var rU=class extends RD{constructor(e,n){super(e,n),K(this,"loginModal",void 0),K(this,"options",void 0),K(this,"modalConfig",dd(o3e)),K(this,"onInitExternalWallets",async r=>{r.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(i=>i.name===ct.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),K(this,"onSocialLogin",async r=>{try{await this.connectTo(ct.AUTH,r.loginParams,S5.MODAL)}catch(i){De.error(`Error while connecting to connector: ${r.connector}`,i)}}),K(this,"onExternalWalletLogin",async r=>{try{var i;let a=this.getConnector(r.connector,(i=r.loginParams)===null||i===void 0?void 0:i.chainNamespace);if(a.name===ct.WALLET_CONNECT_V2){let s=this.getInitialChainIdForConnector(a);await a.connect({chainId:s.chainId})}else await this.connectTo(r.connector,r.loginParams,S5.MODAL)}catch(a){De.error(`Error while connecting to connector: ${r.connector}`,a)}}),K(this,"onModalVisibility",async r=>{De.debug("is login modal visible",r),this.emit(kD.MODAL_VISIBILITY,r);let i=this.getConnector(ct.WALLET_CONNECT_V2);if(i){let a=i?.status;if(De.debug("trying refreshing wc session",r,a),r&&(a===Pe.READY||a===Pe.CONNECTING)){De.debug("refreshing wc session");try{let o=this.getInitialChainIdForConnector(i);i.connect({chainId:o.chainId})}catch(o){De.error("Error while disconnecting to wallet connect in core",o)}}!r&&this.status===Pe.CONNECTED&&(a===Pe.READY||a===Pe.CONNECTING)&&(De.debug("this stops wc connector from trying to reconnect once proposal expires"),i.status=Pe.READY)}}),K(this,"getChainNamespaces",()=>{var r;return[...new Set(((r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(i=>i.chainNamespace))||[])]}),this.options=q({},e),this.options.uiConfig||(this.options.uiConfig={logoLight:"",logoDark:""}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),De.info("modalConfig",this.modalConfig)}async init(e){let n=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:SO.WEB_MODAL,sdk_version:kO,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let r={};try{var i,a;let{signal:o}=e||{};super.checkInitRequirements();let{projectConfig:s,walletRegistry:c}=await this.getProjectAndWalletConfig();this.initUIConfig(s),super.initAccountAbstractionConfig(s),super.initChainsConfig(s),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(s),this.analytics.setGlobalProperties({team_id:s.teamId}),r=this.getInitializationTrackData();let{filteredWalletRegistry:l,disabledExternalWallets:u}=this.filterWalletRegistry(c,s);this.loginModal=new Zte(q(q({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:l,analytics:this.analytics}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility}),await hd(()=>this.loginModal.initModal(),o),await hd(()=>this.setupCommonJRPCProvider(),o),this.on(lt.CONNECTORS_UPDATED,({connectors:d})=>{hd(()=>this.initConnectors({connectors:d,projectConfig:s,disabledExternalWallets:u}),o,()=>{var h;De.debug("init aborted"),((h=this.connectors)===null||h===void 0?void 0:h.length)>0&&super.cleanup()})}),await hd(()=>super.loadConnectors({projectConfig:s,modalMode:!0}),o),await hd(()=>super.initPlugins(),o);let f=this.getConnector(ct.AUTH);r=q(q({},r),{},{connectors:this.connectors.map(d=>d.name),plugins:Object.keys(this.plugins),auth_ux_mode:(f==null||(i=f.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((a=this.coreOptions.uiConfig)===null||a===void 0?void 0:a.uxMode)}),this.analytics.track(Vn.SDK_INITIALIZATION_COMPLETED,q(q({},r),{},{duration:Date.now()-n}))}catch(o){if(o instanceof DOMException&&o.name==="AbortError")return;throw this.analytics.track(Vn.SDK_INITIALIZATION_FAILED,q(q(q({},r),N5(o)),{},{duration:Date.now()-n})),De.error("Failed to initialize modal",o),o}}async connect(){if(!this.loginModal)throw at.notReady("Login modal is not initialized");return this.connectedConnectorName&&this.status===Pe.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,n)=>{let r=()=>(this.removeListener(lt.ERRORED,i),this.removeListener(kD.MODAL_VISIBILITY,a),e(this.provider)),i=o=>(this.removeListener(lt.CONNECTED,r),this.removeListener(kD.MODAL_VISIBILITY,a),n(o)),a=o=>{if(!o&&this.status!==Pe.CONNECTED)return this.removeListener(lt.CONNECTED,r),this.removeListener(lt.ERRORED,i),n(new Error("User closed the modal"))};this.once(lt.CONNECTED,r),this.once(lt.ERRORED,i),this.once(kD.MODAL_VISIBILITY,a)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=(0,Xte.default)(dd(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=fte(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light");let n=Xte.default.all([e.loginModal||{},this.options.uiConfig],{arrayMerge:(s,c)=>c});this.options.uiConfig=q(q({},n),{},{logoLight:n.logoLight||"",logoDark:n.logoDark||""});let r=e.embeddedWalletAuth.filter(s=>s.isDefault).map(s=>s.authConnection),i=[...this.options.uiConfig.loginMethodsOrder||[],...r],a=[],o=new Set;for(let s of i)o.has(s)||(o.add(s),a.push(s));this.options.uiConfig.loginMethodsOrder=a}getInitializationTrackData(){var e,n,r,i,a,o,s,c,l,u,f,d,p,h,m,w,g;return q(q({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:(e=this.modalConfig)===null||e===void 0?void 0:e.hideWalletDiscovery,modal_connectors:Object.keys(((n=this.modalConfig)===null||n===void 0?void 0:n.connectors)||{}),modal_auth_connector_login_methods:Object.keys(((r=this.modalConfig)===null||r===void 0||(r=r.connectors)===null||r===void 0||(r=r[ct.AUTH])===null||r===void 0?void 0:r.loginMethods)||{}),ui_login_methods_order:(i=this.options.uiConfig)===null||i===void 0?void 0:i.loginMethodsOrder,ui_modal_z_index:(a=this.options.uiConfig)===null||a===void 0?void 0:a.modalZIndex,ui_display_errors_on_modal:(o=this.options.uiConfig)===null||o===void 0?void 0:o.displayErrorsOnModal,ui_login_grid_col:(s=this.options.uiConfig)===null||s===void 0?void 0:s.loginGridCol,ui_primary_button:(c=this.options.uiConfig)===null||c===void 0?void 0:c.primaryButton,ui_modal_widget_type:(l=this.options.uiConfig)===null||l===void 0?void 0:l.widgetType,ui_modal_target_id_used:!!(!((u=this.options.uiConfig)===null||u===void 0)&&u.targetId),ui_modal_logo_alignment:(f=this.options.uiConfig)===null||f===void 0?void 0:f.logoAlignment,ui_modal_border_radius_type:(d=this.options.uiConfig)===null||d===void 0?void 0:d.borderRadiusType,ui_modal_button_radius_type:(p=this.options.uiConfig)===null||p===void 0?void 0:p.buttonRadiusType,ui_modal_sign_in_methods:(h=this.options.uiConfig)===null||h===void 0?void 0:h.signInMethods,ui_modal_add_previous_login_hint:(m=this.options.uiConfig)===null||m===void 0?void 0:m.addPreviousLoginHint,ui_modal_display_installed_external_wallets:(w=this.options.uiConfig)===null||w===void 0?void 0:w.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:(g=this.options.uiConfig)===null||g===void 0?void 0:g.displayExternalWalletsCount})}filterWalletRegistry(e,n){let{disableAllRecommendedWallets:r,disableAllOtherWallets:i,disabledWallets:a}=n.externalWalletAuth||{},o=new Set(a||[]);r&&Object.keys(e.default).forEach(c=>o.add(c)),i&&Object.keys(e.others).forEach(c=>o.add(c)),o.delete(ct.METAMASK);let s=dd(e);return o.forEach(c=>{delete s.default[c],delete s.others[c]}),{disabledExternalWallets:o,filteredWalletRegistry:s}}async getProjectAndWalletConfig(){var e,n;let[r,i]=await Promise.allSettled([RO({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:(e=this.options.accountAbstractionConfig)===null||e===void 0?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),$0e(s3e)]);if(r.status==="rejected"){let c=await c5(r.reason);throw De.error("Failed to fetch project configurations",c),at.notReady("failed to fetch project configurations",c)}let a=r.value,o={others:{},default:{}};return!!a.externalWalletAuth&&!((n=this.modalConfig)!==null&&n!==void 0&&n.hideWalletDiscovery)&&(i.status==="fulfilled"?o=i.value:De.error("Failed to fetch wallet registry",i.reason)),{projectConfig:a,walletRegistry:o}}async initConnectors({connectors:e,projectConfig:n,disabledExternalWallets:r}){let i=await this.filterConnectors({projectConfig:n,disabledExternalWallets:r}),{hasInAppConnectors:a,hasExternalConnectors:o}=await this.checkConnectorAvailability(i),s=e.filter(c=>i.includes(c.name));await this.initInAppAndCachedConnectors(s),o&&(a?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(s.filter(c=>c.type===cs.EXTERNAL&&c.name!==ct.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(s.filter(c=>c.type===cs.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===Pe.NOT_READY&&(this.status=Pe.READY,this.emit(lt.READY))}async filterConnectors({projectConfig:e,disabledExternalWallets:n}){var r;let i={},a=new Map;for(let u of e.embeddedWalletAuth||[]){let{isDefault:f,authConnection:d,groupedAuthConnectionId:p,authConnectionId:h}=u;f&&(i[d]={name:eht[d],authConnection:d,authConnectionId:h,groupedAuthConnectionId:p,extraLoginOptions:u.jwtParameters,isDefault:!0,showOnModal:!0}),a.set(p||h,u)}let o={[ct.AUTH]:{label:ct.AUTH,loginMethods:i}};(r=this.modalConfig)!==null&&r!==void 0&&(r=r.connectors)!==null&&r!==void 0&&r[ct.AUTH]&&(this.modalConfig.connectors[ct.AUTH].loginMethods||(this.modalConfig.connectors[ct.AUTH].loginMethods={}));let s=new Set(kX);return Object.keys(this.modalConfig.connectors[ct.AUTH].loginMethods).forEach(u=>{let f=this.modalConfig.connectors[ct.AUTH].loginMethods[u],{authConnectionId:d,groupedAuthConnectionId:p}=f;if(!s.has(u))throw at.invalidParams(`Invalid auth connection: ${u}`);if(p||d){if(!a.has(p||d))throw at.invalidParams(`Invalid auth connection config, authConnection: ${u}. Missing AuthConnectionConfig from the dashboard.`);let h=a.get(p||d);this.modalConfig.connectors[ct.AUTH].loginMethods[u]={authConnection:h.authConnection,authConnectionId:h.authConnectionId,groupedAuthConnectionId:h.groupedAuthConnectionId,isDefault:h.isDefault||!1,extraLoginOptions:q(q({},h.jwtParameters),f.extraLoginOptions)}}}),this.modalConfig.connectors=(0,Xte.default)(o,dd(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(u=>u.name)])].map(u=>{var f,d,p;let h={label:BO[u]||u.split("-").map(PD).join(" "),showOnModal:!0};this.modalConfig.connectors[u]=q(q({},h),((f=this.modalConfig)===null||f===void 0||(f=f.connectors)===null||f===void 0?void 0:f[u])||{});let m=this.getConnector(u);De.debug("connector config",u,(d=this.modalConfig.connectors)===null||d===void 0||(d=d[u])===null||d===void 0?void 0:d.showOnModal,m);let w=(p=this.modalConfig.connectors)===null||p===void 0?void 0:p[u];if(!m){if(w.showOnModal)throw at.invalidParams(`Connector ${u} is not configured`);return}if(!w.showOnModal)return;let g=!!e.externalWalletAuth;if(!(m.type===cs.EXTERNAL&&m.name!==ct.METAMASK&&(!g||n.has(u)))){if(u===ct.WALLET_CONNECT_V2){var x;if(!g||(x=this.modalConfig)!==null&&x!==void 0&&x.hideWalletDiscovery)return}return this.modalConfig.connectors[u]=w,u}}).filter(u=>u!==void 0)}async checkConnectorAvailability(e){let n=this.connectors.some(i=>{var a,o;return i.type!==cs.IN_APP||((a=this.modalConfig.connectors)===null||a===void 0||(a=a[i.name])===null||a===void 0?void 0:a.showOnModal)!==!0?!1:!!(!((o=this.modalConfig.connectors)!==null&&o!==void 0&&(o=o[i.name])!==null&&o!==void 0&&o.loginMethods)||Object.values(this.modalConfig.connectors[i.name].loginMethods).some(s=>s.showOnModal))});De.debug(n,this.connectors,e,"hasInAppWallets");let r=e.some(i=>{var a,o;return i===ct.WALLET_CONNECT_V2?!0:((a=this.getConnector(i))===null||a===void 0?void 0:a.type)===cs.EXTERNAL&&((o=this.modalConfig.connectors)===null||o===void 0||(o=o[i])===null||o===void 0?void 0:o.showOnModal)});return{hasInAppConnectors:n,hasExternalConnectors:r}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async n=>{let r=n.name;try{if(n.status!==Pe.NOT_READY||this.cachedConnector!==r&&n.type===cs.EXTERNAL)return;this.subscribeToConnectorEvents(n);let c=this.getInitialChainIdForConnector(n),l=super.checkIfAutoConnect(n);if(await n.init({autoConnect:l,chainId:c.chainId}),n.type===cs.IN_APP){var i,a,o,s;De.info("connectorInitResults",r);let u=((i=this.modalConfig.connectors[r])===null||i===void 0?void 0:i.loginMethods)||{};this.loginModal.addSocialLogins(r,u,((a=this.options.uiConfig)===null||a===void 0?void 0:a.loginMethodsOrder)||kX,q(q({},this.options.uiConfig),{},{loginGridCol:((o=this.options.uiConfig)===null||o===void 0?void 0:o.loginGridCol)||3,primaryButton:((s=this.options.uiConfig)===null||s===void 0?void 0:s.primaryButton)||"socialLogin"}))}}catch(c){De.error(c,"error while initializing connector ",r)}}))}async initExternalConnectors(e,n){let r={},i={};e.forEach(async a=>{let o=a.name;if(De.debug("init external wallet",this.cachedConnector,o,a.status),i[o]||(i[o]=new Set),a.connectorNamespace===jo.MULTICHAIN?this.getChainNamespaces().forEach(s=>i[o].add(s)):i[o].add(a.connectorNamespace),a.status===Pe.NOT_READY&&this.cachedConnector!==o)try{this.subscribeToConnectorEvents(a);let s=this.getInitialChainIdForConnector(a);await a.init({autoConnect:this.cachedConnector===o,chainId:s.chainId})}catch(s){De.error(s,"error while initializing connector",o)}if([Pe.NOT_READY,Pe.READY,Pe.CONNECTING,Pe.CONNECTED].includes(a.status)){let s=this.modalConfig.connectors[o];r[o]=q(q({},s),{},{isInjected:a.isInjected,icon:a.icon,chainNamespaces:Array.from(i[o])}),this.loginModal.addWalletLogins(r,{showExternalWalletsOnly:!!n.showExternalWalletsOnly,externalWalletsVisibility:!!n.externalWalletsVisibility,externalWalletsInitialized:!!n.externalWalletsInitialized})}})}};var x8t=window.NEO_CONFIG??{},bEn=x8t.web3auth?.client_id||"REPLACE_ME",gEn=x8t.web3auth?.network||"sapphire_mainnet",v8t=new rU({clientId:bEn,web3AuthNetwork:gEn,uiConfig:{logoLight:"https://flowpaypix.netlify.app/assets/logos/flowpay-logo.png",logoDark:"https://flowpaypix.netlify.app/assets/logos/flowpay-logo.png",loginMethodsOrder:["google"],displayErrorsOnModal:!1,addPreviousLoginHint:!1,displayInstalledExternalWallets:!1,displayExternalWalletsCount:!1,mode:"light",loginGridCol:1,primaryButton:"socialLogin"},modalConfig:{hideWalletDiscovery:!0,connectors:{auth:{label:"Login",loginMethods:{google:{}}}}}});async function E8t(){try{await v8t.init(),window.__web3auth=v8t,console.log("\u2705 Web3Auth minimal inicializado")}catch(t){console.error("\u274C Web3Auth falhou:",t),window.__web3auth=null}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",E8t):E8t();async function wEn(){if(!window.__web3auth)return!1;try{let t=await window.__web3auth.connect();return window.__provider=t,!!t}catch(t){return console.error("\u274C Falha ao conectar:",t),!1}}async function vEn(){if(window.__web3auth)try{await window.__web3auth.logout(),window.__provider=null,console.log("\u2705 Desconectado")}catch(t){console.error("\u274C Falha ao desconectar:",t)}}window.connectWallet=wEn;window.disconnectWallet=vEn;export{wEn as connectWallet,vEn as disconnectWallet};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.1 | MIT *)

@segment/analytics-next/dist/pkg/vendor/tsub/tsub.js:
  (*! For license information please see tsub.js.LICENSE.txt *)

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

tslib/tslib.es6.js:
tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@walletconnect/relay-auth/dist/index.es.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@walletconnect/utils/dist/index.es.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

fast-json-patch/module/helpers.mjs:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2022 Joachim Wester
   * MIT licensed
   *)

fast-json-patch/module/duplex.mjs:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2021 Joachim Wester
   * MIT license
   *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
*/
