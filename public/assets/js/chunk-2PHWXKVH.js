function m(e,t){return e.exec(t)?.groups}var U=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,K=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,S=/^\(.+?\).*?$/;var J=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function W(e){return J.test(e)}function V(e){return m(J,e)}var q=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function G(e){return q.test(e)}function H(e){return m(q,e)}var Q=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function X(e){return Q.test(e)}function Y(e){return m(Q,e)}var ee=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function b(e){return ee.test(e)}function te(e){return m(ee,e)}var re=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ne(e){return re.test(e)}function oe(e){return m(re,e)}var ie=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function ae(e){return ie.test(e)}function se(e){return m(ie,e)}var ye=/^receive\(\) external payable$/;function ue(e){return ye.test(e)}var L=new Set(["memory","indexed","storage","calldata"]),ce=new Set(["indexed"]),P=new Set(["calldata","memory","storage"]);var pe="1.0.8";var c=class e extends Error{constructor(t,r={}){let o=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,n=r.cause instanceof e&&r.cause.docsPath||r.docsPath,a=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...o?[`Details: ${o}`]:[],`Version: abitype@${pe}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=o,this.docsPath=n,this.metaMessages=r.metaMessages,this.shortMessage=t}};var A=class extends c{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},E=class extends c{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},M=class extends c{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}};var I=class extends c{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},k=class extends c{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},O=class extends c{constructor({param:t,name:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},R=class extends c{constructor({param:t,type:r,modifier:o}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${o}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},T=class extends c{constructor({param:t,type:r,modifier:o}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${o}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${o}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},j=class extends c{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}};var y=class extends c{constructor({signature:t,type:r}){super(`Invalid ${r} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},_=class extends c{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},z=class extends c{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}};var B=class extends c{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}};var Z=class extends c{constructor({current:t,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function le(e,t,r){let o="";if(r)for(let n of Object.entries(r)){if(!n)continue;let a="";for(let i of n[1])a+=`[${i.type}${i.name?`:${i.name}`:""}]`;o+=`(${n[0]}{${a}})`}return t?`${t}:${e}${o}`:e}var F=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function $(e,t={}){if(X(e))return be(e,t);if(G(e))return ge(e,t);if(W(e))return xe(e,t);if(ne(e))return he(e,t);if(ae(e))return ve(e);if(ue(e))return{type:"receive",stateMutability:"payable"};throw new _({signature:e})}function be(e,t={}){let r=Y(e);if(!r)throw new y({signature:e,type:"function"});let o=l(r.parameters),n=[],a=o.length;for(let s=0;s<a;s++)n.push(d(o[s],{modifiers:P,structs:t,type:"function"}));let i=[];if(r.returns){let s=l(r.returns),u=s.length;for(let f=0;f<u;f++)i.push(d(s[f],{modifiers:P,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:n,outputs:i}}function ge(e,t={}){let r=H(e);if(!r)throw new y({signature:e,type:"event"});let o=l(r.parameters),n=[],a=o.length;for(let i=0;i<a;i++)n.push(d(o[i],{modifiers:ce,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:n}}function xe(e,t={}){let r=V(e);if(!r)throw new y({signature:e,type:"error"});let o=l(r.parameters),n=[],a=o.length;for(let i=0;i<a;i++)n.push(d(o[i],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:n}}function he(e,t={}){let r=oe(e);if(!r)throw new y({signature:e,type:"constructor"});let o=l(r.parameters),n=[],a=o.length;for(let i=0;i<a;i++)n.push(d(o[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:n}}function ve(e){let t=se(e);if(!t)throw new y({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}var $e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,we=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Se=/^u?int$/;function d(e,t){let r=le(e,t?.type,t?.structs);if(F.has(r))return F.get(r);let o=S.test(e),n=m(o?we:$e,e);if(!n)throw new k({param:e});if(n.name&&Ae(n.name))throw new O({param:e,name:n.name});let a=n.name?{name:n.name}:{},i=n.modifier==="indexed"?{indexed:!0}:{},s=t?.structs??{},u,f={};if(o){u="tuple";let w=l(n.type),g=[],N=w.length;for(let x=0;x<N;x++)g.push(d(w[x],{structs:s}));f={components:g}}else if(n.type in s)u="tuple",f={components:s[n.type]};else if(Se.test(n.type))u=`${n.type}256`;else if(u=n.type,t?.type!=="struct"&&!D(u))throw new M({type:u});if(n.modifier){if(!t?.modifiers?.has?.(n.modifier))throw new R({param:e,type:t?.type,modifier:n.modifier});if(P.has(n.modifier)&&!Ee(u,!!n.array))throw new T({param:e,type:t?.type,modifier:n.modifier})}let p={type:`${u}${n.array??""}`,...a,...i,...f};return F.set(r,p),p}function l(e,t=[],r="",o=0){let n=e.trim().length;for(let a=0;a<n;a++){let i=e[a],s=e.slice(a+1);switch(i){case",":return o===0?l(s,[...t,r.trim()]):l(s,t,`${r}${i}`,o);case"(":return l(s,t,`${r}${i}`,o+1);case")":return l(s,t,`${r}${i}`,o-1);default:return l(s,t,`${r}${i}`,o)}}if(r==="")return t;if(o!==0)throw new Z({current:r,depth:o});return t.push(r.trim()),t}function D(e){return e==="address"||e==="bool"||e==="function"||e==="string"||U.test(e)||K.test(e)}var Pe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ae(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||U.test(e)||K.test(e)||Pe.test(e)}function Ee(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function h(e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];if(!b(s))continue;let u=te(s);if(!u)throw new y({signature:s,type:"struct"});let f=u.properties.split(";"),p=[],w=f.length;for(let g=0;g<w;g++){let x=f[g].trim();if(!x)continue;let de=d(x,{type:"struct"});p.push(de)}if(!p.length)throw new z({signature:s});t[u.name]=p}let o={},n=Object.entries(t),a=n.length;for(let i=0;i<a;i++){let[s,u]=n[i];o[s]=me(u,t)}return o}var Me=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function me(e,t,r=new Set){let o=[],n=e.length;for(let a=0;a<n;a++){let i=e[a];if(S.test(i.type))o.push(i);else{let u=m(Me,i.type);if(!u?.type)throw new j({abiParameter:i});let{array:f,type:p}=u;if(p in t){if(r.has(p))throw new B({type:p});o.push({...i,type:`tuple${f??""}`,components:me(t[p]??[],t,new Set([...r,p]))})}else if(D(p))o.push(i);else throw new E({type:p})}}return o}function Ie(e){let t=h(e),r=[],o=e.length;for(let n=0;n<o;n++){let a=e[n];b(a)||r.push($(a,t))}return r}var fe=/^tuple(?<array>(\[(\d*)\])*)$/;function C(e){let t=e.type;if(fe.test(e.type)&&"components"in e){t="(";let r=e.components.length;for(let n=0;n<r;n++){let a=e.components[n];t+=C(a),n<r-1&&(t+=", ")}let o=m(fe,e.type);return t+=`)${o?.array??""}`,C({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function v(e){let t="",r=e.length;for(let o=0;o<r;o++){let n=e[o];t+=C(n),o!==r-1&&(t+=", ")}return t}function ke(e){return e.type==="function"?`function ${e.name}(${v(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${v(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${v(e.inputs)})`:e.type==="error"?`error ${e.name}(${v(e.inputs)})`:e.type==="constructor"?`constructor(${v(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function Oe(e){let t;if(typeof e=="string")t=$(e);else{let r=h(e),o=e.length;for(let n=0;n<o;n++){let a=e[n];if(!b(a)){t=$(a,r);break}}}if(!t)throw new A({signature:e});return t}function Re(e){let t=[];if(typeof e=="string"){let r=l(e),o=r.length;for(let n=0;n<o;n++)t.push(d(r[n],{modifiers:L}))}else{let r=h(e),o=e.length;for(let n=0;n<o;n++){let a=e[n];if(b(a))continue;let i=l(a),s=i.length;for(let u=0;u<s;u++)t.push(d(i[u],{modifiers:L,structs:r}))}}if(t.length===0)throw new I({params:e});return t}export{ke as a,Ie as b,Oe as c,Re as d};
