import{a as I,b as E,f as z}from"./chunk-W44JATXS.js";import{g as G}from"./chunk-BG6P72OF.js";var N=globalThis;var A="<anonymous>";function b(t){try{return!t||typeof t!="function"?A:t.name||A}catch{return A}}var C=Object.prototype.toString;function F(t){switch(C.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return g(t,Error)}}function v(t,e){return C.call(t)===`[object ${e}]`}function M(t){return v(t,"String")}function K(t){return v(t,"Object")}function O(t){return typeof Event<"u"&&g(t,Event)}function L(t){return typeof Element<"u"&&g(t,Element)}function U(t){return K(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function g(t,e){try{return t instanceof e}catch{return!1}}function P(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}var $=N,W=80;function D(t,e={}){if(!t)return"<unknown>";try{let r=t,i=5,c=[],m=0,o=0,p=" > ",u=p.length,n,a=Array.isArray(e)?e:e.keyAttrs,s=!Array.isArray(e)&&e.maxStringLength||W;for(;r&&m++<i&&(n=Y(r,a),!(n==="html"||m>1&&o+c.length*u+n.length>=s));)c.push(n),o+=n.length,r=r.parentNode;return c.reverse().join(p)}catch{return"<unknown>"}}function Y(t,e){let r=t,i=[];if(!r?.tagName)return"";if($.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}i.push(r.tagName.toLowerCase());let c=e?.length?e.filter(o=>r.getAttribute(o)).map(o=>[o,r.getAttribute(o)]):null;if(c?.length)c.forEach(o=>{i.push(`[${o[0]}="${o[1]}"]`)});else{r.id&&i.push(`#${r.id}`);let o=r.className;if(o&&M(o)){let p=o.split(/\s+/);for(let u of p)i.push(`.${u}`)}}let m=["aria-label","type","name","title","alt"];for(let o of m){let p=r.getAttribute(o);p&&i.push(`[${o}="${p}"]`)}return i.join("")}function j(t){if(F(t))return{message:t.message,name:t.name,stack:t.stack,...B(t)};if(O(t)){let e={type:t.type,target:k(t.target),currentTarget:k(t.currentTarget),...B(t)};return typeof CustomEvent<"u"&&g(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function k(t){try{return L(t)?D(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function B(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function R(t,e=100,r=1/0){try{return h("",t,e,r)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function h(t,e,r=1/0,i=1/0,c=X()){let[m,o]=c;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let p=V(t,e);if(!p.startsWith("[object "))return p;if(e.__sentry_skip_normalization__)return e;let u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(u===0)return p.replace("object ","");if(m(e))return"[Circular ~]";let n=e;if(n&&typeof n.toJSON=="function")try{let l=n.toJSON();return h("",l,u-1,i,c)}catch{}let a=Array.isArray(e)?[]:{},s=0,f=j(e);for(let l in f){if(!Object.prototype.hasOwnProperty.call(f,l))continue;if(s>=i){a[l]="[MaxProperties ~]";break}let T=f[l];a[l]=h(l,T,u-1,i,c),s++}return o(e),a}function V(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(P(e))return"[VueViewModel]";if(U(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${b(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=J(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function J(t){let e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function X(){let t=new WeakSet;function e(i){return t.has(i)?!0:(t.add(i),!1)}function r(i){t.delete(i)}return[e,r]}var S=class t{constructor(e){I(this,"sentry",void 0),I(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){let r=e.findIndex(n=>n instanceof Error),i=e.findIndex(n=>typeof n=="string"),c=e.findIndex(n=>n&&typeof n=="object"&&"status"in n&&"type"in n),m=e.findIndex(n=>n&&typeof n=="object"&&"isAxiosError"in n&&n.isAxiosError===!0),o;if(c!==-1){var p;let n=e[c],a=(p=n.headers)===null||p===void 0?void 0:p.get("content-type");if(a.includes("application/json")){let s=await n.json();o=new Error(s?.error||s?.message||JSON.stringify(s))}else a.includes("text/plain")?o=new Error(await n.text()):o=new Error(`${n.status} ${n.type.toString()} ${n.statusText}`)}else if(m!==-1){let a=e[m].response;if(a){var u;let s=(u=a.headers)===null||u===void 0?void 0:u["content-type"];if(s.includes("application/json")){let f=a.data,l="error"in f?f.error:"message"in f?f.message:JSON.stringify(f);o=new Error(l)}else s.includes("text/plain")?o=new Error(a.data):o=new Error(`${a.status} ${a.data.toString()}`)}else o=new Error("Network error")}else r!==-1?o=e.splice(r,1)[0]:i!==-1?o=new Error(e.splice(i,1)[0]):o=new Error("Unknown error");return[o,e]}static translateArgs(e){let r=e.findIndex(c=>typeof c=="string"),i=r!==-1?e.splice(r,1)[0]:void 0;return i?{message:i,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){let r=e.methodFactory;e.methodFactory=(i,c,m)=>{m&&(this.category=m.toString());let o=r(i,c,m),p=typeof window<"u",u=(...n)=>{var a;let s=(a=this.sentry)===null||a===void 0?void 0:a.getActiveSpan(),{traceId:f,spanId:l}=s?.spanContext()||{},T=i==="error"&&n.length>=1&&n[0]instanceof Error;if(p){if(T){let d=n[0],y=f||l?`${d.message}: traceId: ${f} - spanId: ${l}`:d.message,H=[new Error(y,{cause:d}),...n.slice(1)];o&&o(...H);return}o&&o(...n)}else{let d={timestamp:new Date,level:i.toUpperCase(),logger:m};if((f||l)&&(d=E(E({},d),{},{traceId:f,spanId:l})),T){var x;let y=n[0];d=E(E({},d),{},{message:(x=y.message)!==null&&x!==void 0?x:"",stack:y.stack,extra:n.length>1?n.slice(1):void 0})}else{var _;d=E(E({},d),{},{message:(_=n[0])!==null&&_!==void 0?_:"",extra:n.length>1?n.slice(1):void 0})}o&&o(JSON.stringify(R(d)))}};switch(i){case"error":return async(...n)=>{let{stack:a}=n.find(l=>l instanceof Error)||new Error,[s,f]=await t.translateError(n);s.stack=a,this.error(s,...f),u(s,...f)};default:return(...n)=>{this.log(t.translateLevel(i),...n),u(...n)}}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){let r=this.sentry.getClient().getOptions();r&&(r.enabled=e)}}isEnabled(){if(this.sentry){var e;let r=this.sentry.getClient().getOptions();return(e=r?.enabled)!==null&&e!==void 0?e:!1}return!1}log(e,...r){this.sentry&&this.sentry.addBreadcrumb(E(E({},t.translateArgs(r)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...r){if(this.sentry){let i={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:r}};this.sentry.captureException(e,i)}}};var w=G(z()),q=w.default.getLogger("web3auth-logger"),Q=new S;Q.install(q);export{q as a};
