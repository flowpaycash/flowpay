var pnt=Object.create;var hO=Object.defineProperty;var hnt=Object.getOwnPropertyDescriptor;var mnt=Object.getOwnPropertyNames;var bnt=Object.getPrototypeOf,ynt=Object.prototype.hasOwnProperty;var mO=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Tpe=t=>e=>{var r=t[e];if(r)return r();throw new Error("Module not found in bundle: "+e)};var D=(t,e)=>()=>(t&&(e=t(t=0)),e);var de=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),lr=(t,e)=>{for(var r in e)hO(t,r,{get:e[r],enumerable:!0})},pO=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mnt(e))!ynt.call(t,i)&&i!==r&&hO(t,i,{get:()=>e[i],enumerable:!(n=hnt(e,i))||n.enumerable});return t},O0=(t,e,r)=>(pO(t,e,"default"),r&&pO(r,e,"default")),ve=(t,e,r)=>(r=t!=null?pnt(bnt(t)):{},pO(e||!t||!t.__esModule?hO(r,"default",{value:t,enumerable:!0}):r,t)),qy=t=>pO(hO({},"__esModule",{value:!0}),t);function _pe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Spe=D(()=>{});function hu(t,e){if(t==null)return{};var r,n,i=_pe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var J3=D(()=>{Spe()});function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}var qK=D(()=>{});function Ipe(t,e){if(Wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cpe=D(()=>{qK()});function Rpe(t){var e=Ipe(t,"string");return Wy(e)=="symbol"?e:e+""}var Ppe=D(()=>{qK();Cpe()});function V(t,e,r){return(e=Rpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ye=D(()=>{Ppe()});function Ope(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ope(Object(r),!0).forEach(function(n){V(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ope(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nt=D(()=>{Ye()});var WK=de(()=>{});var ZA=de((Npe,YK)=>{(function(t,e){"use strict";function r(T,m){if(!T)throw new Error(m||"Assertion failed")}function n(T,m){T.super_=m;var y=function(){};y.prototype=m.prototype,T.prototype=new y,T.prototype.constructor=T}function i(T,m,y){if(i.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((m==="le"||m==="be")&&(y=m,m=10),this._init(T||0,m||10,y||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=WK().Buffer}catch{}i.isBN=function(m){return m instanceof i?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===i.wordSize&&Array.isArray(m.words)},i.max=function(m,y){return m.cmp(y)>0?m:y},i.min=function(m,y){return m.cmp(y)<0?m:y},i.prototype._init=function(m,y,E){if(typeof m=="number")return this._initNumber(m,y,E);if(typeof m=="object")return this._initArray(m,y,E);y==="hex"&&(y=16),r(y===(y|0)&&y>=2&&y<=36),m=m.toString().replace(/\s+/g,"");var v=0;m[0]==="-"&&(v++,this.negative=1),v<m.length&&(y===16?this._parseHex(m,v,E):(this._parseBase(m,y,v),E==="le"&&this._initArray(this.toArray(),y,E)))},i.prototype._initNumber=function(m,y,E){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(r(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),y,E)},i.prototype._initArray=function(m,y,E){if(r(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var x,g,P=0;if(E==="be")for(v=m.length-1,x=0;v>=0;v-=3)g=m[v]|m[v-1]<<8|m[v-2]<<16,this.words[x]|=g<<P&67108863,this.words[x+1]=g>>>26-P&67108863,P+=24,P>=26&&(P-=26,x++);else if(E==="le")for(v=0,x=0;v<m.length;v+=3)g=m[v]|m[v+1]<<8|m[v+2]<<16,this.words[x]|=g<<P&67108863,this.words[x+1]=g>>>26-P&67108863,P+=24,P>=26&&(P-=26,x++);return this._strip()};function a(T,m){var y=T.charCodeAt(m);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;r(!1,"Invalid character in "+T)}function s(T,m,y){var E=a(T,y);return y-1>=m&&(E|=a(T,y-1)<<4),E}i.prototype._parseHex=function(m,y,E){this.length=Math.ceil((m.length-y)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var x=0,g=0,P;if(E==="be")for(v=m.length-1;v>=y;v-=2)P=s(m,y,v)<<x,this.words[g]|=P&67108863,x>=18?(x-=18,g+=1,this.words[g]|=P>>>26):x+=8;else{var B=m.length-y;for(v=B%2===0?y+1:y;v<m.length;v+=2)P=s(m,y,v)<<x,this.words[g]|=P&67108863,x>=18?(x-=18,g+=1,this.words[g]|=P>>>26):x+=8}this._strip()};function c(T,m,y,E){for(var v=0,x=0,g=Math.min(T.length,y),P=m;P<g;P++){var B=T.charCodeAt(P)-48;v*=E,B>=49?x=B-49+10:B>=17?x=B-17+10:x=B,r(B>=0&&x<E,"Invalid character"),v+=x}return v}i.prototype._parseBase=function(m,y,E){this.words=[0],this.length=1;for(var v=0,x=1;x<=67108863;x*=y)v++;v--,x=x/y|0;for(var g=m.length-E,P=g%v,B=Math.min(g,g-P)+E,I=0,L=E;L<B;L+=v)I=c(m,L,L+v,y),this.imuln(x),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(P!==0){var G=1;for(I=c(m,L,m.length,y),L=0;L<P;L++)G*=y;this.imuln(G),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},i.prototype.copy=function(m){m.words=new Array(this.length);for(var y=0;y<this.length;y++)m.words[y]=this.words[y];m.length=this.length,m.negative=this.negative,m.red=this.red};function l(T,m){T.words=m.words,T.length=m.length,T.negative=m.negative,T.red=m.red}if(i.prototype._move=function(m){l(m,this)},i.prototype.clone=function(){var m=new i(null);return this.copy(m),m},i.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{i.prototype.inspect=u}else i.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(m,y){m=m||10,y=y|0||1;var E;if(m===16||m==="hex"){E="";for(var v=0,x=0,g=0;g<this.length;g++){var P=this.words[g],B=((P<<v|x)&16777215).toString(16);x=P>>>24-v&16777215,v+=2,v>=26&&(v-=26,g--),x!==0||g!==this.length-1?E=d[6-B.length]+B+E:E=B+E}for(x!==0&&(E=x.toString(16)+E);E.length%y!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(m===(m|0)&&m>=2&&m<=36){var I=f[m],L=p[m];E="";var G=this.clone();for(G.negative=0;!G.isZero();){var H=G.modrn(L).toString(m);G=G.idivn(L),G.isZero()?E=H+E:E=d[I-H.length]+H+E}for(this.isZero()&&(E="0"+E);E.length%y!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(m,y){return this.toArrayLike(o,m,y)}),i.prototype.toArray=function(m,y){return this.toArrayLike(Array,m,y)};var h=function(m,y){return m.allocUnsafe?m.allocUnsafe(y):new m(y)};i.prototype.toArrayLike=function(m,y,E){this._strip();var v=this.byteLength(),x=E||Math.max(1,v);r(v<=x,"byte array longer than desired length"),r(x>0,"Requested array length <= 0");var g=h(m,x),P=y==="le"?"LE":"BE";return this["_toArrayLike"+P](g,v),g},i.prototype._toArrayLikeLE=function(m,y){for(var E=0,v=0,x=0,g=0;x<this.length;x++){var P=this.words[x]<<g|v;m[E++]=P&255,E<m.length&&(m[E++]=P>>8&255),E<m.length&&(m[E++]=P>>16&255),g===6?(E<m.length&&(m[E++]=P>>24&255),v=0,g=0):(v=P>>>24,g+=2)}if(E<m.length)for(m[E++]=v;E<m.length;)m[E++]=0},i.prototype._toArrayLikeBE=function(m,y){for(var E=m.length-1,v=0,x=0,g=0;x<this.length;x++){var P=this.words[x]<<g|v;m[E--]=P&255,E>=0&&(m[E--]=P>>8&255),E>=0&&(m[E--]=P>>16&255),g===6?(E>=0&&(m[E--]=P>>24&255),v=0,g=0):(v=P>>>24,g+=2)}if(E>=0)for(m[E--]=v;E>=0;)m[E--]=0},Math.clz32?i.prototype._countBits=function(m){return 32-Math.clz32(m)}:i.prototype._countBits=function(m){var y=m,E=0;return y>=4096&&(E+=13,y>>>=13),y>=64&&(E+=7,y>>>=7),y>=8&&(E+=4,y>>>=4),y>=2&&(E+=2,y>>>=2),E+y},i.prototype._zeroBits=function(m){if(m===0)return 26;var y=m,E=0;return(y&8191)===0&&(E+=13,y>>>=13),(y&127)===0&&(E+=7,y>>>=7),(y&15)===0&&(E+=4,y>>>=4),(y&3)===0&&(E+=2,y>>>=2),(y&1)===0&&E++,E},i.prototype.bitLength=function(){var m=this.words[this.length-1],y=this._countBits(m);return(this.length-1)*26+y};function b(T){for(var m=new Array(T.bitLength()),y=0;y<m.length;y++){var E=y/26|0,v=y%26;m[y]=T.words[E]>>>v&1}return m}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,y=0;y<this.length;y++){var E=this._zeroBits(this.words[y]);if(m+=E,E!==26)break}return m},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},i.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]|m.words[y];return this._strip()},i.prototype.ior=function(m){return r((this.negative|m.negative)===0),this.iuor(m)},i.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},i.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},i.prototype.iuand=function(m){var y;this.length>m.length?y=m:y=this;for(var E=0;E<y.length;E++)this.words[E]=this.words[E]&m.words[E];return this.length=y.length,this._strip()},i.prototype.iand=function(m){return r((this.negative|m.negative)===0),this.iuand(m)},i.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},i.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},i.prototype.iuxor=function(m){var y,E;this.length>m.length?(y=this,E=m):(y=m,E=this);for(var v=0;v<E.length;v++)this.words[v]=y.words[v]^E.words[v];if(this!==y)for(;v<y.length;v++)this.words[v]=y.words[v];return this.length=y.length,this._strip()},i.prototype.ixor=function(m){return r((this.negative|m.negative)===0),this.iuxor(m)},i.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},i.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},i.prototype.inotn=function(m){r(typeof m=="number"&&m>=0);var y=Math.ceil(m/26)|0,E=m%26;this._expand(y),E>0&&y--;for(var v=0;v<y;v++)this.words[v]=~this.words[v]&67108863;return E>0&&(this.words[v]=~this.words[v]&67108863>>26-E),this._strip()},i.prototype.notn=function(m){return this.clone().inotn(m)},i.prototype.setn=function(m,y){r(typeof m=="number"&&m>=0);var E=m/26|0,v=m%26;return this._expand(E+1),y?this.words[E]=this.words[E]|1<<v:this.words[E]=this.words[E]&~(1<<v),this._strip()},i.prototype.iadd=function(m){var y;if(this.negative!==0&&m.negative===0)return this.negative=0,y=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,y=this.isub(m),m.negative=1,y._normSign();var E,v;this.length>m.length?(E=this,v=m):(E=m,v=this);for(var x=0,g=0;g<v.length;g++)y=(E.words[g]|0)+(v.words[g]|0)+x,this.words[g]=y&67108863,x=y>>>26;for(;x!==0&&g<E.length;g++)y=(E.words[g]|0)+x,this.words[g]=y&67108863,x=y>>>26;if(this.length=E.length,x!==0)this.words[this.length]=x,this.length++;else if(E!==this)for(;g<E.length;g++)this.words[g]=E.words[g];return this},i.prototype.add=function(m){var y;return m.negative!==0&&this.negative===0?(m.negative=0,y=this.sub(m),m.negative^=1,y):m.negative===0&&this.negative!==0?(this.negative=0,y=m.sub(this),this.negative=1,y):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},i.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var y=this.iadd(m);return m.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var E=this.cmp(m);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,x;E>0?(v=this,x=m):(v=m,x=this);for(var g=0,P=0;P<x.length;P++)y=(v.words[P]|0)-(x.words[P]|0)+g,g=y>>26,this.words[P]=y&67108863;for(;g!==0&&P<v.length;P++)y=(v.words[P]|0)+g,g=y>>26,this.words[P]=y&67108863;if(g===0&&P<v.length&&v!==this)for(;P<v.length;P++)this.words[P]=v.words[P];return this.length=Math.max(this.length,P),v!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(m){return this.clone().isub(m)};function _(T,m,y){y.negative=m.negative^T.negative;var E=T.length+m.length|0;y.length=E,E=E-1|0;var v=T.words[0]|0,x=m.words[0]|0,g=v*x,P=g&67108863,B=g/67108864|0;y.words[0]=P;for(var I=1;I<E;I++){for(var L=B>>>26,G=B&67108863,H=Math.min(I,m.length-1),$=Math.max(0,I-T.length+1);$<=H;$++){var K=I-$|0;v=T.words[K]|0,x=m.words[$]|0,g=v*x+G,L+=g/67108864|0,G=g&67108863}y.words[I]=G|0,B=L|0}return B!==0?y.words[I]=B|0:y.length--,y._strip()}var A=function(m,y,E){var v=m.words,x=y.words,g=E.words,P=0,B,I,L,G=v[0]|0,H=G&8191,$=G>>>13,K=v[1]|0,W=K&8191,J=K>>>13,X=v[2]|0,te=X&8191,re=X>>>13,le=v[3]|0,ce=le&8191,ae=le>>>13,xe=v[4]|0,me=xe&8191,Se=xe>>>13,vt=v[5]|0,Qe=vt&8191,Ve=vt>>>13,kt=v[6]|0,Ze=kt&8191,et=kt>>>13,on=v[7]|0,Me=on&8191,rt=on>>>13,Ir=v[8]|0,yt=Ir&8191,ut=Ir>>>13,Hn=v[9]|0,St=Hn&8191,qt=Hn>>>13,Bi=x[0]|0,Jt=Bi&8191,Ht=Bi>>>13,ns=x[1]|0,$t=ns&8191,Qt=ns>>>13,ll=x[2]|0,br=ll&8191,Ue=ll>>>13,Hr=x[3]|0,bt=Hr&8191,Tt=Hr>>>13,Zr=x[4]|0,dt=Zr&8191,Vt=Zr>>>13,is=x[5]|0,Pt=is&8191,sr=is>>>13,Y=x[6]|0,Z=Y&8191,Q=Y>>>13,j=x[7]|0,ee=j&8191,se=j>>>13,fe=x[8]|0,pe=fe&8191,Ae=fe>>>13,Ot=x[9]|0,Ke=Ot&8191,Kt=Ot>>>13;E.negative=m.negative^y.negative,E.length=19,B=Math.imul(H,Jt),I=Math.imul(H,Ht),I=I+Math.imul($,Jt)|0,L=Math.imul($,Ht);var mt=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(mt>>>26)|0,mt&=67108863,B=Math.imul(W,Jt),I=Math.imul(W,Ht),I=I+Math.imul(J,Jt)|0,L=Math.imul(J,Ht),B=B+Math.imul(H,$t)|0,I=I+Math.imul(H,Qt)|0,I=I+Math.imul($,$t)|0,L=L+Math.imul($,Qt)|0;var Zt=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,B=Math.imul(te,Jt),I=Math.imul(te,Ht),I=I+Math.imul(re,Jt)|0,L=Math.imul(re,Ht),B=B+Math.imul(W,$t)|0,I=I+Math.imul(W,Qt)|0,I=I+Math.imul(J,$t)|0,L=L+Math.imul(J,Qt)|0,B=B+Math.imul(H,br)|0,I=I+Math.imul(H,Ue)|0,I=I+Math.imul($,br)|0,L=L+Math.imul($,Ue)|0;var nr=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(nr>>>26)|0,nr&=67108863,B=Math.imul(ce,Jt),I=Math.imul(ce,Ht),I=I+Math.imul(ae,Jt)|0,L=Math.imul(ae,Ht),B=B+Math.imul(te,$t)|0,I=I+Math.imul(te,Qt)|0,I=I+Math.imul(re,$t)|0,L=L+Math.imul(re,Qt)|0,B=B+Math.imul(W,br)|0,I=I+Math.imul(W,Ue)|0,I=I+Math.imul(J,br)|0,L=L+Math.imul(J,Ue)|0,B=B+Math.imul(H,bt)|0,I=I+Math.imul(H,Tt)|0,I=I+Math.imul($,bt)|0,L=L+Math.imul($,Tt)|0;var yr=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(yr>>>26)|0,yr&=67108863,B=Math.imul(me,Jt),I=Math.imul(me,Ht),I=I+Math.imul(Se,Jt)|0,L=Math.imul(Se,Ht),B=B+Math.imul(ce,$t)|0,I=I+Math.imul(ce,Qt)|0,I=I+Math.imul(ae,$t)|0,L=L+Math.imul(ae,Qt)|0,B=B+Math.imul(te,br)|0,I=I+Math.imul(te,Ue)|0,I=I+Math.imul(re,br)|0,L=L+Math.imul(re,Ue)|0,B=B+Math.imul(W,bt)|0,I=I+Math.imul(W,Tt)|0,I=I+Math.imul(J,bt)|0,L=L+Math.imul(J,Tt)|0,B=B+Math.imul(H,dt)|0,I=I+Math.imul(H,Vt)|0,I=I+Math.imul($,dt)|0,L=L+Math.imul($,Vt)|0;var fr=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(fr>>>26)|0,fr&=67108863,B=Math.imul(Qe,Jt),I=Math.imul(Qe,Ht),I=I+Math.imul(Ve,Jt)|0,L=Math.imul(Ve,Ht),B=B+Math.imul(me,$t)|0,I=I+Math.imul(me,Qt)|0,I=I+Math.imul(Se,$t)|0,L=L+Math.imul(Se,Qt)|0,B=B+Math.imul(ce,br)|0,I=I+Math.imul(ce,Ue)|0,I=I+Math.imul(ae,br)|0,L=L+Math.imul(ae,Ue)|0,B=B+Math.imul(te,bt)|0,I=I+Math.imul(te,Tt)|0,I=I+Math.imul(re,bt)|0,L=L+Math.imul(re,Tt)|0,B=B+Math.imul(W,dt)|0,I=I+Math.imul(W,Vt)|0,I=I+Math.imul(J,dt)|0,L=L+Math.imul(J,Vt)|0,B=B+Math.imul(H,Pt)|0,I=I+Math.imul(H,sr)|0,I=I+Math.imul($,Pt)|0,L=L+Math.imul($,sr)|0;var ir=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(ir>>>26)|0,ir&=67108863,B=Math.imul(Ze,Jt),I=Math.imul(Ze,Ht),I=I+Math.imul(et,Jt)|0,L=Math.imul(et,Ht),B=B+Math.imul(Qe,$t)|0,I=I+Math.imul(Qe,Qt)|0,I=I+Math.imul(Ve,$t)|0,L=L+Math.imul(Ve,Qt)|0,B=B+Math.imul(me,br)|0,I=I+Math.imul(me,Ue)|0,I=I+Math.imul(Se,br)|0,L=L+Math.imul(Se,Ue)|0,B=B+Math.imul(ce,bt)|0,I=I+Math.imul(ce,Tt)|0,I=I+Math.imul(ae,bt)|0,L=L+Math.imul(ae,Tt)|0,B=B+Math.imul(te,dt)|0,I=I+Math.imul(te,Vt)|0,I=I+Math.imul(re,dt)|0,L=L+Math.imul(re,Vt)|0,B=B+Math.imul(W,Pt)|0,I=I+Math.imul(W,sr)|0,I=I+Math.imul(J,Pt)|0,L=L+Math.imul(J,sr)|0,B=B+Math.imul(H,Z)|0,I=I+Math.imul(H,Q)|0,I=I+Math.imul($,Z)|0,L=L+Math.imul($,Q)|0;var cr=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(cr>>>26)|0,cr&=67108863,B=Math.imul(Me,Jt),I=Math.imul(Me,Ht),I=I+Math.imul(rt,Jt)|0,L=Math.imul(rt,Ht),B=B+Math.imul(Ze,$t)|0,I=I+Math.imul(Ze,Qt)|0,I=I+Math.imul(et,$t)|0,L=L+Math.imul(et,Qt)|0,B=B+Math.imul(Qe,br)|0,I=I+Math.imul(Qe,Ue)|0,I=I+Math.imul(Ve,br)|0,L=L+Math.imul(Ve,Ue)|0,B=B+Math.imul(me,bt)|0,I=I+Math.imul(me,Tt)|0,I=I+Math.imul(Se,bt)|0,L=L+Math.imul(Se,Tt)|0,B=B+Math.imul(ce,dt)|0,I=I+Math.imul(ce,Vt)|0,I=I+Math.imul(ae,dt)|0,L=L+Math.imul(ae,Vt)|0,B=B+Math.imul(te,Pt)|0,I=I+Math.imul(te,sr)|0,I=I+Math.imul(re,Pt)|0,L=L+Math.imul(re,sr)|0,B=B+Math.imul(W,Z)|0,I=I+Math.imul(W,Q)|0,I=I+Math.imul(J,Z)|0,L=L+Math.imul(J,Q)|0,B=B+Math.imul(H,ee)|0,I=I+Math.imul(H,se)|0,I=I+Math.imul($,ee)|0,L=L+Math.imul($,se)|0;var or=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(or>>>26)|0,or&=67108863,B=Math.imul(yt,Jt),I=Math.imul(yt,Ht),I=I+Math.imul(ut,Jt)|0,L=Math.imul(ut,Ht),B=B+Math.imul(Me,$t)|0,I=I+Math.imul(Me,Qt)|0,I=I+Math.imul(rt,$t)|0,L=L+Math.imul(rt,Qt)|0,B=B+Math.imul(Ze,br)|0,I=I+Math.imul(Ze,Ue)|0,I=I+Math.imul(et,br)|0,L=L+Math.imul(et,Ue)|0,B=B+Math.imul(Qe,bt)|0,I=I+Math.imul(Qe,Tt)|0,I=I+Math.imul(Ve,bt)|0,L=L+Math.imul(Ve,Tt)|0,B=B+Math.imul(me,dt)|0,I=I+Math.imul(me,Vt)|0,I=I+Math.imul(Se,dt)|0,L=L+Math.imul(Se,Vt)|0,B=B+Math.imul(ce,Pt)|0,I=I+Math.imul(ce,sr)|0,I=I+Math.imul(ae,Pt)|0,L=L+Math.imul(ae,sr)|0,B=B+Math.imul(te,Z)|0,I=I+Math.imul(te,Q)|0,I=I+Math.imul(re,Z)|0,L=L+Math.imul(re,Q)|0,B=B+Math.imul(W,ee)|0,I=I+Math.imul(W,se)|0,I=I+Math.imul(J,ee)|0,L=L+Math.imul(J,se)|0,B=B+Math.imul(H,pe)|0,I=I+Math.imul(H,Ae)|0,I=I+Math.imul($,pe)|0,L=L+Math.imul($,Ae)|0;var gt=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(gt>>>26)|0,gt&=67108863,B=Math.imul(St,Jt),I=Math.imul(St,Ht),I=I+Math.imul(qt,Jt)|0,L=Math.imul(qt,Ht),B=B+Math.imul(yt,$t)|0,I=I+Math.imul(yt,Qt)|0,I=I+Math.imul(ut,$t)|0,L=L+Math.imul(ut,Qt)|0,B=B+Math.imul(Me,br)|0,I=I+Math.imul(Me,Ue)|0,I=I+Math.imul(rt,br)|0,L=L+Math.imul(rt,Ue)|0,B=B+Math.imul(Ze,bt)|0,I=I+Math.imul(Ze,Tt)|0,I=I+Math.imul(et,bt)|0,L=L+Math.imul(et,Tt)|0,B=B+Math.imul(Qe,dt)|0,I=I+Math.imul(Qe,Vt)|0,I=I+Math.imul(Ve,dt)|0,L=L+Math.imul(Ve,Vt)|0,B=B+Math.imul(me,Pt)|0,I=I+Math.imul(me,sr)|0,I=I+Math.imul(Se,Pt)|0,L=L+Math.imul(Se,sr)|0,B=B+Math.imul(ce,Z)|0,I=I+Math.imul(ce,Q)|0,I=I+Math.imul(ae,Z)|0,L=L+Math.imul(ae,Q)|0,B=B+Math.imul(te,ee)|0,I=I+Math.imul(te,se)|0,I=I+Math.imul(re,ee)|0,L=L+Math.imul(re,se)|0,B=B+Math.imul(W,pe)|0,I=I+Math.imul(W,Ae)|0,I=I+Math.imul(J,pe)|0,L=L+Math.imul(J,Ae)|0,B=B+Math.imul(H,Ke)|0,I=I+Math.imul(H,Kt)|0,I=I+Math.imul($,Ke)|0,L=L+Math.imul($,Kt)|0;var Dt=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,B=Math.imul(St,$t),I=Math.imul(St,Qt),I=I+Math.imul(qt,$t)|0,L=Math.imul(qt,Qt),B=B+Math.imul(yt,br)|0,I=I+Math.imul(yt,Ue)|0,I=I+Math.imul(ut,br)|0,L=L+Math.imul(ut,Ue)|0,B=B+Math.imul(Me,bt)|0,I=I+Math.imul(Me,Tt)|0,I=I+Math.imul(rt,bt)|0,L=L+Math.imul(rt,Tt)|0,B=B+Math.imul(Ze,dt)|0,I=I+Math.imul(Ze,Vt)|0,I=I+Math.imul(et,dt)|0,L=L+Math.imul(et,Vt)|0,B=B+Math.imul(Qe,Pt)|0,I=I+Math.imul(Qe,sr)|0,I=I+Math.imul(Ve,Pt)|0,L=L+Math.imul(Ve,sr)|0,B=B+Math.imul(me,Z)|0,I=I+Math.imul(me,Q)|0,I=I+Math.imul(Se,Z)|0,L=L+Math.imul(Se,Q)|0,B=B+Math.imul(ce,ee)|0,I=I+Math.imul(ce,se)|0,I=I+Math.imul(ae,ee)|0,L=L+Math.imul(ae,se)|0,B=B+Math.imul(te,pe)|0,I=I+Math.imul(te,Ae)|0,I=I+Math.imul(re,pe)|0,L=L+Math.imul(re,Ae)|0,B=B+Math.imul(W,Ke)|0,I=I+Math.imul(W,Kt)|0,I=I+Math.imul(J,Ke)|0,L=L+Math.imul(J,Kt)|0;var ft=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(ft>>>26)|0,ft&=67108863,B=Math.imul(St,br),I=Math.imul(St,Ue),I=I+Math.imul(qt,br)|0,L=Math.imul(qt,Ue),B=B+Math.imul(yt,bt)|0,I=I+Math.imul(yt,Tt)|0,I=I+Math.imul(ut,bt)|0,L=L+Math.imul(ut,Tt)|0,B=B+Math.imul(Me,dt)|0,I=I+Math.imul(Me,Vt)|0,I=I+Math.imul(rt,dt)|0,L=L+Math.imul(rt,Vt)|0,B=B+Math.imul(Ze,Pt)|0,I=I+Math.imul(Ze,sr)|0,I=I+Math.imul(et,Pt)|0,L=L+Math.imul(et,sr)|0,B=B+Math.imul(Qe,Z)|0,I=I+Math.imul(Qe,Q)|0,I=I+Math.imul(Ve,Z)|0,L=L+Math.imul(Ve,Q)|0,B=B+Math.imul(me,ee)|0,I=I+Math.imul(me,se)|0,I=I+Math.imul(Se,ee)|0,L=L+Math.imul(Se,se)|0,B=B+Math.imul(ce,pe)|0,I=I+Math.imul(ce,Ae)|0,I=I+Math.imul(ae,pe)|0,L=L+Math.imul(ae,Ae)|0,B=B+Math.imul(te,Ke)|0,I=I+Math.imul(te,Kt)|0,I=I+Math.imul(re,Ke)|0,L=L+Math.imul(re,Kt)|0;var Et=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(Et>>>26)|0,Et&=67108863,B=Math.imul(St,bt),I=Math.imul(St,Tt),I=I+Math.imul(qt,bt)|0,L=Math.imul(qt,Tt),B=B+Math.imul(yt,dt)|0,I=I+Math.imul(yt,Vt)|0,I=I+Math.imul(ut,dt)|0,L=L+Math.imul(ut,Vt)|0,B=B+Math.imul(Me,Pt)|0,I=I+Math.imul(Me,sr)|0,I=I+Math.imul(rt,Pt)|0,L=L+Math.imul(rt,sr)|0,B=B+Math.imul(Ze,Z)|0,I=I+Math.imul(Ze,Q)|0,I=I+Math.imul(et,Z)|0,L=L+Math.imul(et,Q)|0,B=B+Math.imul(Qe,ee)|0,I=I+Math.imul(Qe,se)|0,I=I+Math.imul(Ve,ee)|0,L=L+Math.imul(Ve,se)|0,B=B+Math.imul(me,pe)|0,I=I+Math.imul(me,Ae)|0,I=I+Math.imul(Se,pe)|0,L=L+Math.imul(Se,Ae)|0,B=B+Math.imul(ce,Ke)|0,I=I+Math.imul(ce,Kt)|0,I=I+Math.imul(ae,Ke)|0,L=L+Math.imul(ae,Kt)|0;var _t=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(_t>>>26)|0,_t&=67108863,B=Math.imul(St,dt),I=Math.imul(St,Vt),I=I+Math.imul(qt,dt)|0,L=Math.imul(qt,Vt),B=B+Math.imul(yt,Pt)|0,I=I+Math.imul(yt,sr)|0,I=I+Math.imul(ut,Pt)|0,L=L+Math.imul(ut,sr)|0,B=B+Math.imul(Me,Z)|0,I=I+Math.imul(Me,Q)|0,I=I+Math.imul(rt,Z)|0,L=L+Math.imul(rt,Q)|0,B=B+Math.imul(Ze,ee)|0,I=I+Math.imul(Ze,se)|0,I=I+Math.imul(et,ee)|0,L=L+Math.imul(et,se)|0,B=B+Math.imul(Qe,pe)|0,I=I+Math.imul(Qe,Ae)|0,I=I+Math.imul(Ve,pe)|0,L=L+Math.imul(Ve,Ae)|0,B=B+Math.imul(me,Ke)|0,I=I+Math.imul(me,Kt)|0,I=I+Math.imul(Se,Ke)|0,L=L+Math.imul(Se,Kt)|0;var lt=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(lt>>>26)|0,lt&=67108863,B=Math.imul(St,Pt),I=Math.imul(St,sr),I=I+Math.imul(qt,Pt)|0,L=Math.imul(qt,sr),B=B+Math.imul(yt,Z)|0,I=I+Math.imul(yt,Q)|0,I=I+Math.imul(ut,Z)|0,L=L+Math.imul(ut,Q)|0,B=B+Math.imul(Me,ee)|0,I=I+Math.imul(Me,se)|0,I=I+Math.imul(rt,ee)|0,L=L+Math.imul(rt,se)|0,B=B+Math.imul(Ze,pe)|0,I=I+Math.imul(Ze,Ae)|0,I=I+Math.imul(et,pe)|0,L=L+Math.imul(et,Ae)|0,B=B+Math.imul(Qe,Ke)|0,I=I+Math.imul(Qe,Kt)|0,I=I+Math.imul(Ve,Ke)|0,L=L+Math.imul(Ve,Kt)|0;var ye=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(ye>>>26)|0,ye&=67108863,B=Math.imul(St,Z),I=Math.imul(St,Q),I=I+Math.imul(qt,Z)|0,L=Math.imul(qt,Q),B=B+Math.imul(yt,ee)|0,I=I+Math.imul(yt,se)|0,I=I+Math.imul(ut,ee)|0,L=L+Math.imul(ut,se)|0,B=B+Math.imul(Me,pe)|0,I=I+Math.imul(Me,Ae)|0,I=I+Math.imul(rt,pe)|0,L=L+Math.imul(rt,Ae)|0,B=B+Math.imul(Ze,Ke)|0,I=I+Math.imul(Ze,Kt)|0,I=I+Math.imul(et,Ke)|0,L=L+Math.imul(et,Kt)|0;var we=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(we>>>26)|0,we&=67108863,B=Math.imul(St,ee),I=Math.imul(St,se),I=I+Math.imul(qt,ee)|0,L=Math.imul(qt,se),B=B+Math.imul(yt,pe)|0,I=I+Math.imul(yt,Ae)|0,I=I+Math.imul(ut,pe)|0,L=L+Math.imul(ut,Ae)|0,B=B+Math.imul(Me,Ke)|0,I=I+Math.imul(Me,Kt)|0,I=I+Math.imul(rt,Ke)|0,L=L+Math.imul(rt,Kt)|0;var He=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(He>>>26)|0,He&=67108863,B=Math.imul(St,pe),I=Math.imul(St,Ae),I=I+Math.imul(qt,pe)|0,L=Math.imul(qt,Ae),B=B+Math.imul(yt,Ke)|0,I=I+Math.imul(yt,Kt)|0,I=I+Math.imul(ut,Ke)|0,L=L+Math.imul(ut,Kt)|0;var Ne=(P+B|0)+((I&8191)<<13)|0;P=(L+(I>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,B=Math.imul(St,Ke),I=Math.imul(St,Kt),I=I+Math.imul(qt,Ke)|0,L=Math.imul(qt,Kt);var ke=(P+B|0)+((I&8191)<<13)|0;return P=(L+(I>>>13)|0)+(ke>>>26)|0,ke&=67108863,g[0]=mt,g[1]=Zt,g[2]=nr,g[3]=yr,g[4]=fr,g[5]=ir,g[6]=cr,g[7]=or,g[8]=gt,g[9]=Dt,g[10]=ft,g[11]=Et,g[12]=_t,g[13]=lt,g[14]=ye,g[15]=we,g[16]=He,g[17]=Ne,g[18]=ke,P!==0&&(g[19]=P,E.length++),E};Math.imul||(A=_);function C(T,m,y){y.negative=m.negative^T.negative,y.length=T.length+m.length;for(var E=0,v=0,x=0;x<y.length-1;x++){var g=v;v=0;for(var P=E&67108863,B=Math.min(x,m.length-1),I=Math.max(0,x-T.length+1);I<=B;I++){var L=x-I,G=T.words[L]|0,H=m.words[I]|0,$=G*H,K=$&67108863;g=g+($/67108864|0)|0,K=K+P|0,P=K&67108863,g=g+(K>>>26)|0,v+=g>>>26,g&=67108863}y.words[x]=P,E=g,g=v}return E!==0?y.words[x]=E:y.length--,y._strip()}function R(T,m,y){return C(T,m,y)}i.prototype.mulTo=function(m,y){var E,v=this.length+m.length;return this.length===10&&m.length===10?E=A(this,m,y):v<63?E=_(this,m,y):v<1024?E=C(this,m,y):E=R(this,m,y),E};function M(T,m){this.x=T,this.y=m}M.prototype.makeRBT=function(m){for(var y=new Array(m),E=i.prototype._countBits(m)-1,v=0;v<m;v++)y[v]=this.revBin(v,E,m);return y},M.prototype.revBin=function(m,y,E){if(m===0||m===E-1)return m;for(var v=0,x=0;x<y;x++)v|=(m&1)<<y-x-1,m>>=1;return v},M.prototype.permute=function(m,y,E,v,x,g){for(var P=0;P<g;P++)v[P]=y[m[P]],x[P]=E[m[P]]},M.prototype.transform=function(m,y,E,v,x,g){this.permute(g,m,y,E,v,x);for(var P=1;P<x;P<<=1)for(var B=P<<1,I=Math.cos(2*Math.PI/B),L=Math.sin(2*Math.PI/B),G=0;G<x;G+=B)for(var H=I,$=L,K=0;K<P;K++){var W=E[G+K],J=v[G+K],X=E[G+K+P],te=v[G+K+P],re=H*X-$*te;te=H*te+$*X,X=re,E[G+K]=W+X,v[G+K]=J+te,E[G+K+P]=W-X,v[G+K+P]=J-te,K!==B&&(re=I*H-L*$,$=I*$+L*H,H=re)}},M.prototype.guessLen13b=function(m,y){var E=Math.max(y,m)|1,v=E&1,x=0;for(E=E/2|0;E;E=E>>>1)x++;return 1<<x+1+v},M.prototype.conjugate=function(m,y,E){if(!(E<=1))for(var v=0;v<E/2;v++){var x=m[v];m[v]=m[E-v-1],m[E-v-1]=x,x=y[v],y[v]=-y[E-v-1],y[E-v-1]=-x}},M.prototype.normalize13b=function(m,y){for(var E=0,v=0;v<y/2;v++){var x=Math.round(m[2*v+1]/y)*8192+Math.round(m[2*v]/y)+E;m[v]=x&67108863,x<67108864?E=0:E=x/67108864|0}return m},M.prototype.convert13b=function(m,y,E,v){for(var x=0,g=0;g<y;g++)x=x+(m[g]|0),E[2*g]=x&8191,x=x>>>13,E[2*g+1]=x&8191,x=x>>>13;for(g=2*y;g<v;++g)E[g]=0;r(x===0),r((x&-8192)===0)},M.prototype.stub=function(m){for(var y=new Array(m),E=0;E<m;E++)y[E]=0;return y},M.prototype.mulp=function(m,y,E){var v=2*this.guessLen13b(m.length,y.length),x=this.makeRBT(v),g=this.stub(v),P=new Array(v),B=new Array(v),I=new Array(v),L=new Array(v),G=new Array(v),H=new Array(v),$=E.words;$.length=v,this.convert13b(m.words,m.length,P,v),this.convert13b(y.words,y.length,L,v),this.transform(P,g,B,I,v,x),this.transform(L,g,G,H,v,x);for(var K=0;K<v;K++){var W=B[K]*G[K]-I[K]*H[K];I[K]=B[K]*H[K]+I[K]*G[K],B[K]=W}return this.conjugate(B,I,v),this.transform(B,I,$,g,v,x),this.conjugate($,g,v),this.normalize13b($,v),E.negative=m.negative^y.negative,E.length=m.length+y.length,E._strip()},i.prototype.mul=function(m){var y=new i(null);return y.words=new Array(this.length+m.length),this.mulTo(m,y)},i.prototype.mulf=function(m){var y=new i(null);return y.words=new Array(this.length+m.length),R(this,m,y)},i.prototype.imul=function(m){return this.clone().mulTo(m,this)},i.prototype.imuln=function(m){var y=m<0;y&&(m=-m),r(typeof m=="number"),r(m<67108864);for(var E=0,v=0;v<this.length;v++){var x=(this.words[v]|0)*m,g=(x&67108863)+(E&67108863);E>>=26,E+=x/67108864|0,E+=g>>>26,this.words[v]=g&67108863}return E!==0&&(this.words[v]=E,this.length++),this.length=m===0?1:this.length,y?this.ineg():this},i.prototype.muln=function(m){return this.clone().imuln(m)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(m){var y=b(m);if(y.length===0)return new i(1);for(var E=this,v=0;v<y.length&&y[v]===0;v++,E=E.sqr());if(++v<y.length)for(var x=E.sqr();v<y.length;v++,x=x.sqr())y[v]!==0&&(E=E.mul(x));return E},i.prototype.iushln=function(m){r(typeof m=="number"&&m>=0);var y=m%26,E=(m-y)/26,v=67108863>>>26-y<<26-y,x;if(y!==0){var g=0;for(x=0;x<this.length;x++){var P=this.words[x]&v,B=(this.words[x]|0)-P<<y;this.words[x]=B|g,g=P>>>26-y}g&&(this.words[x]=g,this.length++)}if(E!==0){for(x=this.length-1;x>=0;x--)this.words[x+E]=this.words[x];for(x=0;x<E;x++)this.words[x]=0;this.length+=E}return this._strip()},i.prototype.ishln=function(m){return r(this.negative===0),this.iushln(m)},i.prototype.iushrn=function(m,y,E){r(typeof m=="number"&&m>=0);var v;y?v=(y-y%26)/26:v=0;var x=m%26,g=Math.min((m-x)/26,this.length),P=67108863^67108863>>>x<<x,B=E;if(v-=g,v=Math.max(0,v),B){for(var I=0;I<g;I++)B.words[I]=this.words[I];B.length=g}if(g!==0)if(this.length>g)for(this.length-=g,I=0;I<this.length;I++)this.words[I]=this.words[I+g];else this.words[0]=0,this.length=1;var L=0;for(I=this.length-1;I>=0&&(L!==0||I>=v);I--){var G=this.words[I]|0;this.words[I]=L<<26-x|G>>>x,L=G&P}return B&&L!==0&&(B.words[B.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(m,y,E){return r(this.negative===0),this.iushrn(m,y,E)},i.prototype.shln=function(m){return this.clone().ishln(m)},i.prototype.ushln=function(m){return this.clone().iushln(m)},i.prototype.shrn=function(m){return this.clone().ishrn(m)},i.prototype.ushrn=function(m){return this.clone().iushrn(m)},i.prototype.testn=function(m){r(typeof m=="number"&&m>=0);var y=m%26,E=(m-y)/26,v=1<<y;if(this.length<=E)return!1;var x=this.words[E];return!!(x&v)},i.prototype.imaskn=function(m){r(typeof m=="number"&&m>=0);var y=m%26,E=(m-y)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(y!==0&&E++,this.length=Math.min(E,this.length),y!==0){var v=67108863^67108863>>>y<<y;this.words[this.length-1]&=v}return this._strip()},i.prototype.maskn=function(m){return this.clone().imaskn(m)},i.prototype.iaddn=function(m){return r(typeof m=="number"),r(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},i.prototype._iaddn=function(m){this.words[0]+=m;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},i.prototype.isubn=function(m){if(r(typeof m=="number"),r(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},i.prototype.addn=function(m){return this.clone().iaddn(m)},i.prototype.subn=function(m){return this.clone().isubn(m)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(m,y,E){var v=m.length+E,x;this._expand(v);var g,P=0;for(x=0;x<m.length;x++){g=(this.words[x+E]|0)+P;var B=(m.words[x]|0)*y;g-=B&67108863,P=(g>>26)-(B/67108864|0),this.words[x+E]=g&67108863}for(;x<this.length-E;x++)g=(this.words[x+E]|0)+P,P=g>>26,this.words[x+E]=g&67108863;if(P===0)return this._strip();for(r(P===-1),P=0,x=0;x<this.length;x++)g=-(this.words[x]|0)+P,P=g>>26,this.words[x]=g&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(m,y){var E=this.length-m.length,v=this.clone(),x=m,g=x.words[x.length-1]|0,P=this._countBits(g);E=26-P,E!==0&&(x=x.ushln(E),v.iushln(E),g=x.words[x.length-1]|0);var B=v.length-x.length,I;if(y!=="mod"){I=new i(null),I.length=B+1,I.words=new Array(I.length);for(var L=0;L<I.length;L++)I.words[L]=0}var G=v.clone()._ishlnsubmul(x,1,B);G.negative===0&&(v=G,I&&(I.words[B]=1));for(var H=B-1;H>=0;H--){var $=(v.words[x.length+H]|0)*67108864+(v.words[x.length+H-1]|0);for($=Math.min($/g|0,67108863),v._ishlnsubmul(x,$,H);v.negative!==0;)$--,v.negative=0,v._ishlnsubmul(x,1,H),v.isZero()||(v.negative^=1);I&&(I.words[H]=$)}return I&&I._strip(),v._strip(),y!=="div"&&E!==0&&v.iushrn(E),{div:I||null,mod:v}},i.prototype.divmod=function(m,y,E){if(r(!m.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,x,g;return this.negative!==0&&m.negative===0?(g=this.neg().divmod(m,y),y!=="mod"&&(v=g.div.neg()),y!=="div"&&(x=g.mod.neg(),E&&x.negative!==0&&x.iadd(m)),{div:v,mod:x}):this.negative===0&&m.negative!==0?(g=this.divmod(m.neg(),y),y!=="mod"&&(v=g.div.neg()),{div:v,mod:g.mod}):(this.negative&m.negative)!==0?(g=this.neg().divmod(m.neg(),y),y!=="div"&&(x=g.mod.neg(),E&&x.negative!==0&&x.isub(m)),{div:g.div,mod:x}):m.length>this.length||this.cmp(m)<0?{div:new i(0),mod:this}:m.length===1?y==="div"?{div:this.divn(m.words[0]),mod:null}:y==="mod"?{div:null,mod:new i(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new i(this.modrn(m.words[0]))}:this._wordDiv(m,y)},i.prototype.div=function(m){return this.divmod(m,"div",!1).div},i.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},i.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},i.prototype.divRound=function(m){var y=this.divmod(m);if(y.mod.isZero())return y.div;var E=y.div.negative!==0?y.mod.isub(m):y.mod,v=m.ushrn(1),x=m.andln(1),g=E.cmp(v);return g<0||x===1&&g===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},i.prototype.modrn=function(m){var y=m<0;y&&(m=-m),r(m<=67108863);for(var E=(1<<26)%m,v=0,x=this.length-1;x>=0;x--)v=(E*v+(this.words[x]|0))%m;return y?-v:v},i.prototype.modn=function(m){return this.modrn(m)},i.prototype.idivn=function(m){var y=m<0;y&&(m=-m),r(m<=67108863);for(var E=0,v=this.length-1;v>=0;v--){var x=(this.words[v]|0)+E*67108864;this.words[v]=x/m|0,E=x%m}return this._strip(),y?this.ineg():this},i.prototype.divn=function(m){return this.clone().idivn(m)},i.prototype.egcd=function(m){r(m.negative===0),r(!m.isZero());var y=this,E=m.clone();y.negative!==0?y=y.umod(m):y=y.clone();for(var v=new i(1),x=new i(0),g=new i(0),P=new i(1),B=0;y.isEven()&&E.isEven();)y.iushrn(1),E.iushrn(1),++B;for(var I=E.clone(),L=y.clone();!y.isZero();){for(var G=0,H=1;(y.words[0]&H)===0&&G<26;++G,H<<=1);if(G>0)for(y.iushrn(G);G-- >0;)(v.isOdd()||x.isOdd())&&(v.iadd(I),x.isub(L)),v.iushrn(1),x.iushrn(1);for(var $=0,K=1;(E.words[0]&K)===0&&$<26;++$,K<<=1);if($>0)for(E.iushrn($);$-- >0;)(g.isOdd()||P.isOdd())&&(g.iadd(I),P.isub(L)),g.iushrn(1),P.iushrn(1);y.cmp(E)>=0?(y.isub(E),v.isub(g),x.isub(P)):(E.isub(y),g.isub(v),P.isub(x))}return{a:g,b:P,gcd:E.iushln(B)}},i.prototype._invmp=function(m){r(m.negative===0),r(!m.isZero());var y=this,E=m.clone();y.negative!==0?y=y.umod(m):y=y.clone();for(var v=new i(1),x=new i(0),g=E.clone();y.cmpn(1)>0&&E.cmpn(1)>0;){for(var P=0,B=1;(y.words[0]&B)===0&&P<26;++P,B<<=1);if(P>0)for(y.iushrn(P);P-- >0;)v.isOdd()&&v.iadd(g),v.iushrn(1);for(var I=0,L=1;(E.words[0]&L)===0&&I<26;++I,L<<=1);if(I>0)for(E.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(g),x.iushrn(1);y.cmp(E)>=0?(y.isub(E),v.isub(x)):(E.isub(y),x.isub(v))}var G;return y.cmpn(1)===0?G=v:G=x,G.cmpn(0)<0&&G.iadd(m),G},i.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var y=this.clone(),E=m.clone();y.negative=0,E.negative=0;for(var v=0;y.isEven()&&E.isEven();v++)y.iushrn(1),E.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;E.isEven();)E.iushrn(1);var x=y.cmp(E);if(x<0){var g=y;y=E,E=g}else if(x===0||E.cmpn(1)===0)break;y.isub(E)}while(!0);return E.iushln(v)},i.prototype.invm=function(m){return this.egcd(m).a.umod(m)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(m){return this.words[0]&m},i.prototype.bincn=function(m){r(typeof m=="number");var y=m%26,E=(m-y)/26,v=1<<y;if(this.length<=E)return this._expand(E+1),this.words[E]|=v,this;for(var x=v,g=E;x!==0&&g<this.length;g++){var P=this.words[g]|0;P+=x,x=P>>>26,P&=67108863,this.words[g]=P}return x!==0&&(this.words[g]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(m){var y=m<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var E;if(this.length>1)E=1;else{y&&(m=-m),r(m<=67108863,"Number is too big");var v=this.words[0]|0;E=v===m?0:v<m?-1:1}return this.negative!==0?-E|0:E},i.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var y=this.ucmp(m);return this.negative!==0?-y|0:y},i.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var y=0,E=this.length-1;E>=0;E--){var v=this.words[E]|0,x=m.words[E]|0;if(v!==x){v<x?y=-1:v>x&&(y=1);break}}return y},i.prototype.gtn=function(m){return this.cmpn(m)===1},i.prototype.gt=function(m){return this.cmp(m)===1},i.prototype.gten=function(m){return this.cmpn(m)>=0},i.prototype.gte=function(m){return this.cmp(m)>=0},i.prototype.ltn=function(m){return this.cmpn(m)===-1},i.prototype.lt=function(m){return this.cmp(m)===-1},i.prototype.lten=function(m){return this.cmpn(m)<=0},i.prototype.lte=function(m){return this.cmp(m)<=0},i.prototype.eqn=function(m){return this.cmpn(m)===0},i.prototype.eq=function(m){return this.cmp(m)===0},i.red=function(m){return new w(m)},i.prototype.toRed=function(m){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(m){return this.red=m,this},i.prototype.forceRed=function(m){return r(!this.red,"Already a number in reduction context"),this._forceRed(m)},i.prototype.redAdd=function(m){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},i.prototype.redIAdd=function(m){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},i.prototype.redSub=function(m){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},i.prototype.redISub=function(m){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},i.prototype.redShl=function(m){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},i.prototype.redMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},i.prototype.redIMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(m){return r(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var U={k256:null,p224:null,p192:null,p25519:null};function F(T,m){this.name=T,this.p=new i(m,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var m=new i(null);return m.words=new Array(Math.ceil(this.n/13)),m},F.prototype.ireduce=function(m){var y=m,E;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),E=y.bitLength();while(E>this.n);var v=E<this.n?-1:y.ucmp(this.p);return v===0?(y.words[0]=0,y.length=1):v>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},F.prototype.split=function(m,y){m.iushrn(this.n,0,y)},F.prototype.imulK=function(m){return m.imul(this.k)};function z(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(z,F),z.prototype.split=function(m,y){for(var E=4194303,v=Math.min(m.length,9),x=0;x<v;x++)y.words[x]=m.words[x];if(y.length=v,m.length<=9){m.words[0]=0,m.length=1;return}var g=m.words[9];for(y.words[y.length++]=g&E,x=10;x<m.length;x++){var P=m.words[x]|0;m.words[x-10]=(P&E)<<4|g>>>22,g=P}g>>>=22,m.words[x-10]=g,g===0&&m.length>10?m.length-=10:m.length-=9},z.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var y=0,E=0;E<m.length;E++){var v=m.words[E]|0;y+=v*977,m.words[E]=y&67108863,y=v*64+(y/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function N(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(N,F);function k(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(k,F);function O(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(O,F),O.prototype.imulK=function(m){for(var y=0,E=0;E<m.length;E++){var v=(m.words[E]|0)*19+y,x=v&67108863;v>>>=26,m.words[E]=x,y=v}return y!==0&&(m.words[m.length++]=y),m},i._prime=function(m){if(U[m])return U[m];var y;if(m==="k256")y=new z;else if(m==="p224")y=new N;else if(m==="p192")y=new k;else if(m==="p25519")y=new O;else throw new Error("Unknown prime "+m);return U[m]=y,y};function w(T){if(typeof T=="string"){var m=i._prime(T);this.m=m.p,this.prime=m}else r(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}w.prototype._verify1=function(m){r(m.negative===0,"red works only with positives"),r(m.red,"red works only with red numbers")},w.prototype._verify2=function(m,y){r((m.negative|y.negative)===0,"red works only with positives"),r(m.red&&m.red===y.red,"red works only with red numbers")},w.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(l(m,m.umod(this.m)._forceRed(this)),m)},w.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},w.prototype.add=function(m,y){this._verify2(m,y);var E=m.add(y);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},w.prototype.iadd=function(m,y){this._verify2(m,y);var E=m.iadd(y);return E.cmp(this.m)>=0&&E.isub(this.m),E},w.prototype.sub=function(m,y){this._verify2(m,y);var E=m.sub(y);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},w.prototype.isub=function(m,y){this._verify2(m,y);var E=m.isub(y);return E.cmpn(0)<0&&E.iadd(this.m),E},w.prototype.shl=function(m,y){return this._verify1(m),this.imod(m.ushln(y))},w.prototype.imul=function(m,y){return this._verify2(m,y),this.imod(m.imul(y))},w.prototype.mul=function(m,y){return this._verify2(m,y),this.imod(m.mul(y))},w.prototype.isqr=function(m){return this.imul(m,m.clone())},w.prototype.sqr=function(m){return this.mul(m,m)},w.prototype.sqrt=function(m){if(m.isZero())return m.clone();var y=this.m.andln(3);if(r(y%2===1),y===3){var E=this.m.add(new i(1)).iushrn(2);return this.pow(m,E)}for(var v=this.m.subn(1),x=0;!v.isZero()&&v.andln(1)===0;)x++,v.iushrn(1);r(!v.isZero());var g=new i(1).toRed(this),P=g.redNeg(),B=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new i(2*I*I).toRed(this);this.pow(I,B).cmp(P)!==0;)I.redIAdd(P);for(var L=this.pow(I,v),G=this.pow(m,v.addn(1).iushrn(1)),H=this.pow(m,v),$=x;H.cmp(g)!==0;){for(var K=H,W=0;K.cmp(g)!==0;W++)K=K.redSqr();r(W<$);var J=this.pow(L,new i(1).iushln($-W-1));G=G.redMul(J),L=J.redSqr(),H=H.redMul(L),$=W}return G},w.prototype.invm=function(m){var y=m._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},w.prototype.pow=function(m,y){if(y.isZero())return new i(1).toRed(this);if(y.cmpn(1)===0)return m.clone();var E=4,v=new Array(1<<E);v[0]=new i(1).toRed(this),v[1]=m;for(var x=2;x<v.length;x++)v[x]=this.mul(v[x-1],m);var g=v[0],P=0,B=0,I=y.bitLength()%26;for(I===0&&(I=26),x=y.length-1;x>=0;x--){for(var L=y.words[x],G=I-1;G>=0;G--){var H=L>>G&1;if(g!==v[0]&&(g=this.sqr(g)),H===0&&P===0){B=0;continue}P<<=1,P|=H,B++,!(B!==E&&(x!==0||G!==0))&&(g=this.mul(g,v[P]),B=0,P=0)}I=26}return g},w.prototype.convertTo=function(m){var y=m.umod(this.m);return y===m?y.clone():y},w.prototype.convertFrom=function(m){var y=m.clone();return y.red=null,y},i.mont=function(m){return new S(m)};function S(T){w.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(S,w),S.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},S.prototype.convertFrom=function(m){var y=this.imod(m.mul(this.rinv));return y.red=null,y},S.prototype.imul=function(m,y){if(m.isZero()||y.isZero())return m.words[0]=0,m.length=1,m;var E=m.imul(y),v=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=E.isub(v).iushrn(this.shift),g=x;return x.cmp(this.m)>=0?g=x.isub(this.m):x.cmpn(0)<0&&(g=x.iadd(this.m)),g._forceRed(this)},S.prototype.mul=function(m,y){if(m.isZero()||y.isZero())return new i(0)._forceRed(this);var E=m.mul(y),v=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=E.isub(v).iushrn(this.shift),g=x;return x.cmp(this.m)>=0?g=x.isub(this.m):x.cmpn(0)<0&&(g=x.iadd(this.m)),g._forceRed(this)},S.prototype.invm=function(m){var y=this.imod(m._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(typeof YK>"u"||YK,Npe)});var Yy,kpe=D(()=>{Yy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function Pa(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function N0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fi(t,...e){if(!Pa(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Q3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");N0(t.outputLen),N0(t.blockLen)}function Wf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function XA(t,e){fi(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Bpe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function mu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function bO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ad(t,e){return t<<32-e|t>>>e}function wnt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function vnt(t){for(let e=0;e<t.length;e++)t[e]=wnt(t[e]);return t}function Vi(t){if(fi(t),Dpe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Ent[t[r]];return e}function Mpe(t){if(t>=Bp._0&&t<=Bp._9)return t-Bp._0;if(t>=Bp.A&&t<=Bp.F)return t-(Bp.A-10);if(t>=Bp.a&&t<=Bp.f)return t-(Bp.a-10)}function os(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Dpe)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=Mpe(t.charCodeAt(o)),s=Mpe(t.charCodeAt(o+1));if(a===void 0||s===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=a*16+s}return n}function bu(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Jy(t){return typeof t=="string"&&(t=bu(t)),fi(t),t}function Wr(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];fi(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function eT(t){let e=n=>t().update(Jy(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Oa(t=32){if(Yy&&typeof Yy.getRandomValues=="function")return Yy.getRandomValues(new Uint8Array(t));if(Yy&&typeof Yy.randomBytes=="function")return Uint8Array.from(Yy.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var gnt,JK,Dpe,Ent,Bp,f5,Na=D(()=>{kpe();gnt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;JK=gnt?t=>t:vnt,Dpe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ent=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Bp={_0:48,_9:57,A:65,F:70,a:97,f:102};f5=class{}});function xnt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,s,n)}function Lpe(t,e,r){return t&e^~t&r}function Upe(t,e,r){return t&e^t&r^e&r}var tT,Dp,as,Fpe=D(()=>{Na();tT=class extends f5{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=bO(this.buffer)}update(e){Wf(this),e=Jy(e),fi(e);let{view:r,buffer:n,blockLen:i}=this,o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let c=bO(e);for(;i<=o-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wf(this),XA(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,mu(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let d=a;d<i;d++)r[d]=0;xnt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=bO(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)s.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=o,e.length=i,e.pos=s,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},Dp=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),as=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function Ant(t,e=!1){return e?{h:Number(t&yO),l:Number(t>>Hpe&yO)}:{h:Number(t>>Hpe&yO)|0,l:Number(t&yO)|0}}function gO(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:a,l:s}=Ant(t[o],e);[n[o],i[o]]=[a,s]}return[n,i]}function Yf(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var yO,Hpe,QK,ZK,Qy,Zy,rT,nT,zpe,Gpe,jpe,$pe,Vpe,Kpe,qpe,Wpe,Ype,Jpe,XK=D(()=>{yO=BigInt(4294967295),Hpe=BigInt(32);QK=(t,e,r)=>t>>>r,ZK=(t,e,r)=>t<<32-r|e>>>r,Qy=(t,e,r)=>t>>>r|e<<32-r,Zy=(t,e,r)=>t<<32-r|e>>>r,rT=(t,e,r)=>t<<64-r|e>>>r-32,nT=(t,e,r)=>t>>>r-32|e<<64-r,zpe=(t,e,r)=>t<<r|e>>>32-r,Gpe=(t,e,r)=>e<<r|t>>>32-r,jpe=(t,e,r)=>e<<r-32|t>>>64-r,$pe=(t,e,r)=>t<<r-32|e>>>64-r;Vpe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Kpe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,qpe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Wpe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Ype=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Jpe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0});var _nt,p5,wO,Qpe,Snt,Int,h5,m5,eq,pc,Zpe,Z3=D(()=>{Fpe();XK();Na();_nt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),p5=new Uint32Array(64),wO=class extends tT{constructor(e=32){super(64,e,8,!1),this.A=Dp[0]|0,this.B=Dp[1]|0,this.C=Dp[2]|0,this.D=Dp[3]|0,this.E=Dp[4]|0,this.F=Dp[5]|0,this.G=Dp[6]|0,this.H=Dp[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:c}=this;return[e,r,n,i,o,a,s,c]}set(e,r,n,i,o,a,s,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)p5[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let f=p5[d-15],p=p5[d-2],h=Ad(f,7)^Ad(f,18)^f>>>3,b=Ad(p,17)^Ad(p,19)^p>>>10;p5[d]=b+p5[d-7]+h+p5[d-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=Ad(s,6)^Ad(s,11)^Ad(s,25),p=u+f+Lpe(s,c,l)+_nt[d]+p5[d]|0,b=(Ad(n,2)^Ad(n,13)^Ad(n,22))+Upe(n,i,o)|0;u=l,l=c,c=s,s=a+p|0,a=o,o=i,i=n,n=p+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,c,l,u)}roundClean(){mu(p5)}destroy(){this.set(0,0,0,0,0,0,0,0),mu(this.buffer)}},Qpe=gO(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Snt=Qpe[0],Int=Qpe[1],h5=new Uint32Array(80),m5=new Uint32Array(80),eq=class extends tT{constructor(e=64){super(128,e,16,!1),this.Ah=as[0]|0,this.Al=as[1]|0,this.Bh=as[2]|0,this.Bl=as[3]|0,this.Ch=as[4]|0,this.Cl=as[5]|0,this.Dh=as[6]|0,this.Dl=as[7]|0,this.Eh=as[8]|0,this.El=as[9]|0,this.Fh=as[10]|0,this.Fl=as[11]|0,this.Gh=as[12]|0,this.Gl=as[13]|0,this.Hh=as[14]|0,this.Hl=as[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:p,Gl:h,Hh:b,Hl:_}=this;return[e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_]}set(e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=h|0,this.Hh=b|0,this.Hl=_|0}process(e,r){for(let R=0;R<16;R++,r+=4)h5[R]=e.getUint32(r),m5[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let M=h5[R-15]|0,U=m5[R-15]|0,F=Qy(M,U,1)^Qy(M,U,8)^QK(M,U,7),z=Zy(M,U,1)^Zy(M,U,8)^ZK(M,U,7),N=h5[R-2]|0,k=m5[R-2]|0,O=Qy(N,k,19)^rT(N,k,61)^QK(N,k,6),w=Zy(N,k,19)^nT(N,k,61)^ZK(N,k,6),S=qpe(z,w,m5[R-7],m5[R-16]),T=Wpe(S,F,O,h5[R-7],h5[R-16]);h5[R]=T|0,m5[R]=S|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:p,Fl:h,Gh:b,Gl:_,Hh:A,Hl:C}=this;for(let R=0;R<80;R++){let M=Qy(d,f,14)^Qy(d,f,18)^rT(d,f,41),U=Zy(d,f,14)^Zy(d,f,18)^nT(d,f,41),F=d&p^~d&b,z=f&h^~f&_,N=Ype(C,U,z,Int[R],m5[R]),k=Jpe(N,A,M,F,Snt[R],h5[R]),O=N|0,w=Qy(n,i,28)^rT(n,i,34)^rT(n,i,39),S=Zy(n,i,28)^nT(n,i,34)^nT(n,i,39),T=n&o^n&s^o&s,m=i&a^i&c^a&c;A=b|0,C=_|0,b=p|0,_=h|0,p=d|0,h=f|0,{h:d,l:f}=Yf(l|0,u|0,k|0,O|0),l=s|0,u=c|0,s=o|0,c=a|0,o=n|0,a=i|0;let y=Vpe(O,S,m);n=Kpe(y,k,w,T),i=y|0}({h:n,l:i}=Yf(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=Yf(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l:c}=Yf(this.Ch|0,this.Cl|0,s|0,c|0),{h:l,l:u}=Yf(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Yf(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:h}=Yf(this.Fh|0,this.Fl|0,p|0,h|0),{h:b,l:_}=Yf(this.Gh|0,this.Gl|0,b|0,_|0),{h:A,l:C}=Yf(this.Hh|0,this.Hl|0,A|0,C|0),this.set(n,i,o,a,s,c,l,u,d,f,p,h,b,_,A,C)}roundClean(){mu(h5,m5)}destroy(){mu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},pc=eT(()=>new wO),Zpe=eT(()=>new eq)});var vO,Xy,EO=D(()=>{Na();vO=class extends f5{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Q3(e);let n=Jy(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),mu(o)}update(e){return Wf(this),this.iHash.update(e),this}digestInto(e){Wf(this),fi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Xy=(t,e,r)=>new vO(t,e).update(r).digest();Xy.create=(t,e)=>new vO(t,e)});function Cnt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function e6e(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function xO(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function nq(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function rq(t){if(!Array.isArray(t))throw new Error("array expected")}function AO(t,e){if(!e6e(!0,e))throw new Error(`${t}: array of strings expected`)}function Rnt(t,e){if(!e6e(!1,e))throw new Error(`${t}: array of numbers expected`)}function Pnt(...t){let e=o=>o,r=(o,a)=>s=>o(a(s)),n=t.map(o=>o.encode).reduceRight(r,e),i=t.map(o=>o.decode).reduce(r,e);return{encode:n,decode:i}}function Ont(t){let e=typeof t=="string"?t.split(""):t,r=e.length;AO("alphabet",e);let n=new Map(e.map((i,o)=>[i,o]));return{encode:i=>(rq(i),i.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${t}`);return e[o]})),decode:i=>(rq(i),i.map(o=>{xO("alphabet.decode",o);let a=n.get(o);if(a===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${t}`);return a}))}}function Nnt(t=""){return xO("join",t),{encode:e=>(AO("join.decode",e),e.join(t)),decode:e=>(xO("join.decode",e),e.split(t))}}function knt(t,e="="){return nq(t),xO("padding",e),{encode(r){for(AO("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){AO("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function Xpe(t,e,r,n){if(rq(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(TO(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${TO(e,r)}`);let i=0,o=0,a=tq[e],s=tq[r]-1,c=[];for(let l of t){if(nq(l),l>=a)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=r;o-=r)c.push((i>>o-r&s)>>>0);let u=tq[o];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-o&s,!n&&o>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&c.push(i>>>0),c}function Mnt(t,e=!1){if(nq(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(TO(8,t)>32||TO(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!Cnt(r))throw new Error("radix2.encode input should be Uint8Array");return Xpe(Array.from(r),8,t,!e)},decode:r=>(Rnt("radix2.decode",r),Uint8Array.from(Xpe(r,t,8,e)))}}var t6e,TO,tq,r6e,n6e=D(()=>{t6e=(t,e)=>e===0?t:t6e(e,t%e),TO=(t,e)=>t+(e-t6e(t,e)),tq=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();r6e=Pnt(Mnt(5),Ont("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),knt(5),Nnt(""))});var b5=de((Sor,o6e)=>{o6e.exports=i6e;function i6e(t,e){if(!t)throw new Error(e||"Assertion failed")}i6e.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var iT=de((Ior,iq)=>{typeof Object.create=="function"?iq.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:iq.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Td=de(pi=>{"use strict";var Bnt=b5(),Dnt=iT();pi.inherits=Dnt;function Lnt(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Unt(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):Lnt(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}pi.toArray=Unt;function Fnt(t){for(var e="",r=0;r<t.length;r++)e+=s6e(t[r].toString(16));return e}pi.toHex=Fnt;function a6e(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}pi.htonl=a6e;function Hnt(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=a6e(i)),r+=c6e(i.toString(16))}return r}pi.toHex32=Hnt;function s6e(t){return t.length===1?"0"+t:t}pi.zero2=s6e;function c6e(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}pi.zero8=c6e;function znt(t,e,r,n){var i=r-e;Bnt(i%4===0);for(var o=new Array(i/4),a=0,s=e;a<o.length;a++,s+=4){var c;n==="big"?c=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:c=t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],o[a]=c>>>0}return o}pi.join32=znt;function Gnt(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}pi.split32=Gnt;function jnt(t,e){return t>>>e|t<<32-e}pi.rotr32=jnt;function $nt(t,e){return t<<e|t>>>32-e}pi.rotl32=$nt;function Vnt(t,e){return t+e>>>0}pi.sum32=Vnt;function Knt(t,e,r){return t+e+r>>>0}pi.sum32_3=Knt;function qnt(t,e,r,n){return t+e+r+n>>>0}pi.sum32_4=qnt;function Wnt(t,e,r,n,i){return t+e+r+n+i>>>0}pi.sum32_5=Wnt;function Ynt(t,e,r,n){var i=t[e],o=t[e+1],a=n+o>>>0,s=(a<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=a}pi.sum64=Ynt;function Jnt(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}pi.sum64_hi=Jnt;function Qnt(t,e,r,n){var i=e+n;return i>>>0}pi.sum64_lo=Qnt;function Znt(t,e,r,n,i,o,a,s){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+o>>>0,c+=l<o?1:0,l=l+s>>>0,c+=l<s?1:0;var u=t+r+i+a+c;return u>>>0}pi.sum64_4_hi=Znt;function Xnt(t,e,r,n,i,o,a,s){var c=e+n+o+s;return c>>>0}pi.sum64_4_lo=Xnt;function eit(t,e,r,n,i,o,a,s,c,l){var u=0,d=e;d=d+n>>>0,u+=d<e?1:0,d=d+o>>>0,u+=d<o?1:0,d=d+s>>>0,u+=d<s?1:0,d=d+l>>>0,u+=d<l?1:0;var f=t+r+i+a+c+u;return f>>>0}pi.sum64_5_hi=eit;function tit(t,e,r,n,i,o,a,s,c,l){var u=e+n+o+s+l;return u>>>0}pi.sum64_5_lo=tit;function rit(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}pi.rotr64_hi=rit;function nit(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}pi.rotr64_lo=nit;function iit(t,e,r){return t>>>r}pi.shr64_hi=iit;function oit(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}pi.shr64_lo=oit});var X3=de(u6e=>{"use strict";var l6e=Td(),ait=b5();function _O(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}u6e.BlockHash=_O;_O.prototype.update=function(e,r){if(e=l6e.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=l6e.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};_O.prototype.digest=function(e){return this.update(this._pad()),ait(this.pending===null),this._digest(e)};_O.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,a=8;a<this.padLength;a++)i[o++]=0;return i}});var oq=de(Lp=>{"use strict";var sit=Td(),Jf=sit.rotr32;function cit(t,e,r,n){if(t===0)return d6e(e,r,n);if(t===1||t===3)return p6e(e,r,n);if(t===2)return f6e(e,r,n)}Lp.ft_1=cit;function d6e(t,e,r){return t&e^~t&r}Lp.ch32=d6e;function f6e(t,e,r){return t&e^t&r^e&r}Lp.maj32=f6e;function p6e(t,e,r){return t^e^r}Lp.p32=p6e;function lit(t){return Jf(t,2)^Jf(t,13)^Jf(t,22)}Lp.s0_256=lit;function uit(t){return Jf(t,6)^Jf(t,11)^Jf(t,25)}Lp.s1_256=uit;function dit(t){return Jf(t,7)^Jf(t,18)^t>>>3}Lp.g0_256=dit;function fit(t){return Jf(t,17)^Jf(t,19)^t>>>10}Lp.g1_256=fit});var b6e=de((Oor,m6e)=>{"use strict";var ew=Td(),pit=X3(),hit=oq(),aq=ew.rotl32,oT=ew.sum32,mit=ew.sum32_5,bit=hit.ft_1,h6e=pit.BlockHash,yit=[1518500249,1859775393,2400959708,3395469782];function Qf(){if(!(this instanceof Qf))return new Qf;h6e.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ew.inherits(Qf,h6e);m6e.exports=Qf;Qf.blockSize=512;Qf.outSize=160;Qf.hmacStrength=80;Qf.padLength=64;Qf.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=aq(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],a=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),d=mit(aq(o,5),bit(u,a,s,c),l,n[i],yit[u]);l=c,c=s,s=aq(a,30),a=o,o=d}this.h[0]=oT(this.h[0],o),this.h[1]=oT(this.h[1],a),this.h[2]=oT(this.h[2],s),this.h[3]=oT(this.h[3],c),this.h[4]=oT(this.h[4],l)};Qf.prototype._digest=function(e){return e==="hex"?ew.toHex32(this.h,"big"):ew.split32(this.h,"big")}});var sq=de((Nor,g6e)=>{"use strict";var tw=Td(),git=X3(),rw=oq(),wit=b5(),_d=tw.sum32,vit=tw.sum32_4,Eit=tw.sum32_5,xit=rw.ch32,Ait=rw.maj32,Tit=rw.s0_256,_it=rw.s1_256,Sit=rw.g0_256,Iit=rw.g1_256,y6e=git.BlockHash,Cit=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Zf(){if(!(this instanceof Zf))return new Zf;y6e.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Cit,this.W=new Array(64)}tw.inherits(Zf,y6e);g6e.exports=Zf;Zf.blockSize=512;Zf.outSize=256;Zf.hmacStrength=192;Zf.padLength=64;Zf.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=vit(Iit(n[i-2]),n[i-7],Sit(n[i-15]),n[i-16]);var o=this.h[0],a=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],f=this.h[7];for(wit(this.k.length===n.length),i=0;i<n.length;i++){var p=Eit(f,_it(l),xit(l,u,d),this.k[i],n[i]),h=_d(Tit(o),Ait(o,a,s));f=d,d=u,u=l,l=_d(c,p),c=s,s=a,a=o,o=_d(p,h)}this.h[0]=_d(this.h[0],o),this.h[1]=_d(this.h[1],a),this.h[2]=_d(this.h[2],s),this.h[3]=_d(this.h[3],c),this.h[4]=_d(this.h[4],l),this.h[5]=_d(this.h[5],u),this.h[6]=_d(this.h[6],d),this.h[7]=_d(this.h[7],f)};Zf.prototype._digest=function(e){return e==="hex"?tw.toHex32(this.h,"big"):tw.split32(this.h,"big")}});var E6e=de((kor,v6e)=>{"use strict";var cq=Td(),w6e=sq();function Up(){if(!(this instanceof Up))return new Up;w6e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}cq.inherits(Up,w6e);v6e.exports=Up;Up.blockSize=512;Up.outSize=224;Up.hmacStrength=192;Up.padLength=64;Up.prototype._digest=function(e){return e==="hex"?cq.toHex32(this.h.slice(0,7),"big"):cq.split32(this.h.slice(0,7),"big")}});var dq=de((Mor,_6e)=>{"use strict";var hc=Td(),Rit=X3(),Pit=b5(),Xf=hc.rotr64_hi,e1=hc.rotr64_lo,x6e=hc.shr64_hi,A6e=hc.shr64_lo,y5=hc.sum64,lq=hc.sum64_hi,uq=hc.sum64_lo,Oit=hc.sum64_4_hi,Nit=hc.sum64_4_lo,kit=hc.sum64_5_hi,Mit=hc.sum64_5_lo,T6e=Rit.BlockHash,Bit=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Sd(){if(!(this instanceof Sd))return new Sd;T6e.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Bit,this.W=new Array(160)}hc.inherits(Sd,T6e);_6e.exports=Sd;Sd.blockSize=1024;Sd.outSize=512;Sd.hmacStrength=192;Sd.padLength=128;Sd.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=Kit(n[i-4],n[i-3]),a=qit(n[i-4],n[i-3]),s=n[i-14],c=n[i-13],l=$it(n[i-30],n[i-29]),u=Vit(n[i-30],n[i-29]),d=n[i-32],f=n[i-31];n[i]=Oit(o,a,s,c,l,u,d,f),n[i+1]=Nit(o,a,s,c,l,u,d,f)}};Sd.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],d=this.h[7],f=this.h[8],p=this.h[9],h=this.h[10],b=this.h[11],_=this.h[12],A=this.h[13],C=this.h[14],R=this.h[15];Pit(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var U=C,F=R,z=Git(f,p),N=jit(f,p),k=Dit(f,p,h,b,_,A),O=Lit(f,p,h,b,_,A),w=this.k[M],S=this.k[M+1],T=n[M],m=n[M+1],y=kit(U,F,z,N,k,O,w,S,T,m),E=Mit(U,F,z,N,k,O,w,S,T,m);U=Hit(i,o),F=zit(i,o),z=Uit(i,o,a,s,c,l),N=Fit(i,o,a,s,c,l);var v=lq(U,F,z,N),x=uq(U,F,z,N);C=_,R=A,_=h,A=b,h=f,b=p,f=lq(u,d,y,E),p=uq(d,d,y,E),u=c,d=l,c=a,l=s,a=i,s=o,i=lq(y,E,v,x),o=uq(y,E,v,x)}y5(this.h,0,i,o),y5(this.h,2,a,s),y5(this.h,4,c,l),y5(this.h,6,u,d),y5(this.h,8,f,p),y5(this.h,10,h,b),y5(this.h,12,_,A),y5(this.h,14,C,R)};Sd.prototype._digest=function(e){return e==="hex"?hc.toHex32(this.h,"big"):hc.split32(this.h,"big")};function Dit(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function Lit(t,e,r,n,i,o){var a=e&n^~e&o;return a<0&&(a+=4294967296),a}function Uit(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function Fit(t,e,r,n,i,o){var a=e&n^e&o^n&o;return a<0&&(a+=4294967296),a}function Hit(t,e){var r=Xf(t,e,28),n=Xf(e,t,2),i=Xf(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function zit(t,e){var r=e1(t,e,28),n=e1(e,t,2),i=e1(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function Git(t,e){var r=Xf(t,e,14),n=Xf(t,e,18),i=Xf(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function jit(t,e){var r=e1(t,e,14),n=e1(t,e,18),i=e1(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function $it(t,e){var r=Xf(t,e,1),n=Xf(t,e,8),i=x6e(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function Vit(t,e){var r=e1(t,e,1),n=e1(t,e,8),i=A6e(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function Kit(t,e){var r=Xf(t,e,19),n=Xf(e,t,29),i=x6e(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function qit(t,e){var r=e1(t,e,19),n=e1(e,t,29),i=A6e(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}});var C6e=de((Bor,I6e)=>{"use strict";var fq=Td(),S6e=dq();function Fp(){if(!(this instanceof Fp))return new Fp;S6e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}fq.inherits(Fp,S6e);I6e.exports=Fp;Fp.blockSize=1024;Fp.outSize=384;Fp.hmacStrength=192;Fp.padLength=128;Fp.prototype._digest=function(e){return e==="hex"?fq.toHex32(this.h.slice(0,12),"big"):fq.split32(this.h.slice(0,12),"big")}});var R6e=de(nw=>{"use strict";nw.sha1=b6e();nw.sha224=E6e();nw.sha256=sq();nw.sha384=C6e();nw.sha512=dq()});var B6e=de(M6e=>{"use strict";var e2=Td(),Wit=X3(),SO=e2.rotl32,P6e=e2.sum32,aT=e2.sum32_3,O6e=e2.sum32_4,k6e=Wit.BlockHash;function t1(){if(!(this instanceof t1))return new t1;k6e.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e2.inherits(t1,k6e);M6e.ripemd160=t1;t1.blockSize=512;t1.outSize=160;t1.hmacStrength=192;t1.padLength=64;t1.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],c=n,l=i,u=o,d=a,f=s,p=0;p<80;p++){var h=P6e(SO(O6e(n,N6e(p,i,o,a),e[Qit[p]+r],Yit(p)),Xit[p]),s);n=s,s=a,a=SO(o,10),o=i,i=h,h=P6e(SO(O6e(c,N6e(79-p,l,u,d),e[Zit[p]+r],Jit(p)),eot[p]),f),c=f,f=d,d=SO(u,10),u=l,l=h}h=aT(this.h[1],o,d),this.h[1]=aT(this.h[2],a,f),this.h[2]=aT(this.h[3],s,c),this.h[3]=aT(this.h[4],n,l),this.h[4]=aT(this.h[0],i,u),this.h[0]=h};t1.prototype._digest=function(e){return e==="hex"?e2.toHex32(this.h,"little"):e2.split32(this.h,"little")};function N6e(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Yit(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Jit(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Qit=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Zit=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Xit=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],eot=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var L6e=de((Uor,D6e)=>{"use strict";var tot=Td(),rot=b5();function iw(t,e,r){if(!(this instanceof iw))return new iw(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(tot.toArray(e,r))}D6e.exports=iw;iw.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),rot(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};iw.prototype.update=function(e,r){return this.inner.update(e,r),this};iw.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var IO=de(U6e=>{var ss=U6e;ss.utils=Td();ss.common=X3();ss.sha=R6e();ss.ripemd=B6e();ss.hmac=L6e();ss.sha1=ss.sha.sha1;ss.sha256=ss.sha.sha256;ss.sha224=ss.sha.sha224;ss.sha384=ss.sha.sha384;ss.sha512=ss.sha.sha512;ss.ripemd160=ss.ripemd.ripemd160});var F6e=de((Hor,not)=>{not.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var r1=de((H6e,pq)=>{(function(t,e){"use strict";function r(O,w){if(!O)throw new Error(w||"Assertion failed")}function n(O,w){O.super_=w;var S=function(){};S.prototype=w.prototype,O.prototype=new S,O.prototype.constructor=O}function i(O,w,S){if(i.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((w==="le"||w==="be")&&(S=w,w=10),this._init(O||0,w||10,S||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=WK().Buffer}catch{}i.isBN=function(w){return w instanceof i?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===i.wordSize&&Array.isArray(w.words)},i.max=function(w,S){return w.cmp(S)>0?w:S},i.min=function(w,S){return w.cmp(S)<0?w:S},i.prototype._init=function(w,S,T){if(typeof w=="number")return this._initNumber(w,S,T);if(typeof w=="object")return this._initArray(w,S,T);S==="hex"&&(S=16),r(S===(S|0)&&S>=2&&S<=36),w=w.toString().replace(/\s+/g,"");var m=0;w[0]==="-"&&(m++,this.negative=1),m<w.length&&(S===16?this._parseHex(w,m,T):(this._parseBase(w,S,m),T==="le"&&this._initArray(this.toArray(),S,T)))},i.prototype._initNumber=function(w,S,T){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),S,T)},i.prototype._initArray=function(w,S,T){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var y,E,v=0;if(T==="be")for(m=w.length-1,y=0;m>=0;m-=3)E=w[m]|w[m-1]<<8|w[m-2]<<16,this.words[y]|=E<<v&67108863,this.words[y+1]=E>>>26-v&67108863,v+=24,v>=26&&(v-=26,y++);else if(T==="le")for(m=0,y=0;m<w.length;m+=3)E=w[m]|w[m+1]<<8|w[m+2]<<16,this.words[y]|=E<<v&67108863,this.words[y+1]=E>>>26-v&67108863,v+=24,v>=26&&(v-=26,y++);return this.strip()};function a(O,w){var S=O.charCodeAt(w);return S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:S-48&15}function s(O,w,S){var T=a(O,S);return S-1>=w&&(T|=a(O,S-1)<<4),T}i.prototype._parseHex=function(w,S,T){this.length=Math.ceil((w.length-S)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var y=0,E=0,v;if(T==="be")for(m=w.length-1;m>=S;m-=2)v=s(w,S,m)<<y,this.words[E]|=v&67108863,y>=18?(y-=18,E+=1,this.words[E]|=v>>>26):y+=8;else{var x=w.length-S;for(m=x%2===0?S+1:S;m<w.length;m+=2)v=s(w,S,m)<<y,this.words[E]|=v&67108863,y>=18?(y-=18,E+=1,this.words[E]|=v>>>26):y+=8}this.strip()};function c(O,w,S,T){for(var m=0,y=Math.min(O.length,S),E=w;E<y;E++){var v=O.charCodeAt(E)-48;m*=T,v>=49?m+=v-49+10:v>=17?m+=v-17+10:m+=v}return m}i.prototype._parseBase=function(w,S,T){this.words=[0],this.length=1;for(var m=0,y=1;y<=67108863;y*=S)m++;m--,y=y/S|0;for(var E=w.length-T,v=E%m,x=Math.min(E,E-v)+T,g=0,P=T;P<x;P+=m)g=c(w,P,P+m,S),this.imuln(y),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(v!==0){var B=1;for(g=c(w,P,w.length,S),P=0;P<v;P++)B*=S;this.imuln(B),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this.strip()},i.prototype.copy=function(w){w.words=new Array(this.length);for(var S=0;S<this.length;S++)w.words[S]=this.words[S];w.length=this.length,w.negative=this.negative,w.red=this.red},i.prototype.clone=function(){var w=new i(null);return this.copy(w),w},i.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(w,S){w=w||10,S=S|0||1;var T;if(w===16||w==="hex"){T="";for(var m=0,y=0,E=0;E<this.length;E++){var v=this.words[E],x=((v<<m|y)&16777215).toString(16);y=v>>>24-m&16777215,m+=2,m>=26&&(m-=26,E--),y!==0||E!==this.length-1?T=l[6-x.length]+x+T:T=x+T}for(y!==0&&(T=y.toString(16)+T);T.length%S!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(w===(w|0)&&w>=2&&w<=36){var g=u[w],P=d[w];T="";var B=this.clone();for(B.negative=0;!B.isZero();){var I=B.modn(P).toString(w);B=B.idivn(P),B.isZero()?T=I+T:T=l[g-I.length]+I+T}for(this.isZero()&&(T="0"+T);T.length%S!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(w,S){return r(typeof o<"u"),this.toArrayLike(o,w,S)},i.prototype.toArray=function(w,S){return this.toArrayLike(Array,w,S)},i.prototype.toArrayLike=function(w,S,T){var m=this.byteLength(),y=T||Math.max(1,m);r(m<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0"),this.strip();var E=S==="le",v=new w(y),x,g,P=this.clone();if(E){for(g=0;!P.isZero();g++)x=P.andln(255),P.iushrn(8),v[g]=x;for(;g<y;g++)v[g]=0}else{for(g=0;g<y-m;g++)v[g]=0;for(g=0;!P.isZero();g++)x=P.andln(255),P.iushrn(8),v[y-g-1]=x}return v},Math.clz32?i.prototype._countBits=function(w){return 32-Math.clz32(w)}:i.prototype._countBits=function(w){var S=w,T=0;return S>=4096&&(T+=13,S>>>=13),S>=64&&(T+=7,S>>>=7),S>=8&&(T+=4,S>>>=4),S>=2&&(T+=2,S>>>=2),T+S},i.prototype._zeroBits=function(w){if(w===0)return 26;var S=w,T=0;return(S&8191)===0&&(T+=13,S>>>=13),(S&127)===0&&(T+=7,S>>>=7),(S&15)===0&&(T+=4,S>>>=4),(S&3)===0&&(T+=2,S>>>=2),(S&1)===0&&T++,T},i.prototype.bitLength=function(){var w=this.words[this.length-1],S=this._countBits(w);return(this.length-1)*26+S};function f(O){for(var w=new Array(O.bitLength()),S=0;S<w.length;S++){var T=S/26|0,m=S%26;w[S]=(O.words[T]&1<<m)>>>m}return w}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,S=0;S<this.length;S++){var T=this._zeroBits(this.words[S]);if(w+=T,T!==26)break}return w},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},i.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]|w.words[S];return this.strip()},i.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},i.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},i.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},i.prototype.iuand=function(w){var S;this.length>w.length?S=w:S=this;for(var T=0;T<S.length;T++)this.words[T]=this.words[T]&w.words[T];return this.length=S.length,this.strip()},i.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},i.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},i.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},i.prototype.iuxor=function(w){var S,T;this.length>w.length?(S=this,T=w):(S=w,T=this);for(var m=0;m<T.length;m++)this.words[m]=S.words[m]^T.words[m];if(this!==S)for(;m<S.length;m++)this.words[m]=S.words[m];return this.length=S.length,this.strip()},i.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},i.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},i.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},i.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var S=Math.ceil(w/26)|0,T=w%26;this._expand(S),T>0&&S--;for(var m=0;m<S;m++)this.words[m]=~this.words[m]&67108863;return T>0&&(this.words[m]=~this.words[m]&67108863>>26-T),this.strip()},i.prototype.notn=function(w){return this.clone().inotn(w)},i.prototype.setn=function(w,S){r(typeof w=="number"&&w>=0);var T=w/26|0,m=w%26;return this._expand(T+1),S?this.words[T]=this.words[T]|1<<m:this.words[T]=this.words[T]&~(1<<m),this.strip()},i.prototype.iadd=function(w){var S;if(this.negative!==0&&w.negative===0)return this.negative=0,S=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,S=this.isub(w),w.negative=1,S._normSign();var T,m;this.length>w.length?(T=this,m=w):(T=w,m=this);for(var y=0,E=0;E<m.length;E++)S=(T.words[E]|0)+(m.words[E]|0)+y,this.words[E]=S&67108863,y=S>>>26;for(;y!==0&&E<T.length;E++)S=(T.words[E]|0)+y,this.words[E]=S&67108863,y=S>>>26;if(this.length=T.length,y!==0)this.words[this.length]=y,this.length++;else if(T!==this)for(;E<T.length;E++)this.words[E]=T.words[E];return this},i.prototype.add=function(w){var S;return w.negative!==0&&this.negative===0?(w.negative=0,S=this.sub(w),w.negative^=1,S):w.negative===0&&this.negative!==0?(this.negative=0,S=w.sub(this),this.negative=1,S):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},i.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var S=this.iadd(w);return w.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var T=this.cmp(w);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,y;T>0?(m=this,y=w):(m=w,y=this);for(var E=0,v=0;v<y.length;v++)S=(m.words[v]|0)-(y.words[v]|0)+E,E=S>>26,this.words[v]=S&67108863;for(;E!==0&&v<m.length;v++)S=(m.words[v]|0)+E,E=S>>26,this.words[v]=S&67108863;if(E===0&&v<m.length&&m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=Math.max(this.length,v),m!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(w){return this.clone().isub(w)};function p(O,w,S){S.negative=w.negative^O.negative;var T=O.length+w.length|0;S.length=T,T=T-1|0;var m=O.words[0]|0,y=w.words[0]|0,E=m*y,v=E&67108863,x=E/67108864|0;S.words[0]=v;for(var g=1;g<T;g++){for(var P=x>>>26,B=x&67108863,I=Math.min(g,w.length-1),L=Math.max(0,g-O.length+1);L<=I;L++){var G=g-L|0;m=O.words[G]|0,y=w.words[L]|0,E=m*y+B,P+=E/67108864|0,B=E&67108863}S.words[g]=B|0,x=P|0}return x!==0?S.words[g]=x|0:S.length--,S.strip()}var h=function(w,S,T){var m=w.words,y=S.words,E=T.words,v=0,x,g,P,B=m[0]|0,I=B&8191,L=B>>>13,G=m[1]|0,H=G&8191,$=G>>>13,K=m[2]|0,W=K&8191,J=K>>>13,X=m[3]|0,te=X&8191,re=X>>>13,le=m[4]|0,ce=le&8191,ae=le>>>13,xe=m[5]|0,me=xe&8191,Se=xe>>>13,vt=m[6]|0,Qe=vt&8191,Ve=vt>>>13,kt=m[7]|0,Ze=kt&8191,et=kt>>>13,on=m[8]|0,Me=on&8191,rt=on>>>13,Ir=m[9]|0,yt=Ir&8191,ut=Ir>>>13,Hn=y[0]|0,St=Hn&8191,qt=Hn>>>13,Bi=y[1]|0,Jt=Bi&8191,Ht=Bi>>>13,ns=y[2]|0,$t=ns&8191,Qt=ns>>>13,ll=y[3]|0,br=ll&8191,Ue=ll>>>13,Hr=y[4]|0,bt=Hr&8191,Tt=Hr>>>13,Zr=y[5]|0,dt=Zr&8191,Vt=Zr>>>13,is=y[6]|0,Pt=is&8191,sr=is>>>13,Y=y[7]|0,Z=Y&8191,Q=Y>>>13,j=y[8]|0,ee=j&8191,se=j>>>13,fe=y[9]|0,pe=fe&8191,Ae=fe>>>13;T.negative=w.negative^S.negative,T.length=19,x=Math.imul(I,St),g=Math.imul(I,qt),g=g+Math.imul(L,St)|0,P=Math.imul(L,qt);var Ot=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,x=Math.imul(H,St),g=Math.imul(H,qt),g=g+Math.imul($,St)|0,P=Math.imul($,qt),x=x+Math.imul(I,Jt)|0,g=g+Math.imul(I,Ht)|0,g=g+Math.imul(L,Jt)|0,P=P+Math.imul(L,Ht)|0;var Ke=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,x=Math.imul(W,St),g=Math.imul(W,qt),g=g+Math.imul(J,St)|0,P=Math.imul(J,qt),x=x+Math.imul(H,Jt)|0,g=g+Math.imul(H,Ht)|0,g=g+Math.imul($,Jt)|0,P=P+Math.imul($,Ht)|0,x=x+Math.imul(I,$t)|0,g=g+Math.imul(I,Qt)|0,g=g+Math.imul(L,$t)|0,P=P+Math.imul(L,Qt)|0;var Kt=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(te,St),g=Math.imul(te,qt),g=g+Math.imul(re,St)|0,P=Math.imul(re,qt),x=x+Math.imul(W,Jt)|0,g=g+Math.imul(W,Ht)|0,g=g+Math.imul(J,Jt)|0,P=P+Math.imul(J,Ht)|0,x=x+Math.imul(H,$t)|0,g=g+Math.imul(H,Qt)|0,g=g+Math.imul($,$t)|0,P=P+Math.imul($,Qt)|0,x=x+Math.imul(I,br)|0,g=g+Math.imul(I,Ue)|0,g=g+Math.imul(L,br)|0,P=P+Math.imul(L,Ue)|0;var mt=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(ce,St),g=Math.imul(ce,qt),g=g+Math.imul(ae,St)|0,P=Math.imul(ae,qt),x=x+Math.imul(te,Jt)|0,g=g+Math.imul(te,Ht)|0,g=g+Math.imul(re,Jt)|0,P=P+Math.imul(re,Ht)|0,x=x+Math.imul(W,$t)|0,g=g+Math.imul(W,Qt)|0,g=g+Math.imul(J,$t)|0,P=P+Math.imul(J,Qt)|0,x=x+Math.imul(H,br)|0,g=g+Math.imul(H,Ue)|0,g=g+Math.imul($,br)|0,P=P+Math.imul($,Ue)|0,x=x+Math.imul(I,bt)|0,g=g+Math.imul(I,Tt)|0,g=g+Math.imul(L,bt)|0,P=P+Math.imul(L,Tt)|0;var Zt=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(me,St),g=Math.imul(me,qt),g=g+Math.imul(Se,St)|0,P=Math.imul(Se,qt),x=x+Math.imul(ce,Jt)|0,g=g+Math.imul(ce,Ht)|0,g=g+Math.imul(ae,Jt)|0,P=P+Math.imul(ae,Ht)|0,x=x+Math.imul(te,$t)|0,g=g+Math.imul(te,Qt)|0,g=g+Math.imul(re,$t)|0,P=P+Math.imul(re,Qt)|0,x=x+Math.imul(W,br)|0,g=g+Math.imul(W,Ue)|0,g=g+Math.imul(J,br)|0,P=P+Math.imul(J,Ue)|0,x=x+Math.imul(H,bt)|0,g=g+Math.imul(H,Tt)|0,g=g+Math.imul($,bt)|0,P=P+Math.imul($,Tt)|0,x=x+Math.imul(I,dt)|0,g=g+Math.imul(I,Vt)|0,g=g+Math.imul(L,dt)|0,P=P+Math.imul(L,Vt)|0;var nr=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(Qe,St),g=Math.imul(Qe,qt),g=g+Math.imul(Ve,St)|0,P=Math.imul(Ve,qt),x=x+Math.imul(me,Jt)|0,g=g+Math.imul(me,Ht)|0,g=g+Math.imul(Se,Jt)|0,P=P+Math.imul(Se,Ht)|0,x=x+Math.imul(ce,$t)|0,g=g+Math.imul(ce,Qt)|0,g=g+Math.imul(ae,$t)|0,P=P+Math.imul(ae,Qt)|0,x=x+Math.imul(te,br)|0,g=g+Math.imul(te,Ue)|0,g=g+Math.imul(re,br)|0,P=P+Math.imul(re,Ue)|0,x=x+Math.imul(W,bt)|0,g=g+Math.imul(W,Tt)|0,g=g+Math.imul(J,bt)|0,P=P+Math.imul(J,Tt)|0,x=x+Math.imul(H,dt)|0,g=g+Math.imul(H,Vt)|0,g=g+Math.imul($,dt)|0,P=P+Math.imul($,Vt)|0,x=x+Math.imul(I,Pt)|0,g=g+Math.imul(I,sr)|0,g=g+Math.imul(L,Pt)|0,P=P+Math.imul(L,sr)|0;var yr=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(Ze,St),g=Math.imul(Ze,qt),g=g+Math.imul(et,St)|0,P=Math.imul(et,qt),x=x+Math.imul(Qe,Jt)|0,g=g+Math.imul(Qe,Ht)|0,g=g+Math.imul(Ve,Jt)|0,P=P+Math.imul(Ve,Ht)|0,x=x+Math.imul(me,$t)|0,g=g+Math.imul(me,Qt)|0,g=g+Math.imul(Se,$t)|0,P=P+Math.imul(Se,Qt)|0,x=x+Math.imul(ce,br)|0,g=g+Math.imul(ce,Ue)|0,g=g+Math.imul(ae,br)|0,P=P+Math.imul(ae,Ue)|0,x=x+Math.imul(te,bt)|0,g=g+Math.imul(te,Tt)|0,g=g+Math.imul(re,bt)|0,P=P+Math.imul(re,Tt)|0,x=x+Math.imul(W,dt)|0,g=g+Math.imul(W,Vt)|0,g=g+Math.imul(J,dt)|0,P=P+Math.imul(J,Vt)|0,x=x+Math.imul(H,Pt)|0,g=g+Math.imul(H,sr)|0,g=g+Math.imul($,Pt)|0,P=P+Math.imul($,sr)|0,x=x+Math.imul(I,Z)|0,g=g+Math.imul(I,Q)|0,g=g+Math.imul(L,Z)|0,P=P+Math.imul(L,Q)|0;var fr=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(Me,St),g=Math.imul(Me,qt),g=g+Math.imul(rt,St)|0,P=Math.imul(rt,qt),x=x+Math.imul(Ze,Jt)|0,g=g+Math.imul(Ze,Ht)|0,g=g+Math.imul(et,Jt)|0,P=P+Math.imul(et,Ht)|0,x=x+Math.imul(Qe,$t)|0,g=g+Math.imul(Qe,Qt)|0,g=g+Math.imul(Ve,$t)|0,P=P+Math.imul(Ve,Qt)|0,x=x+Math.imul(me,br)|0,g=g+Math.imul(me,Ue)|0,g=g+Math.imul(Se,br)|0,P=P+Math.imul(Se,Ue)|0,x=x+Math.imul(ce,bt)|0,g=g+Math.imul(ce,Tt)|0,g=g+Math.imul(ae,bt)|0,P=P+Math.imul(ae,Tt)|0,x=x+Math.imul(te,dt)|0,g=g+Math.imul(te,Vt)|0,g=g+Math.imul(re,dt)|0,P=P+Math.imul(re,Vt)|0,x=x+Math.imul(W,Pt)|0,g=g+Math.imul(W,sr)|0,g=g+Math.imul(J,Pt)|0,P=P+Math.imul(J,sr)|0,x=x+Math.imul(H,Z)|0,g=g+Math.imul(H,Q)|0,g=g+Math.imul($,Z)|0,P=P+Math.imul($,Q)|0,x=x+Math.imul(I,ee)|0,g=g+Math.imul(I,se)|0,g=g+Math.imul(L,ee)|0,P=P+Math.imul(L,se)|0;var ir=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(yt,St),g=Math.imul(yt,qt),g=g+Math.imul(ut,St)|0,P=Math.imul(ut,qt),x=x+Math.imul(Me,Jt)|0,g=g+Math.imul(Me,Ht)|0,g=g+Math.imul(rt,Jt)|0,P=P+Math.imul(rt,Ht)|0,x=x+Math.imul(Ze,$t)|0,g=g+Math.imul(Ze,Qt)|0,g=g+Math.imul(et,$t)|0,P=P+Math.imul(et,Qt)|0,x=x+Math.imul(Qe,br)|0,g=g+Math.imul(Qe,Ue)|0,g=g+Math.imul(Ve,br)|0,P=P+Math.imul(Ve,Ue)|0,x=x+Math.imul(me,bt)|0,g=g+Math.imul(me,Tt)|0,g=g+Math.imul(Se,bt)|0,P=P+Math.imul(Se,Tt)|0,x=x+Math.imul(ce,dt)|0,g=g+Math.imul(ce,Vt)|0,g=g+Math.imul(ae,dt)|0,P=P+Math.imul(ae,Vt)|0,x=x+Math.imul(te,Pt)|0,g=g+Math.imul(te,sr)|0,g=g+Math.imul(re,Pt)|0,P=P+Math.imul(re,sr)|0,x=x+Math.imul(W,Z)|0,g=g+Math.imul(W,Q)|0,g=g+Math.imul(J,Z)|0,P=P+Math.imul(J,Q)|0,x=x+Math.imul(H,ee)|0,g=g+Math.imul(H,se)|0,g=g+Math.imul($,ee)|0,P=P+Math.imul($,se)|0,x=x+Math.imul(I,pe)|0,g=g+Math.imul(I,Ae)|0,g=g+Math.imul(L,pe)|0,P=P+Math.imul(L,Ae)|0;var cr=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(cr>>>26)|0,cr&=67108863,x=Math.imul(yt,Jt),g=Math.imul(yt,Ht),g=g+Math.imul(ut,Jt)|0,P=Math.imul(ut,Ht),x=x+Math.imul(Me,$t)|0,g=g+Math.imul(Me,Qt)|0,g=g+Math.imul(rt,$t)|0,P=P+Math.imul(rt,Qt)|0,x=x+Math.imul(Ze,br)|0,g=g+Math.imul(Ze,Ue)|0,g=g+Math.imul(et,br)|0,P=P+Math.imul(et,Ue)|0,x=x+Math.imul(Qe,bt)|0,g=g+Math.imul(Qe,Tt)|0,g=g+Math.imul(Ve,bt)|0,P=P+Math.imul(Ve,Tt)|0,x=x+Math.imul(me,dt)|0,g=g+Math.imul(me,Vt)|0,g=g+Math.imul(Se,dt)|0,P=P+Math.imul(Se,Vt)|0,x=x+Math.imul(ce,Pt)|0,g=g+Math.imul(ce,sr)|0,g=g+Math.imul(ae,Pt)|0,P=P+Math.imul(ae,sr)|0,x=x+Math.imul(te,Z)|0,g=g+Math.imul(te,Q)|0,g=g+Math.imul(re,Z)|0,P=P+Math.imul(re,Q)|0,x=x+Math.imul(W,ee)|0,g=g+Math.imul(W,se)|0,g=g+Math.imul(J,ee)|0,P=P+Math.imul(J,se)|0,x=x+Math.imul(H,pe)|0,g=g+Math.imul(H,Ae)|0,g=g+Math.imul($,pe)|0,P=P+Math.imul($,Ae)|0;var or=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(yt,$t),g=Math.imul(yt,Qt),g=g+Math.imul(ut,$t)|0,P=Math.imul(ut,Qt),x=x+Math.imul(Me,br)|0,g=g+Math.imul(Me,Ue)|0,g=g+Math.imul(rt,br)|0,P=P+Math.imul(rt,Ue)|0,x=x+Math.imul(Ze,bt)|0,g=g+Math.imul(Ze,Tt)|0,g=g+Math.imul(et,bt)|0,P=P+Math.imul(et,Tt)|0,x=x+Math.imul(Qe,dt)|0,g=g+Math.imul(Qe,Vt)|0,g=g+Math.imul(Ve,dt)|0,P=P+Math.imul(Ve,Vt)|0,x=x+Math.imul(me,Pt)|0,g=g+Math.imul(me,sr)|0,g=g+Math.imul(Se,Pt)|0,P=P+Math.imul(Se,sr)|0,x=x+Math.imul(ce,Z)|0,g=g+Math.imul(ce,Q)|0,g=g+Math.imul(ae,Z)|0,P=P+Math.imul(ae,Q)|0,x=x+Math.imul(te,ee)|0,g=g+Math.imul(te,se)|0,g=g+Math.imul(re,ee)|0,P=P+Math.imul(re,se)|0,x=x+Math.imul(W,pe)|0,g=g+Math.imul(W,Ae)|0,g=g+Math.imul(J,pe)|0,P=P+Math.imul(J,Ae)|0;var gt=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(gt>>>26)|0,gt&=67108863,x=Math.imul(yt,br),g=Math.imul(yt,Ue),g=g+Math.imul(ut,br)|0,P=Math.imul(ut,Ue),x=x+Math.imul(Me,bt)|0,g=g+Math.imul(Me,Tt)|0,g=g+Math.imul(rt,bt)|0,P=P+Math.imul(rt,Tt)|0,x=x+Math.imul(Ze,dt)|0,g=g+Math.imul(Ze,Vt)|0,g=g+Math.imul(et,dt)|0,P=P+Math.imul(et,Vt)|0,x=x+Math.imul(Qe,Pt)|0,g=g+Math.imul(Qe,sr)|0,g=g+Math.imul(Ve,Pt)|0,P=P+Math.imul(Ve,sr)|0,x=x+Math.imul(me,Z)|0,g=g+Math.imul(me,Q)|0,g=g+Math.imul(Se,Z)|0,P=P+Math.imul(Se,Q)|0,x=x+Math.imul(ce,ee)|0,g=g+Math.imul(ce,se)|0,g=g+Math.imul(ae,ee)|0,P=P+Math.imul(ae,se)|0,x=x+Math.imul(te,pe)|0,g=g+Math.imul(te,Ae)|0,g=g+Math.imul(re,pe)|0,P=P+Math.imul(re,Ae)|0;var Dt=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,x=Math.imul(yt,bt),g=Math.imul(yt,Tt),g=g+Math.imul(ut,bt)|0,P=Math.imul(ut,Tt),x=x+Math.imul(Me,dt)|0,g=g+Math.imul(Me,Vt)|0,g=g+Math.imul(rt,dt)|0,P=P+Math.imul(rt,Vt)|0,x=x+Math.imul(Ze,Pt)|0,g=g+Math.imul(Ze,sr)|0,g=g+Math.imul(et,Pt)|0,P=P+Math.imul(et,sr)|0,x=x+Math.imul(Qe,Z)|0,g=g+Math.imul(Qe,Q)|0,g=g+Math.imul(Ve,Z)|0,P=P+Math.imul(Ve,Q)|0,x=x+Math.imul(me,ee)|0,g=g+Math.imul(me,se)|0,g=g+Math.imul(Se,ee)|0,P=P+Math.imul(Se,se)|0,x=x+Math.imul(ce,pe)|0,g=g+Math.imul(ce,Ae)|0,g=g+Math.imul(ae,pe)|0,P=P+Math.imul(ae,Ae)|0;var ft=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(yt,dt),g=Math.imul(yt,Vt),g=g+Math.imul(ut,dt)|0,P=Math.imul(ut,Vt),x=x+Math.imul(Me,Pt)|0,g=g+Math.imul(Me,sr)|0,g=g+Math.imul(rt,Pt)|0,P=P+Math.imul(rt,sr)|0,x=x+Math.imul(Ze,Z)|0,g=g+Math.imul(Ze,Q)|0,g=g+Math.imul(et,Z)|0,P=P+Math.imul(et,Q)|0,x=x+Math.imul(Qe,ee)|0,g=g+Math.imul(Qe,se)|0,g=g+Math.imul(Ve,ee)|0,P=P+Math.imul(Ve,se)|0,x=x+Math.imul(me,pe)|0,g=g+Math.imul(me,Ae)|0,g=g+Math.imul(Se,pe)|0,P=P+Math.imul(Se,Ae)|0;var Et=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(Et>>>26)|0,Et&=67108863,x=Math.imul(yt,Pt),g=Math.imul(yt,sr),g=g+Math.imul(ut,Pt)|0,P=Math.imul(ut,sr),x=x+Math.imul(Me,Z)|0,g=g+Math.imul(Me,Q)|0,g=g+Math.imul(rt,Z)|0,P=P+Math.imul(rt,Q)|0,x=x+Math.imul(Ze,ee)|0,g=g+Math.imul(Ze,se)|0,g=g+Math.imul(et,ee)|0,P=P+Math.imul(et,se)|0,x=x+Math.imul(Qe,pe)|0,g=g+Math.imul(Qe,Ae)|0,g=g+Math.imul(Ve,pe)|0,P=P+Math.imul(Ve,Ae)|0;var _t=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(yt,Z),g=Math.imul(yt,Q),g=g+Math.imul(ut,Z)|0,P=Math.imul(ut,Q),x=x+Math.imul(Me,ee)|0,g=g+Math.imul(Me,se)|0,g=g+Math.imul(rt,ee)|0,P=P+Math.imul(rt,se)|0,x=x+Math.imul(Ze,pe)|0,g=g+Math.imul(Ze,Ae)|0,g=g+Math.imul(et,pe)|0,P=P+Math.imul(et,Ae)|0;var lt=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(lt>>>26)|0,lt&=67108863,x=Math.imul(yt,ee),g=Math.imul(yt,se),g=g+Math.imul(ut,ee)|0,P=Math.imul(ut,se),x=x+Math.imul(Me,pe)|0,g=g+Math.imul(Me,Ae)|0,g=g+Math.imul(rt,pe)|0,P=P+Math.imul(rt,Ae)|0;var ye=(v+x|0)+((g&8191)<<13)|0;v=(P+(g>>>13)|0)+(ye>>>26)|0,ye&=67108863,x=Math.imul(yt,pe),g=Math.imul(yt,Ae),g=g+Math.imul(ut,pe)|0,P=Math.imul(ut,Ae);var we=(v+x|0)+((g&8191)<<13)|0;return v=(P+(g>>>13)|0)+(we>>>26)|0,we&=67108863,E[0]=Ot,E[1]=Ke,E[2]=Kt,E[3]=mt,E[4]=Zt,E[5]=nr,E[6]=yr,E[7]=fr,E[8]=ir,E[9]=cr,E[10]=or,E[11]=gt,E[12]=Dt,E[13]=ft,E[14]=Et,E[15]=_t,E[16]=lt,E[17]=ye,E[18]=we,v!==0&&(E[19]=v,T.length++),T};Math.imul||(h=p);function b(O,w,S){S.negative=w.negative^O.negative,S.length=O.length+w.length;for(var T=0,m=0,y=0;y<S.length-1;y++){var E=m;m=0;for(var v=T&67108863,x=Math.min(y,w.length-1),g=Math.max(0,y-O.length+1);g<=x;g++){var P=y-g,B=O.words[P]|0,I=w.words[g]|0,L=B*I,G=L&67108863;E=E+(L/67108864|0)|0,G=G+v|0,v=G&67108863,E=E+(G>>>26)|0,m+=E>>>26,E&=67108863}S.words[y]=v,T=E,E=m}return T!==0?S.words[y]=T:S.length--,S.strip()}function _(O,w,S){var T=new A;return T.mulp(O,w,S)}i.prototype.mulTo=function(w,S){var T,m=this.length+w.length;return this.length===10&&w.length===10?T=h(this,w,S):m<63?T=p(this,w,S):m<1024?T=b(this,w,S):T=_(this,w,S),T};function A(O,w){this.x=O,this.y=w}A.prototype.makeRBT=function(w){for(var S=new Array(w),T=i.prototype._countBits(w)-1,m=0;m<w;m++)S[m]=this.revBin(m,T,w);return S},A.prototype.revBin=function(w,S,T){if(w===0||w===T-1)return w;for(var m=0,y=0;y<S;y++)m|=(w&1)<<S-y-1,w>>=1;return m},A.prototype.permute=function(w,S,T,m,y,E){for(var v=0;v<E;v++)m[v]=S[w[v]],y[v]=T[w[v]]},A.prototype.transform=function(w,S,T,m,y,E){this.permute(E,w,S,T,m,y);for(var v=1;v<y;v<<=1)for(var x=v<<1,g=Math.cos(2*Math.PI/x),P=Math.sin(2*Math.PI/x),B=0;B<y;B+=x)for(var I=g,L=P,G=0;G<v;G++){var H=T[B+G],$=m[B+G],K=T[B+G+v],W=m[B+G+v],J=I*K-L*W;W=I*W+L*K,K=J,T[B+G]=H+K,m[B+G]=$+W,T[B+G+v]=H-K,m[B+G+v]=$-W,G!==x&&(J=g*I-P*L,L=g*L+P*I,I=J)}},A.prototype.guessLen13b=function(w,S){var T=Math.max(S,w)|1,m=T&1,y=0;for(T=T/2|0;T;T=T>>>1)y++;return 1<<y+1+m},A.prototype.conjugate=function(w,S,T){if(!(T<=1))for(var m=0;m<T/2;m++){var y=w[m];w[m]=w[T-m-1],w[T-m-1]=y,y=S[m],S[m]=-S[T-m-1],S[T-m-1]=-y}},A.prototype.normalize13b=function(w,S){for(var T=0,m=0;m<S/2;m++){var y=Math.round(w[2*m+1]/S)*8192+Math.round(w[2*m]/S)+T;w[m]=y&67108863,y<67108864?T=0:T=y/67108864|0}return w},A.prototype.convert13b=function(w,S,T,m){for(var y=0,E=0;E<S;E++)y=y+(w[E]|0),T[2*E]=y&8191,y=y>>>13,T[2*E+1]=y&8191,y=y>>>13;for(E=2*S;E<m;++E)T[E]=0;r(y===0),r((y&-8192)===0)},A.prototype.stub=function(w){for(var S=new Array(w),T=0;T<w;T++)S[T]=0;return S},A.prototype.mulp=function(w,S,T){var m=2*this.guessLen13b(w.length,S.length),y=this.makeRBT(m),E=this.stub(m),v=new Array(m),x=new Array(m),g=new Array(m),P=new Array(m),B=new Array(m),I=new Array(m),L=T.words;L.length=m,this.convert13b(w.words,w.length,v,m),this.convert13b(S.words,S.length,P,m),this.transform(v,E,x,g,m,y),this.transform(P,E,B,I,m,y);for(var G=0;G<m;G++){var H=x[G]*B[G]-g[G]*I[G];g[G]=x[G]*I[G]+g[G]*B[G],x[G]=H}return this.conjugate(x,g,m),this.transform(x,g,L,E,m,y),this.conjugate(L,E,m),this.normalize13b(L,m),T.negative=w.negative^S.negative,T.length=w.length+S.length,T.strip()},i.prototype.mul=function(w){var S=new i(null);return S.words=new Array(this.length+w.length),this.mulTo(w,S)},i.prototype.mulf=function(w){var S=new i(null);return S.words=new Array(this.length+w.length),_(this,w,S)},i.prototype.imul=function(w){return this.clone().mulTo(w,this)},i.prototype.imuln=function(w){r(typeof w=="number"),r(w<67108864);for(var S=0,T=0;T<this.length;T++){var m=(this.words[T]|0)*w,y=(m&67108863)+(S&67108863);S>>=26,S+=m/67108864|0,S+=y>>>26,this.words[T]=y&67108863}return S!==0&&(this.words[T]=S,this.length++),this.length=w===0?1:this.length,this},i.prototype.muln=function(w){return this.clone().imuln(w)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(w){var S=f(w);if(S.length===0)return new i(1);for(var T=this,m=0;m<S.length&&S[m]===0;m++,T=T.sqr());if(++m<S.length)for(var y=T.sqr();m<S.length;m++,y=y.sqr())S[m]!==0&&(T=T.mul(y));return T},i.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var S=w%26,T=(w-S)/26,m=67108863>>>26-S<<26-S,y;if(S!==0){var E=0;for(y=0;y<this.length;y++){var v=this.words[y]&m,x=(this.words[y]|0)-v<<S;this.words[y]=x|E,E=v>>>26-S}E&&(this.words[y]=E,this.length++)}if(T!==0){for(y=this.length-1;y>=0;y--)this.words[y+T]=this.words[y];for(y=0;y<T;y++)this.words[y]=0;this.length+=T}return this.strip()},i.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},i.prototype.iushrn=function(w,S,T){r(typeof w=="number"&&w>=0);var m;S?m=(S-S%26)/26:m=0;var y=w%26,E=Math.min((w-y)/26,this.length),v=67108863^67108863>>>y<<y,x=T;if(m-=E,m=Math.max(0,m),x){for(var g=0;g<E;g++)x.words[g]=this.words[g];x.length=E}if(E!==0)if(this.length>E)for(this.length-=E,g=0;g<this.length;g++)this.words[g]=this.words[g+E];else this.words[0]=0,this.length=1;var P=0;for(g=this.length-1;g>=0&&(P!==0||g>=m);g--){var B=this.words[g]|0;this.words[g]=P<<26-y|B>>>y,P=B&v}return x&&P!==0&&(x.words[x.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(w,S,T){return r(this.negative===0),this.iushrn(w,S,T)},i.prototype.shln=function(w){return this.clone().ishln(w)},i.prototype.ushln=function(w){return this.clone().iushln(w)},i.prototype.shrn=function(w){return this.clone().ishrn(w)},i.prototype.ushrn=function(w){return this.clone().iushrn(w)},i.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var S=w%26,T=(w-S)/26,m=1<<S;if(this.length<=T)return!1;var y=this.words[T];return!!(y&m)},i.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var S=w%26,T=(w-S)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(S!==0&&T++,this.length=Math.min(T,this.length),S!==0){var m=67108863^67108863>>>S<<S;this.words[this.length-1]&=m}return this.strip()},i.prototype.maskn=function(w){return this.clone().imaskn(w)},i.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},i.prototype._iaddn=function(w){this.words[0]+=w;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},i.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},i.prototype.addn=function(w){return this.clone().iaddn(w)},i.prototype.subn=function(w){return this.clone().isubn(w)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(w,S,T){var m=w.length+T,y;this._expand(m);var E,v=0;for(y=0;y<w.length;y++){E=(this.words[y+T]|0)+v;var x=(w.words[y]|0)*S;E-=x&67108863,v=(E>>26)-(x/67108864|0),this.words[y+T]=E&67108863}for(;y<this.length-T;y++)E=(this.words[y+T]|0)+v,v=E>>26,this.words[y+T]=E&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,y=0;y<this.length;y++)E=-(this.words[y]|0)+v,v=E>>26,this.words[y]=E&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(w,S){var T=this.length-w.length,m=this.clone(),y=w,E=y.words[y.length-1]|0,v=this._countBits(E);T=26-v,T!==0&&(y=y.ushln(T),m.iushln(T),E=y.words[y.length-1]|0);var x=m.length-y.length,g;if(S!=="mod"){g=new i(null),g.length=x+1,g.words=new Array(g.length);for(var P=0;P<g.length;P++)g.words[P]=0}var B=m.clone()._ishlnsubmul(y,1,x);B.negative===0&&(m=B,g&&(g.words[x]=1));for(var I=x-1;I>=0;I--){var L=(m.words[y.length+I]|0)*67108864+(m.words[y.length+I-1]|0);for(L=Math.min(L/E|0,67108863),m._ishlnsubmul(y,L,I);m.negative!==0;)L--,m.negative=0,m._ishlnsubmul(y,1,I),m.isZero()||(m.negative^=1);g&&(g.words[I]=L)}return g&&g.strip(),m.strip(),S!=="div"&&T!==0&&m.iushrn(T),{div:g||null,mod:m}},i.prototype.divmod=function(w,S,T){if(r(!w.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,y,E;return this.negative!==0&&w.negative===0?(E=this.neg().divmod(w,S),S!=="mod"&&(m=E.div.neg()),S!=="div"&&(y=E.mod.neg(),T&&y.negative!==0&&y.iadd(w)),{div:m,mod:y}):this.negative===0&&w.negative!==0?(E=this.divmod(w.neg(),S),S!=="mod"&&(m=E.div.neg()),{div:m,mod:E.mod}):(this.negative&w.negative)!==0?(E=this.neg().divmod(w.neg(),S),S!=="div"&&(y=E.mod.neg(),T&&y.negative!==0&&y.isub(w)),{div:E.div,mod:y}):w.length>this.length||this.cmp(w)<0?{div:new i(0),mod:this}:w.length===1?S==="div"?{div:this.divn(w.words[0]),mod:null}:S==="mod"?{div:null,mod:new i(this.modn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new i(this.modn(w.words[0]))}:this._wordDiv(w,S)},i.prototype.div=function(w){return this.divmod(w,"div",!1).div},i.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},i.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},i.prototype.divRound=function(w){var S=this.divmod(w);if(S.mod.isZero())return S.div;var T=S.div.negative!==0?S.mod.isub(w):S.mod,m=w.ushrn(1),y=w.andln(1),E=T.cmp(m);return E<0||y===1&&E===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},i.prototype.modn=function(w){r(w<=67108863);for(var S=(1<<26)%w,T=0,m=this.length-1;m>=0;m--)T=(S*T+(this.words[m]|0))%w;return T},i.prototype.idivn=function(w){r(w<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var m=(this.words[T]|0)+S*67108864;this.words[T]=m/w|0,S=m%w}return this.strip()},i.prototype.divn=function(w){return this.clone().idivn(w)},i.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var S=this,T=w.clone();S.negative!==0?S=S.umod(w):S=S.clone();for(var m=new i(1),y=new i(0),E=new i(0),v=new i(1),x=0;S.isEven()&&T.isEven();)S.iushrn(1),T.iushrn(1),++x;for(var g=T.clone(),P=S.clone();!S.isZero();){for(var B=0,I=1;(S.words[0]&I)===0&&B<26;++B,I<<=1);if(B>0)for(S.iushrn(B);B-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(g),y.isub(P)),m.iushrn(1),y.iushrn(1);for(var L=0,G=1;(T.words[0]&G)===0&&L<26;++L,G<<=1);if(L>0)for(T.iushrn(L);L-- >0;)(E.isOdd()||v.isOdd())&&(E.iadd(g),v.isub(P)),E.iushrn(1),v.iushrn(1);S.cmp(T)>=0?(S.isub(T),m.isub(E),y.isub(v)):(T.isub(S),E.isub(m),v.isub(y))}return{a:E,b:v,gcd:T.iushln(x)}},i.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var S=this,T=w.clone();S.negative!==0?S=S.umod(w):S=S.clone();for(var m=new i(1),y=new i(0),E=T.clone();S.cmpn(1)>0&&T.cmpn(1)>0;){for(var v=0,x=1;(S.words[0]&x)===0&&v<26;++v,x<<=1);if(v>0)for(S.iushrn(v);v-- >0;)m.isOdd()&&m.iadd(E),m.iushrn(1);for(var g=0,P=1;(T.words[0]&P)===0&&g<26;++g,P<<=1);if(g>0)for(T.iushrn(g);g-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);S.cmp(T)>=0?(S.isub(T),m.isub(y)):(T.isub(S),y.isub(m))}var B;return S.cmpn(1)===0?B=m:B=y,B.cmpn(0)<0&&B.iadd(w),B},i.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var S=this.clone(),T=w.clone();S.negative=0,T.negative=0;for(var m=0;S.isEven()&&T.isEven();m++)S.iushrn(1),T.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;T.isEven();)T.iushrn(1);var y=S.cmp(T);if(y<0){var E=S;S=T,T=E}else if(y===0||T.cmpn(1)===0)break;S.isub(T)}while(!0);return T.iushln(m)},i.prototype.invm=function(w){return this.egcd(w).a.umod(w)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(w){return this.words[0]&w},i.prototype.bincn=function(w){r(typeof w=="number");var S=w%26,T=(w-S)/26,m=1<<S;if(this.length<=T)return this._expand(T+1),this.words[T]|=m,this;for(var y=m,E=T;y!==0&&E<this.length;E++){var v=this.words[E]|0;v+=y,y=v>>>26,v&=67108863,this.words[E]=v}return y!==0&&(this.words[E]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(w){var S=w<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this.strip();var T;if(this.length>1)T=1;else{S&&(w=-w),r(w<=67108863,"Number is too big");var m=this.words[0]|0;T=m===w?0:m<w?-1:1}return this.negative!==0?-T|0:T},i.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var S=this.ucmp(w);return this.negative!==0?-S|0:S},i.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var S=0,T=this.length-1;T>=0;T--){var m=this.words[T]|0,y=w.words[T]|0;if(m!==y){m<y?S=-1:m>y&&(S=1);break}}return S},i.prototype.gtn=function(w){return this.cmpn(w)===1},i.prototype.gt=function(w){return this.cmp(w)===1},i.prototype.gten=function(w){return this.cmpn(w)>=0},i.prototype.gte=function(w){return this.cmp(w)>=0},i.prototype.ltn=function(w){return this.cmpn(w)===-1},i.prototype.lt=function(w){return this.cmp(w)===-1},i.prototype.lten=function(w){return this.cmpn(w)<=0},i.prototype.lte=function(w){return this.cmp(w)<=0},i.prototype.eqn=function(w){return this.cmpn(w)===0},i.prototype.eq=function(w){return this.cmp(w)===0},i.red=function(w){return new N(w)},i.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(w){return this.red=w,this},i.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},i.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},i.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},i.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},i.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},i.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},i.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},i.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var C={k256:null,p224:null,p192:null,p25519:null};function R(O,w){this.name=O,this.p=new i(w,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var w=new i(null);return w.words=new Array(Math.ceil(this.n/13)),w},R.prototype.ireduce=function(w){var S=w,T;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),T=S.bitLength();while(T>this.n);var m=T<this.n?-1:S.ucmp(this.p);return m===0?(S.words[0]=0,S.length=1):m>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},R.prototype.split=function(w,S){w.iushrn(this.n,0,S)},R.prototype.imulK=function(w){return w.imul(this.k)};function M(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(M,R),M.prototype.split=function(w,S){for(var T=4194303,m=Math.min(w.length,9),y=0;y<m;y++)S.words[y]=w.words[y];if(S.length=m,w.length<=9){w.words[0]=0,w.length=1;return}var E=w.words[9];for(S.words[S.length++]=E&T,y=10;y<w.length;y++){var v=w.words[y]|0;w.words[y-10]=(v&T)<<4|E>>>22,E=v}E>>>=22,w.words[y-10]=E,E===0&&w.length>10?w.length-=10:w.length-=9},M.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var S=0,T=0;T<w.length;T++){var m=w.words[T]|0;S+=m*977,w.words[T]=S&67108863,S=m*64+(S/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function U(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(U,R);function F(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(F,R);function z(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(z,R),z.prototype.imulK=function(w){for(var S=0,T=0;T<w.length;T++){var m=(w.words[T]|0)*19+S,y=m&67108863;m>>>=26,w.words[T]=y,S=m}return S!==0&&(w.words[w.length++]=S),w},i._prime=function(w){if(C[w])return C[w];var S;if(w==="k256")S=new M;else if(w==="p224")S=new U;else if(w==="p192")S=new F;else if(w==="p25519")S=new z;else throw new Error("Unknown prime "+w);return C[w]=S,S};function N(O){if(typeof O=="string"){var w=i._prime(O);this.m=w.p,this.prime=w}else r(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}N.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},N.prototype._verify2=function(w,S){r((w.negative|S.negative)===0,"red works only with positives"),r(w.red&&w.red===S.red,"red works only with red numbers")},N.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):w.umod(this.m)._forceRed(this)},N.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},N.prototype.add=function(w,S){this._verify2(w,S);var T=w.add(S);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},N.prototype.iadd=function(w,S){this._verify2(w,S);var T=w.iadd(S);return T.cmp(this.m)>=0&&T.isub(this.m),T},N.prototype.sub=function(w,S){this._verify2(w,S);var T=w.sub(S);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},N.prototype.isub=function(w,S){this._verify2(w,S);var T=w.isub(S);return T.cmpn(0)<0&&T.iadd(this.m),T},N.prototype.shl=function(w,S){return this._verify1(w),this.imod(w.ushln(S))},N.prototype.imul=function(w,S){return this._verify2(w,S),this.imod(w.imul(S))},N.prototype.mul=function(w,S){return this._verify2(w,S),this.imod(w.mul(S))},N.prototype.isqr=function(w){return this.imul(w,w.clone())},N.prototype.sqr=function(w){return this.mul(w,w)},N.prototype.sqrt=function(w){if(w.isZero())return w.clone();var S=this.m.andln(3);if(r(S%2===1),S===3){var T=this.m.add(new i(1)).iushrn(2);return this.pow(w,T)}for(var m=this.m.subn(1),y=0;!m.isZero()&&m.andln(1)===0;)y++,m.iushrn(1);r(!m.isZero());var E=new i(1).toRed(this),v=E.redNeg(),x=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new i(2*g*g).toRed(this);this.pow(g,x).cmp(v)!==0;)g.redIAdd(v);for(var P=this.pow(g,m),B=this.pow(w,m.addn(1).iushrn(1)),I=this.pow(w,m),L=y;I.cmp(E)!==0;){for(var G=I,H=0;G.cmp(E)!==0;H++)G=G.redSqr();r(H<L);var $=this.pow(P,new i(1).iushln(L-H-1));B=B.redMul($),P=$.redSqr(),I=I.redMul(P),L=H}return B},N.prototype.invm=function(w){var S=w._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},N.prototype.pow=function(w,S){if(S.isZero())return new i(1).toRed(this);if(S.cmpn(1)===0)return w.clone();var T=4,m=new Array(1<<T);m[0]=new i(1).toRed(this),m[1]=w;for(var y=2;y<m.length;y++)m[y]=this.mul(m[y-1],w);var E=m[0],v=0,x=0,g=S.bitLength()%26;for(g===0&&(g=26),y=S.length-1;y>=0;y--){for(var P=S.words[y],B=g-1;B>=0;B--){var I=P>>B&1;if(E!==m[0]&&(E=this.sqr(E)),I===0&&v===0){x=0;continue}v<<=1,v|=I,x++,!(x!==T&&(y!==0||B!==0))&&(E=this.mul(E,m[v]),x=0,v=0)}g=26}return E},N.prototype.convertTo=function(w){var S=w.umod(this.m);return S===w?S.clone():S},N.prototype.convertFrom=function(w){var S=w.clone();return S.red=null,S},i.mont=function(w){return new k(w)};function k(O){N.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(k,N),k.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},k.prototype.convertFrom=function(w){var S=this.imod(w.mul(this.rinv));return S.red=null,S},k.prototype.imul=function(w,S){if(w.isZero()||S.isZero())return w.words[0]=0,w.length=1,w;var T=w.imul(S),m=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=T.isub(m).iushrn(this.shift),E=y;return y.cmp(this.m)>=0?E=y.isub(this.m):y.cmpn(0)<0&&(E=y.iadd(this.m)),E._forceRed(this)},k.prototype.mul=function(w,S){if(w.isZero()||S.isZero())return new i(0)._forceRed(this);var T=w.mul(S),m=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=T.isub(m).iushrn(this.shift),E=y;return y.cmp(this.m)>=0?E=y.isub(this.m):y.cmpn(0)<0&&(E=y.iadd(this.m)),E._forceRed(this)},k.prototype.invm=function(w){var S=this.imod(w._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(typeof pq>"u"||pq,H6e)});var hq=de(j6e=>{"use strict";var CO=j6e;function iot(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,a=i&255;o?r.push(o,a):r.push(a)}return r}CO.toArray=iot;function z6e(t){return t.length===1?"0"+t:t}CO.zero2=z6e;function G6e(t){for(var e="",r=0;r<t.length;r++)e+=z6e(t[r].toString(16));return e}CO.toHex=G6e;CO.encode=function(e,r){return r==="hex"?G6e(e):e}});var ul=de($6e=>{"use strict";var Id=$6e,oot=r1(),aot=b5(),RO=hq();Id.assert=aot;Id.toArray=RO.toArray;Id.zero2=RO.zero2;Id.toHex=RO.toHex;Id.encode=RO.encode;function sot(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var o=1<<e+1,a=t.clone();for(i=0;i<n.length;i++){var s,c=a.andln(o-1);a.isOdd()?(c>(o>>1)-1?s=(o>>1)-c:s=c,a.isubn(s)):s=0,n[i]=s,a.iushrn(1)}return n}Id.getNAF=sot;function cot(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,o;t.cmpn(-n)>0||e.cmpn(-i)>0;){var a=t.andln(3)+n&3,s=e.andln(3)+i&3;a===3&&(a=-1),s===3&&(s=-1);var c;(a&1)===0?c=0:(o=t.andln(7)+n&7,(o===3||o===5)&&s===2?c=-a:c=a),r[0].push(c);var l;(s&1)===0?l=0:(o=e.andln(7)+i&7,(o===3||o===5)&&a===2?l=-s:l=s),r[1].push(l),2*n===c+1&&(n=1-n),2*i===l+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}Id.getJSF=cot;function lot(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}Id.cachedProperty=lot;function uot(t){return typeof t=="string"?Id.toArray(t,"hex"):t}Id.parseBytes=uot;function dot(t){return new oot(t,"hex","le")}Id.intFromLE=dot});var mq=de(()=>{});var wq=de((Vor,gq)=>{var bq;gq.exports=function(e){return bq||(bq=new g5(null)),bq.generate(e)};function g5(t){this.rand=t}gq.exports.Rand=g5;g5.prototype.generate=function(e){return this._rand(e)};g5.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?g5.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?g5.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(g5.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(yq=mq(),typeof yq.randomBytes!="function")throw new Error("Not supported");g5.prototype._rand=function(e){return yq.randomBytes(e)}}catch{}var yq});var cT=de((Kor,V6e)=>{"use strict";var t2=r1(),sT=ul(),PO=sT.getNAF,fot=sT.getJSF,OO=sT.assert;function w5(t,e){this.type=t,this.p=new t2(e.p,16),this.red=e.prime?t2.red(e.prime):t2.mont(this.p),this.zero=new t2(0).toRed(this.red),this.one=new t2(1).toRed(this.red),this.two=new t2(2).toRed(this.red),this.n=e.n&&new t2(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}V6e.exports=w5;w5.prototype.point=function(){throw new Error("Not implemented")};w5.prototype.validate=function(){throw new Error("Not implemented")};w5.prototype._fixedNafMul=function(e,r){OO(e.precomputed);var n=e._getDoubles(),i=PO(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var a=[],s,c;for(s=0;s<i.length;s+=n.step){c=0;for(var l=s+n.step-1;l>=s;l--)c=(c<<1)+i[l];a.push(c)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=o;f>0;f--){for(s=0;s<a.length;s++)c=a[s],c===f?d=d.mixedAdd(n.points[s]):c===-f&&(d=d.mixedAdd(n.points[s].neg()));u=u.add(d)}return u.toP()};w5.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,a=PO(r,n,this._bitLength),s=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var l=0;c>=0&&a[c]===0;c--)l++;if(c>=0&&l++,s=s.dblp(l),c<0)break;var u=a[c];OO(u!==0),e.type==="affine"?u>0?s=s.mixedAdd(o[u-1>>1]):s=s.mixedAdd(o[-u-1>>1].neg()):u>0?s=s.add(o[u-1>>1]):s=s.add(o[-u-1>>1].neg())}return e.type==="affine"?s.toP():s};w5.prototype._wnafMulAdd=function(e,r,n,i,o){var a=this._wnafT1,s=this._wnafT2,c=this._wnafT3,l=0,u,d,f;for(u=0;u<i;u++){f=r[u];var p=f._getNAFPoints(e);a[u]=p.wnd,s[u]=p.points}for(u=i-1;u>=1;u-=2){var h=u-1,b=u;if(a[h]!==1||a[b]!==1){c[h]=PO(n[h],a[h],this._bitLength),c[b]=PO(n[b],a[b],this._bitLength),l=Math.max(c[h].length,l),l=Math.max(c[b].length,l);continue}var _=[r[h],null,null,r[b]];r[h].y.cmp(r[b].y)===0?(_[1]=r[h].add(r[b]),_[2]=r[h].toJ().mixedAdd(r[b].neg())):r[h].y.cmp(r[b].y.redNeg())===0?(_[1]=r[h].toJ().mixedAdd(r[b]),_[2]=r[h].add(r[b].neg())):(_[1]=r[h].toJ().mixedAdd(r[b]),_[2]=r[h].toJ().mixedAdd(r[b].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],C=fot(n[h],n[b]);for(l=Math.max(C[0].length,l),c[h]=new Array(l),c[b]=new Array(l),d=0;d<l;d++){var R=C[0][d]|0,M=C[1][d]|0;c[h][d]=A[(R+1)*3+(M+1)],c[b][d]=0,s[h]=_}}var U=this.jpoint(null,null,null),F=this._wnafT4;for(u=l;u>=0;u--){for(var z=0;u>=0;){var N=!0;for(d=0;d<i;d++)F[d]=c[d][u]|0,F[d]!==0&&(N=!1);if(!N)break;z++,u--}if(u>=0&&z++,U=U.dblp(z),u<0)break;for(d=0;d<i;d++){var k=F[d];k!==0&&(k>0?f=s[d][k-1>>1]:k<0&&(f=s[d][-k-1>>1].neg()),f.type==="affine"?U=U.mixedAdd(f):U=U.add(f))}}for(u=0;u<i;u++)s[u]=null;return o?U:U.toP()};function yu(t,e){this.curve=t,this.type=e,this.precomputed=null}w5.BasePoint=yu;yu.prototype.eq=function(){throw new Error("Not implemented")};yu.prototype.validate=function(){return this.curve.validate(this)};w5.prototype.decodePoint=function(e,r){e=sT.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?OO(e[e.length-1]%2===0):e[0]===7&&OO(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};yu.prototype.encodeCompressed=function(e){return this.encode(e,!0)};yu.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};yu.prototype.encode=function(e,r){return sT.encode(this._encode(r),e)};yu.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};yu.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};yu.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};yu.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};yu.prototype._getBeta=function(){return null};yu.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var q6e=de((qor,K6e)=>{"use strict";var pot=ul(),bo=r1(),vq=iT(),ow=cT(),hot=pot.assert;function gu(t){ow.call(this,"short",t),this.a=new bo(t.a,16).toRed(this.red),this.b=new bo(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}vq(gu,ow);K6e.exports=gu;gu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new bo(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new bo(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],hot(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(s){return{a:new bo(s.a,16),b:new bo(s.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};gu.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:bo.mont(e),n=new bo(2).toRed(r).redInvm(),i=n.redNeg(),o=new bo(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(o).fromRed(),s=i.redSub(o).fromRed();return[a,s]};gu.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new bo(1),a=new bo(0),s=new bo(0),c=new bo(1),l,u,d,f,p,h,b,_=0,A,C;n.cmpn(0)!==0;){var R=i.div(n);A=i.sub(R.mul(n)),C=s.sub(R.mul(o));var M=c.sub(R.mul(a));if(!d&&A.cmp(r)<0)l=b.neg(),u=o,d=A.neg(),f=C;else if(d&&++_===2)break;b=A,i=n,n=A,s=o,o=C,c=a,a=M}p=A.neg(),h=C;var U=d.sqr().add(f.sqr()),F=p.sqr().add(h.sqr());return F.cmp(U)>=0&&(p=l,h=u),d.negative&&(d=d.neg(),f=f.neg()),p.negative&&(p=p.neg(),h=h.neg()),[{a:d,b:f},{a:p,b:h}]};gu.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),s=o.mul(n.a),c=a.mul(i.a),l=o.mul(n.b),u=a.mul(i.b),d=e.sub(s).sub(c),f=l.add(u).neg();return{k1:d,k2:f}};gu.prototype.pointFromX=function(e,r){e=new bo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};gu.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};gu.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(r[a]),c=e[a],l=c._getBeta();s.k1.negative&&(s.k1.ineg(),c=c.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),i[a*2]=c,i[a*2+1]=l,o[a*2]=s.k1,o[a*2+1]=s.k2}for(var u=this._wnafMulAdd(1,i,o,a*2,n),d=0;d<a*2;d++)i[d]=null,o[d]=null;return u};function ka(t,e,r,n){ow.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new bo(e,16),this.y=new bo(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}vq(ka,ow.BasePoint);gu.prototype.point=function(e,r,n){return new ka(this,e,r,n)};gu.prototype.pointFromJSON=function(e,r){return ka.fromJSON(this,e,r)};ka.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ka.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ka.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(s){return e.point(s[0],s[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(o))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(o))}},i};ka.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ka.prototype.isInfinity=function(){return this.inf};ka.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ka.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)};ka.prototype.getX=function(){return this.x.fromRed()};ka.prototype.getY=function(){return this.y.fromRed()};ka.prototype.mul=function(e){return e=new bo(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ka.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};ka.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};ka.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ka.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ka.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function cs(t,e,r,n){ow.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bo(0)):(this.x=new bo(e,16),this.y=new bo(r,16),this.z=new bo(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}vq(cs,ow.BasePoint);gu.prototype.jpoint=function(e,r,n){return new cs(this,e,r,n)};cs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};cs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};cs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),c=i.redSub(o),l=a.redSub(s);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),d=u.redMul(c),f=i.redMul(u),p=l.redSqr().redIAdd(d).redISub(f).redISub(f),h=l.redMul(f.redISub(p)).redISub(a.redMul(d)),b=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(p,h,b)};cs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,a=e.y.redMul(r).redMul(this.z),s=n.redSub(i),c=o.redSub(a);if(s.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),d=n.redMul(l),f=c.redSqr().redIAdd(u).redISub(d).redISub(d),p=c.redMul(d.redISub(f)).redISub(o.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(f,p,h)};cs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,a=this.x,s=this.y,c=this.z,l=c.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var d=a.redSqr(),f=u.redSqr(),p=f.redSqr(),h=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(l)),b=a.redMul(f),_=h.redSqr().redISub(b.redAdd(b)),A=b.redISub(_),C=h.redMul(A);C=C.redIAdd(C).redISub(p);var R=u.redMul(c);r+1<e&&(l=l.redMul(p)),a=_,c=R,u=C}return this.curve.jpoint(a,u.redMul(o),c)};cs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};cs.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(s).redISub(s),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(s.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(d).redISub(p);h=h.redIAdd(h);var b=d.redAdd(d).redIAdd(d),_=b.redSqr(),A=p.redIAdd(p);A=A.redIAdd(A),A=A.redIAdd(A),e=_.redISub(h).redISub(h),r=b.redMul(h.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};cs.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(s).redISub(s);e=l;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(s.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),h=this.x.redSub(d).redMul(this.x.redAdd(d));h=h.redAdd(h).redIAdd(h);var b=p.redIAdd(p);b=b.redIAdd(b);var _=b.redAdd(b);e=h.redSqr().redISub(_),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var A=f.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),r=h.redMul(b.redISub(e)).redISub(A)}return this.curve.jpoint(e,r,n)};cs.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),a=r.redSqr(),s=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(o)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(s),d=c.redSqr().redISub(u.redAdd(u)),f=u.redISub(d),p=s.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var h=c.redMul(f).redISub(p),b=n.redAdd(n).redMul(i);return this.curve.jpoint(d,h,b)};cs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),a=o.redSqr(),s=this.x.redAdd(r).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(a);var c=s.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=o.redIAdd(s).redSqr().redISub(a).redISub(c).redISub(l),d=r.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var f=this.x.redMul(c).redISub(d);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(c)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var h=this.z.redAdd(s).redSqr().redISub(n).redISub(c);return this.curve.jpoint(f,p,h)};cs.prototype.mul=function(e,r){return e=new bo(e,r),this.curve._wnafMul(this,e)};cs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};cs.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};cs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};cs.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var J6e=de((Wor,Y6e)=>{"use strict";var aw=r1(),W6e=iT(),NO=cT(),mot=ul();function sw(t){NO.call(this,"mont",t),this.a=new aw(t.a,16).toRed(this.red),this.b=new aw(t.b,16).toRed(this.red),this.i4=new aw(4).toRed(this.red).redInvm(),this.two=new aw(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}W6e(sw,NO);Y6e.exports=sw;sw.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=i.redSqrt();return o.redSqr().cmp(i)===0};function Ma(t,e,r){NO.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new aw(e,16),this.z=new aw(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}W6e(Ma,NO.BasePoint);sw.prototype.decodePoint=function(e,r){return this.point(mot.toArray(e,r),1)};sw.prototype.point=function(e,r){return new Ma(this,e,r)};sw.prototype.pointFromJSON=function(e){return Ma.fromJSON(this,e)};Ma.prototype.precompute=function(){};Ma.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Ma.fromJSON=function(e,r){return new Ma(e,r[0],r[1]||e.one)};Ma.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ma.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Ma.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=r.redSub(i),a=r.redMul(i),s=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(a,s)};Ma.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Ma.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),a=e.x.redSub(e.z),s=a.redMul(n),c=o.redMul(i),l=r.z.redMul(s.redAdd(c).redSqr()),u=r.x.redMul(s.redISub(c).redSqr());return this.curve.point(l,u)};Ma.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),o=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var s=a.length-1;s>=0;s--)a[s]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};Ma.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Ma.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Ma.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Ma.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Ma.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var X6e=de((Yor,Z6e)=>{"use strict";var bot=ul(),Hp=r1(),Q6e=iT(),kO=cT(),yot=bot.assert;function n1(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,kO.call(this,"edwards",t),this.a=new Hp(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Hp(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Hp(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),yot(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Q6e(n1,kO);Z6e.exports=n1;n1.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};n1.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};n1.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};n1.prototype.pointFromX=function(e,r){e=new Hp(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(o.redInvm()),s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var c=s.fromRed().isOdd();return(r&&!c||!r&&c)&&(s=s.redNeg()),this.point(e,s)};n1.prototype.pointFromY=function(e,r){e=new Hp(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==r&&(s=s.redNeg()),this.point(s,e)};n1.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(o)===0};function wi(t,e,r,n,i){kO.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Hp(e,16),this.y=new Hp(r,16),this.z=n?new Hp(n,16):this.curve.one,this.t=i&&new Hp(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Q6e(wi,kO.BasePoint);n1.prototype.pointFromJSON=function(e){return wi.fromJSON(this,e)};n1.prototype.point=function(e,r,n,i){return new wi(this,e,r,n,i)};wi.fromJSON=function(e,r){return new wi(e,r[0],r[1],r[2])};wi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};wi.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};wi.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),s=a.redSub(n),c=i.redSub(r),l=o.redMul(s),u=a.redMul(c),d=o.redMul(c),f=s.redMul(a);return this.curve.point(l,u,f,d)};wi.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,o,a,s,c,l;if(this.curve.twisted){s=this.curve._mulA(r);var u=s.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),o=u.redMul(s.redSub(n)),a=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),l=u.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(l),o=u.redMul(s.redSub(n)),a=u.redMul(l))}else s=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=s.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(s)).redMul(l),o=this.curve._mulC(s).redMul(r.redISub(n)),a=s.redMul(l);return this.curve.point(i,o,a)};wi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};wi.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),s=o.redSub(i),c=o.redAdd(i),l=n.redAdd(r),u=a.redMul(s),d=c.redMul(l),f=a.redMul(l),p=s.redMul(c);return this.curve.point(u,d,p,f)};wi.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(o),s=n.redSub(a),c=n.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),u=r.redMul(s).redMul(l),d,f;return this.curve.twisted?(d=r.redMul(c).redMul(o.redSub(this.curve._mulA(i))),f=s.redMul(c)):(d=r.redMul(c).redMul(o.redSub(i)),f=this.curve._mulC(s).redMul(c)),this.curve.point(u,d,f)};wi.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};wi.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};wi.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};wi.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};wi.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};wi.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};wi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};wi.prototype.getY=function(){return this.normalize(),this.y.fromRed()};wi.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};wi.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};wi.prototype.toP=wi.prototype.normalize;wi.prototype.mixedAdd=wi.prototype.add});var Eq=de(ehe=>{"use strict";var MO=ehe;MO.base=cT();MO.short=q6e();MO.mont=J6e();MO.edwards=X6e()});var rhe=de((Qor,the)=>{the.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var BO=de(ohe=>{"use strict";var Aq=ohe,v5=IO(),xq=Eq(),got=ul(),nhe=got.assert;function ihe(t){t.type==="short"?this.curve=new xq.short(t):t.type==="edwards"?this.curve=new xq.edwards(t):this.curve=new xq.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,nhe(this.g.validate(),"Invalid curve"),nhe(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Aq.PresetCurve=ihe;function E5(t,e){Object.defineProperty(Aq,t,{configurable:!0,enumerable:!0,get:function(){var r=new ihe(e);return Object.defineProperty(Aq,t,{configurable:!0,enumerable:!0,value:r}),r}})}E5("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:v5.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});E5("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:v5.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});E5("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:v5.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});E5("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:v5.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});E5("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:v5.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});E5("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:v5.sha256,gRed:!1,g:["9"]});E5("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:v5.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Tq;try{Tq=rhe()}catch{Tq=void 0}E5("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:v5.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Tq]})});var che=de((Xor,she)=>{"use strict";var wot=IO(),r2=hq(),ahe=b5();function x5(t){if(!(this instanceof x5))return new x5(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=r2.toArray(t.entropy,t.entropyEnc||"hex"),r=r2.toArray(t.nonce,t.nonceEnc||"hex"),n=r2.toArray(t.pers,t.persEnc||"hex");ahe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}she.exports=x5;x5.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};x5.prototype._hmac=function(){return new wot.hmac(this.hash,this.K)};x5.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};x5.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=r2.toArray(e,r),n=r2.toArray(n,i),ahe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};x5.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=r2.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,r2.encode(a,r)}});var uhe=de((ear,lhe)=>{"use strict";var vot=r1(),Eot=ul(),_q=Eot.assert;function Ls(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}lhe.exports=Ls;Ls.fromPublic=function(e,r,n){return r instanceof Ls?r:new Ls(e,{pub:r,pubEnc:n})};Ls.fromPrivate=function(e,r,n){return r instanceof Ls?r:new Ls(e,{priv:r,privEnc:n})};Ls.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ls.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ls.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ls.prototype._importPrivate=function(e,r){this.priv=new vot(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ls.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?_q(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&_q(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ls.prototype.derive=function(e){return e.validate()||_q(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ls.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ls.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Ls.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var phe=de((tar,fhe)=>{"use strict";var DO=r1(),Cq=ul(),xot=Cq.assert;function LO(t,e){if(t instanceof LO)return t;this._importDER(t,e)||(xot(t.r&&t.s,"Signature without r or s"),this.r=new DO(t.r,16),this.s=new DO(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}fhe.exports=LO;function Aot(){this.place=0}function Sq(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function dhe(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}LO.prototype._importDER=function(e,r){e=Cq.toArray(e,r);var n=new Aot;if(e[n.place++]!==48)return!1;var i=Sq(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=Sq(e,n);if(o===!1||(e[n.place]&128)!==0)return!1;var a=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var s=Sq(e,n);if(s===!1||e.length!==s+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,s+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new DO(a),this.s=new DO(c),this.recoveryParam=null,!0};function Iq(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}LO.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=dhe(r),n=dhe(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Iq(i,r.length),i=i.concat(r),i.push(2),Iq(i,n.length);var o=i.concat(n),a=[48];return Iq(a,o.length),a=a.concat(o),Cq.encode(a,e)}});var bhe=de((rar,mhe)=>{"use strict";var Cd=r1(),hhe=che(),Tot=ul(),Rq=BO(),_ot=wq(),n2=Tot.assert,Pq=uhe(),UO=phe();function wu(t){if(!(this instanceof wu))return new wu(t);typeof t=="string"&&(n2(Object.prototype.hasOwnProperty.call(Rq,t),"Unknown curve "+t),t=Rq[t]),t instanceof Rq.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}mhe.exports=wu;wu.prototype.keyPair=function(e){return new Pq(this,e)};wu.prototype.keyFromPrivate=function(e,r){return Pq.fromPrivate(this,e,r)};wu.prototype.keyFromPublic=function(e,r){return Pq.fromPublic(this,e,r)};wu.prototype.genKeyPair=function(e){e||(e={});for(var r=new hhe({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_ot(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Cd(2));;){var o=new Cd(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};wu.prototype._truncateToN=function(e,r,n){var i;if(Cd.isBN(e)||typeof e=="number")e=new Cd(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Cd(e,16);else{var o=e.toString();i=o.length+1>>>1,e=new Cd(o,16)}typeof n!="number"&&(n=i*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};wu.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Cd.isBN(e)){n2(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),n2(e.length>>>0===e.length);for(var o=0;o<e.length;o++)n2((e[o]&255)===e[o])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),n2(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),c=e.toArray("be",a);n2(new Cd(c).eq(e),"Can not sign message");for(var l=new hhe({hash:this.hash,entropy:s,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Cd(1)),d=0;;d++){var f=i.k?i.k(d):new Cd(l.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var h=p.getX(),b=h.umod(this.n);if(b.cmpn(0)!==0){var _=f.invm(this.n).mul(b.mul(r.getPrivate()).iadd(e));if(_=_.umod(this.n),_.cmpn(0)!==0){var A=(p.getY().isOdd()?1:0)|(h.cmp(b)!==0?2:0);return i.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),A^=1),new UO({r:b,s:_,recoveryParam:A})}}}}}};wu.prototype.verify=function(e,r,n,i,o){o||(o={}),e=this._truncateToN(e,!1,o.msgBitLength),n=this.keyFromPublic(n,i),r=new UO(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var c=s.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(a).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(l,n.getPublic(),u),d.isInfinity()?!1:d.eqXToP(a)):(d=this.g.mulAdd(l,n.getPublic(),u),d.isInfinity()?!1:d.getX().umod(this.n).cmp(a)===0)};wu.prototype.recoverPubKey=function(t,e,r,n){n2((3&r)===r,"The recovery param is more than two bits"),e=new UO(e,n);var i=this.n,o=new Cd(t),a=e.r,s=e.s,c=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var u=e.r.invm(i),d=i.sub(o).mul(u).umod(i),f=s.mul(u).umod(i);return this.g.mulAdd(d,a,f)};wu.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new UO(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var vhe=de((nar,whe)=>{"use strict";var lT=ul(),ghe=lT.assert,yhe=lT.parseBytes,cw=lT.cachedProperty;function Ba(t,e){this.eddsa=t,this._secret=yhe(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=yhe(e.pub)}Ba.fromPublic=function(e,r){return r instanceof Ba?r:new Ba(e,{pub:r})};Ba.fromSecret=function(e,r){return r instanceof Ba?r:new Ba(e,{secret:r})};Ba.prototype.secret=function(){return this._secret};cw(Ba,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cw(Ba,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cw(Ba,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});cw(Ba,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cw(Ba,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cw(Ba,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ba.prototype.sign=function(e){return ghe(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ba.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Ba.prototype.getSecret=function(e){return ghe(this._secret,"KeyPair is public only"),lT.encode(this.secret(),e)};Ba.prototype.getPublic=function(e){return lT.encode(this.pubBytes(),e)};whe.exports=Ba});var Ahe=de((iar,xhe)=>{"use strict";var Sot=r1(),FO=ul(),Ehe=FO.assert,HO=FO.cachedProperty,Iot=FO.parseBytes;function i2(t,e){this.eddsa=t,typeof e!="object"&&(e=Iot(e)),Array.isArray(e)&&(Ehe(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Ehe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Sot&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}HO(i2,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});HO(i2,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});HO(i2,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});HO(i2,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});i2.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};i2.prototype.toHex=function(){return FO.encode(this.toBytes(),"hex").toUpperCase()};xhe.exports=i2});var Che=de((oar,Ihe)=>{"use strict";var Cot=IO(),Rot=BO(),lw=ul(),Pot=lw.assert,_he=lw.parseBytes,She=vhe(),The=Ahe();function mc(t){if(Pot(t==="ed25519","only tested with ed25519 so far"),!(this instanceof mc))return new mc(t);t=Rot[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Cot.sha512}Ihe.exports=mc;mc.prototype.sign=function(e,r){e=_he(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),a=this.encodePoint(o),s=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=i.add(s).umod(this.curve.n);return this.makeSignature({R:o,S:c,Rencoded:a})};mc.prototype.verify=function(e,r,n){if(e=_he(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),s=r.R().add(i.pub().mul(o));return s.eq(a)};mc.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return lw.intFromLE(e.digest()).umod(this.curve.n)};mc.prototype.keyFromPublic=function(e){return She.fromPublic(this,e)};mc.prototype.keyFromSecret=function(e){return She.fromSecret(this,e)};mc.prototype.makeSignature=function(e){return e instanceof The?e:new The(this,e)};mc.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};mc.prototype.decodePoint=function(e){e=lw.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,o=lw.intFromLE(n);return this.curve.pointFromY(o,i)};mc.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};mc.prototype.decodeInt=function(e){return lw.intFromLE(e)};mc.prototype.isPoint=function(e){return e instanceof this.pointClass}});var uT=de(Rhe=>{"use strict";var o2=Rhe;o2.version=F6e().version;o2.utils=ul();o2.rand=wq();o2.curve=Eq();o2.curves=BO();o2.ec=bhe();o2.eddsa=Che()});var Je,Zi,a2=D(()=>{Je={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},Zi={POPUP:"popup",REDIRECT:"redirect"}});var Do=de((car,Nhe)=>{"use strict";var Oot=function(e){return Not(e)&&!kot(e)};function Not(t){return!!t&&typeof t=="object"}function kot(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Dot(t)}var Mot=typeof Symbol=="function"&&Symbol.for,Bot=Mot?Symbol.for("react.element"):60103;function Dot(t){return t.$$typeof===Bot}function Lot(t){return Array.isArray(t)?[]:{}}function dT(t,e){return e.clone!==!1&&e.isMergeableObject(t)?uw(Lot(t),t,e):t}function Uot(t,e,r){return t.concat(e).map(function(n){return dT(n,r)})}function Fot(t,e){if(!e.customMerge)return uw;var r=e.customMerge(t);return typeof r=="function"?r:uw}function Hot(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Phe(t){return Object.keys(t).concat(Hot(t))}function Ohe(t,e){try{return e in t}catch{return!1}}function zot(t,e){return Ohe(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Got(t,e,r){var n={};return r.isMergeableObject(t)&&Phe(t).forEach(function(i){n[i]=dT(t[i],r)}),Phe(e).forEach(function(i){zot(t,i)||(Ohe(t,i)&&r.isMergeableObject(e[i])?n[i]=Fot(i,r)(t[i],e[i],r):n[i]=dT(e[i],r))}),n}function uw(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||Uot,r.isMergeableObject=r.isMergeableObject||Oot,r.cloneUnlessOtherwiseSpecified=dT;var n=Array.isArray(e),i=Array.isArray(t),o=n===i;return o?n?r.arrayMerge(t,e,r):Got(t,e,r):dT(e,r)}uw.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return uw(n,i,r)},{})};var jot=uw;Nhe.exports=jot});var Or=de((khe,zO)=>{(function(t,e){"use strict";typeof define=="function"&&define.amd?define(e):typeof zO=="object"&&zO.exports?zO.exports=e():t.log=e()})(khe,function(){"use strict";var t=function(){},e="undefined",r=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],i={},o=null;function a(h,b){var _=h[b];if(typeof _.bind=="function")return _.bind(h);try{return Function.prototype.bind.call(_,h)}catch{return function(){return Function.prototype.apply.apply(_,[h,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(h){return h==="debug"&&(h="log"),typeof console===e?!1:h==="trace"&&r?s:console[h]!==void 0?a(console,h):console.log!==void 0?a(console,"log"):t}function l(){for(var h=this.getLevel(),b=0;b<n.length;b++){var _=n[b];this[_]=b<h?t:this.methodFactory(_,h,this.name)}if(this.log=this.debug,typeof console===e&&h<this.levels.SILENT)return"No console available for logging"}function u(h){return function(){typeof console!==e&&(l.call(this),this[h].apply(this,arguments))}}function d(h,b,_){return c(h)||u.apply(this,arguments)}function f(h,b){var _=this,A,C,R,M="loglevel";typeof h=="string"?M+=":"+h:typeof h=="symbol"&&(M=void 0);function U(O){var w=(n[O]||"silent").toUpperCase();if(!(typeof window===e||!M)){try{window.localStorage[M]=w;return}catch{}try{window.document.cookie=encodeURIComponent(M)+"="+w+";"}catch{}}}function F(){var O;if(!(typeof window===e||!M)){try{O=window.localStorage[M]}catch{}if(typeof O===e)try{var w=window.document.cookie,S=encodeURIComponent(M),T=w.indexOf(S+"=");T!==-1&&(O=/^([^;]+)/.exec(w.slice(T+S.length+1))[1])}catch{}return _.levels[O]===void 0&&(O=void 0),O}}function z(){if(!(typeof window===e||!M)){try{window.localStorage.removeItem(M)}catch{}try{window.document.cookie=encodeURIComponent(M)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function N(O){var w=O;if(typeof w=="string"&&_.levels[w.toUpperCase()]!==void 0&&(w=_.levels[w.toUpperCase()]),typeof w=="number"&&w>=0&&w<=_.levels.SILENT)return w;throw new TypeError("log.setLevel() called with invalid level: "+O)}_.name=h,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=b||d,_.getLevel=function(){return R??C??A},_.setLevel=function(O,w){return R=N(O),w!==!1&&U(R),l.call(_)},_.setDefaultLevel=function(O){C=N(O),F()||_.setLevel(O,!1)},_.resetLevel=function(){R=null,z(),l.call(_)},_.enableAll=function(O){_.setLevel(_.levels.TRACE,O)},_.disableAll=function(O){_.setLevel(_.levels.SILENT,O)},_.rebuild=function(){if(o!==_&&(A=N(o.getLevel())),l.call(_),o===_)for(var O in i)i[O].rebuild()},A=N(o?o.getLevel():"WARN");var k=F();k!=null&&(R=N(k)),l.call(_)}o=new f,o.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var _=i[b];return _||(_=i[b]=new f(b,o.methodFactory)),_};var p=typeof window!==e?window.log:void 0;return o.noConflict=function(){return typeof window!==e&&window.log===o&&(window.log=p),o},o.getLoggers=function(){return i},o.default=o,o})});async function $O(t,e){let r=null;try{r=new URL(t)}catch{}return Dhe&&r&&(Kot.includes(r.origin)||qot.includes(r.pathname))?await Dhe.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function VO(){let t={};return Mhe&&(t[$ot]=Mhe),Bhe&&(t[Vot]=Bhe),t}function KO(t){GO.info(`Response: ${t.status} ${t.statusText}`),GO.info(`Url: ${t.url}`)}function Wot(t){let e=t.headers.get("x-web3-correlation-id");e&&GO.info(`Request tracing with traceID = ${e}`)}var fT,jO,GO,Mhe,Bhe,$ot,Vot,Dhe,Kot,qot,Yot,bc,Lhe,Uhe,Fhe,A5=D(()=>{nt();fT=ve(Do()),jO=ve(Or()),GO=jO.default.getLogger("http-helpers");GO.setLevel(jO.levels.INFO);Mhe="torus-default",Bhe="",$ot="x-api-key",Vot="x-embed-host",Dhe=null,Kot=[],qot=[];Yot=async(t,e)=>{let r=null;try{let n=new Promise((o,a)=>{r=setTimeout(()=>{a(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},bc=async(t,e={},r={})=>{let n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=q(q({},n.headers),VO())),e.method="GET";let i=(0,fT.default)(n,e),o=await $O(t,i);if(o.ok){let a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw KO(o),o},Lhe=(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),VO())),r.method="POST";let o=(0,fT.default)(i,r);return n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),Yot(n.timeout||6e4,$O(t,o).then(a=>{if(n.logTracingHeader&&Wot(a),a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw KO(a),a}))},Uhe=async(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),VO())),r.method="PATCH";let o=(0,fT.default)(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);let a=await $O(t,o);if(a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw KO(a),a},Fhe=async(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),VO())),r.method="PUT";let o=(0,fT.default)(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);let a=await $O(t,o);if(a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw KO(a),a}});var Hhe=de(Oq=>{"use strict";Object.defineProperty(Oq,"__esModule",{value:!0});function Jot(t){var e=4,r=t.length,n=r%e;if(!n)return t;var i=r,o=e-n,a=r+o,s=Buffer.alloc(a);for(s.write(t);o--;)s.write("=",i++);return s.toString()}Oq.default=Jot});var Ghe=de(Mq=>{"use strict";Object.defineProperty(Mq,"__esModule",{value:!0});var Qot=Hhe();function zhe(t,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(t)?Nq(t.toString("base64")):Nq(Buffer.from(t,e).toString("base64"))}function Zot(t,e){return e===void 0&&(e="utf8"),Buffer.from(kq(t),"base64").toString(e)}function kq(t){return t=t.toString(),Qot.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function Nq(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xot(t){return Buffer.from(kq(t),"base64")}var dw=zhe;dw.encode=zhe;dw.decode=Zot;dw.toBase64=kq;dw.fromBase64=Nq;dw.toBuffer=Xot;Mq.default=dw});var fw=de((par,qO)=>{qO.exports=Ghe().default;qO.exports.default=qO.exports});var hT=de((pT,Bq)=>{(function(t,e){typeof pT=="object"&&typeof Bq=="object"?Bq.exports=e():typeof define=="function"&&define.amd?define([],e):typeof pT=="object"?pT.bowser=e():t.bowser=e()})(pT,(function(){return(function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var a in n)r.d(o,a,function(s){return n[s]}.bind(null,a));return o},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=90)})({17:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=r(18),i=(function(){function o(){}return o.getFirstMatch=function(a,s){var c=s.match(a);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(a,s){var c=s.match(a);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(a,s,c){if(a.test(s))return c},o.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(a){var s=a.split(".").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(a){var s=a.split(".").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},o.getVersionPrecision=function(a){return a.split(".").length},o.compareVersions=function(a,s,c){c===void 0&&(c=!1);var l=o.getVersionPrecision(a),u=o.getVersionPrecision(s),d=Math.max(l,u),f=0,p=o.map([a,s],(function(h){var b=d-o.getVersionPrecision(h),_=h+new Array(b+1).join(".0");return o.map(_.split("."),(function(A){return new Array(20-A.length).join("0")+A})).reverse()}));for(c&&(f=d-Math.min(l,u)),d-=1;d>=f;){if(p[0][d]>p[1][d])return 1;if(p[0][d]===p[1][d]){if(d===f)return 0;d-=1}else if(p[0][d]<p[1][d])return-1}},o.map=function(a,s){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(a,s);for(c=0;c<a.length;c+=1)l.push(s(a[c]));return l},o.find=function(a,s){var c,l;if(Array.prototype.find)return Array.prototype.find.call(a,s);for(c=0,l=a.length;c<l;c+=1){var u=a[c];if(s(u,c))return u}},o.assign=function(a){for(var s,c,l=a,u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];if(Object.assign)return Object.assign.apply(Object,[a].concat(d));var p=function(){var h=d[s];typeof h=="object"&&h!==null&&Object.keys(h).forEach((function(b){l[b]=h[b]}))};for(s=0,c=d.length;s<c;s+=1)p();return a},o.getBrowserAlias=function(a){return n.BROWSER_ALIASES_MAP[a]},o.getBrowserTypeByAlias=function(a){return n.BROWSER_MAP[a]||""},o})();e.default=i,t.exports=e.default},18:function(t,e,r){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18);function a(c,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}var s=(function(){function c(){}var l,u,d;return c.getParser=function(f,p){if(p===void 0&&(p=!1),typeof f!="string")throw new Error("UserAgent should be a string");return new i.default(f,p)},c.parse=function(f){return new i.default(f).getResult()},l=c,d=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(u=null)&&a(l.prototype,u),d&&a(l,d),c})();e.default=s,t.exports=e.default},91:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=c(r(92)),i=c(r(93)),o=c(r(94)),a=c(r(95)),s=c(r(17));function c(u){return u&&u.__esModule?u:{default:u}}var l=(function(){function u(f,p){if(p===void 0&&(p=!1),f==null||f==="")throw new Error("UserAgent parameter can't be empty");this._ua=f,this.parsedResult={},p!==!0&&this.parse()}var d=u.prototype;return d.getUA=function(){return this._ua},d.test=function(f){return f.test(this._ua)},d.parseBrowser=function(){var f=this;this.parsedResult.browser={};var p=s.default.find(n.default,(function(h){if(typeof h.test=="function")return h.test(f);if(Array.isArray(h.test))return h.test.some((function(b){return f.test(b)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},d.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},d.getBrowserName=function(f){return f?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},d.getBrowserVersion=function(){return this.getBrowser().version},d.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},d.parseOS=function(){var f=this;this.parsedResult.os={};var p=s.default.find(i.default,(function(h){if(typeof h.test=="function")return h.test(f);if(Array.isArray(h.test))return h.test.some((function(b){return f.test(b)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},d.getOSName=function(f){var p=this.getOS().name;return f?String(p).toLowerCase()||"":p||""},d.getOSVersion=function(){return this.getOS().version},d.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},d.getPlatformType=function(f){f===void 0&&(f=!1);var p=this.getPlatform().type;return f?String(p).toLowerCase()||"":p||""},d.parsePlatform=function(){var f=this;this.parsedResult.platform={};var p=s.default.find(o.default,(function(h){if(typeof h.test=="function")return h.test(f);if(Array.isArray(h.test))return h.test.some((function(b){return f.test(b)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},d.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},d.getEngineName=function(f){return f?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},d.parseEngine=function(){var f=this;this.parsedResult.engine={};var p=s.default.find(a.default,(function(h){if(typeof h.test=="function")return h.test(f);if(Array.isArray(h.test))return h.test.some((function(b){return f.test(b)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},d.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},d.getResult=function(){return s.default.assign({},this.parsedResult)},d.satisfies=function(f){var p=this,h={},b=0,_={},A=0;if(Object.keys(f).forEach((function(k){var O=f[k];typeof O=="string"?(_[k]=O,A+=1):typeof O=="object"&&(h[k]=O,b+=1)})),b>0){var C=Object.keys(h),R=s.default.find(C,(function(k){return p.isOS(k)}));if(R){var M=this.satisfies(h[R]);if(M!==void 0)return M}var U=s.default.find(C,(function(k){return p.isPlatform(k)}));if(U){var F=this.satisfies(h[U]);if(F!==void 0)return F}}if(A>0){var z=Object.keys(_),N=s.default.find(z,(function(k){return p.isBrowser(k,!0)}));if(N!==void 0)return this.compareVersion(_[N])}},d.isBrowser=function(f,p){p===void 0&&(p=!1);var h=this.getBrowserName().toLowerCase(),b=f.toLowerCase(),_=s.default.getBrowserTypeByAlias(b);return p&&_&&(b=_.toLowerCase()),b===h},d.compareVersion=function(f){var p=[0],h=f,b=!1,_=this.getBrowserVersion();if(typeof _=="string")return f[0]===">"||f[0]==="<"?(h=f.substr(1),f[1]==="="?(b=!0,h=f.substr(2)):p=[],f[0]===">"?p.push(1):p.push(-1)):f[0]==="="?h=f.substr(1):f[0]==="~"&&(b=!0,h=f.substr(1)),p.indexOf(s.default.compareVersions(_,h,b))>-1},d.isOS=function(f){return this.getOSName(!0)===String(f).toLowerCase()},d.isPlatform=function(f){return this.getPlatformType(!0)===String(f).toLowerCase()},d.isEngine=function(f){return this.getEngineName(!0)===String(f).toLowerCase()},d.is=function(f,p){return p===void 0&&(p=!1),this.isBrowser(f,p)||this.isOS(f)||this.isPlatform(f)},d.some=function(f){var p=this;return f===void 0&&(f=[]),f.some((function(h){return p.is(h)}))},u})();e.default=l,t.exports=e.default},92:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(s){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(s){var c={name:"Opera"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(s){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(s){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(s){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/PaleMoon/i],describe:function(s){var c={name:"Pale Moon"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(s){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(s){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(s){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(s){var c={name:"Opera Coast"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(s){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(s){var c={name:"UC Browser"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(s){var c={name:"Maxthon"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(s){var c={name:"Epiphany"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(s){var c={name:"Puffin"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(s){var c={name:"Sleipnir"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(s){var c={name:"K-Meleon"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(s){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(s){var c={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(s){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(s){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(s){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(s){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(s){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(s){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(s){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(s){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(s){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var c={name:"BlackBerry"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(s){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(s){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(s){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(s){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(s){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(s){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(s){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(s){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){var c=!s.test(/like android/i),l=s.test(/android/i);return c&&l},describe:function(s){var c={name:"Android Browser"},l=i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(s){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(s){var c={name:"Safari"},l=i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(s){var c=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,s),version:i.default.getSecondMatch(c,s)}}}];e.default=a,t.exports=e.default},93:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/Roku\/DVP/],describe:function(s){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(s){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(s){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),l=i.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var c={name:o.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(s){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),u={name:o.OS_MAP.MacOS,version:c};return l&&(u.versionName=l),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(s){var c=!s.test(/like android/i),l=s.test(/android/i);return c&&l},describe:function(s){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),l=i.default.getAndroidVersionName(c),u={name:o.OS_MAP.Android,version:c};return l&&(u.versionName=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),l={name:o.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||i.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(s){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(s){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.PlayStation4,version:c}}}];e.default=a,t.exports=e.default},94:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:o.PLATFORMS_MAP.bot,vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var c=i.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",l={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(s){var c=s.test(/ipod|iphone/i),l=s.test(/like (ipod|iphone)/i);return c&&!l},describe:function(s){var c=i.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe:function(s){var c=i.default.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,s),l={type:o.PLATFORMS_MAP.mobile,vendor:"Nokia"};return c&&(l.model=c),l}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var c=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=a,t.exports=e.default},95:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:o.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(s){var c={name:o.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){return s.test(/presto/i)},describe:function(s){var c={name:o.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){var c=s.test(/gecko/i),l=s.test(/like gecko/i);return c&&!l},describe:function(s){var c={name:o.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var c={name:o.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}}];e.default=a,t.exports=e.default}})}))});var jhe,zp,Dq=D(()=>{jhe=ve(Or()),zp=jhe.default.getLogger("customauth")});function Lq(t,e){return e?t:t.toLowerCase()}function pw(t){let e;try{e=window[t];let r="__storage_test__";return e.setItem(r,r),e.removeItem(r),!0}catch(r){let n=r;return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function yT(){let t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,r=1200,n=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=1,s=Math.abs((i-r)/2/a+t),c=Math.abs((o-n)/2/a+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${n/a},width=${r/a},top=${c},left=${s}`}function T5(t){let{baseURL:e,query:r,hash:n}=t,i=new URL(e);if(r&&Object.keys(r).forEach(o=>{i.searchParams.append(o,r[o])}),n){let o=new URL(T5({baseURL:e,query:n})).searchParams.toString();i.hash=o}return i.toString()}function $he(){let e=WO.default.getParser(navigator.userAgent).getPlatform();return e.type===WO.default.PLATFORMS_MAP.tablet||e.type===WO.default.PLATFORMS_MAP.mobile}function l2(t){return(t===Je.FACEBOOK||t===Je.LINE)&&$he()?1e3*30:1e3*1}function u2(t){let[e,r]=t.split(".");return{header:JSON.parse(YO.default.decode(e)),payload:JSON.parse(YO.default.decode(r))}}var YO,WO,mT,bT,s2,Uq,Gp,c2,Fq,_5=D(()=>{YO=ve(fw()),WO=ve(hT());a2();mT={[Je.APPLE]:"apple",[Je.GITHUB]:"github",[Je.LINKEDIN]:"linkedin",[Je.TWITTER]:"twitter",[Je.LINE]:"line",[Je.EMAIL_PASSWORDLESS]:"email",[Je.SMS_PASSWORDLESS]:"sms"},bT=t=>t.href.endsWith("/")?t.href:`${t.href}/`,s2=()=>Math.random().toString(36).slice(2),Uq={webWorkerSupport:!1};Gp=(t,e,r,n=!0)=>{let{name:i,sub:o}=t;if(r)return Lq(t[r],n);switch(e){case Je.EMAIL_PASSWORDLESS:case Je.SMS_PASSWORDLESS:case Je.AUTHENTICATOR:return Lq(i,n);case Je.GITHUB:case Je.TWITTER:case Je.APPLE:case Je.LINKEDIN:case Je.LINE:case Je.WECHAT:case Je.KAKAO:case Je.FARCASTER:case Je.CUSTOM:return Lq(o,n);default:throw new Error("Invalid login type to get auth connection id")}};c2=t=>{try{return new URL(decodeURIComponent(t))}catch(e){throw new Error(`${e?.message||""}, Note: Your jwt domain: (i.e ${t}) must have http:// or https:// prefix`)}},Fq=t=>JSON.parse(YO.default.decode(t))});var Da=de((yar,Hq)=>{"use strict";var hw=typeof Reflect=="object"?Reflect:null,Vhe=hw&&typeof hw.apply=="function"?hw.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},JO;hw&&typeof hw.ownKeys=="function"?JO=hw.ownKeys:Object.getOwnPropertySymbols?JO=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:JO=function(e){return Object.getOwnPropertyNames(e)};function eat(t){console&&console.warn&&console.warn(t)}var qhe=Number.isNaN||function(e){return e!==e};function ri(){ri.init.call(this)}Hq.exports=ri;Hq.exports.once=iat;ri.EventEmitter=ri;ri.prototype._events=void 0;ri.prototype._eventsCount=0;ri.prototype._maxListeners=void 0;var Khe=10;function QO(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ri,"defaultMaxListeners",{enumerable:!0,get:function(){return Khe},set:function(t){if(typeof t!="number"||t<0||qhe(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Khe=t}});ri.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ri.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||qhe(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Whe(t){return t._maxListeners===void 0?ri.defaultMaxListeners:t._maxListeners}ri.prototype.getMaxListeners=function(){return Whe(this)};ri.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")Vhe(c,this,r);else for(var l=c.length,u=Xhe(c,l),n=0;n<l;++n)Vhe(u[n],this,r);return!0};function Yhe(t,e,r,n){var i,o,a;if(QO(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),a===void 0)a=o[e]=r,++t._eventsCount;else if(typeof a=="function"?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=Whe(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,eat(s)}return t}ri.prototype.addListener=function(e,r){return Yhe(this,e,r,!1)};ri.prototype.on=ri.prototype.addListener;ri.prototype.prependListener=function(e,r){return Yhe(this,e,r,!0)};function tat(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Jhe(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=tat.bind(n);return i.listener=r,n.wrapFn=i,i}ri.prototype.once=function(e,r){return QO(r),this.on(e,Jhe(this,e,r)),this};ri.prototype.prependOnceListener=function(e,r){return QO(r),this.prependListener(e,Jhe(this,e,r)),this};ri.prototype.removeListener=function(e,r){var n,i,o,a,s;if(QO(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){s=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():rat(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,s||r)}return this};ri.prototype.off=ri.prototype.removeListener;ri.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Qhe(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?nat(i):Xhe(i,i.length)}ri.prototype.listeners=function(e){return Qhe(this,e,!0)};ri.prototype.rawListeners=function(e){return Qhe(this,e,!1)};ri.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Zhe.call(t,e)};ri.prototype.listenerCount=Zhe;function Zhe(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ri.prototype.eventNames=function(){return this._eventsCount>0?JO(this._events):[]};function Xhe(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function rat(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function nat(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function iat(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,o),n(a)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}e5e(t,e,o,{once:!0}),e!=="error"&&oat(t,i,{once:!0})})}function oat(t,e,r){typeof t.on=="function"&&e5e(t,"error",e,r)}function e5e(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var t5e,Rd,gT=D(()=>{Ye();t5e=ve(Da());_5();Rd=class extends t5e.EventEmitter{constructor({url:e,target:r,features:n,timeout:i=3e4}){super(),V(this,"url",void 0),V(this,"target",void 0),V(this,"features",void 0),V(this,"window",void 0),V(this,"windowTimer",void 0),V(this,"iClosedWindow",void 0),V(this,"timeout",void 0),this.url=e,this.target=r||"_blank",this.features=n||yT(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw new Error("popup window is blocked");return(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}});function n5e(t){return!!(t&&typeof t.then=="function")}function mw(t,e){return t||(t=0),new Promise(r=>{setTimeout(()=>r(e),t)})}function i5e(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function S5(){return Math.random().toString(36).substring(2)}function k0(){let t=Date.now()*1e3;return t<=zq&&(t=zq+1),zq=t,t}var r5e,vu,zq,Us,I5=D(()=>{r5e=ve(Or());Promise.resolve(!1);Promise.resolve(!0);vu=Promise.resolve();zq=0;Us=r5e.default.getLogger("broadcast-channel");Us.setLevel("error")});function aat(t){let e=o5e()-t.ttl,r=t.map[Symbol.iterator]();for(;;){let n=r.next().value;if(!n)return;let i=n[0];if(n[1]<e)t.map.delete(i);else return}}function o5e(){return Date.now()}var C5,ZO=D(()=>{C5=class{ttl;map=new Map;_to=!1;constructor(e){this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,o5e()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,aat(this)},0))}clear(){this.map.clear()}}});var vi,R5,sat,cat,lat,uat,dat,Gq,jq,a5e=D(()=>{vi={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},R5={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},sat={[vi.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[vi.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[vi.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[vi.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[vi.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},cat={[vi.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:R5.SAPPHIRE_MAINNET},[vi.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:R5.SAPPHIRE_MAINNET},[vi.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:R5.SAPPHIRE_MAINNET},[vi.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:R5.SAPPHIRE_MAINNET},[vi.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:R5.SAPPHIRE_DEVNET}},lat={[vi.MAINNET]:"mainnet",[vi.TESTNET]:"goerli",[vi.CYAN]:"polygon-mainnet",[vi.AQUA]:"polygon-mainnet",[vi.CELESTE]:"polygon-mainnet"},uat={[R5.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[R5.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[vi.MAINNET]:"https://api.web3auth.io/signer-service",[vi.TESTNET]:"https://api.web3auth.io/signer-service",[vi.CYAN]:"https://api.web3auth.io/signer-polygon-service",[vi.AQUA]:"https://api.web3auth.io/signer-polygon-service",[vi.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},dat={[vi.MAINNET]:"https://api.web3auth.io/metadata-service",[vi.TESTNET]:"https://api.web3auth.io/metadata-service",[vi.CYAN]:"https://api.web3auth.io/metadata-service",[vi.AQUA]:"https://api.web3auth.io/metadata-service",[vi.CELESTE]:"https://api.web3auth.io/metadata-service"},Gq="https://api.web3auth.io/session-service",jq="https://session.web3auth.io"});var s5e=D(()=>{a5e()});function P5(t={}){let e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),e.server||(e.server={}),e.server.api_url||(e.server.api_url=`${Gq}/v2`),e.server.socket_url||(e.server.socket_url=`${jq}`),e.server.removeTimeout||(e.server.removeTimeout=1e3*60*5),t.methods&&(e.methods=t.methods),e}var wT=D(()=>{s5e()});var ET={};lr(ET,{TRANSACTION_SETTINGS:()=>bw,averageResponseTime:()=>xat,canBeUsed:()=>Eat,cleanOldMessages:()=>p5e,close:()=>gat,commitIndexedDBTransaction:()=>vT,create:()=>bat,createDatabase:()=>c5e,getAllMessages:()=>mat,getIdb:()=>$q,getMessagesHigherThan:()=>u5e,getOldMessages:()=>f5e,microSeconds:()=>fat,onMessage:()=>vat,postMessage:()=>wat,removeMessagesById:()=>d5e,type:()=>hat,writeMessage:()=>l5e});function $q(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){let t=window;if(typeof t.mozIndexedDB<"u")return t.mozIndexedDB;if(typeof t.webkitIndexedDB<"u")return t.webkitIndexedDB;if(typeof t.msIndexedDB<"u")return t.msIndexedDB}return!1}function vT(t){t.commit&&t.commit()}function c5e(t){let e=$q();if(!e)return Promise.reject(new Error("IndexedDB not available"));let r=pat+t,n=e.open(r);return n.onupgradeneeded=o=>{o.target.result.createObjectStore(Pd,{keyPath:"id",autoIncrement:!0})},new Promise((o,a)=>{n.onerror=s=>a(s),n.onsuccess=()=>{o(n.result)}})}function l5e(t,e,r){let n=Date.now(),i={uuid:e,time:n,data:r},o=t.transaction([Pd],"readwrite",bw);return new Promise((a,s)=>{o.oncomplete=()=>a(),o.onerror=l=>s(l),o.objectStore(Pd).add(i),vT(o)})}function mat(t){let e=t.transaction(Pd,"readonly",bw),r=e.objectStore(Pd),n=[];return new Promise(i=>{r.openCursor().onsuccess=o=>{let a=o.target.result;a?(n.push(a.value),a.continue()):(vT(e),i(n))}})}function u5e(t,e){let r=t.transaction(Pd,"readonly",bw),n=r.objectStore(Pd),i=[],o=IDBKeyRange.bound(e+1,1/0);if(n.getAll){let s=n.getAll(o);return new Promise((c,l)=>{s.onerror=u=>l(u),s.onsuccess=function(u){c(u.target.result)}})}function a(){try{return o=IDBKeyRange.bound(e+1,1/0),n.openCursor(o)}catch{return n.openCursor()}}return new Promise((s,c)=>{let l=a();l.onerror=u=>c(u),l.onsuccess=u=>{let d=u.target.result;d?d.value.id<e+1?d.continue(e+1):(i.push(d.value),d.continue()):(vT(r),s(i))}})}function d5e(t,e){let n=t.transaction([Pd],"readwrite",bw).objectStore(Pd);return Promise.all(e.map(i=>{let o=n.delete(i);return new Promise(a=>{o.onsuccess=()=>a()})}))}function f5e(t,e){let r=Date.now()-e,n=t.transaction(Pd,"readonly",bw),i=n.objectStore(Pd),o=[];return new Promise(a=>{i.openCursor().onsuccess=s=>{let c=s.target.result;if(c){let l=c.value;l.time<r?(o.push(l),c.continue()):(vT(n),a(o))}else a(o)}})}function p5e(t,e){return f5e(t,e).then(r=>d5e(t,r.map(n=>n.id)))}function bat(t,e){return e=P5(e),c5e(t).then(r=>{let n={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:S5(),eMIs:new C5(e.idb.ttl*2),writeBlockPromise:vu,messagesCallback:null,readQueuePromises:[],db:r,time:k0()};return r.onclose=function(){n.closed=!0,e.idb.onclose&&e.idb.onclose()},h5e(n),n})}function h5e(t){t.closed||m5e(t).then(()=>mw(t.options.idb.fallbackInterval)).then(()=>h5e(t)).catch(e=>{throw e})}function yat(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function m5e(t){return t.closed?vu:t.messagesCallback?u5e(t.db,t.lastCursorId).then(e=>(e.filter(n=>!!n).map(n=>(n.id>t.lastCursorId&&(t.lastCursorId=n.id),n)).filter(n=>yat(n,t)).sort((n,i)=>n.time-i.time).forEach(n=>{t.messagesCallback&&(t.eMIs.add(n.id),t.messagesCallback(n.data))}),vu)):vu}function gat(t){t.closed=!0,t.db.close()}function wat(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(()=>l5e(t.db,t.uuid,e)).then(()=>(i5e(0,10)===0&&p5e(t.db,t.options.idb.ttl),vu)),t.writeBlockPromise}function vat(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e,m5e(t)}function Eat(){return!!$q()}function xat(t){return t.idb.fallbackInterval*2}var fat,pat,Pd,bw,hat,Vq=D(()=>{I5();ZO();wT();fat=k0,pat="pubkey.broadcast-channel-0-",Pd="messages",bw={durability:"relaxed"},hat="idb"});var xT={};lr(xT,{addStorageEventListener:()=>b5e,averageResponseTime:()=>Rat,canBeUsed:()=>g5e,close:()=>Iat,create:()=>Sat,getLocalStorage:()=>qq,microSeconds:()=>Aat,onMessage:()=>Cat,postMessage:()=>_at,removeStorageEventListener:()=>y5e,storageKey:()=>Wq,type:()=>Kq});function qq(){let t=null;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function Wq(t){return Tat+t}function _at(t,e){return new Promise((r,n)=>{mw().then(()=>{var i;let o=Wq(t.channelName),a={token:S5(),time:Date.now(),data:e,uuid:t.uuid},s=JSON.stringify(a);(i=qq())===null||i===void 0||i.setItem(o,s);let c=document.createEvent("StorageEvent");c.initStorageEvent("storage",!0,!0,o,null,s,"",null),window.dispatchEvent(c),r()}).catch(n)})}function b5e(t,e){let r=Wq(t),n=i=>{i.key===r&&i.newValue&&e(JSON.parse(i.newValue))};return window.addEventListener("storage",n),n}function y5e(t){window.removeEventListener("storage",t)}function g5e(){let t=qq();if(!t)return!1;try{let e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function Sat(t,e){let r=P5(e);if(!g5e())throw new Error("BroadcastChannel: localstorage cannot be used");let n=S5(),i=new C5(r.localstorage.removeTimeout),o={channelName:t,uuid:n,time:k0(),eMIs:i};return o.listener=b5e(t,a=>{o.messagesCallback&&a.uuid!==n&&(!a.token||i.has(a.token)||a.data.time&&a.data.time<(o.messagesCallbackTime||0)||(i.add(a.token),o.messagesCallback(a.data)))}),o}function Iat(t){t.listener&&y5e(t.listener)}function Cat(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e}function Rat(){let e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120}var Aat,Tat,Kq,XO=D(()=>{ZO();wT();I5();Aat=k0,Tat="pubkey.broadcastChannel-",Kq="localstorage"});var AT={};lr(AT,{averageResponseTime:()=>Dat,canBeUsed:()=>Bat,close:()=>Nat,create:()=>Oat,microSeconds:()=>Pat,onMessage:()=>Mat,postMessage:()=>kat,type:()=>Yq});function Oat(t){let e={time:k0(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=r=>{e.messagesCallback&&e.messagesCallback(r.data)},e}function Nat(t){t.bc.close(),t.subFns=[]}function kat(t,e){try{return t.bc.postMessage(e),vu}catch(r){return Promise.reject(r)}}function Mat(t,e){t.messagesCallback=e}function Bat(){if(typeof window>"u")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1}function Dat(){return 150}var Pat,Yq,eN=D(()=>{I5();Pat=k0,Yq="native"});function dl(t,e){if(!t)throw new Error(e||"Assertion failed")}function Fat(t){return Buffer.isBuffer(t)&&t.length===32}function _T(t){return Fat(t)?t.compare(Uat)>0&&t.compare(Lat)<0:!1}function Hat(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function TT(t){if(typeof fl.getRandomValues>"u")return Buffer.from(fl.randomBytes(t));let e=new Uint8Array(t);return fl.getRandomValues(e),Buffer.from(e)}async function v5e(t){if(!fl.createHash){let n=await O5.digest("SHA-512",t);return new Uint8Array(n)}let r=fl.createHash("sha512").update(t).digest();return new Uint8Array(r)}function E5e(t){return async function(e,r,n){if(O5&&O5[t]&&O5.importKey){let i={name:"AES-CBC"},o=await O5.importKey("raw",r,i,!1,[t]),a={name:"AES-CBC",iv:e},s=await O5[t](a,o,n);return Buffer.from(new Uint8Array(s))}else if(t==="encrypt"&&fl.createCipheriv){let i=fl.createCipheriv("aes-256-cbc",r,e),o=i.update(n),a=i.final();return Buffer.concat([o,a])}else if(t==="decrypt"&&fl.createDecipheriv){let i=fl.createDecipheriv("aes-256-cbc",r,e),o=i.update(n),a=i.final();return Buffer.concat([o,a])}throw new Error(`Unsupported operation: ${t}`)}}async function x5e(t,e){if(!fl.createHmac){let i={name:"HMAC",hash:{name:"SHA-256"}},o=await O5.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),a=await O5.sign("HMAC",o,e);return Buffer.from(new Uint8Array(a))}let r=fl.createHmac("sha256",Buffer.from(t));return r.update(e),r.digest()}async function jat(t,e,r){let n=await x5e(t,e);return Hat(n,r)}var w5e,tN,fl,O5,Lat,Uat,zat,Gat,A5e,Od,yw,T5e,_5e,Jq,rN=D(()=>{w5e=ve(uT()),tN=new w5e.ec("secp256k1"),fl=globalThis.crypto||globalThis.msCrypto||{},O5=fl.subtle||fl.webkitSubtle,Lat=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Uat=Buffer.alloc(32,0);zat=E5e("encrypt"),Gat=E5e("decrypt");A5e=function(){let t=TT(32);for(;!_T(t);)t=TT(32);return t},Od=function(t){return dl(t.length===32,"Bad private key"),dl(_T(t),"Bad private key"),Buffer.from(tN.keyFromPrivate(t).getPublic("array"))},yw=async function(t,e){return dl(t.length===32,"Bad private key"),dl(_T(t),"Bad private key"),dl(e.length>0,"Message should not be empty"),dl(e.length<=32,"Message is too long"),Buffer.from(tN.sign(e,t,{canonical:!0}).toDER())},T5e=async function(t,e,r){dl(Buffer.isBuffer(t),"Bad private key"),dl(Buffer.isBuffer(e),"Bad public key"),dl(t.length===32,"Bad private key"),dl(_T(t),"Bad private key"),dl(e.length===65||e.length===33,"Bad public key"),e.length===65&&dl(e[0]===4,"Bad public key"),e.length===33&&dl(e[0]===2||e[0]===3,"Bad public key");let n=tN.keyFromPrivate(t),i=tN.keyFromPublic(e),o=n.derive(i.getPublic());return r?Buffer.from(o.toString(16,64),"hex"):Buffer.from(o.toArray())},_5e=async function(t,e,r){r=r||{};let n=r.ephemPrivateKey||TT(32);for(;!_T(n);)n=r.ephemPrivateKey||TT(32);let i=Od(n),o=await T5e(n,t,r.padding),a=await v5e(o),s=r.iv||TT(16),c=a.slice(0,32),l=a.slice(32),d=await zat(s,Buffer.from(c),e),f=Buffer.concat([s,i,d]),p=await x5e(Buffer.from(l),f);return{iv:s,ephemPublicKey:i,ciphertext:d,mac:p}},Jq=async function(t,e,r){let n=await T5e(t,e.ephemPublicKey,r),i=await v5e(n),o=i.slice(0,32),a=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),c=await jat(Buffer.from(a),s,e.mac);if(!c&&!r)return Jq(t,e,!0);if(!c&&r===!0)throw new Error("bad MAC after trying padded");let l=await Gat(e.iv,Buffer.from(o),e.ciphertext);return Buffer.from(new Uint8Array(l))}});var P5e=de((Gar,R5e)=>{"use strict";var nN,Sr,S5e={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Qq;function N5(t){throw{name:"SyntaxError",message:t,at:nN,text:Qq}}function _n(t){return t&&t!==Sr&&N5("Expected '"+t+"' instead of '"+Sr+"'"),Sr=Qq.charAt(nN),nN+=1,Sr}function I5e(){var t,e="";for(Sr==="-"&&(e="-",_n("-"));Sr>="0"&&Sr<="9";)e+=Sr,_n();if(Sr===".")for(e+=".";_n()&&Sr>="0"&&Sr<="9";)e+=Sr;if(Sr==="e"||Sr==="E")for(e+=Sr,_n(),(Sr==="-"||Sr==="+")&&(e+=Sr,_n());Sr>="0"&&Sr<="9";)e+=Sr,_n();return t=Number(e),isFinite(t)||N5("Bad number"),t}function C5e(){var t,e,r="",n;if(Sr==='"')for(;_n();){if(Sr==='"')return _n(),r;if(Sr==="\\")if(_n(),Sr==="u"){for(n=0,e=0;e<4&&(t=parseInt(_n(),16),!!isFinite(t));e+=1)n=n*16+t;r+=String.fromCharCode(n)}else if(typeof S5e[Sr]=="string")r+=S5e[Sr];else break;else r+=Sr}N5("Bad string")}function jp(){for(;Sr&&Sr<=" ";)_n()}function $at(){switch(Sr){case"t":return _n("t"),_n("r"),_n("u"),_n("e"),!0;case"f":return _n("f"),_n("a"),_n("l"),_n("s"),_n("e"),!1;case"n":return _n("n"),_n("u"),_n("l"),_n("l"),null;default:N5("Unexpected '"+Sr+"'")}}function Vat(){var t=[];if(Sr==="["){if(_n("["),jp(),Sr==="]")return _n("]"),t;for(;Sr;){if(t.push(iN()),jp(),Sr==="]")return _n("]"),t;_n(","),jp()}}N5("Bad array")}function Kat(){var t,e={};if(Sr==="{"){if(_n("{"),jp(),Sr==="}")return _n("}"),e;for(;Sr;){if(t=C5e(),jp(),_n(":"),Object.prototype.hasOwnProperty.call(e,t)&&N5('Duplicate key "'+t+'"'),e[t]=iN(),jp(),Sr==="}")return _n("}"),e;_n(","),jp()}}N5("Bad object")}function iN(){switch(jp(),Sr){case"{":return Kat();case"[":return Vat();case'"':return C5e();case"-":return I5e();default:return Sr>="0"&&Sr<="9"?I5e():$at()}}R5e.exports=function(t,e){var r;return Qq=t,nN=0,Sr=" ",r=iN(),jp(),Sr&&N5("Syntax error"),typeof e=="function"?(function n(i,o){var a,s,c=i[o];if(c&&typeof c=="object")for(a in iN)Object.prototype.hasOwnProperty.call(c,a)&&(s=n(c,a),typeof s>"u"?delete c[a]:c[a]=s);return e.call(i,o,c)})({"":r},""):r}});var N5e=de((jar,O5e)=>{"use strict";var Zq=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,pl,oN,qat={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},d2;function Xq(t){return Zq.lastIndex=0,Zq.test(t)?'"'+t.replace(Zq,function(e){var r=qat[e];return typeof r=="string"?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function aN(t,e){var r,n,i,o,a=pl,s,c=e[t];switch(c&&typeof c=="object"&&typeof c.toJSON=="function"&&(c=c.toJSON(t)),typeof d2=="function"&&(c=d2.call(e,t,c)),typeof c){case"string":return Xq(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(pl+=oN,s=[],Object.prototype.toString.apply(c)==="[object Array]"){for(o=c.length,r=0;r<o;r+=1)s[r]=aN(r,c)||"null";return i=s.length===0?"[]":pl?`[
`+pl+s.join(`,
`+pl)+`
`+a+"]":"["+s.join(",")+"]",pl=a,i}if(d2&&typeof d2=="object")for(o=d2.length,r=0;r<o;r+=1)n=d2[r],typeof n=="string"&&(i=aN(n,c),i&&s.push(Xq(n)+(pl?": ":":")+i));else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(i=aN(n,c),i&&s.push(Xq(n)+(pl?": ":":")+i));return i=s.length===0?"{}":pl?`{
`+pl+s.join(`,
`+pl)+`
`+a+"}":"{"+s.join(",")+"}",pl=a,i;default:}}O5e.exports=function(t,e,r){var n;if(pl="",oN="",typeof r=="number")for(n=0;n<r;n+=1)oN+=" ";else typeof r=="string"&&(oN=r);if(d2=e,e&&typeof e!="function"&&(typeof e!="object"||typeof e.length!="number"))throw new Error("JSON.stringify");return aN("",{"":t})}});var k5e=de(eW=>{"use strict";eW.parse=P5e();eW.stringify=N5e()});var B5e=de((Var,M5e)=>{var Wat={}.toString;M5e.exports=Array.isArray||function(t){return Wat.call(t)=="[object Array]"}});var tW=de((Kar,L5e)=>{"use strict";var D5e=Object.prototype.toString;L5e.exports=function(e){var r=D5e.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&D5e.call(e.callee)==="[object Function]"),n}});var K5e=de((qar,V5e)=>{"use strict";var $5e;Object.keys||(ST=Object.prototype.hasOwnProperty,rW=Object.prototype.toString,U5e=tW(),nW=Object.prototype.propertyIsEnumerable,F5e=!nW.call({toString:null},"toString"),H5e=nW.call(function(){},"prototype"),IT=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],sN=function(t){var e=t.constructor;return e&&e.prototype===t},z5e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},G5e=(function(){if(typeof window>"u")return!1;for(var t in window)try{if(!z5e["$"+t]&&ST.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{sN(window[t])}catch{return!0}}catch{return!0}return!1})(),j5e=function(t){if(typeof window>"u"||!G5e)return sN(t);try{return sN(t)}catch{return!1}},$5e=function(e){var r=e!==null&&typeof e=="object",n=rW.call(e)==="[object Function]",i=U5e(e),o=r&&rW.call(e)==="[object String]",a=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var s=H5e&&n;if(o&&e.length>0&&!ST.call(e,0))for(var c=0;c<e.length;++c)a.push(String(c));if(i&&e.length>0)for(var l=0;l<e.length;++l)a.push(String(l));else for(var u in e)!(s&&u==="prototype")&&ST.call(e,u)&&a.push(String(u));if(F5e)for(var d=j5e(e),f=0;f<IT.length;++f)!(d&&IT[f]==="constructor")&&ST.call(e,IT[f])&&a.push(IT[f]);return a});var ST,rW,U5e,nW,F5e,H5e,IT,sN,z5e,G5e,j5e;V5e.exports=$5e});var J5e=de((War,Y5e)=>{"use strict";var Yat=Array.prototype.slice,Jat=tW(),q5e=Object.keys,cN=q5e?function(e){return q5e(e)}:K5e(),W5e=Object.keys;cN.shim=function(){if(Object.keys){var e=(function(){var r=Object.keys(arguments);return r&&r.length===arguments.length})(1,2);e||(Object.keys=function(n){return Jat(n)?W5e(Yat.call(n)):W5e(n)})}else Object.keys=cN;return Object.keys||cN};Y5e.exports=cN});var iW=de((Yar,Q5e)=>{"use strict";Q5e.exports=Object});var X5e=de((Jar,Z5e)=>{"use strict";Z5e.exports=Error});var tme=de((Qar,eme)=>{"use strict";eme.exports=EvalError});var nme=de((Zar,rme)=>{"use strict";rme.exports=RangeError});var ome=de((Xar,ime)=>{"use strict";ime.exports=ReferenceError});var oW=de((esr,ame)=>{"use strict";ame.exports=SyntaxError});var CT=de((tsr,sme)=>{"use strict";sme.exports=TypeError});var lme=de((rsr,cme)=>{"use strict";cme.exports=URIError});var dme=de((nsr,ume)=>{"use strict";ume.exports=Math.abs});var pme=de((isr,fme)=>{"use strict";fme.exports=Math.floor});var mme=de((osr,hme)=>{"use strict";hme.exports=Math.max});var yme=de((asr,bme)=>{"use strict";bme.exports=Math.min});var wme=de((ssr,gme)=>{"use strict";gme.exports=Math.pow});var Eme=de((csr,vme)=>{"use strict";vme.exports=Math.round});var Ame=de((lsr,xme)=>{"use strict";xme.exports=Number.isNaN||function(e){return e!==e}});var _me=de((usr,Tme)=>{"use strict";var Qat=Ame();Tme.exports=function(e){return Qat(e)||e===0?e:e<0?-1:1}});var Ime=de((dsr,Sme)=>{"use strict";Sme.exports=Object.getOwnPropertyDescriptor});var RT=de((fsr,Cme)=>{"use strict";var lN=Ime();if(lN)try{lN([],"length")}catch{lN=null}Cme.exports=lN});var PT=de((psr,Rme)=>{"use strict";var uN=Object.defineProperty||!1;if(uN)try{uN({},"a",{value:1})}catch{uN=!1}Rme.exports=uN});var Ome=de((hsr,Pme)=>{"use strict";Pme.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var Mme=de((msr,kme)=>{"use strict";var Nme=typeof Symbol<"u"&&Symbol,Zat=Ome();kme.exports=function(){return typeof Nme!="function"||typeof Symbol!="function"||typeof Nme("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Zat()}});var aW=de((bsr,Bme)=>{"use strict";Bme.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var sW=de((ysr,Dme)=>{"use strict";var Xat=iW();Dme.exports=Xat.getPrototypeOf||null});var Fme=de((gsr,Ume)=>{"use strict";var est="Function.prototype.bind called on incompatible ",tst=Object.prototype.toString,rst=Math.max,nst="[object Function]",Lme=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},ist=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},ost=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};Ume.exports=function(e){var r=this;if(typeof r!="function"||tst.apply(r)!==nst)throw new TypeError(est+r);for(var n=ist(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,Lme(n,arguments));return Object(u)===u?u:this}return r.apply(e,Lme(n,arguments))},a=rst(0,r.length-n.length),s=[],c=0;c<a;c++)s[c]="$"+c;if(i=Function("binder","return function ("+ost(s,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var gw=de((wsr,Hme)=>{"use strict";var ast=Fme();Hme.exports=Function.prototype.bind||ast});var dN=de((vsr,zme)=>{"use strict";zme.exports=Function.prototype.call});var fN=de((Esr,Gme)=>{"use strict";Gme.exports=Function.prototype.apply});var $me=de((xsr,jme)=>{"use strict";jme.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var cW=de((Asr,Vme)=>{"use strict";var sst=gw(),cst=fN(),lst=dN(),ust=$me();Vme.exports=ust||sst.call(lst,cst)});var pN=de((Tsr,Kme)=>{"use strict";var dst=gw(),fst=CT(),pst=dN(),hst=cW();Kme.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new fst("a function is required");return hst(dst,pst,e)}});var Zme=de((_sr,Qme)=>{"use strict";var mst=pN(),qme=RT(),Yme;try{Yme=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var lW=!!Yme&&qme&&qme(Object.prototype,"__proto__"),Jme=Object,Wme=Jme.getPrototypeOf;Qme.exports=lW&&typeof lW.get=="function"?mst([lW.get]):typeof Wme=="function"?function(e){return Wme(e==null?e:Jme(e))}:!1});var nbe=de((Ssr,rbe)=>{"use strict";var Xme=aW(),ebe=sW(),tbe=Zme();rbe.exports=Xme?function(e){return Xme(e)}:ebe?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return ebe(e)}:tbe?function(e){return tbe(e)}:null});var obe=de((Isr,ibe)=>{"use strict";var bst=Function.prototype.call,yst=Object.prototype.hasOwnProperty,gst=gw();ibe.exports=gst.call(bst,yst)});var fW=de((Csr,dbe)=>{"use strict";var en,wst=iW(),vst=X5e(),Est=tme(),xst=nme(),Ast=ome(),xw=oW(),Ew=CT(),Tst=lme(),_st=dme(),Sst=pme(),Ist=mme(),Cst=yme(),Rst=wme(),Pst=Eme(),Ost=_me(),lbe=Function,uW=function(t){try{return lbe('"use strict"; return ('+t+").constructor;")()}catch{}},OT=RT(),Nst=PT(),dW=function(){throw new Ew},kst=OT?(function(){try{return arguments.callee,dW}catch{try{return OT(arguments,"callee").get}catch{return dW}}})():dW,ww=Mme()(),La=nbe(),Mst=sW(),Bst=aW(),ube=fN(),NT=dN(),vw={},Dst=typeof Uint8Array>"u"||!La?en:La(Uint8Array),f2={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?en:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?en:ArrayBuffer,"%ArrayIteratorPrototype%":ww&&La?La([][Symbol.iterator]()):en,"%AsyncFromSyncIteratorPrototype%":en,"%AsyncFunction%":vw,"%AsyncGenerator%":vw,"%AsyncGeneratorFunction%":vw,"%AsyncIteratorPrototype%":vw,"%Atomics%":typeof Atomics>"u"?en:Atomics,"%BigInt%":typeof BigInt>"u"?en:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?en:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?en:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?en:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":vst,"%eval%":eval,"%EvalError%":Est,"%Float16Array%":typeof Float16Array>"u"?en:Float16Array,"%Float32Array%":typeof Float32Array>"u"?en:Float32Array,"%Float64Array%":typeof Float64Array>"u"?en:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?en:FinalizationRegistry,"%Function%":lbe,"%GeneratorFunction%":vw,"%Int8Array%":typeof Int8Array>"u"?en:Int8Array,"%Int16Array%":typeof Int16Array>"u"?en:Int16Array,"%Int32Array%":typeof Int32Array>"u"?en:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ww&&La?La(La([][Symbol.iterator]())):en,"%JSON%":typeof JSON=="object"?JSON:en,"%Map%":typeof Map>"u"?en:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ww||!La?en:La(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":wst,"%Object.getOwnPropertyDescriptor%":OT,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?en:Promise,"%Proxy%":typeof Proxy>"u"?en:Proxy,"%RangeError%":xst,"%ReferenceError%":Ast,"%Reflect%":typeof Reflect>"u"?en:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?en:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ww||!La?en:La(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?en:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ww&&La?La(""[Symbol.iterator]()):en,"%Symbol%":ww?Symbol:en,"%SyntaxError%":xw,"%ThrowTypeError%":kst,"%TypedArray%":Dst,"%TypeError%":Ew,"%Uint8Array%":typeof Uint8Array>"u"?en:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?en:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?en:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?en:Uint32Array,"%URIError%":Tst,"%WeakMap%":typeof WeakMap>"u"?en:WeakMap,"%WeakRef%":typeof WeakRef>"u"?en:WeakRef,"%WeakSet%":typeof WeakSet>"u"?en:WeakSet,"%Function.prototype.call%":NT,"%Function.prototype.apply%":ube,"%Object.defineProperty%":Nst,"%Object.getPrototypeOf%":Mst,"%Math.abs%":_st,"%Math.floor%":Sst,"%Math.max%":Ist,"%Math.min%":Cst,"%Math.pow%":Rst,"%Math.round%":Pst,"%Math.sign%":Ost,"%Reflect.getPrototypeOf%":Bst};if(La)try{null.error}catch(t){abe=La(La(t)),f2["%Error.prototype%"]=abe}var abe,Lst=function t(e){var r;if(e==="%AsyncFunction%")r=uW("async function () {}");else if(e==="%GeneratorFunction%")r=uW("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=uW("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&La&&(r=La(i.prototype))}return f2[e]=r,r},sbe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},kT=gw(),hN=obe(),Ust=kT.call(NT,Array.prototype.concat),Fst=kT.call(ube,Array.prototype.splice),cbe=kT.call(NT,String.prototype.replace),mN=kT.call(NT,String.prototype.slice),Hst=kT.call(NT,RegExp.prototype.exec),zst=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Gst=/\\(\\)?/g,jst=function(e){var r=mN(e,0,1),n=mN(e,-1);if(r==="%"&&n!=="%")throw new xw("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new xw("invalid intrinsic syntax, expected opening `%`");var i=[];return cbe(e,zst,function(o,a,s,c){i[i.length]=s?cbe(c,Gst,"$1"):a||o}),i},$st=function(e,r){var n=e,i;if(hN(sbe,n)&&(i=sbe[n],n="%"+i[0]+"%"),hN(f2,n)){var o=f2[n];if(o===vw&&(o=Lst(n)),typeof o>"u"&&!r)throw new Ew("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new xw("intrinsic "+e+" does not exist!")};dbe.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Ew("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ew('"allowMissing" argument must be a boolean');if(Hst(/^%?[^%]*%?$/,e)===null)throw new xw("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=jst(e),i=n.length>0?n[0]:"",o=$st("%"+i+"%",r),a=o.name,s=o.value,c=!1,l=o.alias;l&&(i=l[0],Fst(n,Ust([0,1],l)));for(var u=1,d=!0;u<n.length;u+=1){var f=n[u],p=mN(f,0,1),h=mN(f,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new xw("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(c=!0),i+="."+f,a="%"+i+"%",hN(f2,a))s=f2[a];else if(s!=null){if(!(f in s)){if(!r)throw new Ew("base intrinsic for "+e+" exists, but the property is not available.");return}if(OT&&u+1>=n.length){var b=OT(s,f);d=!!b,d&&"get"in b&&!("originalValue"in b.get)?s=b.get:s=s[f]}else d=hN(s,f),s=s[f];d&&!c&&(f2[a]=s)}}return s}});var mbe=de((Rsr,hbe)=>{"use strict";var fbe=PT(),Vst=oW(),Aw=CT(),pbe=RT();hbe.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Aw("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Aw("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Aw("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Aw("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Aw("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Aw("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!pbe&&pbe(e,r);if(fbe)fbe(e,r,{configurable:a===null&&c?c.configurable:!a,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:o===null&&c?c.writable:!o});else if(s||!i&&!o&&!a)e[r]=n;else throw new Vst("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var gbe=de((Psr,ybe)=>{"use strict";var pW=PT(),bbe=function(){return!!pW};bbe.hasArrayLengthDefineBug=function(){if(!pW)return null;try{return pW([],"length",{value:1}).length!==1}catch{return!0}};ybe.exports=bbe});var Abe=de((Osr,xbe)=>{"use strict";var Kst=fW(),wbe=mbe(),qst=gbe()(),vbe=RT(),Ebe=CT(),Wst=Kst("%Math.floor%");xbe.exports=function(e,r){if(typeof e!="function")throw new Ebe("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Wst(r)!==r)throw new Ebe("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&vbe){var a=vbe(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!n)&&(qst?wbe(e,"length",r,!0,!0):wbe(e,"length",r)),e}});var _be=de((Nsr,Tbe)=>{"use strict";var Yst=gw(),Jst=fN(),Qst=cW();Tbe.exports=function(){return Qst(Yst,Jst,arguments)}});var Cbe=de((ksr,bN)=>{"use strict";var Zst=Abe(),Sbe=PT(),Xst=pN(),Ibe=_be();bN.exports=function(e){var r=Xst(arguments),n=e.length-(arguments.length-1);return Zst(r,1+(n>0?n:0),!0)};Sbe?Sbe(bN.exports,"apply",{value:Ibe}):bN.exports.apply=Ibe});var Nbe=de((Msr,Obe)=>{"use strict";var Rbe=fW(),Pbe=pN(),e0t=Pbe([Rbe("%String.prototype.indexOf%")]);Obe.exports=function(e,r){var n=Rbe(e,!!r);return typeof n=="function"&&e0t(e,".prototype.")>-1?Pbe([n]):n}});var p2=de((Bsr,Bbe)=>{"use strict";var yN=(typeof JSON<"u"?JSON:k5e()).stringify,t0t=B5e(),r0t=J5e(),n0t=Cbe(),gN=Nbe(),i0t=gN("Array.prototype.join"),kbe=gN("Array.prototype.indexOf"),o0t=gN("Array.prototype.splice"),a0t=gN("Array.prototype.sort"),Mbe=function(e,r){for(var n="",i=0;i<e;i+=1)n+=r;return n},s0t=function(t,e,r){return r};Bbe.exports=function(e){var r=arguments.length>1?arguments[1]:void 0,n=r&&r.space||"";typeof n=="number"&&(n=Mbe(n," "));var i=!!r&&typeof r.cycles=="boolean"&&r.cycles,o=r&&r.replacer?n0t(r.replacer):s0t;if(r&&typeof r.collapseEmpty<"u"&&typeof r.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var a=!!r&&r.collapseEmpty,s=typeof r=="function"?r:r&&r.cmp,c=s&&function(u){var d=s.length>2&&function(p){return u[p]};return function(f,p){return s({key:f,value:u[f]},{key:p,value:u[p]},d?{__proto__:null,get:d}:void 0)}},l=[];return(function u(d,f,p,h){var b=n?`
`+Mbe(h,n):"",_=n?": ":":";if(p&&p.toJSON&&typeof p.toJSON=="function"&&(p=p.toJSON()),p=o(d,f,p),p!==void 0){if(typeof p!="object"||p===null)return yN(p);var A=function(N,k){return a&&N.length===0?k:(k==="[]"?"[":"{")+i0t(N,",")+b+(k==="[]"?"]":"}")};if(t0t(p)){for(var U=[],C=0;C<p.length;C++){var R=u(p,C,p[C],h+1)||yN(null);U[U.length]=b+n+R}return A(U,"[]")}if(kbe(l,p)!==-1){if(i)return yN("__cycle__");throw new TypeError("Converting circular structure to JSON")}else l[l.length]=p;for(var M=a0t(r0t(p),c&&c(p)),U=[],C=0;C<M.length;C++){var f=M[C],F=u(p,f,p[f],h+1);if(F){var z=yN(f)+_+F;U[U.length]=b+n+z}}return o0t(l,kbe(l,p),1),A(U,"{}")}})({"":e},"",e,0)}});function m0t(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let s=(a+8)%10,c=(a+2)%10,l=r[c],u=r[c+1],d=Dbe(l,u,1)^r[s],f=Lbe(l,u,1)^r[s+1];for(let p=0;p<50;p+=10)t[a+p]^=d,t[a+p+1]^=f}let i=t[2],o=t[3];for(let a=0;a<24;a++){let s=Fbe[a],c=Dbe(i,o,s),l=Lbe(i,o,s),u=Ube[a];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)r[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=p0t[n],t[1]^=h0t[n]}mu(r)}var c0t,MT,l0t,u0t,d0t,f0t,Ube,Fbe,Hbe,zbe,p0t,h0t,Dbe,Lbe,hW,wN,vN,M0,EN,xN,h2=D(()=>{XK();Na();c0t=BigInt(0),MT=BigInt(1),l0t=BigInt(2),u0t=BigInt(7),d0t=BigInt(256),f0t=BigInt(113),Ube=[],Fbe=[],Hbe=[];for(let t=0,e=MT,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Ube.push(2*(5*n+r)),Fbe.push((t+1)*(t+2)/2%64);let i=c0t;for(let o=0;o<7;o++)e=(e<<MT^(e>>u0t)*f0t)%d0t,e&l0t&&(i^=MT<<(MT<<BigInt(o))-MT);Hbe.push(i)}zbe=gO(Hbe,!0),p0t=zbe[0],h0t=zbe[1],Dbe=(t,e,r)=>r>32?jpe(t,e,r):zpe(t,e,r),Lbe=(t,e,r)=>r>32?$pe(t,e,r):Gpe(t,e,r);hW=class t extends f5{constructor(e,r,n,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,N0(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Bpe(this.state)}clone(){return this._cloneInto()}keccak(){JK(this.state32),m0t(this.state32,this.rounds),JK(this.state32),this.posOut=0,this.pos=0}update(e){Wf(this),e=Jy(e),fi(e);let{blockLen:r,state:n}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(r-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Wf(this,!1),fi(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return N0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(XA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,mu(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new t(r,n,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},wN=(t,e,r)=>eT(()=>new hW(e,t,r)),vN=wN(1,144,224/8),M0=wN(1,136,256/8),EN=wN(1,104,384/8),xN=wN(1,72,512/8)});var AN,mW=D(()=>{Na();AN=fi});function BT(t){return e=>(AN(e),t(e))}var Gbe=D(()=>{mW()});var Ksr,jbe,qsr,Wsr,$be=D(()=>{h2();Gbe();Ksr=BT(vN),jbe=(()=>{let t=BT(M0);return t.create=M0.create,t})(),qsr=BT(EN),Wsr=BT(xN)});function $p(t){return Buffer.from(jbe(t))}var Vbe,bW,yW=D(()=>{Vbe=ve(uT());$be();bW=new Vbe.ec("secp256k1")});function Kbe(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function qbe(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function m2(t,e){let r=JSON.stringify(e),n=Buffer.from(r,"utf-8"),i=await _5e(Od(Buffer.from(t,"hex")),n),o=qbe(i);return JSON.stringify(o)}async function DT(t,e){let r=JSON.parse(e),n=Kbe(r),i=bW.keyFromPrivate(t),a=(await Jq(Buffer.from(i.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8");return JSON.parse(a)}var Wbe=D(()=>{rN();yW()});var gW=D(()=>{yW();Wbe()});var Nd,LT,UT,TN=D(()=>{Nd=Object.create(null);Nd.open="0";Nd.close="1";Nd.ping="2";Nd.pong="3";Nd.message="4";Nd.upgrade="5";Nd.noop="6";LT=Object.create(null);Object.keys(Nd).forEach(t=>{LT[Nd[t]]=t});UT={type:"error",data:"parser error"}});function Jbe(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function eye(t,e){if(Qbe&&t.data instanceof Blob)return t.data.arrayBuffer().then(Jbe).then(e);if(Zbe&&(t.data instanceof ArrayBuffer||Xbe(t.data)))return e(Jbe(t.data));FT(t,!1,r=>{wW||(wW=new TextEncoder),e(wW.encode(r))})}var Qbe,Zbe,Xbe,FT,Ybe,wW,tye=D(()=>{TN();Qbe=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Zbe=typeof ArrayBuffer=="function",Xbe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,FT=({type:t,data:e},r,n)=>Qbe&&e instanceof Blob?r?n(e):Ybe(e,n):Zbe&&(e instanceof ArrayBuffer||Xbe(e))?r?n(e):Ybe(new Blob([e]),n):n(Nd[t]+(e||"")),Ybe=(t,e)=>{let r=new FileReader;return r.onload=function(){let n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)}});var rye,HT,nye,iye=D(()=>{rye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",HT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<rye.length;t++)HT[rye.charCodeAt(t)]=t;nye=t=>{let e=t.length*.75,r=t.length,n,i=0,o,a,s,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(n=0;n<r;n+=4)o=HT[t.charCodeAt(n)],a=HT[t.charCodeAt(n+1)],s=HT[t.charCodeAt(n+2)],c=HT[t.charCodeAt(n+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|s>>2,u[i++]=(s&3)<<6|c&63;return l}});var b0t,zT,y0t,oye,aye=D(()=>{TN();iye();b0t=typeof ArrayBuffer=="function",zT=(t,e)=>{if(typeof t!="string")return{type:"message",data:oye(t,e)};let r=t.charAt(0);return r==="b"?{type:"message",data:y0t(t.substring(1),e)}:LT[r]?t.length>1?{type:LT[r],data:t.substring(1)}:{type:LT[r]}:UT},y0t=(t,e)=>{if(b0t){let r=nye(t);return oye(r,e)}else return{base64:!0,data:t}},oye=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}}});function uye(){return new TransformStream({transform(t,e){eye(t,r=>{let n=r.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}function _N(t){return t.reduce((e,r)=>e+r.length,0)}function SN(t,e){if(t[0].length===e)return t.shift();let r=new Uint8Array(e),n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function dye(t,e){vW||(vW=new TextDecoder);let r=[],n=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(r.push(a);;){if(n===0){if(_N(r)<1)break;let c=SN(r,1);o=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(_N(r)<2)break;let c=SN(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(_N(r)<8)break;let c=SN(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(UT);break}i=u*Math.pow(2,32)+l.getUint32(4),n=3}else{if(_N(r)<i)break;let c=SN(r,i);s.enqueue(zT(o?c:vW.decode(c),e)),n=0}if(i===0||i>t){s.enqueue(UT);break}}}})}var sye,cye,lye,vW,EW,Tw=D(()=>{tye();aye();TN();sye="",cye=(t,e)=>{let r=t.length,n=new Array(r),i=0;t.forEach((o,a)=>{FT(o,!1,s=>{n[a]=s,++i===r&&e(n.join(sye))})})},lye=(t,e)=>{let r=t.split(sye),n=[];for(let i=0;i<r.length;i++){let o=zT(r[i],e);if(n.push(o),o.type==="error")break}return n};EW=4});function Ei(t){if(t)return g0t(t)}function g0t(t){for(var e in Ei.prototype)t[e]=Ei.prototype[e];return t}var b2=D(()=>{Ei.prototype.on=Ei.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ei.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Ei.prototype.off=Ei.prototype.removeListener=Ei.prototype.removeAllListeners=Ei.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Ei.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Ei.prototype.emitReserved=Ei.prototype.emit;Ei.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ei.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var Vp,B0,fye,y2=D(()=>{Vp=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),B0=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fye="arraybuffer"});function IN(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}function Kp(t,e){e.useNativeTimers?(t.setTimeoutFn=w0t.bind(B0),t.clearTimeoutFn=v0t.bind(B0)):(t.setTimeoutFn=B0.setTimeout.bind(B0),t.clearTimeoutFn=B0.clearTimeout.bind(B0))}function pye(t){return typeof t=="string"?x0t(t):Math.ceil((t.byteLength||t.size)*E0t)}function x0t(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function CN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var w0t,v0t,E0t,g2=D(()=>{y2();w0t=B0.setTimeout,v0t=B0.clearTimeout;E0t=1.33});function hye(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function mye(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var xW=D(()=>{});var RN,qp,GT=D(()=>{Tw();b2();g2();xW();RN=class extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}},qp=class extends Ei{constructor(e){super(),this.writable=!1,Kp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new RN(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let r=zT(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let r=hye(e);return r.length?"?"+r:""}}});var jT,AW=D(()=>{GT();g2();Tw();jT=class extends qp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};lye(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,cye(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=CN()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}});var bye,yye,gye=D(()=>{bye=!1;try{bye=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}yye=bye});function A0t(){}function wye(){for(let t in k5.requests)k5.requests.hasOwnProperty(t)&&k5.requests[t].abort()}function vye(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||yye))return new XMLHttpRequest}catch{}if(!e)try{return new B0[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var TW,k5,T0t,M5,PN=D(()=>{AW();b2();g2();y2();gye();TW=class extends jT{constructor(e){if(super(e),typeof location<"u"){let r=location.protocol==="https:",n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){let n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}},k5=class t extends Ei{constructor(e,r,n){super(),this.createRequest=e,Kp(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;let r=IN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=t.requestsCount++,t.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=A0t,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};k5.requestsCount=0;k5.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wye);else if(typeof addEventListener=="function"){let t="onpagehide"in B0?"pagehide":"unload";addEventListener(t,wye,!1)}}T0t=(function(){let t=vye({xdomain:!1});return t&&t.responseType!==null})(),M5=class extends TW{constructor(e){super(e);let r=e&&e.forceBase64;this.supportsBinary=T0t&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new k5(vye,this.uri(),e)}}});var Eye,SW,_W,B5,ON=D(()=>{GT();g2();Tw();y2();Eye=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",SW=class extends qp{get name(){return"websocket"}doOpen(){let e=this.uri(),r=this.opts.protocols,n=Eye?{}:IN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;FT(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}i&&Vp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=CN()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}},_W=B0.WebSocket||B0.MozWebSocket,B5=class extends SW{createSocket(e,r,n){return Eye?new _W(e,r,n):r?new _W(e,r):new _W(e)}doWrite(e,r){this.ws.send(r)}}});var _w,IW=D(()=>{GT();y2();Tw();_w=class extends qp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let r=dye(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=uye();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{n.read().then(({done:s,value:c})=>{s||(this.onPacket(c),o())}).catch(s=>{})};o();let a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&Vp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var CW,RW=D(()=>{PN();ON();IW();CW={websocket:B5,webtransport:_w,polling:M5}});function Sw(t){if(t.length>8e3)throw"URI too long";let e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=_0t.exec(t||""),o={},a=14;for(;a--;)o[S0t[a]]=i[a]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=I0t(o,o.path),o.queryKey=C0t(o,o.query),o}function I0t(t,e){let r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function C0t(t,e){let r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}var _0t,S0t,PW=D(()=>{_0t=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,S0t=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var OW,NN,w2,kN,Iw,NW=D(()=>{RW();g2();xW();PW();b2();Tw();y2();OW=typeof addEventListener=="function"&&typeof removeEventListener=="function",NN=[];OW&&addEventListener("offline",()=>{NN.forEach(t=>t())},!1);w2=class t extends Ei{constructor(e,r){if(super(),this.binaryType=fye,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){let n=Sw(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Sw(r.host).host);Kp(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{let i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=mye(this.opts.query)),OW&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},NN.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let r=Object.assign({},this.opts.query);r.EIO=EW,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){let i=this.writeBuffer[n].data;if(i&&(r+=pye(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Vp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),OW&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let n=NN.indexOf(this._offlineEventListener);n!==-1&&NN.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}};w2.protocol=EW;kN=class extends w2{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;w2.priorWebsocketSuccess=!1;let i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;w2.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{let f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function o(){n||(n=!0,u(),r.close(),r=null)}let a=d=>{let f=new Error("probe error: "+d);f.transport=r.name,o(),this.emitReserved("upgradeError",f)};function s(){a("transport closed")}function c(){a("socket closed")}function l(d){r&&d.name!==r.name&&o()}let u=()=>{r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",s),this.off("close",c),this.off("upgrading",l)};r.once("open",i),r.once("error",a),r.once("close",s),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}},Iw=class extends kN{constructor(e,r={}){let n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>CW[i]).filter(i=>!!i)),super(e,n)}}});var xye=D(()=>{AW()});var hcr,MN=D(()=>{NW();NW();GT();RW();g2();PW();y2();xye();PN();PN();ON();ON();IW();hcr=Iw.protocol});function Aye(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Sw(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}var Tye=D(()=>{MN()});function VT(t){return P0t&&(t instanceof ArrayBuffer||O0t(t))||N0t&&t instanceof Blob||k0t&&t instanceof File}function $T(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if($T(t[r]))return!0;return!1}if(VT(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return $T(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&$T(t[r]))return!0;return!1}var P0t,O0t,_ye,N0t,k0t,kW=D(()=>{P0t=typeof ArrayBuffer=="function",O0t=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,_ye=Object.prototype.toString,N0t=typeof Blob=="function"||typeof Blob<"u"&&_ye.call(Blob)==="[object BlobConstructor]",k0t=typeof File=="function"||typeof File<"u"&&_ye.call(File)==="[object FileConstructor]"});function Sye(t){let e=[],r=t.data,n=t;return n.data=MW(r,e),n.attachments=e.length,{packet:n,buffers:e}}function MW(t,e){if(!t)return t;if(VT(t)){let r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){let r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=MW(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){let r={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=MW(t[n],e));return r}return t}function Iye(t,e){return t.data=BW(t.data,e),delete t.attachments,t}function BW(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=BW(t[r],e);else if(typeof t=="object")for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=BW(t[r],e));return t}var Cye=D(()=>{kW()});var FW={};lr(FW,{Decoder:()=>LW,Encoder:()=>DW,PacketType:()=>an,protocol:()=>Pye});function Rye(t){return Object.prototype.toString.call(t)==="[object Object]"}var M0t,Pye,an,DW,LW,UW,BN=D(()=>{b2();Cye();kW();M0t=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Pye=5;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(an||(an={}));DW=class{constructor(e){this.replacer=e}encode(e){return(e.type===an.EVENT||e.type===an.ACK)&&$T(e)?this.encodeAsBinary({type:e.type===an.EVENT?an.BINARY_EVENT:an.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===an.BINARY_EVENT||e.type===an.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){let r=Sye(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}};LW=class t extends Ei{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);let n=r.type===an.BINARY_EVENT;n||r.type===an.BINARY_ACK?(r.type=n?an.EVENT:an.ACK,this.reconstructor=new UW(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(VT(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0,n={type:Number(e.charAt(0))};if(an[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===an.BINARY_EVENT||n.type===an.BINARY_ACK){let o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);let a=e.substring(o,r);if(a!=Number(a)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(r+1)==="/"){let o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";let i=e.charAt(r+1);if(i!==""&&Number(i)==i){let o=r+1;for(;++r;){let a=e.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){let o=this.tryParse(e.substr(r));if(t.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case an.CONNECT:return Rye(r);case an.DISCONNECT:return r===void 0;case an.CONNECT_ERROR:return typeof r=="string"||Rye(r);case an.EVENT:case an.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&M0t.indexOf(r[0])===-1);case an.ACK:case an.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},UW=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let r=Iye(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function hl(t,e,r){return t.on(e,r),function(){t.off(e,r)}}var HW=D(()=>{});var B0t,Cw,zW=D(()=>{BN();HW();b2();B0t=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Cw=class extends Ei{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[hl(e,"open",this.onopen.bind(this)),hl(e,"packet",this.onpacket.bind(this)),hl(e,"error",this.onerror.bind(this)),hl(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,o;if(B0t.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;let a={type:an.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){let u=this.ids++,d=r.pop();this._registerAckCallback(u,d),a.id=u}let s=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!s||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,r){var n;let i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);r.call(this,new Error("operation has timed out"))},i),a=(...s)=>{this.io.clearTimeoutFn(o),r.apply(this,s)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...r){return new Promise((n,i)=>{let o=(a,s)=>a?i(a):n(s);o.withError=!0,r.push(o),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:an.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case an.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case an.EVENT:case an.BINARY_EVENT:this.onevent(e);break;case an.ACK:case an.BINARY_ACK:this.onack(e);break;case an.DISCONNECT:this.ondisconnect();break;case an.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let r=this,n=!1;return function(...i){n||(n=!0,r.packet({type:an.ACK,id:e,data:i}))}}onack(e){let r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:an.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let r=this._anyOutgoingListeners.slice();for(let n of r)n.apply(this,e.data)}}}});function v2(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}var Oye=D(()=>{v2.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};v2.prototype.reset=function(){this.attempts=0};v2.prototype.setMin=function(t){this.ms=t};v2.prototype.setMax=function(t){this.max=t};v2.prototype.setJitter=function(t){this.jitter=t}});var Rw,Nye=D(()=>{MN();zW();BN();HW();Oye();b2();Rw=class extends Ei{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Kp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new v2({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;let i=r.parser||FW;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Iw(this.uri,this.opts);let r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=hl(r,"open",function(){n.onopen(),e&&e()}),o=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),e?e(s):this.maybeReconnectOnOpen()},a=hl(r,"error",o);if(this._timeout!==!1){let s=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},s);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(hl(e,"ping",this.onping.bind(this)),hl(e,"data",this.ondata.bind(this)),hl(e,"error",this.onerror.bind(this)),hl(e,"close",this.onclose.bind(this)),hl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Vp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Cw(this,e,r),this.nsps[e]=n),n}_destroy(e){let r=Object.keys(this.nsps);for(let n of r)if(this.nsps[n].active)return;this._close()}_packet(e){let r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function Wp(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let r=Aye(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,a=KT[i]&&o in KT[i].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||a,c;return s?c=new Rw(n,e):(KT[i]||(KT[i]=new Rw(n,e)),c=KT[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}var KT,DN=D(()=>{Tye();Nye();zW();BN();MN();KT={};Object.assign(Wp,{Manager:Rw,Socket:Cw,io:Wp,connect:Wp})});var YT={};lr(YT,{averageResponseTime:()=>$0t,canBeUsed:()=>H0t,close:()=>G0t,create:()=>z0t,getSocketInstance:()=>kye,microSeconds:()=>D0t,onMessage:()=>j0t,postMessage:()=>U0t,removeStorageEventListener:()=>F0t,setupSocketConnection:()=>Mye,storageKey:()=>jW,type:()=>GW});function jW(t){return L0t+t}function U0t(t,e){return new Promise((r,n)=>{mw().then(async()=>{let i=jW(t.channelName),o=$p(Buffer.from(i,"utf8")),a=await m2(o.toString("hex"),{token:S5(),time:Date.now(),data:e,uuid:t.uuid}),s={allowedOrigin:t.server.allowed_origin,sameIpCheck:!0,key:Od(o).toString("hex"),data:a,signature:(await yw(o,$p(Buffer.from(a,"utf8")))).toString("hex")};return t.timeout&&(s.timeout=t.timeout),fetch(`${t.server.api_url}/channel/set`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(r).catch(n)}).catch(n)})}function kye(t){if(qT)return qT;let e=Wp(t,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",r=>{e.io.opts.transports=["polling","websocket"],Us.error("connect error",r)}),e.on("connect",async()=>{let{engine:r}=e.io;Us.debug("initially connected to",r.transport.name),r.once("upgrade",()=>{Us.debug("upgraded",r.transport.name)}),r.once("close",n=>{Us.debug("connection closed",n)})}),e.on("error",r=>{Us.error("socket errored",r),e.disconnect()}),qT=e,e}function Mye(t,e,r){let n=kye(t),i=jW(e.channelName),o=$p(Buffer.from(i,"utf8")),a=Od(o).toString("hex");n.connected?n.emit("v2:check_auth_status",a,{sameIpCheck:!0,allowedOrigin:e.server.allowed_origin}):n.once("connect",()=>{Us.debug("connected with socket"),n.emit("v2:check_auth_status",a,{sameIpCheck:!0,allowedOrigin:e.server.allowed_origin})});let s=()=>{n.once("connect",async()=>{WT.has(e.channelName)&&n.emit("v2:check_auth_status",a,{sameIpCheck:!0,allowedOrigin:e.server.allowed_origin})})},c=()=>{if(!n||!WT.has(e.channelName)){document.removeEventListener("visibilitychange",c);return}!n.connected&&document.visibilityState==="visible"&&s()},l=async u=>{try{let d=await DT(o.toString("hex"),u);Us.info(d),r(d)}catch(d){Us.error(d)}};return n.on("disconnect",()=>{Us.debug("socket disconnected"),WT.has(e.channelName)&&(Us.error("socket disconnected unexpectedly, reconnecting socket"),s())}),n.on(`${a}_success`,l),typeof document<"u"&&document.addEventListener("visibilitychange",c),n}function F0t(){qT&&qT.disconnect()}function H0t(){return!0}function z0t(t,e){e=P5(e);let r=S5(),n=new C5(e.server.removeTimeout),i={channelName:t,uuid:r,eMIs:n,server:{api_url:e.server.api_url,socket_url:e.server.socket_url,allowed_origin:e.server.allowed_origin},time:k0()};return e.server.timeout&&(i.timeout=e.server.timeout),Mye(e.server.socket_url,i,o=>{i.messagesCallback&&o.uuid!==i.uuid&&(!o.token||i.eMIs.has(o.token)||(i.eMIs.add(o.token),i.messagesCallback(o.data)))}),WT.add(t),i}function G0t(t){WT.delete(t.channelName)}function j0t(t,e,r){t.messagesCallbackTime=r,t.messagesCallback=e}function $0t(){return 500}var D0t,L0t,GW,qT,WT,LN=D(()=>{rN();gW();ZO();DN();wT();I5();D0t=k0,L0t="pubkey.broadcastChannel-",GW="server",qT=null,WT=new Set});var KW={};lr(KW,{SIMULATE_DELAY_TIME:()=>VW,averageResponseTime:()=>Q0t,canBeUsed:()=>J0t,close:()=>q0t,create:()=>K0t,microSeconds:()=>V0t,onMessage:()=>Y0t,postMessage:()=>W0t,type:()=>UN});function K0t(t){let e={time:k0(),name:t,messagesCallback:null};return $W.add(e),e}function q0t(t){$W.delete(t)}function W0t(t,e){return new Promise(r=>{setTimeout(()=>{Array.from($W).forEach(i=>{i.name===t.name&&i!==t&&i.messagesCallback&&i.time<e.time&&i.messagesCallback(e)}),r()},VW)})}function Y0t(t,e){t.messagesCallback=e}function J0t(){return!0}function Q0t(){return VW}var V0t,UN,$W,VW,qW=D(()=>{I5();V0t=k0,UN="simulate",$W=new Set,VW=5});function FN(t){let e=[].concat(t.methods||[],Bye).filter(Boolean);if(t.type){if(t.type==="simulate")return KW;let n=e.find(i=>i.type===t.type);if(n)return n;throw new Error(`method-type ${t.type} not found`)}t.webWorkerSupport||(e=e.filter(n=>n.type!=="idb"));let r=e.find(n=>n.canBeUsed(t));if(r)return r;throw new Error(`No useable method found in ${JSON.stringify(Bye.map(n=>n.type))}`)}var Bye,WW=D(()=>{Vq();XO();eN();LN();qW();Bye=[AT,ET,xT,YT]});function Fye(t){YW=t}function Dye(t,e,r){let i={time:t.method.microSeconds(),type:e,data:r};return(t._prepP?t._prepP:vu).then(()=>{let a=t.method.postMessage(t._state,i);return t._uMP.add(a),a.catch(()=>{}).then(()=>t._uMP.delete(a)),a})}function X0t(t){let e=t.method.create(t.name,t.options);if(n5e(e)){let r=e;t._prepP=r,r.then(n=>(t._state=n,n)).catch(n=>{throw n})}else t._state=e}function Hye(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function ect(t){if(!t._iL&&Hye(t)){let e=n=>{t._addEL[n.type].forEach(i=>{(n.time>=i.time||t.method.type==="server")&&i.fn(n.data)})},r=t.method.microSeconds();t._prepP?t._prepP.then(()=>(t._iL=!0,t.method.onMessage(t._state,e,r),!0)).catch(n=>{throw n}):(t._iL=!0,t.method.onMessage(t._state,e,r))}}function tct(t){if(t._iL&&!Hye(t)){t._iL=!1;let e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}function Lye(t,e,r){t._addEL[e].push(r),ect(t)}function Uye(t,e,r){r&&(t._addEL[e]=t._addEL[e].filter(n=>n!==r),tct(t))}var YW,HN,Z0t,E2,JW=D(()=>{Ye();WW();wT();I5();HN=new Set,Z0t=0,E2=class{constructor(e,r){V(this,"id",void 0),V(this,"name",void 0),V(this,"options",void 0),V(this,"method",void 0),V(this,"closed",void 0),V(this,"_addEL",void 0),V(this,"_prepP",void 0),V(this,"_state",void 0),V(this,"_uMP",void 0),V(this,"_iL",void 0),V(this,"_onML",void 0),V(this,"_befC",void 0),this.id=Z0t++,HN.add(this),this.name=e,YW&&(r=YW),this.options=P5(r||{}),this.method=FN(this.options),this.closed=!1,this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,X0t(this)}get type(){return this.method.type}get isClosed(){return this.closed}set onmessage(e){let n={time:this.method.microSeconds(),fn:e};Uye(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,Lye(this,"message",n)):this._onML=null}postMessage(e){if(this.closed)throw new Error(`BroadcastChannel.postMessage(): Cannot post message after channel has closed ${JSON.stringify(e)}`);return Dye(this,"message",e)}postInternal(e){return Dye(this,"internal",e)}addEventListener(e,r){let i={time:this.method.microSeconds(),fn:r};Lye(this,e,i)}removeEventListener(e,r){let n=this._addEL[e].find(i=>i.fn===r);Uye(this,e,n)}close(){if(this.closed)return Promise.resolve();HN.delete(this),this.closed=!0;let e=this._prepP?this._prepP:vu;return this._onML=null,this._addEL.message=[],e.then(()=>Promise.all(Array.from(this._uMP))).then(()=>Promise.all(this._befC.map(r=>r()))).then(()=>this.method.close?this.method.close(this._state):vu)}};V(E2,"_pubkey",!0)});var zN,zye=D(()=>{nt();Ye();JW();XO();eN();LN();qW();I5();zN=class{constructor(e,r={}){V(this,"name",void 0),V(this,"options",void 0),V(this,"closed",void 0),V(this,"onML",void 0),V(this,"methodPriority",void 0),V(this,"channels",void 0),V(this,"listeners",void 0),V(this,"processedNonces",void 0),V(this,"nonce",void 0),this.name=e,this.options=r,this.closed=!1,this.onML=null,this.methodPriority=[Yq,Kq,GW],this.channels=new Map,this.listeners=new Set,this.processedNonces=new Set,this.nonce=0,this.initChannels()}set onmessage(e){this.removeEventListener("message",this.onML),e&&typeof e=="function"?(this.onML=e,this.addEventListener("message",e)):this.onML=null}initChannels(){if(this.options.type===UN&&(this.methodPriority=[UN]),this.methodPriority.forEach(e=>{try{let r=new E2(this.name,q(q({},this.options),{},{type:e}));this.channels.set(e,r),Us.debug(`Succeeded to initialize ${e} method in channel ${this.name}`),r.onmessage=n=>this.handleMessage(n)}catch(r){Us.warn(`Failed to initialize ${e} method in channel ${this.name}: ${r instanceof Error?r.message:String(r)}`)}}),this.channels.size===0)throw new Error("Failed to initialize any communication method")}allChannels(){return Array.from(this.channels.keys())}hasChannel(e){return this.channels.has(e)}handleMessage(e){if(e&&e.nonce){if(this.processedNonces.has(e.nonce))return;if(this.processedNonces.add(e.nonce),this.processedNonces.size>1e3){let n=Array.from(this.processedNonces).sort()[0];this.processedNonces.delete(n)}this.listeners.forEach(r=>{r(e.message)})}}async postMessage(e){if(this.closed)throw new Error(`AdaptiveBroadcastChannel.postMessage(): Cannot post message after channel has closed ${JSON.stringify(e)}`);let n={nonce:this.generateNonce(),message:e},i=Array.from(this.channels.entries()).map(([s,c])=>c.postMessage(n).catch(l=>{throw Us.warn(`Failed to send via ${s}: ${l.message}`),l}));if(!(await Promise.allSettled(i)).some(s=>s.status==="fulfilled"))throw new Error("Failed to send message through any method");return e}generateNonce(){return`${Date.now()}-${this.nonce++}`}addEventListener(e,r){this.listeners.add(r)}removeEventListener(e,r){this.listeners.delete(r)}async close(){if(this.closed)return;this.onML=null;let e=[];for(let r of this.channels.values())e.push(r.close());await Promise.all(e),this.channels.clear(),this.listeners.clear(),this.closed=!0}}});var Gye={};lr(Gye,{BroadcastChannel:()=>E2,IndexedDbMethod:()=>ET,LocalstorageMethod:()=>xT,NativeMethod:()=>AT,OPEN_BROADCAST_CHANNELS:()=>HN,RedundantAdaptiveBroadcastChannel:()=>zN,ServerMethod:()=>YT,chooseMethod:()=>FN,enforceOptions:()=>Fye});var jye=D(()=>{Vq();XO();eN();LN();JW();WW();zye()});var $ye,rct,Qo,i1=D(()=>{J3();nt();Ye();$ye=ve(fw());a2();_5();Dq();gT();rct=["access_token","id_token"],Qo=class{constructor(e){V(this,"nonce",s2()),V(this,"finalURL",void 0),V(this,"params",void 0),this.params=e}get state(){return encodeURIComponent($ye.default.encode(JSON.stringify(q(q({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){let r=new Rd({url:this.finalURL,features:e.popupFeatures,timeout:l2(this.params.authConnection)});if(this.params.uxMode===Zi.REDIRECT)r.redirect(e.locationReplaceOnRedirect);else{let{RedundantAdaptiveBroadcastChannel:n}=await Promise.resolve().then(()=>(jye(),Gye));return new Promise((i,o)=>{let a,s=async c=>{try{let{error:l,data:u}=c,d=u||{},{instanceParams:f,hashParams:{access_token:p,id_token:h}}=d,b=hu(d.hashParams,rct);if(l){zp.error(c),o(new Error(`Error: ${l}. Info: ${JSON.stringify(c.data||{})}`));return}c.data&&f.authConnectionId===this.params.authConnectionId&&(zp.info(c.data),!this.params.redirectToOpener&&a&&await a.postMessage({success:!0}),i(q(q({accessToken:p,idToken:h||""},b),{},{state:f})))}catch(l){zp.error(l),o(l)}};if(!this.params.redirectToOpener)a=new n(`redirect_channel_${this.nonce}`,Uq),a.addEventListener("message",async c=>{await s(c),a.close(),r.close()});else{let c=async l=>{if(!l.data)return;let u=l.data;u.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",c),s(u),r.close())};window.addEventListener("message",c)}try{r.open()}catch(c){zp.error(c),o(c);return}r.once("close",()=>{a&&a.close(),o(new Error("user closed popup"))})})}return null}}});var Vye,GN,Kye=D(()=>{Ye();A5();Vye=ve(Do());i1();GN=class extends Qo{constructor(e){super(e),V(this,"RESPONSE_TYPE","token"),V(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://discord.com/api/oauth2/authorize"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=(0,Vye.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},r);Object.keys(n).forEach(i=>{let o=i;n[o]&&e.searchParams.append(o,n[o])}),this.finalURL=e}async getUserInfo(e){let{accessToken:r}=e,n=await bc("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${r}`}}),{id:i,avatar:o,email:a="",username:s="",discriminator:c=""}=n;return{profileImage:o===null?`https://cdn.discordapp.com/embed/avatars/${Number(c)%5}.png`:`https://cdn.discordapp.com/avatars/${i}/${o}.png?size=2048`,name:`${s}#${c}`,email:a,userId:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}});var qye,jN,Wye=D(()=>{Ye();A5();qye=ve(Do());i1();jN=class extends Qo{constructor(e){super(e),V(this,"RESPONSE_TYPE","token"),V(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=(0,qye.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},r);Object.keys(n).forEach(i=>{let o=i;n[o]&&e.searchParams.append(o,n[o])}),this.finalURL=e}async getUserInfo(e){let{accessToken:r}=e,n=await bc("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${r}`}}),{name:i="",id:o,picture:a,email:s=""}=n;return{email:s,name:i,profileImage:a.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o}}}});var Yye,$N,Jye=D(()=>{Ye();A5();Yye=ve(Do());i1();$N=class extends Qo{constructor(e){super(e),V(this,"RESPONSE_TYPE","token id_token"),V(this,"SCOPE","profile email openid"),V(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=(0,Yye.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},r);Object.keys(n).forEach(i=>{let o=i;n[o]&&e.searchParams.append(o,n[o])}),this.finalURL=e}async getUserInfo(e){let{accessToken:r}=e,n=await bc("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${r}`}}),{picture:i="",email:o="",name:a=""}=n;return{email:o,name:a,profileImage:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o.toLowerCase()}}}});var Qye,Zye,VN,Xye=D(()=>{Ye();A5();Qye=ve(Do()),Zye=ve(Or());_5();i1();VN=class extends Qo{constructor(e){super(e),V(this,"SCOPE","openid profile email"),V(this,"RESPONSE_TYPE","token id_token"),V(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams,r=c2(e);r.pathname+=r.pathname.endsWith("/")?"authorize":"/authorize";let n=JSON.parse(JSON.stringify(this.params.jwtParams));delete n.domain;let i=(0,Qye.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:mT[this.params.authConnection],nonce:this.nonce},n);Object.keys(i).forEach(o=>{let a=o;i[a]&&r.searchParams.append(a,i[a])}),this.finalURL=r}async getUserInfo(e){let{idToken:r,accessToken:n}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:a,user_info_route:s="userinfo"}=this.params.jwtParams;if(n)try{let c=new URL(i),l=await bc(`${bT(c)}${s}`,{headers:{Authorization:`Bearer ${n}`}}),{picture:u,name:d,email:f}=l;return{email:f,name:d,profileImage:u,userId:Gp(l,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(c){Zye.default.warn(c,"Unable to get userinfo from endpoint")}if(r){let c=u2(r).payload,{name:l,email:u,picture:d}=c;return{profileImage:d,name:l,email:u,userId:Gp(c,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}}});var e2e,t2e,KN,r2e=D(()=>{A5();e2e=ve(Do()),t2e=ve(Or());a2();_5();gT();i1();KN=class extends Qo{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){let e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;let r=(0,e2e.default)({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(T5({baseURL:this.params.redirect_uri,query:null,hash:r}))}async getUserInfo(e){let{idToken:r,accessToken:n}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:a,user_info_route:s="userinfo"}=this.params.jwtParams;if(n)try{let c=new URL(i),l=await bc(`${bT(c)}${s}`,{headers:{Authorization:`Bearer ${n}`}}),{picture:u,name:d,email:f}=l;return{email:f,name:d,profileImage:u,userId:Gp(l,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(c){t2e.default.warn(c,"Unable to get userinfo from endpoint")}if(r){let c=u2(r).payload,{name:l,email:u,picture:d}=c;return{profileImage:d,name:l,email:u,userId:Gp(c,this.params.authConnection,o,a),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}handleLoginWindow(e){let{id_token:r,access_token:n}=this.params.jwtParams,i=new Rd({url:this.finalURL,features:e.popupFeatures});if(this.params.uxMode===Zi.REDIRECT)i.redirect(e.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:r,accessToken:n});return null}}});var JT,QW=D(()=>{JT=t=>t.padStart(64,"0").slice(0,64)});var qN,n2e=D(()=>{Ye();A5();QW();qN=class{constructor(){V(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=JT(this.sessionId)}request({method:e="GET",url:r,data:n={},headers:i={}}){let o={headers:i};switch(e){case"GET":return bc(r,o);case"POST":return Lhe(r,n,o);case"PUT":return Fhe(r,n,o);case"PATCH":return Uhe(r,n,o)}throw new Error("Invalid method type")}}});var xi,D5,nct,ict,oct,act,sct,ZW,i2e=D(()=>{xi={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},D5={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},nct={[xi.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[xi.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[xi.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[xi.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[xi.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},ict={[xi.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:D5.SAPPHIRE_MAINNET},[xi.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:D5.SAPPHIRE_MAINNET},[xi.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:D5.SAPPHIRE_MAINNET},[xi.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:D5.SAPPHIRE_MAINNET},[xi.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:D5.SAPPHIRE_DEVNET}},oct={[xi.MAINNET]:"mainnet",[xi.TESTNET]:"goerli",[xi.CYAN]:"polygon-mainnet",[xi.AQUA]:"polygon-mainnet",[xi.CELESTE]:"polygon-mainnet"},act={[D5.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[D5.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[xi.MAINNET]:"https://api.web3auth.io/signer-service",[xi.TESTNET]:"https://api.web3auth.io/signer-service",[xi.CYAN]:"https://api.web3auth.io/signer-polygon-service",[xi.AQUA]:"https://api.web3auth.io/signer-polygon-service",[xi.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},sct={[xi.MAINNET]:"https://api.web3auth.io/metadata-service",[xi.TESTNET]:"https://api.web3auth.io/metadata-service",[xi.CYAN]:"https://api.web3auth.io/metadata-service",[xi.AQUA]:"https://api.web3auth.io/metadata-service",[xi.CELESTE]:"https://api.web3auth.io/metadata-service"},ZW="https://api.web3auth.io/session-service"});var o2e=D(()=>{i2e()});var cct,QT,a2e=D(()=>{Ye();o2e();rN();gW();n2e();QW();cct=86400,QT=class extends qN{constructor({sessionServerBaseUrl:e,sessionNamespace:r,sessionTime:n,sessionId:i,allowedOrigin:o}={}){super(),V(this,"sessionServerBaseUrl",ZW),V(this,"sessionNamespace",void 0),V(this,"allowedOrigin",void 0),V(this,"sessionTime",cct),V(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),r&&(this.sessionNamespace=r),n&&(this.sessionTime=n),i&&(this.sessionId=JT(i)),o?this.allowedOrigin=o:this.allowedOrigin="*"}static generateRandomSessionKey(){return JT(A5e().toString("hex"))}async createSession(e,r={}){super.checkSessionParams();let n=Buffer.from(this.sessionId,"hex"),i=Od(n).toString("hex"),o=await m2(this.sessionId,e),a=(await yw(n,$p(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:r}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();let n={key:Od(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:n,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");let o=await DT(this.sessionId,i.message);if(o.error)throw new Error("There was an error decrypting data.");return o}async updateSession(e,r={}){super.checkSessionParams();let n=Buffer.from(this.sessionId,"hex"),i=Od(n).toString("hex"),o=await m2(this.sessionId,e),a=(await yw(n,$p(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:s,headers:r})}async invalidateSession(e={}){super.checkSessionParams();let r=Buffer.from(this.sessionId,"hex"),n=Od(r).toString("hex"),i=await m2(this.sessionId,{}),o=(await yw(r,$p(Buffer.from(i,"utf8")))).toString("hex"),a={key:n,data:i,signature:o,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:e}),this.sessionId="",!0}}});var s2e=D(()=>{a2e()});async function l2e(t,e){try{return await new QT({sessionId:t,sessionServerBaseUrl:e,allowedOrigin:!0}).authorizeSession()}catch(r){throw c2e.default.error("fetch data from storage server error",r),new Error("Unable to retrieve data from storage server, invalid key or key expired.")}}var c2e,u2e=D(()=>{s2e();c2e=ve(Or())});var d2e,f2e,WN,p2e=D(()=>{d2e=ve(fw()),f2e=ve(Do());u2e();i1();WN=class extends Qo{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){let{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw new Error("Invalid passkeys url.");let r=new URL(e),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),i=(0,f2e.default)({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},n);Object.keys(i).forEach(o=>{let a=o;i[a]&&r.searchParams.append(a,i[a])}),this.finalURL=r}async getUserInfo(e,r){let{idToken:n,extraParams:i}=e,{sessionId:o}=JSON.parse(d2e.default.decode(i))||{};if(!o)throw new Error("sessionId not found");let{verifier_id:a,signature:s,clientDataJSON:c,authenticatorData:l,publicKey:u,challenge:d,rpOrigin:f,rpId:p,credId:h,transports:b,username:_}=await l2e(o,r);if(s!==n)throw new Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:a,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:s,clientDataJSON:c,authenticatorData:l,publicKey:u,challenge:d,rpOrigin:f,rpId:p,credId:h,transports:b,username:_}}}}});var XW,h2e,lct,YN,m2e=D(()=>{nt();J3();Ye();XW=ve(fw()),h2e=ve(Do());a2();_5();Dq();gT();i1();lct=["event","origin","result"],YN=class extends Qo{constructor(e){super(e),V(this,"RESPONSE_TYPE","token"),V(this,"SCOPE","profile"),V(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams,r=c2(e||"https://oauth.telegram.org/auth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{}));n.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;let i=(0,h2e.default)({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},n);Object.keys(i).forEach(o=>{let a=o;i[a]&&r.searchParams.append(a,i[a])}),this.finalURL=r}async getUserInfo(e){let{idToken:r}=e,n=Fq(r),{photo_url:i="",first_name:o="",last_name:a="",id:s}=n;return{email:"",name:`${o} ${a}`,profileImage:i,authConnectionId:this.params.authConnectionId,userId:s.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){let r=new Rd({url:this.finalURL,features:e.popupFeatures,timeout:l2(this.params.authConnection)});if(this.params.uxMode===Zi.REDIRECT)r.redirect(e.locationReplaceOnRedirect);else return new Promise((n,i)=>{let o=async s=>{try{let c=JSON.parse(s)||{},{event:l,origin:u,result:d}=c,f=hu(c,lct),h=new URL(u).searchParams.get("state");l&&l==="auth_result"&&n(q(q({accessToken:""},f),{},{idToken:XW.default.encode(JSON.stringify(d))||"",state:XW.default.decode(h)}))}catch(c){zp.error(c),i(c)}},a=async s=>{if(!s.data)throw new Error("Invalid data received");if(this.finalURL.origin!==s.origin)throw new Error("Invalid origin received");let c=s.data;if(typeof c!="string")throw new Error("Invalid data type received");let{event:l}=JSON.parse(c)||{};l&&l!=="auth_result"&&zp.info("Invalid event received"),window.removeEventListener("message",a),o(c),r.close()};window.addEventListener("message",a);try{r.open()}catch(s){zp.error(s),i(s);return}r.once("close",()=>{i(new Error("user closed popup"))})});return null}}});var b2e,JN,y2e=D(()=>{Ye();A5();b2e=ve(Do());i1();JN=class extends Qo{constructor(e){super(e),V(this,"RESPONSE_TYPE","token"),V(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){let e=new URL("https://id.twitch.tv/oauth2/authorize"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),n=(0,b2e.default)({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},r);Object.keys(n).forEach(i=>{let o=i;n[o]&&e.searchParams.append(o,n[o])}),this.finalURL=e}async getUserInfo(e){let{accessToken:r}=e,n=await bc("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${r}`,"Client-ID":this.params.clientId}}),[{profile_image_url:i="",display_name:o="",email:a="",id:s}]=n.data||[];return{profileImage:i,name:o,email:a,userId:s,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}});var Pw,eY=D(()=>{Pw={link:"link",code:"code"}});var g2e,QN,w2e=D(()=>{nt();Ye();g2e=ve(Do());_5();eY();i1();QN=class extends Qo{constructor(e){super(e),V(this,"SCOPE","openid profile email"),V(this,"RESPONSE_TYPE","token id_token"),V(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){let{domain:e}=this.params.jwtParams||{},r=c2(e||"https://passwordless.web3auth.io/v7");r.pathname+=r.pathname.endsWith("/")?"authorize":"/authorize";let n=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete n.domain,this.params.customState=q(q({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});let i=(0,g2e.default)({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:mT[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:n?.flow_type||Pw.code},n);Object.keys(i).forEach(o=>{let a=o;i[a]&&r.searchParams.append(a,i[a])}),this.finalURL=r}async getUserInfo(e){let{idToken:r}=e,n=u2(r).payload,{name:i,email:o,picture:a}=n;return{profileImage:a,name:i,email:o,userId:i.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}});var tY,v2e=D(()=>{a2();Kye();Wye();Jye();Xye();r2e();p2e();m2e();y2e();w2e();tY=t=>{let{authConnectionId:e,authConnection:r,clientId:n,jwtParams:i}=t;if(!e||!r||!n)throw new Error("Invalid params. Missing authConnectionId, authConnection or clientId");let{domain:o,login_hint:a,id_token:s,access_token:c}=i||{};switch(r){case Je.GOOGLE:return new $N(t);case Je.TELEGRAM:return new YN(t);case Je.FACEBOOK:return new jN(t);case Je.TWITCH:return new JN(t);case Je.DISCORD:return new GN(t);case Je.EMAIL_PASSWORDLESS:case Je.SMS_PASSWORDLESS:if(!a)throw new Error("Invalid params. Missing login_hint for web3auth passwordless login");return new QN(t);case Je.APPLE:case Je.GITHUB:case Je.LINKEDIN:case Je.TWITTER:case Je.LINE:case Je.CUSTOM:case Je.REDDIT:case Je.WECHAT:case Je.KAKAO:case Je.FARCASTER:case Je.AUTHENTICATOR:if(s||c)return new KN(t);if(!o)throw new Error("Invalid params for jwt login. Missing domain");return new VN(t);case Je.PASSKEYS:return new WN(t);default:throw new Error("Unsupported login type")}}});var uct,dct,kd,E2e=D(()=>{uct=t=>{if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(`${u} is ambiguous`);e[d]=l}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function a(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,f=0,p=l.length;for(;f!==p&&l[f]===0;)f++,u++;let h=(p-f)*o+1>>>0,b=new Uint8Array(h);for(;f!==p;){let C=l[f],R=0;for(let M=h-1;(C!==0||R<d)&&M!==-1;M--,R++)C+=256*b[M]>>>0,b[M]=C%r>>>0,C=C/r>>>0;if(C!==0)throw new Error("Non-zero carry");d=R,f++}let _=h-d;for(;_!==h&&b[_]===0;)_++;let A=n.repeat(u);for(;_<h;++_)A+=t.charAt(b[_]);return A}function s(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,f=0;for(;l[u]===n;)d++,u++;let p=(l.length-u)*i+1>>>0,h=new Uint8Array(p);for(;l[u];){let C=e[l.charCodeAt(u)];if(C===255)return;let R=0;for(let M=p-1;(C!==0||R<f)&&M!==-1;M--,R++)C+=r*h[M]>>>0,h[M]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");f=R,u++}let b=p-f;for(;b!==p&&h[b]===0;)b++;let _=new Uint8Array(d+(p-b)),A=d;for(;b!==p;)_[A++]=h[b++];return _}function c(l){let u=s(l);if(u)return u;throw new Error(`Non-base${r} character`)}return{encode:a,decodeUnsafe:s,decode:c}},dct="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",kd=uct(dct)});var ZN=D(()=>{E2e()});var Yp,x2e=D(()=>{Yp=async t=>{let e=t instanceof Error,r=typeof t=="string",n=t&&typeof t=="object"&&"status"in t&&"type"in t,i;if(n){let o=t,a=o.headers.get("content-type");if(a.includes("application/json")){let s=await o.json();i=new Error(s?.error||s?.message||JSON.stringify(s))}else a.includes("text/plain")?i=new Error(await o.text()):i=new Error(`${o.status} ${o.type.toString()} ${o.statusText}`)}else r?i=new Error(t):e?i=t:i=new Error("Unknown error");return i}});var Jp=D(()=>{v2e();a2();x2e();_5();eY();gT()});var A2e,ml,ZT=D(()=>{A2e=ve(Or()),ml=A2e.default.getLogger("auth");ml.setLevel("error")});var ni,o1,fct,pct,hct,rY,mct,XT,e7,T2e=D(()=>{ni={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},o1={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},fct={[ni.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[ni.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[ni.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[ni.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[ni.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},pct={[ni.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:o1.SAPPHIRE_MAINNET},[ni.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:o1.SAPPHIRE_MAINNET},[ni.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:o1.SAPPHIRE_MAINNET},[ni.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:o1.SAPPHIRE_MAINNET},[ni.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:o1.SAPPHIRE_DEVNET}},hct={[ni.MAINNET]:"mainnet",[ni.TESTNET]:"goerli",[ni.CYAN]:"polygon-mainnet",[ni.AQUA]:"polygon-mainnet",[ni.CELESTE]:"polygon-mainnet"},rY={[o1.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[o1.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[ni.MAINNET]:"https://api.web3auth.io/signer-service",[ni.TESTNET]:"https://api.web3auth.io/signer-service",[ni.CYAN]:"https://api.web3auth.io/signer-polygon-service",[ni.AQUA]:"https://api.web3auth.io/signer-polygon-service",[ni.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},mct={[ni.MAINNET]:"https://api.web3auth.io/metadata-service",[ni.TESTNET]:"https://api.web3auth.io/metadata-service",[ni.CYAN]:"https://api.web3auth.io/metadata-service",[ni.AQUA]:"https://api.web3auth.io/metadata-service",[ni.CELESTE]:"https://api.web3auth.io/metadata-service"},XT="https://api.web3auth.io/session-service",e7="https://session.web3auth.io"});var t7=D(()=>{T2e()});function C2e(t){r7.setLevel(t)}async function ek(t,e){let r=null;try{r=new URL(t)}catch{}return I2e&&r&&(gct.includes(r.origin)||wct.includes(r.pathname))?await I2e.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function tk(){let t={};return _2e&&(t[bct]=_2e),S2e&&(t[yct]=S2e),t}function rk(t){r7.info(`Response: ${t.status} ${t.statusText}`),r7.info(`Url: ${t.url}`)}function vct(t){let e=t.headers.get("x-web3-correlation-id");e&&r7.info(`Request tracing with traceID = ${e}`)}var n7,XN,r7,_2e,S2e,bct,yct,I2e,gct,wct,Ect,i7,x2,R2e,P2e,o7=D(()=>{nt();n7=ve(Do()),XN=ve(Or()),r7=XN.default.getLogger("http-helpers");r7.setLevel(XN.levels.INFO);_2e="torus-default",S2e="",bct="x-api-key",yct="x-embed-host",I2e=null,gct=[],wct=[];Ect=async(t,e)=>{let r=null;try{let n=new Promise((o,a)=>{r=setTimeout(()=>{a(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},i7=async(t,e={},r={})=>{let n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=q(q({},n.headers),tk())),e.method="GET";let i=(0,n7.default)(n,e),o=await ek(t,i);if(o.ok){let a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw rk(o),o},x2=(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),tk())),r.method="POST";let o=(0,n7.default)(i,r);return n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),Ect(n.timeout||6e4,ek(t,o).then(a=>{if(n.logTracingHeader&&vct(a),a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw rk(a),a}))},R2e=async(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),tk())),r.method="PATCH";let o=(0,n7.default)(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);let a=await ek(t,o);if(a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw rk(a),a},P2e=async(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),tk())),r.method="PUT";let o=(0,n7.default)(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);let a=await ek(t,o);if(a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw rk(a),a}});var a7,nY=D(()=>{a7=t=>t.padStart(64,"0").slice(0,64)});var nk,O2e=D(()=>{Ye();o7();nY();nk=class{constructor(){V(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=a7(this.sessionId)}request({method:e="GET",url:r,data:n={},headers:i={}}){let o={headers:i};switch(e){case"GET":return i7(r,o);case"POST":return x2(r,n,o);case"PUT":return P2e(r,n,o);case"PATCH":return R2e(r,n,o)}throw new Error("Invalid method type")}}});var Ai,L5,xct,Act,Tct,_ct,Sct,iY,N2e=D(()=>{Ai={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},L5={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},xct={[Ai.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[Ai.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[Ai.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[Ai.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[Ai.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},Act={[Ai.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:L5.SAPPHIRE_MAINNET},[Ai.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:L5.SAPPHIRE_MAINNET},[Ai.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:L5.SAPPHIRE_MAINNET},[Ai.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:L5.SAPPHIRE_MAINNET},[Ai.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:L5.SAPPHIRE_DEVNET}},Tct={[Ai.MAINNET]:"mainnet",[Ai.TESTNET]:"goerli",[Ai.CYAN]:"polygon-mainnet",[Ai.AQUA]:"polygon-mainnet",[Ai.CELESTE]:"polygon-mainnet"},_ct={[L5.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[L5.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Ai.MAINNET]:"https://api.web3auth.io/signer-service",[Ai.TESTNET]:"https://api.web3auth.io/signer-service",[Ai.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Ai.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Ai.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},Sct={[Ai.MAINNET]:"https://api.web3auth.io/metadata-service",[Ai.TESTNET]:"https://api.web3auth.io/metadata-service",[Ai.CYAN]:"https://api.web3auth.io/metadata-service",[Ai.AQUA]:"https://api.web3auth.io/metadata-service",[Ai.CELESTE]:"https://api.web3auth.io/metadata-service"},iY="https://api.web3auth.io/session-service"});var k2e=D(()=>{N2e()});function bl(t,e){if(!t)throw new Error(e||"Assertion failed")}function Rct(t){return Buffer.isBuffer(t)&&t.length===32}function c7(t){return Rct(t)?t.compare(Cct)>0&&t.compare(Ict)<0:!1}function Pct(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function s7(t){if(typeof yl.getRandomValues>"u")return Buffer.from(yl.randomBytes(t));let e=new Uint8Array(t);return yl.getRandomValues(e),Buffer.from(e)}async function B2e(t){if(!yl.createHash){let n=await U5.digest("SHA-512",t);return new Uint8Array(n)}let r=yl.createHash("sha512").update(t).digest();return new Uint8Array(r)}function D2e(t){return async function(e,r,n){if(U5&&U5[t]&&U5.importKey){let i={name:"AES-CBC"},o=await U5.importKey("raw",r,i,!1,[t]),a={name:"AES-CBC",iv:e},s=await U5[t](a,o,n);return Buffer.from(new Uint8Array(s))}else if(t==="encrypt"&&yl.createCipheriv){let i=yl.createCipheriv("aes-256-cbc",r,e),o=i.update(n),a=i.final();return Buffer.concat([o,a])}else if(t==="decrypt"&&yl.createDecipheriv){let i=yl.createDecipheriv("aes-256-cbc",r,e),o=i.update(n),a=i.final();return Buffer.concat([o,a])}throw new Error(`Unsupported operation: ${t}`)}}async function L2e(t,e){if(!yl.createHmac){let i={name:"HMAC",hash:{name:"SHA-256"}},o=await U5.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),a=await U5.sign("HMAC",o,e);return Buffer.from(new Uint8Array(a))}let r=yl.createHmac("sha256",Buffer.from(t));return r.update(e),r.digest()}async function kct(t,e,r){let n=await L2e(t,e);return Pct(n,r)}var M2e,ik,yl,U5,Ict,Cct,Oct,Nct,U2e,Md,Ow,F2e,H2e,oY,ok=D(()=>{M2e=ve(uT()),ik=new M2e.ec("secp256k1"),yl=globalThis.crypto||globalThis.msCrypto||{},U5=yl.subtle||yl.webkitSubtle,Ict=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Cct=Buffer.alloc(32,0);Oct=D2e("encrypt"),Nct=D2e("decrypt");U2e=function(){let t=s7(32);for(;!c7(t);)t=s7(32);return t},Md=function(t){return bl(t.length===32,"Bad private key"),bl(c7(t),"Bad private key"),Buffer.from(ik.keyFromPrivate(t).getPublic("array"))},Ow=async function(t,e){return bl(t.length===32,"Bad private key"),bl(c7(t),"Bad private key"),bl(e.length>0,"Message should not be empty"),bl(e.length<=32,"Message is too long"),Buffer.from(ik.sign(e,t,{canonical:!0}).toDER())},F2e=async function(t,e,r){bl(Buffer.isBuffer(t),"Bad private key"),bl(Buffer.isBuffer(e),"Bad public key"),bl(t.length===32,"Bad private key"),bl(c7(t),"Bad private key"),bl(e.length===65||e.length===33,"Bad public key"),e.length===65&&bl(e[0]===4,"Bad public key"),e.length===33&&bl(e[0]===2||e[0]===3,"Bad public key");let n=ik.keyFromPrivate(t),i=ik.keyFromPublic(e),o=n.derive(i.getPublic());return r?Buffer.from(o.toString(16,64),"hex"):Buffer.from(o.toArray())},H2e=async function(t,e,r){r=r||{};let n=r.ephemPrivateKey||s7(32);for(;!c7(n);)n=r.ephemPrivateKey||s7(32);let i=Md(n),o=await F2e(n,t,r.padding),a=await B2e(o),s=r.iv||s7(16),c=a.slice(0,32),l=a.slice(32),d=await Oct(s,Buffer.from(c),e),f=Buffer.concat([s,i,d]),p=await L2e(Buffer.from(l),f);return{iv:s,ephemPublicKey:i,ciphertext:d,mac:p}},oY=async function(t,e,r){let n=await F2e(t,e.ephemPublicKey,r),i=await B2e(n),o=i.slice(0,32),a=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),c=await kct(Buffer.from(a),s,e.mac);if(!c&&!r)return oY(t,e,!0);if(!c&&r===!0)throw new Error("bad MAC after trying padded");let l=await Nct(e.iv,Buffer.from(o),e.ciphertext);return Buffer.from(new Uint8Array(l))}});function l7(t){return e=>(AN(e),t(e))}var z2e=D(()=>{mW()});var Xdr,G2e,efr,tfr,j2e=D(()=>{h2();z2e();Xdr=l7(vN),G2e=(()=>{let t=l7(M0);return t.create=M0.create,t})(),efr=l7(EN),tfr=l7(xN)});function Qp(t){return Buffer.from(G2e(t))}var $2e,aY,sY=D(()=>{$2e=ve(uT());j2e();aY=new $2e.ec("secp256k1")});function V2e(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function K2e(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function A2(t,e){let r=JSON.stringify(e),n=Buffer.from(r,"utf-8"),i=await H2e(Md(Buffer.from(t,"hex")),n),o=K2e(i);return JSON.stringify(o)}async function u7(t,e){let r=JSON.parse(e),n=V2e(r),i=aY.keyFromPrivate(t),a=(await oY(Buffer.from(i.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8");return JSON.parse(a)}var q2e=D(()=>{ok();sY()});var cY=D(()=>{sY();q2e()});var Mct,F5,W2e=D(()=>{Ye();k2e();ok();cY();O2e();nY();Mct=86400,F5=class extends nk{constructor({sessionServerBaseUrl:e,sessionNamespace:r,sessionTime:n,sessionId:i,allowedOrigin:o}={}){super(),V(this,"sessionServerBaseUrl",iY),V(this,"sessionNamespace",void 0),V(this,"allowedOrigin",void 0),V(this,"sessionTime",Mct),V(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),r&&(this.sessionNamespace=r),n&&(this.sessionTime=n),i&&(this.sessionId=a7(i)),o?this.allowedOrigin=o:this.allowedOrigin="*"}static generateRandomSessionKey(){return a7(U2e().toString("hex"))}async createSession(e,r={}){super.checkSessionParams();let n=Buffer.from(this.sessionId,"hex"),i=Md(n).toString("hex"),o=await A2(this.sessionId,e),a=(await Ow(n,Qp(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:r}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();let n={key:Md(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:n,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");let o=await u7(this.sessionId,i.message);if(o.error)throw new Error("There was an error decrypting data.");return o}async updateSession(e,r={}){super.checkSessionParams();let n=Buffer.from(this.sessionId,"hex"),i=Md(n).toString("hex"),o=await A2(this.sessionId,e),a=(await Ow(n,Qp(Buffer.from(o,"utf8")))).toString("hex"),s={key:i,data:o,signature:a,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:s,headers:r})}async invalidateSession(e={}){super.checkSessionParams();let r=Buffer.from(this.sessionId,"hex"),n=Md(r).toString("hex"),i=await A2(this.sessionId,{}),o=(await Ow(r,Qp(Buffer.from(i,"utf8")))).toString("hex"),a={key:n,data:i,signature:o,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:e}),this.sessionId="",!0}}});var Y2e=D(()=>{W2e()});var J2e,Q2e,T2,lY,H5,Bd,gl,a1,ak,uY,dY,fY,pY,hY,mY,bY,yY,gY,sk=D(()=>{nt();t7();J2e=ni,Q2e=o1,T2=q(q({},Q2e),J2e),lY={SECP256K1:"secp256k1",ED25519:"ed25519",OTHER:"other"},H5={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_SOCIAL_FACTOR:"add_social_factor",MODIFY_SOCIAL_FACTOR:"modify_social_factor",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},Bd={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},gl={DEFAULT:"default",IFRAME:"iframe"},a1={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},ak="auth-iframe",uY="http://localhost:3000",dY="https://staging-auth.web3auth.io",fY="https://develop-auth.web3auth.io",pY="https://auth.web3auth.io",hY="http://localhost:5173",mY="https://staging-account.web3auth.io",bY="https://develop-account.web3auth.io",yY="https://account.web3auth.io",gY=1e3*10});var ck,Z2e=D(()=>{ck={light:"light",dark:"dark",auto:"auto"}});function _2(t){return wY.decode(t)}function Nw(t){return wY.encode(JSON.stringify(t))}function EY(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t))}}var X2e,wY,vY,d7=D(()=>{X2e=ve(fw()),wY=X2e.default;vY=t=>{let e=window.document.createElement("template"),r=t.trim();return e.innerHTML=r,e.content.firstChild}});function Bct(t){return t===ck.light?"light":t===ck.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}var lk,uk,ege=D(()=>{Ye();Jp();sk();Z2e();ZT();d7();lk=new Map;uk=class{constructor({sdkUrl:e,whiteLabel:r}){V(this,"sdkUrl",void 0),V(this,"whiteLabel",void 0),V(this,"initialized",!1),V(this,"loginCallbackSuccess",null),V(this,"loginCallbackFailed",null),V(this,"embedNonce",s2()),this.sdkUrl=e,this.whiteLabel=r}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return lk.get(this.embedNonce)}registerAuthServiceIframe(e){lk.set(this.embedNonce,e)}cleanup(){let e=lk.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),lk.delete(this.embedNonce))}async init({network:e,clientId:r}){if(typeof window>"u"||typeof document>"u")throw new Error("window or document is not available");if(this.initialized)throw new Error("AuthProvider already initialized");let n=new URL(this.sdkUrl);n.pathname.endsWith("/")?n.pathname+="frame":n.pathname+="/frame";let i=new URLSearchParams;i.append("origin",window.location.origin),i.append("nonce",this.embedNonce),n.hash=i.toString();let o=Bct(this.whiteLabel.mode||ck.light),a=vY(`<iframe
        id="${ak}-${this.embedNonce}"
        class="${ak}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${n.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${o};"
        allow="clipboard-write"
      ></iframe>`);return this.registerAuthServiceIframe(a),new Promise((s,c)=>{try{window.document.body.appendChild(a);let l=u=>{var d,f,p;if(u.origin!==this.targetOrigin)return;let{data:h}=u,{type:b,nonce:_}=h;if(_!==this.embedNonce)return;let A=h.data;switch(b){case a1.SETUP_COMPLETE:(d=this.getAuthServiceIframe())===null||d===void 0||(d=d.contentWindow)===null||d===void 0||d.postMessage({type:a1.INIT_DAPP,data:{network:e,clientId:r}},this.targetOrigin),this.initialized=!0,s();break;case a1.LOGIN_FAILED:(f=this.loginCallbackFailed)===null||f===void 0||f.call(this,A?.error||"Login failed, reason: unknown");break;case a1.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case a1.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case a1.LOGIN_SUCCESS:ml.info("LOGIN_SUCCESS",A),this.getAuthServiceIframe().style.display="none",A!=null&&A.sessionId&&((p=this.loginCallbackSuccess)===null||p===void 0||p.call(this,A));break;default:ml.warn(`Unknown message type: ${b}`);break}};window.addEventListener("message",l)}catch(l){c(l)}})}postLoginInitiatedMessage(e,r){var n;if(!this.initialized)throw new Error("Iframe not initialized");return(n=this.getAuthServiceIframe().contentWindow)===null||n===void 0||n.postMessage({type:a1.LOGIN_INITIATED,data:{loginConfig:e,nonce:r}},this.targetOrigin),new Promise((i,o)=>{this.loginCallbackSuccess=i,this.loginCallbackFailed=o})}postLoginCancelledMessage(e){var r;if(!this.initialized)throw new Error("Iframe not initialized");(r=this.getAuthServiceIframe().contentWindow)===null||r===void 0||r.postMessage({type:a1.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}});function Dct(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function Lct(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Uct,dk,xY=D(()=>{Uct=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),dk=(function(t){Uct(e,t);function e(r,n){var i=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),Dct(o,i.prototype),Lct(o),o}return e})(Error)});var fk,S2,Xi,AY=D(()=>{Ye();xY();fk=class extends dk{constructor(e,r){super(r),V(this,"code",void 0),V(this,"message",void 0),this.code=e,this.message=r||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}},S2=class t extends fk{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,r=""){return new t(e,`${t.messages[e]}, ${r}`)}static invalidParams(e=""){return t.fromCode(5001,e)}static notInitialized(e=""){return t.fromCode(5002,e)}};V(S2,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});Xi=class t extends fk{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,r=""){return new t(e,`${t.messages[e]}, ${r}`)}static invalidLoginParams(e=""){return t.fromCode(5111,e)}static userNotLoggedIn(e=""){return t.fromCode(5112,e)}static popupClosed(e=""){return t.fromCode(5113,e)}static loginFailed(e=""){return t.fromCode(5114,e)}static popupBlocked(e=""){return t.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return t.fromCode(5116,e)}static mfaNotEnabled(e=""){return t.fromCode(5117,e)}};V(Xi,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"})});var Ti,z5,Fct,Hct,zct,Gct,jct,TY,_Y,tge=D(()=>{Ti={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},z5={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},Fct={[Ti.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[Ti.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[Ti.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[Ti.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[Ti.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},Hct={[Ti.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:z5.SAPPHIRE_MAINNET},[Ti.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:z5.SAPPHIRE_MAINNET},[Ti.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:z5.SAPPHIRE_MAINNET},[Ti.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:z5.SAPPHIRE_MAINNET},[Ti.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:z5.SAPPHIRE_DEVNET}},zct={[Ti.MAINNET]:"mainnet",[Ti.TESTNET]:"goerli",[Ti.CYAN]:"polygon-mainnet",[Ti.AQUA]:"polygon-mainnet",[Ti.CELESTE]:"polygon-mainnet"},Gct={[z5.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[z5.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[Ti.MAINNET]:"https://api.web3auth.io/signer-service",[Ti.TESTNET]:"https://api.web3auth.io/signer-service",[Ti.CYAN]:"https://api.web3auth.io/signer-polygon-service",[Ti.AQUA]:"https://api.web3auth.io/signer-polygon-service",[Ti.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},jct={[Ti.MAINNET]:"https://api.web3auth.io/metadata-service",[Ti.TESTNET]:"https://api.web3auth.io/metadata-service",[Ti.CYAN]:"https://api.web3auth.io/metadata-service",[Ti.AQUA]:"https://api.web3auth.io/metadata-service",[Ti.CELESTE]:"https://api.web3auth.io/metadata-service"},TY="https://api.web3auth.io/session-service",_Y="https://session.web3auth.io"});var rge=D(()=>{tge()});var nge,Ua,ige=D(()=>{nge=ve(Or()),Ua=nge.default.getLogger("SecurePubSub")});var I2,oge=D(()=>{Ye();rge();ok();o7();cY();DN();ige();I2=class{constructor(e={}){V(this,"options",void 0),V(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||TY,this.options.socketUrl=e.socketUrl||_Y,this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?Ua.enableAll():Ua.disableAll()}static setLogLevel(e){Ua.setLevel(e),C2e(e)}async publish(e,r){if(!this.isValidTopic(e))throw Ua.error("Invalid topic"),new Error("Invalid topic");let n=Qp(Buffer.from(e,"utf8")),i=await A2(n.toString("hex"),r),o=await Ow(n,Qp(Buffer.from(i,"utf8"))),a={key:Md(n).toString("hex"),data:i,signature:o.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return x2(`${this.options.serverUrl}/v2/channel/set`,a)}async subscribe(e){let r=!0,n=Qp(Buffer.from(e,"utf8")),i=Md(n).toString("hex"),o=this.getSocketConnection();o.connected?(Ua.debug("already connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):o.once("connect",()=>{Ua.debug("connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});let a=()=>{o.once("connect",async()=>{Ua.debug("connected with socket using reconnect"),r&&o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},s=()=>{r||document.removeEventListener("visibilitychange",s),!o.connected&&document.visibilityState==="visible"&&a()},c=()=>{Ua.debug("socket disconnected",r),r?(Ua.error("socket disconnected unexpectedly, reconnecting socket"),a()):o.removeListener("disconnect",c)};o.on("disconnect",c);let l=new Promise((u,d)=>{let f=async p=>{try{let h=await u7(n.toString("hex"),p);Ua.info("got data",h),u(h)}catch(h){Ua.error(h),d(h)}finally{r=!1,typeof document<"u"&&document.removeEventListener("visibilitychange",s)}};Ua.info("listening to",`${i}_success`),o.once(`${i}_success`,f)});return typeof document<"u"&&document.addEventListener("visibilitychange",s),l}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;let e=Wp(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",r=>{e.io.opts.transports=["polling","websocket"],Ua.error("connect error",r)}),e.on("connect",async()=>{let{engine:r}=e.io;Ua.debug("initially connected to",r.transport.name),r.once("upgrade",()=>{Ua.debug("upgraded",r.transport.name)}),r.once("close",n=>{Ua.debug("connection closed",n)})}),e.on("error",r=>{Ua.error("socket errored",r),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}});var SY=D(()=>{oge()});var age,pk,sge=D(()=>{Ye();t7();Jp();SY();age=ve(Da());AY();pk=class extends age.EventEmitter{constructor({url:e,target:r,features:n,timeout:i=3e4,sessionSocketUrl:o,sessionServerUrl:a}){super(),V(this,"url",void 0),V(this,"target",void 0),V(this,"features",void 0),V(this,"window",void 0),V(this,"windowTimer",void 0),V(this,"iClosedWindow",void 0),V(this,"timeout",void 0),V(this,"sessionSocketUrl",void 0),V(this,"sessionServerUrl",void 0),this.url=e,this.target=r||"_blank",this.features=n||yT(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this.sessionServerUrl=a||XT,this.sessionSocketUrl=o||e7,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw Xi.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){let r=new I2({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),n=await r.subscribe(e);this.close(),r.cleanup();let i=JSON.parse(n);return i.error?{error:i.error,state:i.state}:i.data}}});function IY(t=!1){let e={},r=new URLSearchParams(window.location.search.slice(1));r.forEach((a,s)=>{s!=="b64Params"&&(e[s]=a)});let n=r.get("b64Params");if(n)try{let a=JSON.parse(_2(n));Object.keys(a).forEach(s=>{e[s]=a[s]})}catch(a){ml.error(a)}let i=new URLSearchParams(window.location.hash.substring(1));i.forEach((a,s)=>{s!=="b64Params"&&(e[s]=a)});let o=i.get("b64Params");if(o)try{let a=JSON.parse(_2(o));Object.keys(a).forEach(s=>{e[s]=a[s]})}catch(a){ml.error(a)}if(t){let a=new URL(window.location.origin+window.location.pathname);r.size!==0&&(r.delete("error"),r.delete("state"),r.delete("b64Params"),r.delete("sessionNamespace"),a.search=r.toString()),i.size!==0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),a.hash=i.toString()),window.history.replaceState(q(q({},window.history.state),{},{as:a.href,url:a.href}),"",a.href)}return e}var kw,CY=D(()=>{nt();ZT();d7();kw="10.5.0"});var Mw,Bw,RY=D(()=>{Ye();Jp();Mw=class{constructor(){V(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,r){this.store.set(e,r)}removeItem(e){this.store.delete(e)}},Bw=class{constructor(e,r){V(this,"storage",void 0),V(this,"_storeKey",void 0),this.storage=r,this._storeKey=e;try{r.getItem(e)||this.resetStore()}catch{}}static getInstance(e,r="local"){if(!this.instanceMap.has(e)){let n;r==="local"&&pw("localStorage")?n=window.localStorage:r==="session"&&pw("sessionStorage")?n=window.sessionStorage:n=new Mw,this.instanceMap.set(e,new this(e,n))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){let e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,r){let n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=r,this.storage.setItem(this._storeKey,JSON.stringify(n))}};V(Bw,"instanceMap",new Map)});var f7,cge=D(()=>{nt();Ye();t7();Jp();Y2e();ZT();ege();AY();sge();CY();sk();RY();d7();f7=class{constructor(e){if(V(this,"state",{}),V(this,"options",void 0),V(this,"sessionManager",void 0),V(this,"currentStorage",void 0),V(this,"_storageBaseKey","auth_store"),V(this,"dappState",void 0),V(this,"addVersionInUrls",!0),V(this,"authProvider",void 0),V(this,"authProviderPromise",void 0),!e.clientId)throw S2.invalidParams("clientId is required");e.network||(e.network=T2.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=Bd.PRODUCTION),e.sdkMode||(e.sdkMode=gl.DEFAULT),(e.buildEnv===Bd.DEVELOPMENT||e.buildEnv===Bd.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===Bd.DEVELOPMENT?(e.sdkUrl=uY,e.dashboardUrl=hY):e.buildEnv===Bd.STAGING?(e.sdkUrl=dY,e.dashboardUrl=mY):e.buildEnv===Bd.TESTING?(e.sdkUrl=fY,e.dashboardUrl=bY):(e.sdkUrl=pY,e.dashboardUrl=yY)),!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=Zi.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),typeof e.includeUserDataInToken!="boolean"&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=XT),e.sessionSocketUrl||(e.sessionSocketUrl=e7),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${kw.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${kw.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){let e=IY(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);let r=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=Bw.getInstance(r,this.options.storage);let n=this.currentStorage.get("sessionId");if(this.sessionManager=new F5({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:n,allowedOrigin:this.options.sdkUrl}),(this.options.network===T2.TESTNET||this.options.network===T2.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==Bd.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,Xi.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){let i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===gl.IFRAME&&(this.authProvider=new uk({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),this.state.sessionId||(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!e.authConnection&&(!e.authConnectionId||!e.groupedAuthConnectionId))throw Xi.invalidLoginParams("AuthConnection is required");let r=q({},e),n={actionType:H5.LOGIN,options:this.options,params:r},i=await this.authHandler(`${this.baseUrl}/start`,n,l2(e.authConnection));if(this.options.uxMode===Zi.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Xi.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,r){var n;if(this.options.sdkMode!==gl.IFRAME)throw Xi.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,(n=this.authProvider)!==null&&n!==void 0&&n.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});let i=await this.authProvider.postLoginInitiatedMessage({actionType:H5.LOGIN,params:e,options:this.options},r);if(i.error)throw Xi.loginFailed(i.error);this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var r;if(this.options.sdkMode!==gl.IFRAME)throw Xi.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!((r=this.authProvider)!==null&&r!==void 0&&r.initialized))throw S2.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw Xi.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var r;if(!this.sessionId)throw Xi.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw Xi.mfaAlreadyEnabled();let n={actionType:H5.ENABLE_MFA,options:q(q({},this.options),{},{sdkMode:gl.DEFAULT}),params:q(q({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n,gY);if(this.options.uxMode===Zi.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Xi.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),!!(!((r=this.state.userInfo)===null||r===void 0)&&r.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw Xi.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw Xi.mfaNotEnabled();let r={dappUrl:`${window.location.origin}${window.location.pathname}`},n=F5.generateRandomSessionKey(),i={actionType:H5.MANAGE_MFA,options:q(q({},this.options),{},{uxMode:Zi.REDIRECT,sdkMode:gl.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:q(q(q({},r),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:Nw({loginId:n})}),sessionId:this.sessionId};this.createLoginSession(n,i,i.options.sessionTime,!0);let o={loginId:n,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},a=T5({baseURL:`${this.baseUrl}/start`,hash:{b64Params:Nw(o)}});window.open(a,"_blank")}async manageSocialFactor(e,r){if(!this.sessionId)throw Xi.userNotLoggedIn();let n={actionType:e,options:q(q({},this.options),{},{sdkMode:gl.DEFAULT}),params:q({},r),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Zi.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw Xi.userNotLoggedIn();let r={actionType:H5.ADD_AUTHENTICATOR_FACTOR,options:q(q({},this.options),{},{sdkMode:gl.DEFAULT}),params:q(q({},e),{},{authConnection:Je.AUTHENTICATOR}),sessionId:this.sessionId},n=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==Zi.REDIRECT)return!n.error}async addPasskeyFactor(e){if(!this.sessionId)throw Xi.userNotLoggedIn();let r={actionType:H5.ADD_PASSKEY_FACTOR,options:q(q({},this.options),{},{sdkMode:gl.DEFAULT}),params:q(q({},e),{},{authConnection:Je.PASSKEYS}),sessionId:this.sessionId},n=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==Zi.REDIRECT)return!n.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw Xi.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,r,n=600,i=!1){if(!this.sessionManager)throw S2.notInitialized();let a=new F5({sessionServerBaseUrl:r.options.storageServerUrl,sessionNamespace:r.options.sessionNamespace,sessionTime:n,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(r)));r.options.uxMode===Zi.REDIRECT&&!i&&await a}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return ml.error("authorization failed",e),{}}}updateState(e){this.state=q(q({},this.state),e)}async rehydrateSession(){let e=await this._authorizeSession();this.updateState(e)}async authHandler(e,r,n=1e3*10){let i=F5.generateRandomSessionKey();await this.createLoginSession(i,r);let o={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===Zi.REDIRECT){let c=T5({baseURL:e,hash:{b64Params:Nw(o)}});window.location.href=c;return}let a=T5({baseURL:e,hash:{b64Params:Nw(o)}}),s=new pk({url:a,timeout:n,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((c,l)=>{s.on("close",()=>{l(Xi.popupClosed())}),s.listenOnChannel(i).then(c).catch(l);try{s.open()}catch(u){l(u)}})}}});var lge=de((M1r,hk)=>{(function(t){"use strict";var e=function(Y){var Z,Q=new Float64Array(16);if(Y)for(Z=0;Z<Y.length;Z++)Q[Z]=Y[Z];return Q},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=e(),a=e([1]),s=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(Y,Z,Q,j){Y[Z]=Q>>24&255,Y[Z+1]=Q>>16&255,Y[Z+2]=Q>>8&255,Y[Z+3]=Q&255,Y[Z+4]=j>>24&255,Y[Z+5]=j>>16&255,Y[Z+6]=j>>8&255,Y[Z+7]=j&255}function h(Y,Z,Q,j,ee){var se,fe=0;for(se=0;se<ee;se++)fe|=Y[Z+se]^Q[j+se];return(1&fe-1>>>8)-1}function b(Y,Z,Q,j){return h(Y,Z,Q,j,16)}function _(Y,Z,Q,j){return h(Y,Z,Q,j,32)}function A(Y,Z,Q,j){for(var ee=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,se=Q[0]&255|(Q[1]&255)<<8|(Q[2]&255)<<16|(Q[3]&255)<<24,fe=Q[4]&255|(Q[5]&255)<<8|(Q[6]&255)<<16|(Q[7]&255)<<24,pe=Q[8]&255|(Q[9]&255)<<8|(Q[10]&255)<<16|(Q[11]&255)<<24,Ae=Q[12]&255|(Q[13]&255)<<8|(Q[14]&255)<<16|(Q[15]&255)<<24,Ot=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,Ke=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Kt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,mt=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,Zt=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,nr=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,yr=Q[16]&255|(Q[17]&255)<<8|(Q[18]&255)<<16|(Q[19]&255)<<24,fr=Q[20]&255|(Q[21]&255)<<8|(Q[22]&255)<<16|(Q[23]&255)<<24,ir=Q[24]&255|(Q[25]&255)<<8|(Q[26]&255)<<16|(Q[27]&255)<<24,cr=Q[28]&255|(Q[29]&255)<<8|(Q[30]&255)<<16|(Q[31]&255)<<24,or=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,gt=ee,Dt=se,ft=fe,Et=pe,_t=Ae,lt=Ot,ye=Ke,we=Kt,He=mt,Ne=Zt,ke=nr,We=yr,dr=fr,Br=ir,zr=cr,Dr=or,ie,qr=0;qr<20;qr+=2)ie=gt+dr|0,_t^=ie<<7|ie>>>25,ie=_t+gt|0,He^=ie<<9|ie>>>23,ie=He+_t|0,dr^=ie<<13|ie>>>19,ie=dr+He|0,gt^=ie<<18|ie>>>14,ie=lt+Dt|0,Ne^=ie<<7|ie>>>25,ie=Ne+lt|0,Br^=ie<<9|ie>>>23,ie=Br+Ne|0,Dt^=ie<<13|ie>>>19,ie=Dt+Br|0,lt^=ie<<18|ie>>>14,ie=ke+ye|0,zr^=ie<<7|ie>>>25,ie=zr+ke|0,ft^=ie<<9|ie>>>23,ie=ft+zr|0,ye^=ie<<13|ie>>>19,ie=ye+ft|0,ke^=ie<<18|ie>>>14,ie=Dr+We|0,Et^=ie<<7|ie>>>25,ie=Et+Dr|0,we^=ie<<9|ie>>>23,ie=we+Et|0,We^=ie<<13|ie>>>19,ie=We+we|0,Dr^=ie<<18|ie>>>14,ie=gt+Et|0,Dt^=ie<<7|ie>>>25,ie=Dt+gt|0,ft^=ie<<9|ie>>>23,ie=ft+Dt|0,Et^=ie<<13|ie>>>19,ie=Et+ft|0,gt^=ie<<18|ie>>>14,ie=lt+_t|0,ye^=ie<<7|ie>>>25,ie=ye+lt|0,we^=ie<<9|ie>>>23,ie=we+ye|0,_t^=ie<<13|ie>>>19,ie=_t+we|0,lt^=ie<<18|ie>>>14,ie=ke+Ne|0,We^=ie<<7|ie>>>25,ie=We+ke|0,He^=ie<<9|ie>>>23,ie=He+We|0,Ne^=ie<<13|ie>>>19,ie=Ne+He|0,ke^=ie<<18|ie>>>14,ie=Dr+zr|0,dr^=ie<<7|ie>>>25,ie=dr+Dr|0,Br^=ie<<9|ie>>>23,ie=Br+dr|0,zr^=ie<<13|ie>>>19,ie=zr+Br|0,Dr^=ie<<18|ie>>>14;gt=gt+ee|0,Dt=Dt+se|0,ft=ft+fe|0,Et=Et+pe|0,_t=_t+Ae|0,lt=lt+Ot|0,ye=ye+Ke|0,we=we+Kt|0,He=He+mt|0,Ne=Ne+Zt|0,ke=ke+nr|0,We=We+yr|0,dr=dr+fr|0,Br=Br+ir|0,zr=zr+cr|0,Dr=Dr+or|0,Y[0]=gt>>>0&255,Y[1]=gt>>>8&255,Y[2]=gt>>>16&255,Y[3]=gt>>>24&255,Y[4]=Dt>>>0&255,Y[5]=Dt>>>8&255,Y[6]=Dt>>>16&255,Y[7]=Dt>>>24&255,Y[8]=ft>>>0&255,Y[9]=ft>>>8&255,Y[10]=ft>>>16&255,Y[11]=ft>>>24&255,Y[12]=Et>>>0&255,Y[13]=Et>>>8&255,Y[14]=Et>>>16&255,Y[15]=Et>>>24&255,Y[16]=_t>>>0&255,Y[17]=_t>>>8&255,Y[18]=_t>>>16&255,Y[19]=_t>>>24&255,Y[20]=lt>>>0&255,Y[21]=lt>>>8&255,Y[22]=lt>>>16&255,Y[23]=lt>>>24&255,Y[24]=ye>>>0&255,Y[25]=ye>>>8&255,Y[26]=ye>>>16&255,Y[27]=ye>>>24&255,Y[28]=we>>>0&255,Y[29]=we>>>8&255,Y[30]=we>>>16&255,Y[31]=we>>>24&255,Y[32]=He>>>0&255,Y[33]=He>>>8&255,Y[34]=He>>>16&255,Y[35]=He>>>24&255,Y[36]=Ne>>>0&255,Y[37]=Ne>>>8&255,Y[38]=Ne>>>16&255,Y[39]=Ne>>>24&255,Y[40]=ke>>>0&255,Y[41]=ke>>>8&255,Y[42]=ke>>>16&255,Y[43]=ke>>>24&255,Y[44]=We>>>0&255,Y[45]=We>>>8&255,Y[46]=We>>>16&255,Y[47]=We>>>24&255,Y[48]=dr>>>0&255,Y[49]=dr>>>8&255,Y[50]=dr>>>16&255,Y[51]=dr>>>24&255,Y[52]=Br>>>0&255,Y[53]=Br>>>8&255,Y[54]=Br>>>16&255,Y[55]=Br>>>24&255,Y[56]=zr>>>0&255,Y[57]=zr>>>8&255,Y[58]=zr>>>16&255,Y[59]=zr>>>24&255,Y[60]=Dr>>>0&255,Y[61]=Dr>>>8&255,Y[62]=Dr>>>16&255,Y[63]=Dr>>>24&255}function C(Y,Z,Q,j){for(var ee=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,se=Q[0]&255|(Q[1]&255)<<8|(Q[2]&255)<<16|(Q[3]&255)<<24,fe=Q[4]&255|(Q[5]&255)<<8|(Q[6]&255)<<16|(Q[7]&255)<<24,pe=Q[8]&255|(Q[9]&255)<<8|(Q[10]&255)<<16|(Q[11]&255)<<24,Ae=Q[12]&255|(Q[13]&255)<<8|(Q[14]&255)<<16|(Q[15]&255)<<24,Ot=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,Ke=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Kt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,mt=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,Zt=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,nr=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,yr=Q[16]&255|(Q[17]&255)<<8|(Q[18]&255)<<16|(Q[19]&255)<<24,fr=Q[20]&255|(Q[21]&255)<<8|(Q[22]&255)<<16|(Q[23]&255)<<24,ir=Q[24]&255|(Q[25]&255)<<8|(Q[26]&255)<<16|(Q[27]&255)<<24,cr=Q[28]&255|(Q[29]&255)<<8|(Q[30]&255)<<16|(Q[31]&255)<<24,or=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,gt=ee,Dt=se,ft=fe,Et=pe,_t=Ae,lt=Ot,ye=Ke,we=Kt,He=mt,Ne=Zt,ke=nr,We=yr,dr=fr,Br=ir,zr=cr,Dr=or,ie,qr=0;qr<20;qr+=2)ie=gt+dr|0,_t^=ie<<7|ie>>>25,ie=_t+gt|0,He^=ie<<9|ie>>>23,ie=He+_t|0,dr^=ie<<13|ie>>>19,ie=dr+He|0,gt^=ie<<18|ie>>>14,ie=lt+Dt|0,Ne^=ie<<7|ie>>>25,ie=Ne+lt|0,Br^=ie<<9|ie>>>23,ie=Br+Ne|0,Dt^=ie<<13|ie>>>19,ie=Dt+Br|0,lt^=ie<<18|ie>>>14,ie=ke+ye|0,zr^=ie<<7|ie>>>25,ie=zr+ke|0,ft^=ie<<9|ie>>>23,ie=ft+zr|0,ye^=ie<<13|ie>>>19,ie=ye+ft|0,ke^=ie<<18|ie>>>14,ie=Dr+We|0,Et^=ie<<7|ie>>>25,ie=Et+Dr|0,we^=ie<<9|ie>>>23,ie=we+Et|0,We^=ie<<13|ie>>>19,ie=We+we|0,Dr^=ie<<18|ie>>>14,ie=gt+Et|0,Dt^=ie<<7|ie>>>25,ie=Dt+gt|0,ft^=ie<<9|ie>>>23,ie=ft+Dt|0,Et^=ie<<13|ie>>>19,ie=Et+ft|0,gt^=ie<<18|ie>>>14,ie=lt+_t|0,ye^=ie<<7|ie>>>25,ie=ye+lt|0,we^=ie<<9|ie>>>23,ie=we+ye|0,_t^=ie<<13|ie>>>19,ie=_t+we|0,lt^=ie<<18|ie>>>14,ie=ke+Ne|0,We^=ie<<7|ie>>>25,ie=We+ke|0,He^=ie<<9|ie>>>23,ie=He+We|0,Ne^=ie<<13|ie>>>19,ie=Ne+He|0,ke^=ie<<18|ie>>>14,ie=Dr+zr|0,dr^=ie<<7|ie>>>25,ie=dr+Dr|0,Br^=ie<<9|ie>>>23,ie=Br+dr|0,zr^=ie<<13|ie>>>19,ie=zr+Br|0,Dr^=ie<<18|ie>>>14;Y[0]=gt>>>0&255,Y[1]=gt>>>8&255,Y[2]=gt>>>16&255,Y[3]=gt>>>24&255,Y[4]=lt>>>0&255,Y[5]=lt>>>8&255,Y[6]=lt>>>16&255,Y[7]=lt>>>24&255,Y[8]=ke>>>0&255,Y[9]=ke>>>8&255,Y[10]=ke>>>16&255,Y[11]=ke>>>24&255,Y[12]=Dr>>>0&255,Y[13]=Dr>>>8&255,Y[14]=Dr>>>16&255,Y[15]=Dr>>>24&255,Y[16]=ye>>>0&255,Y[17]=ye>>>8&255,Y[18]=ye>>>16&255,Y[19]=ye>>>24&255,Y[20]=we>>>0&255,Y[21]=we>>>8&255,Y[22]=we>>>16&255,Y[23]=we>>>24&255,Y[24]=He>>>0&255,Y[25]=He>>>8&255,Y[26]=He>>>16&255,Y[27]=He>>>24&255,Y[28]=Ne>>>0&255,Y[29]=Ne>>>8&255,Y[30]=Ne>>>16&255,Y[31]=Ne>>>24&255}function R(Y,Z,Q,j){A(Y,Z,Q,j)}function M(Y,Z,Q,j){C(Y,Z,Q,j)}var U=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(Y,Z,Q,j,ee,se,fe){var pe=new Uint8Array(16),Ae=new Uint8Array(64),Ot,Ke;for(Ke=0;Ke<16;Ke++)pe[Ke]=0;for(Ke=0;Ke<8;Ke++)pe[Ke]=se[Ke];for(;ee>=64;){for(R(Ae,pe,fe,U),Ke=0;Ke<64;Ke++)Y[Z+Ke]=Q[j+Ke]^Ae[Ke];for(Ot=1,Ke=8;Ke<16;Ke++)Ot=Ot+(pe[Ke]&255)|0,pe[Ke]=Ot&255,Ot>>>=8;ee-=64,Z+=64,j+=64}if(ee>0)for(R(Ae,pe,fe,U),Ke=0;Ke<ee;Ke++)Y[Z+Ke]=Q[j+Ke]^Ae[Ke];return 0}function z(Y,Z,Q,j,ee){var se=new Uint8Array(16),fe=new Uint8Array(64),pe,Ae;for(Ae=0;Ae<16;Ae++)se[Ae]=0;for(Ae=0;Ae<8;Ae++)se[Ae]=j[Ae];for(;Q>=64;){for(R(fe,se,ee,U),Ae=0;Ae<64;Ae++)Y[Z+Ae]=fe[Ae];for(pe=1,Ae=8;Ae<16;Ae++)pe=pe+(se[Ae]&255)|0,se[Ae]=pe&255,pe>>>=8;Q-=64,Z+=64}if(Q>0)for(R(fe,se,ee,U),Ae=0;Ae<Q;Ae++)Y[Z+Ae]=fe[Ae];return 0}function N(Y,Z,Q,j,ee){var se=new Uint8Array(32);M(se,j,ee,U);for(var fe=new Uint8Array(8),pe=0;pe<8;pe++)fe[pe]=j[pe+16];return z(Y,Z,Q,fe,se)}function k(Y,Z,Q,j,ee,se,fe){var pe=new Uint8Array(32);M(pe,se,fe,U);for(var Ae=new Uint8Array(8),Ot=0;Ot<8;Ot++)Ae[Ot]=se[Ot+16];return F(Y,Z,Q,j,ee,Ae,pe)}var O=function(Y){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Z,Q,j,ee,se,fe,pe,Ae;Z=Y[0]&255|(Y[1]&255)<<8,this.r[0]=Z&8191,Q=Y[2]&255|(Y[3]&255)<<8,this.r[1]=(Z>>>13|Q<<3)&8191,j=Y[4]&255|(Y[5]&255)<<8,this.r[2]=(Q>>>10|j<<6)&7939,ee=Y[6]&255|(Y[7]&255)<<8,this.r[3]=(j>>>7|ee<<9)&8191,se=Y[8]&255|(Y[9]&255)<<8,this.r[4]=(ee>>>4|se<<12)&255,this.r[5]=se>>>1&8190,fe=Y[10]&255|(Y[11]&255)<<8,this.r[6]=(se>>>14|fe<<2)&8191,pe=Y[12]&255|(Y[13]&255)<<8,this.r[7]=(fe>>>11|pe<<5)&8065,Ae=Y[14]&255|(Y[15]&255)<<8,this.r[8]=(pe>>>8|Ae<<8)&8191,this.r[9]=Ae>>>5&127,this.pad[0]=Y[16]&255|(Y[17]&255)<<8,this.pad[1]=Y[18]&255|(Y[19]&255)<<8,this.pad[2]=Y[20]&255|(Y[21]&255)<<8,this.pad[3]=Y[22]&255|(Y[23]&255)<<8,this.pad[4]=Y[24]&255|(Y[25]&255)<<8,this.pad[5]=Y[26]&255|(Y[27]&255)<<8,this.pad[6]=Y[28]&255|(Y[29]&255)<<8,this.pad[7]=Y[30]&255|(Y[31]&255)<<8};O.prototype.blocks=function(Y,Z,Q){for(var j=this.fin?0:2048,ee,se,fe,pe,Ae,Ot,Ke,Kt,mt,Zt,nr,yr,fr,ir,cr,or,gt,Dt,ft,Et=this.h[0],_t=this.h[1],lt=this.h[2],ye=this.h[3],we=this.h[4],He=this.h[5],Ne=this.h[6],ke=this.h[7],We=this.h[8],dr=this.h[9],Br=this.r[0],zr=this.r[1],Dr=this.r[2],ie=this.r[3],qr=this.r[4],An=this.r[5],Tn=this.r[6],jr=this.r[7],bn=this.r[8],yn=this.r[9];Q>=16;)ee=Y[Z+0]&255|(Y[Z+1]&255)<<8,Et+=ee&8191,se=Y[Z+2]&255|(Y[Z+3]&255)<<8,_t+=(ee>>>13|se<<3)&8191,fe=Y[Z+4]&255|(Y[Z+5]&255)<<8,lt+=(se>>>10|fe<<6)&8191,pe=Y[Z+6]&255|(Y[Z+7]&255)<<8,ye+=(fe>>>7|pe<<9)&8191,Ae=Y[Z+8]&255|(Y[Z+9]&255)<<8,we+=(pe>>>4|Ae<<12)&8191,He+=Ae>>>1&8191,Ot=Y[Z+10]&255|(Y[Z+11]&255)<<8,Ne+=(Ae>>>14|Ot<<2)&8191,Ke=Y[Z+12]&255|(Y[Z+13]&255)<<8,ke+=(Ot>>>11|Ke<<5)&8191,Kt=Y[Z+14]&255|(Y[Z+15]&255)<<8,We+=(Ke>>>8|Kt<<8)&8191,dr+=Kt>>>5|j,mt=0,Zt=mt,Zt+=Et*Br,Zt+=_t*(5*yn),Zt+=lt*(5*bn),Zt+=ye*(5*jr),Zt+=we*(5*Tn),mt=Zt>>>13,Zt&=8191,Zt+=He*(5*An),Zt+=Ne*(5*qr),Zt+=ke*(5*ie),Zt+=We*(5*Dr),Zt+=dr*(5*zr),mt+=Zt>>>13,Zt&=8191,nr=mt,nr+=Et*zr,nr+=_t*Br,nr+=lt*(5*yn),nr+=ye*(5*bn),nr+=we*(5*jr),mt=nr>>>13,nr&=8191,nr+=He*(5*Tn),nr+=Ne*(5*An),nr+=ke*(5*qr),nr+=We*(5*ie),nr+=dr*(5*Dr),mt+=nr>>>13,nr&=8191,yr=mt,yr+=Et*Dr,yr+=_t*zr,yr+=lt*Br,yr+=ye*(5*yn),yr+=we*(5*bn),mt=yr>>>13,yr&=8191,yr+=He*(5*jr),yr+=Ne*(5*Tn),yr+=ke*(5*An),yr+=We*(5*qr),yr+=dr*(5*ie),mt+=yr>>>13,yr&=8191,fr=mt,fr+=Et*ie,fr+=_t*Dr,fr+=lt*zr,fr+=ye*Br,fr+=we*(5*yn),mt=fr>>>13,fr&=8191,fr+=He*(5*bn),fr+=Ne*(5*jr),fr+=ke*(5*Tn),fr+=We*(5*An),fr+=dr*(5*qr),mt+=fr>>>13,fr&=8191,ir=mt,ir+=Et*qr,ir+=_t*ie,ir+=lt*Dr,ir+=ye*zr,ir+=we*Br,mt=ir>>>13,ir&=8191,ir+=He*(5*yn),ir+=Ne*(5*bn),ir+=ke*(5*jr),ir+=We*(5*Tn),ir+=dr*(5*An),mt+=ir>>>13,ir&=8191,cr=mt,cr+=Et*An,cr+=_t*qr,cr+=lt*ie,cr+=ye*Dr,cr+=we*zr,mt=cr>>>13,cr&=8191,cr+=He*Br,cr+=Ne*(5*yn),cr+=ke*(5*bn),cr+=We*(5*jr),cr+=dr*(5*Tn),mt+=cr>>>13,cr&=8191,or=mt,or+=Et*Tn,or+=_t*An,or+=lt*qr,or+=ye*ie,or+=we*Dr,mt=or>>>13,or&=8191,or+=He*zr,or+=Ne*Br,or+=ke*(5*yn),or+=We*(5*bn),or+=dr*(5*jr),mt+=or>>>13,or&=8191,gt=mt,gt+=Et*jr,gt+=_t*Tn,gt+=lt*An,gt+=ye*qr,gt+=we*ie,mt=gt>>>13,gt&=8191,gt+=He*Dr,gt+=Ne*zr,gt+=ke*Br,gt+=We*(5*yn),gt+=dr*(5*bn),mt+=gt>>>13,gt&=8191,Dt=mt,Dt+=Et*bn,Dt+=_t*jr,Dt+=lt*Tn,Dt+=ye*An,Dt+=we*qr,mt=Dt>>>13,Dt&=8191,Dt+=He*ie,Dt+=Ne*Dr,Dt+=ke*zr,Dt+=We*Br,Dt+=dr*(5*yn),mt+=Dt>>>13,Dt&=8191,ft=mt,ft+=Et*yn,ft+=_t*bn,ft+=lt*jr,ft+=ye*Tn,ft+=we*An,mt=ft>>>13,ft&=8191,ft+=He*qr,ft+=Ne*ie,ft+=ke*Dr,ft+=We*zr,ft+=dr*Br,mt+=ft>>>13,ft&=8191,mt=(mt<<2)+mt|0,mt=mt+Zt|0,Zt=mt&8191,mt=mt>>>13,nr+=mt,Et=Zt,_t=nr,lt=yr,ye=fr,we=ir,He=cr,Ne=or,ke=gt,We=Dt,dr=ft,Z+=16,Q-=16;this.h[0]=Et,this.h[1]=_t,this.h[2]=lt,this.h[3]=ye,this.h[4]=we,this.h[5]=He,this.h[6]=Ne,this.h[7]=ke,this.h[8]=We,this.h[9]=dr},O.prototype.finish=function(Y,Z){var Q=new Uint16Array(10),j,ee,se,fe;if(this.leftover){for(fe=this.leftover,this.buffer[fe++]=1;fe<16;fe++)this.buffer[fe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(j=this.h[1]>>>13,this.h[1]&=8191,fe=2;fe<10;fe++)this.h[fe]+=j,j=this.h[fe]>>>13,this.h[fe]&=8191;for(this.h[0]+=j*5,j=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=j,j=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=j,Q[0]=this.h[0]+5,j=Q[0]>>>13,Q[0]&=8191,fe=1;fe<10;fe++)Q[fe]=this.h[fe]+j,j=Q[fe]>>>13,Q[fe]&=8191;for(Q[9]-=8192,ee=(j^1)-1,fe=0;fe<10;fe++)Q[fe]&=ee;for(ee=~ee,fe=0;fe<10;fe++)this.h[fe]=this.h[fe]&ee|Q[fe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,se=this.h[0]+this.pad[0],this.h[0]=se&65535,fe=1;fe<8;fe++)se=(this.h[fe]+this.pad[fe]|0)+(se>>>16)|0,this.h[fe]=se&65535;Y[Z+0]=this.h[0]>>>0&255,Y[Z+1]=this.h[0]>>>8&255,Y[Z+2]=this.h[1]>>>0&255,Y[Z+3]=this.h[1]>>>8&255,Y[Z+4]=this.h[2]>>>0&255,Y[Z+5]=this.h[2]>>>8&255,Y[Z+6]=this.h[3]>>>0&255,Y[Z+7]=this.h[3]>>>8&255,Y[Z+8]=this.h[4]>>>0&255,Y[Z+9]=this.h[4]>>>8&255,Y[Z+10]=this.h[5]>>>0&255,Y[Z+11]=this.h[5]>>>8&255,Y[Z+12]=this.h[6]>>>0&255,Y[Z+13]=this.h[6]>>>8&255,Y[Z+14]=this.h[7]>>>0&255,Y[Z+15]=this.h[7]>>>8&255},O.prototype.update=function(Y,Z,Q){var j,ee;if(this.leftover){for(ee=16-this.leftover,ee>Q&&(ee=Q),j=0;j<ee;j++)this.buffer[this.leftover+j]=Y[Z+j];if(Q-=ee,Z+=ee,this.leftover+=ee,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Q>=16&&(ee=Q-Q%16,this.blocks(Y,Z,ee),Z+=ee,Q-=ee),Q){for(j=0;j<Q;j++)this.buffer[this.leftover+j]=Y[Z+j];this.leftover+=Q}};function w(Y,Z,Q,j,ee,se){var fe=new O(se);return fe.update(Q,j,ee),fe.finish(Y,Z),0}function S(Y,Z,Q,j,ee,se){var fe=new Uint8Array(16);return w(fe,0,Q,j,ee,se),b(Y,Z,fe,0)}function T(Y,Z,Q,j,ee){var se;if(Q<32)return-1;for(k(Y,0,Z,0,Q,j,ee),w(Y,16,Y,32,Q-32,Y),se=0;se<16;se++)Y[se]=0;return 0}function m(Y,Z,Q,j,ee){var se,fe=new Uint8Array(32);if(Q<32||(N(fe,0,32,j,ee),S(Z,16,Z,32,Q-32,fe)!==0))return-1;for(k(Y,0,Z,0,Q,j,ee),se=0;se<32;se++)Y[se]=0;return 0}function y(Y,Z){var Q;for(Q=0;Q<16;Q++)Y[Q]=Z[Q]|0}function E(Y){var Z,Q,j=1;for(Z=0;Z<16;Z++)Q=Y[Z]+j+65535,j=Math.floor(Q/65536),Y[Z]=Q-j*65536;Y[0]+=j-1+37*(j-1)}function v(Y,Z,Q){for(var j,ee=~(Q-1),se=0;se<16;se++)j=ee&(Y[se]^Z[se]),Y[se]^=j,Z[se]^=j}function x(Y,Z){var Q,j,ee,se=e(),fe=e();for(Q=0;Q<16;Q++)fe[Q]=Z[Q];for(E(fe),E(fe),E(fe),j=0;j<2;j++){for(se[0]=fe[0]-65517,Q=1;Q<15;Q++)se[Q]=fe[Q]-65535-(se[Q-1]>>16&1),se[Q-1]&=65535;se[15]=fe[15]-32767-(se[14]>>16&1),ee=se[15]>>16&1,se[14]&=65535,v(fe,se,1-ee)}for(Q=0;Q<16;Q++)Y[2*Q]=fe[Q]&255,Y[2*Q+1]=fe[Q]>>8}function g(Y,Z){var Q=new Uint8Array(32),j=new Uint8Array(32);return x(Q,Y),x(j,Z),_(Q,0,j,0)}function P(Y){var Z=new Uint8Array(32);return x(Z,Y),Z[0]&1}function B(Y,Z){var Q;for(Q=0;Q<16;Q++)Y[Q]=Z[2*Q]+(Z[2*Q+1]<<8);Y[15]&=32767}function I(Y,Z,Q){for(var j=0;j<16;j++)Y[j]=Z[j]+Q[j]}function L(Y,Z,Q){for(var j=0;j<16;j++)Y[j]=Z[j]-Q[j]}function G(Y,Z,Q){var j,ee,se=0,fe=0,pe=0,Ae=0,Ot=0,Ke=0,Kt=0,mt=0,Zt=0,nr=0,yr=0,fr=0,ir=0,cr=0,or=0,gt=0,Dt=0,ft=0,Et=0,_t=0,lt=0,ye=0,we=0,He=0,Ne=0,ke=0,We=0,dr=0,Br=0,zr=0,Dr=0,ie=Q[0],qr=Q[1],An=Q[2],Tn=Q[3],jr=Q[4],bn=Q[5],yn=Q[6],Bo=Q[7],Qn=Q[8],po=Q[9],ho=Q[10],mo=Q[11],la=Q[12],Ms=Q[13],Bs=Q[14],Ds=Q[15];j=Z[0],se+=j*ie,fe+=j*qr,pe+=j*An,Ae+=j*Tn,Ot+=j*jr,Ke+=j*bn,Kt+=j*yn,mt+=j*Bo,Zt+=j*Qn,nr+=j*po,yr+=j*ho,fr+=j*mo,ir+=j*la,cr+=j*Ms,or+=j*Bs,gt+=j*Ds,j=Z[1],fe+=j*ie,pe+=j*qr,Ae+=j*An,Ot+=j*Tn,Ke+=j*jr,Kt+=j*bn,mt+=j*yn,Zt+=j*Bo,nr+=j*Qn,yr+=j*po,fr+=j*ho,ir+=j*mo,cr+=j*la,or+=j*Ms,gt+=j*Bs,Dt+=j*Ds,j=Z[2],pe+=j*ie,Ae+=j*qr,Ot+=j*An,Ke+=j*Tn,Kt+=j*jr,mt+=j*bn,Zt+=j*yn,nr+=j*Bo,yr+=j*Qn,fr+=j*po,ir+=j*ho,cr+=j*mo,or+=j*la,gt+=j*Ms,Dt+=j*Bs,ft+=j*Ds,j=Z[3],Ae+=j*ie,Ot+=j*qr,Ke+=j*An,Kt+=j*Tn,mt+=j*jr,Zt+=j*bn,nr+=j*yn,yr+=j*Bo,fr+=j*Qn,ir+=j*po,cr+=j*ho,or+=j*mo,gt+=j*la,Dt+=j*Ms,ft+=j*Bs,Et+=j*Ds,j=Z[4],Ot+=j*ie,Ke+=j*qr,Kt+=j*An,mt+=j*Tn,Zt+=j*jr,nr+=j*bn,yr+=j*yn,fr+=j*Bo,ir+=j*Qn,cr+=j*po,or+=j*ho,gt+=j*mo,Dt+=j*la,ft+=j*Ms,Et+=j*Bs,_t+=j*Ds,j=Z[5],Ke+=j*ie,Kt+=j*qr,mt+=j*An,Zt+=j*Tn,nr+=j*jr,yr+=j*bn,fr+=j*yn,ir+=j*Bo,cr+=j*Qn,or+=j*po,gt+=j*ho,Dt+=j*mo,ft+=j*la,Et+=j*Ms,_t+=j*Bs,lt+=j*Ds,j=Z[6],Kt+=j*ie,mt+=j*qr,Zt+=j*An,nr+=j*Tn,yr+=j*jr,fr+=j*bn,ir+=j*yn,cr+=j*Bo,or+=j*Qn,gt+=j*po,Dt+=j*ho,ft+=j*mo,Et+=j*la,_t+=j*Ms,lt+=j*Bs,ye+=j*Ds,j=Z[7],mt+=j*ie,Zt+=j*qr,nr+=j*An,yr+=j*Tn,fr+=j*jr,ir+=j*bn,cr+=j*yn,or+=j*Bo,gt+=j*Qn,Dt+=j*po,ft+=j*ho,Et+=j*mo,_t+=j*la,lt+=j*Ms,ye+=j*Bs,we+=j*Ds,j=Z[8],Zt+=j*ie,nr+=j*qr,yr+=j*An,fr+=j*Tn,ir+=j*jr,cr+=j*bn,or+=j*yn,gt+=j*Bo,Dt+=j*Qn,ft+=j*po,Et+=j*ho,_t+=j*mo,lt+=j*la,ye+=j*Ms,we+=j*Bs,He+=j*Ds,j=Z[9],nr+=j*ie,yr+=j*qr,fr+=j*An,ir+=j*Tn,cr+=j*jr,or+=j*bn,gt+=j*yn,Dt+=j*Bo,ft+=j*Qn,Et+=j*po,_t+=j*ho,lt+=j*mo,ye+=j*la,we+=j*Ms,He+=j*Bs,Ne+=j*Ds,j=Z[10],yr+=j*ie,fr+=j*qr,ir+=j*An,cr+=j*Tn,or+=j*jr,gt+=j*bn,Dt+=j*yn,ft+=j*Bo,Et+=j*Qn,_t+=j*po,lt+=j*ho,ye+=j*mo,we+=j*la,He+=j*Ms,Ne+=j*Bs,ke+=j*Ds,j=Z[11],fr+=j*ie,ir+=j*qr,cr+=j*An,or+=j*Tn,gt+=j*jr,Dt+=j*bn,ft+=j*yn,Et+=j*Bo,_t+=j*Qn,lt+=j*po,ye+=j*ho,we+=j*mo,He+=j*la,Ne+=j*Ms,ke+=j*Bs,We+=j*Ds,j=Z[12],ir+=j*ie,cr+=j*qr,or+=j*An,gt+=j*Tn,Dt+=j*jr,ft+=j*bn,Et+=j*yn,_t+=j*Bo,lt+=j*Qn,ye+=j*po,we+=j*ho,He+=j*mo,Ne+=j*la,ke+=j*Ms,We+=j*Bs,dr+=j*Ds,j=Z[13],cr+=j*ie,or+=j*qr,gt+=j*An,Dt+=j*Tn,ft+=j*jr,Et+=j*bn,_t+=j*yn,lt+=j*Bo,ye+=j*Qn,we+=j*po,He+=j*ho,Ne+=j*mo,ke+=j*la,We+=j*Ms,dr+=j*Bs,Br+=j*Ds,j=Z[14],or+=j*ie,gt+=j*qr,Dt+=j*An,ft+=j*Tn,Et+=j*jr,_t+=j*bn,lt+=j*yn,ye+=j*Bo,we+=j*Qn,He+=j*po,Ne+=j*ho,ke+=j*mo,We+=j*la,dr+=j*Ms,Br+=j*Bs,zr+=j*Ds,j=Z[15],gt+=j*ie,Dt+=j*qr,ft+=j*An,Et+=j*Tn,_t+=j*jr,lt+=j*bn,ye+=j*yn,we+=j*Bo,He+=j*Qn,Ne+=j*po,ke+=j*ho,We+=j*mo,dr+=j*la,Br+=j*Ms,zr+=j*Bs,Dr+=j*Ds,se+=38*Dt,fe+=38*ft,pe+=38*Et,Ae+=38*_t,Ot+=38*lt,Ke+=38*ye,Kt+=38*we,mt+=38*He,Zt+=38*Ne,nr+=38*ke,yr+=38*We,fr+=38*dr,ir+=38*Br,cr+=38*zr,or+=38*Dr,ee=1,j=se+ee+65535,ee=Math.floor(j/65536),se=j-ee*65536,j=fe+ee+65535,ee=Math.floor(j/65536),fe=j-ee*65536,j=pe+ee+65535,ee=Math.floor(j/65536),pe=j-ee*65536,j=Ae+ee+65535,ee=Math.floor(j/65536),Ae=j-ee*65536,j=Ot+ee+65535,ee=Math.floor(j/65536),Ot=j-ee*65536,j=Ke+ee+65535,ee=Math.floor(j/65536),Ke=j-ee*65536,j=Kt+ee+65535,ee=Math.floor(j/65536),Kt=j-ee*65536,j=mt+ee+65535,ee=Math.floor(j/65536),mt=j-ee*65536,j=Zt+ee+65535,ee=Math.floor(j/65536),Zt=j-ee*65536,j=nr+ee+65535,ee=Math.floor(j/65536),nr=j-ee*65536,j=yr+ee+65535,ee=Math.floor(j/65536),yr=j-ee*65536,j=fr+ee+65535,ee=Math.floor(j/65536),fr=j-ee*65536,j=ir+ee+65535,ee=Math.floor(j/65536),ir=j-ee*65536,j=cr+ee+65535,ee=Math.floor(j/65536),cr=j-ee*65536,j=or+ee+65535,ee=Math.floor(j/65536),or=j-ee*65536,j=gt+ee+65535,ee=Math.floor(j/65536),gt=j-ee*65536,se+=ee-1+37*(ee-1),ee=1,j=se+ee+65535,ee=Math.floor(j/65536),se=j-ee*65536,j=fe+ee+65535,ee=Math.floor(j/65536),fe=j-ee*65536,j=pe+ee+65535,ee=Math.floor(j/65536),pe=j-ee*65536,j=Ae+ee+65535,ee=Math.floor(j/65536),Ae=j-ee*65536,j=Ot+ee+65535,ee=Math.floor(j/65536),Ot=j-ee*65536,j=Ke+ee+65535,ee=Math.floor(j/65536),Ke=j-ee*65536,j=Kt+ee+65535,ee=Math.floor(j/65536),Kt=j-ee*65536,j=mt+ee+65535,ee=Math.floor(j/65536),mt=j-ee*65536,j=Zt+ee+65535,ee=Math.floor(j/65536),Zt=j-ee*65536,j=nr+ee+65535,ee=Math.floor(j/65536),nr=j-ee*65536,j=yr+ee+65535,ee=Math.floor(j/65536),yr=j-ee*65536,j=fr+ee+65535,ee=Math.floor(j/65536),fr=j-ee*65536,j=ir+ee+65535,ee=Math.floor(j/65536),ir=j-ee*65536,j=cr+ee+65535,ee=Math.floor(j/65536),cr=j-ee*65536,j=or+ee+65535,ee=Math.floor(j/65536),or=j-ee*65536,j=gt+ee+65535,ee=Math.floor(j/65536),gt=j-ee*65536,se+=ee-1+37*(ee-1),Y[0]=se,Y[1]=fe,Y[2]=pe,Y[3]=Ae,Y[4]=Ot,Y[5]=Ke,Y[6]=Kt,Y[7]=mt,Y[8]=Zt,Y[9]=nr,Y[10]=yr,Y[11]=fr,Y[12]=ir,Y[13]=cr,Y[14]=or,Y[15]=gt}function H(Y,Z){G(Y,Z,Z)}function $(Y,Z){var Q=e(),j;for(j=0;j<16;j++)Q[j]=Z[j];for(j=253;j>=0;j--)H(Q,Q),j!==2&&j!==4&&G(Q,Q,Z);for(j=0;j<16;j++)Y[j]=Q[j]}function K(Y,Z){var Q=e(),j;for(j=0;j<16;j++)Q[j]=Z[j];for(j=250;j>=0;j--)H(Q,Q),j!==1&&G(Q,Q,Z);for(j=0;j<16;j++)Y[j]=Q[j]}function W(Y,Z,Q){var j=new Uint8Array(32),ee=new Float64Array(80),se,fe,pe=e(),Ae=e(),Ot=e(),Ke=e(),Kt=e(),mt=e();for(fe=0;fe<31;fe++)j[fe]=Z[fe];for(j[31]=Z[31]&127|64,j[0]&=248,B(ee,Q),fe=0;fe<16;fe++)Ae[fe]=ee[fe],Ke[fe]=pe[fe]=Ot[fe]=0;for(pe[0]=Ke[0]=1,fe=254;fe>=0;--fe)se=j[fe>>>3]>>>(fe&7)&1,v(pe,Ae,se),v(Ot,Ke,se),I(Kt,pe,Ot),L(pe,pe,Ot),I(Ot,Ae,Ke),L(Ae,Ae,Ke),H(Ke,Kt),H(mt,pe),G(pe,Ot,pe),G(Ot,Ae,Kt),I(Kt,pe,Ot),L(pe,pe,Ot),H(Ae,pe),L(Ot,Ke,mt),G(pe,Ot,s),I(pe,pe,Ke),G(Ot,Ot,pe),G(pe,Ke,mt),G(Ke,Ae,ee),H(Ae,Kt),v(pe,Ae,se),v(Ot,Ke,se);for(fe=0;fe<16;fe++)ee[fe+16]=pe[fe],ee[fe+32]=Ot[fe],ee[fe+48]=Ae[fe],ee[fe+64]=Ke[fe];var Zt=ee.subarray(32),nr=ee.subarray(16);return $(Zt,Zt),G(nr,nr,Zt),x(Y,nr),0}function J(Y,Z){return W(Y,Z,i)}function X(Y,Z){return r(Z,32),J(Y,Z)}function te(Y,Z,Q){var j=new Uint8Array(32);return W(j,Q,Z),M(Y,n,j,U)}var re=T,le=m;function ce(Y,Z,Q,j,ee,se){var fe=new Uint8Array(32);return te(fe,ee,se),re(Y,Z,Q,j,fe)}function ae(Y,Z,Q,j,ee,se){var fe=new Uint8Array(32);return te(fe,ee,se),le(Y,Z,Q,j,fe)}var xe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function me(Y,Z,Q,j){for(var ee=new Int32Array(16),se=new Int32Array(16),fe,pe,Ae,Ot,Ke,Kt,mt,Zt,nr,yr,fr,ir,cr,or,gt,Dt,ft,Et,_t,lt,ye,we,He,Ne,ke,We,dr=Y[0],Br=Y[1],zr=Y[2],Dr=Y[3],ie=Y[4],qr=Y[5],An=Y[6],Tn=Y[7],jr=Z[0],bn=Z[1],yn=Z[2],Bo=Z[3],Qn=Z[4],po=Z[5],ho=Z[6],mo=Z[7],la=0;j>=128;){for(_t=0;_t<16;_t++)lt=8*_t+la,ee[_t]=Q[lt+0]<<24|Q[lt+1]<<16|Q[lt+2]<<8|Q[lt+3],se[_t]=Q[lt+4]<<24|Q[lt+5]<<16|Q[lt+6]<<8|Q[lt+7];for(_t=0;_t<80;_t++)if(fe=dr,pe=Br,Ae=zr,Ot=Dr,Ke=ie,Kt=qr,mt=An,Zt=Tn,nr=jr,yr=bn,fr=yn,ir=Bo,cr=Qn,or=po,gt=ho,Dt=mo,ye=Tn,we=mo,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=(ie>>>14|Qn<<18)^(ie>>>18|Qn<<14)^(Qn>>>9|ie<<23),we=(Qn>>>14|ie<<18)^(Qn>>>18|ie<<14)^(ie>>>9|Qn<<23),He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,ye=ie&qr^~ie&An,we=Qn&po^~Qn&ho,He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,ye=xe[_t*2],we=xe[_t*2+1],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,ye=ee[_t%16],we=se[_t%16],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,ft=ke&65535|We<<16,Et=He&65535|Ne<<16,ye=ft,we=Et,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=(dr>>>28|jr<<4)^(jr>>>2|dr<<30)^(jr>>>7|dr<<25),we=(jr>>>28|dr<<4)^(dr>>>2|jr<<30)^(dr>>>7|jr<<25),He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,ye=dr&Br^dr&zr^Br&zr,we=jr&bn^jr&yn^bn&yn,He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Zt=ke&65535|We<<16,Dt=He&65535|Ne<<16,ye=Ot,we=ir,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=ft,we=Et,He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Ot=ke&65535|We<<16,ir=He&65535|Ne<<16,Br=fe,zr=pe,Dr=Ae,ie=Ot,qr=Ke,An=Kt,Tn=mt,dr=Zt,bn=nr,yn=yr,Bo=fr,Qn=ir,po=cr,ho=or,mo=gt,jr=Dt,_t%16===15)for(lt=0;lt<16;lt++)ye=ee[lt],we=se[lt],He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=ee[(lt+9)%16],we=se[(lt+9)%16],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,ft=ee[(lt+1)%16],Et=se[(lt+1)%16],ye=(ft>>>1|Et<<31)^(ft>>>8|Et<<24)^ft>>>7,we=(Et>>>1|ft<<31)^(Et>>>8|ft<<24)^(Et>>>7|ft<<25),He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,ft=ee[(lt+14)%16],Et=se[(lt+14)%16],ye=(ft>>>19|Et<<13)^(Et>>>29|ft<<3)^ft>>>6,we=(Et>>>19|ft<<13)^(ft>>>29|Et<<3)^(Et>>>6|ft<<26),He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,ee[lt]=ke&65535|We<<16,se[lt]=He&65535|Ne<<16;ye=dr,we=jr,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=Y[0],we=Z[0],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Y[0]=dr=ke&65535|We<<16,Z[0]=jr=He&65535|Ne<<16,ye=Br,we=bn,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=Y[1],we=Z[1],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Y[1]=Br=ke&65535|We<<16,Z[1]=bn=He&65535|Ne<<16,ye=zr,we=yn,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=Y[2],we=Z[2],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Y[2]=zr=ke&65535|We<<16,Z[2]=yn=He&65535|Ne<<16,ye=Dr,we=Bo,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=Y[3],we=Z[3],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Y[3]=Dr=ke&65535|We<<16,Z[3]=Bo=He&65535|Ne<<16,ye=ie,we=Qn,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=Y[4],we=Z[4],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Y[4]=ie=ke&65535|We<<16,Z[4]=Qn=He&65535|Ne<<16,ye=qr,we=po,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=Y[5],we=Z[5],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Y[5]=qr=ke&65535|We<<16,Z[5]=po=He&65535|Ne<<16,ye=An,we=ho,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=Y[6],we=Z[6],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Y[6]=An=ke&65535|We<<16,Z[6]=ho=He&65535|Ne<<16,ye=Tn,we=mo,He=we&65535,Ne=we>>>16,ke=ye&65535,We=ye>>>16,ye=Y[7],we=Z[7],He+=we&65535,Ne+=we>>>16,ke+=ye&65535,We+=ye>>>16,Ne+=He>>>16,ke+=Ne>>>16,We+=ke>>>16,Y[7]=Tn=ke&65535|We<<16,Z[7]=mo=He&65535|Ne<<16,la+=128,j-=128}return j}function Se(Y,Z,Q){var j=new Int32Array(8),ee=new Int32Array(8),se=new Uint8Array(256),fe,pe=Q;for(j[0]=1779033703,j[1]=3144134277,j[2]=1013904242,j[3]=2773480762,j[4]=1359893119,j[5]=2600822924,j[6]=528734635,j[7]=1541459225,ee[0]=4089235720,ee[1]=2227873595,ee[2]=4271175723,ee[3]=1595750129,ee[4]=2917565137,ee[5]=725511199,ee[6]=4215389547,ee[7]=327033209,me(j,ee,Z,Q),Q%=128,fe=0;fe<Q;fe++)se[fe]=Z[pe-Q+fe];for(se[Q]=128,Q=256-128*(Q<112?1:0),se[Q-9]=0,p(se,Q-8,pe/536870912|0,pe<<3),me(j,ee,se,Q),fe=0;fe<8;fe++)p(Y,8*fe,j[fe],ee[fe]);return 0}function vt(Y,Z){var Q=e(),j=e(),ee=e(),se=e(),fe=e(),pe=e(),Ae=e(),Ot=e(),Ke=e();L(Q,Y[1],Y[0]),L(Ke,Z[1],Z[0]),G(Q,Q,Ke),I(j,Y[0],Y[1]),I(Ke,Z[0],Z[1]),G(j,j,Ke),G(ee,Y[3],Z[3]),G(ee,ee,l),G(se,Y[2],Z[2]),I(se,se,se),L(fe,j,Q),L(pe,se,ee),I(Ae,se,ee),I(Ot,j,Q),G(Y[0],fe,pe),G(Y[1],Ot,Ae),G(Y[2],Ae,pe),G(Y[3],fe,Ot)}function Qe(Y,Z,Q){var j;for(j=0;j<4;j++)v(Y[j],Z[j],Q)}function Ve(Y,Z){var Q=e(),j=e(),ee=e();$(ee,Z[2]),G(Q,Z[0],ee),G(j,Z[1],ee),x(Y,j),Y[31]^=P(Q)<<7}function kt(Y,Z,Q){var j,ee;for(y(Y[0],o),y(Y[1],a),y(Y[2],a),y(Y[3],o),ee=255;ee>=0;--ee)j=Q[ee/8|0]>>(ee&7)&1,Qe(Y,Z,j),vt(Z,Y),vt(Y,Y),Qe(Y,Z,j)}function Ze(Y,Z){var Q=[e(),e(),e(),e()];y(Q[0],u),y(Q[1],d),y(Q[2],a),G(Q[3],u,d),kt(Y,Q,Z)}function et(Y,Z,Q){var j=new Uint8Array(64),ee=[e(),e(),e(),e()],se;for(Q||r(Z,32),Se(j,Z,32),j[0]&=248,j[31]&=127,j[31]|=64,Ze(ee,j),Ve(Y,ee),se=0;se<32;se++)Z[se+32]=Y[se];return 0}var on=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Me(Y,Z){var Q,j,ee,se;for(j=63;j>=32;--j){for(Q=0,ee=j-32,se=j-12;ee<se;++ee)Z[ee]+=Q-16*Z[j]*on[ee-(j-32)],Q=Math.floor((Z[ee]+128)/256),Z[ee]-=Q*256;Z[ee]+=Q,Z[j]=0}for(Q=0,ee=0;ee<32;ee++)Z[ee]+=Q-(Z[31]>>4)*on[ee],Q=Z[ee]>>8,Z[ee]&=255;for(ee=0;ee<32;ee++)Z[ee]-=Q*on[ee];for(j=0;j<32;j++)Z[j+1]+=Z[j]>>8,Y[j]=Z[j]&255}function rt(Y){var Z=new Float64Array(64),Q;for(Q=0;Q<64;Q++)Z[Q]=Y[Q];for(Q=0;Q<64;Q++)Y[Q]=0;Me(Y,Z)}function Ir(Y,Z,Q,j){var ee=new Uint8Array(64),se=new Uint8Array(64),fe=new Uint8Array(64),pe,Ae,Ot=new Float64Array(64),Ke=[e(),e(),e(),e()];Se(ee,j,32),ee[0]&=248,ee[31]&=127,ee[31]|=64;var Kt=Q+64;for(pe=0;pe<Q;pe++)Y[64+pe]=Z[pe];for(pe=0;pe<32;pe++)Y[32+pe]=ee[32+pe];for(Se(fe,Y.subarray(32),Q+32),rt(fe),Ze(Ke,fe),Ve(Y,Ke),pe=32;pe<64;pe++)Y[pe]=j[pe];for(Se(se,Y,Q+64),rt(se),pe=0;pe<64;pe++)Ot[pe]=0;for(pe=0;pe<32;pe++)Ot[pe]=fe[pe];for(pe=0;pe<32;pe++)for(Ae=0;Ae<32;Ae++)Ot[pe+Ae]+=se[pe]*ee[Ae];return Me(Y.subarray(32),Ot),Kt}function yt(Y,Z){var Q=e(),j=e(),ee=e(),se=e(),fe=e(),pe=e(),Ae=e();return y(Y[2],a),B(Y[1],Z),H(ee,Y[1]),G(se,ee,c),L(ee,ee,Y[2]),I(se,Y[2],se),H(fe,se),H(pe,fe),G(Ae,pe,fe),G(Q,Ae,ee),G(Q,Q,se),K(Q,Q),G(Q,Q,ee),G(Q,Q,se),G(Q,Q,se),G(Y[0],Q,se),H(j,Y[0]),G(j,j,se),g(j,ee)&&G(Y[0],Y[0],f),H(j,Y[0]),G(j,j,se),g(j,ee)?-1:(P(Y[0])===Z[31]>>7&&L(Y[0],o,Y[0]),G(Y[3],Y[0],Y[1]),0)}function ut(Y,Z,Q,j){var ee,se=new Uint8Array(32),fe=new Uint8Array(64),pe=[e(),e(),e(),e()],Ae=[e(),e(),e(),e()];if(Q<64||yt(Ae,j))return-1;for(ee=0;ee<Q;ee++)Y[ee]=Z[ee];for(ee=0;ee<32;ee++)Y[ee+32]=j[ee];if(Se(fe,Y,Q),rt(fe),kt(pe,Ae,fe),Ze(Ae,Z.subarray(32)),vt(pe,Ae),Ve(se,pe),Q-=64,_(Z,0,se,0)){for(ee=0;ee<Q;ee++)Y[ee]=0;return-1}for(ee=0;ee<Q;ee++)Y[ee]=Z[ee+64];return Q}var Hn=32,St=24,qt=32,Bi=16,Jt=32,Ht=32,ns=32,$t=32,Qt=32,ll=St,br=qt,Ue=Bi,Hr=64,bt=32,Tt=64,Zr=32,dt=64;t.lowlevel={crypto_core_hsalsa20:M,crypto_stream_xor:k,crypto_stream:N,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:z,crypto_onetimeauth:w,crypto_onetimeauth_verify:S,crypto_verify_16:b,crypto_verify_32:_,crypto_secretbox:T,crypto_secretbox_open:m,crypto_scalarmult:W,crypto_scalarmult_base:J,crypto_box_beforenm:te,crypto_box_afternm:re,crypto_box:ce,crypto_box_open:ae,crypto_box_keypair:X,crypto_hash:Se,crypto_sign:Ir,crypto_sign_keypair:et,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:Hn,crypto_secretbox_NONCEBYTES:St,crypto_secretbox_ZEROBYTES:qt,crypto_secretbox_BOXZEROBYTES:Bi,crypto_scalarmult_BYTES:Jt,crypto_scalarmult_SCALARBYTES:Ht,crypto_box_PUBLICKEYBYTES:ns,crypto_box_SECRETKEYBYTES:$t,crypto_box_BEFORENMBYTES:Qt,crypto_box_NONCEBYTES:ll,crypto_box_ZEROBYTES:br,crypto_box_BOXZEROBYTES:Ue,crypto_sign_BYTES:Hr,crypto_sign_PUBLICKEYBYTES:bt,crypto_sign_SECRETKEYBYTES:Tt,crypto_sign_SEEDBYTES:Zr,crypto_hash_BYTES:dt,gf:e,D:c,L:on,pack:Ve,pack25519:x,unpack25519:B,M:G,A:I,S:H,Z:L,pow2523:K,add:vt,set25519:y,modL:Me,scalarmult:kt,scalarbase:Ze};function Vt(Y,Z){if(Y.length!==Hn)throw new Error("bad key size");if(Z.length!==St)throw new Error("bad nonce size")}function is(Y,Z){if(Y.length!==ns)throw new Error("bad public key size");if(Z.length!==$t)throw new Error("bad secret key size")}function Pt(){for(var Y=0;Y<arguments.length;Y++)if(!(arguments[Y]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function sr(Y){for(var Z=0;Z<Y.length;Z++)Y[Z]=0}t.randomBytes=function(Y){var Z=new Uint8Array(Y);return r(Z,Y),Z},t.secretbox=function(Y,Z,Q){Pt(Y,Z,Q),Vt(Q,Z);for(var j=new Uint8Array(qt+Y.length),ee=new Uint8Array(j.length),se=0;se<Y.length;se++)j[se+qt]=Y[se];return T(ee,j,j.length,Z,Q),ee.subarray(Bi)},t.secretbox.open=function(Y,Z,Q){Pt(Y,Z,Q),Vt(Q,Z);for(var j=new Uint8Array(Bi+Y.length),ee=new Uint8Array(j.length),se=0;se<Y.length;se++)j[se+Bi]=Y[se];return j.length<32||m(ee,j,j.length,Z,Q)!==0?null:ee.subarray(qt)},t.secretbox.keyLength=Hn,t.secretbox.nonceLength=St,t.secretbox.overheadLength=Bi,t.scalarMult=function(Y,Z){if(Pt(Y,Z),Y.length!==Ht)throw new Error("bad n size");if(Z.length!==Jt)throw new Error("bad p size");var Q=new Uint8Array(Jt);return W(Q,Y,Z),Q},t.scalarMult.base=function(Y){if(Pt(Y),Y.length!==Ht)throw new Error("bad n size");var Z=new Uint8Array(Jt);return J(Z,Y),Z},t.scalarMult.scalarLength=Ht,t.scalarMult.groupElementLength=Jt,t.box=function(Y,Z,Q,j){var ee=t.box.before(Q,j);return t.secretbox(Y,Z,ee)},t.box.before=function(Y,Z){Pt(Y,Z),is(Y,Z);var Q=new Uint8Array(Qt);return te(Q,Y,Z),Q},t.box.after=t.secretbox,t.box.open=function(Y,Z,Q,j){var ee=t.box.before(Q,j);return t.secretbox.open(Y,Z,ee)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var Y=new Uint8Array(ns),Z=new Uint8Array($t);return X(Y,Z),{publicKey:Y,secretKey:Z}},t.box.keyPair.fromSecretKey=function(Y){if(Pt(Y),Y.length!==$t)throw new Error("bad secret key size");var Z=new Uint8Array(ns);return J(Z,Y),{publicKey:Z,secretKey:new Uint8Array(Y)}},t.box.publicKeyLength=ns,t.box.secretKeyLength=$t,t.box.sharedKeyLength=Qt,t.box.nonceLength=ll,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(Y,Z){if(Pt(Y,Z),Z.length!==Tt)throw new Error("bad secret key size");var Q=new Uint8Array(Hr+Y.length);return Ir(Q,Y,Y.length,Z),Q},t.sign.open=function(Y,Z){if(Pt(Y,Z),Z.length!==bt)throw new Error("bad public key size");var Q=new Uint8Array(Y.length),j=ut(Q,Y,Y.length,Z);if(j<0)return null;for(var ee=new Uint8Array(j),se=0;se<ee.length;se++)ee[se]=Q[se];return ee},t.sign.detached=function(Y,Z){for(var Q=t.sign(Y,Z),j=new Uint8Array(Hr),ee=0;ee<j.length;ee++)j[ee]=Q[ee];return j},t.sign.detached.verify=function(Y,Z,Q){if(Pt(Y,Z,Q),Z.length!==Hr)throw new Error("bad signature size");if(Q.length!==bt)throw new Error("bad public key size");var j=new Uint8Array(Hr+Y.length),ee=new Uint8Array(Hr+Y.length),se;for(se=0;se<Hr;se++)j[se]=Z[se];for(se=0;se<Y.length;se++)j[se+Hr]=Y[se];return ut(ee,j,j.length,Q)>=0},t.sign.keyPair=function(){var Y=new Uint8Array(bt),Z=new Uint8Array(Tt);return et(Y,Z),{publicKey:Y,secretKey:Z}},t.sign.keyPair.fromSecretKey=function(Y){if(Pt(Y),Y.length!==Tt)throw new Error("bad secret key size");for(var Z=new Uint8Array(bt),Q=0;Q<Z.length;Q++)Z[Q]=Y[32+Q];return{publicKey:Z,secretKey:new Uint8Array(Y)}},t.sign.keyPair.fromSeed=function(Y){if(Pt(Y),Y.length!==Zr)throw new Error("bad seed size");for(var Z=new Uint8Array(bt),Q=new Uint8Array(Tt),j=0;j<32;j++)Q[j]=Y[j];return et(Z,Q,!0),{publicKey:Z,secretKey:Q}},t.sign.publicKeyLength=bt,t.sign.secretKeyLength=Tt,t.sign.seedLength=Zr,t.sign.signatureLength=Hr,t.hash=function(Y){Pt(Y);var Z=new Uint8Array(dt);return Se(Z,Y,Y.length),Z},t.hash.hashLength=dt,t.verify=function(Y,Z){return Pt(Y,Z),Y.length===0||Z.length===0||Y.length!==Z.length?!1:h(Y,0,Z,0,Y.length)===0},t.setPRNG=function(Y){r=Y},(function(){var Y=typeof self<"u"?self.crypto||self.msCrypto:null;if(Y&&Y.getRandomValues){var Z=65536;t.setPRNG(function(Q,j){var ee,se=new Uint8Array(j);for(ee=0;ee<j;ee+=Z)Y.getRandomValues(se.subarray(ee,ee+Math.min(j-ee,Z)));for(ee=0;ee<j;ee++)Q[ee]=se[ee];sr(se)})}else typeof mO<"u"&&(Y=mq(),Y&&Y.randomBytes&&t.setPRNG(function(Q,j){var ee,se=Y.randomBytes(j);for(ee=0;ee<j;ee++)Q[ee]=se[ee];sr(se)}))})()})(typeof hk<"u"&&hk.exports?hk.exports:self.nacl=self.nacl||{})});function PY(t){let e;typeof t=="string"?e=Buffer.from(t,"hex"):e=t;let r=new Uint8Array(64),n=[C2.gf(),C2.gf(),C2.gf(),C2.gf()],i=new Uint8Array([...new Uint8Array(e),...new Uint8Array(32)]),o=new Uint8Array(32);C2.crypto_hash(r,i,32),r[0]&=248,r[31]&=127,r[31]|=64,C2.scalarbase(n,r),C2.pack(o,n);for(let a=0;a<32;a+=1)i[a+32]=o[a];return{sk:Buffer.from(i),pk:Buffer.from(o)}}var uge,C2,dge=D(()=>{uge=ve(lge()),C2=uge.default.lowlevel});var hge=de(mk=>{"use strict";mk.byteLength=Vct;mk.toByteArray=qct;mk.fromByteArray=Jct;var s1=[],Eu=[],$ct=typeof Uint8Array<"u"?Uint8Array:Array,OY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(R2=0,fge=OY.length;R2<fge;++R2)s1[R2]=OY[R2],Eu[OY.charCodeAt(R2)]=R2;var R2,fge;Eu[45]=62;Eu[95]=63;function pge(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Vct(t){var e=pge(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Kct(t,e,r){return(e+r)*3/4-r}function qct(t){var e,r=pge(t),n=r[0],i=r[1],o=new $ct(Kct(t,n,i)),a=0,s=i>0?n-4:n,c;for(c=0;c<s;c+=4)e=Eu[t.charCodeAt(c)]<<18|Eu[t.charCodeAt(c+1)]<<12|Eu[t.charCodeAt(c+2)]<<6|Eu[t.charCodeAt(c+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return i===2&&(e=Eu[t.charCodeAt(c)]<<2|Eu[t.charCodeAt(c+1)]>>4,o[a++]=e&255),i===1&&(e=Eu[t.charCodeAt(c)]<<10|Eu[t.charCodeAt(c+1)]<<4|Eu[t.charCodeAt(c+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function Wct(t){return s1[t>>18&63]+s1[t>>12&63]+s1[t>>6&63]+s1[t&63]}function Yct(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Wct(n));return i.join("")}function Jct(t){for(var e,r=t.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(Yct(t,a,a+o>s?s:a+o));return n===1?(e=t[r-1],i.push(s1[e>>2]+s1[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(s1[e>>10]+s1[e>>4&63]+s1[e<<2&63]+"=")),i.join("")}});var mge=de(NY=>{NY.read=function(t,e,r,n,i){var o,a,s=i*8-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?i-1:0,f=r?-1:1,p=t[e+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=o*256+t[e+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=a*256+t[e+d],d+=f,u-=8);if(o===0)o=1-l;else{if(o===c)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-l}return(p?-1:1)*a*Math.pow(2,o-n)};NY.write=function(t,e,r,n,i,o){var a,s,c,l=o*8-i-1,u=(1<<l)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*c-1)*Math.pow(2,i),a=a+d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=s&255,p+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[r+p]=a&255,p+=h,a/=256,l-=8);t[r+p-h]|=b*128}});var xu=de(Fw=>{"use strict";var kY=hge(),Lw=mge(),bge=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Fw.Buffer=_e;Fw.SlowBuffer=rlt;Fw.INSPECT_MAX_BYTES=50;var bk=2147483647;Fw.kMaxLength=bk;_e.TYPED_ARRAY_SUPPORT=Qct();!_e.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Qct(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(_e.prototype,"parent",{enumerable:!0,get:function(){if(_e.isBuffer(this))return this.buffer}});Object.defineProperty(_e.prototype,"offset",{enumerable:!0,get:function(){if(_e.isBuffer(this))return this.byteOffset}});function Zp(t){if(t>bk)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,_e.prototype),e}function _e(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return LY(t)}return vge(t,e,r)}_e.poolSize=8192;function vge(t,e,r){if(typeof t=="string")return Xct(t,e);if(ArrayBuffer.isView(t))return elt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(c1(t,ArrayBuffer)||t&&c1(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(c1(t,SharedArrayBuffer)||t&&c1(t.buffer,SharedArrayBuffer)))return BY(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return _e.from(n,e,r);let i=tlt(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return _e.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}_e.from=function(t,e,r){return vge(t,e,r)};Object.setPrototypeOf(_e.prototype,Uint8Array.prototype);Object.setPrototypeOf(_e,Uint8Array);function Ege(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Zct(t,e,r){return Ege(t),t<=0?Zp(t):e!==void 0?typeof r=="string"?Zp(t).fill(e,r):Zp(t).fill(e):Zp(t)}_e.alloc=function(t,e,r){return Zct(t,e,r)};function LY(t){return Ege(t),Zp(t<0?0:UY(t)|0)}_e.allocUnsafe=function(t){return LY(t)};_e.allocUnsafeSlow=function(t){return LY(t)};function Xct(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!_e.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=xge(t,e)|0,n=Zp(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function MY(t){let e=t.length<0?0:UY(t.length)|0,r=Zp(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function elt(t){if(c1(t,Uint8Array)){let e=new Uint8Array(t);return BY(e.buffer,e.byteOffset,e.byteLength)}return MY(t)}function BY(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,_e.prototype),n}function tlt(t){if(_e.isBuffer(t)){let e=UY(t.length)|0,r=Zp(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||HY(t.length)?Zp(0):MY(t);if(t.type==="Buffer"&&Array.isArray(t.data))return MY(t.data)}function UY(t){if(t>=bk)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+bk.toString(16)+" bytes");return t|0}function rlt(t){return+t!=t&&(t=0),_e.alloc(+t)}_e.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==_e.prototype};_e.compare=function(e,r){if(c1(e,Uint8Array)&&(e=_e.from(e,e.offset,e.byteLength)),c1(r,Uint8Array)&&(r=_e.from(r,r.offset,r.byteLength)),!_e.isBuffer(e)||!_e.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};_e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};_e.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return _e.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=_e.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let a=e[n];if(c1(a,Uint8Array))o+a.length>i.length?(_e.isBuffer(a)||(a=_e.from(a)),a.copy(i,o)):Uint8Array.prototype.set.call(i,a,o);else if(_e.isBuffer(a))a.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return i};function xge(t,e){if(_e.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||c1(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return DY(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Oge(t).length;default:if(i)return n?-1:DY(t).length;e=(""+e).toLowerCase(),i=!0}}_e.byteLength=xge;function nlt(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return plt(this,e,r);case"utf8":case"utf-8":return Tge(this,e,r);case"ascii":return dlt(this,e,r);case"latin1":case"binary":return flt(this,e,r);case"base64":return llt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hlt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}_e.prototype._isBuffer=!0;function P2(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}_e.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)P2(this,r,r+1);return this};_e.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)P2(this,r,r+3),P2(this,r+1,r+2);return this};_e.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)P2(this,r,r+7),P2(this,r+1,r+6),P2(this,r+2,r+5),P2(this,r+3,r+4);return this};_e.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Tge(this,0,e):nlt.apply(this,arguments)};_e.prototype.toLocaleString=_e.prototype.toString;_e.prototype.equals=function(e){if(!_e.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:_e.compare(this,e)===0};_e.prototype.inspect=function(){let e="",r=Fw.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};bge&&(_e.prototype[bge]=_e.prototype.inspect);_e.prototype.compare=function(e,r,n,i,o){if(c1(e,Uint8Array)&&(e=_e.from(e,e.offset,e.byteLength)),!_e.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let a=o-i,s=n-r,c=Math.min(a,s),l=this.slice(i,o),u=e.slice(r,n);for(let d=0;d<c;++d)if(l[d]!==u[d]){a=l[d],s=u[d];break}return a<s?-1:s<a?1:0};function Age(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,HY(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=_e.from(e,n)),_e.isBuffer(e))return e.length===0?-1:yge(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):yge(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function yge(t,e,r,n,i){let o=1,a=t.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,s/=2,r/=2}function c(u,d){return o===1?u[d]:u.readUInt16BE(d*o)}let l;if(i){let u=-1;for(l=r;l<a;l++)if(c(t,l)===c(e,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===s)return u*o}else u!==-1&&(l-=l-u),u=-1}else for(r+s>a&&(r=a-s),l=r;l>=0;l--){let u=!0;for(let d=0;d<s;d++)if(c(t,l+d)!==c(e,d)){u=!1;break}if(u)return l}return-1}_e.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};_e.prototype.indexOf=function(e,r,n){return Age(this,e,r,n,!0)};_e.prototype.lastIndexOf=function(e,r,n){return Age(this,e,r,n,!1)};function ilt(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let a;for(a=0;a<n;++a){let s=parseInt(e.substr(a*2,2),16);if(HY(s))return a;t[r+a]=s}return a}function olt(t,e,r,n){return yk(DY(e,t.length-r),t,r,n)}function alt(t,e,r,n){return yk(glt(e),t,r,n)}function slt(t,e,r,n){return yk(Oge(e),t,r,n)}function clt(t,e,r,n){return yk(wlt(e,t.length-r),t,r,n)}_e.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return ilt(this,e,r,n);case"utf8":case"utf-8":return olt(this,e,r,n);case"ascii":case"latin1":case"binary":return alt(this,e,r,n);case"base64":return slt(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return clt(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};_e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function llt(t,e,r){return e===0&&r===t.length?kY.fromByteArray(t):kY.fromByteArray(t.slice(e,r))}function Tge(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){let c,l,u,d;switch(s){case 1:o<128&&(a=o);break;case 2:c=t[i+1],(c&192)===128&&(d=(o&31)<<6|c&63,d>127&&(a=d));break;case 3:c=t[i+1],l=t[i+2],(c&192)===128&&(l&192)===128&&(d=(o&15)<<12|(c&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:c=t[i+1],l=t[i+2],u=t[i+3],(c&192)===128&&(l&192)===128&&(u&192)===128&&(d=(o&15)<<18|(c&63)<<12|(l&63)<<6|u&63,d>65535&&d<1114112&&(a=d))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return ult(n)}var gge=4096;function ult(t){let e=t.length;if(e<=gge)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=gge));return r}function dlt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function flt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function plt(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=vlt[t[o]];return i}function hlt(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}_e.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,_e.prototype),i};function Fa(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}_e.prototype.readUintLE=_e.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Fa(e,r,this.length);let i=this[e],o=1,a=0;for(;++a<r&&(o*=256);)i+=this[e+a]*o;return i};_e.prototype.readUintBE=_e.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Fa(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};_e.prototype.readUint8=_e.prototype.readUInt8=function(e,r){return e=e>>>0,r||Fa(e,1,this.length),this[e]};_e.prototype.readUint16LE=_e.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Fa(e,2,this.length),this[e]|this[e+1]<<8};_e.prototype.readUint16BE=_e.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Fa(e,2,this.length),this[e]<<8|this[e+1]};_e.prototype.readUint32LE=_e.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Fa(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};_e.prototype.readUint32BE=_e.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Fa(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};_e.prototype.readBigUInt64LE=G5(function(e){e=e>>>0,Uw(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&p7(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});_e.prototype.readBigUInt64BE=G5(function(e){e=e>>>0,Uw(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&p7(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});_e.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Fa(e,r,this.length);let i=this[e],o=1,a=0;for(;++a<r&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};_e.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Fa(e,r,this.length);let i=r,o=1,a=this[e+--i];for(;i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*r)),a};_e.prototype.readInt8=function(e,r){return e=e>>>0,r||Fa(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};_e.prototype.readInt16LE=function(e,r){e=e>>>0,r||Fa(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};_e.prototype.readInt16BE=function(e,r){e=e>>>0,r||Fa(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};_e.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Fa(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};_e.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Fa(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};_e.prototype.readBigInt64LE=G5(function(e){e=e>>>0,Uw(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&p7(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});_e.prototype.readBigInt64BE=G5(function(e){e=e>>>0,Uw(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&p7(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});_e.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Fa(e,4,this.length),Lw.read(this,e,!0,23,4)};_e.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Fa(e,4,this.length),Lw.read(this,e,!1,23,4)};_e.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Fa(e,8,this.length),Lw.read(this,e,!0,52,8)};_e.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Fa(e,8,this.length),Lw.read(this,e,!1,52,8)};function yc(t,e,r,n,i,o){if(!_e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}_e.prototype.writeUintLE=_e.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;yc(this,e,r,n,s,0)}let o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};_e.prototype.writeUintBE=_e.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;yc(this,e,r,n,s,0)}let o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};_e.prototype.writeUint8=_e.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,1,255,0),this[r]=e&255,r+1};_e.prototype.writeUint16LE=_e.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};_e.prototype.writeUint16BE=_e.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};_e.prototype.writeUint32LE=_e.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};_e.prototype.writeUint32BE=_e.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function _ge(t,e,r,n,i){Pge(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function Sge(t,e,r,n,i){Pge(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}_e.prototype.writeBigUInt64LE=G5(function(e,r=0){return _ge(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});_e.prototype.writeBigUInt64BE=G5(function(e,r=0){return Sge(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});_e.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);yc(this,e,r,n,c-1,-c)}let o=0,a=1,s=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&s===0&&this[r+o-1]!==0&&(s=1),this[r+o]=(e/a>>0)-s&255;return r+n};_e.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);yc(this,e,r,n,c-1,-c)}let o=n-1,a=1,s=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&s===0&&this[r+o+1]!==0&&(s=1),this[r+o]=(e/a>>0)-s&255;return r+n};_e.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};_e.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};_e.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};_e.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};_e.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||yc(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};_e.prototype.writeBigInt64LE=G5(function(e,r=0){return _ge(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});_e.prototype.writeBigInt64BE=G5(function(e,r=0){return Sge(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ige(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Cge(t,e,r,n,i){return e=+e,r=r>>>0,i||Ige(t,e,r,4,34028234663852886e22,-34028234663852886e22),Lw.write(t,e,r,n,23,4),r+4}_e.prototype.writeFloatLE=function(e,r,n){return Cge(this,e,r,!0,n)};_e.prototype.writeFloatBE=function(e,r,n){return Cge(this,e,r,!1,n)};function Rge(t,e,r,n,i){return e=+e,r=r>>>0,i||Ige(t,e,r,8,17976931348623157e292,-17976931348623157e292),Lw.write(t,e,r,n,52,8),r+8}_e.prototype.writeDoubleLE=function(e,r,n){return Rge(this,e,r,!0,n)};_e.prototype.writeDoubleBE=function(e,r,n){return Rge(this,e,r,!1,n)};_e.prototype.copy=function(e,r,n,i){if(!_e.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};_e.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!_e.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let a=_e.isBuffer(e)?e:_e.from(e,i),s=a.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%s]}return this};var Dw={};function FY(t,e,r){Dw[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}FY("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);FY("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);FY("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=wge(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=wge(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function wge(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function mlt(t,e,r){Uw(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&p7(e,t.length-(r+1))}function Pge(t,e,r,n,i,o){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",s;throw o>3?e===0||e===BigInt(0)?s=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:s=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`:s=`>= ${e}${a} and <= ${r}${a}`,new Dw.ERR_OUT_OF_RANGE("value",s,t)}mlt(n,i,o)}function Uw(t,e){if(typeof t!="number")throw new Dw.ERR_INVALID_ARG_TYPE(e,"number",t)}function p7(t,e,r){throw Math.floor(t)!==t?(Uw(t,r),new Dw.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Dw.ERR_BUFFER_OUT_OF_BOUNDS:new Dw.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var blt=/[^+/0-9A-Za-z-_]/g;function ylt(t){if(t=t.split("=")[0],t=t.trim().replace(blt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function DY(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function glt(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function wlt(t,e){let r,n,i,o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Oge(t){return kY.toByteArray(ylt(t))}function yk(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function c1(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function HY(t){return t!==t}var vlt=(function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e})();function G5(t){return typeof BigInt>"u"?Elt:t}function Elt(){throw new Error("BigInt not supported")}});var Ki=de((z1r,Nge)=>{"use strict";var zY=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Nge.exports={AggregateError:zY,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var GY=de((G1r,kge)=>{"use strict";kge.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Fs=de((j1r,Dge)=>{"use strict";var{format:xlt,inspect:gk}=GY(),{AggregateError:Alt}=Ki(),Tlt=globalThis.AggregateError||Alt,_lt=Symbol("kIsNodeError"),Slt=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Ilt=/^([A-Z][a-z0-9]*)+$/,Clt="__node_internal_",wk={};function O2(t,e){if(!t)throw new wk.ERR_INTERNAL_ASSERTION(e)}function Mge(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Rlt(t,e,r){if(typeof e=="function")return O2(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return O2(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:xlt(e,...r)}function ls(t,e,r){r||(r=Error);class n extends r{constructor(...o){super(Rlt(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[_lt]=!0,wk[t]=n}function Bge(t){let e=Clt+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Plt(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Tlt([e,t],e.message);return r.code=e.code,r}return t||e}var jY=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new wk.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ls("ERR_ASSERTION","%s",Error);ls("ERR_INVALID_ARG_TYPE",(t,e,r)=>{O2(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],o=[],a=[];for(let c of e)O2(typeof c=="string","All expected entries have to be of type string"),Slt.includes(c)?i.push(c.toLowerCase()):Ilt.test(c)?o.push(c):(O2(c!=="object",'The value "object" should be written as "Object"'),a.push(c));if(o.length>0){let c=i.indexOf("object");c!==-1&&(i.splice(i,c,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let c=i.pop();n+=`one of type ${i.join(", ")}, or ${c}`}}(o.length>0||a.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let c=o.pop();n+=`an instance of ${o.join(", ")}, or ${c}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{let c=a.pop();n+=`one of ${a.join(", ")}, or ${c}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var s;if((s=r.constructor)!==null&&s!==void 0&&s.name)n+=`. Received an instance of ${r.constructor.name}`;else{let c=gk(r,{depth:-1});n+=`. Received ${c}`}}else{let c=gk(r,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),n+=`. Received type ${typeof r} (${c})`}return n},TypeError);ls("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=gk(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ls("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);ls("ERR_MISSING_ARGS",(...t)=>{O2(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ls("ERR_OUT_OF_RANGE",(t,e,r)=>{O2(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=Mge(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=Mge(n)),n+="n"}else n=gk(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ls("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ls("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ls("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ls("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ls("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ls("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ls("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ls("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ls("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ls("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ls("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);Dge.exports={AbortError:jY,aggregateTwoErrors:Bge(Plt),hideStackFrames:Bge,codes:wk}});var Hw=de(($1r,vk)=>{"use strict";var{AbortController:Lge,AbortSignal:Olt}=typeof self<"u"?self:typeof window<"u"?window:void 0;vk.exports=Lge;vk.exports.AbortSignal=Olt;vk.exports.default=Lge});var D0=de((V1r,VY)=>{"use strict";var Nlt=xu(),{format:klt,inspect:Mlt}=GY(),{codes:{ERR_INVALID_ARG_TYPE:$Y}}=Fs(),{kResistStopPropagation:Blt,AggregateError:Dlt,SymbolDispose:Llt}=Ki(),Ult=globalThis.AbortSignal||Hw().AbortSignal,Flt=globalThis.AbortController||Hw().AbortController,Hlt=Object.getPrototypeOf(async function(){}).constructor,Uge=globalThis.Blob||Nlt.Blob,zlt=typeof Uge<"u"?function(e){return e instanceof Uge}:function(e){return!1},Fge=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new $Y(e,"AbortSignal",t)},Glt=(t,e)=>{if(typeof t!="function")throw new $Y(e,"Function",t)};VY.exports={AggregateError:Dlt,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:klt,inspect:Mlt,types:{isAsyncFunction(t){return t instanceof Hlt},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:zlt,deprecate(t,e){return t},addAbortListener:Da().addAbortListener||function(e,r){if(e===void 0)throw new $Y("signal","AbortSignal",e);Fge(e,"signal"),Glt(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Blt]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Llt](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Ult.any||function(e){if(e.length===1)return e[0];let r=new Flt,n=()=>r.abort();return e.forEach(i=>{Fge(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};VY.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Gw=de((K1r,Yge)=>{"use strict";var{ArrayIsArray:qY,ArrayPrototypeIncludes:jge,ArrayPrototypeJoin:$ge,ArrayPrototypeMap:jlt,NumberIsInteger:WY,NumberIsNaN:$lt,NumberMAX_SAFE_INTEGER:Vlt,NumberMIN_SAFE_INTEGER:Klt,NumberParseInt:qlt,ObjectPrototypeHasOwnProperty:Wlt,RegExpPrototypeExec:Vge,String:Ylt,StringPrototypeToUpperCase:Jlt,StringPrototypeTrim:Qlt}=Ki(),{hideStackFrames:Au,codes:{ERR_SOCKET_BAD_PORT:Zlt,ERR_INVALID_ARG_TYPE:Hs,ERR_INVALID_ARG_VALUE:zw,ERR_OUT_OF_RANGE:N2,ERR_UNKNOWN_SIGNAL:Hge}}=Fs(),{normalizeEncoding:Xlt}=D0(),{isAsyncFunction:eut,isArrayBufferView:tut}=D0().types,zge={};function rut(t){return t===(t|0)}function nut(t){return t===t>>>0}var iut=/^[0-7]+$/,out="must be a 32-bit unsigned integer or an octal string";function aut(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(Vge(iut,t)===null)throw new zw(e,t,out);t=qlt(t,8)}return Kge(t,e),t}var sut=Au((t,e,r=Klt,n=Vlt)=>{if(typeof t!="number")throw new Hs(e,"number",t);if(!WY(t))throw new N2(e,"an integer",t);if(t<r||t>n)throw new N2(e,`>= ${r} && <= ${n}`,t)}),cut=Au((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Hs(e,"number",t);if(!WY(t))throw new N2(e,"an integer",t);if(t<r||t>n)throw new N2(e,`>= ${r} && <= ${n}`,t)}),Kge=Au((t,e,r=!1)=>{if(typeof t!="number")throw new Hs(e,"number",t);if(!WY(t))throw new N2(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new N2(e,`>= ${n} && <= ${i}`,t)});function YY(t,e){if(typeof t!="string")throw new Hs(e,"string",t)}function lut(t,e,r=void 0,n){if(typeof t!="number")throw new Hs(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&$lt(t))throw new N2(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var uut=Au((t,e,r)=>{if(!jge(r,t)){let i="must be one of: "+$ge(jlt(r,o=>typeof o=="string"?`'${o}'`:Ylt(o)),", ");throw new zw(e,t,i)}});function qge(t,e){if(typeof t!="boolean")throw new Hs(e,"boolean",t)}function KY(t,e,r){return t==null||!Wlt(t,e)?r:t[e]}var dut=Au((t,e,r=null)=>{let n=KY(r,"allowArray",!1),i=KY(r,"allowFunction",!1);if(!KY(r,"nullable",!1)&&t===null||!n&&qY(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Hs(e,"Object",t)}),fut=Au((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Hs(e,"a dictionary",t)}),Ek=Au((t,e,r=0)=>{if(!qY(t))throw new Hs(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new zw(e,t,n)}});function put(t,e){Ek(t,e);for(let r=0;r<t.length;r++)YY(t[r],`${e}[${r}]`)}function hut(t,e){Ek(t,e);for(let r=0;r<t.length;r++)qge(t[r],`${e}[${r}]`)}function mut(t,e){Ek(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Hs(i,"AbortSignal",n);Wge(n,i)}}function but(t,e="signal"){if(YY(t,e),zge[t]===void 0)throw zge[Jlt(t)]!==void 0?new Hge(t+" (signals must use all capital letters)"):new Hge(t)}var yut=Au((t,e="buffer")=>{if(!tut(t))throw new Hs(e,["Buffer","TypedArray","DataView"],t)});function gut(t,e){let r=Xlt(e),n=t.length;if(r==="hex"&&n%2!==0)throw new zw("encoding",e,`is invalid for data of length ${n}`)}function wut(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Qlt(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Zlt(e,t,r);return t|0}var Wge=Au((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Hs(e,"AbortSignal",t)}),vut=Au((t,e)=>{if(typeof t!="function")throw new Hs(e,"Function",t)}),Eut=Au((t,e)=>{if(typeof t!="function"||eut(t))throw new Hs(e,"Function",t)}),xut=Au((t,e)=>{if(t!==void 0)throw new Hs(e,"undefined",t)});function Aut(t,e,r){if(!jge(r,t))throw new Hs(e,`('${$ge(r,"|")}')`,t)}var Tut=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Gge(t,e){if(typeof t>"u"||!Vge(Tut,t))throw new zw(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function _ut(t){if(typeof t=="string")return Gge(t,"hints"),t;if(qY(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];Gge(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new zw("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Yge.exports={isInt32:rut,isUint32:nut,parseFileMode:aut,validateArray:Ek,validateStringArray:put,validateBooleanArray:hut,validateAbortSignalArray:mut,validateBoolean:qge,validateBuffer:yut,validateDictionary:fut,validateEncoding:gut,validateFunction:vut,validateInt32:cut,validateInteger:sut,validateNumber:lut,validateObject:dut,validateOneOf:uut,validatePlainFunction:Eut,validatePort:wut,validateSignalName:but,validateString:YY,validateUint32:Kge,validateUndefined:xut,validateUnion:Aut,validateAbortSignal:Wge,validateLinkHeaderValue:_ut}});var j5=de((q1r,Xge)=>{var Lo=Xge.exports={},l1,u1;function JY(){throw new Error("setTimeout has not been defined")}function QY(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l1=setTimeout:l1=JY}catch{l1=JY}try{typeof clearTimeout=="function"?u1=clearTimeout:u1=QY}catch{u1=QY}})();function Jge(t){if(l1===setTimeout)return setTimeout(t,0);if((l1===JY||!l1)&&setTimeout)return l1=setTimeout,setTimeout(t,0);try{return l1(t,0)}catch{try{return l1.call(null,t,0)}catch{return l1.call(this,t,0)}}}function Sut(t){if(u1===clearTimeout)return clearTimeout(t);if((u1===QY||!u1)&&clearTimeout)return u1=clearTimeout,clearTimeout(t);try{return u1(t)}catch{try{return u1.call(null,t)}catch{return u1.call(this,t)}}}var Xp=[],jw=!1,k2,xk=-1;function Iut(){!jw||!k2||(jw=!1,k2.length?Xp=k2.concat(Xp):xk=-1,Xp.length&&Qge())}function Qge(){if(!jw){var t=Jge(Iut);jw=!0;for(var e=Xp.length;e;){for(k2=Xp,Xp=[];++xk<e;)k2&&k2[xk].run();xk=-1,e=Xp.length}k2=null,jw=!1,Sut(t)}}Lo.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Xp.push(new Zge(t,e)),Xp.length===1&&!jw&&Jge(Qge)};function Zge(t,e){this.fun=t,this.array=e}Zge.prototype.run=function(){this.fun.apply(null,this.array)};Lo.title="browser";Lo.browser=!0;Lo.env={};Lo.argv=[];Lo.version="";Lo.versions={};function e6(){}Lo.on=e6;Lo.addListener=e6;Lo.once=e6;Lo.off=e6;Lo.removeListener=e6;Lo.removeAllListeners=e6;Lo.emit=e6;Lo.prependListener=e6;Lo.prependOnceListener=e6;Lo.listeners=function(t){return[]};Lo.binding=function(t){throw new Error("process.binding is not supported")};Lo.cwd=function(){return"/"};Lo.chdir=function(t){throw new Error("process.chdir is not supported")};Lo.umask=function(){return 0}});var f1=de((W1r,h8e)=>{"use strict";var{SymbolAsyncIterator:e8e,SymbolIterator:t8e,SymbolFor:M2}=Ki(),r8e=M2("nodejs.stream.destroyed"),n8e=M2("nodejs.stream.errored"),ZY=M2("nodejs.stream.readable"),XY=M2("nodejs.stream.writable"),i8e=M2("nodejs.stream.disturbed"),Cut=M2("nodejs.webstream.isClosedPromise"),Rut=M2("nodejs.webstream.controllerErrorFunction");function Ak(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Tk(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Put(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function d1(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function o8e(t){return!!(t&&!d1(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function a8e(t){return!!(t&&!d1(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function s8e(t){return!!(t&&!d1(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Out(t){return o8e(t)||a8e(t)||s8e(t)}function Nut(t,e){return t==null?!1:e===!0?typeof t[e8e]=="function":e===!1?typeof t[t8e]=="function":typeof t[e8e]=="function"||typeof t[t8e]=="function"}function _k(t){if(!d1(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[r8e]||n!=null&&n.destroyed)}function c8e(t){if(!Tk(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function kut(t,e){if(!Tk(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Mut(t){if(!Ak(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function l8e(t,e){if(!Ak(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function u8e(t){return t&&t[ZY]!=null?t[ZY]:typeof t?.readable!="boolean"?null:_k(t)?!1:Ak(t)&&t.readable&&!l8e(t)}function d8e(t){return t&&t[XY]!=null?t[XY]:typeof t?.writable!="boolean"?null:_k(t)?!1:Tk(t)&&t.writable&&!c8e(t)}function But(t,e){return d1(t)?_k(t)?!0:!(e?.readable!==!1&&u8e(t)||e?.writable!==!1&&d8e(t)):null}function Dut(t){var e,r;return d1(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Lut(t){var e,r;return d1(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Uut(t){if(!d1(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&f8e(t)?t._closed:null}function f8e(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function p8e(t){return typeof t._sent100=="boolean"&&f8e(t)}function Fut(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Hut(t){if(!d1(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&p8e(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function zut(t){var e;return!!(t&&((e=t[i8e])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Gut(t){var e,r,n,i,o,a,s,c,l,u;return!!(t&&((e=(r=(n=(i=(o=(a=t[n8e])!==null&&a!==void 0?a:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&i!==void 0?i:(s=t._readableState)===null||s===void 0?void 0:s.errorEmitted)!==null&&n!==void 0?n:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}h8e.exports={isDestroyed:_k,kIsDestroyed:r8e,isDisturbed:zut,kIsDisturbed:i8e,isErrored:Gut,kIsErrored:n8e,isReadable:u8e,kIsReadable:ZY,kIsClosedPromise:Cut,kControllerErrorFunction:Rut,kIsWritable:XY,isClosed:Uut,isDuplexNodeStream:Put,isFinished:But,isIterable:Nut,isReadableNodeStream:Ak,isReadableStream:o8e,isReadableEnded:Mut,isReadableFinished:l8e,isReadableErrored:Lut,isNodeStream:d1,isWebStream:Out,isWritable:d8e,isWritableNodeStream:Tk,isWritableStream:a8e,isWritableEnded:c8e,isWritableFinished:kut,isWritableErrored:Dut,isServerRequest:Fut,isServerResponse:p8e,willEmitClose:Hut,isTransformStream:s8e}});var t6=de((Y1r,iJ)=>{"use strict";var $5=j5(),{AbortError:A8e,codes:jut}=Fs(),{ERR_INVALID_ARG_TYPE:$ut,ERR_STREAM_PREMATURE_CLOSE:m8e}=jut,{kEmptyObject:tJ,once:rJ}=D0(),{validateAbortSignal:Vut,validateFunction:Kut,validateObject:qut,validateBoolean:Wut}=Gw(),{Promise:Yut,PromisePrototypeThen:Jut,SymbolDispose:T8e}=Ki(),{isClosed:Qut,isReadable:b8e,isReadableNodeStream:eJ,isReadableStream:Zut,isReadableFinished:y8e,isReadableErrored:g8e,isWritable:w8e,isWritableNodeStream:v8e,isWritableStream:Xut,isWritableFinished:E8e,isWritableErrored:x8e,isNodeStream:edt,willEmitClose:tdt,kIsClosedPromise:rdt}=f1(),$w;function ndt(t){return t.setHeader&&typeof t.abort=="function"}var nJ=()=>{};function _8e(t,e,r){var n,i;if(arguments.length===2?(r=e,e=tJ):e==null?e=tJ:qut(e,"options"),Kut(r,"callback"),Vut(e.signal,"options.signal"),r=rJ(r),Zut(t)||Xut(t))return idt(t,e,r);if(!edt(t))throw new $ut("stream",["ReadableStream","WritableStream","Stream"],t);let o=(n=e.readable)!==null&&n!==void 0?n:eJ(t),a=(i=e.writable)!==null&&i!==void 0?i:v8e(t),s=t._writableState,c=t._readableState,l=()=>{t.writable||f()},u=tdt(t)&&eJ(t)===o&&v8e(t)===a,d=E8e(t,!1),f=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||o))&&(!o||p)&&r.call(t)},p=y8e(t,!1),h=()=>{p=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||a))&&(!a||d)&&r.call(t)},b=U=>{r.call(t,U)},_=Qut(t),A=()=>{_=!0;let U=x8e(t)||g8e(t);if(U&&typeof U!="boolean")return r.call(t,U);if(o&&!p&&eJ(t,!0)&&!y8e(t,!1))return r.call(t,new m8e);if(a&&!d&&!E8e(t,!1))return r.call(t,new m8e);r.call(t)},C=()=>{_=!0;let U=x8e(t)||g8e(t);if(U&&typeof U!="boolean")return r.call(t,U);r.call(t)},R=()=>{t.req.on("finish",f)};ndt(t)?(t.on("complete",f),u||t.on("abort",A),t.req?R():t.on("request",R)):a&&!s&&(t.on("end",l),t.on("close",l)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",A),t.on("end",h),t.on("finish",f),e.error!==!1&&t.on("error",b),t.on("close",A),_?$5.nextTick(A):s!=null&&s.errorEmitted||c!=null&&c.errorEmitted?u||$5.nextTick(C):(!o&&(!u||b8e(t))&&(d||w8e(t)===!1)||!a&&(!u||w8e(t))&&(p||b8e(t)===!1)||c&&t.req&&t.aborted)&&$5.nextTick(C);let M=()=>{r=nJ,t.removeListener("aborted",A),t.removeListener("complete",f),t.removeListener("abort",A),t.removeListener("request",R),t.req&&t.req.removeListener("finish",f),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",b),t.removeListener("close",A)};if(e.signal&&!_){let U=()=>{let F=r;M(),F.call(t,new A8e(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)$5.nextTick(U);else{$w=$w||D0().addAbortListener;let F=$w(e.signal,U),z=r;r=rJ((...N)=>{F[T8e](),z.apply(t,N)})}}return M}function idt(t,e,r){let n=!1,i=nJ;if(e.signal)if(i=()=>{n=!0,r.call(t,new A8e(void 0,{cause:e.signal.reason}))},e.signal.aborted)$5.nextTick(i);else{$w=$w||D0().addAbortListener;let a=$w(e.signal,i),s=r;r=rJ((...c)=>{a[T8e](),s.apply(t,c)})}let o=(...a)=>{n||$5.nextTick(()=>r.apply(t,a))};return Jut(t[rdt].promise,o,o),nJ}function odt(t,e){var r;let n=!1;return e===null&&(e=tJ),(r=e)!==null&&r!==void 0&&r.cleanup&&(Wut(e.cleanup,"cleanup"),n=e.cleanup),new Yut((i,o)=>{let a=_8e(t,e,s=>{n&&a(),s?o(s):i()})})}iJ.exports=_8e;iJ.exports.finished=odt});var B2=de((J1r,k8e)=>{"use strict";var p1=j5(),{aggregateTwoErrors:adt,codes:{ERR_MULTIPLE_CALLBACK:sdt},AbortError:cdt}=Fs(),{Symbol:C8e}=Ki(),{kIsDestroyed:ldt,isDestroyed:udt,isFinished:ddt,isServerRequest:fdt}=f1(),R8e=C8e("kDestroy"),oJ=C8e("kConstruct");function P8e(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function pdt(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(P8e(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?S8e(this,t,e):this.once(R8e,function(o){S8e(this,adt(o,t),e)}),this)}function S8e(t,e,r){let n=!1;function i(o){if(n)return;n=!0;let a=t._readableState,s=t._writableState;P8e(o,s,a),s&&(s.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(o),o?p1.nextTick(hdt,t,o):p1.nextTick(O8e,t)}try{t._destroy(e||null,i)}catch(o){i(o)}}function hdt(t,e){aJ(t,e),O8e(t)}function O8e(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function aJ(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function mdt(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function sJ(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?p1.nextTick(aJ,t,e):aJ(t,e))}function bdt(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(oJ,e),!(t.listenerCount(oJ)>1)&&p1.nextTick(ydt,t)}function ydt(t){let e=!1;function r(n){if(e){sJ(t,n??new sdt);return}e=!0;let i=t._readableState,o=t._writableState,a=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),a.destroyed?t.emit(R8e,n):n?sJ(t,n,!0):p1.nextTick(gdt,t)}try{t._construct(n=>{p1.nextTick(r,n)})}catch(n){p1.nextTick(r,n)}}function gdt(t){t.emit(oJ)}function I8e(t){return t?.setHeader&&typeof t.abort=="function"}function N8e(t){t.emit("close")}function wdt(t,e){t.emit("error",e),p1.nextTick(N8e,t)}function vdt(t,e){!t||udt(t)||(!e&&!ddt(t)&&(e=new cdt),fdt(t)?(t.socket=null,t.destroy(e)):I8e(t)?t.abort():I8e(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?p1.nextTick(wdt,t,e):p1.nextTick(N8e,t),t.destroyed||(t[ldt]=!0))}k8e.exports={construct:bdt,destroyer:vdt,destroy:pdt,undestroy:mdt,errorOrDestroy:sJ}});var Ck=de((Q1r,B8e)=>{"use strict";var{ArrayIsArray:Edt,ObjectSetPrototypeOf:M8e}=Ki(),{EventEmitter:Sk}=Da();function Ik(t){Sk.call(this,t)}M8e(Ik.prototype,Sk.prototype);M8e(Ik,Sk);Ik.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",s));let o=!1;function a(){o||(o=!0,t.end())}function s(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function c(u){l(),Sk.listenerCount(this,"error")===0&&this.emit("error",u)}cJ(r,"error",c),cJ(t,"error",c);function l(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t};function cJ(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Edt(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}B8e.exports={Stream:Ik,prependListener:cJ}});var h7=de((Z1r,Rk)=>{"use strict";var{SymbolDispose:xdt}=Ki(),{AbortError:D8e,codes:Adt}=Fs(),{isNodeStream:L8e,isWebStream:Tdt,kControllerErrorFunction:_dt}=f1(),Sdt=t6(),{ERR_INVALID_ARG_TYPE:U8e}=Adt,lJ,Idt=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new U8e(e,"AbortSignal",t)};Rk.exports.addAbortSignal=function(e,r){if(Idt(e,"signal"),!L8e(r)&&!Tdt(r))throw new U8e("stream",["ReadableStream","WritableStream","Stream"],r);return Rk.exports.addAbortSignalNoValidate(e,r)};Rk.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=L8e(e)?()=>{e.destroy(new D8e(void 0,{cause:t.reason}))}:()=>{e[_dt](new D8e(void 0,{cause:t.reason}))};if(t.aborted)r();else{lJ=lJ||D0().addAbortListener;let n=lJ(t,r);Sdt(e,n[xdt])}return e}});var z8e=de((epr,H8e)=>{"use strict";var{StringPrototypeSlice:F8e,SymbolIterator:Cdt,TypedArrayPrototypeSet:Pk,Uint8Array:Rdt}=Ki(),{Buffer:uJ}=xu(),{inspect:Pdt}=D0();H8e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return uJ.alloc(0);let r=uJ.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Pk(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Cdt](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let o=n.data;if(e>o.length)r+=o,e-=o.length;else{e===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=F8e(o,0,e),this.head=n,n.data=F8e(o,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=uJ.allocUnsafe(e),n=e,i=this.head,o=0;do{let a=i.data;if(e>a.length)Pk(r,a,n-e),e-=a.length;else{e===a.length?(Pk(r,a,n-e),++o,i.next?this.head=i.next:this.head=this.tail=null):(Pk(r,new Rdt(a.buffer,a.byteOffset,e),n-e),this.head=i,i.data=a.slice(e));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Pdt(this,{...r,depth:0,customInspect:!1})}}});var m7=de((tpr,V8e)=>{"use strict";var{MathFloor:Odt,NumberIsInteger:Ndt}=Ki(),{validateInteger:kdt}=Gw(),{ERR_INVALID_ARG_VALUE:Mdt}=Fs().codes,G8e=16*1024,j8e=16;function Bdt(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function $8e(t){return t?j8e:G8e}function Ddt(t,e){kdt(e,"value",0),t?j8e=e:G8e=e}function Ldt(t,e,r,n){let i=Bdt(e,n,r);if(i!=null){if(!Ndt(i)||i<0){let o=n?`options.${r}`:"options.highWaterMark";throw new Mdt(o,i)}return Odt(i)}return $8e(t.objectMode)}V8e.exports={getHighWaterMark:Ldt,getDefaultHighWaterMark:$8e,setDefaultHighWaterMark:Ddt}});var fJ=de((dJ,q8e)=>{var Ok=xu(),h1=Ok.Buffer;function K8e(t,e){for(var r in t)e[r]=t[r]}h1.from&&h1.alloc&&h1.allocUnsafe&&h1.allocUnsafeSlow?q8e.exports=Ok:(K8e(Ok,dJ),dJ.Buffer=D2);function D2(t,e,r){return h1(t,e,r)}D2.prototype=Object.create(h1.prototype);K8e(h1,D2);D2.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return h1(t,e,r)};D2.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=h1(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};D2.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return h1(t)};D2.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ok.SlowBuffer(t)}});var J8e=de(Y8e=>{"use strict";var hJ=fJ().Buffer,W8e=hJ.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Udt(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Fdt(t){var e=Udt(t);if(typeof e!="string"&&(hJ.isEncoding===W8e||!W8e(t)))throw new Error("Unknown encoding: "+t);return e||t}Y8e.StringDecoder=b7;function b7(t){this.encoding=Fdt(t);var e;switch(this.encoding){case"utf16le":this.text=Vdt,this.end=Kdt,e=4;break;case"utf8":this.fillLast=Gdt,e=4;break;case"base64":this.text=qdt,this.end=Wdt,e=3;break;default:this.write=Ydt,this.end=Jdt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=hJ.allocUnsafe(e)}b7.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};b7.prototype.end=$dt;b7.prototype.text=jdt;b7.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function pJ(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Hdt(t,e,r){var n=e.length-1;if(n<r)return 0;var i=pJ(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=pJ(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=pJ(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function zdt(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Gdt(t){var e=this.lastTotal-this.lastNeed,r=zdt(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function jdt(t,e){var r=Hdt(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function $dt(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Vdt(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Kdt(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function qdt(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Wdt(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Ydt(t){return t.toString(this.encoding)}function Jdt(t){return t&&t.length?this.write(t):""}});var mJ=de((npr,e3e)=>{"use strict";var Q8e=j5(),{PromisePrototypeThen:Qdt,SymbolAsyncIterator:Z8e,SymbolIterator:X8e}=Ki(),{Buffer:Zdt}=xu(),{ERR_INVALID_ARG_TYPE:Xdt,ERR_STREAM_NULL_VALUES:eft}=Fs().codes;function tft(t,e,r){let n;if(typeof e=="string"||e instanceof Zdt)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[Z8e])i=!0,n=e[Z8e]();else if(e&&e[X8e])i=!1,n=e[X8e]();else throw new Xdt("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),a=!1;o._read=function(){a||(a=!0,c())},o._destroy=function(l,u){Qdt(s(l),()=>Q8e.nextTick(u,l),d=>Q8e.nextTick(u,d||l))};async function s(l){let u=l!=null,d=typeof n.throw=="function";if(u&&d){let{value:f,done:p}=await n.throw(l);if(await f,p)return}if(typeof n.return=="function"){let{value:f}=await n.return();await f}}async function c(){for(;;){try{let{value:l,done:u}=i?await n.next():n.next();if(u)o.push(null);else{let d=l&&typeof l.then=="function"?await l:l;if(d===null)throw a=!1,new eft;if(o.push(d))continue;a=!1}}catch(l){o.destroy(l)}break}}return o}e3e.exports=tft});var g7=de((ipr,g3e)=>{"use strict";var Dd=j5(),{ArrayPrototypeIndexOf:rft,NumberIsInteger:nft,NumberIsNaN:ift,NumberParseInt:oft,ObjectDefineProperties:AJ,ObjectKeys:aft,ObjectSetPrototypeOf:n3e,Promise:i3e,SafeSet:sft,SymbolAsyncDispose:cft,SymbolAsyncIterator:lft,Symbol:uft}=Ki();g3e.exports=$r;$r.ReadableState=Bk;var{EventEmitter:dft}=Da(),{Stream:V5,prependListener:fft}=Ck(),{Buffer:bJ}=xu(),{addAbortSignal:pft}=h7(),o3e=t6(),sn=D0().debuglog("stream",t=>{sn=t}),hft=z8e(),qw=B2(),{getHighWaterMark:mft,getDefaultHighWaterMark:bft}=m7(),{aggregateTwoErrors:t3e,codes:{ERR_INVALID_ARG_TYPE:yft,ERR_METHOD_NOT_IMPLEMENTED:gft,ERR_OUT_OF_RANGE:wft,ERR_STREAM_PUSH_AFTER_EOF:vft,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Eft},AbortError:xft}=Fs(),{validateObject:Aft}=Gw(),L2=uft("kPaused"),{StringDecoder:a3e}=J8e(),Tft=mJ();n3e($r.prototype,V5.prototype);n3e($r,V5);var yJ=()=>{},{errorOrDestroy:Vw}=qw,Kw=1,_ft=2,s3e=4,y7=8,c3e=16,Nk=32,kk=64,l3e=128,Sft=256,Ift=512,Cft=1024,EJ=2048,xJ=4096,Rft=8192,Pft=16384,Oft=32768,u3e=65536,Nft=1<<17,kft=1<<18;function ua(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}AJ(Bk.prototype,{objectMode:ua(Kw),ended:ua(_ft),endEmitted:ua(s3e),reading:ua(y7),constructed:ua(c3e),sync:ua(Nk),needReadable:ua(kk),emittedReadable:ua(l3e),readableListening:ua(Sft),resumeScheduled:ua(Ift),errorEmitted:ua(Cft),emitClose:ua(EJ),autoDestroy:ua(xJ),destroyed:ua(Rft),closed:ua(Pft),closeEmitted:ua(Oft),multiAwaitDrain:ua(u3e),readingMore:ua(Nft),dataEmitted:ua(kft)});function Bk(t,e,r){typeof r!="boolean"&&(r=e instanceof m1()),this.state=EJ|xJ|c3e|Nk,t&&t.objectMode&&(this.state|=Kw),r&&t&&t.readableObjectMode&&(this.state|=Kw),this.highWaterMark=t?mft(this,t,"readableHighWaterMark",r):bft(!1),this.buffer=new hft,this.length=0,this.pipes=[],this.flowing=null,this[L2]=null,t&&t.emitClose===!1&&(this.state&=~EJ),t&&t.autoDestroy===!1&&(this.state&=~xJ),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new a3e(t.encoding),this.encoding=t.encoding)}function $r(t){if(!(this instanceof $r))return new $r(t);let e=this instanceof m1();this._readableState=new Bk(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&pft(t.signal,this)),V5.call(this,t),qw.construct(this,()=>{this._readableState.needReadable&&Mk(this,this._readableState)})}$r.prototype.destroy=qw.destroy;$r.prototype._undestroy=qw.undestroy;$r.prototype._destroy=function(t,e){e(t)};$r.prototype[dft.captureRejectionSymbol]=function(t){this.destroy(t)};$r.prototype[cft]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new xft,this.destroy(t)),new i3e((e,r)=>o3e(this,n=>n&&n!==t?r(n):e(null)))};$r.prototype.push=function(t,e){return d3e(this,t,e,!1)};$r.prototype.unshift=function(t,e){return d3e(this,t,e,!0)};function d3e(t,e,r,n){sn("readableAddChunk",e);let i=t._readableState,o;if((i.state&Kw)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=bJ.from(e,r).toString(i.encoding):(e=bJ.from(e,r),r=""))):e instanceof bJ?r="":V5._isUint8Array(e)?(e=V5._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new yft("chunk",["string","Buffer","Uint8Array"],e))),o)Vw(t,o);else if(e===null)i.state&=~y7,Dft(t,i);else if((i.state&Kw)!==0||e&&e.length>0)if(n)if((i.state&s3e)!==0)Vw(t,new Eft);else{if(i.destroyed||i.errored)return!1;gJ(t,i,e,!0)}else if(i.ended)Vw(t,new vft);else{if(i.destroyed||i.errored)return!1;i.state&=~y7,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?gJ(t,i,e,!1):Mk(t,i)):gJ(t,i,e,!1)}else n||(i.state&=~y7,Mk(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function gJ(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&u3e)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&kk)!==0&&Dk(t)),Mk(t,e)}$r.prototype.isPaused=function(){let t=this._readableState;return t[L2]===!0||t.flowing===!1};$r.prototype.setEncoding=function(t){let e=new a3e(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Mft=1073741824;function Bft(t){if(t>Mft)throw new wft("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function r3e(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Kw)!==0?1:ift(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}$r.prototype.read=function(t){sn("read",t),t===void 0?t=NaN:nft(t)||(t=oft(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Bft(t)),t!==0&&(e.state&=~l3e),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return sn("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?wJ(this):Dk(this),null;if(t=r3e(t,e),t===0&&e.ended)return e.length===0&&wJ(this),null;let n=(e.state&kk)!==0;if(sn("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,sn("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,sn("reading, ended or constructing",n);else if(n){sn("do read"),e.state|=y7|Nk,e.length===0&&(e.state|=kk);try{this._read(e.highWaterMark)}catch(o){Vw(this,o)}e.state&=~Nk,e.reading||(t=r3e(r,e))}let i;return t>0?i=b3e(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&wJ(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function Dft(t,e){if(sn("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Dk(t):(e.needReadable=!1,e.emittedReadable=!0,f3e(t))}}function Dk(t){let e=t._readableState;sn("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(sn("emitReadable",e.flowing),e.emittedReadable=!0,Dd.nextTick(f3e,t))}function f3e(t){let e=t._readableState;sn("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,h3e(t)}function Mk(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Dd.nextTick(Lft,t,e))}function Lft(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(sn("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}$r.prototype._read=function(t){throw new gft("_read()")};$r.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new sft(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),sn("pipe count=%d opts=%j",n.pipes.length,e);let o=(!e||e.end!==!1)&&t!==Dd.stdout&&t!==Dd.stderr?s:_;n.endEmitted?Dd.nextTick(o):r.once("end",o),t.on("unpipe",a);function a(A,C){sn("onunpipe"),A===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,u())}function s(){sn("onend"),t.end()}let c,l=!1;function u(){sn("cleanup"),t.removeListener("close",h),t.removeListener("finish",b),c&&t.removeListener("drain",c),t.removeListener("error",p),t.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",_),r.removeListener("data",f),l=!0,c&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&c()}function d(){l||(n.pipes.length===1&&n.pipes[0]===t?(sn("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(sn("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),c||(c=Uft(r,t),t.on("drain",c))}r.on("data",f);function f(A){sn("ondata");let C=t.write(A);sn("dest.write",C),C===!1&&d()}function p(A){if(sn("onerror",A),_(),t.removeListener("error",p),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?Vw(t,A):t.emit("error",A)}}fft(t,"error",p);function h(){t.removeListener("finish",b),_()}t.once("close",h);function b(){sn("onfinish"),t.removeListener("close",h),_()}t.once("finish",b);function _(){sn("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(sn("pipe resume"),r.resume()),t};function Uft(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(sn("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(sn("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}$r.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let o=0;o<i.length;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}let n=rft(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};$r.prototype.on=function(t,e){let r=V5.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,sn("on readable",n.length,n.reading),n.length?Dk(this):n.reading||Dd.nextTick(Fft,this)),r};$r.prototype.addListener=$r.prototype.on;$r.prototype.removeListener=function(t,e){let r=V5.prototype.removeListener.call(this,t,e);return t==="readable"&&Dd.nextTick(p3e,this),r};$r.prototype.off=$r.prototype.removeListener;$r.prototype.removeAllListeners=function(t){let e=V5.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Dd.nextTick(p3e,this),e};function p3e(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[L2]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Fft(t){sn("readable nexttick read 0"),t.read(0)}$r.prototype.resume=function(){let t=this._readableState;return t.flowing||(sn("resume"),t.flowing=!t.readableListening,Hft(this,t)),t[L2]=!1,this};function Hft(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Dd.nextTick(zft,t,e))}function zft(t,e){sn("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),h3e(t),e.flowing&&!e.reading&&t.read(0)}$r.prototype.pause=function(){return sn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(sn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[L2]=!0,this};function h3e(t){let e=t._readableState;for(sn("flow",e.flowing);e.flowing&&t.read()!==null;);}$r.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Vw(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=aft(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};$r.prototype[lft]=function(){return m3e(this)};$r.prototype.iterator=function(t){return t!==void 0&&Aft(t,"options"),m3e(this,t)};function m3e(t,e){typeof t.read!="function"&&(t=$r.wrap(t,{objectMode:!0}));let r=Gft(t,e);return r.stream=t,r}async function*Gft(t,e){let r=yJ;function n(a){this===t?(r(),r=yJ):r=a}t.on("readable",n);let i,o=o3e(t,{writable:!1},a=>{i=a?t3e(i,a):null,r(),r=yJ});try{for(;;){let a=t.destroyed?null:t.read();if(a!==null)yield a;else{if(i)throw i;if(i===null)return;await new i3e(n)}}}catch(a){throw i=t3e(i,a),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?qw.destroyer(t,null):(t.off("readable",n),o())}}AJ($r.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});AJ(Bk.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[L2]!==!1},set(t){this[L2]=!!t}}});$r._fromList=b3e;function b3e(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function wJ(t){let e=t._readableState;sn("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Dd.nextTick(jft,e,t))}function jft(t,e){if(sn("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Dd.nextTick($ft,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function $ft(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}$r.from=function(t,e){return Tft($r,t,e)};var vJ;function y3e(){return vJ===void 0&&(vJ={}),vJ}$r.fromWeb=function(t,e){return y3e().newStreamReadableFromReadableStream(t,e)};$r.toWeb=function(t,e){return y3e().newReadableStreamFromStreamReadable(t,e)};$r.wrap=function(t,e){var r,n;return new $r({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,o){qw.destroyer(t,i),o(i)}}).wrap(t)}});var zk=de((opr,P3e)=>{"use strict";var U2=j5(),{ArrayPrototypeSlice:E3e,Error:Vft,FunctionPrototypeSymbolHasInstance:x3e,ObjectDefineProperty:A3e,ObjectDefineProperties:Kft,ObjectSetPrototypeOf:T3e,StringPrototypeToLowerCase:qft,Symbol:Wft,SymbolHasInstance:Yft}=Ki();P3e.exports=eo;eo.WritableState=E7;var{EventEmitter:Jft}=Da(),w7=Ck().Stream,{Buffer:Lk}=xu(),Hk=B2(),{addAbortSignal:Qft}=h7(),{getHighWaterMark:Zft,getDefaultHighWaterMark:Xft}=m7(),{ERR_INVALID_ARG_TYPE:e1t,ERR_METHOD_NOT_IMPLEMENTED:t1t,ERR_MULTIPLE_CALLBACK:_3e,ERR_STREAM_CANNOT_PIPE:r1t,ERR_STREAM_DESTROYED:v7,ERR_STREAM_ALREADY_FINISHED:n1t,ERR_STREAM_NULL_VALUES:i1t,ERR_STREAM_WRITE_AFTER_END:o1t,ERR_UNKNOWN_ENCODING:S3e}=Fs().codes,{errorOrDestroy:Ww}=Hk;T3e(eo.prototype,w7.prototype);T3e(eo,w7);function SJ(){}var Yw=Wft("kOnFinished");function E7(t,e,r){typeof r!="boolean"&&(r=e instanceof m1()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Zft(this,t,"writableHighWaterMark",r):Xft(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=s1t.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Fk(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Yw]=[]}function Fk(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}E7.prototype.getBuffer=function(){return E3e(this.buffered,this.bufferedIndex)};A3e(E7.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function eo(t){let e=this instanceof m1();if(!e&&!x3e(eo,this))return new eo(t);this._writableState=new E7(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Qft(t.signal,this)),w7.call(this,t),Hk.construct(this,()=>{let r=this._writableState;r.writing||CJ(this,r),RJ(this,r)})}A3e(eo,Yft,{__proto__:null,value:function(t){return x3e(this,t)?!0:this!==eo?!1:t&&t._writableState instanceof E7}});eo.prototype.pipe=function(){Ww(this,new r1t)};function I3e(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Lk.isEncoding(r))throw new S3e(r);typeof n!="function"&&(n=SJ)}if(e===null)throw new i1t;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Lk.from(e,r),r="buffer");else if(e instanceof Lk)r="buffer";else if(w7._isUint8Array(e))e=w7._uint8ArrayToBuffer(e),r="buffer";else throw new e1t("chunk",["string","Buffer","Uint8Array"],e);let o;return i.ending?o=new o1t:i.destroyed&&(o=new v7("write")),o?(U2.nextTick(n,o),Ww(t,o,!0),o):(i.pendingcb++,a1t(t,i,e,r,n))}eo.prototype.write=function(t,e,r){return I3e(this,t,e,r)===!0};eo.prototype.cork=function(){this._writableState.corked++};eo.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||CJ(this,t))};eo.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=qft(e)),!Lk.isEncoding(e))throw new S3e(e);return this._writableState.defaultEncoding=e,this};function a1t(t,e,r,n,i){let o=e.objectMode?1:r.length;e.length+=o;let a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==SJ&&(e.allNoop=!1)):(e.writelen=o,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),a&&!e.errored&&!e.destroyed}function w3e(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v7("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function v3e(t,e,r,n){--e.pendingcb,n(r),IJ(e),Ww(t,r)}function s1t(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Ww(t,new _3e);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?U2.nextTick(v3e,t,r,e,i):v3e(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&CJ(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},U2.nextTick(c1t,r.afterWriteTickInfo)):C3e(t,r,1,i))}function c1t({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,C3e(t,e,r,n)}function C3e(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&IJ(e),RJ(t,e)}function IJ(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:o,callback:a}=t.buffered[i],s=t.objectMode?1:o.length;t.length-=s,a((e=t.errored)!==null&&e!==void 0?e:new v7("write"))}let r=t[Yw].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new v7("end"))}Fk(t)}function CJ(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,o=r.length-n;if(!o)return;let a=n;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let s=e.allNoop?SJ:l=>{for(let u=a;u<r.length;++u)r[u].callback(l)},c=e.allNoop&&a===0?r:E3e(r,a);c.allBuffers=e.allBuffers,w3e(t,e,!0,e.length,c,"",s),Fk(e)}else{do{let{chunk:s,encoding:c,callback:l}=r[a];r[a++]=null;let u=i?1:s.length;w3e(t,e,!1,u,s,c,l)}while(a<r.length&&!e.writing);a===r.length?Fk(e):a>256?(r.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}eo.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new t1t("_write()")};eo.prototype._writev=null;eo.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let o=I3e(this,t,e);o instanceof Vft&&(i=o)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,RJ(this,n,!0),n.ended=!0):n.finished?i=new n1t("end"):n.destroyed&&(i=new v7("end"))),typeof r=="function"&&(i||n.finished?U2.nextTick(r,i):n[Yw].push(r)),this};function Uk(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function l1t(t,e){let r=!1;function n(i){if(r){Ww(t,i??_3e());return}if(r=!0,e.pendingcb--,i){let o=e[Yw].splice(0);for(let a=0;a<o.length;a++)o[a](i);Ww(t,i,e.sync)}else Uk(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,U2.nextTick(_J,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function u1t(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,l1t(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function RJ(t,e,r){Uk(e)&&(u1t(t,e),e.pendingcb===0&&(r?(e.pendingcb++,U2.nextTick((n,i)=>{Uk(i)?_J(n,i):i.pendingcb--},t,e)):Uk(e)&&(e.pendingcb++,_J(t,e))))}function _J(t,e){e.pendingcb--,e.finished=!0;let r=e[Yw].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Kft(eo.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var d1t=Hk.destroy;eo.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Yw].length)&&U2.nextTick(IJ,r),d1t.call(this,t,e),this};eo.prototype._undestroy=Hk.undestroy;eo.prototype._destroy=function(t,e){e(t)};eo.prototype[Jft.captureRejectionSymbol]=function(t){this.destroy(t)};var TJ;function R3e(){return TJ===void 0&&(TJ={}),TJ}eo.fromWeb=function(t,e){return R3e().newStreamWritableFromWritableStream(t,e)};eo.toWeb=function(t){return R3e().newWritableStreamFromStreamWritable(t)}});var V3e=de((apr,$3e)=>{var PJ=j5(),f1t=xu(),{isReadable:p1t,isWritable:h1t,isIterable:O3e,isNodeStream:m1t,isReadableNodeStream:N3e,isWritableNodeStream:k3e,isDuplexNodeStream:b1t,isReadableStream:M3e,isWritableStream:B3e}=f1(),D3e=t6(),{AbortError:G3e,codes:{ERR_INVALID_ARG_TYPE:y1t,ERR_INVALID_RETURN_VALUE:L3e}}=Fs(),{destroyer:Qw}=B2(),g1t=m1(),j3e=g7(),w1t=zk(),{createDeferredPromise:U3e}=D0(),F3e=mJ(),H3e=globalThis.Blob||f1t.Blob,v1t=typeof H3e<"u"?function(e){return e instanceof H3e}:function(e){return!1},E1t=globalThis.AbortController||Hw().AbortController,{FunctionPrototypeCall:z3e}=Ki(),K5=class extends g1t{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};$3e.exports=function t(e,r){if(b1t(e))return e;if(N3e(e))return Jw({readable:e});if(k3e(e))return Jw({writable:e});if(m1t(e))return Jw({writable:!1,readable:!1});if(M3e(e))return Jw({readable:j3e.fromWeb(e)});if(B3e(e))return Jw({writable:w1t.fromWeb(e)});if(typeof e=="function"){let{value:i,write:o,final:a,destroy:s}=x1t(e);if(O3e(i))return F3e(K5,i,{objectMode:!0,write:o,final:a,destroy:s});let c=i?.then;if(typeof c=="function"){let l,u=z3e(c,i,d=>{if(d!=null)throw new L3e("nully","body",d)},d=>{Qw(l,d)});return l=new K5({objectMode:!0,readable:!1,write:o,final(d){a(async()=>{try{await u,PJ.nextTick(d,null)}catch(f){PJ.nextTick(d,f)}})},destroy:s})}throw new L3e("Iterable, AsyncIterable or AsyncFunction",r,i)}if(v1t(e))return t(e.arrayBuffer());if(O3e(e))return F3e(K5,e,{objectMode:!0,writable:!1});if(M3e(e?.readable)&&B3e(e?.writable))return K5.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?N3e(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?k3e(e?.writable)?e?.writable:t(e.writable):void 0;return Jw({readable:i,writable:o})}let n=e?.then;if(typeof n=="function"){let i;return z3e(n,e,o=>{o!=null&&i.push(o),i.push(null)},o=>{Qw(i,o)}),i=new K5({objectMode:!0,writable:!1,read(){}})}throw new y1t(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function x1t(t){let{promise:e,resolve:r}=U3e(),n=new E1t,i=n.signal;return{value:t((async function*(){for(;;){let a=e;e=null;let{chunk:s,done:c,cb:l}=await a;if(PJ.nextTick(l),c)return;if(i.aborted)throw new G3e(void 0,{cause:i.reason});({promise:e,resolve:r}=U3e()),yield s}})(),{signal:i}),write(a,s,c){let l=r;r=null,l({chunk:a,done:!1,cb:c})},final(a){let s=r;r=null,s({done:!0,cb:a})},destroy(a,s){n.abort(),s(a)}}}function Jw(t){let e=t.readable&&typeof t.readable.read!="function"?j3e.wrap(t.readable):t.readable,r=t.writable,n=!!p1t(e),i=!!h1t(r),o,a,s,c,l;function u(d){let f=c;c=null,f?f(d):d&&l.destroy(d)}return l=new K5({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(D3e(r,d=>{i=!1,d&&Qw(e,d),u(d)}),l._write=function(d,f,p){r.write(d,f)?p():o=p},l._final=function(d){r.end(),a=d},r.on("drain",function(){if(o){let d=o;o=null,d()}}),r.on("finish",function(){if(a){let d=a;a=null,d()}})),n&&(D3e(e,d=>{n=!1,d&&Qw(e,d),u(d)}),e.on("readable",function(){if(s){let d=s;s=null,d()}}),e.on("end",function(){l.push(null)}),l._read=function(){for(;;){let d=e.read();if(d===null){s=l._read;return}if(!l.push(d))return}}),l._destroy=function(d,f){!d&&c!==null&&(d=new G3e),s=null,o=null,a=null,c===null?f(d):(c=f,Qw(r,d),Qw(e,d))},l}});var m1=de((spr,W3e)=>{"use strict";var{ObjectDefineProperties:A1t,ObjectGetOwnPropertyDescriptor:r6,ObjectKeys:T1t,ObjectSetPrototypeOf:K3e}=Ki();W3e.exports=Ld;var kJ=g7(),Tu=zk();K3e(Ld.prototype,kJ.prototype);K3e(Ld,kJ);{let t=T1t(Tu.prototype);for(let e=0;e<t.length;e++){let r=t[e];Ld.prototype[r]||(Ld.prototype[r]=Tu.prototype[r])}}function Ld(t){if(!(this instanceof Ld))return new Ld(t);kJ.call(this,t),Tu.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}A1t(Ld.prototype,{writable:{__proto__:null,...r6(Tu.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r6(Tu.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r6(Tu.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r6(Tu.prototype,"writableBuffer")},writableLength:{__proto__:null,...r6(Tu.prototype,"writableLength")},writableFinished:{__proto__:null,...r6(Tu.prototype,"writableFinished")},writableCorked:{__proto__:null,...r6(Tu.prototype,"writableCorked")},writableEnded:{__proto__:null,...r6(Tu.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r6(Tu.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var OJ;function q3e(){return OJ===void 0&&(OJ={}),OJ}Ld.fromWeb=function(t,e){return q3e().newStreamDuplexFromReadableWritablePair(t,e)};Ld.toWeb=function(t){return q3e().newReadableWritablePairFromDuplex(t)};var NJ;Ld.from=function(t){return NJ||(NJ=V3e()),NJ(t,"body")}});var DJ=de((cpr,J3e)=>{"use strict";var{ObjectSetPrototypeOf:Y3e,Symbol:_1t}=Ki();J3e.exports=n6;var{ERR_METHOD_NOT_IMPLEMENTED:S1t}=Fs().codes,BJ=m1(),{getHighWaterMark:I1t}=m7();Y3e(n6.prototype,BJ.prototype);Y3e(n6,BJ);var x7=_1t("kCallback");function n6(t){if(!(this instanceof n6))return new n6(t);let e=t?I1t(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),BJ.call(this,t),this._readableState.sync=!1,this[x7]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",C1t)}function MJ(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function C1t(){this._final!==MJ&&MJ.call(this)}n6.prototype._final=MJ;n6.prototype._transform=function(t,e,r){throw new S1t("_transform()")};n6.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(t,e,(a,s)=>{if(a){r(a);return}s!=null&&this.push(s),i.ended||o===n.length||n.length<n.highWaterMark?r():this[x7]=r})};n6.prototype._read=function(){if(this[x7]){let t=this[x7];this[x7]=null,t()}}});var UJ=de((lpr,Z3e)=>{"use strict";var{ObjectSetPrototypeOf:Q3e}=Ki();Z3e.exports=Zw;var LJ=DJ();Q3e(Zw.prototype,LJ.prototype);Q3e(Zw,LJ);function Zw(t){if(!(this instanceof Zw))return new Zw(t);LJ.call(this,t)}Zw.prototype._transform=function(t,e,r){r(null,t)}});var Vk=de((upr,nwe)=>{var A7=j5(),{ArrayIsArray:R1t,Promise:P1t,SymbolAsyncIterator:O1t,SymbolDispose:N1t}=Ki(),$k=t6(),{once:k1t}=D0(),M1t=B2(),X3e=m1(),{aggregateTwoErrors:B1t,codes:{ERR_INVALID_ARG_TYPE:qJ,ERR_INVALID_RETURN_VALUE:FJ,ERR_MISSING_ARGS:D1t,ERR_STREAM_DESTROYED:L1t,ERR_STREAM_PREMATURE_CLOSE:U1t},AbortError:F1t}=Fs(),{validateFunction:H1t,validateAbortSignal:z1t}=Gw(),{isIterable:F2,isReadable:HJ,isReadableNodeStream:jk,isNodeStream:ewe,isTransformStream:Xw,isWebStream:G1t,isReadableStream:zJ,isReadableFinished:j1t}=f1(),$1t=globalThis.AbortController||Hw().AbortController,GJ,jJ,$J;function twe(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=$k(t,{readable:e,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,M1t.destroyer(t,o||new L1t("pipe")))},cleanup:i}}function V1t(t){return H1t(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function VJ(t){if(F2(t))return t;if(jk(t))return K1t(t);throw new qJ("val",["Readable","Iterable","AsyncIterable"],t)}async function*K1t(t){jJ||(jJ=g7()),yield*jJ.prototype[O1t].call(t)}async function Gk(t,e,r,{end:n}){let i,o=null,a=l=>{if(l&&(i=l),o){let u=o;o=null,u()}},s=()=>new P1t((l,u)=>{i?u(i):o=()=>{i?u(i):l()}});e.on("drain",a);let c=$k(e,{readable:!1},a);try{e.writableNeedDrain&&await s();for await(let l of t)e.write(l)||await s();n&&(e.end(),await s()),r()}catch(l){r(i!==l?B1t(i,l):l)}finally{c(),e.off("drain",a)}}async function KJ(t,e,r,{end:n}){Xw(e)&&(e=e.writable);let i=e.getWriter();try{for await(let o of t)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(a){r(a)}}}function q1t(...t){return rwe(t,k1t(V1t(t)))}function rwe(t,e,r){if(t.length===1&&R1t(t[0])&&(t=t[0]),t.length<2)throw new D1t("streams");let n=new $1t,i=n.signal,o=r?.signal,a=[];z1t(o,"options.signal");function s(){h(new F1t)}$J=$J||D0().addAbortListener;let c;o&&(c=$J(o,s));let l,u,d=[],f=0;function p(R){h(R,--f===0)}function h(R,M){var U;if(R&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=R),!(!l&&!M)){for(;d.length;)d.shift()(l);(U=c)===null||U===void 0||U[N1t](),n.abort(),M&&(l||a.forEach(F=>F()),A7.nextTick(e,l,u))}}let b;for(let R=0;R<t.length;R++){let M=t[R],U=R<t.length-1,F=R>0,z=U||r?.end!==!1,N=R===t.length-1;if(ewe(M)){let k=function(O){O&&O.name!=="AbortError"&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(O)};var C=k;if(z){let{destroy:O,cleanup:w}=twe(M,U,F);d.push(O),HJ(M)&&N&&a.push(w)}M.on("error",k),HJ(M)&&N&&a.push(()=>{M.removeListener("error",k)})}if(R===0)if(typeof M=="function"){if(b=M({signal:i}),!F2(b))throw new FJ("Iterable, AsyncIterable or Stream","source",b)}else F2(M)||jk(M)||Xw(M)?b=M:b=X3e.from(M);else if(typeof M=="function"){if(Xw(b)){var _;b=VJ((_=b)===null||_===void 0?void 0:_.readable)}else b=VJ(b);if(b=M(b,{signal:i}),U){if(!F2(b,!0))throw new FJ("AsyncIterable",`transform[${R-1}]`,b)}else{var A;GJ||(GJ=UJ());let k=new GJ({objectMode:!0}),O=(A=b)===null||A===void 0?void 0:A.then;if(typeof O=="function")f++,O.call(b,T=>{u=T,T!=null&&k.write(T),z&&k.end(),A7.nextTick(p)},T=>{k.destroy(T),A7.nextTick(p,T)});else if(F2(b,!0))f++,Gk(b,k,p,{end:z});else if(zJ(b)||Xw(b)){let T=b.readable||b;f++,Gk(T,k,p,{end:z})}else throw new FJ("AsyncIterable or Promise","destination",b);b=k;let{destroy:w,cleanup:S}=twe(b,!1,!0);d.push(w),N&&a.push(S)}}else if(ewe(M)){if(jk(b)){f+=2;let k=W1t(b,M,p,{end:z});HJ(M)&&N&&a.push(k)}else if(Xw(b)||zJ(b)){let k=b.readable||b;f++,Gk(k,M,p,{end:z})}else if(F2(b))f++,Gk(b,M,p,{end:z});else throw new qJ("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],b);b=M}else if(G1t(M)){if(jk(b))f++,KJ(VJ(b),M,p,{end:z});else if(zJ(b)||F2(b))f++,KJ(b,M,p,{end:z});else if(Xw(b))f++,KJ(b.readable,M,p,{end:z});else throw new qJ("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],b);b=M}else b=X3e.from(M)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&A7.nextTick(s),b}function W1t(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new U1t)}),t.pipe(e,{end:!1}),n){let a=function(){i=!0,e.end()};var o=a;j1t(t)?A7.nextTick(a):t.once("end",a)}else r();return $k(t,{readable:!0,writable:!1},a=>{let s=t._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?t.once("end",r).once("error",r):r(a)}),$k(e,{readable:!1,writable:!0},r)}nwe.exports={pipelineImpl:rwe,pipeline:q1t}});var YJ=de((dpr,lwe)=>{"use strict";var{pipeline:Y1t}=Vk(),Kk=m1(),{destroyer:J1t}=B2(),{isNodeStream:qk,isReadable:iwe,isWritable:owe,isWebStream:WJ,isTransformStream:H2,isWritableStream:awe,isReadableStream:swe}=f1(),{AbortError:Q1t,codes:{ERR_INVALID_ARG_VALUE:cwe,ERR_MISSING_ARGS:Z1t}}=Fs(),X1t=t6();lwe.exports=function(...e){if(e.length===0)throw new Z1t("streams");if(e.length===1)return Kk.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Kk.from(e[0])),typeof e[e.length-1]=="function"){let p=e.length-1;e[p]=Kk.from(e[p])}for(let p=0;p<e.length;++p)if(!(!qk(e[p])&&!WJ(e[p]))){if(p<e.length-1&&!(iwe(e[p])||swe(e[p])||H2(e[p])))throw new cwe(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(owe(e[p])||awe(e[p])||H2(e[p])))throw new cwe(`streams[${p}]`,r[p],"must be writable")}let n,i,o,a,s;function c(p){let h=a;a=null,h?h(p):p?s.destroy(p):!f&&!d&&s.destroy()}let l=e[0],u=Y1t(e,c),d=!!(owe(l)||awe(l)||H2(l)),f=!!(iwe(u)||swe(u)||H2(u));if(s=new Kk({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:f}),d){if(qk(l))s._write=function(h,b,_){l.write(h,b)?_():n=_},s._final=function(h){l.end(),i=h},l.on("drain",function(){if(n){let h=n;n=null,h()}});else if(WJ(l)){let b=(H2(l)?l.writable:l).getWriter();s._write=async function(_,A,C){try{await b.ready,b.write(_).catch(()=>{}),C()}catch(R){C(R)}},s._final=async function(_){try{await b.ready,b.close().catch(()=>{}),i=_}catch(A){_(A)}}}let p=H2(u)?u.readable:u;X1t(p,()=>{if(i){let h=i;i=null,h()}})}if(f){if(qk(u))u.on("readable",function(){if(o){let p=o;o=null,p()}}),u.on("end",function(){s.push(null)}),s._read=function(){for(;;){let p=u.read();if(p===null){o=s._read;return}if(!s.push(p))return}};else if(WJ(u)){let h=(H2(u)?u.readable:u).getReader();s._read=async function(){for(;;)try{let{value:b,done:_}=await h.read();if(!s.push(b))return;if(_){s.push(null);return}}catch{return}}}}return s._destroy=function(p,h){!p&&a!==null&&(p=new Q1t),o=null,n=null,i=null,a===null?h(p):(a=h,qk(u)&&J1t(u,p))},s}});var wwe=de((fpr,ZJ)=>{"use strict";var ept=globalThis.AbortController||Hw().AbortController,{codes:{ERR_INVALID_ARG_VALUE:tpt,ERR_INVALID_ARG_TYPE:T7,ERR_MISSING_ARGS:rpt,ERR_OUT_OF_RANGE:npt},AbortError:b1}=Fs(),{validateAbortSignal:z2,validateInteger:uwe,validateObject:G2}=Gw(),ipt=Ki().Symbol("kWeak"),opt=Ki().Symbol("kResistStopPropagation"),{finished:apt}=t6(),spt=YJ(),{addAbortSignalNoValidate:cpt}=h7(),{isWritable:lpt,isNodeStream:upt}=f1(),{deprecate:dpt}=D0(),{ArrayPrototypePush:fpt,Boolean:ppt,MathFloor:dwe,Number:hpt,NumberIsNaN:mpt,Promise:fwe,PromiseReject:pwe,PromiseResolve:bpt,PromisePrototypeThen:hwe,Symbol:bwe}=Ki(),Wk=bwe("kEmpty"),mwe=bwe("kEof");function ypt(t,e){if(e!=null&&G2(e,"options"),e?.signal!=null&&z2(e.signal,"options.signal"),upt(t)&&!lpt(t))throw new tpt("stream",t,"must be writable");let r=spt(this,t);return e!=null&&e.signal&&cpt(e.signal,r),r}function Yk(t,e){if(typeof t!="function")throw new T7("fn",["Function","AsyncFunction"],t);e!=null&&G2(e,"options"),e?.signal!=null&&z2(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=dwe(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=dwe(e.highWaterMark)),uwe(r,"options.concurrency",1),uwe(n,"options.highWaterMark",0),n+=r,async function*(){let o=D0().AbortSignalAny([e?.signal].filter(ppt)),a=this,s=[],c={signal:o},l,u,d=!1,f=0;function p(){d=!0,h()}function h(){f-=1,b()}function b(){u&&!d&&f<r&&s.length<n&&(u(),u=null)}async function _(){try{for await(let A of a){if(d)return;if(o.aborted)throw new b1;try{if(A=t(A,c),A===Wk)continue;A=bpt(A)}catch(C){A=pwe(C)}f+=1,hwe(A,h,p),s.push(A),l&&(l(),l=null),!d&&(s.length>=n||f>=r)&&await new fwe(C=>{u=C})}s.push(mwe)}catch(A){let C=pwe(A);hwe(C,h,p),s.push(C)}finally{d=!0,l&&(l(),l=null)}}_();try{for(;;){for(;s.length>0;){let A=await s[0];if(A===mwe)return;if(o.aborted)throw new b1;A!==Wk&&(yield A),s.shift(),b()}await new fwe(A=>{l=A})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function gpt(t=void 0){return t!=null&&G2(t,"options"),t?.signal!=null&&z2(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new b1({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function ywe(t,e=void 0){for await(let r of QJ.call(this,t,e))return!0;return!1}async function wpt(t,e=void 0){if(typeof t!="function")throw new T7("fn",["Function","AsyncFunction"],t);return!await ywe.call(this,async(...r)=>!await t(...r),e)}async function vpt(t,e){for await(let r of QJ.call(this,t,e))return r}async function Ept(t,e){if(typeof t!="function")throw new T7("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Wk}for await(let n of Yk.call(this,r,e));}function QJ(t,e){if(typeof t!="function")throw new T7("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Wk}return Yk.call(this,r,e)}var JJ=class extends rpt{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function xpt(t,e,r){var n;if(typeof t!="function")throw new T7("reducer",["Function","AsyncFunction"],t);r!=null&&G2(r,"options"),r?.signal!=null&&z2(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let l=new b1(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await apt(this.destroy(l)),l}let o=new ept,a=o.signal;if(r!=null&&r.signal){let l={once:!0,[ipt]:this,[opt]:!0};r.signal.addEventListener("abort",()=>o.abort(),l)}let s=!1;try{for await(let l of this){var c;if(s=!0,r!=null&&(c=r.signal)!==null&&c!==void 0&&c.aborted)throw new b1;i?e=await t(e,l,{signal:a}):(e=l,i=!0)}if(!s&&!i)throw new JJ}finally{o.abort()}return e}async function Apt(t){t!=null&&G2(t,"options"),t?.signal!=null&&z2(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new b1(void 0,{cause:t.signal.reason});fpt(e,n)}return e}function Tpt(t,e){let r=Yk.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function gwe(t){if(t=hpt(t),mpt(t))return 0;if(t<0)throw new npt("number",">= 0",t);return t}function _pt(t,e=void 0){return e!=null&&G2(e,"options"),e?.signal!=null&&z2(e.signal,"options.signal"),t=gwe(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new b1;for await(let o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new b1;t--<=0&&(yield o)}}.call(this)}function Spt(t,e=void 0){return e!=null&&G2(e,"options"),e?.signal!=null&&z2(e.signal,"options.signal"),t=gwe(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new b1;for await(let o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new b1;if(t-- >0&&(yield o),t<=0)return}}.call(this)}ZJ.exports.streamReturningOperators={asIndexedPairs:dpt(gpt,"readable.asIndexedPairs will be removed in a future version."),drop:_pt,filter:QJ,flatMap:Tpt,map:Yk,take:Spt,compose:ypt};ZJ.exports.promiseReturningOperators={every:wpt,forEach:Ept,reduce:xpt,toArray:Apt,some:ywe,find:vpt}});var XJ=de((ppr,vwe)=>{"use strict";var{ArrayPrototypePop:Ipt,Promise:Cpt}=Ki(),{isIterable:Rpt,isNodeStream:Ppt,isWebStream:Opt}=f1(),{pipelineImpl:Npt}=Vk(),{finished:kpt}=t6();eQ();function Mpt(...t){return new Cpt((e,r)=>{let n,i,o=t[t.length-1];if(o&&typeof o=="object"&&!Ppt(o)&&!Rpt(o)&&!Opt(o)){let a=Ipt(t);n=a.signal,i=a.end}Npt(t,(a,s)=>{a?r(a):e(s)},{signal:n,end:i})})}vwe.exports={finished:kpt,pipeline:Mpt}});var eQ=de((hpr,Rwe)=>{"use strict";var{Buffer:Bpt}=xu(),{ObjectDefineProperty:i6,ObjectKeys:Awe,ReflectApply:Twe}=Ki(),{promisify:{custom:_we}}=D0(),{streamReturningOperators:Ewe,promiseReturningOperators:xwe}=wwe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Swe}}=Fs(),Dpt=YJ(),{setDefaultHighWaterMark:Lpt,getDefaultHighWaterMark:Upt}=m7(),{pipeline:Iwe}=Vk(),{destroyer:Fpt}=B2(),Cwe=t6(),tQ=XJ(),_7=f1(),Di=Rwe.exports=Ck().Stream;Di.isDestroyed=_7.isDestroyed;Di.isDisturbed=_7.isDisturbed;Di.isErrored=_7.isErrored;Di.isReadable=_7.isReadable;Di.isWritable=_7.isWritable;Di.Readable=g7();for(let t of Awe(Ewe)){let r=function(...n){if(new.target)throw Swe();return Di.Readable.from(Twe(e,this,n))},e=Ewe[t];i6(r,"name",{__proto__:null,value:e.name}),i6(r,"length",{__proto__:null,value:e.length}),i6(Di.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of Awe(xwe)){let r=function(...n){if(new.target)throw Swe();return Twe(e,this,n)},e=xwe[t];i6(r,"name",{__proto__:null,value:e.name}),i6(r,"length",{__proto__:null,value:e.length}),i6(Di.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}Di.Writable=zk();Di.Duplex=m1();Di.Transform=DJ();Di.PassThrough=UJ();Di.pipeline=Iwe;var{addAbortSignal:Hpt}=h7();Di.addAbortSignal=Hpt;Di.finished=Cwe;Di.destroy=Fpt;Di.compose=Dpt;Di.setDefaultHighWaterMark=Lpt;Di.getDefaultHighWaterMark=Upt;i6(Di,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return tQ}});i6(Iwe,_we,{__proto__:null,enumerable:!0,get(){return tQ.pipeline}});i6(Cwe,_we,{__proto__:null,enumerable:!0,get(){return tQ.finished}});Di.Stream=Di;Di._isUint8Array=function(e){return e instanceof Uint8Array};Di._uint8ArrayToBuffer=function(e){return Bpt.from(e.buffer,e.byteOffset,e.byteLength)}});var y1=de((mpr,Uo)=>{"use strict";var da=eQ(),zpt=XJ(),Gpt=da.Readable.destroy;Uo.exports=da.Readable;Uo.exports._uint8ArrayToBuffer=da._uint8ArrayToBuffer;Uo.exports._isUint8Array=da._isUint8Array;Uo.exports.isDisturbed=da.isDisturbed;Uo.exports.isErrored=da.isErrored;Uo.exports.isReadable=da.isReadable;Uo.exports.Readable=da.Readable;Uo.exports.Writable=da.Writable;Uo.exports.Duplex=da.Duplex;Uo.exports.Transform=da.Transform;Uo.exports.PassThrough=da.PassThrough;Uo.exports.addAbortSignal=da.addAbortSignal;Uo.exports.finished=da.finished;Uo.exports.destroy=da.destroy;Uo.exports.destroy=Gpt;Uo.exports.pipeline=da.pipeline;Uo.exports.compose=da.compose;Object.defineProperty(da,"promises",{configurable:!0,enumerable:!0,get(){return zpt}});Uo.exports.Stream=da.Stream;Uo.exports.default=Uo.exports});function Pwe(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function jpt(t){let e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}var Owe,gc,rQ=D(()=>{Owe=ve(Da());gc=class extends Owe.EventEmitter{emit(e,...r){let n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;let s=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw s.context=a,s}let o=i[e];if(o===void 0)return!1;if(typeof o=="function")Pwe(o,this,r);else{let a=o.length,s=jpt(o);for(let c=0;c<a;c+=1)Pwe(s[c],this,r)}return!0}}});var Nwe,q5,kwe=D(()=>{Ye();Nwe=ve(p2()),q5=class extends Error{constructor({code:e,message:r,data:n}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),V(this,"code",void 0),V(this,"data",void 0),this.code=e,n!==void 0&&(this.data=n)}toString(){return(0,Nwe.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}});var fa,nQ,iQ=D(()=>{fa={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},nQ={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});function Uwe(t){return Number.isInteger(t)}function Bwe(t){return typeof t=="string"&&t.length>0}function Jk(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function Fwe(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function Kpt(t){return t>=-32099&&t<=-32e3}function Hwe(t){let e=t;return!(!e||!Uwe(e.code)||!Bwe(e.message)||e.stack&&!Bwe(e.stack))}function e4(t,e=$pt){if(Uwe(t)){let r=t.toString();if(Lwe(nQ,r))return nQ[r].message;if(Kpt(t))return Vpt}return e}function oQ(t){try{JSON.parse(JSON.stringify(t,(e,r)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof r=="function"||typeof r=="symbol")throw new Error("Not valid json");return r}),(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r})}catch{return!1}return!0}function Dwe(t){return Object.getOwnPropertyNames(t).reduce((e,r)=>{let n=t[r];return oQ(n)&&(e[r]=n),e},{})}function aQ(t){return Array.isArray(t)?t.map(e=>oQ(e)?e:Jk(e)?Dwe(e):null):Jk(t)?Dwe(t):oQ(t)?t:null}function Wpt(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(Hwe(t))return t;let r=aQ(t);return q(q({},e),{},{data:{cause:r}})}function Qk(t,{fallbackError:e=qpt,shouldIncludeStack:r=!0}={}){if(!Hwe(e))throw new Error("Must provide fallback error with integer number code and string message.");let n=Wpt(t,e);return r||delete n.stack,n}function zwe(t){return Jk(t)&&Lwe(t,"cause")&&Jk(t.cause)}var Lwe,Mwe,$pt,Vpt,qpt,Zk=D(()=>{nt();iQ();Lwe=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)},Mwe=fa.rpc.internal,$pt="Unspecified error message. This is a bug, please report it.",Vpt="Unspecified server error.";qpt={code:Mwe,message:e4(Mwe)}});function Jpt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Qpt(t,e){if(e!=="[Circular]")return e}var Gwe,Ypt,S7,I7,jwe=D(()=>{Ye();Gwe=ve(p2());Zk();Ypt=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};S7=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');zwe(n)?(super(r,{cause:n.cause}),V(this,"cause",void 0),V(this,"code",void 0),V(this,"data",void 0),Ypt(this,"cause")||Object.assign(this,{cause:n.cause})):(super(r),V(this,"cause",void 0),V(this,"code",void 0),V(this,"data",void 0)),n!==void 0&&(this.data=n),this.code=e,this.cause=n?.cause}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,Fwe(this.data)&&(e.data.cause=aQ(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,Gwe.default)(this.serialize(),{replacer:Qpt,space:2})}},I7=class extends S7{constructor(e,r,n){if(!Jpt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}});function $we(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,r]}}return[]}function _u(t,e){let[r,n]=$we(e);return new S7(t,r??e4(t),n)}function C7(t,e){let[r,n]=$we(e);return new I7(t,r??e4(t),n)}var Lr,Fo,sQ=D(()=>{jwe();iQ();Zk();Lr={parse:t=>_u(fa.rpc.parse,t),invalidRequest:t=>_u(fa.rpc.invalidRequest,t),invalidParams:t=>_u(fa.rpc.invalidParams,t),methodNotFound:t=>_u(fa.rpc.methodNotFound,t),internal:t=>_u(fa.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return _u(e,t)},invalidInput:t=>_u(fa.rpc.invalidInput,t),resourceNotFound:t=>_u(fa.rpc.resourceNotFound,t),resourceUnavailable:t=>_u(fa.rpc.resourceUnavailable,t),transactionRejected:t=>_u(fa.rpc.transactionRejected,t),methodNotSupported:t=>_u(fa.rpc.methodNotSupported,t),limitExceeded:t=>_u(fa.rpc.limitExceeded,t)},Fo={userRejectedRequest:t=>C7(fa.provider.userRejectedRequest,t),unauthorized:t=>C7(fa.provider.unauthorized,t),unsupportedMethod:t=>C7(fa.provider.unsupportedMethod,t),disconnected:t=>C7(fa.provider.disconnected,t),chainDisconnected:t=>C7(fa.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new I7(e,r,n)}}});function Ud(t){return(e,r,n,i)=>{let o=t[e.method];return o===void 0?n():typeof o=="function"?o(e,r,n,i):(r.result=o,i())}}function tn(t){return async(e,r,n,i)=>{let o,a=new Promise(u=>{o=u}),s=null,c=!1,l=async()=>{c=!0,n(u=>{s=u,o()}),await a};try{await t(e,r,l),c?(await a,s(null)):i(null)}catch(u){let d=u;s?s(d):i(d)}}}var Zpt,Vwe=D(()=>{Zpt=ve(y1())});function cQ(t){let{message:e="",code:r=-32603,stack:n="Stack trace is not available.",data:i=""}=t,o=parseInt(r?.toString()||"-32603");return{message:e||t?.toString()||e4(o),code:o,stack:n,data:i||e||t?.toString()}}function Su(t){let e=new zs;return t.forEach(r=>{e.push(r)}),e.asMiddleware()}function wl(t){let e=new gc;return e.sendAsync=async r=>{let n=await t.handle(r);if(n.error){typeof n.error=="object"&&Object.keys(n.error).includes("stack")===!1&&(n.error.stack="Stack trace is not available."),ml.error(n.error);let i=Qk(n.error,{fallbackError:cQ(n.error),shouldIncludeStack:!0});throw Lr.internal(i)}return n.result},e.send=(r,n)=>{if(typeof n!="function")throw new Error('Must provide callback to "send" method.');t.handle(r,n)},t.on&&t.on("notification",r=>{e.emit("data",null,r)}),e.request=async r=>{let n=q(q({},r),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(n)},e}var Xpt,zs,Kwe=D(()=>{nt();Ye();Xpt=ve(y1());ZT();sQ();Zk();rQ();kwe();zs=class t extends gc{constructor(){super(),V(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,r,n){let i=[],o=null,a=!1;for(let s of n)if([o,a]=await t._runMiddleware(e,r,s,i),a)break;return[o,a,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{let a=c=>{let l=c||r.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),ml.error(l),r.error=Qk(l,{shouldIncludeStack:!0,fallbackError:cQ(l)})),o([l,!0])},s=c=>{r.error?a(r.error):(c&&(typeof c!="function"&&a(new q5({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),o([null,!1]))};try{n(e,r,s,a)}catch(c){a(c)}})}static async _runReturnHandlers(e){for(let r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new q5({code:-32603,message:"Response has no error or result for request"});if(!n)throw new q5({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{let[o,a,s]=await t._runAllMiddleware(e,r,this._middleware);return a?(await t._runReturnHandlers(s),i(o)):n(async c=>{try{await t._runReturnHandlers(s)}catch(l){return c(l)}return c()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{let n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise((r,n)=>{this._handle(e,(i,o)=>{i&&o===void 0?n(i):r(o)}).catch(n)})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){let a=new q5({code:-32603,message:"request must be plain object"});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof e.method!="string"){let a=new q5({code:-32603,message:"method must be string"});return r(a,{id:e.id,jsonrpc:"2.0",error:a})}let n=q({},e),i={id:n.id,jsonrpc:n.jsonrpc},o=null;try{await this._processRequest(n,i)}catch(a){o=a}return o&&(delete i.result,i.error||(typeof o=="object"&&Object.keys(o).includes("stack")===!1&&(o.stack="Stack trace is not available."),ml.error(o),i.error=Qk(o,{shouldIncludeStack:!0,fallbackError:cQ(o)}))),r(o,i)}async _processRequest(e,r){let[n,i,o]=await t._runAllMiddleware(e,r,this._middleware);if(t._checkForCompletion(e,r,i),await t._runReturnHandlers(o),n)throw n}}});var Ywe=de((Fpr,Wwe)=>{Wwe.exports=qwe;function qwe(t,e){if(t&&e)return qwe(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=t.apply(this,n),a=n[n.length-1];return typeof o=="function"&&o!==a&&Object.keys(a).forEach(function(s){o[s]=a[s]}),o}}});var eM=de((Hpr,lQ)=>{var Jwe=Ywe();lQ.exports=Jwe(Xk);lQ.exports.strict=Jwe(Qwe);Xk.proto=Xk(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Xk(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Qwe(this)},configurable:!0})});function Xk(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Qwe(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var uQ=de((zpr,Xwe)=>{var e6t=eM(),t6t=function(){},r6t=global.Bare?queueMicrotask:process.nextTick.bind(process),n6t=function(t){return t.setHeader&&typeof t.abort=="function"},i6t=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},Zwe=function(t,e,r){if(typeof e=="function")return Zwe(t,null,e);e||(e={}),r=e6t(r||t6t);var n=t._writableState,i=t._readableState,o=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=!1,c=function(){t.writable||l()},l=function(){a=!1,o||r.call(t)},u=function(){o=!1,a||r.call(t)},d=function(_){r.call(t,_?new Error("exited with error code: "+_):null)},f=function(_){r.call(t,_)},p=function(){r6t(h)},h=function(){if(!s){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(a&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},b=function(){t.req.on("finish",l)};return n6t(t)?(t.on("complete",l),t.on("abort",p),t.req?b():t.on("request",b)):a&&!n&&(t.on("end",c),t.on("close",c)),i6t(t)&&t.on("exit",d),t.on("end",u),t.on("finish",l),e.error!==!1&&t.on("error",f),t.on("close",p),function(){s=!0,t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",b),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("exit",d),t.removeListener("end",u),t.removeListener("error",f),t.removeListener("close",p)}};Xwe.exports=Zwe});var e4e=de(()=>{});var dQ=de(($pr,r4e)=>{var o6t=eM(),a6t=uQ(),tM;try{tM=e4e()}catch{}var R7=function(){},s6t=typeof process>"u"?!1:/^v?\.0/.test(process.version),rM=function(t){return typeof t=="function"},c6t=function(t){return!s6t||!tM?!1:(t instanceof(tM.ReadStream||R7)||t instanceof(tM.WriteStream||R7))&&rM(t.close)},l6t=function(t){return t.setHeader&&rM(t.abort)},u6t=function(t,e,r,n){n=o6t(n);var i=!1;t.on("close",function(){i=!0}),a6t(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,c6t(t))return t.close(R7);if(l6t(t))return t.abort();if(rM(t.destroy))return t.destroy();n(a||new Error("stream was destroyed"))}}},t4e=function(t){t()},d6t=function(t,e){return t.pipe(e)},f6t=function(){var t=Array.prototype.slice.call(arguments),e=rM(t[t.length-1]||R7)&&t.pop()||R7;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var a=o<t.length-1,s=o>0;return u6t(i,a,s,function(c){r||(r=c),c&&n.forEach(t4e),!a&&(n.forEach(t4e),e(r))})});return t.reduce(d6t)};r4e.exports=f6t});function t4(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function p6t(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function h6t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function o6(t,...e){if(!h6t(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function fQ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t4(t.outputLen),t4(t.blockLen)}function g1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function P7(t,e){o6(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var m6t,nM,r4=D(()=>{m6t={number:t4,bool:p6t,bytes:o6,hash:fQ,exists:g1,output:P7},nM=m6t});var iM,n4e=D(()=>{iM=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function hQ(t){for(let e=0;e<t.length;e++)t[e]=b6t(t[e])}function a6(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Y5(t){return typeof t=="string"&&(t=a6(t)),o6(t),t}function oM(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];o6(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function aM(t){let e=n=>t().update(Y5(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function o4e(t){let e=(n,i)=>t(i).update(Y5(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function a4e(t=32){if(iM&&typeof iM.getRandomValues=="function")return iM.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var i4e,O7,Fd,pQ,b6t,W5,Ypr,j2=D(()=>{n4e();r4();i4e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),O7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Fd=(t,e)=>t<<32-e|t>>>e,pQ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,b6t=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;W5=class{clone(){return this._cloneInto()}},Ypr={}.toString});function y6t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,s,n)}var s4e,c4e,sM,l4e=D(()=>{r4();j2();s4e=(t,e,r)=>t&e^~t&r,c4e=(t,e,r)=>t&e^t&r^e&r,sM=class extends W5{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=O7(this.buffer)}update(e){g1(this);let{view:r,buffer:n,blockLen:i}=this;e=Y5(e);let o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let c=O7(e);for(;i<=o-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){g1(this),P7(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let d=a;d<i;d++)r[d]=0;y6t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=O7(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)s.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%r&&e.buffer.set(n),e}}});var g6t,J5,Q5,mQ,cM,bQ=D(()=>{l4e();j2();g6t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),J5=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Q5=new Uint32Array(64),mQ=class extends sM{constructor(){super(64,32,8,!1),this.A=J5[0]|0,this.B=J5[1]|0,this.C=J5[2]|0,this.D=J5[3]|0,this.E=J5[4]|0,this.F=J5[5]|0,this.G=J5[6]|0,this.H=J5[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:c}=this;return[e,r,n,i,o,a,s,c]}set(e,r,n,i,o,a,s,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Q5[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let f=Q5[d-15],p=Q5[d-2],h=Fd(f,7)^Fd(f,18)^f>>>3,b=Fd(p,17)^Fd(p,19)^p>>>10;Q5[d]=b+Q5[d-7]+h+Q5[d-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=Fd(s,6)^Fd(s,11)^Fd(s,25),p=u+f+s4e(s,c,l)+g6t[d]+Q5[d]|0,b=(Fd(n,2)^Fd(n,13)^Fd(n,22))+c4e(n,i,o)|0;u=l,l=c,c=s,s=a+p|0,a=o,o=i,i=n,n=p+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,c,l,u)}roundClean(){Q5.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},cM=aM(()=>new mQ)});var lM,yQ,u4e=D(()=>{r4();j2();lM=class extends W5{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,fQ(e);let n=Y5(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return g1(this),this.iHash.update(e),this}digestInto(e){g1(this),o6(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},yQ=(t,e,r)=>new lM(t,e).update(r).digest();yQ.create=(t,e)=>new lM(t,e)});var EQ={};lr(EQ,{abytes:()=>n4,bitGet:()=>_6t,bitLen:()=>T6t,bitMask:()=>N7,bitSet:()=>S6t,bytesToHex:()=>$2,bytesToNumberBE:()=>c6,bytesToNumberLE:()=>dM,concatBytes:()=>i4,createHmacDrbg:()=>vQ,ensureBytes:()=>vl,equalBytes:()=>x6t,hexToBytes:()=>V2,hexToNumber:()=>wQ,isBytes:()=>Z5,numberToBytesBE:()=>X5,numberToBytesLE:()=>fM,numberToHexUnpadded:()=>h4e,numberToVarBytesBE:()=>E6t,utf8ToBytes:()=>A6t,validateObject:()=>em});function Z5(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function n4(t){if(!Z5(t))throw new Error("Uint8Array expected")}function $2(t){n4(t);let e="";for(let r=0;r<t.length;r++)e+=v6t[t[r]];return e}function h4e(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function wQ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function d4e(t){if(t>=s6._0&&t<=s6._9)return t-s6._0;if(t>=s6._A&&t<=s6._F)return t-(s6._A-10);if(t>=s6._a&&t<=s6._f)return t-(s6._a-10)}function V2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=d4e(t.charCodeAt(o)),s=d4e(t.charCodeAt(o+1));if(a===void 0||s===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=a*16+s}return n}function c6(t){return wQ($2(t))}function dM(t){return n4(t),wQ($2(Uint8Array.from(t).reverse()))}function X5(t,e){return V2(t.toString(16).padStart(e*2,"0"))}function fM(t,e){return X5(t,e).reverse()}function E6t(t){return V2(h4e(t))}function vl(t,e,r){let n;if(typeof e=="string")try{n=V2(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Z5(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function i4(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];n4(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function x6t(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function A6t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function T6t(t){let e;for(e=0;t>p4e;t>>=uM,e+=1);return e}function _6t(t,e){return t>>BigInt(e)&uM}function S6t(t,e,r){return t|(r?uM:p4e)<<BigInt(e)}function vQ(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=gQ(t),i=gQ(t),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...d)=>r(i,n,...d),c=(d=gQ())=>{i=s(f4e([0]),d),n=s(),d.length!==0&&(i=s(f4e([1]),d),n=s())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<e;){n=s();let p=n.slice();f.push(p),d+=n.length}return i4(...f)};return(d,f)=>{a(),c(d);let p;for(;!(p=f(l()));)c();return a(),p}}function em(t,e,r={}){let n=(i,o,a)=>{let s=I6t[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=t[i];if(!(a&&c===void 0)&&!s(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var p4e,uM,w6t,v6t,s6,N7,gQ,f4e,I6t,k7=D(()=>{p4e=BigInt(0),uM=BigInt(1),w6t=BigInt(2);v6t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));s6={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};N7=t=>(w6t<<BigInt(t-1))-uM,gQ=t=>new Uint8Array(t),f4e=t=>Uint8Array.from(t);I6t={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Z5(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function Gs(t,e){let r=t%e;return r>=pa?r:e+r}function O6t(t,e,r){if(r<=pa||e<pa)throw new Error("Expected power/modulo > 0");if(r===yo)return pa;let n=yo;for(;e>pa;)e&yo&&(n=n*t%r),t=t*t%r,e>>=yo;return n}function El(t,e,r){let n=t;for(;e-- >pa;)n*=n,n%=r;return n}function pM(t,e){if(t===pa||e<=pa)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Gs(t,e),n=e,i=pa,o=yo,a=yo,s=pa;for(;r!==pa;){let l=n/r,u=n%r,d=i-a*l,f=o-s*l;n=r,r=u,i=a,o=s,a=d,s=f}if(n!==yo)throw new Error("invert: does not exist");return Gs(i,e)}function N6t(t){let e=(t-yo)/K2,r,n,i;for(r=t-yo,n=0;r%K2===pa;r/=K2,n++);for(i=K2;i<t&&O6t(i,e,t)!==t-yo;i++);if(n===1){let a=(t+yo)/xQ;return function(c,l){let u=c.pow(l,a);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let o=(r+yo)/K2;return function(s,c){if(s.pow(c,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=n,u=s.pow(s.mul(s.ONE,i),r),d=s.pow(c,o),f=s.pow(c,r);for(;!s.eql(f,s.ONE);){if(s.eql(f,s.ZERO))return s.ZERO;let p=1;for(let b=s.sqr(f);p<l&&!s.eql(b,s.ONE);p++)b=s.sqr(b);let h=s.pow(u,yo<<BigInt(l-p-1));u=s.sqr(h),d=s.mul(d,h),f=s.mul(f,u),l=p}return d}}function k6t(t){if(t%xQ===C6t){let e=(t+yo)/xQ;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%b4e===m4e){let e=(t-m4e)/b4e;return function(n,i){let o=n.mul(i,K2),a=n.pow(o,e),s=n.mul(i,a),c=n.mul(n.mul(s,K2),a),l=n.mul(s,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%P6t,N6t(t)}function AQ(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=M6t.reduce((n,i)=>(n[i]="function",n),e);return em(t,r)}function B6t(t,e,r){if(r<pa)throw new Error("Expected power > 0");if(r===pa)return t.ONE;if(r===yo)return e;let n=t.ONE,i=e;for(;r>pa;)r&yo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=yo;return n}function D6t(t,e){let r=new Array(e.length),n=e.reduce((o,a,s)=>t.is0(a)?o:(r[s]=o,t.mul(o,a)),t.ONE),i=t.inv(n);return e.reduceRight((o,a,s)=>t.is0(a)?o:(r[s]=t.mul(o,r[s]),t.mul(o,a)),i),r}function TQ(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function y4e(t,e,r=!1,n={}){if(t<=pa)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=TQ(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=k6t(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:N7(i),ZERO:pa,ONE:yo,create:c=>Gs(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return pa<=c&&c<t},is0:c=>c===pa,isOdd:c=>(c&yo)===yo,neg:c=>Gs(-c,t),eql:(c,l)=>c===l,sqr:c=>Gs(c*c,t),add:(c,l)=>Gs(c+l,t),sub:(c,l)=>Gs(c-l,t),mul:(c,l)=>Gs(c*l,t),pow:(c,l)=>B6t(s,c,l),div:(c,l)=>Gs(c*pM(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>pM(c,t),sqrt:n.sqrt||(c=>a(s,c)),invertBatch:c=>D6t(s,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?fM(c,o):X5(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?dM(c):c6(c)}});return Object.freeze(s)}function g4e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function _Q(t){let e=g4e(t);return e+Math.ceil(e/2)}function w4e(t,e,r=!1){let n=t.length,i=g4e(e),o=_Q(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let a=r?c6(t):dM(t),s=Gs(a,e-yo)+yo;return r?fM(s,i):X5(s,i)}var pa,yo,K2,C6t,xQ,m4e,b4e,R6t,P6t,M6t,hM=D(()=>{k7();pa=BigInt(0),yo=BigInt(1),K2=BigInt(2),C6t=BigInt(3),xQ=BigInt(4),m4e=BigInt(5),b4e=BigInt(8),R6t=BigInt(9),P6t=BigInt(16);M6t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function v4e(t,e){let r=(i,o)=>{let a=o.negate();return i?a:o},n=i=>{let o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,o){let a=t.ZERO,s=i;for(;o>U6t;)o&SQ&&(a=a.add(s)),s=s.double(),o>>=SQ;return a},precomputeWindow(i,o){let{windows:a,windowSize:s}=n(o),c=[],l=i,u=l;for(let d=0;d<a;d++){u=l,c.push(u);for(let f=1;f<s;f++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,o,a){let{windows:s,windowSize:c}=n(i),l=t.ZERO,u=t.BASE,d=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let h=0;h<s;h++){let b=h*c,_=Number(a&d);a>>=p,_>c&&(_-=f,a+=SQ);let A=b,C=b+Math.abs(_)-1,R=h%2!==0,M=_<0;_===0?u=u.add(r(R,o[A])):l=l.add(r(M,o[C]))}return{p:l,f:u}},wNAFCached(i,o,a,s){let c=i._WINDOW_SIZE||1,l=o.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&o.set(i,s(l))),this.wNAF(c,l,a)}}}function IQ(t){return AQ(t.Fp),em(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...TQ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var U6t,SQ,E4e=D(()=>{hM();k7();U6t=BigInt(0),SQ=BigInt(1)});function F6t(t){let e=IQ(t);em(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}function G6t(t){let e=F6t(t),{Fp:r}=e,n=e.toBytes||((h,b,_)=>{let A=b.toAffine();return i4(Uint8Array.from([4]),r.toBytes(A.x),r.toBytes(A.y))}),i=e.fromBytes||(h=>{let b=h.subarray(1),_=r.fromBytes(b.subarray(0,r.BYTES)),A=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:_,y:A}});function o(h){let{a:b,b:_}=e,A=r.sqr(h),C=r.mul(A,h);return r.add(r.add(C,r.mul(h,b)),_)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(h){return typeof h=="bigint"&&l6<h&&h<e.n}function s(h){if(!a(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){let{allowedPrivateKeyLengths:b,nByteLength:_,wrapPrivateKey:A,n:C}=e;if(b&&typeof h!="bigint"){if(Z5(h)&&(h=$2(h)),typeof h!="string"||!b.includes(h.length))throw new Error("Invalid key");h=h.padStart(_*2,"0")}let R;try{R=typeof h=="bigint"?h:c6(vl("private key",h,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof h}`)}return A&&(R=Gs(R,C)),s(R),R}let l=new Map;function u(h){if(!(h instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(b,_,A){if(this.px=b,this.py=_,this.pz=A,b==null||!r.isValid(b))throw new Error("x required");if(_==null||!r.isValid(_))throw new Error("y required");if(A==null||!r.isValid(A))throw new Error("z required")}static fromAffine(b){let{x:_,y:A}=b||{};if(!b||!r.isValid(_)||!r.isValid(A))throw new Error("invalid affine point");if(b instanceof d)throw new Error("projective point not allowed");let C=R=>r.eql(R,r.ZERO);return C(_)&&C(A)?d.ZERO:new d(_,A,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){let _=r.invertBatch(b.map(A=>A.pz));return b.map((A,C)=>A.toAffine(_[C])).map(d.fromAffine)}static fromHex(b){let _=d.fromAffine(i(vl("pointHex",b)));return _.assertValidity(),_}static fromPrivateKey(b){return d.BASE.multiply(c(b))}_setWindowSize(b){this._WINDOW_SIZE=b,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:b,y:_}=this.toAffine();if(!r.isValid(b)||!r.isValid(_))throw new Error("bad point: x or y not FE");let A=r.sqr(_),C=o(b);if(!r.eql(A,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);let{px:_,py:A,pz:C}=this,{px:R,py:M,pz:U}=b,F=r.eql(r.mul(_,U),r.mul(R,C)),z=r.eql(r.mul(A,U),r.mul(M,C));return F&&z}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:b,b:_}=e,A=r.mul(_,x4e),{px:C,py:R,pz:M}=this,U=r.ZERO,F=r.ZERO,z=r.ZERO,N=r.mul(C,C),k=r.mul(R,R),O=r.mul(M,M),w=r.mul(C,R);return w=r.add(w,w),z=r.mul(C,M),z=r.add(z,z),U=r.mul(b,z),F=r.mul(A,O),F=r.add(U,F),U=r.sub(k,F),F=r.add(k,F),F=r.mul(U,F),U=r.mul(w,U),z=r.mul(A,z),O=r.mul(b,O),w=r.sub(N,O),w=r.mul(b,w),w=r.add(w,z),z=r.add(N,N),N=r.add(z,N),N=r.add(N,O),N=r.mul(N,w),F=r.add(F,N),O=r.mul(R,M),O=r.add(O,O),N=r.mul(O,w),U=r.sub(U,N),z=r.mul(O,k),z=r.add(z,z),z=r.add(z,z),new d(U,F,z)}add(b){u(b);let{px:_,py:A,pz:C}=this,{px:R,py:M,pz:U}=b,F=r.ZERO,z=r.ZERO,N=r.ZERO,k=e.a,O=r.mul(e.b,x4e),w=r.mul(_,R),S=r.mul(A,M),T=r.mul(C,U),m=r.add(_,A),y=r.add(R,M);m=r.mul(m,y),y=r.add(w,S),m=r.sub(m,y),y=r.add(_,C);let E=r.add(R,U);return y=r.mul(y,E),E=r.add(w,T),y=r.sub(y,E),E=r.add(A,C),F=r.add(M,U),E=r.mul(E,F),F=r.add(S,T),E=r.sub(E,F),N=r.mul(k,y),F=r.mul(O,T),N=r.add(F,N),F=r.sub(S,N),N=r.add(S,N),z=r.mul(F,N),S=r.add(w,w),S=r.add(S,w),T=r.mul(k,T),y=r.mul(O,y),S=r.add(S,T),T=r.sub(w,T),T=r.mul(k,T),y=r.add(y,T),w=r.mul(S,y),z=r.add(z,w),w=r.mul(E,y),F=r.mul(m,F),F=r.sub(F,w),w=r.mul(m,S),N=r.mul(E,N),N=r.add(N,w),new d(F,z,N)}subtract(b){return this.add(b.negate())}is0(){return this.equals(d.ZERO)}wNAF(b){return p.wNAFCached(this,l,b,_=>{let A=r.invertBatch(_.map(C=>C.pz));return _.map((C,R)=>C.toAffine(A[R])).map(d.fromAffine)})}multiplyUnsafe(b){let _=d.ZERO;if(b===l6)return _;if(s(b),b===Iu)return this;let{endo:A}=e;if(!A)return p.unsafeLadder(this,b);let{k1neg:C,k1:R,k2neg:M,k2:U}=A.splitScalar(b),F=_,z=_,N=this;for(;R>l6||U>l6;)R&Iu&&(F=F.add(N)),U&Iu&&(z=z.add(N)),N=N.double(),R>>=Iu,U>>=Iu;return C&&(F=F.negate()),M&&(z=z.negate()),z=new d(r.mul(z.px,A.beta),z.py,z.pz),F.add(z)}multiply(b){s(b);let _=b,A,C,{endo:R}=e;if(R){let{k1neg:M,k1:U,k2neg:F,k2:z}=R.splitScalar(_),{p:N,f:k}=this.wNAF(U),{p:O,f:w}=this.wNAF(z);N=p.constTimeNegate(M,N),O=p.constTimeNegate(F,O),O=new d(r.mul(O.px,R.beta),O.py,O.pz),A=N.add(O),C=k.add(w)}else{let{p:M,f:U}=this.wNAF(_);A=M,C=U}return d.normalizeZ([A,C])[0]}multiplyAndAddUnsafe(b,_,A){let C=d.BASE,R=(U,F)=>F===l6||F===Iu||!U.equals(C)?U.multiplyUnsafe(F):U.multiply(F),M=R(this,_).add(R(b,A));return M.is0()?void 0:M}toAffine(b){let{px:_,py:A,pz:C}=this,R=this.is0();b==null&&(b=R?r.ONE:r.inv(C));let M=r.mul(_,b),U=r.mul(A,b),F=r.mul(C,b);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(F,r.ONE))throw new Error("invZ was invalid");return{x:M,y:U}}isTorsionFree(){let{h:b,isTorsionFree:_}=e;if(b===Iu)return!0;if(_)return _(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:b,clearCofactor:_}=e;return b===Iu?this:_?_(d,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),n(d,this,b)}toHex(b=!0){return $2(this.toRawBytes(b))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let f=e.nBitLength,p=v4e(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function j6t(t){let e=IQ(t);return em(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function A4e(t){let e=j6t(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function a(y){return l6<y&&y<r.ORDER}function s(y){return Gs(y,n)}function c(y){return pM(y,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=G6t({...e,toBytes(y,E,v){let x=E.toAffine(),g=r.toBytes(x.x),P=i4;return v?P(Uint8Array.from([E.hasEvenY()?2:3]),g):P(Uint8Array.from([4]),g,r.toBytes(x.y))},fromBytes(y){let E=y.length,v=y[0],x=y.subarray(1);if(E===i&&(v===2||v===3)){let g=c6(x);if(!a(g))throw new Error("Point is not on curve");let P=d(g),B;try{B=r.sqrt(P)}catch(G){let H=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+H)}let I=(B&Iu)===Iu;return(v&1)===1!==I&&(B=r.neg(B)),{x:g,y:B}}else if(E===o&&v===4){let g=r.fromBytes(x.subarray(0,r.BYTES)),P=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:g,y:P}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),p=y=>$2(X5(y,e.nByteLength));function h(y){let E=n>>Iu;return y>E}function b(y){return h(y)?s(-y):y}let _=(y,E,v)=>c6(y.slice(E,v));class A{constructor(E,v,x){this.r=E,this.s=v,this.recovery=x,this.assertValidity()}static fromCompact(E){let v=e.nByteLength;return E=vl("compactSignature",E,v*2),new A(_(E,0,v),_(E,v,2*v))}static fromDER(E){let{r:v,s:x}=q2.toSig(vl("DER",E));return new A(v,x)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new A(this.r,this.s,E)}recoverPublicKey(E){let{r:v,s:x,recovery:g}=this,P=z(vl("msgHash",E));if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");let B=g===2||g===3?v+e.n:v;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let I=(g&1)===0?"02":"03",L=l.fromHex(I+p(B)),G=c(B),H=s(-P*G),$=s(x*G),K=l.BASE.multiplyAndAddUnsafe(L,H,$);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return V2(this.toDERHex())}toDERHex(){return q2.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return V2(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let C={isValidPrivateKey(y){try{return u(y),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let y=_Q(e.n);return w4e(e.randomBytes(y),e.n)},precompute(y=8,E=l.BASE){return E._setWindowSize(y),E.multiply(BigInt(3)),E}};function R(y,E=!0){return l.fromPrivateKey(y).toRawBytes(E)}function M(y){let E=Z5(y),v=typeof y=="string",x=(E||v)&&y.length;return E?x===i||x===o:v?x===2*i||x===2*o:y instanceof l}function U(y,E,v=!0){if(M(y))throw new Error("first arg must be private key");if(!M(E))throw new Error("second arg must be public key");return l.fromHex(E).multiply(u(y)).toRawBytes(v)}let F=e.bits2int||function(y){let E=c6(y),v=y.length*8-e.nBitLength;return v>0?E>>BigInt(v):E},z=e.bits2int_modN||function(y){return s(F(y))},N=N7(e.nBitLength);function k(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(l6<=y&&y<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return X5(y,e.nByteLength)}function O(y,E,v=w){if(["recovered","canonical"].some(J=>J in v))throw new Error("sign() legacy options not supported");let{hash:x,randomBytes:g}=e,{lowS:P,prehash:B,extraEntropy:I}=v;P==null&&(P=!0),y=vl("msgHash",y),B&&(y=vl("prehashed msgHash",x(y)));let L=z(y),G=u(E),H=[k(G),k(L)];if(I!=null&&I!==!1){let J=I===!0?g(r.BYTES):I;H.push(vl("extraEntropy",J))}let $=i4(...H),K=L;function W(J){let X=F(J);if(!f(X))return;let te=c(X),re=l.BASE.multiply(X).toAffine(),le=s(re.x);if(le===l6)return;let ce=s(te*s(K+le*G));if(ce===l6)return;let ae=(re.x===le?0:2)|Number(re.y&Iu),xe=ce;return P&&h(ce)&&(xe=b(ce),ae^=1),new A(le,xe,ae)}return{seed:$,k2sig:W}}let w={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function T(y,E,v=w){let{seed:x,k2sig:g}=O(y,E,v),P=e;return vQ(P.hash.outputLen,P.nByteLength,P.hmac)(x,g)}l.BASE._setWindowSize(8);function m(y,E,v,x=S){let g=y;if(E=vl("msgHash",E),v=vl("publicKey",v),"strict"in x)throw new Error("options.strict was renamed to lowS");let{lowS:P,prehash:B}=x,I,L;try{if(typeof g=="string"||Z5(g))try{I=A.fromDER(g)}catch(re){if(!(re instanceof q2.Err))throw re;I=A.fromCompact(g)}else if(typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint"){let{r:re,s:le}=g;I=new A(re,le)}else throw new Error("PARSE");L=l.fromHex(v)}catch(re){if(re.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&I.hasHighS())return!1;B&&(E=e.hash(E));let{r:G,s:H}=I,$=z(E),K=c(H),W=s($*K),J=s(G*K),X=l.BASE.multiplyAndAddUnsafe(L,W,J)?.toAffine();return X?s(X.x)===G:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:U,sign:T,verify:m,ProjectivePoint:l,Signature:A,utils:C}}var H6t,z6t,q2,l6,Iu,p6r,x4e,h6r,T4e=D(()=>{E4e();hM();k7();k7();({bytesToNumberBE:H6t,hexToBytes:z6t}=EQ),q2={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=q2;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:H6t(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=q2,r=typeof t=="string"?z6t(t):t;n4(r);let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=q2._parseInt(r.subarray(2)),{d:a,l:s}=q2._parseInt(o);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,a=i.length/2,s=r(o),c=r(a);return`30${r(a+o+4)}02${c}${i}02${s}${n}`}},l6=BigInt(0),Iu=BigInt(1),p6r=BigInt(2),x4e=BigInt(3),h6r=BigInt(4)});function $6t(t){return{hash:t,hmac:(e,...r)=>yQ(t,e,oM(...r)),randomBytes:a4e}}function _4e(t,e){let r=n=>A4e({...t,...$6t(n)});return Object.freeze({...r(e),create:r})}var S4e=D(()=>{u4e();j2();T4e();});function K6t(t){let e=R4e,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=El(u,r,e)*u%e,f=El(d,r,e)*u%e,p=El(f,CQ,e)*l%e,h=El(p,i,e)*p%e,b=El(h,o,e)*h%e,_=El(b,s,e)*b%e,A=El(_,c,e)*_%e,C=El(A,s,e)*b%e,R=El(C,r,e)*u%e,M=El(R,a,e)*h%e,U=El(M,n,e)*l%e,F=El(U,CQ,e);if(!RQ.eql(RQ.sqr(F),t))throw new Error("Cannot find square root");return F}var R4e,I4e,V6t,CQ,C4e,RQ,w1,A6r,T6r,P4e=D(()=>{bQ();S4e();hM();R4e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),I4e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),V6t=BigInt(1),CQ=BigInt(2),C4e=(t,e)=>(t+e/CQ)/e;RQ=y4e(R4e,void 0,void 0,{sqrt:K6t}),w1=_4e({a:BigInt(0),b:BigInt(7),Fp:RQ,n:I4e,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=I4e,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-V6t*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=C4e(o*t,e),c=C4e(-n*t,e),l=Gs(t-s*r-c*i,e),u=Gs(-s*n-c*o,e),d=l>a,f=u>a;if(d&&(l=e-l),f&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},cM),A6r=BigInt(0),T6r=w1.ProjectivePoint});var mM=D(()=>{P4e()});var O4e=D(()=>{});function W2(t){return e=>(nM.bytes(e),t(e))}var P6r,O6r,N6r,o4=D(()=>{r4();j2();P6r=nM.bool,O6r=nM.bytes;N6r=(()=>{let t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})()});function ha(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}function M7(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}var ii,Y2=D(()=>{wc();ii=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return ha(t)?t.slice(2):t}});var PQ,a4,k4e,bM=D(()=>{Y2();PQ=function(t){if(!ha(t)){let e=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(e)}},a4=function(t){if(!(t instanceof Uint8Array)){let e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}},k4e=function(t){if(typeof t!="string"){let e=`This method only supports strings but input was: ${t}`;throw new Error(e)}}});function D4e(t){let e=t.length,r=new Uint8Array(e/2);for(let n=0;n<e;n+=2)r[n/2]=OQ[t[n]]+NQ[t[n+1]];return r}var B4e,OQ,NQ,W6t,Y6t,vc,kQ,Hd,u6,J6t,J2,v1,Q2,B7,D7,Gt,Z2,yM,wc=D(()=>{O4e();o4();bM();Y2();o4();B4e=BigInt(0),OQ={},NQ={};for(let t=0;t<16;t++){let e=t,r=t*16,n=t.toString(16).toLowerCase();NQ[n]=e,NQ[n.toUpperCase()]=e,OQ[n]=r,OQ[n.toUpperCase()]=r}W6t=t=>{if(t.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return D4e(M7(t))},Y6t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),vc=t=>{let e="0x";if(t===void 0||t.length===0)return e;for(let r of t)e=`${e}${Y6t[r]}`;return e},kQ=[];for(let t=0;t<=256*256-1;t++)kQ[t]=BigInt(t);Hd=(t,e=!1)=>{e&&t.reverse();let r=vc(t);return r==="0x"?B4e:r.length===4?kQ[t[0]]:r.length===6?kQ[t[0]*256+t[1]]:BigInt(r)},u6=t=>{if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);let e=t.slice(2);return D4e(e.length%2===0?e:M7(e))},J6t=t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},J2=t=>{let e=J6t(t);return u6(e)},v1=(t,e=!1)=>{let r=Q2(`0x${M7(t.toString(16))}`);return e?r.reverse():r},Q2=t=>{if(t==null)return new Uint8Array;if(Array.isArray(t)||t instanceof Uint8Array)return Uint8Array.from(t);if(typeof t=="string"){if(!ha(t))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${t}`);return u6(t)}if(typeof t=="number")return J2(t);if(typeof t=="bigint"){if(t<B4e)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),W6t(e)}if(t.toBytes!==void 0)return t.toBytes();throw new Error("invalid type")},B7=t=>BigInt.asIntN(256,Hd(t)),D7=t=>v1(BigInt.asUintN(256,t)),Gt=t=>typeof t!="string"||ha(t)?t:`0x${t}`,Z2=t=>`0x${t.toString(16)}`,yM=(...t)=>{if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}});var J6r,Q6r,Z6r,Q6t,Z6t,X6r,X6t,eht,tht,ehr,rht,nht,thr,rhr,s4,L4e,MQ,nhr,ihr,ohr,iht,ahr,shr,chr,lhr,uhr,dhr,oht,fhr,phr,hhr,mhr,bhr,yhr,ghr,whr,tm=D(()=>{mM();wc();J6r=BigInt("0xffffffffffffffff"),Q6r=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Z6r=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),Q6t=w1.CURVE.n,Z6t=w1.CURVE.n/BigInt(2),X6r=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),X6t="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",eht=u6(X6t),tht="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",ehr=u6(tht),rht="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",nht=u6(rht),thr=Uint8Array.from([128]),rhr=BigInt(-1),s4=BigInt(0),L4e=BigInt(1),MQ=BigInt(2),nhr=BigInt(3),ihr=BigInt(7),ohr=BigInt(8),iht=BigInt(27),ahr=BigInt(28),shr=BigInt(31),chr=BigInt(32),lhr=BigInt(64),uhr=BigInt(128),dhr=BigInt(255),oht=BigInt(256),fhr=BigInt(96),phr=BigInt(100),hhr=BigInt(160),mhr=BigInt(224),bhr=BigInt(7922816251426434e13),yhr=BigInt(1461501637330903e33),ghr=BigInt(2695994666715064e52),whr=MQ**oht});var xhr,U4e=D(()=>{tm();xhr=BigInt(1e9)});var Thr,BQ=D(()=>{Thr=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"))});function aht(t,e=!1){return e?{h:Number(t&gM),l:Number(t>>F4e&gM)}:{h:Number(t>>F4e&gM)|0,l:Number(t&gM)|0}}function H4e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:a}=aht(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}var gM,F4e,z4e,G4e,j4e,$4e,V4e=D(()=>{gM=BigInt(4294967295),F4e=BigInt(32);z4e=(t,e,r)=>t<<r|e>>>32-r,G4e=(t,e,r)=>e<<r|t>>>32-r,j4e=(t,e,r)=>e<<r-32|t>>>64-r,$4e=(t,e,r)=>t<<r-32|e>>>64-r});function hht(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let s=(a+8)%10,c=(a+2)%10,l=r[c],u=r[c+1],d=K4e(l,u,1)^r[s],f=q4e(l,u,1)^r[s+1];for(let p=0;p<50;p+=10)t[a+p]^=d,t[a+p+1]^=f}let i=t[2],o=t[3];for(let a=0;a<24;a++){let s=Y4e[a],c=K4e(i,o,s),l=q4e(i,o,s),u=W4e[a];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)r[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=fht[n],t[1]^=pht[n]}r.fill(0)}var W4e,Y4e,J4e,sht,L7,cht,lht,uht,dht,fht,pht,K4e,q4e,wM,rm,Phr,Ohr,Nhr,khr,Q4e,DQ,Z4e,X4e,eve,Mhr,Bhr,tve=D(()=>{r4();V4e();j2();W4e=[],Y4e=[],J4e=[],sht=BigInt(0),L7=BigInt(1),cht=BigInt(2),lht=BigInt(7),uht=BigInt(256),dht=BigInt(113);for(let t=0,e=L7,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],W4e.push(2*(5*n+r)),Y4e.push((t+1)*(t+2)/2%64);let i=sht;for(let o=0;o<7;o++)e=(e<<L7^(e>>lht)*dht)%uht,e&cht&&(i^=L7<<(L7<<BigInt(o))-L7);J4e.push(i)}[fht,pht]=H4e(J4e,!0),K4e=(t,e,r)=>r>32?j4e(t,e,r):z4e(t,e,r),q4e=(t,e,r)=>r>32?$4e(t,e,r):G4e(t,e,r);wM=class t extends W5{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,t4(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=i4e(this.state)}keccak(){pQ||hQ(this.state32),hht(this.state32,this.rounds),pQ||hQ(this.state32),this.posOut=0,this.pos=0}update(e){g1(this);let{blockLen:r,state:n}=this;e=Y5(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(r-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){g1(this,!1),o6(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return t4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(P7(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new t(r,n,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},rm=(t,e,r)=>aM(()=>new wM(e,t,r)),Phr=rm(6,144,224/8),Ohr=rm(6,136,256/8),Nhr=rm(6,104,384/8),khr=rm(6,72,512/8),Q4e=rm(1,144,224/8),DQ=rm(1,136,256/8),Z4e=rm(1,104,384/8),X4e=rm(1,72,512/8),eve=(t,e,r)=>o4e((n={})=>new wM(e,t,n.dkLen===void 0?r:n.dkLen,!0)),Mhr=eve(31,168,128/8),Bhr=eve(31,136,256/8)});var Fhr,U7,Hhr,zhr,LQ=D(()=>{tve();o4();Fhr=W2(Q4e),U7=(()=>{let t=W2(DQ);return t.create=DQ.create,t})(),Hhr=W2(Z4e),zhr=W2(X4e)});var nm,vM,rve,ght,UQ,FQ,Zhr,HQ=D(()=>{BQ();LQ();mM();wc();tm();bM();Y2();nm=function(t){try{k4e(t)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)},vM=function(t,e){PQ(t);let r=ii(t).toLowerCase(),n="";e!==void 0&&(n=Hd(Q2(e)).toString()+"0x");let i=a6(n+r),o=vc(U7(i)).slice(2),a="";for(let s=0;s<r.length;s++)parseInt(o[s],16)>=8?a+=r[s].toUpperCase():a+=r[s];return`0x${a}`},rve=function(t,e=!1){if(a4(t),e&&t.length!==64&&(t=w1.ProjectivePoint.fromHex(t).toRawBytes(!1).slice(1)),t.length!==64)throw new Error("Expected pubKey to be of length 64");return U7(t).subarray(-20)},ght=rve,UQ=function(t){return a4(t),w1.ProjectivePoint.fromPrivateKey(t).toRawBytes(!1).slice(1)},FQ=function(t){return ght(UQ(t))},Zhr=new Uint8Array(0)});var zQ=D(()=>{HQ();wc();tm()});var nve,ive,ove=D(()=>{(function(t){t.String="string",t.Bytes="view",t.Number="number"})(nve||(nve={}));(function(t){t.String="string",t.Bytes="view",t.JSON="json"})(ive||(ive={}))});var GQ,jQ=D(()=>{wc();Y2();(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(GQ||(GQ={}))});var ave=D(()=>{zQ();wc();tm();jQ()});function c4(t,e,r){let n=w1.sign(t,e),i=n.toCompactRawBytes(),o=i.slice(0,32),a=i.slice(32,64),s=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*MQ;return{r:o,s:a,v:s}}var EM,sve=D(()=>{LQ();mM();wc();tm();bM();EM=function(t){a4(t);let e=a6(`Ethereum Signed Message:
${t.length}`);return U7(yM(e,t))}});var vht,cve=D(()=>{vht=ve(Da(),1)});var Eht,lve=D(()=>{bQ();o4();Eht=W2(cM)});var xht,uve,Aht,Tht,R5r,P5r,dve=D(()=>{lve();wc();xht=32,uve=4096,Aht=32*uve,Tht=2,R5r=Aht*Tht-1,P5r=xht*uve});var fve=D(()=>{wc();Y2()});var pve=D(()=>{});var hve=D(()=>{});var mve=D(()=>{wc()});var bve=D(()=>{});var yve,gve=D(()=>{BQ();o4();wc();tm();(function(t){t[t.Deposit=0]="Deposit",t[t.Withdrawal=1]="Withdrawal",t[t.Consolidation=2]="Consolidation"})(yve||(yve={}))});var X2,Y5r,J5r,Q5r,Z5r,X5r,emr,wve=D(()=>{wc();(function(t){t[t.Version=0]="Version",t[t.Balance=1]="Balance",t[t.Nonce=2]="Nonce",t[t.CodeHash=3]="CodeHash",t[t.CodeSize=4]="CodeSize"})(X2||(X2={}));Y5r=J2(X2.Version),J5r=J2(X2.Balance),Q5r=J2(X2.Nonce),Z5r=J2(X2.CodeHash),X5r=J2(X2.CodeSize),emr=BigInt(256)**BigInt(31)});var L0=D(()=>{tm();U4e();HQ();zQ();ove();ave();sve();wc();jQ();cve();dve();fve();Y2();pve();hve();mve();bve();gve();wve()});var _i=D(()=>{Jp();cge();CY();dge();rQ();sQ();Vwe();Kwe();RY();sk();d7()});var F7,vve=D(()=>{nt();Ye();_i();F7=class extends gc{constructor({config:e={},state:r={}}){super(),V(this,"defaultConfig",{}),V(this,"defaultState",{}),V(this,"disabled",!1),V(this,"name","BaseController"),V(this,"initialConfig",void 0),V(this,"initialState",void 0),V(this,"internalConfig",this.defaultConfig),V(this,"internalState",this.defaultState),this.initialState=r,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,r=!1,n=!0){if(n){this.internalConfig=r?e:Object.assign(this.internalConfig,e);for(let i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(let i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,r=!1){this.internalState=r?q({},e):q(q({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}});function Cht(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function $Q(t,e){let n=(e||{}).eventFilter||_ht;if(typeof n=="string"&&n==="skipInternal"&&(n=Iht),typeof n!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,o=s=>{if(i===s)return;let c=i;i=s,c.eventNames().filter(n).forEach(u=>{Cht(c,u).forEach(d=>{s.on(u,d)})}),c.removeAllListeners()};return new Proxy({},{get:(s,c)=>c==="setTarget"?o:i[c],set:(s,c,l)=>c==="setTarget"?(o=l,!0):(i[c]=l,!0),has:(s,c)=>c[0]==="_"?!1:c in i})}var _ht,Sht,Iht,Eve=D(()=>{_ht=()=>!0,Sht=["newListener","removeListener"],Iht=t=>!Sht.includes(t)});var VQ,xM,xve=D(()=>{VQ={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},xM={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"}});function Tve(t){var e,r,n,i=C.prototype={constructor:C,toString:null,valueOf:null},o=new C(1),a=20,s=4,c=-7,l=21,u=-1e7,d=1e7,f=!1,p=1,h=0,b={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},_="0123456789abcdefghijklmnopqrstuvwxyz",A=!0;function C(N,k){var O,w,S,T,m,y,E,v,x=this;if(!(x instanceof C))return new C(N,k);if(k==null){if(N&&N._isBigNumber===!0){x.s=N.s,!N.c||N.e>d?x.c=x.e=null:N.e<u?x.c=[x.e=0]:(x.e=N.e,x.c=N.c.slice());return}if((y=typeof N=="number")&&N*0==0){if(x.s=1/N<0?(N=-N,-1):1,N===~~N){for(T=0,m=N;m>=10;m/=10,T++);T>d?x.c=x.e=null:(x.e=T,x.c=[N]);return}v=String(N)}else{if(!Rht.test(v=String(N)))return n(x,v,y);x.s=v.charCodeAt(0)==45?(v=v.slice(1),-1):1}(T=v.indexOf("."))>-1&&(v=v.replace(".","")),(m=v.search(/e/i))>0?(T<0&&(T=m),T+=+v.slice(m+1),v=v.substring(0,m)):T<0&&(T=v.length)}else{if(to(k,2,_.length,"Base"),k==10&&A)return x=new C(N),F(x,a+x.e+1,s);if(v=String(N),y=typeof N=="number"){if(N*0!=0)return n(x,v,y,k);if(x.s=1/N<0?(v=v.slice(1),-1):1,C.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(Ave+N)}else x.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1;for(O=_.slice(0,k),T=m=0,E=v.length;m<E;m++)if(O.indexOf(w=v.charAt(m))<0){if(w=="."){if(m>T){T=E;continue}}else if(!S&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){S=!0,m=-1,T=0;continue}return n(x,String(N),y,k)}y=!1,v=r(v,k,10,x.s),(T=v.indexOf("."))>-1?v=v.replace(".",""):T=v.length}for(m=0;v.charCodeAt(m)===48;m++);for(E=v.length;v.charCodeAt(--E)===48;);if(v=v.slice(m,++E)){if(E-=m,y&&C.DEBUG&&E>15&&(N>qQ||N!==Ru(N)))throw Error(Ave+x.s*N);if((T=T-m-1)>d)x.c=x.e=null;else if(T<u)x.c=[x.e=0];else{if(x.e=T,x.c=[],m=(T+1)%Nr,T<0&&(m+=Nr),m<E){for(m&&x.c.push(+v.slice(0,m)),E-=Nr;m<E;)x.c.push(+v.slice(m,m+=Nr));m=Nr-(v=v.slice(m)).length}else m-=E;for(;m--;v+="0");x.c.push(+v)}}else x.c=[x.e=0]}C.clone=Tve,C.ROUND_UP=0,C.ROUND_DOWN=1,C.ROUND_CEIL=2,C.ROUND_FLOOR=3,C.ROUND_HALF_UP=4,C.ROUND_HALF_DOWN=5,C.ROUND_HALF_EVEN=6,C.ROUND_HALF_CEIL=7,C.ROUND_HALF_FLOOR=8,C.EUCLID=9,C.config=C.set=function(N){var k,O;if(N!=null)if(typeof N=="object"){if(N.hasOwnProperty(k="DECIMAL_PLACES")&&(O=N[k],to(O,0,Ha,k),a=O),N.hasOwnProperty(k="ROUNDING_MODE")&&(O=N[k],to(O,0,8,k),s=O),N.hasOwnProperty(k="EXPONENTIAL_AT")&&(O=N[k],O&&O.pop?(to(O[0],-Ha,0,k),to(O[1],0,Ha,k),c=O[0],l=O[1]):(to(O,-Ha,Ha,k),c=-(l=O<0?-O:O))),N.hasOwnProperty(k="RANGE"))if(O=N[k],O&&O.pop)to(O[0],-Ha,-1,k),to(O[1],1,Ha,k),u=O[0],d=O[1];else if(to(O,-Ha,Ha,k),O)u=-(d=O<0?-O:O);else throw Error(Ec+k+" cannot be zero: "+O);if(N.hasOwnProperty(k="CRYPTO"))if(O=N[k],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))f=O;else throw f=!O,Error(Ec+"crypto unavailable");else f=O;else throw Error(Ec+k+" not true or false: "+O);if(N.hasOwnProperty(k="MODULO_MODE")&&(O=N[k],to(O,0,9,k),p=O),N.hasOwnProperty(k="POW_PRECISION")&&(O=N[k],to(O,0,Ha,k),h=O),N.hasOwnProperty(k="FORMAT"))if(O=N[k],typeof O=="object")b=O;else throw Error(Ec+k+" not an object: "+O);if(N.hasOwnProperty(k="ALPHABET"))if(O=N[k],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))A=O.slice(0,10)=="0123456789",_=O;else throw Error(Ec+k+" invalid: "+O)}else throw Error(Ec+"Object expected: "+N);return{DECIMAL_PLACES:a,ROUNDING_MODE:s,EXPONENTIAL_AT:[c,l],RANGE:[u,d],CRYPTO:f,MODULO_MODE:p,POW_PRECISION:h,FORMAT:b,ALPHABET:_}},C.isBigNumber=function(N){if(!N||N._isBigNumber!==!0)return!1;if(!C.DEBUG)return!0;var k,O,w=N.c,S=N.e,T=N.s;e:if({}.toString.call(w)=="[object Array]"){if((T===1||T===-1)&&S>=-Ha&&S<=Ha&&S===Ru(S)){if(w[0]===0){if(S===0&&w.length===1)return!0;break e}if(k=(S+1)%Nr,k<1&&(k+=Nr),String(w[0]).length==k){for(k=0;k<w.length;k++)if(O=w[k],O<0||O>=zd||O!==Ru(O))break e;if(O!==0)return!0}}}else if(w===null&&S===null&&(T===null||T===1||T===-1))return!0;throw Error(Ec+"Invalid BigNumber: "+N)},C.maximum=C.max=function(){return M(arguments,-1)},C.minimum=C.min=function(){return M(arguments,1)},C.random=(function(){var N=9007199254740992,k=Math.random()*N&2097151?function(){return Ru(Math.random()*N)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var w,S,T,m,y,E=0,v=[],x=new C(o);if(O==null?O=a:to(O,0,Ha),m=KQ(O/Nr),f)if(crypto.getRandomValues){for(w=crypto.getRandomValues(new Uint32Array(m*=2));E<m;)y=w[E]*131072+(w[E+1]>>>11),y>=9e15?(S=crypto.getRandomValues(new Uint32Array(2)),w[E]=S[0],w[E+1]=S[1]):(v.push(y%1e14),E+=2);E=m/2}else if(crypto.randomBytes){for(w=crypto.randomBytes(m*=7);E<m;)y=(w[E]&31)*281474976710656+w[E+1]*1099511627776+w[E+2]*4294967296+w[E+3]*16777216+(w[E+4]<<16)+(w[E+5]<<8)+w[E+6],y>=9e15?crypto.randomBytes(7).copy(w,E):(v.push(y%1e14),E+=7);E=m/7}else throw f=!1,Error(Ec+"crypto unavailable");if(!f)for(;E<m;)y=k(),y<9e15&&(v[E++]=y%1e14);for(m=v[--E],O%=Nr,m&&O&&(y=WQ[Nr-O],v[E]=Ru(m/y)*y);v[E]===0;v.pop(),E--);if(E<0)v=[T=0];else{for(T=-1;v[0]===0;v.splice(0,1),T-=Nr);for(E=1,y=v[0];y>=10;y/=10,E++);E<Nr&&(T-=Nr-E)}return x.e=T,x.c=v,x}})(),C.sum=function(){for(var N=1,k=arguments,O=new C(k[0]);N<k.length;)O=O.plus(k[N++]);return O},r=(function(){var N="0123456789";function k(O,w,S,T){for(var m,y=[0],E,v=0,x=O.length;v<x;){for(E=y.length;E--;y[E]*=w);for(y[0]+=T.indexOf(O.charAt(v++)),m=0;m<y.length;m++)y[m]>S-1&&(y[m+1]==null&&(y[m+1]=0),y[m+1]+=y[m]/S|0,y[m]%=S)}return y.reverse()}return function(O,w,S,T,m){var y,E,v,x,g,P,B,I,L=O.indexOf("."),G=a,H=s;for(L>=0&&(x=h,h=0,O=O.replace(".",""),I=new C(w),P=I.pow(O.length-L),h=x,I.c=k(d6(Cu(P.c),P.e,"0"),10,S,N),I.e=I.c.length),B=k(O,w,S,m?(y=_,N):(y=N,_)),v=x=B.length;B[--x]==0;B.pop());if(!B[0])return y.charAt(0);if(L<0?--v:(P.c=B,P.e=v,P.s=T,P=e(P,I,G,H,S),B=P.c,g=P.r,v=P.e),E=v+G+1,L=B[E],x=S/2,g=g||E<0||B[E+1]!=null,g=H<4?(L!=null||g)&&(H==0||H==(P.s<0?3:2)):L>x||L==x&&(H==4||g||H==6&&B[E-1]&1||H==(P.s<0?8:7)),E<1||!B[0])O=g?d6(y.charAt(1),-G,y.charAt(0)):y.charAt(0);else{if(B.length=E,g)for(--S;++B[--E]>S;)B[E]=0,E||(++v,B=[1].concat(B));for(x=B.length;!B[--x];);for(L=0,O="";L<=x;O+=y.charAt(B[L++]));O=d6(O,v,y.charAt(0))}return O}})(),e=(function(){function N(w,S,T){var m,y,E,v,x=0,g=w.length,P=S%im,B=S/im|0;for(w=w.slice();g--;)E=w[g]%im,v=w[g]/im|0,m=B*E+v*P,y=P*E+m%im*im+x,x=(y/T|0)+(m/im|0)+B*v,w[g]=y%T;return x&&(w=[x].concat(w)),w}function k(w,S,T,m){var y,E;if(T!=m)E=T>m?1:-1;else for(y=E=0;y<T;y++)if(w[y]!=S[y]){E=w[y]>S[y]?1:-1;break}return E}function O(w,S,T,m){for(var y=0;T--;)w[T]-=y,y=w[T]<S[T]?1:0,w[T]=y*m+w[T]-S[T];for(;!w[0]&&w.length>1;w.splice(0,1));}return function(w,S,T,m,y){var E,v,x,g,P,B,I,L,G,H,$,K,W,J,X,te,re,le=w.s==S.s?1:-1,ce=w.c,ae=S.c;if(!ce||!ce[0]||!ae||!ae[0])return new C(!w.s||!S.s||(ce?ae&&ce[0]==ae[0]:!ae)?NaN:ce&&ce[0]==0||!ae?le*0:le/0);for(L=new C(le),G=L.c=[],v=w.e-S.e,le=T+v+1,y||(y=zd,v=Pu(w.e/Nr)-Pu(S.e/Nr),le=le/Nr|0),x=0;ae[x]==(ce[x]||0);x++);if(ae[x]>(ce[x]||0)&&v--,le<0)G.push(1),g=!0;else{for(J=ce.length,te=ae.length,x=0,le+=2,P=Ru(y/(ae[0]+1)),P>1&&(ae=N(ae,P,y),ce=N(ce,P,y),te=ae.length,J=ce.length),W=te,H=ce.slice(0,te),$=H.length;$<te;H[$++]=0);re=ae.slice(),re=[0].concat(re),X=ae[0],ae[1]>=y/2&&X++;do{if(P=0,E=k(ae,H,te,$),E<0){if(K=H[0],te!=$&&(K=K*y+(H[1]||0)),P=Ru(K/X),P>1)for(P>=y&&(P=y-1),B=N(ae,P,y),I=B.length,$=H.length;k(B,H,I,$)==1;)P--,O(B,te<I?re:ae,I,y),I=B.length,E=1;else P==0&&(E=P=1),B=ae.slice(),I=B.length;if(I<$&&(B=[0].concat(B)),O(H,B,$,y),$=H.length,E==-1)for(;k(ae,H,te,$)<1;)P++,O(H,te<$?re:ae,$,y),$=H.length}else E===0&&(P++,H=[0]);G[x++]=P,H[0]?H[$++]=ce[W]||0:(H=[ce[W]],$=1)}while((W++<J||H[0]!=null)&&le--);g=H[0]!=null,G[0]||G.splice(0,1)}if(y==zd){for(x=1,le=G[0];le>=10;le/=10,x++);F(L,T+(L.e=x+v*Nr-1)+1,m,g)}else L.e=v,L.r=+g;return L}})();function R(N,k,O,w){var S,T,m,y,E;if(O==null?O=s:to(O,0,8),!N.c)return N.toString();if(S=N.c[0],m=N.e,k==null)E=Cu(N.c),E=w==1||w==2&&(m<=c||m>=l)?TM(E,m):d6(E,m,"0");else if(N=F(new C(N),k,O),T=N.e,E=Cu(N.c),y=E.length,w==1||w==2&&(k<=T||T<=c)){for(;y<k;E+="0",y++);E=TM(E,T)}else if(k-=m+(w===2&&T>m),E=d6(E,T,"0"),T+1>y){if(--k>0)for(E+=".";k--;E+="0");}else if(k+=T-y,k>0)for(T+1==y&&(E+=".");k--;E+="0");return N.s<0&&S?"-"+E:E}function M(N,k){for(var O,w,S=1,T=new C(N[0]);S<N.length;S++)w=new C(N[S]),(!w.s||(O=eg(T,w))===k||O===0&&T.s===k)&&(T=w);return T}function U(N,k,O){for(var w=1,S=k.length;!k[--S];k.pop());for(S=k[0];S>=10;S/=10,w++);return(O=w+O*Nr-1)>d?N.c=N.e=null:O<u?N.c=[N.e=0]:(N.e=O,N.c=k),N}n=(function(){var N=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,O=/^\.([^.]+)$/,w=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(T,m,y,E){var v,x=y?m:m.replace(S,"");if(w.test(x))T.s=isNaN(x)?null:x<0?-1:1;else{if(!y&&(x=x.replace(N,function(g,P,B){return v=(B=B.toLowerCase())=="x"?16:B=="b"?2:8,!E||E==v?P:g}),E&&(v=E,x=x.replace(k,"$1").replace(O,"0.$1")),m!=x))return new C(x,v);if(C.DEBUG)throw Error(Ec+"Not a"+(E?" base "+E:"")+" number: "+m);T.s=null}T.c=T.e=null}})();function F(N,k,O,w){var S,T,m,y,E,v,x,g=N.c,P=WQ;if(g){e:{for(S=1,y=g[0];y>=10;y/=10,S++);if(T=k-S,T<0)T+=Nr,m=k,E=g[v=0],x=Ru(E/P[S-m-1]%10);else if(v=KQ((T+1)/Nr),v>=g.length)if(w){for(;g.length<=v;g.push(0));E=x=0,S=1,T%=Nr,m=T-Nr+1}else break e;else{for(E=y=g[v],S=1;y>=10;y/=10,S++);T%=Nr,m=T-Nr+S,x=m<0?0:Ru(E/P[S-m-1]%10)}if(w=w||k<0||g[v+1]!=null||(m<0?E:E%P[S-m-1]),w=O<4?(x||w)&&(O==0||O==(N.s<0?3:2)):x>5||x==5&&(O==4||w||O==6&&(T>0?m>0?E/P[S-m]:0:g[v-1])%10&1||O==(N.s<0?8:7)),k<1||!g[0])return g.length=0,w?(k-=N.e+1,g[0]=P[(Nr-k%Nr)%Nr],N.e=-k||0):g[0]=N.e=0,N;if(T==0?(g.length=v,y=1,v--):(g.length=v+1,y=P[Nr-T],g[v]=m>0?Ru(E/P[S-m]%P[m])*y:0),w)for(;;)if(v==0){for(T=1,m=g[0];m>=10;m/=10,T++);for(m=g[0]+=y,y=1;m>=10;m/=10,y++);T!=y&&(N.e++,g[0]==zd&&(g[0]=1));break}else{if(g[v]+=y,g[v]!=zd)break;g[v--]=0,y=1}for(T=g.length;g[--T]===0;g.pop());}N.e>d?N.c=N.e=null:N.e<u&&(N.c=[N.e=0])}return N}function z(N){var k,O=N.e;return O===null?N.toString():(k=Cu(N.c),k=O<=c||O>=l?TM(k,O):d6(k,O,"0"),N.s<0?"-"+k:k)}return i.absoluteValue=i.abs=function(){var N=new C(this);return N.s<0&&(N.s=1),N},i.comparedTo=function(N,k){return eg(this,new C(N,k))},i.decimalPlaces=i.dp=function(N,k){var O,w,S,T=this;if(N!=null)return to(N,0,Ha),k==null?k=s:to(k,0,8),F(new C(T),N+T.e+1,k);if(!(O=T.c))return null;if(w=((S=O.length-1)-Pu(this.e/Nr))*Nr,S=O[S])for(;S%10==0;S/=10,w--);return w<0&&(w=0),w},i.dividedBy=i.div=function(N,k){return e(this,new C(N,k),a,s)},i.dividedToIntegerBy=i.idiv=function(N,k){return e(this,new C(N,k),0,1)},i.exponentiatedBy=i.pow=function(N,k){var O,w,S,T,m,y,E,v,x,g=this;if(N=new C(N),N.c&&!N.isInteger())throw Error(Ec+"Exponent not an integer: "+z(N));if(k!=null&&(k=new C(k)),y=N.e>14,!g.c||!g.c[0]||g.c[0]==1&&!g.e&&g.c.length==1||!N.c||!N.c[0])return x=new C(Math.pow(+z(g),y?N.s*(2-AM(N)):+z(N))),k?x.mod(k):x;if(E=N.s<0,k){if(k.c?!k.c[0]:!k.s)return new C(NaN);w=!E&&g.isInteger()&&k.isInteger(),w&&(g=g.mod(k))}else{if(N.e>9&&(g.e>0||g.e<-1||(g.e==0?g.c[0]>1||y&&g.c[1]>=24e7:g.c[0]<8e13||y&&g.c[0]<=9999975e7)))return T=g.s<0&&AM(N)?-0:0,g.e>-1&&(T=1/T),new C(E?1/T:T);h&&(T=KQ(h/Nr+2))}for(y?(O=new C(.5),E&&(N.s=1),v=AM(N)):(S=Math.abs(+z(N)),v=S%2),x=new C(o);;){if(v){if(x=x.times(g),!x.c)break;T?x.c.length>T&&(x.c.length=T):w&&(x=x.mod(k))}if(S){if(S=Ru(S/2),S===0)break;v=S%2}else if(N=N.times(O),F(N,N.e+1,1),N.e>14)v=AM(N);else{if(S=+z(N),S===0)break;v=S%2}g=g.times(g),T?g.c&&g.c.length>T&&(g.c.length=T):w&&(g=g.mod(k))}return w?x:(E&&(x=o.div(x)),k?x.mod(k):T?F(x,h,s,m):x)},i.integerValue=function(N){var k=new C(this);return N==null?N=s:to(N,0,8),F(k,k.e+1,N)},i.isEqualTo=i.eq=function(N,k){return eg(this,new C(N,k))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(N,k){return eg(this,new C(N,k))>0},i.isGreaterThanOrEqualTo=i.gte=function(N,k){return(k=eg(this,new C(N,k)))===1||k===0},i.isInteger=function(){return!!this.c&&Pu(this.e/Nr)>this.c.length-2},i.isLessThan=i.lt=function(N,k){return eg(this,new C(N,k))<0},i.isLessThanOrEqualTo=i.lte=function(N,k){return(k=eg(this,new C(N,k)))===-1||k===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(N,k){var O,w,S,T,m=this,y=m.s;if(N=new C(N,k),k=N.s,!y||!k)return new C(NaN);if(y!=k)return N.s=-k,m.plus(N);var E=m.e/Nr,v=N.e/Nr,x=m.c,g=N.c;if(!E||!v){if(!x||!g)return x?(N.s=-k,N):new C(g?m:NaN);if(!x[0]||!g[0])return g[0]?(N.s=-k,N):new C(x[0]?m:s==3?-0:0)}if(E=Pu(E),v=Pu(v),x=x.slice(),y=E-v){for((T=y<0)?(y=-y,S=x):(v=E,S=g),S.reverse(),k=y;k--;S.push(0));S.reverse()}else for(w=(T=(y=x.length)<(k=g.length))?y:k,y=k=0;k<w;k++)if(x[k]!=g[k]){T=x[k]<g[k];break}if(T&&(S=x,x=g,g=S,N.s=-N.s),k=(w=g.length)-(O=x.length),k>0)for(;k--;x[O++]=0);for(k=zd-1;w>y;){if(x[--w]<g[w]){for(O=w;O&&!x[--O];x[O]=k);--x[O],x[w]+=zd}x[w]-=g[w]}for(;x[0]==0;x.splice(0,1),--v);return x[0]?U(N,x,v):(N.s=s==3?-1:1,N.c=[N.e=0],N)},i.modulo=i.mod=function(N,k){var O,w,S=this;return N=new C(N,k),!S.c||!N.s||N.c&&!N.c[0]?new C(NaN):!N.c||S.c&&!S.c[0]?new C(S):(p==9?(w=N.s,N.s=1,O=e(S,N,0,3),N.s=w,O.s*=w):O=e(S,N,0,p),N=S.minus(O.times(N)),!N.c[0]&&p==1&&(N.s=S.s),N)},i.multipliedBy=i.times=function(N,k){var O,w,S,T,m,y,E,v,x,g,P,B,I,L,G,H=this,$=H.c,K=(N=new C(N,k)).c;if(!$||!K||!$[0]||!K[0])return!H.s||!N.s||$&&!$[0]&&!K||K&&!K[0]&&!$?N.c=N.e=N.s=null:(N.s*=H.s,!$||!K?N.c=N.e=null:(N.c=[0],N.e=0)),N;for(w=Pu(H.e/Nr)+Pu(N.e/Nr),N.s*=H.s,E=$.length,g=K.length,E<g&&(I=$,$=K,K=I,S=E,E=g,g=S),S=E+g,I=[];S--;I.push(0));for(L=zd,G=im,S=g;--S>=0;){for(O=0,P=K[S]%G,B=K[S]/G|0,m=E,T=S+m;T>S;)v=$[--m]%G,x=$[m]/G|0,y=B*v+x*P,v=P*v+y%G*G+I[T]+O,O=(v/L|0)+(y/G|0)+B*x,I[T--]=v%L;I[T]=O}return O?++w:I.splice(0,1),U(N,I,w)},i.negated=function(){var N=new C(this);return N.s=-N.s||null,N},i.plus=function(N,k){var O,w=this,S=w.s;if(N=new C(N,k),k=N.s,!S||!k)return new C(NaN);if(S!=k)return N.s=-k,w.minus(N);var T=w.e/Nr,m=N.e/Nr,y=w.c,E=N.c;if(!T||!m){if(!y||!E)return new C(S/0);if(!y[0]||!E[0])return E[0]?N:new C(y[0]?w:S*0)}if(T=Pu(T),m=Pu(m),y=y.slice(),S=T-m){for(S>0?(m=T,O=E):(S=-S,O=y),O.reverse();S--;O.push(0));O.reverse()}for(S=y.length,k=E.length,S-k<0&&(O=E,E=y,y=O,k=S),S=0;k;)S=(y[--k]=y[k]+E[k]+S)/zd|0,y[k]=zd===y[k]?0:y[k]%zd;return S&&(y=[S].concat(y),++m),U(N,y,m)},i.precision=i.sd=function(N,k){var O,w,S,T=this;if(N!=null&&N!==!!N)return to(N,1,Ha),k==null?k=s:to(k,0,8),F(new C(T),N,k);if(!(O=T.c))return null;if(S=O.length-1,w=S*Nr+1,S=O[S]){for(;S%10==0;S/=10,w--);for(S=O[0];S>=10;S/=10,w++);}return N&&T.e+1>w&&(w=T.e+1),w},i.shiftedBy=function(N){return to(N,-qQ,qQ),this.times("1e"+N)},i.squareRoot=i.sqrt=function(){var N,k,O,w,S,T=this,m=T.c,y=T.s,E=T.e,v=a+4,x=new C("0.5");if(y!==1||!m||!m[0])return new C(!y||y<0&&(!m||m[0])?NaN:m?T:1/0);if(y=Math.sqrt(+z(T)),y==0||y==1/0?(k=Cu(m),(k.length+E)%2==0&&(k+="0"),y=Math.sqrt(+k),E=Pu((E+1)/2)-(E<0||E%2),y==1/0?k="5e"+E:(k=y.toExponential(),k=k.slice(0,k.indexOf("e")+1)+E),O=new C(k)):O=new C(y+""),O.c[0]){for(E=O.e,y=E+v,y<3&&(y=0);;)if(S=O,O=x.times(S.plus(e(T,S,v,1))),Cu(S.c).slice(0,y)===(k=Cu(O.c)).slice(0,y))if(O.e<E&&--y,k=k.slice(y-3,y+1),k=="9999"||!w&&k=="4999"){if(!w&&(F(S,S.e+a+2,0),S.times(S).eq(T))){O=S;break}v+=4,y+=4,w=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(F(O,O.e+a+2,1),N=!O.times(O).eq(T));break}}return F(O,O.e+a+1,s,N)},i.toExponential=function(N,k){return N!=null&&(to(N,0,Ha),N++),R(this,N,k,1)},i.toFixed=function(N,k){return N!=null&&(to(N,0,Ha),N=N+this.e+1),R(this,N,k)},i.toFormat=function(N,k,O){var w,S=this;if(O==null)N!=null&&k&&typeof k=="object"?(O=k,k=null):N&&typeof N=="object"?(O=N,N=k=null):O=b;else if(typeof O!="object")throw Error(Ec+"Argument not an object: "+O);if(w=S.toFixed(N,k),S.c){var T,m=w.split("."),y=+O.groupSize,E=+O.secondaryGroupSize,v=O.groupSeparator||"",x=m[0],g=m[1],P=S.s<0,B=P?x.slice(1):x,I=B.length;if(E&&(T=y,y=E,E=T,I-=T),y>0&&I>0){for(T=I%y||y,x=B.substr(0,T);T<I;T+=y)x+=v+B.substr(T,y);E>0&&(x+=v+B.slice(T)),P&&(x="-"+x)}w=g?x+(O.decimalSeparator||"")+((E=+O.fractionGroupSize)?g.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):g):x}return(O.prefix||"")+w+(O.suffix||"")},i.toFraction=function(N){var k,O,w,S,T,m,y,E,v,x,g,P,B=this,I=B.c;if(N!=null&&(y=new C(N),!y.isInteger()&&(y.c||y.s!==1)||y.lt(o)))throw Error(Ec+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+z(y));if(!I)return new C(B);for(k=new C(o),v=O=new C(o),w=E=new C(o),P=Cu(I),T=k.e=P.length-B.e-1,k.c[0]=WQ[(m=T%Nr)<0?Nr+m:m],N=!N||y.comparedTo(k)>0?T>0?k:v:y,m=d,d=1/0,y=new C(P),E.c[0]=0;x=e(y,k,0,1),S=O.plus(x.times(w)),S.comparedTo(N)!=1;)O=w,w=S,v=E.plus(x.times(S=v)),E=S,k=y.minus(x.times(S=k)),y=S;return S=e(N.minus(O),w,0,1),E=E.plus(S.times(v)),O=O.plus(S.times(w)),E.s=v.s=B.s,T=T*2,g=e(v,w,T,s).minus(B).abs().comparedTo(e(E,O,T,s).minus(B).abs())<1?[v,w]:[E,O],d=m,g},i.toNumber=function(){return+z(this)},i.toPrecision=function(N,k){return N!=null&&to(N,1,Ha),R(this,N,k,2)},i.toString=function(N){var k,O=this,w=O.s,S=O.e;return S===null?w?(k="Infinity",w<0&&(k="-"+k)):k="NaN":(N==null?k=S<=c||S>=l?TM(Cu(O.c),S):d6(Cu(O.c),S,"0"):N===10&&A?(O=F(new C(O),a+S+1,s),k=d6(Cu(O.c),O.e,"0")):(to(N,2,_.length,"Base"),k=r(d6(Cu(O.c),S,"0"),10,N,w,!0)),w<0&&O.c[0]&&(k="-"+k)),k},i.valueOf=i.toJSON=function(){return z(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&C.set(t),C}function Pu(t){var e=t|0;return t>0||t===e?e:e-1}function Cu(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=Nr-e.length;r--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function eg(t,e){var r,n,i=t.c,o=e.c,a=t.s,s=e.s,c=t.e,l=e.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=c==l,!i||!o)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(s=(c=i.length)<(l=o.length)?c:l,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return c==l?0:c>l^r?1:-1}function to(t,e,r,n){if(t<e||t>r||t!==Ru(t))throw Error(Ec+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function AM(t){var e=t.c.length-1;return Pu(t.e/Nr)==e&&t.c[e]%2!=0}function TM(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function d6(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var Rht,KQ,Ru,Ec,Ave,zd,Nr,qQ,WQ,im,Ha,ur,Gd,om=D(()=>{Rht=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,KQ=Math.ceil,Ru=Math.floor,Ec="[BigNumber Error] ",Ave=Ec+"Number primitive has more than 15 significant digits: ",zd=1e14,Nr=14,qQ=9007199254740991,WQ=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],im=1e7,Ha=1e9;ur=Tve(),Gd=ur});var _ve,YQ,JQ,Sve,QQ=D(()=>{_ve={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},YQ={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},JQ={INTERNAL:"internal",NETWORK:"network"},Sve={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"}});var pt,ZQ=D(()=>{pt={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"}});var H7,XQ,eZ,tZ=D(()=>{L0();om();QQ();ZQ();H7=t=>{try{let e=t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},XQ=t=>{try{return new URL(t).hostname}catch{return""}},eZ=t=>{if(t)return t.chainNamespace===pt.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===pt.SOLANA?`${t.chainNamespace}:${Sve[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`}});function Oht(t){switch(t.status){case 405:throw Lr.methodNotFound();case 418:throw Lr.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw Lr.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function Nht(t){return new Promise(e=>{setTimeout(e,t)})}function kht(t,e){if(t.status!==200)throw Lr.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var r;throw Lr.internal({data:e.error,message:(r=e.error)===null||r===void 0?void 0:r.message})}return e.result}function Ive({req:t,rpcTarget:e,originHttpHeaderKey:r}){let n=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},o=t.origin,a=JSON.stringify(i),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a};return r&&o&&(s.headers[r]=o),{fetchUrl:n.href,fetchParams:s}}function tg({rpcTarget:t,originHttpHeaderKey:e,analytics:r,providerConfig:n}){return tn(async(i,o,a)=>{let{fetchUrl:s,fetchParams:c}=Ive({req:i,rpcTarget:t,originHttpHeaderKey:e}),l=5,u=1e3,d=Date.now(),f=!Object.values(_ve).includes(i.method),p={chain_id:eZ(n),chain_rpc_target:XQ(s),method:i.method};for(let h=0;h<l;h++){try{let b=await fetch(s,c);Oht(b);let _=await b.json(),A=kht(b,_);o.result=A,f||r?.track(YQ.JRPC_REQUEST_COMPLETED,q(q({request_type:JQ.NETWORK},p),{},{duration:Date.now()-d}));return}catch(b){let _=(b.message||b).toString();if(!Pht.some(C=>_.includes(C)))throw f||r?.track(YQ.JRPC_REQUEST_FAILED,q(q({request_type:JQ.NETWORK},p),{},{error_code:b?.code,error_message:_,duration:Date.now()-d})),await Yp(b)}await Nht(u)}})}var Pht,Cve=D(()=>{nt();_i();QQ();tZ();Pht=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"]});function Ou(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r))}}var Rve=D(()=>{});function Mht(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Bht(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Mht(e)}catch{return atob(e)}}function _M(t,e){if(typeof t!="string")throw new rg("Invalid token specified: must be a string");e||(e={});let r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new rg(`Invalid token specified: missing part #${r+1}`);let i;try{i=Bht(n)}catch(o){throw new rg(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new rg(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}var rg,rZ=D(()=>{rg=class extends Error{};rg.prototype.name="InvalidTokenError"});var Pve,nZ,ng,ig,Ove=D(()=>{nt();o7();Pve=ve(Or()),nZ="https://authjs.web3auth.io",ng=async(t,e)=>{let o={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},a=await x2(`${nZ}/siww/get`,o);if(!a.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return a.challenge},ig=async(t,e,r,n,i,o,a,s,c)=>{var l;let d=q({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:r,issuer:n,audience:s||typeof window<"u"&&((l=window.location)===null||l===void 0?void 0:l.hostname)||"com://reactnative",timeout:i},c||{}),f=await x2(`${nZ}/siww/verify`,d,{headers:{client_id:o,wallet_provider:n,web3auth_network:a}});if(!f.success)throw Pve.default.error("Failed to authenticate user, ,message verification failed",f.error),new Error("Failed to authenticate user, ,message verification failed");return f.token}});var Ho=D(()=>{vve();Eve();xve();Cve();ZQ();Rve();Ove();tZ()});var iZ,f6,SM,p6,am,l4=D(()=>{iZ={EMBEDDED:"embedded",ALL:"all"},f6={MODAL:"modal",EMBED:"embed"},SM="Web3Auth-state",p6={MODAL:"modal",NO_MODAL:"no-modal"},am={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"}});import{normalize as Lht}from"@sentry/core";var z7,Mve=D(()=>{nt();Ye();z7=class t{constructor(e){V(this,"sentry",void 0),V(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){let r=e.findIndex(l=>l instanceof Error),n=e.findIndex(l=>typeof l=="string"),i=e.findIndex(l=>l&&typeof l=="object"&&"status"in l&&"type"in l),o=e.findIndex(l=>l&&typeof l=="object"&&"isAxiosError"in l&&l.isAxiosError===!0),a;if(i!==-1){var s;let l=e[i],u=(s=l.headers)===null||s===void 0?void 0:s.get("content-type");if(u.includes("application/json")){let d=await l.json();a=new Error(d?.error||d?.message||JSON.stringify(d))}else u.includes("text/plain")?a=new Error(await l.text()):a=new Error(`${l.status} ${l.type.toString()} ${l.statusText}`)}else if(o!==-1){let u=e[o].response;if(u){var c;let d=(c=u.headers)===null||c===void 0?void 0:c["content-type"];if(d.includes("application/json")){let f=u.data,p="error"in f?f.error:"message"in f?f.message:JSON.stringify(f);a=new Error(p)}else d.includes("text/plain")?a=new Error(u.data):a=new Error(`${u.status} ${u.data.toString()}`)}else a=new Error("Network error")}else r!==-1?a=e.splice(r,1)[0]:n!==-1?a=new Error(e.splice(n,1)[0]):a=new Error("Unknown error");return[a,e]}static translateArgs(e){let r=e.findIndex(i=>typeof i=="string"),n=r!==-1?e.splice(r,1)[0]:void 0;return n?{message:n,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){let r=e.methodFactory;e.methodFactory=(n,i,o)=>{o&&(this.category=o.toString());let a=r(n,i,o),s=typeof window<"u",c=(...l)=>{var u;let d=(u=this.sentry)===null||u===void 0?void 0:u.getActiveSpan(),{traceId:f,spanId:p}=d?.spanContext()||{},h=n==="error"&&l.length>=1&&l[0]instanceof Error;if(s){if(h){let A=l[0],C=f||p?`${A.message}: traceId: ${f} - spanId: ${p}`:A.message,M=[new Error(C,{cause:A}),...l.slice(1)];a&&a(...M);return}a&&a(...l)}else{let A={timestamp:new Date,level:n.toUpperCase(),logger:o};if((f||p)&&(A=q(q({},A),{},{traceId:f,spanId:p})),h){var b;let C=l[0];A=q(q({},A),{},{message:(b=C.message)!==null&&b!==void 0?b:"",stack:C.stack,extra:l.length>1?l.slice(1):void 0})}else{var _;A=q(q({},A),{},{message:(_=l[0])!==null&&_!==void 0?_:"",extra:l.length>1?l.slice(1):void 0})}a&&a(JSON.stringify(Lht(A)))}};switch(n){case"error":return async(...l)=>{let{stack:u}=l.find(p=>p instanceof Error)||new Error,[d,f]=await t.translateError(l);d.stack=u,this.error(d,...f),c(d,...f)};default:return(...l)=>{this.log(t.translateLevel(n),...l),c(...l)}}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){let r=this.sentry.getClient().getOptions();r&&(r.enabled=e)}}isEnabled(){if(this.sentry){var e;let r=this.sentry.getClient().getOptions();return(e=r?.enabled)!==null&&e!==void 0?e:!1}return!1}log(e,...r){this.sentry&&this.sentry.addBreadcrumb(q(q({},t.translateArgs(r)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...r){if(this.sentry){let n={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:r}};this.sentry.captureException(e,n)}}}});var Bve=D(()=>{Mve()});var Dve,Be,Uht,jd=D(()=>{Bve();Dve=ve(Or()),Be=Dve.default.getLogger("web3auth-logger"),Uht=new z7;Uht.install(Be)});import{AnalyticsBrowser as Fht}from"@segment/analytics-next";var Hht,G7,Ur,oZ,j7,u4=D(()=>{nt();Ye();jd();Hht="f6LbNqCeVRf512ggdME4b6CyflhF1tsX",G7=class{constructor(){V(this,"segment",void 0),V(this,"globalProperties",{}),V(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw new Error("Analytics already initialized");this.segment=new Fht,this.segment.load({writeKey:Hht},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>(Be.debug("Analytics initialized"),!0)).catch(e=>{Be.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=q(q({},this.globalProperties),e)}async identify(e,r){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,q({},r))}catch(n){Be.error(`Failed to identify user ${e} in analytics`,n)}}async track(e,r){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,q(q({},r),this.globalProperties))}catch(n){Be.error(`Failed to track event ${e}`,n)}}getSegment(){if(!this.segment)throw Be.error("Analytics not initialized. Call Analytics.init() first."),new Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){let e=window.location.origin;return!!(e.startsWith("http://")||e.includes("localhost"))}},Ur={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},oZ={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},j7={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"}});var ro,tt,Xe,sm,$d,ma=D(()=>{Ye();xY();ro=class extends dk{constructor(e,r,n){super(r),V(this,"code",void 0),V(this,"message",void 0),V(this,"cause",void 0),this.code=e,this.message=r||"",this.cause=n,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}},tt=class t extends ro{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,r="",n){return new t(e,`${t.messages[e]}, ${r}`,n)}static notFound(e="",r){return t.fromCode(5001,e,r)}static notInstalled(e="",r){return t.fromCode(5002,e,r)}static notReady(e="",r){return t.fromCode(5003,e,r)}static windowBlocked(e="",r){return t.fromCode(5004,e,r)}static windowClosed(e="",r){return t.fromCode(5005,e,r)}static incompatibleChainNameSpace(e="",r){return t.fromCode(5006,e,r)}static duplicateConnectorError(e="",r){return t.fromCode(5007,e,r)}static invalidProviderConfigError(e="",r){return t.fromCode(5008,e,r)}static providerNotReadyError(e="",r){return t.fromCode(5009,e,r)}static rpcConnectionError(e="",r){return t.fromCode(5010,e,r)}static invalidParams(e="",r){return t.fromCode(5011,e,r)}static invalidNetwork(e="",r){return t.fromCode(5013,e,r)}};V(tt,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});Xe=class t extends ro{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,r="",n){return new t(e,`${t.messages[e]}. ${r}`,n)}static connectionError(e="",r){return t.fromCode(5111,e,r)}static disconnectionError(e="",r){return t.fromCode(5112,e,r)}static notConnectedError(e="",r){return t.fromCode(5113,e,r)}static popupClosed(e="",r){return t.fromCode(5114,e,r)}static mfaEnabled(e="",r){return t.fromCode(5115,e,r)}static chainConfigNotAdded(e="",r){return t.fromCode(5116,e,r)}static unsupportedOperation(e="",r){return t.fromCode(5117,e,r)}static sfaKeyNotFound(e="",r){return t.fromCode(5118,e,r)}static userNotLoggedIn(e="",r){return t.fromCode(5119,e,r)}};V(Xe,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});sm=class t extends ro{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,r="",n){return new t(e,`${t.messages[e]}, ${r}`,n)}static chainIDNotAllowed(e="",r){return t.fromCode(5201,e,r)}static operationNotAllowed(e="",r){return t.fromCode(5202,e,r)}static chainNamespaceNotAllowed(e="",r){return t.fromCode(5203,e,r)}};V(sm,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});$d=class t extends ro{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,r="",n){return new sm(e,`${t.messages[e]}, ${r}`,n)}static invalidRequestArgs(e="",r){return sm.fromCode(5301,e,r)}static invalidRequestMethod(e="",r){return sm.fromCode(5302,e,r)}static invalidRequestParams(e="",r){return sm.fromCode(5303,e,r)}};V($d,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."})});function Nu(t,e,r){return e?e.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((n,i)=>{let o=()=>{r?.(),i(new DOMException("Aborted","AbortError"))};return e.addEventListener("abort",o),Promise.resolve().then(()=>t()).then(n,i).finally(()=>{e.removeEventListener("abort",o)})}):t()}var V7,Lve,K7,aZ,q7,W7,Y7,sZ,cZ,J7,h6,$7,Vd,og=D(()=>{Ho();t7();o7();l4();ma();_i();V7=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),Lve=(t=T2.SAPPHIRE_MAINNET)=>rY[t],K7=async({clientId:t,web3AuthNetwork:e,aaProvider:r,authBuildEnv:n})=>{let i=new URL(`${Lve(e)}/api/v2/configuration`);return i.searchParams.append("project_id",t),i.searchParams.append("network",e),n&&i.searchParams.append("build_env",n),r&&i.searchParams.append("aa_provider",r),await i7(i.href)},aZ=async t=>await i7(t||"https://assets.web3auth.io/v1/wallet-registry.json"),q7=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e};W7=()=>typeof window<"u"&&typeof document<"u",Y7=t=>{var e,r;return{whitelabel_app_name:t?.appName,whitelabel_app_url:t?.appUrl,whitelabel_logo_light_enabled:!!t?.logoLight,whitelabel_logo_dark_enabled:!!t?.logoDark,whitelabel_default_language:t?.defaultLanguage,whitelabel_theme_mode:t?.mode,whitelabel_use_logo_loader:t?.useLogoLoader,whitelabel_theme_primary:t==null||(e=t.theme)===null||e===void 0?void 0:e.primary,whitelabel_theme_on_primary:t==null||(r=t.theme)===null||r===void 0?void 0:r.onPrimary,whitelabel_tnc_link_enabled:!!t?.tncLink,whitelabel_privacy_policy_enabled:!!t?.privacyPolicy}},sZ=t=>{var e,r,n,i,o;let a=Array.from(new Set(t==null||(e=t.chains)===null||e===void 0?void 0:e.map(c=>{var l;return $7((l=c.bundlerConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean))),s=Array.from(new Set(t==null||(r=t.chains)===null||r===void 0?void 0:r.map(c=>{var l;return $7((l=c.paymasterConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean)));return{aa_smart_account_type:t?.smartAccountType,aa_chain_ids:t==null||(n=t.chains)===null||n===void 0?void 0:n.map(c=>Vd({chainId:c.chainId,chainNamespace:pt.EIP155})),aa_bundler_urls:a,aa_paymaster_urls:s,aa_paymaster_enabled:s.length>0,aa_paymaster_context_enabled:t==null||(i=t.chains)===null||i===void 0?void 0:i.some(c=>{var l;return(l=c.bundlerConfig)===null||l===void 0?void 0:l.paymasterContext}),aa_erc20_paymaster_enabled:t==null||(o=t.chains)===null||o===void 0?void 0:o.some(c=>{var l;return(l=c.bundlerConfig)===null||l===void 0||(l=l.paymasterContext)===null||l===void 0?void 0:l.token})}},cZ=t=>{var e,r,n,i,o,a,s,c,l,u,d;return{ws_confirmation_strategy:t?.confirmationStrategy,ws_enable_key_export:t?.enableKeyExport,ws_show_widget_button:t==null||(e=t.whiteLabel)===null||e===void 0?void 0:e.showWidgetButton,ws_button_position:t==null||(r=t.whiteLabel)===null||r===void 0?void 0:r.buttonPosition,ws_hide_nft_display:t==null||(n=t.whiteLabel)===null||n===void 0?void 0:n.hideNftDisplay,ws_hide_token_display:t==null||(i=t.whiteLabel)===null||i===void 0?void 0:i.hideTokenDisplay,ws_hide_transfers:t==null||(o=t.whiteLabel)===null||o===void 0?void 0:o.hideTransfers,ws_hide_topup:t==null||(a=t.whiteLabel)===null||a===void 0?void 0:a.hideTopup,ws_hide_receive:t==null||(s=t.whiteLabel)===null||s===void 0?void 0:s.hideReceive,ws_hide_swap:t==null||(c=t.whiteLabel)===null||c===void 0?void 0:c.hideSwap,ws_hide_show_all_tokens:t==null||(l=t.whiteLabel)===null||l===void 0?void 0:l.hideShowAllTokens,ws_hide_wallet_connect:t==null||(u=t.whiteLabel)===null||u===void 0?void 0:u.hideWalletConnect,ws_default_portfolio:t==null||(d=t.whiteLabel)===null||d===void 0?void 0:d.defaultPortfolio}},J7="10.2.0",h6=t=>{try{let e=t instanceof ro?t.code:t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},$7=t=>{try{return new URL(t).hostname}catch{return""}},Vd=t=>t.chainNamespace===pt.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===pt.SOLANA?`${t.chainNamespace}:${am[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`});var Fve=de((Pyr,Uve)=>{Uve.exports=zht;function zht(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}});var Hve,zve,IM,lZ=D(()=>{Hve=ve(Fve()),zve=(0,Hve.default)(),IM=(function(t){return t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.CONNECT="connect",t.DISCONNECT="disconnect",t.MESSAGE="message",t})({})});var xc,ag=D(()=>{nt();Ye();Ho();_i();lZ();ma();xc=class extends F7{constructor({config:e,state:r}){super({config:e,state:r}),V(this,"_providerEngineProxy",null),V(this,"keyExportFlagSetByCode",!1);let{chain:n}=e;if(!n)throw tt.invalidProviderConfigError("Please provide chain");if(!n.chainId)throw tt.invalidProviderConfigError("Please provide chainId inside chain");if(!n.rpcTarget)throw tt.invalidProviderConfigError("Please provide rpcTarget inside chain");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var r;if(!e||typeof e!="object"||Array.isArray(e))throw Lr.invalidRequest({message:$d.invalidRequestArgs().message,data:q(q({},e||{}),{},{cause:$d.invalidRequestArgs().message})});let{method:n,params:i}=e;if(typeof n!="string"||n.length===0)throw Lr.invalidRequest({message:$d.invalidRequestMethod().message,data:q(q({},e||{}),{},{cause:$d.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw Lr.invalidRequest({message:$d.invalidRequestParams().message,data:q(q({},e||{}),{},{cause:$d.invalidRequestParams().message})});return(r=this.provider)===null||r===void 0?void 0:r.request(e)}sendAsync(e,r){return r?this.send(e,r):this.request(e)}send(e,r){this.request(e).then(n=>r(null,{result:n})).catch(n=>r(n,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);let r=n=>{n!=="newListener"&&e.on(n,(...i)=>{if(n===IM.CHAIN_CHANGED){let o=i[0];this.update({chainId:o})}this.emit(n,...i)})};this.eventNames().forEach(n=>{r(n)}),this.on("newListener",n=>{this.listenerCount(n)>0||r(n)})}else this._providerEngineProxy=$Q(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(r=>r.chainId===e)}}});function Ght(t){return(e,r,n,i)=>e.method==="chainId"?(r.result=t,i()):n()}function jht(t){return(e,r,n,i)=>e.method==="provider_config"?(r.result=t,i()):n()}function Gve(t){let{chainId:e,rpcTarget:r}=t,n=tg({rpcTarget:r});return{networkMiddleware:Su([Ght(e),jht(t),n]),fetchMiddleware:n}}var jve=D(()=>{Ho();_i()});var $ve,cm,uZ=D(()=>{Ye();_i();ag();jve();cm=class extends xc{constructor({config:e,state:r}){super({config:e,state:r})}async setupProvider(e){let r=this.getChain(e);if(!r)throw Fo.custom({message:"Chain not found",code:4902});let{networkMiddleware:n}=Gve(r),i=new zs;i.push(n);let o=wl(i);this.updateProviderEngineProxy(o),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw Fo.custom({message:"Provider is not initialized",code:4902});let r=e.chainId;this.chainId!==r&&(this.update({chainId:"loading"}),await this.setupProvider(r))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}};$ve=cm;V(cm,"getProviderInstance",async t=>{let e=new $ve({config:{chain:t.chain,chains:t.chains}}),{chainId:r}=t.chain;return await e.setupProvider(r),e})});function Vve(t){return new Promise((e,r)=>{try{let n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){r(n)}})}async function RM(t){let{document:e}=t,r=e.querySelector('head > link[rel="shortcut icon"]');return r&&await Vve(r.href)||(r=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(n=>!!n.href)||null,r&&await Vve(r.href))?r.href:null}function Kve(t){let[e,r]=t.split(".");return{header:JSON.parse(_2(e)),payload:JSON.parse(_2(r))}}var CM,PM=D(()=>{_i();CM=t=>{let{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname}});var Zo,m6=D(()=>{Zo={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",MULTICHAIN:"multichain"}});var Q7,qve,d4,it,Z7,lm=D(()=>{nt();Q7={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},qve=q({},Q7),d4=q({COINBASE:"coinbase"},Q7),it=q(q({},d4),qve),Z7={[Q7.AUTH]:"Auth",[Q7.WALLET_CONNECT_V2]:"Wallet Connect v2",[d4.COINBASE]:"Coinbase Smart Wallet",[d4.METAMASK]:"MetaMask"}});var Oe,ot,ba,ku=D(()=>{nt();Oe={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored"},ot=q(q({},Oe),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),ba={EXTERNAL:"external",IN_APP:"in_app"}});var E1,X7=D(()=>{Ye();_i();m6();ma();lm();ku();Ho();E1=class extends gc{constructor(e){super(),V(this,"connectorData",{}),V(this,"isInjected",void 0),V(this,"icon",void 0),V(this,"coreOptions",void 0),V(this,"rehydrated",!1),V(this,"connectorNamespace",void 0),V(this,"type",void 0),V(this,"name",void 0),V(this,"status",void 0),this.coreOptions=e.coreOptions}get connnected(){return this.status===Oe.CONNECTED}checkConnectionRequirements(){if(!(this.name===it.WALLET_CONNECT_V2&&this.status===Oe.CONNECTING)&&!(this.name===it.METAMASK&&!this.isInjected&&this.status===Oe.CONNECTING)){if(this.status===Oe.CONNECTING)throw tt.notReady("Already connecting");if(this.status===Oe.CONNECTED)throw Xe.connectionError("Already connected");if(this.status!==Oe.READY)throw Xe.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw tt.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw tt.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==pt.OTHER)throw tt.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==pt.OTHER)throw tt.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==Zo.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw tt.invalidParams("Connector doesn't support this chain namespace");if(this.status!==Oe.NOT_READY){if(this.status===Oe.CONNECTED)throw tt.notReady("Already connected");if(this.status===Oe.READY)throw tt.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(this.status!==Oe.CONNECTED)throw Xe.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,r=!1){if(!r&&!this.provider)throw Xe.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw tt.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(i=>i.chainId===e.chainId&&(i.chainNamespace===this.connectorNamespace||this.connectorNamespace===Zo.MULTICHAIN)))throw tt.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(ot.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}});var zn,OM,Li,NM=D(()=>{zn={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},OM={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},Li={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"}});var Wve,kM,Yve=D(()=>{Wve=ve(Or()),kM=Wve.default.getLogger("auth");kM.setLevel("error")});var e_,Jve=D(()=>{e_={light:"light",dark:"dark",auto:"auto"}});function MM(){}var Xve,Qve,dZ,Zve,f4,e9e=D(()=>{Ye();Xve=ve(y1());Qve="SYN",dZ="ACK",Zve="BRK",f4=class extends Xve.Duplex{constructor({name:e,target:r,targetWindow:n=window,targetOrigin:i="*"}){if(super({objectMode:!0}),V(this,"_init",void 0),V(this,"_haveSyn",void 0),V(this,"_name",void 0),V(this,"_target",void 0),V(this,"_targetWindow",void 0),V(this,"_targetOrigin",void 0),V(this,"_onMessage",void 0),V(this,"_synIntervalId",void 0),!e||!r)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=e,this._target=r,this._targetWindow=n,this._targetOrigin=i,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(Zve,null,MM),this._haveSyn=!1,this._init=!1}_handShake(){this._write(Qve,null,MM),this.cork()}_onData(e){if(!this._init)e===Qve?(this._haveSyn=!0,this._write(dZ,null,MM)):e===dZ&&(this._init=!0,this._haveSyn||this._write(dZ,null,MM),this.uncork());else if(e===Zve)this._break();else try{this.push(e)}catch(r){this.emit("error",r)}}_postMessage(e){let r=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},r)}onMessage(e){let r=e.data;this._targetOrigin!=="*"&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||typeof r!="object"||r.target!==this._name||!r.data||this._onData(r.data)}_read(){}_write(e,r,n){this._postMessage(e),n()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}});function t9e(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function $ht(t){let e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}var r9e,Kd,BM=D(()=>{r9e=ve(Da());Kd=class extends r9e.EventEmitter{emit(e,...r){let n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;let s=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw s.context=a,s}let o=i[e];if(o===void 0)return!1;if(typeof o=="function")t9e(o,this,r);else{let a=o.length,s=$ht(o);for(let c=0;c<a;c+=1)t9e(s[c],this,r)}return!0}}});var n9e,um,i9e=D(()=>{Ye();n9e=ve(p2()),um=class extends Error{constructor({code:e,message:r,data:n}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),V(this,"code",void 0),V(this,"data",void 0),this.code=e,n!==void 0&&(this.data=n)}toString(){return(0,n9e.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}});var o9e,DM,a9e=D(()=>{Ye();o9e=ve(y1()),DM=class extends o9e.Duplex{constructor({parent:e,name:r}){super({objectMode:!0}),V(this,"_parent",void 0),V(this,"_name",void 0),this._parent=e,this._name=r}_read(){}_write(e,r,n){this._parent.push({name:this._name,data:e}),n()}}});var Ac,fZ,pZ=D(()=>{Ac={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},fZ={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});function d9e(t){return Number.isInteger(t)}function c9e(t){return typeof t=="string"&&t.length>0}function LM(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function f9e(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function qht(t){return t>=-32099&&t<=-32e3}function p9e(t){let e=t;return!(!e||!d9e(e.code)||!c9e(e.message)||e.stack&&!c9e(e.stack))}function t_(t,e=Vht){if(d9e(t)){let r=t.toString();if(u9e(fZ,r))return fZ[r].message;if(qht(t))return Kht}return e}function hZ(t){try{JSON.parse(JSON.stringify(t,(e,r)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof r=="function"||typeof r=="symbol")throw new Error("Not valid json");return r}),(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r})}catch{return!1}return!0}function l9e(t){return Object.getOwnPropertyNames(t).reduce((e,r)=>{let n=t[r];return hZ(n)&&(e[r]=n),e},{})}function mZ(t){return Array.isArray(t)?t.map(e=>hZ(e)?e:LM(e)?l9e(e):null):LM(t)?l9e(t):hZ(t)?t:null}function Yht(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(p9e(t))return t;let r=mZ(t);return q(q({},e),{},{data:{cause:r}})}function bZ(t,{fallbackError:e=Wht,shouldIncludeStack:r=!0}={}){if(!p9e(e))throw new Error("Must provide fallback error with integer number code and string message.");let n=Yht(t,e);return r||delete n.stack,n}function h9e(t){return LM(t)&&u9e(t,"cause")&&LM(t.cause)}var u9e,s9e,Vht,Kht,Wht,UM=D(()=>{nt();pZ();u9e=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)},s9e=Ac.rpc.internal,Vht="Unspecified error message. This is a bug, please report it.",Kht="Unspecified server error.";Wht={code:s9e,message:t_(s9e)}});function Qht(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Zht(t,e){if(e!=="[Circular]")return e}var m9e,Jht,p4,x1,yZ=D(()=>{Ye();m9e=ve(p2());UM();Jht=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};p4=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');h9e(n)?(super(r,{cause:n.cause}),V(this,"cause",void 0),V(this,"code",void 0),V(this,"data",void 0),Jht(this,"cause")||Object.assign(this,{cause:n.cause})):(super(r),V(this,"cause",void 0),V(this,"code",void 0),V(this,"data",void 0)),n!==void 0&&(this.data=n),this.code=e,this.cause=n?.cause}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,f9e(this.data)&&(e.data.cause=mZ(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,m9e.default)(this.serialize(),{replacer:Zht,space:2})}},x1=class extends p4{constructor(e,r,n){if(!Qht(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}});function Xht(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,r]}}return[]}function Mu(t,e){let[r,n]=Xht(e);return new p4(t,r??t_(t),n)}var sg,b9e=D(()=>{yZ();pZ();UM();sg={parse:t=>Mu(Ac.rpc.parse,t),invalidRequest:t=>Mu(Ac.rpc.invalidRequest,t),invalidParams:t=>Mu(Ac.rpc.invalidParams,t),methodNotFound:t=>Mu(Ac.rpc.methodNotFound,t),internal:t=>Mu(Ac.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Mu(e,t)},invalidInput:t=>Mu(Ac.rpc.invalidInput,t),resourceNotFound:t=>Mu(Ac.rpc.resourceNotFound,t),resourceUnavailable:t=>Mu(Ac.rpc.resourceUnavailable,t),transactionRejected:t=>Mu(Ac.rpc.transactionRejected,t),methodNotSupported:t=>Mu(Ac.rpc.methodNotSupported,t),limitExceeded:t=>Mu(Ac.rpc.limitExceeded,t)}});function gZ(){let t={};function e(){return!1}let r=new Kd;function n(c){let l=t[c.id];if(!l)throw new Error(`StreamMiddleware - Unknown response id "${c.id}"`);delete t[c.id],Object.assign(l.res,c),setTimeout(l.end)}function i(c){r.emit("notification",c)}function o(c,l,u){let d;try{!c.id?i(c):n(c)}catch(f){d=f}u(d)}let a=new y9e.Duplex({objectMode:!0,read:e,write:o});return{events:r,middleware:(c,l,u,d)=>{a.push(c),t[c.id]={req:c,res:l,next:u,end:d}},stream:a}}function wZ(){return(t,e,r,n)=>{let i=t.id,o=Math.random().toString(36).slice(2);t.id=o,e.id=o,r(a=>{t.id=i,e.id=i,a()})}}var y9e,h4,g9e=D(()=>{y9e=ve(y1());BM();h4=(t,e,r=!0)=>(n,i)=>{n||i.error?e(n||i.error):!r||Array.isArray(i)?t(i):t(i.result)}});function w9e(t){let{message:e="",code:r=-32603,stack:n="Stack trace is not available.",data:i=""}=t,o=parseInt(r?.toString()||"-32603");return{message:e||t?.toString()||t_(o),code:o,stack:n,data:i||e||t?.toString()}}var e5t,r_,v9e=D(()=>{nt();Ye();e5t=ve(y1());Yve();UM();BM();i9e();r_=class t extends Kd{constructor(){super(),V(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,r,n){let i=[],o=null,a=!1;for(let s of n)if([o,a]=await t._runMiddleware(e,r,s,i),a)break;return[o,a,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{let a=c=>{let l=c||r.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),kM.error(l),r.error=bZ(l,{shouldIncludeStack:!0,fallbackError:w9e(l)})),o([l,!0])},s=c=>{r.error?a(r.error):(c&&(typeof c!="function"&&a(new um({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),o([null,!1]))};try{n(e,r,s,a)}catch(c){a(c)}})}static async _runReturnHandlers(e){for(let r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new um({code:-32603,message:"Response has no error or result for request"});if(!n)throw new um({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{let[o,a,s]=await t._runAllMiddleware(e,r,this._middleware);return a?(await t._runReturnHandlers(s),i(o)):n(async c=>{try{await t._runReturnHandlers(s)}catch(l){return c(l)}return c()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{let n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise((r,n)=>{this._handle(e,(i,o)=>{i&&o===void 0?n(i):r(o)}).catch(n)})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){let a=new um({code:-32603,message:"request must be plain object"});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof e.method!="string"){let a=new um({code:-32603,message:"method must be string"});return r(a,{id:e.id,jsonrpc:"2.0",error:a})}let n=q({},e),i={id:n.id,jsonrpc:n.jsonrpc},o=null;try{await this._processRequest(n,i)}catch(a){o=a}return o&&(delete i.result,i.error||(typeof o=="object"&&Object.keys(o).includes("stack")===!1&&(o.stack="Stack trace is not available."),kM.error(o),i.error=bZ(o,{shouldIncludeStack:!0,fallbackError:w9e(o)}))),r(o,i)}async _processRequest(e,r){let[n,i,o]=await t._runAllMiddleware(e,r,this._middleware);if(t._checkForCompletion(e,r,i),await t._runReturnHandlers(o),n)throw n}}});function r5t(t,e){let r=(0,E9e.default)(e);(0,vZ.default)(t,{readable:!1},r),(0,vZ.default)(t,{writable:!1},r)}var vZ,E9e,t5t,x9e,EZ,n_,A9e=D(()=>{nt();Ye();vZ=ve(uQ()),E9e=ve(eM()),t5t=ve(dQ()),x9e=ve(y1());a9e();EZ=Symbol("IGNORE_SUBSTREAM"),n_=class extends x9e.Duplex{constructor(e={}){super(q(q({},e),{},{objectMode:!0})),V(this,"_substreams",void 0),V(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);let r=new DM({parent:this,name:e});return this._substreams[e]=r,r5t(this,n=>r.destroy(n||void 0)),r}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=EZ}_read(){}_write(e,r,n){let{name:i,data:o}=e;if(!i)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();let a=this._substreams[i];return a?(a!==EZ&&a.push(o),n()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n())}}});var cg=D(()=>{Jp();e9e();BM();yZ();b9e();g9e();v9e();A9e();Jve()});var xZ,AZ,TZ,_Z,dm,U0,i_,o_,T9e=D(()=>{xZ={height:660,width:375},AZ={height:700,width:1200},TZ={height:700,width:450},_Z="setup_complete",dm={IFRAME_STATUS:"iframe_status",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out",TOGGLE_WIDGET_BUTTON:"toggle_widget_button",ALLOW_WALLET_SERVICE:"allow_wallet_service"},U0={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",CLOSED_WINDOW:"closed_window",WINDOW_BLOCKED:"window_blocked",GET_PROVIDER_STATE:"get_provider_state",LOGIN_WITH_PRIVATE_KEY:"login_with_private_key",SHOW_WALLET_CONNECT:"show_wallet_connect",SHOW_CHECKOUT:"show_checkout",SHOW_WALLET_UI:"show_wallet_ui",SHOW_SWAP:"show_swap",LOGIN_WITH_SESSION_ID:"login_with_session_id"},i_={GET_PROVIDER_STATE:"wallet_get_provider_state",WALLET_SWITCH_CHAIN:"wallet_switchChain"},o_={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"}});var qd,_9e=D(()=>{qd={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"}});function m4({width:t,height:e}){let r=window.screenLeft!==void 0?window.screenLeft:window.screenX,n=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=1,s=Math.abs((i-t)/2/a+r),c=Math.abs((o-e)/2/a+n);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${e/a},width=${t/a},top=${c},left=${s}`}var a_,S9e=D(()=>{L0();om();a_=()=>Math.random().toString(36).slice(2)});function IZ(t){return function(r,n,i){i(o=>{n.error&&SZ.default.warn(`Error in RPC response:
`,n),!r.isTorusInternal&&(SZ.default.info(`RPC (${t.origin}):`,r,"->",n),o())})}}var SZ,I9e=D(()=>{SZ=ve(Or())});var lg=D(()=>{_9e();T9e();I9e();S9e()});function C9e(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function n5t(t){return C9e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}function i5t(t){return C9e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object"}function R9e(t){return n5t(t)&&i5t(t)}var P9e=D(()=>{});var js,FM=D(()=>{js={errors:{disconnected:()=>"Web3Auth: Lost connection to Web3Auth.",permanentlyDisconnected:()=>"Web3Auth: Disconnected from iframe. Page reload required.",unsupportedSync:t=>`Web3Auth: The Web3Auth Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:t=>`Invalid options. Received: { maxEventListeners: ${t}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`Web3Auth: Connected to chain with ID "${t}".`}}});var O9e,un,s_=D(()=>{O9e=ve(Or()),un=O9e.default.getLogger("ws-embed")});function N9e(){return(t,e,r)=>{(typeof t.method!="string"||!t.method)&&(e.error=sg.invalidRequest({message:"The request 'method' must be a non-empty string.",data:q(q({},t||{}),{},{cause:"The request 'method' must be a non-empty string."})})),r(n=>{let{error:i}=e;return i&&un.error(`Ws-Embed - RPC Error: ${i.message}`,i),n()})}}function k9e(t,e,r){let n=`Web3Auth: Lost connection to "${t}".`;e!=null&&e.stack&&(n+=`
${e.stack}`),un.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}var M9e,CZ=D(()=>{nt();cg();s_();M9e=["eth_subscription"]});var RZ,b4,PZ=D(()=>{nt();Ye();lg();cg();RZ=ve(dQ());P9e();FM();CZ();b4=class extends Kd{constructor(e,{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}){if(super(),V(this,"rpcEngine",void 0),V(this,"jsonRpcConnectionEvents",void 0),V(this,"isWeb3Auth",void 0),V(this,"state",void 0),!R9e(e))throw new Error(js.errors.invalidDuplexStream());this.isWeb3Auth=!0,this.setMaxListeners(r),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleStreamDisconnect=this.handleStreamDisconnect.bind(this),this.rpcRequest=this.rpcRequest.bind(this),this.initializeState=this.initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this),this.send=this.send.bind(this);let i=new n_;(0,RZ.default)(e,i,e,this.handleStreamDisconnect.bind(this,"Web3Auth")),i.ignoreStream("phishing");let o=gZ();(0,RZ.default)(o.stream,i.createStream(n),o.stream,this.handleStreamDisconnect.bind(this,"Web3Auth RpcProvider"));let a=new r_;a.push(wZ()),a.push(N9e()),a.push(IZ({origin:location.origin})),a.push(o.middleware),this.rpcEngine=a,this.jsonRpcConnectionEvents=o.events}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw sg.invalidRequest({message:js.errors.invalidRequestArgs(),data:q(q({},e||{}),{},{cause:js.errors.invalidRequestArgs()})});let{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw sg.invalidRequest({message:js.errors.invalidRequestMethod(),data:q(q({},e||{}),{},{cause:js.errors.invalidRequestArgs()})});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw sg.invalidRequest({message:js.errors.invalidRequestParams(),data:q(q({},e||{}),{},{cause:js.errors.invalidRequestArgs()})});return new Promise((i,o)=>{this.rpcRequest({method:r,params:n},h4(i,o))})}send(e,r){this.rpcRequest(e,r)}sendAsync(e){return new Promise((r,n)=>{this.rpcRequest(e,h4(r,n))})}handleStreamDisconnect(e,r){k9e(e,r,this),this.handleDisconnect(!1,r?r.message:void 0)}}});var fm,b6,HM=D(()=>{fm={PRODUCTION:"production",STAGING:"staging",DEVELOPMENT:"development",TESTING:"testing"},b6={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"}});var zM,B9e=D(()=>{Ye();lg();cg();zM=class extends Kd{constructor({url:e,target:r,features:n,timeout:i=3e4}){super(),V(this,"url",void 0),V(this,"target",void 0),V(this,"features",void 0),V(this,"window",void 0),V(this,"windowTimer",void 0),V(this,"iClosedWindow",void 0),V(this,"timeout",void 0),this.url=e,this.target=r||"_blank",this.features=n||m4(AZ),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;this.window=window.open(this.url.href,this.target,this.features),(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}});var c_,D9e=D(()=>{nt();Ye();lg();cg();PZ();HM();s_();FM();B9e();c_=class t extends b4{constructor(e,{maxEventListeners:r=100,jsonRpcStreamName:n="provider"},i){super(e,{maxEventListeners:r,jsonRpcStreamName:n}),V(this,"tryWindowHandle",void 0),V(this,"windowRefs",void 0),V(this,"iframeUrl",void 0),V(this,"iframeId",void 0),this.state=q(q({},t.defaultState),i),this.iframeUrl="",this.iframeId="",this.windowRefs=new Map,this.on("connect",()=>{this.state.isConnected=!0});let o=a=>{let{method:s,params:c}=a;if(s===dm.IFRAME_STATUS){let{isFullScreen:l,rid:u}=c;this.displayIframe({isFull:l,rid:u},!0)}else if(s===dm.CLOSE_WINDOW)this.handleCloseWindow(c);else if(s===dm.USER_LOGGED_IN){let{currentAuthConnection:l}=c;this.state.isLoggedIn=!0,this.state.currentAuthConnection=l}else if(s===dm.USER_LOGGED_OUT)this.state.isLoggedIn=!1,this.state.currentAuthConnection=null,this.displayIframe({isFull:!1},!0);else if(s===dm.TOGGLE_WIDGET_BUTTON){let{show:l}=c;this.state.widgetVisibility=l,this.displayIframe()}else if(s===dm.ALLOW_WALLET_SERVICE){let{allow:l}=c;this.state.allowWalletService=l}};this.jsonRpcConnectionEvents.on("notification",o)}get isLoggedIn(){return this.state.isLoggedIn}get isIFrameFullScreen(){return this.state.isIFrameFullScreen}get allowWalletService(){return this.state.allowWalletService}isConnected(){return this.state.isConnected}async initializeState(e){try{let{torusUrl:r,torusIframeId:n}=e;this.iframeUrl=r,this.iframeId=n;let{currentAuthConnection:i,isLoggedIn:o}=await this.request({method:U0.GET_PROVIDER_STATE,params:[]});o&&this.handleConnect(i,o)}catch(r){un.error("Web3Auth: Failed to get initial state. Please report this bug.",r)}finally{un.info("initialized communication state"),this.state.initialized=!0}}displayIframe({isFull:e=!1,rid:r=""}={},n=!1){let i={};if(e)i.display="block",i.width="100%",i.height="100%",i.top="0px",i.right="0px",i.left="0px",i.bottom="0px";else switch(i.display=this.state.widgetVisibility?"block":"none",i.height=this.state.widgetVisibility?"70px":"0px",i.width=this.state.widgetVisibility?"70px":"0px",this.state.buttonPosition){case b6.TOP_LEFT:i.top="0px",i.left="0px",i.right="auto",i.bottom="auto";break;case b6.TOP_RIGHT:i.top="0px",i.right="0px",i.left="auto",i.bottom="auto";break;case b6.BOTTOM_RIGHT:i.bottom="0px",i.right="0px",i.top="auto",i.left="auto";break;case b6.BOTTOM_LEFT:default:i.bottom="0px",i.left="0px",i.top="auto",i.right="auto";break}let o=document.getElementById(this.iframeId);Object.assign(o.style,i),this.state.isIFrameFullScreen=e,n||this.request({method:U0.IFRAME_STATUS,params:{isIFrameFullScreen:e,rid:r}})}async handleWindow(e,{url:r,target:n,features:i,timeout:o}={}){let a=new URL(r||`${this.iframeUrl}/redirect?windowId=${e}&sessionNamespace=${window.location.hostname}`),s=new zM({url:a,target:n,features:i,timeout:o});if(s.open(),!s.window){this.displayIframe({isFull:!0}),this.request({method:U0.WINDOW_BLOCKED,params:{windowId:e,finalUrl:a.href}});return}this.windowRefs.set(e,s),s.once("close",()=>{this.windowRefs.delete(e),this.request({method:U0.CLOSED_WINDOW,params:{windowId:e}})})}rpcRequest(e,r){let n=r,i=e;Array.isArray(i)||i.jsonrpc||(i.jsonrpc="2.0"),this.rpcEngine.handle(i,n)}handleConnect(e,r){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{currentAuthConnection:e,isLoggedIn:r}),un.debug(js.info.connected(e)))}handleDisconnect(e,r){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!e){this.state.isConnected=!1;let n;e?(n=new x1(1013,r||js.errors.disconnected()),un.debug(n)):(n=new x1(1011,r||js.errors.permanentlyDisconnected()),un.error(n),this.state.currentAuthConnection=null,this.state.isLoggedIn=!1,this.state.widgetVisibility=!1,this.state.isIFrameFullScreen=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}handleCloseWindow(e){let{windowId:r}=e;this.windowRefs.has(r)&&(this.windowRefs.get(r).close(),this.windowRefs.delete(r))}};V(c_,"defaultState",{buttonPosition:"bottom-left",currentAuthConnection:null,isIFrameFullScreen:!1,widgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1,hasEmittedConnection:!1,allowWalletService:!1})});var L9e,U9e=D(()=>{L9e=t=>{let e=window.document.createElement("template"),r=t.trim();return e.innerHTML=r,e.content.firstChild}});var H9e=de((W8r,F9e)=>{"use strict";F9e.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}});var z9e,ug,OZ=D(()=>{nt();Ye();lg();cg();z9e=ve(H9e());PZ();NM();s_();FM();CZ();ug=class t extends b4{constructor(e,{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}){super(e,{maxEventListeners:r,jsonRpcStreamName:n}),V(this,"chainId",void 0),V(this,"selectedAddress",void 0),V(this,"tryWindowHandle",void 0),this.state=q({},t.defaultState),this.selectedAddress=null,this.chainId=null,this.handleAccountsChanged=this.handleAccountsChanged.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleUnlockStateChanged=this.handleUnlockStateChanged.bind(this),this.on("connect",()=>{this.state.isConnected=!0});let i=o=>{let{method:a,params:s}=o;a===o_.ACCOUNTS_CHANGED?this.handleAccountsChanged(s):a===o_.UNLOCK_STATE_CHANGED?this.handleUnlockStateChanged(s):a===o_.CHAIN_CHANGED?this.handleChainChanged(s):M9e.includes(a)&&(this.emit("data",o),this.emit("notification",s.result),this.emit("message",{type:a,data:s}))};this.jsonRpcConnectionEvents.on("notification",i)}isConnected(){return this.state.isConnected}async initializeState(){try{let{accounts:e,chainId:r,isUnlocked:n}=await this.request({method:i_.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:r}),this.handleChainChanged({chainId:r}),this.handleUnlockStateChanged({accounts:e,isUnlocked:n}),this.handleAccountsChanged(e)}catch(e){un.error("WsEmbed: Failed to get initial state. Please report this bug.",e)}finally{un.info("initialized provider state"),this.state.initialized=!0}}rpcRequest(e,r,n=!1){let i=r,o=e;if(!Array.isArray(o)){if(o.jsonrpc||(o.jsonrpc="2.0"),[Li.GET_ACCOUNTS,Li.ETH_REQUEST_ACCOUNTS,zn.SOLANA_REQUEST_ACCOUNTS,zn.GET_ACCOUNTS].includes(o.method))i=(a,s)=>{this.handleAccountsChanged(s.result||[],o.method==="eth_accounts",n),r(a,s)};else if(o.method==="wallet_getProviderState"){this.rpcEngine.handle(e,i);return}}this.tryWindowHandle(o,i)}handleConnect(e){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{chainId:e}),un.debug(js.info.connected(e)))}handleDisconnect(e,r){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!e){this.state.isConnected=!1;let n;e?(n=new x1(1013,r||js.errors.disconnected()),un.debug(n)):(n=new x1(1011,r||js.errors.permanentlyDisconnected()),un.error(n),this.chainId=null,this.state.accounts=null,this.selectedAddress=null,this.state.isUnlocked=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}handleAccountsChanged(e,r=!1,n=!1){let i=e;Array.isArray(i)||(un.error("WsEmbed: Received non-array accounts parameter. Please report this bug.",i),i=[]);for(let o of e)if(typeof o!="string"){un.error("WsEmbed: Received non-string account. Please report this bug.",e),i=[];break}(0,z9e.default)(this.state.accounts,i)||(r&&Array.isArray(this.state.accounts)&&this.state.accounts.length>0&&!n&&un.error('WsEmbed: "eth_accounts" unexpectedly updated accounts. Please report this bug.',i),this.state.accounts=i,this.emit("accountsChanged",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}handleChainChanged({chainId:e}={}){if(!e){un.error("WsEmbed: Received invalid network parameters. Please report this bug.",{chainId:e});return}e==="loading"?this.handleDisconnect(!0):(this.handleConnect(e),e!==this.chainId&&(this.chainId=e,this.state.initialized&&this.emit("chainChanged",this.chainId)))}handleUnlockStateChanged({accounts:e,isUnlocked:r}={}){if(typeof r!="boolean"){un.error("WsEmbed: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:r});return}r!==this.state.isUnlocked&&(this.state.isUnlocked=r,this.handleAccountsChanged(e||[]))}};V(ug,"defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1})});function G9e(t){return new Promise((e,r)=>{try{let n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){r(n)}})}async function a5t(t){try{let{document:e}=t,r=e.querySelector('head > link[rel="shortcut icon"]');return r&&await G9e(r.href)||(r=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(n=>!!n.href),r&&await G9e(r.href))?r.href:""}catch{return""}}var o5t,j9e,$9e=D(()=>{o5t=t=>{let{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname};j9e=async()=>({name:o5t(window),icon:await a5t(window)})});var s5t,V9e,NZ,c5t,GM,K9e=D(()=>{nt();Ye();lg();cg();D9e();NM();U9e();OZ();HM();s_();$9e();s5t="5.0.22",V9e=`v${s5t.split(".")[0]}`,NZ={[fm.TESTING]:{url:"https://develop-wallet.web3auth.io",logLevel:"debug"},[fm.DEVELOPMENT]:{url:"http://localhost:4050",logLevel:"debug"},[fm.STAGING]:{url:`https://staging-wallet.web3auth.io/${V9e}`,logLevel:"debug"},[fm.PRODUCTION]:{url:`https://wallet.web3auth.io/${V9e}`,logLevel:"error"}};(async function(){try{if(typeof document>"u")return;let e=document.createElement("link"),{url:r}=NZ.production;e.href=`${r}/frame`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){un.warn(e)}})();U0.SET_PROVIDER;c5t=new Set([zn.SEND_TRANSACTION,zn.SIGN_MESSAGE,zn.SIGN_TRANSACTION,zn.SIGN_ALL_TRANSACTIONS,Li.ETH_SIGN,Li.ETH_SIGN_TYPED_DATA_V4,Li.PERSONAL_SIGN,Li.ETH_TRANSACTION,Li.ADD_CHAIN,Li.SWITCH_CHAIN,i_.WALLET_SWITCH_CHAIN]),GM=class{constructor({modalZIndex:e=99999,web3AuthClientId:r,web3AuthNetwork:n}){V(this,"isInitialized",void 0),V(this,"modalZIndex",void 0),V(this,"provider",void 0),V(this,"communicationProvider",void 0),V(this,"buttonPosition",void 0),V(this,"web3AuthClientId",void 0),V(this,"web3AuthNetwork",void 0),V(this,"isPluginMode",void 0),V(this,"confirmationStrategy",void 0),V(this,"buildEnv",void 0),V(this,"embedNonce",a_()),this.isInitialized=!1,this.modalZIndex=e,this.web3AuthClientId=r,this.web3AuthNetwork=n}get isLoggedIn(){var e;return((e=this.communicationProvider)===null||e===void 0?void 0:e.isLoggedIn)||!1}get getBuildEnv(){return this.buildEnv}async init({buildEnv:e=fm.PRODUCTION,enableLogging:r=!1,chains:n,chainId:i,walletUrls:o,whiteLabel:a,confirmationStrategy:s=qd.DEFAULT,accountAbstractionConfig:c,enableKeyExport:l=!1}){if(this.isInitialized)throw new Error("Already initialized");if(!(a?.logoDark&&a?.logoLight))throw new Error("Dapp logo is required to be set in whiteLabel");this.buildEnv=e,this.confirmationStrategy=s;let{url:d,logLevel:f}=o&&o[e]?q(q({},NZ[e]),o[e]):NZ[e];un.info(d,"url loaded"),un.setDefaultLevel(f),r?un.enableAll():un.disableAll();let p=new URL(d);p.pathname.endsWith("/")?p.pathname+="frame":p.pathname+="/frame";let h=new URLSearchParams;h.append("origin",window.location.origin),h.append("nonce",this.embedNonce),p.hash=h.toString();let b=this.getTheme(a?.mode||e_.light),_=L9e(`<iframe
        id="walletIframe-${this.embedNonce}"
        class="walletIframe-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${p.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()};
        color-scheme: ${b}"
        allow="clipboard-write"
      ></iframe>`);this.buttonPosition=a?.buttonPosition||b6.BOTTOM_LEFT;let A=await j9e();return new Promise((C,R)=>{try{window.document.body.appendChild(_);let M=async U=>{if(U.origin!==p.origin)return;let{message:F,nonce:z}=U.data||{};F===_Z&&z===this.embedNonce&&(window.removeEventListener("message",M),_.contentWindow.postMessage({chains:n,chainId:i,dappMetadata:A,enableLogging:r,web3AuthClientId:this.web3AuthClientId,web3AuthNetwork:this.web3AuthNetwork,whiteLabel:a,confirmationStrategy:s,accountAbstractionConfig:c,enableKeyExport:l},p.origin),await this.setupWeb3({torusUrl:d,walletIframe:_}),this.isInitialized=!0,C())};window.addEventListener("message",M)}catch(M){R(M)}})}async login(e={}){if(!this.isInitialized)throw new Error("Call init() first");let r=this.communicationProvider.isIFrameFullScreen;try{!e.authConnection&&!r&&this.communicationProvider.displayIframe({isFull:!0});let n=await new Promise((i,o)=>{let s=Object.values(OM).includes(this.provider.chainId)?zn.SOLANA_REQUEST_ACCOUNTS:Li.ETH_REQUEST_ACCOUNTS;this.provider.rpcRequest({method:s,params:[e.authConnection,e.login_hint]},h4(i,o))});if(un.info("check: res",n),Array.isArray(n)&&n.length>0)return this.confirmationStrategy===qd.AUTO_APPROVE&&un.warn("Confirmation strategy auto approve is not allowed on Embed Mode, using Default instead."),n;throw new Error("Login failed")}catch(n){throw un.error("login failed",n),n}finally{r||this.communicationProvider.displayIframe({isFull:!1})}}async loginWithSessionId(e){if(!this.isInitialized)throw new Error("Call init() first");if(!e.sessionId)throw new Error("sessionId is required");try{let r=await this.communicationProvider.request({method:U0.LOGIN_WITH_SESSION_ID,params:[e.sessionId,e.sessionNamespace||""]});if(un.info("check: res",r),r.success)return this.isPluginMode=!0,this.confirmationStrategy===qd.POPUP&&un.warn("Confirmation strategy popup is not allowed on Plugin Mode, using Default instead."),r.success;throw new Error("Login failed")}catch(r){throw un.error("login with session id failed",r),r}}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:U0.LOGOUT,params:[]})}async cleanUp(){var e;(e=this.communicationProvider)!==null&&e!==void 0&&e.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(n){return n instanceof Element||n instanceof Document}let r=window.document.getElementById(`walletIframe-${this.embedNonce}`);e(r)&&r.remove(),this.isInitialized=!1}async getUserInfo(){return await this.communicationProvider.request({method:U0.USER_INFO,params:[]})}async showWalletConnectScanner(e){let r=e?e.show:!0;this.communicationProvider.displayIframe({isFull:r});try{await this.communicationProvider.request({method:U0.SHOW_WALLET_CONNECT,params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showWalletUi(e){let r=e?e.show:!0;this.communicationProvider.displayIframe({isFull:r});try{await this.communicationProvider.request({method:U0.SHOW_WALLET_UI,params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showCheckout(e){let r=e?e.show:!0;this.communicationProvider.displayIframe({isFull:r});try{await this.communicationProvider.request({method:U0.SHOW_CHECKOUT,params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}async showSwap(e){let r=e?e.show:!0;this.communicationProvider.displayIframe({isFull:r});try{await this.communicationProvider.request({method:U0.SHOW_SWAP,params:e})}catch{this.communicationProvider.displayIframe({isFull:!1})}}getConfirmationStrategyFinal(e){let r=this.confirmationStrategy;return!Array.isArray(e)&&c5t.has(e.method)&&this.confirmationStrategy!==qd.MODAL&&!this.isPluginMode&&(r=qd.POPUP),r}getTheme(e){return e===e_.light?"light":e===e_.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}async setupWeb3(e){un.info("setupWeb3 running");let r=new f4({name:"embed_torus",target:"iframe_torus",targetWindow:e.walletIframe.contentWindow,targetOrigin:new URL(e.torusUrl).origin}),n=new f4({name:"embed_communication",target:"iframe_communication",targetWindow:e.walletIframe.contentWindow,targetOrigin:new URL(e.torusUrl).origin}),i=new ug(r,{}),o=new c_(n,{},{buttonPosition:this.buttonPosition});i.tryWindowHandle=(l,u)=>{let d=l,f=this.getConfirmationStrategyFinal(l),{allowWalletService:p}=o;if(f===qd.POPUP&&p){let h=a_();o.handleWindow(h,{target:"_blank",features:m4(TZ),timeout:500}),d.windowId=h}i.rpcEngine.handle(d,u)},o.tryWindowHandle=(l,u)=>{let d=l,f=this.getConfirmationStrategyFinal(l),{allowWalletService:p}=o;if(f===qd.POPUP&&p){let h=a_();o.handleWindow(h,{target:"_blank",features:m4(xZ),timeout:500}),d.params.windowId=h}o.rpcEngine.handle(d,u)};let a=l=>{let u=i[l],d=this;i[l]=function(p,h){let{method:b,params:_=[]}=p;if(b===Li.ETH_REQUEST_ACCOUNTS||b===zn.SOLANA_REQUEST_ACCOUNTS){if(!h)return d.login({authConnection:_[0]});d.login({authConnection:_[0]}).then(A=>h(null,A)).catch(A=>h(A))}return u.apply(this,[p,h])}};a("request"),a("sendAsync"),a("send");let s=new Proxy(i,{deleteProperty:()=>!0}),c=new Proxy(o,{deleteProperty:()=>!0});this.provider=s,this.communicationProvider=c,un.info("test setupWeb3 "),await Promise.all([i.initializeState(),o.initializeState(q(q({},e),{},{torusIframeId:e.walletIframe.id}))]),un.debug("WsEmbed - injected provider")}}});var q9e={};lr(q9e,{BUTTON_POSITION:()=>b6,CONFIRMATION_STRATEGY:()=>qd,EVM_METHOD_TYPES:()=>Li,SOLANA_CHAIN_IDS:()=>OM,SOLANA_METHOD_TYPES:()=>zn,TorusInPageProvider:()=>ug,WS_EMBED_BUILD_ENV:()=>fm,default:()=>GM});var dg=D(()=>{NM();K9e();OZ();HM();lg()});var W9e,y4,Y9e=D(()=>{Ye();_i();ag();y4=class extends xc{constructor({config:e,state:r}){super({config:e,state:r}),V(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(e){throw new Error("Method not implemented.")}async setupProvider(e){let r=this.getPrivKeyMiddleware(e),n=new zs;n.push(r);let i=wl(n);this.updateProviderEngineProxy(i)}async switchChain(e){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}async lookupNetwork(){return Promise.resolve("")}getPrivKeyMiddleware(e){let r={getPrivatekey:async()=>{if(!this.config.keyExportEnabled)throw new Error("Exporting private key is disabled. Please enable it in the provider config");return e}};return this.createPrivKeyMiddleware(r)}createPrivKeyMiddleware({getPrivatekey:e}){async function r(n,i){try{i.result=await e()}catch(o){i.error=o instanceof Error?o.message:o}}return Ud({private_key:tn(r)})}};W9e=y4;V(y4,"getProviderInstance",async t=>{let e=new W9e({config:{chain:t.chain,chains:t.chains}});return await e.setupProvider(t.privKey),e})});var J9e={};lr(J9e,{BaseProvider:()=>xc,CommonJRPCProvider:()=>cm,CommonPrivateKeyProvider:()=>y4,EIP1193_EVENTS:()=>IM,createRandomId:()=>zve,getED25519Key:()=>PY});var Q9e=D(()=>{ag();uZ();Y9e();lZ();_i()});var eEe=de((pm,X9e)=>{var $M=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,VM=(function(){function t(){this.fetch=!1,this.DOMException=$M.DOMException}return t.prototype=$M,new t})();(function(t){var e=(function(r){var n=typeof t<"u"&&t||typeof self<"u"&&self||typeof global<"u"&&global||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function o(w){return w&&DataView.prototype.isPrototypeOf(w)}if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(w){return w&&a.indexOf(Object.prototype.toString.call(w))>-1};function c(w){if(typeof w!="string"&&(w=String(w)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(w)||w==="")throw new TypeError('Invalid character in header field name: "'+w+'"');return w.toLowerCase()}function l(w){return typeof w!="string"&&(w=String(w)),w}function u(w){var S={next:function(){var T=w.shift();return{done:T===void 0,value:T}}};return i.iterable&&(S[Symbol.iterator]=function(){return S}),S}function d(w){this.map={},w instanceof d?w.forEach(function(S,T){this.append(T,S)},this):Array.isArray(w)?w.forEach(function(S){if(S.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+S.length);this.append(S[0],S[1])},this):w&&Object.getOwnPropertyNames(w).forEach(function(S){this.append(S,w[S])},this)}d.prototype.append=function(w,S){w=c(w),S=l(S);var T=this.map[w];this.map[w]=T?T+", "+S:S},d.prototype.delete=function(w){delete this.map[c(w)]},d.prototype.get=function(w){return w=c(w),this.has(w)?this.map[w]:null},d.prototype.has=function(w){return this.map.hasOwnProperty(c(w))},d.prototype.set=function(w,S){this.map[c(w)]=l(S)},d.prototype.forEach=function(w,S){for(var T in this.map)this.map.hasOwnProperty(T)&&w.call(S,this.map[T],T,this)},d.prototype.keys=function(){var w=[];return this.forEach(function(S,T){w.push(T)}),u(w)},d.prototype.values=function(){var w=[];return this.forEach(function(S){w.push(S)}),u(w)},d.prototype.entries=function(){var w=[];return this.forEach(function(S,T){w.push([T,S])}),u(w)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function f(w){if(!w._noBody){if(w.bodyUsed)return Promise.reject(new TypeError("Already read"));w.bodyUsed=!0}}function p(w){return new Promise(function(S,T){w.onload=function(){S(w.result)},w.onerror=function(){T(w.error)}})}function h(w){var S=new FileReader,T=p(S);return S.readAsArrayBuffer(w),T}function b(w){var S=new FileReader,T=p(S),m=/charset=([A-Za-z0-9_-]+)/.exec(w.type),y=m?m[1]:"utf-8";return S.readAsText(w,y),T}function _(w){for(var S=new Uint8Array(w),T=new Array(S.length),m=0;m<S.length;m++)T[m]=String.fromCharCode(S[m]);return T.join("")}function A(w){if(w.slice)return w.slice(0);var S=new Uint8Array(w.byteLength);return S.set(new Uint8Array(w)),S.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(w){this.bodyUsed=this.bodyUsed,this._bodyInit=w,w?typeof w=="string"?this._bodyText=w:i.blob&&Blob.prototype.isPrototypeOf(w)?this._bodyBlob=w:i.formData&&FormData.prototype.isPrototypeOf(w)?this._bodyFormData=w:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)?this._bodyText=w.toString():i.arrayBuffer&&i.blob&&o(w)?(this._bodyArrayBuffer=A(w.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||s(w))?this._bodyArrayBuffer=A(w):this._bodyText=w=Object.prototype.toString.call(w):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof w=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var w=f(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var w=f(this);return w||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(i.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var w=f(this);if(w)return w;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(w){var S=w.toUpperCase();return R.indexOf(S)>-1?S:w}function U(w,S){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var T=S.body;if(w instanceof U){if(w.bodyUsed)throw new TypeError("Already read");this.url=w.url,this.credentials=w.credentials,S.headers||(this.headers=new d(w.headers)),this.method=w.method,this.mode=w.mode,this.signal=w.signal,!T&&w._bodyInit!=null&&(T=w._bodyInit,w.bodyUsed=!0)}else this.url=String(w);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new d(S.headers)),this.method=M(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal||(function(){if("AbortController"in n){var E=new AbortController;return E.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var m=/([?&])_=[^&]*/;if(m.test(this.url))this.url=this.url.replace(m,"$1_="+new Date().getTime());else{var y=/\?/;this.url+=(y.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function F(w){var S=new FormData;return w.trim().split("&").forEach(function(T){if(T){var m=T.split("="),y=m.shift().replace(/\+/g," "),E=m.join("=").replace(/\+/g," ");S.append(decodeURIComponent(y),decodeURIComponent(E))}}),S}function z(w){var S=new d,T=w.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(m){return m.indexOf(`
`)===0?m.substr(1,m.length):m}).forEach(function(m){var y=m.split(":"),E=y.shift().trim();if(E){var v=y.join(":").trim();try{S.append(E,v)}catch(x){console.warn("Response "+x.message)}}}),S}C.call(U.prototype);function N(w,S){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new d(S.headers),this.url=S.url||"",this._initBody(w)}C.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},N.error=function(){var w=new N(null,{status:200,statusText:""});return w.ok=!1,w.status=0,w.type="error",w};var k=[301,302,303,307,308];N.redirect=function(w,S){if(k.indexOf(S)===-1)throw new RangeError("Invalid status code");return new N(null,{status:S,headers:{location:w}})},r.DOMException=n.DOMException;try{new r.DOMException}catch{r.DOMException=function(S,T){this.message=S,this.name=T;var m=Error(S);this.stack=m.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function O(w,S){return new Promise(function(T,m){var y=new U(w,S);if(y.signal&&y.signal.aborted)return m(new r.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function v(){E.abort()}E.onload=function(){var P={statusText:E.statusText,headers:z(E.getAllResponseHeaders()||"")};y.url.indexOf("file://")===0&&(E.status<200||E.status>599)?P.status=200:P.status=E.status,P.url="responseURL"in E?E.responseURL:P.headers.get("X-Request-URL");var B="response"in E?E.response:E.responseText;setTimeout(function(){T(new N(B,P))},0)},E.onerror=function(){setTimeout(function(){m(new TypeError("Network request failed"))},0)},E.ontimeout=function(){setTimeout(function(){m(new TypeError("Network request timed out"))},0)},E.onabort=function(){setTimeout(function(){m(new r.DOMException("Aborted","AbortError"))},0)};function x(P){try{return P===""&&n.location.href?n.location.href:P}catch{return P}}if(E.open(y.method,x(y.url),!0),y.credentials==="include"?E.withCredentials=!0:y.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&(i.blob?E.responseType="blob":i.arrayBuffer&&(E.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof d||n.Headers&&S.headers instanceof n.Headers)){var g=[];Object.getOwnPropertyNames(S.headers).forEach(function(P){g.push(c(P)),E.setRequestHeader(P,l(S.headers[P]))}),y.headers.forEach(function(P,B){g.indexOf(B)===-1&&E.setRequestHeader(B,P)})}else y.headers.forEach(function(P,B){E.setRequestHeader(B,P)});y.signal&&(y.signal.addEventListener("abort",v),E.onreadystatechange=function(){E.readyState===4&&y.signal.removeEventListener("abort",v)}),E.send(typeof y._bodyInit>"u"?null:y._bodyInit)})}return O.polyfill=!0,n.fetch||(n.fetch=O,n.Headers=d,n.Request=U,n.Response=N),r.Headers=d,r.Request=U,r.Response=N,r.fetch=O,r})({})})(VM);VM.fetch.ponyfill=!0;delete VM.fetch.polyfill;var g4=$M.fetch?$M:VM;pm=g4.fetch;pm.default=g4.fetch;pm.fetch=g4.fetch;pm.Headers=g4.Headers;pm.Request=g4.Request;pm.Response=g4.Response;X9e.exports=pm});var rEe=de((V3r,tEe)=>{var w4=1e3,v4=w4*60,E4=v4*60,fg=E4*24,l5t=fg*7,u5t=fg*365.25;tEe.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return d5t(t);if(r==="number"&&isFinite(t))return e.long?p5t(t):f5t(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function d5t(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*u5t;case"weeks":case"week":case"w":return r*l5t;case"days":case"day":case"d":return r*fg;case"hours":case"hour":case"hrs":case"hr":case"h":return r*E4;case"minutes":case"minute":case"mins":case"min":case"m":return r*v4;case"seconds":case"second":case"secs":case"sec":case"s":return r*w4;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function f5t(t){var e=Math.abs(t);return e>=fg?Math.round(t/fg)+"d":e>=E4?Math.round(t/E4)+"h":e>=v4?Math.round(t/v4)+"m":e>=w4?Math.round(t/w4)+"s":t+"ms"}function p5t(t){var e=Math.abs(t);return e>=fg?KM(t,e,fg,"day"):e>=E4?KM(t,e,E4,"hour"):e>=v4?KM(t,e,v4,"minute"):e>=w4?KM(t,e,w4,"second"):t+" ms"}function KM(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var iEe=de((K3r,nEe)=>{function h5t(t){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=i,r.enabled=s,r.humanize=rEe(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,f=null,p,h;function b(..._){if(!b.enabled)return;let A=b,C=Number(new Date),R=C-(d||C);A.diff=R,A.prev=d,A.curr=C,d=C,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let M=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(F,z)=>{if(F==="%%")return"%";M++;let N=r.formatters[z];if(typeof N=="function"){let k=_[M];F=N.call(A,k),_.splice(M,1),M--}return F}),r.formatArgs.call(A,_),(A.log||r.log).apply(A,_)}return b.namespace=u,b.useColors=r.useColors(),b.color=r.selectColor(u),b.extend=n,b.destroy=r.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==r.namespaces&&(p=r.namespaces,h=r.enabled(u)),h),set:_=>{f=_}}),typeof r.init=="function"&&r.init(b),b}function n(u,d){let f=r(this.namespace+(typeof d>"u"?":":d)+u);return f.log=this.log,f}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let f of d)f[0]==="-"?r.skips.push(f.slice(1)):r.names.push(f)}function o(u,d){let f=0,p=0,h=-1,b=0;for(;f<u.length;)if(p<d.length&&(d[p]===u[f]||d[p]==="*"))d[p]==="*"?(h=p,b=f,p++):(f++,p++);else if(h!==-1)p=h+1,b++,f=b;else return!1;for(;p<d.length&&d[p]==="*";)p++;return p===d.length}function a(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function s(u){for(let d of r.skips)if(o(u,d))return!1;for(let d of r.names)if(o(u,d))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}nEe.exports=h5t});var oEe=de((Tc,qM)=>{Tc.formatArgs=b5t;Tc.save=y5t;Tc.load=g5t;Tc.useColors=m5t;Tc.storage=w5t();Tc.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Tc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function m5t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function b5t(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+qM.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Tc.log=console.debug||console.log||(()=>{});function y5t(t){try{t?Tc.storage.setItem("debug",t):Tc.storage.removeItem("debug")}catch{}}function g5t(){let t;try{t=Tc.storage.getItem("debug")||Tc.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function w5t(){try{return localStorage}catch{}}qM.exports=iEe()(Tc);var{formatters:v5t}=qM.exports;v5t.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var hEe=de((q3r,pEe)=>{"use strict";var LZ=Object.defineProperty,E5t=Object.getOwnPropertyDescriptor,x5t=Object.getOwnPropertyNames,A5t=Object.prototype.hasOwnProperty,T5t=(t,e)=>{for(var r in e)LZ(t,r,{get:e[r],enumerable:!0})},_5t=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of x5t(e))!A5t.call(t,i)&&i!==r&&LZ(t,i,{get:()=>e[i],enumerable:!(n=E5t(e,i))||n.enumerable});return t},S5t=t=>_5t(LZ({},"__esModule",{value:!0}),t),aEe={};T5t(aEe,{createFinalURL:()=>fEe,createPathBasedClient:()=>O5t,createQuerySerializer:()=>MZ,default:()=>cEe,defaultBodySerializer:()=>dEe,defaultPathSerializer:()=>uEe,mergeHeaders:()=>BZ,randomID:()=>sEe,removeTrailingSlash:()=>DZ,serializeArrayParam:()=>FZ,serializeObjectParam:()=>UZ,serializePrimitiveParam:()=>l_,wrapAsPathBasedClient:()=>lEe});pEe.exports=S5t(aEe);var I5t=/\{[^{}]+\}/g,C5t=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function sEe(){return Math.random().toString(36).slice(2,11)}function cEe(t){let{baseUrl:e="",Request:r=globalThis.Request,fetch:n=globalThis.fetch,querySerializer:i,bodySerializer:o,headers:a,requestInitExt:s=void 0,...c}={...t};s=C5t()?s:void 0,e=DZ(e);let l=[];async function u(d,f){let{baseUrl:p,fetch:h=n,Request:b=r,headers:_,params:A={},parseAs:C="json",querySerializer:R,bodySerializer:M=o??dEe,body:U,...F}=f||{},z=e;p&&(z=DZ(p)??e);let N=typeof i=="function"?i:MZ(i);R&&(N=typeof R=="function"?R:MZ({...typeof i=="object"?i:{},...R}));let k=U===void 0?void 0:M(U,BZ(a,_,A.header)),O=BZ(k===void 0||k instanceof FormData?{}:{"Content-Type":"application/json"},a,_,A.header),w={redirect:"follow",...c,...F,body:k,headers:O},S,T,m=new r(fEe(d,{baseUrl:z,params:A,querySerializer:N}),w),y;for(let v in F)v in m||(m[v]=F[v]);if(l.length){S=sEe(),T=Object.freeze({baseUrl:z,fetch:h,parseAs:C,querySerializer:N,bodySerializer:M});for(let v of l)if(v&&typeof v=="object"&&typeof v.onRequest=="function"){let x=await v.onRequest({request:m,schemaPath:d,params:A,options:T,id:S});if(x)if(x instanceof r)m=x;else if(x instanceof Response){y=x;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!y){try{y=await h(m,s)}catch(v){let x=v;if(l.length)for(let g=l.length-1;g>=0;g--){let P=l[g];if(P&&typeof P=="object"&&typeof P.onError=="function"){let B=await P.onError({request:m,error:x,schemaPath:d,params:A,options:T,id:S});if(B){if(B instanceof Response){x=void 0,y=B;break}if(B instanceof Error){x=B;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(x)throw x}if(l.length)for(let v=l.length-1;v>=0;v--){let x=l[v];if(x&&typeof x=="object"&&typeof x.onResponse=="function"){let g=await x.onResponse({request:m,response:y,schemaPath:d,params:A,options:T,id:S});if(g){if(!(g instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");y=g}}}}if(y.status===204||m.method==="HEAD"||y.headers.get("Content-Length")==="0")return y.ok?{data:void 0,response:y}:{error:void 0,response:y};if(y.ok)return C==="stream"?{data:y.body,response:y}:{data:await y[C](),response:y};let E=await y.text();try{E=JSON.parse(E)}catch{}return{error:E,response:y}}return{request(d,f,p){return u(f,{...p,method:d.toUpperCase()})},GET(d,f){return u(d,{...f,method:"GET"})},PUT(d,f){return u(d,{...f,method:"PUT"})},POST(d,f){return u(d,{...f,method:"POST"})},DELETE(d,f){return u(d,{...f,method:"DELETE"})},OPTIONS(d,f){return u(d,{...f,method:"OPTIONS"})},HEAD(d,f){return u(d,{...f,method:"HEAD"})},PATCH(d,f){return u(d,{...f,method:"PATCH"})},TRACE(d,f){return u(d,{...f,method:"TRACE"})},use(...d){for(let f of d)if(f){if(typeof f!="object"||!("onRequest"in f||"onResponse"in f||"onError"in f))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");l.push(f)}},eject(...d){for(let f of d){let p=l.indexOf(f);p!==-1&&l.splice(p,1)}}}}var R5t=class{constructor(t,e){this.client=t,this.url=e}GET=t=>this.client.GET(this.url,t);PUT=t=>this.client.PUT(this.url,t);POST=t=>this.client.POST(this.url,t);DELETE=t=>this.client.DELETE(this.url,t);OPTIONS=t=>this.client.OPTIONS(this.url,t);HEAD=t=>this.client.HEAD(this.url,t);PATCH=t=>this.client.PATCH(this.url,t);TRACE=t=>this.client.TRACE(this.url,t)},P5t=class{constructor(){this.client=null}get(t,e){let r=new R5t(t,e);return this.client[e]=r,r}};function lEe(t){let e=new P5t,r=new Proxy(t,e);function n(){}n.prototype=r;let i=new n;return e.client=i,i}function O5t(t){return lEe(cEe(t))}function l_(t,e,r){if(e==null)return"";if(typeof e=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${r?.allowReserved===!0?e:encodeURIComponent(e)}`}function UZ(t,e,r){if(!e||typeof e!="object")return"";let n=[],i={simple:",",label:".",matrix:";"}[r.style]||"&";if(r.style!=="deepObject"&&r.explode===!1){for(let s in e)n.push(s,r.allowReserved===!0?e[s]:encodeURIComponent(e[s]));let a=n.join(",");switch(r.style){case"form":return`${t}=${a}`;case"label":return`.${a}`;case"matrix":return`;${t}=${a}`;default:return a}}for(let a in e){let s=r.style==="deepObject"?`${t}[${a}]`:a;n.push(l_(s,e[a],r))}let o=n.join(i);return r.style==="label"||r.style==="matrix"?`${i}${o}`:o}function FZ(t,e,r){if(!Array.isArray(e))return"";if(r.explode===!1){let o={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",a=(r.allowReserved===!0?e:e.map(s=>encodeURIComponent(s))).join(o);switch(r.style){case"simple":return a;case"label":return`.${a}`;case"matrix":return`;${t}=${a}`;default:return`${t}=${a}`}}let n={simple:",",label:".",matrix:";"}[r.style]||"&",i=[];for(let o of e)r.style==="simple"||r.style==="label"?i.push(r.allowReserved===!0?o:encodeURIComponent(o)):i.push(l_(t,o,r));return r.style==="label"||r.style==="matrix"?`${n}${i.join(n)}`:i.join(n)}function MZ(t){return function(r){let n=[];if(r&&typeof r=="object")for(let i in r){let o=r[i];if(o!=null){if(Array.isArray(o)){if(o.length===0)continue;n.push(FZ(i,o,{style:"form",explode:!0,...t?.array,allowReserved:t?.allowReserved||!1}));continue}if(typeof o=="object"){n.push(UZ(i,o,{style:"deepObject",explode:!0,...t?.object,allowReserved:t?.allowReserved||!1}));continue}n.push(l_(i,o,t))}}return n.join("&")}}function uEe(t,e){let r=t;for(let n of t.match(I5t)??[]){let i=n.substring(1,n.length-1),o=!1,a="simple";if(i.endsWith("*")&&(o=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(a="label",i=i.substring(1)):i.startsWith(";")&&(a="matrix",i=i.substring(1)),!e||e[i]===void 0||e[i]===null)continue;let s=e[i];if(Array.isArray(s)){r=r.replace(n,FZ(i,s,{style:a,explode:o}));continue}if(typeof s=="object"){r=r.replace(n,UZ(i,s,{style:a,explode:o}));continue}if(a==="matrix"){r=r.replace(n,`;${l_(i,s)}`);continue}r=r.replace(n,a==="label"?`.${encodeURIComponent(s)}`:encodeURIComponent(s))}return r}function dEe(t,e){return t instanceof FormData?t:e&&(e.get instanceof Function?e.get("Content-Type")??e.get("content-type"):e["Content-Type"]??e["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(t).toString():JSON.stringify(t)}function fEe(t,e){let r=`${e.baseUrl}${t}`;e.params?.path&&(r=uEe(r,e.params.path));let n=e.querySerializer(e.params.query??{});return n.startsWith("?")&&(n=n.substring(1)),n&&(r+=`?${n}`),r}function BZ(...t){let e=new Headers;for(let r of t){if(!r||typeof r!="object")continue;let n=r instanceof Headers?r.entries():Object.entries(r);for(let[i,o]of n)if(o===null)e.delete(i);else if(Array.isArray(o))for(let a of o)e.append(i,a);else o!==void 0&&e.set(i,o)}return e}function DZ(t){return t.endsWith("/")?t.substring(0,t.length-1):t}});var wEe=de((J3r,gEe)=>{"use strict";var N5t=Object.create,WM=Object.defineProperty,k5t=Object.getOwnPropertyDescriptor,M5t=Object.getOwnPropertyNames,B5t=Object.getPrototypeOf,D5t=Object.prototype.hasOwnProperty,L5t=(t,e)=>{for(var r in e)WM(t,r,{get:e[r],enumerable:!0})},bEe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of M5t(e))!D5t.call(t,i)&&i!==r&&WM(t,i,{get:()=>e[i],enumerable:!(n=k5t(e,i))||n.enumerable});return t},U5t=(t,e,r)=>(r=t!=null?N5t(B5t(t)):{},bEe(e||!t||!t.__esModule?WM(r,"default",{value:t,enumerable:!0}):r,t)),F5t=t=>bEe(WM({},"__esModule",{value:!0}),t),yEe={};L5t(yEe,{analytics:()=>q5t});gEe.exports=F5t(yEe);var H5t=U5t(hEe()),z5t=class{constructor(t){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=t.batchSize,this.baseTimeoutMs=t.baseTimeoutMs,this.currentTimeoutMs=t.baseTimeoutMs,this.sendFn=t.sendFn}enqueue(t){this.batch.push(t),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;let t=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(t),this.currentTimeoutMs=this.baseTimeoutMs}catch(e){console.error("Sender: Failed to send batch",e),this.batch=[...t,...this.batch],this.currentTimeoutMs=Math.min(this.currentTimeoutMs*2,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},G5t=z5t,j5t=class{constructor(t){this.enabled=!1,this.properties={};let e=(0,H5t.default)({baseUrl:t}),r=async n=>{let i=await e.POST("/v1/events",{body:n});if(i.response.status!==200)throw new Error(i.error)};this.sender=new G5t({batchSize:100,baseTimeoutMs:200,sendFn:r})}enable(){this.enabled=!0}setGlobalProperty(t,e){this.properties[t]=e}track(t,e){if(!this.enabled)return;let r={name:t,...this.properties,...e};this.sender.enqueue(r)}},$5t=j5t,HZ,mEe;typeof process<"u"&&process.env&&(HZ=(mEe=process.env.METAMASK_ANALYTICS_ENDPOINT)!=null?mEe:process.env.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var V5t=HZ??"https://mm-sdk-analytics.api.cx.metamask.io/",K5t=new $5t(V5t),q5t=K5t});var xEe=de((vEe,EEe)=>{(function(t){var e=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(x){return Object.prototype.toString.call(x)==="[object Array]"},n=10,i=typeof process=="object"&&typeof process.nextTick=="function",o=typeof Symbol=="function",a=typeof Reflect=="object",s=typeof setImmediate=="function",c=s?setImmediate:setTimeout,l=o?a&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(v){var x=Object.getOwnPropertyNames(v);return x.push.apply(x,Object.getOwnPropertySymbols(v)),x}:Object.keys;function u(){this._events={},this._conf&&d.call(this,this._conf)}function d(v){v&&(this._conf=v,v.delimiter&&(this.delimiter=v.delimiter),v.maxListeners!==t&&(this._maxListeners=v.maxListeners),v.wildcard&&(this.wildcard=v.wildcard),v.newListener&&(this._newListener=v.newListener),v.removeListener&&(this._removeListener=v.removeListener),v.verboseMemoryLeak&&(this.verboseMemoryLeak=v.verboseMemoryLeak),v.ignoreErrors&&(this.ignoreErrors=v.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(v,x){var g="(node) warning: possible EventEmitter memory leak detected. "+v+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(g+=" Event name: "+x+"."),typeof process<"u"&&process.emitWarning){var P=new Error(g);P.name="MaxListenersExceededWarning",P.emitter=this,P.count=v,process.emitWarning(P)}else console.error(g),console.trace&&console.trace()}var p=function(v,x,g){var P=arguments.length;switch(P){case 0:return[];case 1:return[v];case 2:return[v,x];case 3:return[v,x,g];default:for(var B=new Array(P);P--;)B[P]=arguments[P];return B}};function h(v,x){for(var g={},P,B=v.length,I=x?x.length:0,L=0;L<B;L++)P=v[L],g[P]=L<I?x[L]:t;return g}function b(v,x,g){this._emitter=v,this._target=x,this._listeners={},this._listenersCount=0;var P,B;if((g.on||g.off)&&(P=g.on,B=g.off),x.addEventListener?(P=x.addEventListener,B=x.removeEventListener):x.addListener?(P=x.addListener,B=x.removeListener):x.on&&(P=x.on,B=x.off),!P&&!B)throw Error("target does not implement any known event API");if(typeof P!="function")throw TypeError("on method must be a function");if(typeof B!="function")throw TypeError("off method must be a function");this._on=P,this._off=B;var I=v._observers;I?I.push(this):v._observers=[this]}Object.assign(b.prototype,{subscribe:function(v,x,g){var P=this,B=this._target,I=this._emitter,L=this._listeners,G=function(){var H=p.apply(null,arguments),$={data:H,name:x,original:v};if(g){var K=g.call(B,$);K!==!1&&I.emit.apply(I,[$.name].concat(H));return}I.emit.apply(I,[x].concat(H))};if(L[v])throw Error("Event '"+v+"' is already listening");this._listenersCount++,I._newListener&&I._removeListener&&!P._onNewListener?(this._onNewListener=function(H){H===x&&L[v]===null&&(L[v]=G,P._on.call(B,v,G))},I.on("newListener",this._onNewListener),this._onRemoveListener=function(H){H===x&&!I.hasListeners(H)&&L[v]&&(L[v]=null,P._off.call(B,v,G))},L[v]=null,I.on("removeListener",this._onRemoveListener)):(L[v]=G,P._on.call(B,v,G))},unsubscribe:function(v){var x=this,g=this._listeners,P=this._emitter,B,I,L=this._off,G=this._target,H;if(v&&typeof v!="string")throw TypeError("event must be a string");function $(){x._onNewListener&&(P.off("newListener",x._onNewListener),P.off("removeListener",x._onRemoveListener),x._onNewListener=null,x._onRemoveListener=null);var K=F.call(P,x);P._observers.splice(K,1)}if(v){if(B=g[v],!B)return;L.call(G,v,B),delete g[v],--this._listenersCount||$()}else{for(I=l(g),H=I.length;H-- >0;)v=I[H],L.call(G,v,g[v]);this._listeners={},this._listenersCount=0,$()}}});function _(v,x,g,P){var B=Object.assign({},x);if(!v)return B;if(typeof v!="object")throw TypeError("options must be an object");var I=Object.keys(v),L=I.length,G,H,$;function K(J){throw Error('Invalid "'+G+'" option value'+(J?". Reason: "+J:""))}for(var W=0;W<L;W++){if(G=I[W],!P&&!e.call(x,G))throw Error('Unknown "'+G+'" option');H=v[G],H!==t&&($=g[G],B[G]=$?$(H,K):H)}return B}function A(v,x){return(typeof v!="function"||!v.hasOwnProperty("prototype"))&&x("value must be a constructor"),v}function C(v){var x="value must be type of "+v.join("|"),g=v.length,P=v[0],B=v[1];return g===1?function(I,L){if(typeof I===P)return I;L(x)}:g===2?function(I,L){var G=typeof I;if(G===P||G===B)return I;L(x)}:function(I,L){for(var G=typeof I,H=g;H-- >0;)if(G===v[H])return I;L(x)}}var R=C(["function"]),M=C(["object","function"]);function U(v,x,g){var P,B,I=0,L,G=new v(function(H,$,K){g=_(g,{timeout:0,overload:!1},{timeout:function(te,re){return te*=1,(typeof te!="number"||te<0||!Number.isFinite(te))&&re("timeout must be a positive number"),te}}),P=!g.overload&&typeof v.prototype.cancel=="function"&&typeof K=="function";function W(){B&&(B=null),I&&(clearTimeout(I),I=0)}var J=function(te){W(),H(te)},X=function(te){W(),$(te)};P?x(J,X,K):(B=[function(te){X(te||Error("canceled"))}],x(J,X,function(te){if(L)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof te!="function")throw TypeError("onCancel callback must be a function");B.push(te)}),L=!0),g.timeout>0&&(I=setTimeout(function(){var te=Error("timeout");te.code="ETIMEDOUT",I=0,G.cancel(te),$(te)},g.timeout))});return P||(G.cancel=function(H){if(B){for(var $=B.length,K=1;K<$;K++)B[K](H);B[0](H),B=null}}),G}function F(v){var x=this._observers;if(!x)return-1;for(var g=x.length,P=0;P<g;P++)if(x[P]._target===v)return P;return-1}function z(v,x,g,P,B){if(!g)return null;if(P===0){var I=typeof x;if(I==="string"){var L,G,H=0,$=0,K=this.delimiter,W=K.length;if((G=x.indexOf(K))!==-1){L=new Array(5);do L[H++]=x.slice($,G),$=G+W;while((G=x.indexOf(K,$))!==-1);L[H++]=x.slice($),x=L,B=H}else x=[x],B=1}else I==="object"?B=x.length:(x=[x],B=1)}var J=null,X,te,re,le,ce,ae=x[P],xe=x[P+1],me,Se;if(P===B)g._listeners&&(typeof g._listeners=="function"?(v&&v.push(g._listeners),J=[g]):(v&&v.push.apply(v,g._listeners),J=[g]));else if(ae==="*"){for(me=l(g),G=me.length;G-- >0;)X=me[G],X!=="_listeners"&&(Se=z(v,x,g[X],P+1,B),Se&&(J?J.push.apply(J,Se):J=Se));return J}else if(ae==="**"){for(ce=P+1===B||P+2===B&&xe==="*",ce&&g._listeners&&(J=z(v,x,g,B,B)),me=l(g),G=me.length;G-- >0;)X=me[G],X!=="_listeners"&&(X==="*"||X==="**"?(g[X]._listeners&&!ce&&(Se=z(v,x,g[X],B,B),Se&&(J?J.push.apply(J,Se):J=Se)),Se=z(v,x,g[X],P,B)):X===xe?Se=z(v,x,g[X],P+2,B):Se=z(v,x,g[X],P,B),Se&&(J?J.push.apply(J,Se):J=Se));return J}else g[ae]&&(J=z(v,x,g[ae],P+1,B));if(te=g["*"],te&&z(v,x,te,P+1,B),re=g["**"],re)if(P<B)for(re._listeners&&z(v,x,re,B,B),me=l(re),G=me.length;G-- >0;)X=me[G],X!=="_listeners"&&(X===xe?z(v,x,re[X],P+2,B):X===ae?z(v,x,re[X],P+1,B):(le={},le[X]=re[X],z(v,x,{"**":le},P+1,B)));else re._listeners?z(v,x,re,B,B):re["*"]&&re["*"]._listeners&&z(v,x,re["*"],B,B);return J}function N(v,x,g){var P=0,B=0,I,L=this.delimiter,G=L.length,H;if(typeof v=="string")if((I=v.indexOf(L))!==-1){H=new Array(5);do H[P++]=v.slice(B,I),B=I+G;while((I=v.indexOf(L,B))!==-1);H[P++]=v.slice(B)}else H=[v],P=1;else H=v,P=v.length;if(P>1){for(I=0;I+1<P;I++)if(H[I]==="**"&&H[I+1]==="**")return}var $=this.listenerTree,K;for(I=0;I<P;I++)if(K=H[I],$=$[K]||($[K]={}),I===P-1)return $._listeners?(typeof $._listeners=="function"&&($._listeners=[$._listeners]),g?$._listeners.unshift(x):$._listeners.push(x),!$._listeners.warned&&this._maxListeners>0&&$._listeners.length>this._maxListeners&&($._listeners.warned=!0,f.call(this,$._listeners.length,K))):$._listeners=x,!0;return!0}function k(v,x,g,P){for(var B=l(v),I=B.length,L,G,H,$=v._listeners,K;I-- >0;)G=B[I],L=v[G],G==="_listeners"?H=g:H=g?g.concat(G):[G],K=P||typeof G=="symbol",$&&x.push(K?H:H.join(this.delimiter)),typeof L=="object"&&k.call(this,L,x,H,K);return x}function O(v){for(var x=l(v),g=x.length,P,B,I;g-- >0;)B=x[g],P=v[B],P&&(I=!0,B!=="_listeners"&&!O(P)&&delete v[B]);return I}function w(v,x,g){this.emitter=v,this.event=x,this.listener=g}w.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function S(v,x,g){if(g===!0)B=!0;else if(g===!1)P=!0;else{if(!g||typeof g!="object")throw TypeError("options should be an object or true");var P=g.async,B=g.promisify,I=g.nextTick,L=g.objectify}if(P||I||B){var G=x,H=x._origin||x;if(I&&!i)throw Error("process.nextTick is not supported");B===t&&(B=x.constructor.name==="AsyncFunction"),x=function(){var $=arguments,K=this,W=this.event;return B?I?Promise.resolve():new Promise(function(J){c(J)}).then(function(){return K.event=W,G.apply(K,$)}):(I?process.nextTick:c)(function(){K.event=W,G.apply(K,$)})},x._async=!0,x._origin=H}return[x,L?new w(this,v,x):this]}function T(v){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,v)}T.EventEmitter2=T,T.prototype.listenTo=function(v,x,g){if(typeof v!="object")throw TypeError("target musts be an object");var P=this;g=_(g,{on:t,off:t,reducers:t},{on:R,off:R,reducers:M});function B(I){if(typeof I!="object")throw TypeError("events must be an object");var L=g.reducers,G=F.call(P,v),H;G===-1?H=new b(P,v,g):H=P._observers[G];for(var $=l(I),K=$.length,W,J=typeof L=="function",X=0;X<K;X++)W=$[X],H.subscribe(W,I[W]||W,J?L:L&&L[W])}return r(x)?B(h(x)):B(typeof x=="string"?h(x.split(/\s+/)):x),this},T.prototype.stopListeningTo=function(v,x){var g=this._observers;if(!g)return!1;var P=g.length,B,I=!1;if(v&&typeof v!="object")throw TypeError("target should be an object");for(;P-- >0;)B=g[P],(!v||B._target===v)&&(B.unsubscribe(x),I=!0);return I},T.prototype.delimiter=".",T.prototype.setMaxListeners=function(v){v!==t&&(this._maxListeners=v,this._conf||(this._conf={}),this._conf.maxListeners=v)},T.prototype.getMaxListeners=function(){return this._maxListeners},T.prototype.event="",T.prototype.once=function(v,x,g){return this._once(v,x,!1,g)},T.prototype.prependOnceListener=function(v,x,g){return this._once(v,x,!0,g)},T.prototype._once=function(v,x,g,P){return this._many(v,1,x,g,P)},T.prototype.many=function(v,x,g,P){return this._many(v,x,g,!1,P)},T.prototype.prependMany=function(v,x,g,P){return this._many(v,x,g,!0,P)},T.prototype._many=function(v,x,g,P,B){var I=this;if(typeof g!="function")throw new Error("many only accepts instances of Function");function L(){return--x===0&&I.off(v,L),g.apply(this,arguments)}return L._origin=g,this._on(v,L,P,B)},T.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var v=arguments[0],x,g=this.wildcard,P,B,I,L,G;if(v==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(g&&(x=v,v!=="newListener"&&v!=="removeListener"&&typeof v=="object")){if(B=v.length,o){for(I=0;I<B;I++)if(typeof v[I]=="symbol"){G=!0;break}}G||(v=v.join(this.delimiter))}var H=arguments.length,$;if(this._all&&this._all.length)for($=this._all.slice(),I=0,B=$.length;I<B;I++)switch(this.event=v,H){case 1:$[I].call(this,v);break;case 2:$[I].call(this,v,arguments[1]);break;case 3:$[I].call(this,v,arguments[1],arguments[2]);break;default:$[I].apply(this,arguments)}if(g)$=[],z.call(this,$,x,this.listenerTree,0,B);else if($=this._events[v],typeof $=="function"){switch(this.event=v,H){case 1:$.call(this);break;case 2:$.call(this,arguments[1]);break;case 3:$.call(this,arguments[1],arguments[2]);break;default:for(P=new Array(H-1),L=1;L<H;L++)P[L-1]=arguments[L];$.apply(this,P)}return!0}else $&&($=$.slice());if($&&$.length){if(H>3)for(P=new Array(H-1),L=1;L<H;L++)P[L-1]=arguments[L];for(I=0,B=$.length;I<B;I++)switch(this.event=v,H){case 1:$[I].call(this);break;case 2:$[I].call(this,arguments[1]);break;case 3:$[I].call(this,arguments[1],arguments[2]);break;default:$[I].apply(this,P)}return!0}else if(!this.ignoreErrors&&!this._all&&v==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},T.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var v=arguments[0],x=this.wildcard,g,P,B,I,L,G;if(v==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(x&&(g=v,v!=="newListener"&&v!=="removeListener"&&typeof v=="object")){if(I=v.length,o){for(L=0;L<I;L++)if(typeof v[L]=="symbol"){P=!0;break}}P||(v=v.join(this.delimiter))}var H=[],$=arguments.length,K;if(this._all)for(L=0,I=this._all.length;L<I;L++)switch(this.event=v,$){case 1:H.push(this._all[L].call(this,v));break;case 2:H.push(this._all[L].call(this,v,arguments[1]));break;case 3:H.push(this._all[L].call(this,v,arguments[1],arguments[2]));break;default:H.push(this._all[L].apply(this,arguments))}if(x?(K=[],z.call(this,K,g,this.listenerTree,0)):K=this._events[v],typeof K=="function")switch(this.event=v,$){case 1:H.push(K.call(this));break;case 2:H.push(K.call(this,arguments[1]));break;case 3:H.push(K.call(this,arguments[1],arguments[2]));break;default:for(B=new Array($-1),G=1;G<$;G++)B[G-1]=arguments[G];H.push(K.apply(this,B))}else if(K&&K.length){if(K=K.slice(),$>3)for(B=new Array($-1),G=1;G<$;G++)B[G-1]=arguments[G];for(L=0,I=K.length;L<I;L++)switch(this.event=v,$){case 1:H.push(K[L].call(this));break;case 2:H.push(K[L].call(this,arguments[1]));break;case 3:H.push(K[L].call(this,arguments[1],arguments[2]));break;default:H.push(K[L].apply(this,B))}}else if(!this.ignoreErrors&&!this._all&&v==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(H)},T.prototype.on=function(v,x,g){return this._on(v,x,!1,g)},T.prototype.prependListener=function(v,x,g){return this._on(v,x,!0,g)},T.prototype.onAny=function(v){return this._onAny(v,!1)},T.prototype.prependAny=function(v){return this._onAny(v,!0)},T.prototype.addListener=T.prototype.on,T.prototype._onAny=function(v,x){if(typeof v!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),x?this._all.unshift(v):this._all.push(v),this},T.prototype._on=function(v,x,g,P){if(typeof v=="function")return this._onAny(v,x),this;if(typeof x!="function")throw new Error("on only accepts instances of Function");this._events||u.call(this);var B=this,I;return P!==t&&(I=S.call(this,v,x,P),x=I[0],B=I[1]),this._newListener&&this.emit("newListener",v,x),this.wildcard?(N.call(this,v,x,g),B):(this._events[v]?(typeof this._events[v]=="function"&&(this._events[v]=[this._events[v]]),g?this._events[v].unshift(x):this._events[v].push(x),!this._events[v].warned&&this._maxListeners>0&&this._events[v].length>this._maxListeners&&(this._events[v].warned=!0,f.call(this,this._events[v].length,v))):this._events[v]=x,B)},T.prototype.off=function(v,x){if(typeof x!="function")throw new Error("removeListener only takes instances of Function");var g,P=[];if(this.wildcard){var B=typeof v=="string"?v.split(this.delimiter):v.slice();if(P=z.call(this,null,B,this.listenerTree,0),!P)return this}else{if(!this._events[v])return this;g=this._events[v],P.push({_listeners:g})}for(var I=0;I<P.length;I++){var L=P[I];if(g=L._listeners,r(g)){for(var G=-1,H=0,$=g.length;H<$;H++)if(g[H]===x||g[H].listener&&g[H].listener===x||g[H]._origin&&g[H]._origin===x){G=H;break}if(G<0)continue;return this.wildcard?L._listeners.splice(G,1):this._events[v].splice(G,1),g.length===0&&(this.wildcard?delete L._listeners:delete this._events[v]),this._removeListener&&this.emit("removeListener",v,x),this}else(g===x||g.listener&&g.listener===x||g._origin&&g._origin===x)&&(this.wildcard?delete L._listeners:delete this._events[v],this._removeListener&&this.emit("removeListener",v,x))}return this.listenerTree&&O(this.listenerTree),this},T.prototype.offAny=function(v){var x=0,g=0,P;if(v&&this._all&&this._all.length>0){for(P=this._all,x=0,g=P.length;x<g;x++)if(v===P[x])return P.splice(x,1),this._removeListener&&this.emit("removeListenerAny",v),this}else{if(P=this._all,this._removeListener)for(x=0,g=P.length;x<g;x++)this.emit("removeListenerAny",P[x]);this._all=[]}return this},T.prototype.removeListener=T.prototype.off,T.prototype.removeAllListeners=function(v){if(v===t)return!this._events||u.call(this),this;if(this.wildcard){var x=z.call(this,null,v,this.listenerTree,0),g,P;if(!x)return this;for(P=0;P<x.length;P++)g=x[P],g._listeners=null;this.listenerTree&&O(this.listenerTree)}else this._events&&(this._events[v]=null);return this},T.prototype.listeners=function(v){var x=this._events,g,P,B,I,L;if(v===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!x)return[];for(g=l(x),I=g.length,B=[];I-- >0;)P=x[g[I]],typeof P=="function"?B.push(P):B.push.apply(B,P);return B}else{if(this.wildcard){if(L=this.listenerTree,!L)return[];var G=[],H=typeof v=="string"?v.split(this.delimiter):v.slice();return z.call(this,G,H,L,0),G}return x?(P=x[v],P?typeof P=="function"?[P]:P:[]):[]}},T.prototype.eventNames=function(v){var x=this._events;return this.wildcard?k.call(this,this.listenerTree,[],null,v):x?l(x):[]},T.prototype.listenerCount=function(v){return this.listeners(v).length},T.prototype.hasListeners=function(v){if(this.wildcard){var x=[],g=typeof v=="string"?v.split(this.delimiter):v.slice();return z.call(this,x,g,this.listenerTree,0),x.length>0}var P=this._events,B=this._all;return!!(B&&B.length||P&&(v===t?l(P).length:P[v]))},T.prototype.listenersAny=function(){return this._all?this._all:[]},T.prototype.waitFor=function(v,x){var g=this,P=typeof x;return P==="number"?x={timeout:x}:P==="function"&&(x={filter:x}),x=_(x,{timeout:0,filter:t,handleError:!1,Promise,overload:!1},{filter:R,Promise:A}),U(x.Promise,function(B,I,L){function G(){var H=x.filter;if(!(H&&!H.apply(g,arguments)))if(g.off(v,G),x.handleError){var $=arguments[0];$?I($):B(p.apply(null,arguments).slice(1))}else B(p.apply(null,arguments))}L(function(){g.off(v,G)}),g._on(v,G,!1)},{timeout:x.timeout,overload:x.overload})};function m(v,x,g){g=_(g,{Promise,timeout:0,overload:!1},{Promise:A});var P=g.Promise;return U(P,function(B,I,L){var G;if(typeof v.addEventListener=="function"){G=function(){B(p.apply(null,arguments))},L(function(){v.removeEventListener(x,G)}),v.addEventListener(x,G,{once:!0});return}var H=function(){$&&v.removeListener("error",$),B(p.apply(null,arguments))},$;x!=="error"&&($=function(K){v.removeListener(x,H),I(K)},v.once("error",$)),L(function(){$&&v.removeListener("error",$),v.removeListener(x,H)}),v.once(x,H)},{timeout:g.timeout,overload:g.overload})}var y=T.prototype;if(Object.defineProperties(T,{defaultMaxListeners:{get:function(){return y._maxListeners},set:function(v){if(typeof v!="number"||v<0||Number.isNaN(v))throw TypeError("n must be a non-negative number");y._maxListeners=v},enumerable:!0},once:{value:m,writable:!0,configurable:!0}}),Object.defineProperties(y,{_maxListeners:{value:n,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return T});else if(typeof vEe=="object")EEe.exports=T;else{var E=new Function("","return this")();E.EventEmitter2=T}})()});function u_(){if(!YM&&(YM=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!YM))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return YM(W5t)}var YM,W5t,zZ=D(()=>{W5t=new Uint8Array(16)});var AEe,TEe=D(()=>{AEe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Y5t(t){return typeof t=="string"&&AEe.test(t)}var Wd,d_=D(()=>{TEe();Wd=Y5t});function J5t(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(us[t[e+0]]+us[t[e+1]]+us[t[e+2]]+us[t[e+3]]+"-"+us[t[e+4]]+us[t[e+5]]+"-"+us[t[e+6]]+us[t[e+7]]+"-"+us[t[e+8]]+us[t[e+9]]+"-"+us[t[e+10]]+us[t[e+11]]+us[t[e+12]]+us[t[e+13]]+us[t[e+14]]+us[t[e+15]]).toLowerCase();if(!Wd(r))throw TypeError("Stringified UUID is invalid");return r}var us,JM,hm,f_=D(()=>{d_();us=[];for(JM=0;JM<256;++JM)us.push((JM+256).toString(16).substr(1));hm=J5t});function Q5t(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var o=t.node||_Ee,a=t.clockseq!==void 0?t.clockseq:GZ;if(o==null||a==null){var s=t.random||(t.rng||u_)();o==null&&(o=_Ee=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=GZ=(s[6]<<8|s[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:$Z+1,u=c-jZ+(l-$Z)/1e4;if(u<0&&t.clockseq===void 0&&(a=a+1&16383),(u<0||c>jZ)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");jZ=c,$Z=l,GZ=a,c+=122192928e5;var d=((c&268435455)*1e4+l)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;var f=c/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var p=0;p<6;++p)i[n+p]=o[p];return e||hm(i)}var _Ee,GZ,jZ,$Z,SEe,IEe=D(()=>{zZ();f_();jZ=0,$Z=0;SEe=Q5t});function Z5t(t){if(!Wd(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var QM,VZ=D(()=>{d_();QM=Z5t});function X5t(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function ZM(t,e,r){function n(i,o,a,s){if(typeof i=="string"&&(i=X5t(i)),typeof o=="string"&&(o=QM(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,a){s=s||0;for(var l=0;l<16;++l)a[s+l]=c[l];return a}return hm(c)}try{n.name=t}catch{}return n.DNS=emt,n.URL=tmt,n}var emt,tmt,KZ=D(()=>{f_();VZ();emt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",tmt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function rmt(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return nmt(imt(omt(t),t.length*8))}function nmt(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function CEe(t){return(t+64>>>9<<4)+14+1}function imt(t,e){t[e>>5]|=128<<e%32,t[CEe(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=r,c=n,l=i,u=o;r=$s(r,n,i,o,t[a],7,-680876936),o=$s(o,r,n,i,t[a+1],12,-389564586),i=$s(i,o,r,n,t[a+2],17,606105819),n=$s(n,i,o,r,t[a+3],22,-1044525330),r=$s(r,n,i,o,t[a+4],7,-176418897),o=$s(o,r,n,i,t[a+5],12,1200080426),i=$s(i,o,r,n,t[a+6],17,-1473231341),n=$s(n,i,o,r,t[a+7],22,-45705983),r=$s(r,n,i,o,t[a+8],7,1770035416),o=$s(o,r,n,i,t[a+9],12,-1958414417),i=$s(i,o,r,n,t[a+10],17,-42063),n=$s(n,i,o,r,t[a+11],22,-1990404162),r=$s(r,n,i,o,t[a+12],7,1804603682),o=$s(o,r,n,i,t[a+13],12,-40341101),i=$s(i,o,r,n,t[a+14],17,-1502002290),n=$s(n,i,o,r,t[a+15],22,1236535329),r=Vs(r,n,i,o,t[a+1],5,-165796510),o=Vs(o,r,n,i,t[a+6],9,-1069501632),i=Vs(i,o,r,n,t[a+11],14,643717713),n=Vs(n,i,o,r,t[a],20,-373897302),r=Vs(r,n,i,o,t[a+5],5,-701558691),o=Vs(o,r,n,i,t[a+10],9,38016083),i=Vs(i,o,r,n,t[a+15],14,-660478335),n=Vs(n,i,o,r,t[a+4],20,-405537848),r=Vs(r,n,i,o,t[a+9],5,568446438),o=Vs(o,r,n,i,t[a+14],9,-1019803690),i=Vs(i,o,r,n,t[a+3],14,-187363961),n=Vs(n,i,o,r,t[a+8],20,1163531501),r=Vs(r,n,i,o,t[a+13],5,-1444681467),o=Vs(o,r,n,i,t[a+2],9,-51403784),i=Vs(i,o,r,n,t[a+7],14,1735328473),n=Vs(n,i,o,r,t[a+12],20,-1926607734),r=Ks(r,n,i,o,t[a+5],4,-378558),o=Ks(o,r,n,i,t[a+8],11,-2022574463),i=Ks(i,o,r,n,t[a+11],16,1839030562),n=Ks(n,i,o,r,t[a+14],23,-35309556),r=Ks(r,n,i,o,t[a+1],4,-1530992060),o=Ks(o,r,n,i,t[a+4],11,1272893353),i=Ks(i,o,r,n,t[a+7],16,-155497632),n=Ks(n,i,o,r,t[a+10],23,-1094730640),r=Ks(r,n,i,o,t[a+13],4,681279174),o=Ks(o,r,n,i,t[a],11,-358537222),i=Ks(i,o,r,n,t[a+3],16,-722521979),n=Ks(n,i,o,r,t[a+6],23,76029189),r=Ks(r,n,i,o,t[a+9],4,-640364487),o=Ks(o,r,n,i,t[a+12],11,-421815835),i=Ks(i,o,r,n,t[a+15],16,530742520),n=Ks(n,i,o,r,t[a+2],23,-995338651),r=qs(r,n,i,o,t[a],6,-198630844),o=qs(o,r,n,i,t[a+7],10,1126891415),i=qs(i,o,r,n,t[a+14],15,-1416354905),n=qs(n,i,o,r,t[a+5],21,-57434055),r=qs(r,n,i,o,t[a+12],6,1700485571),o=qs(o,r,n,i,t[a+3],10,-1894986606),i=qs(i,o,r,n,t[a+10],15,-1051523),n=qs(n,i,o,r,t[a+1],21,-2054922799),r=qs(r,n,i,o,t[a+8],6,1873313359),o=qs(o,r,n,i,t[a+15],10,-30611744),i=qs(i,o,r,n,t[a+6],15,-1560198380),n=qs(n,i,o,r,t[a+13],21,1309151649),r=qs(r,n,i,o,t[a+4],6,-145523070),o=qs(o,r,n,i,t[a+11],10,-1120210379),i=qs(i,o,r,n,t[a+2],15,718787259),n=qs(n,i,o,r,t[a+9],21,-343485551),r=mm(r,s),n=mm(n,c),i=mm(i,l),o=mm(o,u)}return[r,n,i,o]}function omt(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(CEe(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function mm(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function amt(t,e){return t<<e|t>>>32-e}function XM(t,e,r,n,i,o){return mm(amt(mm(mm(e,t),mm(n,o)),i),r)}function $s(t,e,r,n,i,o,a){return XM(e&r|~e&n,t,e,i,o,a)}function Vs(t,e,r,n,i,o,a){return XM(e&n|r&~n,t,e,i,o,a)}function Ks(t,e,r,n,i,o,a){return XM(e^r^n,t,e,i,o,a)}function qs(t,e,r,n,i,o,a){return XM(r^(e|~n),t,e,i,o,a)}var REe,PEe=D(()=>{REe=rmt});var smt,OEe,NEe=D(()=>{KZ();PEe();smt=ZM("v3",48,REe),OEe=smt});function cmt(t,e,r){t=t||{};var n=t.random||(t.rng||u_)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return hm(n)}var Yd,kEe=D(()=>{zZ();f_();Yd=cmt});function lmt(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function qZ(t,e){return t<<e|t>>>32-e}function umt(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,a=Math.ceil(o/16),s=new Array(a),c=0;c<a;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[c*64+u*4]<<24|t[c*64+u*4+1]<<16|t[c*64+u*4+2]<<8|t[c*64+u*4+3];s[c]=l}s[a-1][14]=(t.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<a;++d){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=s[d][p];for(var h=16;h<80;++h)f[h]=qZ(f[h-3]^f[h-8]^f[h-14]^f[h-16],1);for(var b=r[0],_=r[1],A=r[2],C=r[3],R=r[4],M=0;M<80;++M){var U=Math.floor(M/20),F=qZ(b,5)+lmt(U,_,A,C)+R+e[U]+f[M]>>>0;R=C,C=A,A=qZ(_,30)>>>0,_=b,b=F}r[0]=r[0]+b>>>0,r[1]=r[1]+_>>>0,r[2]=r[2]+A>>>0,r[3]=r[3]+C>>>0,r[4]=r[4]+R>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var MEe,BEe=D(()=>{MEe=umt});var dmt,DEe,LEe=D(()=>{KZ();BEe();dmt=ZM("v5",80,MEe),DEe=dmt});var UEe,FEe=D(()=>{UEe="00000000-0000-0000-0000-000000000000"});function fmt(t){if(!Wd(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var HEe,zEe=D(()=>{d_();HEe=fmt});var WZ={};lr(WZ,{NIL:()=>UEe,parse:()=>QM,stringify:()=>hm,v1:()=>SEe,v3:()=>OEe,v4:()=>Yd,v5:()=>DEe,validate:()=>Wd,version:()=>HEe});var eB=D(()=>{IEe();NEe();kEe();LEe();FEe();zEe();d_();f_();VZ()});function K4(t){let e=!1,r=0,n;try{n=window[t],e=!0,r=n.length;let i="__storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(i){let o=i;return!!(o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&r!==0)}}var q4,W4,Y4,RD,Z_=D(()=>{rZ();q4=t=>{let e=_M(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},W4=(t,e)=>K4("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,Y4=(t,e,r)=>K4("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,r):null,RD=(t,e)=>K4("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null});var J4,lte=D(()=>{Ho();dg();Z_();X7();ku();ma();J4=class extends E1{async init(e){}async getIdentityToken(){if(!this.provider||this.status!==Oe.CONNECTED)throw Xe.notConnectedError();if(!this.coreOptions)throw tt.invalidParams("Please initialize Web3Auth with valid options");let e=await this.provider.request({method:Li.GET_ACCOUNTS});if(e&&e.length>0){let r=W4(e[0],this.name);if(r&&!q4(r))return{idToken:r};let n=await this.provider.request({method:"eth_chainId"}),i=this.coreOptions.chains.find(d=>d.chainId===n);if(!i)throw tt.invalidParams("chainConfig is required before authentication");let{chainNamespace:o}=i,a={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(n,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await ng(a,o),c=`0x${Buffer.from(s,"utf8").toString("hex")}`,l=await this.provider.request({method:Li.PERSONAL_SIGN,params:[c,e[0]]}),u=await ig(o,l,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return Y4(e[0],this.name,u),{idToken:u}}throw Xe.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();let e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&RD(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(ot.DISCONNECTED)}}});var OD,J_e=D(()=>{OD="solana:signAndSendTransaction"});var Q_e=D(()=>{});var ND,Z_e=D(()=>{ND="solana:signMessage"});var X_,X_e=D(()=>{X_="solana:signTransaction"});var eSe=D(()=>{});var hte=D(()=>{J_e();Q_e();Z_e();X_e();eSe()});function cgt(t){tS=void 0,MD.add(t)}function lgt(t){tS=void 0,MD.delete(t)}function nSe(){if(eS||(eS=Object.freeze({register:tSe,get:ugt,on:dgt}),typeof window>"u"))return eS;let t=Object.freeze({register:tSe});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new mte(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return eS}function tSe(...t){return t=t.filter(e=>!MD.has(e)),t.length?(t.forEach(e=>cgt(e)),Z4.register?.forEach(e=>rSe(()=>e(...t))),function(){t.forEach(r=>lgt(r)),Z4.unregister?.forEach(r=>rSe(()=>r(...t)))}):()=>{}}function ugt(){return tS||(tS=[...MD]),tS}function dgt(t,e){return Z4[t]?.push(e)||(Z4[t]=[e]),function(){Z4[t]=Z4[t]?.filter(n=>e!==n)}}function rSe(t){try{t()}catch(e){console.error(e)}}var agt,sgt,kD,eS,MD,Z4,tS,mte,iSe=D(()=>{agt=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},sgt=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},MD=new Set;Z4={};mte=class extends Event{get detail(){return agt(this,kD,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),kD.set(this,void 0),sgt(this,kD,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};kD=new WeakMap});var oSe=D(()=>{iSe()});var BD,aSe=D(()=>{BD="standard:connect"});var sSe,cSe=D(()=>{sSe="standard:disconnect"});var lSe=D(()=>{});var bte=D(()=>{aSe();cSe();lSe()});var DD,uSe=D(()=>{Ho();dg();X7();ku();ma();Z_();DD=class extends E1{async init(e){}async getIdentityToken(){if(!this.provider||this.status!==Oe.CONNECTED)throw Xe.notConnectedError();if(!this.coreOptions)throw tt.invalidParams("Please initialize Web3Auth with a valid options");let e=await this.provider.request({method:zn.GET_ACCOUNTS});if(e&&e.length>0){let r=W4(e[0],this.name);if(r&&!q4(r))return{idToken:r};let n=await this.provider.request({method:"solana_chainId"}),i=this.coreOptions.chains.find(u=>u.chainId===n);if(!i)throw tt.invalidParams("chainConfig is required before authentication");let{chainNamespace:o}=i,a={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(n,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await ng(a,o),c=await this.provider.request({method:zn.SIGN_MESSAGE,params:{data:s,display:"utf8"}}),l=await ig(o,c,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return Y4(e[0],this.name,l),{idToken:l}}throw Xe.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();let e=await this.provider.request({method:zn.GET_ACCOUNTS});e&&e.length>0&&RD(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(ot.DISCONNECTED)}}});function P6(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function Rl(t,e,r=""){let n=Pa(t),i=t?.length,o=e!==void 0;if(!n||o&&i!==e){let a=r&&`"${r}" `,s=o?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+s+", got "+c)}return t}function X4(t){let e=t.toString(16);return e.length&1?"0"+e:e}function vte(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?wte:BigInt("0x"+t)}function Rg(t){return vte(Vi(t))}function D1(t){return fi(t),vte(Vi(Uint8Array.from(t).reverse()))}function rS(t,e){return os(t.toString(16).padStart(e*2,"0"))}function LD(t,e){return rS(t,e).reverse()}function Zn(t,e,r){let n;if(typeof e=="string")try{n=os(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Pa(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function UD(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function FD(t){return Uint8Array.from(t)}function Ete(t,e,r){return yte(t)&&yte(e)&&yte(r)&&e<=t&&t<r}function ev(t,e,r,n){if(!Ete(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function nS(t){let e;for(e=0;t>wte;t>>=gte,e+=1);return e}function xte(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=p=>new Uint8Array(p),i=p=>Uint8Array.of(p),o=n(t),a=n(t),s=0,c=()=>{o.fill(1),a.fill(0),s=0},l=(...p)=>r(a,o,...p),u=(p=n(0))=>{a=l(i(0),p),o=l(),p.length!==0&&(a=l(i(1),p),o=l())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,h=[];for(;p<e;){o=l();let b=o.slice();h.push(b),p+=o.length}return Wr(...h)};return(p,h)=>{c(),u(p);let b;for(;!(b=h(d()));)u();return c(),b}}function Fm(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,o,a){let s=t[i];if(a&&s===void 0)return;let c=typeof s;if(c!==o||s===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}function Pg(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}var wte,gte,yte,O6,HD,Og=D(()=>{Na();Na();wte=BigInt(0),gte=BigInt(1);yte=t=>typeof t=="bigint"&&wte<=t;O6=t=>(gte<<BigInt(t))-gte;HD=()=>{throw new Error("not implemented")}});function Eo(t,e){let r=t%e;return r>=j0?r:e+r}function qi(t,e,r){let n=t;for(;e-- >j0;)n*=n,n%=r;return n}function fSe(t,e){if(t===j0)throw new Error("invert: expected non-zero number");if(e<=j0)throw new Error("invert: expected positive modulus, got "+e);let r=Eo(t,e),n=e,i=j0,o=Va,a=Va,s=j0;for(;r!==j0;){let l=n/r,u=n%r,d=i-a*l,f=o-s*l;n=r,r=u,i=a,o=s,a=d,s=f}if(n!==Va)throw new Error("invert: does not exist");return Eo(i,e)}function Ate(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function wSe(t,e){let r=(t.ORDER+Va)/mSe,n=t.pow(e,r);return Ate(t,n,e),n}function mgt(t,e){let r=(t.ORDER-bSe)/ySe,n=t.mul(e,Ng),i=t.pow(n,r),o=t.mul(e,i),a=t.mul(t.mul(o,Ng),i),s=t.mul(o,t.sub(a,t.ONE));return Ate(t,s,e),s}function bgt(t){let e=Pl(t),r=vSe(t),n=r(e,e.neg(e.ONE)),i=r(e,n),o=r(e,e.neg(n)),a=(t+pgt)/gSe;return(s,c)=>{let l=s.pow(c,a),u=s.mul(l,n),d=s.mul(l,i),f=s.mul(l,o),p=s.eql(s.sqr(u),c),h=s.eql(s.sqr(d),c);l=s.cmov(l,u,p),u=s.cmov(f,d,h);let b=s.eql(s.sqr(u),c),_=s.cmov(l,u,b);return Ate(s,_,c),_}}function vSe(t){if(t<hSe)throw new Error("sqrt is not defined for small field");let e=t-Va,r=0;for(;e%Ng===j0;)e/=Ng,r++;let n=Ng,i=Pl(t);for(;pSe(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return wSe;let o=i.pow(n,e),a=(e+Va)/Ng;return function(c,l){if(c.is0(l))return l;if(pSe(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),f=c.pow(l,e),p=c.pow(l,a);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let h=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(h++,b=c.sqr(b),h===u)throw new Error("Cannot find square root");let _=Va<<BigInt(u-h-1),A=c.pow(d,_);u=h,d=c.sqr(A),f=c.mul(f,d),p=c.mul(p,A)}return p}}function ygt(t){return t%mSe===hSe?wSe:t%ySe===bSe?mgt:t%gSe===hgt?bgt(t):vSe(t)}function Tte(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=ggt.reduce((n,i)=>(n[i]="function",n),e);return Fm(t,r),t}function wgt(t,e,r){if(r<j0)throw new Error("invalid exponent, negatives unsupported");if(r===j0)return t.ONE;if(r===Va)return e;let n=t.ONE,i=e;for(;r>j0;)r&Va&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Va;return n}function iS(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((a,s,c)=>t.is0(s)?a:(n[c]=a,t.mul(a,s)),t.ONE),o=t.inv(i);return e.reduceRight((a,s,c)=>t.is0(s)?a:(n[c]=t.mul(a,n[c]),t.mul(a,s)),o),n}function pSe(t,e){let r=(t.ORDER-Va)/Ng,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function zD(t,e){e!==void 0&&N0(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Pl(t,e,r=!1,n={}){if(t<=j0)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,a=!1,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let f=e;f.BITS&&(i=f.BITS),f.sqrt&&(o=f.sqrt),typeof f.isLE=="boolean"&&(r=f.isLE),typeof f.modFromBytes=="boolean"&&(a=f.modFromBytes),s=f.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(o=n.sqrt);let{nBitLength:c,nByteLength:l}=zD(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:O6(c),ZERO:j0,ONE:Va,allowedLengths:s,create:f=>Eo(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return j0<=f&&f<t},is0:f=>f===j0,isValidNot0:f=>!d.is0(f)&&d.isValid(f),isOdd:f=>(f&Va)===Va,neg:f=>Eo(-f,t),eql:(f,p)=>f===p,sqr:f=>Eo(f*f,t),add:(f,p)=>Eo(f+p,t),sub:(f,p)=>Eo(f-p,t),mul:(f,p)=>Eo(f*p,t),pow:(f,p)=>wgt(d,f,p),div:(f,p)=>Eo(f*fSe(p,t),t),sqrN:f=>f*f,addN:(f,p)=>f+p,subN:(f,p)=>f-p,mulN:(f,p)=>f*p,inv:f=>fSe(f,t),sqrt:o||(f=>(u||(u=ygt(t)),u(d,f))),toBytes:f=>r?LD(f,l):rS(f,l),fromBytes:(f,p=!0)=>{if(s){if(!s.includes(f.length)||f.length>l)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+f.length);let b=new Uint8Array(l);b.set(f,r?0:b.length-f.length),f=b}if(f.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+f.length);let h=r?D1(f):Rg(f);if(a&&(h=Eo(h,t)),!p&&!d.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:f=>iS(d,f),cmov:(f,p,h)=>h?p:f});return Object.freeze(d)}function ESe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function _te(t){let e=ESe(t);return e+Math.ceil(e/2)}function Ste(t,e,r=!1){let n=t.length,i=ESe(e),o=_te(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let a=r?D1(t):Rg(t),s=Eo(a,e-Va)+Va;return r?LD(s,i):rS(s,i)}var j0,Va,Ng,hSe,mSe,bSe,pgt,ySe,hgt,gSe,N6,ggt,tv=D(()=>{Og();j0=BigInt(0),Va=BigInt(1),Ng=BigInt(2),hSe=BigInt(3),mSe=BigInt(4),bSe=BigInt(5),pgt=BigInt(7),ySe=BigInt(8),hgt=BigInt(9),gSe=BigInt(16);N6=(t,e)=>(Eo(t,e)&Va)===Va,ggt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function oS(t,e){let r=e.negate();return t?r:e}function k6(t,e){let r=iS(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function _Se(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ite(t,e){_Se(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,o=O6(t),a=BigInt(t);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:a}}function xSe(t,e,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(t&i),c=t>>a;s>n&&(s-=o,c+=kg);let l=e*n,u=l+Math.abs(s)-1,d=s===0,f=s<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:p,offsetF:l}}function Egt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function xgt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function Rte(t){return SSe.get(t)||1}function ASe(t){if(t!==rv)throw new Error("invalid wNAF")}function ISe(t,e,r,n){let i=e,o=t.ZERO,a=t.ZERO;for(;r>rv||n>rv;)r&kg&&(o=o.add(i)),n&kg&&(a=a.add(i)),i=i.double(),r>>=kg,n>>=kg;return{p1:o,p2:a}}function iv(t,e,r,n){Egt(r,t),xgt(n,e);let i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");let a=t.ZERO,s=nS(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=O6(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c,f=a;for(let p=d;p>=0;p-=c){u.fill(a);for(let b=0;b<o;b++){let _=n[b],A=Number(_>>BigInt(p)&l);u[A]=u[A].add(r[b])}let h=a;for(let b=u.length-1,_=a;b>0;b--)_=_.add(u[b]),h=h.add(_);if(f=f.add(h),p!==0)for(let b=0;b<c;b++)f=f.double()}return f}function TSe(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Tte(e),e}else return Pl(t,{isLE:r})}function GD(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let l=e[c];if(!(typeof l=="bigint"&&l>rv))throw new Error(`CURVE.${c} must be positive bigint`)}let i=TSe(e.p,r.Fp,n),o=TSe(e.n,r.Fn,n),s=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of s)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}var rv,kg,Cte,SSe,nv,jD=D(()=>{Og();tv();rv=BigInt(0),kg=BigInt(1);Cte=new WeakMap,SSe=new WeakMap;nv=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>rv;)r&kg&&(n=n.add(i)),i=i.double(),r>>=kg;return n}precomputeWindow(e,r){let{windows:n,windowSize:i}=Ite(r,this.bits),o=[],a=e,s=a;for(let c=0;c<n;c++){s=a,o.push(s);for(let l=1;l<i;l++)s=s.add(a),o.push(s);a=s.double()}return o}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE,a=Ite(e,this.bits);for(let s=0;s<a.windows;s++){let{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:f,offsetF:p}=xSe(n,s,a);n=c,u?o=o.add(oS(f,r[p])):i=i.add(oS(d,r[l]))}return ASe(n),{p:i,f:o}}wNAFUnsafe(e,r,n,i=this.ZERO){let o=Ite(e,this.bits);for(let a=0;a<o.windows&&n!==rv;a++){let{nextN:s,offset:c,isZero:l,isNeg:u}=xSe(n,a,o);if(n=s,!l){let d=r[c];i=i.add(u?d.negate():d)}}return ASe(n),i}getPrecomputes(e,r,n){let i=Cte.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),Cte.set(r,i))),i}cached(e,r,n){let i=Rte(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){let o=Rte(e);return o===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,n),r,i)}createCache(e,r){_Se(r,this.bits),SSe.set(e,r),Cte.delete(e)}hasCache(e){return Rte(e)!==1}}});function Tgt(t,e,r,n){let i=t.sqr(r),o=t.sqr(n),a=t.add(t.mul(e.a,i),o),s=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(a,s)}function _gt(t,e={}){let r=GD("edwards",t,e,e.FpFnLE),{Fp:n,Fn:i}=r,o=r.CURVE,{h:a}=o;Fm(e,{},{uvRatio:"function"});let s=Pte<<BigInt(i.BYTES*8)-Ka,c=_=>n.create(_),l=e.uvRatio||((_,A)=>{try{return{isValid:!0,value:n.sqrt(n.div(_,A))}}catch{return{isValid:!1,value:Hm}}});if(!Tgt(n,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function u(_,A,C=!1){let R=C?Ka:Hm;return ev("coordinate "+_,A,R,s),A}function d(_){if(!(_ instanceof h))throw new Error("ExtendedPoint expected")}let f=Pg((_,A)=>{let{X:C,Y:R,Z:M}=_,U=_.is0();A==null&&(A=U?Agt:n.inv(M));let F=c(C*A),z=c(R*A),N=n.mul(M,A);if(U)return{x:Hm,y:Ka};if(N!==Ka)throw new Error("invZ was invalid");return{x:F,y:z}}),p=Pg(_=>{let{a:A,d:C}=o;if(_.is0())throw new Error("bad point: ZERO");let{X:R,Y:M,Z:U,T:F}=_,z=c(R*R),N=c(M*M),k=c(U*U),O=c(k*k),w=c(z*A),S=c(k*c(w+N)),T=c(O+c(C*c(z*N)));if(S!==T)throw new Error("bad point: equation left != right (1)");let m=c(R*M),y=c(U*F);if(m!==y)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(A,C,R,M){this.X=u("x",A),this.Y=u("y",C),this.Z=u("z",R,!0),this.T=u("t",M),Object.freeze(this)}static CURVE(){return o}static fromAffine(A){if(A instanceof h)throw new Error("extended point not allowed");let{x:C,y:R}=A||{};return u("x",C),u("y",R),new h(C,R,Ka,c(C*R))}static fromBytes(A,C=!1){let R=n.BYTES,{a:M,d:U}=o;A=FD(Rl(A,R,"point")),P6(C,"zip215");let F=FD(A),z=A[R-1];F[R-1]=z&-129;let N=D1(F),k=C?s:n.ORDER;ev("point.y",N,Hm,k);let O=c(N*N),w=c(O-Ka),S=c(U*O-M),{isValid:T,value:m}=l(w,S);if(!T)throw new Error("bad point: invalid y coordinate");let y=(m&Ka)===Ka,E=(z&128)!==0;if(!C&&m===Hm&&E)throw new Error("bad point: x=0 and x_0=1");return E!==y&&(m=c(-m)),h.fromAffine({x:m,y:N})}static fromHex(A,C=!1){return h.fromBytes(Zn("point",A),C)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(A=8,C=!0){return b.createCache(this,A),C||this.multiply(Pte),this}assertValidity(){p(this)}equals(A){d(A);let{X:C,Y:R,Z:M}=this,{X:U,Y:F,Z:z}=A,N=c(C*z),k=c(U*M),O=c(R*z),w=c(F*M);return N===k&&O===w}is0(){return this.equals(h.ZERO)}negate(){return new h(c(-this.X),this.Y,this.Z,c(-this.T))}double(){let{a:A}=o,{X:C,Y:R,Z:M}=this,U=c(C*C),F=c(R*R),z=c(Pte*c(M*M)),N=c(A*U),k=C+R,O=c(c(k*k)-U-F),w=N+F,S=w-z,T=N-F,m=c(O*S),y=c(w*T),E=c(O*T),v=c(S*w);return new h(m,y,v,E)}add(A){d(A);let{a:C,d:R}=o,{X:M,Y:U,Z:F,T:z}=this,{X:N,Y:k,Z:O,T:w}=A,S=c(M*N),T=c(U*k),m=c(z*R*w),y=c(F*O),E=c((M+U)*(N+k)-S-T),v=y-m,x=y+m,g=c(T-C*S),P=c(E*v),B=c(x*g),I=c(E*g),L=c(v*x);return new h(P,B,L,I)}subtract(A){return this.add(A.negate())}multiply(A){if(!i.isValidNot0(A))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:C,f:R}=b.cached(this,A,M=>k6(h,M));return k6(h,[C,R])[0]}multiplyUnsafe(A,C=h.ZERO){if(!i.isValid(A))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return A===Hm?h.ZERO:this.is0()||A===Ka?this:b.unsafe(this,A,R=>k6(h,R),C)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return b.unsafe(this,o.n).is0()}toAffine(A){return f(this,A)}clearCofactor(){return a===Ka?this:this.multiplyUnsafe(a)}toBytes(){let{x:A,y:C}=this.toAffine(),R=n.toBytes(C);return R[R.length-1]|=A&Ka?128:0,R}toHex(){return Vi(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(A){return k6(h,A)}static msm(A,C){return iv(h,i,A,C)}_setWindowSize(A){this.precompute(A)}toRawBytes(){return this.toBytes()}}h.BASE=new h(o.Gx,o.Gy,Ka,c(o.Gx*o.Gy)),h.ZERO=new h(Hm,Ka,Ka,Hm),h.Fp=n,h.Fn=i;let b=new nv(h,i.BITS);return h.BASE.precompute(8),h}function Sgt(t,e,r={}){if(typeof e!="function")throw new Error('"hash" function param is required');Fm(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:i,Fp:o,Fn:a}=t,s=r.randomBytes||Oa,c=r.adjustScalarBytes||(k=>k),l=r.domain||((k,O,w)=>{if(P6(w,"phflag"),O.length||w)throw new Error("Contexts/pre-hash are not supported");return k});function u(k){return a.create(D1(k))}function d(k){let O=R.secretKey;k=Zn("private key",k,O);let w=Zn("hashed private key",e(k),2*O),S=c(w.slice(0,O)),T=w.slice(O,2*O),m=u(S);return{head:S,prefix:T,scalar:m}}function f(k){let{head:O,prefix:w,scalar:S}=d(k),T=i.multiply(S),m=T.toBytes();return{head:O,prefix:w,scalar:S,point:T,pointBytes:m}}function p(k){return f(k).pointBytes}function h(k=Uint8Array.of(),...O){let w=Wr(...O);return u(e(l(w,Zn("context",k),!!n)))}function b(k,O,w={}){k=Zn("message",k),n&&(k=n(k));let{prefix:S,scalar:T,pointBytes:m}=f(O),y=h(w.context,S,k),E=i.multiply(y).toBytes(),v=h(w.context,E,m,k),x=a.create(y+v*T);if(!a.isValid(x))throw new Error("sign failed: invalid s");let g=Wr(E,a.toBytes(x));return Rl(g,R.signature,"result")}let _={zip215:!0};function A(k,O,w,S=_){let{context:T,zip215:m}=S,y=R.signature;k=Zn("signature",k,y),O=Zn("message",O),w=Zn("publicKey",w,R.publicKey),m!==void 0&&P6(m,"zip215"),n&&(O=n(O));let E=y/2,v=k.subarray(0,E),x=D1(k.subarray(E,y)),g,P,B;try{g=t.fromBytes(w,m),P=t.fromBytes(v,m),B=i.multiplyUnsafe(x)}catch{return!1}if(!m&&g.isSmallOrder())return!1;let I=h(T,P.toBytes(),g.toBytes(),O);return P.add(g.multiplyUnsafe(I)).subtract(B).clearCofactor().is0()}let C=o.BYTES,R={secretKey:C,publicKey:C,signature:2*C,seed:C};function M(k=s(R.seed)){return Rl(k,R.seed,"seed")}function U(k){let O=N.randomSecretKey(k);return{secretKey:O,publicKey:p(O)}}function F(k){return Pa(k)&&k.length===a.BYTES}function z(k,O){try{return!!t.fromBytes(k,O)}catch{return!1}}let N={getExtendedPublicKey:f,randomSecretKey:M,isValidSecretKey:F,isValidPublicKey:z,toMontgomery(k){let{y:O}=t.fromBytes(k),w=R.publicKey,S=w===32;if(!S&&w!==57)throw new Error("only defined for 25519 and 448");let T=S?o.div(Ka+O,Ka-O):o.div(O-Ka,O+Ka);return o.toBytes(T)},toMontgomerySecret(k){let O=R.secretKey;Rl(k,O);let w=e(k.subarray(0,O));return c(w).subarray(0,O)},randomPrivateKey:M,precompute(k=8,O=t.BASE){return O.precompute(k,!1)}};return Object.freeze({keygen:U,getPublicKey:p,sign:b,verify:A,utils:N,Point:t,lengths:R})}function Igt(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Pl(e.n,t.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function Cgt(t,e){let r=e.Point;return Object.assign({},e,{ExtendedPoint:r,CURVE:t,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}function CSe(t){let{CURVE:e,curveOpts:r,hash:n,eddsaOpts:i}=Igt(t),o=_gt(e,r),a=Sgt(o,n,i);return Cgt(t,a)}var Hm,Ka,Pte,Agt,$D,RSe=D(()=>{Og();jD();tv();Hm=BigInt(0),Ka=BigInt(1),Pte=BigInt(2),Agt=BigInt(8);$D=class{constructor(e){this.ep=e}static fromBytes(e){HD()}static fromHex(e){HD()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return Vi(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,r){return this.init(this.ep.precompute(e,r))}toRawBytes(){return this.toBytes()}}});function Ngt(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=ov,s=t*t%o*t%o,c=qi(s,PSe,o)*s%o,l=qi(c,M6,o)*t%o,u=qi(l,Pgt,o)*l%o,d=qi(u,e,o)*u%o,f=qi(d,r,o)*d%o,p=qi(f,n,o)*f%o,h=qi(p,i,o)*p%o,b=qi(h,i,o)*p%o,_=qi(b,e,o)*u%o;return{pow_p_5_8:qi(_,PSe,o)*t%o,b2:s}}function kgt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Mte(t,e){let r=ov,n=Eo(e*e*e,r),i=Eo(n*n*e,r),o=Ngt(t*i).pow_p_5_8,a=Eo(t*n*o,r),s=Eo(e*a*a,r),c=a,l=Eo(a*Ote,r),u=s===t,d=s===Eo(-t,r),f=s===Eo(-t*Ote,r);return u&&(a=c),(d||f)&&(a=l),N6(a,r)&&(a=Eo(-a,r)),{isValid:u||d,value:a}}function NSe(t){let{d:e}=aS,r=ov,n=A=>zm.create(A),i=n(Nte*t*t),o=n((i+M6)*Ugt),a=BigInt(-1),s=n((a-e*i)*n(i+e)),{isValid:c,value:l}=Mte(o,s),u=n(l*t);N6(u,r)||(u=n(-u)),c||(l=u),c||(a=i);let d=n(a*(i-M6)*Fgt-s),f=l*l,p=n((l+l)*s),h=n(d*Dgt),b=n(M6-f),_=n(M6+f);return new Pc.Point(n(p*_),n(b*h),n(h*_),n(p*b))}function zgt(t){fi(t,64);let e=kte(t.subarray(0,32)),r=NSe(e),n=kte(t.subarray(32,64)),i=NSe(n);return new B6(r.add(i))}var Rgt,M6,PSe,Bvr,Pgt,Ogt,ov,aS,Ote,zm,Mgt,Bgt,Pc,Nte,Dgt,Lgt,Ugt,Fgt,OSe,Hgt,kte,B6,kSe=D(()=>{Z3();Na();jD();RSe();tv();Og();Rgt=BigInt(0),M6=BigInt(1),PSe=BigInt(2),Bvr=BigInt(3),Pgt=BigInt(5),Ogt=BigInt(8),ov=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),aS={p:ov,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Ogt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};Ote=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");zm=Pl(aS.p,{isLE:!0}),Mgt=Pl(aS.n,{isLE:!0}),Bgt={...aS,Fp:zm,hash:Zpe,adjustScalarBytes:kgt,uvRatio:Mte},Pc=CSe(Bgt),Nte=Ote,Dgt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Lgt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ugt=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Fgt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),OSe=t=>Mte(M6,t),Hgt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),kte=t=>Pc.Point.Fp.create(D1(t)&Hgt);B6=class t extends $D{constructor(e){super(e)}static fromAffine(e){return new t(Pc.Point.fromAffine(e))}assertSame(e){if(!(e instanceof t))throw new Error("RistrettoPoint expected")}init(e){return new t(e)}static hashToCurve(e){return zgt(Zn("ristrettoHash",e,64))}static fromBytes(e){fi(e,32);let{a:r,d:n}=aS,i=ov,o=M=>zm.create(M),a=kte(e);if(!UD(zm.toBytes(a),e)||N6(a,i))throw new Error("invalid ristretto255 encoding 1");let s=o(a*a),c=o(M6+r*s),l=o(M6-r*s),u=o(c*c),d=o(l*l),f=o(r*n*u-d),{isValid:p,value:h}=OSe(o(f*d)),b=o(h*l),_=o(h*b*f),A=o((a+a)*b);N6(A,i)&&(A=o(-A));let C=o(c*_),R=o(A*C);if(!p||N6(R,i)||C===Rgt)throw new Error("invalid ristretto255 encoding 2");return new t(new Pc.Point(A,C,M6,R))}static fromHex(e){return t.fromBytes(Zn("ristrettoHex",e,32))}static msm(e,r){return iv(t,Pc.Point.Fn,e,r)}toBytes(){let{X:e,Y:r,Z:n,T:i}=this.ep,o=ov,a=_=>zm.create(_),s=a(a(n+r)*a(n-r)),c=a(e*r),l=a(c*c),{value:u}=OSe(a(s*l)),d=a(u*s),f=a(u*c),p=a(d*f*i),h;if(N6(i*p,o)){let _=a(r*Nte),A=a(e*Nte);e=_,r=A,h=a(d*Lgt)}else h=f;N6(e*p,o)&&(r=a(-r));let b=a((n-r)*h);return N6(b,o)&&(b=a(-b)),zm.toBytes(b)}equals(e){this.assertSame(e);let{X:r,Y:n}=this.ep,{X:i,Y:o}=e.ep,a=l=>zm.create(l),s=a(r*o)===a(n*i),c=a(n*o)===a(r*i);return s||c}is0(){return this.equals(t.ZERO)}};B6.BASE=new B6(Pc.Point.BASE);B6.ZERO=new B6(Pc.Point.ZERO);B6.Fp=zm;B6.Fn=Mgt});var BSe=de((Lvr,MSe)=>{"use strict";var VD=fJ().Buffer;function Ggt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var a=t.length,s=t.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function u(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=VD.from(p)),!VD.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var h=0,b=0,_=0,A=p.length;_!==A&&p[_]===0;)_++,h++;for(var C=(A-_)*l+1>>>0,R=new Uint8Array(C);_!==A;){for(var M=p[_],U=0,F=C-1;(M!==0||U<b)&&F!==-1;F--,U++)M+=256*R[F]>>>0,R[F]=M%a>>>0,M=M/a>>>0;if(M!==0)throw new Error("Non-zero carry");b=U,_++}for(var z=C-b;z!==C&&R[z]===0;)z++;for(var N=s.repeat(h);z<C;++z)N+=t.charAt(R[z]);return N}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return VD.alloc(0);for(var h=0,b=0,_=0;p[h]===s;)b++,h++;for(var A=(p.length-h)*c+1>>>0,C=new Uint8Array(A);h<p.length;){var R=p.charCodeAt(h);if(R>255)return;var M=e[R];if(M===255)return;for(var U=0,F=A-1;(M!==0||U<_)&&F!==-1;F--,U++)M+=a*C[F]>>>0,C[F]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");_=U,h++}for(var z=A-_;z!==A&&C[z]===0;)z++;var N=VD.allocUnsafe(b+(A-z));N.fill(0,0,b);for(var k=b;z!==A;)N[k++]=C[z++];return N}function f(p){var h=d(p);if(h)return h;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:d,decode:f}}MSe.exports=Ggt});var Bte=de((Uvr,DSe)=>{var jgt=BSe(),$gt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";DSe.exports=jgt($gt)});var sS,Dte=D(()=>{Z3();sS=pc});var LSe=de(Fte=>{"use strict";function D6(t,e,r){return e<=t&&t<=r}function JD(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Vgt(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=o&1023,c=a&1023;i.push(65536+(s<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function Kgt(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var KD=-1;function Ute(t){this.tokens=[].slice.call(t)}Ute.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():KD},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var av=-1;function Lte(t,e){if(t)throw TypeError("Decoder error");return e||65533}var qD="utf-8";function WD(t,e){if(!(this instanceof WD))return new WD(t,e);if(t=t!==void 0?String(t).toLowerCase():qD,t!==qD)throw new Error("Encoding not supported. Only utf-8 is supported");e=JD(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}WD.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=JD(r),this._streaming||(this._decoder=new qgt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new Ute(n),o=[],a;!i.endOfStream()&&(a=this._decoder.handler(i,i.read()),a!==av);)a!==null&&(Array.isArray(a)?o.push.apply(o,a):o.push(a));if(!this._streaming){do{if(a=this._decoder.handler(i,i.read()),a===av)break;a!==null&&(Array.isArray(a)?o.push.apply(o,a):o.push(a))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Kgt(o)}};function YD(t,e){if(!(this instanceof YD))return new YD(t,e);if(t=t!==void 0?String(t).toLowerCase():qD,t!==qD)throw new Error("Encoding not supported. Only utf-8 is supported");e=JD(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}YD.prototype={encode:function(e,r){e=e?String(e):"",r=JD(r),this._streaming||(this._encoder=new Wgt(this._options)),this._streaming=!!r.stream;for(var n=[],i=new Ute(Vgt(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==av);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==av;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function qgt(t){var e=t.fatal,r=0,n=0,i=0,o=128,a=191;this.handler=function(s,c){if(c===KD&&i!==0)return i=0,Lte(e);if(c===KD)return av;if(i===0){if(D6(c,0,127))return c;if(D6(c,194,223))i=1,r=c-192;else if(D6(c,224,239))c===224&&(o=160),c===237&&(a=159),i=2,r=c-224;else if(D6(c,240,244))c===240&&(o=144),c===244&&(a=143),i=3,r=c-240;else return Lte(e);return r=r<<6*i,null}if(!D6(c,o,a))return r=i=n=0,o=128,a=191,s.prepend(c),Lte(e);if(o=128,a=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var l=r;return r=i=n=0,l}}function Wgt(t){var e=t.fatal;this.handler=function(r,n){if(n===KD)return av;if(D6(n,0,127))return n;var i,o;D6(n,128,2047)?(i=1,o=192):D6(n,2048,65535)?(i=2,o=224):D6(n,65536,1114111)&&(i=3,o=240);for(var a=[(n>>6*i)+o];i>0;){var s=n>>6*(i-1);a.push(128|s&63),i-=1}return a}}Fte.TextEncoder=YD;Fte.TextDecoder=WD});var GSe=de(oi=>{"use strict";var Ygt=oi&&oi.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Jgt=oi&&oi.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),L1=oi&&oi.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Qgt=oi&&oi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Ygt(e,t,r);return Jgt(e,t),e},USe=oi&&oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oi,"__esModule",{value:!0});oi.deserializeUnchecked=oi.deserialize=oi.serialize=oi.BinaryReader=oi.BinaryWriter=oi.BorshError=oi.baseDecode=oi.baseEncode=void 0;var Gm=USe(ZA()),FSe=USe(Bte()),Zgt=Qgt(LSe()),Xgt=typeof TextDecoder!="function"?Zgt.TextDecoder:TextDecoder,e8t=new Xgt("utf-8",{fatal:!0});function t8t(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),FSe.default.encode(Buffer.from(t))}oi.baseEncode=t8t;function r8t(t){return Buffer.from(FSe.default.decode(t))}oi.baseDecode=r8t;var Hte=1024,hs=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};oi.BorshError=hs;var QD=class{constructor(){this.buf=Buffer.alloc(Hte),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Hte)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Gm.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Gm.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Gm.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Gm.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Hte)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};oi.BinaryWriter=QD;function U1(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let a=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new hs("Reached the end of buffer when deserializing")}throw o}}}var $0=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Gm.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Gm.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Gm.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Gm.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new hs(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return e8t.decode(r)}catch(n){throw new hs(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};L1([U1],$0.prototype,"readU8",null);L1([U1],$0.prototype,"readU16",null);L1([U1],$0.prototype,"readU32",null);L1([U1],$0.prototype,"readU64",null);L1([U1],$0.prototype,"readU128",null);L1([U1],$0.prototype,"readU256",null);L1([U1],$0.prototype,"readU512",null);L1([U1],$0.prototype,"readString",null);L1([U1],$0.prototype,"readFixedArray",null);L1([U1],$0.prototype,"readArray",null);oi.BinaryReader=$0;function HSe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Mg(t,e,r,n,i){try{if(typeof n=="string")i[`write${HSe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new hs(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new hs(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)Mg(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{Mg(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Mg(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,a)=>{Mg(t,e,a,n.key,i),Mg(t,e,o,n.value,i)});break}default:throw new hs(`FieldType ${n} unrecognized`)}else zSe(t,r,i)}catch(o){throw o instanceof hs&&o.addToFieldPath(e),o}}function zSe(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new hs(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Mg(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[a,s]=n.values[o];if(a===i){r.writeU8(o),Mg(t,a,e[a],s,r);break}}}else throw new hs(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function n8t(t,e,r=QD){let n=new r;return zSe(t,e,n),n.toArray()}oi.serialize=n8t;function Bg(t,e,r,n){try{if(typeof r=="string")return n[`read${HSe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(Bg(t,null,r[0],n));return i}else return n.readArray(()=>Bg(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Bg(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let a=0;a<o;a++){let s=Bg(t,e,r.key,n),c=Bg(t,e,r.value,n);i.set(s,c)}return i}return zte(t,r,n)}catch(i){throw i instanceof hs&&i.addToFieldPath(e),i}}function zte(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new hs(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,a]of t.get(e).fields)i[o]=Bg(t,o,a,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new hs(`Enum index: ${i} is out of range`);let[o,a]=n.values[i],s=Bg(t,o,a,r);return new e({[o]:s})}throw new hs(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function i8t(t,e,r,n=$0){let i=new n(r),o=zte(t,e,i);if(i.offset<r.length)throw new hs(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}oi.deserialize=i8t;function o8t(t,e,r,n=$0){let i=new n(r);return zte(t,e,i)}oi.deserializeUnchecked=o8t});var Vte=de(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.s16=be.s8=be.nu64be=be.u48be=be.u40be=be.u32be=be.u24be=be.u16be=be.nu64=be.u48=be.u40=be.u32=be.u24=be.u16=be.u8=be.offset=be.greedy=be.Constant=be.UTF8=be.CString=be.Blob=be.Boolean=be.BitField=be.BitStructure=be.VariantLayout=be.Union=be.UnionLayoutDiscriminator=be.UnionDiscriminator=be.Structure=be.Sequence=be.DoubleBE=be.Double=be.FloatBE=be.Float=be.NearInt64BE=be.NearInt64=be.NearUInt64BE=be.NearUInt64=be.IntBE=be.Int=be.UIntBE=be.UInt=be.OffsetLayout=be.GreedyCount=be.ExternalLayout=be.bindConstructorLayout=be.nameWithProperty=be.Layout=be.uint8ArrayToBuffer=be.checkUint8Array=void 0;be.constant=be.utf8=be.cstr=be.blob=be.unionLayoutDiscriminator=be.union=be.seq=be.bits=be.struct=be.f64be=be.f64=be.f32be=be.f32=be.ns64be=be.s48be=be.s40be=be.s32be=be.s24be=be.s16be=be.ns64=be.s48=be.s40=be.s32=be.s24=void 0;var jte=xu();function lv(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}be.checkUint8Array=lv;function kn(t){return lv(t),jte.Buffer.from(t.buffer,t.byteOffset,t.length)}be.uint8ArrayToBuffer=kn;var Gn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};be.Layout=Gn;function $te(t,e){return e.property?t+"["+e.property+"]":t}be.nameWithProperty=$te;function a8t(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Gn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=(()=>new t),Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}be.bindConstructorLayout=a8t;var r0=class extends Gn{isCount(){throw new Error("ExternalLayout is abstract")}};be.ExternalLayout=r0;var ZD=class extends r0{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){lv(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};be.GreedyCount=ZD;var cS=class extends r0{constructor(e,r=0,n){if(!(e instanceof Gn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Oc||this.layout instanceof Ol}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};be.OffsetLayout=cS;var Oc=class extends Gn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return kn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return kn(r).writeUIntLE(e,n,this.span),this.span}};be.UInt=Oc;var Ol=class extends Gn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return kn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return kn(r).writeUIntBE(e,n,this.span),this.span}};be.UIntBE=Ol;var L6=class extends Gn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return kn(e).readIntLE(r,this.span)}encode(e,r,n=0){return kn(r).writeIntLE(e,n,this.span),this.span}};be.Int=L6;var jm=class extends Gn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return kn(e).readIntBE(r,this.span)}encode(e,r,n=0){return kn(r).writeIntBE(e,n,this.span),this.span}};be.IntBE=jm;var Gte=Math.pow(2,32);function mL(t){let e=Math.floor(t/Gte),r=t-e*Gte;return{hi32:e,lo32:r}}function bL(t,e){return t*Gte+e}var XD=class extends Gn{constructor(e){super(8,e)}decode(e,r=0){let n=kn(e),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return bL(o,i)}encode(e,r,n=0){let i=mL(e),o=kn(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};be.NearUInt64=XD;var eL=class extends Gn{constructor(e){super(8,e)}decode(e,r=0){let n=kn(e),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return bL(i,o)}encode(e,r,n=0){let i=mL(e),o=kn(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};be.NearUInt64BE=eL;var tL=class extends Gn{constructor(e){super(8,e)}decode(e,r=0){let n=kn(e),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return bL(o,i)}encode(e,r,n=0){let i=mL(e),o=kn(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};be.NearInt64=tL;var rL=class extends Gn{constructor(e){super(8,e)}decode(e,r=0){let n=kn(e),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return bL(i,o)}encode(e,r,n=0){let i=mL(e),o=kn(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};be.NearInt64BE=rL;var nL=class extends Gn{constructor(e){super(4,e)}decode(e,r=0){return kn(e).readFloatLE(r)}encode(e,r,n=0){return kn(r).writeFloatLE(e,n),4}};be.Float=nL;var iL=class extends Gn{constructor(e){super(4,e)}decode(e,r=0){return kn(e).readFloatBE(r)}encode(e,r,n=0){return kn(r).writeFloatBE(e,n),4}};be.FloatBE=iL;var oL=class extends Gn{constructor(e){super(8,e)}decode(e,r=0){return kn(e).readDoubleLE(r)}encode(e,r,n=0){return kn(r).writeDoubleLE(e,n),8}};be.Double=oL;var aL=class extends Gn{constructor(e){super(8,e)}decode(e,r=0){return kn(e).readDoubleBE(r)}encode(e,r,n=0){return kn(r).writeDoubleBE(e,n),8}};be.DoubleBE=aL;var sL=class extends Gn{constructor(e,r,n){if(!(e instanceof Gn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof r0&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof r0)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof r0&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r=0){let n=[],i=0,o=this.count;for(o instanceof r0&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,o=e.reduce((a,s)=>a+i.encode(s,r,n+a),0);return this.count instanceof r0&&this.count.encode(e.length,r,n),o}};be.Sequence=sL;var cL=class extends Gn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,a)=>o&&a instanceof Gn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,a)=>o+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let a=o.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){lv(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,o=0,a=0;for(let s of this.fields){let c=s.span;if(a=0<c?c:0,s.property!==void 0){let l=e[s.property];l!==void 0&&(a=s.encode(l,r,n),0>c&&(c=s.getSpan(r,n)))}o=n,n+=c}return o+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};be.Structure=cL;var lS=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};be.UnionDiscriminator=lS;var cv=class extends lS{constructor(e,r){if(!(e instanceof r0&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};be.UnionLayoutDiscriminator=cv;var uS=class extends Gn{constructor(e,r,n){let i;if(e instanceof Oc||e instanceof Ol)i=new cv(new cS(e));else if(e instanceof r0&&e.isCount())i=new cv(e);else if(e instanceof lS)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Gn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(e instanceof Oc||e instanceof Ol)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Oc||e instanceof Ol,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(s){return a(s)},this.configGetSourceVariant=function(s){a=s.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,o=i.decode(e,r),a=this.registry[o];if(a===void 0){let s=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=s.decode(e,r+c)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,a=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=o.layout.span),o.encode(e[o.property],r,n),s+a.encode(e[a.property],r,n+s)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new lL(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};be.Union=uS;var lL=class extends Gn{constructor(e,r,n,i){if(!(e instanceof uS))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Gn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};be.VariantLayout=lL;function sv(t){return 0>t&&(t+=4294967296),t}var dS=class extends Gn{constructor(e,r,n){if(!(e instanceof Oc||e instanceof Ol))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=sv(o),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let a=e[o.property];a!==void 0&&o.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new fS(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new uL(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};be.BitStructure=dS;var fS=class{constructor(e,r,n){if(!(e instanceof dS))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((a,s)=>a+s.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=sv(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return sv(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==sv(e&this.valueMask))throw new TypeError($te("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=sv(e<<this.start);this.container._packedSetValue(sv(r&~this.wordMask)|n)}};be.BitField=fS;var uL=class extends fS{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};be.Boolean=uL;var dL=class extends Gn{constructor(e,r){if(!(e instanceof r0&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof r0||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),kn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof r0&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError($te("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=kn(e);return kn(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof r0&&this.length.encode(i,r,n),i}};be.Blob=dL;var fL=class extends Gn{constructor(e){super(-1,e)}getSpan(e,r=0){lv(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return kn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=jte.Buffer.from(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let a=kn(r);return i.copy(a,n),a[n+o]=0,o+1}};be.CString=fL;var pL=class extends Gn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return lv(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return kn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=jte.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(kn(r),n),o}};be.UTF8=pL;var hL=class extends Gn{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};be.Constant=hL;be.greedy=((t,e)=>new ZD(t,e));be.offset=((t,e,r)=>new cS(t,e,r));be.u8=(t=>new Oc(1,t));be.u16=(t=>new Oc(2,t));be.u24=(t=>new Oc(3,t));be.u32=(t=>new Oc(4,t));be.u40=(t=>new Oc(5,t));be.u48=(t=>new Oc(6,t));be.nu64=(t=>new XD(t));be.u16be=(t=>new Ol(2,t));be.u24be=(t=>new Ol(3,t));be.u32be=(t=>new Ol(4,t));be.u40be=(t=>new Ol(5,t));be.u48be=(t=>new Ol(6,t));be.nu64be=(t=>new eL(t));be.s8=(t=>new L6(1,t));be.s16=(t=>new L6(2,t));be.s24=(t=>new L6(3,t));be.s32=(t=>new L6(4,t));be.s40=(t=>new L6(5,t));be.s48=(t=>new L6(6,t));be.ns64=(t=>new tL(t));be.s16be=(t=>new jm(2,t));be.s24be=(t=>new jm(3,t));be.s32be=(t=>new jm(4,t));be.s40be=(t=>new jm(5,t));be.s48be=(t=>new jm(6,t));be.ns64be=(t=>new rL(t));be.f32=(t=>new nL(t));be.f32be=(t=>new iL(t));be.f64=(t=>new oL(t));be.f64be=(t=>new aL(t));be.struct=((t,e,r)=>new cL(t,e,r));be.bits=((t,e,r)=>new dS(t,e,r));be.seq=((t,e,r)=>new sL(t,e,r));be.union=((t,e,r)=>new uS(t,e,r));be.unionLayoutDiscriminator=((t,e)=>new cv(t,e));be.blob=((t,e)=>new dL(t,e));be.cstr=(t=>new fL(t));be.utf8=((t,e)=>new pL(t,e));be.constant=((t,e)=>new hL(t,e))});function YSe(t){return Array.isArray(t)?"%5B"+t.map(YSe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function avt([t,e]){return`${t}=${YSe(e)}`}function svt(t){let e=Object.entries(t).map(avt).join("&");return btoa(e)}function cvt(t,e={}){{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${svt(e)}'`),`${r}\``}}var s8t,c8t,l8t,u8t,d8t,f8t,p8t,h8t,m8t,b8t,y8t,g8t,w8t,v8t,E8t,x8t,A8t,T8t,_8t,S8t,I8t,C8t,R8t,P8t,O8t,N8t,k8t,M8t,B8t,D8t,L8t,U8t,F8t,H8t,z8t,G8t,j8t,$8t,V8t,K8t,q8t,W8t,Y8t,J8t,Q8t,Z8t,X8t,e3t,t3t,r3t,n3t,i3t,o3t,a3t,s3t,c3t,l3t,u3t,d3t,f3t,p3t,h3t,m3t,b3t,y3t,g3t,w3t,v3t,E3t,x3t,A3t,T3t,_3t,S3t,I3t,C3t,R3t,P3t,O3t,N3t,k3t,M3t,B3t,D3t,L3t,U3t,F3t,H3t,z3t,G3t,j3t,$3t,V3t,K3t,q3t,W3t,Y3t,J3t,Q3t,Z3t,X3t,ewt,twt,rwt,nwt,iwt,owt,awt,swt,cwt,lwt,uwt,dwt,fwt,pwt,hwt,mwt,bwt,ywt,gwt,wwt,vwt,Ewt,xwt,Awt,Twt,_wt,Swt,Iwt,Cwt,Rwt,Pwt,Owt,Nwt,kwt,Mwt,Bwt,Dwt,Lwt,Uwt,Fwt,Hwt,zwt,Gwt,jwt,$wt,Vwt,Kwt,qwt,Wwt,Ywt,Jwt,Qwt,Zwt,Xwt,e4t,t4t,r4t,n4t,i4t,o4t,a4t,s4t,c4t,l4t,u4t,d4t,f4t,p4t,h4t,m4t,b4t,y4t,g4t,w4t,v4t,E4t,x4t,A4t,T4t,_4t,S4t,I4t,C4t,R4t,P4t,O4t,N4t,k4t,M4t,Kte,qte,jSe,$Se,Wte,Yte,Jte,B4t,D4t,L4t,U4t,Qte,F4t,VSe,KSe,H4t,z4t,G4t,j4t,$4t,qSe,WSe,V4t,K4t,q4t,W4t,Y4t,J4t,Q4t,Z4t,X4t,evt,tvt,rvt,nvt,ivt,ovt,Kvr,$m,Zte=D(()=>{s8t=1,c8t=2,l8t=3,u8t=4,d8t=5,f8t=6,p8t=7,h8t=8,m8t=9,b8t=10,y8t=-32700,g8t=-32603,w8t=-32602,v8t=-32601,E8t=-32600,x8t=-32016,A8t=-32015,T8t=-32014,_8t=-32013,S8t=-32012,I8t=-32011,C8t=-32010,R8t=-32009,P8t=-32008,O8t=-32007,N8t=-32006,k8t=-32005,M8t=-32004,B8t=-32003,D8t=-32002,L8t=-32001,U8t=28e5,F8t=2800001,H8t=2800002,z8t=2800003,G8t=2800004,j8t=2800005,$8t=2800006,V8t=2800007,K8t=2800008,q8t=2800009,W8t=2800010,Y8t=2800011,J8t=323e4,Q8t=32300001,Z8t=3230002,X8t=3230003,e3t=3230004,t3t=361e4,r3t=3610001,n3t=3610002,i3t=3610003,o3t=3610004,a3t=3610005,s3t=3610006,c3t=3610007,l3t=3611e3,u3t=3704e3,d3t=3704001,f3t=3704002,p3t=3704003,h3t=3704004,m3t=4128e3,b3t=4128001,y3t=4128002,g3t=4615e3,w3t=4615001,v3t=4615002,E3t=4615003,x3t=4615004,A3t=4615005,T3t=4615006,_3t=4615007,S3t=4615008,I3t=4615009,C3t=4615010,R3t=4615011,P3t=4615012,O3t=4615013,N3t=4615014,k3t=4615015,M3t=4615016,B3t=4615017,D3t=4615018,L3t=4615019,U3t=4615020,F3t=4615021,H3t=4615022,z3t=4615023,G3t=4615024,j3t=4615025,$3t=4615026,V3t=4615027,K3t=4615028,q3t=4615029,W3t=4615030,Y3t=4615031,J3t=4615032,Q3t=4615033,Z3t=4615034,X3t=4615035,ewt=4615036,twt=4615037,rwt=4615038,nwt=4615039,iwt=4615040,owt=4615041,awt=4615042,swt=4615043,cwt=4615044,lwt=4615045,uwt=4615046,dwt=4615047,fwt=4615048,pwt=4615049,hwt=4615050,mwt=4615051,bwt=4615052,ywt=4615053,gwt=4615054,wwt=5508e3,vwt=5508001,Ewt=5508002,xwt=5508003,Awt=5508004,Twt=5508005,_wt=5508006,Swt=5508007,Iwt=5508008,Cwt=5508009,Rwt=5508010,Pwt=5508011,Owt=5663e3,Nwt=5663001,kwt=5663002,Mwt=5663003,Bwt=5663004,Dwt=5663005,Lwt=5663006,Uwt=5663007,Fwt=5663008,Hwt=5663009,zwt=5663010,Gwt=5663011,jwt=5663012,$wt=5663013,Vwt=5663014,Kwt=5663015,qwt=5663016,Wwt=5663017,Ywt=5663018,Jwt=5663019,Qwt=5663020,Zwt=705e4,Xwt=7050001,e4t=7050002,t4t=7050003,r4t=7050004,n4t=7050005,i4t=7050006,o4t=7050007,a4t=7050008,s4t=7050009,c4t=7050010,l4t=7050011,u4t=7050012,d4t=7050013,f4t=7050014,p4t=7050015,h4t=7050016,m4t=7050017,b4t=7050018,y4t=7050019,g4t=7050020,w4t=7050021,v4t=7050022,E4t=7050023,x4t=7050024,A4t=7050025,T4t=7050026,_4t=7050027,S4t=7050028,I4t=7050029,C4t=7050030,R4t=7050031,P4t=7050032,O4t=7050033,N4t=7050034,k4t=7050035,M4t=7050036,Kte=8078e3,qte=8078001,jSe=8078002,$Se=8078003,Wte=8078004,Yte=8078005,Jte=8078006,B4t=8078007,D4t=8078008,L4t=8078009,U4t=8078010,Qte=8078011,F4t=8078012,VSe=8078013,KSe=8078014,H4t=8078015,z4t=8078016,G4t=8078017,j4t=8078018,$4t=8078019,qSe=8078020,WSe=8078021,V4t=8078022,K4t=81e5,q4t=8100001,W4t=8100002,Y4t=8100003,J4t=819e4,Q4t=8190001,Z4t=8190002,X4t=8190003,evt=8190004,tvt=99e5,rvt=9900001,nvt=9900002,ivt=9900003,ovt=9900004;Kvr={[J8t]:"Account not found at address: $address",[e3t]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[X8t]:"Expected decoded account at address: $address",[Z8t]:"Failed to decode account data at address: $address",[Q8t]:"Accounts not found at addresses: $addresses",[q8t]:"Unable to find a viable program address bump seed.",[H8t]:"$putativeAddress is not a base58-encoded address.",[U8t]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[z8t]:"The `CryptoKey` must be an `Ed25519` public key.",[Y8t]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[K8t]:"Invalid seeds; point must fall off the Ed25519 curve.",[G8t]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[$8t]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[V8t]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[j8t]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[W8t]:"Program address cannot end with PDA marker.",[F8t]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[u8t]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[s8t]:"The network has progressed past the last block for which this transaction could have been committed.",[Kte]:"Codec [$codecDescription] cannot decode empty byte arrays.",[V4t]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[qSe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[Yte]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Jte]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Wte]:"Encoder and decoder must either both be fixed-size or variable-size.",[D4t]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[jSe]:"Expected a fixed-size codec, got a variable-size one.",[VSe]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[$Se]:"Expected a variable-size codec, got a fixed-size one.",[$4t]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[qte]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[j4t]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[L4t]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[U4t]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[H4t]:"Invalid literal union variant. Expected one of [$variants], got $value.",[B4t]:"Expected [$codecDescription] to have $expected items, got $actual.",[F4t]:"Invalid value $value for base $base with alphabet $alphabet.",[z4t]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[Qte]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[KSe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[WSe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[G4t]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[l3t]:"No random values implementation could be found.",[I3t]:"instruction requires an uninitialized account",[z3t]:"instruction tries to borrow reference for an account which is already borrowed",[G3t]:"instruction left account with an outstanding borrowed reference",[F3t]:"program other than the account's owner changed the size of the account data",[A3t]:"account data too small for instruction",[H3t]:"instruction expected an executable account",[uwt]:"An account does not have enough lamports to be rent-exempt",[fwt]:"Program arithmetic overflowed",[lwt]:"Failed to serialize or deserialize account data: $encodedData",[gwt]:"Builtin programs must consume compute units",[J3t]:"Cross-program invocation call depth too deep",[rwt]:"Computational budget exceeded",[$3t]:"custom program error: #$code",[B3t]:"instruction contains duplicate accounts",[j3t]:"instruction modifications of multiply-passed account differ",[W3t]:"executable accounts must be rent exempt",[K3t]:"instruction changed executable accounts data",[q3t]:"instruction changed the balance of an executable account",[D3t]:"instruction changed executable bit of an account",[N3t]:"instruction modified data of an account it does not own",[O3t]:"instruction spent from the balance of an account it does not own",[w3t]:"generic instruction error",[hwt]:"Provided owner is not allowed",[swt]:"Account is immutable",[cwt]:"Incorrect authority provided",[_3t]:"incorrect program id for instruction",[T3t]:"insufficient funds for instruction",[x3t]:"invalid account data for instruction",[dwt]:"Invalid account owner",[v3t]:"invalid program argument",[V3t]:"program returned invalid error code",[E3t]:"invalid instruction data",[twt]:"Failed to reallocate account data",[ewt]:"Provided seeds do not result in a valid address",[mwt]:"Accounts data allocations exceeded the maximum allowed per transaction",[bwt]:"Max accounts exceeded",[ywt]:"Max instruction trace length exceeded",[X3t]:"Length of the seed is too long for address generation",[Q3t]:"An account required by the instruction is missing",[S3t]:"missing required signature for instruction",[P3t]:"instruction illegally modified the program id of an account",[U3t]:"insufficient account keys for instruction",[nwt]:"Cross-program invocation with unauthorized signer or writable account",[iwt]:"Failed to create program execution environment",[awt]:"Program failed to compile",[owt]:"Program failed to complete",[M3t]:"instruction modified data of a read-only account",[k3t]:"instruction changed the balance of a read-only account",[Z3t]:"Cross-program invocation reentrancy not allowed for this instruction",[L3t]:"instruction modified rent epoch of an account",[R3t]:"sum of account balances before and after instruction do not match",[C3t]:"instruction requires an initialized account",[g3t]:"",[Y3t]:"Unsupported program id",[pwt]:"Unsupported sysvar",[m3t]:"The instruction does not have any accounts.",[b3t]:"The instruction does not have any data.",[y3t]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[d8t]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[c8t]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[nvt]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[ovt]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[rvt]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[tvt]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[ivt]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[g8t]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[w8t]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[E8t]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[v8t]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[y8t]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[S8t]:"$__serverMessage",[L8t]:"$__serverMessage",[M8t]:"$__serverMessage",[T8t]:"$__serverMessage",[C8t]:"$__serverMessage",[R8t]:"$__serverMessage",[x8t]:"Minimum context slot has not been reached",[k8t]:"Node is unhealthy; behind by $numSlotsBehind slots",[P8t]:"No snapshot",[D8t]:"Transaction simulation failed",[O8t]:"$__serverMessage",[I8t]:"Transaction history is not available from this node",[N8t]:"$__serverMessage",[_8t]:"Transaction signature length mismatch",[B8t]:"Transaction signature verification failure",[A8t]:"$__serverMessage",[u3t]:"Key pair bytes must be of length 64, got $byteLength.",[d3t]:"Expected private key bytes with length 32. Actual length: $actualLength.",[f3t]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[h3t]:"The provided private key does not match the provided public key.",[p3t]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[f8t]:"Lamports value must be in the range [0, 2e64-1]",[p8t]:"`$value` cannot be parsed as a `BigInt`",[b8t]:"$message",[h8t]:"`$value` cannot be parsed as a `Number`",[l8t]:"No nonce account could be found at address `$nonceAccountAddress`",[J4t]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[Z4t]:"WebSocket was closed before payload could be added to the send buffer",[X4t]:"WebSocket connection closed",[evt]:"WebSocket failed to connect",[Q4t]:"Failed to obtain a subscription id from the server",[Y4t]:"Could not find an API plan for RPC method: `$method`",[K4t]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[W4t]:"HTTP error ($statusCode): $message",[q4t]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[wwt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[vwt]:"The provided value does not implement the `KeyPairSigner` interface",[xwt]:"The provided value does not implement the `MessageModifyingSigner` interface",[Awt]:"The provided value does not implement the `MessagePartialSigner` interface",[Ewt]:"The provided value does not implement any of the `MessageSigner` interfaces",[_wt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[Swt]:"The provided value does not implement the `TransactionPartialSigner` interface",[Iwt]:"The provided value does not implement the `TransactionSendingSigner` interface",[Twt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[Cwt]:"More than one `TransactionSendingSigner` was identified.",[Rwt]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[Pwt]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[c3t]:"Cannot export a non-extractable key.",[r3t]:"No digest implementation could be found.",[t3t]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[n3t]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[i3t]:"No signature verification implementation could be found.",[o3t]:"No key generation implementation could be found.",[a3t]:"No signing implementation could be found.",[s3t]:"No key export implementation could be found.",[m8t]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[h4t]:"Transaction processing left an account with an outstanding borrowed reference",[Xwt]:"Account in use",[e4t]:"Account loaded twice",[t4t]:"Attempt to debit an account but found no record of a prior credit.",[E4t]:"Transaction loads an address table account that doesn't exist",[o4t]:"This transaction has already been processed",[a4t]:"Blockhash not found",[s4t]:"Loader call chain is too deep",[p4t]:"Transactions are currently disabled due to cluster maintenance",[C4t]:"Transaction contains a duplicate instruction ($index) that is not allowed",[n4t]:"Insufficient funds for fee",[R4t]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[i4t]:"This account may not be used to pay transaction fees",[l4t]:"Transaction contains an invalid account reference",[A4t]:"Transaction loads an address table account with invalid data",[T4t]:"Transaction address table lookup uses an invalid index",[x4t]:"Transaction loads an address table account with an invalid owner",[O4t]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[d4t]:"This program may not be used for executing instructions",[_4t]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[y4t]:"Transaction loads a writable account that cannot be written",[P4t]:"Transaction exceeded max loaded accounts data size cap",[c4t]:"Transaction requires a fee but has no signature present",[r4t]:"Attempt to load a program that does not exist",[k4t]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[N4t]:"ResanitizationNeeded",[f4t]:"Transaction failed to sanitize accounts offsets correctly",[u4t]:"Transaction did not pass signature verification",[v4t]:"Transaction locked too many accounts",[M4t]:"Sum of account balances before and after transaction do not match",[Zwt]:"The transaction failed with the error `$errorName`",[b4t]:"Transaction version is unsupported",[w4t]:"Transaction would exceed account data limit within the block",[I4t]:"Transaction would exceed total account data limit",[g4t]:"Transaction would exceed max account limit within the block",[m4t]:"Transaction would exceed max Block Cost Limit",[S4t]:"Transaction would exceed max Vote Cost Limit",[Kwt]:"Attempted to sign a transaction with an address that is not a signer for it",[zwt]:"Transaction is missing an address at index: $index.",[qwt]:"Transaction has no expected signers therefore it cannot be encoded",[Qwt]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[kwt]:"Transaction does not have a blockhash lifetime",[Mwt]:"Transaction is not a durable nonce transaction",[Dwt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[Lwt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[Fwt]:"No fee payer set in CompiledTransaction",[Uwt]:"Could not find program address at index $index",[Ywt]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[Jwt]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[Gwt]:"Transaction is missing a fee payer.",[jwt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[Vwt]:"Transaction first instruction is not advance nonce account instruction.",[$wt]:"Transaction with no instructions cannot be durable nonce transaction.",[Owt]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[Nwt]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Wwt]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[Hwt]:"Transaction is missing signatures for addresses: $addresses.",[Bwt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"};$m=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:o,...a}=e;o&&(n={cause:o}),Object.keys(a).length>0&&(r=a)}let i=cvt(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}}});function lvt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function JSe(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(lvt(e,t));return t.write(e,r,0),r}})}function QSe(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function uv(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function ZSe(t,e){if(uv(t)!==uv(e))throw new $m(Wte);if(uv(t)&&uv(e)&&t.fixedSize!==e.fixedSize)throw new $m(Yte,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!uv(t)&&!uv(e)&&t.maxSize!==e.maxSize)throw new $m(Jte,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function XSe(t,e,r=0){if(e.length-r<=0)throw new $m(Kte,{codecDescription:t})}function eIe(t,e,r,n=0){let i=r.length-n;if(i<e)throw new $m(qte,{bytesLength:i,codecDescription:t,expected:e})}var tIe=D(()=>{Zte()});function uvt(t,e,r,n){if(n<e||n>r)throw new $m(Qte,{codecDescription:t,max:r,min:e,value:n})}function rIe(t){return t?.endian!==1}function dvt(t){return JSe({fixedSize:t.size,write(e,r,n){t.range&&uvt(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,rIe(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}function fvt(t){return QSe({fixedSize:t.size,read(e,r=0){XSe(t.name,e,r),eIe(t.name,t.size,e,r);let n=new DataView(pvt(e,r,t.size));return[t.get(n,rIe(t.config)),r+t.size]}})}function pvt(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}var Xte,hvt,nIe,iIe=D(()=>{Zte();tIe();Xte=(t={})=>dvt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),hvt=(t={})=>fvt({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),nIe=(t={})=>ZSe(Xte(t),hvt(t))});function mvt(t){return pS(t)&&typeof t[Symbol.iterator]=="function"}function pS(t){return typeof t=="object"&&t!=null}function yL(t){return pS(t)&&!Array.isArray(t)}function tf(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function bvt(t){let{done:e,value:r}=t.next();return e?void 0:r}function yvt(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:a}=r,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${tf(n)}\``}=t;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*oIe(t,e,r,n){mvt(t)||(t=[t]);for(let i of t){let o=yvt(i,e,r,n);o&&(yield o)}}function*tre(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:a=!1}=r,s={path:n,branch:i,mask:a};o&&(t=e.coercer(t,s));let c="valid";for(let l of e.validator(t,s))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of e.entries(t,s)){let f=tre(u,d,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:o,mask:a,message:r.message});for(let p of f)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):o&&(u=p[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):pS(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(let l of e.refiner(t,s))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}function aIe(t,e,r){let n=hS(t,e,{message:r});if(n[0])throw n[0]}function dv(t,e,r){let n=hS(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function gvt(t,e,r){let n=hS(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function sIe(t,e){return!hS(t,e)[0]}function hS(t,e,r={}){let n=tre(t,e,r),i=bvt(n);return i[0]?[new ere(i[0],function*(){for(let a of n)a[0]&&(yield a[0])}),void 0]:[void 0,i[1]]}function Dg(t,e){return new $u({type:t,schema:null,validator:e})}function cIe(){return Dg("any",()=>!0)}function It(t){return new $u({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${tf(e)}`}})}function rf(){return Dg("boolean",t=>typeof t=="boolean")}function gL(t){return Dg("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${tf(e)}`)}function Wi(t){let e=tf(t),r=typeof t;return new $u({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${tf(n)}`}})}function wvt(){return Dg("never",()=>!1)}function Ct(t){return new $u({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function he(){return Dg("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${tf(t)}`)}function er(t){return new $u({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function rre(t,e){return new $u({type:"record",schema:null,*entries(r){if(pS(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return yL(r)||`Expected an object, but received: ${tf(r)}`},coercer(r){return yL(r)?{...r}:r}})}function at(){return Dg("string",t=>typeof t=="string"||`Expected a string, but received: ${tf(t)}`)}function wL(t){let e=wvt();return new $u({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${tf(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function je(t){let e=Object.keys(t);return new $u({type:"type",schema:t,*entries(r){if(pS(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return yL(r)||`Expected an object, but received: ${tf(r)}`},coercer(r){return yL(r)?{...r}:r}})}function n0(t){let e=t.map(r=>r.type).join(" | ");return new $u({type:"union",schema:null,coercer(r,n){for(let i of t){let[o,a]=i.validate(r,{coerce:!0,mask:n.mask});if(!o)return a}return r},validator(r,n){let i=[];for(let o of t){let[...a]=tre(r,o,n),[s]=a;if(s[0])for(let[c]of a)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${tf(r)}`,...i]}})}function Lg(){return Dg("unknown",()=>!0)}function fv(t,e,r){return new $u({...t,coercer:(n,i)=>sIe(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var ere,$u,lIe=D(()=>{ere=class extends TypeError{constructor(e,r){let n,{message:i,explanation:o,...a}=e,{path:s}=e,c=s.length===0?i:`At path: ${s.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};$u=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:a=c=>c,entries:s=function*(){}}=e;this.type=r,this.schema=n,this.entries=s,this.coercer=a,i?this.validator=(c,l)=>{let u=i(c,l);return oIe(u,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{let u=o(c,l);return oIe(u,l,this,c)}:this.refiner=()=>[]}assert(e,r){return aIe(e,this,r)}create(e,r){return dv(e,this,r)}is(e){return sIe(e,this)}mask(e,r){return gvt(e,this,r)}validate(e,r={}){return hS(e,this,r)}}});var dIe=de((t9r,uIe)=>{"use strict";var vvt=(eB(),qy(WZ)).v4,Evt=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof r>"u"){let a=typeof n.generator=="function"?n.generator:function(){return vvt()};o.id=a(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};uIe.exports=Evt});var pIe=de((r9r,fIe)=>{"use strict";var xvt=(eB(),qy(WZ)).v4,Avt=dIe(),mS=function(t,e){if(!(this instanceof mS))return new mS(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return xvt()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};fIe.exports=mS;mS.prototype.request=function(t,e,r,n){let i=this,o=null,a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")n=e,o=t;else{typeof r=="function"&&(n=r,r=void 0);let l=typeof n=="function";try{o=Avt(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l)return n(u);throw u}if(!l)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(l){return n(l)}return this.callServer(c,function(l,u){i._parseResponse(l,u,n)}),o};mS.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=function(a){return typeof a.error<"u"},o=function(a){return!i(a)};return r(null,n.filter(i),n.filter(o))}else return r(null,n.error,n.result);r(null,n)}});var mIe=de((n9r,nre)=>{"use strict";var Tvt=Object.prototype.hasOwnProperty,V0="~";function bS(){}Object.create&&(bS.prototype=Object.create(null),new bS().__proto__||(V0=!1));function _vt(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function hIe(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new _vt(r,n||t,i),a=V0?V0+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],o]:t._events[a].push(o):(t._events[a]=o,t._eventsCount++),t}function vL(t,e){--t._eventsCount===0?t._events=new bS:delete t._events[e]}function i0(){this._events=new bS,this._eventsCount=0}i0.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)Tvt.call(r,n)&&e.push(V0?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};i0.prototype.listeners=function(e){var r=V0?V0+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a};i0.prototype.listenerCount=function(e){var r=V0?V0+e:e,n=this._events[r];return n?n.fn?1:n.length:0};i0.prototype.emit=function(e,r,n,i,o,a){var s=V0?V0+e:e;if(!this._events[s])return!1;var c=this._events[s],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,o),!0;case 6:return c.fn.call(c.context,r,n,i,o,a),!0}for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var f=c.length,p;for(d=0;d<f;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,r);break;case 3:c[d].fn.call(c[d].context,r,n);break;case 4:c[d].fn.call(c[d].context,r,n,i);break;default:if(!u)for(p=1,u=new Array(l-1);p<l;p++)u[p-1]=arguments[p];c[d].fn.apply(c[d].context,u)}}return!0};i0.prototype.on=function(e,r,n){return hIe(this,e,r,n,!1)};i0.prototype.once=function(e,r,n){return hIe(this,e,r,n,!0)};i0.prototype.removeListener=function(e,r,n,i){var o=V0?V0+e:e;if(!this._events[o])return this;if(!r)return vL(this,o),this;var a=this._events[o];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&vL(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==r||i&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[o]=c.length===1?c[0]:c:vL(this,o)}return this};i0.prototype.removeAllListeners=function(e){var r;return e?(r=V0?V0+e:e,this._events[r]&&vL(this,r)):(this._events=new bS,this._eventsCount=0),this};i0.prototype.off=i0.prototype.removeListener;i0.prototype.addListener=i0.prototype.on;i0.prefixed=V0;i0.EventEmitter=i0;typeof nre<"u"&&(nre.exports=i0)});var ire,ore=D(()=>{ire=ve(mIe(),1)});var Svt,bIe=D(()=>{Svt=ve(xu(),1);ore()});function Ivt(t,e,r){let[[n,i],[o,a]]=e,s=yIe(a*t,r),c=yIe(-i*t,r),l=t-s*n-c*o,u=-s*i-c*a,d=l<F6,f=u<F6;d&&(l=-l),f&&(u=-u);let p=O6(Math.ceil(nS(r)/2))+hv;if(l<F6||l>=p||u<F6||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:f,k2:u}}function sre(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function are(t,e){let r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return P6(r.lowS,"lowS"),P6(r.prehash,"prehash"),r.format!==void 0&&sre(r.format),r}function pv(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let i=Zn("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function Rvt(t,e={}){let r=GD("weierstrass",t,e),{Fp:n,Fn:i}=r,o=r.CURVE,{h:a,n:s}=o;Fm(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!n.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=vIe(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(S,T,m){let{x:y,y:E}=T.toAffine(),v=n.toBytes(y);if(P6(m,"isCompressed"),m){u();let x=!n.isOdd(E);return Wr(wIe(x),v)}else return Wr(Uint8Array.of(4),v,n.toBytes(E))}function f(S){Rl(S,void 0,"Point");let{publicKey:T,publicKeyUncompressed:m}=l,y=S.length,E=S[0],v=S.subarray(1);if(y===T&&(E===2||E===3)){let x=n.fromBytes(v);if(!n.isValid(x))throw new Error("bad point: is not on curve, wrong x");let g=b(x),P;try{P=n.sqrt(g)}catch(L){let G=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+G)}u();let B=n.isOdd(P);return(E&1)===1!==B&&(P=n.neg(P)),{x,y:P}}else if(y===m&&E===4){let x=n.BYTES,g=n.fromBytes(v.subarray(0,x)),P=n.fromBytes(v.subarray(x,x*2));if(!_(g,P))throw new Error("bad point: is not on curve");return{x:g,y:P}}else throw new Error(`bad point: got length ${y}, expected compressed=${T} or uncompressed=${m}`)}let p=e.toBytes||d,h=e.fromBytes||f;function b(S){let T=n.sqr(S),m=n.mul(T,S);return n.add(n.add(m,n.mul(S,o.a)),o.b)}function _(S,T){let m=n.sqr(T),y=b(S);return n.eql(m,y)}if(!_(o.Gx,o.Gy))throw new Error("bad curve params: generator point");let A=n.mul(n.pow(o.a,EL),Cvt),C=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(A,C)))throw new Error("bad curve params: a or b");function R(S,T,m=!1){if(!n.isValid(T)||m&&n.is0(T))throw new Error(`bad point coordinate ${S}`);return T}function M(S){if(!(S instanceof k))throw new Error("ProjectivePoint expected")}function U(S){if(!c||!c.basises)throw new Error("no endo");return Ivt(S,c.basises,i.ORDER)}let F=Pg((S,T)=>{let{X:m,Y:y,Z:E}=S;if(n.eql(E,n.ONE))return{x:m,y};let v=S.is0();T==null&&(T=v?n.ONE:n.inv(E));let x=n.mul(m,T),g=n.mul(y,T),P=n.mul(E,T);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x,y:g}}),z=Pg(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.Y))return;throw new Error("bad point: ZERO")}let{x:T,y:m}=S.toAffine();if(!n.isValid(T)||!n.isValid(m))throw new Error("bad point: x or y not field elements");if(!_(T,m))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(S,T,m,y,E){return m=new k(n.mul(m.X,S),m.Y,m.Z),T=oS(y,T),m=oS(E,m),T.add(m)}class k{constructor(T,m,y){this.X=R("x",T),this.Y=R("y",m,!0),this.Z=R("z",y),Object.freeze(this)}static CURVE(){return o}static fromAffine(T){let{x:m,y}=T||{};if(!T||!n.isValid(m)||!n.isValid(y))throw new Error("invalid affine point");if(T instanceof k)throw new Error("projective point not allowed");return n.is0(m)&&n.is0(y)?k.ZERO:new k(m,y,n.ONE)}static fromBytes(T){let m=k.fromAffine(h(Rl(T,void 0,"point")));return m.assertValidity(),m}static fromHex(T){return k.fromBytes(Zn("pointHex",T))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,m=!0){return w.createCache(this,T),m||this.multiply(EL),this}assertValidity(){z(this)}hasEvenY(){let{y:T}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(T)}equals(T){M(T);let{X:m,Y:y,Z:E}=this,{X:v,Y:x,Z:g}=T,P=n.eql(n.mul(m,g),n.mul(v,E)),B=n.eql(n.mul(y,g),n.mul(x,E));return P&&B}negate(){return new k(this.X,n.neg(this.Y),this.Z)}double(){let{a:T,b:m}=o,y=n.mul(m,EL),{X:E,Y:v,Z:x}=this,g=n.ZERO,P=n.ZERO,B=n.ZERO,I=n.mul(E,E),L=n.mul(v,v),G=n.mul(x,x),H=n.mul(E,v);return H=n.add(H,H),B=n.mul(E,x),B=n.add(B,B),g=n.mul(T,B),P=n.mul(y,G),P=n.add(g,P),g=n.sub(L,P),P=n.add(L,P),P=n.mul(g,P),g=n.mul(H,g),B=n.mul(y,B),G=n.mul(T,G),H=n.sub(I,G),H=n.mul(T,H),H=n.add(H,B),B=n.add(I,I),I=n.add(B,I),I=n.add(I,G),I=n.mul(I,H),P=n.add(P,I),G=n.mul(v,x),G=n.add(G,G),I=n.mul(G,H),g=n.sub(g,I),B=n.mul(G,L),B=n.add(B,B),B=n.add(B,B),new k(g,P,B)}add(T){M(T);let{X:m,Y:y,Z:E}=this,{X:v,Y:x,Z:g}=T,P=n.ZERO,B=n.ZERO,I=n.ZERO,L=o.a,G=n.mul(o.b,EL),H=n.mul(m,v),$=n.mul(y,x),K=n.mul(E,g),W=n.add(m,y),J=n.add(v,x);W=n.mul(W,J),J=n.add(H,$),W=n.sub(W,J),J=n.add(m,E);let X=n.add(v,g);return J=n.mul(J,X),X=n.add(H,K),J=n.sub(J,X),X=n.add(y,E),P=n.add(x,g),X=n.mul(X,P),P=n.add($,K),X=n.sub(X,P),I=n.mul(L,J),P=n.mul(G,K),I=n.add(P,I),P=n.sub($,I),I=n.add($,I),B=n.mul(P,I),$=n.add(H,H),$=n.add($,H),K=n.mul(L,K),J=n.mul(G,J),$=n.add($,K),K=n.sub(H,K),K=n.mul(L,K),J=n.add(J,K),H=n.mul($,J),B=n.add(B,H),H=n.mul(X,J),P=n.mul(W,P),P=n.sub(P,H),H=n.mul(W,$),I=n.mul(X,I),I=n.add(I,H),new k(P,B,I)}subtract(T){return this.add(T.negate())}is0(){return this.equals(k.ZERO)}multiply(T){let{endo:m}=e;if(!i.isValidNot0(T))throw new Error("invalid scalar: out of range");let y,E,v=x=>w.cached(this,x,g=>k6(k,g));if(m){let{k1neg:x,k1:g,k2neg:P,k2:B}=U(T),{p:I,f:L}=v(g),{p:G,f:H}=v(B);E=L.add(H),y=N(m.beta,I,G,x,P)}else{let{p:x,f:g}=v(T);y=x,E=g}return k6(k,[y,E])[0]}multiplyUnsafe(T){let{endo:m}=e,y=this;if(!i.isValid(T))throw new Error("invalid scalar: out of range");if(T===F6||y.is0())return k.ZERO;if(T===hv)return y;if(w.hasCache(this))return this.multiply(T);if(m){let{k1neg:E,k1:v,k2neg:x,k2:g}=U(T),{p1:P,p2:B}=ISe(k,y,v,g);return N(m.beta,P,B,E,x)}else return w.unsafe(y,T)}multiplyAndAddUnsafe(T,m,y){let E=this.multiplyUnsafe(m).add(T.multiplyUnsafe(y));return E.is0()?void 0:E}toAffine(T){return F(this,T)}isTorsionFree(){let{isTorsionFree:T}=e;return a===hv?!0:T?T(k,this):w.unsafe(this,s).is0()}clearCofactor(){let{clearCofactor:T}=e;return a===hv?this:T?T(k,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(T=!0){return P6(T,"isCompressed"),this.assertValidity(),p(k,this,T)}toHex(T=!0){return Vi(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(T=!0){return this.toBytes(T)}_setWindowSize(T){this.precompute(T)}static normalizeZ(T){return k6(k,T)}static msm(T,m){return iv(k,i,T,m)}static fromPrivateKey(T){return k.BASE.multiply(pv(i,T))}}k.BASE=new k(o.Gx,o.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=i;let O=i.BITS,w=new nv(k,e.endo?Math.ceil(O/2):O);return k.BASE.precompute(8),k}function wIe(t){return Uint8Array.of(t?2:3)}function vIe(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Pvt(t,e={}){let{Fn:r}=t,n=e.randomBytes||Oa,i=Object.assign(vIe(t.Fp,r),{seed:_te(r.ORDER)});function o(p){try{return!!pv(r,p)}catch{return!1}}function a(p,h){let{publicKey:b,publicKeyUncompressed:_}=i;try{let A=p.length;return h===!0&&A!==b||h===!1&&A!==_?!1:!!t.fromBytes(p)}catch{return!1}}function s(p=n(i.seed)){return Ste(Rl(p,i.seed,"seed"),r.ORDER)}function c(p,h=!0){return t.BASE.multiply(pv(r,p)).toBytes(h)}function l(p){let h=s(p);return{secretKey:h,publicKey:c(h)}}function u(p){if(typeof p=="bigint")return!1;if(p instanceof t)return!0;let{secretKey:h,publicKey:b,publicKeyUncompressed:_}=i;if(r.allowedLengths||h===b)return;let A=Zn("key",p).length;return A===b||A===_}function d(p,h,b=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");let _=pv(r,p);return t.fromHex(h).multiply(_).toBytes(b)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:a,randomSecretKey:s,isValidPrivateKey:o,randomPrivateKey:s,normPrivateKeyToScalar:p=>pv(r,p),precompute(p=8,h=t.BASE){return h.precompute(p,!1)}},lengths:i})}function Ovt(t,e,r={}){Q3(e),Fm(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||Oa,i=r.hmac||((m,...y)=>Xy(e,m,Wr(...y))),{Fp:o,Fn:a}=t,{ORDER:s,BITS:c}=a,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:p}=Pvt(t,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},b="compact";function _(m){let y=s>>hv;return m>y}function A(m,y){if(!a.isValidNot0(y))throw new Error(`invalid signature ${m}: out of range 1..Point.Fn.ORDER`);return y}function C(m,y){sre(y);let E=p.signature,v=y==="compact"?E:y==="recovered"?E+1:void 0;return Rl(m,v,`${y} signature`)}class R{constructor(y,E,v){this.r=A("r",y),this.s=A("s",E),v!=null&&(this.recovery=v),Object.freeze(this)}static fromBytes(y,E=b){C(y,E);let v;if(E==="der"){let{r:B,s:I}=U6.toSig(Rl(y));return new R(B,I)}E==="recovered"&&(v=y[0],E="compact",y=y.subarray(1));let x=a.BYTES,g=y.subarray(0,x),P=y.subarray(x,x*2);return new R(a.fromBytes(g),a.fromBytes(P),v)}static fromHex(y,E){return this.fromBytes(os(y),E)}addRecoveryBit(y){return new R(this.r,this.s,y)}recoverPublicKey(y){let E=o.ORDER,{r:v,s:x,recovery:g}=this;if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");if(s*gIe<E&&g>1)throw new Error("recovery id is ambiguous for h>1 curve");let B=g===2||g===3?v+s:v;if(!o.isValid(B))throw new Error("recovery id 2 or 3 invalid");let I=o.toBytes(B),L=t.fromBytes(Wr(wIe((g&1)===0),I)),G=a.inv(B),H=U(Zn("msgHash",y)),$=a.create(-H*G),K=a.create(x*G),W=t.BASE.multiplyUnsafe($).add(L.multiplyUnsafe(K));if(W.is0())throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return _(this.s)}toBytes(y=b){if(sre(y),y==="der")return os(U6.hexFromSig(this));let E=a.toBytes(this.r),v=a.toBytes(this.s);if(y==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Wr(Uint8Array.of(this.recovery),E,v)}return Wr(E,v)}toHex(y){return Vi(this.toBytes(y))}assertValidity(){}static fromCompact(y){return R.fromBytes(Zn("sig",y),"compact")}static fromDER(y){return R.fromBytes(Zn("sig",y),"der")}normalizeS(){return this.hasHighS()?new R(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Vi(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Vi(this.toBytes("compact"))}}let M=r.bits2int||function(y){if(y.length>8192)throw new Error("input is too large");let E=Rg(y),v=y.length*8-c;return v>0?E>>BigInt(v):E},U=r.bits2int_modN||function(y){return a.create(M(y))},F=O6(c);function z(m){return ev("num < 2^"+c,m,F6,F),a.toBytes(m)}function N(m,y){return Rl(m,void 0,"message"),y?Rl(e(m),void 0,"prehashed message"):m}function k(m,y,E){if(["recovered","canonical"].some($=>$ in E))throw new Error("sign() legacy options not supported");let{lowS:v,prehash:x,extraEntropy:g}=are(E,h);m=N(m,x);let P=U(m),B=pv(a,y),I=[z(B),z(P)];if(g!=null&&g!==!1){let $=g===!0?n(p.secretKey):g;I.push(Zn("extraEntropy",$))}let L=Wr(...I),G=P;function H($){let K=M($);if(!a.isValidNot0(K))return;let W=a.inv(K),J=t.BASE.multiply(K).toAffine(),X=a.create(J.x);if(X===F6)return;let te=a.create(W*a.create(G+X*B));if(te===F6)return;let re=(J.x===X?0:2)|Number(J.y&hv),le=te;return v&&_(te)&&(le=a.neg(te),re^=1),new R(X,le,re)}return{seed:L,k2sig:H}}function O(m,y,E={}){m=Zn("message",m);let{seed:v,k2sig:x}=k(m,y,E);return xte(e.outputLen,a.BYTES,i)(v,x)}function w(m){let y,E=typeof m=="string"||Pa(m),v=!E&&m!==null&&typeof m=="object"&&typeof m.r=="bigint"&&typeof m.s=="bigint";if(!E&&!v)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(v)y=new R(m.r,m.s);else if(E){try{y=R.fromBytes(Zn("sig",m),"der")}catch(x){if(!(x instanceof U6.Err))throw x}if(!y)try{y=R.fromBytes(Zn("sig",m),"compact")}catch{return!1}}return y||!1}function S(m,y,E,v={}){let{lowS:x,prehash:g,format:P}=are(v,h);if(E=Zn("publicKey",E),y=N(Zn("message",y),g),"strict"in v)throw new Error("options.strict was renamed to lowS");let B=P===void 0?w(m):R.fromBytes(Zn("sig",m),P);if(B===!1)return!1;try{let I=t.fromBytes(E);if(x&&B.hasHighS())return!1;let{r:L,s:G}=B,H=U(y),$=a.inv(G),K=a.create(H*$),W=a.create(L*$),J=t.BASE.multiplyUnsafe(K).add(I.multiplyUnsafe(W));return J.is0()?!1:a.create(J.x)===L}catch{return!1}}function T(m,y,E={}){let{prehash:v}=are(E,h);return y=N(y,v),R.fromBytes(m,"recovered").recoverPublicKey(y).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:p,Point:t,sign:O,verify:S,recoverPublicKey:T,Signature:R,hash:e})}function Nvt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0,i=Pl(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),o={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function kvt(t){let{CURVE:e,curveOpts:r}=Nvt(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function Mvt(t,e){let r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,zD(r.Fn.ORDER,r.Fn.BITS))})}function EIe(t){let{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=kvt(t),o=Rvt(e,r),a=Ovt(o,n,i);return Mvt(t,a)}var yIe,cre,U6,F6,hv,gIe,EL,Cvt,xIe=D(()=>{EO();Na();Og();jD();tv();yIe=(t,e)=>(t+(t>=0?e:-e)/gIe)/e;cre=class extends Error{constructor(e=""){super(e)}},U6={Err:cre,_tlv:{encode:(t,e)=>{let{Err:r}=U6;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=X4(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?X4(i.length/2|128):"";return X4(t)+o+i+e},decode(t,e){let{Err:r}=U6,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],o=!!(i&128),a=0;if(!o)a=i;else{let c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)a=a<<8|u;if(n+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}let s=e.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=U6;if(t<F6)throw new e("integer: negative integers are not allowed");let r=X4(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=U6;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Rg(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=U6,i=Zn("signature",t),{v:o,l:a}=n.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=U6,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),o=n+i;return e.encode(48,o)}},F6=BigInt(0),hv=BigInt(1),gIe=BigInt(2),EL=BigInt(3),Cvt=BigInt(4)});function AIe(t,e){let r=n=>EIe({...t,hash:n});return{...r(e),create:r}}var TIe=D(()=>{xIe();});function Dvt(t){let e=ure.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=qi(u,r,e)*u%e,f=qi(d,r,e)*u%e,p=qi(f,_Ie,e)*l%e,h=qi(p,i,e)*p%e,b=qi(h,o,e)*h%e,_=qi(b,s,e)*b%e,A=qi(_,c,e)*_%e,C=qi(A,s,e)*b%e,R=qi(C,r,e)*u%e,M=qi(R,a,e)*h%e,U=qi(M,n,e)*l%e,F=qi(U,_Ie,e);if(!lre.eql(lre.sqr(F),t))throw new Error("Cannot find square root");return F}var ure,Bvt,_Ie,lre,Vm,dre=D(()=>{Z3();TIe();tv();ure={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Bvt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},_Ie=BigInt(2);lre=Pl(ure.p,{sqrt:Dvt}),Vm=AIe({...ure,Fp:lre,lowS:!0,endo:Bvt},pc)});function IIe(t){try{return Pc.ExtendedPoint.fromHex(t),!0}catch{return!1}}function Hvt(t){return t._bn!==void 0}function HIe(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return HIe({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Nl(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function kl(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Ui(t,e){if(!t)throw new Error(e||"Assertion failed")}function z6(t){if(t.length===0)throw new Error(zIe);return t.shift()}function Ml(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(zIe);return t.splice(...e)}async function RIe(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:s}=e.nonceInfo,c=s.keys[0].pubkey;a=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await t.confirmTransaction(o,n&&n.commitment)).value;if(a.err)throw o!=null?new Are({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(a)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(a)})`);return o}function Qvt(t){return new Promise(e=>setTimeout(e,t))}function wn(t,e){let r=t.layout.span>=0?t.layout.span:HIe(t,e),n=vr.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function yv(t){let e=(0,UIe.blob)(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,o=nIe();return i.decode=(a,s)=>{let c=r(a,s);return o.decode(c)},i.encode=(a,s,c)=>{let l=o.encode(a);return n(l,s,c)},i}function $Ie(t){return n0([je({jsonrpc:Wi("2.0"),id:at(),result:t}),je({jsonrpc:Wi("2.0"),id:at(),error:je({code:Lg(),message:at(),data:er(cIe())})})])}function Ii(t){return fv($Ie(t),t9t,e=>"error"in e?e:{...e,result:dv(e.result,t)})}function nf(t){return Ii(je({context:je({slot:he()}),value:t}))}function PL(t){return je({context:je({slot:he()}),value:t})}var vr,bre,o0,gv,ne,UIe,Lvt,C9r,SIe,yre,Ore,Uvt,Mn,gre,AL,FIe,Fvt,qm,CIe,kr,R9r,Ug,Nre,TL,wre,vre,Ere,bv,cn,zvt,mv,Gvt,jvt,$vt,Vvt,_L,zIe,wS,xre,GIe,Kvt,hi,Yi,SL,qvt,Wvt,Yvt,Jvt,H6,P9r,O9r,fre,vS,N9r,k9r,M9r,pre,Are,Zvt,Xvt,PIe,Vu,K0,e9t,Tre,B9r,D9r,L9r,xo,jIe,kre,U9r,t9t,r9t,F9r,n9t,i9t,o9t,a9t,s9t,Fg,c9t,l9t,H9r,u9t,d9t,z9r,G9r,j9r,$9r,V9r,K9r,q9r,W9r,Y9r,J9r,f9t,Q9r,Z9r,_re,X9r,eEr,Mre,tEr,p9t,h9t,rEr,nEr,iEr,oEr,aEr,m9t,sEr,b9t,cEr,y9t,lEr,uEr,dEr,fEr,OIe,pEr,g9t,w9t,hEr,mEr,VIe,Bre,KIe,qIe,WIe,YIe,v9t,E9t,JIe,QIe,IL,ZIe,OL,Dre,wv,Hg,bEr,yEr,gEr,wEr,vEr,EEr,xEr,AEr,TEr,_Er,SEr,IEr,x9t,CEr,REr,PEr,OEr,A9t,NEr,Sre,yS,Ire,xL,Cre,NIe,kIe,MIe,BIe,Rre,T9t,_9t,DIe,hre,LIe,S9t,mre,Pre,XIe,I9t,ES,Km,kEr,CL,gS,MEr,RL,BEr,DEr,LEr,UEr,eCe=D(()=>{vr=ve(xu());kSe();bre=ve(ZA()),o0=ve(Bte());Dte();gv=ve(GSe()),ne=ve(Vte()),UIe=ve(Vte());iIe();lIe();Lvt=ve(pIe());bIe();h2();dre();C9r=Pc.utils.randomPrivateKey,SIe=()=>{let t=Pc.utils.randomPrivateKey(),e=yre(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},yre=Pc.getPublicKey;Ore=(t,e)=>Pc.sign(t,e.slice(0,32)),Uvt=Pc.verify,Mn=t=>vr.Buffer.isBuffer(t)?t:t instanceof Uint8Array?vr.Buffer.from(t.buffer,t.byteOffset,t.byteLength):vr.Buffer.from(t),gre=class{constructor(e){Object.assign(this,e)}encode(){return vr.Buffer.from((0,gv.serialize)(AL,this))}static decode(e){return(0,gv.deserialize)(AL,this,e)}static decodeUnchecked(e){return(0,gv.deserializeUnchecked)(AL,this,e)}},AL=new Map,Fvt=32,qm=32;CIe=1,kr=class t extends gre{constructor(e){if(super({}),this._bn=void 0,Hvt(e))this._bn=e._bn;else{if(typeof e=="string"){let r=o0.default.decode(e);if(r.length!=qm)throw new Error("Invalid public key input");this._bn=new bre.default(r)}else this._bn=new bre.default(e);if(this._bn.byteLength()>qm)throw new Error("Invalid public key input")}}static unique(){let e=new t(CIe);return CIe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return o0.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(vr.Buffer);if(e.length===qm)return e;let r=vr.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=vr.Buffer.concat([e.toBuffer(),vr.Buffer.from(r),n.toBuffer()]),o=sS(i);return new t(o)}static createProgramAddressSync(e,r){let n=vr.Buffer.alloc(0);e.forEach(function(o){if(o.length>Fvt)throw new TypeError("Max seed length exceeded");n=vr.Buffer.concat([n,Mn(o)])}),n=vr.Buffer.concat([n,r.toBuffer(),vr.Buffer.from("ProgramDerivedAddress")]);let i=sS(n);if(IIe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(vr.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return IIe(r.toBytes())}};FIe=kr;kr.default=new FIe("11111111111111111111111111111111");AL.set(kr,{kind:"struct",fields:[["_bn","u256"]]});R9r=new kr("BPFLoader1111111111111111111111111111111111"),Ug=1232,Nre=127,TL=64,wre=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(wre.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});vre=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(vre.prototype,"name",{value:"TransactionExpiredTimeoutError"});Ere=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Ere.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});bv=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,a)=>{n.set(o.toBase58(),a)});let i=o=>{let a=n.get(o.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(a=>i(a.pubkey)),data:o.data}))}},cn=(t="publicKey")=>ne.blob(32,t),zvt=(t="signature")=>ne.blob(64,t),mv=(t="string")=>{let e=ne.struct([ne.u32("length"),ne.u32("lengthPadding"),ne.blob(ne.offset(ne.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,a)=>r(o,a).chars.toString(),i.encode=(o,a,s)=>{let c={chars:vr.Buffer.from(o,"utf8")};return n(c,a,s)},i.alloc=o=>ne.u32().span+ne.u32().span+vr.Buffer.from(o,"utf8").length,i},Gvt=(t="authorized")=>ne.struct([cn("staker"),cn("withdrawer")],t),jvt=(t="lockup")=>ne.struct([ne.ns64("unixTimestamp"),ne.ns64("epoch"),cn("custodian")],t),$vt=(t="voteInit")=>ne.struct([cn("nodePubkey"),cn("authorizedVoter"),cn("authorizedWithdrawer"),ne.u8("commission")],t),Vvt=(t="voteAuthorizeWithSeedArgs")=>ne.struct([ne.u32("voteAuthorizationType"),cn("currentAuthorityDerivedKeyOwnerPubkey"),mv("currentAuthorityDerivedKeySeed"),cn("newAuthorized")],t);_L=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=a=>{let s=a.toBase58(),c=n.get(s);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(s,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let a of e){i(a.programId).isInvoked=!0;for(let s of a.keys){let c=i(s.pubkey);c.isSigner||=s.isSigner,c.isWritable||=s.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Ui(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{Ui(r.length>0,"Expected at least one writable signer key");let[c]=r[0];Ui(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let s=[...r.map(([c])=>new kr(c)),...n.map(([c])=>new kr(c)),...i.map(([c])=>new kr(c)),...o.map(([c])=>new kr(c))];return[a,s]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,a]of this.keyMetaMap.entries())if(r(a)){let s=new kr(o),c=e.findIndex(l=>l.equals(s));c>=0&&(Ui(c<256,"Max lookup table index exceeded"),n.push(c),i.push(s),this.keyMetaMap.delete(o))}return[n,i]}},zIe="Reached end of buffer unexpectedly";wS=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new kr(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:o0.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new bv(this.staticAccountKeys)}static compile(e){let r=_L.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),a=new bv(i).compileInstructions(e.instructions).map(s=>({programIdIndex:s.programIdIndex,accounts:s.accountKeyIndexes,data:o0.default.encode(s.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];kl(r,e);let n=this.instructions.map(d=>{let{accounts:f,programIdIndex:p}=d,h=Array.from(o0.default.decode(d.data)),b=[];kl(b,f.length);let _=[];return kl(_,h.length),{programIdIndex:p,keyIndicesCount:vr.Buffer.from(b),keyIndices:f,dataLength:vr.Buffer.from(_),data:h}}),i=[];kl(i,n.length);let o=vr.Buffer.alloc(Ug);vr.Buffer.from(i).copy(o);let a=i.length;n.forEach(d=>{let p=ne.struct([ne.u8("programIdIndex"),ne.blob(d.keyIndicesCount.length,"keyIndicesCount"),ne.seq(ne.u8("keyIndex"),d.keyIndices.length,"keyIndices"),ne.blob(d.dataLength.length,"dataLength"),ne.seq(ne.u8("userdatum"),d.data.length,"data")]).encode(d,o,a);a+=p}),o=o.slice(0,a);let s=ne.struct([ne.blob(1,"numRequiredSignatures"),ne.blob(1,"numReadonlySignedAccounts"),ne.blob(1,"numReadonlyUnsignedAccounts"),ne.blob(r.length,"keyCount"),ne.seq(cn("key"),e,"keys"),cn("recentBlockhash")]),c={numRequiredSignatures:vr.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:vr.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:vr.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:vr.Buffer.from(r),keys:this.accountKeys.map(d=>Mn(d.toBytes())),recentBlockhash:o0.default.decode(this.recentBlockhash)},l=vr.Buffer.alloc(2048),u=s.encode(c,l);return o.copy(l,u),l.slice(0,u+o.length)}static from(e){let r=[...e],n=z6(r);if(n!==(n&Nre))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=z6(r),o=z6(r),a=Nl(r),s=[];for(let f=0;f<a;f++){let p=Ml(r,0,qm);s.push(new kr(vr.Buffer.from(p)))}let c=Ml(r,0,qm),l=Nl(r),u=[];for(let f=0;f<l;f++){let p=z6(r),h=Nl(r),b=Ml(r,0,h),_=Nl(r),A=Ml(r,0,_),C=o0.default.encode(vr.Buffer.from(A));u.push({programIdIndex:p,accounts:b,data:C})}let d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:o0.default.encode(vr.Buffer.from(c)),accountKeys:s,instructions:u};return new t(d)}},xre=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new bv(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((a,s)=>a+s.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,a=n-r-this.header.numReadonlyUnsignedAccounts;return i<a}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=_L.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let u of o){let d=r.extractTableLookup(u);if(d!==void 0){let[f,{writable:p,readonly:h}]=d;n.push(f),i.writable.push(...p),i.readonly.push(...h)}}let[a,s]=r.getMessageComponents(),l=new bv(s,i).compileInstructions(e.instructions);return new t({header:a,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:n})}serialize(){let e=Array();kl(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();kl(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();kl(o,this.addressTableLookups.length);let a=ne.struct([ne.u8("prefix"),ne.struct([ne.u8("numRequiredSignatures"),ne.u8("numReadonlySignedAccounts"),ne.u8("numReadonlyUnsignedAccounts")],"header"),ne.blob(e.length,"staticAccountKeysLength"),ne.seq(cn(),this.staticAccountKeys.length,"staticAccountKeys"),cn("recentBlockhash"),ne.blob(n.length,"instructionsLength"),ne.blob(r.length,"serializedInstructions"),ne.blob(o.length,"addressTableLookupsLength"),ne.blob(i.length,"serializedAddressTableLookups")]),s=new Uint8Array(Ug),l=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:o0.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},s);return s.slice(0,l)}serializeInstructions(){let e=0,r=new Uint8Array(Ug);for(let n of this.compiledInstructions){let i=Array();kl(i,n.accountKeyIndexes.length);let o=Array();kl(o,n.data.length);let a=ne.struct([ne.u8("programIdIndex"),ne.blob(i.length,"encodedAccountKeyIndexesLength"),ne.seq(ne.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),ne.blob(o.length,"encodedDataLength"),ne.blob(n.data.length,"data")]);e+=a.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(Ug);for(let n of this.addressTableLookups){let i=Array();kl(i,n.writableIndexes.length);let o=Array();kl(o,n.readonlyIndexes.length);let a=ne.struct([cn("accountKey"),ne.blob(i.length,"encodedWritableIndexesLength"),ne.seq(ne.u8(),n.writableIndexes.length,"writableIndexes"),ne.blob(o.length,"encodedReadonlyIndexesLength"),ne.seq(ne.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=z6(r),i=n&Nre;Ui(n!==i,"Expected versioned message but received legacy message");let o=i;Ui(o===0,`Expected versioned message with version 0 but found version ${o}`);let a={numRequiredSignatures:z6(r),numReadonlySignedAccounts:z6(r),numReadonlyUnsignedAccounts:z6(r)},s=[],c=Nl(r);for(let h=0;h<c;h++)s.push(new kr(Ml(r,0,qm)));let l=o0.default.encode(Ml(r,0,qm)),u=Nl(r),d=[];for(let h=0;h<u;h++){let b=z6(r),_=Nl(r),A=Ml(r,0,_),C=Nl(r),R=new Uint8Array(Ml(r,0,C));d.push({programIdIndex:b,accountKeyIndexes:A,data:R})}let f=Nl(r),p=[];for(let h=0;h<f;h++){let b=new kr(Ml(r,0,qm)),_=Nl(r),A=Ml(r,0,_),C=Nl(r),R=Ml(r,0,C);p.push({accountKey:b,writableIndexes:A,readonlyIndexes:R})}return new t({header:a,staticAccountKeys:s,recentBlockhash:l,compiledInstructions:d,addressTableLookups:p})}},GIe={deserializeMessageVersion(t){let e=t[0],r=e&Nre;return r===e?"legacy":r},deserialize:t=>{let e=GIe.deserializeMessageVersion(t);if(e==="legacy")return wS.from(t);if(e===0)return xre.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},Kvt=vr.Buffer.alloc(TL).fill(0),hi=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=vr.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Yi=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new hi(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(A=>{o.push({...A})});let _=b.programId.toString();i.includes(_)||i.push(_)}),i.forEach(b=>{o.push({pubkey:new kr(b),isSigner:!1,isWritable:!1})});let a=[];o.forEach(b=>{let _=b.pubkey.toString(),A=a.findIndex(C=>C.pubkey.toString()===_);A>-1?(a[A].isWritable=a[A].isWritable||b.isWritable,a[A].isSigner=a[A].isSigner||b.isSigner):a.push(b)}),a.sort(function(b,_){if(b.isSigner!==_.isSigner)return b.isSigner?-1:1;if(b.isWritable!==_.isWritable)return b.isWritable?-1:1;let A={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return b.pubkey.toBase58().localeCompare(_.pubkey.toBase58(),"en",A)});let s=a.findIndex(b=>b.pubkey.equals(n));if(s>-1){let[b]=a.splice(s,1);b.isSigner=!0,b.isWritable=!0,a.unshift(b)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let _=a.findIndex(A=>A.pubkey.equals(b.publicKey));if(_>-1)a[_].isSigner||(a[_].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,l=0,u=0,d=[],f=[];a.forEach(({pubkey:b,isSigner:_,isWritable:A})=>{_?(d.push(b.toString()),c+=1,A||(l+=1)):(f.push(b.toString()),A||(u+=1))});let p=d.concat(f),h=r.map(b=>{let{data:_,programId:A}=b;return{programIdIndex:p.indexOf(A.toString()),accounts:b.keys.map(C=>p.indexOf(C.pubkey.toString())),data:o0.default.encode(_)}});return h.forEach(b=>{Ui(b.programIdIndex>=0),b.accounts.forEach(_=>Ui(_>=0))}),new wS({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:p,recentBlockhash:e,instructions:h})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let a=o.publicKey.toString();r.has(a)||(r.add(a),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let a=o.publicKey.toString();r.has(a)||(r.add(a),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=Ore(n,i.secretKey);this._addSignature(i.publicKey,Mn(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Ui(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=vr.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:o}of this.signatures)i===null?r&&(n.missing||=[]).push(o):Uvt(i,e,o.toBytes())||(n.invalid||=[]).push(o);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let o=this._getMessageSignednessErrors(i,r);if(o){let a="Signature verification failed.";throw o.invalid&&(a+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(s=>s.toBase58()).join("`, `")}\`].`),o.missing&&(a+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(s=>s.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];kl(n,r.length);let i=n.length+r.length*64+e.length,o=vr.Buffer.alloc(i);return Ui(r.length<256),vr.Buffer.from(n).copy(o,0),r.forEach(({signature:a},s)=>{a!==null&&(Ui(a.length===64,"signature has invalid length"),vr.Buffer.from(a).copy(o,n.length+s*64))}),e.copy(o,n.length+r.length*64),Ui(o.length<=Ug,`Transaction too large: ${o.length} > ${Ug}`),o}get keys(){return Ui(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ui(this.instructions.length===1),this.instructions[0].programId}get data(){return Ui(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Nl(r),i=[];for(let o=0;o<n;o++){let a=Ml(r,0,TL);i.push(o0.default.encode(vr.Buffer.from(a)))}return t.populate(wS.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let a={signature:i==o0.default.encode(Kvt)?null:o0.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(a)}),e.instructions.forEach(i=>{let o=i.accounts.map(a=>{let s=e.accountKeys[a];return{pubkey:s,isSigner:n.signatures.some(c=>c.publicKey.toString()===s.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new hi({keys:o,programId:e.accountKeys[i.programIdIndex],data:o0.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},SL=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Ui(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(TL));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();kl(r,this.signatures.length);let n=ne.struct([ne.blob(r.length,"encodedSignaturesLength"),ne.seq(zvt(),this.signatures.length,"signatures"),ne.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Nl(r);for(let a=0;a<i;a++)n.push(new Uint8Array(Ml(r,0,TL)));let o=GIe.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(a=>a.equals(i.publicKey));Ui(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=Ore(r,i.secretKey)}}addSignature(e,r){Ui(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Ui(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},qvt=160,Wvt=64,Yvt=qvt/Wvt,Jvt=1e3/Yvt,H6=new kr("SysvarC1ock11111111111111111111111111111111"),P9r=new kr("SysvarEpochSchedu1e111111111111111111111111"),O9r=new kr("Sysvar1nstructions1111111111111111111111111"),fre=new kr("SysvarRecentB1ockHashes11111111111111111111"),vS=new kr("SysvarRent111111111111111111111111111111111"),N9r=new kr("SysvarRewards111111111111111111111111111111"),k9r=new kr("SysvarS1otHashes111111111111111111111111111"),M9r=new kr("SysvarS1otHistory11111111111111111111111111"),pre=new kr("SysvarStakeHistory1111111111111111111111111"),Are=class extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){let o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",s;switch(e){case"send":s=`Transaction ${r} resulted in an error. 
${n}. `+o+a;break;case"simulate":s=`Simulation failed. 
Message: ${n}. 
`+o+a;break;default:s=`Unknown action '${(c=>c)(e)}'`}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let o=i.meta.logMessages;this.transactionLogs=o,r(o)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}};Zvt=ne.nu64("lamportsPerSignature"),Xvt=ne.struct([ne.u32("version"),ne.u32("state"),cn("authorizedPubkey"),cn("nonce"),ne.struct([Zvt],"feeCalculator")]),PIe=Xvt.span;Vu=Object.freeze({Create:{index:0,layout:ne.struct([ne.u32("instruction"),ne.ns64("lamports"),ne.ns64("space"),cn("programId")])},Assign:{index:1,layout:ne.struct([ne.u32("instruction"),cn("programId")])},Transfer:{index:2,layout:ne.struct([ne.u32("instruction"),yv("lamports")])},CreateWithSeed:{index:3,layout:ne.struct([ne.u32("instruction"),cn("base"),mv("seed"),ne.ns64("lamports"),ne.ns64("space"),cn("programId")])},AdvanceNonceAccount:{index:4,layout:ne.struct([ne.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ne.struct([ne.u32("instruction"),ne.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ne.struct([ne.u32("instruction"),cn("authorized")])},AuthorizeNonceAccount:{index:7,layout:ne.struct([ne.u32("instruction"),cn("authorized")])},Allocate:{index:8,layout:ne.struct([ne.u32("instruction"),ne.ns64("space")])},AllocateWithSeed:{index:9,layout:ne.struct([ne.u32("instruction"),cn("base"),mv("seed"),ne.ns64("space"),cn("programId")])},AssignWithSeed:{index:10,layout:ne.struct([ne.u32("instruction"),cn("base"),mv("seed"),cn("programId")])},TransferWithSeed:{index:11,layout:ne.struct([ne.u32("instruction"),yv("lamports"),mv("seed"),cn("programId")])},UpgradeNonceAccount:{index:12,layout:ne.struct([ne.u32("instruction")])}}),K0=class t{constructor(){}static createAccount(e){let r=Vu.Create,n=wn(r,{lamports:e.lamports,space:e.space,programId:Mn(e.programId.toBuffer())});return new hi({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=Vu.TransferWithSeed;r=wn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Mn(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Vu.Transfer;r=wn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new hi({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=Vu.AssignWithSeed;r=wn(i,{base:Mn(e.basePubkey.toBuffer()),seed:e.seed,programId:Mn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Vu.Assign;r=wn(i,{programId:Mn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new hi({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Vu.CreateWithSeed,n=wn(r,{base:Mn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Mn(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new hi({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Yi;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:PIe,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:PIe,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Vu.InitializeNonceAccount,n=wn(r,{authorized:Mn(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:fre,isSigner:!1,isWritable:!1},{pubkey:vS,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new hi(i)}static nonceAdvance(e){let r=Vu.AdvanceNonceAccount,n=wn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:fre,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new hi(i)}static nonceWithdraw(e){let r=Vu.WithdrawNonceAccount,n=wn(r,{lamports:e.lamports});return new hi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:fre,isSigner:!1,isWritable:!1},{pubkey:vS,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Vu.AuthorizeNonceAccount,n=wn(r,{authorized:Mn(e.newAuthorizedPubkey.toBuffer())});return new hi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=Vu.AllocateWithSeed;r=wn(i,{base:Mn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Mn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Vu.Allocate;r=wn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new hi({keys:n,programId:this.programId,data:r})}};K0.programId=new kr("11111111111111111111111111111111");e9t=Ug-300,Tre=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let d=await e.getMinimumBalanceForRentExemption(o.length),f=await e.getAccountInfo(n.publicKey,"confirmed"),p=null;if(f!==null){if(f.executable)return console.error("Program load failed, account is already executable"),!1;f.data.length!==o.length&&(p=p||new Yi,p.add(K0.allocate({accountPubkey:n.publicKey,space:o.length}))),f.owner.equals(i)||(p=p||new Yi,p.add(K0.assign({accountPubkey:n.publicKey,programId:i}))),f.lamports<d&&(p=p||new Yi,p.add(K0.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:d-f.lamports})))}else p=new Yi().add(K0.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:d>0?d:1,space:o.length,programId:i}));p!==null&&await RIe(e,p,[r,n],{commitment:"confirmed"})}let a=ne.struct([ne.u32("instruction"),ne.u32("offset"),ne.u32("bytesLength"),ne.u32("bytesLengthPadding"),ne.seq(ne.u8("byte"),ne.offset(ne.u32(),-8),"bytes")]),s=t.chunkSize,c=0,l=o,u=[];for(;l.length>0;){let d=l.slice(0,s),f=vr.Buffer.alloc(s+16);a.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},f);let p=new Yi().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:f});u.push(RIe(e,p,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Qvt(1e3/4),c+=s,l=l.slice(s)}await Promise.all(u);{let d=ne.struct([ne.u32("instruction")]),f=vr.Buffer.alloc(d.span);d.encode({instruction:1},f);let p=new Yi().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:vS,isSigner:!1,isWritable:!1}],programId:i,data:f}),h="processed",b=await e.sendTransaction(p,[r,n],{preflightCommitment:h}),{context:_,value:A}=await e.confirmTransaction({signature:b,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},h);if(A.err)throw new Error(`Transaction ${b} failed (${JSON.stringify(A)})`);for(;;){try{if(await e.getSlot({commitment:h})>_.slot)break}catch{}await new Promise(C=>setTimeout(C,Math.round(Jvt/2)))}}return!0}};Tre.chunkSize=e9t;B9r=new kr("BPFLoader2111111111111111111111111111111111"),D9r=globalThis.fetch,L9r={index:1,layout:ne.struct([ne.u32("typeIndex"),yv("deactivationSlot"),ne.nu64("lastExtendedSlot"),ne.u8("lastExtendedStartIndex"),ne.u8(),ne.seq(cn(),ne.offset(ne.u8(),-1),"authority")])},xo=fv(gL(kr),at(),t=>new kr(t)),jIe=wL([at(),Wi("base64")]),kre=fv(gL(vr.Buffer),jIe,t=>vr.Buffer.from(t[0],"base64")),U9r=30*1e3;t9t=$Ie(Lg());r9t=je({foundation:he(),foundationTerm:he(),initial:he(),taper:he(),terminal:he()}),F9r=Ii(It(Ct(je({epoch:he(),effectiveSlot:he(),amount:he(),postBalance:he(),commission:er(Ct(he()))})))),n9t=It(je({slot:he(),prioritizationFee:he()})),i9t=je({total:he(),validator:he(),foundation:he(),epoch:he()}),o9t=je({epoch:he(),slotIndex:he(),slotsInEpoch:he(),absoluteSlot:he(),blockHeight:er(he()),transactionCount:er(he())}),a9t=je({slotsPerEpoch:he(),leaderScheduleSlotOffset:he(),warmup:rf(),firstNormalEpoch:he(),firstNormalSlot:he()}),s9t=rre(at(),It(he())),Fg=Ct(n0([je({}),at()])),c9t=je({err:Fg}),l9t=Wi("receivedSignature"),H9r=je({"solana-core":at(),"feature-set":er(he())}),u9t=je({program:at(),programId:xo,parsed:Lg()}),d9t=je({programId:xo,accounts:It(xo),data:at()}),z9r=nf(je({err:Ct(n0([je({}),at()])),logs:Ct(It(at())),accounts:er(Ct(It(Ct(je({executable:rf(),owner:at(),lamports:he(),data:It(at()),rentEpoch:er(he())}))))),unitsConsumed:er(he()),returnData:er(Ct(je({programId:at(),data:wL([at(),Wi("base64")])}))),innerInstructions:er(Ct(It(je({index:he(),instructions:It(n0([u9t,d9t]))}))))})),G9r=nf(je({byIdentity:rre(at(),It(he())),range:je({firstSlot:he(),lastSlot:he()})})),j9r=Ii(r9t),$9r=Ii(i9t),V9r=Ii(n9t),K9r=Ii(o9t),q9r=Ii(a9t),W9r=Ii(s9t),Y9r=Ii(he()),J9r=nf(je({total:he(),circulating:he(),nonCirculating:he(),nonCirculatingAccounts:It(xo)})),f9t=je({amount:at(),uiAmount:Ct(he()),decimals:he(),uiAmountString:er(at())}),Q9r=nf(It(je({address:xo,amount:at(),uiAmount:Ct(he()),decimals:he(),uiAmountString:er(at())}))),Z9r=nf(It(je({pubkey:xo,account:je({executable:rf(),owner:xo,lamports:he(),data:kre,rentEpoch:he()})}))),_re=je({program:at(),parsed:Lg(),space:he()}),X9r=nf(It(je({pubkey:xo,account:je({executable:rf(),owner:xo,lamports:he(),data:_re,rentEpoch:he()})}))),eEr=nf(It(je({lamports:he(),address:xo}))),Mre=je({executable:rf(),owner:xo,lamports:he(),data:kre,rentEpoch:he()}),tEr=je({pubkey:xo,account:Mre}),p9t=fv(n0([gL(vr.Buffer),_re]),n0([jIe,_re]),t=>Array.isArray(t)?dv(t,kre):t),h9t=je({executable:rf(),owner:xo,lamports:he(),data:p9t,rentEpoch:he()}),rEr=je({pubkey:xo,account:h9t}),nEr=je({state:n0([Wi("active"),Wi("inactive"),Wi("activating"),Wi("deactivating")]),active:he(),inactive:he()}),iEr=Ii(It(je({signature:at(),slot:he(),err:Fg,memo:Ct(at()),blockTime:er(Ct(he()))}))),oEr=Ii(It(je({signature:at(),slot:he(),err:Fg,memo:Ct(at()),blockTime:er(Ct(he()))}))),aEr=je({subscription:he(),result:PL(Mre)}),m9t=je({pubkey:xo,account:Mre}),sEr=je({subscription:he(),result:PL(m9t)}),b9t=je({parent:he(),slot:he(),root:he()}),cEr=je({subscription:he(),result:b9t}),y9t=n0([je({type:n0([Wi("firstShredReceived"),Wi("completed"),Wi("optimisticConfirmation"),Wi("root")]),slot:he(),timestamp:he()}),je({type:Wi("createdBank"),parent:he(),slot:he(),timestamp:he()}),je({type:Wi("frozen"),slot:he(),timestamp:he(),stats:je({numTransactionEntries:he(),numSuccessfulTransactions:he(),numFailedTransactions:he(),maxTransactionsPerEntry:he()})}),je({type:Wi("dead"),slot:he(),timestamp:he(),err:at()})]),lEr=je({subscription:he(),result:y9t}),uEr=je({subscription:he(),result:PL(n0([c9t,l9t]))}),dEr=je({subscription:he(),result:he()}),fEr=je({pubkey:at(),gossip:Ct(at()),tpu:Ct(at()),rpc:Ct(at()),version:Ct(at())}),OIe=je({votePubkey:at(),nodePubkey:at(),activatedStake:he(),epochVoteAccount:rf(),epochCredits:It(wL([he(),he(),he()])),commission:he(),lastVote:he(),rootSlot:Ct(he())}),pEr=Ii(je({current:It(OIe),delinquent:It(OIe)})),g9t=n0([Wi("processed"),Wi("confirmed"),Wi("finalized")]),w9t=je({slot:he(),confirmations:Ct(he()),err:Fg,confirmationStatus:er(g9t)}),hEr=nf(It(Ct(w9t))),mEr=Ii(he()),VIe=je({accountKey:xo,writableIndexes:It(he()),readonlyIndexes:It(he())}),Bre=je({signatures:It(at()),message:je({accountKeys:It(at()),header:je({numRequiredSignatures:he(),numReadonlySignedAccounts:he(),numReadonlyUnsignedAccounts:he()}),instructions:It(je({accounts:It(he()),data:at(),programIdIndex:he()})),recentBlockhash:at(),addressTableLookups:er(It(VIe))})}),KIe=je({pubkey:xo,signer:rf(),writable:rf(),source:er(n0([Wi("transaction"),Wi("lookupTable")]))}),qIe=je({accountKeys:It(KIe),signatures:It(at())}),WIe=je({parsed:Lg(),program:at(),programId:xo}),YIe=je({accounts:It(xo),data:at(),programId:xo}),v9t=n0([YIe,WIe]),E9t=n0([je({parsed:Lg(),program:at(),programId:at()}),je({accounts:It(at()),data:at(),programId:at()})]),JIe=fv(v9t,E9t,t=>"accounts"in t?dv(t,YIe):dv(t,WIe)),QIe=je({signatures:It(at()),message:je({accountKeys:It(KIe),instructions:It(JIe),recentBlockhash:at(),addressTableLookups:er(Ct(It(VIe)))})}),IL=je({accountIndex:he(),mint:at(),owner:er(at()),programId:er(at()),uiTokenAmount:f9t}),ZIe=je({writable:It(xo),readonly:It(xo)}),OL=je({err:Fg,fee:he(),innerInstructions:er(Ct(It(je({index:he(),instructions:It(je({accounts:It(he()),data:at(),programIdIndex:he()}))})))),preBalances:It(he()),postBalances:It(he()),logMessages:er(Ct(It(at()))),preTokenBalances:er(Ct(It(IL))),postTokenBalances:er(Ct(It(IL))),loadedAddresses:er(ZIe),computeUnitsConsumed:er(he()),costUnits:er(he())}),Dre=je({err:Fg,fee:he(),innerInstructions:er(Ct(It(je({index:he(),instructions:It(JIe)})))),preBalances:It(he()),postBalances:It(he()),logMessages:er(Ct(It(at()))),preTokenBalances:er(Ct(It(IL))),postTokenBalances:er(Ct(It(IL))),loadedAddresses:er(ZIe),computeUnitsConsumed:er(he()),costUnits:er(he())}),wv=n0([Wi(0),Wi("legacy")]),Hg=je({pubkey:at(),lamports:he(),postBalance:Ct(he()),rewardType:Ct(at()),commission:er(Ct(he()))}),bEr=Ii(Ct(je({blockhash:at(),previousBlockhash:at(),parentSlot:he(),transactions:It(je({transaction:Bre,meta:Ct(OL),version:er(wv)})),rewards:er(It(Hg)),blockTime:Ct(he()),blockHeight:Ct(he())}))),yEr=Ii(Ct(je({blockhash:at(),previousBlockhash:at(),parentSlot:he(),rewards:er(It(Hg)),blockTime:Ct(he()),blockHeight:Ct(he())}))),gEr=Ii(Ct(je({blockhash:at(),previousBlockhash:at(),parentSlot:he(),transactions:It(je({transaction:qIe,meta:Ct(OL),version:er(wv)})),rewards:er(It(Hg)),blockTime:Ct(he()),blockHeight:Ct(he())}))),wEr=Ii(Ct(je({blockhash:at(),previousBlockhash:at(),parentSlot:he(),transactions:It(je({transaction:QIe,meta:Ct(Dre),version:er(wv)})),rewards:er(It(Hg)),blockTime:Ct(he()),blockHeight:Ct(he())}))),vEr=Ii(Ct(je({blockhash:at(),previousBlockhash:at(),parentSlot:he(),transactions:It(je({transaction:qIe,meta:Ct(Dre),version:er(wv)})),rewards:er(It(Hg)),blockTime:Ct(he()),blockHeight:Ct(he())}))),EEr=Ii(Ct(je({blockhash:at(),previousBlockhash:at(),parentSlot:he(),rewards:er(It(Hg)),blockTime:Ct(he()),blockHeight:Ct(he())}))),xEr=Ii(Ct(je({blockhash:at(),previousBlockhash:at(),parentSlot:he(),transactions:It(je({transaction:Bre,meta:Ct(OL)})),rewards:er(It(Hg)),blockTime:Ct(he())}))),AEr=Ii(Ct(je({blockhash:at(),previousBlockhash:at(),parentSlot:he(),signatures:It(at()),blockTime:Ct(he())}))),TEr=Ii(Ct(je({slot:he(),meta:Ct(OL),blockTime:er(Ct(he())),transaction:Bre,version:er(wv)}))),_Er=Ii(Ct(je({slot:he(),transaction:QIe,meta:Ct(Dre),blockTime:er(Ct(he())),version:er(wv)}))),SEr=nf(je({blockhash:at(),lastValidBlockHeight:he()})),IEr=nf(rf()),x9t=je({slot:he(),numTransactions:he(),numSlots:he(),samplePeriodSecs:he()}),CEr=Ii(It(x9t)),REr=nf(Ct(je({feeCalculator:je({lamportsPerSignature:he()})}))),PEr=Ii(at()),OEr=Ii(at()),A9t=je({err:Fg,logs:It(at()),signature:at()}),NEr=je({result:PL(A9t),subscription:he()}),Sre=class t{constructor(e){this._keypair=void 0,this._keypair=e??SIe()}static generate(){return new t(SIe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=yre(i);for(let a=0;a<32;a++)if(n[a]!==o[a])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=yre(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new kr(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},yS=Object.freeze({CreateLookupTable:{index:0,layout:ne.struct([ne.u32("instruction"),yv("recentSlot"),ne.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ne.struct([ne.u32("instruction")])},ExtendLookupTable:{index:2,layout:ne.struct([ne.u32("instruction"),yv(),ne.seq(cn(),ne.offset(ne.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ne.struct([ne.u32("instruction")])},CloseLookupTable:{index:4,layout:ne.struct([ne.u32("instruction")])}}),Ire=class{constructor(){}static createLookupTable(e){let[r,n]=kr.findProgramAddressSync([e.authority.toBuffer(),Xte().encode(e.recentSlot)],this.programId),i=yS.CreateLookupTable,o=wn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:K0.programId,isSigner:!1,isWritable:!1}];return[new hi({programId:this.programId,keys:a,data:o}),r]}static freezeLookupTable(e){let r=yS.FreezeLookupTable,n=wn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new hi({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=yS.ExtendLookupTable,n=wn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:K0.programId,isSigner:!1,isWritable:!1}),new hi({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=yS.DeactivateLookupTable,n=wn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new hi({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=yS.CloseLookupTable,n=wn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new hi({programId:this.programId,keys:i,data:n})}};Ire.programId=new kr("AddressLookupTab1e1111111111111111111111111");xL=Object.freeze({RequestUnits:{index:0,layout:ne.struct([ne.u8("instruction"),ne.u32("units"),ne.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ne.struct([ne.u8("instruction"),ne.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ne.struct([ne.u8("instruction"),ne.u32("units")])},SetComputeUnitPrice:{index:3,layout:ne.struct([ne.u8("instruction"),yv("microLamports")])}}),Cre=class{constructor(){}static requestUnits(e){let r=xL.RequestUnits,n=wn(r,e);return new hi({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=xL.RequestHeapFrame,n=wn(r,e);return new hi({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=xL.SetComputeUnitLimit,n=wn(r,e);return new hi({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=xL.SetComputeUnitPrice,n=wn(r,{microLamports:BigInt(e.microLamports)});return new hi({keys:[],programId:this.programId,data:n})}};Cre.programId=new kr("ComputeBudget111111111111111111111111111111");NIe=64,kIe=32,MIe=64,BIe=ne.struct([ne.u8("numSignatures"),ne.u8("padding"),ne.u16("signatureOffset"),ne.u16("signatureInstructionIndex"),ne.u16("publicKeyOffset"),ne.u16("publicKeyInstructionIndex"),ne.u16("messageDataOffset"),ne.u16("messageDataSize"),ne.u16("messageInstructionIndex")]),Rre=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;Ui(r.length===kIe,`Public Key must be ${kIe} bytes but received ${r.length} bytes`),Ui(i.length===MIe,`Signature must be ${MIe} bytes but received ${i.length} bytes`);let a=BIe.span,s=a+r.length,c=s+i.length,l=1,u=vr.Buffer.alloc(c+n.length),d=o??65535;return BIe.encode({numSignatures:l,padding:0,signatureOffset:s,signatureInstructionIndex:d,publicKeyOffset:a,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:d},u),u.fill(r,a),u.fill(i,s),u.fill(n,c),new hi({keys:[],programId:t.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Ui(r.length===NIe,`Private key must be ${NIe} bytes but received ${r.length} bytes`);try{let o=Sre.fromSecretKey(r),a=o.publicKey.toBytes(),s=Ore(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:s,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Rre.programId=new kr("Ed25519SigVerify111111111111111111111111111");T9t=(t,e)=>{let r=Vm.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};Vm.utils.isValidPrivateKey;_9t=Vm.getPublicKey,DIe=32,hre=20,LIe=64,S9t=11,mre=ne.struct([ne.u8("numSignatures"),ne.u16("signatureOffset"),ne.u8("signatureInstructionIndex"),ne.u16("ethAddressOffset"),ne.u8("ethAddressInstructionIndex"),ne.u16("messageDataOffset"),ne.u16("messageDataSize"),ne.u8("messageInstructionIndex"),ne.blob(20,"ethAddress"),ne.blob(64,"signature"),ne.u8("recoveryId")]),Pre=class t{constructor(){}static publicKeyToEthAddress(e){Ui(e.length===LIe,`Public key must be ${LIe} bytes but received ${e.length} bytes`);try{return vr.Buffer.from(M0(Mn(e))).slice(-hre)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:a}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:a})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:a=0}=e,s;typeof r=="string"?r.startsWith("0x")?s=vr.Buffer.from(r.substr(2),"hex"):s=vr.Buffer.from(r,"hex"):s=r,Ui(s.length===hre,`Address must be ${hre} bytes but received ${s.length} bytes`);let c=1+S9t,l=c,u=c+s.length,d=u+i.length+1,f=1,p=vr.Buffer.alloc(mre.span+n.length);return mre.encode({numSignatures:f,signatureOffset:u,signatureInstructionIndex:a,ethAddressOffset:l,ethAddressInstructionIndex:a,messageDataOffset:d,messageDataSize:n.length,messageInstructionIndex:a,signature:Mn(i),ethAddress:Mn(s),recoveryId:o},p),p.fill(Mn(n),mre.span),new hi({keys:[],programId:t.programId,data:p})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Ui(r.length===DIe,`Private key must be ${DIe} bytes but received ${r.length} bytes`);try{let o=Mn(r),a=_9t(o,!1).slice(1),s=vr.Buffer.from(M0(Mn(n))),[c,l]=T9t(s,o);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:c,recoveryId:l,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Pre.programId=new kr("KeccakSecp256k11111111111111111111111111111");I9t=new kr("StakeConfig11111111111111111111111111111111"),ES=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};XIe=ES;ES.default=new XIe(0,0,kr.default);Km=Object.freeze({Initialize:{index:0,layout:ne.struct([ne.u32("instruction"),Gvt(),jvt()])},Authorize:{index:1,layout:ne.struct([ne.u32("instruction"),cn("newAuthorized"),ne.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ne.struct([ne.u32("instruction")])},Split:{index:3,layout:ne.struct([ne.u32("instruction"),ne.ns64("lamports")])},Withdraw:{index:4,layout:ne.struct([ne.u32("instruction"),ne.ns64("lamports")])},Deactivate:{index:5,layout:ne.struct([ne.u32("instruction")])},Merge:{index:7,layout:ne.struct([ne.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ne.struct([ne.u32("instruction"),cn("newAuthorized"),ne.u32("stakeAuthorizationType"),mv("authoritySeed"),cn("authorityOwner")])}}),kEr=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),CL=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||ES.default,a=Km.Initialize,s=wn(a,{authorized:{staker:Mn(n.staker.toBuffer()),withdrawer:Mn(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Mn(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:vS,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new hi(c)}static createAccountWithSeed(e){let r=new Yi;r.add(K0.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Yi;r.add(K0.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=Km.Delegate,a=wn(o);return new Yi().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:H6,isSigner:!1,isWritable:!1},{pubkey:pre,isSigner:!1,isWritable:!1},{pubkey:I9t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:a}=e,s=Km.Authorize,c=wn(s,{newAuthorized:Mn(i.toBuffer()),stakeAuthorizationType:o.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:H6,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!0,isWritable:!1}),new Yi().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:a,stakeAuthorizationType:s,custodianPubkey:c}=e,l=Km.AuthorizeWithSeed,u=wn(l,{newAuthorized:Mn(a.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:i,authorityOwner:Mn(o.toBuffer())}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:H6,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Yi().add({keys:d,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,a=Km.Split,s=wn(a,{lamports:o});return new hi({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,r){let n=new Yi;return n.add(K0.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,basePubkey:a,seed:s,lamports:c}=e,l=new Yi;return l.add(K0.allocate({accountPubkey:o,basePubkey:a,seed:s,space:this.space,programId:this.programId})),r&&r>0&&l.add(K0.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:r})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:c}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=Km.Merge,a=wn(o);return new Yi().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:H6,isSigner:!1,isWritable:!1},{pubkey:pre,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:a}=e,s=Km.Withdraw,c=wn(s,{lamports:o}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:H6,isSigner:!1,isWritable:!1},{pubkey:pre,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!0,isWritable:!1}),new Yi().add({keys:l,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Km.Deactivate,o=wn(i);return new Yi().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:H6,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};CL.programId=new kr("Stake11111111111111111111111111111111111111");CL.space=200;gS=Object.freeze({InitializeAccount:{index:0,layout:ne.struct([ne.u32("instruction"),$vt()])},Authorize:{index:1,layout:ne.struct([ne.u32("instruction"),cn("newAuthorized"),ne.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ne.struct([ne.u32("instruction"),ne.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ne.struct([ne.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ne.struct([ne.u32("instruction"),Vvt()])}}),MEr=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),RL=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=gS.InitializeAccount,a=wn(o,{voteInit:{nodePubkey:Mn(i.nodePubkey.toBuffer()),authorizedVoter:Mn(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Mn(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),s={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:vS,isSigner:!1,isWritable:!1},{pubkey:H6,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new hi(s)}static createAccount(e){let r=new Yi;return r.add(K0.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,a=gS.Authorize,s=wn(a,{newAuthorized:Mn(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:H6,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Yi().add({keys:c,programId:this.programId,data:s})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:a,votePubkey:s}=e,c=gS.AuthorizeWithSeed,l=wn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Mn(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Mn(o.toBuffer()),voteAuthorizationType:a.index}}),u=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:H6,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yi().add({keys:u,programId:this.programId,data:l})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,a=gS.Withdraw,s=wn(a,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Yi().add({keys:c,programId:this.programId,data:s})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,o=gS.UpdateValidatorIdentity,a=wn(o),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Yi().add({keys:s,programId:this.programId,data:a})}};RL.programId=new kr("Vote111111111111111111111111111111111111111");RL.space=3762;BEr=new kr("Va1idator1nfo111111111111111111111111111111"),DEr=je({name:at(),website:er(at()),details:er(at()),iconUrl:er(at()),keybaseUsername:er(at())}),LEr=new kr("Vote111111111111111111111111111111111111111"),UEr=ne.struct([cn("nodePubkey"),cn("authorizedWithdrawer"),ne.u8("commission"),ne.nu64(),ne.seq(ne.struct([ne.nu64("slot"),ne.u32("confirmationCount")]),ne.offset(ne.u32(),-8),"votes"),ne.u8("rootSlotValid"),ne.nu64("rootSlot"),ne.nu64(),ne.seq(ne.struct([ne.nu64("epoch"),cn("authorizedVoter")]),ne.offset(ne.u32(),-8),"authorizedVoters"),ne.struct([ne.seq(ne.struct([cn("authorizedPubkey"),ne.nu64("epochOfLastAuthorizedSwitch"),ne.nu64("targetEpoch")]),32,"buf"),ne.nu64("idx"),ne.u8("isEmpty")],"priorVoters"),ne.nu64(),ne.seq(ne.struct([ne.nu64("epoch"),ne.nu64("credits"),ne.nu64("prevCredits")]),ne.offset(ne.u32(),-8),"epochCredits"),ne.struct([ne.nu64("slot"),ne.nu64("timestamp")],"lastTimestamp")])});function C9t(t){return(e,r,n,i)=>e.method==="solana_chainId"?(r.result=t,i()):n()}function R9t(t){return(e,r,n,i)=>e.method==="solana_provider_config"?(r.result=t,i()):n()}function Lre(t){let{chainId:e}=t;return Su([C9t(e),R9t(t)])}function tCe(t){let{rpcTarget:e}=t,r=tg({rpcTarget:e});return{networkMiddleware:Su([Lre(t),r]),fetchMiddleware:r}}var Ure=D(()=>{Ho();_i()});function P9t({getAccounts:t}){return tn(async(e,r,n)=>{let{method:i}=e;if(i!==zn.GET_ACCOUNTS)return n();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");let o=await t(e);r.result=o})}function O9t({requestAccounts:t}){return tn(async(e,r,n)=>{let{method:i}=e;if(i!==zn.SOLANA_REQUEST_ACCOUNTS)return n();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");let o=await t(e);r.result=o})}function G6(t,e){return tn(async(r,n,i)=>{let{method:o}=r;if(o!==t)return i();if(!e)throw new Error(`WalletMiddleware - ${t} not provided`);let a=await e(r);n.result=a})}function NL(t){let{getAccounts:e,requestAccounts:r,signTransaction:n,signAndSendTransaction:i,signAllTransactions:o,signMessage:a,getPrivateKey:s,getSecretKey:c,getPublicKey:l}=t;return Su([O9t({requestAccounts:r}),P9t({getAccounts:e}),G6(zn.SIGN_TRANSACTION,n),G6(zn.SEND_TRANSACTION,i),G6(zn.SIGN_ALL_TRANSACTIONS,o),G6(zn.SIGN_MESSAGE,a),G6(zn.SOLANA_PRIVATE_KEY,s),G6(zn.PRIVATE_KEY,s),G6("public_key",l),G6("solanaPublicKey",l),G6("solanaSecretKey",c)])}var Fre=D(()=>{_i();dg()});var kL,rCe=D(()=>{_i();Ure();Fre();ag();ma();kL=class extends xc{constructor({config:e,state:r}){super({config:e,state:r})}async switchChain(e){throw Xe.unsupportedOperation("Chain switching is not supported by this connector")}async setupProvider(e,r){let n=new zs,i=this.getChain(r),o=this.getProviderHandlers(e),a=NL(o);n.push(a);let s=Lre(i);n.push(s);let c=this.getInjectedProviderProxy(e);c&&n.push(c);let l=wl(n);this.updateProviderEngineProxy(l),await this.lookupNetwork(e,r)}async lookupNetwork(e,r){return this.update({chainId:r}),r||""}getInjectedProviderProxy(e){}}});var nCe,iCe=D(()=>{ZN();_i();nCe=t=>({requestAccounts:async()=>t.publicKey?[kd.encode(t.publicKey.toBytes())]:[],getPublicKey:async()=>t.publicKey?kd.encode(t.publicKey.toBytes()):"",getAccounts:async()=>t.publicKey?[kd.encode(t.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw Lr.methodNotSupported()},getSecretKey:async()=>{throw Lr.methodNotSupported()},signTransaction:async r=>await t.signTransaction(r.params.message),signMessage:async r=>await t.signMessage(r.params.data,r.params.from,r.params.display),signAllTransactions:async r=>{var n,i;if(!((n=r.params)!==null&&n!==void 0&&n.message)||!((i=r.params)!==null&&i!==void 0&&i.message.length))throw Lr.invalidParams("message");return await t.signAllTransactions(r.params.message)},signAndSendTransaction:async r=>await t.signAndSendTransaction(r.params.message)})});var ML,Hre=D(()=>{ML=t=>{switch(t.chainId){case"0x65":return"solana:mainnet";case"0x66":return"solana:testnet";case"0x67":return"solana:devnet";default:return null}}});var BL,oCe=D(()=>{hte();eCe();ZN();rCe();iCe();Hre();ma();BL=class extends kL{getProviderHandlers(e){let r=ML(this.config.chain),n=()=>{let c=e?.accounts[0];if(!c)throw Xe.notConnectedError();return c};return nCe({get publicKey(){return new kr(n().publicKey)},signMessage:async c=>{let l=n(),u=new Uint8Array(Buffer.from(c,"utf-8")),d=await e.features[ND].signMessage({account:l,message:u});return kd.encode(d[0].signature)},signTransaction:async c=>{let l=n(),u=await e.features[X_].signTransaction({account:l,transaction:new Uint8Array(Buffer.from(c,"base64")),chain:r});return kd.encode(SL.deserialize(u[0].signedTransaction).signatures[0])},signAllTransactions:async c=>{let l=n();return Promise.all(c.map(async u=>{let d=await e.features[X_].signTransaction({account:l,transaction:new Uint8Array(Buffer.from(u,"base64")),chain:r});return Buffer.from(d[0].signedTransaction).toString("base64")}))},signAndSendTransaction:async c=>{let l=n(),u=await e.features[OD].signAndSendTransaction({account:l,transaction:new Uint8Array(Buffer.from(c,"base64")),chain:r});return kd.encode(u[0].signature)}})}}});var zre,aCe,sCe=D(()=>{Ye();bte();uSe();oCe();Hre();og();m6();Ho();ku();jd();ma();zre=class extends DD{constructor(e){super(e),V(this,"name",void 0),V(this,"connectorNamespace",Zo.SOLANA),V(this,"currentChainNamespace",pt.SOLANA),V(this,"type",ba.EXTERNAL),V(this,"isInjected",!0),V(this,"status",Oe.NOT_READY),V(this,"wallet",null),V(this,"injectedProvider",null),this.name=e.name,this.icon=e.wallet.icon,this.wallet=["gate","solflare"].includes(this.name)?Object.freeze(e.wallet):e.wallet}get provider(){return this.status!==Oe.NOT_READY&&this.injectedProvider?this.injectedProvider:null}get isWalletConnected(){return this.status===Oe.CONNECTED&&this.wallet.accounts.length>0}async init(e){await super.init(e);let r=this.coreOptions.chains.find(n=>n.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r}),this.injectedProvider=new BL({config:{chain:r,chains:this.coreOptions.chains}}),await this.injectedProvider.setupProvider(this.wallet,e.chainId),this.status=Oe.READY,this.emit(ot.READY,this.name);try{if(Be.debug("initializing solana injected connector"),e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,Xe.connectionError("Failed to rehydrate.")}catch(n){this.emit(ot.REHYDRATION_ERROR,n)}}async connect({chainId:e}){try{super.checkConnectionRequirements();let r=this.coreOptions.chains.find(i=>i.chainId===e);if(!r)throw Xe.connectionError("Chain config is not available");this.status=Oe.CONNECTING,this.emit(ot.CONNECTING,{connector:this.name});let n=ML(r);if(!this.wallet.chains.find(i=>i===n))throw Xe.connectionError(`Chain ${n} not supported. Supported chains are ${this.wallet.chains.join(", ")}`);if(this.isWalletConnected||await this.wallet.features[BD].connect(),this.wallet.accounts.length===0)throw Xe.connectionError();return this.status=Oe.CONNECTED,this.emit(ot.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.provider}),this.provider}catch(r){throw this.status=Oe.READY,this.rehydrated||this.emit(ot.ERRORED,r),this.rehydrated=!1,r}}async disconnect(e={cleanup:!1}){await super.disconnectSession();try{var r;await((r=this.wallet.features[sSe])===null||r===void 0?void 0:r.disconnect()),e.cleanup?(this.status=Oe.NOT_READY,this.injectedProvider=null):this.status=Oe.READY,await super.disconnect()}catch(n){this.emit(ot.ERRORED,Xe.disconnectionError(n?.message))}}async getUserInfo(){if(!this.isWalletConnected)throw Xe.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.injectedProvider)===null||n===void 0?void 0:n.switchChain(e))}async enableMFA(){throw new Error("Method not implemented.")}async manageMFA(){throw new Error("Method Not implemented")}},aCe=t=>({coreOptions:e})=>new zre({name:q7(t.name),wallet:t,coreOptions:e})});var cCe={};lr(cCe,{createSolanaMipd:()=>nSe,hasSolanaWalletStandardFeatures:()=>N9t,walletStandardConnector:()=>aCe});var N9t,lCe=D(()=>{hte();oSe();bte();sCe();N9t=t=>{let{chains:e,features:r}=t;return e.some(o=>o.startsWith("solana"))?!![BD,ND,X_,OD].every(o=>Object.keys(r).includes(o)):void 0}});var Gre,uCe,dCe=D(()=>{Ye();og();lte();m6();Ho();ku();jd();ma();Gre=class extends J4{constructor(e){super(e),V(this,"connectorNamespace",Zo.EIP155),V(this,"currentChainNamespace",pt.EIP155),V(this,"type",ba.EXTERNAL),V(this,"name",void 0),V(this,"isInjected",!0),V(this,"status",Oe.NOT_READY),V(this,"injectedProvider",null),this.name=e.name,this.injectedProvider=e.provider,this.icon=e.icon}get provider(){return this.status!==Oe.NOT_READY&&this.injectedProvider?this.injectedProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){await super.init(e);let r=this.coreOptions.chains.find(n=>n.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r}),this.status=Oe.READY,this.emit(ot.READY,this.name);try{if(Be.debug(`initializing ${this.name} injected connector`),e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,Xe.connectionError("Failed to rehydrate.")}catch(n){this.emit(ot.REHYDRATION_ERROR,n)}}async connect({chainId:e}){if(super.checkConnectionRequirements(),!this.injectedProvider)throw Xe.connectionError("Injected provider is not available");let r=this.coreOptions.chains.find(n=>n.chainId===e);if(!r)throw Xe.connectionError("Chain config is not available");this.status=Oe.CONNECTING,this.emit(ot.CONNECTING,{connector:this.name});try{if(await this.injectedProvider.request({method:"eth_requestAccounts"}),this.injectedProvider.chainId!==r.chainId)try{await this.switchChain(r,!0)}catch{await this.addChain(r,!0),await this.switchChain(r,!0)}this.status=Oe.CONNECTED;let n=i=>{if(i.length===0){var o;this.disconnect(),(o=this.injectedProvider)!==null&&o!==void 0&&o.removeListener&&this.injectedProvider.removeListener("accountsChanged",n)}};return this.injectedProvider.on("accountsChanged",n),this.emit(ot.CONNECTED,{connector:this.name,reconnected:this.rehydrated,provider:this.injectedProvider}),this.injectedProvider}catch(n){throw this.status=Oe.READY,this.rehydrated||this.emit(ot.ERRORED,n),this.rehydrated=!1,n instanceof ro?n:Xe.connectionError(`Failed to login with ${this.name} injected wallet`)}}async disconnect(e={cleanup:!1}){if(!this.injectedProvider)throw Xe.connectionError("Injected provider is not available");await super.disconnectSession(),typeof this.injectedProvider.removeAllListeners<"u"&&this.injectedProvider.removeAllListeners();try{await this.injectedProvider.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch{}e.cleanup?(this.status=Oe.NOT_READY,this.injectedProvider=null):this.status=Oe.READY,await super.disconnect()}async getUserInfo(){if(this.status!==Oe.CONNECTED)throw Xe.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e,r=!1){if(!this.injectedProvider)throw Xe.connectionError("Injected provider is not available");await this.injectedProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}async switchChain(e,r=!1){if(!this.injectedProvider)throw Xe.connectionError("Injected provider is not available");super.checkSwitchChainRequirements(e,r),await this.injectedProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]})}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}},uCe=t=>({coreOptions:e})=>new Gre({name:q7(t.info.name),provider:t.provider,icon:t.info.icon,coreOptions:e})});function fCe(t){if(typeof window>"u")return;let e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}var pCe=D(()=>{});function jre(){let t=new Set,e=[],r=()=>fCe(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))}),n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n?.()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n?.(),n=r()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}var hCe=D(()=>{pCe()});var mCe=D(()=>{hCe()});var bCe={};lr(bCe,{createMipd:()=>jre,injectedEvmConnector:()=>uCe});var yCe=D(()=>{dCe();mCe()});var $re,Vre,Kre,qre,k9t,Wre,Yre,Jre,Qre,DL,Zre=D(()=>{PM();l4();Ho();$re=(function(t){return t.ETH_SEND_TRANSACTION="eth_sendTransaction",t.ETH_SIGN_TRANSACTION="eth_signTransaction",t.ETH_SIGN="eth_sign",t.PERSONAL_SIGN="personal_sign",t.ETH_SIGN_TYPED_DATA="eth_signTypedData",t.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",t.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",t.ADD_ETHEREUM_CHAIN="wallet_addEthereumChain",t.SWITCH_ETHEREUM_CHAIN="wallet_switchEthereumChain",t})({}),Vre=(function(t){return t.SIGN_TRANSACTION="solana_signTransaction",t.SIGN_MESSAGE="solana_signMessage",t})({}),Kre=(function(t){return t.ETH_CHAIN_CHANGED="chainChanged",t.ETH_ACCOUNTS_CHANGED="accountsChanged",t})({}),qre=(function(t){return t.SOL_CHAIN_CHANGED="chainChanged",t.SOL_ACCOUNTS_CHANGED="accountsChanged",t})({}),k9t=async()=>({name:CM(window),icon:await RM(window)}),Wre=t=>{let e=[];return t.forEach(r=>{let[n]=r.split(":");e.includes(n)||e.push(n)}),e},Yre=t=>{switch(t){case pt.EIP155:return Object.values($re);case pt.SOLANA:return Object.values(Vre);default:throw new Error(`No default methods for namespace: ${t}`)}},Jre=t=>{switch(t){case pt.EIP155:return Object.values(Kre);case pt.SOLANA:return Object.values(qre);default:throw new Error(`No default events for namespace: ${t}`)}},Qre=t=>{let e=Wre(t);return Object.fromEntries(e.map(r=>[r,{methods:Yre(r),chains:t.filter(n=>n.startsWith(r)),events:Jre(r)}]))},DL=async(t,e)=>{let r=await k9t(),n={walletConnectInitOptions:{projectId:e,relayUrl:"wss://relay.walletconnect.com",metadata:{name:r.name,description:r.name,url:window.location.origin,icons:[r.icon||""]}}},i=t.map(a=>{if(a.chainNamespace===pt.SOLANA)return`${a.chainNamespace}:${am[a.chainId]}`;if(a.chainNamespace===pt.EIP155)return`${a.chainNamespace}:${parseInt(a.chainId,16)}`;throw new Error(`Unsupported chain namespace: ${a.chainNamespace}`)}),o={optionalNamespaces:Qre(i)};return{connectorSettings:n,loginSettings:o}}});var AS={};lr(AS,{__assign:()=>ene,__asyncDelegator:()=>K9t,__asyncGenerator:()=>V9t,__asyncValues:()=>q9t,__await:()=>xS,__awaiter:()=>F9t,__classPrivateFieldGet:()=>Q9t,__classPrivateFieldSet:()=>Z9t,__createBinding:()=>z9t,__decorate:()=>D9t,__exportStar:()=>G9t,__extends:()=>M9t,__generator:()=>H9t,__importDefault:()=>J9t,__importStar:()=>Y9t,__makeTemplateObject:()=>W9t,__metadata:()=>U9t,__param:()=>L9t,__read:()=>gCe,__rest:()=>B9t,__spread:()=>j9t,__spreadArrays:()=>$9t,__values:()=>tne});function M9t(t,e){Xre(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function B9t(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function D9t(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function L9t(t,e){return function(r,n){e(r,n,t)}}function U9t(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function F9t(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{l(n.next(u))}catch(d){a(d)}}function c(u){try{l(n.throw(u))}catch(d){a(d)}}function l(u){u.done?o(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})}function H9t(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function z9t(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function G9t(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function tne(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gCe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function j9t(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(gCe(arguments[e]));return t}function $9t(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function xS(t){return this instanceof xS?(this.v=t,this):new xS(t)}function V9t(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){n[f]&&(i[f]=function(p){return new Promise(function(h,b){o.push([f,p,h,b])>1||s(f,p)})})}function s(f,p){try{c(n[f](p))}catch(h){d(o[0][3],h)}}function c(f){f.value instanceof xS?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}function l(f){s("next",f)}function u(f){s("throw",f)}function d(f,p){f(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}function K9t(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(a){return(r=!r)?{value:xS(t[i](a)),done:i==="return"}:o?o(a):a}:o}}function q9t(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof tne=="function"?tne(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,c){a=t[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}}function W9t(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Y9t(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function J9t(t){return t&&t.__esModule?t:{default:t}}function Q9t(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Z9t(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Xre,ene,TS=D(()=>{Xre=function(t,e){return Xre=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Xre(t,e)};ene=function(){return ene=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ene.apply(this,arguments)}});var wCe=de(LL=>{"use strict";Object.defineProperty(LL,"__esModule",{value:!0});LL.delay=void 0;function X9t(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}LL.delay=X9t});var vCe=de(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.ONE_THOUSAND=vv.ONE_HUNDRED=void 0;vv.ONE_HUNDRED=100;vv.ONE_THOUSAND=1e3});var ECe=de(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.ONE_YEAR=xt.FOUR_WEEKS=xt.THREE_WEEKS=xt.TWO_WEEKS=xt.ONE_WEEK=xt.THIRTY_DAYS=xt.SEVEN_DAYS=xt.FIVE_DAYS=xt.THREE_DAYS=xt.ONE_DAY=xt.TWENTY_FOUR_HOURS=xt.TWELVE_HOURS=xt.SIX_HOURS=xt.THREE_HOURS=xt.ONE_HOUR=xt.SIXTY_MINUTES=xt.THIRTY_MINUTES=xt.TEN_MINUTES=xt.FIVE_MINUTES=xt.ONE_MINUTE=xt.SIXTY_SECONDS=xt.THIRTY_SECONDS=xt.TEN_SECONDS=xt.FIVE_SECONDS=xt.ONE_SECOND=void 0;xt.ONE_SECOND=1;xt.FIVE_SECONDS=5;xt.TEN_SECONDS=10;xt.THIRTY_SECONDS=30;xt.SIXTY_SECONDS=60;xt.ONE_MINUTE=xt.SIXTY_SECONDS;xt.FIVE_MINUTES=xt.ONE_MINUTE*5;xt.TEN_MINUTES=xt.ONE_MINUTE*10;xt.THIRTY_MINUTES=xt.ONE_MINUTE*30;xt.SIXTY_MINUTES=xt.ONE_MINUTE*60;xt.ONE_HOUR=xt.SIXTY_MINUTES;xt.THREE_HOURS=xt.ONE_HOUR*3;xt.SIX_HOURS=xt.ONE_HOUR*6;xt.TWELVE_HOURS=xt.ONE_HOUR*12;xt.TWENTY_FOUR_HOURS=xt.ONE_HOUR*24;xt.ONE_DAY=xt.TWENTY_FOUR_HOURS;xt.THREE_DAYS=xt.ONE_DAY*3;xt.FIVE_DAYS=xt.ONE_DAY*5;xt.SEVEN_DAYS=xt.ONE_DAY*7;xt.THIRTY_DAYS=xt.ONE_DAY*30;xt.ONE_WEEK=xt.SEVEN_DAYS;xt.TWO_WEEKS=xt.ONE_WEEK*2;xt.THREE_WEEKS=xt.ONE_WEEK*3;xt.FOUR_WEEKS=xt.ONE_WEEK*4;xt.ONE_YEAR=xt.ONE_DAY*365});var rne=de(UL=>{"use strict";Object.defineProperty(UL,"__esModule",{value:!0});var xCe=(TS(),qy(AS));xCe.__exportStar(vCe(),UL);xCe.__exportStar(ECe(),UL)});var TCe=de(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.fromMiliseconds=Ev.toMiliseconds=void 0;var ACe=rne();function eEt(t){return t*ACe.ONE_THOUSAND}Ev.toMiliseconds=eEt;function tEt(t){return Math.floor(t/ACe.ONE_THOUSAND)}Ev.fromMiliseconds=tEt});var SCe=de(FL=>{"use strict";Object.defineProperty(FL,"__esModule",{value:!0});var _Ce=(TS(),qy(AS));_Ce.__exportStar(wCe(),FL);_Ce.__exportStar(TCe(),FL)});var ICe=de(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.Watch=void 0;var HL=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let r=this.get(e);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let n=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:n})}get(e){let r=this.timestamps.get(e);if(typeof r>"u")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){let r=this.get(e);return r.elapsed||Date.now()-r.started}};_S.Watch=HL;_S.default=HL});var CCe=de(zL=>{"use strict";Object.defineProperty(zL,"__esModule",{value:!0});zL.IWatch=void 0;var nne=class{};zL.IWatch=nne});var RCe=de(ine=>{"use strict";Object.defineProperty(ine,"__esModule",{value:!0});var rEt=(TS(),qy(AS));rEt.__exportStar(CCe(),ine)});var Av=de(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});var GL=(TS(),qy(AS));GL.__exportStar(SCe(),xv);GL.__exportStar(ICe(),xv);GL.__exportStar(RCe(),xv);GL.__exportStar(rne(),xv)});var of,PCe=D(()=>{of=class{}});var one=D(()=>{PCe()});var NCe,$L,ane,OCe,Wm,jL,kCe=D(()=>{NCe=ve(Da()),$L=ve(Av());one();ane=class extends of{constructor(e){super()}},OCe=$L.FIVE_SECONDS,Wm={pulse:"heartbeat_pulse"},jL=class t extends ane{constructor(e){super(e),this.events=new NCe.EventEmitter,this.interval=OCe,this.interval=e?.interval||OCe}static async init(e){let r=new t(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,$L.toMiliseconds)(this.interval))}pulse(){this.events.emit(Wm.pulse)}}});function aEt(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){sEt(t);return}return e}function sEt(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function SS(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);let r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!oEt.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(nEt.test(t)||iEt.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,aEt)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}var nEt,iEt,oEt,MCe=D(()=>{nEt=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,iEt=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,oEt=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/});function cEt(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ya(t,...e){try{return cEt(t(...e))}catch(r){return Promise.reject(r)}}function lEt(t){let e=typeof t;return t===null||e!=="object"&&e!=="function"}function uEt(t){let e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function IS(t){if(lEt(t))return String(t);if(uEt(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return IS(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function BCe(t){return typeof t=="string"?t:sne+fEt(t)}function DCe(t){return typeof t!="string"||!t.startsWith(sne)?t:dEt(t.slice(sne.length))}function dEt(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function fEt(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function q0(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function LCe(...t){return q0(t.join(":"))}function CS(t){return t=q0(t),t?t+":":""}function UCe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function FCe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}var sne,HCe=D(()=>{sne="base64:"});function jCe(t={}){let e={mounts:{"":t.driver||hEt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(let u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=q0(u);for(let d of e.watchListeners)d(l,u)}},o=async()=>{if(!e.watching){e.watching=!0;for(let l in e.mounts)e.unwatch[l]=await zCe(e.mounts[l],i,l)}},a=async()=>{if(e.watching){for(let l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},s=(l,u,d)=>{let f=new Map,p=h=>{let b=f.get(h.base);return b||(b={driver:h.driver,base:h.base,items:[]},f.set(h.base,b)),b};for(let h of l){let b=typeof h=="string",_=q0(b?h:h.key),A=b?void 0:h.value,C=b||!h.options?u:{...u,...h.options},R=r(_);p(R).items.push({key:_,value:A,relativeKey:R.relativeKey,options:C})}return Promise.all([...f.values()].map(h=>d(h))).then(h=>h.flat())},c={hasItem(l,u={}){l=q0(l);let{relativeKey:d,driver:f}=r(l);return ya(f.hasItem,d,u)},getItem(l,u={}){l=q0(l);let{relativeKey:d,driver:f}=r(l);return ya(f.getItem,d,u).then(p=>SS(p))},getItems(l,u={}){return s(l,u,d=>d.driver.getItems?ya(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:LCe(d.base,p.key),value:SS(p.value)}))):Promise.all(d.items.map(f=>ya(d.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:SS(p)})))))},getItemRaw(l,u={}){l=q0(l);let{relativeKey:d,driver:f}=r(l);return f.getItemRaw?ya(f.getItemRaw,d,u):ya(f.getItem,d,u).then(p=>DCe(p))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=q0(l);let{relativeKey:f,driver:p}=r(l);p.setItem&&(await ya(p.setItem,f,IS(u),d),p.watch||i("update",l))},async setItems(l,u){await s(l,u,async d=>{if(d.driver.setItems)return ya(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:IS(f.value),options:f.options})),u);d.driver.setItem&&await Promise.all(d.items.map(f=>ya(d.driver.setItem,f.relativeKey,IS(f.value),f.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=q0(l);let{relativeKey:f,driver:p}=r(l);if(p.setItemRaw)await ya(p.setItemRaw,f,u,d);else if(p.setItem)await ya(p.setItem,f,BCe(u),d);else return;p.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=q0(l);let{relativeKey:d,driver:f}=r(l);f.removeItem&&(await ya(f.removeItem,d,u),(u.removeMeta||u.removeMata)&&await ya(f.removeItem,d+"$",u),f.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=q0(l);let{relativeKey:d,driver:f}=r(l),p=Object.create(null);if(f.getMeta&&Object.assign(p,await ya(f.getMeta,d,u)),!u.nativeOnly){let h=await ya(f.getItem,d+"$",u).then(b=>SS(b));h&&typeof h=="object"&&(typeof h.atime=="string"&&(h.atime=new Date(h.atime)),typeof h.mtime=="string"&&(h.mtime=new Date(h.mtime)),Object.assign(p,h))}return p},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=CS(l);let d=n(l,!0),f=[],p=[],h=!0;for(let _ of d){_.driver.flags?.maxDepth||(h=!1);let A=await ya(_.driver.getKeys,_.relativeBase,u);for(let C of A){let R=_.mountpoint+q0(C);f.some(M=>R.startsWith(M))||p.push(R)}f=[_.mountpoint,...f.filter(C=>!C.startsWith(_.mountpoint))]}let b=u.maxDepth!==void 0&&!h;return p.filter(_=>(!b||UCe(_,u.maxDepth))&&FCe(_,l))},async clear(l,u={}){l=CS(l),await Promise.all(n(l,!1).map(async d=>{if(d.driver.clear)return ya(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){let f=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(f.map(p=>d.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>GCe(l)))},async watch(l){return await o(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(l,u){if(l=CS(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,f)=>f.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(zCe(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=CS(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await GCe(e.mounts[l]),e.mountpoints=e.mountpoints.filter(d=>d!==l),delete e.mounts[l])},getMount(l=""){l=q0(l)+":";let u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=q0(l),n(l,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function zCe(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function GCe(t){typeof t.dispose=="function"&&await ya(t.dispose)}var pEt,hEt,$Ce=D(()=>{MCe();HCe();pEt="memory",hEt=()=>{let t=new Map;return{name:pEt,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}}});function zg(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function lne(t,e){let r,n=()=>{if(r)return r;let i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=zg(i),r.then(o=>{o.onclose=()=>r=void 0},()=>{}),r};return(i,o)=>n().then(a=>o(a.transaction(e,i).objectStore(e)))}function RS(){return cne||(cne=lne("keyval-store","keyval")),cne}function une(t,e=RS()){return e("readonly",r=>zg(r.get(t)))}function VCe(t,e,r=RS()){return r("readwrite",n=>(n.put(e,t),zg(n.transaction)))}function KCe(t,e=RS()){return e("readwrite",r=>(r.delete(t),zg(r.transaction)))}function qCe(t=RS()){return t("readwrite",e=>(e.clear(),zg(e.transaction)))}function mEt(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},zg(t.transaction)}function WCe(t=RS()){return t("readonly",e=>{if(e.getAllKeys)return zg(e.getAllKeys());let r=[];return mEt(e,n=>r.push(n.key)).then(()=>r)})}var cne,YCe=D(()=>{});function F1(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return yEt(t)}catch{return t}}function Ku(t){return typeof t=="string"?t:bEt(t)||""}var bEt,yEt,Tv=D(()=>{bEt=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),yEt=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)}});function xEt(t){var e;return[t[0],F1((e=t[1])!=null?e:"")]}var gEt,wEt,vEt,EEt,fne,dne,VL,pne,AEt,JCe,TEt,_Et,KL,QCe=D(()=>{$Ce();YCe();Tv();gEt="idb-keyval",wEt=(t={})=>{let e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i,n;return t.dbName&&t.storeName&&(n=lne(t.dbName,t.storeName)),{name:gEt,options:t,async hasItem(i){return!(typeof await une(r(i),n)>"u")},async getItem(i){return await une(r(i),n)??null},setItem(i,o){return VCe(r(i),o,n)},removeItem(i){return KCe(r(i),n)},getKeys(){return WCe(n)},clear(){return qCe(n)}}},vEt="WALLET_CONNECT_V2_INDEXED_DB",EEt="keyvaluestorage",fne=class{constructor(){this.indexedDb=jCe({driver:wEt({dbName:vEt,storeName:EEt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Ku(r))}async removeItem(e){await this.indexedDb.removeItem(e)}},dne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VL={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof dne<"u"&&dne.localStorage?VL.exports=dne.localStorage:typeof window<"u"&&window.localStorage?VL.exports=window.localStorage:VL.exports=new e})();pne=class{constructor(){this.localStorage=VL.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(xEt)}async getItem(e){let r=this.localStorage.getItem(e);if(r!==null)return F1(r)}async setItem(e,r){this.localStorage.setItem(e,Ku(r))}async removeItem(e){this.localStorage.removeItem(e)}},AEt="wc_storage_version",JCe=1,TEt=async(t,e,r)=>{let n=AEt,i=await e.getItem(n);if(i&&i>=JCe){r(e);return}let o=await t.getKeys();if(!o.length){r(e);return}let a=[];for(;o.length;){let s=o.shift();if(!s)continue;let c=s.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){let l=await t.getItem(s);await e.setItem(s,l),a.push(s)}}await e.setItem(n,JCe),r(e),_Et(t,a)},_Et=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})},KL=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let e=new pne;this.storage=e;try{let r=new fne;TEt(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}}});var XCe=de((gAr,ZCe)=>{"use strict";function SEt(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}ZCe.exports=IEt;function IEt(t,e,r){var n=r&&r.stringify||SEt,i=1;if(typeof t=="object"&&t!==null){var o=e.length+i;if(o===1)return t;var a=new Array(o);a[0]=n(t);for(var s=1;s<o;s++)a[s]=n(e[s]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,d=-1,f=t&&t.length||0,p=0;p<f;){if(t.charCodeAt(p)===37&&p+1<f){switch(d=d>-1?d:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<p&&(l+=t.slice(d,p)),l+=Number(e[u]),d=p+2,p++;break;case 105:if(u>=c||e[u]==null)break;d<p&&(l+=t.slice(d,p)),l+=Math.floor(Number(e[u])),d=p+2,p++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<p&&(l+=t.slice(d,p));var h=typeof e[u];if(h==="string"){l+="'"+e[u]+"'",d=p+2,p++;break}if(h==="function"){l+=e[u].name||"<anonymous>",d=p+2,p++;break}l+=n(e[u]),d=p+2,p++;break;case 115:if(u>=c)break;d<p&&(l+=t.slice(d,p)),l+=String(e[u]),d=p+2,p++;break;case 37:d<p&&(l+=t.slice(d,p)),l+="%",d=p+2,p++,u--;break}++u}++p}return d===-1?t:(d<f&&(l+=t.slice(d)),l)}});var bne=de((wAr,nRe)=>{"use strict";var eRe=XCe();nRe.exports=H1;var PS=LEt().console||{},CEt={mapHttpRequest:qL,mapHttpResponse:qL,wrapRequestSerializer:hne,wrapResponseSerializer:hne,wrapErrorSerializer:hne,req:qL,res:qL,err:kEt};function REt(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function H1(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||PS;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=REt(t.browser.serialize,n),o=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");let s=t.level||"info",c=Object.create(r);c.log||(c.log=OS),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:f});let l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:a,timestamp:MEt(t)};c.levels=H1.levels,c.level=s,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=OS,c.serializers=n,c._serialize=i,c._stdErrSerialize=o,c.child=p,e&&(c._logEvent=mne());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function f(h){if(h!=="silent"&&!this.levels.values[h])throw Error("unknown level "+h);this._level=h,_v(l,c,"error","log"),_v(l,c,"fatal","error"),_v(l,c,"warn","error"),_v(l,c,"info","log"),_v(l,c,"debug","log"),_v(l,c,"trace","log")}function p(h,b){if(!h)throw new Error("missing bindings for child Pino");b=b||{},i&&h.serializers&&(b.serializers=h.serializers);let _=b.serializers;if(i&&_){var A=Object.assign({},n,_),C=t.browser.serialize===!0?Object.keys(A):i;delete h.serializers,WL([h],C,A,this._stdErrSerialize)}function R(M){this._childLevel=(M._childLevel|0)+1,this.error=Sv(M,h,"error"),this.fatal=Sv(M,h,"fatal"),this.warn=Sv(M,h,"warn"),this.info=Sv(M,h,"info"),this.debug=Sv(M,h,"debug"),this.trace=Sv(M,h,"trace"),A&&(this.serializers=A,this._serialize=C),e&&(this._logEvent=mne([].concat(M._logEvent.bindings,h)))}return R.prototype=this,new R(this)}return c}H1.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};H1.stdSerializers=CEt;H1.stdTimeFunctions=Object.assign({},{nullTime:tRe,epochTime:rRe,unixTime:BEt,isoTime:DEt});function _v(t,e,r,n){let i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?OS:i[r]?i[r]:PS[r]||PS[n]||OS,PEt(t,e,r)}function PEt(t,e,r){!t.transmit&&e[r]===OS||(e[r]=(function(n){return function(){let o=t.timestamp(),a=new Array(arguments.length),s=Object.getPrototypeOf&&Object.getPrototypeOf(this)===PS?PS:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(t.serialize&&!t.asObject&&WL(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(s,OEt(this,r,a,o)):n.apply(s,a),t.transmit){let l=t.transmit.level||e.level,u=H1.levels.values[l],d=H1.levels.values[r];if(d<u)return;NEt(this,{ts:o,methodLevel:r,methodValue:d,transmitLevel:l,transmitValue:H1.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}})(e[r]))}function OEt(t,e,r,n){t._serialize&&WL(r,t._serialize,t.serializers,t._stdErrSerialize);let i=r.slice(),o=i[0],a={};n&&(a.time=n),a.level=H1.levels.values[e];let s=(t._childLevel|0)+1;if(s<1&&(s=1),o!==null&&typeof o=="object"){for(;s--&&typeof i[0]=="object";)Object.assign(a,i.shift());o=i.length?eRe(i.shift(),i):void 0}else typeof o=="string"&&(o=eRe(i.shift(),i));return o!==void 0&&(a.msg=o),a}function WL(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=H1.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(let o in t[i])e&&e.indexOf(o)>-1&&o in r&&(t[i][o]=r[o](t[i][o]))}function Sv(t,e,r){return function(){let n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function NEt(t,e,r){let n=e.send,i=e.ts,o=e.methodLevel,a=e.methodValue,s=e.val,c=t._logEvent.bindings;WL(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=o,t._logEvent.level.value=a,n(o,t._logEvent,s),t._logEvent=mne(c)}function mne(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function kEt(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function MEt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?tRe:rRe}function qL(){return{}}function hne(t){return t}function OS(){}function tRe(){return!1}function rRe(){return Date.now()}function BEt(){return Math.round(Date.now()/1e3)}function DEt(){return new Date(Date.now()).toISOString()}function LEt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});function MS(t){return ZL(QL({},t),{level:t?.level||UEt.level})}function $Et(t,e=kS){return t[e]||""}function VEt(t,e,r=kS){return t[r]=e,t}function a0(t,e=kS){let r="";return typeof t.bindings>"u"?r=$Et(t,e):r=t.bindings().context||"",r}function KEt(t,e,r=kS){let n=a0(t,r);return n.trim()?`${n}/${e}`:e}function ms(t,e,r=kS){let n=KEt(t,e,r),i=t.child({context:n});return VEt(i,n,r)}function qEt(t){var e,r;let n=new gne((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:(0,j6.default)(ZL(QL({},t.opts),{level:"trace",browser:ZL(QL({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function WEt(t){var e;let r=new wne((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:(0,j6.default)(ZL(QL({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function aRe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?qEt(t):WEt(t)}var j6,NS,UEt,kS,vne,yne,YL,JL,gne,wne,FEt,HEt,zEt,iRe,GEt,jEt,oRe,QL,ZL,Ene=D(()=>{j6=ve(bne()),NS=ve(bne());Tv();UEt={level:"info"},kS="custom_context",vne=1e3*1024,yne=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},YL=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let r=new yne(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let r=e.value;return e=e.next,{done:!1,value:r}}}}},JL=class{constructor(e,r=vne){this.level=e??"error",this.levelValue=j6.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new YL(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===j6.levels.values.error?console.error(e):r===j6.levels.values.warn?console.warn(e):r===j6.levels.values.debug?console.debug(e):r===j6.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ku({timestamp:new Date().toISOString(),log:e}));let r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new YL(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let r=this.getLogArray();return r.push(Ku({extraMetadata:e})),new Blob(r,{type:"application/json"})}},gne=class{constructor(e,r=vne){this.baseChunkLogger=new JL(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},wne=class{constructor(e,r=vne){this.baseChunkLogger=new JL(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}},FEt=Object.defineProperty,HEt=Object.defineProperties,zEt=Object.getOwnPropertyDescriptors,iRe=Object.getOwnPropertySymbols,GEt=Object.prototype.hasOwnProperty,jEt=Object.prototype.propertyIsEnumerable,oRe=(t,e,r)=>e in t?FEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,QL=(t,e)=>{for(var r in e||(e={}))GEt.call(e,r)&&oRe(t,r,e[r]);if(iRe)for(var r of iRe(e))jEt.call(e,r)&&oRe(t,r,e[r]);return t},ZL=(t,e)=>HEt(t,zEt(e))});var lRe,YEt,JEt,sRe,XL,QEt,ZEt,XEt,eU,tU,rU,nU,iU,oU,aU,sU,cU,lU,ext,txt,cRe,uU,dU,xne=D(()=>{one();lRe=ve(Da()),YEt=Object.defineProperty,JEt=(t,e,r)=>e in t?YEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sRe=(t,e,r)=>JEt(t,typeof e!="symbol"?e+"":e,r),XL=class extends of{constructor(e){super(),this.opts=e,sRe(this,"protocol","wc"),sRe(this,"version",2)}},QEt=Object.defineProperty,ZEt=(t,e,r)=>e in t?QEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,XEt=(t,e,r)=>ZEt(t,typeof e!="symbol"?e+"":e,r),eU=class extends of{constructor(e,r){super(),this.core=e,this.logger=r,XEt(this,"records",new Map)}},tU=class{constructor(e,r){this.logger=e,this.core=r}},rU=class extends of{constructor(e,r){super(),this.relayer=e,this.logger=r}},nU=class extends of{constructor(e){super()}},iU=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},oU=class extends of{constructor(e,r){super(),this.relayer=e,this.logger=r}},aU=class extends of{constructor(e,r){super(),this.core=e,this.logger=r}},sU=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},cU=class{constructor(e,r){this.projectId=e,this.logger=r}},lU=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},ext=Object.defineProperty,txt=(t,e,r)=>e in t?ext(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cRe=(t,e,r)=>txt(t,typeof e!="symbol"?e+"":e,r),uU=class{constructor(e){this.opts=e,cRe(this,"protocol","wc"),cRe(this,"version",2)}},dU=class{constructor(e){this.client=e}}});function rxt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function RRe(t,...e){if(!rxt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function uRe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nxt(t,e){RRe(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ixt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function PRe(t){return typeof t=="string"&&(t=ixt(t)),RRe(t),t}function oxt(t){let e=n=>t().update(PRe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ORe(t=32){if(Iv&&typeof Iv.getRandomValues=="function")return Iv.getRandomValues(new Uint8Array(t));if(Iv&&typeof Iv.randomBytes=="function")return Iv.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function axt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,s,n)}function NRe(t,e=!1){return e?{h:Number(t&fU),l:Number(t>>kne&fU)}:{h:Number(t>>kne&fU)|0,l:Number(t&fU)|0}}function sxt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:a}=NRe(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}function Ext(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}function Kne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qne(t){if(!Kne(t))throw new Error("Uint8Array expected")}function Tne(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Wne(t){qne(t);let e="";for(let r=0;r<t.length;r++)e+=Nxt[t[r]];return e}function MRe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Vne:BigInt("0x"+t)}function dRe(t){if(t>=$6._0&&t<=$6._9)return t-$6._0;if(t>=$6.A&&t<=$6.F)return t-($6.A-10);if(t>=$6.a&&t<=$6.f)return t-($6.a-10)}function BRe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=dRe(t.charCodeAt(o)),s=dRe(t.charCodeAt(o+1));if(a===void 0||s===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=a*16+s}return n}function kxt(t){return MRe(Wne(t))}function mU(t){return qne(t),MRe(Wne(Uint8Array.from(t).reverse()))}function DRe(t,e){return BRe(t.toString(16).padStart(e*2,"0"))}function Bne(t,e){return DRe(t,e).reverse()}function V6(t,e,r){let n;if(typeof e=="string")try{n=BRe(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Kne(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function fRe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];qne(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function Mxt(t,e,r){return _ne(t)&&_ne(e)&&_ne(r)&&e<=t&&t<r}function BS(t,e,r,n){if(!Mxt(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Bxt(t){let e;for(e=0;t>Vne;t>>=kRe,e+=1);return e}function Yne(t,e,r={}){let n=(i,o,a)=>{let s=Lxt[o];if(typeof s!="function")throw new Error("invalid validator function");let c=t[i];if(!(a&&c===void 0)&&!s(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+c)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}function pRe(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}function ga(t,e){let r=t%e;return r>=qa?r:e+r}function Fxt(t,e,r){if(e<qa)throw new Error("invalid exponent, negatives unsupported");if(r<=qa)throw new Error("invalid modulus");if(r===Go)return qa;let n=Go;for(;e>qa;)e&Go&&(n=n*t%r),t=t*t%r,e>>=Go;return n}function z1(t,e,r){let n=t;for(;e-- >qa;)n*=n,n%=r;return n}function bRe(t,e){if(t===qa)throw new Error("invert: expected non-zero number");if(e<=qa)throw new Error("invert: expected positive modulus, got "+e);let r=ga(t,e),n=e,i=qa,o=Go;for(;r!==qa;){let a=n/r,s=n%r,c=i-o*a;n=r,r=s,i=o,o=c}if(n!==Go)throw new Error("invert: does not exist");return ga(i,e)}function Hxt(t){let e=(t-Go)/Gg,r,n,i;for(r=t-Go,n=0;r%Gg===qa;r/=Gg,n++);for(i=Gg;i<t&&Fxt(i,e,t)!==t-Go;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let a=(t+Go)/Dne;return function(s,c){let l=s.pow(c,a);if(!s.eql(s.sqr(l),c))throw new Error("Cannot find square root");return l}}let o=(r+Go)/Gg;return function(a,s){if(a.pow(s,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,l=a.pow(a.mul(a.ONE,i),r),u=a.pow(s,o),d=a.pow(s,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let f=1;for(let h=a.sqr(d);f<c&&!a.eql(h,a.ONE);f++)h=a.sqr(h);let p=a.pow(l,Go<<BigInt(c-f-1));l=a.sqr(p),u=a.mul(u,p),d=a.mul(d,l),c=f}return u}}function zxt(t){if(t%Dne===Uxt){let e=(t+Go)/Dne;return function(r,n){let i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%mRe===hRe){let e=(t-hRe)/mRe;return function(r,n){let i=r.mul(n,Gg),o=r.pow(i,e),a=r.mul(n,o),s=r.mul(r.mul(a,Gg),o),c=r.mul(a,r.sub(s,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return Hxt(t)}function $xt(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=jxt.reduce((n,i)=>(n[i]="function",n),e);return Yne(t,r)}function Vxt(t,e,r){if(r<qa)throw new Error("invalid exponent, negatives unsupported");if(r===qa)return t.ONE;if(r===Go)return e;let n=t.ONE,i=e;for(;r>qa;)r&Go&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Go;return n}function Kxt(t,e){let r=new Array(e.length),n=e.reduce((o,a,s)=>t.is0(a)?o:(r[s]=o,t.mul(o,a)),t.ONE),i=t.inv(n);return e.reduceRight((o,a,s)=>t.is0(a)?o:(r[s]=t.mul(o,r[s]),t.mul(o,a)),i),r}function LRe(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function URe(t,e,r=!1,n={}){if(t<=qa)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:i,nByteLength:o}=LRe(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a,s=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:o,MASK:Dxt(i),ZERO:qa,ONE:Go,create:c=>ga(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return qa<=c&&c<t},is0:c=>c===qa,isOdd:c=>(c&Go)===Go,neg:c=>ga(-c,t),eql:(c,l)=>c===l,sqr:c=>ga(c*c,t),add:(c,l)=>ga(c+l,t),sub:(c,l)=>ga(c-l,t),mul:(c,l)=>ga(c*l,t),pow:(c,l)=>Vxt(s,c,l),div:(c,l)=>ga(c*bRe(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>bRe(c,t),sqrt:n.sqrt||(c=>(a||(a=zxt(t)),a(s,c))),invertBatch:c=>Kxt(s,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?Bne(c,o):DRe(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?mU(c):kxt(c)}});return Object.freeze(s)}function Sne(t,e){let r=e.negate();return t?r:e}function FRe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ine(t,e){FRe(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function qxt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Wxt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function Rne(t){return HRe.get(t)||1}function Yxt(t,e){return{constTimeNegate:Sne,hasPrecomputes(r){return Rne(r)!==1},unsafeLadder(r,n,i=t.ZERO){let o=r;for(;n>yRe;)n&pU&&(i=i.add(o)),o=o.double(),n>>=pU;return i},precomputeWindow(r,n){let{windows:i,windowSize:o}=Ine(n,e),a=[],s=r,c=s;for(let l=0;l<i;l++){c=s,a.push(c);for(let u=1;u<o;u++)c=c.add(s),a.push(c);s=c.double()}return a},wNAF(r,n,i){let{windows:o,windowSize:a}=Ine(r,e),s=t.ZERO,c=t.BASE,l=BigInt(2**r-1),u=2**r,d=BigInt(r);for(let f=0;f<o;f++){let p=f*a,h=Number(i&l);i>>=d,h>a&&(h-=u,i+=pU);let b=p,_=p+Math.abs(h)-1,A=f%2!==0,C=h<0;h===0?c=c.add(Sne(A,n[b])):s=s.add(Sne(C,n[_]))}return{p:s,f:c}},wNAFUnsafe(r,n,i,o=t.ZERO){let{windows:a,windowSize:s}=Ine(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let d=0;d<a;d++){let f=d*s;if(i===yRe)break;let p=Number(i&c);if(i>>=u,p>s&&(p-=l,i+=pU),p===0)continue;let h=n[f+Math.abs(p)-1];p<0&&(h=h.negate()),o=o.add(h)}return o},getPrecomputes(r,n,i){let o=Cne.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&Cne.set(n,i(o))),o},wNAFCached(r,n,i){let o=Rne(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){let a=Rne(r);return a===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(a,this.getPrecomputes(a,r,i),n,o)},setWindowSize(r,n){FRe(n,e),HRe.set(r,n),Cne.delete(r)}}}function Jxt(t,e,r,n){if(qxt(r,t),Wxt(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let i=t.ZERO,o=Bxt(BigInt(r.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=(1<<a)-1,c=new Array(s+1).fill(i),l=Math.floor((e.BITS-1)/a)*a,u=i;for(let d=l;d>=0;d-=a){c.fill(i);for(let p=0;p<n.length;p++){let h=n[p],b=Number(h>>BigInt(d)&BigInt(s));c[b]=c[b].add(r[p])}let f=i;for(let p=c.length-1,h=i;p>0;p--)h=h.add(c[p]),f=f.add(h);if(u=u.add(f),d!==0)for(let p=0;p<a;p++)u=u.double()}return u}function Qxt(t){return $xt(t.Fp),Yne(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...LRe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function eAt(t){let e=Qxt(t);return Yne(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function tAt(t){let e=eAt(t),{Fp:r,n,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:c}=e,l=hU<<BigInt(s*8)-Nc,u=r.create,d=URe(e.n,e.nBitLength),f=e.uvRatio||((y,E)=>{try{return{isValid:!0,value:r.sqrt(y*r.inv(E))}}catch{return{isValid:!1,value:af}}}),p=e.adjustScalarBytes||(y=>y),h=e.domain||((y,E,v)=>{if(Tne("phflag",v),E.length||v)throw new Error("Contexts/pre-hash are not supported");return y});function b(y,E){BS("coordinate "+y,E,af,l)}function _(y){if(!(y instanceof R))throw new Error("ExtendedPoint expected")}let A=pRe((y,E)=>{let{ex:v,ey:x,ez:g}=y,P=y.is0();E==null&&(E=P?Zxt:r.inv(g));let B=u(v*E),I=u(x*E),L=u(g*E);if(P)return{x:af,y:Nc};if(L!==Nc)throw new Error("invZ was invalid");return{x:B,y:I}}),C=pRe(y=>{let{a:E,d:v}=e;if(y.is0())throw new Error("bad point: ZERO");let{ex:x,ey:g,ez:P,et:B}=y,I=u(x*x),L=u(g*g),G=u(P*P),H=u(G*G),$=u(I*E),K=u(G*u($+L)),W=u(H+u(v*u(I*L)));if(K!==W)throw new Error("bad point: equation left != right (1)");let J=u(x*g),X=u(P*B);if(J!==X)throw new Error("bad point: equation left != right (2)");return!0});class R{constructor(E,v,x,g){this.ex=E,this.ey=v,this.ez=x,this.et=g,b("x",E),b("y",v),b("z",x),b("t",g),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof R)throw new Error("extended point not allowed");let{x:v,y:x}=E||{};return b("x",v),b("y",x),new R(v,x,Nc,u(v*x))}static normalizeZ(E){let v=r.invertBatch(E.map(x=>x.ez));return E.map((x,g)=>x.toAffine(v[g])).map(R.fromAffine)}static msm(E,v){return Jxt(R,d,E,v)}_setWindowSize(E){F.setWindowSize(this,E)}assertValidity(){C(this)}equals(E){_(E);let{ex:v,ey:x,ez:g}=this,{ex:P,ey:B,ez:I}=E,L=u(v*I),G=u(P*g),H=u(x*I),$=u(B*g);return L===G&&H===$}is0(){return this.equals(R.ZERO)}negate(){return new R(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:E}=e,{ex:v,ey:x,ez:g}=this,P=u(v*v),B=u(x*x),I=u(hU*u(g*g)),L=u(E*P),G=v+x,H=u(u(G*G)-P-B),$=L+B,K=$-I,W=L-B,J=u(H*K),X=u($*W),te=u(H*W),re=u(K*$);return new R(J,X,re,te)}add(E){_(E);let{a:v,d:x}=e,{ex:g,ey:P,ez:B,et:I}=this,{ex:L,ey:G,ez:H,et:$}=E;if(v===BigInt(-1)){let vt=u((P-g)*(G+L)),Qe=u((P+g)*(G-L)),Ve=u(Qe-vt);if(Ve===af)return this.double();let kt=u(B*hU*$),Ze=u(I*hU*H),et=Ze+kt,on=Qe+vt,Me=Ze-kt,rt=u(et*Ve),Ir=u(on*Me),yt=u(et*Me),ut=u(Ve*on);return new R(rt,Ir,ut,yt)}let K=u(g*L),W=u(P*G),J=u(I*x*$),X=u(B*H),te=u((g+P)*(L+G)-K-W),re=X-J,le=X+J,ce=u(W-v*K),ae=u(te*re),xe=u(le*ce),me=u(te*ce),Se=u(re*le);return new R(ae,xe,Se,me)}subtract(E){return this.add(E.negate())}wNAF(E){return F.wNAFCached(this,E,R.normalizeZ)}multiply(E){let v=E;BS("scalar",v,Nc,n);let{p:x,f:g}=this.wNAF(v);return R.normalizeZ([x,g])[0]}multiplyUnsafe(E,v=R.ZERO){let x=E;return BS("scalar",x,af,n),x===af?U:this.is0()||x===Nc?this:F.wNAFCachedUnsafe(this,x,R.normalizeZ,v)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return F.unsafeLadder(this,n).is0()}toAffine(E){return A(this,E)}clearCofactor(){let{h:E}=e;return E===Nc?this:this.multiplyUnsafe(E)}static fromHex(E,v=!1){let{d:x,a:g}=e,P=r.BYTES;E=V6("pointHex",E,P),Tne("zip215",v);let B=E.slice(),I=E[P-1];B[P-1]=I&-129;let L=mU(B),G=v?l:r.ORDER;BS("pointHex.y",L,af,G);let H=u(L*L),$=u(H-Nc),K=u(x*H-g),{isValid:W,value:J}=f($,K);if(!W)throw new Error("Point.fromHex: invalid y coordinate");let X=(J&Nc)===Nc,te=(I&128)!==0;if(!v&&J===af&&te)throw new Error("Point.fromHex: x=0 and x_0=1");return te!==X&&(J=u(-J)),R.fromAffine({x:J,y:L})}static fromPrivateKey(E){return k(E).point}toRawBytes(){let{x:E,y:v}=this.toAffine(),x=Bne(v,r.BYTES);return x[x.length-1]|=E&Nc?128:0,x}toHex(){return Wne(this.toRawBytes())}}R.BASE=new R(e.Gx,e.Gy,Nc,u(e.Gx*e.Gy)),R.ZERO=new R(af,Nc,Nc,af);let{BASE:M,ZERO:U}=R,F=Yxt(R,s*8);function z(y){return ga(y,n)}function N(y){return z(mU(y))}function k(y){let E=r.BYTES;y=V6("private key",y,E);let v=V6("hashed private key",o(y),2*E),x=p(v.slice(0,E)),g=v.slice(E,2*E),P=N(x),B=M.multiply(P),I=B.toRawBytes();return{head:x,prefix:g,scalar:P,point:B,pointBytes:I}}function O(y){return k(y).pointBytes}function w(y=new Uint8Array,...E){let v=fRe(...E);return N(o(h(v,V6("context",y),!!i)))}function S(y,E,v={}){y=V6("message",y),i&&(y=i(y));let{prefix:x,scalar:g,pointBytes:P}=k(E),B=w(v.context,x,y),I=M.multiply(B).toRawBytes(),L=w(v.context,I,P,y),G=z(B+L*g);BS("signature.s",G,af,n);let H=fRe(I,Bne(G,r.BYTES));return V6("result",H,r.BYTES*2)}let T=Xxt;function m(y,E,v,x=T){let{context:g,zip215:P}=x,B=r.BYTES;y=V6("signature",y,2*B),E=V6("message",E),v=V6("publicKey",v,B),P!==void 0&&Tne("zip215",P),i&&(E=i(E));let I=mU(y.slice(B,2*B)),L,G,H;try{L=R.fromHex(v,P),G=R.fromHex(y.slice(0,B),P),H=M.multiplyUnsafe(I)}catch{return!1}if(!P&&L.isSmallOrder())return!1;let $=w(g,G.toRawBytes(),L.toRawBytes(),E);return G.add(L.multiplyUnsafe($)).subtract(H).clearCofactor().equals(R.ZERO)}return M._setWindowSize(8),{CURVE:e,getPublicKey:O,sign:S,verify:m,ExtendedPoint:R,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>a(r.BYTES),precompute(y=8,E=R.BASE){return E._setWindowSize(y),E.multiply(BigInt(3)),E}}}}function oAt(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=Jne,a=t*t%o*t%o,s=z1(a,wRe,o)*a%o,c=z1(s,rAt,o)*t%o,l=z1(c,nAt,o)*c%o,u=z1(l,e,o)*l%o,d=z1(u,r,o)*u%o,f=z1(d,n,o)*d%o,p=z1(f,i,o)*f%o,h=z1(p,i,o)*f%o,b=z1(h,e,o)*l%o;return{pow_p_5_8:z1(b,wRe,o)*t%o,b2:a}}function aAt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function sAt(t,e){let r=Jne,n=ga(e*e*e,r),i=ga(n*n*e,r),o=oAt(t*i).pow_p_5_8,a=ga(t*n*o,r),s=ga(e*a*a,r),c=a,l=ga(a*gRe,r),u=s===t,d=s===ga(-t,r),f=s===ga(-t*gRe,r);return u&&(a=c),(d||f)&&(a=l),Gxt(a,r)&&(a=ga(-a,r)),{isValid:u||d,value:a}}function Qne(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function $Re(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Qne(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function VRe(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));let r=$Re(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Qne(r)}function gAt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,_=0,A=0,C=h.length;A!==C&&h[A]===0;)A++,b++;for(var R=(C-A)*u+1>>>0,M=new Uint8Array(R);A!==C;){for(var U=h[A],F=0,z=R-1;(U!==0||F<_)&&z!==-1;z--,F++)U+=256*M[z]>>>0,M[z]=U%s>>>0,U=U/s>>>0;if(U!==0)throw new Error("Non-zero carry");_=F,A++}for(var N=R-_;N!==R&&M[N]===0;)N++;for(var k=c.repeat(b);N<R;++N)k+=t.charAt(M[N]);return k}function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var _=0,A=0;h[b]===c;)_++,b++;for(var C=(h.length-b)*l+1>>>0,R=new Uint8Array(C);h[b];){var M=r[h.charCodeAt(b)];if(M===255)return;for(var U=0,F=C-1;(M!==0||U<A)&&F!==-1;F--,U++)M+=s*R[F]>>>0,R[F]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");A=U,b++}if(h[b]!==" "){for(var z=C-A;z!==C&&R[z]===0;)z++;for(var N=new Uint8Array(_+(C-z)),k=_;z!==C;)N[k++]=R[z++];return N}}}function p(h){var b=f(h);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:p}}function oTt(t){return t.reduce((e,r)=>(e+=nTt[r],e),"")}function aTt(t){let e=[];for(let r of t){let n=iTt[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}function YRe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=fTt;)e[r++]=t&255|ERe,t/=128;for(;t&dTt;)e[r++]=t&255|ERe,t>>>=7;return e[r]=t|0,YRe.bytes=r-n+1,e}function zne(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw zne.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&xRe)<<i:(a&xRe)*Math.pow(2,i),i+=7}while(a>=hTt);return zne.bytes=o-n,r}function tPe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}function vU(t,e="utf8"){let r=rPe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Cv(t,e="utf8"){let r=rPe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Qne(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function IRe(t){return F1(vU(Cv(t,gU),GRe))}function yU(t){return vU(Cv(Ku(t),GRe),gU)}function Zne(t){let e=Cv(bAt,vRe),r=mAt+vU(VRe([e,t]),vRe);return[pAt,hAt,r].join(fAt)}function kTt(t){return vU(t,gU)}function MTt(t){return Cv(t,gU)}function BTt(t){return Cv([yU(t.header),yU(t.payload)].join(bU),jRe)}function DTt(t){return[yU(t.header),yU(t.payload),kTt(t.signature)].join(bU)}function LS(t){let e=t.split(bU),r=IRe(e[0]),n=IRe(e[1]),i=MTt(e[2]),o=Cv(e.slice(0,2).join(bU),jRe);return{header:r,payload:n,signature:i,data:o}}function Xne(t=ORe(yAt)){let e=zRe.getPublicKey(t);return{secretKey:VRe([t,e]),publicKey:e}}async function nPe(t,e,r,n,i=(0,CRe.fromMiliseconds)(Date.now())){let o={alg:uAt,typ:dAt},a=Zne(n.publicKey),s=i+r,c={iss:a,sub:t,aud:e,iat:i,exp:s},l=BTt({header:o,payload:c}),u=zRe.sign(l,n.secretKey.slice(0,32));return DTt({header:o,payload:c,signature:u})}var CRe,Iv,Ane,One,Nne,fU,kne,cxt,lxt,uxt,dxt,fxt,pxt,hxt,mxt,bxt,yxt,gxt,wxt,vxt,xxt,Axt,Txt,_xt,Sxt,Ixt,Kr,Cxt,Rxt,Ym,Jm,Mne,Pxt,Vne,kRe,Oxt,Nxt,$6,_ne,Dxt,Lxt,qa,Go,Gg,Uxt,Dne,hRe,mRe,Gxt,jxt,yRe,pU,Cne,HRe,af,Nc,hU,Zxt,Xxt,Jne,gRe,rAt,wRe,nAt,iAt,cAt,lAt,zRe,uAt,dAt,bU,gU,GRe,jRe,fAt,pAt,hAt,vRe,mAt,bAt,yAt,wAt,vAt,KRe,EAt,xAt,Lne,Une,Fne,qRe,Hne,wU,DS,AAt,TAt,bs,_At,SAt,IAt,CAt,RAt,PAt,OAt,NAt,kAt,MAt,BAt,DAt,LAt,UAt,FAt,HAt,zAt,GAt,jAt,$At,VAt,KAt,qAt,WAt,YAt,JAt,QAt,ZAt,XAt,eTt,tTt,rTt,WRe,nTt,iTt,sTt,cTt,lTt,ERe,uTt,dTt,fTt,pTt,hTt,xRe,mTt,bTt,yTt,gTt,wTt,vTt,ETt,xTt,ATt,TTt,_Tt,JRe,ARe,TRe,Gne,jne,QRe,$ne,ZRe,STt,ITt,CTt,XRe,RTt,ePe,PTt,OTt,NTt,_Re,SRe,Pne,rPe,EU=D(()=>{CRe=ve(Av());Tv();Iv=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;Ane=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);One=class{clone(){return this._cloneInto()}};Nne=class extends One{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ane(this.buffer)}update(e){uRe(this);let{view:r,buffer:n,blockLen:i}=this;e=PRe(e);let o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let c=Ane(e);for(;i<=o-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){uRe(this),nxt(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let d=a;d<i;d++)r[d]=0;axt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=Ane(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)s.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%r&&e.buffer.set(n),e}},fU=BigInt(2**32-1),kne=BigInt(32);cxt=(t,e)=>BigInt(t>>>0)<<kne|BigInt(e>>>0),lxt=(t,e,r)=>t>>>r,uxt=(t,e,r)=>t<<32-r|e>>>r,dxt=(t,e,r)=>t>>>r|e<<32-r,fxt=(t,e,r)=>t<<32-r|e>>>r,pxt=(t,e,r)=>t<<64-r|e>>>r-32,hxt=(t,e,r)=>t>>>r-32|e<<64-r,mxt=(t,e)=>e,bxt=(t,e)=>t,yxt=(t,e,r)=>t<<r|e>>>32-r,gxt=(t,e,r)=>e<<r|t>>>32-r,wxt=(t,e,r)=>e<<r-32|t>>>64-r,vxt=(t,e,r)=>t<<r-32|e>>>64-r;xxt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Axt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Txt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),_xt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Sxt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Ixt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Kr={fromBig:NRe,split:sxt,toBig:cxt,shrSH:lxt,shrSL:uxt,rotrSH:dxt,rotrSL:fxt,rotrBH:pxt,rotrBL:hxt,rotr32H:mxt,rotr32L:bxt,rotlSH:yxt,rotlSL:gxt,rotlBH:wxt,rotlBL:vxt,add:Ext,add3L:xxt,add3H:Axt,add4L:Txt,add4H:_xt,add5H:Ixt,add5L:Sxt},[Cxt,Rxt]=Kr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ym=new Uint32Array(80),Jm=new Uint32Array(80),Mne=class extends Nne{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:p,Gl:h,Hh:b,Hl:_}=this;return[e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_]}set(e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=h|0,this.Hh=b|0,this.Hl=_|0}process(e,r){for(let R=0;R<16;R++,r+=4)Ym[R]=e.getUint32(r),Jm[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let M=Ym[R-15]|0,U=Jm[R-15]|0,F=Kr.rotrSH(M,U,1)^Kr.rotrSH(M,U,8)^Kr.shrSH(M,U,7),z=Kr.rotrSL(M,U,1)^Kr.rotrSL(M,U,8)^Kr.shrSL(M,U,7),N=Ym[R-2]|0,k=Jm[R-2]|0,O=Kr.rotrSH(N,k,19)^Kr.rotrBH(N,k,61)^Kr.shrSH(N,k,6),w=Kr.rotrSL(N,k,19)^Kr.rotrBL(N,k,61)^Kr.shrSL(N,k,6),S=Kr.add4L(z,w,Jm[R-7],Jm[R-16]),T=Kr.add4H(S,F,O,Ym[R-7],Ym[R-16]);Ym[R]=T|0,Jm[R]=S|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:p,Fl:h,Gh:b,Gl:_,Hh:A,Hl:C}=this;for(let R=0;R<80;R++){let M=Kr.rotrSH(d,f,14)^Kr.rotrSH(d,f,18)^Kr.rotrBH(d,f,41),U=Kr.rotrSL(d,f,14)^Kr.rotrSL(d,f,18)^Kr.rotrBL(d,f,41),F=d&p^~d&b,z=f&h^~f&_,N=Kr.add5L(C,U,z,Rxt[R],Jm[R]),k=Kr.add5H(N,A,M,F,Cxt[R],Ym[R]),O=N|0,w=Kr.rotrSH(n,i,28)^Kr.rotrBH(n,i,34)^Kr.rotrBH(n,i,39),S=Kr.rotrSL(n,i,28)^Kr.rotrBL(n,i,34)^Kr.rotrBL(n,i,39),T=n&o^n&s^o&s,m=i&a^i&c^a&c;A=b|0,C=_|0,b=p|0,_=h|0,p=d|0,h=f|0,{h:d,l:f}=Kr.add(l|0,u|0,k|0,O|0),l=s|0,u=c|0,s=o|0,c=a|0,o=n|0,a=i|0;let y=Kr.add3L(O,S,m);n=Kr.add3H(y,k,w,T),i=y|0}({h:n,l:i}=Kr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=Kr.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l:c}=Kr.add(this.Ch|0,this.Cl|0,s|0,c|0),{h:l,l:u}=Kr.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Kr.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:h}=Kr.add(this.Fh|0,this.Fl|0,p|0,h|0),{h:b,l:_}=Kr.add(this.Gh|0,this.Gl|0,b|0,_|0),{h:A,l:C}=Kr.add(this.Hh|0,this.Hl|0,A|0,C|0),this.set(n,i,o,a,s,c,l,u,d,f,p,h,b,_,A,C)}roundClean(){Ym.fill(0),Jm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Pxt=oxt(()=>new Mne);Vne=BigInt(0),kRe=BigInt(1),Oxt=BigInt(2);Nxt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));$6={_0:48,_9:57,A:65,F:70,a:97,f:102};_ne=t=>typeof t=="bigint"&&Vne<=t;Dxt=t=>(Oxt<<BigInt(t-1))-kRe,Lxt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Kne(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};qa=BigInt(0),Go=BigInt(1),Gg=BigInt(2),Uxt=BigInt(3),Dne=BigInt(4),hRe=BigInt(5),mRe=BigInt(8);Gxt=(t,e)=>(ga(t,e)&Go)===Go,jxt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];yRe=BigInt(0),pU=BigInt(1);Cne=new WeakMap,HRe=new WeakMap;af=BigInt(0),Nc=BigInt(1),hU=BigInt(2),Zxt=BigInt(8),Xxt={zip215:!0};BigInt(0),BigInt(1);Jne=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),gRe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);rAt=BigInt(1),wRe=BigInt(2);BigInt(3);nAt=BigInt(5),iAt=BigInt(8);cAt=URe(Jne,void 0,!0),lAt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:cAt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:iAt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Pxt,randomBytes:ORe,adjustScalarBytes:aAt,uvRatio:sAt},zRe=tAt(lAt),uAt="EdDSA",dAt="JWT",bU=".",gU="base64url",GRe="utf8",jRe="utf8",fAt=":",pAt="did",hAt="key",vRe="base58btc",mAt="z",bAt="K36",yAt=32;wAt=gAt,vAt=wAt,KRe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},EAt=t=>new TextEncoder().encode(t),xAt=t=>new TextDecoder().decode(t),Lne=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Une=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return qRe(this,e)}},Fne=class{constructor(e){this.decoders=e}or(e){return qRe(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},qRe=(t,e)=>new Fne({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Hne=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Lne(e,r,n),this.decoder=new Une(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},wU=({name:t,prefix:e,encode:r,decode:n})=>new Hne(t,e,r,n),DS=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=vAt(r,e);return wU({prefix:t,name:e,encode:n,decode:o=>KRe(i(o))})},AAt=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let u=0;u<o;++u){let d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,s+=r,s>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return a},TAt=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",a=0,s=0;for(let c=0;c<t.length;++c)for(s=s<<8|t[c],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},bs=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>wU({prefix:e,name:t,encode(i){return TAt(i,n,r)},decode(i){return AAt(i,n,r,t)}}),_At=wU({prefix:"\0",name:"identity",encode:t=>xAt(t),decode:t=>EAt(t)}),SAt=Object.freeze({__proto__:null,identity:_At}),IAt=bs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),CAt=Object.freeze({__proto__:null,base2:IAt}),RAt=bs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),PAt=Object.freeze({__proto__:null,base8:RAt}),OAt=DS({prefix:"9",name:"base10",alphabet:"0123456789"}),NAt=Object.freeze({__proto__:null,base10:OAt}),kAt=bs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),MAt=bs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),BAt=Object.freeze({__proto__:null,base16:kAt,base16upper:MAt}),DAt=bs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),LAt=bs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),UAt=bs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),FAt=bs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),HAt=bs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zAt=bs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),GAt=bs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jAt=bs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$At=bs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),VAt=Object.freeze({__proto__:null,base32:DAt,base32upper:LAt,base32pad:UAt,base32padupper:FAt,base32hex:HAt,base32hexupper:zAt,base32hexpad:GAt,base32hexpadupper:jAt,base32z:$At}),KAt=DS({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qAt=DS({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),WAt=Object.freeze({__proto__:null,base36:KAt,base36upper:qAt}),YAt=DS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),JAt=DS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),QAt=Object.freeze({__proto__:null,base58btc:YAt,base58flickr:JAt}),ZAt=bs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),XAt=bs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eTt=bs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tTt=bs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),rTt=Object.freeze({__proto__:null,base64:ZAt,base64pad:XAt,base64url:eTt,base64urlpad:tTt}),WRe=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),nTt=WRe.reduce((t,e,r)=>(t[r]=e,t),[]),iTt=WRe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);sTt=wU({prefix:"\u{1F680}",name:"base256emoji",encode:oTt,decode:aTt}),cTt=Object.freeze({__proto__:null,base256emoji:sTt}),lTt=YRe,ERe=128,uTt=127,dTt=~uTt,fTt=Math.pow(2,31);pTt=zne,hTt=128,xRe=127;mTt=Math.pow(2,7),bTt=Math.pow(2,14),yTt=Math.pow(2,21),gTt=Math.pow(2,28),wTt=Math.pow(2,35),vTt=Math.pow(2,42),ETt=Math.pow(2,49),xTt=Math.pow(2,56),ATt=Math.pow(2,63),TTt=function(t){return t<mTt?1:t<bTt?2:t<yTt?3:t<gTt?4:t<wTt?5:t<vTt?6:t<ETt?7:t<xTt?8:t<ATt?9:10},_Tt={encode:lTt,decode:pTt,encodingLength:TTt},JRe=_Tt,ARe=(t,e,r=0)=>(JRe.encode(t,e,r),e),TRe=t=>JRe.encodingLength(t),Gne=(t,e)=>{let r=e.byteLength,n=TRe(t),i=n+TRe(r),o=new Uint8Array(i+r);return ARe(t,o,0),ARe(r,o,n),o.set(e,i),new jne(t,r,e,o)},jne=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}},QRe=({name:t,code:e,encode:r})=>new $ne(t,e,r),$ne=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Gne(this.code,r):r.then(n=>Gne(this.code,n))}else throw Error("Unknown type, must be binary type")}},ZRe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),STt=QRe({name:"sha2-256",code:18,encode:ZRe("SHA-256")}),ITt=QRe({name:"sha2-512",code:19,encode:ZRe("SHA-512")}),CTt=Object.freeze({__proto__:null,sha256:STt,sha512:ITt}),XRe=0,RTt="identity",ePe=KRe,PTt=t=>Gne(XRe,ePe(t)),OTt={code:XRe,name:RTt,encode:ePe,digest:PTt},NTt=Object.freeze({__proto__:null,identity:OTt});new TextEncoder,new TextDecoder;_Re={...SAt,...CAt,...PAt,...NAt,...BAt,...VAt,...WAt,...QAt,...rTt,...cTt};({...CTt,...NTt});SRe=tPe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Pne=tPe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=$Re(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),rPe={utf8:SRe,"utf-8":SRe,hex:_Re.base16,latin1:Pne,ascii:Pne,binary:Pne,..._Re}});function cPe(t){return t?sPe(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new GTt:typeof navigator<"u"?sPe(navigator.userAgent):WTt()}function KTt(t){return t!==""&&VTt.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function sPe(t){var e=KTt(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new zTt;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<oPe&&(i=iPe(iPe([],i,!0),YTt(oPe-i.length),!0)):i=[];var o=i.join("."),a=qTt(t),s=$Tt.exec(t);return s&&s[1]?new HTt(r,o,a,s[1]):new UTt(r,o,a)}function qTt(t){for(var e=0,r=aPe.length;e<r;e++){var n=aPe[e],i=n[0],o=n[1],a=o.exec(t);if(a)return i}return null}function WTt(){var t=typeof process<"u"&&process.version;return t?new FTt(process.version.slice(1)):null}function YTt(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var iPe,UTt,FTt,HTt,zTt,GTt,jTt,$Tt,oPe,VTt,aPe,lPe=D(()=>{iPe=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},UTt=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),FTt=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),HTt=(function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t})(),zTt=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),GTt=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),jTt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,$Tt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,oPe=3,VTt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",jTt]],aPe=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]]});var xU=de(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.getLocalStorage=Ci.getLocalStorageOrThrow=Ci.getCrypto=Ci.getCryptoOrThrow=Ci.getLocation=Ci.getLocationOrThrow=Ci.getNavigator=Ci.getNavigatorOrThrow=Ci.getDocument=Ci.getDocumentOrThrow=Ci.getFromWindowOrThrow=Ci.getFromWindow=void 0;function jg(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Ci.getFromWindow=jg;function Rv(t){let e=jg(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Ci.getFromWindowOrThrow=Rv;function JTt(){return Rv("document")}Ci.getDocumentOrThrow=JTt;function QTt(){return jg("document")}Ci.getDocument=QTt;function ZTt(){return Rv("navigator")}Ci.getNavigatorOrThrow=ZTt;function XTt(){return jg("navigator")}Ci.getNavigator=XTt;function e7t(){return Rv("location")}Ci.getLocationOrThrow=e7t;function t7t(){return jg("location")}Ci.getLocation=t7t;function r7t(){return Rv("crypto")}Ci.getCryptoOrThrow=r7t;function n7t(){return jg("crypto")}Ci.getCrypto=n7t;function i7t(){return Rv("localStorage")}Ci.getLocalStorageOrThrow=i7t;function o7t(){return jg("localStorage")}Ci.getLocalStorage=o7t});var dPe=de(AU=>{"use strict";Object.defineProperty(AU,"__esModule",{value:!0});AU.getWindowMetadata=void 0;var uPe=xU();function a7t(){let t,e;try{t=uPe.getDocumentOrThrow(),e=uPe.getLocationOrThrow()}catch{return null}function r(){let d=t.getElementsByTagName("link"),f=[];for(let p=0;p<d.length;p++){let h=d[p],b=h.getAttribute("rel");if(b&&b.toLowerCase().indexOf("icon")>-1){let _=h.getAttribute("href");if(_)if(_.toLowerCase().indexOf("https:")===-1&&_.toLowerCase().indexOf("http:")===-1&&_.indexOf("//")!==0){let A=e.protocol+"//"+e.host;if(_.indexOf("/")===0)A+=_;else{let C=e.pathname.split("/");C.pop();let R=C.join("/");A+=R+"/"+_}f.push(A)}else if(_.indexOf("//")===0){let A=e.protocol+_;f.push(A)}else f.push(_)}}return f}function n(...d){let f=t.getElementsByTagName("meta");for(let p=0;p<f.length;p++){let h=f[p],b=["itemprop","property","name"].map(_=>h.getAttribute(_)).filter(_=>_?d.includes(_):!1);if(b.length&&b){let _=h.getAttribute("content");if(_)return _}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function o(){return n("description","og:description","twitter:description","keywords")}let a=i(),s=o(),c=e.origin,l=r();return{description:s,url:c,icons:l,name:a}}AU.getWindowMetadata=a7t});var fPe,pPe=D(()=>{fPe="1.0.8"});var jo,Pv=D(()=>{pPe();jo=class t extends Error{constructor(e,r={}){let n=r.cause instanceof t?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof t&&r.cause.docsPath||r.docsPath,o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${fPe}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}}});function Bl(t,e){return t.exec(e)?.groups}var eie,tie,TU,US=D(()=>{eie=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tie=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,TU=/^\(.+?\).*?$/});function _U(t){let e=t.type;if(hPe.test(t.type)&&"components"in t){e="(";let r=t.components.length;for(let i=0;i<r;i++){let o=t.components[i];e+=_U(o),i<r-1&&(e+=", ")}let n=Bl(hPe,t.type);return e+=`)${n?.array??""}`,_U({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}var hPe,mPe=D(()=>{US();hPe=/^tuple(?<array>(\[(\d*)\])*)$/});function Ov(t){let e="",r=t.length;for(let n=0;n<r;n++){let i=t[n];e+=_U(i),n!==r-1&&(e+=", ")}return e}var bPe=D(()=>{mPe()});function $g(t){return t.type==="function"?`function ${t.name}(${Ov(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Ov(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Ov(t.inputs)})`:t.type==="error"?`error ${t.name}(${Ov(t.inputs)})`:t.type==="constructor"?`constructor(${Ov(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}var yPe=D(()=>{bPe()});function wPe(t){return gPe.test(t)}function vPe(t){return Bl(gPe,t)}function xPe(t){return EPe.test(t)}function APe(t){return Bl(EPe,t)}function _Pe(t){return TPe.test(t)}function SPe(t){return Bl(TPe,t)}function Qm(t){return IPe.test(t)}function CPe(t){return Bl(IPe,t)}function PPe(t){return RPe.test(t)}function OPe(t){return Bl(RPe,t)}function kPe(t){return NPe.test(t)}function MPe(t){return Bl(NPe,t)}function BPe(t){return s7t.test(t)}var gPe,EPe,TPe,IPe,RPe,NPe,s7t,rie,DPe,SU,Nv=D(()=>{US();gPe=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;EPe=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;TPe=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;IPe=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;RPe=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;NPe=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;s7t=/^receive\(\) external payable$/;rie=new Set(["memory","indexed","storage","calldata"]),DPe=new Set(["indexed"]),SU=new Set(["calldata","memory","storage"])});var FS,HS,IU,CU=D(()=>{Pv();FS=class extends jo{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},HS=class extends jo{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},IU=class extends jo{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}});var zS,GS,jS,$S,VS,KS,RU=D(()=>{Pv();zS=class extends jo{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},GS=class extends jo{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},jS=class extends jo{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},$S=class extends jo{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},VS=class extends jo{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},KS=class extends jo{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}});var sf,qS,WS,nie=D(()=>{Pv();sf=class extends jo{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},qS=class extends jo{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},WS=class extends jo{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}});var YS,LPe=D(()=>{Pv();YS=class extends jo{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}});var JS,UPe=D(()=>{Pv();JS=class extends jo{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}});function FPe(t,e,r){let n="";if(r)for(let i of Object.entries(r)){if(!i)continue;let o="";for(let a of i[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;n+=`(${i[0]}{${o}})`}return e?`${e}:${t}${n}`:t}var PU,HPe=D(()=>{PU=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])});function QS(t,e={}){if(_Pe(t))return c7t(t,e);if(xPe(t))return l7t(t,e);if(wPe(t))return u7t(t,e);if(PPe(t))return d7t(t,e);if(kPe(t))return f7t(t);if(BPe(t))return{type:"receive",stateMutability:"payable"};throw new qS({signature:t})}function c7t(t,e={}){let r=SPe(t);if(!r)throw new sf({signature:t,type:"function"});let n=kc(r.parameters),i=[],o=n.length;for(let s=0;s<o;s++)i.push(cf(n[s],{modifiers:SU,structs:e,type:"function"}));let a=[];if(r.returns){let s=kc(r.returns),c=s.length;for(let l=0;l<c;l++)a.push(cf(s[l],{modifiers:SU,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:a}}function l7t(t,e={}){let r=APe(t);if(!r)throw new sf({signature:t,type:"event"});let n=kc(r.parameters),i=[],o=n.length;for(let a=0;a<o;a++)i.push(cf(n[a],{modifiers:DPe,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function u7t(t,e={}){let r=vPe(t);if(!r)throw new sf({signature:t,type:"error"});let n=kc(r.parameters),i=[],o=n.length;for(let a=0;a<o;a++)i.push(cf(n[a],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function d7t(t,e={}){let r=OPe(t);if(!r)throw new sf({signature:t,type:"constructor"});let n=kc(r.parameters),i=[],o=n.length;for(let a=0;a<o;a++)i.push(cf(n[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function f7t(t){let e=MPe(t);if(!e)throw new sf({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}function cf(t,e){let r=FPe(t,e?.type,e?.structs);if(PU.has(r))return PU.get(r);let n=TU.test(t),i=Bl(n?h7t:p7t,t);if(!i)throw new GS({param:t});if(i.name&&y7t(i.name))throw new jS({param:t,name:i.name});let o=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},s=e?.structs??{},c,l={};if(n){c="tuple";let d=kc(i.type),f=[],p=d.length;for(let h=0;h<p;h++)f.push(cf(d[h],{structs:s}));l={components:f}}else if(i.type in s)c="tuple",l={components:s[i.type]};else if(m7t.test(i.type))c=`${i.type}256`;else if(c=i.type,e?.type!=="struct"&&!iie(c))throw new IU({type:c});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new $S({param:t,type:e?.type,modifier:i.modifier});if(SU.has(i.modifier)&&!g7t(c,!!i.array))throw new VS({param:t,type:e?.type,modifier:i.modifier})}let u={type:`${c}${i.array??""}`,...o,...a,...l};return PU.set(r,u),u}function kc(t,e=[],r="",n=0){let i=t.trim().length;for(let o=0;o<i;o++){let a=t[o],s=t.slice(o+1);switch(a){case",":return n===0?kc(s,[...e,r.trim()]):kc(s,e,`${r}${a}`,n);case"(":return kc(s,e,`${r}${a}`,n+1);case")":return kc(s,e,`${r}${a}`,n-1);default:return kc(s,e,`${r}${a}`,n)}}if(r==="")return e;if(n!==0)throw new JS({current:r,depth:n});return e.push(r.trim()),e}function iie(t){return t==="address"||t==="bool"||t==="function"||t==="string"||eie.test(t)||tie.test(t)}function y7t(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||eie.test(t)||tie.test(t)||b7t.test(t)}function g7t(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}var p7t,h7t,m7t,b7t,kv=D(()=>{US();CU();RU();nie();UPe();HPe();Nv();p7t=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,h7t=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,m7t=/^u?int$/;b7t=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/});function Mv(t){let e={},r=t.length;for(let a=0;a<r;a++){let s=t[a];if(!Qm(s))continue;let c=CPe(s);if(!c)throw new sf({signature:s,type:"struct"});let l=c.properties.split(";"),u=[],d=l.length;for(let f=0;f<d;f++){let h=l[f].trim();if(!h)continue;let b=cf(h,{type:"struct"});u.push(b)}if(!u.length)throw new WS({signature:s});e[c.name]=u}let n={},i=Object.entries(e),o=i.length;for(let a=0;a<o;a++){let[s,c]=i[a];n[s]=zPe(c,e)}return n}function zPe(t,e,r=new Set){let n=[],i=t.length;for(let o=0;o<i;o++){let a=t[o];if(TU.test(a.type))n.push(a);else{let c=Bl(w7t,a.type);if(!c?.type)throw new KS({abiParameter:a});let{array:l,type:u}=c;if(u in e){if(r.has(u))throw new YS({type:u});n.push({...a,type:`tuple${l??""}`,components:zPe(e[u]??[],e,new Set([...r,u]))})}else if(iie(u))n.push(a);else throw new HS({type:u})}}return n}var w7t,OU=D(()=>{US();CU();RU();nie();LPe();Nv();kv();w7t=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/});function Vg(t){let e=Mv(t),r=[],n=t.length;for(let i=0;i<n;i++){let o=t[i];Qm(o)||r.push(QS(o,e))}return r}var GPe=D(()=>{Nv();OU();kv()});function ZS(t){let e;if(typeof t=="string")e=QS(t);else{let r=Mv(t),n=t.length;for(let i=0;i<n;i++){let o=t[i];if(!Qm(o)){e=QS(o,r);break}}}if(!e)throw new FS({signature:t});return e}var jPe=D(()=>{CU();Nv();OU();kv()});function Zm(t){let e=[];if(typeof t=="string"){let r=kc(t),n=r.length;for(let i=0;i<n;i++)e.push(cf(r[i],{modifiers:rie}))}else{let r=Mv(t),n=t.length;for(let i=0;i<n;i++){let o=t[i];if(Qm(o))continue;let a=kc(o),s=a.length;for(let c=0;c<s;c++)e.push(cf(a[c],{modifiers:rie,structs:r}))}}if(e.length===0)throw new zS({params:t});return e}var $Pe=D(()=>{RU();Nv();OU();kv();kv()});var Bv=D(()=>{yPe();GPe();jPe();$Pe()});function K6(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}var XS=D(()=>{});function eI(t){return K6(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}var oie=D(()=>{XS()});var aie,VPe=D(()=>{aie="2.31.0"});function KPe(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?KPe(t.cause,e):e?null:t}var sie,q6,NU=D(()=>{VPe();sie={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${aie}`},q6=class t extends Error{constructor(e,r={}){let n=r.cause instanceof t?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof t&&r.cause.docsPath||r.docsPath,o=sie.getDocsUrl?.({...r,docsPath:i}),a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...n?[`Details: ${n}`]:[],...sie.version?[`Version: ${sie.version}`]:[]].join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=aie}walk(e){return KPe(this,e)}}});var tI,qPe=D(()=>{NU();tI=class extends q6{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}});function Xm(t,{dir:e,size:r=32}={}){return typeof t=="string"?E7t(t,{dir:e,size:r}):x7t(t,{dir:e,size:r})}function E7t(t,{dir:e,size:r=32}={}){if(r===null)return t;let n=t.replace("0x","");if(n.length>r*2)throw new tI({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function x7t(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new tI({size:t.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let o=e==="right";n[o?i:r-i-1]=t[o?i:t.length-i-1]}return n}var cie=D(()=>{qPe()});var kU,MU,lie=D(()=>{NU();kU=class extends q6{constructor({max:e,min:r,signed:n,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},MU=class extends q6{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}});function eb(t,{size:e}){if(eI(t)>e)throw new MU({givenSize:eI(t),maxSize:e})}function BU(t,e={}){let{signed:r}=e;e.size&&eb(t,{size:e.size});let n=BigInt(t);if(!r)return n;let i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return n<=o?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function WPe(t,e={}){return Number(BU(t,e))}var DU=D(()=>{lie();oie()});function rI(t,e={}){return typeof t=="number"||typeof t=="bigint"?uie(t,e):typeof t=="string"?S7t(t,e):typeof t=="boolean"?T7t(t,e):YPe(t,e)}function T7t(t,e={}){let r=`0x${Number(t)}`;return typeof e.size=="number"?(eb(r,{size:e.size}),Xm(r,{size:e.size})):r}function YPe(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=A7t[t[i]];let n=`0x${r}`;return typeof e.size=="number"?(eb(n,{size:e.size}),Xm(n,{dir:"right",size:e.size})):n}function uie(t,e={}){let{signed:r,size:n}=e,i=BigInt(t),o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let a=typeof o=="bigint"&&r?-o-1n:0;if(o&&i>o||i<a){let c=typeof t=="bigint"?"n":"";throw new kU({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:r,size:n,value:`${t}${c}`})}let s=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Xm(s,{size:n}):s}function S7t(t,e={}){let r=_7t.encode(t);return YPe(r,e)}var A7t,_7t,LU=D(()=>{lie();cie();DU();A7t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));_7t=new TextEncoder});function QPe(t,e={}){return typeof t=="number"||typeof t=="bigint"?R7t(t,e):typeof t=="boolean"?C7t(t,e):K6(t)?ZPe(t,e):die(t,e)}function C7t(t,e={}){let r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(eb(r,{size:e.size}),Xm(r,{size:e.size})):r}function JPe(t){if(t>=W6.zero&&t<=W6.nine)return t-W6.zero;if(t>=W6.A&&t<=W6.F)return t-(W6.A-10);if(t>=W6.a&&t<=W6.f)return t-(W6.a-10)}function ZPe(t,e={}){let r=t;e.size&&(eb(r,{size:e.size}),r=Xm(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,o=new Uint8Array(i);for(let a=0,s=0;a<i;a++){let c=JPe(n.charCodeAt(s++)),l=JPe(n.charCodeAt(s++));if(c===void 0||l===void 0)throw new q6(`Invalid byte sequence ("${n[s-2]}${n[s-1]}" in "${n}").`);o[a]=c*16+l}return o}function R7t(t,e){let r=uie(t,e);return ZPe(r)}function die(t,e={}){let r=I7t.encode(t);return typeof e.size=="number"?(eb(r,{size:e.size}),Xm(r,{dir:"right",size:e.size})):r}var I7t,W6,fie=D(()=>{NU();XS();cie();DU();LU();I7t=new TextEncoder;W6={zero:48,nine:57,A:65,F:70,a:97,f:102}});function UU(t,e){let r=e||"hex",n=M0(K6(t,{strict:!1})?QPe(t):t);return r==="bytes"?n:rI(n)}var pie=D(()=>{h2();XS();fie();LU()});var FU,XPe=D(()=>{FU=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});function eOe(t,e){if(hie.has(`${t}.${e}`))return hie.get(`${t}.${e}`);let r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=UU(die(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(n[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());let o=`0x${i.join("")}`;return hie.set(`${t}.${e}`,o),o}var hie,tOe=D(()=>{fie();pie();XPe();hie=new FU(8192)});function rOe(t){let e=UU(`0x${t.substring(4)}`).substring(26);return eOe(`0x${e}`)}var nOe=D(()=>{tOe();pie()});function Dv(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function J6(t){if(!Dv(t))throw new Error("Uint8Array expected")}function Lv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function nI(t){let e=t.toString(16);return e.length&1?"0"+e:e}function aOe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?gie:BigInt("0x"+t)}function Uv(t){if(J6(t),sOe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=P7t[t[r]];return e}function iOe(t){if(t>=Y6._0&&t<=Y6._9)return t-Y6._0;if(t>=Y6.A&&t<=Y6.F)return t-(Y6.A-10);if(t>=Y6.a&&t<=Y6.f)return t-(Y6.a-10)}function iI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(sOe)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=iOe(t.charCodeAt(o)),s=iOe(t.charCodeAt(o+1));if(a===void 0||s===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=a*16+s}return n}function Mc(t){return aOe(Uv(t))}function wie(t){return J6(t),aOe(Uv(Uint8Array.from(t).reverse()))}function G1(t,e){return iI(t.toString(16).padStart(e*2,"0"))}function vie(t,e){return G1(t,e).reverse()}function Xo(t,e,r){let n;if(typeof e=="string")try{n=iI(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Dv(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function W0(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];J6(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function HU(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Kg(t,e,r){return mie(t)&&mie(e)&&mie(r)&&e<=t&&t<r}function Q6(t,e,r,n){if(!Kg(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function cOe(t){let e;for(e=0;t>gie;t>>=yie,e+=1);return e}function lOe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=bie(t),i=bie(t),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...d)=>r(i,n,...d),c=(d=bie(0))=>{i=s(oOe([0]),d),n=s(),d.length!==0&&(i=s(oOe([1]),d),n=s())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<e;){n=s();let p=n.slice();f.push(p),d+=n.length}return W0(...f)};return(d,f)=>{a(),c(d);let p;for(;!(p=f(l()));)c();return a(),p}}function Z6(t,e,r={}){let n=(i,o,a)=>{let s=O7t[o];if(typeof s!="function")throw new Error("invalid validator function");let c=t[i];if(!(a&&c===void 0)&&!s(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+c)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}function Eie(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}var gie,yie,sOe,P7t,Y6,mie,qg,bie,oOe,O7t,Fv=D(()=>{gie=BigInt(0),yie=BigInt(1);sOe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",P7t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Y6={_0:48,_9:57,A:65,F:70,a:97,f:102};mie=t=>typeof t=="bigint"&&gie<=t;qg=t=>(yie<<BigInt(t))-yie,bie=t=>new Uint8Array(t),oOe=t=>Uint8Array.from(t);O7t={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Dv(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function $o(t,e){let r=t%e;return r>=Y0?r:e+r}function Dl(t,e,r){let n=t;for(;e-- >Y0;)n*=n,n%=r;return n}function zU(t,e){if(t===Y0)throw new Error("invert: expected non-zero number");if(e<=Y0)throw new Error("invert: expected positive modulus, got "+e);let r=$o(t,e),n=e,i=Y0,o=s0,a=s0,s=Y0;for(;r!==Y0;){let l=n/r,u=n%r,d=i-a*l,f=o-s*l;n=r,r=u,i=a,o=s,a=d,s=f}if(n!==s0)throw new Error("invert: does not exist");return $o(i,e)}function hOe(t,e){let r=(t.ORDER+s0)/dOe,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function k7t(t,e){let r=(t.ORDER-fOe)/pOe,n=t.mul(e,Wg),i=t.pow(n,r),o=t.mul(e,i),a=t.mul(t.mul(o,Wg),i),s=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(s),e))throw new Error("Cannot find square root");return s}function M7t(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-s0,r=0;for(;e%Wg===Y0;)e/=Wg,r++;let n=Wg,i=oI(t);for(;uOe(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return hOe;let o=i.pow(n,e),a=(e+s0)/Wg;return function(c,l){if(c.is0(l))return l;if(uOe(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),f=c.pow(l,e),p=c.pow(l,a);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let h=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(h++,b=c.sqr(b),h===u)throw new Error("Cannot find square root");let _=s0<<BigInt(u-h-1),A=c.pow(d,_);u=h,d=c.sqr(A),f=c.mul(f,d),p=c.mul(p,A)}return p}}function B7t(t){return t%dOe===N7t?hOe:t%pOe===fOe?k7t:M7t(t)}function GU(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=D7t.reduce((n,i)=>(n[i]="function",n),e);return Z6(t,r)}function L7t(t,e,r){if(r<Y0)throw new Error("invalid exponent, negatives unsupported");if(r===Y0)return t.ONE;if(r===s0)return e;let n=t.ONE,i=e;for(;r>Y0;)r&s0&&(n=t.mul(n,i)),i=t.sqr(i),r>>=s0;return n}function Hv(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((a,s,c)=>t.is0(s)?a:(n[c]=a,t.mul(a,s)),t.ONE),o=t.inv(i);return e.reduceRight((a,s,c)=>t.is0(s)?a:(n[c]=t.mul(a,n[c]),t.mul(a,s)),o),n}function uOe(t,e){let r=(t.ORDER-s0)/Wg,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function xie(t,e){e!==void 0&&N0(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function oI(t,e,r=!1,n={}){if(t<=Y0)throw new Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:i,nByteLength:o}=xie(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a,s=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:o,MASK:qg(i),ZERO:Y0,ONE:s0,create:c=>$o(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Y0<=c&&c<t},is0:c=>c===Y0,isOdd:c=>(c&s0)===s0,neg:c=>$o(-c,t),eql:(c,l)=>c===l,sqr:c=>$o(c*c,t),add:(c,l)=>$o(c+l,t),sub:(c,l)=>$o(c-l,t),mul:(c,l)=>$o(c*l,t),pow:(c,l)=>L7t(s,c,l),div:(c,l)=>$o(c*zU(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>zU(c,t),sqrt:n.sqrt||(c=>(a||(a=B7t(t)),a(s,c))),toBytes:c=>r?vie(c,o):G1(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?wie(c):Mc(c)},invertBatch:c=>Hv(s,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(s)}function mOe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Aie(t){let e=mOe(t);return e+Math.ceil(e/2)}function bOe(t,e,r=!1){let n=t.length,i=mOe(e),o=Aie(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let a=r?wie(t):Mc(t),s=$o(a,e-s0)+s0;return r?vie(s,i):G1(s,i)}var Y0,s0,Wg,N7t,dOe,fOe,pOe,D7t,aI=D(()=>{Na();Fv();Y0=BigInt(0),s0=BigInt(1),Wg=BigInt(2),N7t=BigInt(3),dOe=BigInt(4),fOe=BigInt(5),pOe=BigInt(8);D7t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function Tie(t,e){let r=e.negate();return t?r:e}function wOe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function _ie(t,e){wOe(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,o=qg(t),a=BigInt(t);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:a}}function gOe(t,e,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(t&i),c=t>>a;s>n&&(s-=o,c+=Cie);let l=e*n,u=l+Math.abs(s)-1,d=s===0,f=s<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:p,offsetF:l}}function U7t(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function F7t(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function Iie(t){return vOe.get(t)||1}function EOe(t,e){return{constTimeNegate:Tie,hasPrecomputes(r){return Iie(r)!==1},unsafeLadder(r,n,i=t.ZERO){let o=r;for(;n>yOe;)n&Cie&&(i=i.add(o)),o=o.double(),n>>=Cie;return i},precomputeWindow(r,n){let{windows:i,windowSize:o}=_ie(n,e),a=[],s=r,c=s;for(let l=0;l<i;l++){c=s,a.push(c);for(let u=1;u<o;u++)c=c.add(s),a.push(c);s=c.double()}return a},wNAF(r,n,i){let o=t.ZERO,a=t.BASE,s=_ie(r,e);for(let c=0;c<s.windows;c++){let{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:p,offsetF:h}=gOe(i,c,s);i=l,d?a=a.add(Tie(p,n[h])):o=o.add(Tie(f,n[u]))}return{p:o,f:a}},wNAFUnsafe(r,n,i,o=t.ZERO){let a=_ie(r,e);for(let s=0;s<a.windows&&i!==yOe;s++){let{nextN:c,offset:l,isZero:u,isNeg:d}=gOe(i,s,a);if(i=c,!u){let f=n[l];o=o.add(d?f.negate():f)}}return o},getPrecomputes(r,n,i){let o=Sie.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&Sie.set(n,i(o))),o},wNAFCached(r,n,i){let o=Iie(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){let a=Iie(r);return a===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(a,this.getPrecomputes(a,r,i),n,o)},setWindowSize(r,n){wOe(n,e),vOe.set(r,n),Sie.delete(r)}}}function xOe(t,e,r,n){U7t(r,t),F7t(n,e);let i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");let a=t.ZERO,s=cOe(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=qg(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c,f=a;for(let p=d;p>=0;p-=c){u.fill(a);for(let b=0;b<o;b++){let _=n[b],A=Number(_>>BigInt(p)&l);u[A]=u[A].add(r[b])}let h=a;for(let b=u.length-1,_=a;b>0;b--)_=_.add(u[b]),h=h.add(_);if(f=f.add(h),p!==0)for(let b=0;b<c;b++)f=f.double()}return f}function Rie(t){return GU(t.Fp),Z6(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xie(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var yOe,Cie,Sie,vOe,AOe=D(()=>{aI();Fv();yOe=BigInt(0),Cie=BigInt(1);Sie=new WeakMap,vOe=new WeakMap});function TOe(t){t.lowS!==void 0&&Lv("lowS",t.lowS),t.prehash!==void 0&&Lv("prehash",t.prehash)}function H7t(t){let e=Rie(t);Z6(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}function Pie(t,e){return Uv(G1(t,e))}function z7t(t){let e=H7t(t),{Fp:r}=e,n=oI(e.n,e.nBitLength),i=e.toBytes||((R,M,U)=>{let F=M.toAffine();return W0(Uint8Array.from([4]),r.toBytes(F.x),r.toBytes(F.y))}),o=e.fromBytes||(R=>{let M=R.subarray(1),U=r.fromBytes(M.subarray(0,r.BYTES)),F=r.fromBytes(M.subarray(r.BYTES,2*r.BYTES));return{x:U,y:F}});function a(R){let{a:M,b:U}=e,F=r.sqr(R),z=r.mul(F,R);return r.add(r.add(z,r.mul(R,M)),U)}function s(R,M){let U=r.sqr(M),F=a(R);return r.eql(U,F)}if(!s(e.Gx,e.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(e.a,sI),Nie),l=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(R){return Kg(R,ai,e.n)}function d(R){let{allowedPrivateKeyLengths:M,nByteLength:U,wrapPrivateKey:F,n:z}=e;if(M&&typeof R!="bigint"){if(Dv(R)&&(R=Uv(R)),typeof R!="string"||!M.includes(R.length))throw new Error("invalid private key");R=R.padStart(U*2,"0")}let N;try{N=typeof R=="bigint"?R:Mc(Xo("private key",R,U))}catch{throw new Error("invalid private key, expected hex or "+U+" bytes, got "+typeof R)}return F&&(N=$o(N,z)),Q6("private key",N,ai,z),N}function f(R){if(!(R instanceof b))throw new Error("ProjectivePoint expected")}let p=Eie((R,M)=>{let{px:U,py:F,pz:z}=R;if(r.eql(z,r.ONE))return{x:U,y:F};let N=R.is0();M==null&&(M=N?r.ONE:r.inv(z));let k=r.mul(U,M),O=r.mul(F,M),w=r.mul(z,M);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(w,r.ONE))throw new Error("invZ was invalid");return{x:k,y:O}}),h=Eie(R=>{if(R.is0()){if(e.allowInfinityPoint&&!r.is0(R.py))return;throw new Error("bad point: ZERO")}let{x:M,y:U}=R.toAffine();if(!r.isValid(M)||!r.isValid(U))throw new Error("bad point: x or y not FE");if(!s(M,U))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(M,U,F){if(M==null||!r.isValid(M))throw new Error("x required");if(U==null||!r.isValid(U)||r.is0(U))throw new Error("y required");if(F==null||!r.isValid(F))throw new Error("z required");this.px=M,this.py=U,this.pz=F,Object.freeze(this)}static fromAffine(M){let{x:U,y:F}=M||{};if(!M||!r.isValid(U)||!r.isValid(F))throw new Error("invalid affine point");if(M instanceof b)throw new Error("projective point not allowed");let z=N=>r.eql(N,r.ZERO);return z(U)&&z(F)?b.ZERO:new b(U,F,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){let U=Hv(r,M.map(F=>F.pz));return M.map((F,z)=>F.toAffine(U[z])).map(b.fromAffine)}static fromHex(M){let U=b.fromAffine(o(Xo("pointHex",M)));return U.assertValidity(),U}static fromPrivateKey(M){return b.BASE.multiply(d(M))}static msm(M,U){return xOe(b,n,M,U)}_setWindowSize(M){C.setWindowSize(this,M)}assertValidity(){h(this)}hasEvenY(){let{y:M}=this.toAffine();if(r.isOdd)return!r.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){f(M);let{px:U,py:F,pz:z}=this,{px:N,py:k,pz:O}=M,w=r.eql(r.mul(U,O),r.mul(N,z)),S=r.eql(r.mul(F,O),r.mul(k,z));return w&&S}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){let{a:M,b:U}=e,F=r.mul(U,sI),{px:z,py:N,pz:k}=this,O=r.ZERO,w=r.ZERO,S=r.ZERO,T=r.mul(z,z),m=r.mul(N,N),y=r.mul(k,k),E=r.mul(z,N);return E=r.add(E,E),S=r.mul(z,k),S=r.add(S,S),O=r.mul(M,S),w=r.mul(F,y),w=r.add(O,w),O=r.sub(m,w),w=r.add(m,w),w=r.mul(O,w),O=r.mul(E,O),S=r.mul(F,S),y=r.mul(M,y),E=r.sub(T,y),E=r.mul(M,E),E=r.add(E,S),S=r.add(T,T),T=r.add(S,T),T=r.add(T,y),T=r.mul(T,E),w=r.add(w,T),y=r.mul(N,k),y=r.add(y,y),T=r.mul(y,E),O=r.sub(O,T),S=r.mul(y,m),S=r.add(S,S),S=r.add(S,S),new b(O,w,S)}add(M){f(M);let{px:U,py:F,pz:z}=this,{px:N,py:k,pz:O}=M,w=r.ZERO,S=r.ZERO,T=r.ZERO,m=e.a,y=r.mul(e.b,sI),E=r.mul(U,N),v=r.mul(F,k),x=r.mul(z,O),g=r.add(U,F),P=r.add(N,k);g=r.mul(g,P),P=r.add(E,v),g=r.sub(g,P),P=r.add(U,z);let B=r.add(N,O);return P=r.mul(P,B),B=r.add(E,x),P=r.sub(P,B),B=r.add(F,z),w=r.add(k,O),B=r.mul(B,w),w=r.add(v,x),B=r.sub(B,w),T=r.mul(m,P),w=r.mul(y,x),T=r.add(w,T),w=r.sub(v,T),T=r.add(v,T),S=r.mul(w,T),v=r.add(E,E),v=r.add(v,E),x=r.mul(m,x),P=r.mul(y,P),v=r.add(v,x),x=r.sub(E,x),x=r.mul(m,x),P=r.add(P,x),E=r.mul(v,P),S=r.add(S,E),E=r.mul(B,P),w=r.mul(g,w),w=r.sub(w,E),E=r.mul(g,v),T=r.mul(B,T),T=r.add(T,E),new b(w,S,T)}subtract(M){return this.add(M.negate())}is0(){return this.equals(b.ZERO)}wNAF(M){return C.wNAFCached(this,M,b.normalizeZ)}multiplyUnsafe(M){let{endo:U,n:F}=e;Q6("scalar",M,lf,F);let z=b.ZERO;if(M===lf)return z;if(this.is0()||M===ai)return this;if(!U||C.hasPrecomputes(this))return C.wNAFCachedUnsafe(this,M,b.normalizeZ);let{k1neg:N,k1:k,k2neg:O,k2:w}=U.splitScalar(M),S=z,T=z,m=this;for(;k>lf||w>lf;)k&ai&&(S=S.add(m)),w&ai&&(T=T.add(m)),m=m.double(),k>>=ai,w>>=ai;return N&&(S=S.negate()),O&&(T=T.negate()),T=new b(r.mul(T.px,U.beta),T.py,T.pz),S.add(T)}multiply(M){let{endo:U,n:F}=e;Q6("scalar",M,ai,F);let z,N;if(U){let{k1neg:k,k1:O,k2neg:w,k2:S}=U.splitScalar(M),{p:T,f:m}=this.wNAF(O),{p:y,f:E}=this.wNAF(S);T=C.constTimeNegate(k,T),y=C.constTimeNegate(w,y),y=new b(r.mul(y.px,U.beta),y.py,y.pz),z=T.add(y),N=m.add(E)}else{let{p:k,f:O}=this.wNAF(M);z=k,N=O}return b.normalizeZ([z,N])[0]}multiplyAndAddUnsafe(M,U,F){let z=b.BASE,N=(O,w)=>w===lf||w===ai||!O.equals(z)?O.multiplyUnsafe(w):O.multiply(w),k=N(this,U).add(N(M,F));return k.is0()?void 0:k}toAffine(M){return p(this,M)}isTorsionFree(){let{h:M,isTorsionFree:U}=e;if(M===ai)return!0;if(U)return U(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:M,clearCofactor:U}=e;return M===ai?this:U?U(b,this):this.multiplyUnsafe(e.h)}toRawBytes(M=!0){return Lv("isCompressed",M),this.assertValidity(),i(b,this,M)}toHex(M=!0){return Lv("isCompressed",M),Uv(this.toRawBytes(M))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);let{endo:_,nBitLength:A}=e,C=EOe(b,_?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:u}}function G7t(t){let e=Rie(t);return Z6(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function _Oe(t){let e=G7t(t),{Fp:r,n,nByteLength:i,nBitLength:o}=e,a=r.BYTES+1,s=2*r.BYTES+1;function c(y){return $o(y,n)}function l(y){return zU(y,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:p}=z7t({...e,toBytes(y,E,v){let x=E.toAffine(),g=r.toBytes(x.x),P=W0;return Lv("isCompressed",v),v?P(Uint8Array.from([E.hasEvenY()?2:3]),g):P(Uint8Array.from([4]),g,r.toBytes(x.y))},fromBytes(y){let E=y.length,v=y[0],x=y.subarray(1);if(E===a&&(v===2||v===3)){let g=Mc(x);if(!Kg(g,ai,r.ORDER))throw new Error("Point is not on curve");let P=f(g),B;try{B=r.sqrt(P)}catch(G){let H=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+H)}let I=(B&ai)===ai;return(v&1)===1!==I&&(B=r.neg(B)),{x:g,y:B}}else if(E===s&&v===4){let g=r.fromBytes(x.subarray(0,r.BYTES)),P=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:g,y:P}}else{let g=a,P=s;throw new Error("invalid Point, expected length of "+g+", or uncompressed "+P+", got "+E)}}});function h(y){let E=n>>ai;return y>E}function b(y){return h(y)?c(-y):y}let _=(y,E,v)=>Mc(y.slice(E,v));class A{constructor(E,v,x){Q6("r",E,ai,n),Q6("s",v,ai,n),this.r=E,this.s=v,x!=null&&(this.recovery=x),Object.freeze(this)}static fromCompact(E){let v=i;return E=Xo("compactSignature",E,v*2),new A(_(E,0,v),_(E,v,2*v))}static fromDER(E){let{r:v,s:x}=X6.toSig(Xo("DER",E));return new A(v,x)}assertValidity(){}addRecoveryBit(E){return new A(this.r,this.s,E)}recoverPublicKey(E){let{r:v,s:x,recovery:g}=this,P=z(Xo("msgHash",E));if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");let B=g===2||g===3?v+e.n:v;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let I=(g&1)===0?"02":"03",L=u.fromHex(I+Pie(B,r.BYTES)),G=l(B),H=c(-P*G),$=c(x*G),K=u.BASE.multiplyAndAddUnsafe(L,H,$);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return iI(this.toDERHex())}toDERHex(){return X6.hexFromSig(this)}toCompactRawBytes(){return iI(this.toCompactHex())}toCompactHex(){let E=i;return Pie(this.r,E)+Pie(this.s,E)}}let C={isValidPrivateKey(y){try{return d(y),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let y=Aie(e.n);return bOe(e.randomBytes(y),e.n)},precompute(y=8,E=u.BASE){return E._setWindowSize(y),E.multiply(BigInt(3)),E}};function R(y,E=!0){return u.fromPrivateKey(y).toRawBytes(E)}function M(y){if(typeof y=="bigint")return!1;if(y instanceof u)return!0;let v=Xo("key",y).length,x=r.BYTES,g=x+1,P=2*x+1;if(!(e.allowedPrivateKeyLengths||i===g))return v===g||v===P}function U(y,E,v=!0){if(M(y)===!0)throw new Error("first arg must be private key");if(M(E)===!1)throw new Error("second arg must be public key");return u.fromHex(E).multiply(d(y)).toRawBytes(v)}let F=e.bits2int||function(y){if(y.length>8192)throw new Error("input is too large");let E=Mc(y),v=y.length*8-o;return v>0?E>>BigInt(v):E},z=e.bits2int_modN||function(y){return c(F(y))},N=qg(o);function k(y){return Q6("num < 2^"+o,y,lf,N),G1(y,i)}function O(y,E,v=w){if(["recovered","canonical"].some(J=>J in v))throw new Error("sign() legacy options not supported");let{hash:x,randomBytes:g}=e,{lowS:P,prehash:B,extraEntropy:I}=v;P==null&&(P=!0),y=Xo("msgHash",y),TOe(v),B&&(y=Xo("prehashed msgHash",x(y)));let L=z(y),G=d(E),H=[k(G),k(L)];if(I!=null&&I!==!1){let J=I===!0?g(r.BYTES):I;H.push(Xo("extraEntropy",J))}let $=W0(...H),K=L;function W(J){let X=F(J);if(!p(X))return;let te=l(X),re=u.BASE.multiply(X).toAffine(),le=c(re.x);if(le===lf)return;let ce=c(te*c(K+le*G));if(ce===lf)return;let ae=(re.x===le?0:2)|Number(re.y&ai),xe=ce;return P&&h(ce)&&(xe=b(ce),ae^=1),new A(le,xe,ae)}return{seed:$,k2sig:W}}let w={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function T(y,E,v=w){let{seed:x,k2sig:g}=O(y,E,v),P=e;return lOe(P.hash.outputLen,P.nByteLength,P.hmac)(x,g)}u.BASE._setWindowSize(8);function m(y,E,v,x=S){let g=y;E=Xo("msgHash",E),v=Xo("publicKey",v);let{lowS:P,prehash:B,format:I}=x;if(TOe(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(I!==void 0&&I!=="compact"&&I!=="der")throw new Error("format must be compact or der");let L=typeof g=="string"||Dv(g),G=!L&&!I&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!L&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let H,$;try{if(G&&(H=new A(g.r,g.s)),L){try{I!=="compact"&&(H=A.fromDER(g))}catch(ae){if(!(ae instanceof X6.Err))throw ae}!H&&I!=="der"&&(H=A.fromCompact(g))}$=u.fromHex(v)}catch{return!1}if(!H||P&&H.hasHighS())return!1;B&&(E=e.hash(E));let{r:K,s:W}=H,J=z(E),X=l(W),te=c(J*X),re=c(K*X),le=u.BASE.multiplyAndAddUnsafe($,te,re)?.toAffine();return le?c(le.x)===K:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:U,sign:T,verify:m,ProjectivePoint:u,Signature:A,utils:C}}function j7t(t,e){let r=t.ORDER,n=lf;for(let h=r-ai;h%tb===lf;h/=tb)n+=ai;let i=n,o=tb<<i-ai-ai,a=o*tb,s=(r-ai)/a,c=(s-ai)/tb,l=a-ai,u=o,d=t.pow(e,s),f=t.pow(e,(s+ai)/tb),p=(h,b)=>{let _=d,A=t.pow(b,l),C=t.sqr(A);C=t.mul(C,b);let R=t.mul(h,C);R=t.pow(R,c),R=t.mul(R,A),A=t.mul(R,b),C=t.mul(R,h);let M=t.mul(C,A);R=t.pow(M,u);let U=t.eql(R,t.ONE);A=t.mul(C,f),R=t.mul(M,_),C=t.cmov(A,C,U),M=t.cmov(R,M,U);for(let F=i;F>ai;F--){let z=F-tb;z=tb<<z-ai;let N=t.pow(M,z),k=t.eql(N,t.ONE);A=t.mul(C,_),_=t.mul(_,_),N=t.mul(M,_),C=t.cmov(A,C,k),M=t.cmov(N,M,k)}return{isValid:U,value:C}};if(t.ORDER%Nie===sI){let h=(t.ORDER-sI)/Nie,b=t.sqrt(t.neg(e));p=(_,A)=>{let C=t.sqr(A),R=t.mul(_,A);C=t.mul(C,R);let M=t.pow(C,h);M=t.mul(M,R);let U=t.mul(M,b),F=t.mul(t.sqr(M),A),z=t.eql(F,_),N=t.cmov(U,M,z);return{isValid:z,value:N}}}return p}function SOe(t,e){if(GU(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=j7t(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,a,s,c,l,u,d;i=t.sqr(n),i=t.mul(i,e.Z),o=t.sqr(i),o=t.add(o,i),a=t.add(o,t.ONE),a=t.mul(a,e.B),s=t.cmov(e.Z,t.neg(o),!t.eql(o,t.ZERO)),s=t.mul(s,e.A),o=t.sqr(a),l=t.sqr(s),c=t.mul(l,e.A),o=t.add(o,c),o=t.mul(o,a),l=t.mul(l,s),c=t.mul(l,e.B),o=t.add(o,c),u=t.mul(i,a);let{isValid:f,value:p}=r(o,l);d=t.mul(i,n),d=t.mul(d,p),u=t.cmov(u,a,f),d=t.cmov(d,p,f);let h=t.isOdd(n)===t.isOdd(d);d=t.cmov(t.neg(d),d,h);let b=Hv(t,[s],!0)[0];return u=t.mul(u,b),{x:u,y:d}}}var Oie,X6,lf,ai,tb,sI,Nie,kie=D(()=>{AOe();aI();Fv();Oie=class extends Error{constructor(e=""){super(e)}},X6={Err:Oie,_tlv:{encode:(t,e)=>{let{Err:r}=X6;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=nI(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?nI(i.length/2|128):"";return nI(t)+o+i+e},decode(t,e){let{Err:r}=X6,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],o=!!(i&128),a=0;if(!o)a=i;else{let c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)a=a<<8|u;if(n+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}let s=e.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=X6;if(t<lf)throw new e("integer: negative integers are not allowed");let r=nI(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=X6;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Mc(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=X6,i=Xo("signature",t),{v:o,l:a}=n.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=X6,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),o=n+i;return e.encode(48,o)}};lf=BigInt(0),ai=BigInt(1),tb=BigInt(2),sI=BigInt(3),Nie=BigInt(4)});function $7t(t){return{hash:t,hmac:(e,...r)=>Xy(t,e,Wr(...r)),randomBytes:Oa}}function IOe(t,e){let r=n=>_Oe({...t,...$7t(n)});return{...r(e),create:r}}var COe=D(()=>{EO();Na();kie();});function rb(t,e){if(cI(t),cI(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function K7t(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function cI(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function q7t(t,e,r,n){J6(t),J6(e),cI(r),e.length>255&&(e=n(W0(HU("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");let s=W0(e,rb(e.length,1)),c=rb(0,o),l=rb(r,2),u=new Array(a),d=n(W0(c,t,l,rb(0,1),s));u[0]=n(W0(d,rb(1,1),s));for(let p=1;p<=a;p++){let h=[K7t(d,u[p-1]),rb(p+1,1),s];u[p]=n(W0(...h))}return W0(...u).slice(0,r)}function W7t(t,e,r,n,i){if(J6(t),J6(e),cI(r),e.length>255){let o=Math.ceil(2*n/8);e=i.create({dkLen:o}).update(HU("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(rb(r,2)).update(e).update(rb(e.length,1)).digest()}function ROe(t,e,r){Z6(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:o,hash:a,expand:s,DST:c}=r;J6(t),cI(e);let l=typeof c=="string"?HU(c):c,u=n.toString(2).length,d=Math.ceil((u+i)/8),f=e*o*d,p;if(s==="xmd")p=q7t(t,l,f,a);else if(s==="xof")p=W7t(t,l,f,i,a);else if(s==="_internal_pass")p=t;else throw new Error('expand must be "xmd" or "xof"');let h=new Array(e);for(let b=0;b<e;b++){let _=new Array(o);for(let A=0;A<o;A++){let C=d*(A+b*o),R=p.subarray(C,C+d);_[A]=$o(V7t(R),n)}h[b]=_}return h}function POe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[o,a,s,c]=r.map(d=>d.reduce((f,p)=>t.add(t.mul(f,n),p))),[l,u]=Hv(t,[a,c],!0);return n=t.mul(o,l),i=t.mul(i,t.mul(s,u)),{x:n,y:i}}}function OOe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function n(o){return t.fromAffine(e(o))}function i(o){let a=o.clearCofactor();return a.equals(t.ZERO)?t.ZERO:(a.assertValidity(),a)}return{defaults:r,hashToCurve(o,a){let s=ROe(o,2,{...r,DST:r.DST,...a}),c=n(s[0]),l=n(s[1]);return i(c.add(l))},encodeToCurve(o,a){let s=ROe(o,1,{...r,DST:r.encodeDST,...a});return i(n(s[0]))},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(let a of o)if(typeof a!="bigint")throw new Error("expected array of bigints");return i(n(o))}}}var V7t,NOe=D(()=>{aI();Fv();V7t=Mc});var FOe={};lr(FOe,{encodeToCurve:()=>r_t,hashToCurve:()=>t_t,schnorr:()=>Z7t,secp256k1:()=>fI,secp256k1_hasher:()=>Hie});function BOe(t){let e=dI,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Dl(u,r,e)*u%e,f=Dl(d,r,e)*u%e,p=Dl(f,$U,e)*l%e,h=Dl(p,i,e)*p%e,b=Dl(h,o,e)*h%e,_=Dl(b,s,e)*b%e,A=Dl(_,c,e)*_%e,C=Dl(A,s,e)*b%e,R=Dl(C,r,e)*u%e,M=Dl(R,a,e)*h%e,U=Dl(M,n,e)*l%e,F=Dl(U,$U,e);if(!nb.eql(nb.sqr(F),t))throw new Error("Cannot find square root");return F}function VU(t,...e){let r=MOe[t];if(r===void 0){let n=pc(Uint8Array.from(t,i=>i.charCodeAt(0)));r=W0(n,n),MOe[t]=r}return pc(W0(r,...e))}function Die(t){let e=fI.utils.normPrivateKeyToScalar(t),r=Fie.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:uI(-e),bytes:Uie(r)}}function DOe(t){Q6("x",t,lI,dI);let e=Mie(t*t),r=Mie(e*t+BigInt(7)),n=BOe(r);n%$U!==Lie&&(n=Mie(-n));let i=new Fie(t,n,lI);return i.assertValidity(),i}function LOe(...t){return uI(zv(VU("BIP0340/challenge",...t)))}function J7t(t){return Die(t).bytes}function Q7t(t,e,r=Oa(32)){let n=Xo("message",t),{bytes:i,scalar:o}=Die(e),a=Xo("auxRand",r,32),s=Bie(o^zv(VU("BIP0340/aux",a))),c=VU("BIP0340/nonce",s,i,n),l=uI(zv(c));if(l===Lie)throw new Error("sign failed: k is zero");let{bytes:u,scalar:d}=Die(l),f=LOe(u,i,n),p=new Uint8Array(64);if(p.set(u,0),p.set(Bie(uI(d+f*o)),32),!UOe(p,n,i))throw new Error("sign: Invalid signature produced");return p}function UOe(t,e,r){let n=Xo("signature",t,64),i=Xo("message",e),o=Xo("publicKey",r,32);try{let a=DOe(zv(o)),s=zv(n.subarray(0,32));if(!Kg(s,lI,dI))return!1;let c=zv(n.subarray(32,64));if(!Kg(c,lI,jU))return!1;let l=LOe(Bie(s),Uie(a),i),u=Y7t(a,c,uI(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==s)}catch{return!1}}var dI,jU,Lie,lI,$U,kOe,nb,fI,MOe,Uie,Bie,Mie,uI,Fie,Y7t,zv,Z7t,X7t,e_t,Hie,t_t,r_t,HOe=D(()=>{Z3();Na();COe();NOe();aI();Fv();kie();dI=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jU=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Lie=BigInt(0),lI=BigInt(1),$U=BigInt(2),kOe=(t,e)=>(t+e/$U)/e;nb=oI(dI,void 0,void 0,{sqrt:BOe}),fI=IOe({a:Lie,b:BigInt(7),Fp:nb,n:jU,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=jU,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-lI*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=kOe(o*t,e),c=kOe(-n*t,e),l=$o(t-s*r-c*i,e),u=$o(-s*n-c*o,e),d=l>a,f=u>a;if(d&&(l=e-l),f&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},pc),MOe={};Uie=t=>t.toRawBytes(!0).slice(1),Bie=t=>G1(t,32),Mie=t=>$o(t,dI),uI=t=>$o(t,jU),Fie=fI.ProjectivePoint,Y7t=(t,e,r)=>Fie.BASE.multiplyAndAddUnsafe(t,e,r);zv=Mc;Z7t={getPublicKey:J7t,sign:Q7t,verify:UOe,utils:{randomPrivateKey:fI.utils.randomPrivateKey,lift_x:DOe,pointToBytes:Uie,numberToBytesBE:G1,bytesToNumberBE:Mc,taggedHash:VU,mod:$o}},X7t=POe(nb,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),e_t=SOe(nb,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:nb.create(BigInt("-11"))}),Hie=OOe(fI.ProjectivePoint,t=>{let{x:e,y:r}=e_t(nb.create(t[0]));return X7t(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:nb.ORDER,m:1,k:128,expand:"xmd",hash:pc}),t_t=Hie.hashToCurve,r_t=Hie.encodeToCurve});async function GOe({hash:t,signature:e}){let r=K6(t)?t:rI(t),{secp256k1:n}=await Promise.resolve().then(()=>(HOe(),FOe));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:l,s:u,v:d,yParity:f}=e,p=Number(f??d),h=zOe(p);return new n.Signature(BU(l),BU(u)).addRecoveryBit(h)}let a=K6(e)?e:rI(e);if(eI(a)!==65)throw new Error("invalid signature length");let s=WPe(`0x${a.slice(130)}`),c=zOe(s);return n.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function zOe(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}var jOe=D(()=>{XS();oie();DU();LU()});async function zie({hash:t,signature:e}){return rOe(await GOe({hash:t,signature:e}))}var $Oe=D(()=>{nOe();jOe()});var VOe=D(()=>{$Oe()});function n_t(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function a(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,f=0,p=l.length;for(;f!==p&&l[f]===0;)f++,u++;let h=(p-f)*o+1>>>0,b=new Uint8Array(h);for(;f!==p;){let C=l[f],R=0;for(let M=h-1;(C!==0||R<d)&&M!==-1;M--,R++)C+=256*b[M]>>>0,b[M]=C%r>>>0,C=C/r>>>0;if(C!==0)throw new Error("Non-zero carry");d=R,f++}let _=h-d;for(;_!==h&&b[_]===0;)_++;let A=n.repeat(u);for(;_<h;++_)A+=t.charAt(b[_]);return A}function s(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,f=0;for(;l[u]===n;)d++,u++;let p=(l.length-u)*i+1>>>0,h=new Uint8Array(p);for(;u<l.length;){let C=l.charCodeAt(u);if(C>255)return;let R=e[C];if(R===255)return;let M=0;for(let U=p-1;(R!==0||M<f)&&U!==-1;U--,M++)R+=r*h[U]>>>0,h[U]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");f=M,u++}let b=p-f;for(;b!==p&&h[b]===0;)b++;let _=new Uint8Array(d+(p-b)),A=d;for(;b!==p;)_[A++]=h[b++];return _}function c(l){let u=s(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:a,decodeUnsafe:s,decode:c}}var KOe,qOe=D(()=>{KOe=n_t});var i_t,Gv,WOe=D(()=>{qOe();i_t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Gv=KOe(i_t)});function YOe(t){let e=t.length,r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){let o=t.charCodeAt(n);(o&64512)===56320&&(++n,i=((i&1023)<<10)+(o&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function o_t(t,e,r){let n=t.length,i=r,o=0;for(;o<n;){let a=t.charCodeAt(o++);if((a&4294967168)===0){e[i++]=a;continue}else if((a&4294965248)===0)e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&o<n){let s=t.charCodeAt(o);(s&64512)===56320&&(++o,a=((a&1023)<<10)+(s&1023)+65536)}(a&4294901760)===0?(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128):(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128)}e[i++]=a&63|128}}function c_t(t,e,r){a_t.encodeInto(t,e.subarray(r))}function JOe(t,e,r){t.length>s_t?c_t(t,e,r):o_t(t,e,r)}function Gie(t,e,r){let n=e,i=n+r,o=[],a="";for(;n<i;){let s=t[n++];if((s&128)===0)o.push(s);else if((s&224)===192){let c=t[n++]&63;o.push((s&31)<<6|c)}else if((s&240)===224){let c=t[n++]&63,l=t[n++]&63;o.push((s&31)<<12|c<<6|l)}else if((s&248)===240){let c=t[n++]&63,l=t[n++]&63,u=t[n++]&63,d=(s&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,o.push(d>>>10&1023|55296),d=56320|d&1023),o.push(d)}else o.push(s);o.length>=l_t&&(a+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(a+=String.fromCharCode(...o)),a}function f_t(t,e,r){let n=t.subarray(e,e+r);return u_t.decode(n)}function QOe(t,e,r){return r>d_t?f_t(t,e,r):Gie(t,e,r)}var a_t,s_t,l_t,u_t,d_t,KU=D(()=>{a_t=new TextEncoder,s_t=50;l_t=4096;u_t=new TextDecoder,d_t=200});var Yg,ZOe=D(()=>{Yg=class{constructor(e,r){this.type=e,this.data=r}}});var Bc,jie=D(()=>{Bc=class t extends Error{constructor(e){super(e);let r=Object.create(t.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:t.name})}}});function XOe(t,e,r){let n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function qU(t,e,r){let n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function WU(t,e){let r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function eNe(t,e){let r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}var YU=D(()=>{});function b_t({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=m_t)if(e===0&&t<=h_t){let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{let r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,e<<2|r&3),o.setUint32(4,n),i}else{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),qU(n,4,t),r}}function y_t(t){let e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function g_t(t){if(t instanceof Date){let e=y_t(t);return b_t(e)}else return null}function w_t(t){let e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{let r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,o=r>>>2;return{sec:i,nsec:o}}case 12:{let r=WU(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new Bc(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function v_t(t){let e=w_t(t);return new Date(e.sec*1e3+e.nsec/1e6)}var p_t,h_t,m_t,tNe,rNe=D(()=>{jie();YU();p_t=-1,h_t=4294967296-1,m_t=17179869184-1;tNe={type:p_t,encode:g_t,decode:v_t}});var ib,$ie=D(()=>{ZOe();rNe();ib=class{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(tNe)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{let i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){let i=this.builtInEncoders[n];if(i!=null){let o=i(e,r);if(o!=null){let a=-1-n;return new Yg(a,o)}}}for(let n=0;n<this.encoders.length;n++){let i=this.encoders[n];if(i!=null){let o=i(e,r);if(o!=null){let a=n;return new Yg(a,o)}}}return e instanceof Yg?e:null}decode(e,r,n){let i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new Yg(r,e)}};ib.defaultCodec=new ib});function E_t(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function pI(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):E_t(t)?new Uint8Array(t):Uint8Array.from(t)}var Vie=D(()=>{});var x_t,A_t,JU,nNe=D(()=>{KU();$ie();YU();Vie();x_t=100,A_t=2048,JU=class t{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??ib.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??x_t,this.initialBufferSize=e?.initialBufferSize??A_t,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new t({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){let r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){let r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let n=YOe(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),JOe(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){let n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);let n=pI(e);this.writeU8a(n)}encodeArray(e,r){let n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(let i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(let i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){let n=Object.keys(e);this.sortKeys&&n.sort();let i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(let o of n){let a=e[o];this.ignoreUndefined&&a===void 0||(this.encodeString(o),this.doEncode(a,r+1))}}encodeExtension(e){if(typeof e.data=="function"){let n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}let r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),XOe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),qU(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}});function Kie(t,e){return new JU(e).encodeSharedRef(t)}var iNe=D(()=>{nNe()});function QU(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}var oNe=D(()=>{});var T_t,__t,ZU,aNe=D(()=>{KU();T_t=16,__t=16,ZU=class{constructor(e=T_t,r=__t){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){let i=this.caches[n-1];e:for(let o of i){let a=o.bytes;for(let s=0;s<n;s++)if(a[s]!==e[r+s])continue e;return o.str}return null}store(e,r){let n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){let i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;let o=Gie(e,r,n),a=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(a,o),o}}});var qie,bI,cNe,S_t,Wie,mI,Yie,I_t,sNe,C_t,XU,lNe=D(()=>{oNe();$ie();YU();KU();Vie();aNe();jie();qie="array",bI="map_key",cNe="map_value",S_t=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Bc("The type of key must be string or number but "+typeof t)},Wie=class{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let r=this.getUninitializedStateFromPool();r.type=qie,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){let r=this.getUninitializedStateFromPool();r.type=bI,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){let e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===qie){let n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===bI||e.type===cNe){let n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}},mI=-1,Yie=new DataView(new ArrayBuffer(0)),I_t=new Uint8Array(Yie.buffer);try{Yie.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}sNe=new RangeError("Insufficient data"),C_t=new ZU,XU=class t{constructor(e){this.totalPos=0,this.pos=0,this.view=Yie,this.bytes=I_t,this.headByte=mI,this.stack=new Wie,this.entered=!1,this.extensionCodec=e?.extensionCodec??ib.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??4294967295,this.maxBinLength=e?.maxBinLength??4294967295,this.maxArrayLength=e?.maxArrayLength??4294967295,this.maxMapLength=e?.maxMapLength??4294967295,this.maxExtLength=e?.maxExtLength??4294967295,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:C_t,this.mapKeyConverter=e?.mapKeyConverter??S_t}clone(){return new t({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=mI,this.stack.reset()}setBuffer(e){let r=pI(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===mI&&!this.hasRemaining(1))this.setBuffer(e);else{let r=this.bytes.subarray(this.pos),n=pI(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(let s of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}let{headByte:i,pos:o,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${QU(i)} at ${a} (${o} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(let o of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){let e=this.readHeadByte(),r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){let i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){let i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{let i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){let i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){let i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){let i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){let i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){let i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){let i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){let i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){let i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){let i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){let i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){let i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){let i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){let i=this.lookU32();r=this.decodeExtension(i,4)}else throw new Bc(`Unrecognized type byte: ${QU(e)}`);this.complete();let n=this.stack;for(;n.length>0;){let i=n.top();if(i.type===qie)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===bI){if(r==="__proto__")throw new Bc("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=cNe;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=bI;continue e}}return r}}readHeadByte(){return this.headByte===mI&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=mI}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Bc(`Unrecognized array type byte: ${QU(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Bc(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Bc(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new Bc(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw sNe;let n=this.pos+r,i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=QOe(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===bI:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new Bc(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw sNe;let n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new Bc(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=eNe(this.view,this.pos);return this.pos+=8,e}readI64(){let e=WU(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}});function Jie(t,e){return new XU(e).decode(t)}var uNe=D(()=>{lNe()});var dNe=D(()=>{iNe();uNe()});var fNe=D(()=>{});function Jg(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var yI=D(()=>{});function gI(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Jg(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var eF=D(()=>{yI()});function Qg(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));let r=gI(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Jg(r)}var pNe=D(()=>{eF();yI()});var hNe=D(()=>{});function R_t(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,_=0,A=0,C=h.length;A!==C&&h[A]===0;)A++,b++;for(var R=(C-A)*u+1>>>0,M=new Uint8Array(R);A!==C;){for(var U=h[A],F=0,z=R-1;(U!==0||F<_)&&z!==-1;z--,F++)U+=256*M[z]>>>0,M[z]=U%s>>>0,U=U/s>>>0;if(U!==0)throw new Error("Non-zero carry");_=F,A++}for(var N=R-_;N!==R&&M[N]===0;)N++;for(var k=c.repeat(b);N<R;++N)k+=t.charAt(M[N]);return k}function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var _=0,A=0;h[b]===c;)_++,b++;for(var C=(h.length-b)*l+1>>>0,R=new Uint8Array(C);h[b];){var M=r[h.charCodeAt(b)];if(M===255)return;for(var U=0,F=C-1;(M!==0||U<A)&&F!==-1;F--,U++)M+=s*R[F]>>>0,R[F]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");A=U,b++}if(h[b]!==" "){for(var z=C-A;z!==C&&R[z]===0;)z++;for(var N=new Uint8Array(_+(C-z)),k=_;z!==C;)N[k++]=R[z++];return N}}}function p(h){var b=f(h);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:p}}var P_t,O_t,mNe,bNe=D(()=>{P_t=R_t,O_t=P_t,mNe=O_t});var V_r,yNe,eh,gNe,wNe,ob=D(()=>{V_r=new Uint8Array(0),yNe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},eh=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},gNe=t=>new TextEncoder().encode(t),wNe=t=>new TextDecoder().decode(t)});var Qie,Zie,Xie,ENe,eoe,jv,ab,N_t,k_t,Ao,uf=D(()=>{bNe();ob();Qie=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Zie=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ENe(this,e)}},Xie=class{constructor(e){this.decoders=e}or(e){return ENe(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},ENe=(t,e)=>new Xie({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),eoe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Qie(e,r,n),this.decoder=new Zie(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},jv=({name:t,prefix:e,encode:r,decode:n})=>new eoe(t,e,r,n),ab=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=mNe(r,e);return jv({prefix:t,name:e,encode:n,decode:o=>eh(i(o))})},N_t=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let u=0;u<o;++u){let d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,s+=r,s>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return a},k_t=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",a=0,s=0;for(let c=0;c<t.length;++c)for(s=s<<8|t[c],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},Ao=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>jv({prefix:e,name:t,encode(i){return k_t(i,n,r)},decode(i){return N_t(i,n,r,t)}})});var toe={};lr(toe,{identity:()=>M_t});var M_t,xNe=D(()=>{uf();ob();M_t=jv({prefix:"\0",name:"identity",encode:t=>wNe(t),decode:t=>gNe(t)})});var roe={};lr(roe,{base2:()=>B_t});var B_t,ANe=D(()=>{uf();B_t=Ao({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var noe={};lr(noe,{base8:()=>D_t});var D_t,TNe=D(()=>{uf();D_t=Ao({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var ioe={};lr(ioe,{base10:()=>L_t});var L_t,_Ne=D(()=>{uf();L_t=ab({prefix:"9",name:"base10",alphabet:"0123456789"})});var ooe={};lr(ooe,{base16:()=>U_t,base16upper:()=>F_t});var U_t,F_t,SNe=D(()=>{uf();U_t=Ao({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),F_t=Ao({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var aoe={};lr(aoe,{base32:()=>$v,base32hex:()=>j_t,base32hexpad:()=>V_t,base32hexpadupper:()=>K_t,base32hexupper:()=>$_t,base32pad:()=>z_t,base32padupper:()=>G_t,base32upper:()=>H_t,base32z:()=>q_t});var $v,H_t,z_t,G_t,j_t,$_t,V_t,K_t,q_t,soe=D(()=>{uf();$v=Ao({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),H_t=Ao({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),z_t=Ao({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),G_t=Ao({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),j_t=Ao({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$_t=Ao({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),V_t=Ao({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),K_t=Ao({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),q_t=Ao({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var coe={};lr(coe,{base36:()=>W_t,base36upper:()=>Y_t});var W_t,Y_t,INe=D(()=>{uf();W_t=ab({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y_t=ab({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var loe={};lr(loe,{base58btc:()=>j1,base58flickr:()=>J_t});var j1,J_t,uoe=D(()=>{uf();j1=ab({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),J_t=ab({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var doe={};lr(doe,{base64:()=>Q_t,base64pad:()=>Z_t,base64url:()=>X_t,base64urlpad:()=>eSt});var Q_t,Z_t,X_t,eSt,CNe=D(()=>{uf();Q_t=Ao({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Z_t=Ao({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),X_t=Ao({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),eSt=Ao({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var foe={};lr(foe,{base256emoji:()=>oSt});function nSt(t){return t.reduce((e,r)=>(e+=tSt[r],e),"")}function iSt(t){let e=[];for(let r of t){let n=rSt[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var RNe,tSt,rSt,oSt,PNe=D(()=>{uf();RNe=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),tSt=RNe.reduce((t,e,r)=>(t[r]=e,t),[]),rSt=RNe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);oSt=jv({prefix:"\u{1F680}",name:"base256emoji",encode:nSt,decode:iSt})});function kNe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=lSt;)e[r++]=t&255|ONe,t/=128;for(;t&cSt;)e[r++]=t&255|ONe,t>>>=7;return e[r]=t|0,kNe.bytes=r-n+1,e}function poe(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw poe.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&NNe)<<i:(a&NNe)*Math.pow(2,i),i+=7}while(a>=dSt);return poe.bytes=o-n,r}var aSt,ONe,sSt,cSt,lSt,uSt,dSt,NNe,fSt,pSt,hSt,mSt,bSt,ySt,gSt,wSt,vSt,ESt,xSt,ASt,wI,MNe=D(()=>{aSt=kNe,ONe=128,sSt=127,cSt=~sSt,lSt=Math.pow(2,31);uSt=poe,dSt=128,NNe=127;fSt=Math.pow(2,7),pSt=Math.pow(2,14),hSt=Math.pow(2,21),mSt=Math.pow(2,28),bSt=Math.pow(2,35),ySt=Math.pow(2,42),gSt=Math.pow(2,49),wSt=Math.pow(2,56),vSt=Math.pow(2,63),ESt=function(t){return t<fSt?1:t<pSt?2:t<hSt?3:t<mSt?4:t<bSt?5:t<ySt?6:t<gSt?7:t<wSt?8:t<vSt?9:10},xSt={encode:aSt,decode:uSt,encodingLength:ESt},ASt=xSt,wI=ASt});var vI,Vv,Kv,rF=D(()=>{MNe();vI=(t,e=0)=>[wI.decode(t,e),wI.decode.bytes],Vv=(t,e,r=0)=>(wI.encode(t,e,r),e),Kv=t=>wI.encodingLength(t)});var Zg,BNe,DNe,qv,xI=D(()=>{ob();rF();Zg=(t,e)=>{let r=e.byteLength,n=Kv(t),i=n+Kv(r),o=new Uint8Array(i+r);return Vv(t,o,0),Vv(r,o,n),o.set(e,i),new qv(t,r,e,o)},BNe=t=>{let e=eh(t),[r,n]=vI(e),[i,o]=vI(e.subarray(n)),a=e.subarray(n+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new qv(r,i,a,e)},DNe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&yNe(t.bytes,e.bytes),qv=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var moe,hoe,boe=D(()=>{xI();moe=({name:t,code:e,encode:r})=>new hoe(t,e,r),hoe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Zg(this.code,r):r.then(n=>Zg(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var yoe={};lr(yoe,{sha256:()=>TSt,sha512:()=>_St});var UNe,TSt,_St,FNe=D(()=>{boe();UNe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),TSt=moe({name:"sha2-256",code:18,encode:UNe("SHA-256")}),_St=moe({name:"sha2-512",code:19,encode:UNe("SHA-512")})});var goe={};lr(goe,{identity:()=>CSt});var HNe,SSt,zNe,ISt,CSt,GNe=D(()=>{ob();xI();HNe=0,SSt="identity",zNe=eh,ISt=t=>Zg(HNe,zNe(t)),CSt={code:HNe,name:SSt,encode:zNe,digest:ISt}});var jNe=D(()=>{ob()});var fSr,pSr,$Ne=D(()=>{fSr=new TextEncoder,pSr=new TextDecoder});var oF,OSt,NSt,kSt,AI,MSt,VNe,KNe,nF,iF,BSt,DSt,LSt,qNe=D(()=>{rF();xI();uoe();soe();ob();oF=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:iF,byteLength:iF,code:nF,version:nF,multihash:nF,bytes:nF,_baseCache:iF,asCID:iF})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==AI)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==MSt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Zg(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&DNe(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return NSt(r,i,e||j1.encoder);default:return kSt(r,i,e||$v.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return DSt(/^0\.0/,LSt),!!(e&&(e[KNe]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:o}=e;return new t(r,n,i,o||VNe(r,n,i.bytes))}else if(e!=null&&e[KNe]===!0){let{version:r,multihash:n,code:i}=e,o=BNe(n);return t.create(r,i,o)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==AI)throw new Error(`Version 0 CID must use dag-pb (code: ${AI}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=VNe(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,AI,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=eh(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),a=new qv(r.multihashCode,r.digestSize,o,i);return[r.version===0?t.createV0(a):t.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[d,f]=vI(e.subarray(r));return r+=f,d},i=n(),o=AI;if(i===18?(i=0,r=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,s=n(),c=n(),l=r+c,u=l-a;return{version:i,codec:o,multihashCode:s,digestSize:c,multihashSize:u,size:l}}static parse(e,r){let[n,i]=OSt(e,r),o=t.decode(i);return o._baseCache.set(n,e),o}},OSt=(t,e)=>{switch(t[0]){case"Q":{let r=e||j1;return[j1.prefix,r.decode(`${j1.prefix}${t}`)]}case j1.prefix:{let r=e||j1;return[j1.prefix,r.decode(t)]}case $v.prefix:{let r=e||$v;return[$v.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},NSt=(t,e,r)=>{let{prefix:n}=r;if(n!==j1.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},kSt=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},AI=112,MSt=18,VNe=(t,e,r)=>{let n=Kv(t),i=n+Kv(e),o=new Uint8Array(i+r.byteLength);return Vv(t,o,0),Vv(e,o,n),o.set(r,i),o},KNe=Symbol.for("@ipld/js-cid/CID"),nF={writable:!1,configurable:!1,enumerable:!0},iF={writable:!1,enumerable:!1,configurable:!1},BSt="0.0.0-dev",DSt=(t,e)=>{if(t.test(BSt))console.warn(e);else throw new Error(e)},LSt=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var WNe=D(()=>{qNe();rF();ob();boe();xI()});var woe,ESr,YNe=D(()=>{xNe();ANe();TNe();_Ne();SNe();soe();INe();uoe();CNe();PNe();FNe();GNe();jNe();$Ne();WNe();woe={...toe,...roe,...noe,...ioe,...ooe,...aoe,...coe,...loe,...doe,...foe},ESr={...yoe,...goe}});function QNe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var JNe,voe,USt,aF,Eoe=D(()=>{YNe();eF();JNe=QNe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),voe=QNe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=gI(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),USt={utf8:JNe,"utf-8":JNe,hex:woe.base16,latin1:voe,ascii:voe,binary:voe,...woe},aF=USt});function Dc(t,e="utf8"){let r=aF[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Jg(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var ZNe=D(()=>{Eoe();yI()});function ys(t,e="utf8"){let r=aF[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var XNe=D(()=>{Eoe()});var eke=D(()=>{eF();yI()});var xoe=D(()=>{fNe();pNe();hNe();ZNe();XNe();eke()});var tke,rke=D(()=>{tke={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}});var Aoe=de((VSr,nke)=>{var FSt="Input must be an string, Buffer or Uint8Array";function HSt(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(FSt);return e}function zSt(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function sF(t){return(4294967296+t).toString(16).substring(1)}function GSt(t,e,r){let n=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(r===32)n+=sF(e[i]).toUpperCase(),n+=" ",n+=sF(e[i+1]).toUpperCase();else if(r===64)n+=sF(e[i+1]).toUpperCase(),n+=sF(e[i]).toUpperCase();else throw new Error("Invalid size "+r);i%6===4?n+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function jSt(t,e,r){let n=new Date().getTime(),i=new Uint8Array(e);for(let a=0;a<e;a++)i[a]=a%256;let o=new Date().getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(let a=0;a<r;a++){let s=t(i),c=new Date().getTime(),l=c-n;n=c,console.log("Hashed in "+l+"ms: "+s.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}nke.exports={normalizeInput:HSt,toHex:zSt,debugPrint:GSt,testSpeed:jSt}});var fke=de((KSr,dke)=>{var lF=Aoe();function cF(t,e,r){let n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function ike(t,e,r,n){let i=t[e]+r;r<0&&(i+=4294967296);let o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function oke(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function sb(t,e,r,n,i,o){let a=TI[i],s=TI[i+1],c=TI[o],l=TI[o+1];cF(Fr,t,e),ike(Fr,t,a,s);let u=Fr[n]^Fr[t],d=Fr[n+1]^Fr[t+1];Fr[n]=d,Fr[n+1]=u,cF(Fr,r,n),u=Fr[e]^Fr[r],d=Fr[e+1]^Fr[r+1],Fr[e]=u>>>24^d<<8,Fr[e+1]=d>>>24^u<<8,cF(Fr,t,e),ike(Fr,t,c,l),u=Fr[n]^Fr[t],d=Fr[n+1]^Fr[t+1],Fr[n]=u>>>16^d<<16,Fr[n+1]=d>>>16^u<<16,cF(Fr,r,n),u=Fr[e]^Fr[r],d=Fr[e+1]^Fr[r+1],Fr[e]=d>>>31^u<<1,Fr[e+1]=u>>>31^d<<1}var ake=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),$St=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],c0=new Uint8Array($St.map(function(t){return t*2})),Fr=new Uint32Array(32),TI=new Uint32Array(32);function ske(t,e){let r=0;for(r=0;r<16;r++)Fr[r]=t.h[r],Fr[r+16]=ake[r];for(Fr[24]=Fr[24]^t.t,Fr[25]=Fr[25]^t.t/4294967296,e&&(Fr[28]=~Fr[28],Fr[29]=~Fr[29]),r=0;r<32;r++)TI[r]=oke(t.b,4*r);for(r=0;r<12;r++)sb(0,8,16,24,c0[r*16+0],c0[r*16+1]),sb(2,10,18,26,c0[r*16+2],c0[r*16+3]),sb(4,12,20,28,c0[r*16+4],c0[r*16+5]),sb(6,14,22,30,c0[r*16+6],c0[r*16+7]),sb(0,10,20,30,c0[r*16+8],c0[r*16+9]),sb(2,12,22,24,c0[r*16+10],c0[r*16+11]),sb(4,14,16,26,c0[r*16+12],c0[r*16+13]),sb(6,8,18,28,c0[r*16+14],c0[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Fr[r]^Fr[r+16]}var cb=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function cke(t,e,r,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");let i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};cb.fill(0),cb[0]=t,e&&(cb[1]=e.length),cb[2]=1,cb[3]=1,r&&cb.set(r,32),n&&cb.set(n,48);for(let o=0;o<16;o++)i.h[o]=ake[o]^oke(cb,o*4);return e&&(Toe(i,e),i.c=128),i}function Toe(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,ske(t,!1),t.c=0),t.b[t.c++]=e[r]}function lke(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;ske(t,!0);let e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function uke(t,e,r,n,i){r=r||64,t=lF.normalizeInput(t),n&&(n=lF.normalizeInput(n)),i&&(i=lF.normalizeInput(i));let o=cke(r,e,n,i);return Toe(o,t),lke(o)}function VSt(t,e,r,n,i){let o=uke(t,e,r,n,i);return lF.toHex(o)}dke.exports={blake2b:uke,blake2bHex:VSt,blake2bInit:cke,blake2bUpdate:Toe,blake2bFinal:lke}});var vke=de((qSr,wke)=>{var pke=Aoe();function KSt(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function lb(t,e,r,n,i,o){Bn[t]=Bn[t]+Bn[e]+i,Bn[n]=uF(Bn[n]^Bn[t],16),Bn[r]=Bn[r]+Bn[n],Bn[e]=uF(Bn[e]^Bn[r],12),Bn[t]=Bn[t]+Bn[e]+o,Bn[n]=uF(Bn[n]^Bn[t],8),Bn[r]=Bn[r]+Bn[n],Bn[e]=uF(Bn[e]^Bn[r],7)}function uF(t,e){return t>>>e^t<<32-e}var hke=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l0=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Bn=new Uint32Array(16),gs=new Uint32Array(16);function mke(t,e){let r=0;for(r=0;r<8;r++)Bn[r]=t.h[r],Bn[r+8]=hke[r];for(Bn[12]^=t.t,Bn[13]^=t.t/4294967296,e&&(Bn[14]=~Bn[14]),r=0;r<16;r++)gs[r]=KSt(t.b,4*r);for(r=0;r<10;r++)lb(0,4,8,12,gs[l0[r*16+0]],gs[l0[r*16+1]]),lb(1,5,9,13,gs[l0[r*16+2]],gs[l0[r*16+3]]),lb(2,6,10,14,gs[l0[r*16+4]],gs[l0[r*16+5]]),lb(3,7,11,15,gs[l0[r*16+6]],gs[l0[r*16+7]]),lb(0,5,10,15,gs[l0[r*16+8]],gs[l0[r*16+9]]),lb(1,6,11,12,gs[l0[r*16+10]],gs[l0[r*16+11]]),lb(2,7,8,13,gs[l0[r*16+12]],gs[l0[r*16+13]]),lb(3,4,9,14,gs[l0[r*16+14]],gs[l0[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=Bn[r]^Bn[r+8]}function bke(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");let r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(hke),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(_oe(n,e),n.c=64),n}function _oe(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,mke(t,!1),t.c=0),t.b[t.c++]=e[r]}function yke(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;mke(t,!0);let e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function gke(t,e,r){r=r||32,t=pke.normalizeInput(t);let n=bke(r,e);return _oe(n,t),yke(n)}function qSt(t,e,r){let n=gke(t,e,r);return pke.toHex(n)}wke.exports={blake2s:gke,blake2sHex:qSt,blake2sInit:bke,blake2sUpdate:_oe,blake2sFinal:yke}});var xke=de((WSr,Eke)=>{var _I=fke(),SI=vke();Eke.exports={blake2b:_I.blake2b,blake2bHex:_I.blake2bHex,blake2bInit:_I.blake2bInit,blake2bUpdate:_I.blake2bUpdate,blake2bFinal:_I.blake2bFinal,blake2s:SI.blake2s,blake2sHex:SI.blake2sHex,blake2sInit:SI.blake2sInit,blake2sUpdate:SI.blake2sUpdate,blake2sFinal:SI.blake2sFinal}});function FI(t){let[e,r]=t.split(nMe);return{namespace:e,reference:r}}function xF(t){let[e,r,n]=t.split(nMe);return{namespace:e,reference:r,address:n}}function AF(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...i.accounts)}),r}function iMe(t,e){return t.includes(":")?[t]:e.chains||[]}function HI(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ah(){return!(0,hf.getDocument)()&&!!(0,hf.getNavigator)()&&navigator.product===eIt}function oMe(){return ah()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function aMe(){return ah()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function o8(){return!HI()&&!!(0,hf.getNavigator)()&&!!(0,hf.getDocument)()}function zI(){return ah()?Fc.reactNative:HI()?Fc.node:o8()?Fc.browser:Fc.unknown}function Xoe(){var t;try{return ah()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function rIt(t,e){let r=new URLSearchParams(t);for(let n of Object.keys(e).sort())if(e.hasOwnProperty(n)){let i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function sMe(t){var e,r;let n=eae();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),XSt(Tke(Tke({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function eae(){return(0,tMe.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function nIt(){if(zI()===Fc.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:r,Version:n}=global.Platform;return[r,n].join("-")}let t=cPe();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function iIt(){var t;let e=zI();return e===Fc.browser?[e,((t=(0,hf.getLocation)())==null?void 0:t.host)||"unknown"].join(":"):e}function tae(t,e,r){let n=nIt(),i=iIt();return[[t,e].join("-"),[tIt,r].join("-"),n,i].join("/")}function cMe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:o,useOnCloseEvent:a,bundleId:s,packageName:c}){let l=r.split("?"),u=tae(t,e,n),d={auth:i,ua:u,projectId:o,useOnCloseEvent:a||void 0,packageName:c||void 0,bundleId:s||void 0},f=rIt(l[1]||"",d);return l[0]+"?"+f}function Xg(t,e){return t.filter(r=>e.includes(r)).length===t.length}function TF(t){return Object.fromEntries(t.entries())}function _F(t){return new Map(Object.entries(t))}function sh(t=ih.FIVE_MINUTES,e){let r=(0,ih.toMiliseconds)(t||ih.FIVE_MINUTES),n,i,o,a;return{resolve:s=>{o&&n&&(clearTimeout(o),n(s),a=Promise.resolve(s))},reject:s=>{o&&i&&(clearTimeout(o),i(s))},done:()=>new Promise((s,c)=>{if(a)return s(a);o=setTimeout(()=>{let l=new Error(e);a=Promise.reject(l),c(l)},r),n=s,i=c})}}function mf(t,e,r){return new Promise(async(n,i)=>{let o=setTimeout(()=>i(new Error(r)),e);try{let a=await t;n(a)}catch(a){i(a)}clearTimeout(o)})}function lMe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function uMe(t){return lMe("topic",t)}function dMe(t){return lMe("id",t)}function SF(t){let[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Ko(t,e){return(0,ih.fromMiliseconds)((e||Date.now())+(0,ih.toMiliseconds)(t))}function V1(t){return Date.now()>=(0,ih.toMiliseconds)(t)}function Ln(t,e){return`${t}${e?`:${e}`:""}`}function n8(t=[],e=[]){return[...new Set([...t,...e])]}async function fMe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;let i=typeof r=="string"?JSON.parse(r):r,o=i?.href;if(typeof o!="string")return;let a=oIt(o,t,e),s=zI();if(s===Fc.browser){if(!((n=(0,hf.getDocument)())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}aIt(a)}else s===Fc.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function oIt(t,e,r){let n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){let o=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${o}${lIt(n,!0)}`}else i=`${i}/wc?${n}`;return i}function aIt(t){let e="_self";cIt()?e="_top":(sIt()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function pMe(t,e){let r="";try{if(o8()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function rae(t,e){if(!t.includes(e))return null;let r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function nae(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function GI(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function sIt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function cIt(){try{return window.self!==window.top}catch{return!1}}function lIt(t,e=!1){let r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function hMe(t){return Buffer.from(t,"base64").toString("utf-8")}function mMe(t){return new Promise(e=>setTimeout(e,t))}function bMe(t,e=!1){return e?{h:Number(t&dF),l:Number(t>>Ske&dF)}:{h:Number(t>>Ske&dF)|0,l:Number(t&dF)|0}}function yMe(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:a,l:s}=bMe(t[o],e);[n[o],i[o]]=[a,s]}return[n,i]}function ff(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}function aae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function oh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Wu(t,...e){if(!aae(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sae(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");oh(t.outputLen),oh(t.blockLen)}function vb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cae(t,e){Wu(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function BI(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Yu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Soe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function $1(t,e){return t<<32-e|t>>>e}function wMe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function vIt(t){for(let e=0;e<t.length;e++)t[e]=wMe(t[e]);return t}function DI(t){if(Wu(t),vMe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=EIt[t[r]];return e}function Rke(t){if(t>=th._0&&t<=th._9)return t-th._0;if(t>=th.A&&t<=th.F)return t-(th.A-10);if(t>=th.a&&t<=th.f)return t-(th.a-10)}function lae(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(vMe)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=Rke(t.charCodeAt(o)),s=Rke(t.charCodeAt(o+1));if(a===void 0||s===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=a*16+s}return n}function xIt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function pf(t){return typeof t=="string"&&(t=xIt(t)),Wu(t),t}function e8(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Wu(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function jI(t){let e=n=>t().update(pf(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function AIt(t){let e=(n,i)=>t(i).update(pf(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Xv(t=32){if(Wv&&typeof Wv.getRandomValues=="function")return Wv.getRandomValues(new Uint8Array(t));if(Wv&&typeof Wv.randomBytes=="function")return Uint8Array.from(Wv.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function OIt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let s=(a+8)%10,c=(a+2)%10,l=r[c],u=r[c+1],d=Pke(l,u,1)^r[s],f=Oke(l,u,1)^r[s+1];for(let p=0;p<50;p+=10)t[a+p]^=d,t[a+p+1]^=f}let i=t[2],o=t[3];for(let a=0;a<24;a++){let s=xMe[a],c=Pke(i,o,s),l=Oke(i,o,s),u=EMe[a];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)r[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=RIt[n],t[1]^=PIt[n]}Yu(r)}function MIt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,s,n)}function BIt(t,e,r){return t&e^~t&r}function DIt(t,e,r){return t&e^t&r^e&r}function hb(t,e,r,n,i,o){let a=i[o],s=i[o+1],c=wt[2*t],l=wt[2*t+1],u=wt[2*e],d=wt[2*e+1],f=wt[2*r],p=wt[2*r+1],h=wt[2*n],b=wt[2*n+1],_=iae(c,u,a);l=oae(_,l,d,s),c=_|0,{Dh:b,Dl:h}={Dh:b^l,Dl:h^c},{Dh:b,Dl:h}={Dh:uIt(b,h),Dl:dIt(b)},{h:p,l:f}=ff(p,f,b,h),{Bh:d,Bl:u}={Bh:d^p,Bl:u^f},{Bh:d,Bl:u}={Bh:bb(d,u,24),Bl:yb(d,u,24)},wt[2*t]=c,wt[2*t+1]=l,wt[2*e]=u,wt[2*e+1]=d,wt[2*r]=f,wt[2*r+1]=p,wt[2*n]=h,wt[2*n+1]=b}function mb(t,e,r,n,i,o){let a=i[o],s=i[o+1],c=wt[2*t],l=wt[2*t+1],u=wt[2*e],d=wt[2*e+1],f=wt[2*r],p=wt[2*r+1],h=wt[2*n],b=wt[2*n+1],_=iae(c,u,a);l=oae(_,l,d,s),c=_|0,{Dh:b,Dl:h}={Dh:b^l,Dl:h^c},{Dh:b,Dl:h}={Dh:bb(b,h,16),Dl:yb(b,h,16)},{h:p,l:f}=ff(p,f,b,h),{Bh:d,Bl:u}={Bh:d^p,Bl:u^f},{Bh:d,Bl:u}={Bh:RI(d,u,63),Bl:PI(d,u,63)},wt[2*t]=c,wt[2*t+1]=l,wt[2*e]=u,wt[2*e+1]=d,wt[2*r]=f,wt[2*r+1]=p,wt[2*n]=h,wt[2*n+1]=b}function $It(t,e={},r,n,i){if(oh(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");let{key:o,salt:a,personalization:s}=e;if(o!==void 0&&(o.length<1||o.length>r))throw new Error("key length must be undefined or 1.."+r);if(a!==void 0&&a.length!==n)throw new Error("salt must be undefined or "+n);if(s!==void 0&&s.length!==i)throw new Error("personalization must be undefined or "+i)}function SMe(t){let e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(kIt(r)).toString("hex")}async function qIt(t,e,r,n,i,o){switch(r.t){case"eip191":return await WIt(t,e,r.s);case"eip1271":return await YIt(t,e,r.s,n,i,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function WIt(t,e,r){return(await zie({hash:SMe(e),signature:r})).toLowerCase()===t.toLowerCase()}async function YIt(t,e,r,n,i,o){let a=FI(n);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let s="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:SMe(e)).substring(2),f=s+d+c+u+l,p=await fetch(`${o||KIt}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:JIt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:h}=await p.json();return h?h.slice(0,s.length).toLowerCase()===s.toLowerCase():!1}catch(s){return console.error("isValidEip1271Signature: ",s),!1}}function JIt(){return Date.now()+Math.floor(Math.random()*1e3)}function IMe(t){let e=atob(t),r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);let n=r[0];if(n===0)throw new Error("No signatures found");let i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");let o=Buffer.from(t,"base64").slice(1,65);return Gv.encode(o)}function CMe(t){let e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(o=>o.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);let i=VIt(n,{dkLen:32});return Gv.encode(i)}function uae(t){let e=new Uint8Array(IF(QIt(t)));return Gv.encode(e)}function QIt(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function dae(t){let e=Buffer.from(t,"base64"),r=Jie(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");let n=Kie(r),i=Buffer.from("TX"),o=Buffer.concat([i,Buffer.from(n)]),a=GIt(o);return r6e.encode(a).replace(/=+$/,"")}function Ioe(t){let e=[],r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function RMe(t){let e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Ioe(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(Ioe(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(Ioe(n.length)),i.push(n);let o=Buffer.concat(i),a=IF(o);return Buffer.from(a).toString("hex").toUpperCase()}async function pae(t){let{cacao:e,projectId:r}=t,{s:n,p:i}=e,o=hae(i,i.iss),a=$I(i.iss);return await qIt(a,o,n,CF(i.iss),r)}function sCt(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function cCt(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function i8(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");let e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{let n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{let o=n[i];if(!Array.isArray(o))throw new Error(`Ability limits ${i} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);o.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function lCt(t,e,r,n={}){return r?.sort((i,o)=>i.localeCompare(o)),{att:{[t]:uCt(e,r,n)}}}function uCt(t,e,r={}){e=e?.sort((i,o)=>i.localeCompare(o));let n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function PMe(t){return i8(t),`urn:recap:${sCt(t).replace(/=/g,"")}`}function UI(t){let e=cCt(t.replace("urn:recap:",""));return i8(e),e}function OMe(t,e,r){let n=lCt(t,e,r);return PMe(n)}function dCt(t){return t&&t.includes("urn:recap:")}function NMe(t,e){let r=UI(t),n=UI(e),i=fCt(r,n);return PMe(i)}function fCt(t,e){i8(t),i8(e);let r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,o)=>i.localeCompare(o)),n={att:{}};return r.forEach(i=>{var o,a;Object.keys(((o=t.att)==null?void 0:o[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((s,c)=>s.localeCompare(c)).forEach(s=>{var c,l;n.att[i]=iCt(nCt({},n.att[i]),{[s]:((c=t.att[i])==null?void 0:c[s])||((l=e.att[i])==null?void 0:l[s])})})}),n}function pCt(t="",e){i8(e);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;let n=[],i=0;Object.keys(e.att).forEach(s=>{let c=Object.keys(e.att[s]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));let l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});let u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${s}'.`));n.push(u.join(", ").replace(".,","."))});let o=n.join(" "),a=`${r}${o}`;return`${t?t+" ":""}${a}`}function mae(t){var e;let r=UI(t);i8(r);let n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function bae(t){let e=UI(t);i8(e);let r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var o;(o=i?.[0])!=null&&o.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function VI(t){if(!t)return;let e=t?.[t.length-1];return dCt(e)?e:void 0}function kMe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Goe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Coe(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Uc(t,...e){if(!kMe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Mke(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hCt(t,e){Uc(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function wb(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qv(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function mCt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function yCt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function joe(t){if(typeof t=="string")t=yCt(t);else if(kMe(t))t=$oe(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function gCt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function wCt(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function Bke(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!xCt(e))throw new Error("invalid output, must be aligned");return e}function Dke(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,s,n)}function ECt(t,e,r){Goe(r);let n=new Uint8Array(16),i=mCt(n);return Dke(i,0,BigInt(e),r),Dke(i,8,BigInt(t),r),n}function xCt(t){return t.byteOffset%4===0}function $oe(t){return Uint8Array.from(t)}function Dn(t,e){return t<<e|t>>>32-e}function Voe(t){return t.byteOffset%4===0}function CCt(t,e,r,n,i,o,a,s){let c=i.length,l=new Uint8Array(fF),u=wb(l),d=Voe(i)&&Voe(o),f=d?wb(i):Lke,p=d?wb(o):Lke;for(let h=0;h<c;a++){if(t(e,r,n,u,a,s),a>=BMe)throw new Error("arx: counter overflow");let b=Math.min(fF,c-h);if(d&&b===fF){let _=h/4;if(h%4!==0)throw new Error("arx: invalid block position");for(let A=0,C;A<ICt;A++)C=_+A,p[C]=f[C]^u[A];h+=fF;continue}for(let _=0,A;_<b;_++)A=h+_,o[A]=i[A]^l[_];h+=b}}function RCt(t,e){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:a}=gCt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Coe(i),Coe(a),Goe(o),Goe(r),(s,c,l,u,d=0)=>{Uc(s),Uc(c),Uc(l);let f=l.length;if(u===void 0&&(u=new Uint8Array(f)),Uc(u),Coe(d),d<0||d>=BMe)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);let p=[],h=s.length,b,_;if(h===32)p.push(b=$oe(s)),_=SCt;else if(h===16&&r)b=new Uint8Array(32),b.set(s),b.set(s,16),_=_Ct,p.push(b);else throw new Error(`arx: invalid 32-byte key, got length=${h}`);Voe(c)||p.push(c=$oe(c));let A=wb(b);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(_,A,wb(c.subarray(0,16)),A),c=c.subarray(16)}let C=16-i;if(C!==c.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){let M=new Uint8Array(12);M.set(c,o?0:12-c.length),c=M,p.push(c)}let R=wb(c);return CCt(t,_,A,R,l,u,d,a),Qv(...p),u}}function PCt(t){let e=(n,i)=>t(i).update(joe(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function NCt(t,e,r,n,i,o=20){let a=t[0],s=t[1],c=t[2],l=t[3],u=e[0],d=e[1],f=e[2],p=e[3],h=e[4],b=e[5],_=e[6],A=e[7],C=i,R=r[0],M=r[1],U=r[2],F=a,z=s,N=c,k=l,O=u,w=d,S=f,T=p,m=h,y=b,E=_,v=A,x=C,g=R,P=M,B=U;for(let L=0;L<o;L+=2)F=F+O|0,x=Dn(x^F,16),m=m+x|0,O=Dn(O^m,12),F=F+O|0,x=Dn(x^F,8),m=m+x|0,O=Dn(O^m,7),z=z+w|0,g=Dn(g^z,16),y=y+g|0,w=Dn(w^y,12),z=z+w|0,g=Dn(g^z,8),y=y+g|0,w=Dn(w^y,7),N=N+S|0,P=Dn(P^N,16),E=E+P|0,S=Dn(S^E,12),N=N+S|0,P=Dn(P^N,8),E=E+P|0,S=Dn(S^E,7),k=k+T|0,B=Dn(B^k,16),v=v+B|0,T=Dn(T^v,12),k=k+T|0,B=Dn(B^k,8),v=v+B|0,T=Dn(T^v,7),F=F+w|0,B=Dn(B^F,16),E=E+B|0,w=Dn(w^E,12),F=F+w|0,B=Dn(B^F,8),E=E+B|0,w=Dn(w^E,7),z=z+S|0,x=Dn(x^z,16),v=v+x|0,S=Dn(S^v,12),z=z+S|0,x=Dn(x^z,8),v=v+x|0,S=Dn(S^v,7),N=N+T|0,g=Dn(g^N,16),m=m+g|0,T=Dn(T^m,12),N=N+T|0,g=Dn(g^N,8),m=m+g|0,T=Dn(T^m,7),k=k+O|0,P=Dn(P^k,16),y=y+P|0,O=Dn(O^y,12),k=k+O|0,P=Dn(P^k,8),y=y+P|0,O=Dn(O^y,7);let I=0;n[I++]=a+F|0,n[I++]=s+z|0,n[I++]=c+N|0,n[I++]=l+k|0,n[I++]=u+O|0,n[I++]=d+w|0,n[I++]=f+S|0,n[I++]=p+T|0,n[I++]=h+m|0,n[I++]=b+y|0,n[I++]=_+E|0,n[I++]=A+v|0,n[I++]=C+x|0,n[I++]=R+g|0,n[I++]=M+P|0,n[I++]=U+B|0}function Fke(t,e,r,n,i){let o=t(e,r,BCt),a=OCt.create(o);i&&Uke(a,i),Uke(a,n);let s=ECt(n.length,i?i.length:0,!0);a.update(s);let c=a.digest();return Qv(o,s),c}function LCt(t,e,r){return sae(t),r===void 0&&(r=new Uint8Array(t.outputLen)),RF(t,pf(r),pf(e))}function UCt(t,e,r,n=32){sae(t),oh(n);let i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");let o=Math.ceil(n/i);r===void 0&&(r=Hke);let a=new Uint8Array(o*i),s=RF.create(t,e),c=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let u=0;u<o;u++)Roe[0]=u+1,c.update(u===0?Hke:l).update(r).update(Roe).digestInto(l),a.set(l,i*u),s._cloneInto(c);return s.destroy(),c.destroy(),Yu(l,Roe),a.slice(0,n)}function wF(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function pF(t){let e=t.toString(16);return e.length&1?"0"+e:e}function LMe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?yae:BigInt("0x"+t)}function OF(t){return LMe(DI(t))}function vF(t){return Wu(t),LMe(DI(Uint8Array.from(t).reverse()))}function gae(t,e){return lae(t.toString(16).padStart(e*2,"0"))}function wae(t,e){return gae(t,e).reverse()}function Lc(t,e,r){let n;if(typeof e=="string")try{n=lae(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(aae(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function HCt(t,e,r){return Poe(t)&&Poe(e)&&Poe(r)&&e<=t&&t<r}function Woe(t,e,r,n){if(!HCt(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function zCt(t){let e;for(e=0;t>yae;t>>=qoe,e+=1);return e}function GCt(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=f=>new Uint8Array(f),i=f=>Uint8Array.of(f),o=n(t),a=n(t),s=0,c=()=>{o.fill(1),a.fill(0),s=0},l=(...f)=>r(a,o,...f),u=(f=n(0))=>{a=l(i(0),f),o=l(),f.length!==0&&(a=l(i(1),f),o=l())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,p=[];for(;f<e;){o=l();let h=o.slice();p.push(h),f+=o.length}return e8(...p)};return(f,p)=>{c(),u(f);let h;for(;!(h=p(d()));)u();return c(),h}}function kF(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,o,a){let s=t[i];if(a&&s===void 0)return;let c=typeof s;if(c!==o||s===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}function zke(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}function qu(t,e){let r=t%e;return r>=Hc?r:e+r}function df(t,e,r){let n=t;for(;e-- >Hc;)n*=n,n%=r;return n}function Gke(t,e){if(t===Hc)throw new Error("invert: expected non-zero number");if(e<=Hc)throw new Error("invert: expected positive modulus, got "+e);let r=qu(t,e),n=e,i=Hc,o=J0;for(;r!==Hc;){let a=n/r,s=n%r,c=i-o*a;n=r,r=s,i=o,o=c}if(n!==J0)throw new Error("invert: does not exist");return qu(i,e)}function zMe(t,e){let r=(t.ORDER+J0)/UMe,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function $Ct(t,e){let r=(t.ORDER-FMe)/HMe,n=t.mul(e,t8),i=t.pow(n,r),o=t.mul(e,i),a=t.mul(t.mul(o,t8),i),s=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(s),e))throw new Error("Cannot find square root");return s}function VCt(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-J0,r=0;for(;e%t8===Hc;)e/=t8,r++;let n=t8,i=e9(t);for(;jke(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return zMe;let o=i.pow(n,e),a=(e+J0)/t8;return function(s,c){if(s.is0(c))return c;if(jke(s,c)!==1)throw new Error("Cannot find square root");let l=r,u=s.mul(s.ONE,o),d=s.pow(c,e),f=s.pow(c,a);for(;!s.eql(d,s.ONE);){if(s.is0(d))return s.ZERO;let p=1,h=s.sqr(d);for(;!s.eql(h,s.ONE);)if(p++,h=s.sqr(h),p===l)throw new Error("Cannot find square root");let b=J0<<BigInt(l-p-1),_=s.pow(u,b);l=p,u=s.sqr(_),d=s.mul(d,u),f=s.mul(f,_)}return f}}function KCt(t){return t%UMe===jCt?zMe:t%HMe===FMe?$Ct:VCt(t)}function WCt(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=qCt.reduce((n,i)=>(n[i]="function",n),e);return kF(t,r),t}function YCt(t,e,r){if(r<Hc)throw new Error("invalid exponent, negatives unsupported");if(r===Hc)return t.ONE;if(r===J0)return e;let n=t.ONE,i=e;for(;r>Hc;)r&J0&&(n=t.mul(n,i)),i=t.sqr(i),r>>=J0;return n}function GMe(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((a,s,c)=>t.is0(s)?a:(n[c]=a,t.mul(a,s)),t.ONE),o=t.inv(i);return e.reduceRight((a,s,c)=>t.is0(s)?a:(n[c]=t.mul(a,n[c]),t.mul(a,s)),o),n}function jke(t,e){let r=(t.ORDER-J0)/t8,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function JCt(t,e){e!==void 0&&oh(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function e9(t,e,r=!1,n={}){if(t<=Hc)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let u=e;u.BITS&&(i=u.BITS),u.sqrt&&(o=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(o=n.sqrt);let{nBitLength:a,nByteLength:s}=JCt(t,i);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c,l=Object.freeze({ORDER:t,isLE:r,BITS:a,BYTES:s,MASK:NF(a),ZERO:Hc,ONE:J0,create:u=>qu(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Hc<=u&&u<t},is0:u=>u===Hc,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&J0)===J0,neg:u=>qu(-u,t),eql:(u,d)=>u===d,sqr:u=>qu(u*u,t),add:(u,d)=>qu(u+d,t),sub:(u,d)=>qu(u-d,t),mul:(u,d)=>qu(u*d,t),pow:(u,d)=>YCt(l,u,d),div:(u,d)=>qu(u*Gke(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>Gke(u,t),sqrt:o||(u=>(c||(c=KCt(t)),c(l,u))),toBytes:u=>r?wae(u,s):gae(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return r?vF(u):OF(u)},invertBatch:u=>GMe(l,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(l)}function jMe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function $Me(t){let e=jMe(t);return e+Math.ceil(e/2)}function QCt(t,e,r=!1){let n=t.length,i=jMe(e),o=$Me(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let a=r?vF(t):OF(t),s=qu(a,e-J0)+J0;return r?wae(s,i):gae(s,i)}function OI(t,e){let r=e.negate();return t?r:e}function ZCt(t,e,r){let n=e==="pz"?o=>o.pz:o=>o.ez,i=GMe(t.Fp,r.map(n));return r.map((o,a)=>o.toAffine(i[a])).map(t.fromAffine)}function VMe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ooe(t,e){VMe(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,o=NF(t),a=BigInt(t);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:a}}function $ke(t,e,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(t&i),c=t>>a;s>n&&(s-=o,c+=r8);let l=e*n,u=l+Math.abs(s)-1,d=s===0,f=s<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:p,offsetF:l}}function XCt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function eRt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function koe(t){return KMe.get(t)||1}function Vke(t){if(t!==Zv)throw new Error("invalid wNAF")}function tRt(t,e){return{constTimeNegate:OI,hasPrecomputes(r){return koe(r)!==1},unsafeLadder(r,n,i=t.ZERO){let o=r;for(;n>Zv;)n&r8&&(i=i.add(o)),o=o.double(),n>>=r8;return i},precomputeWindow(r,n){let{windows:i,windowSize:o}=Ooe(n,e),a=[],s=r,c=s;for(let l=0;l<i;l++){c=s,a.push(c);for(let u=1;u<o;u++)c=c.add(s),a.push(c);s=c.double()}return a},wNAF(r,n,i){let o=t.ZERO,a=t.BASE,s=Ooe(r,e);for(let c=0;c<s.windows;c++){let{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:p,offsetF:h}=$ke(i,c,s);i=l,d?a=a.add(OI(p,n[h])):o=o.add(OI(f,n[u]))}return Vke(i),{p:o,f:a}},wNAFUnsafe(r,n,i,o=t.ZERO){let a=Ooe(r,e);for(let s=0;s<a.windows&&i!==Zv;s++){let{nextN:c,offset:l,isZero:u,isNeg:d}=$ke(i,s,a);if(i=c,!u){let f=n[l];o=o.add(d?f.negate():f)}}return Vke(i),o},getPrecomputes(r,n,i){let o=Noe.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(o=i(o)),Noe.set(n,o))),o},wNAFCached(r,n,i){let o=koe(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){let a=koe(r);return a===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(a,this.getPrecomputes(a,r,i),n,o)},setWindowSize(r,n){VMe(n,e),KMe.set(r,n),Noe.delete(r)}}}function rRt(t,e,r,n){let i=e,o=t.ZERO,a=t.ZERO;for(;r>Zv||n>Zv;)r&r8&&(o=o.add(i)),n&r8&&(a=a.add(i)),i=i.double(),r>>=r8,n>>=r8;return{p1:o,p2:a}}function nRt(t,e,r,n){XCt(r,t),eRt(n,e);let i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");let a=t.ZERO,s=zCt(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=NF(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c,f=a;for(let p=d;p>=0;p-=c){u.fill(a);for(let b=0;b<o;b++){let _=n[b],A=Number(_>>BigInt(p)&l);u[A]=u[A].add(r[b])}let h=a;for(let b=u.length-1,_=a;b>0;b--)_=_.add(u[b]),h=h.add(_);if(f=f.add(h),p!==0)for(let b=0;b<c;b++)f=f.double()}return f}function Kke(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return WCt(e),e}else return e9(t)}function iRt(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let a of["p","n","h"]){let s=e[a];if(!(typeof s=="bigint"&&s>Zv))throw new Error(`CURVE.${a} must be positive bigint`)}let n=Kke(e.p,r.Fp),i=Kke(e.n,r.Fn),o=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let a of o)if(!n.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}function oRt(t){return kF(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function aRt(t){let e=oRt(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:o,randomBytes:a}=e,s=n==="x25519";if(!s&&n!=="x448")throw new Error("invalid type");let c=a||Xv,l=s?255:448,u=s?32:56,d=BigInt(s?9:5),f=BigInt(s?121665:39081),p=s?hF**BigInt(254):hF**BigInt(447),h=s?BigInt(8)*hF**BigInt(251)-Yv:BigInt(4)*hF**BigInt(445)-Yv,b=p+h+Yv,_=k=>qu(k,r),A=C(d);function C(k){return wae(_(k),u)}function R(k){let O=Lc("u coordinate",k,u);return s&&(O[31]&=127),_(vF(O))}function M(k){return vF(i(Lc("scalar",k,u)))}function U(k,O){let w=N(R(O),M(k));if(w===CI)throw new Error("invalid private or public key received");return C(w)}function F(k){return U(k,A)}function z(k,O,w){let S=_(k*(O-w));return O=_(O-S),w=_(w+S),{x_2:O,x_3:w}}function N(k,O){Woe("u",k,CI,r),Woe("scalar",O,p,b);let w=O,S=k,T=Yv,m=CI,y=k,E=Yv,v=CI;for(let g=BigInt(l-1);g>=CI;g--){let P=w>>g&Yv;v^=P,{x_2:T,x_3:y}=z(v,T,y),{x_2:m,x_3:E}=z(v,m,E),v=P;let B=T+m,I=_(B*B),L=T-m,G=_(L*L),H=I-G,$=y+E,K=y-E,W=_(K*B),J=_($*L),X=W+J,te=W-J;y=_(X*X),E=_(S*_(te*te)),T=_(I*G),m=_(H*(I+_(f*H)))}({x_2:T,x_3:y}=z(v,T,y)),{x_2:m,x_3:E}=z(v,m,E);let x=o(m);return _(T*x)}return{scalarMult:U,scalarMultBase:F,getSharedSecret:(k,O)=>U(k,O),getPublicKey:k=>F(k),utils:{randomPrivateKey:()=>c(u)},GuBytes:A.slice()}}function dRt(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=qMe.p,a=t*t%o*t%o,s=df(a,qke,o)*a%o,c=df(s,sRt,o)*t%o,l=df(c,lRt,o)*c%o,u=df(l,e,o)*l%o,d=df(u,r,o)*u%o,f=df(d,n,o)*d%o,p=df(f,i,o)*f%o,h=df(p,i,o)*f%o,b=df(h,e,o)*l%o;return{pow_p_5_8:df(b,qke,o)*t%o,b2:a}}function fRt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Wke(t){t.lowS!==void 0&&wF("lowS",t.lowS),t.prehash!==void 0&&wF("prehash",t.prehash)}function mRt(t,e,r){function n(i){let o=t.sqr(i),a=t.mul(o,i);return t.add(t.add(a,t.mul(i,e)),r)}return n}function WMe(t,e,r){let{BYTES:n}=t;function i(o){let a;if(typeof o=="bigint")a=o;else{let s=Lc("private key",o);if(e){if(!e.includes(s.length*2))throw new Error("invalid private key");let c=new Uint8Array(n);c.set(s,c.length-s.length),s=c}try{a=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof o}`)}}if(r&&(a=t.create(a)),!t.isValidNot0(a))throw new Error("invalid private key: out of range [1..N-1]");return a}return i}function bRt(t,e={}){let{Fp:r,Fn:n}=iRt("weierstrass",t,e),{h:i,n:o}=t;kF(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:a}=e;if(a&&(!r.is0(t.a)||typeof a.beta!="bigint"||typeof a.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function s(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(N,k,O){let{x:w,y:S}=k.toAffine(),T=r.toBytes(w);if(wF("isCompressed",O),O){s();let m=!r.isOdd(S);return e8(YMe(m),T)}else return e8(Uint8Array.of(4),T,r.toBytes(S))}function l(N){Wu(N);let k=r.BYTES,O=k+1,w=2*k+1,S=N.length,T=N[0],m=N.subarray(1);if(S===O&&(T===2||T===3)){let y=r.fromBytes(m);if(!r.isValid(y))throw new Error("bad point: is not on curve, wrong x");let E=f(y),v;try{v=r.sqrt(E)}catch(g){let P=g instanceof Error?": "+g.message:"";throw new Error("bad point: is not on curve, sqrt error"+P)}s();let x=r.isOdd(v);return(T&1)===1!==x&&(v=r.neg(v)),{x:y,y:v}}else if(S===w&&T===4){let y=r.fromBytes(m.subarray(k*0,k*1)),E=r.fromBytes(m.subarray(k*1,k*2));if(!p(y,E))throw new Error("bad point: is not on curve");return{x:y,y:E}}else throw new Error(`bad point: got length ${S}, expected compressed=${O} or uncompressed=${w}`)}let u=e.toBytes||c,d=e.fromBytes||l,f=mRt(r,t.a,t.b);function p(N,k){let O=r.sqr(k),w=f(N);return r.eql(O,w)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let h=r.mul(r.pow(t.a,mF),hRt),b=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(h,b)))throw new Error("bad curve params: a or b");function _(N,k,O=!1){if(!r.isValid(k)||O&&r.is0(k))throw new Error(`bad point coordinate ${N}`);return k}function A(N){if(!(N instanceof U))throw new Error("ProjectivePoint expected")}let C=zke((N,k)=>{let{px:O,py:w,pz:S}=N;if(r.eql(S,r.ONE))return{x:O,y:w};let T=N.is0();k==null&&(k=T?r.ONE:r.inv(S));let m=r.mul(O,k),y=r.mul(w,k),E=r.mul(S,k);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(E,r.ONE))throw new Error("invZ was invalid");return{x:m,y}}),R=zke(N=>{if(N.is0()){if(e.allowInfinityPoint&&!r.is0(N.py))return;throw new Error("bad point: ZERO")}let{x:k,y:O}=N.toAffine();if(!r.isValid(k)||!r.isValid(O))throw new Error("bad point: x or y not field elements");if(!p(k,O))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function M(N,k,O,w,S){return O=new U(r.mul(O.px,N),O.py,O.pz),k=OI(w,k),O=OI(S,O),k.add(O)}class U{constructor(k,O,w){this.px=_("x",k),this.py=_("y",O,!0),this.pz=_("z",w),Object.freeze(this)}static fromAffine(k){let{x:O,y:w}=k||{};if(!k||!r.isValid(O)||!r.isValid(w))throw new Error("invalid affine point");if(k instanceof U)throw new Error("projective point not allowed");return r.is0(O)&&r.is0(w)?U.ZERO:new U(O,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){return ZCt(U,"pz",k)}static fromBytes(k){return Wu(k),U.fromHex(k)}static fromHex(k){let O=U.fromAffine(d(Lc("pointHex",k)));return O.assertValidity(),O}static fromPrivateKey(k){let O=WMe(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return U.BASE.multiply(O(k))}static msm(k,O){return nRt(U,n,k,O)}precompute(k=8,O=!0){return z.setWindowSize(this,k),O||this.multiply(mF),this}_setWindowSize(k){this.precompute(k)}assertValidity(){R(this)}hasEvenY(){let{y:k}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(k)}equals(k){A(k);let{px:O,py:w,pz:S}=this,{px:T,py:m,pz:y}=k,E=r.eql(r.mul(O,y),r.mul(T,S)),v=r.eql(r.mul(w,y),r.mul(m,S));return E&&v}negate(){return new U(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:O}=t,w=r.mul(O,mF),{px:S,py:T,pz:m}=this,y=r.ZERO,E=r.ZERO,v=r.ZERO,x=r.mul(S,S),g=r.mul(T,T),P=r.mul(m,m),B=r.mul(S,T);return B=r.add(B,B),v=r.mul(S,m),v=r.add(v,v),y=r.mul(k,v),E=r.mul(w,P),E=r.add(y,E),y=r.sub(g,E),E=r.add(g,E),E=r.mul(y,E),y=r.mul(B,y),v=r.mul(w,v),P=r.mul(k,P),B=r.sub(x,P),B=r.mul(k,B),B=r.add(B,v),v=r.add(x,x),x=r.add(v,x),x=r.add(x,P),x=r.mul(x,B),E=r.add(E,x),P=r.mul(T,m),P=r.add(P,P),x=r.mul(P,B),y=r.sub(y,x),v=r.mul(P,g),v=r.add(v,v),v=r.add(v,v),new U(y,E,v)}add(k){A(k);let{px:O,py:w,pz:S}=this,{px:T,py:m,pz:y}=k,E=r.ZERO,v=r.ZERO,x=r.ZERO,g=t.a,P=r.mul(t.b,mF),B=r.mul(O,T),I=r.mul(w,m),L=r.mul(S,y),G=r.add(O,w),H=r.add(T,m);G=r.mul(G,H),H=r.add(B,I),G=r.sub(G,H),H=r.add(O,S);let $=r.add(T,y);return H=r.mul(H,$),$=r.add(B,L),H=r.sub(H,$),$=r.add(w,S),E=r.add(m,y),$=r.mul($,E),E=r.add(I,L),$=r.sub($,E),x=r.mul(g,H),E=r.mul(P,L),x=r.add(E,x),E=r.sub(I,x),x=r.add(I,x),v=r.mul(E,x),I=r.add(B,B),I=r.add(I,B),L=r.mul(g,L),H=r.mul(P,H),I=r.add(I,L),L=r.sub(B,L),L=r.mul(g,L),H=r.add(H,L),B=r.mul(I,H),v=r.add(v,B),B=r.mul($,H),E=r.mul(G,E),E=r.sub(E,B),B=r.mul(G,I),x=r.mul($,x),x=r.add(x,B),new U(E,v,x)}subtract(k){return this.add(k.negate())}is0(){return this.equals(U.ZERO)}multiply(k){let{endo:O}=e;if(!n.isValidNot0(k))throw new Error("invalid scalar: out of range");let w,S,T=m=>z.wNAFCached(this,m,U.normalizeZ);if(O){let{k1neg:m,k1:y,k2neg:E,k2:v}=O.splitScalar(k),{p:x,f:g}=T(y),{p:P,f:B}=T(v);S=g.add(B),w=M(O.beta,x,P,m,E)}else{let{p:m,f:y}=T(k);w=m,S=y}return U.normalizeZ([w,S])[0]}multiplyUnsafe(k){let{endo:O}=e,w=this;if(!n.isValid(k))throw new Error("invalid scalar: out of range");if(k===NI||w.is0())return U.ZERO;if(k===kI)return w;if(z.hasPrecomputes(this))return this.multiply(k);if(O){let{k1neg:S,k1:T,k2neg:m,k2:y}=O.splitScalar(k),{p1:E,p2:v}=rRt(U,w,T,y);return M(O.beta,E,v,S,m)}else return z.wNAFCachedUnsafe(w,k)}multiplyAndAddUnsafe(k,O,w){let S=this.multiplyUnsafe(O).add(k.multiplyUnsafe(w));return S.is0()?void 0:S}toAffine(k){return C(this,k)}isTorsionFree(){let{isTorsionFree:k}=e;return i===kI?!0:k?k(U,this):z.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){let{clearCofactor:k}=e;return i===kI?this:k?k(U,this):this.multiplyUnsafe(i)}toBytes(k=!0){return wF("isCompressed",k),this.assertValidity(),u(U,this,k)}toRawBytes(k=!0){return this.toBytes(k)}toHex(k=!0){return DI(this.toBytes(k))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}U.BASE=new U(t.Gx,t.Gy,r.ONE),U.ZERO=new U(r.ZERO,r.ONE,r.ZERO),U.Fp=r,U.Fn=n;let F=n.BITS,z=tRt(U,e.endo?Math.ceil(F/2):F);return U}function YMe(t){return Uint8Array.of(t?2:3)}function yRt(t,e,r={}){kF(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=e.randomBytes||Xv,i=e.hmac||((w,...S)=>RF(e.hash,w,e8(...S))),{Fp:o,Fn:a}=t,{ORDER:s,BITS:c}=a;function l(w){let S=s>>kI;return w>S}function u(w){return l(w)?a.neg(w):w}function d(w,S){if(!a.isValidNot0(S))throw new Error(`invalid signature ${w}: out of range 1..CURVE.n`)}class f{constructor(S,T,m){d("r",S),d("s",T),this.r=S,this.s=T,m!=null&&(this.recovery=m),Object.freeze(this)}static fromCompact(S){let T=a.BYTES,m=Lc("compactSignature",S,T*2);return new f(a.fromBytes(m.subarray(0,T)),a.fromBytes(m.subarray(T,T*2)))}static fromDER(S){let{r:T,s:m}=nh.toSig(Lc("DER",S));return new f(T,m)}assertValidity(){}addRecoveryBit(S){return new f(this.r,this.s,S)}recoverPublicKey(S){let T=o.ORDER,{r:m,s:y,recovery:E}=this;if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");if(s*pRt<T&&E>1)throw new Error("recovery id is ambiguous for h>1 curve");let v=E===2||E===3?m+s:m;if(!o.isValid(v))throw new Error("recovery id 2 or 3 invalid");let x=o.toBytes(v),g=t.fromHex(e8(YMe((E&1)===0),x)),P=a.inv(v),B=R(Lc("msgHash",S)),I=a.create(-B*P),L=a.create(y*P),G=t.BASE.multiplyUnsafe(I).add(g.multiplyUnsafe(L));if(G.is0())throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,a.neg(this.s),this.recovery):this}toBytes(S){if(S==="compact")return e8(a.toBytes(this.r),a.toBytes(this.s));if(S==="der")return lae(nh.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return DI(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return DI(this.toBytes("compact"))}}let p=WMe(a,r.allowedPrivateKeyLengths,r.wrapPrivateKey),h={isValidPrivateKey(w){try{return p(w),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let w=s;return QCt(n($Me(w)),w)},precompute(w=8,S=t.BASE){return S.precompute(w,!1)}};function b(w,S=!0){return t.fromPrivateKey(w).toBytes(S)}function _(w){if(typeof w=="bigint")return!1;if(w instanceof t)return!0;let S=Lc("key",w).length,T=o.BYTES,m=T+1,y=2*T+1;if(!(r.allowedPrivateKeyLengths||a.BYTES===m))return S===m||S===y}function A(w,S,T=!0){if(_(w)===!0)throw new Error("first arg must be private key");if(_(S)===!1)throw new Error("second arg must be public key");return t.fromHex(S).multiply(p(w)).toBytes(T)}let C=e.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");let S=OF(w),T=w.length*8-c;return T>0?S>>BigInt(T):S},R=e.bits2int_modN||function(w){return a.create(C(w))},M=NF(c);function U(w){return Woe("num < 2^"+c,w,NI,M),a.toBytes(w)}function F(w,S,T=z){if(["recovered","canonical"].some(G=>G in T))throw new Error("sign() legacy options not supported");let{hash:m}=e,{lowS:y,prehash:E,extraEntropy:v}=T;y==null&&(y=!0),w=Lc("msgHash",w),Wke(T),E&&(w=Lc("prehashed msgHash",m(w)));let x=R(w),g=p(S),P=[U(g),U(x)];if(v!=null&&v!==!1){let G=v===!0?n(o.BYTES):v;P.push(Lc("extraEntropy",G))}let B=e8(...P),I=x;function L(G){let H=C(G);if(!a.isValidNot0(H))return;let $=a.inv(H),K=t.BASE.multiply(H).toAffine(),W=a.create(K.x);if(W===NI)return;let J=a.create($*a.create(I+W*g));if(J===NI)return;let X=(K.x===W?0:2)|Number(K.y&kI),te=J;return y&&l(J)&&(te=u(J),X^=1),new f(W,te,X)}return{seed:B,k2sig:L}}let z={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function k(w,S,T=z){let{seed:m,k2sig:y}=F(w,S,T);return GCt(e.hash.outputLen,a.BYTES,i)(m,y)}t.BASE.precompute(8);function O(w,S,T,m=N){let y=w;S=Lc("msgHash",S),T=Lc("publicKey",T),Wke(m);let{lowS:E,prehash:v,format:x}=m;if("strict"in m)throw new Error("options.strict was renamed to lowS");if(x!==void 0&&!["compact","der","js"].includes(x))throw new Error('format must be "compact", "der" or "js"');let g=typeof y=="string"||aae(y),P=!g&&!x&&typeof y=="object"&&y!==null&&typeof y.r=="bigint"&&typeof y.s=="bigint";if(!g&&!P)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let B,I;try{if(P)if(x===void 0||x==="js")B=new f(y.r,y.s);else throw new Error("invalid format");if(g){try{x!=="compact"&&(B=f.fromDER(y))}catch(X){if(!(X instanceof nh.Err))throw X}!B&&x!=="der"&&(B=f.fromCompact(y))}I=t.fromHex(T)}catch{return!1}if(!B||E&&B.hasHighS())return!1;v&&(S=e.hash(S));let{r:L,s:G}=B,H=R(S),$=a.inv(G),K=a.create(H*$),W=a.create(L*$),J=t.BASE.multiplyUnsafe(K).add(I.multiplyUnsafe(W));return J.is0()?!1:a.create(J.x)===L}return Object.freeze({getPublicKey:b,getSharedSecret:A,sign:k,verify:O,utils:h,Point:t,Signature:f})}function gRt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=e9(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function wRt(t){let{CURVE:e,curveOpts:r}=gRt(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function vRt(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function ERt(t){let{CURVE:e,curveOpts:r,ecdsaOpts:n}=wRt(t),i=bRt(e,r),o=yRt(i,n,r);return vRt(t,o)}function Qoe(t,e){let r=n=>ERt({...t,hash:n});return{...r(e),create:r}}function tBe(){let t=Yoe.utils.randomPrivateKey(),e=Yoe.getPublicKey(t);return{privateKey:ys(t,p0),publicKey:ys(e,p0)}}function MF(){let t=Xv(vae);return ys(t,p0)}function rBe(t,e){let r=Yoe.getSharedSecret(Dc(t,p0),Dc(e,p0)),n=FCt(PF,r,void 0,void 0,vae);return ys(n,p0)}function r9(t){let e=PF(Dc(t,p0));return ys(e,p0)}function zc(t){let e=PF(Dc(t,KI));return ys(e,p0)}function nBe(t){return Dc(`${t}`,XMe)}function Eb(t){return Number(ys(t,XMe))}function iBe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function oBe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function aBe(t){let e=nBe(typeof t.type<"u"?t.type:eBe);if(Eb(e)===bf&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?Dc(t.senderPublicKey,p0):void 0,n=typeof t.iv<"u"?Dc(t.iv,p0):Xv(MI),i=Dc(t.symKey,p0),o=DMe(i,n).encrypt(Dc(t.message,KI)),a=uBe({type:e,sealed:o,iv:n,senderPublicKey:r});return t.encoding===ch?iBe(a):a}function sBe(t){let e=Dc(t.symKey,p0),{sealed:r,iv:n}=n9({encoded:t.encoded,encoding:t.encoding}),i=DMe(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return ys(i,KI)}function cBe(t,e){let r=nBe(t9),n=Xv(MI),i=Dc(t,KI),o=uBe({type:r,sealed:i,iv:n});return e===ch?iBe(o):o}function lBe(t,e){let{sealed:r}=n9({encoded:t,encoding:e});return ys(r,KI)}function uBe(t){if(Eb(t.type)===t9)return ys(Qg([t.type,t.sealed]),h0);if(Eb(t.type)===bf){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ys(Qg([t.type,t.senderPublicKey,t.iv,t.sealed]),h0)}return ys(Qg([t.type,t.iv,t.sealed]),h0)}function n9(t){let e=(t.encoding||h0)===ch?oBe(t.encoded):t.encoded,r=Dc(e,h0),n=r.slice(IRt,Yke),i=Yke;if(Eb(n)===bf){let c=i+vae,l=c+MI,u=r.slice(i,c),d=r.slice(c,l),f=r.slice(l);return{type:n,sealed:f,iv:d,senderPublicKey:u}}if(Eb(n)===t9){let c=r.slice(i),l=Xv(MI);return{type:n,sealed:c,iv:l}}let o=i+MI,a=r.slice(i,o),s=r.slice(o);return{type:n,sealed:s,iv:a}}function dBe(t,e){let r=n9({encoded:t,encoding:e?.encoding});return Eae({type:Eb(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?ys(r.senderPublicKey,p0):void 0,receiverPublicKey:e?.receiverPublicKey})}function Eae(t){let e=t?.type||eBe;if(e===bf){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function xae(t){return t.type===bf&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function Aae(t){return t.type===t9}function CRt(t){let e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return Qg([new Uint8Array([4]),e,r])}function fBe(t,e){let[r,n,i]=t.split("."),o=Buffer.from(oBe(i),"base64");if(o.length!==64)throw new Error("Invalid signature length");let a=o.slice(0,32),s=o.slice(32,64),c=`${r}.${n}`,l=PF(c),u=CRt(e);if(!SRt.verify(Qg([a,s]),l,u))throw new Error("Invalid signature");return LS(t).payload}function qI(t){return t?.relay||{protocol:RRt}}function a8(t){let e=tke[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function PRt(t,e="-"){let r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){let o=i.replace(n,""),a=t[i];r[o]=a}}),r}function Tae(t){if(!t.includes("wc:")){let l=hMe(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),o=typeof r<"u"?t.substring(r):"",a=new URLSearchParams(o),s={};a.forEach((l,u)=>{s[u]=l});let c=typeof s.methods=="string"?s.methods.split(","):void 0;return{protocol:n,topic:ORt(i[0]),version:parseInt(i[1],10),symKey:s.symKey,relay:PRt(s),methods:c,expiryTimestamp:s.expiryTimestamp?parseInt(s.expiryTimestamp,10):void 0}}function ORt(t){return t.startsWith("//")?t.substring(2):t}function NRt(t,e="-"){let r="relay",n={};return Object.keys(t).forEach(i=>{let o=i,a=r+e+o;t[o]&&(n[a]=t[o])}),n}function _ae(t){let e=new URLSearchParams,r=NRt(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));let n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function WI(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function i9(t){let e=[];return t.forEach(r=>{let[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function HRt(t){let e=[];return Object.values(t).forEach(r=>{e.push(...i9(r.accounts))}),e}function zRt(t,e){let r=[];return Object.values(t).forEach(n=>{i9(n.accounts).includes(e)&&r.push(...n.methods)}),r}function GRt(t,e){let r=[];return Object.values(t).forEach(n=>{i9(n.accounts).includes(e)&&r.push(...n.events)}),r}function pBe(t){return t.includes(":")}function jRt(t){return pBe(t)?t.split(":")[0]:t}function Zke(t){var e,r,n;let i={};if(!o9(t))return i;for(let[o,a]of Object.entries(t)){let s=pBe(o)?[o]:a.chains,c=a.methods||[],l=a.events||[],u=jRt(o);i[u]=FRt(URt({},i[u]),{chains:n8(s,(e=i[u])==null?void 0:e.chains),methods:n8(c,(r=i[u])==null?void 0:r.methods),events:n8(l,(n=i[u])==null?void 0:n.events)})}return i}function $Rt(t){let e={};return t?.forEach(r=>{var n;let[i,o]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${o}`)}),e}function Sae(t,e){e=e.map(n=>n.replace("did:pkh:",""));let r=$Rt(e);for(let[n,i]of Object.entries(r))i.methods?i.methods=n8(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function hBe(t,e){var r,n,i,o,a,s;let c=Zke(t),l=Zke(e),u={},d=Object.keys(c).concat(Object.keys(l));for(let f of d)u[f]={chains:n8((r=c[f])==null?void 0:r.chains,(n=l[f])==null?void 0:n.chains),methods:n8((i=c[f])==null?void 0:i.methods,(o=l[f])==null?void 0:o.methods),events:n8((a=c[f])==null?void 0:a.events,(s=l[f])==null?void 0:s.events)};return u}function st(t,e){let{message:r,code:n}=KRt[t];return{message:e?`${r} ${e}`:r,code:n}}function si(t,e){let{message:r,code:n}=VRt[t];return{message:e?`${r} ${e}`:r,code:n}}function lh(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function o9(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Vo(t){return typeof t>"u"}function To(t,e){return e&&Vo(t)?!0:typeof t=="string"&&!!t.trim().length}function Iae(t,e){return e&&Vo(t)?!0:typeof t=="number"&&!isNaN(t)}function mBe(t,e){let{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r),o=!0;return Xg(i,n)?(n.forEach(a=>{let{accounts:s,methods:c,events:l}=t.namespaces[a],u=i9(s),d=r[a];(!Xg(iMe(a,d),u)||!Xg(d.methods,c)||!Xg(d.events,l))&&(o=!1)}),o):!1}function EF(t){return To(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function qRt(t){if(To(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&EF(r)}}return!1}function bBe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(To(t,!1)){if(e(t))return!0;let r=hMe(t);return e(r)}}catch{}return!1}function yBe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function gBe(t){return t?.topic}function wBe(t,e){let r=null;return To(t?.publicKey,!1)||(r=st("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Xke(t){let e=!0;return lh(t)?t.length&&(e=t.every(r=>To(r,!1))):e=!1,e}function WRt(t,e,r){let n=null;return lh(e)&&e.length?e.forEach(i=>{n||EF(i)||(n=si("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):EF(t)||(n=si("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function YRt(t,e,r){let n=null;return Object.entries(t).forEach(([i,o])=>{if(n)return;let a=WRt(i,iMe(i,o),`${e} ${r}`);a&&(n=a)}),n}function JRt(t,e){let r=null;return lh(t)?t.forEach(n=>{r||qRt(n)||(r=si("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=si("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function QRt(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=JRt(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function ZRt(t,e){let r=null;return Xke(t?.methods)?Xke(t?.events)||(r=si("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=si("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function vBe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=ZRt(n,`${e}, namespace`);i&&(r=i)}),r}function EBe(t,e,r){let n=null;if(t&&o9(t)){let i=vBe(t,e);i&&(n=i);let o=YRt(t,e,r);o&&(n=o)}else n=st("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function BF(t,e){let r=null;if(t&&o9(t)){let n=vBe(t,e);n&&(r=n);let i=QRt(t,e);i&&(r=i)}else r=st("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Cae(t){return To(t.protocol,!0)}function xBe(t,e){let r=!1;return e&&!t?r=!0:t&&lh(t)&&t.length&&t.forEach(n=>{r=Cae(n)}),r}function ABe(t){return typeof t=="number"}function m0(t){return typeof t<"u"&&typeof t!==null}function TBe(t){return!(!t||typeof t!="object"||!t.code||!Iae(t.code,!1)||!t.message||!To(t.message,!1))}function _Be(t){return!(Vo(t)||!To(t.method,!1))}function SBe(t){return!(Vo(t)||Vo(t.result)&&Vo(t.error)||!Iae(t.id,!1)||!To(t.jsonrpc,!1))}function IBe(t){return!(Vo(t)||!To(t.name,!1))}function Rae(t,e){return!(!EF(e)||!HRt(t).includes(e))}function CBe(t,e,r){return To(r,!1)?zRt(t,e).includes(r):!1}function RBe(t,e,r){return To(r,!1)?GRt(t,e).includes(r):!1}function Pae(t,e,r){let n=null,i=XRt(t),o=ePt(e),a=Object.keys(i),s=Object.keys(o),c=eMe(Object.keys(t)),l=eMe(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Xg(a,s)||(n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${s.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;let f=i9(e[d].accounts);f.includes(d)||(n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),a.forEach(d=>{n||(Xg(i[d].methods,o[d].methods)?Xg(i[d].events,o[d].events)||(n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function XRt(t){let e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function eMe(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function ePt(t){let e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:i9(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(o=>o.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function PBe(t,e){return Iae(t,!1)&&t<=e.max&&t>=e.min}function Oae(){let t=zI();return new Promise(e=>{switch(t){case Fc.browser:e(tPt());break;case Fc.reactNative:e(rPt());break;case Fc.node:e(nPt());break;default:e(!0)}})}function tPt(){return o8()&&navigator?.onLine}async function rPt(){return ah()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function nPt(){return!0}function OBe(t){switch(zI()){case Fc.browser:iPt(t);break;case Fc.reactNative:oPt(t);break;case Fc.node:break}}function iPt(t){!ah()&&o8()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function oPt(t){ah()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function NBe(){var t;return o8()&&(0,hf.getDocument)()?((t=(0,hf.getDocument)())==null?void 0:t.visibilityState)==="visible":!0}function aPt(t){let e=Gv.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function sPt({publicKey:t,signature:e,payload:r}){var n;let i=Zoe(r.method),o=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),a=uPt(r.address),s=r.era==="00"?new Uint8Array([0]):Zoe(r.era);if(s.length!==1&&s.length!==2)throw new Error("Invalid era length");let c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${lPt(r.tip)}`),d=fPt(u),f=new Uint8Array([0,...t,a,...e,...s,...l,...d,...i]),p=dPt(f.length+1);return new Uint8Array([...p,o,...f])}function cPt(t){let e=Zoe(t),r=(0,rMe.blake2b)(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function Zoe(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function lPt(t){return t.startsWith("0x")?t.slice(2):t}function uPt(t){let e=Gv.decode(t)[0];return e===42?0:e===60?2:1}function dPt(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){let e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){let e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function fPt(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){let e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){let e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function kBe(t){let e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=aPt(t.transaction.address),n=sPt({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return cPt(i)}var ih,hf,tMe,rMe,nMe,WSt,YSt,JSt,Ake,QSt,ZSt,Boe,Tke,XSt,_ke,eIt,Fc,tIt,bF,dF,Ske,Ike,Cke,bb,yb,RI,PI,uIt,dIt,fIt,pIt,hIt,mIt,iae,oae,bIt,yIt,gIt,wIt,Wv,gMe,rh,gb,vMe,EIt,th,Jv,TIt,II,_It,SIt,IIt,CIt,EMe,xMe,AMe,TMe,RIt,PIt,Pke,Oke,Doe,NIt,kIt,yF,ub,u0,d0,LIt,db,Loe,_Me,UIt,FIt,fb,pb,LI,Uoe,f0,Foe,IF,HIt,zIt,GIt,jIt,wa,wt,Hoe,zoe,VIt,KIt,ZIt,XIt,eCt,Nke,tCt,rCt,kke,nCt,iCt,oCt,fae,aCt,CF,$I,hae,bCt,vCt,MMe,ACt,TCt,_Ct,SCt,fF,ICt,BMe,Lke,ws,Koe,OCt,kCt,MCt,Uke,BCt,DCt,DMe,gF,RF,Roe,Hke,FCt,PF,yae,qoe,Poe,NF,Hc,J0,t8,jCt,UMe,FMe,HMe,qCt,Zv,r8,Noe,KMe,CI,Yv,hF,sRt,qke,cRt,lRt,uRt,qMe,Yoe,Joe,nh,NI,kI,pRt,mF,hRt,JMe,QMe,ZMe,xRt,ARt,TRt,_Rt,SRt,XMe,p0,h0,ch,KI,eBe,bf,t9,IRt,Yke,MI,vae,RRt,kRt,MRt,BRt,Jke,DRt,LRt,Qke,URt,FRt,VRt,KRt,Moe,xb,a9=D(()=>{lPe();ih=ve(Av()),hf=ve(xU()),tMe=ve(dPe());VOe();WOe();dNe();n6e();EU();xoe();rke();rMe=ve(xke()),nMe=":";WSt=Object.defineProperty,YSt=Object.defineProperties,JSt=Object.getOwnPropertyDescriptors,Ake=Object.getOwnPropertySymbols,QSt=Object.prototype.hasOwnProperty,ZSt=Object.prototype.propertyIsEnumerable,Boe=(t,e,r)=>e in t?WSt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Tke=(t,e)=>{for(var r in e||(e={}))QSt.call(e,r)&&Boe(t,r,e[r]);if(Ake)for(var r of Ake(e))ZSt.call(e,r)&&Boe(t,r,e[r]);return t},XSt=(t,e)=>YSt(t,JSt(e)),_ke=(t,e,r)=>Boe(t,typeof e!="symbol"?e+"":e,r),eIt="ReactNative",Fc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},tIt="js";bF=class{constructor({limit:e}){_ke(this,"limit"),_ke(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}},dF=BigInt(2**32-1),Ske=BigInt(32);Ike=(t,e,r)=>t>>>r,Cke=(t,e,r)=>t<<32-r|e>>>r,bb=(t,e,r)=>t>>>r|e<<32-r,yb=(t,e,r)=>t<<32-r|e>>>r,RI=(t,e,r)=>t<<64-r|e>>>r-32,PI=(t,e,r)=>t>>>r-32|e<<64-r,uIt=(t,e)=>e,dIt=(t,e)=>t,fIt=(t,e,r)=>t<<r|e>>>32-r,pIt=(t,e,r)=>e<<r|t>>>32-r,hIt=(t,e,r)=>e<<r-32|t>>>64-r,mIt=(t,e,r)=>t<<r-32|e>>>64-r;iae=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),oae=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,bIt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),yIt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,gIt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),wIt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Wv=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;gMe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;rh=gMe?t=>t:t=>wMe(t);gb=gMe?t=>t:vIt,vMe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",EIt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));th={_0:48,_9:57,A:65,F:70,a:97,f:102};Jv=class{};TIt=BigInt(0),II=BigInt(1),_It=BigInt(2),SIt=BigInt(7),IIt=BigInt(256),CIt=BigInt(113),EMe=[],xMe=[],AMe=[];for(let t=0,e=II,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],EMe.push(2*(5*n+r)),xMe.push((t+1)*(t+2)/2%64);let i=TIt;for(let o=0;o<7;o++)e=(e<<II^(e>>SIt)*CIt)%IIt,e&_It&&(i^=II<<(II<<BigInt(o))-II);AMe.push(i)}TMe=yMe(AMe,!0),RIt=TMe[0],PIt=TMe[1],Pke=(t,e,r)=>r>32?hIt(t,e,r):fIt(t,e,r),Oke=(t,e,r)=>r>32?mIt(t,e,r):pIt(t,e,r);Doe=class t extends Jv{constructor(e,r,n,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,oh(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=BI(this.state)}clone(){return this._cloneInto()}keccak(){gb(this.state32),OIt(this.state32,this.rounds),gb(this.state32),this.posOut=0,this.pos=0}update(e){vb(this),e=pf(e),Wu(e);let{blockLen:r,state:n}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(r-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){vb(this,!1),Wu(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return oh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(cae(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Yu(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new t(r,n,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},NIt=(t,e,r)=>jI(()=>new Doe(e,t,r)),kIt=NIt(1,136,256/8);yF=class extends Jv{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Soe(this.buffer)}update(e){vb(this),e=pf(e),Wu(e);let{view:r,buffer:n,blockLen:i}=this,o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let c=Soe(e);for(;i<=o-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vb(this),cae(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,Yu(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let d=a;d<i;d++)r[d]=0;MIt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=Soe(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)s.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=o,e.length=i,e.pos=s,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},ub=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u0=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),d0=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),LIt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),db=new Uint32Array(64),Loe=class extends yF{constructor(e=32){super(64,e,8,!1),this.A=ub[0]|0,this.B=ub[1]|0,this.C=ub[2]|0,this.D=ub[3]|0,this.E=ub[4]|0,this.F=ub[5]|0,this.G=ub[6]|0,this.H=ub[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:c}=this;return[e,r,n,i,o,a,s,c]}set(e,r,n,i,o,a,s,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)db[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let f=db[d-15],p=db[d-2],h=$1(f,7)^$1(f,18)^f>>>3,b=$1(p,17)^$1(p,19)^p>>>10;db[d]=b+db[d-7]+h+db[d-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=$1(s,6)^$1(s,11)^$1(s,25),p=u+f+BIt(s,c,l)+LIt[d]+db[d]|0,h=($1(n,2)^$1(n,13)^$1(n,22))+DIt(n,i,o)|0;u=l,l=c,c=s,s=a+p|0,a=o,o=i,i=n,n=p+h|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,c,l,u)}roundClean(){Yu(db)}destroy(){this.set(0,0,0,0,0,0,0,0),Yu(this.buffer)}},_Me=yMe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),UIt=_Me[0],FIt=_Me[1],fb=new Uint32Array(80),pb=new Uint32Array(80),LI=class extends yF{constructor(e=64){super(128,e,16,!1),this.Ah=d0[0]|0,this.Al=d0[1]|0,this.Bh=d0[2]|0,this.Bl=d0[3]|0,this.Ch=d0[4]|0,this.Cl=d0[5]|0,this.Dh=d0[6]|0,this.Dl=d0[7]|0,this.Eh=d0[8]|0,this.El=d0[9]|0,this.Fh=d0[10]|0,this.Fl=d0[11]|0,this.Gh=d0[12]|0,this.Gl=d0[13]|0,this.Hh=d0[14]|0,this.Hl=d0[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:p,Gl:h,Hh:b,Hl:_}=this;return[e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_]}set(e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=h|0,this.Hh=b|0,this.Hl=_|0}process(e,r){for(let R=0;R<16;R++,r+=4)fb[R]=e.getUint32(r),pb[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let M=fb[R-15]|0,U=pb[R-15]|0,F=bb(M,U,1)^bb(M,U,8)^Ike(M,U,7),z=yb(M,U,1)^yb(M,U,8)^Cke(M,U,7),N=fb[R-2]|0,k=pb[R-2]|0,O=bb(N,k,19)^RI(N,k,61)^Ike(N,k,6),w=yb(N,k,19)^PI(N,k,61)^Cke(N,k,6),S=bIt(z,w,pb[R-7],pb[R-16]),T=yIt(S,F,O,fb[R-7],fb[R-16]);fb[R]=T|0,pb[R]=S|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:p,Fl:h,Gh:b,Gl:_,Hh:A,Hl:C}=this;for(let R=0;R<80;R++){let M=bb(d,f,14)^bb(d,f,18)^RI(d,f,41),U=yb(d,f,14)^yb(d,f,18)^PI(d,f,41),F=d&p^~d&b,z=f&h^~f&_,N=gIt(C,U,z,FIt[R],pb[R]),k=wIt(N,A,M,F,UIt[R],fb[R]),O=N|0,w=bb(n,i,28)^RI(n,i,34)^RI(n,i,39),S=yb(n,i,28)^PI(n,i,34)^PI(n,i,39),T=n&o^n&s^o&s,m=i&a^i&c^a&c;A=b|0,C=_|0,b=p|0,_=h|0,p=d|0,h=f|0,{h:d,l:f}=ff(l|0,u|0,k|0,O|0),l=s|0,u=c|0,s=o|0,c=a|0,o=n|0,a=i|0;let y=iae(O,S,m);n=oae(y,k,w,T),i=y|0}({h:n,l:i}=ff(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=ff(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l:c}=ff(this.Ch|0,this.Cl|0,s|0,c|0),{h:l,l:u}=ff(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=ff(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:h}=ff(this.Fh|0,this.Fl|0,p|0,h|0),{h:b,l:_}=ff(this.Gh|0,this.Gl|0,b|0,_|0),{h:A,l:C}=ff(this.Hh|0,this.Hl|0,A|0,C|0),this.set(n,i,o,a,s,c,l,u,d,f,p,h,b,_,A,C)}roundClean(){Yu(fb,pb)}destroy(){Yu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Uoe=class extends LI{constructor(){super(48),this.Ah=u0[0]|0,this.Al=u0[1]|0,this.Bh=u0[2]|0,this.Bl=u0[3]|0,this.Ch=u0[4]|0,this.Cl=u0[5]|0,this.Dh=u0[6]|0,this.Dl=u0[7]|0,this.Eh=u0[8]|0,this.El=u0[9]|0,this.Fh=u0[10]|0,this.Fl=u0[11]|0,this.Gh=u0[12]|0,this.Gl=u0[13]|0,this.Hh=u0[14]|0,this.Hl=u0[15]|0}},f0=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),Foe=class extends LI{constructor(){super(32),this.Ah=f0[0]|0,this.Al=f0[1]|0,this.Bh=f0[2]|0,this.Bl=f0[3]|0,this.Ch=f0[4]|0,this.Cl=f0[5]|0,this.Dh=f0[6]|0,this.Dl=f0[7]|0,this.Eh=f0[8]|0,this.El=f0[9]|0,this.Fh=f0[10]|0,this.Fl=f0[11]|0,this.Gh=f0[12]|0,this.Gl=f0[13]|0,this.Hh=f0[14]|0,this.Hl=f0[15]|0}},IF=jI(()=>new Loe),HIt=jI(()=>new LI),zIt=jI(()=>new Uoe),GIt=jI(()=>new Foe),jIt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),wa=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),wt=new Uint32Array(32);Hoe=class extends Jv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,oh(e),oh(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=BI(this.buffer)}update(e){vb(this),e=pf(e),Wu(e);let{blockLen:r,buffer:n,buffer32:i}=this,o=e.length,a=e.byteOffset,s=e.buffer;for(let c=0;c<o;){this.pos===r&&(gb(i),this.compress(i,0,!1),gb(i),this.pos=0);let l=Math.min(r-this.pos,o-c),u=a+c;if(l===r&&!(u%4)&&c+l<o){let d=new Uint32Array(s,u,Math.floor((o-c)/4));gb(d);for(let f=0;c+r<o;f+=i.length,c+=r)this.length+=r,this.compress(d,f,!1);gb(d);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){vb(this),cae(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,Yu(this.buffer.subarray(r)),gb(n),this.compress(n,0,!0),gb(n);let i=BI(e);this.get().forEach((o,a)=>i[a]=rh(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:a,pos:s}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(r),e.destroyed=o,e.finished=i,e.length=n,e.pos=s,e.outputLen=a,e}clone(){return this._cloneInto()}},zoe=class extends Hoe{constructor(e={}){let r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=wa[0]|0,this.v0h=wa[1]|0,this.v1l=wa[2]|0,this.v1h=wa[3]|0,this.v2l=wa[4]|0,this.v2h=wa[5]|0,this.v3l=wa[6]|0,this.v3h=wa[7]|0,this.v4l=wa[8]|0,this.v4h=wa[9]|0,this.v5l=wa[10]|0,this.v5h=wa[11]|0,this.v6l=wa[12]|0,this.v6h=wa[13]|0,this.v7l=wa[14]|0,this.v7h=wa[15]|0,$It(r,e,64,16,16);let{key:n,personalization:i,salt:o}=e,a=0;if(n!==void 0&&(n=pf(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,o!==void 0){o=pf(o);let s=BI(o);this.v4l^=rh(s[0]),this.v4h^=rh(s[1]),this.v5l^=rh(s[2]),this.v5h^=rh(s[3])}if(i!==void 0){i=pf(i);let s=BI(i);this.v6l^=rh(s[0]),this.v6h^=rh(s[1]),this.v7l^=rh(s[2]),this.v7h^=rh(s[3])}if(n!==void 0){let s=new Uint8Array(this.blockLen);s.set(n),this.update(s)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:a,v3l:s,v3h:c,v4l:l,v4h:u,v5l:d,v5h:f,v6l:p,v6h:h,v7l:b,v7h:_}=this;return[e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_]}set(e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=a|0,this.v3l=s|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=f|0,this.v6l=p|0,this.v6h=h|0,this.v7l=b|0,this.v7h=_|0}compress(e,r,n){this.get().forEach((c,l)=>wt[l]=c),wt.set(wa,16);let{h:i,l:o}=bMe(BigInt(this.length));wt[24]=wa[8]^o,wt[25]=wa[9]^i,n&&(wt[28]=~wt[28],wt[29]=~wt[29]);let a=0,s=jIt;for(let c=0;c<12;c++)hb(0,4,8,12,e,r+2*s[a++]),mb(0,4,8,12,e,r+2*s[a++]),hb(1,5,9,13,e,r+2*s[a++]),mb(1,5,9,13,e,r+2*s[a++]),hb(2,6,10,14,e,r+2*s[a++]),mb(2,6,10,14,e,r+2*s[a++]),hb(3,7,11,15,e,r+2*s[a++]),mb(3,7,11,15,e,r+2*s[a++]),hb(0,5,10,15,e,r+2*s[a++]),mb(0,5,10,15,e,r+2*s[a++]),hb(1,6,11,12,e,r+2*s[a++]),mb(1,6,11,12,e,r+2*s[a++]),hb(2,7,8,13,e,r+2*s[a++]),mb(2,7,8,13,e,r+2*s[a++]),hb(3,4,9,14,e,r+2*s[a++]),mb(3,4,9,14,e,r+2*s[a++]);this.v0l^=wt[0]^wt[16],this.v0h^=wt[1]^wt[17],this.v1l^=wt[2]^wt[18],this.v1h^=wt[3]^wt[19],this.v2l^=wt[4]^wt[20],this.v2h^=wt[5]^wt[21],this.v3l^=wt[6]^wt[22],this.v3h^=wt[7]^wt[23],this.v4l^=wt[8]^wt[24],this.v4h^=wt[9]^wt[25],this.v5l^=wt[10]^wt[26],this.v5h^=wt[11]^wt[27],this.v6l^=wt[12]^wt[28],this.v6h^=wt[13]^wt[29],this.v7l^=wt[14]^wt[30],this.v7h^=wt[15]^wt[31],Yu(wt)}destroy(){this.destroyed=!0,Yu(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},VIt=AIt(t=>new zoe(t)),KIt="https://rpc.walletconnect.org/v1";ZIt=Object.defineProperty,XIt=Object.defineProperties,eCt=Object.getOwnPropertyDescriptors,Nke=Object.getOwnPropertySymbols,tCt=Object.prototype.hasOwnProperty,rCt=Object.prototype.propertyIsEnumerable,kke=(t,e,r)=>e in t?ZIt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nCt=(t,e)=>{for(var r in e||(e={}))tCt.call(e,r)&&kke(t,r,e[r]);if(Nke)for(var r of Nke(e))rCt.call(e,r)&&kke(t,r,e[r]);return t},iCt=(t,e)=>XIt(t,eCt(e)),oCt="did:pkh:",fae=t=>t?.split(":"),aCt=t=>{let e=t&&fae(t);if(e)return t.includes(oCt)?e[3]:e[1]},CF=t=>{let e=t&&fae(t);if(e)return e[2]+":"+e[3]},$I=t=>{let e=t&&fae(t);if(e)return e.pop()};hae=(t,e)=>{let r=`${t.domain} wants you to sign in with your Ethereum account:`,n=$I(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0,o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,s=`Chain ID: ${aCt(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(b=>`
- ${b}`).join("")}`:void 0,h=VI(t.resources);if(h){let b=UI(h);i=pCt(i,b)}return[r,n,"",i,"",o,a,s,c,l,u,d,f,p].filter(b=>b!=null).join(`
`)};bCt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;vCt=(t,e)=>{function r(n,...i){if(Uc(n),!bCt)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){let l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Uc(l):Uc(l,t.nonceLength)}let o=t.tagLength;o&&i[1]!==void 0&&Uc(i[1]);let a=e(n,...i),s=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Uc(u)}},c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Uc(l),s(a.encrypt.length,u),a.encrypt(l,u)},decrypt(l,u){if(Uc(l),o&&l.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return s(a.decrypt.length,u),a.decrypt(l,u)}}}return Object.assign(r,t),r};MMe=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),ACt=MMe("expand 16-byte k"),TCt=MMe("expand 32-byte k"),_Ct=wb(ACt),SCt=wb(TCt);fF=64,ICt=16,BMe=2**32-1,Lke=new Uint32Array;ws=(t,e)=>t[e++]&255|(t[e++]&255)<<8,Koe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=joe(e),Uc(e,32);let r=ws(e,0),n=ws(e,2),i=ws(e,4),o=ws(e,6),a=ws(e,8),s=ws(e,10),c=ws(e,12),l=ws(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|s<<2)&8191,this.r[7]=(s>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ws(e,16+2*u)}process(e,r,n=!1){let i=n?0:2048,{h:o,r:a}=this,s=a[0],c=a[1],l=a[2],u=a[3],d=a[4],f=a[5],p=a[6],h=a[7],b=a[8],_=a[9],A=ws(e,r+0),C=ws(e,r+2),R=ws(e,r+4),M=ws(e,r+6),U=ws(e,r+8),F=ws(e,r+10),z=ws(e,r+12),N=ws(e,r+14),k=o[0]+(A&8191),O=o[1]+((A>>>13|C<<3)&8191),w=o[2]+((C>>>10|R<<6)&8191),S=o[3]+((R>>>7|M<<9)&8191),T=o[4]+((M>>>4|U<<12)&8191),m=o[5]+(U>>>1&8191),y=o[6]+((U>>>14|F<<2)&8191),E=o[7]+((F>>>11|z<<5)&8191),v=o[8]+((z>>>8|N<<8)&8191),x=o[9]+(N>>>5|i),g=0,P=g+k*s+O*(5*_)+w*(5*b)+S*(5*h)+T*(5*p);g=P>>>13,P&=8191,P+=m*(5*f)+y*(5*d)+E*(5*u)+v*(5*l)+x*(5*c),g+=P>>>13,P&=8191;let B=g+k*c+O*s+w*(5*_)+S*(5*b)+T*(5*h);g=B>>>13,B&=8191,B+=m*(5*p)+y*(5*f)+E*(5*d)+v*(5*u)+x*(5*l),g+=B>>>13,B&=8191;let I=g+k*l+O*c+w*s+S*(5*_)+T*(5*b);g=I>>>13,I&=8191,I+=m*(5*h)+y*(5*p)+E*(5*f)+v*(5*d)+x*(5*u),g+=I>>>13,I&=8191;let L=g+k*u+O*l+w*c+S*s+T*(5*_);g=L>>>13,L&=8191,L+=m*(5*b)+y*(5*h)+E*(5*p)+v*(5*f)+x*(5*d),g+=L>>>13,L&=8191;let G=g+k*d+O*u+w*l+S*c+T*s;g=G>>>13,G&=8191,G+=m*(5*_)+y*(5*b)+E*(5*h)+v*(5*p)+x*(5*f),g+=G>>>13,G&=8191;let H=g+k*f+O*d+w*u+S*l+T*c;g=H>>>13,H&=8191,H+=m*s+y*(5*_)+E*(5*b)+v*(5*h)+x*(5*p),g+=H>>>13,H&=8191;let $=g+k*p+O*f+w*d+S*u+T*l;g=$>>>13,$&=8191,$+=m*c+y*s+E*(5*_)+v*(5*b)+x*(5*h),g+=$>>>13,$&=8191;let K=g+k*h+O*p+w*f+S*d+T*u;g=K>>>13,K&=8191,K+=m*l+y*c+E*s+v*(5*_)+x*(5*b),g+=K>>>13,K&=8191;let W=g+k*b+O*h+w*p+S*f+T*d;g=W>>>13,W&=8191,W+=m*u+y*l+E*c+v*s+x*(5*_),g+=W>>>13,W&=8191;let J=g+k*_+O*b+w*h+S*p+T*f;g=J>>>13,J&=8191,J+=m*d+y*u+E*l+v*c+x*s,g+=J>>>13,J&=8191,g=(g<<2)+g|0,g=g+P|0,P=g&8191,g=g>>>13,B+=g,o[0]=P,o[1]=B,o[2]=I,o[3]=L,o[4]=G,o[5]=H,o[6]=$,o[7]=K,o[8]=W,o[9]=J}finalize(){let{h:e,pad:r}=this,n=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=i,i=e[s]>>>13,e[s]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let s=1;s<10;s++)n[s]=e[s]+i,i=n[s]>>>13,n[s]&=8191;n[9]-=8192;let o=(i^1)-1;for(let s=0;s<10;s++)n[s]&=o;o=~o;for(let s=0;s<10;s++)e[s]=e[s]&o|n[s];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+r[0];e[0]=a&65535;for(let s=1;s<8;s++)a=(e[s]+r[s]|0)+(a>>>16)|0,e[s]=a&65535;Qv(n)}update(e){Mke(this),e=joe(e),Uc(e);let{buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){for(;n<=i-o;o+=n)this.process(e,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Qv(this.h,this.r,this.buffer,this.pad)}digestInto(e){Mke(this),hCt(e,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let a=0;a<8;a++)e[o++]=n[a]>>>0,e[o++]=n[a]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}};OCt=PCt(t=>new Koe(t));kCt=RCt(NCt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),MCt=new Uint8Array(16),Uke=(t,e)=>{t.update(e);let r=e.length%16;r&&t.update(MCt.subarray(r))},BCt=new Uint8Array(32);DCt=t=>(e,r,n)=>({encrypt(i,o){let a=i.length;o=Bke(a+16,o,!1),o.set(i);let s=o.subarray(0,-16);t(e,r,s,s,1);let c=Fke(t,e,r,s,n);return o.set(c,a),Qv(c),o},decrypt(i,o){o=Bke(i.length-16,o,!1);let a=i.subarray(0,-16),s=i.subarray(-16),c=Fke(t,e,r,a,n);if(!wCt(s,c))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),t(e,r,o,o,1),Qv(c),o}}),DMe=vCt({blockSize:64,nonceLength:12,tagLength:16},DCt(kCt)),gF=class extends Jv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,sae(e);let n=pf(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),Yu(o)}update(e){return vb(this),this.iHash.update(e),this}digestInto(e){vb(this),Wu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},RF=(t,e,r)=>new gF(t,e).update(r).digest();RF.create=(t,e)=>new gF(t,e);Roe=Uint8Array.from([0]),Hke=Uint8Array.of();FCt=(t,e,r,n,i)=>UCt(t,LCt(t,e,r),n,i),PF=IF,yae=BigInt(0),qoe=BigInt(1);Poe=t=>typeof t=="bigint"&&yae<=t;NF=t=>(qoe<<BigInt(t))-qoe;Hc=BigInt(0),J0=BigInt(1),t8=BigInt(2),jCt=BigInt(3),UMe=BigInt(4),FMe=BigInt(5),HMe=BigInt(8);qCt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];Zv=BigInt(0),r8=BigInt(1);Noe=new WeakMap,KMe=new WeakMap;BigInt(0),BigInt(1),BigInt(2),BigInt(8);CI=BigInt(0),Yv=BigInt(1),hF=BigInt(2);BigInt(0);sRt=BigInt(1),qke=BigInt(2),cRt=BigInt(3),lRt=BigInt(5),uRt=BigInt(8),qMe={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:uRt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};Yoe=(()=>{let t=qMe.p;return aRt({P:t,type:"x25519",powPminus2:e=>{let{pow_p_5_8:r,b2:n}=dRt(e);return qu(df(r,cRt,t)*n,t)},adjustScalarBytes:fRt})})();Joe=class extends Error{constructor(e=""){super(e)}},nh={Err:Joe,_tlv:{encode:(t,e)=>{let{Err:r}=nh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=pF(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?pF(i.length/2|128):"";return pF(t)+o+i+e},decode(t,e){let{Err:r}=nh,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],o=!!(i&128),a=0;if(!o)a=i;else{let c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)a=a<<8|u;if(n+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}let s=e.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=nh;if(t<NI)throw new e("integer: negative integers are not allowed");let r=pF(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=nh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return OF(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=nh,i=Lc("signature",t),{v:o,l:a}=n.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=nh,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),o=n+i;return e.encode(48,o)}},NI=BigInt(0),kI=BigInt(1),pRt=BigInt(2),mF=BigInt(3),hRt=BigInt(4);JMe={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},QMe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},ZMe={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},xRt=e9(JMe.p),ARt=e9(QMe.p),TRt=e9(ZMe.p),_Rt=Qoe({...JMe,Fp:xRt,lowS:!1},IF);Qoe({...QMe,Fp:ARt,lowS:!1},zIt),Qoe({...ZMe,Fp:TRt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},HIt);SRt=_Rt,XMe="base10",p0="base16",h0="base64pad",ch="base64url",KI="utf8",eBe=0,bf=1,t9=2,IRt=0,Yke=1,MI=12,vae=32;RRt="irn";kRt=Object.defineProperty,MRt=Object.defineProperties,BRt=Object.getOwnPropertyDescriptors,Jke=Object.getOwnPropertySymbols,DRt=Object.prototype.hasOwnProperty,LRt=Object.prototype.propertyIsEnumerable,Qke=(t,e,r)=>e in t?kRt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,URt=(t,e)=>{for(var r in e||(e={}))DRt.call(e,r)&&Qke(t,r,e[r]);if(Jke)for(var r of Jke(e))LRt.call(e,r)&&Qke(t,r,e[r]);return t},FRt=(t,e)=>MRt(t,BRt(e));VRt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},KRt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};Moe={},xb=class{static get(e){return Moe[e]}static set(e,r){Moe[e]=r}static delete(e){delete Moe[e]}}});var MBe,BBe,DBe,LBe,DF,YI,Nae,LF,Ab,JI,UF=D(()=>{MBe="PARSE_ERROR",BBe="INVALID_REQUEST",DBe="METHOD_NOT_FOUND",LBe="INVALID_PARAMS",DF="INTERNAL_ERROR",YI="SERVER_ERROR",Nae=[-32700,-32600,-32601,-32602,-32603],LF=[-32e3,-32099],Ab={[MBe]:{code:-32700,message:"Parse error"},[BBe]:{code:-32600,message:"Invalid Request"},[DBe]:{code:-32601,message:"Method not found"},[LBe]:{code:-32602,message:"Invalid params"},[DF]:{code:-32603,message:"Internal error"},[YI]:{code:-32e3,message:"Server error"}},JI=YI});function pPt(t){return t<=LF[0]&&t>=LF[1]}function FF(t){return Nae.includes(t)}function UBe(t){return typeof t=="number"}function HF(t){return Object.keys(Ab).includes(t)?Ab[t]:Ab[JI]}function zF(t){let e=Object.values(Ab).find(r=>r.code===t);return e||Ab[JI]}function hPt(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!UBe(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(FF(t.error.code)){let e=zF(t.error.code);if(e.message!==Ab[JI].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function kae(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Mae=D(()=>{UF()});var HBe={};lr(HBe,{__assign:()=>Dae,__asyncDelegator:()=>IPt,__asyncGenerator:()=>SPt,__asyncValues:()=>CPt,__await:()=>QI,__awaiter:()=>vPt,__classPrivateFieldGet:()=>NPt,__classPrivateFieldSet:()=>kPt,__createBinding:()=>xPt,__decorate:()=>yPt,__exportStar:()=>APt,__extends:()=>mPt,__generator:()=>EPt,__importDefault:()=>OPt,__importStar:()=>PPt,__makeTemplateObject:()=>RPt,__metadata:()=>wPt,__param:()=>gPt,__read:()=>FBe,__rest:()=>bPt,__spread:()=>TPt,__spreadArrays:()=>_Pt,__values:()=>Lae});function mPt(t,e){Bae(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function bPt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function yPt(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function gPt(t,e){return function(r,n){e(r,n,t)}}function wPt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function vPt(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{l(n.next(u))}catch(d){a(d)}}function c(u){try{l(n.throw(u))}catch(d){a(d)}}function l(u){u.done?o(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})}function EPt(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function xPt(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function APt(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Lae(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function FBe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function TPt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(FBe(arguments[e]));return t}function _Pt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function QI(t){return this instanceof QI?(this.v=t,this):new QI(t)}function SPt(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){n[f]&&(i[f]=function(p){return new Promise(function(h,b){o.push([f,p,h,b])>1||s(f,p)})})}function s(f,p){try{c(n[f](p))}catch(h){d(o[0][3],h)}}function c(f){f.value instanceof QI?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}function l(f){s("next",f)}function u(f){s("throw",f)}function d(f,p){f(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}function IPt(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(a){return(r=!r)?{value:QI(t[i](a)),done:i==="return"}:o?o(a):a}:o}}function CPt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Lae=="function"?Lae(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,c){a=t[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}}function RPt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function PPt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function OPt(t){return t&&t.__esModule?t:{default:t}}function NPt(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function kPt(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Bae,Dae,zBe=D(()=>{Bae=function(t,e){return Bae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Bae(t,e)};Dae=function(){return Dae=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Dae.apply(this,arguments)}});var jBe=de(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.isBrowserCryptoAvailable=Tb.getSubtleCrypto=Tb.getBrowerCrypto=void 0;function Uae(){return(global==null?void 0:global.crypto)||(global==null?void 0:global.msCrypto)||{}}Tb.getBrowerCrypto=Uae;function GBe(){let t=Uae();return t.subtle||t.webkitSubtle}Tb.getSubtleCrypto=GBe;function MPt(){return!!Uae()&&!!GBe()}Tb.isBrowserCryptoAvailable=MPt});var KBe=de(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.isBrowser=_b.isNode=_b.isReactNative=void 0;function $Be(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}_b.isReactNative=$Be;function VBe(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}_b.isNode=VBe;function BPt(){return!$Be()&&!VBe()}_b.isBrowser=BPt});var Fae=de(GF=>{"use strict";Object.defineProperty(GF,"__esModule",{value:!0});var qBe=(zBe(),qy(HBe));qBe.__exportStar(jBe(),GF);qBe.__exportStar(KBe(),GF)});var b0={};lr(b0,{isNodeJs:()=>YBe});var WBe,YBe,JBe=D(()=>{WBe=ve(Fae());O0(b0,ve(Fae()));YBe=WBe.isNode});function Ju(t=3){let e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Qu(t=6){return BigInt(Ju(t))}function Ll(t,e,r){return{id:r||Ju(),jsonrpc:"2.0",method:t,params:e}}function s8(t,e){return{id:t,jsonrpc:"2.0",result:e}}function c8(t,e,r){return{id:t,jsonrpc:"2.0",error:QBe(e,r)}}function QBe(t,e){return typeof t>"u"?HF(DF):(typeof t=="string"&&(t=Object.assign(Object.assign({},HF(YI)),{message:t})),typeof e<"u"&&(t.data=e),FF(t.code)&&(t=zF(t.code)),t)}var ZBe=D(()=>{Mae();UF()});function DPt(t){return t.includes("*")?$F(t):!/\W/g.test(t)}function jF(t){return t==="*"}function $F(t){return jF(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function LPt(t){return!jF(t)&&$F(t)&&!t.split("*")[0].trim()}function UPt(t){return!jF(t)&&$F(t)&&!t.split("*")[1].trim()}var XBe=D(()=>{});var ZI,Hae,VF,XI,eDe=D(()=>{ZI=class{},Hae=class extends ZI{constructor(e){super()}},VF=class extends ZI{constructor(){super()}},XI=class extends VF{constructor(e){super()}}});var tDe=D(()=>{eDe()});function zPt(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function rDe(t,e){let r=zPt(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function GPt(t){return rDe(t,FPt)}function KF(t){return rDe(t,HPt)}function zae(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var FPt,HPt,nDe=D(()=>{FPt="^https?:",HPt="^wss?:"});function Gae(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function s9(t){return Gae(t)&&"method"in t}function Sb(t){return Gae(t)&&(Ul(t)||y0(t))}function Ul(t){return"result"in t}function y0(t){return"error"in t}function jPt(t){return"error"in t&&t.valid===!1}var iDe=D(()=>{});var Fl={};lr(Fl,{DEFAULT_ERROR:()=>JI,IBaseJsonRpcProvider:()=>VF,IEvents:()=>ZI,IJsonRpcConnection:()=>Hae,IJsonRpcProvider:()=>XI,INTERNAL_ERROR:()=>DF,INVALID_PARAMS:()=>LBe,INVALID_REQUEST:()=>BBe,METHOD_NOT_FOUND:()=>DBe,PARSE_ERROR:()=>MBe,RESERVED_ERROR_CODES:()=>Nae,SERVER_ERROR:()=>YI,SERVER_ERROR_CODE_RANGE:()=>LF,STANDARD_ERROR_MAP:()=>Ab,formatErrorMessage:()=>QBe,formatJsonRpcError:()=>c8,formatJsonRpcRequest:()=>Ll,formatJsonRpcResult:()=>s8,getBigIntRpcId:()=>Qu,getError:()=>HF,getErrorByCode:()=>zF,isHttpUrl:()=>GPt,isJsonRpcError:()=>y0,isJsonRpcPayload:()=>Gae,isJsonRpcRequest:()=>s9,isJsonRpcResponse:()=>Sb,isJsonRpcResult:()=>Ul,isJsonRpcValidationInvalid:()=>jPt,isLocalhostUrl:()=>zae,isNodeJs:()=>YBe,isReservedErrorCode:()=>FF,isServerErrorCode:()=>pPt,isValidDefaultRoute:()=>jF,isValidErrorCode:()=>UBe,isValidLeadingWildcardRoute:()=>LPt,isValidRoute:()=>DPt,isValidTrailingWildcardRoute:()=>UPt,isValidWildcardRoute:()=>$F,isWsUrl:()=>KF,parseConnectionError:()=>kae,payloadId:()=>Ju,validateJsonRpcError:()=>hPt});var eC=D(()=>{UF();Mae();JBe();O0(Fl,b0);ZBe();XBe();tDe();nDe();iDe()});var oDe,qF,aDe=D(()=>{oDe=ve(Da());eC();qF=class extends XI{constructor(e){super(e),this.events=new oDe.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Ll(e.method,e.params||[],e.id||Qu().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${e.id}`,o=>{y0(o)?i(o.error):n(o.result)});try{await this.connection.send(e,r)}catch(o){i(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Sb(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}});var cDe=de((PIr,sDe)=>{"use strict";sDe.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var dDe,$Pt,VPt,lDe,uDe,KPt,WF,fDe=D(()=>{dDe=ve(Da());Tv();eC();$Pt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:cDe(),VPt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",lDe=t=>t.split("?")[0],uDe=10,KPt=$Pt(),WF=class{constructor(e){if(this.url=e,this.events=new dDe.EventEmitter,this.registering=!1,!KF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ku(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!KF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{let i=(0,Fl.isReactNative)()?void 0:{rejectUnauthorized:!zae(e)},o=new KPt(e,[],i);VPt()?o.onerror=a=>{let s=a;n(this.emitError(s.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?F1(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let n=this.parseError(r),i=n.message||n.toString(),o=c8(e,i);this.events.emit("payload",o)}parseError(e,r=this.url){return kae(e,lDe(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>uDe&&this.events.setMaxListeners(uDe)}emitError(e){let r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${lDe(this.url)}`));return this.events.emit("register_error",r),r}}});function IOt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,_=0,A=0,C=h.length;A!==C&&h[A]===0;)A++,b++;for(var R=(C-A)*u+1>>>0,M=new Uint8Array(R);A!==C;){for(var U=h[A],F=0,z=R-1;(U!==0||F<_)&&z!==-1;z--,F++)U+=256*M[z]>>>0,M[z]=U%s>>>0,U=U/s>>>0;if(U!==0)throw new Error("Non-zero carry");_=F,A++}for(var N=R-_;N!==R&&M[N]===0;)N++;for(var k=c.repeat(b);N<R;++N)k+=t.charAt(M[N]);return k}function f(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var _=0,A=0;h[b]===c;)_++,b++;for(var C=(h.length-b)*l+1>>>0,R=new Uint8Array(C);h[b];){var M=r[h.charCodeAt(b)];if(M===255)return;for(var U=0,F=C-1;(M!==0||U<A)&&F!==-1;F--,U++)M+=s*R[F]>>>0,R[F]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");A=U,b++}if(h[b]!==" "){for(var z=C-A;z!==C&&R[z]===0;)z++;for(var N=new Uint8Array(_+(C-z)),k=_;z!==C;)N[k++]=R[z++];return N}}}function p(h){var b=f(h);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:p}}function hNt(t){return t.reduce((e,r)=>(e+=fNt[r],e),"")}function mNt(t){let e=[];for(let r of t){let n=pNt[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}function VDe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=ENt;)e[r++]=t&255|mDe,t/=128;for(;t&vNt;)e[r++]=t&255|mDe,t>>>=7;return e[r]=t|0,VDe.bytes=r-n+1,e}function Qae(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw Qae.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&bDe)<<i:(a&bDe)*Math.pow(2,i),i+=7}while(a>=ANt);return Qae.bytes=o-n,r}function QDe(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function GNt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?QDe(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ZDe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}function $Nt(t,e="utf8"){let r=jNt[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?QDe(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function ykt(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function IDe(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function CDe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function Gkt(){}function PDe(t){if(!t||typeof t!="object")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function jkt(t,e,r){return iC(t,e,void 0,void 0,void 0,void 0,r)}function iC(t,e,r,n,i,o,a){let s=a(t,e,r,n,i,o);if(s!==void 0)return s;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return oC(t,e,o,a)}return oC(t,e,o,a)}function oC(t,e,r,n){if(Object.is(t,e))return!0;let i=CDe(t),o=CDe(e);if(i===RDe&&(i=Vae),o===RDe&&(o=Vae),i!==o)return!1;switch(i){case wkt:return t.toString()===e.toString();case vkt:{let c=t.valueOf(),l=e.valueOf();return ykt(c,l)}case Ekt:case Akt:case xkt:return Object.is(t.valueOf(),e.valueOf());case gkt:return t.source===e.source&&t.flags===e.flags;case Ikt:return t===e}r=r??new Map;let a=r.get(t),s=r.get(e);if(a!=null&&s!=null)return a===e;r.set(t,e),r.set(e,t);try{switch(i){case Tkt:{if(t.size!==e.size)return!1;for(let[c,l]of t.entries())if(!e.has(c)||!iC(l,e.get(c),c,t,e,r,n))return!1;return!0}case _kt:{if(t.size!==e.size)return!1;let c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){let d=c[u],f=l.findIndex(p=>iC(d,p,void 0,t,e,r,n));if(f===-1)return!1;l.splice(f,1)}return!0}case Skt:case Okt:case Nkt:case kkt:case Mkt:case Bkt:case Dkt:case Lkt:case Ukt:case Fkt:case Hkt:case zkt:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!iC(t[c],e[c],c,t,e,r,n))return!1;return!0}case Ckt:return t.byteLength!==e.byteLength?!1:oC(new Uint8Array(t),new Uint8Array(e),r,n);case Pkt:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:oC(new Uint8Array(t),new Uint8Array(e),r,n);case Rkt:return t.name===e.name&&t.message===e.message;case Vae:{if(!(oC(t.constructor,e.constructor,r,n)||PDe(t)&&PDe(e)))return!1;let c=[...Object.keys(t),...IDe(t)],l=[...Object.keys(e),...IDe(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){let d=c[u],f=t[d];if(!Object.hasOwn(e,d))return!1;let p=e[d];if(!iC(f,p,d,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function $kt(t,e){return jkt(t,e,Gkt)}var uh,tr,LDe,UDe,FDe,JF,W1,qPt,WPt,YPt,pDe,JPt,QPt,ZPt,XPt,eOt,tOt,rOt,xse,nOt,HDe,iOt,_o,oOt,Zu,aOt,Kae,Pi,YF,sOt,cOt,hDe,zl,lOt,uOt,VIr,dOt,fOt,tC,Ib,yf,pOt,hOt,mOt,Gl,bOt,yOt,gOt,zDe,u9,wOt,vOt,EOt,xOt,gf,q1,dh,d9,Cb,f9,AOt,TOt,_Ot,SOt,COt,ROt,GDe,POt,OOt,qae,Wae,Yae,jDe,Jae,QF,aC,NOt,kOt,xs,MOt,BOt,DOt,LOt,UOt,FOt,HOt,zOt,GOt,jOt,$Ot,VOt,KOt,qOt,WOt,YOt,JOt,QOt,ZOt,XOt,eNt,tNt,rNt,nNt,iNt,oNt,aNt,sNt,cNt,lNt,uNt,dNt,$De,fNt,pNt,bNt,yNt,gNt,mDe,wNt,vNt,ENt,xNt,ANt,bDe,TNt,_Nt,SNt,INt,CNt,RNt,PNt,ONt,NNt,kNt,MNt,KDe,yDe,gDe,Zae,Xae,qDe,ese,WDe,BNt,DNt,LNt,YDe,UNt,JDe,FNt,HNt,zNt,wDe,vDe,jae,jNt,VNt,KNt,K1,tse,qNt,WNt,vs,rse,YNt,JNt,QNt,EDe,ZNt,XNt,nse,ekt,tkt,Hl,ise,rkt,nkt,ikt,xDe,okt,akt,ose,c9,ADe,Xu,ase,skt,ckt,l9,sse,lkt,ukt,dkt,TDe,fkt,pkt,cse,rC,$ae,mi,lse,hkt,_De,mkt,bkt,use,SDe,Un,dse,gkt,wkt,vkt,Ekt,RDe,xkt,Akt,Tkt,_kt,Skt,Ikt,Ckt,Vae,Rkt,Pkt,Okt,Nkt,kkt,Mkt,Bkt,Dkt,Lkt,Ukt,Fkt,Hkt,zkt,Vkt,ODe,Kkt,qkt,fse,NDe,Gc,Y1,Wkt,Ykt,dn,pse,Jkt,Qkt,Es,hse,Zkt,Xkt,g0,mse,eMt,tMt,ea,bse,rMt,nMt,kDe,yse,iMt,MDe,oMt,aMt,gse,nC,Wa,wse,sMt,BDe,cMt,lMt,vse,DDe,Ri,Ese,XDe,eLe=D(()=>{uh=ve(Da());kCe();QCe();Ene();xne();tr=ve(Av());Tv();EU();EU();a9();xoe();aDe();eC();fDe();LDe=ve(xU()),UDe="wc",FDe=2,JF="core",W1=`${UDe}@2:${JF}:`,qPt={name:JF,logger:"error"},WPt={database:":memory:"},YPt="crypto",pDe="client_ed25519_seed",JPt=tr.ONE_DAY,QPt="keychain",ZPt="0.3",XPt="messages",eOt="0.3",tOt=tr.SIX_HOURS,rOt="publisher",xse="irn",nOt="error",HDe="wss://relay.walletconnect.org",iOt="relayer",_o={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},oOt="_subscription",Zu={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},aOt=.1,Kae="2.21.8",Pi={link_mode:"link_mode",relay:"relay"},YF={inbound:"inbound",outbound:"outbound"},sOt="0.3",cOt="WALLETCONNECT_CLIENT_ID",hDe="WALLETCONNECT_LINK_MODE_APPS",zl={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},lOt="subscription",uOt="0.3",VIr=tr.FIVE_SECONDS*1e3,dOt="pairing",fOt="0.3",tC={wc_pairingDelete:{req:{ttl:tr.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:tr.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:tr.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:tr.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:tr.ONE_DAY,prompt:!1,tag:0},res:{ttl:tr.ONE_DAY,prompt:!1,tag:0}}},Ib={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},yf={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},pOt="history",hOt="0.3",mOt="expirer",Gl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},bOt="0.3",yOt="verify-api",gOt="https://verify.walletconnect.com",zDe="https://verify.walletconnect.org",u9=zDe,wOt=`${u9}/v3`,vOt=[gOt,zDe],EOt="echo",xOt="https://echo.walletconnect.com",gf={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},q1={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},dh={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},d9={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Cb={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},f9={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},AOt=.1,TOt="event-client",_Ot=86400,SOt="https://pulse.walletconnect.org/batch";COt=IOt,ROt=COt,GDe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},POt=t=>new TextEncoder().encode(t),OOt=t=>new TextDecoder().decode(t),qae=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Wae=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return jDe(this,e)}},Yae=class{constructor(e){this.decoders=e}or(e){return jDe(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},jDe=(t,e)=>new Yae({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Jae=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new qae(e,r,n),this.decoder=new Wae(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},QF=({name:t,prefix:e,encode:r,decode:n})=>new Jae(t,e,r,n),aC=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=ROt(r,e);return QF({prefix:t,name:e,encode:n,decode:o=>GDe(i(o))})},NOt=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),s=0,c=0,l=0;for(let u=0;u<o;++u){let d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,s+=r,s>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return a},kOt=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",a=0,s=0;for(let c=0;c<t.length;++c)for(s=s<<8|t[c],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},xs=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>QF({prefix:e,name:t,encode(i){return kOt(i,n,r)},decode(i){return NOt(i,n,r,t)}}),MOt=QF({prefix:"\0",name:"identity",encode:t=>OOt(t),decode:t=>POt(t)}),BOt=Object.freeze({__proto__:null,identity:MOt}),DOt=xs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),LOt=Object.freeze({__proto__:null,base2:DOt}),UOt=xs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),FOt=Object.freeze({__proto__:null,base8:UOt}),HOt=aC({prefix:"9",name:"base10",alphabet:"0123456789"}),zOt=Object.freeze({__proto__:null,base10:HOt}),GOt=xs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),jOt=xs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),$Ot=Object.freeze({__proto__:null,base16:GOt,base16upper:jOt}),VOt=xs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),KOt=xs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qOt=xs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),WOt=xs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),YOt=xs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),JOt=xs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),QOt=xs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ZOt=xs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),XOt=xs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),eNt=Object.freeze({__proto__:null,base32:VOt,base32upper:KOt,base32pad:qOt,base32padupper:WOt,base32hex:YOt,base32hexupper:JOt,base32hexpad:QOt,base32hexpadupper:ZOt,base32z:XOt}),tNt=aC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),rNt=aC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),nNt=Object.freeze({__proto__:null,base36:tNt,base36upper:rNt}),iNt=aC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oNt=aC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),aNt=Object.freeze({__proto__:null,base58btc:iNt,base58flickr:oNt}),sNt=xs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cNt=xs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lNt=xs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uNt=xs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),dNt=Object.freeze({__proto__:null,base64:sNt,base64pad:cNt,base64url:lNt,base64urlpad:uNt}),$De=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),fNt=$De.reduce((t,e,r)=>(t[r]=e,t),[]),pNt=$De.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);bNt=QF({prefix:"\u{1F680}",name:"base256emoji",encode:hNt,decode:mNt}),yNt=Object.freeze({__proto__:null,base256emoji:bNt}),gNt=VDe,mDe=128,wNt=127,vNt=~wNt,ENt=Math.pow(2,31);xNt=Qae,ANt=128,bDe=127;TNt=Math.pow(2,7),_Nt=Math.pow(2,14),SNt=Math.pow(2,21),INt=Math.pow(2,28),CNt=Math.pow(2,35),RNt=Math.pow(2,42),PNt=Math.pow(2,49),ONt=Math.pow(2,56),NNt=Math.pow(2,63),kNt=function(t){return t<TNt?1:t<_Nt?2:t<SNt?3:t<INt?4:t<CNt?5:t<RNt?6:t<PNt?7:t<ONt?8:t<NNt?9:10},MNt={encode:gNt,decode:xNt,encodingLength:kNt},KDe=MNt,yDe=(t,e,r=0)=>(KDe.encode(t,e,r),e),gDe=t=>KDe.encodingLength(t),Zae=(t,e)=>{let r=e.byteLength,n=gDe(t),i=n+gDe(r),o=new Uint8Array(i+r);return yDe(t,o,0),yDe(r,o,n),o.set(e,i),new Xae(t,r,e,o)},Xae=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}},qDe=({name:t,code:e,encode:r})=>new ese(t,e,r),ese=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Zae(this.code,r):r.then(n=>Zae(this.code,n))}else throw Error("Unknown type, must be binary type")}},WDe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),BNt=qDe({name:"sha2-256",code:18,encode:WDe("SHA-256")}),DNt=qDe({name:"sha2-512",code:19,encode:WDe("SHA-512")}),LNt=Object.freeze({__proto__:null,sha256:BNt,sha512:DNt}),YDe=0,UNt="identity",JDe=GDe,FNt=t=>Zae(YDe,JDe(t)),HNt={code:YDe,name:UNt,encode:JDe,digest:FNt},zNt=Object.freeze({__proto__:null,identity:HNt});new TextEncoder,new TextDecoder;wDe={...BOt,...LOt,...FOt,...zOt,...$Ot,...eNt,...nNt,...aNt,...dNt,...yNt};({...LNt,...zNt});vDe=ZDe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),jae=ZDe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=GNt(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),jNt={utf8:vDe,"utf-8":vDe,hex:wDe.base16,latin1:jae,ascii:jae,binary:jae,...wDe};VNt=Object.defineProperty,KNt=(t,e,r)=>e in t?VNt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K1=(t,e,r)=>KNt(t,typeof e!="symbol"?e+"":e,r),tse=class{constructor(e,r){this.core=e,this.logger=r,K1(this,"keychain",new Map),K1(this,"name",QPt),K1(this,"version",ZPt),K1(this,"initialized",!1),K1(this,"storagePrefix",W1),K1(this,"init",async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),K1(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),K1(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),K1(this,"get",n=>{this.isInitialized();let i=this.keychain.get(n);if(typeof i>"u"){let{message:o}=st("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return i}),K1(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=ms(r,this.name)}get context(){return a0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,TF(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?_F(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},qNt=Object.defineProperty,WNt=(t,e,r)=>e in t?qNt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vs=(t,e,r)=>WNt(t,typeof e!="symbol"?e+"":e,r),rse=class{constructor(e,r,n){this.core=e,this.logger=r,vs(this,"name",YPt),vs(this,"keychain"),vs(this,"randomSessionIdentifier",MF()),vs(this,"initialized",!1),vs(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),vs(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),vs(this,"getClientId",async()=>{this.isInitialized();let i=await this.getClientSeed(),o=Xne(i);return Zne(o.publicKey)}),vs(this,"generateKeyPair",()=>{this.isInitialized();let i=tBe();return this.setPrivateKey(i.publicKey,i.privateKey)}),vs(this,"signJWT",async i=>{this.isInitialized();let o=await this.getClientSeed(),a=Xne(o),s=this.randomSessionIdentifier;return await nPe(s,i,JPt,a)}),vs(this,"generateSharedKey",(i,o,a)=>{this.isInitialized();let s=this.getPrivateKey(i),c=rBe(s,o);return this.setSymKey(c,a)}),vs(this,"setSymKey",async(i,o)=>{this.isInitialized();let a=o||r9(i);return await this.keychain.set(a,i),a}),vs(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),vs(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),vs(this,"encode",async(i,o,a)=>{this.isInitialized();let s=Eae(a),c=Ku(o);if(Aae(s))return cBe(c,a?.encoding);if(xae(s)){let f=s.senderPublicKey,p=s.receiverPublicKey;i=await this.generateSharedKey(f,p)}let l=this.getSymKey(i),{type:u,senderPublicKey:d}=s;return aBe({type:u,symKey:l,message:c,senderPublicKey:d,encoding:a?.encoding})}),vs(this,"decode",async(i,o,a)=>{this.isInitialized();let s=dBe(o,a);if(Aae(s)){let c=lBe(o,a?.encoding);return F1(c)}if(xae(s)){let c=s.receiverPublicKey,l=s.senderPublicKey;i=await this.generateSharedKey(c,l)}try{let c=this.getSymKey(i),l=sBe({symKey:c,encoded:o,encoding:a?.encoding});return F1(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),vs(this,"getPayloadType",(i,o=h0)=>{let a=n9({encoded:i,encoding:o});return Eb(a.type)}),vs(this,"getPayloadSenderPublicKey",(i,o=h0)=>{let a=n9({encoded:i,encoding:o});return a.senderPublicKey?ys(a.senderPublicKey,p0):void 0}),this.core=e,this.logger=ms(r,this.name),this.keychain=n||new tse(this.core,this.logger)}get context(){return a0(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(pDe)}catch{e=MF(),await this.keychain.set(pDe,e)}return $Nt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},YNt=Object.defineProperty,JNt=Object.defineProperties,QNt=Object.getOwnPropertyDescriptors,EDe=Object.getOwnPropertySymbols,ZNt=Object.prototype.hasOwnProperty,XNt=Object.prototype.propertyIsEnumerable,nse=(t,e,r)=>e in t?YNt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ekt=(t,e)=>{for(var r in e||(e={}))ZNt.call(e,r)&&nse(t,r,e[r]);if(EDe)for(var r of EDe(e))XNt.call(e,r)&&nse(t,r,e[r]);return t},tkt=(t,e)=>JNt(t,QNt(e)),Hl=(t,e,r)=>nse(t,typeof e!="symbol"?e+"":e,r),ise=class extends tU{constructor(e,r){super(e,r),this.logger=e,this.core=r,Hl(this,"messages",new Map),Hl(this,"messagesWithoutClientAck",new Map),Hl(this,"name",XPt),Hl(this,"version",eOt),Hl(this,"initialized",!1),Hl(this,"storagePrefix",W1),Hl(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);let i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Hl(this,"set",async(n,i,o)=>{this.isInitialized();let a=zc(i),s=this.messages.get(n);if(typeof s>"u"&&(s={}),typeof s[a]<"u")return a;if(s[a]=i,this.messages.set(n,s),o===YF.inbound){let c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,tkt(ekt({},c),{[a]:i}))}return await this.persist(),a}),Hl(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Hl(this,"getWithoutAck",n=>{this.isInitialized();let i={};for(let o of n){let a=this.messagesWithoutClientAck.get(o)||{};i[o]=Object.values(a)}return i}),Hl(this,"has",(n,i)=>{this.isInitialized();let o=this.get(n),a=zc(i);return typeof o[a]<"u"}),Hl(this,"ack",async(n,i)=>{this.isInitialized();let o=this.messagesWithoutClientAck.get(n);if(typeof o>"u")return;let a=zc(i);delete o[a],Object.keys(o).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,o),await this.persist()}),Hl(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=ms(e,this.name),this.core=r}get context(){return a0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,TF(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,TF(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?_F(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?_F(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},rkt=Object.defineProperty,nkt=Object.defineProperties,ikt=Object.getOwnPropertyDescriptors,xDe=Object.getOwnPropertySymbols,okt=Object.prototype.hasOwnProperty,akt=Object.prototype.propertyIsEnumerable,ose=(t,e,r)=>e in t?rkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c9=(t,e)=>{for(var r in e||(e={}))okt.call(e,r)&&ose(t,r,e[r]);if(xDe)for(var r of xDe(e))akt.call(e,r)&&ose(t,r,e[r]);return t},ADe=(t,e)=>nkt(t,ikt(e)),Xu=(t,e,r)=>ose(t,typeof e!="symbol"?e+"":e,r),ase=class extends rU{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Xu(this,"events",new uh.EventEmitter),Xu(this,"name",rOt),Xu(this,"queue",new Map),Xu(this,"publishTimeout",(0,tr.toMiliseconds)(tr.ONE_MINUTE)),Xu(this,"initialPublishTimeout",(0,tr.toMiliseconds)(tr.ONE_SECOND*15)),Xu(this,"needsTransportRestart",!1),Xu(this,"publish",async(n,i,o)=>{var a,s,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:o}});let d=o?.ttl||tOt,f=o?.prompt||!1,p=o?.tag||0,h=o?.id||Qu().toString(),b=a8(qI().protocol),_={id:h,method:o?.publishMethod||b.publish,params:c9({topic:n,message:i,ttl:d,prompt:f,tag:p,attestation:o?.attestation},o?.tvf&&{tvf:o.tvf})},A=`Failed to publish payload, please try again. id:${h} tag:${p}`;try{Vo((a=_.params)==null?void 0:a.prompt)&&((s=_.params)==null||delete s.prompt),Vo((c=_.params)==null?void 0:c.tag)&&((l=_.params)==null||delete l.tag);let C=new Promise(async R=>{let M=({id:F})=>{var z;((z=_.id)==null?void 0:z.toString())===F.toString()&&(this.removeRequestFromQueue(F),this.relayer.events.removeListener(_o.publish,M),R())};this.relayer.events.on(_o.publish,M);let U=mf(new Promise((F,z)=>{this.rpcPublish(_,o).then(F).catch(N=>{this.logger.warn(N,N?.message),z(N)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${p}`);try{await U,this.events.removeListener(_o.publish,M)}catch(F){this.queue.set(h,{request:_,opts:o,attempt:1}),this.logger.warn(F,F?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:n,message:i,opts:o}}),await mf(C,this.publishTimeout,A)}catch(C){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(C),(u=o?.internal)!=null&&u.throwOnFailedPublish)throw C}finally{this.queue.delete(h)}}),Xu(this,"publishCustom",async n=>{var i,o,a,s,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});let{payload:l,opts:u={}}=n,{attestation:d,tvf:f,publishMethod:p,prompt:h,tag:b,ttl:_=tr.FIVE_MINUTES}=u,A=u.id||Qu().toString(),C=a8(qI().protocol),R=p||C.publish,M={id:A,method:R,params:c9(ADe(c9({},l),{ttl:_,prompt:h,tag:b,attestation:d}),f)},U=`Failed to publish custom payload, please try again. id:${A} tag:${b}`;try{Vo((i=M.params)==null?void 0:i.prompt)&&((o=M.params)==null||delete o.prompt),Vo((a=M.params)==null?void 0:a.tag)&&((s=M.params)==null||delete s.tag);let F=new Promise(async z=>{let N=({id:O})=>{var w;((w=M.id)==null?void 0:w.toString())===O.toString()&&(this.removeRequestFromQueue(O),this.relayer.events.removeListener(_o.publish,N),z())};this.relayer.events.on(_o.publish,N);let k=mf(new Promise((O,w)=>{this.rpcPublish(M,u).then(O).catch(S=>{this.logger.warn(S,S?.message),w(S)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${R} id:${A} tag:${b}`);try{await k,this.events.removeListener(_o.publish,N)}catch(O){this.queue.set(A,{request:M,opts:u,attempt:1}),this.logger.warn(O,O?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:A,payload:l,opts:u}}),await mf(F,this.publishTimeout,U)}catch(F){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(F),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw F}finally{this.queue.delete(A)}}),Xu(this,"on",(n,i)=>{this.events.on(n,i)}),Xu(this,"once",(n,i)=>{this.events.once(n,i)}),Xu(this,"off",(n,i)=>{this.events.off(n,i)}),Xu(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=ms(r,this.name),this.registerEventListeners()}get context(){return a0(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let n=await this.relayer.request(e);return this.relayer.events.emit(_o.publish,c9(c9({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;let i=e.attempt+1;this.queue.set(r,ADe(c9({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Wm.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(_o.connection_stalled);return}this.checkQueue()}),this.relayer.on(_o.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},skt=Object.defineProperty,ckt=(t,e,r)=>e in t?skt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l9=(t,e,r)=>ckt(t,typeof e!="symbol"?e+"":e,r),sse=class{constructor(){l9(this,"map",new Map),l9(this,"set",(e,r)=>{let n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),l9(this,"get",e=>this.map.get(e)||[]),l9(this,"exists",(e,r)=>this.get(e).includes(r)),l9(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,r))return;let i=n.filter(o=>o!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),l9(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}},lkt=Object.defineProperty,ukt=Object.defineProperties,dkt=Object.getOwnPropertyDescriptors,TDe=Object.getOwnPropertySymbols,fkt=Object.prototype.hasOwnProperty,pkt=Object.prototype.propertyIsEnumerable,cse=(t,e,r)=>e in t?lkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rC=(t,e)=>{for(var r in e||(e={}))fkt.call(e,r)&&cse(t,r,e[r]);if(TDe)for(var r of TDe(e))pkt.call(e,r)&&cse(t,r,e[r]);return t},$ae=(t,e)=>ukt(t,dkt(e)),mi=(t,e,r)=>cse(t,typeof e!="symbol"?e+"":e,r),lse=class extends oU{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,mi(this,"subscriptions",new Map),mi(this,"topicMap",new sse),mi(this,"events",new uh.EventEmitter),mi(this,"name",lOt),mi(this,"version",uOt),mi(this,"pending",new Map),mi(this,"cached",[]),mi(this,"initialized",!1),mi(this,"storagePrefix",W1),mi(this,"subscribeTimeout",(0,tr.toMiliseconds)(tr.ONE_MINUTE)),mi(this,"initialSubscribeTimeout",(0,tr.toMiliseconds)(tr.ONE_SECOND*15)),mi(this,"clientId"),mi(this,"batchSubscribeTopicsLimit",500),mi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),mi(this,"subscribe",async(n,i)=>{var o;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{let a=qI(i),s={topic:n,relay:a,transportType:i?.transportType};(o=i?.internal)!=null&&o.skipSubscribe||this.pending.set(n,s);let c=await this.rpcSubscribe(n,a,i);return typeof c=="string"&&(this.onSubscribe(c,s),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),c}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),mi(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),mi(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),mi(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(o=>o.topic===n))})),mi(this,"on",(n,i)=>{this.events.on(n,i)}),mi(this,"once",(n,i)=>{this.events.once(n,i)}),mi(this,"off",(n,i)=>{this.events.off(n,i)}),mi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),mi(this,"start",async()=>{await this.onConnect()}),mi(this,"stop",async()=>{await this.onDisconnect()}),mi(this,"restart",async()=>{await this.restore(),await this.onRestart()}),mi(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;let n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),mi(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Wm.pulse,async()=>{await this.checkPending()}),this.events.on(zl.created,async n=>{let i=zl.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(zl.deleted,async n=>{let i=zl.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=ms(r,this.name),this.clientId=""}get context(){return a0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){let n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{let i=qI(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);let o=si("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,o;let a=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return a;(!n||n?.transportType===Pi.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});let s={method:a8(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});let c=(o=n?.internal)==null?void 0:o.throwOnFailedPublish;try{if(n?.transportType===Pi.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(d=>this.logger.warn(d))},(0,tr.toMiliseconds)(tr.ONE_SECOND)),a;let l=new Promise(async d=>{let f=p=>{p.topic===e&&(this.events.removeListener(zl.created,f),d(p.id))};this.events.on(zl.created,f);try{let p=await mf(new Promise((h,b)=>{this.relayer.request(s).catch(_=>{this.logger.warn(_,_?.message),b(_)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(zl.created,f),d(p)}catch{}}),u=await mf(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(_o.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;let r=e[0].relay,n={method:a8(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await mf(new Promise(i=>{this.relayer.request(n).catch(o=>this.logger.warn(o)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(_o.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;let r=e[0].relay,n={method:a8(r.protocol).batchFetchMessages,params:{topics:e.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await mf(new Promise((o,a)=>{this.relayer.request(n).catch(s=>{this.logger.warn(s),a(s)}).then(o)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(_o.connection_stalled)}return i}rpcUnsubscribe(e,r,n){let i={method:a8(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,$ae(rC({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,rC({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,rC({},r)),this.topicMap.set(r.topic,e),this.events.emit(zl.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:n}=st("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(zl.deleted,$ae(rC({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(zl.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){let i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(zl.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){let{message:r}=st("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>$ae(rC({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await mMe((0,tr.toMiliseconds)(tr.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return zc(e+await this.getClientId())}},hkt=Object.defineProperty,_De=Object.getOwnPropertySymbols,mkt=Object.prototype.hasOwnProperty,bkt=Object.prototype.propertyIsEnumerable,use=(t,e,r)=>e in t?hkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,SDe=(t,e)=>{for(var r in e||(e={}))mkt.call(e,r)&&use(t,r,e[r]);if(_De)for(var r of _De(e))bkt.call(e,r)&&use(t,r,e[r]);return t},Un=(t,e,r)=>use(t,typeof e!="symbol"?e+"":e,r),dse=class extends nU{constructor(e){super(e),Un(this,"protocol","wc"),Un(this,"version",2),Un(this,"core"),Un(this,"logger"),Un(this,"events",new uh.EventEmitter),Un(this,"provider"),Un(this,"messages"),Un(this,"subscriber"),Un(this,"publisher"),Un(this,"name",iOt),Un(this,"transportExplicitlyClosed",!1),Un(this,"initialized",!1),Un(this,"connectionAttemptInProgress",!1),Un(this,"relayUrl"),Un(this,"projectId"),Un(this,"packageName"),Un(this,"bundleId"),Un(this,"hasExperiencedNetworkDisruption",!1),Un(this,"pingTimeout"),Un(this,"heartBeatTimeout",(0,tr.toMiliseconds)(tr.THIRTY_SECONDS+tr.FIVE_SECONDS)),Un(this,"reconnectTimeout"),Un(this,"connectPromise"),Un(this,"reconnectInProgress",!1),Un(this,"requestsInFlight",[]),Un(this,"connectTimeout",(0,tr.toMiliseconds)(tr.ONE_SECOND*15)),Un(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");let o=r.id||Qu().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");let a=`${o}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);let s=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==a),s}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),Un(this,"resetPingTimeout",()=>{HI()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),Un(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Un(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(_o.connect)}),Un(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),Un(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(_o.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Un(this,"registerProviderListeners",()=>{this.provider.on(Zu.payload,this.onPayloadHandler),this.provider.on(Zu.connect,this.onConnectHandler),this.provider.on(Zu.disconnect,this.onDisconnectHandler),this.provider.on(Zu.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ms(e.logger,this.name):(0,NS.default)(MS({level:e.logger||nOt})),this.messages=new ise(this.logger,e.core),this.subscriber=new lse(this,this.logger),this.publisher=new ase(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||HDe,oMe()?this.packageName=Xoe():aMe()&&(this.bundleId=Xoe()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return a0(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Pi.relay},YF.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,o;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();let a=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish,s=((o=this.subscriber.topicMap.get(e))==null?void 0:o[0])||"",c,l=u=>{u.topic===e&&(this.subscriber.off(zl.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(zl.created,l)}),new Promise(async(u,d)=>{s=await this.subscriber.subscribe(e,SDe({internal:{throwOnFailedPublish:a}},r)).catch(f=>{a&&d(f)})||s,u()})]),s}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await mf(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Oae())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(let n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){let{topic:n}=e;if(!r.sessionExists){let i=Ko(tr.FIVE_MINUTES),o={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,o)}this.events.emit(_o.message,e),await this.recordMessageEvent(e,YF.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{let o=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Zu.disconnect,o),await mf(new Promise((a,s)=>{this.provider.connect().then(a).catch(s)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(Zu.disconnect,o),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,s)=>{let c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Zu.disconnect,c),await this.subscriber.start().then(a).catch(s).finally(()=>{this.provider.off(Zu.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();let i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,(0,tr.toMiliseconds)(r*1))),r++}}startPingTimeout(){var e,r,n,i,o;if(HI())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((o=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||o.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new qF(new WF(cMe({sdkVersion:Kae,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){let{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){let{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;let i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),s9(e)){if(!e.method.endsWith(oOt))return;let r=e.params,{topic:n,message:i,publishedAt:o,attestation:a}=r.data,s={topic:n,message:i,publishedAt:o,transportType:Pi.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(SDe({type:"event",event:r.id},s)),this.events.emit(r.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else Sb(e)&&this.events.emit(_o.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,YF.inbound),this.events.emit(_o.message,e))}async acknowledgePayload(e){let r=s8(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Zu.payload,this.onPayloadHandler),this.provider.off(Zu.connect,this.onConnectHandler),this.provider.off(Zu.disconnect,this.onDisconnectHandler),this.provider.off(Zu.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Oae();OBe(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Wm.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&NBe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(_o.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,tr.toMiliseconds)(aOt)))))}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};gkt="[object RegExp]",wkt="[object String]",vkt="[object Number]",Ekt="[object Boolean]",RDe="[object Arguments]",xkt="[object Symbol]",Akt="[object Date]",Tkt="[object Map]",_kt="[object Set]",Skt="[object Array]",Ikt="[object Function]",Ckt="[object ArrayBuffer]",Vae="[object Object]",Rkt="[object Error]",Pkt="[object DataView]",Okt="[object Uint8Array]",Nkt="[object Uint8ClampedArray]",kkt="[object Uint16Array]",Mkt="[object Uint32Array]",Bkt="[object BigUint64Array]",Dkt="[object Int8Array]",Lkt="[object Int16Array]",Ukt="[object Int32Array]",Fkt="[object BigInt64Array]",Hkt="[object Float32Array]",zkt="[object Float64Array]";Vkt=Object.defineProperty,ODe=Object.getOwnPropertySymbols,Kkt=Object.prototype.hasOwnProperty,qkt=Object.prototype.propertyIsEnumerable,fse=(t,e,r)=>e in t?Vkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,NDe=(t,e)=>{for(var r in e||(e={}))Kkt.call(e,r)&&fse(t,r,e[r]);if(ODe)for(var r of ODe(e))qkt.call(e,r)&&fse(t,r,e[r]);return t},Gc=(t,e,r)=>fse(t,typeof e!="symbol"?e+"":e,r),Y1=class extends iU{constructor(e,r,n,i=W1,o=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,Gc(this,"map",new Map),Gc(this,"version",sOt),Gc(this,"cached",[]),Gc(this,"initialized",!1),Gc(this,"getKey"),Gc(this,"storagePrefix",W1),Gc(this,"recentlyDeleted",[]),Gc(this,"recentlyDeletedLimit",200),Gc(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Vo(a)?this.map.set(this.getKey(a),a):yBe(a)?this.map.set(a.id,a):gBe(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Gc(this,"set",async(a,s)=>{this.isInitialized(),this.map.has(a)?await this.update(a,s):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:s}),this.map.set(a,s),await this.persist())}),Gc(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Gc(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(s=>Object.keys(a).every(c=>$kt(s[c],a[c]))):this.values)),Gc(this,"update",async(a,s)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:s});let c=NDe(NDe({},this.getData(a)),s);this.map.set(a,c),await this.persist()}),Gc(this,"delete",async(a,s)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:s}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=ms(r,this.name),this.storagePrefix=i,this.getKey=o}get context(){return a0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){let{message:i}=st("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}let{message:n}=st("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=st("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},Wkt=Object.defineProperty,Ykt=(t,e,r)=>e in t?Wkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dn=(t,e,r)=>Ykt(t,typeof e!="symbol"?e+"":e,r),pse=class{constructor(e,r){this.core=e,this.logger=r,dn(this,"name",dOt),dn(this,"version",fOt),dn(this,"events",new uh.default),dn(this,"pairings"),dn(this,"initialized",!1),dn(this,"storagePrefix",W1),dn(this,"ignoredPayloadTypes",[bf]),dn(this,"registeredMethods",[]),dn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),dn(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),dn(this,"create",async n=>{this.isInitialized();let i=MF(),o=await this.core.crypto.setSymKey(i),a=Ko(tr.FIVE_MINUTES),s={protocol:xse},c={topic:o,expiry:a,relay:s,active:!1,methods:n?.methods},l=_ae({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:i,relay:s,expiryTimestamp:a,methods:n?.methods});return this.events.emit(Ib.create,c),this.core.expirer.set(o,a),await this.pairings.set(o,c),await this.core.relayer.subscribe(o,{transportType:n?.transportType,internal:n?.internal}),{topic:o,uri:l}}),dn(this,"pair",async n=>{this.isInitialized();let i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[gf.pairing_started]}});this.isValidPair(n,i);let{topic:o,symKey:a,relay:s,expiryTimestamp:c,methods:l}=Tae(n.uri);i.props.properties.topic=o,i.addTrace(gf.pairing_uri_validation_success),i.addTrace(gf.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(o)){if(u=this.pairings.get(o),i.addTrace(gf.existing_pairing),u.active)throw i.setError(q1.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);i.addTrace(gf.pairing_not_expired)}let d=c||Ko(tr.FIVE_MINUTES),f={topic:o,relay:s,expiry:d,active:!1,methods:l};this.core.expirer.set(o,d),await this.pairings.set(o,f),i.addTrace(gf.store_new_pairing),n.activatePairing&&await this.activate({topic:o}),this.events.emit(Ib.create,f),i.addTrace(gf.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(a,o),i.addTrace(gf.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(q1.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:s})}catch(p){throw i.setError(q1.subscribe_pairing_topic_failure),p}return i.addTrace(gf.subscribe_pairing_topic_success),f}),dn(this,"activate",async({topic:n})=>{this.isInitialized();let i=Ko(tr.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),dn(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:i}=n;if(this.pairings.keys.includes(i)){let o=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:s,reject:c}=sh();this.events.once(Ln("pairing_ping",o),({error:l})=>{l?c(l):s()}),await a()}}),dn(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),dn(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),dn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),dn(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",si("USER_DISCONNECTED")),await this.deletePairing(i))}),dn(this,"formatUriFromPairing",n=>{this.isInitialized();let{topic:i,relay:o,expiry:a,methods:s}=n,c=this.core.crypto.keychain.get(i);return _ae({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:o,expiryTimestamp:a,methods:s})}),dn(this,"sendRequest",async(n,i,o)=>{let a=Ll(i,o),s=await this.core.crypto.encode(n,a),c=tC[i].req;return this.core.history.set(n,a),this.core.relayer.publish(n,s,c),a.id}),dn(this,"sendResult",async(n,i,o)=>{let a=s8(n,o),s=await this.core.crypto.encode(i,a),c=(await this.core.history.get(i,n)).request.method,l=tC[c].res;await this.core.relayer.publish(i,s,l),await this.core.history.resolve(a)}),dn(this,"sendError",async(n,i,o)=>{let a=c8(n,o),s=await this.core.crypto.encode(i,a),c=(await this.core.history.get(i,n)).request.method,l=tC[c]?tC[c].res:tC.unregistered_method.res;await this.core.relayer.publish(i,s,l),await this.core.history.resolve(a)}),dn(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,si("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),dn(this,"cleanup",async()=>{let n=this.pairings.getAll().filter(i=>V1(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),dn(this,"onRelayEventRequest",async n=>{let{topic:i,payload:o}=n;switch(o.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,o);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,o);default:return await this.onUnknownRpcMethodRequest(i,o)}}),dn(this,"onRelayEventResponse",async n=>{let{topic:i,payload:o}=n,a=(await this.core.history.get(i,o.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,o);default:return this.onUnknownRpcMethodResponse(a)}}),dn(this,"onPairingPingRequest",async(n,i)=>{let{id:o}=i;try{this.isValidPing({topic:n}),await this.sendResult(o,n,!0),this.events.emit(Ib.ping,{id:o,topic:n})}catch(a){await this.sendError(o,n,a),this.logger.error(a)}}),dn(this,"onPairingPingResponse",(n,i)=>{let{id:o}=i;setTimeout(()=>{Ul(i)?this.events.emit(Ln("pairing_ping",o),{}):y0(i)&&this.events.emit(Ln("pairing_ping",o),{error:i.error})},500)}),dn(this,"onPairingDeleteRequest",async(n,i)=>{let{id:o}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Ib.delete,{id:o,topic:n})}catch(a){await this.sendError(o,n,a),this.logger.error(a)}}),dn(this,"onUnknownRpcMethodRequest",async(n,i)=>{let{id:o,method:a}=i;try{if(this.registeredMethods.includes(a))return;let s=si("WC_METHOD_UNSUPPORTED",a);await this.sendError(o,n,s),this.logger.error(s)}catch(s){await this.sendError(o,n,s),this.logger.error(s)}}),dn(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(si("WC_METHOD_UNSUPPORTED",n))}),dn(this,"isValidPair",(n,i)=>{var o;if(!m0(n)){let{message:s}=st("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(q1.malformed_pairing_uri),new Error(s)}if(!bBe(n.uri)){let{message:s}=st("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(q1.malformed_pairing_uri),new Error(s)}let a=Tae(n?.uri);if(!((o=a?.relay)!=null&&o.protocol)){let{message:s}=st("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(q1.malformed_pairing_uri),new Error(s)}if(!(a!=null&&a.symKey)){let{message:s}=st("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(q1.malformed_pairing_uri),new Error(s)}if(a!=null&&a.expiryTimestamp&&(0,tr.toMiliseconds)(a?.expiryTimestamp)<Date.now()){i.setError(q1.pairing_expired);let{message:s}=st("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(s)}}),dn(this,"isValidPing",async n=>{if(!m0(n)){let{message:o}=st("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(o)}let{topic:i}=n;await this.isValidPairingTopic(i)}),dn(this,"isValidDisconnect",async n=>{if(!m0(n)){let{message:o}=st("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(o)}let{topic:i}=n;await this.isValidPairingTopic(i)}),dn(this,"isValidPairingTopic",async n=>{if(!To(n,!1)){let{message:i}=st("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){let{message:i}=st("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(V1(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:i}=st("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=ms(r,this.name),this.pairings=new Y1(this.core,this.logger,this.name,this.storagePrefix)}get context(){return a0(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(_o.message,async e=>{let{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Pi.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{let o=await this.core.crypto.decode(r,n);s9(o)?(this.core.history.set(r,o),await this.onRelayEventRequest({topic:r,payload:o})):Sb(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:r,payload:o}),this.core.history.delete(r,o.id)),await this.core.relayer.messages.ack(r,n)}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Gl.expired,async e=>{let{topic:r}=SF(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Ib.expire,{topic:r}))})}},Jkt=Object.defineProperty,Qkt=(t,e,r)=>e in t?Jkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Es=(t,e,r)=>Qkt(t,typeof e!="symbol"?e+"":e,r),hse=class extends eU{constructor(e,r){super(e,r),this.core=e,this.logger=r,Es(this,"records",new Map),Es(this,"events",new uh.EventEmitter),Es(this,"name",pOt),Es(this,"version",hOt),Es(this,"cached",[]),Es(this,"initialized",!1),Es(this,"storagePrefix",W1),Es(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Es(this,"set",(n,i,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:o}),this.records.has(i.id))return;let a={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:o,expiry:Ko(tr.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(yf.created,a)}),Es(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=y0(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(yf.updated,i))}),Es(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Es(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(o=>{if(o.topic===n){if(typeof i<"u"&&o.id!==i)return;this.records.delete(o.id),this.events.emit(yf.deleted,o)}}),this.persist()}),Es(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Es(this,"on",(n,i)=>{this.events.on(n,i)}),Es(this,"once",(n,i)=>{this.events.once(n,i)}),Es(this,"off",(n,i)=>{this.events.off(n,i)}),Es(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ms(r,this.name)}get context(){return a0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:Ll(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:n}=st("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(yf.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=st("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(yf.created,e=>{let r=yf.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(yf.updated,e=>{let r=yf.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(yf.deleted,e=>{let r=yf.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Wm.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{(0,tr.toMiliseconds)(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(yf.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},Zkt=Object.defineProperty,Xkt=(t,e,r)=>e in t?Zkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,g0=(t,e,r)=>Xkt(t,typeof e!="symbol"?e+"":e,r),mse=class extends aU{constructor(e,r){super(e,r),this.core=e,this.logger=r,g0(this,"expirations",new Map),g0(this,"events",new uh.EventEmitter),g0(this,"name",mOt),g0(this,"version",bOt),g0(this,"cached",[]),g0(this,"initialized",!1),g0(this,"storagePrefix",W1),g0(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),g0(this,"has",n=>{try{let i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),g0(this,"set",(n,i)=>{this.isInitialized();let o=this.formatTarget(n),a={target:o,expiry:i};this.expirations.set(o,a),this.checkExpiry(o,a),this.events.emit(Gl.created,{target:o,expiration:a})}),g0(this,"get",n=>{this.isInitialized();let i=this.formatTarget(n);return this.getExpiration(i)}),g0(this,"del",n=>{if(this.isInitialized(),this.has(n)){let i=this.formatTarget(n),o=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Gl.deleted,{target:i,expiration:o})}}),g0(this,"on",(n,i)=>{this.events.on(n,i)}),g0(this,"once",(n,i)=>{this.events.once(n,i)}),g0(this,"off",(n,i)=>{this.events.off(n,i)}),g0(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ms(r,this.name)}get context(){return a0(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return uMe(e);if(typeof e=="number")return dMe(e);let{message:r}=st("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Gl.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=st("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:n}=st("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){let{expiry:n}=r;(0,tr.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Gl.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Wm.pulse,()=>this.checkExpirations()),this.events.on(Gl.created,e=>{let r=Gl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Gl.expired,e=>{let r=Gl.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Gl.deleted,e=>{let r=Gl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},eMt=Object.defineProperty,tMt=(t,e,r)=>e in t?eMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ea=(t,e,r)=>tMt(t,typeof e!="symbol"?e+"":e,r),bse=class extends sU{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,ea(this,"name",yOt),ea(this,"abortController"),ea(this,"isDevEnv"),ea(this,"verifyUrlV3",wOt),ea(this,"storagePrefix",W1),ea(this,"version",FDe),ea(this,"publicKey"),ea(this,"fetchPromise"),ea(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,tr.toMiliseconds)((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),ea(this,"register",async i=>{if(!o8()||this.isDevEnv)return;let o=window.location.origin,{id:a,decryptedId:s}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${a}&decryptedId=${s}`;try{let l=(0,LDe.getDocument)(),u=this.startAbortTimer(tr.ONE_SECOND*5),d=await new Promise((f,p)=>{let h=()=>{window.removeEventListener("message",_),l.body.removeChild(b),p("attestation aborted")};this.abortController.signal.addEventListener("abort",h);let b=l.createElement("iframe");b.src=c,b.style.display="none",b.addEventListener("error",h,{signal:this.abortController.signal});let _=A=>{if(A.data&&typeof A.data=="string")try{let C=JSON.parse(A.data);if(C.type==="verify_attestation"){if(LS(C.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(b),this.abortController.signal.removeEventListener("abort",h),window.removeEventListener("message",_),f(C.attestation===null?"":C.attestation)}}catch(C){this.logger.warn(C)}};l.body.appendChild(b),window.addEventListener("message",_,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),ea(this,"resolve",async i=>{if(this.isDevEnv)return"";let{attestationId:o,hash:a,encryptedId:s}=i;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if(LS(o).payload.id!==s)return;let l=await this.isValidJwtAttestation(o);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;let c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(a,c)}),ea(this,"fetchAttestation",async(i,o)=>{this.logger.debug(`resolving attestation: ${i} from url: ${o}`);let a=this.startAbortTimer(tr.ONE_SECOND*5),s=await fetch(`${o}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),s.status===200?await s.json():void 0}),ea(this,"getVerifyUrl",i=>{let o=i||u9;return vOt.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${u9}`),o=u9),o}),ea(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let i=this.startAbortTimer(tr.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await o.json()}catch(i){this.logger.warn(i)}}),ea(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),ea(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),ea(this,"isValidJwtAttestation",async i=>{let o=await this.getPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(s){this.logger.error(s),this.logger.warn("error validating attestation")}let a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(s){this.logger.error(s),this.logger.warn("error validating attestation")}}),ea(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),ea(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{let a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),o(a))});let i=await this.fetchPromise;return this.fetchPromise=void 0,i}),ea(this,"validateAttestation",(i,o)=>{let a=fBe(i,o.publicKey),s={hasExpired:(0,tr.toMiliseconds)(a.exp)<Date.now(),payload:a};if(s.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:s.payload.origin,isScam:s.payload.isScam,isVerified:s.payload.isVerified}}),this.logger=ms(r,this.name),this.abortController=new AbortController,this.isDevEnv=GI(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return a0(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,tr.toMiliseconds)(e))}},rMt=Object.defineProperty,nMt=(t,e,r)=>e in t?rMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kDe=(t,e,r)=>nMt(t,typeof e!="symbol"?e+"":e,r),yse=class extends cU{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,kDe(this,"context",EOt),kDe(this,"registerDeviceToken",async n=>{let{clientId:i,token:o,notificationType:a,enableEncrypted:s=!1}=n,c=`${xOt}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:o,always_raw:s})})}),this.logger=ms(r,this.context)}},iMt=Object.defineProperty,MDe=Object.getOwnPropertySymbols,oMt=Object.prototype.hasOwnProperty,aMt=Object.prototype.propertyIsEnumerable,gse=(t,e,r)=>e in t?iMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nC=(t,e)=>{for(var r in e||(e={}))oMt.call(e,r)&&gse(t,r,e[r]);if(MDe)for(var r of MDe(e))aMt.call(e,r)&&gse(t,r,e[r]);return t},Wa=(t,e,r)=>gse(t,typeof e!="symbol"?e+"":e,r),wse=class extends lU{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Wa(this,"context",TOt),Wa(this,"storagePrefix",W1),Wa(this,"storageVersion",AOt),Wa(this,"events",new Map),Wa(this,"shouldPersist",!1),Wa(this,"init",async()=>{if(!GI())try{let i={eventId:nae(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:tae(this.core.relayer.protocol,this.core.relayer.version,Kae)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Wa(this,"createEvent",i=>{let{event:o="ERROR",type:a="",properties:{topic:s,trace:c}}=i,l=nae(),u=this.core.projectId||"",d=Date.now(),f=nC({eventId:l,timestamp:d,props:{event:o,type:a,properties:{topic:s,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,f),this.shouldPersist=!0),f}),Wa(this,"getEvent",i=>{let{eventId:o,topic:a}=i;if(o)return this.events.get(o);let s=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(s)return nC(nC({},s),this.setMethods(s.eventId))}),Wa(this,"deleteEvent",i=>{let{eventId:o}=i;this.events.delete(o),this.shouldPersist=!0}),Wa(this,"setEventListeners",()=>{this.core.heartbeat.on(Wm.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{(0,tr.fromMiliseconds)(Date.now())-(0,tr.fromMiliseconds)(i.timestamp)>_Ot&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Wa(this,"setMethods",i=>({addTrace:o=>this.addTrace(i,o),setError:o=>this.setError(i,o)})),Wa(this,"addTrace",(i,o)=>{let a=this.events.get(i);a&&(a.props.properties.trace.push(o),this.events.set(i,a),this.shouldPersist=!0)}),Wa(this,"setError",(i,o)=>{let a=this.events.get(i);a&&(a.props.type=o,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),Wa(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Wa(this,"restore",async()=>{try{let i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(o=>{this.events.set(o.eventId,nC(nC({},o),this.setMethods(o.eventId)))})}catch(i){this.logger.warn(i)}}),Wa(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;let i=[];for(let[o,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(let o of i)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}}),Wa(this,"sendEvent",async i=>{let o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${SOt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Kae}${o}`,{method:"POST",body:JSON.stringify(i)})}),Wa(this,"getAppDomain",()=>eae().url),this.logger=ms(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}},sMt=Object.defineProperty,BDe=Object.getOwnPropertySymbols,cMt=Object.prototype.hasOwnProperty,lMt=Object.prototype.propertyIsEnumerable,vse=(t,e,r)=>e in t?sMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,DDe=(t,e)=>{for(var r in e||(e={}))cMt.call(e,r)&&vse(t,r,e[r]);if(BDe)for(var r of BDe(e))lMt.call(e,r)&&vse(t,r,e[r]);return t},Ri=(t,e,r)=>vse(t,typeof e!="symbol"?e+"":e,r),Ese=class t extends XL{constructor(e){var r;super(e),Ri(this,"protocol",UDe),Ri(this,"version",FDe),Ri(this,"name",JF),Ri(this,"relayUrl"),Ri(this,"projectId"),Ri(this,"customStoragePrefix"),Ri(this,"events",new uh.EventEmitter),Ri(this,"logger"),Ri(this,"heartbeat"),Ri(this,"relayer"),Ri(this,"crypto"),Ri(this,"storage"),Ri(this,"history"),Ri(this,"expirer"),Ri(this,"pairing"),Ri(this,"verify"),Ri(this,"echoClient"),Ri(this,"linkModeSupportedApps"),Ri(this,"eventClient"),Ri(this,"initialized",!1),Ri(this,"logChunkController"),Ri(this,"on",(s,c)=>this.events.on(s,c)),Ri(this,"once",(s,c)=>this.events.once(s,c)),Ri(this,"off",(s,c)=>this.events.off(s,c)),Ri(this,"removeListener",(s,c)=>this.events.removeListener(s,c)),Ri(this,"dispatchEnvelope",({topic:s,message:c,sessionExists:l})=>{if(!s||!c)return;let u={topic:s,message:c,publishedAt:Date.now(),transportType:Pi.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});let n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(s){console.warn("Failed to copy global core",s)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||HDe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let i=MS({level:typeof e?.logger=="string"&&e.logger?e.logger:qPt.logger,name:JF}),{logger:o,chunkLoggerController:a}=aRe({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var s,c;(s=this.logChunkController)!=null&&s.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ms(o,this.name),this.heartbeat=new jL,this.crypto=new rse(this,this.logger,e?.keychain),this.history=new hse(this,this.logger),this.expirer=new mse(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new KL(DDe(DDe({},WPt),e?.storageOptions)),this.relayer=new dse({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new pse(this,this.logger),this.verify=new bse(this,this.logger,this.storage),this.echoClient=new yse(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new wse(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let r=new t(e);await r.initialize();let n=await r.crypto.getClientId();return await r.storage.setItem(cOt,n),r}get context(){return a0(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(hDe,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(hDe)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;let n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}},XDe=Ese});var eH,ln,iLe,oLe,aLe,Bse,Ase,tLe,uMt,rLe,dMt,p9,fMt,As,Tse,J1,pMt,hMt,mMt,bMt,yMt,gMt,wMt,vMt,tH,ZF,EMt,xMt,AMt,nLe,TMt,_Mt,Sse,Xn,w0,$e,Ise,Cse,Rse,Pse,Ose,Nse,kse,SMt,IMt,_se,Mse,CMt,RMt,fn,XF,sLe=D(()=>{eLe();Ene();xne();a9();eH=ve(Da()),ln=ve(Av());eC();iLe="wc",oLe=2,aLe="client",Bse=`${iLe}@${oLe}:${aLe}:`,Ase={name:aLe,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},tLe="WALLETCONNECT_DEEPLINK_CHOICE",uMt="proposal",rLe="Proposal expired",dMt="session",p9=ln.SEVEN_DAYS,fMt="engine",As={wc_sessionPropose:{req:{ttl:ln.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ln.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ln.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ln.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ln.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ln.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ln.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ln.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ln.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ln.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ln.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ln.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ln.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ln.FIVE_MINUTES,prompt:!1,tag:1119}}},Tse={min:ln.FIVE_MINUTES,max:ln.SEVEN_DAYS},J1={idle:"IDLE",active:"ACTIVE"},pMt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},hMt="request",mMt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],bMt="wc",yMt="auth",gMt="authKeys",wMt="pairingTopics",vMt="requests",tH=`${bMt}@${1.5}:${yMt}:`,ZF=`${tH}:PUB_KEY`,EMt=Object.defineProperty,xMt=Object.defineProperties,AMt=Object.getOwnPropertyDescriptors,nLe=Object.getOwnPropertySymbols,TMt=Object.prototype.hasOwnProperty,_Mt=Object.prototype.propertyIsEnumerable,Sse=(t,e,r)=>e in t?EMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xn=(t,e)=>{for(var r in e||(e={}))TMt.call(e,r)&&Sse(t,r,e[r]);if(nLe)for(var r of nLe(e))_Mt.call(e,r)&&Sse(t,r,e[r]);return t},w0=(t,e)=>xMt(t,AMt(e)),$e=(t,e,r)=>Sse(t,typeof e!="symbol"?e+"":e,r),Ise=class extends dU{constructor(e){super(e),$e(this,"name",fMt),$e(this,"events",new eH.default),$e(this,"initialized",!1),$e(this,"requestQueue",{state:J1.idle,queue:[]}),$e(this,"sessionRequestQueue",{state:J1.idle,queue:[]}),$e(this,"emittedSessionRequests",new bF({limit:500})),$e(this,"requestQueueDelay",ln.ONE_SECOND),$e(this,"expectedPairingMethodMap",new Map),$e(this,"recentlyDeletedMap",new Map),$e(this,"recentlyDeletedLimit",200),$e(this,"relayMessageCache",[]),$e(this,"pendingSessions",new Map),$e(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(As)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,ln.toMiliseconds)(this.requestQueueDelay)))}),$e(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let n=w0(Xn({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=hBe(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};let{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:s,scopedProperties:c,relays:l}=n,u=i,d,f=!1;try{if(u){let F=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=F.active}}catch(F){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),F}if(!u||!f){let{topic:F,uri:z}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=F,d=z}if(!u){let{message:F}=st("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(F)}let p=await this.client.core.crypto.generateKeyPair(),h=As.wc_sessionPropose.req.ttl||ln.FIVE_MINUTES,b=Ko(h),_=w0(Xn(Xn({requiredNamespaces:o,optionalNamespaces:a,relays:l??[{protocol:xse}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:b,pairingTopic:u},s&&{sessionProperties:s}),c&&{scopedProperties:c}),{id:Ju()}),A=Ln("session_connect",_.id),{reject:C,resolve:R,done:M}=sh(h,rLe),U=({id:F})=>{F===_.id&&(this.client.events.off("proposal_expire",U),this.pendingSessions.delete(_.id),this.events.emit(A,{error:{message:rLe,code:0}}))};return this.client.events.on("proposal_expire",U),this.events.once(A,({error:F,session:z})=>{this.client.events.off("proposal_expire",U),F?C(F):z&&R(z)}),await this.sendProposeSession({proposal:_,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:_.id}}}),await this.setProposal(_.id,_),{uri:d,approval:M}}),$e(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),$e(this,"approve",async r=>{var n,i,o;let a=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[dh.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(k){throw a.setError(d9.no_internet_connection),k}try{await this.isValidProposalId(r?.id)}catch(k){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),a.setError(d9.proposal_not_found),k}try{await this.isValidApprove(r)}catch(k){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(d9.session_approve_namespace_validation_failure),k}let{id:s,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=r,p=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:a.eventId});let{pairingTopic:h,proposer:b,requiredNamespaces:_,optionalNamespaces:A}=p,C=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:h});C||(C=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:dh.session_approve_started,properties:{topic:h,trace:[dh.session_approve_started,dh.session_namespaces_validation_success]}}));let R=await this.client.core.crypto.generateKeyPair(),M=b.publicKey,U=await this.client.core.crypto.generateSharedKey(R,M),F=Xn(Xn(Xn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:R,metadata:this.client.metadata},expiry:Ko(p9)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),z=Pi.relay;C.addTrace(dh.subscribing_session_topic);try{await this.client.core.relayer.subscribe(U,{transportType:z,internal:{skipSubscribe:!0}})}catch(k){throw C.setError(d9.subscribe_session_topic_failure),k}C.addTrace(dh.subscribe_session_topic_success);let N=w0(Xn({},F),{topic:U,requiredNamespaces:_,optionalNamespaces:A,pairingTopic:h,acknowledged:!1,self:F.controller,peer:{publicKey:b.publicKey,metadata:b.metadata},controller:R,transportType:Pi.relay});await this.client.session.set(U,N),C.addTrace(dh.store_session);try{await this.sendApproveSession({sessionTopic:U,proposal:p,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:R},sessionSettleRequest:F,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),C.addTrace(dh.session_approve_publish_success)}catch(k){throw this.client.logger.error(k),this.client.session.delete(U,si("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(U),k}return this.client.core.eventClient.deleteEvent({eventId:C.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:b.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(U,Ko(p9)),{topic:U,acknowledged:()=>Promise.resolve(this.client.session.get(U))}}),$e(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}let{id:n,reason:i}=r,o;try{o=this.client.proposal.get(n).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),a}o&&await this.sendError({id:n,topic:o,error:i,rpcOpts:As.wc_sessionPropose.reject}),await this.deleteProposal(n)}),$e(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}let{topic:n,namespaces:i}=r,{done:o,resolve:a,reject:s}=sh(),c=Ju(),l=Qu().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Ln("session_update",c),({error:d})=>{d?s(d):a()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:u}),s(d)}),{acknowledged:o}}),$e(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}let{topic:n}=r,i=Ju(),{done:o,resolve:a,reject:s}=sh();return this.events.once(Ln("session_extend",i),({error:c})=>{c?s(c):a()}),await this.setExpiry(n,Ko(p9)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{s(c)}),{acknowledged:o}}),$e(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(_){throw this.client.logger.error("request() -> isValidRequest() failed"),_}let{chainId:n,request:i,topic:o,expiry:a=As.wc_sessionRequest.req.ttl}=r,s=this.client.session.get(o);s?.transportType===Pi.relay&&await this.confirmOnlineStateOrThrow();let c=Ju(),l=Qu().toString(),{done:u,resolve:d,reject:f}=sh(a,"Request expired. Please try again.");this.events.once(Ln("session_request",c),({error:_,result:A})=>{_?f(_):d(A)});let p="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:o,method:p,params:{request:w0(Xn({},i),{expiryTimestamp:Ko(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0,appLink:h}).catch(_=>f(_)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:n,id:c}),await u();let b={request:w0(Xn({},i),{expiryTimestamp:Ko(a)}),chainId:n};return await Promise.all([new Promise(async _=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:o,method:p,params:b,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,b)}).catch(A=>f(A)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:n,id:c}),_()}),new Promise(async _=>{var A;if(!((A=s.sessionConfig)!=null&&A.disableDeepLink)){let C=await pMe(this.client.core.storage,tLe);await fMe({id:c,topic:o,wcDeepLink:C})}_()}),u()]).then(_=>_[2])}),$e(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);let{topic:n,response:i}=r,{id:o}=i,a=this.client.session.get(n);a.transportType===Pi.relay&&await this.confirmOnlineStateOrThrow();let s=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);Ul(i)?await this.sendResult({id:o,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:s}):y0(i)&&await this.sendError({id:o,topic:n,error:i.error,appLink:s}),this.cleanupAfterResponse(r)}),$e(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}let{topic:n}=r;if(this.client.session.keys.includes(n)){let i=Ju(),o=Qu().toString(),{done:a,resolve:s,reject:c}=sh();this.events.once(Ln("session_ping",i),({error:l})=>{l?c(l):s()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:o}),a()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),$e(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);let{topic:n,event:i,chainId:o}=r,a=Qu().toString(),s=Ju();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:o},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:s})}),$e(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);let{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:si("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{let{message:i}=st("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),$e(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>mBe(n,r)))),$e(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),$e(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);let o=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=o?Pi.link_mode:Pi.relay;a===Pi.relay&&await this.confirmOnlineStateOrThrow();let{chains:s,statement:c="",uri:l,domain:u,nonce:d,type:f,exp:p,nbf:h,methods:b=[],expiry:_}=r,A=[...r.resources||[]],{topic:C,uri:R}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:C,uri:R}});let M=await this.client.core.crypto.generateKeyPair(),U=r9(M);if(await Promise.all([this.client.auth.authKeys.set(ZF,{responseTopic:U,publicKey:M}),this.client.auth.pairingTopics.set(U,{topic:U,pairingTopic:C})]),await this.client.core.relayer.subscribe(U,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${C}`),b.length>0){let{namespace:g}=FI(s[0]),P=OMe(g,"request",b);VI(A)&&(P=NMe(P,A.pop())),A.push(P)}let F=_&&_>As.wc_sessionAuthenticate.req.ttl?_:As.wc_sessionAuthenticate.req.ttl,z={authPayload:{type:f??"caip122",chains:s,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:p,nbf:h,resources:A},requester:{publicKey:M,metadata:this.client.metadata},expiryTimestamp:Ko(F)},N={eip155:{chains:s,methods:[...new Set(["personal_sign",...b])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:N,relays:[{protocol:"irn"}],pairingTopic:C,proposer:{publicKey:M,metadata:this.client.metadata},expiryTimestamp:Ko(As.wc_sessionPropose.req.ttl),id:Ju()},{done:O,resolve:w,reject:S}=sh(F,"Request expired"),T=Ju(),m=Ln("session_connect",k.id),y=Ln("session_request",T),E=async({error:g,session:P})=>{this.events.off(y,v),g?S(g):P&&w({session:P})},v=async g=>{var P,B,I;if(await this.deletePendingAuthRequest(T,{message:"fulfilled",code:0}),g.error){let J=si("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return g.error.code===J.code?void 0:(this.events.off(m,E),S(g.error.message))}await this.deleteProposal(k.id),this.events.off(m,E);let{cacaos:L,responder:G}=g.result,H=[],$=[];for(let J of L){await pae({cacao:J,projectId:this.client.core.projectId})||(this.client.logger.error(J,"Signature verification failed"),S(si("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:X}=J,te=VI(X.resources),re=[CF(X.iss)],le=$I(X.iss);if(te){let ce=mae(te),ae=bae(te);H.push(...ce),re.push(...ae)}for(let ce of re)$.push(`${ce}:${le}`)}let K=await this.client.core.crypto.generateSharedKey(M,G.publicKey),W;H.length>0&&(W={topic:K,acknowledged:!0,self:{publicKey:M,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:Ko(p9),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:C,namespaces:Sae([...new Set(H)],[...new Set($)]),transportType:a},await this.client.core.relayer.subscribe(K,{transportType:a}),await this.client.session.set(K,W),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:G.metadata}),W=this.client.session.get(K)),(P=this.client.metadata.redirect)!=null&&P.linkMode&&(B=G.metadata.redirect)!=null&&B.linkMode&&(I=G.metadata.redirect)!=null&&I.universal&&n&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(K,{transportType:Pi.link_mode})),w({auths:L,session:W})};this.events.once(m,E),this.events.once(y,v);let x;try{if(o){let g=Ll("wc_sessionAuthenticate",z,T);this.client.core.history.set(C,g);let P=await this.client.core.crypto.encode("",g,{type:t9,encoding:ch});x=WI(n,C,P)}else await Promise.all([this.sendRequest({topic:C,method:"wc_sessionAuthenticate",params:z,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:T}),this.sendRequest({topic:C,method:"wc_sessionPropose",params:k,expiry:As.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(g){throw this.events.off(m,E),this.events.off(y,v),g}return await this.setProposal(k.id,k),await this.setAuthRequest(T,{request:w0(Xn({},z),{verifyContext:{}}),pairingTopic:C,transportType:a}),{uri:x??R,response:O}}),$e(this,"approveSessionAuthenticate",async r=>{let{id:n,auths:i}=r,o=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Cb.authenticated_session_approve_started]}});try{this.isInitialized()}catch(_){throw o.setError(f9.no_internet_connection),_}let a=this.getPendingAuthRequest(n);if(!a)throw o.setError(f9.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);let s=a.transportType||Pi.relay;s===Pi.relay&&await this.confirmOnlineStateOrThrow();let c=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=r9(c),d={type:bf,receiverPublicKey:c,senderPublicKey:l},f=[],p=[];for(let _ of i){if(!await pae({cacao:_,projectId:this.client.core.projectId})){o.setError(f9.invalid_cacao);let U=si("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:U,encodeOpts:d}),new Error(U.message)}o.addTrace(Cb.cacaos_verified);let{p:A}=_,C=VI(A.resources),R=[CF(A.iss)],M=$I(A.iss);if(C){let U=mae(C),F=bae(C);f.push(...U),R.push(...F)}for(let U of R)p.push(`${U}:${M}`)}let h=await this.client.core.crypto.generateSharedKey(l,c);o.addTrace(Cb.create_authenticated_session_topic);let b;if(f?.length>0){b={topic:h,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:a.requester.metadata},controller:c,expiry:Ko(p9),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:Sae([...new Set(f)],[...new Set(p)]),transportType:s},o.addTrace(Cb.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(h,{transportType:s})}catch(_){throw o.setError(f9.subscribe_authenticated_session_topic_failure),_}o.addTrace(Cb.subscribe_authenticated_session_topic_success),await this.client.session.set(h,b),o.addTrace(Cb.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}o.addTrace(Cb.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,s)})}catch(_){throw o.setError(f9.authenticated_session_approve_publish_failure),_}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:b}}),$e(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();let{id:n,reason:i}=r,o=this.getPendingAuthRequest(n);if(!o)throw new Error(`Could not find pending auth request with id ${n}`);o.transportType===Pi.relay&&await this.confirmOnlineStateOrThrow();let a=o.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),c=r9(a),l={type:bf,receiverPublicKey:a,senderPublicKey:s};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:As.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),$e(this,"formatAuthMessage",r=>{this.isInitialized();let{request:n,iss:i}=r;return hae(n,i)}),$e(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{let r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),$e(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{let n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(o=>{var a,s;return((a=o.peerMetadata)==null?void 0:a.url)&&((s=o.peerMetadata)==null?void 0:s.url)===r.peer.metadata.url&&o.topic&&o.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),$e(this,"deleteSession",async r=>{var n;let{topic:i,expirerHasDeleted:o=!1,emitEvent:a=!0,id:s=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,si("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),o||this.client.core.expirer.del(i),this.client.core.storage.removeItem(tLe).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,si("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=J1.idle),a&&this.client.events.emit("session_delete",{id:s,topic:i})}),$e(this,"deleteProposal",async(r,n)=>{if(n)try{let i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(d9.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,si("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),$e(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==r),i&&(this.sessionRequestQueue.state=J1.idle,this.client.events.emit("session_request_expire",{id:r}))}),$e(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),$e(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),$e(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Ko(As.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),$e(this,"setAuthRequest",async(r,n)=>{let{request:i,pairingTopic:o,transportType:a=Pi.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:o,verifyContext:i.verifyContext,transportType:a})}),$e(this,"setPendingSessionRequest",async r=>{let{id:n,topic:i,params:o,verifyContext:a}=r,s=o.request.expiryTimestamp||Ko(As.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,s),await this.client.pendingRequest.set(n,{id:n,topic:i,params:o,verifyContext:a})}),$e(this,"sendRequest",async r=>{let{topic:n,method:i,params:o,expiry:a,relayRpcId:s,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:f={}}=r,p=Ll(i,o,c),h,b=!!u;try{let C=b?ch:h0;h=await this.client.core.crypto.encode(n,p,{encoding:C})}catch(C){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),C}let _;if(mMt.includes(i)){let C=zc(JSON.stringify(p)),R=zc(h);_=await this.client.core.verify.register({id:R,decryptedId:C})}let A=Xn(Xn({},As[i].req),f);if(A.attestation=_,a&&(A.ttl=a),s&&(A.id=s),this.client.core.history.set(n,p),b){let C=WI(u,n,h);await global.Linking.openURL(C,this.client.name)}else A.tvf=w0(Xn({},d),{correlationId:p.id}),l?(A.internal=w0(Xn({},A.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,A)):this.client.core.relayer.publish(n,h,A).catch(C=>this.client.logger.error(C));return p.id}),$e(this,"sendProposeSession",async r=>{let{proposal:n,publishOpts:i}=r,o=Ll("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,o);let a=await this.client.core.crypto.encode(n.pairingTopic,o,{encoding:h0}),s=zc(JSON.stringify(o)),c=zc(a),l=await this.client.core.verify.register({id:c,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:a},opts:w0(Xn({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),$e(this,"sendApproveSession",async r=>{let{sessionTopic:n,pairingProposalResponse:i,proposal:o,sessionSettleRequest:a,publishOpts:s}=r,c=s8(o.id,i),l=await this.client.core.crypto.encode(o.pairingTopic,c,{encoding:h0}),u=Ll("wc_sessionSettle",a,s?.id),d=await this.client.core.crypto.encode(n,u,{encoding:h0});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:o.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:w0(Xn({},s),{publishMethod:"wc_approveSession"})})}),$e(this,"sendResult",async r=>{let{id:n,topic:i,result:o,throwOnFailedPublish:a,encodeOpts:s,appLink:c}=r,l=s8(n,o),u,d=c&&typeof(global==null?void 0:global.Linking)<"u";try{let h=d?ch:h0;u=await this.client.core.crypto.encode(i,l,w0(Xn({},s||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),h}let f,p;try{f=await this.client.core.history.get(i,n);let h=f.request;try{p=this.getTVFParams(n,h.params,o)}catch(b){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${b?.message}`)}}catch(h){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),h}if(d){let h=WI(c,i,u);await global.Linking.openURL(h,this.client.name)}else{let h=f.request.method,b=As[h].res;b.tvf=w0(Xn({},p),{correlationId:n}),a?(b.internal=w0(Xn({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,b)):this.client.core.relayer.publish(i,u,b).catch(_=>this.client.logger.error(_))}await this.client.core.history.resolve(l)}),$e(this,"sendError",async r=>{let{id:n,topic:i,error:o,encodeOpts:a,rpcOpts:s,appLink:c}=r,l=c8(n,o),u,d=c&&typeof(global==null?void 0:global.Linking)<"u";try{let p=d?ch:h0;u=await this.client.core.crypto.encode(i,l,w0(Xn({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,n)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),p}if(d){let p=WI(c,i,u);await global.Linking.openURL(p,this.client.name)}else{let p=f.request.method,h=s||As[p].res;this.client.core.relayer.publish(i,u,h)}await this.client.core.history.resolve(l)}),$e(this,"cleanup",async()=>{let r=[],n=[];this.client.session.getAll().forEach(i=>{let o=!1;V1(i.expiry)&&(o=!0),this.client.core.crypto.keychain.has(i.topic)||(o=!0),o&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{V1(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),$e(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),$e(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),$e(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===J1.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=J1.active;let r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=J1.idle}),$e(this,"processRequest",async r=>{let{topic:n,payload:i,attestation:o,transportType:a,encryptedId:s}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:o,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:o,encryptedId:s,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:o,encryptedId:s,transportType:a});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),$e(this,"onRelayEventResponse",async r=>{let{topic:n,payload:i,transportType:o}=r,a=(await this.client.core.history.get(n,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,o);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),$e(this,"onRelayEventUnknownPayload",r=>{let{topic:n}=r,{message:i}=st("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),$e(this,"shouldIgnorePairingRequest",r=>{let{topic:n,requestMethod:i}=r,o=this.expectedPairingMethodMap.get(n);return!o||o.includes(i)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),$e(this,"onSessionProposeRequest",async r=>{let{topic:n,payload:i,attestation:o,encryptedId:a}=r,{params:s,id:c}=i;try{let l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(q1.proposal_listener_not_found)),this.isValidConnect(Xn({},i.params));let u=s.expiryTimestamp||Ko(As.wc_sessionPropose.req.ttl),d=Xn({id:c,pairingTopic:n,expiryTimestamp:u,attestation:o,encryptedId:a},s);await this.setProposal(c,d);let f=await this.getVerifyContext({attestationId:o,hash:zc(JSON.stringify(i)),encryptedId:a,metadata:d.proposer.metadata});l?.addTrace(gf.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:As.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),$e(this,"onSessionProposeResponse",async(r,n,i)=>{let{id:o}=n;if(Ul(n)){let{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});let s=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let c=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});let l=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});let u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(o,{sessionTopic:u,pairingTopic:r,proposalId:o,publicKey:c});let d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(y0(n)){await this.deleteProposal(o);let a=Ln("session_connect",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:n.error})}}),$e(this,"onSessionSettleRequest",async(r,n)=>{let{id:i,params:o}=n;try{this.isValidSessionSettleRequest(o);let{relay:a,controller:s,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=n.params,p=[...this.pendingSessions.values()].find(_=>_.sessionTopic===r);if(!p)return this.client.logger.error(`Pending session not found for topic ${r}`);let h=this.client.proposal.get(p.proposalId),b=w0(Xn(Xn(Xn({topic:r,relay:a,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,controller:s.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:s.publicKey,metadata:s.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:Pi.relay});await this.client.session.set(b.topic,b),await this.setExpiry(b.topic,b.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:b.peer.metadata}),this.client.events.emit("session_connect",{session:b}),this.events.emit(Ln("session_connect",p.proposalId),{session:b}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(b),await this.sendResult({id:n.id,topic:r,result:!0})}catch(a){await this.sendError({id:i,topic:r,error:a}),this.client.logger.error(a)}}),$e(this,"onSessionSettleResponse",async(r,n)=>{let{id:i}=n;Ul(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Ln("session_approve",i),{})):y0(n)&&(await this.client.session.delete(r,si("USER_DISCONNECTED")),this.events.emit(Ln("session_approve",i),{error:n.error}))}),$e(this,"onSessionUpdateRequest",async(r,n)=>{let{params:i,id:o}=n;try{let a=`${r}_session_update`,s=xb.get(a);if(s&&this.isRequestOutOfSync(s,o)){this.client.logger.warn(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:r,error:si("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Xn({topic:r},i));try{xb.set(a,o),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:o,topic:r,result:!0})}catch(c){throw xb.delete(a),c}this.client.events.emit("session_update",{id:o,topic:r,params:i})}catch(a){await this.sendError({id:o,topic:r,error:a}),this.client.logger.error(a)}}),$e(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),$e(this,"onSessionUpdateResponse",(r,n)=>{let{id:i}=n,o=Ln("session_update",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Ul(n)?this.events.emit(Ln("session_update",i),{}):y0(n)&&this.events.emit(Ln("session_update",i),{error:n.error})}),$e(this,"onSessionExtendRequest",async(r,n)=>{let{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Ko(p9)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),$e(this,"onSessionExtendResponse",(r,n)=>{let{id:i}=n,o=Ln("session_extend",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Ul(n)?this.events.emit(Ln("session_extend",i),{}):y0(n)&&this.events.emit(Ln("session_extend",i),{error:n.error})}),$e(this,"onSessionPingRequest",async(r,n)=>{let{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),$e(this,"onSessionPingResponse",(r,n)=>{let{id:i}=n,o=Ln("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners 2176`);Ul(n)?this.events.emit(Ln("session_ping",i),{}):y0(n)&&this.events.emit(Ln("session_ping",i),{error:n.error})},500)}),$e(this,"onSessionDeleteRequest",async(r,n)=>{let{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(o=>{this.client.core.relayer.once(_o.publish,async()=>{o(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:si("USER_DISCONNECTED")})]).catch(o=>this.client.logger.error(o))}catch(o){this.client.logger.error(o)}}),$e(this,"onSessionRequest",async r=>{var n,i,o;let{topic:a,payload:s,attestation:c,encryptedId:l,transportType:u}=r,{id:d,params:f}=s;try{await this.isValidRequest(Xn({topic:a},f));let p=this.client.session.get(a),h=await this.getVerifyContext({attestationId:c,hash:zc(JSON.stringify(Ll("wc_sessionRequest",f,d))),encryptedId:l,metadata:p.peer.metadata,transportType:u}),b={id:d,topic:a,params:f,verifyContext:h};await this.setPendingSessionRequest(b),u===Pi.link_mode&&(n=p.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(b):(this.addSessionRequestToSessionRequestQueue(b),this.processSessionRequestQueue())}catch(p){await this.sendError({id:d,topic:a,error:p}),this.client.logger.error(p)}}),$e(this,"onSessionRequestResponse",(r,n)=>{let{id:i}=n,o=Ln("session_request",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Ul(n)?this.events.emit(Ln("session_request",i),{result:n.result}):y0(n)&&this.events.emit(Ln("session_request",i),{error:n.error})}),$e(this,"onSessionEventRequest",async(r,n)=>{let{id:i,params:o}=n;try{let a=`${r}_session_event_${o.event.name}`,s=xb.get(a);if(s&&this.isRequestOutOfSync(s,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Xn({topic:r},o)),this.client.events.emit("session_event",{id:i,topic:r,params:o}),xb.set(a,i)}catch(a){await this.sendError({id:i,topic:r,error:a}),this.client.logger.error(a)}}),$e(this,"onSessionAuthenticateResponse",(r,n)=>{let{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Ul(n)?this.events.emit(Ln("session_request",i),{result:n.result}):y0(n)&&this.events.emit(Ln("session_request",i),{error:n.error})}),$e(this,"onSessionAuthenticateRequest",async r=>{var n;let{topic:i,payload:o,attestation:a,encryptedId:s,transportType:c}=r;try{let{requester:l,authPayload:u,expiryTimestamp:d}=o.params,f=await this.getVerifyContext({attestationId:a,hash:zc(JSON.stringify(o)),encryptedId:s,metadata:l.metadata,transportType:c}),p={requester:l,pairingTopic:i,id:o.id,authPayload:u,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(o.id,{request:p,pairingTopic:i,transportType:c}),c===Pi.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:o.params,id:o.id,verifyContext:f})}catch(l){this.client.logger.error(l);let u=o.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(o.params.requester.metadata,c),p={type:bf,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:o.id,topic:i,error:l,encodeOpts:p,rpcOpts:As.wc_sessionAuthenticate.autoReject,appLink:f})}}),$e(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),$e(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=J1.idle,this.processSessionRequestQueue()},(0,ln.toMiliseconds)(this.requestQueueDelay))}),$e(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{let i=this.client.core.history.pending;i.length>0&&i.filter(o=>o.topic===r&&o.request.method==="wc_sessionRequest").forEach(o=>{let a=o.request.id,s=Ln("session_request",a);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);this.events.emit(Ln("session_request",o.request.id),{error:n})})}),$e(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===J1.active){this.client.logger.info("session request queue is already active.");return}let r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),$e(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=J1.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),$e(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;let n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Ll("wc_sessionPropose",w0(Xn({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),$e(this,"isValidConnect",async r=>{if(!m0(r)){let{message:l}=st("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}let{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:s,relays:c}=r;if(Vo(n)||await this.isValidPairingTopic(n),!xBe(c,!0)){let{message:l}=st("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Vo(i)&&o9(i)!==0){let l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!Vo(o)&&o9(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),Vo(a)||this.validateSessionProps(a,"sessionProperties"),!Vo(s)){this.validateSessionProps(s,"scopedProperties");let l=Object.keys(i||{}).concat(Object.keys(o||{}));if(!Object.keys(s).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),$e(this,"validateNamespaces",(r,n)=>{let i=EBe(r,"connect()",n);if(i)throw new Error(i.message)}),$e(this,"isValidApprove",async r=>{if(!m0(r))throw new Error(st("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:i,relayProtocol:o,sessionProperties:a,scopedProperties:s}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);let c=this.client.proposal.get(n),l=BF(i,"approve()");if(l)throw new Error(l.message);let u=Pae(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!To(o,!0)){let{message:d}=st("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(d)}if(Vo(a)||this.validateSessionProps(a,"sessionProperties"),!Vo(s)){this.validateSessionProps(s,"scopedProperties");let d=new Set(Object.keys(i));if(!Object.keys(s).every(f=>d.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),$e(this,"isValidReject",async r=>{if(!m0(r)){let{message:o}=st("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(o)}let{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!TBe(i)){let{message:o}=st("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(o)}}),$e(this,"isValidSessionSettleRequest",r=>{if(!m0(r)){let{message:l}=st("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}let{relay:n,controller:i,namespaces:o,expiry:a}=r;if(!Cae(n)){let{message:l}=st("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let s=wBe(i,"onSessionSettleRequest()");if(s)throw new Error(s.message);let c=BF(o,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(V1(a)){let{message:l}=st("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),$e(this,"isValidUpdate",async r=>{if(!m0(r)){let{message:c}=st("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}let{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let o=this.client.session.get(n),a=BF(i,"update()");if(a)throw new Error(a.message);let s=Pae(o.requiredNamespaces,i,"update()");if(s)throw new Error(s.message)}),$e(this,"isValidExtend",async r=>{if(!m0(r)){let{message:i}=st("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}let{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),$e(this,"isValidRequest",async r=>{if(!m0(r)){let{message:c}=st("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}let{topic:n,request:i,chainId:o,expiry:a}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:s}=this.client.session.get(n);if(!Rae(s,o)){let{message:c}=st("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(c)}if(!_Be(i)){let{message:c}=st("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!CBe(s,o,i.method)){let{message:c}=st("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(a&&!PBe(a,Tse)){let{message:c}=st("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${Tse.min} and ${Tse.max}`);throw new Error(c)}}),$e(this,"isValidRespond",async r=>{var n;if(!m0(r)){let{message:a}=st("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}let{topic:i,response:o}=r;try{await this.isValidSessionTopic(i)}catch(a){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!SBe(o)){let{message:a}=st("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(a)}}),$e(this,"isValidPing",async r=>{if(!m0(r)){let{message:i}=st("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),$e(this,"isValidEmit",async r=>{if(!m0(r)){let{message:s}=st("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(s)}let{topic:n,event:i,chainId:o}=r;await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!Rae(a,o)){let{message:s}=st("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(s)}if(!IBe(i)){let{message:s}=st("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(s)}if(!RBe(a,o,i.name)){let{message:s}=st("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(s)}}),$e(this,"isValidDisconnect",async r=>{if(!m0(r)){let{message:i}=st("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),$e(this,"isValidAuthenticate",r=>{let{chains:n,uri:i,domain:o,nonce:a}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!To(i,!1))throw new Error("uri is required parameter");if(!To(o,!1))throw new Error("domain is required parameter");if(!To(a,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>FI(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:s}=FI(n[0]);if(s!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),$e(this,"getVerifyContext",async r=>{let{attestationId:n,hash:i,encryptedId:o,metadata:a,transportType:s}=r,c={verified:{verifyUrl:a.verifyUrl||u9,validation:"UNKNOWN",origin:a.url||""}};try{if(s===Pi.link_mode){let u=this.getAppLinkIfEnabled(a,s);return c.verified.validation=u&&new URL(u).origin===new URL(a.url).origin?"VALID":"INVALID",c}let l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:o,verifyUrl:a.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),$e(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,o)=>{if(i==null){let{message:a}=st("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[o]}`);throw new Error(a)}})}),$e(this,"getPendingAuthRequest",r=>{let n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),$e(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0,o=this.recentlyDeletedLimit/2;for(let a of this.recentlyDeletedMap.keys()){if(i++>=o)break;this.recentlyDeletedMap.delete(a)}}}),$e(this,"checkRecentlyDeleted",r=>{let n=this.recentlyDeletedMap.get(r);if(n){let{message:i}=st("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),$e(this,"isLinkModeEnabled",(r,n)=>{var i,o,a,s,c,l,u,d,f;return!r||n!==Pi.link_mode?!1:((o=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:o.linkMode)===!0&&((s=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:s.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((d=r?.redirect)==null?void 0:d.universal)!==""&&((f=r?.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),$e(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),$e(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;let n=rae(r,"topic")||"",i=decodeURIComponent(rae(r,"wc_ev")||""),o=this.client.session.keys.includes(n);o&&this.client.session.update(n,{transportType:Pi.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:o})}),$e(this,"registerLinkModeListeners",async()=>{var r;if(GI()||ah()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){let n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);let i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),$e(this,"getTVFParams",(r,n,i)=>{var o,a,s;if(!((o=n.request)!=null&&o.method))return{};let c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{let l=this.extractTxHashesFromResult(n.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(s=(a=n.request.params)==null?void 0:a[0])==null?void 0:s.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),$e(this,"isValidContractData",r=>{var n;if(!r)return!1;try{let i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;let o=i.slice(2);return/^[0-9a-fA-F]*$/.test(o)?o.length%2===0:!1}catch{}return!1}),$e(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];let o=r.method,a=pMt[o];if(o==="sui_signTransaction")return[CMe(n.transactionBytes)];if(o==="near_signTransaction")return[uae(n)];if(o==="near_signTransactions")return n.map(c=>uae(c));if(o==="xrpl_signTransactionFor"||o==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(o==="polkadot_signTransaction")return[kBe({transaction:r.params.transactionPayload,signature:n.signature})];if(o==="algo_signTxn")return lh(n)?n.map(c=>dae(c)):[dae(n)];if(o==="cosmos_signDirect")return[RMe(n)];if(typeof n=="string")return[n];let s=n[a.key];if(lh(s))return o==="solana_signAllTransactions"?s.map(c=>IMe(c)):s;if(typeof s=="string")return[s]}catch(o){this.client.logger.warn("Error extracting tx hashes from result",o)}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(let[n,i]of Object.entries(r))for(let o of i)try{await this.onProviderMessageEvent({topic:n,message:o,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${o}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){let{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_o.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:r,message:n,attestation:i,transportType:o}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(ZF)?this.client.auth.authKeys.get(ZF):{responseTopic:void 0,publicKey:void 0};try{let s=await this.client.core.crypto.decode(r,n,{receiverPublicKey:a,encoding:o===Pi.link_mode?ch:h0});s9(s)?(this.client.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s,attestation:i,transportType:o,encryptedId:zc(n)})):Sb(s)?(await this.client.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s,transportType:o}),this.client.core.history.delete(r,s.id)):await this.onRelayEventUnknownPayload({topic:r,payload:s,transportType:o}),await this.client.core.relayer.messages.ack(r,n)}catch(s){this.client.logger.error(s)}}registerExpirerEvents(){this.client.core.expirer.on(Gl.expired,async e=>{let{topic:r,id:n}=SF(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,st("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,st("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ib.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Ib.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!To(e,!1)){let{message:r}=st("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:r}=st("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(V1(this.client.core.pairing.pairings.get(e).expiry)){let{message:r}=st("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!To(e,!1)){let{message:r}=st("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:r}=st("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(V1(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:r}=st("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){let{message:r}=st("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(To(e,!1)){let{message:r}=st("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=st("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!ABe(e)){let{message:r}=st("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=st("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(V1(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:r}=st("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},Cse=class extends Y1{constructor(e,r){super(e,r,uMt,Bse),this.core=e,this.logger=r}},Rse=class extends Y1{constructor(e,r){super(e,r,dMt,Bse),this.core=e,this.logger=r}},Pse=class extends Y1{constructor(e,r){super(e,r,hMt,Bse,n=>n.id),this.core=e,this.logger=r}},Ose=class extends Y1{constructor(e,r){super(e,r,gMt,tH,()=>ZF),this.core=e,this.logger=r}},Nse=class extends Y1{constructor(e,r){super(e,r,wMt,tH),this.core=e,this.logger=r}},kse=class extends Y1{constructor(e,r){super(e,r,vMt,tH,n=>n.id),this.core=e,this.logger=r}},SMt=Object.defineProperty,IMt=(t,e,r)=>e in t?SMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_se=(t,e,r)=>IMt(t,typeof e!="symbol"?e+"":e,r),Mse=class{constructor(e,r){this.core=e,this.logger=r,_se(this,"authKeys"),_se(this,"pairingTopics"),_se(this,"requests"),this.authKeys=new Ose(this.core,this.logger),this.pairingTopics=new Nse(this.core,this.logger),this.requests=new kse(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},CMt=Object.defineProperty,RMt=(t,e,r)=>e in t?CMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fn=(t,e,r)=>RMt(t,typeof e!="symbol"?e+"":e,r),XF=class t extends uU{constructor(e){super(e),fn(this,"protocol",iLe),fn(this,"version",oLe),fn(this,"name",Ase.name),fn(this,"metadata"),fn(this,"core"),fn(this,"logger"),fn(this,"events",new eH.EventEmitter),fn(this,"engine"),fn(this,"session"),fn(this,"proposal"),fn(this,"pendingRequest"),fn(this,"auth"),fn(this,"signConfig"),fn(this,"on",(n,i)=>this.events.on(n,i)),fn(this,"once",(n,i)=>this.events.once(n,i)),fn(this,"off",(n,i)=>this.events.off(n,i)),fn(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),fn(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),fn(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),fn(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(o){throw this.logger.error(o.message),o}}),fn(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),fn(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||Ase.name,this.metadata=sMe(e?.metadata),this.signConfig=e?.signConfig;let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:(0,NS.default)(MS({level:e?.logger||Ase.logger}));this.core=e?.core||new XDe(e),this.logger=ms(r,this.name),this.session=new Rse(this.core,this.logger),this.proposal=new Cse(this.core,this.logger),this.pendingRequest=new Pse(this.core,this.logger),this.engine=new Ise(this),this.auth=new Mse(this.core,this.logger)}static async init(e){let r=new t(e);return await r.initialize(),r}get context(){return a0(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}});async function cLe(t){if(t.session.length){let e=t.session.keys.length-1;return t.session.get(t.session.keys[e])}return null}function PMt(){return/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function OMt(t){return t.startsWith("solana:")}async function Rb(t,e,r,n){let i=await cLe(t);if(!i)throw Fo.disconnected();return typeof window<"u"&&PMt()&&i.peer.metadata.redirect&&i.peer.metadata.redirect.native&&window.open(i.peer.metadata.redirect.native,"_blank"),t.request({topic:i.topic,chainId:e,request:{method:r,params:OMt(e)?q(q({},n),{},{pubkey:i.self.publicKey}):n}})}async function l8(t){let e=await cLe(t);if(!e)throw Fo.disconnected();let r=AF(e.namespaces);if(r&&r.length)return[...new Set(r.map(n=>xF(n).address))];throw Xe.connectionError("Failed to get accounts")}function lLe({connector:t,chainId:e}){return{getPrivateKey:async()=>{throw Lr.methodNotSupported()},getPublicKey:async()=>{throw Lr.methodNotSupported()},getAccounts:async r=>l8(t),processTransaction:async(r,n)=>await Rb(t,`eip155:${e}`,Li.ETH_TRANSACTION,[r]),processSignTransaction:async(r,n)=>await Rb(t,`eip155:${e}`,"eth_signTransaction",[r]),processEthSignMessage:async(r,n)=>await Rb(t,`eip155:${e}`,Li.ETH_SIGN,[r.from,r.data]),processPersonalMessage:async(r,n)=>await Rb(t,`eip155:${e}`,Li.PERSONAL_SIGN,[r.data,r.from]),processTypedMessageV4:async r=>await Rb(t,`eip155:${e}`,Li.ETH_SIGN_TYPED_DATA_V4,[r.from,r.data])}}function uLe({connector:t,chainId:e}){return{requestAccounts:async r=>l8(t),getPrivateKey:async()=>{throw Lr.methodNotSupported()},getSecretKey:async()=>{throw Lr.methodNotSupported()},getPublicKey:async()=>{throw Lr.methodNotSupported()},getAccounts:async r=>l8(t),signAllTransactions:async r=>{throw Lr.methodNotSupported()},signAndSendTransaction:async r=>{throw Lr.methodNotSupported()},signMessage:async r=>(await Rb(t,`solana:${am[e]}`,zn.SIGN_MESSAGE,{message:kd.encode(Buffer.from(r.params.data,"utf-8"))})).signature,signTransaction:async r=>{if((await l8(t)).length===0)throw Fo.disconnected();return(await Rb(t,`solana:${am[e]}`,zn.SIGN_TRANSACTION,{transaction:r.params.message})).signature}}}async function dLe({connector:t,chainId:e,newChainId:r}){await Rb(t,`eip155:${e}`,"wallet_switchEthereumChain",[{chainId:r}])}var fLe=D(()=>{nt();ZN();a9();_i();dg();ma();l4()});function pLe({getAccounts:t,getPrivateKey:e,getPublicKey:r,processEthSignMessage:n,processPersonalMessage:i,processTransaction:o,processSignTransaction:a,processTypedMessageV4:s}){if(!t)throw new Error("opts.getAccounts is required");async function c(A,C){if(typeof A=="string"&&A.length>0){let M=(await t(C)).map(F=>F.toLowerCase()),U=A.toLowerCase();if(M.includes(U))return U}throw Lr.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function l(A,C){C.result=await t(A)}async function u(A,C){if(!o)throw Lr.methodNotSupported();let R=A.params[0]||{from:""};R.from=await c(R.from,A),C.result=await o(R,A)}async function d(A,C){if(!a)throw Lr.methodNotSupported();let R=A.params[0]||{from:""};R.from=await c(R.from,A),C.result=await a(R,A)}async function f(A,C){if(!n)throw Lr.methodNotSupported();let R=A.params,M=A.params[2]||{};if(Array.isArray(A.params)){if(A.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${A.method} method. expected [address, message]`);let U=A.params,F=U[0],z=U[1];R={from:F,data:z}}R=q(q({},M),R),C.result=await n(R,A)}async function p(A,C){if(!s)throw Lr.methodNotSupported();if(!(A!=null&&A.params))throw new Error("WalletMiddleware - missing params");let R=A.params;if(Array.isArray(A.params)){if(A.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${A.method} method. expected [address, typedData]`);let M=A.params,U=M[0],F=M[1];R={from:U,data:F}}C.result=await s(R,A)}async function h(A,C){if(!i)throw Lr.methodNotSupported();let R=A.params,M=A.params[2]||{};if(Array.isArray(A.params)){if(!(A.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${A.method} method. expected [message, address]`);let U=A.params;if(typeof U[0]=="object"){let{challenge:F,address:z}=U[0];R={from:z,data:F}}else{let F=U[0];R={from:U[1],data:F}}}R=q(q({},M),R),C.result=await i(R,A)}async function b(A,C){if(!e)throw Lr.methodNotSupported();C.result=await e(A)}async function _(A,C){if(!r)throw Lr.methodNotSupported();C.result=await r(A)}return Ud({eth_accounts:tn(l),eth_requestAccounts:tn(l),eth_private_key:tn(b),eth_public_key:tn(_),public_key:tn(_),private_key:tn(b),eth_sendTransaction:tn(u),eth_signTransaction:tn(d),eth_sign:tn(f),eth_signTypedData_v4:tn(p),personal_sign:tn(h)})}var hLe=D(()=>{nt();_i()});function mLe(t){let{getAccounts:e,getPrivateKey:r,getPublicKey:n,processTransaction:i,processSignTransaction:o,processEthSignMessage:a,processTypedMessageV4:s,processPersonalMessage:c}=t;return Su([Ud({eth_syncing:!1}),pLe({getAccounts:e,getPrivateKey:r,getPublicKey:n,processTransaction:i,processEthSignMessage:a,processSignTransaction:o,processTypedMessageV4:s,processPersonalMessage:c})])}function bLe({switchChain:t}){async function e(r,n){var i;let o=(i=r.params)!==null&&i!==void 0&&i.length?r.params[0]:void 0;if(!o)throw Lr.invalidParams("Missing chainId");n.result=await t(o)}return Ud({wallet_switchEthereumChain:tn(e)})}var yLe=D(()=>{_i();hLe()});function NMt(t){return(e,r,n,i)=>e.method==="eth_chainId"?(r.result=t,i()):n()}function kMt(t){return(e,r,n,i)=>e.method==="eth_provider_config"?(r.result=t,i()):n()}function gLe(t){let{chainId:e,rpcTarget:r}=t,n=tg({rpcTarget:r});return{networkMiddleware:Su([NMt(e),kMt(t),n]),fetchMiddleware:n}}var wLe=D(()=>{Ho();_i()});var vLe,fh,Dse=D(()=>{nt();Ye();a9();_i();fLe();yLe();wLe();Fre();Ure();ag();Ho();ma();jd();fh=class extends xc{constructor({config:e,state:r,connector:n}){super({config:{chain:e.chain,chains:e.chains,skipLookupNetwork:!!e.skipLookupNetwork},state:q(q({},r||{}),{},{chainId:"loading",accounts:[]})}),V(this,"connector",null),this.connector=n||null}async enable(){if(!this.connector)throw Fo.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e,this.config.chain.chainId)}async switchChain({chainId:e}){if(!this.connector)throw Fo.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});let r=this.getChain(e),{chainId:n}=r,i=parseInt(n,16);await dLe({connector:this.connector,chainId:i,newChainId:e}),await this.setupEngine(this.connector,e),this.lookupNetwork(this.connector,e),this.update({chainId:e})}async lookupNetwork(e,r){return r}async setupEngine(e,r){let n=this.getChain(r);if(n.chainNamespace===pt.EIP155)await this.setupEthEngine(e,r);else if(n.chainNamespace===pt.SOLANA)await this.setupSolEngine(e,r);else throw new Error(`Unsupported chainNamespace: ${n.chainNamespace}`);this.emit("chainChanged",r),this.emit("connect",{chainId:r}),this.update({chainId:r})}async setupEthEngine(e,r){let n=this.getChain(r),i=parseInt(r,16),o=lLe({connector:e,chainId:i}),a=await l8(e);this.update({accounts:a||[]});let s=mLe(o),c=this.getEthChainSwitchMiddleware(),l=new zs,{networkMiddleware:u}=gLe(n);l.push(s),l.push(c),l.push(u);let d=wl(l);this.updateProviderEngineProxy(d)}async setupSolEngine(e,r){let n=this.getChain(r),i=uLe({connector:e,chainId:r}),o=await l8(e);this.update({accounts:o||[]});let a=NL(i),s=new zs,{networkMiddleware:c}=tCe(n);s.push(a),s.push(c);let l=wl(s);this.updateProviderEngineProxy(l)}getEthChainSwitchMiddleware(){return bLe({switchChain:async n=>{let{chainId:i}=n;await this.switchChain({chainId:i})}})}connectedTopic(){var e;if(!this.connector)throw Xe.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(e=e.session)!==null&&e!==void 0&&e.length){var r;let n=this.connector.session.keys.length-1;return(r=this.connector.session.get(this.connector.session.keys[n]))===null||r===void 0?void 0:r.topic}}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;let r=this.connector.session.get(this.connectedTopic()),n=AF(r.namespaces),i=!1;for(let a of n){var o;if(((o=xF(a).address)===null||o===void 0?void 0:o.toLowerCase())===e?.toLowerCase()){i=!0;break}}return i}async onConnectorStateUpdate(e){e.events.on("session_event",async r=>{if(Be.debug("session_event data",r),!this.provider)throw Xe.notConnectedError("Wallet connect connector is not connected");let{event:n}=r.params,{name:i,data:o}=n||{};if(i==="accountsChanged"&&o!==null&&o!==void 0&&o.length&&this.state.accounts[0]!==o[0]&&this.checkIfAccountAllowed(o[0])&&(this.update({accounts:o}),this.emit("accountsChanged",o)),n.name==="chainChanged"){if(!o)return;let s=`0x${o.toString(16)}`,{currentChain:c}=this;s&&c.chainId!==s&&await this.setupEngine(e,s)}})}};vLe=fh;V(fh,"getProviderInstance",async t=>{let e=new vLe({config:{chain:t.chain,chains:t.chains,skipLookupNetwork:t.skipLookupNetwork}});return await e.setupProvider(t.connector),e})});var ELe,Lse,xLe,ALe=D(()=>{nt();Ye();Ho();sLe();a9();dg();ELe=ve(Do());Zre();Dse();X7();lm();m6();ku();ma();jd();og();u4();Z_();Lse=class extends E1{constructor(e){var r,n,i,o,a;super(e),V(this,"name",it.WALLET_CONNECT_V2),V(this,"connectorNamespace",Zo.MULTICHAIN),V(this,"currentChainNamespace",pt.OTHER),V(this,"type",ba.EXTERNAL),V(this,"connectorOptions",void 0),V(this,"status",Oe.NOT_READY),V(this,"connectorData",{uri:""}),V(this,"connector",null),V(this,"activeSession",null),V(this,"wcProvider",null),V(this,"analytics",void 0),this.connectorOptions=q({},e);let{qrcodeModal:s,walletConnectInitOptions:c}=e?.connectorSettings||{};this.connectorOptions=q(q({},this.connectorOptions),{},{connectorSettings:(r=(n=this.connectorOptions)===null||n===void 0?void 0:n.connectorSettings)!==null&&r!==void 0?r:{},loginSettings:(i=(o=this.connectorOptions)===null||o===void 0?void 0:o.loginSettings)!==null&&i!==void 0?i:{}}),this.analytics=e.analytics,s&&(this.connectorOptions.connectorSettings.qrcodeModal=s),c&&(this.connectorOptions.connectorSettings.walletConnectInitOptions=q(q({},(a=this.connectorOptions.connectorSettings.walletConnectInitOptions)!==null&&a!==void 0?a:{}),c));let{loginSettings:l}=e;l&&(this.connectorOptions.loginSettings=q(q({},this.connectorOptions.loginSettings||{}),l))}get connected(){return!!this.activeSession}get provider(){return this.status!==Oe.NOT_READY&&this.wcProvider?this.wcProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var r;let n=this.coreOptions.chains.find(c=>c.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:n});let i=(r=this.connectorOptions.connectorSettings)===null||r===void 0||(r=r.walletConnectInitOptions)===null||r===void 0?void 0:r.projectId,o=this.coreOptions.chains.filter(c=>c.chainNamespace===pt.EIP155||c.chainNamespace===pt.SOLANA);if(o.length===0)throw tt.invalidParams("No supported chains found");let a=await DL(o,i);(!this.connectorOptions.loginSettings||Object.keys(this.connectorOptions.loginSettings).length===0)&&(this.connectorOptions.loginSettings=a.loginSettings),this.connectorOptions.connectorSettings=(0,ELe.default)(a.connectorSettings||{},this.connectorOptions.connectorSettings||{});let{connectorSettings:s}=this.connectorOptions;if(this.connector=await XF.init(s?.walletConnectInitOptions),this.wcProvider=new fh({config:{chain:n,chains:this.coreOptions.chains},connector:this.connector}),this.emit(ot.READY,it.WALLET_CONNECT_V2),this.status=Oe.READY,Be.debug("initializing wallet connect v2 connector"),e.autoConnect)if(await this.checkForPersistedSession(),this.connected){this.rehydrated=!0;try{await this.onConnectHandler({chain:n})}catch(c){Be.error("wallet auto connect",c),this.emit(ot.REHYDRATION_ERROR,c)}}else this.status=Oe.NOT_READY,this.emit(ot.CACHE_CLEAR)}async connect({chainId:e}){super.checkConnectionRequirements();let r=this.coreOptions.chains.find(c=>c.chainId===e);if(!r)throw Xe.connectionError("Chain config is not available");if(!this.connector)throw tt.notReady("Wallet connector is not ready yet");let n=!this.connected&&!this.rehydrated,i=Date.now(),o={connector:this.name,connector_type:this.type,is_injected:this.isInjected,is_wallet_connect:!0,chain_id:Vd(r),chain_name:r?.displayName,chain_namespace:r?.chainNamespace};try{let c=()=>{if(n){var l,u,d;let{name:f,url:p,redirect:h}=((l=this.activeSession)===null||l===void 0||(l=l.peer)===null||l===void 0?void 0:l.metadata)||{},{native:b,universal:_,linkMode:A}=h||{};o=q(q({},o),{},{connector:f||this.name,wallet_url:p,redirect_native:b,redirect_universal:_,redirect_link_mode_enabled:A}),(u=this.analytics)===null||u===void 0||u.track(Ur.CONNECTION_STARTED,o),(d=this.analytics)===null||d===void 0||d.track(Ur.CONNECTION_COMPLETED,q(q({},o),{},{duration:Date.now()-i}))}};return this.connected?(await this.onConnectHandler({chain:r}),this.provider):(this.status!==Oe.CONNECTING&&await this.createNewSession({chainConfig:r,trackCompletionEvents:c}),this.provider)}catch(c){if(Be.error("Wallet connect v2 connector error while connecting",c),this.status=Oe.READY,this.rehydrated=!0,this.emit(ot.ERRORED,c),n){var a,s;(a=this.analytics)===null||a===void 0||a.track(Ur.CONNECTION_STARTED,o),(s=this.analytics)===null||s===void 0||s.track(Ur.CONNECTION_FAILED,q(q(q({},o),H7(c)),{},{duration:Date.now()-i}))}throw c instanceof ro?c:Xe.connectionError(`Failed to login with wallet connect: ${c?.message||""}`,c)}}async switchChain(e,r=!1){if(super.checkSwitchChainRequirements(e,r),!this.wcProvider)throw tt.notReady("Wallet Connect provider is not ready yet");try{await this.wcProvider.switchChain({chainId:e.chainId})}catch(n){throw Be.error("error while switching chain",n),n}}async getUserInfo(){if(!this.connected)throw Xe.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async disconnect(e={cleanup:!1,sessionRemovedByWallet:!1}){var r,n;let{cleanup:i}=e;if(!this.connector||!this.connected||!((r=this.activeSession)!==null&&r!==void 0&&r.topic))throw Xe.notConnectedError("Not connected with wallet");e.sessionRemovedByWallet||await this.connector.disconnect({topic:(n=this.activeSession)===null||n===void 0?void 0:n.topic,reason:si("USER_DISCONNECTED")}),this.rehydrated=!1,i?(this.connector=null,this.status=Oe.NOT_READY,this.wcProvider=null):this.status=Oe.READY,this.activeSession=null,this.emit(ot.DISCONNECTED)}async getIdentityToken(){if(!this.provider||this.status!==Oe.CONNECTED)throw Xe.notConnectedError();let{chainId:e}=this.provider,r=this.coreOptions.chains.find(o=>o.chainId===e);if(!r)throw Xe.connectionError("Chain config is not available");let{chainNamespace:n}=r,i=await this.provider.request({method:n===pt.EIP155?Li.GET_ACCOUNTS:zn.GET_ACCOUNTS});if(i&&i.length>0){let o=W4(i[0],this.name);if(o&&!q4(o))return{idToken:o};let a={domain:window.location.origin,uri:window.location.href,address:i[0],chainId:parseInt(e,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},s=await ng(a,n),c=await this._getSignedMessage(s,i,n),l=await ig(n,c,s,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return Y4(i[0],this.name,l),{idToken:l}}throw Xe.notConnectedError("Not connected with wallet, Please login/connect first")}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}cleanupPendingPairings(){if(!this.connector)throw tt.notReady("Wallet connector is not ready yet");let e=this.connector.pairing.getAll({active:!1});lh(e)&&e.forEach(r=>{this.connector&&this.connector.pairing.delete(r.topic,si("USER_DISCONNECTED"))})}async checkForPersistedSession(){if(!this.connector)throw tt.notReady("Wallet connector is not ready yet");if(this.connector.session.length){let e=this.connector.session.keys.length-1;this.activeSession=this.connector.session.get(this.connector.session.keys[e])}return this.activeSession}async createNewSession({forceNewSession:e=!1,chainConfig:r,trackCompletionEvents:n}){try{var i,o;if(!this.connector)throw tt.notReady("Wallet connector is not ready yet");if(!this.connectorOptions.loginSettings||Object.keys(this.connectorOptions.loginSettings).length===0)throw tt.notReady("login settings are not set yet");if(this.status=Oe.CONNECTING,this.emit(ot.CONNECTING,{connector:it.WALLET_CONNECT_V2}),e&&(i=this.activeSession)!==null&&i!==void 0&&i.topic){var a;await this.connector.disconnect({topic:(a=this.activeSession)===null||a===void 0?void 0:a.topic,reason:si("USER_DISCONNECTED")})}let{uri:c,approval:l}=await this.connector.connect(this.connectorOptions.loginSettings),u=(o=this.connectorOptions)===null||o===void 0||(o=o.connectorSettings)===null||o===void 0?void 0:o.qrcodeModal;if(c)if(u)try{await u.openModal({uri:c}),Be.debug("EVENT","QR Code Modal closed"),this.status=Oe.READY,this.emit(ot.READY,it.WALLET_CONNECT_V2)}catch(f){Be.error("unable to open qr code modal",f)}else this.updateConnectorData({uri:c});Be.info("awaiting session approval from wallet");let d=await l();this.activeSession=d,await this.onConnectHandler({chain:r,trackCompletionEvents:n}),u&&u.closeModal()}catch(c){var s;if((s=c.message)!==null&&s!==void 0&&s.toLowerCase().includes("proposal expired")){if(Be.info("current connector status: ",this.status),this.status===Oe.CONNECTING)return Be.info("retrying to create new wallet connect session since proposal expired"),this.createNewSession({forceNewSession:!0,chainConfig:r});if(this.status===Oe.READY){Be.info("ignoring proposal expired error since some other connector is connected");return}}throw Be.error("error while creating new wallet connect session",c),this.emit(ot.ERRORED,c),c}}async onConnectHandler({chain:e,trackCompletionEvents:r}){var n;if(!this.connector||!this.wcProvider)throw tt.notReady("Wallet connect connector is not ready yet");this.subscribeEvents(),(n=this.connectorOptions.connectorSettings)!==null&&n!==void 0&&n.qrcodeModal&&(this.wcProvider=new fh({config:{chain:e,chains:this.coreOptions.chains,skipLookupNetwork:!0},connector:this.connector})),await this.wcProvider.setupProvider(this.connector),this.cleanupPendingPairings(),this.status=Oe.CONNECTED,r&&r(),this.emit(ot.CONNECTED,{connector:it.WALLET_CONNECT_V2,reconnected:this.rehydrated,provider:this.provider})}subscribeEvents(){if(!this.connector)throw tt.notReady("Wallet connector is not ready yet");this.connector.events.on("session_update",({topic:e,params:r})=>{if(!this.connector)return;let{namespaces:n}=r,i=this.connector.session.get(e),o=q(q({},i),{},{namespaces:n});this.activeSession=o}),this.connector.events.on("session_delete",()=>{this.disconnect({sessionRemovedByWallet:!0})})}async _getSignedMessage(e,r,n){return await this.provider.request({method:n===pt.EIP155?Li.PERSONAL_SIGN:zn.SIGN_MESSAGE,params:n===pt.EIP155?[e,r[0]]:{data:e}})}},xLe=t=>({coreOptions:e,projectConfig:r,analytics:n})=>{var i;let o=(t==null||(i=t.walletConnectInitOptions)===null||i===void 0?void 0:i.projectId)||r?.walletConnectProjectId,a=q(q({},t),{},{walletConnectInitOptions:q(q({},t?.walletConnectInitOptions),{},{projectId:o})});return new Lse({connectorSettings:a,coreOptions:e,analytics:n})}});var TLe={};lr(TLe,{DEFAULT_EIP155_METHODS:()=>$re,DEFAULT_EIP_155_EVENTS:()=>Kre,DEFAULT_SOLANA_EVENTS:()=>qre,DEFAULT_SOLANA_METHODS:()=>Vre,WalletConnectV2Provider:()=>fh,getNamespacesFromChains:()=>Wre,getRequiredNamespaces:()=>Qre,getSupportedEventsByNamespace:()=>Jre,getSupportedMethodsByNamespace:()=>Yre,getWalletConnectV2Settings:()=>DL,walletConnectV2Connector:()=>xLe});var _Le=D(()=>{Zre();ALe();Dse()});var SLe,sC,ILe=D(()=>{SLe=ve(Or()),sC=SLe.default.getLogger("auth");sC.setLevel("error")});async function cC(t,e){let r=null;try{r=new URL(t)}catch{}return PLe&&r&&(DMt.includes(r.origin)||LMt.includes(r.pathname))?await PLe.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function lC(){let t={};return CLe&&(t[MMt]=CLe),RLe&&(t[BMt]=RLe),t}function uC(t){rH.info(`Response: ${t.status} ${t.statusText}`),rH.info(`Url: ${t.url}`)}function UMt(t){let e=t.headers.get("x-web3-correlation-id");e&&rH.info(`Request tracing with traceID = ${e}`)}var h9,nH,rH,CLe,RLe,MMt,BMt,PLe,DMt,LMt,FMt,jl,Pb,OLe,NLe,kLe,u8=D(()=>{nt();h9=ve(Do()),nH=ve(Or()),rH=nH.default.getLogger("http-helpers");rH.setLevel(nH.levels.INFO);CLe="torus-default",RLe="",MMt="x-api-key",BMt="x-embed-host",PLe=null,DMt=[],LMt=[];FMt=async(t,e)=>{let r=null;try{let n=new Promise((o,a)=>{r=setTimeout(()=>{a(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},jl=async(t,e={},r={})=>{let n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=q(q({},n.headers),lC())),e.method="GET";let i=(0,h9.default)(n,e),o=await cC(t,i);if(o.ok){let a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw uC(o),o},Pb=(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),lC())),r.method="POST";let o=(0,h9.default)(i,r);return n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),FMt(n.timeout||6e4,cC(t,o).then(a=>{if(n.logTracingHeader&&UMt(a),a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw uC(a),a}))},OLe=async(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),lC())),r.method="PATCH";let o=(0,h9.default)(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);let a=await cC(t,o);if(a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw uC(a),a},NLe=async(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),lC())),r.method="PUT";let o=(0,h9.default)(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);let a=await cC(t,o);if(a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw uC(a),a},kLe=async(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),lC())),r.method="DELETE";let o=(0,h9.default)(i,r);n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);let a=await cC(t,o);if(a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw uC(a),a}});function MLe(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function HMt(t){let e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}var BLe,Q1,Use=D(()=>{BLe=ve(Da());Q1=class extends BLe.EventEmitter{emit(e,...r){let n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;let s=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw s.context=a,s}let o=i[e];if(o===void 0)return!1;if(typeof o=="function")MLe(o,this,r);else{let a=o.length,s=HMt(o);for(let c=0;c<a;c+=1)MLe(s[c],this,r)}return!0}}});var DLe,Ob,LLe=D(()=>{Ye();DLe=ve(p2()),Ob=class extends Error{constructor({code:e,message:r,data:n}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),V(this,"code",void 0),V(this,"data",void 0),this.code=e,n!==void 0&&(this.data=n)}toString(){return(0,DLe.default)({code:this.code,message:this.message,data:this.data,stack:this.stack})}}});var va,Fse,Hse=D(()=>{va={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Fse={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});function GLe(t){return Number.isInteger(t)}function FLe(t){return typeof t=="string"&&t.length>0}function iH(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function jLe(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function jMt(t){return t>=-32099&&t<=-32e3}function $Le(t){let e=t;return!(!e||!GLe(e.code)||!FLe(e.message)||e.stack&&!FLe(e.stack))}function m9(t,e=zMt){if(GLe(t)){let r=t.toString();if(zLe(Fse,r))return Fse[r].message;if(jMt(t))return GMt}return e}function zse(t){try{JSON.parse(JSON.stringify(t,(e,r)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof r=="function"||typeof r=="symbol")throw new Error("Not valid json");return r}),(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r})}catch{return!1}return!0}function HLe(t){return Object.getOwnPropertyNames(t).reduce((e,r)=>{let n=t[r];return zse(n)&&(e[r]=n),e},{})}function Gse(t){return Array.isArray(t)?t.map(e=>zse(e)?e:iH(e)?HLe(e):null):iH(t)?HLe(t):zse(t)?t:null}function VMt(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if($Le(t))return t;let r=Gse(t);return q(q({},e),{},{data:{cause:r}})}function oH(t,{fallbackError:e=$Mt,shouldIncludeStack:r=!0}={}){if(!$Le(e))throw new Error("Must provide fallback error with integer number code and string message.");let n=VMt(t,e);return r||delete n.stack,n}function VLe(t){return iH(t)&&zLe(t,"cause")&&iH(t.cause)}var zLe,ULe,zMt,GMt,$Mt,aH=D(()=>{nt();Hse();zLe=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)},ULe=va.rpc.internal,zMt="Unspecified error message. This is a bug, please report it.",GMt="Unspecified server error.";$Mt={code:ULe,message:m9(ULe)}});function qMt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function WMt(t,e){if(e!=="[Circular]")return e}var KLe,KMt,dC,fC,qLe=D(()=>{Ye();KLe=ve(p2());aH();KMt=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};dC=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');VLe(n)?(super(r,{cause:n.cause}),V(this,"cause",void 0),V(this,"code",void 0),V(this,"data",void 0),KMt(this,"cause")||Object.assign(this,{cause:n.cause})):(super(r),V(this,"cause",void 0),V(this,"code",void 0),V(this,"data",void 0)),n!==void 0&&(this.data=n),this.code=e,this.cause=n?.cause}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,jLe(this.data)&&(e.data.cause=Gse(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,KLe.default)(this.serialize(),{replacer:WMt,space:2})}},fC=class extends dC{constructor(e,r,n){if(!qMt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}});function WLe(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,r]}}return[]}function ed(t,e){let[r,n]=WLe(e);return new dC(t,r??m9(t),n)}function pC(t,e){let[r,n]=WLe(e);return new fC(t,r??m9(t),n)}var Yn,hC,jse=D(()=>{qLe();Hse();aH();Yn={parse:t=>ed(va.rpc.parse,t),invalidRequest:t=>ed(va.rpc.invalidRequest,t),invalidParams:t=>ed(va.rpc.invalidParams,t),methodNotFound:t=>ed(va.rpc.methodNotFound,t),internal:t=>ed(va.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ed(e,t)},invalidInput:t=>ed(va.rpc.invalidInput,t),resourceNotFound:t=>ed(va.rpc.resourceNotFound,t),resourceUnavailable:t=>ed(va.rpc.resourceUnavailable,t),transactionRejected:t=>ed(va.rpc.transactionRejected,t),methodNotSupported:t=>ed(va.rpc.methodNotSupported,t),limitExceeded:t=>ed(va.rpc.limitExceeded,t)},hC={userRejectedRequest:t=>pC(va.provider.userRejectedRequest,t),unauthorized:t=>pC(va.provider.unauthorized,t),unsupportedMethod:t=>pC(va.provider.unsupportedMethod,t),disconnected:t=>pC(va.provider.disconnected,t),chainDisconnected:t=>pC(va.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new fC(e,r,n)}}});function sH(t){return(e,r,n,i)=>{let o=t[e.method];return o===void 0?n():typeof o=="function"?o(e,r,n,i):(r.result=o,i())}}function qo(t){return async(e,r,n,i)=>{let o,a=new Promise(u=>{o=u}),s=null,c=!1,l=async()=>{c=!0,n(u=>{s=u,o()}),await a};try{await t(e,r,l),c?(await a,s(null)):i(null)}catch(u){let d=u;s?s(d):i(d)}}}var YMt,YLe=D(()=>{YMt=ve(y1())});function $se(t){let{message:e="",code:r=-32603,stack:n="Stack trace is not available.",data:i=""}=t,o=parseInt(r?.toString()||"-32603");return{message:e||t?.toString()||m9(o),code:o,stack:n,data:i||e||t?.toString()}}function d8(t){let e=new ph;return t.forEach(r=>{e.push(r)}),e.asMiddleware()}function b9(t){let e=new Q1;return e.sendAsync=async r=>{let n=await t.handle(r);if(n.error){typeof n.error=="object"&&Object.keys(n.error).includes("stack")===!1&&(n.error.stack="Stack trace is not available."),sC.error(n.error);let i=oH(n.error,{fallbackError:$se(n.error),shouldIncludeStack:!0});throw Yn.internal(i)}return n.result},e.send=(r,n)=>{if(typeof n!="function")throw new Error('Must provide callback to "send" method.');t.handle(r,n)},t.on&&t.on("notification",r=>{e.emit("data",null,r)}),e.request=async r=>{let n=q(q({},r),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(n)},e}function Vse(t){let e=new ph;return e.push(t),b9(e)}var JMt,ph,JLe=D(()=>{nt();Ye();JMt=ve(y1());ILe();jse();aH();Use();LLe();ph=class t extends Q1{constructor(){super(),V(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,r,n){let i=[],o=null,a=!1;for(let s of n)if([o,a]=await t._runMiddleware(e,r,s,i),a)break;return[o,a,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{let a=c=>{let l=c||r.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),sC.error(l),r.error=oH(l,{shouldIncludeStack:!0,fallbackError:$se(l)})),o([l,!0])},s=c=>{r.error?a(r.error):(c&&(typeof c!="function"&&a(new Ob({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),o([null,!1]))};try{n(e,r,s,a)}catch(c){a(c)}})}static async _runReturnHandlers(e){for(let r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Ob({code:-32603,message:"Response has no error or result for request"});if(!n)throw new Ob({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{let[o,a,s]=await t._runAllMiddleware(e,r,this._middleware);return a?(await t._runReturnHandlers(s),i(o)):n(async c=>{try{await t._runReturnHandlers(s)}catch(l){return c(l)}return c()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{let n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise((r,n)=>{this._handle(e,(i,o)=>{i&&o===void 0?n(i):r(o)}).catch(n)})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){let a=new Ob({code:-32603,message:"request must be plain object"});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof e.method!="string"){let a=new Ob({code:-32603,message:"method must be string"});return r(a,{id:e.id,jsonrpc:"2.0",error:a})}let n=q({},e),i={id:n.id,jsonrpc:n.jsonrpc},o=null;try{await this._processRequest(n,i)}catch(a){o=a}return o&&(delete i.result,i.error||(typeof o=="object"&&Object.keys(o).includes("stack")===!1&&(o.stack="Stack trace is not available."),sC.error(o),i.error=oH(o,{shouldIncludeStack:!0,fallbackError:$se(o)}))),r(o,i)}async _processRequest(e,r){let[n,i,o]=await t._runAllMiddleware(e,r,this._middleware);if(t._checkForCompletion(e,r,i),await t._runReturnHandlers(o),n)throw n}}});var jc=D(()=>{Jp();Use();jse();YLe();JLe()});var ei,Nb=D(()=>{nt();Ye();jc();ei=class extends Q1{constructor({config:e={},state:r={}}){super(),V(this,"defaultConfig",{}),V(this,"defaultState",{}),V(this,"disabled",!1),V(this,"name","BaseController"),V(this,"initialConfig",void 0),V(this,"initialState",void 0),V(this,"internalConfig",this.defaultConfig),V(this,"internalState",this.defaultState),this.initialState=r,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,r=!1,n=!0){if(n){this.internalConfig=r?e:Object.assign(this.internalConfig,e);for(let i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(let i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,r=!1){this.internalState=r?q({},e):q(q({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}});var QMt,ZMt,mC,QLe=D(()=>{Ye();Nb();QMt=1e3,ZMt=(t,e)=>t+e,mC=class extends ei{constructor({config:e={},state:r={}}){super({config:e,state:r}),V(this,"name","BaseBlockTracker"),V(this,"_blockResetTimeout",void 0),this.defaultState={_currentBlock:{idempotencyKey:""},_isRunning:!1},this.defaultConfig={blockResetDuration:20*QMt},this.initialize(),this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this.state._isRunning}getCurrentBlock(){return this.state._currentBlock}async getLatestBlock(){return this.state._currentBlock.idempotencyKey?this.state._currentBlock:await new Promise(r=>{this.once("latest",n=>{n&&r(n)})})}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_start(){}_end(){}_newPotentialLatest(e){let r=this.state._currentBlock;r&&e.idempotencyKey===r.idempotencyKey||this._setCurrentBlock(e)}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener)}_onNewListener(){this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this.state._isRunning||(this.state._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this.state._isRunning&&(this.state._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return["latest","sync"].map(r=>this.listenerCount(r)).reduce(ZMt)}_setCurrentBlock(e){let r=this.state._currentBlock;this.update({_currentBlock:e}),this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this.config.blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this.update({_currentBlock:{idempotencyKey:""}})}}});function rBt(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function Kse(t,e){let n=(e||{}).eventFilter||XMt;if(typeof n=="string"&&n==="skipInternal"&&(n=tBt),typeof n!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,o=s=>{if(i===s)return;let c=i;i=s,c.eventNames().filter(n).forEach(u=>{rBt(c,u).forEach(d=>{s.on(u,d)})}),c.removeAllListeners()};return new Proxy({},{get:(s,c)=>c==="setTarget"?o:i[c],set:(s,c,l)=>c==="setTarget"?(o=l,!0):(i[c]=l,!0),has:(s,c)=>c[0]==="_"?!1:c in i})}var XMt,eBt,tBt,ZLe=D(()=>{XMt=()=>!0,eBt=["newListener","removeListener"],tBt=t=>!eBt.includes(t)});function qse(t){let e=t,r=i=>{e=i};return new Proxy({},{get:(i,o)=>o==="setTarget"?r:e[o],set:(i,o,a)=>o==="setTarget"?(r=a,!0):(e[o]=a,!0),has:(i,o)=>o[0]==="_"?!1:o in e})}var XLe=D(()=>{});var nBt,bC,eUe=D(()=>{Nb();nBt=6e5,bC=class extends ei{constructor({config:e={},state:r}){super({config:e,state:r}),this.defaultState={currentCurrency:"usd",conversionRate:0,conversionDate:"N/A",nativeCurrency:"ETH"},this.defaultConfig={pollInterval:nBt},this.initialize()}getNativeCurrency(){return this.state.nativeCurrency}setNativeCurrency(e){this.update({nativeCurrency:e,ticker:e})}getCurrentCurrency(){return this.state.currentCurrency}setCurrentCurrency(e){this.update({currentCurrency:e})}getConversionRate(){return this.state.conversionRate}setConversionRate(e){this.update({conversionRate:e})}getConversionDate(){return this.state.conversionDate}setConversionDate(e){this.update({conversionDate:e})}}});var Wse,Yse,cH,lH,Jse=D(()=>{Wse="walletActivity.send",Yse="walletActivity.receive",cH={GET_PROVIDER_STATE:"wallet_get_provider_state",WALLET_SWITCH_CHAIN:"wallet_switchChain"},lH=(function(t){return t.UserUnauthorized="user.unauthorized",t})({})});function y9(t,e){return qo(async(r,n,i)=>{let{method:o}=r;if(o!==t)return i();if(!e)throw new Error(`CommunicationMiddleware - ${t} not provided`);let a=await e(r);if(!a)return i();n.result=a})}var tUe=D(()=>{jc()});var rUe,nUe,g9,w9,iUe,uH=D(()=>{rUe={ETH_TRANSACTION:"eth_sendTransaction",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_SIGN:"personal_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage"},nUe={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},g9={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},w9={INTERNAL:"internal",NETWORK:"network"},iUe={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"}});var bi,Qse=D(()=>{bi={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"}});function Zse(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}function dH(t,e,r){let n=B7(e),i=B7(r),o=Hd(t),a=Zse(Buffer.from(D7(n)).toString("hex"),64),s=Zse(Buffer.from(D7(i)).toString("hex"),64),c=ii(Z2(o));return Gt(a.concat(s,c))}function yC(t){return new Promise(e=>{let r=window.setTimeout(()=>{e(),window.clearTimeout(r)},t)})}function n0e(){var t;if((t=navigator)!==null&&t!==void 0&&t.brave)return{browser:"Brave"}}var Q0,Xse,gC,fH,e0e,f8,t0e,r0e,wC,i0e,vC,EC,hh=D(()=>{L0();om();uH();Qse();Q0=()=>Math.random().toString(36).slice(2);Xse=(t,e)=>({headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json; charset=utf-8","public-address":e}}),gC=(t,e="usd",r=!1)=>{let n=Gd.isBigNumber(t)?t.toNumber():t;if(!Number.isFinite(n))return"";let i=e.toLowerCase()==="usd"?parseFloat(Number(n).toFixed(2)):parseFloat(Number(n).toFixed(5)),o=i>0?"~ ":"";return`${e.toLowerCase()==="usd"||r?"":o}${Number(i)} ${e.toUpperCase()}`},fH=(t,e=5)=>t?t.length<11?t:typeof t!="string"?"":`${t.slice(0,e)}...${t.slice(-e)}`:"",e0e=(t,e=!1,r=2)=>{let n=Gd.isBigNumber(t)?t:new Gd(t);if(n.isZero())return n;e&&(n=n.times(new Gd(100)));let i;n.gte(new Gd(1))?i=r:i=r-1+Math.ceil(Math.log10(new Gd("1").div(n).toNumber()));let o=new Gd(10).pow(new Gd(i));return Math.round(o.times(n).toNumber())/o.toNumber()},f8=(t,e)=>typeof t.chainId<"u"?t.chainId===e:!1,t0e=t=>{let e=Buffer.from(t,"utf8"),r=EM(e);return Buffer.from(r)},r0e=async(t,e)=>{let r=Buffer.from(t,"hex"),n=ii(e),i=c4(Buffer.from(n,"hex"),r);return dH(Buffer.from(v1(i.v)),Buffer.from(i.r),Buffer.from(i.s))};wC=t=>t instanceof Response&&t.status===401,i0e=t=>{try{let e=t?.code;return{error_message:t instanceof Error?t.message:t?.message||t?.toString(),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},vC=t=>{try{return new URL(t).hostname}catch{return""}},EC=t=>{if(t)return t.chainNamespace===bi.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===bi.SOLANA?`${t.chainNamespace}:${iUe[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`}});var xC,oUe=D(()=>{Nb();hh();xC=class extends ei{constructor({config:e={},state:r}){var n;super({config:e,state:r}),this.defaultState={wallets:(n=r.wallets)!==null&&n!==void 0?n:[]},this.initialize()}async signAuthMessage(e,r){let n=this.state.wallets.find(a=>a.address===e);if(!n)throw new Error("key does not exist");let i=t0e(r).toString("hex");return await r0e(n.privateKey,i)}}});var Jn,wf,o0e=D(()=>{Jn={UNAPPROVED:"unapproved",SIGNED:"signed",PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",FAILED:"failed"},wf={UNAPPROVED_MESSAGE:"unapprovedMessage"}});var $l,aUe=D(()=>{Ye();jc();Nb();o0e();$l=class extends ei{constructor({config:e,state:r}){super({config:e,state:r}),V(this,"messages",void 0),this.defaultState={unapprovedMessages:{},unapprovedMessagesCount:0},this.messages=[],this.defaultConfig={},super.initialize()}getMessage(e){return this.messages.find(r=>r.id===e)}getAllMessages(){return this.messages}setMetadata(e,r){let n=this.getMessage(e);if(!n)throw new Error(`${this.name}: Message not found for id: ${e}.`);n.metadata=r,this.updateMessage(n)}getUnapprovedMessages(){return this.messages.filter(e=>e.status===Jn.UNAPPROVED).reduce((e,r)=>(e[r.id]=r,e),{})}async addMessage(e){this.messages.push(e),this.saveMessageList()}approveMessage(e,r){return this.setMessageStatus(e,Jn.APPROVED),this.prepMessageForSigning(r)}setMessageStatus(e,r){let n=this.getMessage(e);if(!n)throw new Error(`${this.name}: Message not found for id: ${e}.`);n.status=r,this.updateMessage(n),this.emit(`${e}:${r}`,n),(r===Jn.REJECTED||r===Jn.SIGNED||r===Jn.FAILED)&&this.emit(`${e}:finished`,n)}async waitForFinishStatus(e,r){return new Promise((n,i)=>{let o=a=>a.status===Jn.REJECTED?i(hC.userRejectedRequest(`${r} Signature: User denied message signature`)):a.status===Jn.FAILED?i(Yn.internal(`${r} Signature: failed to sign message ${a.error}`)):a.status===Jn.SIGNED?n(a.rawSig):i(Yn.internal(`${r} Signature: Unknown problem: ${JSON.stringify(e)}`));this.once(`${e.id}:finished`,o)})}updateMessage(e){let r=this.messages.findIndex(n=>e.id===n.id);r!==-1&&(this.messages[r]=e),this.saveMessageList()}saveMessageList(){let e=this.getUnapprovedMessages(),r=Object.keys(e).length;this.update({unapprovedMessages:e,unapprovedMessagesCount:r})}}});function a0e({analytics:t,providerConfig:e}){return(r,n,i)=>{if(!Object.values(rUe).includes(r.method))return i();let o=Date.now();i(a=>{let s={method:r.method,chain_id:EC(e),chain_rpc_target:vC(e.rpcTarget),is_aa_provider_request:r.isAAProviderRequest};n.error?t?.track(g9.JRPC_REQUEST_FAILED,q(q(q({request_type:w9.INTERNAL},s),i0e(n.error)),{},{duration:Date.now()-o})):t?.track(g9.JRPC_REQUEST_COMPLETED,q(q({request_type:w9.INTERNAL},s),{},{duration:Date.now()-o})),a()})}}var sUe=D(()=>{nt();uH();hh()});function oBt(t){switch(t.status){case 405:throw Yn.methodNotFound();case 418:throw Yn.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw Yn.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function aBt(t){return new Promise(e=>{setTimeout(e,t)})}function sBt(t,e){if(t.status!==200)throw Yn.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var r;throw Yn.internal({data:e.error,message:(r=e.error)===null||r===void 0?void 0:r.message})}return e.result}function cUe({req:t,rpcTarget:e,originHttpHeaderKey:r}){let n=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},o=t.origin,a=JSON.stringify(i),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a};return r&&o&&(s.headers[r]=o),{fetchUrl:n.href,fetchParams:s}}function v9({rpcTarget:t,originHttpHeaderKey:e,analytics:r,providerConfig:n}){return qo(async(i,o,a)=>{let{fetchUrl:s,fetchParams:c}=cUe({req:i,rpcTarget:t,originHttpHeaderKey:e}),l=5,u=1e3,d=Date.now(),f=!Object.values(nUe).includes(i.method),p={chain_id:EC(n),chain_rpc_target:vC(s),method:i.method};for(let h=0;h<l;h++){try{let b=await fetch(s,c);oBt(b);let _=await b.json(),A=sBt(b,_);o.result=A,f||r?.track(g9.JRPC_REQUEST_COMPLETED,q(q({request_type:w9.NETWORK},p),{},{duration:Date.now()-d}));return}catch(b){let _=(b.message||b).toString();if(!iBt.some(C=>_.includes(C)))throw f||r?.track(g9.JRPC_REQUEST_FAILED,q(q({request_type:w9.NETWORK},p),{},{error_code:b?.code,error_message:_,duration:Date.now()-d})),await Yp(b)}await aBt(u)}})}var iBt,lUe=D(()=>{nt();jc();uH();hh();iBt=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"]});function AC(t,e){let r={};for(let[n,i]of Object.entries(t))e(i,n)||(r[n]=i);return r}function E9(t,e){let r={};for(let[n,i]of Object.entries(t))e(i,n)&&(r[n]=i);return r}function $c(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r))}}function s0e(t,e){return t.slice().sort((r,n)=>r[e]<n[e]?-1:r[e]>n[e]?1:0)}function c0e(t,e){return t.reduce((r,n)=>{let i=n[e];return(typeof i=="string"||typeof i=="number")&&(r[i.toString()]=n),r},{})}function l0e(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,e(n,r)]))}var TC=D(()=>{});function cBt(){let t,e=new Promise(r=>{t=r});return{resolve:t,promise:e}}function u0e({cacheIdentifierForRequest:t}){let e={};async function r(i,o){let{resolve:a,promise:s}=cBt();return o.push(c=>{i.result=$c(c.result),i.error=$c(c.error),a()}),s}function n(i,o){setTimeout(()=>{o.forEach(a=>{try{a(i)}catch(s){x9.default.error(s)}})})}return qo(async(i,o,a)=>{if(i.skipCache)return a();let s=t(i);if(!s)return x9.default.info("Request is not cacheable, proceeding. req = %o",i),a();let c=e[s];if(c){x9.default.info("Running %i handler(s) for request %o",c.length,i),await r(o,c);return}c=[],e[s]=c,x9.default.info("Carrying original request forward %o",i),await a(),delete e[s],x9.default.info("Running %i collected handler(s) for request %o",c.length,i),n(o,c)})}var x9,uUe=D(()=>{jc();x9=ve(Or());TC()});var vf,lBt,_C,uBt,dUe,fUe=D(()=>{nt();u8();rZ();Jse();hh();vf=(function(t){return t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.PUT=2]="PUT",t[t.PATCH=3]="PATCH",t[t.DELETE=4]="DELETE",t})(vf||{}),lBt=({jwtToken:t,publicAddress:e,eoaAddress:r,chainNamespace:n})=>{let i={Authorization:`Bearer ${t}`,"public-address":e,"chain-namespace":n};return r&&(i["eoa-address"]=r),{headers:i}},_C=async(t,e)=>{try{return await t()}catch(r){throw wC(r)&&e.emit(lH.UserUnauthorized),r}},uBt=t=>{let r=_M(t).exp*1e3;return new Date().getTime()>=r},dUe=(t,e)=>{let r=(n,i,o,a,s)=>{if(uBt(a.jwtToken))throw e.emit(lH.UserUnauthorized),new Response(null,{status:401,statusText:"Unauthorized"});let c=q({"Content-Type":"application/json; charset=utf-8"},lBt(a));if(n===vf.GET)return _C(()=>jl(i,c,s),e);if(n===vf.POST)return _C(()=>Pb(i,o,c,s),e);if(n===vf.PUT)return _C(()=>NLe(i,o,c,s),e);if(n===vf.PATCH)return _C(()=>OLe(i,o,c,s),e);if(n===vf.DELETE)return _C(()=>kLe(i,o,c,s),e)};return{authGet:(n,i,o)=>r(vf.GET,`${t}/${n}`,{},i,o),authPost:(n,i,o,a)=>r(vf.POST,`${t}/${n}`,i,o,a),authPut:(n,i,o,a)=>r(vf.PUT,`${t}/${n}`,i,o,a),authPatch:(n,i,o,a)=>r(vf.PATCH,`${t}/${n}`,i,o,a),authRemove:(n,i,o,a)=>r(vf.DELETE,`${t}/${n}`,i,o,a)}}});var td,pUe=D(()=>{td={NORMAL:"normal",THRESHOLD:"threshold",IMPORTED:"imported",APP_SCOPED:"app_scoped",ACCOUNT_ABSTRACTION:"account_abstraction",EXTERNAL:"external",MPC:"mpc",SFA:"sfa",SFA_ACCOUNT_ABSTRACTION:"sfa_account_abstraction",APP_SCOPED_DERIVED:"app_scoped_derived"}});var hUe,Ts,dBt,mUe,SC,bUe=D(()=>{nt();Ye();u8();jc();hUe=ve(hT()),Ts=ve(Or());Nb();TC();fUe();pUe();hh();dBt=180*1e3,mUe={selectedCurrency:"USD",theme:"dark",locale:"en",accountType:td.NORMAL,contacts:[],jwtToken:"",fetchedPastTx:[],pastTransactions:[],paymentTx:[],defaultPublicAddress:"",customTokens:[],customNfts:[],crashReport:!0,userInfo:{email:"",name:"",profileImage:"",authConnectionId:"",userId:"",authConnection:Je.GOOGLE,groupedAuthConnectionId:""}},SC=class extends ei{constructor({config:e,state:r,defaultPreferences:n,signAuthMessage:i,validateSignMessage:o}){if(super({config:e,state:r}),V(this,"name","PreferencesController"),V(this,"iframeOrigin",void 0),V(this,"wsApiClient",void 0),V(this,"chainNamespace",void 0),V(this,"signAuthMessage",void 0),V(this,"validateSignMessage",void 0),V(this,"defaultPreferences",void 0),!e.api)throw new Error("PreferencesController - no api specified in config.");this.defaultState={identities:{},selectedAddress:"",lastErrorMessage:"",lastSuccessMessage:""},this.defaultConfig={api:e.api,pollInterval:dBt},this.initialize(),this.defaultPreferences=q(q({},mUe),n),this.signAuthMessage=i,this.validateSignMessage=o,this.wsApiClient=dUe(this.config.api,this)}setIframeOrigin(e){this.iframeOrigin=e}getAddressState(e){let r=e||this.state.selectedAddress;return this.state.identities[r]}setSelectedAddress(e){this.update({selectedAddress:e})}async getUser(e){return(await this.wsApiClient.authGet("user?fetchTx=false",this.authCredentials(e),{useAPIKey:!0})).data}async createUser(e){let{selectedCurrency:r,theme:n,authConnectionId:i,groupedAuthConnectionId:o,userId:a,locale:s,address:c,idToken:l,type:u,web3AuthNetwork:d,metadata:f}=e,p=q({default_currency:r,theme:n,verifier:o||i,verifier_id:a,locale:s,idToken:l,account_type:u,web3auth_network:d},f);await this.wsApiClient.authPost("user",p,this.authCredentials(c),{useAPIKey:!0}),this.updateState({theme:n,defaultPublicAddress:c,selectedCurrency:r,locale:s,accountType:u},c)}async storeUserLogin(e){let{authConnectionId:r,groupedAuthConnectionId:n,userId:i,options:o,address:a,idToken:s,web3AuthClientId:c,web3AuthNetwork:l,sessionPubKey:u,loginMode:d}=e;if(!o.rehydrate){let f=hUe.default.getParser(window.navigator.userAgent),p=n0e(),h={os:f.getOSName(),os_version:f.getOSVersion()||"unidentified",browser:p?.browser||f.getBrowserName()||"unidentified",browser_version:f.getBrowserVersion()||"unidentified",platform:f.getPlatform().type||"desktop",hostname:this.iframeOrigin,verifier:n||r,verifier_id:i,idToken:s,web3auth_client_id:c,web3auth_network:l,session_pub_key:u,login_mode:d};await this.wsApiClient.authPost("user/recordLogin",h,this.authCredentials(a),{useAPIKey:!0})}}async setCrashReport(e){var r;if(e===((r=this.getAddressState())===null||r===void 0?void 0:r.crashReport))return!0;try{return await this.wsApiClient.authPatch("user",{enable_crash_reporter:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({crashReport:e}),!0}catch(n){return Ts.default.error(n),!1}}async setUserTheme(e){var r;if(e===((r=this.getAddressState())===null||r===void 0?void 0:r.theme))return!0;try{return await this.wsApiClient.authPatch("user",{theme:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({theme:e}),!0}catch(n){return Ts.default.error(n),!1}}async setUserLocale(e){var r;if(e!==((r=this.getAddressState())===null||r===void 0?void 0:r.locale))try{return await this.wsApiClient.authPatch("user",{locale:e},this.authCredentials(),{useAPIKey:!0}),this.updateState({locale:e}),!0}catch(n){return Ts.default.error("unable to set locale",n),!1}}async setSelectedCurrency(e){var r;if(e.selectedCurrency===((r=this.getAddressState())===null||r===void 0?void 0:r.selectedCurrency))return!0;try{return await this.wsApiClient.authPatch("user",{default_currency:e.selectedCurrency},this.authCredentials(),{useAPIKey:!0}),this.updateState({selectedCurrency:e.selectedCurrency}),!0}catch(n){return Ts.default.error(n),!1}}async addContact(e){try{var r;let n=await this.wsApiClient.authPost("contact",e,this.authCredentials(),{useAPIKey:!0});return this.updateState({contacts:[...((r=this.getAddressState())===null||r===void 0?void 0:r.contacts)||[],n.data]}),!0}catch(n){return Ts.default.error("unable to add contact",n),!1}}async deleteContact(e){try{var r;let n=await this.wsApiClient.authRemove(`contact/${e}`,{},this.authCredentials(),{useAPIKey:!0}),i=(r=this.getAddressState())===null||r===void 0?void 0:r.contacts.filter(o=>o.id!==n.data.id);return i&&this.updateState({contacts:[...i]}),!0}catch(n){return Ts.default.error("unable to delete contact",n),!1}}async revokeDiscord(e){try{let r=await this.wsApiClient.authPost("revoke/discord",{token:e},this.authCredentials(),{useAPIKey:!0});Ts.default.info(r)}catch(r){Ts.default.error(r)}}async patchPastTx(e,r){try{let n=await this.wsApiClient.authPatch("transaction",e,this.authCredentials(r),{useAPIKey:!0});Ts.default.info("successfully patched",n)}catch(n){Ts.default.error("unable to patch tx",n)}}async postPastTx(e,r){try{let n=await this.wsApiClient.authPost("transaction",e,this.authCredentials(r),{useAPIKey:!0});return Ts.default.info("successfully posted tx",n),n}catch(n){Ts.default.error(n,"unable to insert transaction")}}async getWalletOrders(e){try{let r=await this.wsApiClient.authGet("transaction",this.authCredentials(e),{useAPIKey:!0});return r.success?r.data?r.data:[]:[]}catch(r){return Ts.default.error("unable to get wallet orders tx",r),[]}}async getTopUpOrders(e){try{return(await this.wsApiClient.authGet("transaction",this.authCredentials(e),{useAPIKey:!0})).data||[]}catch(r){Ts.default.error("unable to fetch past Top up orders",r)}}async getBillBoardData(){try{let e=await this.wsApiClient.authGet("billboard",this.authCredentials(),{useAPIKey:!0});return e.success?e.data:[]}catch(e){return Ts.default.error("unable to get billboard data",e),[]}}async getMessageForSigning(e,r){return(await Pb(`${this.config.api}/auth/message`,{public_address:e,id_token:r,chain_namespace:this.chainNamespace},{},{useAPIKey:!0})).message}async getTwitterId(e){let r=await this.wsApiClient.authGet(`twitter?screen_name=${e.nick}`,this.authCredentials(),{useAPIKey:!0});return`${e.typeOfLogin.toLowerCase()}|${r.data.toString()}`}async sendEmail(e){return this.wsApiClient.authPost("transaction/sendemail",e.emailObject,this.authCredentials(),{useAPIKey:!0})}async refreshJwt(){let e=this.state.selectedAddress,r=await this.getMessageForSigning(e);await this.validateSignMessage(r);let n=await this.signAuthMessage(e,r),i=await Pb(`${this.config.api}/auth/verify`,{challenge:r,public_address:e,signed_message:n,chain_namespace:this.chainNamespace},{},{useAPIKey:!0});this.updateState({jwtToken:i.token},e)}async getDappList(){try{let e=await this.wsApiClient.authGet("dapps",this.authCredentials(),{useAPIKey:!0});return e.success?e.data:[]}catch(e){return Ts.default.error("unable to get dapps list",e),[]}}async init(e){let{address:r,userInfo:n,idToken:i,metadata:o={},type:a}=e;if(this.getAddressState(r))return;let s;switch(a){case td.EXTERNAL:{if(!i)throw new Error("SIWW idToken must be present");s=(await Pb(`${this.config.api}/auth/verify`,q({account_type:a,public_address:r,id_token:i,verifier:n.groupedAuthConnectionId||n.authConnectionId,verifier_id:n.userId,chain_namespace:this.chainNamespace},o),{},{useAPIKey:!0})).token;break}case td.IMPORTED:case td.APP_SCOPED_DERIVED:case td.ACCOUNT_ABSTRACTION:{if(!i)throw new Error("Web3Auth idToken must be present");s=(await Pb(`${this.config.api}/auth/verify`,q({public_address:r,id_token:i,verifier:n.groupedAuthConnectionId||n.authConnectionId,verifier_id:n.userId,account_type:a,chain_namespace:this.chainNamespace},o),{},{useAPIKey:!0})).token;break}case td.MPC:case td.SFA:case td.SFA_ACCOUNT_ABSTRACTION:{if(!o.signatures)throw new Error("web3auth signatures must be present");s=(await Pb(`${this.config.api}/auth/verify`,q({public_address:r,verifier:n.groupedAuthConnectionId||n.authConnectionId,verifier_id:n.userId,account_type:a,chain_namespace:this.chainNamespace},o),{},{useAPIKey:!0})).token;break}case td.NORMAL:case td.THRESHOLD:case td.APP_SCOPED:default:if(!i)throw new Error("Web3Auth idToken must be present");s=i;break}this.updateState({jwtToken:s,userInfo:n,accountType:a??this.defaultPreferences.accountType},r)}updateState(e,r){let n=r||this.state.selectedAddress,i=this.getAddressState(n)||$c(this.defaultPreferences),o=q(q({},i),e);return this.update({identities:q(q({},this.state.identities),{},{[n]:o})}),o}authCredentials(e){var r;let n=e||this.state.selectedAddress;return{jwtToken:((r=this.getAddressState(n))===null||r===void 0?void 0:r.jwtToken)||"",publicAddress:n,chainNamespace:this.chainNamespace}}headers(e){var r;let n=e||this.state.selectedAddress;return Xse(((r=this.getAddressState(n))===null||r===void 0?void 0:r.jwtToken)||"",n)}}});var Wt,rd,io,d0e=D(()=>{Wt=(function(t){return t.approved="approved",t.cancelled="cancelled",t.cancelling="cancelling",t.confirmed="confirmed",t.failed="failed",t.finalized="finalized",t.processed="processed",t.rejected="rejected",t.signed="signed",t.submitted="submitted",t.unapproved="unapproved",t.dropped="dropped",t.expired="expired",t.pending="pending",t})({}),rd={CANCEL:"cancel",RETRY:"retry",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",WASM_BASED_DEPLOY:"wasmBasedDeploy",STANDARD_TRANSACTION:"transaction",STANDARD_PAYMENT_TRANSACTION:"payment_transaction",SENT_ETHER:"sentEther",SENT_SOL:"sentSol",TOKEN_METHOD_TRANSFER:"transfer",TOKEN_METHOD_TRANSFER_FROM:"transferFrom",TOKEN_METHOD_APPROVE:"approve",TOKEN_BURN:"burn",COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM:"safeTransferFrom",SET_APPROVAL_FOR_ALL:"setApprovalForAll"},io={TX_WARNING:"tx:warning",TX_ERROR:"tx:error",TX_FAILED:"tx:failed",TX_CONFIRMED:"tx:confirmed",TX_DROPPED:"tx:dropped",TX_EXPIRED:"tx:expired",TX_STATUS_UPDATE:"tx:status_update",TX_UNAPPROVED:"tx:unapproved",TX_RETRY:"tx:retry",TX_BLOCK_UPDATE:"tx:block_update"}});var IC,yUe=D(()=>{nt();Ye();Nb();TC();d0e();hh();IC=class extends ei{constructor({config:e,state:r,getCurrentChainId:n}){super({config:e,state:r}),V(this,"getCurrentChainId",void 0),this.defaultConfig={txHistoryLimit:40},this.defaultState={transactions:{},unapprovedTxs:{},currentNetworkTxsList:[]},this.initialize(),this.getCurrentChainId=n}getUnapprovedTxList(){let e=this.getCurrentChainId();return E9(this.state.transactions,r=>r.status===Wt.unapproved&&f8(r,e))}getTransaction(e){let{transactions:r}=this.state;return r[e]}updateTransaction(e){let r=e.id;e.updated_at=new Date().toISOString(),this.update({transactions:q(q({},this.state.transactions),{},{[r]:e})})}setTxStatusRejected(e){this._setTransactionStatus(e,Wt.rejected),this._deleteTransaction(e)}setTxStatusUnapproved(e){this._setTransactionStatus(e,Wt.unapproved)}setTxStatusApproved(e){this._setTransactionStatus(e,Wt.approved)}setTxStatusSigned(e,r){this._setTransactionStatus(e,Wt.signed,r)}setTxStatusSubmitted(e){this._setTransactionStatus(e,Wt.submitted)}setTxStatusDropped(e){this._setTransactionStatus(e,Wt.dropped)}setTxStatusExpired(e){this._setTransactionStatus(e,Wt.expired)}setTxStatusConfirmed(e){this._setTransactionStatus(e,Wt.confirmed)}setTxStatusFailed(e,r){let n=r||new Error("Internal torus failure"),i=this.getTransaction(e);i.error=n,this.updateTransaction(i),this._setTransactionStatus(e,Wt.failed)}isFinalState(e){return e===Wt.rejected||e===Wt.submitted||e===Wt.confirmed||e===Wt.failed||e===Wt.cancelled||e===Wt.expired}clearUnapprovedTxs(){this.update({transactions:AC(this.state.transactions,e=>e.status===Wt.unapproved)})}_addTransactionsToState(e){this.update({transactions:e.reduce((r,n)=>(r[n.id]=n,r),this.state.transactions)})}_setTransactionsToState(e){this.update({transactions:e.reduce((r,n)=>(r[n.id]=n,r),{})})}_deleteTransaction(e){let{transactions:r}=this.state;delete r[e],this.update({transactions:r})}_deleteTransactions(e){let{transactions:r}=this.state;e.forEach(n=>{delete r[n]}),this.update({transactions:r})}_setTransactionStatus(e,r,n){let i=this.getTransaction(e);i&&(i.status=r,this.updateTransaction(i),this.emit(io.TX_STATUS_UPDATE,{txId:e,status:r}),this.isFinalState(r)||n?this.emit(`${i.id}:finished`,i):this.emit(`${i.id}:${r}`,e))}}});var gUe,Z0,wUe=D(()=>{Ye();gUe=ve(Or());hh();Z0=class{constructor(e,r){V(this,"idleTimeTracker",void 0),V(this,"pollingInterval",void 0),V(this,"isPolling",!1),this.pollingInterval=r,this.idleTimeTracker=e}start(e){this.idleTimeTracker.on("active",this.poll.bind(this,e)),this.idleTimeTracker.on("idle",this.stop.bind(this)),this.poll(e)}stop(){this.isPolling=!1}async poll(e){if(!this.isPolling)for(this.isPolling=!0;this.isPolling;){if(this.idleTimeTracker.checkIfIdle()){this.isPolling=!1;return}try{await e()}catch(r){gUe.default.error(r)}await yC(this.pollingInterval)}}}});var ci=D(()=>{Nb();QLe();ZLe();XLe();eUe();tUe();Jse();oUe();aUe();o0e();sUe();lUe();uUe();Qse();bUe();yUe();d0e();TC();wUe();hh()});function hBt(t,e){let r=vUe(t,n=>e.priority<=n.priority);t.splice(r+1,0,e)}function vUe(t,e){for(let r=t.length-1;r>=0;r--)if(e(t[r]))return r;return-1}var sNr,cNr,fBt,pBt,f0e,mBt,Z1,CC=D(()=>{sNr=new Error("timeout while waiting for mutex to become available"),cNr=new Error("mutex already locked"),fBt=new Error("request for lock canceled"),pBt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{l(n.next(u))}catch(d){a(d)}}function c(u){try{l(n.throw(u))}catch(d){a(d)}}function l(u){u.done?o(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},f0e=class{constructor(e,r=fBt){this._value=e,this._cancelError=r,this._queue=[],this._weightedWaiters=[]}acquire(e=1,r=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((n,i)=>{let o={resolve:n,reject:i,weight:e,priority:r},a=vUe(this._queue,s=>r<=s.priority);a===-1&&e<=this._value?this._dispatchItem(o):this._queue.splice(a+1,0,o)})}runExclusive(e){return pBt(this,arguments,void 0,function*(r,n=1,i=0){let[o,a]=yield this.acquire(n,i);try{return yield r(o)}finally{a()}})}waitForUnlock(e=1,r=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return this._couldLockImmediately(e,r)?Promise.resolve():new Promise(n=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),hBt(this._weightedWaiters[e-1],{resolve:n,priority:r})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatchQueue()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatchQueue()}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(e){let r=this._value;this._value-=e.weight,e.resolve([r,this._newReleaser(e.weight)])}_newReleaser(e){let r=!1;return()=>{r||(r=!0,this.release(e))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let e=this._value;e>0;e--){let r=this._weightedWaiters[e-1];r&&(r.forEach(n=>n.resolve()),this._weightedWaiters[e-1]=[])}else{let e=this._queue[0].priority;for(let r=this._value;r>0;r--){let n=this._weightedWaiters[r-1];if(!n)continue;let i=n.findIndex(o=>o.priority<=e);(i===-1?n:n.splice(0,i)).forEach((o=>o.resolve()))}}}_couldLockImmediately(e,r){return(this._queue.length===0||this._queue[0].priority<r)&&e<=this._value}};mBt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{l(n.next(u))}catch(d){a(d)}}function c(u){try{l(n.throw(u))}catch(d){a(d)}}function l(u){u.done?o(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},Z1=class{constructor(e){this._semaphore=new f0e(1,e)}acquire(){return mBt(this,arguments,void 0,function*(e=0){let[,r]=yield this._semaphore.acquire(1,e);return r})}runExclusive(e,r=0){return this._semaphore.runExclusive(()=>e(),1,r)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(e=0){return this._semaphore.waitForUnlock(1,e)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}});var EUe,xUe=D(()=>{EUe="6.15.0"});function bBt(t,e,r){let n=e.split("|").map(o=>o.trim());for(let o=0;o<n.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function So(t){let e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,o)=>(n[e[o]]=i,n),{})}function At(t,e,r){for(let n in e){let i=e[n],o=r?r[n]:null;o&&bBt(i,o,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}var p8=D(()=>{});function A9(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>A9(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){let r="0123456789abcdef",n="0x";for(let i=0;i<t.length;i++)n+=r[t[i]>>4],n+=r[t[i]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return A9(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${A9(n,e)}: ${A9(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Oi(t,e){return t&&t.code===e}function h8(t){return Oi(t,"CALL_EXCEPTION")}function In(t,e,r){let n=t;{let o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${A9(r)}`);for(let a in r){if(a==="shortMessage")continue;let s=r[a];o.push(a+"="+A9(s))}}o.push(`code=${e}`),o.push(`version=${EUe}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return At(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&At(i,{shortMessage:n}),i}function Ce(t,e,r,n){if(!t)throw In(e,r,n)}function oe(t,e,r,n){Ce(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function T9(t,e,r){r==null&&(r=""),r&&(r=": "+r),Ce(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Ce(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}function pH(t){Ce(yBt.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function mh(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),Ce(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}var yBt,kb=D(()=>{xUe();p8();yBt=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");t.push(e)}catch{}return t},[])});function TUe(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let n=new Uint8Array((t.length-2)/2),i=2;for(let o=0;o<n.length;o++)n[o]=parseInt(t.substring(i,i+2),16),i+=2;return n}oe(!1,"invalid BytesLike value",e||"value",t)}function Yt(t,e){return TUe(t,e,!1)}function Io(t,e){return TUe(t,e,!0)}function Mr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Mb(t){return Mr(t,!0)||t instanceof Uint8Array}function qe(t){let e=Yt(t),r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=AUe[(i&240)>>4]+AUe[i&15]}return r}function pn(t){return"0x"+t.map(e=>qe(e).substring(2)).join("")}function Ef(t){return Mr(t,!0)?(t.length-2)/2:Yt(t).length}function yi(t,e,r){let n=Yt(t);return r!=null&&r>n.length&&Ce(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),qe(n.slice(e??0,r??n.length))}function _Ue(t,e,r){let n=Yt(t);Ce(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),qe(i)}function v0(t,e){return _Ue(t,e,!0)}function hH(t,e){return _Ue(t,e,!1)}var AUe,X1=D(()=>{kb();AUe="0123456789abcdef"});function bH(t,e){let r=I9(t,"value"),n=BigInt(Er(e,"width"));if(Ce(r>>n===mH,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-xf){let i=(xf<<n)-xf;return-((~r&i)+xf)}return r}function S9(t,e){let r=ct(t,"value"),n=BigInt(Er(e,"width")),i=xf<<n-xf;if(r<mH){r=-r,Ce(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let o=(xf<<n)-xf;return(~r&o)+xf}else Ce(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function bh(t,e){let r=I9(t,"value"),n=BigInt(Er(e,"bits"));return r&(xf<<n)-xf}function ct(t,e){switch(typeof t){case"bigint":return t;case"number":return oe(Number.isInteger(t),"underflow",e||"value",t),oe(t>=-_9&&t<=_9,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){oe(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}oe(!1,"invalid BigNumberish value",e||"value",t)}function I9(t,e){let r=ct(t,e);return Ce(r>=mH,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}function m8(t){if(t instanceof Uint8Array){let e="0x0";for(let r of t)e+=SUe[r>>4],e+=SUe[r&15];return BigInt(e)}return ct(t)}function Er(t,e){switch(typeof t){case"bigint":return oe(t>=-_9&&t<=_9,"overflow",e||"value",t),Number(t);case"number":return oe(Number.isInteger(t),"underflow",e||"value",t),oe(t>=-_9&&t<=_9,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Er(BigInt(t),e)}catch(r){oe(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}oe(!1,"invalid numeric value",e||"value",t)}function yH(t){return Er(m8(t))}function X0(t,e){let n=I9(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{let i=Er(e,"width");for(Ce(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function Fi(t){let e=I9(t,"value");if(e===mH)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);let n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){let o=i*2;n[i]=parseInt(r.substring(o,o+2),16)}return n}function oo(t){let e=qe(Mb(t)?t:Fi(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var mH,xf,_9,SUe,gH=D(()=>{X1();kb();mH=BigInt(0),xf=BigInt(1),_9=9007199254740991;SUe="0123456789abcdef"});function wH(t){let e=Yt(t),r=m8(e),n="";for(;r;)n=IUe[Number(r%CUe)]+n,r/=CUe;for(let i=0;i<e.length&&!e[i];i++)n=IUe[0]+n;return n}var IUe,xNr,CUe,RUe=D(()=>{X1();gH();IUe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",xNr=BigInt(0),CUe=BigInt(58)});function p0e(t){t=atob(t);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Yt(e)}function h0e(t){let e=Yt(t),r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var PUe=D(()=>{X1()});var Bb,OUe=D(()=>{p8();Bb=class{filter;emitter;#e;constructor(e,r,n){this.#e=r,At(this,{emitter:e,filter:n})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}});function gBt(t,e,r,n,i){oe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function NUe(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)o++;return o}return t==="OVERRUN"?r.length-e-1:0}function wBt(t,e,r,n,i){return t==="OVERLONG"?(oe(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),NUe(t,e,r,n,i))}function vBt(t,e){e==null&&(e=m0e.error);let r=Yt(t,"bytes"),n=[],i=0;for(;i<r.length;){let o=r[i++];if(o>>7===0){n.push(o);continue}let a=null,s=null;if((o&224)===192)a=1,s=127;else if((o&240)===224)a=2,s=2047;else if((o&248)===240)a=3,s=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+a>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let c=o&(1<<8-a-1)-1;for(let l=0;l<a;l++){let u=r[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),c=null;break}c=c<<6|u&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-a,r,n,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-a,r,n,c);continue}if(c<=s){i+=e("OVERLONG",i-1-a,r,n,c);continue}n.push(c)}}return n}function ta(t,e){oe(typeof t=="string","invalid string value","str",t),e!=null&&(pH(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let o=t.charCodeAt(n);oe(n<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);let a=65536+((i&1023)<<10)+(o&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function EBt(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function yh(t,e){return EBt(vBt(t,e))}var m0e,vH=D(()=>{X1();kb();m0e=Object.freeze({error:gBt,ignore:NUe,replace:wBt})});function EH(t){async function e(r,n){Ce(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let i=r.url.split(":")[0].toLowerCase();Ce(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Ce(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null,a=new AbortController,s=setTimeout(()=>{o=In("request timeout","TIMEOUT"),a.abort()},r.timeout);n&&n.addListener(()=>{o=In("request cancelled","CANCELLED"),a.abort()});let c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a.signal}),l;try{l=await fetch(r.url,c)}catch(p){throw clearTimeout(s),o||p}clearTimeout(s);let u={};l.headers.forEach((p,h)=>{u[h.toLowerCase()]=p});let d=await l.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:f}}return e}var NNr,kUe=D(()=>{kb();NNr=EH({})});async function DUe(t,e){try{let r=t.match(TBt);if(!r)throw new Error("invalid data");return new ep(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?p0e(r[3]):SBt(r[3]))}catch{return new ep(599,"BAD REQUEST (invalid data: URI)",{},null,new Vc(t))}}function LUe(t){async function e(r,n){try{let i=r.match(_Bt);if(!i)throw new Error("invalid link");return new Vc(`${t}${i[2]}`)}catch{return new ep(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Vc(r))}}return e}function AH(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}function BUe(){return new Date().getTime()}function SBt(t){return ta(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function IBt(t){return new Promise(e=>setTimeout(e,t))}var xBt,ABt,MUe,TBt,_Bt,b0e,xH,UUe,RC,Vc,ep,FUe=D(()=>{PUe();X1();kb();p8();vH();kUe();xBt=12,ABt=250,MUe=EH(),TBt=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),_Bt=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),b0e=!1;xH={data:DUe,ipfs:LUe("https://gateway.ipfs.io/ipfs/")},UUe=new WeakMap,RC=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,UUe.set(e,()=>{if(!this.#t){this.#t=!0;for(let r of this.#e)setTimeout(()=>{r()},0);this.#e=[]}})}addListener(e){Ce(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){Ce(!this.cancelled,"cancelled","CANCELLED",{})}};Vc=class t{#e;#t;#r;#n;#i;#a;#o;#s;#p;#l;#h;#m;#c;#u;#d;get url(){return this.#a}set url(e){this.#a=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#s=void 0;else if(typeof e=="string")this.#o=ta(e),this.#s="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#s="application/octet-stream";else if(typeof e=="object")this.#o=ta(JSON.stringify(e)),this.#s="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#r);return this.#p&&(e.authorization=`Basic ${h0e(ta(this.#p))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#s&&(e["content-type"]=this.#s),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){this.#r[String(e).toLowerCase()]=String(r)}clearHeaders(){this.#r={}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#p||null}setCredentials(e,r){oe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#p=`${e}:${r}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){oe(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#h||null}set processFunc(e){this.#h=e}get retryFunc(){return this.#m||null}set retryFunc(e){this.#m=e}get getUrlFunc(){return this.#d||MUe}set getUrlFunc(e){this.#d=e}constructor(e){this.#a=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#i=3e5,this.#u={slotInterval:ABt,maxAttempts:xBt},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?qe(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#f(e,r,n,i,o){if(e>=this.#u.maxAttempts)return o.makeServerError("exceeded maximum retry limit");Ce(BUe()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await IBt(n);let a=this.clone(),s=(a.url.split(":")[0]||"").toLowerCase();if(s in xH){let u=await xH[s](a.url,AH(i.#c));if(u instanceof ep){let d=u;if(this.processFunc){AH(i.#c);try{d=await this.processFunc(a,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk()}}return d}a=u}this.preflightFunc&&(a=await this.preflightFunc(a));let c=await this.getUrlFunc(a,AH(i.#c)),l=new ep(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{let u=l.headers.location||"";return a.redirect(u).#f(e+1,r,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,l,e))){let u=l.headers["retry-after"],d=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),a.clone().#f(e+1,r,d,i,l)}if(this.processFunc){AH(i.#c);try{l=await this.processFunc(a,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let d=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),a.clone().#f(e+1,r,d,i,l)}}return l}send(){return Ce(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new RC(this),this.#f(0,BUe()+this.timeout,0,this,new ep(0,"",{},null,this))}cancel(){Ce(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=UUe.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Ce(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let i=new t(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#r=Object.assign({},this.#r),this.#o&&(i.#o=new Uint8Array(this.#o)),i.#s=this.#s,i}clone(){let e=new t(this.url);return e.#n=this.#n,this.#o&&(e.#o=this.#o),e.#s=this.#s,e.#r=Object.assign({},this.#r),e.#p=this.#p,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#h=this.#h,e.#m=this.#m,e.#u=Object.assign({},this.#u),e.#d=this.#d,e}static lockConfig(){b0e=!0}static getGateway(e){return xH[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(b0e)throw new Error("gateways locked");xH[e]=r}static registerGetUrl(e){if(b0e)throw new Error("gateways locked");MUe=e}static createGetUrlFunc(e){return EH(e)}static createDataGateway(){return DUe}static createIpfsGatewayFunc(e){return LUe(e)}},ep=class t{#e;#t;#r;#n;#i;#a;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?qe(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":yh(this.#n)}catch{Ce(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Ce(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,r,n,i,o){this.#e=e,this.#t=r,this.#r=Object.keys(n).reduce((a,s)=>(a[s.toLowerCase()]=String(n[s]),a),{}),this.#n=i==null?null:new Uint8Array(i),this.#i=o||null,this.#a={message:""}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let i=new t(599,n,this.headers,this.body,this.#i||void 0);return i.#a={message:e,error:r},i}throwThrottleError(e,r){r==null?r=-1:oe(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);let n=new Error(e||"throttling requests");throw At(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#i}ok(){return this.#a.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=this.#a;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{this.#n&&(i=yh(this.#n))}catch{}Ce(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}});function CBt(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function HUe(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function zUe(t,e,r,n){let i=[];for(;r<e+1+n;){let o=GUe(t,r);i.push(o.result),r+=o.consumed,Ce(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function GUe(t,e){Ce(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let r=n=>{Ce(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){let n=t[e]-247;r(e+1+n);let i=HUe(t,e+1,n);return r(e+1+n+i),zUe(t,e,e+1+n,n+i)}else if(t[e]>=192){let n=t[e]-192;return r(e+1+n),zUe(t,e,e+1,n)}else if(t[e]>=184){let n=t[e]-183;r(e+1+n);let i=HUe(t,e+1,n);r(e+1+n+i);let o=qe(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:o}}else if(t[e]>=128){let n=t[e]-128;r(e+1+n);let i=qe(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:CBt(t[e])}}function Db(t){let e=Yt(t,"data"),r=GUe(e,0);return oe(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}var jUe=D(()=>{X1();kb();X1()});function $Ue(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function KUe(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(o){n=n.concat(KUe(o))}),n.length<=55)return n.unshift(192+n.length),n;let i=$Ue(n.length);return i.unshift(247+i.length),i.concat(n)}let e=Array.prototype.slice.call(Yt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let r=$Ue(e.length);return r.unshift(183+r.length),r.concat(e)}function nd(t){let e="0x";for(let r of KUe(t))e+=VUe[r>>4],e+=VUe[r&15];return e}var VUe,qUe=D(()=>{X1();VUe="0123456789abcdef"});var Jr=D(()=>{RUe();X1();kb();OUe();FUe();gH();p8();jUe();qUe();vH()});function b8(t){return JUe.get(t)}function WUe(t,e){JUe.set(t,e)}function PC(t,e){let r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function g0e(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof tp?g0e(b8(n),n,r):n):t.reduce((n,i,o)=>{let a=e.getValue(i);return i in n||(r&&a instanceof tp&&(a=g0e(b8(a),a,r)),n[i]=a),n},{})}function YUe(t){let e=Fi(t);return Ce(e.length<=_s,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:_s,offset:e.length}),e.length!==_s&&(e=Io(pn([y0e.slice(e.length%_s),e]))),e}var _s,y0e,NBt,TH,JUe,tp,ra,y8,_H,id=D(()=>{Jr();_s=32,y0e=new Uint8Array(_s),NBt=["then"],TH={},JUe=new WeakMap;tp=class t extends Array{#e;constructor(...e){let r=e[0],n=e[1],i=(e[2]||[]).slice(),o=!0;r!==TH&&(n=e,i=[],o=!1),super(n.length),n.forEach((c,l)=>{this[l]=c});let a=i.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(WUe(this,Object.freeze(n.map((c,l)=>{let u=i[l];return u!=null&&a.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);let s=new Proxy(this,{get:(c,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let f=Er(l,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");let p=c[f];return p instanceof Error&&PC(`index ${f}`,p),p}if(NBt.indexOf(l)>=0)return Reflect.get(c,l,u);let d=c[l];if(d instanceof Function)return function(...f){return d.apply(this===u?c:this,f)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}});return WUe(s,b8(this)),s}toArray(e){let r=[];return this.forEach((n,i)=>{n instanceof Error&&PC(`index ${i}`,n),e&&n instanceof t&&(n=n.toArray(e)),r.push(n)}),r}toObject(e){let r=b8(this);return r.reduce((n,i,o)=>(Ce(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),g0e(r,this,e)),{})}slice(e,r){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);let n=b8(this),i=[],o=[];for(let a=e;a<r;a++)i.push(this[a]),o.push(n[a]);return new t(TH,i,o)}filter(e,r){let n=b8(this),i=[],o=[];for(let a=0;a<this.length;a++){let s=this[a];s instanceof Error&&PC(`index ${a}`,s),e.call(r,s,a,this)&&(i.push(s),o.push(n[a]))}return new t(TH,i,o)}map(e,r){let n=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&PC(`index ${i}`,o),n.push(e.call(r,o,i,this))}return n}getValue(e){let r=b8(this).indexOf(e);if(r===-1)return;let n=this[r];return n instanceof Error&&PC(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,r){return new t(TH,e,r)}};ra=class{name;type;localName;dynamic;constructor(e,r,n,i){At(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){oe(!1,e,this.localName,r)}},y8=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return pn(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(Io(e.data))}writeBytes(e){let r=Io(e),n=r.length%_s;return n&&(r=Io(pn([r,y0e.slice(n)]))),this.#r(r)}writeValue(e){return this.#r(YUe(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(y0e),this.#t+=_s,r=>{this.#e[e]=YUe(r)}}},_H=class t{allowLoose;#e;#t;#r;#n;#i;constructor(e,r,n){At(this,{allowLoose:!!r}),this.#e=Io(e),this.#r=0,this.#n=null,this.#i=n??1024,this.#t=0}get data(){return qe(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#a(e){if(this.#n)return this.#n.#a(e);this.#r+=e,Ce(this.#i<1||this.#r<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Io(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#o(e,r,n){let i=Math.ceil(r/_s)*_s;return this.#t+i>this.#e.length&&(this.allowLoose&&n&&this.#t+r<=this.#e.length?i=r:Ce(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Io(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){let r=new t(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return r.#n=this,r}readBytes(e,r){let n=this.#o(0,e,!!r);return this.#a(e),this.#t+=n.length,n.slice(0,e)}readValue(){return m8(this.readBytes(_s))}readIndex(){return yH(this.readBytes(_s))}}});function OC(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function NC(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function QUe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");OC(t.outputLen),OC(t.blockLen)}function gh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function SH(t,e){NC(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var IH=D(()=>{});var CH,ZUe=D(()=>{CH=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function MBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ub(t){if(typeof t=="string"&&(t=MBt(t)),!XUe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function tFe(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!XUe(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function C9(t){let e=n=>t().update(Ub(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function rFe(t){let e=(n,i)=>t(i).update(Ub(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function nFe(t=32){if(CH&&typeof CH.getRandomValues=="function")return CH.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var XUe,eFe,RH,Af,kBt,Lb,lkr,g8=D(()=>{ZUe();XUe=t=>t instanceof Uint8Array,eFe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),RH=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Af=(t,e)=>t<<32-e|t>>>e,kBt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kBt)throw new Error("Non little-endian hardware is not supported");Lb=class{clone(){return this._cloneInto()}},lkr={}.toString});var PH,w0e,iFe=D(()=>{IH();g8();PH=class extends Lb{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,QUe(e);let n=Ub(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return gh(this),this.iHash.update(e),this}digestInto(e){gh(this),NC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},w0e=(t,e,r)=>new PH(t,e).update(r).digest();w0e.create=(t,e)=>new PH(t,e)});function BBt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+l,s,n)}var R9,v0e=D(()=>{IH();g8();R9=class extends Lb{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=RH(this.buffer)}update(e){gh(this);let{view:r,buffer:n,blockLen:i}=this;e=Ub(e);let o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let c=RH(e);for(;i<=o-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){gh(this),SH(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let d=a;d<i;d++)r[d]=0;BBt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=RH(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)s.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%r&&e.buffer.set(n),e}}});var DBt,LBt,UBt,Fb,Hb,E0e,OH,x0e=D(()=>{v0e();g8();DBt=(t,e,r)=>t&e^~t&r,LBt=(t,e,r)=>t&e^t&r^e&r,UBt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fb=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hb=new Uint32Array(64),E0e=class extends R9{constructor(){super(64,32,8,!1),this.A=Fb[0]|0,this.B=Fb[1]|0,this.C=Fb[2]|0,this.D=Fb[3]|0,this.E=Fb[4]|0,this.F=Fb[5]|0,this.G=Fb[6]|0,this.H=Fb[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:c}=this;return[e,r,n,i,o,a,s,c]}set(e,r,n,i,o,a,s,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Hb[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let f=Hb[d-15],p=Hb[d-2],h=Af(f,7)^Af(f,18)^f>>>3,b=Af(p,17)^Af(p,19)^p>>>10;Hb[d]=b+Hb[d-7]+h+Hb[d-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=Af(s,6)^Af(s,11)^Af(s,25),p=u+f+DBt(s,c,l)+UBt[d]+Hb[d]|0,b=(Af(n,2)^Af(n,13)^Af(n,22))+LBt(n,i,o)|0;u=l,l=c,c=s,s=a+p|0,a=o,o=i,i=n,n=p+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,c,l,u)}roundClean(){Hb.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},OH=C9(()=>new E0e)});function oFe(t,e=!1){return e?{h:Number(t&NH),l:Number(t>>A0e&NH)}:{h:Number(t>>A0e&NH)|0,l:Number(t&NH)|0}}function T0e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:a}=oFe(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}function WBt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var NH,A0e,FBt,HBt,zBt,GBt,jBt,$Bt,VBt,KBt,qBt,_0e,S0e,I0e,C0e,YBt,JBt,QBt,ZBt,XBt,eDt,tDt,Gr,R0e=D(()=>{NH=BigInt(4294967295),A0e=BigInt(32);FBt=(t,e)=>BigInt(t>>>0)<<A0e|BigInt(e>>>0),HBt=(t,e,r)=>t>>>r,zBt=(t,e,r)=>t<<32-r|e>>>r,GBt=(t,e,r)=>t>>>r|e<<32-r,jBt=(t,e,r)=>t<<32-r|e>>>r,$Bt=(t,e,r)=>t<<64-r|e>>>r-32,VBt=(t,e,r)=>t>>>r-32|e<<64-r,KBt=(t,e)=>e,qBt=(t,e)=>t,_0e=(t,e,r)=>t<<r|e>>>32-r,S0e=(t,e,r)=>e<<r|t>>>32-r,I0e=(t,e,r)=>e<<r-32|t>>>64-r,C0e=(t,e,r)=>t<<r-32|e>>>64-r;YBt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),JBt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,QBt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),ZBt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,XBt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),eDt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,tDt={fromBig:oFe,split:T0e,toBig:FBt,shrSH:HBt,shrSL:zBt,rotrSH:GBt,rotrSL:jBt,rotrBH:$Bt,rotrBL:VBt,rotr32H:KBt,rotr32L:qBt,rotlSH:_0e,rotlSL:S0e,rotlBH:I0e,rotlBL:C0e,add:WBt,add3L:YBt,add3H:JBt,add4L:QBt,add4H:ZBt,add5H:eDt,add5L:XBt},Gr=tDt});var rDt,nDt,zb,Gb,P0e,aFe,sFe=D(()=>{v0e();R0e();g8();[rDt,nDt]=Gr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),zb=new Uint32Array(80),Gb=new Uint32Array(80),P0e=class extends R9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:p,Gl:h,Hh:b,Hl:_}=this;return[e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_]}set(e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=h|0,this.Hh=b|0,this.Hl=_|0}process(e,r){for(let R=0;R<16;R++,r+=4)zb[R]=e.getUint32(r),Gb[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let M=zb[R-15]|0,U=Gb[R-15]|0,F=Gr.rotrSH(M,U,1)^Gr.rotrSH(M,U,8)^Gr.shrSH(M,U,7),z=Gr.rotrSL(M,U,1)^Gr.rotrSL(M,U,8)^Gr.shrSL(M,U,7),N=zb[R-2]|0,k=Gb[R-2]|0,O=Gr.rotrSH(N,k,19)^Gr.rotrBH(N,k,61)^Gr.shrSH(N,k,6),w=Gr.rotrSL(N,k,19)^Gr.rotrBL(N,k,61)^Gr.shrSL(N,k,6),S=Gr.add4L(z,w,Gb[R-7],Gb[R-16]),T=Gr.add4H(S,F,O,zb[R-7],zb[R-16]);zb[R]=T|0,Gb[R]=S|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:p,Fl:h,Gh:b,Gl:_,Hh:A,Hl:C}=this;for(let R=0;R<80;R++){let M=Gr.rotrSH(d,f,14)^Gr.rotrSH(d,f,18)^Gr.rotrBH(d,f,41),U=Gr.rotrSL(d,f,14)^Gr.rotrSL(d,f,18)^Gr.rotrBL(d,f,41),F=d&p^~d&b,z=f&h^~f&_,N=Gr.add5L(C,U,z,nDt[R],Gb[R]),k=Gr.add5H(N,A,M,F,rDt[R],zb[R]),O=N|0,w=Gr.rotrSH(n,i,28)^Gr.rotrBH(n,i,34)^Gr.rotrBH(n,i,39),S=Gr.rotrSL(n,i,28)^Gr.rotrBL(n,i,34)^Gr.rotrBL(n,i,39),T=n&o^n&s^o&s,m=i&a^i&c^a&c;A=b|0,C=_|0,b=p|0,_=h|0,p=d|0,h=f|0,{h:d,l:f}=Gr.add(l|0,u|0,k|0,O|0),l=s|0,u=c|0,s=o|0,c=a|0,o=n|0,a=i|0;let y=Gr.add3L(O,S,m);n=Gr.add3H(y,k,w,T),i=y|0}({h:n,l:i}=Gr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=Gr.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l:c}=Gr.add(this.Ch|0,this.Cl|0,s|0,c|0),{h:l,l:u}=Gr.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Gr.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:h}=Gr.add(this.Fh|0,this.Fl|0,p|0,h|0),{h:b,l:_}=Gr.add(this.Gh|0,this.Gl|0,b|0,_|0),{h:A,l:C}=Gr.add(this.Hh|0,this.Hl|0,A|0,C|0),this.set(n,i,o,a,s,c,l,u,d,f,p,h,b,_,A,C)}roundClean(){zb.fill(0),Gb.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},aFe=C9(()=>new P0e)});function iDt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}function O0e(t){switch(t){case"sha256":return OH.create();case"sha512":return aFe.create()}oe(!1,"invalid hashing algorithm name","algorithm",t)}var cFe,Ckr,lFe=D(()=>{x0e();sFe();Jr();cFe=iDt(),Ckr=cFe.crypto||cFe.msCrypto});function fDt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let s=(a+8)%10,c=(a+2)%10,l=r[c],u=r[c+1],d=uFe(l,u,1)^r[s],f=dFe(l,u,1)^r[s+1];for(let p=0;p<50;p+=10)t[a+p]^=d,t[a+p+1]^=f}let i=t[2],o=t[3];for(let a=0;a<24;a++){let s=pFe[a],c=uFe(i,o,s),l=dFe(i,o,s),u=fFe[a];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)r[s]=t[a+s];for(let s=0;s<10;s++)t[a+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=uDt[n],t[1]^=dDt[n]}r.fill(0)}var fFe,pFe,hFe,oDt,kC,aDt,sDt,cDt,lDt,uDt,dDt,uFe,dFe,kH,jb,kkr,Mkr,Bkr,Dkr,Lkr,mFe,Ukr,Fkr,bFe,Hkr,zkr,yFe=D(()=>{IH();R0e();g8();[fFe,pFe,hFe]=[[],[],[]],oDt=BigInt(0),kC=BigInt(1),aDt=BigInt(2),sDt=BigInt(7),cDt=BigInt(256),lDt=BigInt(113);for(let t=0,e=kC,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],fFe.push(2*(5*n+r)),pFe.push((t+1)*(t+2)/2%64);let i=oDt;for(let o=0;o<7;o++)e=(e<<kC^(e>>sDt)*lDt)%cDt,e&aDt&&(i^=kC<<(kC<<BigInt(o))-kC);hFe.push(i)}[uDt,dDt]=T0e(hFe,!0),uFe=(t,e,r)=>r>32?I0e(t,e,r):_0e(t,e,r),dFe=(t,e,r)=>r>32?C0e(t,e,r):S0e(t,e,r);kH=class t extends Lb{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,OC(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=eFe(this.state)}keccak(){fDt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){gh(this);let{blockLen:r,state:n}=this;e=Ub(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(r-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){gh(this,!1),NC(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return OC(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(SH(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new t(r,n,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},jb=(t,e,r)=>C9(()=>new kH(e,t,r)),kkr=jb(6,144,224/8),Mkr=jb(6,136,256/8),Bkr=jb(6,104,384/8),Dkr=jb(6,72,512/8),Lkr=jb(1,144,224/8),mFe=jb(1,136,256/8),Ukr=jb(1,104,384/8),Fkr=jb(1,72,512/8),bFe=(t,e,r)=>rFe((n={})=>new kH(e,t,n.dkLen===void 0?r:n.dkLen,!0)),Hkr=bFe(31,168,128/8),zkr=bFe(31,136,256/8)});function vn(t){let e=Yt(t,"data");return qe(vFe(e))}var gFe,wFe,vFe,EFe=D(()=>{yFe();Jr();gFe=!1,wFe=function(t){return mFe(t)},vFe=wFe;vn._=wFe;vn.lock=function(){gFe=!0};vn.register=function(t){if(gFe)throw new TypeError("keccak256 is locked");vFe=t};Object.freeze(vn)});function wh(t){let e=Yt(t,"data");return qe(TFe(e))}function MC(t){let e=Yt(t,"data");return qe(_Fe(e))}var xFe,AFe,TFe,_Fe,SFe,IFe,CFe=D(()=>{lFe();Jr();xFe=function(t){return O0e("sha256").update(t).digest()},AFe=function(t){return O0e("sha512").update(t).digest()},TFe=xFe,_Fe=AFe,SFe=!1,IFe=!1;wh._=xFe;wh.lock=function(){SFe=!0};wh.register=function(t){if(SFe)throw new Error("sha256 is locked");TFe=t};Object.freeze(wh);MC._=AFe;MC.lock=function(){IFe=!0};MC.register=function(t){if(IFe)throw new Error("sha512 is locked");_Fe=t};Object.freeze(wh)});var B0e={};lr(B0e,{bitGet:()=>wDt,bitLen:()=>gDt,bitMask:()=>BC,bitSet:()=>vDt,bytesToHex:()=>w8,bytesToNumberBE:()=>vh,bytesToNumberLE:()=>DH,concatBytes:()=>P9,createHmacDrbg:()=>M0e,ensureBytes:()=>Vl,equalBytes:()=>bDt,hexToBytes:()=>v8,hexToNumber:()=>k0e,numberToBytesBE:()=>$b,numberToBytesLE:()=>LH,numberToHexUnpadded:()=>OFe,numberToVarBytesBE:()=>mDt,utf8ToBytes:()=>yDt,validateObject:()=>Vb});function w8(t){if(!BH(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=hDt[t[r]];return e}function OFe(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function k0e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function v8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function vh(t){return k0e(w8(t))}function DH(t){if(!BH(t))throw new Error("Uint8Array expected");return k0e(w8(Uint8Array.from(t).reverse()))}function $b(t,e){return v8(t.toString(16).padStart(e*2,"0"))}function LH(t,e){return $b(t,e).reverse()}function mDt(t){return v8(OFe(t))}function Vl(t,e,r){let n;if(typeof e=="string")try{n=v8(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(BH(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function P9(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!BH(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function bDt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function yDt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function gDt(t){let e;for(e=0;t>PFe;t>>=MH,e+=1);return e}function wDt(t,e){return t>>BigInt(e)&MH}function M0e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=N0e(t),i=N0e(t),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...d)=>r(i,n,...d),c=(d=N0e())=>{i=s(RFe([0]),d),n=s(),d.length!==0&&(i=s(RFe([1]),d),n=s())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<e;){n=s();let p=n.slice();f.push(p),d+=n.length}return P9(...f)};return(d,f)=>{a(),c(d);let p;for(;!(p=f(l()));)c();return a(),p}}function Vb(t,e,r={}){let n=(i,o,a)=>{let s=EDt[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=t[i];if(!(a&&c===void 0)&&!s(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var PFe,MH,pDt,BH,hDt,vDt,BC,N0e,RFe,EDt,DC=D(()=>{PFe=BigInt(0),MH=BigInt(1),pDt=BigInt(2),BH=t=>t instanceof Uint8Array,hDt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));vDt=(t,e,r)=>t|(r?MH:PFe)<<BigInt(e),BC=t=>(pDt<<BigInt(t-1))-MH,N0e=t=>new Uint8Array(t),RFe=t=>Uint8Array.from(t);EDt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)}});function E0(t,e){let r=t%e;return r>=Ea?r:e+r}function _Dt(t,e,r){if(r<=Ea||e<Ea)throw new Error("Expected power/modulo > 0");if(r===Co)return Ea;let n=Co;for(;e>Ea;)e&Co&&(n=n*t%r),t=t*t%r,e>>=Co;return n}function Kl(t,e,r){let n=t;for(;e-- >Ea;)n*=n,n%=r;return n}function UH(t,e){if(t===Ea||e<=Ea)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=E0(t,e),n=e,i=Ea,o=Co,a=Co,s=Ea;for(;r!==Ea;){let l=n/r,u=n%r,d=i-a*l,f=o-s*l;n=r,r=u,i=a,o=s,a=d,s=f}if(n!==Co)throw new Error("invert: does not exist");return E0(i,e)}function SDt(t){let e=(t-Co)/E8,r,n,i;for(r=t-Co,n=0;r%E8===Ea;r/=E8,n++);for(i=E8;i<t&&_Dt(i,e,t)!==t-Co;i++);if(n===1){let a=(t+Co)/D0e;return function(c,l){let u=c.pow(l,a);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let o=(r+Co)/E8;return function(s,c){if(s.pow(c,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=n,u=s.pow(s.mul(s.ONE,i),r),d=s.pow(c,o),f=s.pow(c,r);for(;!s.eql(f,s.ONE);){if(s.eql(f,s.ZERO))return s.ZERO;let p=1;for(let b=s.sqr(f);p<l&&!s.eql(b,s.ONE);p++)b=s.sqr(b);let h=s.pow(u,Co<<BigInt(l-p-1));u=s.sqr(h),d=s.mul(d,h),f=s.mul(f,u),l=p}return d}}function IDt(t){if(t%D0e===xDt){let e=(t+Co)/D0e;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%kFe===NFe){let e=(t-NFe)/kFe;return function(n,i){let o=n.mul(i,E8),a=n.pow(o,e),s=n.mul(i,a),c=n.mul(n.mul(s,E8),a),l=n.mul(s,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%TDt,SDt(t)}function L0e(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=CDt.reduce((n,i)=>(n[i]="function",n),e);return Vb(t,r)}function RDt(t,e,r){if(r<Ea)throw new Error("Expected power > 0");if(r===Ea)return t.ONE;if(r===Co)return e;let n=t.ONE,i=e;for(;r>Ea;)r&Co&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Co;return n}function PDt(t,e){let r=new Array(e.length),n=e.reduce((o,a,s)=>t.is0(a)?o:(r[s]=o,t.mul(o,a)),t.ONE),i=t.inv(n);return e.reduceRight((o,a,s)=>t.is0(a)?o:(r[s]=t.mul(o,r[s]),t.mul(o,a)),i),r}function U0e(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function MFe(t,e,r=!1,n={}){if(t<=Ea)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=U0e(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=IDt(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:BC(i),ZERO:Ea,ONE:Co,create:c=>E0(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ea<=c&&c<t},is0:c=>c===Ea,isOdd:c=>(c&Co)===Co,neg:c=>E0(-c,t),eql:(c,l)=>c===l,sqr:c=>E0(c*c,t),add:(c,l)=>E0(c+l,t),sub:(c,l)=>E0(c-l,t),mul:(c,l)=>E0(c*l,t),pow:(c,l)=>RDt(s,c,l),div:(c,l)=>E0(c*UH(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>UH(c,t),sqrt:n.sqrt||(c=>a(s,c)),invertBatch:c=>PDt(s,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?LH(c,o):$b(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?DH(c):vh(c)}});return Object.freeze(s)}function BFe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function F0e(t){let e=BFe(t);return e+Math.ceil(e/2)}function DFe(t,e,r=!1){let n=t.length,i=BFe(e),o=F0e(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let a=r?vh(t):DH(t),s=E0(a,e-Co)+Co;return r?LH(s,i):$b(s,i)}var Ea,Co,E8,xDt,D0e,NFe,kFe,ADt,TDt,CDt,FH=D(()=>{DC();Ea=BigInt(0),Co=BigInt(1),E8=BigInt(2),xDt=BigInt(3),D0e=BigInt(4),NFe=BigInt(5),kFe=BigInt(8),ADt=BigInt(9),TDt=BigInt(16);CDt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function LFe(t,e){let r=(i,o)=>{let a=o.negate();return i?a:o},n=i=>{let o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,o){let a=t.ZERO,s=i;for(;o>NDt;)o&H0e&&(a=a.add(s)),s=s.double(),o>>=H0e;return a},precomputeWindow(i,o){let{windows:a,windowSize:s}=n(o),c=[],l=i,u=l;for(let d=0;d<a;d++){u=l,c.push(u);for(let f=1;f<s;f++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,o,a){let{windows:s,windowSize:c}=n(i),l=t.ZERO,u=t.BASE,d=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let h=0;h<s;h++){let b=h*c,_=Number(a&d);a>>=p,_>c&&(_-=f,a+=H0e);let A=b,C=b+Math.abs(_)-1,R=h%2!==0,M=_<0;_===0?u=u.add(r(R,o[A])):l=l.add(r(M,o[C]))}return{p:l,f:u}},wNAFCached(i,o,a,s){let c=i._WINDOW_SIZE||1,l=o.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&o.set(i,s(l))),this.wNAF(c,l,a)}}}function z0e(t){return L0e(t.Fp),Vb(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...U0e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var NDt,H0e,UFe=D(()=>{FH();DC();NDt=BigInt(0),H0e=BigInt(1)});function kDt(t){let e=z0e(t);Vb(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}function DDt(t){let e=kDt(t),{Fp:r}=e,n=e.toBytes||((h,b,_)=>{let A=b.toAffine();return P9(Uint8Array.from([4]),r.toBytes(A.x),r.toBytes(A.y))}),i=e.fromBytes||(h=>{let b=h.subarray(1),_=r.fromBytes(b.subarray(0,r.BYTES)),A=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x:_,y:A}});function o(h){let{a:b,b:_}=e,A=r.sqr(h),C=r.mul(A,h);return r.add(r.add(C,r.mul(h,b)),_)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(h){return typeof h=="bigint"&&Eh<h&&h<e.n}function s(h){if(!a(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){let{allowedPrivateKeyLengths:b,nByteLength:_,wrapPrivateKey:A,n:C}=e;if(b&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=w8(h)),typeof h!="string"||!b.includes(h.length))throw new Error("Invalid key");h=h.padStart(_*2,"0")}let R;try{R=typeof h=="bigint"?h:vh(Vl("private key",h,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof h}`)}return A&&(R=E0(R,C)),s(R),R}let l=new Map;function u(h){if(!(h instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(b,_,A){if(this.px=b,this.py=_,this.pz=A,b==null||!r.isValid(b))throw new Error("x required");if(_==null||!r.isValid(_))throw new Error("y required");if(A==null||!r.isValid(A))throw new Error("z required")}static fromAffine(b){let{x:_,y:A}=b||{};if(!b||!r.isValid(_)||!r.isValid(A))throw new Error("invalid affine point");if(b instanceof d)throw new Error("projective point not allowed");let C=R=>r.eql(R,r.ZERO);return C(_)&&C(A)?d.ZERO:new d(_,A,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){let _=r.invertBatch(b.map(A=>A.pz));return b.map((A,C)=>A.toAffine(_[C])).map(d.fromAffine)}static fromHex(b){let _=d.fromAffine(i(Vl("pointHex",b)));return _.assertValidity(),_}static fromPrivateKey(b){return d.BASE.multiply(c(b))}_setWindowSize(b){this._WINDOW_SIZE=b,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:b,y:_}=this.toAffine();if(!r.isValid(b)||!r.isValid(_))throw new Error("bad point: x or y not FE");let A=r.sqr(_),C=o(b);if(!r.eql(A,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:b}=this.toAffine();if(r.isOdd)return!r.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);let{px:_,py:A,pz:C}=this,{px:R,py:M,pz:U}=b,F=r.eql(r.mul(_,U),r.mul(R,C)),z=r.eql(r.mul(A,U),r.mul(M,C));return F&&z}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:b,b:_}=e,A=r.mul(_,FFe),{px:C,py:R,pz:M}=this,U=r.ZERO,F=r.ZERO,z=r.ZERO,N=r.mul(C,C),k=r.mul(R,R),O=r.mul(M,M),w=r.mul(C,R);return w=r.add(w,w),z=r.mul(C,M),z=r.add(z,z),U=r.mul(b,z),F=r.mul(A,O),F=r.add(U,F),U=r.sub(k,F),F=r.add(k,F),F=r.mul(U,F),U=r.mul(w,U),z=r.mul(A,z),O=r.mul(b,O),w=r.sub(N,O),w=r.mul(b,w),w=r.add(w,z),z=r.add(N,N),N=r.add(z,N),N=r.add(N,O),N=r.mul(N,w),F=r.add(F,N),O=r.mul(R,M),O=r.add(O,O),N=r.mul(O,w),U=r.sub(U,N),z=r.mul(O,k),z=r.add(z,z),z=r.add(z,z),new d(U,F,z)}add(b){u(b);let{px:_,py:A,pz:C}=this,{px:R,py:M,pz:U}=b,F=r.ZERO,z=r.ZERO,N=r.ZERO,k=e.a,O=r.mul(e.b,FFe),w=r.mul(_,R),S=r.mul(A,M),T=r.mul(C,U),m=r.add(_,A),y=r.add(R,M);m=r.mul(m,y),y=r.add(w,S),m=r.sub(m,y),y=r.add(_,C);let E=r.add(R,U);return y=r.mul(y,E),E=r.add(w,T),y=r.sub(y,E),E=r.add(A,C),F=r.add(M,U),E=r.mul(E,F),F=r.add(S,T),E=r.sub(E,F),N=r.mul(k,y),F=r.mul(O,T),N=r.add(F,N),F=r.sub(S,N),N=r.add(S,N),z=r.mul(F,N),S=r.add(w,w),S=r.add(S,w),T=r.mul(k,T),y=r.mul(O,y),S=r.add(S,T),T=r.sub(w,T),T=r.mul(k,T),y=r.add(y,T),w=r.mul(S,y),z=r.add(z,w),w=r.mul(E,y),F=r.mul(m,F),F=r.sub(F,w),w=r.mul(m,S),N=r.mul(E,N),N=r.add(N,w),new d(F,z,N)}subtract(b){return this.add(b.negate())}is0(){return this.equals(d.ZERO)}wNAF(b){return p.wNAFCached(this,l,b,_=>{let A=r.invertBatch(_.map(C=>C.pz));return _.map((C,R)=>C.toAffine(A[R])).map(d.fromAffine)})}multiplyUnsafe(b){let _=d.ZERO;if(b===Eh)return _;if(s(b),b===od)return this;let{endo:A}=e;if(!A)return p.unsafeLadder(this,b);let{k1neg:C,k1:R,k2neg:M,k2:U}=A.splitScalar(b),F=_,z=_,N=this;for(;R>Eh||U>Eh;)R&od&&(F=F.add(N)),U&od&&(z=z.add(N)),N=N.double(),R>>=od,U>>=od;return C&&(F=F.negate()),M&&(z=z.negate()),z=new d(r.mul(z.px,A.beta),z.py,z.pz),F.add(z)}multiply(b){s(b);let _=b,A,C,{endo:R}=e;if(R){let{k1neg:M,k1:U,k2neg:F,k2:z}=R.splitScalar(_),{p:N,f:k}=this.wNAF(U),{p:O,f:w}=this.wNAF(z);N=p.constTimeNegate(M,N),O=p.constTimeNegate(F,O),O=new d(r.mul(O.px,R.beta),O.py,O.pz),A=N.add(O),C=k.add(w)}else{let{p:M,f:U}=this.wNAF(_);A=M,C=U}return d.normalizeZ([A,C])[0]}multiplyAndAddUnsafe(b,_,A){let C=d.BASE,R=(U,F)=>F===Eh||F===od||!U.equals(C)?U.multiplyUnsafe(F):U.multiply(F),M=R(this,_).add(R(b,A));return M.is0()?void 0:M}toAffine(b){let{px:_,py:A,pz:C}=this,R=this.is0();b==null&&(b=R?r.ONE:r.inv(C));let M=r.mul(_,b),U=r.mul(A,b),F=r.mul(C,b);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(F,r.ONE))throw new Error("invZ was invalid");return{x:M,y:U}}isTorsionFree(){let{h:b,isTorsionFree:_}=e;if(b===od)return!0;if(_)return _(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:b,clearCofactor:_}=e;return b===od?this:_?_(d,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),n(d,this,b)}toHex(b=!0){return w8(this.toRawBytes(b))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let f=e.nBitLength,p=LFe(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function LDt(t){let e=z0e(t);return Vb(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function HFe(t){let e=LDt(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function a(y){return Eh<y&&y<r.ORDER}function s(y){return E0(y,n)}function c(y){return UH(y,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=DDt({...e,toBytes(y,E,v){let x=E.toAffine(),g=r.toBytes(x.x),P=P9;return v?P(Uint8Array.from([E.hasEvenY()?2:3]),g):P(Uint8Array.from([4]),g,r.toBytes(x.y))},fromBytes(y){let E=y.length,v=y[0],x=y.subarray(1);if(E===i&&(v===2||v===3)){let g=vh(x);if(!a(g))throw new Error("Point is not on curve");let P=d(g),B=r.sqrt(P),I=(B&od)===od;return(v&1)===1!==I&&(B=r.neg(B)),{x:g,y:B}}else if(E===o&&v===4){let g=r.fromBytes(x.subarray(0,r.BYTES)),P=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:g,y:P}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),p=y=>w8($b(y,e.nByteLength));function h(y){let E=n>>od;return y>E}function b(y){return h(y)?s(-y):y}let _=(y,E,v)=>vh(y.slice(E,v));class A{constructor(E,v,x){this.r=E,this.s=v,this.recovery=x,this.assertValidity()}static fromCompact(E){let v=e.nByteLength;return E=Vl("compactSignature",E,v*2),new A(_(E,0,v),_(E,v,2*v))}static fromDER(E){let{r:v,s:x}=x8.toSig(Vl("DER",E));return new A(v,x)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new A(this.r,this.s,E)}recoverPublicKey(E){let{r:v,s:x,recovery:g}=this,P=z(Vl("msgHash",E));if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");let B=g===2||g===3?v+e.n:v;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let I=(g&1)===0?"02":"03",L=l.fromHex(I+p(B)),G=c(B),H=s(-P*G),$=s(x*G),K=l.BASE.multiplyAndAddUnsafe(L,H,$);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return v8(this.toDERHex())}toDERHex(){return x8.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return v8(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let C={isValidPrivateKey(y){try{return u(y),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let y=F0e(e.n);return DFe(e.randomBytes(y),e.n)},precompute(y=8,E=l.BASE){return E._setWindowSize(y),E.multiply(BigInt(3)),E}};function R(y,E=!0){return l.fromPrivateKey(y).toRawBytes(E)}function M(y){let E=y instanceof Uint8Array,v=typeof y=="string",x=(E||v)&&y.length;return E?x===i||x===o:v?x===2*i||x===2*o:y instanceof l}function U(y,E,v=!0){if(M(y))throw new Error("first arg must be private key");if(!M(E))throw new Error("second arg must be public key");return l.fromHex(E).multiply(u(y)).toRawBytes(v)}let F=e.bits2int||function(y){let E=vh(y),v=y.length*8-e.nBitLength;return v>0?E>>BigInt(v):E},z=e.bits2int_modN||function(y){return s(F(y))},N=BC(e.nBitLength);function k(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(Eh<=y&&y<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return $b(y,e.nByteLength)}function O(y,E,v=w){if(["recovered","canonical"].some(J=>J in v))throw new Error("sign() legacy options not supported");let{hash:x,randomBytes:g}=e,{lowS:P,prehash:B,extraEntropy:I}=v;P==null&&(P=!0),y=Vl("msgHash",y),B&&(y=Vl("prehashed msgHash",x(y)));let L=z(y),G=u(E),H=[k(G),k(L)];if(I!=null){let J=I===!0?g(r.BYTES):I;H.push(Vl("extraEntropy",J))}let $=P9(...H),K=L;function W(J){let X=F(J);if(!f(X))return;let te=c(X),re=l.BASE.multiply(X).toAffine(),le=s(re.x);if(le===Eh)return;let ce=s(te*s(K+le*G));if(ce===Eh)return;let ae=(re.x===le?0:2)|Number(re.y&od),xe=ce;return P&&h(ce)&&(xe=b(ce),ae^=1),new A(le,xe,ae)}return{seed:$,k2sig:W}}let w={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function T(y,E,v=w){let{seed:x,k2sig:g}=O(y,E,v),P=e;return M0e(P.hash.outputLen,P.nByteLength,P.hmac)(x,g)}l.BASE._setWindowSize(8);function m(y,E,v,x=S){let g=y;if(E=Vl("msgHash",E),v=Vl("publicKey",v),"strict"in x)throw new Error("options.strict was renamed to lowS");let{lowS:P,prehash:B}=x,I,L;try{if(typeof g=="string"||g instanceof Uint8Array)try{I=A.fromDER(g)}catch(re){if(!(re instanceof x8.Err))throw re;I=A.fromCompact(g)}else if(typeof g=="object"&&typeof g.r=="bigint"&&typeof g.s=="bigint"){let{r:re,s:le}=g;I=new A(re,le)}else throw new Error("PARSE");L=l.fromHex(v)}catch(re){if(re.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&I.hasHighS())return!1;B&&(E=e.hash(E));let{r:G,s:H}=I,$=z(E),K=c(H),W=s($*K),J=s(G*K),X=l.BASE.multiplyAndAddUnsafe(L,W,J)?.toAffine();return X?s(X.x)===G:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:U,sign:T,verify:m,ProjectivePoint:l,Signature:A,utils:C}}var MDt,BDt,x8,Eh,od,rMr,FFe,nMr,zFe=D(()=>{FH();DC();DC();UFe();({bytesToNumberBE:MDt,hexToBytes:BDt}=B0e),x8={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=x8;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:MDt(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=x8,r=typeof t=="string"?BDt(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=x8._parseInt(r.subarray(2)),{d:a,l:s}=x8._parseInt(o);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,a=i.length/2,s=r(o),c=r(a);return`30${r(a+o+4)}02${c}${i}02${s}${n}`}},Eh=BigInt(0),od=BigInt(1),rMr=BigInt(2),FFe=BigInt(3),nMr=BigInt(4)});function UDt(t){return{hash:t,hmac:(e,...r)=>w0e(t,e,tFe(...r)),randomBytes:nFe}}function GFe(t,e){let r=n=>HFe({...t,...UDt(n)});return Object.freeze({...r(e),create:r})}var jFe=D(()=>{iFe();g8();zFe();});function HDt(t){let e=KFe,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Kl(u,r,e)*u%e,f=Kl(d,r,e)*u%e,p=Kl(f,G0e,e)*l%e,h=Kl(p,i,e)*p%e,b=Kl(h,o,e)*h%e,_=Kl(b,s,e)*b%e,A=Kl(_,c,e)*_%e,C=Kl(A,s,e)*b%e,R=Kl(C,r,e)*u%e,M=Kl(R,a,e)*h%e,U=Kl(M,n,e)*l%e,F=Kl(U,G0e,e);if(!j0e.eql(j0e.sqr(F),t))throw new Error("Cannot find square root");return F}var KFe,$Fe,FDt,G0e,VFe,j0e,xh,fMr,pMr,qFe=D(()=>{x0e();FH();jFe();KFe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$Fe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),FDt=BigInt(1),G0e=BigInt(2),VFe=(t,e)=>(t+e/G0e)/e;j0e=MFe(KFe,void 0,void 0,{sqrt:HDt}),xh=GFe({a:BigInt(0),b:BigInt(7),Fp:j0e,n:$Fe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=$Fe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-FDt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=VFe(o*t,e),c=VFe(-n*t,e),l=E0(t-s*r-c*i,e),u=E0(-s*n-c*o,e),d=l>a,f=u>a;if(d&&(l=e-l),f&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},OH),fMr=BigInt(0),pMr=xh.ProjectivePoint});var Ah,$0e=D(()=>{Ah="0x0000000000000000000000000000000000000000"});var HH,WFe=D(()=>{HH="0x0000000000000000000000000000000000000000000000000000000000000000"});var V0e,YFe=D(()=>{V0e=`Ethereum Signed Message:
`});var LC=D(()=>{$0e();WFe();YFe()});function tHe(t){return v0(Fi(t),32)}var JFe,QFe,ZFe,XFe,eHe,zH,O9,na,K0e=D(()=>{LC();Jr();JFe=BigInt(0),QFe=BigInt(1),ZFe=BigInt(2),XFe=BigInt(27),eHe=BigInt(28),zH=BigInt(35),O9={};na=class t{#e;#t;#r;#n;get r(){return this.#e}set r(e){oe(Ef(e)===32,"invalid r","value",e),this.#e=qe(e)}get s(){return oe(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){oe(Ef(e)===32,"invalid s","value",e),this.#t=qe(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#r}set v(e){let r=Er(e,"value");oe(r===27||r===28,"invalid v","v",e),this.#r=r}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return e==null?null:t.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=Yt(this.s);return this.yParity&&(e[0]|=128),qe(e)}get compactSerialized(){return pn([this.r,this.yParityAndS])}get serialized(){return pn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,r,n,i){mh(e,O9,"Signature"),this.#e=r,this.#t=n,this.#r=i,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new t(O9,this.r,this._s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){let r=ct(e,"v");return r==XFe||r==eHe?JFe:(oe(r>=zH,"invalid EIP-155 v","v",e),(r-zH)/ZFe)}static getChainIdV(e,r){return ct(e)*ZFe+BigInt(35+r-27)}static getNormalizedV(e){let r=ct(e);return r===JFe||r===XFe?27:r===QFe||r===eHe?28:(oe(r>=zH,"invalid v","v",e),r&QFe?27:28)}static from(e){function r(l,u){oe(l,u,"signature",e)}if(e==null)return new t(O9,HH,HH,27);if(typeof e=="string"){let l=Yt(e,"signature");if(l.length===64){let u=qe(l.slice(0,32)),d=l.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new t(O9,u,qe(d),f)}if(l.length===65){let u=qe(l.slice(0,32)),d=qe(l.slice(32,64)),f=t.getNormalizedV(l[64]);return new t(O9,u,d,f)}r(!1,"invalid raw signature length")}if(e instanceof t)return e.clone();let n=e.r;r(n!=null,"missing r");let i=tHe(n),o=(function(l,u){if(l!=null)return tHe(l);if(u!=null){r(Mr(u,32),"invalid yParityAndS");let d=Yt(u);return d[0]&=127,qe(d)}r(!1,"missing s")})(e.s,e.yParityAndS),{networkV:a,v:s}=(function(l,u,d){if(l!=null){let f=ct(l);return{networkV:f>=zH?f:void 0,v:t.getNormalizedV(f)}}if(u!=null)return r(Mr(u,32),"invalid yParityAndS"),{v:Yt(u)[0]&128?28:27};if(d!=null){switch(Er(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new t(O9,i,o,s);return a&&(c.#n=a),r(e.yParity==null||Er(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}});var ql,rHe=D(()=>{qFe();Jr();K0e();ql=class t{#e;constructor(e){oe(Ef(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=qe(e)}get privateKey(){return this.#e}get publicKey(){return t.computePublicKey(this.#e)}get compressedPublicKey(){return t.computePublicKey(this.#e,!0)}sign(e){oe(Ef(e)===32,"invalid digest length","digest",e);let r=xh.sign(Io(e),Io(this.#e),{lowS:!0});return na.from({r:X0(r.r,32),s:X0(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){let r=t.computePublicKey(e);return qe(xh.getSharedSecret(Io(this.#e),Yt(r),!1))}static computePublicKey(e,r){let n=Yt(e,"key");if(n.length===32){let o=xh.getPublicKey(n,!!r);return qe(o)}if(n.length===64){let o=new Uint8Array(65);o[0]=4,o.set(n,1),n=o}let i=xh.ProjectivePoint.fromHex(n);return qe(i.toRawBytes(r))}static recoverPublicKey(e,r){oe(Ef(e)===32,"invalid digest length","digest",e);let n=na.from(r),i=xh.Signature.fromCompact(Io(pn([n.r,n.s])));i=i.addRecoveryBit(n.yParity);let o=i.recoverPublicKey(Io(e));return oe(o!=null,"invalid signature for digest","signature",r),"0x"+o.toHex(!1)}static addPoints(e,r,n){let i=xh.ProjectivePoint.fromHex(t.computePublicKey(e).substring(2)),o=xh.ProjectivePoint.fromHex(t.computePublicKey(r).substring(2));return"0x"+i.add(o).toHex(!!n)}}});var Wl=D(()=>{EFe();CFe();rHe();K0e()});function nHe(t){t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);let n=Yt(vn(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}function jDt(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>q0e[n]).join("");for(;e.length>=iHe;){let n=e.substring(0,iHe);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function VDt(t){t=t.toLowerCase();let e=zDt;for(let r=0;r<t.length;r++)e=e*GDt+$Dt[t[r]];return e}function Rr(t){if(oe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=nHe(t);return oe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){oe(t.substring(2,4)===jDt(t),"bad icap checksum","address",t);let e=VDt(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return nHe("0x"+e)}oe(!1,"invalid address","address",t)}var zDt,GDt,q0e,iHe,$Dt,GH=D(()=>{Wl();Jr();zDt=BigInt(0),GDt=BigInt(36);q0e={};for(let t=0;t<10;t++)q0e[String(t)]=String(t);for(let t=0;t<26;t++)q0e[String.fromCharCode(65+t)]=String(10+t);iHe=15;$Dt=(function(){let t={};for(let e=0;e<36;e++){let r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})()});function W0e(t){let e=Rr(t.from),n=ct(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Rr(yi(vn(nd([e,n])),12))}var oHe=D(()=>{Wl();Jr();GH()});function jH(t){return t&&typeof t.getAddress=="function"}async function Y0e(t,e){let r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(Ce(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),oe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Rr(r)}function ia(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Rr(t):(Ce(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Y0e(t,e.resolveName(t)));if(jH(t))return Y0e(t,t.getAddress());if(t&&typeof t.then=="function")return Y0e(t,t);oe(!1,"unsupported addressable value","target",t)}var aHe=D(()=>{Jr();GH()});var Kc=D(()=>{GH();oHe();aHe()});function Mt(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new gi(Tf,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Fn(t,e){return new gi(Tf,`bytes${e||""}`,t,{size:e})}var Tf,sHe,gi,rp=D(()=>{Jr();Tf={};sHe=Symbol.for("_ethers_typed"),gi=class t{type;value;#e;_typedSymbol;constructor(e,r,n,i){i==null&&(i=null),mh(Tf,e,"Typed"),At(this,{_typedSymbol:sHe,type:r,value:n}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,r){return new t(Tf,e,r)}static uint8(e){return Mt(e,8)}static uint16(e){return Mt(e,16)}static uint24(e){return Mt(e,24)}static uint32(e){return Mt(e,32)}static uint40(e){return Mt(e,40)}static uint48(e){return Mt(e,48)}static uint56(e){return Mt(e,56)}static uint64(e){return Mt(e,64)}static uint72(e){return Mt(e,72)}static uint80(e){return Mt(e,80)}static uint88(e){return Mt(e,88)}static uint96(e){return Mt(e,96)}static uint104(e){return Mt(e,104)}static uint112(e){return Mt(e,112)}static uint120(e){return Mt(e,120)}static uint128(e){return Mt(e,128)}static uint136(e){return Mt(e,136)}static uint144(e){return Mt(e,144)}static uint152(e){return Mt(e,152)}static uint160(e){return Mt(e,160)}static uint168(e){return Mt(e,168)}static uint176(e){return Mt(e,176)}static uint184(e){return Mt(e,184)}static uint192(e){return Mt(e,192)}static uint200(e){return Mt(e,200)}static uint208(e){return Mt(e,208)}static uint216(e){return Mt(e,216)}static uint224(e){return Mt(e,224)}static uint232(e){return Mt(e,232)}static uint240(e){return Mt(e,240)}static uint248(e){return Mt(e,248)}static uint256(e){return Mt(e,256)}static uint(e){return Mt(e,256)}static int8(e){return Mt(e,-8)}static int16(e){return Mt(e,-16)}static int24(e){return Mt(e,-24)}static int32(e){return Mt(e,-32)}static int40(e){return Mt(e,-40)}static int48(e){return Mt(e,-48)}static int56(e){return Mt(e,-56)}static int64(e){return Mt(e,-64)}static int72(e){return Mt(e,-72)}static int80(e){return Mt(e,-80)}static int88(e){return Mt(e,-88)}static int96(e){return Mt(e,-96)}static int104(e){return Mt(e,-104)}static int112(e){return Mt(e,-112)}static int120(e){return Mt(e,-120)}static int128(e){return Mt(e,-128)}static int136(e){return Mt(e,-136)}static int144(e){return Mt(e,-144)}static int152(e){return Mt(e,-152)}static int160(e){return Mt(e,-160)}static int168(e){return Mt(e,-168)}static int176(e){return Mt(e,-176)}static int184(e){return Mt(e,-184)}static int192(e){return Mt(e,-192)}static int200(e){return Mt(e,-200)}static int208(e){return Mt(e,-208)}static int216(e){return Mt(e,-216)}static int224(e){return Mt(e,-224)}static int232(e){return Mt(e,-232)}static int240(e){return Mt(e,-240)}static int248(e){return Mt(e,-248)}static int256(e){return Mt(e,-256)}static int(e){return Mt(e,-256)}static bytes1(e){return Fn(e,1)}static bytes2(e){return Fn(e,2)}static bytes3(e){return Fn(e,3)}static bytes4(e){return Fn(e,4)}static bytes5(e){return Fn(e,5)}static bytes6(e){return Fn(e,6)}static bytes7(e){return Fn(e,7)}static bytes8(e){return Fn(e,8)}static bytes9(e){return Fn(e,9)}static bytes10(e){return Fn(e,10)}static bytes11(e){return Fn(e,11)}static bytes12(e){return Fn(e,12)}static bytes13(e){return Fn(e,13)}static bytes14(e){return Fn(e,14)}static bytes15(e){return Fn(e,15)}static bytes16(e){return Fn(e,16)}static bytes17(e){return Fn(e,17)}static bytes18(e){return Fn(e,18)}static bytes19(e){return Fn(e,19)}static bytes20(e){return Fn(e,20)}static bytes21(e){return Fn(e,21)}static bytes22(e){return Fn(e,22)}static bytes23(e){return Fn(e,23)}static bytes24(e){return Fn(e,24)}static bytes25(e){return Fn(e,25)}static bytes26(e){return Fn(e,26)}static bytes27(e){return Fn(e,27)}static bytes28(e){return Fn(e,28)}static bytes29(e){return Fn(e,29)}static bytes30(e){return Fn(e,30)}static bytes31(e){return Fn(e,31)}static bytes32(e){return Fn(e,32)}static address(e){return new t(Tf,"address",e)}static bool(e){return new t(Tf,"bool",!!e)}static bytes(e){return new t(Tf,"bytes",e)}static string(e){return new t(Tf,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new t(Tf,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===sHe}static dereference(e,r){if(t.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}}});var $H,cHe=D(()=>{Kc();gH();rp();id();$H=class extends ra{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=gi.dereference(r,"string");try{n=Rr(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return Rr(X0(e.readValue(),20))}}});var VH,lHe=D(()=>{id();VH=class extends ra{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}});function J0e(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{let u=l.localName;return Ce(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),Ce(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),c[u]=!0,r[u]})}else oe(!1,"invalid tuple value","tuple",r);oe(e.length===n.length,"types/value length mismatch","tuple",r);let i=new y8,o=new y8,a=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let d=o.length;c.encode(o,u);let f=i.writeUpdatableValue();a.push(p=>{f(p+d)})}else c.encode(i,u)}),a.forEach(c=>{c(i.length)});let s=t.appendWriter(i);return s+=t.appendWriter(o),s}function Q0e(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(o=>{let a=null;if(o.dynamic){let s=t.readIndex(),c=i.subReader(s);try{a=o.decode(c)}catch(l){if(Oi(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=o.name,a.name=o.localName,a.type=o.type}}else try{a=o.decode(t)}catch(s){if(Oi(s,"BUFFER_OVERRUN"))throw s;a=s,a.baseType=o.name,a.name=o.localName,a.type=o.type}if(a==null)throw new Error("investigate");r.push(a),n.push(o.localName||null)}),tp.fromItems(r,n)}var KH,Z0e=D(()=>{Jr();rp();id();lHe();KH=class extends ra{coder;length;constructor(e,r,n){let i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,n,o),At(this,{coder:e,length:r})}defaultValue(){let e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){let n=gi.dereference(r,"array");Array.isArray(n)||this._throwError("expected array value",n);let i=this.length;i===-1&&(i=n.length,e.writeValue(n.length)),T9(n.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<n.length;a++)o.push(this.coder);return J0e(e,o,n)}decode(e){let r=this.length;r===-1&&(r=e.readIndex(),Ce(r*_s<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*_s,length:e.dataLength}));let n=[];for(let i=0;i<r;i++)n.push(new VH(this.coder));return Q0e(e,n)}}});var qH,uHe=D(()=>{rp();id();qH=class extends ra{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){let n=gi.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}});var UC,WH,X0e=D(()=>{Jr();id();UC=class extends ra{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Io(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}},WH=class extends UC{constructor(e){super("bytes",e)}decode(e){return qe(super.decode(e))}}});var YH,dHe=D(()=>{Jr();rp();id();YH=class extends ra{size;constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),At(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Io(gi.dereference(r,this.type));return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return qe(e.readBytes(this.size))}}});var KDt,JH,fHe=D(()=>{id();KDt=new Uint8Array([]),JH=class extends ra{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(KDt)}decode(e){return e.readBytes(0),null}}});var qDt,WDt,YDt,QH,pHe=D(()=>{Jr();rp();id();qDt=BigInt(0),WDt=BigInt(1),YDt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),QH=class extends ra{size;signed;constructor(e,r,n){let i=(r?"int":"uint")+e*8;super(i,i,n,!1),At(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let n=ct(gi.dereference(r,this.type)),i=bh(YDt,_s*8);if(this.signed){let o=bh(i,this.size*8-1);(n>o||n<-(o+WDt))&&this._throwError("value out-of-bounds",r),n=S9(n,8*_s)}else(n<qDt||n>bh(i,this.size*8))&&this._throwError("value out-of-bounds",r);return e.writeValue(n)}decode(e){let r=bh(e.readValue(),this.size*8);return this.signed&&(r=bH(r,this.size*8)),r}}});var ZH,hHe=D(()=>{vH();rp();X0e();ZH=class extends UC{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,ta(gi.dereference(r,"string")))}decode(e){return yh(super.decode(e))}}});var A8,mHe=D(()=>{p8();rp();id();Z0e();A8=class extends ra{coders;constructor(e,r){let n=!1,i=[];e.forEach(a=>{a.dynamic&&(n=!0),i.push(a.type)});let o="tuple("+i.join(",")+")";super("tuple",o,r,n),At(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});let r=this.coders.reduce((n,i)=>{let o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){let n=gi.dereference(r,"tuple");return J0e(e,this.coders,n)}decode(e){return Q0e(e,this.coders)}}});function ece(t,e){return{address:Rr(t),storageKeys:e.map((r,n)=>(oe(Mr(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function qc(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(oe(r.length===2,"invalid slot set",`value[${n}]`,r),ece(r[0],r[1])):(oe(r!=null&&typeof r=="object","invalid address-slot set","value",t),ece(r.address,r.storageKeys)));oe(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return ece(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}var tce=D(()=>{Kc();Jr()});function N9(t){return{address:Rr(t.address),nonce:ct(t.nonce!=null?t.nonce:0),chainId:ct(t.chainId!=null?t.chainId:0),signature:na.from(t.signature)}}var rce=D(()=>{Kc();Wl();Jr()});function bHe(t){let e;return typeof t=="string"?e=ql.computePublicKey(t,!1):e=t.publicKey,Rr(vn("0x"+e.substring(4)).substring(26))}function nce(t,e){return bHe(ql.recoverPublicKey(t,e))}var yHe=D(()=>{Kc();Wl()});function tLt(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Yt(t.blobToKzgCommitment(qe(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Yt(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Yt(t.blobToKZGCommitment(qe(n)));oe(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Yt(t.computeBlobProof(qe(n),qe(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Yt(t.computeBlobKZGProof(qe(n),qe(i)));oe(!1,"unsupported KZG library","kzg",t)}}}function gHe(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=wh(e).substring(4),"0x"+r}function k9(t){return t==="0x"?null:Rr(t)}function XH(t,e){try{return qc(t)}catch(r){oe(!1,r.message,e,t)}}function rLt(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");let r=[];for(let n=0;n<t.length;n++){let i=t[n];if(!Array.isArray(i))throw new Error(`authorization[${n}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!i[1])throw new Error(`authorization[${n}]: null address`);r.push({address:k9(i[1]),nonce:li(i[2],"nonce"),chainId:li(i[0],"chainId"),signature:na.from({yParity:T8(i[3],"yParity"),r:v0(i[4],32),s:v0(i[5],32)})})}return r}catch(r){oe(!1,r.message,e,t)}}function T8(t,e){return t==="0x"?0:Er(t,e)}function li(t,e){if(t==="0x")return Ya;let r=ct(t,e);return oe(r<=eLt,"value exceeds uint size",e,r),r}function hn(t,e){let r=ct(t,"value"),n=Fi(r);return oe(n.length<=32,"value too large",`tx.${e}`,r),n}function ez(t){return qc(t).map(e=>[e.address,e.storageKeys])}function nLt(t){return t.map(e=>[hn(e.chainId,"chainId"),e.address,hn(e.nonce,"nonce"),hn(e.signature.yParity,"yParity"),Fi(e.signature.r),Fi(e.signature.s)])}function iLt(t,e){oe(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)oe(Mr(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function oLt(t){let e=Db(t);oe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let r={type:0,nonce:T8(e[0],"nonce"),gasPrice:li(e[1],"gasPrice"),gasLimit:li(e[2],"gasLimit"),to:k9(e[3]),value:li(e[4],"value"),data:qe(e[5]),chainId:Ya};if(e.length===6)return r;let n=li(e[6],"v"),i=li(e[7],"r"),o=li(e[8],"s");if(i===Ya&&o===Ya)r.chainId=n;else{let a=(n-XDt)/JDt;a<Ya&&(a=Ya),r.chainId=a,oe(a!==Ya||n===QDt||n===ZDt,"non-canonical legacy v","v",e[6]),r.signature=na.from({r:v0(e[7],32),s:v0(e[8],32),v:n})}return r}function aLt(t,e){let r=[hn(t.nonce,"nonce"),hn(t.gasPrice||0,"gasPrice"),hn(t.gasLimit,"gasLimit"),t.to||"0x",hn(t.value,"value"),t.data],n=Ya;if(t.chainId!=Ya)n=ct(t.chainId,"tx.chainId"),oe(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let o=t.signature.legacyChainId;o!=null&&(n=o)}if(!e)return n!==Ya&&(r.push(Fi(n)),r.push("0x"),r.push("0x")),nd(r);let i=BigInt(27+e.yParity);return n!==Ya?i=na.getChainIdV(n,e.v):BigInt(e.v)!==i&&oe(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Fi(i)),r.push(Fi(e.r)),r.push(Fi(e.s)),nd(r)}function tz(t,e){let r;try{if(r=T8(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{oe(!1,"invalid yParity","yParity",e[0])}let n=v0(e[1],32),i=v0(e[2],32),o=na.from({r:n,s:i,yParity:r});t.signature=o}function sLt(t){let e=Db(Yt(t).slice(1));oe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",qe(t));let r={type:2,chainId:li(e[0],"chainId"),nonce:T8(e[1],"nonce"),maxPriorityFeePerGas:li(e[2],"maxPriorityFeePerGas"),maxFeePerGas:li(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:li(e[4],"gasLimit"),to:k9(e[5]),value:li(e[6],"value"),data:qe(e[7]),accessList:XH(e[8],"accessList")};return e.length===9||tz(r,e.slice(9)),r}function cLt(t,e){let r=[hn(t.chainId,"chainId"),hn(t.nonce,"nonce"),hn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(t.maxFeePerGas||0,"maxFeePerGas"),hn(t.gasLimit,"gasLimit"),t.to||"0x",hn(t.value,"value"),t.data,ez(t.accessList||[])];return e&&(r.push(hn(e.yParity,"yParity")),r.push(Fi(e.r)),r.push(Fi(e.s))),pn(["0x02",nd(r)])}function lLt(t){let e=Db(Yt(t).slice(1));oe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",qe(t));let r={type:1,chainId:li(e[0],"chainId"),nonce:T8(e[1],"nonce"),gasPrice:li(e[2],"gasPrice"),gasLimit:li(e[3],"gasLimit"),to:k9(e[4]),value:li(e[5],"value"),data:qe(e[6]),accessList:XH(e[7],"accessList")};return e.length===8||tz(r,e.slice(8)),r}function uLt(t,e){let r=[hn(t.chainId,"chainId"),hn(t.nonce,"nonce"),hn(t.gasPrice||0,"gasPrice"),hn(t.gasLimit,"gasLimit"),t.to||"0x",hn(t.value,"value"),t.data,ez(t.accessList||[])];return e&&(r.push(hn(e.yParity,"recoveryParam")),r.push(Fi(e.r)),r.push(Fi(e.s))),pn(["0x01",nd(r)])}function dLt(t){let e=Db(Yt(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";let o=e[1],a=e[2],s=e[3];oe(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),oe(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),oe(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),oe(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),oe(o.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:o[c],commitment:a[c],proof:s[c]});e=e[0]}oe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",qe(t));let i={type:3,chainId:li(e[0],"chainId"),nonce:T8(e[1],"nonce"),maxPriorityFeePerGas:li(e[2],"maxPriorityFeePerGas"),maxFeePerGas:li(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:li(e[4],"gasLimit"),to:k9(e[5]),value:li(e[6],"value"),data:qe(e[7]),accessList:XH(e[8],"accessList"),maxFeePerBlobGas:li(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(i.blobs=n),oe(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),oe(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)oe(Mr(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||tz(i,e.slice(11)),i}function fLt(t,e,r){let n=[hn(t.chainId,"chainId"),hn(t.nonce,"nonce"),hn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(t.maxFeePerGas||0,"maxFeePerGas"),hn(t.gasLimit,"gasLimit"),t.to||Ah,hn(t.value,"value"),t.data,ez(t.accessList||[]),hn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),iLt(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(hn(e.yParity,"yParity")),n.push(Fi(e.r)),n.push(Fi(e.s)),r)?pn(["0x03",nd([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])]):pn(["0x03",nd(n)])}function pLt(t){let e=Db(Yt(t).slice(1));oe(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",qe(t));let r={type:4,chainId:li(e[0],"chainId"),nonce:T8(e[1],"nonce"),maxPriorityFeePerGas:li(e[2],"maxPriorityFeePerGas"),maxFeePerGas:li(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:li(e[4],"gasLimit"),to:k9(e[5]),value:li(e[6],"value"),data:qe(e[7]),accessList:XH(e[8],"accessList"),authorizationList:rLt(e[9],"authorizationList")};return e.length===10||tz(r,e.slice(10)),r}function hLt(t,e){let r=[hn(t.chainId,"chainId"),hn(t.nonce,"nonce"),hn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),hn(t.maxFeePerGas||0,"maxFeePerGas"),hn(t.gasLimit,"gasLimit"),t.to||"0x",hn(t.value,"value"),t.data,ez(t.accessList||[]),nLt(t.authorizationList||[])];return e&&(r.push(hn(e.yParity,"yParity")),r.push(Fi(e.r)),r.push(Fi(e.s))),pn(["0x04",nd(r)])}var Ya,JDt,QDt,ZDt,XDt,eLt,ice,np,wHe=D(()=>{Kc();$0e();Wl();Jr();tce();rce();yHe();Ya=BigInt(0),JDt=BigInt(2),QDt=BigInt(27),ZDt=BigInt(28),XDt=BigInt(35),eLt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ice=4096*32;np=class t{#e;#t;#r;#n;#i;#a;#o;#s;#p;#l;#h;#m;#c;#u;#d;#f;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:oe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?Ah:e}set to(e){this.#t=e==null?null:Rr(e)}get nonce(){return this.#n}set nonce(e){this.#n=Er(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=ct(e)}get gasPrice(){let e=this.#a;return e==null&&(this.type===0||this.type===1)?Ya:e}set gasPrice(e){this.#a=e==null?null:ct(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#o;return e??(this.type===2||this.type===3?Ya:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:ct(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#s;return e??(this.type===2||this.type===3?Ya:null)}set maxFeePerGas(e){this.#s=e==null?null:ct(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=qe(e)}get value(){return this.#p}set value(e){this.#p=ct(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=ct(e)}get signature(){return this.#h||null}set signature(e){this.#h=e==null?null:na.from(e)}get accessList(){let e=this.#m||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#m=e==null?null:qc(e)}get authorizationList(){let e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(r=>N9(r))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?Ya:e}set maxFeePerBlobGas(e){this.#c=e==null?null:ct(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){oe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)oe(Mr(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}this.#u=e}get blobs(){return this.#f==null?null:this.#f.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#f=null;return}let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if(Mb(o)){Ce(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=Yt(o);if(oe(a.length<=ice,"blob is too large",`blobs[${i}]`,o),a.length!==ice){let l=new Uint8Array(ice);l.set(a),a=l}let s=this.#d.blobToKzgCommitment(a),c=qe(this.#d.computeBlobKzgProof(a,s));r.push({data:qe(a),commitment:qe(s),proof:c}),n.push(gHe(1,s))}else{let a=qe(o.commitment);r.push({data:qe(o.data),commitment:a,proof:qe(o.proof)}),n.push(gHe(1,a))}}this.#f=r,this.#u=n}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=tLt(e)}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#i=Ya,this.#a=null,this.#o=null,this.#s=null,this.#r="0x",this.#p=Ya,this.#l=Ya,this.#h=null,this.#m=null,this.#c=null,this.#u=null,this.#d=null,this.#f=null,this.#y=null}get hash(){return this.signature==null?null:vn(this.#b(!0,!1))}get unsignedHash(){return vn(this.unsignedSerialized)}get from(){return this.signature==null?null:nce(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ql.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#b(e,r){Ce(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return aLt(this,n);case 1:return uLt(this,n);case 2:return cLt(this,n);case 3:return fLt(this,n,r?this.blobs:null);case 4:return hLt(this,n)}Ce(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#b(!0,!0)}get unsignedSerialized(){return this.#b(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Ce(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ce(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ce(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):r?o.push(2):e?(o.push(1),n||o.push(0)):n?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return t.from(this)}toJSON(){let e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new t;if(typeof e=="string"){let n=Yt(e);if(n[0]>=127)return t.from(oLt(n));switch(n[0]){case 1:return t.from(lLt(n));case 2:return t.from(sLt(n));case 3:return t.from(dLt(n));case 4:return t.from(pLt(n))}Ce(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let r=new t;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=na.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(oe(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),oe(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(oe(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),oe(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}}});var Kb=D(()=>{tce();rce();wHe()});function ad(t){return vn(ta(t))}var oce=D(()=>{Wl();Jr()});function bLt(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let U=1;U<n;U++)o.push(i+=r());let a=r(),s=e;e+=a;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}let d=31,f=2**d,p=f>>>1,h=p>>1,b=f-1,_=0;for(let U=0;U<d;U++)_=_<<1|u();let A=[],C=0,R=f;for(;;){let U=Math.floor(((_-C+1)*i-1)/R),F=0,z=n;for(;z-F>1;){let O=F+z>>>1;U<o[O]?z=O:F=O}if(F==0)break;A.push(F);let N=C+Math.floor(R*o[F]/i),k=C+Math.floor(R*o[F+1]/i)-1;for(;((N^k)&p)==0;)_=_<<1&b|u(),N=N<<1&b,k=k<<1&b|1;for(;N&~k&h;)_=_&p|_<<1&b>>>1|u(),N=N<<1^p,k=(k^p)<<1|p|1;C=N,R=1+k-N}let M=n-4;return A.map(U=>{switch(U-M){case 3:return M+65792+(t[s++]<<16|t[s++]<<8|t[s++]);case 2:return M+256+(t[s++]<<8|t[s++]);case 1:return M+t[s++];default:return U-1}})}function yLt(t){let e=0;return()=>t[e++]}function _He(t){return yLt(bLt(gLt(t)))}function gLt(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,o=0,a=0,s=0;i<r;i++)s=s<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(n[o++]=s>>(a-=8));return n}function wLt(t){return t&1?~t>>1:t>>1}function vLt(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=wLt(e());return r}function zC(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let o=0;o<i;o++)r.push(e+o);e+=i+1}return r}function SHe(t){return GC(()=>{let e=zC(t);if(e.length)return e})}function IHe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(ELt(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(xLt(r,t))}return e.flat()}function GC(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function CHe(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)vLt(t,r).forEach((o,a)=>n[a].push(o));return n}function ELt(t,e){let r=1+e(),n=e(),i=GC(e);return CHe(i.length,1+t,e).flatMap((a,s)=>{let[c,...l]=a;return Array(i[s]).fill().map((u,d)=>{let f=d*n;return[c+d*r,l.map(p=>p+f)]})})}function xLt(t,e){let r=1+e();return CHe(r,1+t,e).map(i=>[i[0],i.slice(1)])}function ALt(t){let e=[],r=zC(t);return i(n([]),[]),e;function n(o){let a=t(),s=GC(()=>{let c=zC(t).map(l=>r[l]);if(c.length)return n(c)});return{S:a,B:s,Q:o}}function i({S:o,B:a},s,c){if(!(o&4&&c===s[s.length-1])){o&2&&(c=s[s.length-1]),o&1&&e.push(s);for(let l of a)for(let u of l.Q)i(l,[...s,u],c)}}}function TLt(t){return t.toString(16).toUpperCase().padStart(2,"0")}function RHe(t){return`{${TLt(t)}}`}function _Lt(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function D9(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function SLt(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}function FC(t){return t>>24&255}function NHe(t){return t&16777215}function kLt(){let t=_He(ILt);sce=new Map(SHe(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),xHe=new Set(zC(t)),cce=new Map,rz=new Map;for(let[e,r]of IHe(t)){if(!xHe.has(e)&&r.length==2){let[n,i]=r,o=rz.get(n);o||(o=new Map,rz.set(n,o)),o.set(i,e)}cce.set(e,r.reverse())}}function kHe(t){return t>=jC&&t<RLt}function MLt(t,e){if(t>=nz&&t<PLt&&e>=iz&&e<OLt)return jC+(t-nz)*az+(e-iz)*L9;if(kHe(t)&&e>oz&&e<NLt&&(t-jC)%L9==0)return t+(e-oz);{let r=rz.get(t);return r&&(r=r.get(e),r)?r:-1}}function MHe(t){sce||kLt();let e=[],r=[],n=!1;function i(o){let a=sce.get(o);a&&(n=!0,o|=a),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(kHe(o)){let a=o-jC,s=a/az|0,c=a%az/L9|0,l=a%L9;i(nz+s),i(iz+c),l>0&&i(oz+l)}else{let a=cce.get(o);a?r.push(...a):i(o)}if(!r.length)break;o=r.pop()}if(n&&e.length>1){let o=FC(e[0]);for(let a=1;a<e.length;a++){let s=FC(e[a]);if(s==0||o<=s){o=s;continue}let c=a-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(o=FC(e[--c]),o<=s))break}o=FC(e[a])}}return e}function BLt(t){let e=[],r=[],n=-1,i=0;for(let o of t){let a=FC(o),s=NHe(o);if(n==-1)a==0?n=s:e.push(s);else if(i>0&&i>=a)a==0?(e.push(n,...r),r.length=0,n=s):r.push(s),i=a;else{let c=MLt(n,s);c>=0?n=c:i==0&&a==0?(e.push(n),n=s):(r.push(s),i=a)}}return n>=0&&e.push(n,...r),e}function BHe(t){return MHe(t).map(NHe)}function DLt(t){return BLt(MHe(t))}function $C(t,e){return t.P.has(e)||t.Q.has(e)}function pce(){if(uce)return;let t=_He(mLt),e=()=>zC(t),r=()=>new Set(e()),n=(u,d)=>d.forEach(f=>u.add(f));uce=new Map(IHe(t)),FHe=r(),S8=e(),dce=new Set(e().map(u=>S8[u])),S8=new Set(S8),HHe=r(),LLt=r();let i=SHe(t),o=t(),a=()=>{let u=new Set;return e().forEach(d=>n(u,i[d])),n(u,e()),u};B9=GC(u=>{let d=GC(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=D9(d),f&&(d=`Restricted[${d}]`);let p=a(),h=a(),b=!t();return{N:d,P:p,Q:h,M:b,R:f}}}),ace=r(),M9=new Map;let s=e().concat(sz(ace)).sort((u,d)=>u-d);s.forEach((u,d)=>{let f=t(),p=s[d]=f?s[d-f]:{V:[],M:new Map};p.V.push(u),ace.has(u)||M9.set(u,p)});for(let{V:u,M:d}of new Set(M9.values())){let f=[];for(let h of u){let b=B9.filter(A=>$C(A,h)),_=f.find(({G:A})=>b.some(C=>A.has(C)));_||(_={G:new Set,V:[]},f.push(_)),_.V.push(h),n(_.G,b)}let p=f.flatMap(h=>sz(h.G));for(let{G:h,V:b}of f){let _=new Set(p.filter(A=>!h.has(A)));for(let A of b)d.set(A,_)}}_8=new Set;let c=new Set,l=u=>_8.has(u)?c.add(u):_8.add(u);for(let u of B9){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of _8)!M9.has(u)&&!c.has(u)&&M9.set(u,UHe);n(_8,BHe(_8)),THe=ALt(t).map(u=>lce.from(u)).sort(SLt),fce=new Map;for(let u of THe){let d=[fce];for(let f of u){let p=d.map(h=>{let b=h.get(f);return b||(b=new Map,h.set(f,b)),b});f===LHe?d.push(...p):d=p}for(let f of d)f.V=u}}function hce(t){return(zHe(t)?"":`${mce(cz([t]))} `)+RHe(t)}function mce(t){return`"${t}"\u200E`}function ULt(t){if(t.length>=4&&t[2]==AHe&&t[3]==AHe)throw new Error(`invalid label extension: "${D9(t.slice(0,4))}"`)}function FLt(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function HLt(t){let e=t[0],r=vHe.get(e);if(r)throw HC(`leading ${r}`);let n=t.length,i=-1;for(let o=1;o<n;o++){e=t[o];let a=vHe.get(e);if(a){if(i==o)throw HC(`${r} + ${a}`);i=o+1,r=a}}if(i==n)throw HC(`trailing ${r}`)}function cz(t,e=1/0,r=RHe){let n=[];zLt(t[0])&&n.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let a=0;a<o;a++){let s=t[a];zHe(s)&&(n.push(D9(t.slice(i,a))),n.push(r(s)),i=a+1)}return n.push(D9(t.slice(i,o))),n.join("")}function zLt(t){return pce(),S8.has(t)}function zHe(t){return pce(),HHe.has(t)}function GHe(t){return VLt(GLt(t,DLt,WLt))}function GLt(t,e,r){if(!t)return[];pce();let n=0;return t.split(DHe).map(i=>{let o=_Lt(i),a={input:o,offset:n};n+=o.length+1;try{let s=a.tokens=qLt(o,e,r),c=s.length,l;if(!c)throw new Error("empty label");let u=a.output=s.flat();if(FLt(u),!(a.emoji=c>1||s[0].is_emoji)&&u.every(f=>f<128))ULt(u),l="ASCII";else{let f=s.flatMap(p=>p.is_emoji?[]:p);if(!f.length)l="Emoji";else{if(S8.has(u[0]))throw HC("leading combining mark");for(let b=1;b<c;b++){let _=s[b];if(!_.is_emoji&&S8.has(_[0]))throw HC(`emoji + combining mark: "${D9(s[b-1])} + ${cz([_[0]])}"`)}HLt(u);let p=sz(new Set(f)),[h]=$Lt(p);KLt(h,f),jLt(h,p),l=h.N}}a.type=l}catch(s){a.error=s}return a})}function jLt(t,e){let r,n=[];for(let i of e){let o=M9.get(i);if(o===UHe)return;if(o){let a=o.M.get(i);if(r=r?r.filter(s=>a.has(s)):sz(a),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(o=>$C(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function $Lt(t){let e=B9;for(let r of t){let n=e.filter(i=>$C(i,r));if(!n.length)throw B9.some(i=>$C(i,r))?$He(e[0],r):jHe(r);if(e=n,n.length==1)break}return e}function VLt(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${mce(cz(e,63))}: ${i}`)}return D9(n)}).join(DHe)}function jHe(t){return new Error(`disallowed character: ${hce(t)}`)}function $He(t,e){let r=hce(e),n=B9.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function HC(t){return new Error(`illegal placement: ${t}`)}function KLt(t,e){for(let r of e)if(!$C(t,r))throw $He(t,r);if(t.M){let r=BHe(e);for(let n=1,i=r.length;n<i;n++)if(dce.has(r[n])){let o=n+1;for(let a;o<i&&dce.has(a=r[o]);o++)for(let s=n;s<o;s++)if(r[s]==a)throw new Error(`duplicate non-spacing marks: ${hce(a)}`);if(o-n>EHe)throw new Error(`excessive non-spacing marks: ${mce(cz(r.slice(n-1,o)))} (${o-n}/${EHe})`);n=o}}}function qLt(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let o=YLt(t);if(o)i.length&&(n.push(e(i)),i=[]),n.push(r(o));else{let a=t.pop();if(_8.has(a))i.push(a);else{let s=uce.get(a);if(s)i.push(...s);else if(!FHe.has(a))throw jHe(a)}}}return i.length&&n.push(e(i)),n}function WLt(t){return t.filter(e=>e!=LHe)}function YLt(t,e){let r=fce,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:o}=r;o&&(n=o,e&&e.push(...t.slice(i).reverse()),t.length=i)}return n}var mLt,vHe,EHe,ILt,jC,nz,iz,oz,PHe,OHe,L9,az,CLt,RLt,PLt,OLt,NLt,sce,xHe,cce,rz,AHe,DHe,LHe,UHe,sz,lce,uce,FHe,S8,dce,HHe,LLt,B9,ace,M9,_8,THe,fce,VHe=D(()=>{mLt="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",vHe=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),EHe=4;ILt="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",jC=44032,nz=4352,iz=4449,oz=4519,PHe=19,OHe=21,L9=28,az=OHe*L9,CLt=PHe*az,RLt=jC+CLt,PLt=nz+PHe,OLt=iz+OHe,NLt=oz+L9;AHe=45,DHe=".",LHe=65039,UHe=1,sz=t=>Array.from(t);lce=class extends Array{get is_emoji(){return!0}}});function KHe(t){return oe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function WHe(t){let e=ta(bce(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(KHe(e.slice(n,i))),n=i+1);return oe(n<e.length,"invalid ENS name; empty component","name",t),r.push(KHe(e.slice(n))),r}function bce(t){try{if(t.length===0)throw new Error("empty label");return GHe(t)}catch(e){oe(!1,`invalid ENS name (${e.message})`,"name",t)}}function I8(t){oe(typeof t=="string","invalid ENS name; not a string","name",t),oe(t.length,"invalid ENS name (empty label)","name",t);let e=qHe,r=WHe(t);for(;r.length;)e=vn(pn([e,vn(r.pop())]));return qe(e)}function lz(t,e){let r=e??63;return oe(r<=255,"DNS encoded label cannot exceed 255","length",r),qe(pn(WHe(t).map(n=>{oe(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);let i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}var qHe,YHe=D(()=>{Wl();Jr();VHe();qHe=new Uint8Array(32);qHe.fill(0)});function uz(t){return typeof t=="string"&&(t=ta(t)),vn(pn([ta(V0e),ta(String(t.length)),t]))}var JHe=D(()=>{Wl();LC();Jr()});function ZLt(t){let e=Yt(t),r=e.length%32;return r?pn([e,eze.slice(r)]):qe(e)}function ZHe(t){return function(e){return oe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}function gce(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let r=e[1]==="",n=parseInt(e[2]);oe(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);let i=bh(QLt,r?n-1:n),o=r?(i+rze)*JLt:tze;return function(a){let s=ct(a,"value");return oe(s>=o&&s<=i,`value out-of-bounds for ${t}`,"value",s),X0(r?S9(s,256):s,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return oe(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){let i=Yt(n);return oe(i.length===r,`invalid length for ${t}`,"value",n),ZLt(n)}}}switch(t){case"address":return function(e){return v0(Rr(e),32)};case"bool":return function(e){return e?XLt:eUt};case"bytes":return function(e){return vn(e)};case"string":return function(e){return ad(e)}}return null}function XHe(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function dz(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var eze,JLt,tze,rze,QLt,XLt,eUt,QHe,yce,tUt,Th,nze=D(()=>{Kc();Wl();Jr();oce();eze=new Uint8Array(32);eze.fill(0);JLt=BigInt(-1),tze=BigInt(0),rze=BigInt(1),QLt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");XLt=X0(rze,32),eUt=X0(tze,32),QHe={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yce=["name","version","chainId","verifyingContract","salt"];tUt={name:ZHe("name"),version:ZHe("version"),chainId:function(t){let e=ct(t,"domain.chainId");return oe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):oo(e)},verifyingContract:function(t){try{return Rr(t).toLowerCase()}catch{}oe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=Yt(t,"domain.salt");return oe(e.length===32,'invalid domain value "salt"',"domain.salt",t),qe(e)}};Th=class t{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;let r=new Map,n=new Map,i=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:l,type:u})=>{let{base:d,index:f}=dz(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(f||"")}}),r.set(c,new Set),n.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(o);for(let c in o){let l=new Set;for(let u of o[c]){oe(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);let d=dz(u.type).base;oe(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!gce(d)&&(oe(n.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),n.get(d).push(c),r.get(c).add(d))}}let a=Array.from(n.keys()).filter(c=>n.get(c).length===0);oe(a.length!==0,"missing primary type","types",e),oe(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),At(this,{primaryType:a[0]});function s(c,l){oe(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let u of r.get(c))if(n.has(u)){s(u,l);for(let d of l)i.get(d).add(u)}l.delete(c)}s(this.primaryType,new Set);for(let[c,l]of i){let u=Array.from(l);u.sort(),this.#t.set(c,XHe(c,o[c])+u.map(d=>XHe(d,o[d])).join(""))}}getEncoder(e){let r=this.#r.get(e);return r||(r=this.#n(e),this.#r.set(e,r)),r}#n(e){{let i=gce(e);if(i)return i}let r=dz(e).array;if(r){let i=r.prefix,o=this.getEncoder(i);return a=>{oe(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let s=a.map(o);return this.#t.has(i)&&(s=s.map(vn)),vn(pn(s))}}let n=this.types[e];if(n){let i=ad(this.#t.get(e));return o=>{let a=n.map(({name:s,type:c})=>{let l=this.getEncoder(c)(o[s]);return this.#t.has(c)?vn(l):l});return a.unshift(i),pn(a)}}oe(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let r=this.#t.get(e);return oe(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return vn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(gce(e))return n(e,r);let i=dz(e).array;if(i)return oe(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(a=>this._visit(i.prefix,a,n));let o=this.types[e];if(o)return o.reduce((a,{name:s,type:c})=>(a[s]=this._visit(c,r[s],n),a),{});oe(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){if(e[n]==null)continue;let i=QHe[n];oe(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>yce.indexOf(n.name)-yce.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return pn(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return vn(t.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(let s in e)e[s]==null&&delete e[s];let o={};e.verifyingContract&&!Mr(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let a=t.from(r);a.visit(n,(s,c)=>(s==="address"&&!Mr(c,20)&&(o[c]="0x"),c));for(let s in o)o[s]=await i(s);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=a.visit(n,(s,c)=>s==="address"&&o[c]?o[c]:c),{domain:e,value:n}}static getPayload(e,r,n){t.hashDomain(e);let i={},o=[];yce.forEach(c=>{let l=e[c];l!=null&&(i[c]=tUt[c](l),o.push({name:c,type:QHe[c]}))});let a=t.from(r);r=a.types;let s=Object.assign({},r);return oe(s.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),s.EIP712Domain=o,a.encode(n),{types:s,domain:i,primaryType:a.primaryType,message:a.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return qe(Yt(l));if(c.match(/^u?int/))return ct(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return oe(typeof l=="string","invalid string","value",l),l}oe(!1,"unsupported type","type",c)})}}}});var C8=D(()=>{oce();YHe();JHe();nze()});function ec(t){let e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}function Qb(t){let e=[],r=a=>{let s=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${s} at ${o}: ${a}`)},n=[],i=[],o=0;for(;o<t.length;){let a=t.substring(o),s=a.match(pUt);s&&(o+=s[1].length,a=t.substring(o));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(c);let l=fUt[a[0]]||"";if(l){if(c.type=l,c.text=a[0],o++,l==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let d=e.pop().text;u=d+u,e[e.length-1].value=Er(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(s=a.match(mUt),s){if(c.text=s[1],o+=c.text.length,dUt.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(gze)){c.type="TYPE";continue}c.type="ID";continue}if(s=a.match(hUt),s){c.text=s[1],c.type="NUMBER",o+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${o}`)}return new _f(e.map(a=>Object.freeze(a)))}function ize(t,e){let r=[];for(let n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function fz(t,e){if(e.peekKeyword(mze)){let r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Sh(t,e){let r=new Set;for(;;){let n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function wze(t){let e=Sh(t,sUt);return ize(e,ec("constant payable nonpayable".split(" "))),ize(e,ec("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function _h(t,e){return t.popParams().map(r=>oa.from(r,e))}function vze(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ct(t.pop().text);throw new Error("invalid gas")}return null}function R8(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}function oze(t){let e=t.match(gze);if(oe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let r=parseInt(e[2]);oe(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){let r=parseInt(e[3]);oe(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}function VC(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}var oUt,aUt,pze,sUt,hze,mze,bze,cUt,lUt,uUt,dUt,fUt,pUt,hUt,mUt,yze,gze,_f,bUt,ao,Wc,aze,sze,cze,lze,uze,dze,fze,oa,Jb,P8,Yl,qb,Wb,KC,Yb,U9,wce=D(()=>{Jr();C8();oUt="external public payable override",aUt=ec(oUt.split(" ")),pze="constant external internal payable private public pure view override",sUt=ec(pze.split(" ")),hze="constructor error event fallback function receive struct",mze=ec(hze.split(" ")),bze="calldata memory storage payable indexed",cUt=ec(bze.split(" ")),lUt="tuple returns",uUt=[hze,bze,lUt,pze].join(" "),dUt=ec(uUt.split(" ")),fUt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},pUt=new RegExp("^(\\s*)"),hUt=new RegExp("^([0-9]+)"),mUt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),yze=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),gze=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),_f=class t{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new t(this.#t)}reset(){this.#e=0}#r(e=0,r=0){return new t(this.#t.slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){let r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,r}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=[];for(;this.#e<e.match-1;){let n=this.peek().linkNext;r.push(this.#r(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,r}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;let r=this.peek();return r.type===e?r.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let r=this.#e;r<this.#t.length;r++){let n=this.#t[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};bUt=new RegExp(/^(.*)\[([0-9]*)\]$/);ao={},Wc=Symbol.for("_ethers_internal"),aze="_ParamTypeInternal",sze="_ErrorInternal",cze="_EventInternal",lze="_ConstructorInternal",uze="_FallbackInternal",dze="_FunctionInternal",fze="_StructInternal",oa=class t{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,r,n,i,o,a,s,c){if(mh(e,ao,"ParamType"),Object.defineProperty(this,Wc,{value:aze}),a&&(a=Object.freeze(a.slice())),i==="array"){if(s==null||c==null)throw new Error("")}else if(s!=null||c!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");At(this,{name:r,type:n,baseType:i,indexed:o,components:a,arrayLength:s,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let o=JSON.parse(this.arrayChildren.format("json"));return o.name=n,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}let i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((i,o)=>n.components[o].walk(i,r))}return r(this.type,e)}#e(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");let a=this.arrayChildren,s=r.slice();s.forEach((c,l)=>{a.#e(e,c,n,u=>{s[l]=u})}),i(s);return}if(this.isTuple()){let a=this.components,s;if(Array.isArray(r))s=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");s=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");s.forEach((c,l)=>{a[l].#e(e,c,n,u=>{s[l]=u})}),i(s);return}let o=n(this.type,r);o.then?e.push((async function(){i(await o)})()):i(o)}async walkAsync(e,r){let n=[],i=[e];return this.#e(n,e,r,o=>{i[0]=o}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(t.isParamType(e))return e;if(typeof e=="string")try{return t.from(Qb(e),r)}catch{oe(!1,"invalid param type","obj",e)}else if(e instanceof _f){let s="",c="",l=null;Sh(e,ec(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(b=>t.from(b)),s=`tuple(${l.map(b=>b.format()).join(",")})`):(s=oze(e.popType("TYPE")),c=s);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){let b=e.pop();u=new t(ao,"",s,c,null,l,d,u),d=b.value,s+=b.text,c="array",l=null}let f=null;if(Sh(e,cUt).has("indexed")){if(!r)throw new Error("");f=!0}let h=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(ao,h,s,c,f,l,d,u)}let n=e.name;oe(!n||typeof n=="string"&&n.match(yze),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(oe(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,a=o.match(bUt);if(a){let s=parseInt(a[2]||"-1"),c=t.from({type:a[1],components:e.components});return new t(ao,n||"",o,"array",i,null,s,c)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){let s=e.components!=null?e.components.map(l=>t.from(l)):null;return new t(ao,n||"",o,"tuple",i,s,null,null)}return o=oze(e.type),new t(ao,n||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Wc]===aze}},Jb=class t{type;inputs;constructor(e,r,n){mh(e,ao,"Fragment"),n=Object.freeze(n.slice()),At(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{t.from(JSON.parse(e))}catch{}return t.from(Qb(e))}if(e instanceof _f)switch(e.peekKeyword(mze)){case"constructor":return Wb.from(e);case"error":return Yl.from(e);case"event":return qb.from(e);case"fallback":case"receive":return KC.from(e);case"function":return Yb.from(e);case"struct":return U9.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Wb.from(e);case"error":return Yl.from(e);case"event":return qb.from(e);case"fallback":case"receive":return KC.from(e);case"function":return Yb.from(e);case"struct":return U9.from(e)}Ce(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}oe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Wb.isFragment(e)}static isError(e){return Yl.isFragment(e)}static isEvent(e){return qb.isFragment(e)}static isFunction(e){return Yb.isFragment(e)}static isStruct(e){return U9.isFragment(e)}},P8=class extends Jb{name;constructor(e,r,n,i){super(e,r,i),oe(typeof n=="string"&&n.match(yze),"invalid identifier","name",n),i=Object.freeze(i.slice()),At(this,{name:n})}};Yl=class t extends P8{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Wc,{value:sze})}get selector(){return ad(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+VC(e,this.inputs)),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")return t.from(Qb(e));if(e instanceof _f){let r=fz("error",e),n=_h(e);return R8(e),new t(ao,r,n)}return new t(ao,e.name,e.inputs?e.inputs.map(oa.from):[])}static isFragment(e){return e&&e[Wc]===sze}},qb=class t extends P8{anonymous;constructor(e,r,n,i){super(e,"event",r,n),Object.defineProperty(this,Wc,{value:cze}),At(this,{anonymous:i})}get topicHash(){return ad(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("event"),r.push(this.name+VC(e,this.inputs)),e!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(i=>oa.from(i)),new t(ao,e,r,!1).topicHash}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Qb(e))}catch{oe(!1,"invalid event fragment","obj",e)}else if(e instanceof _f){let r=fz("event",e),n=_h(e,!0),i=!!Sh(e,ec(["anonymous"])).has("anonymous");return R8(e),new t(ao,r,n,i)}return new t(ao,e.name,e.inputs?e.inputs.map(r=>oa.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Wc]===cze}},Wb=class t extends Jb{payable;gas;constructor(e,r,n,i,o){super(e,r,n),Object.defineProperty(this,Wc,{value:lze}),At(this,{payable:i,gas:o})}format(e){if(Ce(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[`constructor${VC(e,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Qb(e))}catch{oe(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof _f){Sh(e,ec(["constructor"]));let r=_h(e),n=!!Sh(e,aUt).has("payable"),i=vze(e);return R8(e),new t(ao,"constructor",r,n,i)}return new t(ao,"constructor",e.inputs?e.inputs.map(oa.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Wc]===lze}},KC=class t extends Jb{payable;constructor(e,r,n){super(e,"fallback",r),Object.defineProperty(this,Wc,{value:uze}),At(this,{payable:n})}format(e){let r=this.inputs.length===0?"receive":"fallback";if(e==="json"){let n=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:n})}return`${r}()${this.payable?" payable":""}`}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Qb(e))}catch{oe(!1,"invalid fallback fragment","obj",e)}else if(e instanceof _f){let r=e.toString(),n=e.peekKeyword(ec(["fallback","receive"]));if(oe(n,"type must be fallback or receive","obj",r),e.popKeyword(ec(["fallback","receive"]))==="receive"){let s=_h(e);return oe(s.length===0,"receive cannot have arguments","obj.inputs",s),Sh(e,ec(["payable"])),R8(e),new t(ao,[],!0)}let o=_h(e);o.length?oe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(s=>s.format("minimal")).join(", ")):o=[oa.from("bytes")];let a=wze(e);if(oe(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Sh(e,ec(["returns"])).has("returns")){let s=_h(e);oe(s.length===1&&s[0].type==="bytes","invalid fallback outputs","obj.outputs",s.map(c=>c.format("minimal")).join(", "))}return R8(e),new t(ao,o,a==="payable")}if(e.type==="receive")return new t(ao,[],!0);if(e.type==="fallback"){let r=[oa.from("bytes")],n=e.stateMutability==="payable";return new t(ao,r,n)}oe(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Wc]===uze}},Yb=class t extends P8{constant;outputs;stateMutability;payable;gas;constructor(e,r,n,i,o,a){super(e,"function",r,i),Object.defineProperty(this,Wc,{value:dze}),o=Object.freeze(o.slice()),At(this,{constant:n==="view"||n==="pure",gas:a,outputs:o,payable:n==="payable",stateMutability:n})}get selector(){return ad(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("function"),r.push(this.name+VC(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(VC(e,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(i=>oa.from(i)),new t(ao,e,"view",r,[],null).selector}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Qb(e))}catch{oe(!1,"invalid function fragment","obj",e)}else if(e instanceof _f){let n=fz("function",e),i=_h(e),o=wze(e),a=[];Sh(e,ec(["returns"])).has("returns")&&(a=_h(e));let s=vze(e);return R8(e),new t(ao,n,o,i,a,s)}let r=e.stateMutability;return r==null&&(r="payable",typeof e.constant=="boolean"?(r="view",e.constant||(r="payable",typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable")),new t(ao,e.name,r,e.inputs?e.inputs.map(oa.from):[],e.outputs?e.outputs.map(oa.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Wc]===dze}},U9=class t extends P8{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Wc,{value:fze})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return t.from(Qb(e))}catch{oe(!1,"invalid struct fragment","obj",e)}else if(e instanceof _f){let r=fz("struct",e),n=_h(e);return R8(e),new t(ao,r,n)}return new t(ao,e.name,e.inputs?e.inputs.map(oa.from):[])}static isFragment(e){return e&&e[Wc]===fze}}});function wUt(t,e,r,n){let i="missing revert data",o=null,a=null,s=null;if(r){i="execution reverted";let l=Yt(r);if(r=qe(r),l.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(qe(l.slice(0,4))==="0x08c379a0")try{o=n.decode(["string"],l.slice(4))[0],s={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(qe(l.slice(0,4))==="0x4e487b71")try{let u=Number(n.decode(["uint256"],l.slice(4))[0]);s={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${Sf.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let c={to:e.to?Rr(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Rr(e.from)),In(i,"CALL_EXCEPTION",{action:t,data:r,reason:o,transaction:c,invocation:a,revert:s})}var Sf,yUt,gUt,vce,Eze,Ih,Ece=D(()=>{Jr();id();cHe();Z0e();uHe();X0e();dHe();fHe();pHe();hHe();mHe();wce();Kc();Jr();Sf=new Map;Sf.set(0,"GENERIC_PANIC");Sf.set(1,"ASSERT_FALSE");Sf.set(17,"OVERFLOW");Sf.set(18,"DIVIDE_BY_ZERO");Sf.set(33,"ENUM_RANGE_ERROR");Sf.set(34,"BAD_STORAGE_DATA");Sf.set(49,"STACK_UNDERFLOW");Sf.set(50,"ARRAY_RANGE_ERROR");Sf.set(65,"OUT_OF_MEMORY");Sf.set(81,"UNINITIALIZED_FUNCTION_CALL");yUt=new RegExp(/^bytes([0-9]*)$/),gUt=new RegExp(/^(u?int)([0-9]*)$/),vce=null,Eze=1024;Ih=class t{#e(e){if(e.isArray())return new KH(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new A8(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new $H(e.name);case"bool":return new qH(e.name);case"string":return new ZH(e.name);case"bytes":return new WH(e.name);case"":return new JH(e.name)}let r=e.type.match(gUt);if(r){let n=parseInt(r[2]||"256");return oe(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new QH(n/8,r[1]==="int",e.name)}if(r=e.type.match(yUt),r){let n=parseInt(r[1]);return oe(n!==0&&n<=32,"invalid bytes length","param",e),new YH(n,e.name)}oe(!1,"invalid type","type",e.type)}getDefaultValue(e){let r=e.map(i=>this.#e(oa.from(i)));return new A8(r,"_").defaultValue()}encode(e,r){T9(r.length,e.length,"types/values length mismatch");let n=e.map(a=>this.#e(oa.from(a))),i=new A8(n,"_"),o=new y8;return i.encode(o,r),o.data}decode(e,r,n){let i=e.map(a=>this.#e(oa.from(a)));return new A8(i,"_").decode(new _H(r,n,Eze))}static _setDefaultMaxInflation(e){oe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Eze=e}static defaultAbiCoder(){return vce==null&&(vce=new t),vce}static getBuiltinCallException(e,r,n){return wUt(e,r,n,t.defaultAbiCoder())}}});var qC,WC,YC,F9,xze,Aze,ip,_ze=D(()=>{Wl();C8();Jr();Ece();id();wce();rp();qC=class{fragment;name;signature;topic;args;constructor(e,r,n){let i=e.name,o=e.format();At(this,{fragment:e,name:i,signature:o,topic:r,args:n})}},WC=class{fragment;name;args;signature;selector;value;constructor(e,r,n,i){let o=e.name,a=e.format();At(this,{fragment:e,name:o,args:n,signature:a,selector:r,value:i})}},YC=class{fragment;name;args;signature;selector;constructor(e,r,n){let i=e.name,o=e.format();At(this,{fragment:e,name:i,args:n,signature:o,selector:r})}},F9=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){At(this,{hash:e,_isIndexed:!0})}},xze={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Aze={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&xze[t.toString()]&&(e=xze[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},ip=class t{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;let n=[];for(let a of r)try{n.push(Jb.from(a))}catch(s){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,s.message)}At(this,{fragments:Object.freeze(n)});let i=null,o=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((a,s)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}At(this,{deploy:a});return;case"fallback":a.inputs.length===0?o=!0:(oe(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${s}]`,a),i=a,o=i.payable);return;case"function":c=this.#r;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let l=a.format();c.has(l)||c.set(l,a)}),this.deploy||At(this,{deploy:Wb.from("constructor()")}),At(this,{fallback:i,receive:o})}format(e){let r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){let e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return Ih.defaultAbiCoder()}#i(e,r,n){if(Mr(e)){let o=e.toLowerCase();for(let a of this.#r.values())if(o===a.selector)return a;return null}if(e.indexOf("(")===-1){let o=[];for(let[a,s]of this.#r)a.split("(")[0]===e&&o.push(s);if(r){let a=r.length>0?r[r.length-1]:null,s=r.length,c=!0;gi.isTyped(a)&&a.type==="overrides"&&(c=!1,s--);for(let l=o.length-1;l>=0;l--){let u=o[l].inputs.length;u!==s&&(!c||u!==s-1)&&o.splice(l,1)}for(let l=o.length-1;l>=0;l--){let u=o[l].inputs;for(let d=0;d<r.length;d++)if(gi.isTyped(r[d])){if(d>=u.length){if(r[d].type==="overrides")continue;o.splice(l,1);break}if(r[d].type!==u[d].baseType){o.splice(l,1);break}}}}if(o.length===1&&r&&r.length!==o[0].inputs.length){let a=r[r.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&n){let a=o.map(s=>JSON.stringify(s.format())).join(", ");oe(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return o[0]}let i=this.#r.get(Yb.from(e).format());return i||null}getFunctionName(e){let r=this.#i(e,null,!1);return oe(r,"no matching function","key",e),r.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,r){return this.#i(e,r||null,!0)}forEachFunction(e){let r=Array.from(this.#r.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#r.get(i),n)}}#a(e,r,n){if(Mr(e)){let o=e.toLowerCase();for(let a of this.#t.values())if(o===a.topicHash)return a;return null}if(e.indexOf("(")===-1){let o=[];for(let[a,s]of this.#t)a.split("(")[0]===e&&o.push(s);if(r){for(let a=o.length-1;a>=0;a--)o[a].inputs.length<r.length&&o.splice(a,1);for(let a=o.length-1;a>=0;a--){let s=o[a].inputs;for(let c=0;c<r.length;c++)if(gi.isTyped(r[c])&&r[c].type!==s[c].baseType){o.splice(a,1);break}}}if(o.length===0)return null;if(o.length>1&&n){let a=o.map(s=>JSON.stringify(s.format())).join(", ");oe(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return o[0]}let i=this.#t.get(qb.from(e).format());return i||null}getEventName(e){let r=this.#a(e,null,!1);return oe(r,"no matching event","key",e),r.name}hasEvent(e){return!!this.#a(e,null,!1)}getEvent(e,r){return this.#a(e,r||null,!0)}forEachEvent(e){let r=Array.from(this.#t.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#t.get(i),n)}}getError(e,r){if(Mr(e)){let i=e.toLowerCase();if(Aze[i])return Yl.from(Aze[i].signature);for(let o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of this.#e)o.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?Yl.from("error Error(string)"):e==="Panic"?Yl.from("error Panic(uint256)"):null;if(i.length>1){let o=i.map(a=>JSON.stringify(a.format())).join(", ");oe(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=Yl.from(e).format(),e==="Error(string)")return Yl.from("error Error(string)");if(e==="Panic(uint256)")return Yl.from("error Panic(uint256)");let n=this.#e.get(e);return n||null}forEachError(e){let r=Array.from(this.#e.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#e.get(i),n)}}_decodeParams(e,r){return this.#n.decode(e,r)}_encodeParams(e,r){return this.#n.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);oe(n,"unknown error","fragment",e),e=n}return oe(yi(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,yi(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);oe(n,"unknown error","fragment",e),e=n}return pn([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);oe(n,"unknown function","fragment",e),e=n}return oe(yi(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,yi(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);oe(n,"unknown function","fragment",e),e=n}return pn([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){let o=this.getFunction(e);oe(o,"unknown function","fragment",e),e=o}let n="invalid length for result data",i=Io(r);if(i.length%32===0)try{return this.#n.decode(e.outputs,i)}catch{n="could not decode result data"}Ce(!1,n,"BAD_DATA",{value:qe(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){let n=Yt(e,"data"),i=Ih.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){let s=qe(n.slice(0,4)),c=this.getError(s);if(c)try{let l=this.#n.decode(c.inputs,n.slice(4));i.revert={name:c.name,signature:c.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}let a=this.parseTransaction(r);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){let n=this.getFunction(e);oe(n,"unknown function","fragment",e),e=n}return qe(this.#n.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){let o=this.getEvent(e);oe(o,"unknown event","eventFragment",e),e=o}Ce(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let i=(o,a)=>o.type==="string"?ad(a):o.type==="bytes"?vn(qe(a)):(o.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":o.type.match(/^u?int/)?a=X0(a):o.type.match(/^bytes/)?a=hH(a,32):o.type==="address"&&this.#n.encode(["address"],[a]),v0(qe(a),32));for(r.forEach((o,a)=>{let s=e.inputs[a];if(!s.indexed){oe(o==null,"cannot filter non-indexed parameters; must be null","contract."+s.name,o);return}o==null?n.push(null):s.baseType==="array"||s.baseType==="tuple"?oe(!1,"filtering with tuples or arrays not supported","contract."+s.name,o):Array.isArray(o)?n.push(o.map(c=>i(s,c))):n.push(i(s,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){let a=this.getEvent(e);oe(a,"unknown event","eventFragment",e),e=a}let n=[],i=[],o=[];return e.anonymous||n.push(e.topicHash),oe(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((a,s)=>{let c=r[s];if(a.indexed)if(a.type==="string")n.push(ad(c));else if(a.type==="bytes")n.push(vn(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([a.type],[c]))}else i.push(a),o.push(c)}),{data:this.#n.encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){let p=this.getEvent(e);oe(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){let p=e.topicHash;oe(Mr(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let i=[],o=[],a=[];e.inputs.forEach((p,h)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(oa.from({type:"bytes32",name:p.name})),a.push(!0)):(i.push(p),a.push(!1)):(o.push(p),a.push(!1))});let s=n!=null?this.#n.decode(i,pn(n)):null,c=this.#n.decode(o,r,!0),l=[],u=[],d=0,f=0;return e.inputs.forEach((p,h)=>{let b=null;if(p.indexed)if(s==null)b=new F9(null);else if(a[h])b=new F9(s[f++]);else try{b=s[f++]}catch(_){b=_}else try{b=c[d++]}catch(_){b=_}l.push(b),u.push(p.name||null)}),tp.fromItems(l,u)}parseTransaction(e){let r=Yt(e.data,"tx.data"),n=ct(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(qe(r.slice(0,4)));if(!i)return null;let o=this.#n.decode(i.inputs,r.slice(4));return new WC(i,i.selector,o,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new qC(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){let r=qe(e),n=this.getError(yi(r,0,4));if(!n)return null;let i=this.#n.decode(n.inputs,yi(r,4));return new YC(n,n.selector,i)}static from(e){return e instanceof t?e:typeof e=="string"?new t(JSON.parse(e)):typeof e.formatJson=="function"?new t(e.formatJson()):typeof e.format=="function"?new t(e.format("json")):new t(e)}}});var pz=D(()=>{Ece();_ze();rp()});function H9(t){return t??null}function Wo(t){return t==null?null:t.toString()}function Xb(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=qe(t.data));let r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let i of r)!(i in t)||t[i]==null||(e[i]=ct(t[i],`request.${i}`));let n="type,nonce".split(/,/);for(let i of n)!(i in t)||t[i]==null||(e[i]=Er(t[i],`request.${i}`));return t.accessList&&(e.accessList=qc(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>Mb(i)?qe(i):Object.assign({},i))),e}function vUt(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function Ize(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Cze(t){return{orphan:"drop-transaction",tx:t}}function EUt(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var Sze,z9,JC,If,O8,Zb,QC=D(()=>{Jr();Kb();Sze=BigInt(0);z9=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,r,n){At(this,{gasPrice:H9(e),maxFeePerGas:H9(r),maxPriorityFeePerGas:H9(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Wo(e),maxFeePerGas:Wo(r),maxPriorityFeePerGas:Wo(n)}}};JC=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,r){this.#e=e.transactions.map(n=>typeof n!="string"?new Zb(n,r):n),At(this,{provider:r,hash:H9(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:H9(e.prevRandao),extraData:e.extraData,baseFeePerGas:H9(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(Ce(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:o,hash:a,miner:s,prevRandao:c,nonce:l,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:h,timestamp:b,transactions:_}=this;return{_type:"Block",baseFeePerGas:Wo(e),difficulty:Wo(r),extraData:n,gasLimit:Wo(i),gasUsed:Wo(o),blobGasUsed:Wo(this.blobGasUsed),excessBlobGas:Wo(this.excessBlobGas),hash:a,miner:s,prevRandao:c,nonce:l,number:u,parentHash:d,timestamp:b,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:h,transactions:_}}[Symbol.iterator](){let e=0,r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=this.#e[e];else{let n=e.toLowerCase();for(let i of this.#e)if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){let r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(let n of r)if(n.hash===e)return n;oe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return vUt(this)}},If=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,r){this.provider=r;let n=Object.freeze(e.topics.slice());At(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:r,blockNumber:n,data:i,index:o,removed:a,topics:s,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:o,removed:a,topics:s,transactionHash:c,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return Ce(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return Ce(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return Ce(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return EUt(this)}},O8=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,r){this.#e=Object.freeze(e.logs.map(i=>new If(i,r)));let n=Sze;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),At(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:r,contractAddress:n,hash:i,index:o,blockHash:a,blockNumber:s,logsBloom:c,logs:l,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:s,contractAddress:n,cumulativeGasUsed:Wo(this.cumulativeGasUsed),from:r,gasPrice:Wo(this.gasPrice),blobGasUsed:Wo(this.blobGasUsed),blobGasPrice:Wo(this.blobGasPrice),gasUsed:Wo(this.gasUsed),hash:i,index:o,logs:l,logsBloom:c,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Cze(this)}reorderedEvent(e){return Ce(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Ize(this,e)}},Zb=class t{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,r){this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:r,index:n,hash:i,type:o,to:a,from:s,nonce:c,data:l,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:r,blobVersionedHashes:f,chainId:Wo(this.chainId),data:l,from:s,gasLimit:Wo(this.gasLimit),gasPrice:Wo(this.gasPrice),hash:i,maxFeePerGas:Wo(this.maxFeePerGas),maxPriorityFeePerGas:Wo(this.maxPriorityFeePerGas),maxFeePerBlobGas:Wo(this.maxFeePerBlobGas),nonce:c,signature:u,to:a,index:n,type:o,value:Wo(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:r,blockNumber:n}=await So({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){let n=e??1,i=r??0,o=this.#e,a=-1,s=o===-1,c=async()=>{if(s)return null;let{blockNumber:f,nonce:p}=await So({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){o=f;return}if(s)return null;let h=await this.getTransaction();if(!(h&&h.blockNumber!=null))for(a===-1&&(a=o-3,a<this.#e&&(a=this.#e));a<=f;){if(s)return null;let b=await this.provider.getBlock(a,!0);if(b==null)return;for(let _ of b)if(_===this.hash)return;for(let _=0;_<b.length;_++){let A=await b.getTransaction(_);if(A.from===this.from&&A.nonce===this.nonce){if(s)return null;let C=await this.provider.getTransactionReceipt(A.hash);if(C==null||f-C.blockNumber+1<n)return;let R="replaced";A.data===this.data&&A.to===this.to&&A.value===this.value?R="repriced":A.data==="0x"&&A.from===A.to&&A.value===Sze&&(R="cancelled"),Ce(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:R==="replaced"||R==="cancelled",reason:R,replacement:A.replaceableTransaction(o),hash:A.hash,receipt:C})}}a++}},l=f=>{if(f==null||f.status!==0)return f;Ce(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(n===1||await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((f,p)=>{let h=[],b=()=>{h.forEach(A=>A())};if(h.push(()=>{s=!0}),i>0){let A=setTimeout(()=>{b(),p(In("wait for transaction timeout","TIMEOUT"))},i);h.push(()=>{clearTimeout(A)})}let _=async A=>{if(await A.confirmations()>=n){b();try{f(l(A))}catch(C){p(C)}}};if(h.push(()=>{this.provider.off(this.hash,_)}),this.provider.on(this.hash,_),o>=0){let A=async()=>{try{await c()}catch(C){if(Oi(C,"TRANSACTION_REPLACED")){b(),p(C);return}}s||this.provider.once("block",A)};h.push(()=>{this.provider.off("block",A)}),this.provider.once("block",A)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Ce(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Cze(this)}reorderedEvent(e){return Ce(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ce(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ize(this,e)}replaceableTransaction(e){oe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let r=new t(this,this.provider);return r.#e=e,r}}});var N8,G9,hz,k8,j9,ZC,Rze=D(()=>{QC();Jr();N8=class extends If{interface;fragment;args;constructor(e,r,n){super(e,e.provider);let i=r.decodeEventLog(n,e.data,e.topics);At(this,{args:i,fragment:n,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},G9=class extends If{error;constructor(e,r){super(e,e.provider),At(this,{error:r})}},hz=class extends O8{#e;constructor(e,r,n){super(n,r),this.#e=e}get logs(){return super.logs.map(e=>{let r=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(r)try{return new N8(e,this.#e,r)}catch(n){return new G9(e,n)}return e})}},k8=class extends Zb{#e;constructor(e,r,n){super(n,r),this.#e=e}async wait(e,r){let n=await super.wait(e,r);return n==null?null:new hz(this.#e,this.provider,n)}},j9=class extends Bb{log;constructor(e,r,n,i){super(e,r,n),At(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},ZC=class extends j9{constructor(e,r,n,i,o){super(e,r,n,new N8(o,e.interface,i));let a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);At(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}});function Nze(t){return t&&typeof t.call=="function"}function kze(t){return t&&typeof t.estimateGas=="function"}function yz(t){return t&&typeof t.resolveName=="function"}function Mze(t){return t&&typeof t.sendTransaction=="function"}function Bze(t){if(t!=null){if(yz(t))return t;if(t.provider)return t.provider}}function B8(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function M8(t){return t==null?null:t.provider||null}async function Dze(t,e){let r=gi.dereference(t,"overrides");oe(typeof r=="object","invalid overrides parameter","overrides",t);let n=Xb(r);return oe(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),oe(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function xUt(t,e,r){let n=B8(t,"resolveName"),i=yz(n)?n:null;return await Promise.all(e.map((o,a)=>o.walkAsync(r[a],(s,c)=>(c=gi.dereference(c,s),s==="address"?ia(c,i):c))))}function AUt(t){let e=async function(a){let s=await Dze(a,["data"]);s.to=await t.getAddress(),s.from&&(s.from=await ia(s.from,Bze(t.runner)));let c=t.interface,l=ct(s.value||Pze,"overrides.value")===Pze,u=(s.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&oe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),oe(c.fallback||u,"cannot send data to receive-only contract","overrides.data",s.data);let d=c.receive||c.fallback&&c.fallback.payable;return oe(d||l,"cannot send value to non-payable fallback","overrides.value",s.value),oe(c.fallback||u,"cannot send data to receive-only contract","overrides.data",s.data),s},r=async function(a){let s=B8(t.runner,"call");Ce(Nze(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(a);try{return await s.call(c)}catch(l){throw h8(l)&&l.data?t.interface.makeError(l.data,c):l}},n=async function(a){let s=t.runner;Ce(Mze(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await s.sendTransaction(await e(a)),l=M8(t.runner);return new k8(t.interface,l,c)},i=async function(a){let s=B8(t.runner,"estimateGas");return Ce(kze(s),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await s.estimateGas(await e(a))},o=async a=>await n(a);return At(o,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),o}function TUt(t,e){let r=function(...l){let u=t.interface.getFunction(e,l);return Ce(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){let u=r(...l),d={};if(u.inputs.length+1===l.length&&(d=await Dze(l.pop()),d.from&&(d.from=await ia(d.from,Bze(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let f=await xUt(t.runner,u.inputs,l);return Object.assign({},d,await So({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...l){let u=await s(...l);return u.length===1?u[0]:u},o=async function(...l){let u=t.runner;Ce(Mze(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let d=await u.sendTransaction(await n(...l)),f=M8(t.runner);return new k8(t.interface,f,d)},a=async function(...l){let u=B8(t.runner,"estimateGas");return Ce(kze(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},s=async function(...l){let u=B8(t.runner,"call");Ce(Nze(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let d=await n(...l),f="0x";try{f=await u.call(d)}catch(h){throw h8(h)&&h.data?t.interface.makeError(h.data,d):h}let p=r(...l);return t.interface.decodeFunctionResult(p,f)},c=async(...l)=>r(...l).constant?await i(...l):await o(...l);return At(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:a,populateTransaction:n,send:o,staticCall:i,staticCallResult:s}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=t.interface.getFunction(e);return Ce(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function _Ut(t,e){let r=function(...i){let o=t.interface.getEvent(e,i);return Ce(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},n=function(...i){return new xce(t,r(...i),i)};return At(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let i=t.interface.getEvent(e);return Ce(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}function SUt(t,e){Lze.set(t[bz],e)}function Jl(t){return Lze.get(t[bz])}function IUt(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function _ce(t,e){let r,n=null;if(Array.isArray(e)){let o=function(a){if(Mr(a,32))return a;let s=t.interface.getEvent(a);return oe(s,"unknown fragment","name",a),s.topicHash};r=e.map(a=>a==null?null:Array.isArray(a)?a.map(o):o(a))}else e==="*"?r=[null]:typeof e=="string"?Mr(e,32)?r=[e]:(n=t.interface.getEvent(e),oe(n,"unknown fragment","event",e),r=[n.topicHash]):IUt(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):oe(!1,"unknown event name","event",e);r=r.map(o=>{if(o==null)return null;if(Array.isArray(o)){let a=Array.from(new Set(o.map(s=>s.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return o.toLowerCase()});let i=r.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:n,tag:i,topics:r}}async function XC(t,e){let{subs:r}=Jl(t);return r.get((await _ce(t,e)).tag)||null}async function Oze(t,e,r){let n=M8(t.runner);Ce(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:i,tag:o,topics:a}=await _ce(t,r),{addr:s,subs:c}=Jl(t),l=c.get(o);if(!l){let d={address:s||t,topics:a},f=_=>{let A=i;if(A==null)try{A=t.interface.getEvent(_.topics[0])}catch{}if(A){let C=A,R=i?t.interface.decodeEventLog(i,_.data,_.topics):[];Tce(t,r,R,M=>new ZC(t,M,r,C,_))}else Tce(t,r,[],C=>new j9(t,C,r,_))},p=[];l={tag:o,listeners:[],start:()=>{p.length||p.push(n.on(d,f))},stop:async()=>{if(p.length==0)return;let _=p;p=[],await Promise.all(_),n.off(d,f)}},c.set(o,l)}return l}async function CUt(t,e,r,n){await Ace;let i=await XC(t,e);if(!i)return!1;let o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:s})=>{let c=Array.from(r);n&&c.push(n(s?null:a));try{a.call(t,...c)}catch{}return!s}),i.listeners.length===0&&(i.stop(),Jl(t).subs.delete(i.tag)),o>0}async function Tce(t,e,r,n){try{await Ace}catch{}let i=CUt(t,e,r,n);return Ace=i,await i}function RUt(){return eR}var Pze,xce,bz,Lze,Ace,mz,eR,Ro,Uze=D(()=>{pz();Kc();QC();Jr();Rze();Pze=BigInt(0);xce=class{#e;fragment;constructor(e,r,n){if(At(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");let i=B8(e.runner,"resolveName"),o=yz(i)?i:null;this.#e=(async function(){let a=await Promise.all(r.inputs.map((s,c)=>n[c]==null?null:s.walkAsync(n[c],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>ia(f,o))):ia(d,o):d)));return e.interface.encodeFilterTopics(r,a)})()}getTopicFilter(){return this.#e}};bz=Symbol.for("_ethersInternal_contract"),Lze=new WeakMap;Ace=Promise.resolve();mz=["then"],eR=class t{target;interface;runner;filters;[bz];fallback;constructor(e,r,n,i){oe(typeof e=="string"||jH(e),"invalid value for Contract target","target",e),n==null&&(n=null);let o=ip.from(r);At(this,{target:e,runner:n,interface:o}),Object.defineProperty(this,bz,{value:{}});let a,s=null,c=null;if(i){let d=M8(n);c=new k8(this.interface,d,i)}let l=new Map;if(typeof e=="string")if(Mr(e))s=e,a=Promise.resolve(e);else{let d=B8(n,"resolveName");if(!yz(d))throw In("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=d.resolveName(e).then(f=>{if(f==null)throw In("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Jl(this).addr=f,f})}else a=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Jl(this).addr=d,d});SUt(this,{addrPromise:a,addr:s,deployTx:c,subs:l});let u=new Proxy({},{get:(d,f,p)=>{if(typeof f=="symbol"||mz.indexOf(f)>=0)return Reflect.get(d,f,p);try{return this.getEvent(f)}catch(h){if(!Oi(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(d,f)=>mz.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return At(this,{filters:u}),At(this,{fallback:o.receive||o.fallback?AUt(this):null}),new Proxy(this,{get:(d,f,p)=>{if(typeof f=="symbol"||f in d||mz.indexOf(f)>=0)return Reflect.get(d,f,p);try{return d.getFunction(f)}catch(h){if(!Oi(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(d,f)=>typeof f=="symbol"||f in d||mz.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new t(this.target,this.interface,e)}attach(e){return new t(e,this.interface,this.runner)}async getAddress(){return await Jl(this).addrPromise}async getDeployedCode(){let e=M8(this.runner);Ce(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=M8(this.runner);return Ce(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{let a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",a)}catch(s){o(s)}};a()})}deploymentTransaction(){return Jl(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),TUt(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),_Ut(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");let{addr:i,addrPromise:o}=Jl(this),a=i||await o,{fragment:s,topics:c}=await _ce(this,e),l={address:a,topics:c,fromBlock:r,toBlock:n},u=M8(this.runner);return Ce(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(d=>{let f=s;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new N8(d,this.interface,f)}catch(p){return new G9(d,p)}return new If(d,u)})}async on(e,r){let n=await Oze(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){let n=await Oze(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await Tce(this,e,r,null)}async listenerCount(e){if(e){let i=await XC(this,e);return i?i.listeners.length:0}let{subs:r}=Jl(this),n=0;for(let{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){let i=await XC(this,e);return i?i.listeners.map(({listener:o})=>o):[]}let{subs:r}=Jl(this),n=[];for(let{listeners:i}of r.values())n=n.concat(i.map(({listener:o})=>o));return n}async off(e,r){let n=await XC(this,e);if(!n)return this;if(r){let i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Jl(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let r=await XC(this,e);if(!r)return this;r.stop(),Jl(this).subs.delete(r.tag)}else{let{subs:r}=Jl(this);for(let{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends t{constructor(i,o=null){super(i,e,o)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};Ro=class extends RUt(){}});var gz=D(()=>{Uze()});function Sce(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):oe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var wz,Hze,Fze,$9,zze=D(()=>{Kc();LC();gz();C8();Jr();wz=class{name;constructor(e){At(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}},Hze=new RegExp("^(ipfs)://(.*)$","i"),Fze=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Hze,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],$9=class t{provider;address;name;#e;#t;constructor(e,r,n){At(this,{provider:e,address:r,name:n}),this.#e=null,this.#t=new Ro(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Oi(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#r(e,r){r=(r||[]).slice();let n=this.#t.interface;r.unshift(I8(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),Ce(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[lz(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{let o=await this.#t[e](...r);return i?n.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Oi(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{let o=await this.#r("addr(bytes32)");return o==null||o===Ah?null:o}catch(o){if(Oi(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648,a=await this.#r("addr(bytes32,uint)",[o]);if(Mr(a,20))return Rr(a)}let r=null;for(let o of this.provider.plugins)if(o instanceof wz&&o.supportsCoinType(e)){r=o;break}if(r==null)return null;let n=await this.#r("addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let i=await r.decodeAddress(e,n);if(i!=null)return i;Ce(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let r=await this.#r("text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){let e=await this.#r("contenthash(bytes32)");if(e==null||e==="0x")return null;let r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let i=r[1]==="e3010170"?"ipfs":"ipns",o=parseInt(r[4],16);if(r[5].length===o*2)return`${i}://${wH("0x"+r[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;Ce(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<Fze.length;n++){let i=r.match(Fze[n]);if(i==null)continue;let o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{let a=Sce(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{let a=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:r});let s=await this.getAddress();if(s==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};let l=c[1],u=new Ro(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){let b=await u.ownerOf(l);if(s!==b)return e.push({type:"!owner",value:b}),{url:null,linkage:e};e.push({type:"owner",value:b})}else if(o==="erc1155"){let b=await u.balanceOf(s,l);if(!b)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:b.toString()})}let d=await u[a](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",X0(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Sce(d)),e.push({type:"metadata-url",value:d});let f={},p=await new Vc(d).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{let A=p.body;return A&&e.push({type:"!metadata",value:qe(A)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let h=f.image;if(typeof h!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(Hze)==null)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=Sce(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return Ce(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async#n(e,r){let n=await t.getEnsAddress(e);try{let o=await new Ro(n,["function resolver(bytes32) view returns (address)"],e).resolver(I8(r),{enableCcipRead:!0});return o===Ah?null:o}catch(i){throw i}return null}static async fromName(e,r){let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;let i=await t.#n(e,n);if(i!=null){let o=new t(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}}});function mn(t,e){return(function(r){return r==null?e:t(r)})}function tR(t,e){return(r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))})}function rR(t,e){return(r=>{let n={};for(let i in t){let o=i;if(e&&i in e&&!(o in r)){for(let a of e[i])if(a in r){o=a;break}}try{let a=t[i](r[o]);a!==void 0&&(n[i]=a)}catch(a){let s=a instanceof Error?a.message:"not-an-error";Ce(!1,`invalid value for value.${i} (${s})`,"BAD_DATA",{value:r})}}return n})}function PUt(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}oe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function V9(t){return oe(Mr(t,!0),"invalid data","value",t),t}function Ss(t){return oe(Mr(t,32),"invalid hash","value",t),t}function jze(t){return OUt(t)}function $ze(t){let e=NUt(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:Ice(r)),e}function MUt(t){return kUt(t)}function Vze(t){return BUt(t)}function Ice(t){t.to&&ct(t.to)===Gze&&(t.to="0x0000000000000000000000000000000000000000");let e=rR({hash:Ss,index:mn(Er,void 0),type:r=>r==="0x"||r==null?0:Er(r),accessList:mn(qc,null),blobVersionedHashes:mn(tR(Ss,!0),null),authorizationList:mn(tR(r=>{let n;if(r.signature)n=r.signature;else{let i=r.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),n=Object.assign({},r,{yParity:i})}return{address:Rr(r.address),chainId:ct(r.chainId),nonce:ct(r.nonce),signature:na.from(n)}},!1),null),blockHash:mn(Ss,null),blockNumber:mn(Er,null),transactionIndex:mn(Er,null),from:Rr,gasPrice:mn(ct),maxPriorityFeePerGas:mn(ct),maxFeePerGas:mn(ct),maxFeePerBlobGas:mn(ct,null),gasLimit:ct,to:mn(Rr,null),value:ct,nonce:Er,data:V9,creates:mn(Rr,null),chainId:mn(ct,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=W0e(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=na.from(t.signature):e.signature=na.from(t),e.chainId==null){let r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&ct(e.blockHash)===Gze&&(e.blockHash=null),e}var Gze,OUt,NUt,kUt,BUt,Kze=D(()=>{Kc();Wl();Kb();Jr();Gze=BigInt(0);OUt=rR({address:Rr,blockHash:Ss,blockNumber:Er,data:V9,index:Er,removed:mn(PUt,!1),topics:tR(Ss),transactionHash:Ss,transactionIndex:Er},{index:["logIndex"]});NUt=rR({hash:mn(Ss),parentHash:Ss,parentBeaconBlockRoot:mn(Ss,null),number:Er,timestamp:Er,nonce:mn(V9),difficulty:ct,gasLimit:ct,gasUsed:ct,stateRoot:mn(Ss,null),receiptsRoot:mn(Ss,null),blobGasUsed:mn(ct,null),excessBlobGas:mn(ct,null),miner:mn(Rr),prevRandao:mn(Ss,null),extraData:V9,baseFeePerGas:mn(ct)},{prevRandao:["mixHash"]});kUt=rR({transactionIndex:Er,blockNumber:Er,transactionHash:Ss,address:Rr,topics:tR(Ss),data:V9,index:Er,blockHash:Ss},{index:["logIndex"]});BUt=rR({to:mn(Rr,null),from:mn(Rr,null),contractAddress:mn(Rr,null),index:Er,root:mn(qe),gasUsed:ct,blobGasUsed:mn(ct,null),logsBloom:mn(V9),blockHash:Ss,hash:Ss,logs:tR(MUt),blockNumber:Er,cumulativeGasUsed:ct,effectiveGasPrice:mn(ct),blobGasPrice:mn(ct,null),status:mn(Er),type:mn(Er,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]})});var DUt,K9,q9,W9,nR,qze=D(()=>{p8();Jr();DUt="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",K9=class t{name;constructor(e){At(this,{name:e})}clone(){return new t(this.name)}},q9=class t extends K9{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,r){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let n={effectiveBlock:e};function i(o,a){let s=(r||{})[o];s==null&&(s=a),oe(typeof s=="number",`invalud value for ${o}`,"costs",r),n[o]=s}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),At(this,n)}clone(){return new t(this.effectiveBlock,this)}},W9=class t extends K9{address;targetNetwork;constructor(e,r){super("org.ethers.plugins.network.Ens"),At(this,{address:e||DUt,targetNetwork:r??1})}clone(){return new t(this.address,this.targetNetwork)}},nR=class extends K9{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=r}clone(){return this}}});function Wze(t,e){let r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function Yze(t){return new nR(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{let[o,a]=await Promise.all([n.send(),e()]);i=o;let s=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:Wze(s.maxFee,9),maxPriorityFeePerGas:Wze(s.maxPriorityFee,9)}}catch(o){Ce(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:o})}})}function LUt(){if(Jze)return;Jze=!0;function t(e,r,n){let i=function(){let o=new Ql(e,r);return n.ensNetwork!=null&&o.attachPlugin(new W9(null,n.ensNetwork)),o.attachPlugin(new q9),(n.plugins||[]).forEach(a=>{o.attachPlugin(a)}),o};Ql.register(e,i),Ql.register(r,i),n.altNames&&n.altNames.forEach(o=>{Ql.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Yze("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Yze("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}var Cce,Ql,Jze,Rce=D(()=>{Kb();Jr();qze();Cce=new Map,Ql=class t{#e;#t;#r;constructor(e,r){this.#e=e,this.#t=ct(r),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=ct(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ct(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ct(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ct(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){let e=new t(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){let r=this.getPlugin("org.ethers.plugins.network.GasCost")||new q9,n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){let i=qc(e.accessList);for(let o in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[o].storageKeys.length}return n}static from(e){if(LUt(),e==null)return t.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let r=Cce.get(e);if(r)return r();if(typeof e=="bigint")return new t("unknown",e);oe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){oe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let r=new t(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new W9(e.ensAddress,e.ensNetwork)),r}oe(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));let n=Cce.get(e);n&&oe(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Cce.set(e,r)}};Jze=!1});function Pce(t){return JSON.parse(JSON.stringify(t))}var vz,iR,Ez,xz,Az,ey,Tz=D(()=>{vz=class{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}async#i(){try{let e=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let r=this.#n+1;r<=e;r++){if(this.#t==null)return;await this.#e.emit("block",r)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#r),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}},iR=class{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=r=>{this._poll(r,this.#e)}}async _poll(e,r){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},Ez=class extends iR{#e;#t;constructor(e,r){super(e),this.#e=r,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,r){let n=await r.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(r.emit(this.#e,n.number),this.#t=n.number))}},xz=class extends iR{#e;constructor(e,r){super(e),this.#e=Pce(r)}async _poll(e,r){throw new Error("@TODO")}},Az=class extends iR{#e;constructor(e,r){super(e),this.#e=r}async _poll(e,r){let n=await r.getTransactionReceipt(this.#e);n&&r.emit(this.#e,n)}},ey=class{#e;#t;#r;#n;#i;constructor(e,r){this.#e=e,this.#t=Pce(r),this.#r=this.#a.bind(this),this.#n=!1,this.#i=-2}async#a(e){if(this.#i===-2)return;let r=Pce(this.#t);r.fromBlock=this.#i+1,r.toBlock=e;let n=await this.#e.getLogs(r);if(n.length===0){this.#i<e-60&&(this.#i=e-60);return}for(let i of n)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#n||(this.#n=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}});function _z(t){return t&&typeof t.then=="function"}function Sz(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n);return i.sort(),i.reduce((o,a)=>(o[a]=n[a],o),{})}return n})}function HUt(t){return JSON.parse(JSON.stringify(t))}function kce(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Oce(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Mr(t,32)){let r=t.toLowerCase();return{type:"transaction",tag:Sz("tx",{hash:r}),hash:r}}if(t.orphan){let r=t;return{type:"orphan",tag:Sz("orphan",r),filter:HUt(r)}}if(t.address||t.topics){let r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?kce(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(r.address){let i=[],o=[],a=s=>{Mr(s)?i.push(s):o.push((async()=>{i.push(await ia(s,e))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),o.length&&await Promise.all(o),n.address=kce(i.map(s=>s.toLowerCase()))}return{filter:n,tag:Sz("event",n),type:"event"}}oe(!1,"unknown ProviderEvent","event",t)}function Nce(){return new Date().getTime()}function GUt(t,e){try{let r=Mce(t,e);if(r)return yh(r)}catch{}return null}function Mce(t,e){if(t==="0x")return null;try{let r=Er(yi(t,e,e+32)),n=Er(yi(t,r,r+32));return yi(t,r+32,r+32+n)}catch{}return null}function Qze(t){let e=Fi(t);if(e.length>32)throw new Error("internal; should not happen");let r=new Uint8Array(32);return r.set(e,32-e.length),r}function jUt(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function VUt(t){let e=[],r=0;for(let n=0;n<t.length;n++)e.push($Ut),r+=32;for(let n=0;n<t.length;n++){let i=Yt(t[n]);e[n]=Qze(r),e.push(Qze(i.length)),e.push(jUt(i)),r+=32+Math.ceil(i.length/32)*32}return pn(e)}function KUt(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ce(Ef(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=yi(t,0,32);Ce(yi(r,0,12)===yi(Zze,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=yi(r,12);try{let n=[],i=Er(yi(t,32,64)),o=Er(yi(t,i,i+32)),a=yi(t,i+32);for(let s=0;s<o;s++){let c=GUt(a,s*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{Ce(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=Mce(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{Ce(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ce(yi(t,100,128)===yi(Zze,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=yi(t,96,100);try{let n=Mce(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{Ce(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}var UUt,FUt,Y9,zUt,oR,$Ut,Zze,Xze=D(()=>{Kc();LC();gz();C8();Kb();Jr();zze();Kze();Rce();QC();Tz();UUt=BigInt(2),FUt=10;Y9=class{name;constructor(e){At(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};zUt={cacheTimeout:250,pollingInterval:4e3},oR=class{#e;#t;#r;#n;#i;#a;#o;#s;#p;#l;#h;#m;constructor(e,r){if(this.#m=Object.assign({},zUt,r||{}),e==="any")this.#a=!0,this.#i=null;else if(e){let n=Ql.from(e);this.#a=!1,this.#i=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#a=!1,this.#i=null;this.#s=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#p=1,this.#l=new Map,this.#h=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#h}set disableCcipRead(e){this.#h=!!e}async#c(e){let r=this.#m.cacheTimeout;if(r<0)return await this._perform(e);let n=Sz(e.method,e),i=this.#o.get(n);return i||(i=this._perform(e),this.#o.set(n,i),setTimeout(()=>{this.#o.get(n)===i&&this.#o.delete(n)},r)),await i}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let i=e.to.toLowerCase(),o=r.toLowerCase(),a=[];for(let s=0;s<n.length;s++){let c=n[s],l=c.replace("{sender}",i).replace("{data}",o),u=new Vc(l);c.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:s,urls:n});let d="unknown error",f;try{f=await u.send()}catch(p){a.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{let p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(d=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}Ce(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),a.push(d)}Ce(!1,`error encountered during CCIP fetch: ${a.map(s=>JSON.stringify(s)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,r){return new JC($ze(e),this)}_wrapLog(e,r){return new If(jze(e),this)}_wrapTransactionReceipt(e,r){return new O8(Vze(e),this)}_wrapTransactionResponse(e,r){return new Zb(Ice(e),this)}_detectNetwork(){Ce(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ce(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=Er(await this.#c({method:"getBlockNumber"}),"%response");return this.#s>=0&&(this.#s=e),e}_getAddress(e){return ia(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Mr(e))return Mr(e,32)?e:oo(e);if(typeof e=="bigint"&&(e=Er(e,"blockTag")),typeof e=="number")return e>=0?oo(e):this.#s>=0?oo(this.#s+e):this.getBlockNumber().then(r=>oo(r+e));oe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?kce(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(c,l,u)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");let f={};return d&&(f.address=d),r.length&&(f.topics=r),l&&(f.fromBlock=l),u&&(f.toBlock=u),n&&(f.blockHash=n),f},o=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)o.push(this._getAddress(c));else o.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let s;return"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||s!=null&&typeof s!="string"?Promise.all([Promise.all(o),a,s]).then(c=>i(c[0],c[1],c[2])):i(o,a,s)}_getTransactionRequest(e){let r=Xb(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;let o=ia(r[i],this);_z(o)?n.push((async function(){r[i]=await o})()):r[i]=o}),r.blockTag!=null){let i=this._getBlockTag(r.blockTag);_z(i)?n.push((async function(){r.blockTag=await i})()):r.blockTag=i}return n.length?(async function(){return await Promise.all(n),r})():r}async getNetwork(){if(this.#i==null){let i=(async()=>{try{let o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}})();return this.#i=i,(await i).clone()}let e=this.#i,[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(this.#a?(this.emit("network",n,r),this.#i===e&&(this.#i=Promise.resolve(n))):Ce(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){let e=await this.getNetwork(),r=async()=>{let{_block:i,gasPrice:o,priorityFee:a}=await So({_block:this.#y("latest",!1),gasPrice:(async()=>{try{let u=await this.#c({method:"getGasPrice"});return ct(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let u=await this.#c({method:"getPriorityFee"});return ct(u,"%response")}catch{}return null})()}),s=null,c=null,l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=a??BigInt("1000000000"),s=l.baseFeePerGas*UUt+c),new z9(o,s,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let i=new Vc(n.url),o=await n.processFunc(r,this,i);return new z9(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return _z(r)&&(r=await r),ct(await this.#c({method:"estimateGas",transaction:r}),"%response")}async#u(e,r,n){Ce(n<FUt,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});let i=Xb(e);try{return qe(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(o){if(!this.disableCcipRead&&h8(o)&&o.data&&n>=0&&r==="latest"&&i.to!=null&&yi(o.data,0,4)==="0x556f1830"){let a=o.data,s=await ia(i.to,this),c;try{c=KUt(yi(o.data,4))}catch(d){Ce(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}Ce(c.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=await this.ccipReadFetch(i,c.calldata,c.urls);Ce(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:c.errorArgs}});let u={to:s,data:pn([c.selector,VUt([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let d=await this.#u(u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}}async#d(e){let{value:r}=await So({network:this.getNetwork(),value:e});return r}async call(e){let{tx:r,blockTag:n}=await So({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#d(this.#u(r,n,e.enableCcipRead?0:-1))}async#f(e,r,n){let i=this._getAddress(r),o=this._getBlockTag(n);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await this.#d(this.#c(Object.assign(e,{address:i,blockTag:o})))}async getBalance(e,r){return ct(await this.#f({method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return Er(await this.#f({method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return qe(await this.#f({method:"getCode"},e,r))}async getStorage(e,r,n){let i=ct(r,"position");return qe(await this.#f({method:"getStorage",position:i},e,n))}async broadcastTransaction(e){let{blockNumber:r,hash:n,network:i}=await So({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=np.from(e);if(o.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(r)}async#y(e,r){if(Mr(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await this.#c({method:"getBlock",blockTag:n,includeTransactions:r})}async getBlock(e,r){let{network:n,params:i}=await So({network:this.getNetwork(),params:this.#y(e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){let{network:r,params:n}=await So({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){let{network:r,params:n}=await So({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let i=await this.#c({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){let{result:r}=await So({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return r==null?null:qe(r)}async getLogs(e){let r=this._getFilter(e);_z(r)&&(r=await r);let{network:n,params:i}=await So({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:r})});return i.map(o=>this._wrapLog(o,n))}_getProvider(e){Ce(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await $9.fromName(this,e)}async getAvatar(e){let r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){let r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Rr(e);let r=I8(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await $9.getEnsAddress(this),o=await new Ro(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(o==null||o===Ah)return null;let s=await new Ro(o,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(s)!==e?null:s}catch(n){if(Oi(n,"BAD_DATA")&&n.value==="0x"||Oi(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){let i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,a)=>{let s=null,c=(async l=>{try{let u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=i){o(u),s&&(clearTimeout(s),s=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)});n!=null&&(s=setTimeout(()=>{s!=null&&(s=null,this.off("block",c),a(In("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){Ce(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let r=this.#l.get(e);r&&(r.timer&&clearTimeout(r.timer),this.#l.delete(e))}_setTimeout(e,r){r==null&&(r=0);let n=this.#p++,i=()=>{this.#l.delete(n),e()};if(this.paused)this.#l.set(n,{timer:null,func:i,time:r});else{let o=setTimeout(i,r);this.#l.set(n,{timer:o,func:i,time:Nce()})}return n}_forEachSubscriber(e){for(let r of this.#e.values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Y9(e.type);case"block":{let r=new vz(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new Ez(this,e.type);case"event":return new ey(this,e.filter);case"transaction":return new Az(this,e.hash);case"orphan":return new xz(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(let n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),this.#r!=null&&r.pause(this.#r);break}}async#b(e,r){let n=await Oce(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await Oce({orphan:"drop-log",log:r[0]},this)),this.#e.get(n.tag)||null}async#g(e){let r=await Oce(e,this),n=r.tag,i=this.#e.get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,i)),i}async on(e,r){let n=await this.#g(e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async once(e,r){let n=await this.#g(e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async emit(e,...r){let n=await this.#b(e,r);if(!n||n.listeners.length===0)return!1;let i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:o,once:a})=>{let s=new Bb(this,a?null:o,e);try{o.call(this,...r,s)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),i>0}async listenerCount(e){if(e){let n=await this.#b(e);return n?n.listeners.length:0}let r=0;for(let{listeners:n}of this.#e.values())r+=n.length;return r}async listeners(e){if(e){let n=await this.#b(e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(let{listeners:n}of this.#e.values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){let n=await this.#b(e);if(!n)return this;if(r){let i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:r,started:n,subscriber:i}=await this.#g(e);n&&i.stop(),this.#e.delete(r)}else for(let[r,{started:n,subscriber:i}]of this.#e)n&&i.stop(),this.#e.delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(let e of this.#l.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#s=-1,this.#r!=null){if(this.#r==!!e)return;Ce(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),this.#r=!!e;for(let r of this.#l.values())r.timer&&clearTimeout(r.timer),r.time=Nce()-r.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(let e of this.#l.values()){let r=e.time;r<0&&(r=0),e.time=Nce(),setTimeout(e.func,r)}}}};$Ut=new Uint8Array([]);Zze="0x0000000000000000000000000000000000000000000000000000000000000000"});function D8(t,e){if(t.provider)return t.provider;Ce(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function eGe(t,e){let r=Xb(e);if(r.to!=null&&(r.to=ia(r.to,t)),r.from!=null){let n=r.from;r.from=Promise.all([t.getAddress(),ia(n,t)]).then(([i,o])=>(oe(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else r.from=t.getAddress();return await So(r)}var aR,tGe=D(()=>{Kc();Kb();Jr();QC();aR=class{provider;constructor(e){At(this,{provider:e||null})}async getNonce(e){return D8(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await eGe(this,e)}async populateTransaction(e){let r=D8(this,"populateTransaction"),n=await eGe(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let i=await this.provider.getNetwork();if(n.chainId!=null){let a=ct(n.chainId);oe(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;let o=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||o)?oe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&o&&oe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let a=await r.getFeeData();Ce(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{let a=await r.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){let s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(Ce(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):Ce(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await So(n)}async populateAuthorization(e){let r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await D8(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return D8(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return D8(this,"call").call(await this.populateCall(e))}async resolveName(e){return await D8(this,"resolveName").resolveName(e)}async sendTransaction(e){let r=D8(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let i=np.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}authorize(e){Ce(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}});function qUt(t){return JSON.parse(JSON.stringify(t))}var Iz,Cz,Rz,rGe=D(()=>{Jr();Tz();Iz=class{#e;#t;#r;#n;#i;#a;constructor(e){this.#e=e,this.#t=null,this.#r=this.#o.bind(this),this.#n=!1,this.#i=null,this.#a=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let r=null;try{r=await this.#t}catch(o){if(!Oi(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(r==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let n=await this.#e.getNetwork();if(this.#i||(this.#i=n),this.#i.chainId!==n.chainId)throw new Error("chaid changed");if(this.#a)return;let i=await this.#e.send("eth_getFilterChanges",[r]);await this._emitResults(this.#e,i)}catch(r){console.log("@TODO",r)}this.#e.once("block",this.#r)}#s(){let e=this.#t;e&&(this.#t=null,e.then(r=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[r])}))}start(){this.#n||(this.#n=!0,this.#o(-2))}stop(){this.#n&&(this.#n=!1,this.#a=!0,this.#s(),this.#e.off("block",this.#r))}pause(e){e&&this.#s(),this.#e.off("block",this.#r)}resume(){this.start()}},Cz=class extends Iz{#e;constructor(e,r){super(e),this.#e=qUt(r)}_recover(e){return new ey(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,r){for(let n of r)e.emit(this.#e,e._wrapLog(n,e._network))}},Rz=class extends Iz{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(let n of r)e.emit("pending",n)}}});function Pz(t){if(t==null||WUt.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Pz);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function YUt(t){return new Promise(e=>{setTimeout(e,t)})}function J9(t){return t&&t.toLowerCase()}function nGe(t){return t&&typeof t.pollingInterval=="number"}function Bce(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Mr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let r=Bce(t[e]);if(r)return r}return null}if(typeof t=="string")try{return Bce(JSON.parse(t))}catch{}return null}function Dce(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let r in t)Dce(t[r],e);if(typeof t=="string")try{return Dce(JSON.parse(t),e)}catch{}}}function JUt(t){let e=[];return Dce(t,e),e}var WUt,iGe,L8,sR,cR,Q9,Lce=D(()=>{pz();Kc();C8();Kb();Jr();Xze();tGe();Rce();rGe();Tz();WUt="bigint,boolean,function,number,string,symbol".split(/,/g);iGe={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},L8=class extends aR{address;constructor(e,r){super(e),r=Rr(r),At(this,{address:r})}connect(e){Ce(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let r=Pz(e),n=[];if(r.from){let o=r.from;n.push((async()=>{let a=await ia(o,this.provider);oe(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&n.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){let o=r.to;n.push((async()=>{r.to=await ia(o,this.provider)})())}n.length&&await Promise.all(n);let i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){let r=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{let a=[1e3,100],s=0,c=async()=>{try{let l=await this.provider.getTransaction(n);if(l!=null){i(l.replaceableTransaction(r));return}}catch(l){if(Oi(l,"CANCELLED")||Oi(l,"BAD_DATA")||Oi(l,"NETWORK_ERROR")||Oi(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=n,o(l);return}if(Oi(l,"INVALID_ARGUMENT")&&(s++,l.info==null&&(l.info={}),l.info.sendTransactionHash=n,s>10)){o(l);return}this.provider.emit("error",In("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(e){let r=Pz(e);if(r.from){let i=await ia(r.from,this.provider);oe(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=i}else r.from=this.address;let n=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){let r=typeof e=="string"?ta(e):e;return await this.provider.send("personal_sign",[qe(r),this.address.toLowerCase()])}async signTypedData(e,r,n){let i=Pz(n),o=await Th.resolveNames(e,r,i,async a=>{let s=await ia(a);return oe(s!=null,"TypedData does not support null address","value",a),s});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Th.getPayload(o.domain,r,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let r=typeof e=="string"?ta(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),qe(r)])}},sR=class extends oR{#e;#t;#r;#n;#i;#a;#o;#s(){if(this.#n)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;let r=this.#r;for(this.#r=[];r.length;){let n=[r.shift()];for(;r.length&&n.length!==this.#e.batchMaxCount;)if(n.push(r.shift()),JSON.stringify(n.map(o=>o.payload)).length>this.#e.batchMaxSize){r.unshift(n.pop());break}(async()=>{let i=n.length===1?n[0].payload:n.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:a,reject:s,payload:c}of n){if(this.destroyed){s(In("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let l=o.filter(u=>u.id===c.id)[0];if(l==null){let u=In("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",u),s(u);continue}if("error"in l){s(this.getRpcError(c,l));continue}a(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:a}of n)a(o)}})()}},e)}constructor(e,r){super(e,r),this.#t=1,this.#e=Object.assign({},iGe,r||{}),this.#r=[],this.#n=null,this.#a=null,this.#o=null;{let i=null,o=new Promise(a=>{i=a});this.#i={promise:o,resolve:i}}let n=this._getOption("staticNetwork");typeof n=="boolean"?(oe(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",r),n&&e!=null&&(this.#a=Ql.from(e))):n&&(oe(e==null||n.matches(e),"staticNetwork MUST match network object","options",r),this.#a=n)}_getOption(e){return this.#e[e]}get _network(){return Ce(this.#a,"network is not available yet","NETWORK_ERROR"),this.#a}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&ct(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}let r=this.getRpcRequest(e);return r!=null?await this.send(r.method,r.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#a)return this.#a}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{let r=Ql.from(ct(await this.send("eth_chainId",[])));return this.#o=null,r}catch(r){throw this.#o=null,r}})(),await this.#o):(this.#o=(async()=>{let r={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let n;try{n=(await this._send(r))[0],this.#o=null}catch(i){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Ql.from(ct(n.result));throw this.getRpcError(r,n)})(),await this.#o)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#a==null&&!this.destroyed;)try{this.#a=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",In("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await YUt(1e3)}this.#s()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new Rz(this):e.type==="event"?this._getOption("polling")?new ey(this,e.filter):new Cz(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Y9("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){let r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let i=n;n==="gasLimit"&&(i="gas"),r[i]=oo(ct(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(r[n]=qe(e[n]))}),e.accessList&&(r.accessList=qc(e.accessList)),e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),e.authorizationList&&(r.authorizationList=e.authorizationList.map(n=>{let i=N9(n);return{address:i.address,nonce:oo(i.nonce),chainId:oo(i.chainId),yParity:oo(i.signature.yParity),r:oo(i.signature.r),s:oo(i.signature.s)}})),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[J9(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[J9(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[J9(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[J9(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(J9):e.filter.address=J9(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){let{method:n}=e,{error:i}=r;if(n==="eth_estimateGas"&&i.message){let s=i.message;if(!s.match(/revert/i)&&s.match(/insufficient funds/i))return In("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(s.match(/nonce/i)&&s.match(/too low/i))return In("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(n==="eth_call"||n==="eth_estimateGas"){let s=Bce(i),c=Ih.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],s?s.data:null);return c.info={error:i,payload:e},c}let o=JSON.stringify(JUt(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return In("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){let s=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return In("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:s,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return In("nonce has already been used","NONCE_EXPIRED",{transaction:s,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return In("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:s,info:{error:i}});if(o.match(/only replay-protected/i))return In("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:s,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?In("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):In("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,r){if(this.destroyed)return Promise.reject(In("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let n=this.#t++,i=new Promise((o,a)=>{this.#r.push({resolve:o,reject:a,payload:{method:e,params:r,id:n,jsonrpc:"2.0"}})});return this.#s(),i}async getSigner(e){e==null&&(e=0);let r=this.send("eth_accounts",[]);if(typeof e=="number"){let i=await r;if(e>=i.length)throw new Error("no such account");return new L8(this,i[e])}let{accounts:n}=await So({network:this.getNetwork(),accounts:r});e=Rr(e);for(let i of n)if(Rr(i)===e)return new L8(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new L8(this,r))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(let{payload:e,reject:r}of this.#r)r(In("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}},cR=class extends sR{#e;constructor(e,r){super(e,r);let n=this._getOption("pollingInterval");n==null&&(n=iGe.pollingInterval),this.#e=n}_getSubscriber(e){let r=super._getSubscriber(e);return nGe(r)&&(r.pollingInterval=this.#e),r}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(r=>{nGe(r)&&(r.pollingInterval=this.#e)})}},Q9=class extends cR{#e;constructor(e,r,n){e==null&&(e="http://localhost:8545"),super(r,n),typeof e=="string"?this.#e=new Vc(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){let r=this._getConnection();r.body=JSON.stringify(e),r.setHeader("content-type","application/json");let n=await r.send();n.assertOk();let i=n.bodyJson;return Array.isArray(i)||(i=[i]),i}}});var op,oGe=D(()=>{Jr();Lce();op=class t extends cR{#e;#t;constructor(e,r,n){let i=Object.assign({},n??{},{batchMaxCount:1});oe(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(r,i),this.#t=null,n&&n.providerInfo&&(this.#t=n.providerInfo),this.#e=async(o,a)=>{let s={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:s});try{let c=await e.request(s);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=s,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){oe(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let r=await this.#e(e.method,e.params||[]);return[{id:e.id,result:r}]}catch(r){return[{id:e.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(e,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(e,r)}async hasSigner(e){e==null&&(e=0);let r=await this.send("eth_accounts",[]);return typeof e=="number"?r.length>e:(e=e.toLowerCase(),r.filter(n=>n.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(r){let n=r.payload;throw this.getRpcError(n,{id:n.id,error:r})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new t(e.provider);let r=e.window?e.window:typeof window<"u"?window:null;if(r==null)return null;let n=e.anyProvider;if(n&&r.ethereum)return new t(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;let i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,a)=>{let s=[],c=d=>{s.push(d.detail),n&&l()},l=()=>{if(clearTimeout(u),s.length)if(e&&e.filter){let d=e.filter(s.map(f=>Object.assign({},f.info)));if(d==null)o(null);else if(d instanceof t)o(d);else{let f=null;if(d.uuid&&(f=s.filter(h=>d.uuid===h.info.uuid)[0]),f){let{provider:p,info:h}=f;o(new t(p,void 0,{providerInfo:h}))}else a(In("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{let{provider:d,info:f}=s[0];o(new t(d,void 0,{providerInfo:f}))}else o(null);r.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{l()},i);r.addEventListener("eip6963:announceProvider",c),r.dispatchEvent(new Event("eip6963:requestProvider"))})}}});var aGe=D(()=>{Lce();oGe()});var sGe=D(()=>{pz();gz();Wl();C8();aGe();Kb();Jr()});var Cf=D(()=>{sGe()});var Z9,Ch,Rh,X9,U8=D(()=>{Z9=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"}],Ch=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],Rh=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"isOperator",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"_interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],X9=[{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[{name:"user",type:"address"},{name:"token",type:"address"}],name:"tokenBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"users",type:"address[]"},{name:"tokens",type:"address[]"}],name:"balances",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"}]});var cGe,iE,H8,aa,Yc,Oz,Nz,lGe,uGe,Zl,Ph,Oh,Nh,Uce,ty,kh,eE,F8,tE,rE,lR,uR,dR,fR,nE,pR,hR,Rf,Jc,Lt,mR,bR,Xl,sd,kz,Mz,Bz,oE,Dz,Lz,Uz,so,ui=D(()=>{ci();cGe="localhost",iE="eth",H8="erc20",aa="erc721",Yc="erc1155",Oz="0xd9b67a26",Nz="0x80ac58cd",lGe="0x5b5e139f",uGe="0x780e9d63",Zl="0x1",Ph="0x89",Oh="0x38",Nh="0xa86a",Uce="0x64",ty="0xa4b1",kh="0xa",eE="0xa4ec",F8="0x2105",tE="0xe708",rE="0xaa36a7",lR="0x13882",uR="0x61",dR="0xa869",fR="0x66eee",nE="0xaa37dc",pR="0x14a34",hR="0xe705",Rf=process.env.VITE_APP_INFURA_PROJECT_KEY,Jc={[Zl]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://etherscan.io",chainId:Zl,displayName:"Ethereum",logo:"eth.svg",rpcTarget:`https://mainnet.infura.io/v3/${Rf}`,ticker:"ETH",tickerName:"Ethereum"},[Ph]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://polygonscan.com",chainId:Ph,displayName:"Polygon",logo:"polygon.svg",rpcTarget:`https://polygon-mainnet.infura.io/v3/${Rf}`,ticker:"POL",tickerName:"Polygon Ecosystem Token"},[Oh]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://bscscan.com",chainId:Oh,displayName:"Binance Smart Chain (BSC)",logo:"bnb_logo.svg",rpcTarget:"https://bsc-dataseed.binance.org",ticker:"BNB",tickerName:"Binance Coin"},[Nh]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://snowtrace.io",chainId:Nh,displayName:"Avalanche",logo:"avax.svg",rpcTarget:"https://api.avax.network/ext/bc/C/rpc",ticker:"AVAX",tickerName:"Avalanche"},[kh]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://optimistic.etherscan.io",chainId:kh,displayName:"Optimism",logo:"optimism.svg",rpcTarget:`https://optimism-mainnet.infura.io/v3/${Rf}`,ticker:"ETH",tickerName:"Ethereum"},[eE]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://explorer.celo.org",chainId:eE,displayName:"Celo Mainnet",logo:"celo.svg",rpcTarget:`https://celo-mainnet.infura.io/v3/${Rf}`,ticker:"CELO",tickerName:"Celo"},[ty]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://arbiscan.io",chainId:ty,displayName:"Arbitrum One",logo:"arbitrum.svg",rpcTarget:`https://arbitrum-mainnet.infura.io/v3/${Rf}`,ticker:"ETH",tickerName:"Ethereum"},[F8]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://basescan.org",chainId:F8,displayName:"Base",logo:"base.svg",rpcTarget:"https://mainnet.base.org",ticker:"ETH",tickerName:"Ethereum"},[tE]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://lineascan.build",chainId:tE,displayName:"Linea",logo:"linea.svg",rpcTarget:`https://linea-mainnet.infura.io/v3/${Rf}`,ticker:"ETH",tickerName:"Ethereum"},[rE]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.etherscan.io",chainId:rE,displayName:"Sepolia Test Network",logo:"eth.svg",rpcTarget:`https://sepolia.infura.io/v3/${Rf}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[hR]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.lineascan.build",chainId:hR,displayName:"Linea Sepolia Testnet",logo:"linea.svg",rpcTarget:`https://linea-sepolia.infura.io/v3/${Rf}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[lR]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://amoy.polygonscan.com",chainId:lR,displayName:"Polygon Amoy",logo:"polygon.svg",rpcTarget:`https://polygon-amoy.infura.io/v3/${Rf}`,ticker:"POL",tickerName:"Polygon Ecosystem Token",isTestnet:!0},[uR]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://testnet.bscscan.com",chainId:uR,displayName:"Binance Smart Chain Testnet",logo:"bnb_logo.svg",rpcTarget:"https://data-seed-prebsc-1-s1.binance.org:8545",ticker:"BNB",tickerName:"Binance Coin",isTestnet:!0},[dR]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://testnet.snowtrace.io",chainId:dR,displayName:"Avalanche Testnet C-Chain",logo:"avax.svg",rpcTarget:"https://api.avax-test.network/ext/bc/C/rpc",ticker:"AVAX",tickerName:"Avalanche",isTestnet:!0},[fR]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.arbiscan.io",chainId:fR,displayName:"Arbitrum Sepolia",logo:"arbitrum.svg",rpcTarget:`https://arbitrum-sepolia.infura.io/v3/${Rf}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[nE]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://sepolia-optimistic.etherscan.io",chainId:nE,displayName:"Optimism Sepolia",logo:"optimism.svg",rpcTarget:`https://optimism-sepolia.infura.io/v3/${Rf}`,ticker:"ETH",tickerName:"Ethereum",isTestnet:!0},[pR]:{chainNamespace:bi.EIP155,decimals:18,blockExplorerUrl:"https://sepolia.basescan.org",chainId:pR,displayName:"Base Sepolia",logo:"base.svg",rpcTarget:"https://sepolia.base.org",ticker:"ETH",tickerName:"Ethereum",isTestnet:!0}},Lt={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_SIGN_TRANSACTION:"eth_signTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_ESTIMATE_USER_OPERATION_GAS:"eth_estimateUserOperationGas",ETH_GET_SUPPORTED_ENTRY_POINTS:"eth_supportedEntryPoints",ETH_GET_USER_OPERATION:"eth_getUserOperationByHash",ETH_GET_USER_OPERATION_RECEIPT:"eth_getUserOperationReceipt",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",PIMLICO_GET_USER_OPERATION_GAS_PRICE:"pimlico_getUserOperationGasPrice",PIMLICO_GET_USER_OPERATION_STATUS:"pimlico_getUserOperationStatus",PIMLICO_SIMULATE_ASSET_CHANGES:"pimlico_simulateAssetChanges",BICONOMY_GET_GAS_FEE_VALUES:"biconomy_getGasFeeValues",BICONOMY_GET_USER_OPERATION_STATUS:"biconomy_getUserOperationStatus",ETH_GET_PAYMASTER_DATA:"pm_getPaymasterData",ETH_GET_PAYMASTER_STUB_DATA:"pm_getPaymasterStubData",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",ETH_GET_FEE_QUOTE_OR_DATA:"pm_getFeeQuoteOrData",PIMLICO_GET_TOKEN_QUOTES:"pimlico_getTokenQuotes",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"},mR=[Lt.ETH_ESTIMATE_USER_OPERATION_GAS,Lt.ETH_GET_SUPPORTED_ENTRY_POINTS,Lt.ETH_GET_USER_OPERATION,Lt.ETH_GET_USER_OPERATION_RECEIPT,Lt.ETH_SEND_USER_OPERATION,Lt.PIMLICO_GET_USER_OPERATION_GAS_PRICE,Lt.PIMLICO_GET_USER_OPERATION_STATUS,Lt.PIMLICO_SIMULATE_ASSET_CHANGES,Lt.BICONOMY_GET_GAS_FEE_VALUES,Lt.BICONOMY_GET_USER_OPERATION_STATUS],bR=[Lt.ETH_GET_PAYMASTER_DATA,Lt.ETH_GET_PAYMASTER_STUB_DATA,Lt.ETH_SPONSOR_USER_OPERATION,Lt.PIMLICO_GET_TOKEN_QUOTES,Lt.ETH_GET_FEE_QUOTE_OR_DATA],Xl={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},sd={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"},kz={[kh]:1,[nE]:1},Mz={"0x06012c8cf97bead5deae237070f9587f8e7a266d":{name:"Cryptokitties",logo:"dapp-cryptokitty.svg",erc20:!0,symbol:"CK",decimals:0}},Bz=[rE],oE=[Zl,rE,Oh,uR,kh,nE,Nh,dR,ty,fR,Ph,lR,eE,F8,pR,tE,hR],Dz=[Zl,Ph,Oh,Nh,tE,F8],Lz=new Set(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]),Uz={[Ph]:{platform:"polygon-pos",currency:"pol"},[Oh]:{platform:"binance-smart-chain",currency:"bnb"},[Zl]:{platform:"ethereum",currency:"eth"},[ty]:{platform:"arbitrum-one",currency:"eth"},[kh]:{platform:"optimistic-ethereum",currency:"eth"},[eE]:{platform:"celo",currency:"celo"},[Uce]:{platform:"xdai",currency:"xDAI"},[Nh]:{platform:"avalanche",currency:"avax"},[F8]:{platform:"base",currency:"eth"}},so={BICONOMY:"biconomy",KERNEL:"kernel",SAFE:"safe",TRUST:"trust",LIGHT:"light",SIMPLE:"simple",NEXUS:"nexus",METAMASK:"metamask"}});var yR,Fce=D(()=>{ui();yR={[Zl]:"0xb1f8e55c7f64d203c1400b9d8555d050f94adf39",[Oh]:"0x2352c63A83f9Fd126af8676146721Fa00924d7e4",[kh]:"0xB1c568e9C3E6bdaf755A60c7418C269eb11524FC",[Ph]:"0x2352c63A83f9Fd126af8676146721Fa00924d7e4",[Nh]:"0xD023D153a0DFa485130ECFdE2FAA7e612EF94818",[ty]:"0x151E24A486D7258dd7C33Fb67E4bB01919B7B32c"}});var Fz,QUt,Hz,dGe=D(()=>{nt();Ye();ci();CC();Cf();Fz=ve(Or());U8();Fce();QUt="0x0000000000000000000000000000000000000000",Hz=class extends ei{constructor({config:e,state:r,provider:n,blockTracker:i,getIdentities:o,onPreferencesStateChange:a,getCurrentChainId:s}){super({config:e,state:r}),V(this,"provider",void 0),V(this,"blockTracker",void 0),V(this,"mutex",new Z1),V(this,"ethersProvider",void 0),V(this,"getIdentities",void 0),V(this,"getCurrentChainId",void 0),this.defaultState={accounts:{}},this.initialize(),this.provider=n,this.blockTracker=i,this.ethersProvider=new op(this.provider,"any"),this.getIdentities=o,this.getCurrentChainId=s,a(()=>{this.syncAccounts()&&(Fz.default.info("onPreferencesStateChange called"),this.refresh())}),this.blockTrackerListener=this.blockTrackerListener.bind(this)}blockTrackerListener(){this.refresh()}startPolling(){this.stopPolling(),Object.keys(this.state.accounts).length>0&&this.blockTracker.on("latest",this.blockTrackerListener)}stopPolling(){this.blockTracker.removeListener("latest",this.blockTrackerListener)}syncAccounts(){let{accounts:e}=this.state,r=Object.keys(this.getIdentities()),n=Object.keys(e),i=r.filter(s=>n.indexOf(s)===-1),o=n.filter(s=>r.indexOf(s)===-1),a=!1;return i.forEach(s=>{a=!0,e[s]={balance:"0x0"}}),o.forEach(s=>{a=!0,delete e[s]}),this.update({accounts:q({},e)}),a}async refresh(){let e=await this.mutex.acquire();try{this._updateAccounts()}catch{}finally{e()}}async _updateAccounts(){let{accounts:e}=this.state,r=Object.keys(e),n=this.getCurrentChainId();if(n!=="loading"&&r.length>0){if(yR[n]){await this._updateAccountsViaBalanceChecker(r,yR[n]);return}Fz.default.info("falling back to ethQuery.getBalance"),await Promise.all(r.map(i=>this._updateAccount(i)))}}async _updateAccount(e){let r=await this.provider.request({method:"eth_getBalance",params:[e,"latest"]}),{accounts:n}=this.state;n[e]&&(n[e]={balance:oo(r)},this.update({accounts:n}))}async _updateAccountsViaBalanceChecker(e,r){let n=new Ro(r,X9,this.ethersProvider);try{let i=await n.balances(e,[QUt]),{accounts:o}=this.state;return e.forEach((a,s)=>{let c=oo(i[s]);o[a]&&(o[a]={balance:c})}),this.update({accounts:o})}catch(i){return Fz.default.warn("Torus - Account Tracker single call balance fetch failed",i),Promise.all(e.map(o=>this._updateAccount(o)))}}}});function Fe(t,e,r){let n=t[e.name];if(typeof n=="function")return n;let i=t[r];return typeof i=="function"?i:o=>e(t,o)}var Cn=D(()=>{});function xa(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new zz(t.type);return`${t.name}(${gR(t.inputs,{includeName:e})})`}function gR(t,{includeName:e=!1}={}){return t?t.map(r=>ZUt(r,{includeName:e})).join(e?", ":","):""}function ZUt(t,{includeName:e}){return t.type.startsWith("tuple")?`(${gR(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}var Mh=D(()=>{co()});function Yo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}var Pf=D(()=>{});function rn(t){return Yo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}var cd=D(()=>{Pf()});var Hce,fGe=D(()=>{Hce="2.35.1"});function pGe(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?pGe(t.cause,e):e?null:t}var zce,ue,Pr=D(()=>{fGe();zce={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Hce}`},ue=class t extends Error{constructor(e,r={}){let n=r.cause instanceof t?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof t&&r.cause.docsPath||r.docsPath,o=zce.getDocsUrl?.({...r,docsPath:i}),a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...n?[`Details: ${n}`]:[],...zce.version?[`Version: ${zce.version}`]:[]].join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Hce}walk(e){return pGe(this,e)}}});var Gz,wR,aE,ld,jz,$z,sE,Vz,vR,cE,Kz,lE,ER,Of,uE,qz,Wz,dE,Nf,ap,Yz,Jz,fE,zz,Qz,co=D(()=>{Mh();cd();Pr();Gz=class extends ue{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}},wR=class extends ue{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}},aE=class extends ue{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${gR(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}},ld=class extends ue{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},jz=class extends ue{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},$z=class extends ue{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${rn(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},sE=class extends ue{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},Vz=class extends ue{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}},vR=class extends ue{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}},cE=class extends ue{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},Kz=class extends ue{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}},lE=class extends ue{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}},ER=class extends ue{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}},Of=class extends ue{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}},uE=class extends ue{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}},qz=class extends ue{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}},Wz=class extends ue{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${xa(e.abiItem)}\`, and`,`\`${r.type}\` in \`${xa(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},dE=class extends ue{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}},Nf=class extends ue{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${gR(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}},ap=class extends ue{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${xa(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},Yz=class extends ue{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}},Jz=class extends ue{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}},fE=class extends ue{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},zz=class extends ue{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}},Qz=class extends ue{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}});var Zz,hGe=D(()=>{Pr();Zz=class extends ue{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}});var xR,AR,TR,Xz=D(()=>{Pr();xR=class extends ue{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},AR=class extends ue{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}},TR=class extends ue{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}});function En(t,{dir:e,size:r=32}={}){return typeof t=="string"?kf(t,{dir:e,size:r}):Gce(t,{dir:e,size:r})}function kf(t,{dir:e,size:r=32}={}){if(r===null)return t;let n=t.replace("0x","");if(n.length>r*2)throw new AR({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Gce(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new AR({size:t.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let o=e==="right";n[o?i:r-i-1]=t[o?i:t.length-i-1]}return n}var Bh=D(()=>{Xz()});var pE,eG,tG,rG,_R=D(()=>{Pr();pE=class extends ue{constructor({max:e,min:r,signed:n,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},eG=class extends ue{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},tG=class extends ue{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},rG=class extends ue{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}});function eu(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}var hE=D(()=>{});function Qc(t,{size:e}){if(rn(t)>e)throw new rG({givenSize:rn(t),maxSize:e})}function Rn(t,e={}){let{signed:r}=e;e.size&&Qc(t,{size:e.size});let n=BigInt(t);if(!r)return n;let i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return n<=o?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function nG(t,e={}){let r=t;if(e.size&&(Qc(r,{size:e.size}),r=eu(r)),eu(r)==="0x00")return!1;if(eu(r)==="0x01")return!0;throw new tG(r)}function Po(t,e={}){return Number(Rn(t,e))}var Aa=D(()=>{_R();cd();hE()});function gr(t,e={}){return typeof t=="number"||typeof t=="bigint"?De(t,e):typeof t=="string"?Ja(t,e):typeof t=="boolean"?z8(t,e):Pn(t,e)}function z8(t,e={}){let r=`0x${Number(t)}`;return typeof e.size=="number"?(Qc(r,{size:e.size}),En(r,{size:e.size})):r}function Pn(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=XUt[t[i]];let n=`0x${r}`;return typeof e.size=="number"?(Qc(n,{size:e.size}),En(n,{dir:"right",size:e.size})):n}function De(t,e={}){let{signed:r,size:n}=e,i=BigInt(t),o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let a=typeof o=="bigint"&&r?-o-1n:0;if(o&&i>o||i<a){let c=typeof t=="bigint"?"n":"";throw new pE({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:r,size:n,value:`${t}${c}`})}let s=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?En(s,{size:n}):s}function Ja(t,e={}){let r=eFt.encode(t);return Pn(r,e)}var XUt,eFt,ar=D(()=>{_R();Bh();Aa();XUt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));eFt=new TextEncoder});function ti(t,e={}){return typeof t=="number"||typeof t=="bigint"?yGe(t,e):typeof t=="boolean"?bGe(t,e):Yo(t)?sa(t,e):ud(t,e)}function bGe(t,e={}){let r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Qc(r,{size:e.size}),En(r,{size:e.size})):r}function mGe(t){if(t>=Dh.zero&&t<=Dh.nine)return t-Dh.zero;if(t>=Dh.A&&t<=Dh.F)return t-(Dh.A-10);if(t>=Dh.a&&t<=Dh.f)return t-(Dh.a-10)}function sa(t,e={}){let r=t;e.size&&(Qc(r,{size:e.size}),r=En(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,o=new Uint8Array(i);for(let a=0,s=0;a<i;a++){let c=mGe(n.charCodeAt(s++)),l=mGe(n.charCodeAt(s++));if(c===void 0||l===void 0)throw new ue(`Invalid byte sequence ("${n[s-2]}${n[s-1]}" in "${n}").`);o[a]=c*16+l}return o}function yGe(t,e){let r=De(t,e);return sa(r)}function ud(t,e={}){let r=tFt.encode(t);return typeof e.size=="number"?(Qc(r,{size:e.size}),En(r,{dir:"right",size:e.size})):r}var tFt,Dh,ca=D(()=>{Pr();Pf();Bh();Aa();ar();tFt=new TextEncoder;Dh={zero:48,nine:57,A:65,F:70,a:97,f:102}});function Bt(t,e){let r=e||"hex",n=M0(Yo(t,{strict:!1})?ti(t):t);return r==="bytes"?n:gr(n)}var Zc=D(()=>{h2();Pf();ca();ar()});function gGe(t){return rFt(t)}var rFt,wGe=D(()=>{ca();Zc();rFt=t=>Bt(ti(t))});function vGe(t){let e=!0,r="",n=0,i="",o=!1;for(let a=0;a<t.length;a++){let s=t[a];if(["(",")",","].includes(s)&&(e=!0),s==="("&&n++,s===")"&&n--,!!e){if(n===0){if(s===" "&&["event","function",""].includes(i))i="";else if(i+=s,s===")"){o=!0;break}continue}if(s===" "){t[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=s,r+=s}}if(!o)throw new ue("Unable to normalize signature.");return i}var EGe=D(()=>{Pr()});var xGe,AGe=D(()=>{Bv();EGe();xGe=t=>{let e=typeof t=="string"?t:$g(t);return vGe(e)}});function iG(t){return gGe(xGe(t))}var jce=D(()=>{wGe();AGe()});var ry,SR=D(()=>{jce();ry=iG});var Jo,Lh=D(()=>{Pr();Jo=class extends ue{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var dd,mE=D(()=>{dd=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});function sp(t,e){if($ce.has(`${t}.${e}`))return $ce.get(`${t}.${e}`);let r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=Bt(ud(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(n[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());let o=`0x${i.join("")}`;return $ce.set(`${t}.${e}`,o),o}function Qa(t,e){if(!Hi(t,{strict:!1}))throw new Jo({address:t});return sp(t,e)}var $ce,Uh=D(()=>{Lh();ca();Zc();mE();Mf();$ce=new dd(8192)});function Hi(t,e){let{strict:r=!0}=e??{},n=`${t}.${r}`;if(Vce.has(n))return Vce.get(n);let i=nFt.test(t)?t.toLowerCase()===t?!0:r?sp(t)===t:!0:!1;return Vce.set(n,i),i}var nFt,Vce,Mf=D(()=>{mE();Uh();nFt=/^0x[a-fA-F0-9]{40}$/,Vce=new dd(8192)});function xr(t){return typeof t[0]=="string"?jn(t):TGe(t)}function TGe(t){let e=0;for(let i of t)e+=i.length;let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}function jn(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}var Ta=D(()=>{});function Ni(t,e,r,{strict:n}={}){return Yo(t,{strict:!1})?G8(t,e,r,{strict:n}):oG(t,e,r,{strict:n})}function _Ge(t,e){if(typeof e=="number"&&e>0&&e>rn(t)-1)throw new xR({offset:e,position:"start",size:rn(t)})}function SGe(t,e,r){if(typeof e=="number"&&typeof r=="number"&&rn(t)!==r-e)throw new xR({offset:r,position:"end",size:rn(t)})}function oG(t,e,r,{strict:n}={}){_Ge(t,e);let i=t.slice(e,r);return n&&SGe(i,e,r),i}function G8(t,e,r,{strict:n}={}){_Ge(t,e);let i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&SGe(i,e,r),i}var cp=D(()=>{Xz();Pf();cd()});var IGe,aG,bE,sG=D(()=>{IGe=/^(.*)\[([0-9]*)\]$/,aG=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bE=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function pr(t,e){if(t.length!==e.length)throw new sE({expectedLength:t.length,givenLength:e.length});let r=iFt({params:t,values:e}),n=qce(r);return n.length===0?"0x":n}function iFt({params:t,values:e}){let r=[];for(let n=0;n<t.length;n++)r.push(Kce({param:t[n],value:e[n]}));return r}function Kce({param:t,value:e}){let r=cG(t.type);if(r){let[n,i]=r;return aFt(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return dFt(e,{param:t});if(t.type==="address")return oFt(e);if(t.type==="bool")return cFt(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){let n=t.type.startsWith("int"),[,,i="256"]=bE.exec(t.type)??[];return lFt(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return sFt(e,{param:t});if(t.type==="string")return uFt(e);throw new Yz(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function qce(t){let e=0;for(let o=0;o<t.length;o++){let{dynamic:a,encoded:s}=t[o];a?e+=32:e+=rn(s)}let r=[],n=[],i=0;for(let o=0;o<t.length;o++){let{dynamic:a,encoded:s}=t[o];a?(r.push(De(e+i,{size:32})),n.push(s),i+=rn(s)):r.push(s)}return xr([...r,...n])}function oFt(t){if(!Hi(t))throw new Jo({address:t});return{dynamic:!1,encoded:kf(t.toLowerCase())}}function aFt(t,{length:e,param:r}){let n=e===null;if(!Array.isArray(t))throw new fE(t);if(!n&&t.length!==e)throw new jz({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1,o=[];for(let a=0;a<t.length;a++){let s=Kce({param:r,value:t[a]});s.dynamic&&(i=!0),o.push(s)}if(n||i){let a=qce(o);if(n){let s=De(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?xr([s,a]):s}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:xr(o.map(({encoded:a})=>a))}}function sFt(t,{param:e}){let[,r]=e.type.split("bytes"),n=rn(t);if(!r){let i=t;return n%32!==0&&(i=kf(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:xr([kf(De(n,{size:32})),i])}}if(n!==Number.parseInt(r))throw new $z({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:kf(t,{dir:"right"})}}function cFt(t){if(typeof t!="boolean")throw new ue(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:kf(z8(t))}}function lFt(t,{signed:e,size:r=256}){if(typeof r=="number"){let n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new pE({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:De(t,{size:32,signed:e})}}function uFt(t){let e=Ja(t),r=Math.ceil(rn(e)/32),n=[];for(let i=0;i<r;i++)n.push(kf(Ni(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:xr([kf(De(rn(e),{size:32})),...n])}}function dFt(t,{param:e}){let r=!1,n=[];for(let i=0;i<e.components.length;i++){let o=e.components[i],a=Array.isArray(t)?i:o.name,s=Kce({param:o,value:t[a]});n.push(s),s.dynamic&&(r=!0)}return{dynamic:r,encoded:r?qce(n):xr(n.map(({encoded:i})=>i))}}function cG(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var fd=D(()=>{co();Lh();Pr();_R();Mf();Ta();Bh();cd();cp();ar();sG()});var lp,yE=D(()=>{cp();jce();lp=t=>Ni(iG(t),0,4)});function Xc(t){let{abi:e,args:r=[],name:n}=t,i=Yo(n,{strict:!1}),o=e.filter(s=>i?s.type==="function"?lp(s)===n:s.type==="event"?ry(s)===n:!1:"name"in s&&s.name===n);if(o.length===0)return;if(o.length===1)return o[0];let a;for(let s of o){if(!("inputs"in s))continue;if(!r||r.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0||s.inputs.length!==r.length)continue;if(r.every((l,u)=>{let d="inputs"in s&&s.inputs[u];return d?Wce(l,d):!1})){if(a&&"inputs"in a&&a.inputs){let l=CGe(s.inputs,a.inputs,r);if(l)throw new Wz({abiItem:s,type:l[0]},{abiItem:a,type:l[1]})}a=s}}return a||o[0]}function Wce(t,e){let r=typeof t,n=e.type;switch(n){case"address":return Hi(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>Wce(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>Wce(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function CGe(t,e,r){for(let n in t){let i=t[n],o=e[n];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return CGe(i.components,o.components,r[n]);let a=[i.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Hi(r[n],{strict:!1}):a.includes("address")&&a.includes("bytes")?Hi(r[n],{strict:!1}):!1)return a}}var ny=D(()=>{co();Pf();Mf();SR();yE()});function up(t){let{abi:e,eventName:r,args:n}=t,i=e[0];if(r){let c=Xc({abi:e,name:r});if(!c)throw new ER(r,{docsPath:RGe});i=c}if(i.type!=="event")throw new ER(void 0,{docsPath:RGe});let o=xa(i),a=ry(o),s=[];if(n&&"inputs"in i){let c=i.inputs?.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(n)?n:Object.values(n).length>0?c?.map(u=>n[u.name])??[]:[];l.length>0&&(s=c?.map((u,d)=>Array.isArray(l[d])?l[d].map((f,p)=>PGe({param:u,value:l[d][p]})):typeof l[d]<"u"&&l[d]!==null?PGe({param:u,value:l[d]}):null)??[])}return[a,...s]}function PGe({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Bt(ti(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Zz(t.type);return pr([t],[e])}var RGe,gE=D(()=>{co();hGe();ca();Zc();SR();fd();Mh();ny();RGe="/docs/contract/encodeEventTopics"});function iy(t,{method:e}){let r={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:n,response:i,status:o,transport:a})=>{o==="success"&&e===n&&(r[i]=a.request)}),(n=>r[n]||t.request)}var IR=D(()=>{});async function lG(t,e){let{address:r,abi:n,args:i,eventName:o,fromBlock:a,strict:s,toBlock:c}=e,l=iy(t,{method:"eth_newFilter"}),u=o?up({abi:n,args:i,eventName:o}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof a=="bigint"?De(a):a,toBlock:typeof c=="bigint"?De(c):c,topics:u}]});return{abi:n,args:i,eventName:o,id:d,request:l(d),strict:!!s,type:"event"}}var Yce=D(()=>{gE();ar();IR()});function Ar(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}var Ji=D(()=>{});function NGe(t){let{abi:e,args:r,functionName:n}=t,i=e[0];if(n){let o=Xc({abi:e,args:r,name:n});if(!o)throw new Of(n,{docsPath:OGe});i=o}if(i.type!=="function")throw new Of(void 0,{docsPath:OGe});return{abi:[i],functionName:lp(xa(i))}}var OGe,kGe=D(()=>{co();yE();Mh();ny();OGe="/docs/contract/encodeFunctionData"});function Re(t){let{args:e}=t,{abi:r,functionName:n}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:NGe(t),i=r[0],o=n,a="inputs"in i&&i.inputs?pr(i.inputs,e??[]):void 0;return jn([o,a??"0x"])}var tc=D(()=>{Ta();fd();kGe()});var MGe,uG,BGe,dG=D(()=>{MGe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},uG={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},BGe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}});var CR,wE,fG,Jce=D(()=>{Pr();CR=class extends ue{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},wE=class extends ue{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},fG=class extends ue{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function vE(t,{recursiveReadLimit:e=8192}={}){let r=Object.create(fFt);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}var fFt,pG=D(()=>{Jce();fFt={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new fG({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new wE({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new CR({offset:t});let e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new CR({offset:t});let e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){let e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){let r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){let e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){let e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){let e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){let e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();let r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();let t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();let t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();let t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();let t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){let e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}}});function DGe(t,e={}){typeof e.size<"u"&&Qc(t,{size:e.size});let r=Pn(t,e);return Rn(r,e)}function LGe(t,e={}){let r=t;if(typeof e.size<"u"&&(Qc(r,{size:e.size}),r=eu(r)),r.length>1||r[0]>1)throw new eG(r);return!!r[0]}function dp(t,e={}){typeof e.size<"u"&&Qc(t,{size:e.size});let r=Pn(t,e);return Po(r,e)}function UGe(t,e={}){let r=t;return typeof e.size<"u"&&(Qc(r,{size:e.size}),r=eu(r,{dir:"right"})),new TextDecoder().decode(r)}var FGe=D(()=>{_R();hE();Aa();ar()});function Is(t,e){let r=typeof e=="string"?sa(e):e,n=vE(r);if(rn(r)===0&&t.length>0)throw new ld;if(rn(e)&&rn(e)<32)throw new aE({data:typeof e=="string"?e:Pn(e),params:t,size:rn(e)});let i=0,o=[];for(let a=0;a<t.length;++a){let s=t[a];n.setPosition(i);let[c,l]=EE(n,s,{staticPosition:0});i+=l,o.push(c)}return o}function EE(t,e,{staticPosition:r}){let n=cG(e.type);if(n){let[i,o]=n;return hFt(t,{...e,type:o},{length:i,staticPosition:r})}if(e.type==="tuple")return gFt(t,e,{staticPosition:r});if(e.type==="address")return pFt(t);if(e.type==="bool")return mFt(t);if(e.type.startsWith("bytes"))return bFt(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return yFt(t,e);if(e.type==="string")return wFt(t,{staticPosition:r});throw new Jz(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function pFt(t){let e=t.readBytes(32);return[sp(Pn(oG(e,-20))),32]}function hFt(t,e,{length:r,staticPosition:n}){if(!r){let a=dp(t.readBytes(Qce)),s=n+a,c=s+HGe;t.setPosition(s);let l=dp(t.readBytes(HGe)),u=RR(e),d=0,f=[];for(let p=0;p<l;++p){t.setPosition(c+(u?p*32:d));let[h,b]=EE(t,e,{staticPosition:c});d+=b,f.push(h)}return t.setPosition(n+32),[f,32]}if(RR(e)){let a=dp(t.readBytes(Qce)),s=n+a,c=[];for(let l=0;l<r;++l){t.setPosition(s+l*32);let[u]=EE(t,e,{staticPosition:s});c.push(u)}return t.setPosition(n+32),[c,32]}let i=0,o=[];for(let a=0;a<r;++a){let[s,c]=EE(t,e,{staticPosition:n+i});i+=c,o.push(s)}return[o,i]}function mFt(t){return[LGe(t.readBytes(32),{size:32}),32]}function bFt(t,e,{staticPosition:r}){let[n,i]=e.type.split("bytes");if(!i){let a=dp(t.readBytes(32));t.setPosition(r+a);let s=dp(t.readBytes(32));if(s===0)return t.setPosition(r+32),["0x",32];let c=t.readBytes(s);return t.setPosition(r+32),[Pn(c),32]}return[Pn(t.readBytes(Number.parseInt(i),32)),32]}function yFt(t,e){let r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[n>48?DGe(i,{signed:r}):dp(i,{signed:r}),32]}function gFt(t,e,{staticPosition:r}){let n=e.components.length===0||e.components.some(({name:a})=>!a),i=n?[]:{},o=0;if(RR(e)){let a=dp(t.readBytes(Qce)),s=r+a;for(let c=0;c<e.components.length;++c){let l=e.components[c];t.setPosition(s+o);let[u,d]=EE(t,l,{staticPosition:s});o+=d,i[n?c:l?.name]=u}return t.setPosition(r+32),[i,32]}for(let a=0;a<e.components.length;++a){let s=e.components[a],[c,l]=EE(t,s,{staticPosition:r});i[n?a:s?.name]=c,o+=l}return[i,o]}function wFt(t,{staticPosition:e}){let r=dp(t.readBytes(32)),n=e+r;t.setPosition(n);let i=dp(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];let o=t.readBytes(i,32),a=UGe(eu(o));return t.setPosition(e+32),[a,32]}function RR(t){let{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(RR);let r=cG(t.type);return!!(r&&RR({...t,type:r[1]}))}var HGe,Qce,xE=D(()=>{co();Uh();pG();cd();cp();hE();FGe();ca();ar();fd();HGe=32,Qce=32});function AE(t){let{abi:e,data:r}=t,n=Ni(r,0,4);if(n==="0x")throw new ld;let o=[...e||[],uG,BGe].find(a=>a.type==="error"&&n===lp(xa(a)));if(!o)throw new cE(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Is(o.inputs,Ni(r,4)):void 0,errorName:o.name}}var hG=D(()=>{dG();co();cp();yE();xE();Mh()});var Xr,Cs=D(()=>{Xr=(t,e,r)=>JSON.stringify(t,(n,i)=>{let o=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(n,o):o},r)});function Zce({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,o)=>`${n&&i.name?`${i.name}: `:""}${typeof e[o]=="object"?Xr(e[o]):e[o]}`).join(", ")})`}var zGe=D(()=>{Cs()});var mG,GGe,bG=D(()=>{mG={gwei:9,wei:18},GGe={ether:-9,wei:9}});function yG(t,e){let r=t.toString(),n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,o]=[r.slice(0,r.length-e),r.slice(r.length-e)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${o?`.${o}`:""}`}var Xce=D(()=>{});function TE(t,e="wei"){return yG(t,mG[e])}var gG=D(()=>{bG();Xce()});function lo(t,e="wei"){return yG(t,GGe[e])}var j8=D(()=>{bG();Xce()});function jGe(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function $Ge(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=jGe(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=jGe(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}var wG,vG,ele=D(()=>{Pr();wG=class extends ue{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}},vG=class extends ue{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}});function Fh(t){let e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}var EG,xG,AG,_E,SE,TG,fp=D(()=>{gG();j8();Pr();EG=class extends ue{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},xG=class extends ue{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Fh(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},AG=class extends ue{constructor(e,{account:r,docsPath:n,chain:i,data:o,gas:a,gasPrice:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){let p=Fh({chain:i&&`${i?.name} (id: ${i?.id})`,from:r?.address,to:d,value:typeof f<"u"&&`${TE(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:a,gasPrice:typeof s<"u"&&`${lo(s)} gwei`,maxFeePerGas:typeof c<"u"&&`${lo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${lo(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},_E=class extends ue{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:o}){let a="Transaction";n&&o!==void 0&&(a=`Transaction at block time "${n}" at index "${o}"`),e&&o!==void 0&&(a=`Transaction at block hash "${e}" at index "${o}"`),r&&o!==void 0&&(a=`Transaction at block number "${r}" at index "${o}"`),i&&(a=`Transaction with hash "${i}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}},SE=class extends ue{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},TG=class extends ue{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}});var VGe,$8,_G=D(()=>{VGe=t=>t,$8=t=>t});var IE,V8,Hh,CE,SG,pp,zh=D(()=>{Ji();dG();hG();Mh();zGe();ny();gG();j8();co();Pr();ele();fp();_G();IE=class extends ue{constructor(e,{account:r,docsPath:n,chain:i,data:o,gas:a,gasPrice:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f,stateOverride:p}){let h=r?Ar(r):void 0,b=Fh({from:h?.address,to:d,value:typeof f<"u"&&`${TE(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:a,gasPrice:typeof s<"u"&&`${lo(s)} gwei`,maxFeePerGas:typeof c<"u"&&`${lo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${lo(l)} gwei`,nonce:u});p&&(b+=`
${$Ge(p)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},V8=class extends ue{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:o,functionName:a,sender:s}){let c=Xc({abi:r,args:n,name:a}),l=c?Zce({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=c?xa(c,{includeName:!0}):void 0,d=Fh({address:i&&VGe(i),function:u,args:l&&l!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:s});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=a,this.sender=s}},Hh=class extends ue{constructor({abi:e,data:r,functionName:n,message:i}){let o,a,s,c;if(r&&r!=="0x")try{a=AE({abi:e,data:r});let{abiItem:u,errorName:d,args:f}=a;if(d==="Error")c=f[0];else if(d==="Panic"){let[p]=f;c=MGe[p]}else{let p=u?xa(u,{includeName:!0}):void 0,h=u&&f?Zce({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;s=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(u){o=u}else i&&(c=i);let l;o instanceof cE&&(l=o.signature,s=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${n}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${n}" reverted.`,{cause:o,metaMessages:s,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=r,this.reason=c,this.signature=l}},CE=class extends ue{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},SG=class extends ue{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},pp=class extends ue{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}});var pd,oy,PR,K8=D(()=>{Cs();Pr();_G();pd=class extends ue{constructor({body:e,cause:r,details:n,headers:i,status:o,url:a}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[o&&`Status: ${o}`,`URL: ${$8(a)}`,e&&`Request body: ${Xr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=a}},oy=class extends ue{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${$8(n)}`,`Request body: ${Xr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}},PR=class extends ue{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${$8(r)}`,`Request body: ${Xr(e)}`],name:"TimeoutError"})}}});var vFt,x0,rc,RE,PE,OE,NE,Gh,hp,kE,ME,BE,ay,q8,DE,W8,LE,UE,FE,HE,zE,sy,GE,jE,$E,VE,KE,cy,IG,qE=D(()=>{Pr();K8();vFt=-1,x0=class extends ue{constructor(e,{code:r,docsPath:n,metaMessages:i,name:o,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof oy?e.code:r??vFt}},rc=class extends x0{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}},RE=class t extends x0{constructor(e){super(e,{code:t.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(RE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});PE=class t extends x0{constructor(e){super(e,{code:t.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(PE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});OE=class t extends x0{constructor(e,{method:r}={}){super(e,{code:t.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}};Object.defineProperty(OE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});NE=class t extends x0{constructor(e){super(e,{code:t.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(NE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});Gh=class t extends x0{constructor(e){super(e,{code:t.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});hp=class t extends x0{constructor(e){super(e,{code:t.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});kE=class t extends x0{constructor(e){super(e,{code:t.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(kE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});ME=class t extends x0{constructor(e){super(e,{code:t.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(ME,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});BE=class t extends x0{constructor(e){super(e,{code:t.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(BE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});ay=class t extends x0{constructor(e,{method:r}={}){super(e,{code:t.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}};Object.defineProperty(ay,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});q8=class t extends x0{constructor(e){super(e,{code:t.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(q8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});DE=class t extends x0{constructor(e){super(e,{code:t.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(DE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});W8=class t extends rc{constructor(e){super(e,{code:t.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(W8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});LE=class t extends rc{constructor(e){super(e,{code:t.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(LE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});UE=class t extends rc{constructor(e,{method:r}={}){super(e,{code:t.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}};Object.defineProperty(UE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});FE=class t extends rc{constructor(e){super(e,{code:t.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(FE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});HE=class t extends rc{constructor(e){super(e,{code:t.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(HE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});zE=class t extends rc{constructor(e){super(e,{code:t.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(zE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});sy=class t extends rc{constructor(e){super(e,{code:t.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}};Object.defineProperty(sy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});GE=class t extends rc{constructor(e){super(e,{code:t.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}};Object.defineProperty(GE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});jE=class t extends rc{constructor(e){super(e,{code:t.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}};Object.defineProperty(jE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});$E=class t extends rc{constructor(e){super(e,{code:t.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}};Object.defineProperty($E,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});VE=class t extends rc{constructor(e){super(e,{code:t.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}};Object.defineProperty(VE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});KE=class t extends rc{constructor(e){super(e,{code:t.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}};Object.defineProperty(KE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});cy=class t extends rc{constructor(e){super(e,{code:t.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}};Object.defineProperty(cy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});IG=class extends x0{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}});function tu(t,{abi:e,address:r,args:n,docsPath:i,functionName:o,sender:a}){let s=t instanceof pp?t:t instanceof ue?t.walk(h=>"data"in h)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:f}=s,p=t instanceof ld?new CE({functionName:o}):[EFt,Gh.code].includes(c)&&(l||u||d||f)?new Hh({abi:e,data:typeof l=="object"?l.data:l,functionName:o,message:s instanceof oy?u:f??d}):t;return new V8(p,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:o,sender:a})}var EFt,Y8=D(()=>{co();Pr();zh();K8();qE();EFt=3});function KGe(t){let e=Bt(`0x${t.substring(4)}`).substring(26);return sp(`0x${e}`)}var qGe=D(()=>{Uh();Zc()});function OR(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function ly(t,e,r=""){let n=Pa(t),i=t?.length,o=e!==void 0;if(!n||o&&i!==e){let a=r&&`"${r}" `,s=o?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+s+", got "+c)}return t}function NR(t){let e=t.toString(16);return e.length&1?"0"+e:e}function WGe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?nle:BigInt("0x"+t)}function Bf(t){return WGe(Vi(t))}function ile(t){return fi(t),WGe(Vi(Uint8Array.from(t).reverse()))}function WE(t,e){return os(t.toString(16).padStart(e*2,"0"))}function ole(t,e){return WE(t,e).reverse()}function Oo(t,e,r){let n;if(typeof e=="string")try{n=os(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Pa(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function kR(t,e,r){return tle(t)&&tle(e)&&tle(r)&&e<=t&&t<r}function YGe(t,e,r,n){if(!kR(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function CG(t){let e;for(e=0;t>nle;t>>=rle,e+=1);return e}function JGe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=p=>new Uint8Array(p),i=p=>Uint8Array.of(p),o=n(t),a=n(t),s=0,c=()=>{o.fill(1),a.fill(0),s=0},l=(...p)=>r(a,o,...p),u=(p=n(0))=>{a=l(i(0),p),o=l(),p.length!==0&&(a=l(i(1),p),o=l())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,h=[];for(;p<e;){o=l();let b=o.slice();h.push(b),p+=o.length}return Wr(...h)};return(p,h)=>{c(),u(p);let b;for(;!(b=h(d()));)u();return c(),b}}function QGe(t){return typeof t=="function"&&Number.isSafeInteger(t.outputLen)}function J8(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,o,a){let s=t[i];if(a&&s===void 0)return;let c=typeof s;if(c!==o||s===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}function ale(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}var nle,rle,tle,uy,YE=D(()=>{Na();Na();nle=BigInt(0),rle=BigInt(1);tle=t=>typeof t=="bigint"&&nle<=t;uy=t=>(rle<<BigInt(t))-rle});function nc(t,e){let r=t%e;return r>=ic?r:e+r}function ru(t,e,r){let n=t;for(;e-- >ic;)n*=n,n%=r;return n}function ZGe(t,e){if(t===ic)throw new Error("invert: expected non-zero number");if(e<=ic)throw new Error("invert: expected positive modulus, got "+e);let r=nc(t,e),n=e,i=ic,o=A0,a=A0,s=ic;for(;r!==ic;){let l=n/r,u=n%r,d=i-a*l,f=o-s*l;n=r,r=u,i=a,o=s,a=d,s=f}if(n!==A0)throw new Error("invert: does not exist");return nc(i,e)}function sle(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function oje(t,e){let r=(t.ORDER+A0)/tje,n=t.pow(e,r);return sle(t,n,e),n}function TFt(t,e){let r=(t.ORDER-rje)/nje,n=t.mul(e,Q8),i=t.pow(n,r),o=t.mul(e,i),a=t.mul(t.mul(o,Q8),i),s=t.mul(o,t.sub(a,t.ONE));return sle(t,s,e),s}function _Ft(t){let e=dy(t),r=aje(t),n=r(e,e.neg(e.ONE)),i=r(e,n),o=r(e,e.neg(n)),a=(t+xFt)/ije;return(s,c)=>{let l=s.pow(c,a),u=s.mul(l,n),d=s.mul(l,i),f=s.mul(l,o),p=s.eql(s.sqr(u),c),h=s.eql(s.sqr(d),c);l=s.cmov(l,u,p),u=s.cmov(f,d,h);let b=s.eql(s.sqr(u),c),_=s.cmov(l,u,b);return sle(s,_,c),_}}function aje(t){if(t<eje)throw new Error("sqrt is not defined for small field");let e=t-A0,r=0;for(;e%Q8===ic;)e/=Q8,r++;let n=Q8,i=dy(t);for(;XGe(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return oje;let o=i.pow(n,e),a=(e+A0)/Q8;return function(c,l){if(c.is0(l))return l;if(XGe(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),f=c.pow(l,e),p=c.pow(l,a);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let h=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(h++,b=c.sqr(b),h===u)throw new Error("Cannot find square root");let _=A0<<BigInt(u-h-1),A=c.pow(d,_);u=h,d=c.sqr(A),f=c.mul(f,d),p=c.mul(p,A)}return p}}function SFt(t){return t%tje===eje?oje:t%nje===rje?TFt:t%ije===AFt?_Ft(t):aje(t)}function RG(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=IFt.reduce((n,i)=>(n[i]="function",n),e);return J8(t,r),t}function CFt(t,e,r){if(r<ic)throw new Error("invalid exponent, negatives unsupported");if(r===ic)return t.ONE;if(r===A0)return e;let n=t.ONE,i=e;for(;r>ic;)r&A0&&(n=t.mul(n,i)),i=t.sqr(i),r>>=A0;return n}function Z8(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((a,s,c)=>t.is0(s)?a:(n[c]=a,t.mul(a,s)),t.ONE),o=t.inv(i);return e.reduceRight((a,s,c)=>t.is0(s)?a:(n[c]=t.mul(a,n[c]),t.mul(a,s)),o),n}function XGe(t,e){let r=(t.ORDER-A0)/Q8,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function PG(t,e){e!==void 0&&N0(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function dy(t,e,r=!1,n={}){if(t<=ic)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,a=!1,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let f=e;f.BITS&&(i=f.BITS),f.sqrt&&(o=f.sqrt),typeof f.isLE=="boolean"&&(r=f.isLE),typeof f.modFromBytes=="boolean"&&(a=f.modFromBytes),s=f.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(o=n.sqrt);let{nBitLength:c,nByteLength:l}=PG(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:uy(c),ZERO:ic,ONE:A0,allowedLengths:s,create:f=>nc(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return ic<=f&&f<t},is0:f=>f===ic,isValidNot0:f=>!d.is0(f)&&d.isValid(f),isOdd:f=>(f&A0)===A0,neg:f=>nc(-f,t),eql:(f,p)=>f===p,sqr:f=>nc(f*f,t),add:(f,p)=>nc(f+p,t),sub:(f,p)=>nc(f-p,t),mul:(f,p)=>nc(f*p,t),pow:(f,p)=>CFt(d,f,p),div:(f,p)=>nc(f*ZGe(p,t),t),sqrN:f=>f*f,addN:(f,p)=>f+p,subN:(f,p)=>f-p,mulN:(f,p)=>f*p,inv:f=>ZGe(f,t),sqrt:o||(f=>(u||(u=SFt(t)),u(d,f))),toBytes:f=>r?ole(f,l):WE(f,l),fromBytes:(f,p=!0)=>{if(s){if(!s.includes(f.length)||f.length>l)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+f.length);let b=new Uint8Array(l);b.set(f,r?0:b.length-f.length),f=b}if(f.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+f.length);let h=r?ile(f):Bf(f);if(a&&(h=nc(h,t)),!p&&!d.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:f=>Z8(d,f),cmov:(f,p,h)=>h?p:f});return Object.freeze(d)}function sje(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function cle(t){let e=sje(t);return e+Math.ceil(e/2)}function OG(t,e,r=!1){let n=t.length,i=sje(e),o=cle(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let a=r?ile(t):Bf(t),s=nc(a,e-A0)+A0;return r?ole(s,i):WE(s,i)}var ic,A0,Q8,eje,tje,rje,xFt,nje,AFt,ije,IFt,MR=D(()=>{YE();ic=BigInt(0),A0=BigInt(1),Q8=BigInt(2),eje=BigInt(3),tje=BigInt(4),rje=BigInt(5),xFt=BigInt(7),nje=BigInt(8),AFt=BigInt(9),ije=BigInt(16);IFt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function BR(t,e){let r=e.negate();return t?r:e}function kG(t,e){let r=Z8(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function dje(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function lle(t,e){dje(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,o=uy(t),a=BigInt(t);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:a}}function cje(t,e,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,s=Number(t&i),c=t>>a;s>n&&(s-=o,c+=X8);let l=e*n,u=l+Math.abs(s)-1,d=s===0,f=s<0,p=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:p,offsetF:l}}function RFt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function PFt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function dle(t){return fje.get(t)||1}function lje(t){if(t!==JE)throw new Error("invalid wNAF")}function pje(t,e,r,n){let i=e,o=t.ZERO,a=t.ZERO;for(;r>JE||n>JE;)r&X8&&(o=o.add(i)),n&X8&&(a=a.add(i)),i=i.double(),r>>=X8,n>>=X8;return{p1:o,p2:a}}function hje(t,e,r,n){RFt(r,t),PFt(n,e);let i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");let a=t.ZERO,s=CG(BigInt(i)),c=1;s>12?c=s-3:s>4?c=s-2:s>0&&(c=2);let l=uy(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c,f=a;for(let p=d;p>=0;p-=c){u.fill(a);for(let b=0;b<o;b++){let _=n[b],A=Number(_>>BigInt(p)&l);u[A]=u[A].add(r[b])}let h=a;for(let b=u.length-1,_=a;b>0;b--)_=_.add(u[b]),h=h.add(_);if(f=f.add(h),p!==0)for(let b=0;b<c;b++)f=f.double()}return f}function uje(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return RG(e),e}else return dy(t,{isLE:r})}function mje(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let l=e[c];if(!(typeof l=="bigint"&&l>JE))throw new Error(`CURVE.${c} must be positive bigint`)}let i=uje(e.p,r.Fp,n),o=uje(e.n,r.Fn,n),s=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of s)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}var JE,X8,ule,fje,NG,bje=D(()=>{YE();MR();JE=BigInt(0),X8=BigInt(1);ule=new WeakMap,fje=new WeakMap;NG=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>JE;)r&X8&&(n=n.add(i)),i=i.double(),r>>=X8;return n}precomputeWindow(e,r){let{windows:n,windowSize:i}=lle(r,this.bits),o=[],a=e,s=a;for(let c=0;c<n;c++){s=a,o.push(s);for(let l=1;l<i;l++)s=s.add(a),o.push(s);a=s.double()}return o}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE,a=lle(e,this.bits);for(let s=0;s<a.windows;s++){let{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:f,offsetF:p}=cje(n,s,a);n=c,u?o=o.add(BR(f,r[p])):i=i.add(BR(d,r[l]))}return lje(n),{p:i,f:o}}wNAFUnsafe(e,r,n,i=this.ZERO){let o=lle(e,this.bits);for(let a=0;a<o.windows&&n!==JE;a++){let{nextN:s,offset:c,isZero:l,isNeg:u}=cje(n,a,o);if(n=s,!l){let d=r[c];i=i.add(u?d.negate():d)}}return lje(n),i}getPrecomputes(e,r,n){let i=ule.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),ule.set(r,i))),i}cached(e,r,n){let i=dle(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){let o=dle(e);return o===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,n),r,i)}createCache(e,r){dje(r,this.bits),fje.set(e,r),ule.delete(e)}hasCache(e){return dle(e)!==1}}});function OFt(t,e,r){let[[n,i],[o,a]]=e,s=yje(a*t,r),c=yje(-i*t,r),l=t-s*n-c*o,u=-s*i-c*a,d=l<Df,f=u<Df;d&&(l=-l),f&&(u=-u);let p=uy(Math.ceil(CG(r)/2))+T0;if(l<Df||l>=p||u<Df||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:f,k2:u}}function ple(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function fle(t,e){let r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return OR(r.lowS,"lowS"),OR(r.prehash,"prehash"),r.format!==void 0&&ple(r.format),r}function fy(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let i=Oo("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function NFt(t,e={}){let r=mje("weierstrass",t,e),{Fp:n,Fn:i}=r,o=r.CURVE,{h:a,n:s}=o;J8(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!n.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=vje(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(S,T,m){let{x:y,y:E}=T.toAffine(),v=n.toBytes(y);if(OR(m,"isCompressed"),m){u();let x=!n.isOdd(E);return Wr(gje(x),v)}else return Wr(Uint8Array.of(4),v,n.toBytes(E))}function f(S){ly(S,void 0,"Point");let{publicKey:T,publicKeyUncompressed:m}=l,y=S.length,E=S[0],v=S.subarray(1);if(y===T&&(E===2||E===3)){let x=n.fromBytes(v);if(!n.isValid(x))throw new Error("bad point: is not on curve, wrong x");let g=b(x),P;try{P=n.sqrt(g)}catch(L){let G=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+G)}u();let B=n.isOdd(P);return(E&1)===1!==B&&(P=n.neg(P)),{x,y:P}}else if(y===m&&E===4){let x=n.BYTES,g=n.fromBytes(v.subarray(0,x)),P=n.fromBytes(v.subarray(x,x*2));if(!_(g,P))throw new Error("bad point: is not on curve");return{x:g,y:P}}else throw new Error(`bad point: got length ${y}, expected compressed=${T} or uncompressed=${m}`)}let p=e.toBytes||d,h=e.fromBytes||f;function b(S){let T=n.sqr(S),m=n.mul(T,S);return n.add(n.add(m,n.mul(S,o.a)),o.b)}function _(S,T){let m=n.sqr(T),y=b(S);return n.eql(m,y)}if(!_(o.Gx,o.Gy))throw new Error("bad curve params: generator point");let A=n.mul(n.pow(o.a,QE),mle),C=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(A,C)))throw new Error("bad curve params: a or b");function R(S,T,m=!1){if(!n.isValid(T)||m&&n.is0(T))throw new Error(`bad point coordinate ${S}`);return T}function M(S){if(!(S instanceof k))throw new Error("ProjectivePoint expected")}function U(S){if(!c||!c.basises)throw new Error("no endo");return OFt(S,c.basises,i.ORDER)}let F=ale((S,T)=>{let{X:m,Y:y,Z:E}=S;if(n.eql(E,n.ONE))return{x:m,y};let v=S.is0();T==null&&(T=v?n.ONE:n.inv(E));let x=n.mul(m,T),g=n.mul(y,T),P=n.mul(E,T);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x,y:g}}),z=ale(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.Y))return;throw new Error("bad point: ZERO")}let{x:T,y:m}=S.toAffine();if(!n.isValid(T)||!n.isValid(m))throw new Error("bad point: x or y not field elements");if(!_(T,m))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(S,T,m,y,E){return m=new k(n.mul(m.X,S),m.Y,m.Z),T=BR(y,T),m=BR(E,m),T.add(m)}class k{constructor(T,m,y){this.X=R("x",T),this.Y=R("y",m,!0),this.Z=R("z",y),Object.freeze(this)}static CURVE(){return o}static fromAffine(T){let{x:m,y}=T||{};if(!T||!n.isValid(m)||!n.isValid(y))throw new Error("invalid affine point");if(T instanceof k)throw new Error("projective point not allowed");return n.is0(m)&&n.is0(y)?k.ZERO:new k(m,y,n.ONE)}static fromBytes(T){let m=k.fromAffine(h(ly(T,void 0,"point")));return m.assertValidity(),m}static fromHex(T){return k.fromBytes(Oo("pointHex",T))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,m=!0){return w.createCache(this,T),m||this.multiply(QE),this}assertValidity(){z(this)}hasEvenY(){let{y:T}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(T)}equals(T){M(T);let{X:m,Y:y,Z:E}=this,{X:v,Y:x,Z:g}=T,P=n.eql(n.mul(m,g),n.mul(v,E)),B=n.eql(n.mul(y,g),n.mul(x,E));return P&&B}negate(){return new k(this.X,n.neg(this.Y),this.Z)}double(){let{a:T,b:m}=o,y=n.mul(m,QE),{X:E,Y:v,Z:x}=this,g=n.ZERO,P=n.ZERO,B=n.ZERO,I=n.mul(E,E),L=n.mul(v,v),G=n.mul(x,x),H=n.mul(E,v);return H=n.add(H,H),B=n.mul(E,x),B=n.add(B,B),g=n.mul(T,B),P=n.mul(y,G),P=n.add(g,P),g=n.sub(L,P),P=n.add(L,P),P=n.mul(g,P),g=n.mul(H,g),B=n.mul(y,B),G=n.mul(T,G),H=n.sub(I,G),H=n.mul(T,H),H=n.add(H,B),B=n.add(I,I),I=n.add(B,I),I=n.add(I,G),I=n.mul(I,H),P=n.add(P,I),G=n.mul(v,x),G=n.add(G,G),I=n.mul(G,H),g=n.sub(g,I),B=n.mul(G,L),B=n.add(B,B),B=n.add(B,B),new k(g,P,B)}add(T){M(T);let{X:m,Y:y,Z:E}=this,{X:v,Y:x,Z:g}=T,P=n.ZERO,B=n.ZERO,I=n.ZERO,L=o.a,G=n.mul(o.b,QE),H=n.mul(m,v),$=n.mul(y,x),K=n.mul(E,g),W=n.add(m,y),J=n.add(v,x);W=n.mul(W,J),J=n.add(H,$),W=n.sub(W,J),J=n.add(m,E);let X=n.add(v,g);return J=n.mul(J,X),X=n.add(H,K),J=n.sub(J,X),X=n.add(y,E),P=n.add(x,g),X=n.mul(X,P),P=n.add($,K),X=n.sub(X,P),I=n.mul(L,J),P=n.mul(G,K),I=n.add(P,I),P=n.sub($,I),I=n.add($,I),B=n.mul(P,I),$=n.add(H,H),$=n.add($,H),K=n.mul(L,K),J=n.mul(G,J),$=n.add($,K),K=n.sub(H,K),K=n.mul(L,K),J=n.add(J,K),H=n.mul($,J),B=n.add(B,H),H=n.mul(X,J),P=n.mul(W,P),P=n.sub(P,H),H=n.mul(W,$),I=n.mul(X,I),I=n.add(I,H),new k(P,B,I)}subtract(T){return this.add(T.negate())}is0(){return this.equals(k.ZERO)}multiply(T){let{endo:m}=e;if(!i.isValidNot0(T))throw new Error("invalid scalar: out of range");let y,E,v=x=>w.cached(this,x,g=>kG(k,g));if(m){let{k1neg:x,k1:g,k2neg:P,k2:B}=U(T),{p:I,f:L}=v(g),{p:G,f:H}=v(B);E=L.add(H),y=N(m.beta,I,G,x,P)}else{let{p:x,f:g}=v(T);y=x,E=g}return kG(k,[y,E])[0]}multiplyUnsafe(T){let{endo:m}=e,y=this;if(!i.isValid(T))throw new Error("invalid scalar: out of range");if(T===Df||y.is0())return k.ZERO;if(T===T0)return y;if(w.hasCache(this))return this.multiply(T);if(m){let{k1neg:E,k1:v,k2neg:x,k2:g}=U(T),{p1:P,p2:B}=pje(k,y,v,g);return N(m.beta,P,B,E,x)}else return w.unsafe(y,T)}multiplyAndAddUnsafe(T,m,y){let E=this.multiplyUnsafe(m).add(T.multiplyUnsafe(y));return E.is0()?void 0:E}toAffine(T){return F(this,T)}isTorsionFree(){let{isTorsionFree:T}=e;return a===T0?!0:T?T(k,this):w.unsafe(this,s).is0()}clearCofactor(){let{clearCofactor:T}=e;return a===T0?this:T?T(k,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(T=!0){return OR(T,"isCompressed"),this.assertValidity(),p(k,this,T)}toHex(T=!0){return Vi(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(T=!0){return this.toBytes(T)}_setWindowSize(T){this.precompute(T)}static normalizeZ(T){return kG(k,T)}static msm(T,m){return hje(k,i,T,m)}static fromPrivateKey(T){return k.BASE.multiply(fy(i,T))}}k.BASE=new k(o.Gx,o.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=i;let O=i.BITS,w=new NG(k,e.endo?Math.ceil(O/2):O);return k.BASE.precompute(8),k}function gje(t){return Uint8Array.of(t?2:3)}function kFt(t,e){let r=t.ORDER,n=Df;for(let h=r-T0;h%mp===Df;h/=mp)n+=T0;let i=n,o=mp<<i-T0-T0,a=o*mp,s=(r-T0)/a,c=(s-T0)/mp,l=a-T0,u=o,d=t.pow(e,s),f=t.pow(e,(s+T0)/mp),p=(h,b)=>{let _=d,A=t.pow(b,l),C=t.sqr(A);C=t.mul(C,b);let R=t.mul(h,C);R=t.pow(R,c),R=t.mul(R,A),A=t.mul(R,b),C=t.mul(R,h);let M=t.mul(C,A);R=t.pow(M,u);let U=t.eql(R,t.ONE);A=t.mul(C,f),R=t.mul(M,_),C=t.cmov(A,C,U),M=t.cmov(R,M,U);for(let F=i;F>T0;F--){let z=F-mp;z=mp<<z-T0;let N=t.pow(M,z),k=t.eql(N,t.ONE);A=t.mul(C,_),_=t.mul(_,_),N=t.mul(M,_),C=t.cmov(A,C,k),M=t.cmov(N,M,k)}return{isValid:U,value:C}};if(t.ORDER%mle===QE){let h=(t.ORDER-QE)/mle,b=t.sqrt(t.neg(e));p=(_,A)=>{let C=t.sqr(A),R=t.mul(_,A);C=t.mul(C,R);let M=t.pow(C,h);M=t.mul(M,R);let U=t.mul(M,b),F=t.mul(t.sqr(M),A),z=t.eql(F,_),N=t.cmov(U,M,z);return{isValid:z,value:N}}}return p}function wje(t,e){RG(t);let{A:r,B:n,Z:i}=e;if(!t.isValid(r)||!t.isValid(n)||!t.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");let o=kFt(t,i);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return a=>{let s,c,l,u,d,f,p,h;s=t.sqr(a),s=t.mul(s,i),c=t.sqr(s),c=t.add(c,s),l=t.add(c,t.ONE),l=t.mul(l,n),u=t.cmov(i,t.neg(c),!t.eql(c,t.ZERO)),u=t.mul(u,r),c=t.sqr(l),f=t.sqr(u),d=t.mul(f,r),c=t.add(c,d),c=t.mul(c,l),f=t.mul(f,u),d=t.mul(f,n),c=t.add(c,d),p=t.mul(s,l);let{isValid:b,value:_}=o(c,f);h=t.mul(s,a),h=t.mul(h,_),p=t.cmov(p,l,b),h=t.cmov(h,_,b);let A=t.isOdd(a)===t.isOdd(h);h=t.cmov(t.neg(h),h,A);let C=Z8(t,[u],!0)[0];return p=t.mul(p,C),{x:p,y:h}}}function vje(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function MFt(t,e={}){let{Fn:r}=t,n=e.randomBytes||Oa,i=Object.assign(vje(t.Fp,r),{seed:cle(r.ORDER)});function o(p){try{return!!fy(r,p)}catch{return!1}}function a(p,h){let{publicKey:b,publicKeyUncompressed:_}=i;try{let A=p.length;return h===!0&&A!==b||h===!1&&A!==_?!1:!!t.fromBytes(p)}catch{return!1}}function s(p=n(i.seed)){return OG(ly(p,i.seed,"seed"),r.ORDER)}function c(p,h=!0){return t.BASE.multiply(fy(r,p)).toBytes(h)}function l(p){let h=s(p);return{secretKey:h,publicKey:c(h)}}function u(p){if(typeof p=="bigint")return!1;if(p instanceof t)return!0;let{secretKey:h,publicKey:b,publicKeyUncompressed:_}=i;if(r.allowedLengths||h===b)return;let A=Oo("key",p).length;return A===b||A===_}function d(p,h,b=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");let _=fy(r,p);return t.fromHex(h).multiply(_).toBytes(b)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:a,randomSecretKey:s,isValidPrivateKey:o,randomPrivateKey:s,normPrivateKeyToScalar:p=>fy(r,p),precompute(p=8,h=t.BASE){return h.precompute(p,!1)}},lengths:i})}function BFt(t,e,r={}){Q3(e),J8(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||Oa,i=r.hmac||((m,...y)=>Xy(e,m,Wr(...y))),{Fp:o,Fn:a}=t,{ORDER:s,BITS:c}=a,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:p}=MFt(t,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},b="compact";function _(m){let y=s>>T0;return m>y}function A(m,y){if(!a.isValidNot0(y))throw new Error(`invalid signature ${m}: out of range 1..Point.Fn.ORDER`);return y}function C(m,y){ple(y);let E=p.signature,v=y==="compact"?E:y==="recovered"?E+1:void 0;return ly(m,v,`${y} signature`)}class R{constructor(y,E,v){this.r=A("r",y),this.s=A("s",E),v!=null&&(this.recovery=v),Object.freeze(this)}static fromBytes(y,E=b){C(y,E);let v;if(E==="der"){let{r:B,s:I}=jh.toSig(ly(y));return new R(B,I)}E==="recovered"&&(v=y[0],E="compact",y=y.subarray(1));let x=a.BYTES,g=y.subarray(0,x),P=y.subarray(x,x*2);return new R(a.fromBytes(g),a.fromBytes(P),v)}static fromHex(y,E){return this.fromBytes(os(y),E)}addRecoveryBit(y){return new R(this.r,this.s,y)}recoverPublicKey(y){let E=o.ORDER,{r:v,s:x,recovery:g}=this;if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");if(s*mp<E&&g>1)throw new Error("recovery id is ambiguous for h>1 curve");let B=g===2||g===3?v+s:v;if(!o.isValid(B))throw new Error("recovery id 2 or 3 invalid");let I=o.toBytes(B),L=t.fromBytes(Wr(gje((g&1)===0),I)),G=a.inv(B),H=U(Oo("msgHash",y)),$=a.create(-H*G),K=a.create(x*G),W=t.BASE.multiplyUnsafe($).add(L.multiplyUnsafe(K));if(W.is0())throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return _(this.s)}toBytes(y=b){if(ple(y),y==="der")return os(jh.hexFromSig(this));let E=a.toBytes(this.r),v=a.toBytes(this.s);if(y==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Wr(Uint8Array.of(this.recovery),E,v)}return Wr(E,v)}toHex(y){return Vi(this.toBytes(y))}assertValidity(){}static fromCompact(y){return R.fromBytes(Oo("sig",y),"compact")}static fromDER(y){return R.fromBytes(Oo("sig",y),"der")}normalizeS(){return this.hasHighS()?new R(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Vi(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Vi(this.toBytes("compact"))}}let M=r.bits2int||function(y){if(y.length>8192)throw new Error("input is too large");let E=Bf(y),v=y.length*8-c;return v>0?E>>BigInt(v):E},U=r.bits2int_modN||function(y){return a.create(M(y))},F=uy(c);function z(m){return YGe("num < 2^"+c,m,Df,F),a.toBytes(m)}function N(m,y){return ly(m,void 0,"message"),y?ly(e(m),void 0,"prehashed message"):m}function k(m,y,E){if(["recovered","canonical"].some($=>$ in E))throw new Error("sign() legacy options not supported");let{lowS:v,prehash:x,extraEntropy:g}=fle(E,h);m=N(m,x);let P=U(m),B=fy(a,y),I=[z(B),z(P)];if(g!=null&&g!==!1){let $=g===!0?n(p.secretKey):g;I.push(Oo("extraEntropy",$))}let L=Wr(...I),G=P;function H($){let K=M($);if(!a.isValidNot0(K))return;let W=a.inv(K),J=t.BASE.multiply(K).toAffine(),X=a.create(J.x);if(X===Df)return;let te=a.create(W*a.create(G+X*B));if(te===Df)return;let re=(J.x===X?0:2)|Number(J.y&T0),le=te;return v&&_(te)&&(le=a.neg(te),re^=1),new R(X,le,re)}return{seed:L,k2sig:H}}function O(m,y,E={}){m=Oo("message",m);let{seed:v,k2sig:x}=k(m,y,E);return JGe(e.outputLen,a.BYTES,i)(v,x)}function w(m){let y,E=typeof m=="string"||Pa(m),v=!E&&m!==null&&typeof m=="object"&&typeof m.r=="bigint"&&typeof m.s=="bigint";if(!E&&!v)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(v)y=new R(m.r,m.s);else if(E){try{y=R.fromBytes(Oo("sig",m),"der")}catch(x){if(!(x instanceof jh.Err))throw x}if(!y)try{y=R.fromBytes(Oo("sig",m),"compact")}catch{return!1}}return y||!1}function S(m,y,E,v={}){let{lowS:x,prehash:g,format:P}=fle(v,h);if(E=Oo("publicKey",E),y=N(Oo("message",y),g),"strict"in v)throw new Error("options.strict was renamed to lowS");let B=P===void 0?w(m):R.fromBytes(Oo("sig",m),P);if(B===!1)return!1;try{let I=t.fromBytes(E);if(x&&B.hasHighS())return!1;let{r:L,s:G}=B,H=U(y),$=a.inv(G),K=a.create(H*$),W=a.create(L*$),J=t.BASE.multiplyUnsafe(K).add(I.multiplyUnsafe(W));return J.is0()?!1:a.create(J.x)===L}catch{return!1}}function T(m,y,E={}){let{prehash:v}=fle(E,h);return y=N(y,v),R.fromBytes(m,"recovered").recoverPublicKey(y).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:f,lengths:p,Point:t,sign:O,verify:S,recoverPublicKey:T,Signature:R,hash:e})}function DFt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0,i=dy(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),o={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function LFt(t){let{CURVE:e,curveOpts:r}=DFt(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function UFt(t,e){let r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,PG(r.Fn.ORDER,r.Fn.BITS))})}function Eje(t){let{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=LFt(t),o=NFt(e,r),a=BFt(o,n,i);return UFt(t,a)}var yje,hle,jh,Df,T0,mp,QE,mle,ble=D(()=>{EO();Na();YE();bje();MR();yje=(t,e)=>(t+(t>=0?e:-e)/mp)/e;hle=class extends Error{constructor(e=""){super(e)}},jh={Err:hle,_tlv:{encode:(t,e)=>{let{Err:r}=jh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=NR(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?NR(i.length/2|128):"";return NR(t)+o+i+e},decode(t,e){let{Err:r}=jh,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],o=!!(i&128),a=0;if(!o)a=i;else{let c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)a=a<<8|u;if(n+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}let s=e.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=jh;if(t<Df)throw new e("integer: negative integers are not allowed");let r=NR(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=jh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Bf(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=jh,i=Oo("signature",t),{v:o,l:a}=n.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");let{v:s,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=jh,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),o=n+i;return e.encode(48,o)}},Df=BigInt(0),T0=BigInt(1),mp=BigInt(2),QE=BigInt(3),mle=BigInt(4)});function xje(t,e){let r=n=>Eje({...t,hash:n});return{...r(e),create:r}}var Aje=D(()=>{ble();});function py(t,e){if(DR(t),DR(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function HFt(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function DR(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Tje(t){if(!Pa(t)&&typeof t!="string")throw new Error("DST must be Uint8Array or string");return typeof t=="string"?bu(t):t}function zFt(t,e,r,n){fi(t),DR(r),e=Tje(e),e.length>255&&(e=n(Wr(bu("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");let s=Wr(e,py(e.length,1)),c=py(0,o),l=py(r,2),u=new Array(a),d=n(Wr(c,t,l,py(0,1),s));u[0]=n(Wr(d,py(1,1),s));for(let p=1;p<=a;p++){let h=[HFt(d,u[p-1]),py(p+1,1),s];u[p]=n(Wr(...h))}return Wr(...u).slice(0,r)}function GFt(t,e,r,n,i){if(fi(t),DR(r),e=Tje(e),e.length>255){let o=Math.ceil(2*n/8);e=i.create({dkLen:o}).update(bu("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(py(r,2)).update(e).update(py(e.length,1)).digest()}function yle(t,e,r){J8(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:n,k:i,m:o,hash:a,expand:s,DST:c}=r;if(!QGe(r.hash))throw new Error("expected valid hash");fi(t),DR(e);let l=n.toString(2).length,u=Math.ceil((l+i)/8),d=e*o*u,f;if(s==="xmd")f=zFt(t,c,d,a);else if(s==="xof")f=GFt(t,c,d,i,a);else if(s==="_internal_pass")f=t;else throw new Error('expand must be "xmd" or "xof"');let p=new Array(e);for(let h=0;h<e;h++){let b=new Array(o);for(let _=0;_<o;_++){let A=u*(_+h*o),C=f.subarray(A,A+u);b[_]=nc(FFt(C),n)}p[h]=b}return p}function _je(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[o,a,s,c]=r.map(d=>d.reduce((f,p)=>t.add(t.mul(f,n),p))),[l,u]=Z8(t,[a,c],!0);return n=t.mul(o,l),i=t.mul(i,t.mul(s,u)),{x:n,y:i}}}function Sje(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function n(o){return t.fromAffine(e(o))}function i(o){let a=o.clearCofactor();return a.equals(t.ZERO)?t.ZERO:(a.assertValidity(),a)}return{defaults:r,hashToCurve(o,a){let s=Object.assign({},r,a),c=yle(o,2,s),l=n(c[0]),u=n(c[1]);return i(l.add(u))},encodeToCurve(o,a){let s=r.encodeDST?{DST:r.encodeDST}:{},c=Object.assign({},r,s,a),l=yle(o,1,c),u=n(l[0]);return i(u)},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(let a of o)if(typeof a!="bigint")throw new Error("expected array of bigints");return i(n(o))},hashToScalar(o,a){let s=t.Fn.ORDER,c=Object.assign({},r,{p:s,m:1,DST:jFt},a);return yle(o,1,c)[0][0]}}}var FFt,jFt,Ije=D(()=>{YE();MR();FFt=Bf;jFt=bu("HashToScalar-")});var Mje={};lr(Mje,{encodeToCurve:()=>ZFt,hashToCurve:()=>QFt,schnorr:()=>WFt,secp256k1:()=>XE,secp256k1_hasher:()=>xle});function KFt(t){let e=ZE.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=ru(u,r,e)*u%e,f=ru(d,r,e)*u%e,p=ru(f,gle,e)*l%e,h=ru(p,i,e)*p%e,b=ru(h,o,e)*h%e,_=ru(b,s,e)*b%e,A=ru(_,c,e)*_%e,C=ru(A,s,e)*b%e,R=ru(C,r,e)*u%e,M=ru(R,a,e)*h%e,U=ru(M,n,e)*l%e,F=ru(U,gle,e);if(!$h.eql($h.sqr(F),t))throw new Error("Cannot find square root");return F}function MG(t,...e){let r=Rje[t];if(r===void 0){let n=pc(bu(t));r=Wr(n,n),Rje[t]=r}return pc(Wr(r,...e))}function wle(t){let{Fn:e,BASE:r}=ex,n=fy(e,t),i=r.multiply(n);return{scalar:Ele(i.y)?n:e.neg(n),bytes:vle(i)}}function Oje(t){let e=$h;if(!e.isValidNot0(t))throw new Error("invalid x: Fail if x \u2265 p");let r=e.create(t*t),n=e.create(r*t+BigInt(7)),i=e.sqrt(n);Ele(i)||(i=e.neg(i));let o=ex.fromAffine({x:t,y:i});return o.assertValidity(),o}function Nje(...t){return ex.Fn.create(LR(MG("BIP0340/challenge",...t)))}function Pje(t){return wle(t).bytes}function qFt(t,e,r=Oa(32)){let{Fn:n}=ex,i=Oo("message",t),{bytes:o,scalar:a}=wle(e),s=Oo("auxRand",r,32),c=n.toBytes(a^LR(MG("BIP0340/aux",s))),l=MG("BIP0340/nonce",c,o,i),{bytes:u,scalar:d}=wle(l),f=Nje(u,o,i),p=new Uint8Array(64);if(p.set(u,0),p.set(n.toBytes(n.create(d+f*a)),32),!kje(p,i,o))throw new Error("sign: Invalid signature produced");return p}function kje(t,e,r){let{Fn:n,BASE:i}=ex,o=Oo("signature",t,64),a=Oo("message",e),s=Oo("publicKey",r,32);try{let c=Oje(LR(s)),l=LR(o.subarray(0,32));if(!kR(l,Cje,ZE.p))return!1;let u=LR(o.subarray(32,64));if(!kR(u,Cje,ZE.n))return!1;let d=Nje(n.toBytes(l),vle(c),a),f=i.multiplyUnsafe(u).add(c.multiplyUnsafe(n.neg(d))),{x:p,y:h}=f.toAffine();return!(f.is0()||!Ele(h)||p!==l)}catch{return!1}}var ZE,$Ft,VFt,Cje,gle,$h,XE,Rje,vle,ex,Ele,LR,WFt,YFt,JFt,xle,QFt,ZFt,Ale=D(()=>{Z3();Na();Aje();Ije();MR();ble();YE();ZE={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},$Ft={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},VFt=BigInt(0),Cje=BigInt(1),gle=BigInt(2);$h=dy(ZE.p,{sqrt:KFt}),XE=xje({...ZE,Fp:$h,lowS:!0,endo:$Ft},pc),Rje={};vle=t=>t.toBytes(!0).slice(1),ex=XE.Point,Ele=t=>t%gle===VFt;LR=Bf;WFt=(()=>{let r=(i=Oa(48))=>OG(i,ZE.n);XE.utils.randomSecretKey;function n(i){let o=r(i);return{secretKey:o,publicKey:Pje(o)}}return{keygen:n,getPublicKey:Pje,sign:qFt,verify:kje,Point:ex,utils:{randomSecretKey:r,randomPrivateKey:r,taggedHash:MG,lift_x:Oje,pointToBytes:vle,numberToBytesBE:WE,bytesToNumberBE:Bf,mod:nc},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:64,seed:48}}})(),YFt=_je($h,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),JFt=wje($h,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:$h.create(BigInt("-11"))}),xle=Sje(XE.Point,t=>{let{x:e,y:r}=JFt($h.create(t[0]));return YFt(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:$h.ORDER,m:1,k:128,expand:"xmd",hash:pc}),QFt=xle.hashToCurve,ZFt=xle.encodeToCurve});async function Dje({hash:t,signature:e}){let r=Yo(t)?t:gr(t),{secp256k1:n}=await Promise.resolve().then(()=>(Ale(),Mje));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){let{r:l,s:u,v:d,yParity:f}=e,p=Number(f??d),h=Bje(p);return new n.Signature(Rn(l),Rn(u)).addRecoveryBit(h)}let a=Yo(e)?e:gr(e);if(rn(a)!==65)throw new Error("invalid signature length");let s=Po(`0x${a.slice(130)}`),c=Bje(s);return n.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function Bje(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}var Lje=D(()=>{Pf();cd();Aa();ar()});async function BG({hash:t,signature:e}){return KGe(await Dje({hash:t,signature:e}))}var Tle=D(()=>{qGe();Lje()});function DG(t,e="hex"){let r=Uje(t),n=vE(new Uint8Array(r.length));return r.encode(n),e==="hex"?Pn(n.bytes):n.bytes}function Uje(t){return Array.isArray(t)?XFt(t.map(e=>Uje(e))):eHt(t)}function XFt(t){let e=t.reduce((i,o)=>i+o.length,0),r=Fje(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(let{encode:o}of t)o(i)}}}function eHt(t){let e=typeof t=="string"?sa(t):t,r=Fje(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function Fje(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ue("Length is too large.")}var _le=D(()=>{Pr();pG();ca();ar()});function Hje(t){let{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,o=Bt(jn(["0x05",DG([e?De(e):"0x",i,r?De(r):"0x"])]));return n==="bytes"?sa(o):o}var zje=D(()=>{Ta();ca();ar();_le();Zc()});async function LG(t){let{authorization:e,signature:r}=t;return BG({hash:Hje(e),signature:r??e})}var Sle=D(()=>{Tle();zje()});var UG,Gje=D(()=>{gG();j8();Pr();fp();UG=class extends ue{constructor(e,{account:r,docsPath:n,chain:i,data:o,gas:a,gasPrice:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){let p=Fh({from:r?.address,to:d,value:typeof f<"u"&&`${TE(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:a,gasPrice:typeof s<"u"&&`${lo(s)} gwei`,maxFeePerGas:typeof c<"u"&&`${lo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${lo(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}});var Vh,hy,tx,rx,nx,ix,ox,ax,sx,cx,my,hd,e3=D(()=>{j8();Pr();Vh=class extends ue{constructor({cause:e,message:r}={}){let n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}};Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Vh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});hy=class extends ue{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${lo(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}};Object.defineProperty(hy,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});tx=class extends ue{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${lo(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}};Object.defineProperty(tx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});rx=class extends ue{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}};Object.defineProperty(rx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});nx=class extends ue{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}};Object.defineProperty(nx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});ix=class extends ue{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}};Object.defineProperty(ix,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});ox=class extends ue{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(ox,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});ax=class extends ue{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(ax,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});sx=class extends ue{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(sx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});cx=class extends ue{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(cx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});my=class extends ue{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${lo(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${lo(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}};Object.defineProperty(my,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});hd=class extends ue{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}});function by(t,e){let r=(t.details||"").toLowerCase(),n=t instanceof ue?t.walk(i=>i?.code===Vh.code):t;return n instanceof ue?new Vh({cause:t,message:n.details}):Vh.nodeMessage.test(r)?new Vh({cause:t,message:t.details}):hy.nodeMessage.test(r)?new hy({cause:t,maxFeePerGas:e?.maxFeePerGas}):tx.nodeMessage.test(r)?new tx({cause:t,maxFeePerGas:e?.maxFeePerGas}):rx.nodeMessage.test(r)?new rx({cause:t,nonce:e?.nonce}):nx.nodeMessage.test(r)?new nx({cause:t,nonce:e?.nonce}):ix.nodeMessage.test(r)?new ix({cause:t,nonce:e?.nonce}):ox.nodeMessage.test(r)?new ox({cause:t}):ax.nodeMessage.test(r)?new ax({cause:t,gas:e?.gas}):sx.nodeMessage.test(r)?new sx({cause:t,gas:e?.gas}):cx.nodeMessage.test(r)?new cx({cause:t}):my.nodeMessage.test(r)?new my({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new hd({cause:t})}var UR=D(()=>{Pr();e3()});function jje(t,{docsPath:e,...r}){let n=(()=>{let i=by(t,r);return i instanceof hd?t:i})();return new UG(n,{docsPath:e,...r})}var $je=D(()=>{Gje();e3();UR()});function yy(t,{format:e}){if(!e)return{};let r={};function n(o){let a=Object.keys(o);for(let s of a)s in t&&(r[s]=t[s]),o[s]&&typeof o[s]=="object"&&!Array.isArray(o[s])&&n(o[s])}let i=e(t||{});return n(i),r}var FR=D(()=>{});function md(t){let e={};return typeof t.authorizationList<"u"&&(e.authorizationList=rHt(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>Pn(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=De(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=De(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=De(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=De(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=De(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=De(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=tHt[t.type]),typeof t.value<"u"&&(e.value=De(t.value)),e}function rHt(t){return t.map(e=>({address:e.address,r:e.r?De(BigInt(e.r)):e.r,s:e.s?De(BigInt(e.s)):e.s,chainId:De(e.chainId),nonce:De(e.nonce),...typeof e.yParity<"u"?{yParity:De(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:De(e.v)}:{}}))}var tHt,t3=D(()=>{ar();tHt={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"}});function Vje(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new TR({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new TR({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function nHt(t){let{balance:e,nonce:r,state:n,stateDiff:i,code:o}=t,a={};if(o!==void 0&&(a.code=o),e!==void 0&&(a.balance=De(e)),r!==void 0&&(a.nonce=De(r)),n!==void 0&&(a.state=Vje(n)),i!==void 0){if(a.state)throw new vG;a.stateDiff=Vje(i)}return a}function gy(t){if(!t)return;let e={};for(let{address:r,...n}of t){if(!Hi(r,{strict:!1}))throw new Jo({address:r});if(e[r])throw new wG({address:r});e[r]=nHt(n)}return e}var HR=D(()=>{Lh();Xz();ele();Mf();ar()});var iHt,oHt,aHt,sHt,cHt,lHt,uHt,dHt,fHt,pHt,hHt,mHt,bHt,yHt,gHt,wHt,vHt,EHt,xHt,AHt,THt,_Ht,SHt,IHt,CHt,RHt,PHt,OHt,NHt,kHt,MHt,BHt,DHt,LHt,UHt,FHt,HHt,zHt,GHt,jHt,$Ht,VHt,KHt,qHt,WHt,YHt,JHt,QHt,ZHt,XHt,ezt,tzt,rzt,nzt,izt,ozt,azt,szt,czt,lzt,uzt,dzt,fzt,pzt,hzt,Ile,mzt,bzt,yzt,gzt,wzt,vzt,Ezt,xzt,Azt,Tzt,_zt,Szt,Izt,Czt,Rzt,Pzt,Ozt,Nzt,kzt,Mzt,Bzt,Dzt,Lzt,Uzt,Fzt,Hzt,zzt,Gzt,jzt,Cle,Rle=D(()=>{iHt=2n**(8n-1n)-1n,oHt=2n**(16n-1n)-1n,aHt=2n**(24n-1n)-1n,sHt=2n**(32n-1n)-1n,cHt=2n**(40n-1n)-1n,lHt=2n**(48n-1n)-1n,uHt=2n**(56n-1n)-1n,dHt=2n**(64n-1n)-1n,fHt=2n**(72n-1n)-1n,pHt=2n**(80n-1n)-1n,hHt=2n**(88n-1n)-1n,mHt=2n**(96n-1n)-1n,bHt=2n**(104n-1n)-1n,yHt=2n**(112n-1n)-1n,gHt=2n**(120n-1n)-1n,wHt=2n**(128n-1n)-1n,vHt=2n**(136n-1n)-1n,EHt=2n**(144n-1n)-1n,xHt=2n**(152n-1n)-1n,AHt=2n**(160n-1n)-1n,THt=2n**(168n-1n)-1n,_Ht=2n**(176n-1n)-1n,SHt=2n**(184n-1n)-1n,IHt=2n**(192n-1n)-1n,CHt=2n**(200n-1n)-1n,RHt=2n**(208n-1n)-1n,PHt=2n**(216n-1n)-1n,OHt=2n**(224n-1n)-1n,NHt=2n**(232n-1n)-1n,kHt=2n**(240n-1n)-1n,MHt=2n**(248n-1n)-1n,BHt=2n**(256n-1n)-1n,DHt=-(2n**(8n-1n)),LHt=-(2n**(16n-1n)),UHt=-(2n**(24n-1n)),FHt=-(2n**(32n-1n)),HHt=-(2n**(40n-1n)),zHt=-(2n**(48n-1n)),GHt=-(2n**(56n-1n)),jHt=-(2n**(64n-1n)),$Ht=-(2n**(72n-1n)),VHt=-(2n**(80n-1n)),KHt=-(2n**(88n-1n)),qHt=-(2n**(96n-1n)),WHt=-(2n**(104n-1n)),YHt=-(2n**(112n-1n)),JHt=-(2n**(120n-1n)),QHt=-(2n**(128n-1n)),ZHt=-(2n**(136n-1n)),XHt=-(2n**(144n-1n)),ezt=-(2n**(152n-1n)),tzt=-(2n**(160n-1n)),rzt=-(2n**(168n-1n)),nzt=-(2n**(176n-1n)),izt=-(2n**(184n-1n)),ozt=-(2n**(192n-1n)),azt=-(2n**(200n-1n)),szt=-(2n**(208n-1n)),czt=-(2n**(216n-1n)),lzt=-(2n**(224n-1n)),uzt=-(2n**(232n-1n)),dzt=-(2n**(240n-1n)),fzt=-(2n**(248n-1n)),pzt=-(2n**(256n-1n)),hzt=2n**8n-1n,Ile=2n**16n-1n,mzt=2n**24n-1n,bzt=2n**32n-1n,yzt=2n**40n-1n,gzt=2n**48n-1n,wzt=2n**56n-1n,vzt=2n**64n-1n,Ezt=2n**72n-1n,xzt=2n**80n-1n,Azt=2n**88n-1n,Tzt=2n**96n-1n,_zt=2n**104n-1n,Szt=2n**112n-1n,Izt=2n**120n-1n,Czt=2n**128n-1n,Rzt=2n**136n-1n,Pzt=2n**144n-1n,Ozt=2n**152n-1n,Nzt=2n**160n-1n,kzt=2n**168n-1n,Mzt=2n**176n-1n,Bzt=2n**184n-1n,Dzt=2n**192n-1n,Lzt=2n**200n-1n,Uzt=2n**208n-1n,Fzt=2n**216n-1n,Hzt=2n**224n-1n,zzt=2n**232n-1n,Gzt=2n**240n-1n,jzt=2n**248n-1n,Cle=2n**256n-1n});function el(t){let{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:o}=t,a=e?Ar(e):void 0;if(a&&!Hi(a.address))throw new Jo({address:a.address});if(o&&!Hi(o))throw new Jo({address:o});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new EG;if(n&&n>Cle)throw new hy({maxFeePerGas:n});if(i&&n&&i>n)throw new my({maxFeePerGas:n,maxPriorityFeePerGas:i})}var wy=D(()=>{Ji();Rle();Lh();e3();fp();Mf()});var FG,vy,HG,zG=D(()=>{j8();Pr();FG=class extends ue{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},vy=class extends ue{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},HG=class extends ue{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${lo(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}});var lx,Ple=D(()=>{Pr();lx=class extends ue{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}});function GG(t){let e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Po(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Po(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Ole[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=$zt(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function $zt(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}var Ole,jG=D(()=>{Aa();Ole={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"}});function $G(t){let e=(t.transactions??[]).map(r=>typeof r=="string"?r:GG(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}var Nle=D(()=>{jG()});async function _0(t,{blockHash:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",includeTransactions:i}={}){let o=i??!1,a=r!==void 0?De(r):void 0,s=null;if(e?s=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):s=await t.request({method:"eth_getBlockByNumber",params:[a||n,o]},{dedupe:!!a}),!s)throw new lx({blockHash:e,blockNumber:r});return(t.chain?.formatters?.block?.format||$G)(s)}var r3=D(()=>{Ple();ar();Nle()});async function ux(t){let e=await t.request({method:"eth_gasPrice"});return BigInt(e)}var VG=D(()=>{});async function Kje(t,e){return kle(t,e)}async function kle(t,e){let{block:r,chain:n=t.chain,request:i}=e||{};try{let o=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if(typeof o=="function"){let s=r||await Fe(t,_0,"getBlock")({}),c=await o({block:s,client:t,request:i});if(c===null)throw new Error;return c}if(typeof o<"u")return o;let a=await t.request({method:"eth_maxPriorityFeePerGas"});return Rn(a)}catch{let[o,a]=await Promise.all([r?Promise.resolve(r):Fe(t,_0,"getBlock")({}),Fe(t,ux,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new vy;let s=a-o.baseFeePerGas;return s<0n?0n:s}}var Mle=D(()=>{zG();Aa();Cn();r3();VG()});async function KG(t,e){return qG(t,e)}async function qG(t,e){let{block:r,chain:n=t.chain,request:i,type:o="eip1559"}=e||{},a=await(async()=>typeof n?.fees?.baseFeeMultiplier=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new FG;let c=10**(a.toString().split(".")[1]?.length??0),l=f=>f*BigInt(Math.ceil(a*c))/BigInt(c),u=r||await Fe(t,_0,"getBlock")({});if(typeof n?.fees?.estimateFeesPerGas=="function"){let f=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:l,request:i,type:o});if(f!==null)return f}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new vy;let f=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await kle(t,{block:u,chain:n,request:i}),p=l(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??p+f,maxPriorityFeePerGas:f}}return{gasPrice:i?.gasPrice??l(await Fe(t,ux,"getGasPrice")({}))}}var WG=D(()=>{zG();Cn();Mle();r3();VG()});async function Ey(t,{address:e,blockTag:r="latest",blockNumber:n}){let i=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?De(n):r]},{dedupe:!!n});return Po(i)}var zR=D(()=>{Aa();ar()});function YG(t){let{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>sa(o)):t.blobs,i=[];for(let o of n)i.push(Uint8Array.from(e.blobToKzgCommitment(o)));return r==="bytes"?i:i.map(o=>Pn(o))}var Ble=D(()=>{ca();ar()});function JG(t){let{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(a=>sa(a)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(a=>sa(a)):t.commitments,o=[];for(let a=0;a<n.length;a++){let s=n[a],c=i[a];o.push(Uint8Array.from(e.computeBlobKzgProof(s,c)))}return r==="bytes"?o:o.map(a=>Pn(a))}var Dle=D(()=>{ca();ar()});function qje(t,e){let r=e||"hex",n=sS(Yo(t,{strict:!1})?ti(t):t);return r==="bytes"?n:gr(n)}var Wje=D(()=>{Dte();Pf();ca();ar()});function Yje(t){let{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=qje(e,"bytes");return i.set([r],0),n==="bytes"?i:Pn(i)}var Jje=D(()=>{ar();Wje()});function Qje(t){let{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(let o of e)i.push(Yje({commitment:o,to:n,version:r}));return i}var Zje=D(()=>{Jje()});var QG,ZG,Xje=D(()=>{Pr();QG=class extends ue{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}},ZG=class extends ue{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}});function e$e(t){let e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?sa(t.data):t.data,n=rn(r);if(!n)throw new ZG;if(n>761855)throw new QG({maxSize:761855,size:n});let i=[],o=!0,a=0;for(;o;){let s=vE(new Uint8Array(131072)),c=0;for(;c<4096;){let l=r.slice(a,a+31);if(s.pushByte(0),s.pushBytes(l),l.length<31){s.pushByte(128),o=!1;break}c++,a+=31}i.push(s)}return e==="bytes"?i.map(s=>s.bytes):i.map(s=>Pn(s.bytes))}var t$e=D(()=>{Xje();pG();cd();ca();ar()});function r$e(t){let{data:e,kzg:r,to:n}=t,i=t.blobs??e$e({data:e,to:n}),o=t.commitments??YG({blobs:i,kzg:r,to:n}),a=t.proofs??JG({blobs:i,commitments:o,kzg:r,to:n}),s=[];for(let c=0;c<i.length;c++)s.push({blob:i[c],commitment:o[c],proof:a[c]});return s}var n$e=D(()=>{Ble();Dle();t$e()});function i$e(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new xG({transaction:t})}var o$e=D(()=>{fp()});async function zi(t){let e=await t.request({method:"eth_chainId"},{dedupe:!0});return Po(e)}var bp=D(()=>{Aa()});async function xy(t,e){let{account:r=t.account,blobs:n,chain:i,gas:o,kzg:a,nonce:s,nonceManager:c,parameters:l=Lle,type:u}=e,d=r&&Ar(r),f={...e,...d?{from:d?.address}:{}},p;async function h(){return p||(p=await Fe(t,_0,"getBlock")({blockTag:"latest"}),p)}let b;async function _(){return b||(i?i.id:typeof e.chainId<"u"?e.chainId:(b=await Fe(t,zi,"getChainId")({}),b))}if(l.includes("nonce")&&typeof s>"u"&&d)if(c){let A=await _();f.nonce=await c.consume({address:d.address,chainId:A,client:t})}else f.nonce=await Fe(t,Ey,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&n&&a){let A=YG({blobs:n,kzg:a});if(l.includes("blobVersionedHashes")){let C=Qje({commitments:A,to:"hex"});f.blobVersionedHashes=C}if(l.includes("sidecars")){let C=JG({blobs:n,commitments:A,kzg:a}),R=r$e({blobs:n,commitments:A,proofs:C,to:"hex"});f.sidecars=R}}if(l.includes("chainId")&&(f.chainId=await _()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{f.type=i$e(f)}catch{let A=a$e.get(t.uid);typeof A>"u"&&(A=typeof(await h())?.baseFeePerGas=="bigint",a$e.set(t.uid,A)),f.type=A?"eip1559":"legacy"}if(l.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){let A=await h(),{maxFeePerGas:C,maxPriorityFeePerGas:R}=await qG(t,{block:A,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<R)throw new HG({maxPriorityFeePerGas:R});f.maxPriorityFeePerGas=R,f.maxFeePerGas=C}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new vy;if(typeof e.gasPrice>"u"){let A=await h(),{gasPrice:C}=await qG(t,{block:A,chain:i,request:f,type:"legacy"});f.gasPrice=C}}return l.includes("gas")&&typeof o>"u"&&(f.gas=await Fe(t,dx,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),el(f),delete f.parameters,f}var Lle,a$e,GR=D(()=>{Ji();WG();XG();r3();zR();zG();Ble();Dle();Zje();n$e();Cn();wy();o$e();bp();Lle=["blobVersionedHashes","chainId","fees","gas","nonce","type"],a$e=new Map});async function ej(t,{address:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest"}){let i=typeof r=="bigint"?De(r):void 0,o=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(o)}var Ule=D(()=>{ar()});async function dx(t,e){let{account:r=t.account}=e,n=r?Ar(r):void 0;try{let w=function(T){let{block:m,request:y,rpcStateOverride:E}=T;return t.request({method:"eth_estimateGas",params:E?[y,m??t.experimental_blockTag??"latest",E]:m?[y,m]:[y]})},{accessList:i,authorizationList:o,blobs:a,blobVersionedHashes:s,blockNumber:c,blockTag:l,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:_,value:A,stateOverride:C,...R}=await xy(t,{...e,parameters:n?.type==="local"?void 0:["blobVersionedHashes"]}),U=(typeof c=="bigint"?De(c):void 0)||l,F=gy(C),z=await(async()=>{if(R.to)return R.to;if(o&&o.length>0)return await LG({authorization:o[0]}).catch(()=>{throw new ue("`to` is required. Could not infer from `authorizationList`")})})();el(e);let N=t.chain?.formatters?.transactionRequest?.format,O=(N||md)({...yy(R,{format:N}),from:n?.address,accessList:i,authorizationList:o,blobs:a,blobVersionedHashes:s,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:_,to:z,value:A}),S=BigInt(await w({block:U,request:O,rpcStateOverride:F}));if(o){let T=await ej(t,{address:O.from}),m=await Promise.all(o.map(async y=>{let{address:E}=y,v=await w({block:U,request:{authorizationList:void 0,data:u,from:n?.address,to:E,value:De(T)},rpcStateOverride:F}).catch(()=>100000n);return 2n*BigInt(v)}));S+=m.reduce((y,E)=>y+E,0n)}return S}catch(i){throw jje(i,{...e,account:n,chain:t.chain})}}var XG=D(()=>{Ji();Pr();Sle();ar();$je();FR();t3();HR();wy();GR();Ule()});async function s$e(t,e){let{abi:r,address:n,args:i,functionName:o,dataSuffix:a,...s}=e,c=Re({abi:r,args:i,functionName:o});try{return await Fe(t,dx,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:n,...s})}catch(l){let u=s.account?Ar(s.account):void 0;throw tu(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u?.address})}}var c$e=D(()=>{Ji();tc();Y8();Cn();XG()});function yp(t,e){if(!Hi(t,{strict:!1}))throw new Jo({address:t});if(!Hi(e,{strict:!1}))throw new Jo({address:e});return t.toLowerCase()===e.toLowerCase()}var fx=D(()=>{Lh();Mf()});function px(t){let{abi:e,data:r,strict:n,topics:i}=t,o=n??!0,[a,...s]=i;if(!a)throw new Kz({docsPath:l$e});let c=e.find(b=>b.type==="event"&&a===ry(xa(b)));if(!(c&&"name"in c)||c.type!=="event")throw new lE(a,{docsPath:l$e});let{name:l,inputs:u}=c,d=u?.some(b=>!("name"in b&&b.name)),f=d?[]:{},p=u.map((b,_)=>[b,_]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<p.length;b++){let[_,A]=p[b],C=s[b];if(!C)throw new ap({abiItem:c,param:_});f[d?A:_.name||A]=Kzt({param:_,value:C})}let h=u.filter(b=>!("indexed"in b&&b.indexed));if(h.length>0){if(r&&r!=="0x")try{let b=Is(h,r);if(b)if(d)for(let _=0;_<u.length;_++)f[_]=f[_]??b.shift();else for(let _=0;_<h.length;_++)f[h[_].name]=b[_]}catch(b){if(o)throw b instanceof aE||b instanceof wE?new Nf({abiItem:c,data:r,params:h,size:rn(r)}):b}else if(o)throw new Nf({abiItem:c,data:"0x",params:h,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function Kzt({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Is([t],e)||[])[0]}var l$e,tj=D(()=>{co();cd();SR();Jce();xE();Mh();l$e="/docs/contract/decodeEventLog"});function hx(t){let{abi:e,args:r,logs:n,strict:i=!0}=t,o=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(a=>{try{let s=e.find(l=>l.type==="event"&&a.topics[0]===ry(l));if(!s)return null;let c=px({...a,abi:[s],strict:i});return o&&!o.includes(c.eventName)||!qzt({args:c.args,inputs:s.inputs,matchArgs:r})?null:{...c,...a}}catch(s){let c,l;if(s instanceof lE)return null;if(s instanceof Nf||s instanceof ap){if(i)return null;c=s.abiItem.name,l=s.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...a,args:l?[]:{},eventName:c}}}).filter(Boolean)}function qzt(t){let{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(o,a,s){try{return o.type==="address"?yp(a,s):o.type==="string"||o.type==="bytes"?Bt(ti(a))===s:a===s}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((o,a)=>{if(o==null)return!0;let s=r[a];return s?(Array.isArray(o)?o:[o]).some(l=>i(s,l,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([o,a])=>{if(a==null)return!0;let s=r.find(l=>l.name===o);return s?(Array.isArray(a)?a:[a]).some(l=>i(s,l,e[o])):!1}):!1}var rj=D(()=>{co();fx();ca();Zc();SR();tj()});function Za(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}var Kh=D(()=>{});async function mx(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:o,events:a,args:s,strict:c}={}){let l=c??!1,u=a??(o?[o]:void 0),d=[];u&&(d=[u.flatMap(b=>up({abi:[b],eventName:b.name,args:a?void 0:s}))],o&&(d=d[0]));let f;r?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:r}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof n=="bigint"?De(n):n,toBlock:typeof i=="bigint"?De(i):i}]});let p=f.map(h=>Za(h));return u?hx({abi:u,args:s,logs:p,strict:l}):p}var nj=D(()=>{gE();rj();ar();Kh()});async function ij(t,e){let{abi:r,address:n,args:i,blockHash:o,eventName:a,fromBlock:s,toBlock:c,strict:l}=e,u=a?Xc({abi:r,name:a}):void 0,d=u?void 0:r.filter(f=>f.type==="event");return Fe(t,mx,"getLogs")({address:n,args:i,blockHash:o,event:u,events:d,fromBlock:s,toBlock:c,strict:l})}var Fle=D(()=>{ny();Cn();nj()});function oc(t){let{abi:e,args:r,functionName:n,data:i}=t,o=e[0];if(n){let s=Xc({abi:e,args:r,name:n});if(!s)throw new Of(n,{docsPath:Hle});o=s}if(o.type!=="function")throw new Of(void 0,{docsPath:Hle});if(!o.outputs)throw new uE(o.name,{docsPath:Hle});let a=Is(o.outputs,i);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}var Hle,Ay=D(()=>{co();xE();ny();Hle="/docs/contract/decodeFunctionResult"});var u$e,d$e=D(()=>{Og();u$e=UD});var f$e,p$e=D(()=>{f$e="0.1.1"});function h$e(){return f$e}var m$e=D(()=>{p$e()});function b$e(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?b$e(t.cause,e):e?null:t}var Tr,Lf=D(()=>{m$e();Tr=class t extends Error{constructor(e,r={}){let n=(()=>{if(r.cause instanceof t){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),i=r.cause instanceof t&&r.cause.docsPath||r.docsPath,a=`https://oxlib.sh${i??""}`,s=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${a}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(s,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${h$e()}`}),this.cause=r.cause,this.details=n,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return b$e(this,e)}}});function Ty(t,e,r){return JSON.stringify(t,(n,i)=>typeof e=="function"?e(n,i):typeof i=="bigint"?i.toString()+Wzt:i,r)}var Wzt,bx=D(()=>{Wzt="#__bigint"});function $R(t,e){if(zle(t)>e)throw new oj({givenSize:zle(t),maxSize:e})}function Gle(t){if(t>=qh.zero&&t<=qh.nine)return t-qh.zero;if(t>=qh.A&&t<=qh.F)return t-(qh.A-10);if(t>=qh.a&&t<=qh.f)return t-(qh.a-10)}function y$e(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new aj({size:t.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let o=0;o<n;o++){let a=r==="right";i[a?o:n-o-1]=t[a?o:t.length-o-1]}return i}function g$e(t,e={}){let{dir:r="left"}=e,n=t,i=0;for(let o=0;o<n.length-1&&n[r==="left"?o:n.length-o-1].toString()==="0";o++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n}var qh,jle=D(()=>{Wh();qh={zero:48,nine:57,A:65,F:70,a:97,f:102}});function n3(t,e){if(uo(t)>e)throw new VR({givenSize:uo(t),maxSize:e})}function v$e(t,e){if(typeof e=="number"&&e>0&&e>uo(t)-1)throw new yx({offset:e,position:"start",size:uo(t)})}function E$e(t,e,r){if(typeof e=="number"&&typeof r=="number"&&uo(t)!==r-e)throw new yx({offset:r,position:"end",size:uo(t)})}function $le(t,e={}){let{dir:r,size:n=32}=e;if(n===0)return t;let i=t.replace("0x","");if(i.length>n*2)throw new KR({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}function Vle(t,e={}){let{dir:r="left"}=e,n=t.replace("0x",""),i=0;for(let o=0;o<n.length-1&&n[r==="left"?o:n.length-o-1].toString()==="0";o++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n==="0"?"0x":r==="right"&&n.length%2===1?`0x${n}0`:`0x${n}`}var Kle=D(()=>{ac()});function Qzt(t){if(!(t instanceof Uint8Array)){if(!t)throw new gx(t);if(typeof t!="object")throw new gx(t);if(!("BYTES_PER_ELEMENT"in t))throw new gx(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new gx(t)}}function A$e(t){return t instanceof Uint8Array?t:typeof t=="string"?bd(t):Zzt(t)}function Zzt(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function bd(t,e={}){let{size:r}=e,n=t;r&&(n3(t,r),n=Uf(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let o=i.length/2,a=new Uint8Array(o);for(let s=0,c=0;s<o;s++){let l=Gle(i.charCodeAt(c++)),u=Gle(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new Tr(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);a[s]=l*16+u}return a}function sj(t,e={}){let{size:r}=e,n=Jzt.encode(t);return typeof r=="number"?($R(n,r),Xzt(n,r)):n}function Xzt(t,e){return y$e(t,{dir:"right",size:e})}function T$e(t){return crypto.getRandomValues(new Uint8Array(t))}function zle(t){return t.length}function _$e(t,e={}){let{size:r}=e,n=t;return typeof r<"u"&&($R(n,r),n=qle(n)),Yzt.decode(n)}function qle(t){return g$e(t,{dir:"right"})}function S$e(t){try{return Qzt(t),!0}catch{return!1}}var Yzt,Jzt,gx,oj,aj,Wh=D(()=>{Lf();ac();bx();jle();Kle();Yzt=new TextDecoder,Jzt=new TextEncoder;gx=class extends Tr{constructor(e){super(`Value \`${typeof e=="object"?Ty(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},oj=class extends Tr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},aj=class extends Tr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}});var Rs={};lr(Rs,{IntegerOutOfRangeError:()=>wx,InvalidHexBooleanError:()=>cj,InvalidHexTypeError:()=>qR,InvalidHexValueError:()=>WR,InvalidLengthError:()=>Yle,SizeExceedsPaddingSizeError:()=>KR,SizeOverflowError:()=>VR,SliceOffsetOutOfBoundsError:()=>yx,assert:()=>C$e,concat:()=>_a,from:()=>vx,fromBoolean:()=>YR,fromBytes:()=>Ps,fromNumber:()=>On,fromString:()=>i3,isEqual:()=>rGt,padLeft:()=>wp,padRight:()=>Uf,random:()=>nGt,size:()=>uo,slice:()=>Xa,toBigInt:()=>Wle,toBoolean:()=>oGt,toBytes:()=>aGt,toNumber:()=>I$e,toString:()=>sGt,trimLeft:()=>JR,trimRight:()=>iGt,validate:()=>Ex});function C$e(t,e={}){let{strict:r=!1}=e;if(!t)throw new qR(t);if(typeof t!="string")throw new qR(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new WR(t);if(!t.startsWith("0x"))throw new WR(t)}function _a(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function vx(t){return t instanceof Uint8Array?Ps(t):Array.isArray(t)?Ps(new Uint8Array(t)):t}function YR(t,e={}){let r=`0x${Number(t)}`;return typeof e.size=="number"?(n3(r,e.size),wp(r,e.size)):r}function Ps(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=tGt[t[i]];let n=`0x${r}`;return typeof e.size=="number"?(n3(n,e.size),Uf(n,e.size)):n}function On(t,e={}){let{signed:r,size:n}=e,i=BigInt(t),o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let a=typeof o=="bigint"&&r?-o-1n:0;if(o&&i>o||i<a){let l=typeof t=="bigint"?"n":"";throw new wx({max:o?`${o}${l}`:void 0,min:`${a}${l}`,signed:r,size:n,value:`${t}${l}`})}let c=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?wp(c,n):c}function i3(t,e={}){return Ps(eGt.encode(t),e)}function rGt(t,e){return u$e(bd(t),bd(e))}function wp(t,e){return $le(t,{dir:"left",size:e})}function Uf(t,e){return $le(t,{dir:"right",size:e})}function nGt(t){return Ps(T$e(t))}function Xa(t,e,r,n={}){let{strict:i}=n;v$e(t,e);let o=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&E$e(o,e,r),o}function uo(t){return Math.ceil((t.length-2)/2)}function JR(t){return Vle(t,{dir:"left"})}function iGt(t){return Vle(t,{dir:"right"})}function Wle(t,e={}){let{signed:r}=e;e.size&&n3(t,e.size);let n=BigInt(t);if(!r)return n;let i=(t.length-2)/2,o=(1n<<BigInt(i)*8n)-1n,a=o>>1n;return n<=a?n:n-o-1n}function oGt(t,e={}){e.size&&n3(t,e.size);let r=JR(t);if(r==="0x")return!1;if(r==="0x1")return!0;throw new cj(t)}function aGt(t,e={}){return bd(t,e)}function I$e(t,e={}){let{signed:r,size:n}=e;return Number(!r&&!n?t:Wle(t,e))}function sGt(t,e={}){let{size:r}=e,n=bd(t);return r&&($R(n,r),n=qle(n)),new TextDecoder().decode(n)}function Ex(t,e={}){let{strict:r=!1}=e;try{return C$e(t,{strict:r}),!0}catch{return!1}}var eGt,tGt,wx,cj,qR,WR,Yle,VR,yx,KR,ac=D(()=>{d$e();Wh();Lf();bx();jle();Kle();eGt=new TextEncoder,tGt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));wx=class extends Tr{constructor({max:e,min:r,signed:n,size:i,value:o}){super(`Number \`${o}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},cj=class extends Tr{constructor(e){super(`Hex value \`"${e}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}},qR=class extends Tr{constructor(e){super(`Value \`${typeof e=="object"?Ty(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},WR=class extends Tr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},Yle=class extends Tr{constructor(e){super(`Hex value \`"${e}"\` is an odd length (${e.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}},VR=class extends Tr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},yx=class extends Tr{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},KR=class extends Tr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}});function R$e(t){return{address:t.address,amount:On(t.amount),index:On(t.index),validatorIndex:On(t.validatorIndex)}}var Jle=D(()=>{ac()});function lj(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:On(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:On(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:On(t.gasLimit)},...typeof t.number=="bigint"&&{number:On(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:On(t.prevRandao)},...typeof t.time=="bigint"&&{time:On(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(R$e)}}}var uj=D(()=>{ac();Jle()});var QR,dj,O$e,fj,N$e,Zle,Xle,eue,Sy=D(()=>{QR=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],dj=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],O$e=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],fj=[...O$e,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],N$e=[...O$e,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Zle=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Xle=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],eue=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]});var k$e,M$e=D(()=>{k$e="0x82ad56cb"});var pj,B$e,D$e,hj=D(()=>{pj="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",B$e="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",D$e="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"});var o3,mj,bj,ZR,yj=D(()=>{Pr();o3=class extends ue{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},mj=class extends ue{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} \u2013 ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} \u2013 ${e.name}`],name:"ChainMismatchError"})}},bj=class extends ue{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},ZR=class extends ue{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}});function yd(t){let{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;let i=e.find(a=>"type"in a&&a.type==="constructor");if(!i)throw new Gz({docsPath:tue});if(!("inputs"in i))throw new wR({docsPath:tue});if(!i.inputs||i.inputs.length===0)throw new wR({docsPath:tue});let o=pr(i.inputs,r);return jn([n,o])}var tue,XR=D(()=>{co();Ta();fd();tue="/docs/contract/encodeDeployData"});function gd({blockNumber:t,chain:e,contract:r}){let n=e?.contracts?.[r];if(!n)throw new o3({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new o3({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}var a3=D(()=>{yj()});function gj(t,{docsPath:e,...r}){let n=(()=>{let i=by(t,r);return i instanceof hd?t:i})();return new IE(n,{docsPath:e,...r})}var rue=D(()=>{zh();e3();UR()});function xx(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}var wj=D(()=>{});function vj({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){let o=async()=>{let u=c();a();let d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){let{resolve:h}=u[p];h?.([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){let{reject:h}=u[p];h?.(f)}})},a=()=>nue.delete(e),s=()=>c().map(({args:u})=>u),c=()=>nue.get(e)||[],l=u=>nue.set(e,[...c(),u]);return{flush:a,async schedule(u){let{promise:d,resolve:f,reject:p}=xx();return r?.([...s(),u])&&o(),c().length>0?(l({args:u,resolve:f,reject:p}),d):(l({args:u,resolve:f,reject:p}),setTimeout(o,n),d)}}}var nue,iue=D(()=>{wj();nue=new Map});var Ej,xj,Aj,L$e=D(()=>{Cs();Pr();_G();Ej=class extends ue{constructor({callbackSelector:e,cause:r,data:n,extraData:i,sender:o,urls:a}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(s=>`    ${$8(s)}`)],`  Sender: ${o}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${i}`].flat(),name:"OffchainLookupError"})}},xj=class extends ue{constructor({result:e,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${$8(r)}`,`Response: ${Xr(e)}`],name:"OffchainLookupResponseMalformedError"})}},Aj=class extends ue{constructor({sender:e,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}});function S0(t){let{abi:e,data:r}=t,n=Ni(r,0,4),i=e.find(o=>o.type==="function"&&n===lp(xa(o)));if(!i)throw new qz(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Is(i.inputs,Ni(r,4)):void 0}}var oue=D(()=>{co();cp();yE();xE();Mh()});function sue(t){let{abi:e,errorName:r,args:n}=t,i=e[0];if(r){let c=Xc({abi:e,args:n,name:r});if(!c)throw new vR(r,{docsPath:aue});i=c}if(i.type!=="error")throw new vR(void 0,{docsPath:aue});let o=xa(i),a=lp(o),s="0x";if(n&&n.length>0){if(!i.inputs)throw new Vz(i.name,{docsPath:aue});s=pr(i.inputs,n)}return jn([a,s])}var aue,U$e=D(()=>{co();Ta();yE();fd();Mh();ny();aue="/docs/contract/encodeErrorResult"});function F$e(t){let{abi:e,functionName:r,result:n}=t,i=e[0];if(r){let a=Xc({abi:e,name:r});if(!a)throw new Of(r,{docsPath:cue});i=a}if(i.type!=="function")throw new Of(void 0,{docsPath:cue});if(!i.outputs)throw new uE(i.name,{docsPath:cue});let o=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new fE(n)})();return pr(i.outputs,o)}var cue,H$e=D(()=>{co();fd();ny();cue="/docs/contract/encodeFunctionResult"});async function lue(t){let{data:e,ccipRequest:r}=t,{args:[n]}=S0({abi:dj,data:e}),i=[],o=[];return await Promise.all(n.map(async(a,s)=>{try{o[s]=a.urls.includes(Yh)?await lue({data:a.data,ccipRequest:r}):await r(a),i[s]=!1}catch(c){i[s]=!0,o[s]=cGt(c)}})),F$e({abi:dj,functionName:"query",result:[i,o]})}function cGt(t){return t.name==="HttpRequestError"&&t.status?sue({abi:dj,errorName:"HttpError",args:[t.status,t.shortMessage]}):sue({abi:[uG],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}var Yh,eP=D(()=>{Sy();dG();oue();U$e();H$e();Yh="x-batch-gateway:true"});var j$e={};lr(j$e,{ccipRequest:()=>G$e,offchainLookup:()=>uGt,offchainLookupAbiItem:()=>z$e,offchainLookupSignature:()=>lGt});async function uGt(t,{blockNumber:e,blockTag:r,data:n,to:i}){let{args:o}=AE({data:n,abi:[z$e]}),[a,s,c,l,u]=o,{ccipRead:d}=t,f=d&&typeof d?.request=="function"?d.request:G$e;try{if(!yp(i,a))throw new Aj({sender:a,to:i});let p=s.includes(Yh)?await lue({data:c,ccipRequest:f}):await f({data:c,sender:a,urls:s}),{data:h}=await nu(t,{blockNumber:e,blockTag:r,data:xr([l,pr([{type:"bytes"},{type:"bytes"}],[p,u])]),to:i});return h}catch(p){throw new Ej({callbackSelector:l,cause:p,data:n,extraData:u,sender:a,urls:s})}}async function G$e({data:t,sender:e,urls:r}){let n=new Error("An unknown error occurred.");for(let i=0;i<r.length;i++){let o=r[i],a=o.includes("{data}")?"GET":"POST",s=a==="POST"?{data:t,sender:e}:void 0,c=a==="POST"?{"Content-Type":"application/json"}:{};try{let l=await fetch(o.replace("{sender}",e.toLowerCase()).replace("{data}",t),{body:JSON.stringify(s),headers:c,method:a}),u;if(l.headers.get("Content-Type")?.startsWith("application/json")?u=(await l.json()).data:u=await l.text(),!l.ok){n=new pd({body:s,details:u?.error?Xr(u.error):l.statusText,headers:l.headers,status:l.status,url:o});continue}if(!Yo(u)){n=new xj({result:u,url:o});continue}return u}catch(l){n=new pd({body:s,details:l.message,url:o})}}throw n}var lGt,z$e,$$e=D(()=>{s3();L$e();K8();hG();fd();fx();Ta();Pf();eP();Cs();lGt="0x556f1830",z$e={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]}});async function nu(t,e){let{account:r=t.account,authorizationList:n,batch:i=!!t.batch?.multicall,blockNumber:o,blockTag:a=t.experimental_blockTag??"latest",accessList:s,blobs:c,blockOverrides:l,code:u,data:d,factory:f,factoryData:p,gas:h,gasPrice:b,maxFeePerBlobGas:_,maxFeePerGas:A,maxPriorityFeePerGas:C,nonce:R,to:M,value:U,stateOverride:F,...z}=e,N=r?Ar(r):void 0;if(u&&(f||p))throw new ue("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&M)throw new ue("Cannot provide both `code` & `to` as parameters.");let k=u&&d,O=f&&p&&M&&d,w=k||O,S=k?pGt({code:u,data:d}):O?hGt({data:d,factory:f,factoryData:p,to:M}):d;try{el(e);let m=(typeof o=="bigint"?De(o):void 0)||a,y=l?lj(l):void 0,E=gy(F),v=t.chain?.formatters?.transactionRequest?.format,g=(v||md)({...yy(z,{format:v}),from:N?.address,accessList:s,authorizationList:n,blobs:c,data:S,gas:h,gasPrice:b,maxFeePerBlobGas:_,maxFeePerGas:A,maxPriorityFeePerGas:C,nonce:R,to:w?void 0:M,value:U});if(i&&dGt({request:g})&&!E&&!y)try{return await fGt(t,{...g,blockNumber:o,blockTag:a})}catch(I){if(!(I instanceof ZR)&&!(I instanceof o3))throw I}let P=(()=>{let I=[g,m];return E&&y?[...I,E,y]:E?[...I,E]:y?[...I,{},y]:I})(),B=await t.request({method:"eth_call",params:P});return B==="0x"?{data:void 0}:{data:B}}catch(T){let m=mGt(T),{offchainLookup:y,offchainLookupSignature:E}=await Promise.resolve().then(()=>($$e(),j$e));if(t.ccipRead!==!1&&m?.slice(0,10)===E&&M)return{data:await y(t,{data:m,to:M})};throw w&&m?.slice(0,10)==="0x101bb98d"?new SG({factory:f}):gj(T,{...e,account:N,chain:t.chain})}}function dGt({request:t}){let{data:e,to:r,...n}=t;return!(!e||e.startsWith(k$e)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function fGt(t,e){let{batchSize:r=1024,wait:n=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",data:a,multicallAddress:s,to:c}=e,l=s;if(!l){if(!t.chain)throw new ZR;l=gd({blockNumber:i,chain:t.chain,contract:"multicall3"})}let d=(typeof i=="bigint"?De(i):void 0)||o,{schedule:f}=vj({id:`${t.uid}.${d}`,wait:n,shouldSplitBatch(b){return b.reduce((A,{data:C})=>A+(C.length-2),0)>r*2},fn:async b=>{let _=b.map(R=>({allowFailure:!0,callData:R.data,target:R.to})),A=Re({abi:QR,args:[_],functionName:"aggregate3"}),C=await t.request({method:"eth_call",params:[{data:A,to:l},d]});return oc({abi:QR,args:[_],functionName:"aggregate3",data:C||"0x"})}}),[{returnData:p,success:h}]=await f({data:a,to:c});if(!h)throw new pp({data:p});return p==="0x"?{data:void 0}:{data:p}}function pGt(t){let{code:e,data:r}=t;return yd({abi:Vg(["constructor(bytes, bytes)"]),bytecode:pj,args:[e,r]})}function hGt(t){let{data:e,factory:r,factoryData:n,to:i}=t;return yd({abi:Vg(["constructor(address, bytes, address, bytes)"]),bytecode:B$e,args:[i,e,r,n]})}function mGt(t){if(!(t instanceof ue))return;let e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}var s3=D(()=>{Bv();uj();Ji();Sy();M$e();hj();Pr();yj();zh();Ay();XR();tc();a3();ar();rue();FR();t3();iue();HR();wy()});async function ht(t,e){let{abi:r,address:n,args:i,functionName:o,...a}=e,s=Re({abi:r,args:i,functionName:o});try{let{data:c}=await Fe(t,nu,"call")({...a,data:s,to:n});return oc({abi:r,args:i,functionName:o,data:c||"0x"})}catch(c){throw tu(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}var Ff=D(()=>{Ay();tc();Y8();Cn();s3()});async function rr(t,e){let{abi:r,address:n,args:i,dataSuffix:o,functionName:a,...s}=e,c=s.account?Ar(s.account):t.account,l=Re({abi:r,args:i,functionName:a});try{let{data:u}=await Fe(t,nu,"call")({batch:!1,data:`${l}${o?o.replace("0x",""):""}`,to:n,...s,account:c}),d=oc({abi:r,args:i,functionName:a,data:u||"0x"}),f=r.filter(p=>"name"in p&&p.name===e.functionName);return{result:d,request:{abi:f,address:n,args:i,dataSuffix:o,functionName:a,...s,account:c}}}catch(u){throw tu(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c?.address})}}var uue=D(()=>{Ji();Ay();tc();Y8();Cn();s3()});function es(t,e,r){let n=++bGt,i=()=>due.get(t)||[],o=()=>{let u=i();due.set(t,u.filter(d=>d.id!==n))},a=()=>{let u=i();if(!u.some(f=>f.id===n))return;let d=V$e.get(t);if(u.length===1&&d){let f=d();f instanceof Promise&&f.catch(()=>{})}o()},s=i();if(due.set(t,[...s,{id:n,fns:e}]),s&&s.length>0)return a;let c={};for(let u in e)c[u]=((...d)=>{let f=i();if(f.length!==0)for(let p of f)p.fns[u]?.(...d)});let l=r(c);return typeof l=="function"&&V$e.set(t,l),a}var due,V$e,bGt,Jh=D(()=>{due=new Map,V$e=new Map,bGt=0});async function tP(t){return new Promise(e=>setTimeout(e,t))}var fue=D(()=>{});function tl(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0,o=()=>i=!1;return(async()=>{let s;e&&(s=await t({unpoll:o}));let c=await r?.(s)??n;await tP(c);let l=async()=>{i&&(await t({unpoll:o}),await tP(n),l())};l()})(),o}var Iy=D(()=>{fue()});function K$e(t){let e=(i,o)=>({clear:()=>o.delete(i),get:()=>o.get(i),set:a=>o.set(i,a)}),r=e(t,yGt),n=e(t,gGt);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function q$e(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){let n=K$e(e),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let o=n.promise.get();o||(o=t(),n.promise.set(o));try{let a=await o;return n.response.set({created:new Date,data:a}),a}finally{n.promise.clear()}}var yGt,gGt,W$e=D(()=>{yGt=new Map,gGt=new Map});async function vp(t,{cacheTime:e=t.cacheTime}={}){let r=await q$e(()=>t.request({method:"eth_blockNumber"}),{cacheKey:wGt(t.uid),cacheTime:e});return BigInt(r)}var wGt,Ax=D(()=>{W$e();wGt=t=>`blockNumber.${t}`});async function Cy(t,{filter:e}){let r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;let i=n.map(o=>Za(o));return!("abi"in e)||!e.abi?i:hx({abi:e.abi,logs:i,strict:r})}var rP=D(()=>{rj();Kh()});async function Ry(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}var nP=D(()=>{});function Y$e(t,e){let{abi:r,address:n,args:i,batch:o=!0,eventName:a,fromBlock:s,onError:c,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{let _=f??!1,A=Xr(["watchContractEvent",n,i,o,t.uid,a,d,_,s]);return es(A,{onLogs:l,onError:c},C=>{let R;s!==void 0&&(R=s-1n);let M,U=!1,F=tl(async()=>{if(!U){try{M=await Fe(t,lG,"createContractEventFilter")({abi:r,address:n,args:i,eventName:a,strict:_,fromBlock:s})}catch{}U=!0;return}try{let z;if(M)z=await Fe(t,Cy,"getFilterChanges")({filter:M});else{let N=await Fe(t,vp,"getBlockNumber")({});R&&R<N?z=await Fe(t,ij,"getContractEvents")({abi:r,address:n,args:i,eventName:a,fromBlock:R+1n,toBlock:N,strict:_}):z=[],R=N}if(z.length===0)return;if(o)C.onLogs(z);else for(let N of z)C.onLogs([N])}catch(z){M&&z instanceof hp&&(U=!1),C.onError?.(z)}},{emitOnBegin:!0,interval:d});return async()=>{M&&await Fe(t,Ry,"uninstallFilter")({filter:M}),F()}})})():(()=>{let _=f??!1,A=Xr(["watchContractEvent",n,i,o,t.uid,a,d,_]),C=!0,R=()=>C=!1;return es(A,{onLogs:l,onError:c},M=>((async()=>{try{let U=(()=>{if(t.transport.type==="fallback"){let N=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return N?N.value:t.transport}return t.transport})(),F=a?up({abi:r,eventName:a,args:i}):[],{unsubscribe:z}=await U.subscribe({params:["logs",{address:n,topics:F}],onData(N){if(!C)return;let k=N.result;try{let{eventName:O,args:w}=px({abi:r,data:k.data,topics:k.topics,strict:f}),S=Za(k,{args:w,eventName:O});M.onLogs([S])}catch(O){let w,S;if(O instanceof Nf||O instanceof ap){if(f)return;w=O.abiItem.name,S=O.abiItem.inputs?.some(m=>!("name"in m&&m.name))}let T=Za(k,{args:S?[]:{},eventName:w});M.onLogs([T])}},onError(N){M.onError?.(N)}});R=z,C||R()}catch(U){c?.(U)}})(),()=>R()))})()}var J$e=D(()=>{co();qE();tj();gE();Kh();Cn();Jh();Iy();Cs();Yce();Ax();Fle();rP();nP()});var No,Py,Hf=D(()=>{Pr();No=class extends ue{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},Py=class extends ue{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}});function Tj({chain:t,currentChainId:e}){if(!t)throw new bj;if(e!==t.id)throw new mj({chain:t,currentChainId:e})}var pue=D(()=>{yj()});function _j(t,{docsPath:e,...r}){let n=(()=>{let i=by(t,r);return i instanceof hd?t:i})();return new AG(n,{docsPath:e,...r})}var hue=D(()=>{e3();fp();UR()});async function Tx(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}var Sj=D(()=>{});async function Oy(t,e){let{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:o,blobs:a,data:s,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,type:h,value:b,..._}=e;if(typeof r>"u")throw new No({docsPath:"/docs/actions/wallet/sendTransaction"});let A=r?Ar(r):null;try{el(e);let C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await LG({authorization:o[0]}).catch(()=>{throw new ue("`to` is required. Could not infer from `authorizationList`.")})})();if(A?.type==="json-rpc"||A===null){let R;n!==null&&(R=await Fe(t,zi,"getChainId")({}),Tj({currentChainId:R,chain:n}));let M=t.chain?.formatters?.transactionRequest?.format,F=(M||md)({...yy(_,{format:M}),accessList:i,authorizationList:o,blobs:a,chainId:R,data:s,from:A?.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:C,type:h,value:b}),z=mue.get(t.uid),N=z?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:N,params:[F]},{retryCount:0})}catch(k){if(z===!1)throw k;let O=k;if(O.name==="InvalidInputRpcError"||O.name==="InvalidParamsRpcError"||O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[F]},{retryCount:0}).then(w=>(mue.set(t.uid,!0),w)).catch(w=>{let S=w;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(mue.set(t.uid,!1),O):S});throw O}}if(A?.type==="local"){let R=await Fe(t,xy,"prepareTransactionRequest")({account:A,accessList:i,authorizationList:o,blobs:a,chain:n,data:s,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,nonceManager:A.nonceManager,parameters:[...Lle,"sidecars"],type:h,value:b,..._,to:C}),M=n?.serializers?.transaction,U=await A.signTransaction(R,{serializer:M});return await Fe(t,Tx,"sendRawTransaction")({serializedTransaction:U})}throw A?.type==="smart"?new Py({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Py({docsPath:"/docs/actions/wallet/sendTransaction",type:A?.type})}catch(C){throw C instanceof Py?C:_j(C,{...e,account:A,chain:e.chain||void 0})}}var mue,iP=D(()=>{Ji();Hf();Pr();Sle();pue();hue();FR();t3();Cn();mE();wy();bp();GR();Sj();mue=new dd(128)});async function $n(t,e){let{abi:r,account:n=t.account,address:i,args:o,dataSuffix:a,functionName:s,...c}=e;if(typeof n>"u")throw new No({docsPath:"/docs/contract/writeContract"});let l=n?Ar(n):null,u=Re({abi:r,args:o,functionName:s});try{return await Fe(t,Oy,"sendTransaction")({data:`${u}${a?a.replace("0x",""):""}`,to:i,account:l,...c})}catch(d){throw tu(d,{abi:r,address:i,args:o,docsPath:"/docs/contract/writeContract",functionName:s,sender:l?.address})}}var bue=D(()=>{Ji();Hf();tc();Y8();Cn();iP()});var Ij,Q$e=D(()=>{Pr();Ij=class extends ue{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}});function c3(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,o)=>{let a=async({count:s=0}={})=>{let c=async({error:l})=>{let u=typeof e=="function"?e({count:s,error:l}):e;u&&await tP(u),a({count:s+1})};try{let l=await t();i(l)}catch(l){if(s<r&&await n({count:s,error:l}))return c({error:l});o(l)}};a()})}var Cj=D(()=>{fue()});function Rj(t){let e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Za(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Po(t.transactionIndex):null,status:t.status?yue[t.status]:null,type:t.type?Ole[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}var yue,Pj=D(()=>{Aa();Kh();jG();yue={"0x0":"reverted","0x1":"success"}});async function Z$e(t,e){let{account:r=t.account,capabilities:n,chain:i=t.chain,experimental_fallback:o,experimental_fallbackDelay:a=32,forceAtomic:s=!1,id:c,version:l="2.0.0"}=e,u=r?Ar(r):null,d=e.calls.map(f=>{let p=f,h=p.abi?Re({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&h?xr([h,p.dataSuffix]):h,to:p.to,value:p.value?De(p.value):void 0}});try{let f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:s,calls:d,capabilities:n,chainId:De(i.id),from:u?.address,id:c,version:l}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){let p=f;if(o&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured"))){if(n&&Object.values(n).some(C=>!C.optional)){let C="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new sy(new ue(C,{details:C}))}if(s&&d.length>1){let A="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new cy(new ue(A,{details:A}))}let h=[];for(let A of d){let C=Oy(t,{account:u,chain:i,data:A.data,to:A.to,value:A.value?Rn(A.value):void 0});h.push(C),a>0&&await new Promise(R=>setTimeout(R,a))}let b=await Promise.allSettled(h);if(b.every(A=>A.status==="rejected"))throw b[0].reason;let _=b.map(A=>A.status==="fulfilled"?A.value:wue);return{id:xr([..._,De(i.id,{size:32}),gue])}}throw _j(f,{...e,account:u,chain:e.chain})}}var gue,wue,vue=D(()=>{Ji();Pr();qE();tc();Ta();Aa();ar();hue();iP();gue="0x5792579257925792579257925792579257925792579257925792579257925792",wue=De(0,{size:32})});async function Oj(t,e){async function r(u){if(u.endsWith(gue.slice(2))){let f=eu(G8(u,-64,-32)),p=G8(u,0,-64).slice(2).match(/.{1,64}/g),h=await Promise.all(p.map(_=>wue.slice(2)!==_?t.request({method:"eth_getTransactionReceipt",params:[`0x${_}`]},{dedupe:!0}):void 0)),b=h.some(_=>_===null)?100:h.every(_=>_?.status==="0x1")?200:h.every(_=>_?.status==="0x0")?500:600;return{atomic:!1,chainId:Po(f),receipts:h.filter(Boolean),status:b,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}let{atomic:n=!1,chainId:i,receipts:o,version:a="2.0.0",...s}=await r(e.id),[c,l]=(()=>{let u=s.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...s,atomic:n,chainId:i?Po(i):void 0,receipts:o?.map(u=>({...u,blockNumber:Rn(u.blockNumber),gasUsed:Rn(u.gasUsed),status:yue[u.status]}))??[],statusCode:l,status:c,version:a}}var Eue=D(()=>{cp();hE();Aa();Pj();vue()});async function X$e(t,e){let{id:r,pollingInterval:n=t.pollingInterval,status:i=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:a=({count:b})=>~~(1<<b)*200,timeout:s=6e4,throwOnFailure:c=!1}=e,l=Xr(["waitForCallsStatus",t.uid,r]),{promise:u,resolve:d,reject:f}=xx(),p,h=es(l,{resolve:d,reject:f},b=>{let _=tl(async()=>{let A=C=>{clearTimeout(p),_(),C(),h()};try{let C=await c3(async()=>{let R=await Oj(t,{id:r});if(c&&R.status==="failure")throw new Ij(R);return R},{retryCount:o,delay:a});if(!i(C))return;A(()=>b.resolve(C))}catch(C){A(()=>b.reject(C))}},{interval:n,emitOnBegin:!0});return _});return p=s?setTimeout(()=>{h(),clearTimeout(p),f(new xue({id:r}))},s):void 0,await u}var xue,eVe=D(()=>{Pr();Q$e();Jh();Iy();wj();Cj();Cs();Eue();xue=class extends ue{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}});function Mj(t=11){if(!kj||Nj+t>256*2){kj="",Nj=0;for(let e=0;e<256;e++)kj+=(256+Math.random()*256|0).toString(16).substring(1)}return kj.substring(Nj,Nj+++t)}var Nj,kj,Aue=D(()=>{Nj=256});function Ny(t){let{batch:e,chain:r,ccipRead:n,key:i="base",name:o="Base Client",type:a="base"}=t,s=t.experimental_blockTag??(typeof r?.experimental_preconfirmationTime=="number"?"pending":void 0),c=r?.blockTime??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,d=t.cacheTime??u,f=t.account?Ar(t.account):void 0,{config:p,request:h,value:b}=t.transport({chain:r,pollingInterval:u}),_={...p,...b},A={account:f,batch:e,cacheTime:d,ccipRead:n,chain:r,key:i,name:o,pollingInterval:u,request:h,transport:_,type:a,uid:Mj(),...s?{experimental_blockTag:s}:{}};function C(R){return M=>{let U=M(R);for(let z in A)delete U[z];let F={...R,...U};return Object.assign(F,{extend:C(F)})}}return Object.assign(A,{extend:C(A)})}var oP=D(()=>{Ji();Aue()});function tVe(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Bj.get(r))return Bj.get(r);let n=t().finally(()=>Bj.delete(r));return Bj.set(r,n),n}var Bj,rVe=D(()=>{mE();Bj=new dd(8192)});function nVe(t,e={}){return async(r,n={})=>{let{dedupe:i=!1,methods:o,retryDelay:a=150,retryCount:s=3,uid:c}={...e,...n},{method:l}=r;if(o?.exclude?.includes(l))throw new ay(new Error("method not supported"),{method:l});if(o?.include&&!o.include.includes(l))throw new ay(new Error("method not supported"),{method:l});let u=i?Ja(`${c}.${Xr(r)}`):void 0;return tVe(()=>c3(async()=>{try{return await t(r)}catch(d){let f=d;switch(f.code){case RE.code:throw new RE(f);case PE.code:throw new PE(f);case OE.code:throw new OE(f,{method:r.method});case NE.code:throw new NE(f);case Gh.code:throw new Gh(f);case hp.code:throw new hp(f);case kE.code:throw new kE(f);case ME.code:throw new ME(f);case BE.code:throw new BE(f);case ay.code:throw new ay(f,{method:r.method});case q8.code:throw new q8(f);case DE.code:throw new DE(f);case W8.code:throw new W8(f);case LE.code:throw new LE(f);case UE.code:throw new UE(f);case FE.code:throw new FE(f);case HE.code:throw new HE(f);case zE.code:throw new zE(f);case sy.code:throw new sy(f);case GE.code:throw new GE(f);case jE.code:throw new jE(f);case $E.code:throw new $E(f);case VE.code:throw new VE(f);case KE.code:throw new KE(f);case cy.code:throw new cy(f);case 5e3:throw new W8(f);default:throw d instanceof ue?d:new IG(f)}}},{delay:({count:d,error:f})=>{if(f&&f instanceof pd){let p=f?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p)*1e3}return~~(1<<d)*a},retryCount:s,shouldRetry:({error:d})=>vGt(d)}),{enabled:i,id:u})}}function vGt(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===q8.code||t.code===Gh.code:t instanceof pd&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}var iVe=D(()=>{Pr();K8();qE();ar();rVe();Cj();Cs()});function Dj({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:o=150,timeout:a,type:s},c){let l=Mj();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:o,timeout:a,type:s},request:nVe(n,{methods:e,retryCount:i,retryDelay:o,uid:l}),value:c}}var Tue=D(()=>{iVe();Aue()});function zf(t,e={}){let{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:o}=e;return({retryCount:a})=>Dj({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:o,type:"custom"})}var oVe=D(()=>{Tue()});var Lj,aVe=D(()=>{Pr();Lj=class extends ue{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}});function sVe(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,o)=>{(async()=>{let a;try{let s=new AbortController;r>0&&(a=setTimeout(()=>{n?s.abort():o(e)},r)),i(await t({signal:s?.signal||null}))}catch(s){s?.name==="AbortError"&&o(e),o(s)}finally{clearTimeout(a)}})()})}var cVe=D(()=>{});function EGt(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var _ue,lVe=D(()=>{_ue=EGt()});function uVe(t,e={}){return{async request(r){let{body:n,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,s={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:l,signal:u}=s;try{let d=await sVe(async({signal:p})=>{let h={...s,body:Array.isArray(n)?Xr(n.map(C=>({jsonrpc:"2.0",id:C.id??_ue.take(),...C}))):Xr({jsonrpc:"2.0",id:n.id??_ue.take(),...n}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(a>0?p:null)},b=new Request(t,h),_=await i?.(b,h)??{...h,url:t};return await fetch(_.url??t,_)},{errorInstance:new PR({body:n,url:t}),timeout:a,signal:!0});o&&await o(d);let f;if(d.headers.get("Content-Type")?.startsWith("application/json"))f=await d.json();else{f=await d.text();try{f=JSON.parse(f||"{}")}catch(p){if(d.ok)throw p;f={error:f}}}if(!d.ok)throw new pd({body:n,details:Xr(f.error)||d.statusText,headers:d.headers,status:d.status,url:t});return f}catch(d){throw d instanceof pd||d instanceof PR?d:new pd({body:n,cause:d,url:t})}}}}var dVe=D(()=>{K8();cVe();Cs();lVe()});function Qh(t,e={}){let{batch:r,fetchOptions:n,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:s,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:f,timeout:p})=>{let{batchSize:h=1e3,wait:b=0}=typeof r=="object"?r:{},_=e.retryCount??f,A=p??e.timeout??1e4,C=t||d?.rpcUrls.default.http[0];if(!C)throw new Lj;let R=uVe(C,{fetchOptions:n,onRequest:s,onResponse:c,timeout:A});return Dj({key:i,methods:o,name:a,async request({method:M,params:U}){let F={method:M,params:U},{schedule:z}=vj({id:C,wait:b,shouldSplitBatch(w){return w.length>h},fn:w=>R.request({body:w}),sort:(w,S)=>w.id-S.id}),N=async w=>r?z(w):[await R.request({body:w})],[{error:k,result:O}]=await N(F);if(u)return{error:k,result:O};if(k)throw new oy({body:F,error:k,url:C});return O},retryCount:_,retryDelay:l,timeout:A,type:"http"},{fetchOptions:n,url:C})}}var fVe=D(()=>{K8();aVe();iue();dVe();Tue()});function _x(t){if(!(t instanceof ue))return!1;let e=t.walk(r=>r instanceof Hh);return e instanceof Hh?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}var Uj=D(()=>{Pr();zh()});function Fj(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;let e=`0x${t.slice(1,65)}`;return Yo(e)?e:null}var Sue=D(()=>{Pf()});function aP(t){let e=new Uint8Array(32).fill(0);if(!t)return Pn(e);let r=t.split(".");for(let n=r.length-1;n>=0;n-=1){let i=Fj(r[n]),o=i?ti(i):Bt(ud(r[n]),"bytes");e=Bt(xr([e,o]),"bytes")}return Pn(e)}var Iue=D(()=>{Ta();ca();ar();Zc();Sue()});function pVe(t){return`[${t.slice(2)}]`}var hVe=D(()=>{});function mVe(t){let e=new Uint8Array(32).fill(0);return t?Fj(t)||Bt(ud(t)):Pn(e)}var bVe=D(()=>{ca();ar();Zc();Sue()});function Sx(t){let e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);let r=new Uint8Array(ud(e).byteLength+2),n=0,i=e.split(".");for(let o=0;o<i.length;o++){let a=ud(i[o]);a.byteLength>255&&(a=ud(pVe(mVe(i[o])))),r[n]=a.length,r.set(a,n+1),n+=a.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var Hj=D(()=>{ca();hVe();bVe()});async function yVe(t,e){let{blockNumber:r,blockTag:n,coinType:i,name:o,gatewayUrls:a,strict:s}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gd({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(f=>o.endsWith(f)))return null;let d=i!=null?[aP(o),BigInt(i)]:[aP(o)];try{let f=Re({abi:Xle,functionName:"addr",args:d}),p={address:l,abi:fj,functionName:"resolveWithGateways",args:[gr(Sx(o)),f,a??[Yh]],blockNumber:r,blockTag:n},b=await Fe(t,ht,"readContract")(p);if(b[0]==="0x")return null;let _=oc({abi:Xle,args:d,functionName:"addr",data:b[0]});return _==="0x"||eu(_)==="0x00"?null:_}catch(f){if(s)throw f;if(_x(f))return null;throw f}}var gVe=D(()=>{Sy();Ay();tc();a3();hE();ar();Uj();eP();Iue();Hj();Cn();Ff()});var zj,ky,Ix,Gj,wVe=D(()=>{Pr();zj=class extends ue{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},ky=class extends ue{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},Ix=class extends ue{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},Gj=class extends ue{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}});async function SGt(t){try{let e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{let n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function vVe(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function Cue({uri:t,gatewayUrls:e}){let r=TGt.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};let n=vVe(e?.ipfs,"https://ipfs.io"),i=vVe(e?.arweave,"https://arweave.net"),o=t.match(xGt),{protocol:a,subpath:s,target:c,subtarget:l=""}=o?.groups||{},u=a==="ipns:/"||s==="ipns/",d=a==="ipfs:/"||s==="ipfs/"||AGt.test(t);if(t.startsWith("http")&&!u&&!d){let p=t;return e?.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${n}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(_Gt,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Ix({uri:t})}function Rue(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new zj({data:t});return t.image||t.image_url||t.image_data}async function EVe({gatewayUrls:t,uri:e}){try{let r=await fetch(e).then(i=>i.json());return await jj({gatewayUrls:t,uri:Rue(r)})}catch{throw new Ix({uri:e})}}async function jj({gatewayUrls:t,uri:e}){let{uri:r,isOnChain:n}=Cue({uri:e,gatewayUrls:t});if(n||await SGt(r))return r;throw new Ix({uri:e})}function xVe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));let[r,n,i]=e.split("/"),[o,a]=r.split(":"),[s,c]=n.split(":");if(!o||o.toLowerCase()!=="eip155")throw new ky({reason:"Only EIP-155 supported"});if(!a)throw new ky({reason:"Chain ID not found"});if(!c)throw new ky({reason:"Contract address not found"});if(!i)throw new ky({reason:"Token ID not found"});if(!s)throw new ky({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a),namespace:s.toLowerCase(),contractAddress:c,tokenID:i}}async function AVe(t,{nft:e}){if(e.namespace==="erc721")return ht(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ht(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Gj({namespace:e.namespace})}var xGt,AGt,TGt,_Gt,TVe=D(()=>{Ff();wVe();xGt=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,AGt=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,TGt=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,_Gt=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/});async function _Ve(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?IGt(t,{gatewayUrls:e,record:r}):jj({uri:r,gatewayUrls:e})}async function IGt(t,{gatewayUrls:e,record:r}){let n=xVe(r),i=await AVe(t,{nft:n}),{uri:o,isOnChain:a,isEncoded:s}=Cue({uri:i,gatewayUrls:e});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){let l=s?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(l);return jj({uri:Rue(u),gatewayUrls:e})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),EVe({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,c)})}var SVe=D(()=>{TVe()});async function $j(t,e){let{blockNumber:r,blockTag:n,key:i,name:o,gatewayUrls:a,strict:s}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gd({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{let d={address:l,abi:fj,args:[gr(Sx(o)),Re({abi:Zle,functionName:"text",args:[aP(o),i]}),a??[Yh]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},p=await Fe(t,ht,"readContract")(d);if(p[0]==="0x")return null;let h=oc({abi:Zle,functionName:"text",data:p[0]});return h===""?null:h}catch(d){if(s)throw d;if(_x(d))return null;throw d}}var Pue=D(()=>{Sy();Ay();tc();a3();ar();Uj();eP();Iue();Hj();Cn();Ff()});async function IVe(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:o,strict:a,universalResolverAddress:s}){let c=await Fe(t,$j,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:s,gatewayUrls:o,strict:a});if(!c)return null;try{return await _Ve(t,{record:c,gatewayUrls:n})}catch{return null}}var CVe=D(()=>{SVe();Cn();Pue()});async function RVe(t,e){let{address:r,blockNumber:n,blockTag:i,coinType:o=60n,gatewayUrls:a,strict:s}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gd({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})();try{let u={address:l,abi:N$e,args:[r,o,a??[Yh]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},d=Fe(t,ht,"readContract"),[f]=await d(u);return f||null}catch(u){if(s)throw u;if(_x(u))return null;throw u}}var PVe=D(()=>{Sy();a3();Uj();eP();Cn();Ff()});async function OVe(t,e){let{blockNumber:r,blockTag:n,name:i}=e,{chain:o}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return gd({blockNumber:r,chain:o,contract:"ensUniversalResolver"})})(),s=o?.ensTlds;if(s&&!s.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${s?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);let[c]=await Fe(t,ht,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[gr(Sx(i))],blockNumber:r,blockTag:n});return c}var NVe=D(()=>{a3();ar();Hj();Cn();Ff()});async function Vj(t,e){let{account:r=t.account,blockNumber:n,blockTag:i="latest",blobs:o,data:a,gas:s,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:p,...h}=e,b=r?Ar(r):void 0;try{el(e);let A=(typeof n=="bigint"?De(n):void 0)||i,C=t.chain?.formatters?.transactionRequest?.format,M=(C||md)({...yy(h,{format:C}),from:b?.address,blobs:o,data:a,gas:s,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:p}),U=await t.request({method:"eth_createAccessList",params:[M,A]});return{accessList:U.accessList,gasUsed:BigInt(U.gasUsed)}}catch(_){throw gj(_,{...e,account:b,chain:t.chain})}}var Oue=D(()=>{Ji();ar();rue();FR();t3();wy()});async function kVe(t){let e=iy(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}var MVe=D(()=>{IR()});async function Kj(t,{address:e,args:r,event:n,events:i,fromBlock:o,strict:a,toBlock:s}={}){let c=i??(n?[n]:void 0),l=iy(t,{method:"eth_newFilter"}),u=[];c&&(u=[c.flatMap(p=>up({abi:[p],eventName:p.name,args:r}))],n&&(u=u[0]));let d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?De(o):o,toBlock:typeof s=="bigint"?De(s):s,...u.length?{topics:u}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:o,id:d,request:l(d),strict:!!a,toBlock:s,type:"event"}}var Nue=D(()=>{gE();ar();IR()});async function qj(t){let e=iy(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}var kue=D(()=>{IR()});async function BVe(t){let e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}var DVe=D(()=>{});async function LVe(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){let i=r!==void 0?De(r):void 0,o;return e?o=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),Po(o)}var UVe=D(()=>{Aa();ar()});async function Gf(t,{address:e,blockNumber:r,blockTag:n="latest"}){let i=r!==void 0?De(r):void 0,o=await t.request({method:"eth_getCode",params:[e,i||n]},{dedupe:!!i});if(o!=="0x")return o}var Wj=D(()=>{ar()});var Yj,FVe=D(()=>{Pr();Yj=class extends ue{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}});async function HVe(t,e){let{address:r,factory:n,factoryData:i}=e;try{let[o,a,s,c,l,u,d]=await Fe(t,ht,"readContract")({abi:CGt,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:a,version:s,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:o}}catch(o){let a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new Yj({address:r}):a}}var CGt,zVe=D(()=>{FVe();Cn();Ff();CGt=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}]});function GVe(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(r=>BigInt(r)))}}var jVe=D(()=>{});async function $Ve(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){let o=typeof r=="bigint"?De(r):void 0,a=await t.request({method:"eth_feeHistory",params:[De(e),o||n,i]},{dedupe:!!o});return GVe(a)}var VVe=D(()=>{ar();jVe()});async function KVe(t,{filter:e}){let r=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>Za(o));return e.abi?hx({abi:e.abi,logs:i,strict:r}):i}var qVe=D(()=>{rj();Kh()});function sP(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}var WVe=D(()=>{});var Jj,Qj,Zj,YVe=D(()=>{Cs();Pr();Jj=class extends ue{constructor({domain:e}){super(`Invalid domain "${Xr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},Qj=class extends ue{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},Zj=class extends ue{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}});function Os(t){let{domain:e={},message:r,primaryType:n}=t,i={EIP712Domain:Ep({domain:e}),...t.types};Zh({domain:e,message:r,primaryType:n,types:i});let o=["0x1901"];return e&&o.push(Xj({domain:e,types:i})),n!=="EIP712Domain"&&o.push(Mue({data:r,primaryType:n,types:i})),Bt(xr(o))}function Xj({domain:t,types:e}){return Mue({data:t,primaryType:"EIP712Domain",types:e})}function Mue({data:t,primaryType:e,types:r}){let n=JVe({data:t,primaryType:e,types:r});return Bt(n)}function JVe({data:t,primaryType:e,types:r}){let n=[{type:"bytes32"}],i=[RGt({primaryType:e,types:r})];for(let o of r[e]){let[a,s]=ZVe({types:r,name:o.name,type:o.type,value:t[o.name]});n.push(a),i.push(s)}return pr(n,i)}function RGt({primaryType:t,types:e}){let r=gr(PGt({primaryType:t,types:e}));return Bt(r)}function PGt({primaryType:t,types:e}){let r="",n=QVe({primaryType:t,types:e});n.delete(t);let i=[t,...Array.from(n).sort()];for(let o of i)r+=`${o}(${e[o].map(({name:a,type:s})=>`${s} ${a}`).join(",")})`;return r}function QVe({primaryType:t,types:e},r=new Set){let i=t.match(/^\w*/u)?.[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(let o of e[i])QVe({primaryType:o.type,types:e},r);return r}function ZVe({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},Bt(JVe({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},Bt(n)];if(r==="string")return[{type:"bytes32"},Bt(gr(n))];if(r.lastIndexOf("]")===r.length-1){let i=r.slice(0,r.lastIndexOf("[")),o=n.map(a=>ZVe({name:e,type:i,types:t,value:a}));return[{type:"bytes32"},Bt(pr(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:r},n]}var cP=D(()=>{fd();Ta();ar();Zc();e$()});function Bue(t){let{domain:e,message:r,primaryType:n,types:i}=t,o=(c,l)=>{let u={...l};for(let d of c){let{name:f,type:p}=d;p==="address"&&(u[f]=u[f].toLowerCase())}return u},a=i.EIP712Domain?e?o(i.EIP712Domain,e):{}:{},s=(()=>{if(n!=="EIP712Domain")return o(i[n],r)})();return Xr({domain:a,message:s,primaryType:n,types:i})}function Zh(t){let{domain:e,message:r,primaryType:n,types:i}=t,o=(a,s)=>{for(let c of a){let{name:l,type:u}=c,d=s[l],f=u.match(bE);if(f&&(typeof d=="number"||typeof d=="bigint")){let[b,_,A]=f;De(d,{signed:_==="int",size:Number.parseInt(A)/8})}if(u==="address"&&typeof d=="string"&&!Hi(d))throw new Jo({address:d});let p=u.match(aG);if(p){let[b,_]=p;if(_&&rn(d)!==Number.parseInt(_))throw new dE({expectedSize:Number.parseInt(_),givenSize:rn(d)})}let h=i[u];h&&(OGt(u),o(h,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new Jj({domain:e});o(i.EIP712Domain,e)}if(n!=="EIP712Domain")if(i[n])o(i[n],r);else throw new Qj({primaryType:n,types:i})}function Ep({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function lP({domain:t}){return Xj({domain:t,types:{EIP712Domain:Ep({domain:t})}})}function OGt(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Zj({type:t})}var e$=D(()=>{co();Lh();YVe();Mf();cd();ar();sG();cP();Cs()});function Gi(t,e){if(t.length!==e.length)throw new sE({expectedLength:t.length,givenLength:e.length});let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e[n];r.push(XVe(i,o))}return jn(r)}function XVe(t,e,r=!1){if(t==="address"){let a=e;if(!Hi(a))throw new Jo({address:a});return En(a.toLowerCase(),{size:r?32:null})}if(t==="string")return Ja(e);if(t==="bytes")return e;if(t==="bool")return En(z8(e),{size:r?32:1});let n=t.match(bE);if(n){let[a,s,c="256"]=n,l=Number.parseInt(c)/8;return De(e,{size:r?32:l,signed:s==="int"})}let i=t.match(aG);if(i){let[a,s]=i;if(Number.parseInt(s)!==(e.length-2)/2)throw new dE({expectedSize:Number.parseInt(s),givenSize:(e.length-2)/2});return En(e,{dir:"right",size:r?32:null})}let o=t.match(IGe);if(o&&Array.isArray(e)){let[a,s]=o,c=[];for(let l=0;l<e.length;l++)c.push(XVe(s,e[l],!0));return c.length===0?"0x":jn(c)}throw new Qz(t)}var eKe=D(()=>{co();Lh();Mf();Ta();Bh();ar();sG()});function Due(t){return!t||typeof t!="object"||!("BYTES_PER_ELEMENT"in t)?!1:t.BYTES_PER_ELEMENT===1&&t.constructor.name==="Uint8Array"}var tKe=D(()=>{});function l3(t){return t.opcode==="CREATE2"?nKe(t):rKe(t)}function rKe(t){let e=ti(Qa(t.from)),r=ti(t.nonce);return r[0]===0&&(r=new Uint8Array([])),Qa(`0x${Bt(DG([e,r],"bytes")).slice(26)}`)}function nKe(t){let e=ti(Qa(t.from)),r=En(Due(t.salt)?t.salt:ti(t.salt),{size:32}),n="bytecodeHash"in t?Due(t.bytecodeHash)?t.bytecodeHash:ti(t.bytecodeHash):Bt(t.bytecode,"bytes");return Qa(Ni(Bt(xr([ti("0xff"),e,r,n])),12))}var iKe=D(()=>{Ta();tKe();Bh();cp();ca();_le();Zc();Uh()});var oKe,aKe=D(()=>{oKe=`Ethereum Signed Message:
`});function sKe(t){let e=typeof t=="string"?Ja(t):typeof t.raw=="string"?t.raw:Pn(t.raw),r=Ja(`${oKe}${rn(e)}`);return xr([r,e])}var cKe=D(()=>{aKe();Ta();cd();ar()});function sc(t,e){return Bt(sKe(t),e)}var t$=D(()=>{Zc();cKe()});var r$,Lue=D(()=>{r$="0x6492649264926492649264926492649264926492649264926492649264926492"});function lKe(t){return G8(t,-32)===r$}var uKe=D(()=>{Lue();cp()});function Cx(t){let{address:e,data:r,signature:n,to:i="hex"}=t,o=jn([pr([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,r,n]),r$]);return i==="hex"?o:sa(o)}var Uue=D(()=>{Lue();fd();Ta();ca()});var n$,dKe=D(()=>{Pr();n$=class extends ue{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}});function fKe(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new n$({value:t});let[r,n="0"]=t.split("."),i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){let[o,a,s]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],c=Math.round(+`${a}.${s}`);c>9?n=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):n=`${o}${c}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}var pKe=D(()=>{dKe()});function Fue(t,e="wei"){return fKe(t,mG[e])}var hKe=D(()=>{bG();pKe()});function Hue(t){let{source:e}=t,r=new Map,n=new dd(8192),i=new Map,o=({address:a,chainId:s})=>`${a}.${s}`;return{async consume({address:a,chainId:s,client:c}){let l=o({address:a,chainId:s}),u=this.get({address:a,chainId:s,client:c});this.increment({address:a,chainId:s});let d=await u;return await e.set({address:a,chainId:s},d),n.set(l,d),d},async increment({address:a,chainId:s}){let c=o({address:a,chainId:s}),l=r.get(c)??0;r.set(c,l+1)},async get({address:a,chainId:s,client:c}){let l=o({address:a,chainId:s}),u=i.get(l);return u||(u=(async()=>{try{let f=await e.get({address:a,chainId:s,client:c}),p=n.get(l)??0;return p>0&&f<=p?p+1:(n.delete(l),f)}finally{this.reset({address:a,chainId:s})}})(),i.set(l,u)),(r.get(l)??0)+await u},reset({address:a,chainId:s}){let c=o({address:a,chainId:s});r.delete(c),i.delete(c)}}}function NGt(){return{async get(t){let{address:e,client:r}=t;return Ey(r,{address:e,blockTag:"pending"})},set(){}}}var Ten,mKe=D(()=>{zR();mE();Ten=Hue({source:NGt()})});var rl=D(()=>{tc();Bh();ar();Aa();Cn();j8()});function BGt(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function bKe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Po(t.nonce):void 0,storageProof:t.storageProof?BGt(t.storageProof):void 0}}var yKe=D(()=>{rl()});async function gKe(t,{address:e,blockNumber:r,blockTag:n,storageKeys:i}){let o=n??"latest",a=r!==void 0?De(r):void 0,s=await t.request({method:"eth_getProof",params:[e,i,a||o]});return bKe(s)}var wKe=D(()=>{ar();yKe()});async function vKe(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){let o=r!==void 0?De(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,o||n]})}var EKe=D(()=>{ar()});async function Rx(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:o}){let a=n||"latest",s=r!==void 0?De(r):void 0,c=null;if(i?c=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,De(o)]},{dedupe:!0}):(s||a)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[s||a,De(o)]},{dedupe:!!s})),!c)throw new _E({blockHash:e,blockNumber:r,blockTag:a,hash:i,index:o});return(t.chain?.formatters?.transaction?.format||GG)(c)}var i$=D(()=>{fp();ar();jG()});async function xKe(t,{hash:e,transactionReceipt:r}){let[n,i]=await Promise.all([Fe(t,vp,"getBlockNumber")({}),e?Fe(t,Rx,"getTransaction")({hash:e}):void 0]),o=r?.blockNumber||i?.blockNumber;return o?n-o+1n:0n}var AKe=D(()=>{Cn();Ax();i$()});async function Px(t,{hash:e}){let r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new SE({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||Rj)(r)}var zue=D(()=>{fp();Pj()});async function TKe(t,e){let{account:r,authorizationList:n,allowFailure:i=!0,batchSize:o,blockNumber:a,blockTag:s,multicallAddress:c,stateOverride:l}=e,u=e.contracts,d=o??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024),f=c;if(!f){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");f=gd({blockNumber:a,chain:t.chain,contract:"multicall3"})}let p=[[]],h=0,b=0;for(let C=0;C<u.length;C++){let{abi:R,address:M,args:U,functionName:F}=u[C];try{let z=Re({abi:R,args:U,functionName:F});b+=(z.length-2)/2,d>0&&b>d&&p[h].length>0&&(h++,b=(z.length-2)/2,p[h]=[]),p[h]=[...p[h],{allowFailure:!0,callData:z,target:M}]}catch(z){let N=tu(z,{abi:R,address:M,args:U,docsPath:"/docs/contract/multicall",functionName:F,sender:r});if(!i)throw N;p[h]=[...p[h],{allowFailure:!0,callData:"0x",target:M}]}}let _=await Promise.allSettled(p.map(C=>Fe(t,ht,"readContract")({abi:QR,account:r,address:f,args:[C],authorizationList:n,blockNumber:a,blockTag:s,functionName:"aggregate3",stateOverride:l}))),A=[];for(let C=0;C<_.length;C++){let R=_[C];if(R.status==="rejected"){if(!i)throw R.reason;for(let U=0;U<p[C].length;U++)A.push({status:"failure",error:R.reason,result:void 0});continue}let M=R.value;for(let U=0;U<M.length;U++){let{returnData:F,success:z}=M[U],{callData:N}=p[C][U],{abi:k,address:O,functionName:w,args:S}=u[A.length];try{if(N==="0x")throw new ld;if(!z)throw new pp({data:F});let T=oc({abi:k,args:S,data:F,functionName:w});A.push(i?{result:T,status:"success"}:T)}catch(T){let m=tu(T,{abi:k,address:O,args:S,docsPath:"/docs/contract/multicall",functionName:w});if(!i)throw m;A.push({error:m,result:void 0,status:"failure"})}}}if(A.length!==u.length)throw new ue("multicall results mismatch");return A}var _Ke=D(()=>{Sy();co();Pr();zh();Ay();tc();a3();Y8();Cn();Ff()});async function uP(t,e){let{blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:o,traceTransfers:a,validation:s}=e;try{let c=[];for(let f of i){let p=f.blockOverrides?lj(f.blockOverrides):void 0,h=f.calls.map(_=>{let A=_,C=A.account?Ar(A.account):void 0,R=A.abi?Re(A):A.data,M={...A,data:A.dataSuffix?xr([R||"0x",A.dataSuffix]):R,from:A.from??C?.address};return el(M),md(M)}),b=f.stateOverrides?gy(f.stateOverrides):void 0;c.push({blockOverrides:p,calls:h,stateOverrides:b})}let u=(typeof r=="bigint"?De(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:a,validation:s},u]})).map((f,p)=>({...$G(f),calls:f.calls.map((h,b)=>{let{abi:_,args:A,functionName:C,to:R}=i[p].calls[b],M=h.error?.data??h.returnData,U=BigInt(h.gasUsed),F=h.logs?.map(O=>Za(O)),z=h.status==="0x1"?"success":"failure",N=_&&z==="success"&&M!=="0x"?oc({abi:_,data:M,functionName:C}):null,k=(()=>{if(z==="success")return;let O;if(h.error?.data==="0x"?O=new ld:h.error&&(O=new pp(h.error)),!!O)return tu(O,{abi:_??[],address:R??"0x",args:A,functionName:C??"<unknown>"})})();return{data:M,gasUsed:U,logs:F,status:z,...z==="success"?{result:N}:{error:k}}})}))}catch(c){let l=c,u=by(l,{});throw u instanceof hd?l:u}}var Gue=D(()=>{uj();Ji();co();zh();e3();Ay();tc();Ta();ar();Y8();UR();Nle();Kh();t3();HR();wy()});function o$(t,e={}){let{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=M0(A$e(t));return r==="Bytes"?n:Ps(n)}var a$=D(()=>{h2();Wh();ac()});var s$,SKe=D(()=>{s$=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});var DGt,c$,$ue=D(()=>{SKe();DGt={checksum:new s$(8192)},c$=DGt.checksum});var Ox={};lr(Ox,{InvalidCompressedPrefixError:()=>u$,InvalidError:()=>l$,InvalidPrefixError:()=>dP,InvalidSerializedSizeError:()=>f$,InvalidUncompressedPrefixError:()=>d$,assert:()=>p$,compress:()=>LGt,from:()=>UGt,fromBytes:()=>CKe,fromHex:()=>Vue,toBytes:()=>FGt,toHex:()=>RKe,validate:()=>HGt});function p$(t,e={}){let{compressed:r}=e,{prefix:n,x:i,y:o}=t;if(r===!1||typeof i=="bigint"&&typeof o=="bigint"){if(n!==4)throw new dP({prefix:n,cause:new d$});return}if(r===!0||typeof i=="bigint"&&typeof o>"u"){if(n!==3&&n!==2)throw new dP({prefix:n,cause:new u$});return}throw new l$({publicKey:t})}function LGt(t){let{x:e,y:r}=t;return{prefix:r%2n===0n?2:3,x:e}}function UGt(t){let e=(()=>{if(Ex(t))return Vue(t);if(S$e(t))return CKe(t);let{prefix:r,x:n,y:i}=t;return typeof n=="bigint"&&typeof i=="bigint"?{prefix:r??4,x:n,y:i}:{prefix:r,x:n}})();return p$(e),e}function CKe(t){return Vue(Ps(t))}function Vue(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new f$({publicKey:t});if(t.length===130){let n=BigInt(Xa(t,0,32)),i=BigInt(Xa(t,32,64));return{prefix:4,x:n,y:i}}if(t.length===132){let n=Number(Xa(t,0,1)),i=BigInt(Xa(t,1,33)),o=BigInt(Xa(t,33,65));return{prefix:n,x:i,y:o}}let e=Number(Xa(t,0,1)),r=BigInt(Xa(t,1,33));return{prefix:e,x:r}}function FGt(t,e={}){return bd(RKe(t,e))}function RKe(t,e={}){p$(t);let{prefix:r,x:n,y:i}=t,{includePrefix:o=!0}=e;return _a(o?On(r,{size:1}):"0x",On(n,{size:32}),typeof i=="bigint"?On(i,{size:32}):"0x")}function HGt(t,e={}){try{return p$(t,e),!0}catch{return!1}}var l$,dP,u$,d$,f$,PKe=D(()=>{Wh();Lf();ac();bx();l$=class extends Tr{constructor({publicKey:e}){super(`Value \`${Ty(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},dP=class extends Tr{constructor({prefix:e,cause:r}){super(`Prefix "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},u$=class extends Tr{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},d$=class extends Tr{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},f$=class extends Tr{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${uo(vx(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}});function Nx(t,e={}){let{strict:r=!0}=e;if(!zGt.test(t))throw new h$({address:t,cause:new Kue});if(r){if(t.toLowerCase()===t)return;if(OKe(t)!==t)throw new h$({address:t,cause:new que})}}function OKe(t){if(c$.has(t))return c$.get(t);Nx(t,{strict:!1});let e=t.substring(2).toLowerCase(),r=o$(sj(e),{as:"Bytes"}),n=e.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(r[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());let i=`0x${n.join("")}`;return c$.set(t,i),i}function m$(t,e={}){let{strict:r=!0}=e??{};try{return Nx(t,{strict:r}),!0}catch{return!1}}var zGt,h$,Kue,que,fP=D(()=>{Wh();$ue();Lf();a$();zGt=/^0x[a-fA-F0-9]{40}$/;h$=class extends Tr{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},Kue=class extends Tr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},que=class extends Tr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}});function g$(t){let e=!0,r="",n=0,i="",o=!1;for(let a=0;a<t.length;a++){let s=t[a];if(["(",")",","].includes(s)&&(e=!0),s==="("&&n++,s===")"&&n--,!!e){if(n===0){if(s===" "&&["event","function","error",""].includes(i))i="";else if(i+=s,s===")"){o=!0;break}continue}if(s===" "){t[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=s,r+=s}}if(!o)throw new Tr("Unable to normalize signature.");return i}function y$(t,e){let r=typeof t,n=e.type;switch(n){case"address":return m$(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>y$(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>y$(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Wue(t,e,r){for(let n in t){let i=t[n],o=e[n];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return Wue(i.components,o.components,r[n]);let a=[i.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?m$(r[n],{strict:!1}):a.includes("address")&&a.includes("bytes")?m$(r[n],{strict:!1}):!1)return a}}var NKe=D(()=>{fP();Lf()});function w$(t,e={}){let{prepare:r=!0}=e,n=Array.isArray(t)?ZS(t):typeof t=="string"?ZS(t):t;return{...n,...r?{hash:kx(n)}:{}}}function kKe(t,e,r){let{args:n=[],prepare:i=!0}=r??{},o=Ex(e,{strict:!1}),a=t.filter(l=>o?l.type==="function"||l.type==="error"?Jue(l)===Xa(e,0,4):l.type==="event"?kx(l)===e:!1:"name"in l&&l.name===e);if(a.length===0)throw new u3({name:e});if(a.length===1)return{...a[0],...i?{hash:kx(a[0])}:{}};let s;for(let l of a){if(!("inputs"in l))continue;if(!n||n.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:kx(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==n.length)continue;if(n.every((d,f)=>{let p="inputs"in l&&l.inputs[f];return p?y$(d,p):!1})){if(s&&"inputs"in s&&s.inputs){let d=Wue(l.inputs,s.inputs,n);if(d)throw new Yue({abiItem:l,type:d[0]},{abiItem:s,type:d[1]})}s=l}}let c=(()=>{if(s)return s;let[l,...u]=a;return{...l,overloads:u}})();if(!c)throw new u3({name:e});return{...c,...i?{hash:kx(c)}:{}}}function Jue(t){return Xa(kx(t),0,4)}function jGt(t){let e=typeof t=="string"?t:$g(t);return g$(e)}function kx(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:o$(i3(jGt(t)))}var Yue,u3,v$=D(()=>{Bv();Lf();a$();ac();NKe();Yue=class extends Tr{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${g$($g(e.abiItem))}\`, and`,`\`${r.type}\` in \`${g$($g(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},u3=class extends Tr{constructor({name:e,data:r,type:n="item"}){let i=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}});var MKe,BKe,E$,Itn,Ctn,Rtn,Ptn,Otn,Ntn,ktn,Mtn,Btn,Dtn,Ltn,Utn,Ftn,Htn,ztn,Gtn,jtn,$tn,Vtn,Ktn,qtn,Wtn,Ytn,Jtn,Qtn,Ztn,Xtn,ern,trn,rrn,nrn,irn,orn,arn,srn,crn,lrn,urn,drn,frn,prn,hrn,mrn,brn,yrn,grn,wrn,vrn,Ern,xrn,Arn,Trn,_rn,Srn,Irn,Crn,Rrn,Prn,Orn,Nrn,krn,Mrn,Brn,Drn,Lrn,Urn,Frn,Hrn,zrn,Grn,jrn,$rn,Vrn,Krn,qrn,Wrn,Yrn,Jrn,Qrn,Zrn,Xrn,enn,tnn,rnn,nnn,inn,onn,ann,snn,cnn,lnn,unn,dnn,fnn,pnn,Zue,pP=D(()=>{MKe=/^(.*)\[([0-9]*)\]$/,BKe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,E$=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Itn=2n**(8n-1n)-1n,Ctn=2n**(16n-1n)-1n,Rtn=2n**(24n-1n)-1n,Ptn=2n**(32n-1n)-1n,Otn=2n**(40n-1n)-1n,Ntn=2n**(48n-1n)-1n,ktn=2n**(56n-1n)-1n,Mtn=2n**(64n-1n)-1n,Btn=2n**(72n-1n)-1n,Dtn=2n**(80n-1n)-1n,Ltn=2n**(88n-1n)-1n,Utn=2n**(96n-1n)-1n,Ftn=2n**(104n-1n)-1n,Htn=2n**(112n-1n)-1n,ztn=2n**(120n-1n)-1n,Gtn=2n**(128n-1n)-1n,jtn=2n**(136n-1n)-1n,$tn=2n**(144n-1n)-1n,Vtn=2n**(152n-1n)-1n,Ktn=2n**(160n-1n)-1n,qtn=2n**(168n-1n)-1n,Wtn=2n**(176n-1n)-1n,Ytn=2n**(184n-1n)-1n,Jtn=2n**(192n-1n)-1n,Qtn=2n**(200n-1n)-1n,Ztn=2n**(208n-1n)-1n,Xtn=2n**(216n-1n)-1n,ern=2n**(224n-1n)-1n,trn=2n**(232n-1n)-1n,rrn=2n**(240n-1n)-1n,nrn=2n**(248n-1n)-1n,irn=2n**(256n-1n)-1n,orn=-(2n**(8n-1n)),arn=-(2n**(16n-1n)),srn=-(2n**(24n-1n)),crn=-(2n**(32n-1n)),lrn=-(2n**(40n-1n)),urn=-(2n**(48n-1n)),drn=-(2n**(56n-1n)),frn=-(2n**(64n-1n)),prn=-(2n**(72n-1n)),hrn=-(2n**(80n-1n)),mrn=-(2n**(88n-1n)),brn=-(2n**(96n-1n)),yrn=-(2n**(104n-1n)),grn=-(2n**(112n-1n)),wrn=-(2n**(120n-1n)),vrn=-(2n**(128n-1n)),Ern=-(2n**(136n-1n)),xrn=-(2n**(144n-1n)),Arn=-(2n**(152n-1n)),Trn=-(2n**(160n-1n)),_rn=-(2n**(168n-1n)),Srn=-(2n**(176n-1n)),Irn=-(2n**(184n-1n)),Crn=-(2n**(192n-1n)),Rrn=-(2n**(200n-1n)),Prn=-(2n**(208n-1n)),Orn=-(2n**(216n-1n)),Nrn=-(2n**(224n-1n)),krn=-(2n**(232n-1n)),Mrn=-(2n**(240n-1n)),Brn=-(2n**(248n-1n)),Drn=-(2n**(256n-1n)),Lrn=2n**8n-1n,Urn=2n**16n-1n,Frn=2n**24n-1n,Hrn=2n**32n-1n,zrn=2n**40n-1n,Grn=2n**48n-1n,jrn=2n**56n-1n,$rn=2n**64n-1n,Vrn=2n**72n-1n,Krn=2n**80n-1n,qrn=2n**88n-1n,Wrn=2n**96n-1n,Yrn=2n**104n-1n,Jrn=2n**112n-1n,Qrn=2n**120n-1n,Zrn=2n**128n-1n,Xrn=2n**136n-1n,enn=2n**144n-1n,tnn=2n**152n-1n,rnn=2n**160n-1n,nnn=2n**168n-1n,inn=2n**176n-1n,onn=2n**184n-1n,ann=2n**192n-1n,snn=2n**200n-1n,cnn=2n**208n-1n,lnn=2n**216n-1n,unn=2n**224n-1n,dnn=2n**232n-1n,fnn=2n**240n-1n,pnn=2n**248n-1n,Zue=2n**256n-1n});function DKe({checksumAddress:t,parameters:e,values:r}){let n=[];for(let i=0;i<e.length;i++)n.push(ede({checksumAddress:t,parameter:e[i],value:r[i]}));return n}function ede({checksumAddress:t=!1,parameter:e,value:r}){let n=e,i=QGt(n.type);if(i){let[o,a]=i;return VGt(r,{checksumAddress:t,length:o,parameter:{...n,type:a}})}if(n.type==="tuple")return JGt(r,{checksumAddress:t,parameter:n});if(n.type==="address")return $Gt(r,{checksum:t});if(n.type==="bool")return qGt(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){let o=n.type.startsWith("int"),[,,a="256"]=E$.exec(n.type)??[];return WGt(r,{signed:o,size:Number(a)})}if(n.type.startsWith("bytes"))return KGt(r,{type:n.type});if(n.type==="string")return YGt(r);throw new mP(n.type)}function x$(t){let e=0;for(let o=0;o<t.length;o++){let{dynamic:a,encoded:s}=t[o];a?e+=32:e+=uo(s)}let r=[],n=[],i=0;for(let o=0;o<t.length;o++){let{dynamic:a,encoded:s}=t[o];a?(r.push(On(e+i,{size:32})),n.push(s),i+=uo(s)):r.push(s)}return _a(...r,...n)}function $Gt(t,e){let{checksum:r=!1}=e;return Nx(t,{strict:r}),{dynamic:!1,encoded:wp(t.toLowerCase())}}function VGt(t,e){let{checksumAddress:r,length:n,parameter:i}=e,o=n===null;if(!Array.isArray(t))throw new T$(t);if(!o&&t.length!==n)throw new A$({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let a=!1,s=[];for(let c=0;c<t.length;c++){let l=ede({checksumAddress:r,parameter:i,value:t[c]});l.dynamic&&(a=!0),s.push(l)}if(o||a){let c=x$(s);if(o){let l=On(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?_a(l,c):l}}if(a)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:_a(...s.map(({encoded:c})=>c))}}function KGt(t,{type:e}){let[,r]=e.split("bytes"),n=uo(t);if(!r){let i=t;return n%32!==0&&(i=Uf(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:_a(wp(On(n,{size:32})),i)}}if(n!==Number.parseInt(r))throw new hP({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:Uf(t)}}function qGt(t){if(typeof t!="boolean")throw new Tr(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:wp(YR(t))}}function WGt(t,{signed:e,size:r}){if(typeof r=="number"){let n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new wx({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:On(t,{size:32,signed:e})}}function YGt(t){let e=i3(t),r=Math.ceil(uo(e)/32),n=[];for(let i=0;i<r;i++)n.push(Uf(Xa(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:_a(Uf(On(uo(e),{size:32})),...n)}}function JGt(t,e){let{checksumAddress:r,parameter:n}=e,i=!1,o=[];for(let a=0;a<n.components.length;a++){let s=n.components[a],c=Array.isArray(t)?a:s.name,l=ede({checksumAddress:r,parameter:s,value:t[c]});o.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?x$(o):_a(...o.map(({encoded:a})=>a))}}function QGt(t){let e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}var LKe=D(()=>{bP();fP();Lf();ac();pP()});function I$(t,e,r){let{checksumAddress:n=!1}=r??{};if(t.length!==e.length)throw new S$({expectedLength:t.length,givenLength:e.length});let i=DKe({checksumAddress:n,parameters:t,values:e}),o=x$(i);return o.length===0?"0x":o}function tde(t,e){if(t.length!==e.length)throw new S$({expectedLength:t.length,givenLength:e.length});let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e[n];r.push(tde.encode(i,o))}return _a(...r)}var A$,hP,S$,T$,mP,bP=D(()=>{fP();Lf();ac();pP();LKe();(function(t){function e(r,n,i=!1){if(r==="address"){let c=n;return Nx(c),wp(c.toLowerCase(),i?32:0)}if(r==="string")return i3(n);if(r==="bytes")return n;if(r==="bool")return wp(YR(n),i?32:1);let o=r.match(E$);if(o){let[c,l,u="256"]=o,d=Number.parseInt(u)/8;return On(n,{size:i?32:d,signed:l==="int"})}let a=r.match(BKe);if(a){let[c,l]=a;if(Number.parseInt(l)!==(n.length-2)/2)throw new hP({expectedSize:Number.parseInt(l),value:n});return Uf(n,i?32:0)}let s=r.match(MKe);if(s&&Array.isArray(n)){let[c,l]=s,u=[];for(let d=0;d<n.length;d++)u.push(e(l,n[d],!0));return u.length===0?"0x":_a(...u)}throw new mP(r)}t.encode=e})(tde||(tde={}));A$=class extends Tr{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},hP=class extends Tr{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${uo(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},S$=class extends Tr{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},T$=class extends Tr{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},mP=class extends Tr{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}});function UKe(t,e){let{bytecode:r,args:n}=e;return _a(r,t.inputs?.length&&n?.length?I$(t.inputs,n):"0x")}function FKe(t){return w$(t)}var rde=D(()=>{v$();bP();ac()});function zKe(t,...e){let{overloads:r}=t,n=r?ejt([t,...r],t.name,{args:e[0]}):t,i=tjt(n),o=e.length>0?I$(n.inputs,e[0]):void 0;return o?_a(i,o):i}function d3(t,e={}){return w$(t,e)}function ejt(t,e,r){let n=kKe(t,e,r);if(n.type!=="function")throw new u3({name:e,type:"function"});return n}function tjt(t){return Jue(t)}var nde=D(()=>{v$();bP();ac()});var ide,ji,ode=D(()=>{ide="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ji="0x0000000000000000000000000000000000000000"});async function jKe(t,e){let{blockNumber:r,blockTag:n,calls:i,stateOverrides:o,traceAssetChanges:a,traceTransfers:s,validation:c}=e,l=e.account?Ar(e.account):void 0;if(a&&!l)throw new ue("`account` is required when `traceAssetChanges` is true");let u=l?UKe(FKe("constructor(bytes, bytes)"),{bytecode:pj,args:[rjt,zKe(d3("function getBalance(address)"),[l.address])]}):void 0,d=a?await Promise.all(e.calls.map(async x=>{if(!x.data&&!x.abi)return;let{accessList:g}=await Vj(t,{account:l.address,...x,data:x.abi?Re(x):x.data});return g.map(({address:P,storageKeys:B})=>B.length>0?P:null)})).then(x=>x.flat().filter(Boolean)):[],f=await uP(t,{blockNumber:r,blockTag:n,blocks:[...a?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((x,g)=>({abi:[d3("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:x,from:ji,nonce:g})),stateOverrides:[{address:ji,nonce:0}]}]:[],{calls:[...i,{}].map(x=>({...x,from:l?.address})),stateOverrides:o},...a?[{calls:[{data:u}]},{calls:d.map((x,g)=>({abi:[d3("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:x,from:ji,nonce:g})),stateOverrides:[{address:ji,nonce:0}]},{calls:d.map((x,g)=>({to:x,abi:[d3("function decimals() returns (uint256)")],functionName:"decimals",from:ji,nonce:g})),stateOverrides:[{address:ji,nonce:0}]},{calls:d.map((x,g)=>({to:x,abi:[d3("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ji,nonce:g})),stateOverrides:[{address:ji,nonce:0}]},{calls:d.map((x,g)=>({to:x,abi:[d3("function symbol() returns (string)")],functionName:"symbol",from:ji,nonce:g})),stateOverrides:[{address:ji,nonce:0}]}]:[]],traceTransfers:s,validation:c}),p=a?f[2]:f[0],[h,b,,_,A,C,R,M]=a?f:[],{calls:U,...F}=p,z=U.slice(0,-1)??[],N=h?.calls??[],k=b?.calls??[],O=[...N,...k].map(x=>x.status==="success"?Rn(x.data):null),w=_?.calls??[],S=A?.calls??[],T=[...w,...S].map(x=>x.status==="success"?Rn(x.data):null),m=(C?.calls??[]).map(x=>x.status==="success"?x.result:null),y=(M?.calls??[]).map(x=>x.status==="success"?x.result:null),E=(R?.calls??[]).map(x=>x.status==="success"?x.result:null),v=[];for(let[x,g]of T.entries()){let P=O[x];if(typeof g!="bigint"||typeof P!="bigint")continue;let B=m[x-1],I=y[x-1],L=E[x-1],G=x===0?{address:ide,decimals:18,symbol:"ETH"}:{address:d[x-1],decimals:L||B?Number(B??1):void 0,symbol:I??void 0};v.some(H=>H.token.address===G.address)||v.push({token:G,value:{pre:P,post:g,diff:g-P}})}return{assetChanges:v,block:F,results:z}}var rjt,$Ke=D(()=>{rde();nde();Ji();ode();hj();Pr();tc();rl();Oue();Gue();rjt="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033"});function VKe({r:t,s:e,to:r="hex",v:n,yParity:i}){let o=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new XE.Signature(Rn(t),Rn(e)).toCompactHex()}${o===0?"1b":"1c"}`;return r==="hex"?a:sa(a)}var KKe=D(()=>{Ale();Aa();ca()});async function Mx(t,e){let{address:r,factory:n,factoryData:i,hash:o,signature:a,universalSignatureVerifierAddress:s=t.chain?.contracts?.universalSignatureVerifier?.address,...c}=e,l=Yo(a)?a:typeof a=="object"&&"r"in a&&"s"in a?VKe(a):Pn(a),u=await(async()=>!n&&!i||lKe(l)?l:Cx({address:n,data:i,signature:l}))();try{let d=s?{to:s,data:Re({abi:eue,functionName:"isValidSig",args:[r,o,u]}),...c}:{data:yd({abi:eue,args:[r,o,u],bytecode:D$e}),...c},{data:f}=await Fe(t,nu,"call")(d);return nG(f??"0x0")}catch(d){try{if(yp(Qa(r),await BG({hash:o,signature:a})))return!0}catch{}if(d instanceof IE)return!1;throw d}}var C$=D(()=>{Sy();hj();zh();XR();Uh();fx();Pf();ar();Cn();rl();uKe();Tle();Uue();KKe();s3()});async function qKe(t,{address:e,message:r,factory:n,factoryData:i,signature:o,...a}){let s=sc(r);return Mx(t,{address:e,factory:n,factoryData:i,hash:s,signature:o,...a})}var WKe=D(()=>{t$();C$()});async function YKe(t,e){let{address:r,factory:n,factoryData:i,signature:o,message:a,primaryType:s,types:c,domain:l,...u}=e,d=Os({message:a,primaryType:s,types:c,domain:l});return Mx(t,{address:r,factory:n,factoryData:i,hash:d,signature:o,...u})}var JKe=D(()=>{cP();C$()});function R$(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:o,pollingInterval:a=t.pollingInterval}){let s=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),c;return s?(()=>{let d=Xr(["watchBlockNumber",t.uid,e,r,a]);return es(d,{onBlockNumber:n,onError:i},f=>tl(async()=>{try{let p=await Fe(t,vp,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&r)for(let h=c+1n;h<p;h++)f.onBlockNumber(h,c),c=h}(!c||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){f.onError?.(p)}},{emitOnBegin:e,interval:a}))})():(()=>{let d=Xr(["watchBlockNumber",t.uid,e,r]);return es(d,{onBlockNumber:n,onError:i},f=>{let p=!0,h=()=>p=!1;return(async()=>{try{let b=(()=>{if(t.transport.type==="fallback"){let A=t.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return A?A.value:t.transport}return t.transport})(),{unsubscribe:_}=await b.subscribe({params:["newHeads"],onData(A){if(!p)return;let C=Rn(A.result?.number);f.onBlockNumber(C,c),c=C},onError(A){f.onError?.(A)}});h=_,p||h()}catch(b){i?.(b)}})(),()=>h()})})()}var ade=D(()=>{Aa();Cn();Jh();Iy();Cs();Ax()});async function QKe(t,e){let{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:o,retryCount:a=6,retryDelay:s=({count:U})=>~~(1<<U)*200,timeout:c=18e4}=e,l=Xr(["waitForTransactionReceipt",t.uid,i]),u=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval,d,f,p,h=!1,b,_,{promise:A,resolve:C,reject:R}=xx(),M=c?setTimeout(()=>{_?.(),b?.(),R(new TG({hash:i}))},c):void 0;return b=es(l,{onReplaced:o,resolve:C,reject:R},async U=>{if(p=await Fe(t,Px,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&n<=1){clearTimeout(M),U.resolve(p),b?.();return}_=Fe(t,R$,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(F){let z=k=>{clearTimeout(M),_?.(),k(),b?.()},N=F;if(!h)try{if(p){if(n>1&&(!p.blockNumber||N-p.blockNumber+1n<n))return;z(()=>U.resolve(p));return}if(r&&!d&&(h=!0,await c3(async()=>{d=await Fe(t,Rx,"getTransaction")({hash:i}),d.blockNumber&&(N=d.blockNumber)},{delay:s,retryCount:a}),h=!1),p=await Fe(t,Px,"getTransactionReceipt")({hash:i}),n>1&&(!p.blockNumber||N-p.blockNumber+1n<n))return;z(()=>U.resolve(p))}catch(k){if(k instanceof _E||k instanceof SE){if(!d){h=!1;return}try{f=d,h=!0;let O=await c3(()=>Fe(t,_0,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:s,retryCount:a,shouldRetry:({error:T})=>T instanceof lx});h=!1;let w=O.transactions.find(({from:T,nonce:m})=>T===f.from&&m===f.nonce);if(!w||(p=await Fe(t,Px,"getTransactionReceipt")({hash:w.hash}),n>1&&(!p.blockNumber||N-p.blockNumber+1n<n)))return;let S="replaced";w.to===f.to&&w.value===f.value&&w.input===f.input?S="repriced":w.from===w.to&&w.value===0n&&(S="cancelled"),z(()=>{U.onReplaced?.({reason:S,replacedTransaction:f,transaction:w,transactionReceipt:p}),U.resolve(p)})}catch(O){z(()=>U.reject(O))}}else z(()=>U.reject(k))}}})}),A}var ZKe=D(()=>{Ple();fp();Cn();Jh();wj();Cj();Cs();r3();i$();zue();ade()});function XKe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:o,includeTransactions:a,poll:s,pollingInterval:c=t.pollingInterval}){let l=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=a??!1,d;return l?(()=>{let h=Xr(["watchBlocks",t.uid,e,r,n,u,c]);return es(h,{onBlock:i,onError:o},b=>tl(async()=>{try{let _=await Fe(t,_0,"getBlock")({blockTag:e,includeTransactions:u});if(_.number!==null&&d?.number!=null){if(_.number===d.number)return;if(_.number-d.number>1&&r)for(let A=d?.number+1n;A<_.number;A++){let C=await Fe(t,_0,"getBlock")({blockNumber:A,includeTransactions:u});b.onBlock(C,d),d=C}}(d?.number==null||e==="pending"&&_?.number==null||_.number!==null&&_.number>d.number)&&(b.onBlock(_,d),d=_)}catch(_){b.onError?.(_)}},{emitOnBegin:n,interval:c}))})():(()=>{let h=!0,b=!0,_=()=>h=!1;return(async()=>{try{n&&Fe(t,_0,"getBlock")({blockTag:e,includeTransactions:u}).then(R=>{h&&b&&(i(R,void 0),b=!1)}).catch(o);let A=(()=>{if(t.transport.type==="fallback"){let R=t.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),{unsubscribe:C}=await A.subscribe({params:["newHeads"],async onData(R){if(!h)return;let M=await Fe(t,_0,"getBlock")({blockNumber:R.result?.number,includeTransactions:u}).catch(()=>{});h&&(i(M,d),b=!1,d=M)},onError(R){o?.(R)}});_=C,h||_()}catch(A){o?.(A)}})(),()=>_()})()}var eqe=D(()=>{Cn();Jh();Iy();Cs();r3()});function tqe(t,{address:e,args:r,batch:n=!0,event:i,events:o,fromBlock:a,onError:s,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:d}){let f=typeof l<"u"?l:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=d??!1;return f?(()=>{let _=Xr(["watchEvent",e,r,n,t.uid,i,u,a]);return es(_,{onLogs:c,onError:s},A=>{let C;a!==void 0&&(C=a-1n);let R,M=!1,U=tl(async()=>{if(!M){try{R=await Fe(t,Kj,"createEventFilter")({address:e,args:r,event:i,events:o,strict:p,fromBlock:a})}catch{}M=!0;return}try{let F;if(R)F=await Fe(t,Cy,"getFilterChanges")({filter:R});else{let z=await Fe(t,vp,"getBlockNumber")({});C&&C!==z?F=await Fe(t,mx,"getLogs")({address:e,args:r,event:i,events:o,fromBlock:C+1n,toBlock:z}):F=[],C=z}if(F.length===0)return;if(n)A.onLogs(F);else for(let z of F)A.onLogs([z])}catch(F){R&&F instanceof hp&&(M=!1),A.onError?.(F)}},{emitOnBegin:!0,interval:u});return async()=>{R&&await Fe(t,Ry,"uninstallFilter")({filter:R}),U()}})})():(()=>{let _=!0,A=()=>_=!1;return(async()=>{try{let C=(()=>{if(t.transport.type==="fallback"){let F=t.transport.transports.find(z=>z.config.type==="webSocket"||z.config.type==="ipc");return F?F.value:t.transport}return t.transport})(),R=o??(i?[i]:void 0),M=[];R&&(M=[R.flatMap(z=>up({abi:[z],eventName:z.name,args:r}))],i&&(M=M[0]));let{unsubscribe:U}=await C.subscribe({params:["logs",{address:e,topics:M}],onData(F){if(!_)return;let z=F.result;try{let{eventName:N,args:k}=px({abi:R??[],data:z.data,topics:z.topics,strict:p}),O=Za(z,{args:k,eventName:N});c([O])}catch(N){let k,O;if(N instanceof Nf||N instanceof ap){if(d)return;k=N.abiItem.name,O=N.abiItem.inputs?.some(S=>!("name"in S&&S.name))}let w=Za(z,{args:O?[]:{},eventName:k});c([w])}},onError(F){s?.(F)}});A=U,_||A()}catch(C){s?.(C)}})(),()=>A()})()}var rqe=D(()=>{gE();Jh();Iy();Cs();co();qE();tj();Kh();Cn();Nue();Ax();rP();nj();nP()});function nqe(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:o=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{let l=Xr(["watchPendingTransactions",t.uid,e,o]);return es(l,{onTransactions:n,onError:r},u=>{let d,f=tl(async()=>{try{if(!d)try{d=await Fe(t,qj,"createPendingTransactionFilter")({});return}catch(h){throw f(),h}let p=await Fe(t,Cy,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(let h of p)u.onTransactions([h])}catch(p){u.onError?.(p)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await Fe(t,Ry,"uninstallFilter")({filter:d}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{let{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;let p=f.result;n([p])},onError(f){r?.(f)}});u=d,l||u()}catch(d){r?.(d)}})(),()=>u()})()}var iqe=D(()=>{Cn();Jh();Iy();Cs();kue();rP();nP()});function oqe(t){let{scheme:e,statement:r,...n}=t.match(njt)?.groups??{},{chainId:i,expirationTime:o,issuedAt:a,notBefore:s,requestId:c,...l}=t.match(ijt)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...l,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...s?{notBefore:new Date(s)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}var njt,ijt,aqe=D(()=>{njt=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ijt=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/});function sqe(t){let{address:e,domain:r,message:n,nonce:i,scheme:o,time:a=new Date}=t;if(r&&n.domain!==r||i&&n.nonce!==i||o&&n.scheme!==o||n.expirationTime&&a>=n.expirationTime||n.notBefore&&a<n.notBefore)return!1;try{if(!n.address||!Hi(n.address,{strict:!1})||e&&!yp(n.address,e))return!1}catch{return!1}return!0}var cqe=D(()=>{Mf();fx()});async function lqe(t,e){let{address:r,domain:n,message:i,nonce:o,scheme:a,signature:s,time:c=new Date,...l}=e,u=oqe(i);if(!u.address||!sqe({address:r,domain:n,message:u,nonce:o,scheme:a,time:c}))return!1;let f=sc(i);return Mx(t,{address:u.address,hash:f,signature:s,...l})}var uqe=D(()=>{t$();aqe();cqe();C$()});function dqe(t){return{call:e=>nu(t,e),createAccessList:e=>Vj(t,e),createBlockFilter:()=>kVe(t),createContractEventFilter:e=>lG(t,e),createEventFilter:e=>Kj(t,e),createPendingTransactionFilter:()=>qj(t),estimateContractGas:e=>s$e(t,e),estimateGas:e=>dx(t,e),getBalance:e=>ej(t,e),getBlobBaseFee:()=>BVe(t),getBlock:e=>_0(t,e),getBlockNumber:e=>vp(t,e),getBlockTransactionCount:e=>LVe(t,e),getBytecode:e=>Gf(t,e),getChainId:()=>zi(t),getCode:e=>Gf(t,e),getContractEvents:e=>ij(t,e),getEip712Domain:e=>HVe(t,e),getEnsAddress:e=>yVe(t,e),getEnsAvatar:e=>IVe(t,e),getEnsName:e=>RVe(t,e),getEnsResolver:e=>OVe(t,e),getEnsText:e=>$j(t,e),getFeeHistory:e=>$Ve(t,e),estimateFeesPerGas:e=>KG(t,e),getFilterChanges:e=>Cy(t,e),getFilterLogs:e=>KVe(t,e),getGasPrice:()=>ux(t),getLogs:e=>mx(t,e),getProof:e=>gKe(t,e),estimateMaxPriorityFeePerGas:e=>Kje(t,e),getStorageAt:e=>vKe(t,e),getTransaction:e=>Rx(t,e),getTransactionConfirmations:e=>xKe(t,e),getTransactionCount:e=>Ey(t,e),getTransactionReceipt:e=>Px(t,e),multicall:e=>TKe(t,e),prepareTransactionRequest:e=>xy(t,e),readContract:e=>ht(t,e),sendRawTransaction:e=>Tx(t,e),simulate:e=>uP(t,e),simulateBlocks:e=>uP(t,e),simulateCalls:e=>jKe(t,e),simulateContract:e=>rr(t,e),verifyMessage:e=>qKe(t,e),verifySiweMessage:e=>lqe(t,e),verifyTypedData:e=>YKe(t,e),uninstallFilter:e=>Ry(t,e),waitForTransactionReceipt:e=>QKe(t,e),watchBlocks:e=>XKe(t,e),watchBlockNumber:e=>R$(t,e),watchContractEvent:e=>Y$e(t,e),watchEvent:e=>tqe(t,e),watchPendingTransactions:e=>nqe(t,e)}}var fqe=D(()=>{gVe();CVe();PVe();NVe();Pue();s3();Oue();MVe();Yce();Nue();kue();c$e();WG();XG();Mle();Ule();DVe();r3();Ax();UVe();bp();Wj();Fle();zVe();VVe();rP();qVe();VG();nj();wKe();EKe();i$();AKe();zR();zue();_Ke();Ff();Gue();$Ke();uue();nP();WKe();JKe();ZKe();ade();eqe();J$e();rqe();iqe();uqe();GR();Sj()});function yP(t){let{key:e="public",name:r="Public Client"}=t;return Ny({...t,key:e,name:r,type:"publicClient"}).extend(dqe)}var pqe=D(()=>{oP();fqe()});async function hqe(t,{chain:e}){let{id:r,name:n,nativeCurrency:i,rpcUrls:o,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:De(r),chainName:n,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:a?Object.values(a).map(({url:s})=>s):void 0}]},{dedupe:!0,retryCount:0})}var mqe=D(()=>{ar()});function bqe(t,e){let{abi:r,args:n,bytecode:i,...o}=e,a=yd({abi:r,args:n,bytecode:i});return Oy(t,{...o,...o.authorizationList?{to:null}:{},data:a})}var yqe=D(()=>{XR();iP()});async function gqe(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>sp(r))}var wqe=D(()=>{Uh()});async function vqe(t,e={}){let{account:r=t.account,chainId:n}=e,i=r?Ar(r):void 0,o=n?[i?.address,[De(n)]]:[i?.address],a=await t.request({method:"wallet_getCapabilities",params:o}),s={};for(let[c,l]of Object.entries(a)){s[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),s[Number(c)][u]=d}return typeof n=="number"?s[n]:s}var Eqe=D(()=>{Ji();ar()});async function xqe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}var Aqe=D(()=>{});async function f3(t,e){let{account:r=t.account,chainId:n,nonce:i}=e;if(!r)throw new No({docsPath:"/docs/eip7702/prepareAuthorization"});let o=Ar(r),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:Ar(e.executor)})(),s={address:e.contractAddress??e.address,chainId:n,nonce:i};return typeof s.chainId>"u"&&(s.chainId=t.chain?.id??await Fe(t,zi,"getChainId")({})),typeof s.nonce>"u"&&(s.nonce=await Fe(t,Ey,"getTransactionCount")({address:o.address,blockTag:"pending"}),(a==="self"||a?.address&&yp(a.address,o.address))&&(s.nonce+=1)),s}var P$=D(()=>{Ji();Hf();fx();Cn();bp();zR()});async function Tqe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>Qa(r))}var _qe=D(()=>{Uh()});async function Sqe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}var Iqe=D(()=>{});async function Cqe(t,e){let{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}var Rqe=D(()=>{});async function Pqe(t,e){let{account:r=t.account}=e;if(!r)throw new No({docsPath:"/docs/eip7702/signAuthorization"});let n=Ar(r);if(!n.signAuthorization)throw new Py({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let i=await f3(t,e);return n.signAuthorization(i)}var Oqe=D(()=>{Ji();Hf();P$()});async function p3(t,{account:e=t.account,message:r}){if(!e)throw new No({docsPath:"/docs/actions/wallet/signMessage"});let n=Ar(e);if(n.signMessage)return n.signMessage({message:r});let i=typeof r=="string"?Ja(r):r.raw instanceof Uint8Array?gr(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}var sde=D(()=>{Ji();Hf();ar()});async function Nqe(t,e){let{account:r=t.account,chain:n=t.chain,...i}=e;if(!r)throw new No({docsPath:"/docs/actions/wallet/signTransaction"});let o=Ar(r);el({account:o,...e});let a=await Fe(t,zi,"getChainId")({});n!==null&&Tj({currentChainId:a,chain:n});let c=(n?.formatters||t.chain?.formatters)?.transactionRequest?.format||md;return o.signTransaction?o.signTransaction({...i,chainId:a},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(i),chainId:De(a),from:o.address}]},{retryCount:0})}var kqe=D(()=>{Ji();Hf();pue();ar();t3();Cn();wy();bp()});async function gP(t,e){let{account:r=t.account,domain:n,message:i,primaryType:o}=e;if(!r)throw new No({docsPath:"/docs/actions/wallet/signTypedData"});let a=Ar(r),s={EIP712Domain:Ep({domain:n}),...e.types};if(Zh({domain:n,message:i,primaryType:o,types:s}),a.signTypedData)return a.signTypedData({domain:n,message:i,primaryType:o,types:s});let c=Bue({domain:n,message:i,primaryType:o,types:s});return t.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}var cde=D(()=>{Ji();Hf();e$()});async function Mqe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:De(e)}]},{retryCount:0})}var Bqe=D(()=>{ar()});async function Dqe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}var Lqe=D(()=>{});function Uqe(t){return{addChain:e=>hqe(t,e),deployContract:e=>bqe(t,e),getAddresses:()=>gqe(t),getCallsStatus:e=>Oj(t,e),getCapabilities:e=>vqe(t,e),getChainId:()=>zi(t),getPermissions:()=>xqe(t),prepareAuthorization:e=>f3(t,e),prepareTransactionRequest:e=>xy(t,e),requestAddresses:()=>Tqe(t),requestPermissions:e=>Sqe(t,e),sendCalls:e=>Z$e(t,e),sendRawTransaction:e=>Tx(t,e),sendTransaction:e=>Oy(t,e),showCallsStatus:e=>Cqe(t,e),signAuthorization:e=>Pqe(t,e),signMessage:e=>p3(t,e),signTransaction:e=>Nqe(t,e),signTypedData:e=>gP(t,e),switchChain:e=>Mqe(t,e),waitForCallsStatus:e=>X$e(t,e),watchAsset:e=>Dqe(t,e),writeContract:e=>$n(t,e)}}var Fqe=D(()=>{bp();mqe();yqe();wqe();Eue();Eqe();Aqe();P$();GR();_qe();Iqe();vue();Sj();iP();Rqe();Oqe();sde();kqe();cde();Bqe();eVe();Lqe();bue()});function Xh(t){let{key:e="wallet",name:r="Wallet Client",transport:n}=t;return Ny({...t,key:e,name:r,transport:n,type:"walletClient"}).extend(Uqe)}var Hqe=D(()=>{oP();Fqe()});var jt=D(()=>{Bv();oVe();fVe();pqe();Hqe();ode();Rle();xE();oue();fd();XR();tc();iKe();cP();ca();ar();Ta();WVe();eKe();Aa();Uh();t$();Zc();Bh();hKe();cd();cp();e$()});var k$={};lr(k$,{fromBytes:()=>lde,fromHex:()=>sjt,fromString:()=>cjt,toBytes:()=>ude,toHex:()=>ljt,toString:()=>ujt});function lde(t,e={}){let{pad:r=!0,url:n=!1}=e,i=new Uint8Array(Math.ceil(t.length/3)*4);for(let c=0,l=0;l<t.length;c+=4,l+=3){let u=(t[l]<<16)+(t[l+1]<<8)+(t[l+2]|0);i[c]=O$[u>>18],i[c+1]=O$[u>>12&63],i[c+2]=O$[u>>6&63],i[c+3]=O$[u&63]}let o=t.length%3,a=Math.floor(t.length/3)*4+(o&&o+1),s=ajt.decode(new Uint8Array(i.buffer,0,a));return r&&o===1&&(s+="=="),r&&o===2&&(s+="="),n&&(s=s.replaceAll("+","-").replaceAll("/","_")),s}function sjt(t,e={}){return lde(bd(t),e)}function cjt(t,e={}){return lde(sj(t),e)}function ude(t){let e=t.replace(/=+$/,""),r=e.length,n=new Uint8Array(r+3);ojt.encodeInto(e+"===",n);for(let o=0,a=0;o<e.length;o+=4,a+=3){let s=(N$[n[o]]<<18)+(N$[n[o+1]]<<12)+(N$[n[o+2]]<<6)+N$[n[o+3]];n[a]=s>>16,n[a+1]=s>>8&255,n[a+2]=s&255}let i=(r>>2)*3+(r%4&&r%4-1);return new Uint8Array(n.buffer,0,i)}function ljt(t){return Ps(ude(t))}function ujt(t){return _$e(ude(t))}var ojt,ajt,O$,N$,zqe=D(()=>{Wh();ac();ojt=new TextEncoder,ajt=new TextDecoder,O$=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[e,t.charCodeAt(0)])),N$={...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[t.charCodeAt(0),e])),61:0,45:62,95:63}});var Gqe=D(()=>{});var e0n,jqe=D(()=>{e0n=Uint8Array.from([105,171,180,181,160,222,75,198,42,42,32,31,141,37,186,233])});var Dx={};lr(Dx,{InvalidRError:()=>B$,InvalidSError:()=>D$,InvalidSerializedSizeError:()=>M$,InvalidVError:()=>L$,InvalidYParityError:()=>h3,MissingPropertiesError:()=>Bx,assert:()=>U$,extract:()=>pjt,from:()=>fde,fromBytes:()=>$qe,fromDerBytes:()=>hjt,fromDerHex:()=>Vqe,fromHex:()=>dde,fromLegacy:()=>Kqe,fromRpc:()=>qqe,fromTuple:()=>mjt,toBytes:()=>bjt,toDerBytes:()=>yjt,toDerHex:()=>gjt,toHex:()=>Wqe,toLegacy:()=>wjt,toRpc:()=>vjt,toTuple:()=>Ejt,vToYParity:()=>F$,validate:()=>xjt,yParityToV:()=>pde});function U$(t,e={}){let{recovered:r}=e;if(typeof t.r>"u")throw new Bx({signature:t});if(typeof t.s>"u")throw new Bx({signature:t});if(r&&typeof t.yParity>"u")throw new Bx({signature:t});if(t.r<0n||t.r>Zue)throw new B$({value:t.r});if(t.s<0n||t.s>Zue)throw new D$({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new h3({value:t.yParity})}function $qe(t){return dde(Ps(t))}function dde(t){if(t.length!==130&&t.length!==132)throw new M$({signature:t});let e=BigInt(Xa(t,0,32)),r=BigInt(Xa(t,32,64)),n=(()=>{let i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return F$(i)}catch{throw new h3({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function pjt(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return fde(t)}function fde(t){let e=typeof t=="string"?dde(t):t instanceof Uint8Array?$qe(t):typeof t.r=="string"?qqe(t):t.v?Kqe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return U$(e),e}function hjt(t){return Vqe(Ps(t))}function Vqe(t){let{r:e,s:r}=Vm.Signature.fromDER(vx(t).slice(2));return{r:e,s:r}}function Kqe(t){return{r:t.r,s:t.s,yParity:F$(t.v)}}function qqe(t){let e=(()=>{let r=t.v?Number(t.v):void 0,n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=F$(r)),typeof n!="number")throw new h3({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function mjt(t){let[e,r,n]=t;return fde({r:r==="0x"?0n:BigInt(r),s:n==="0x"?0n:BigInt(n),yParity:e==="0x"?0:Number(e)})}function bjt(t){return bd(Wqe(t))}function Wqe(t){U$(t);let e=t.r,r=t.s;return _a(On(e,{size:32}),On(r,{size:32}),typeof t.yParity=="number"?On(pde(t.yParity),{size:1}):"0x")}function yjt(t){return new Vm.Signature(t.r,t.s).toDERRawBytes()}function gjt(t){return`0x${new Vm.Signature(t.r,t.s).toDERHex()}`}function wjt(t){return{r:t.r,s:t.s,v:pde(t.yParity)}}function vjt(t){let{r:e,s:r,yParity:n}=t;return{r:On(e,{size:32}),s:On(r,{size:32}),yParity:n===0?"0x0":"0x1"}}function Ejt(t){let{r:e,s:r,yParity:n}=t;return[n?"0x01":"0x",e===0n?"0x":JR(On(e)),r===0n?"0x":JR(On(r))]}function xjt(t,e={}){try{return U$(t,e),!0}catch{return!1}}function F$(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new L$({value:t})}function pde(t){if(t===0)return 27;if(t===1)return 28;throw new h3({value:t})}var M$,Bx,B$,D$,h3,L$,Yqe=D(()=>{dre();Wh();Lf();ac();bx();pP();M$=class extends Tr{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${uo(vx(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},Bx=class extends Tr{constructor({signature:e}){super(`Signature \`${Ty(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},B$=class extends Tr{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},D$=class extends Tr{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},h3=class extends Tr{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},L$=class extends Tr{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}});var e5,t5,Jqe=D(()=>{e5=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],t5=[{inputs:[{name:"success",type:"bool"},{name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"},{name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint256"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]});function H$(t){let{authorization:e,factory:r,factoryData:n}=t;if(r==="0x7702"||r==="0x7702000000000000000000000000000000000000"){if(!e)return"0x7702000000000000000000000000000000000000";let i=e.address;return xr([i,n??"0x"])}return r?xr([r,n??"0x"]):"0x"}var hde=D(()=>{Ta()});function m3(t){let{callGasLimit:e,callData:r,maxPriorityFeePerGas:n,maxFeePerGas:i,paymaster:o,paymasterData:a,paymasterPostOpGasLimit:s,paymasterVerificationGasLimit:c,sender:l,signature:u="0x",verificationGasLimit:d}=t,f=xr([En(De(d||0n),{size:16}),En(De(e||0n),{size:16})]),p=H$(t),h=xr([En(De(n||0n),{size:16}),En(De(i||0n),{size:16})]),b=t.nonce??0n,_=o?xr([o,En(De(c||0n),{size:16}),En(De(s||0n),{size:16}),a||"0x"]):"0x",A=t.preVerificationGas??0n;return{accountGasLimits:f,callData:r,initCode:p,gasFees:h,nonce:b,paymasterAndData:_,preVerificationGas:A,sender:l,signature:u}}var z$=D(()=>{Ta();Bh();rl();hde()});function Qqe(t){let{chainId:e,entryPointAddress:r,userOperation:n}=t,i=m3(n);return{types:Ajt,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:e,verifyingContract:r},message:i}}var Ajt,Zqe=D(()=>{z$();Ajt={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]}});function r5(t){let{chainId:e,entryPointAddress:r,entryPointVersion:n}=t,i=t.userOperation,{authorization:o,callData:a="0x",callGasLimit:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,paymasterAndData:d="0x",preVerificationGas:f,sender:p,verificationGasLimit:h}=i;if(n==="0.8")return Os(Qqe({chainId:e,entryPointAddress:r,userOperation:i}));let b=(()=>{if(n==="0.6"){let _=i.initCode?.slice(0,42),A=i.initCode?.slice(42),C=H$({authorization:o,factory:_,factoryData:A});return pr([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[p,u,Bt(C),Bt(a),s,h,f,c,l,Bt(d)])}if(n==="0.7"){let _=m3(i);return pr([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[_.sender,_.nonce,Bt(_.initCode),Bt(_.callData),_.accountGasLimits,_.preVerificationGas,_.gasFees,Bt(_.paymasterAndData)])}throw new Error(`entryPointVersion "${n}" not supported.`)})();return Bt(pr([{type:"bytes32"},{type:"address"},{type:"uint256"}],[Bt(b),r,BigInt(e)]))}var Xqe=D(()=>{fd();Zc();cP();hde();Zqe();z$()});async function iu(t){let{extend:e,nonceKeyManager:r=Hue({source:{get(){return Date.now()},set(){}}}),...n}=t,i=!1,o=await t.getAddress();return{...e,...n,address:o,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:t.getFactoryArgs()},async getNonce(a){let s=a?.key??BigInt(await r.consume({address:o,chainId:t.client.chain.id,client:t.client}));return t.getNonce?await t.getNonce({...a,key:s}):await ht(t.client,{abi:Vg(["function getNonce(address, uint192) pure returns (uint256)"]),address:t.entryPoint.address,functionName:"getNonce",args:[o,s]})},async isDeployed(){return i?!0:(i=!!await Fe(t.client,Gf,"getCode")({address:o}),i)},...t.sign?{async sign(a){let[{factory:s,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.sign(a)]);return s&&c?Cx({address:s,data:c,signature:l}):l}}:{},async signMessage(a){let[{factory:s,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.signMessage(a)]);return s&&c&&s!=="0x7702"?Cx({address:s,data:c,signature:l}):l},async signTypedData(a){let[{factory:s,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.signTypedData(a)]);return s&&c&&s!=="0x7702"?Cx({address:s,data:c,signature:l}):l},type:"smart"}}var eWe=D(()=>{Bv();Wj();Ff();Cn();mKe();Uue()});function mde(t){if(typeof t=="string"){if(!Hi(t,{strict:!1}))throw new Jo({address:t});return{address:t,type:"json-rpc"}}if(!Hi(t.address,{strict:!1}))throw new Jo({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}var tWe=D(()=>{Lh();Mf()});var rWe=D(()=>{tWe()});var Lx,xp,Ux,Fx,Hx,zx,Gx,jx,$x,Vx,Kx,qx,Wx,b3,Yx,Ap,Jx,Qx,y3,g3,Zx,Xx,w3,eA,v3,tA,rA,nA,iA,E3,x3,A3,T3,G$,oA,aA,bde=D(()=>{Pr();Lx=class extends ue{constructor({cause:e}){super("Smart Account is not deployed.",{cause:e,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}};Object.defineProperty(Lx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});xp=class extends ue{constructor({cause:e,data:r,message:n}={}){let i=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r}};Object.defineProperty(xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521});Object.defineProperty(xp,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});Ux=class extends ue{constructor({cause:e}){super("Failed to send funds to beneficiary.",{cause:e,name:"FailedToSendToBeneficiaryError"})}};Object.defineProperty(Ux,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});Fx=class extends ue{constructor({cause:e}){super("Gas value overflowed.",{cause:e,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}};Object.defineProperty(Fx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});Hx=class extends ue{constructor({cause:e}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:e,name:"HandleOpsOutOfGasError"})}};Object.defineProperty(Hx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});zx=class extends ue{constructor({cause:e,factory:r,factoryData:n,initCode:i}){super("Failed to simulate deployment for Smart Account.",{cause:e,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)",`- Smart Account deployment execution reverted with an error
`,r&&`factory: ${r}`,n&&`factoryData: ${n}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeFailedError"})}};Object.defineProperty(zx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});Gx=class extends ue{constructor({cause:e,factory:r,factoryData:n,initCode:i}){super("Smart Account initialization implementation did not create an account.",{cause:e,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid",`- Smart Account initialization implementation is incorrect
`,r&&`factory: ${r}`,n&&`factoryData: ${n}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}};Object.defineProperty(Gx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});jx=class extends ue{constructor({cause:e,factory:r,factoryData:n,initCode:i,sender:o}){super("Smart Account initialization implementation does not return the expected sender.",{cause:e,metaMessages:["This could arise when:",`Smart Account initialization implementation does not return a sender address
`,r&&`factory: ${r}`,n&&`factoryData: ${n}`,i&&`initCode: ${i}`,o&&`sender: ${o}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}};Object.defineProperty(jx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});$x=class extends ue{constructor({cause:e}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:e,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}};Object.defineProperty($x,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});Vx=class extends ue{constructor({cause:e}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:e,name:"InternalCallOnlyError"})}};Object.defineProperty(Vx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});Kx=class extends ue{constructor({cause:e}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:e,name:"InvalidAggregatorError"})}};Object.defineProperty(Kx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});qx=class extends ue{constructor({cause:e,nonce:r}){super("Invalid Smart Account nonce used for User Operation.",{cause:e,metaMessages:[r&&`nonce: ${r}`].filter(Boolean),name:"InvalidAccountNonceError"})}};Object.defineProperty(qx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});Wx=class extends ue{constructor({cause:e}){super("Bundler has not set a beneficiary address.",{cause:e,name:"InvalidBeneficiaryError"})}};Object.defineProperty(Wx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});b3=class extends ue{constructor({cause:e}){super("Invalid fields set on User Operation.",{cause:e,name:"InvalidFieldsError"})}};Object.defineProperty(b3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});Yx=class extends ue{constructor({cause:e,paymasterAndData:r}){super("Paymaster properties provided are invalid.",{cause:e,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",r&&`paymasterAndData: ${r}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}};Object.defineProperty(Yx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});Ap=class extends ue{constructor({cause:e}){super("Paymaster deposit for the User Operation is too low.",{cause:e,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}};Object.defineProperty(Ap,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508});Object.defineProperty(Ap,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});Jx=class extends ue{constructor({cause:e}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:e,name:"PaymasterFunctionRevertedError"})}};Object.defineProperty(Jx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});Qx=class extends ue{constructor({cause:e}){super("The Paymaster contract has not been deployed.",{cause:e,name:"PaymasterNotDeployedError"})}};Object.defineProperty(Qx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});y3=class extends ue{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterRateLimitError"})}};Object.defineProperty(y3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});g3=class extends ue{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterStakeTooLowError"})}};Object.defineProperty(g3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});Zx=class extends ue{constructor({cause:e}){super("Paymaster `postOp` function reverted.",{cause:e,name:"PaymasterPostOpFunctionRevertedError"})}};Object.defineProperty(Zx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});Xx=class extends ue{constructor({cause:e,factory:r,factoryData:n,initCode:i}){super("Smart Account has already been deployed.",{cause:e,metaMessages:["Remove the following properties and try again:",r&&"`factory`",n&&"`factoryData`",i&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}};Object.defineProperty(Xx,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});w3=class extends ue{constructor({cause:e}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:e,name:"SignatureCheckFailedError"})}};Object.defineProperty(w3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});eA=class extends ue{constructor({cause:e}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:e,name:"SmartAccountFunctionRevertedError"})}};Object.defineProperty(eA,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});v3=class extends ue{constructor({cause:e}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:e,name:"UnsupportedSignatureAggregatorError"})}};Object.defineProperty(v3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});tA=class extends ue{constructor({cause:e}){super("User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}};Object.defineProperty(tA,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});rA=class extends ue{constructor({cause:e}){super("Paymaster for User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}};Object.defineProperty(rA,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});nA=class extends ue{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}};Object.defineProperty(nA,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});iA=class extends ue{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}};Object.defineProperty(iA,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});E3=class extends ue{constructor({cause:e}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:e,name:"UserOperationRejectedByEntryPointError"})}};Object.defineProperty(E3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});x3=class extends ue{constructor({cause:e}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:e,name:"UserOperationRejectedByPaymasterError"})}};Object.defineProperty(x3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});A3=class extends ue{constructor({cause:e}){super("User Operation rejected with op code validation error.",{cause:e,name:"UserOperationRejectedByOpCodeError"})}};Object.defineProperty(A3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});T3=class extends ue{constructor({cause:e}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:e,name:"UserOperationOutOfTimeRangeError"})}};Object.defineProperty(T3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});G$=class extends ue{constructor({cause:e}){super(`An error occurred while executing user operation: ${e?.shortMessage}`,{cause:e,name:"UnknownBundlerError"})}},oA=class extends ue{constructor({cause:e}){super("User Operation verification gas limit exceeded.",{cause:e,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}};Object.defineProperty(oA,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});aA=class extends ue{constructor({cause:e}){super("User Operation verification gas limit is too low.",{cause:e,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}};Object.defineProperty(aA,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/})});var j$,$$,V$,wP,vP=D(()=>{Pr();fp();rl();j$=class extends ue{constructor(e,{callData:r,callGasLimit:n,docsPath:i,factory:o,factoryData:a,initCode:s,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,paymaster:d,paymasterAndData:f,paymasterData:p,paymasterPostOpGasLimit:h,paymasterVerificationGasLimit:b,preVerificationGas:_,sender:A,signature:C,verificationGasLimit:R}){let M=Fh({callData:r,callGasLimit:n,factory:o,factoryData:a,initCode:s,maxFeePerGas:typeof c<"u"&&`${lo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${lo(l)} gwei`,nonce:u,paymaster:d,paymasterAndData:f,paymasterData:p,paymasterPostOpGasLimit:h,paymasterVerificationGasLimit:b,preVerificationGas:_,sender:A,signature:C,verificationGasLimit:R});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",M].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},$$=class extends ue{constructor({hash:e}){super(`User Operation receipt with hash "${e}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}},V$=class extends ue{constructor({hash:e}){super(`User Operation with hash "${e}" could not be found.`,{name:"UserOperationNotFoundError"})}},wP=class extends ue{constructor({hash:e}){super(`Timed out while waiting for User Operation with hash "${e}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}});function nWe(t,e){let r=(t.details||"").toLowerCase();if(Lx.message.test(r))return new Lx({cause:t});if(Ux.message.test(r))return new Ux({cause:t});if(Fx.message.test(r))return new Fx({cause:t});if(Hx.message.test(r))return new Hx({cause:t});if(zx.message.test(r))return new zx({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(Gx.message.test(r))return new Gx({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(jx.message.test(r))return new jx({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode,sender:e.sender});if($x.message.test(r))return new $x({cause:t});if(Vx.message.test(r))return new Vx({cause:t});if(qx.message.test(r))return new qx({cause:t,nonce:e.nonce});if(Kx.message.test(r))return new Kx({cause:t});if(Wx.message.test(r))return new Wx({cause:t});if(Yx.message.test(r))return new Yx({cause:t});if(Ap.message.test(r))return new Ap({cause:t});if(Jx.message.test(r))return new Jx({cause:t});if(Qx.message.test(r))return new Qx({cause:t});if(Zx.message.test(r))return new Zx({cause:t});if(eA.message.test(r))return new eA({cause:t});if(Xx.message.test(r))return new Xx({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(tA.message.test(r))return new tA({cause:t});if(rA.message.test(r))return new rA({cause:t});if(iA.message.test(r))return new iA({cause:t});if(nA.message.test(r))return new nA({cause:t});if(oA.message.test(r))return new oA({cause:t});if(aA.message.test(r))return new aA({cause:t});let n=t.walk(i=>Tjt.some(o=>o.code===i.code));if(n){if(n.code===xp.code)return new xp({cause:t,data:n.data,message:n.details});if(n.code===b3.code)return new b3({cause:t});if(n.code===Ap.code)return new Ap({cause:t});if(n.code===y3.code)return new y3({cause:t});if(n.code===g3.code)return new g3({cause:t});if(n.code===w3.code)return new w3({cause:t});if(n.code===v3.code)return new v3({cause:t});if(n.code===T3.code)return new T3({cause:t});if(n.code===E3.code)return new E3({cause:t});if(n.code===x3.code)return new x3({cause:t});if(n.code===A3.code)return new A3({cause:t})}return new G$({cause:t})}var Tjt,iWe=D(()=>{bde();Tjt=[xp,b3,Ap,y3,g3,w3,v3,T3,E3,x3,A3]});function K$(t,{calls:e,docsPath:r,...n}){let i=(()=>{let o=nWe(t,n);if(e&&o instanceof xp){let a=_jt(o),s=e?.filter(c=>c.abi);if(a&&s.length>0)return Sjt({calls:s,revertData:a})}return o})();return new j$(i,{docsPath:r,...n})}function _jt(t){let e;return t.walk(r=>{let n=r;if(typeof n.data=="string"||typeof n.data?.revertData=="string"||!(n instanceof ue)&&typeof n.message=="string"){let i=(n.data?.revertData||n.data||n.message).match?.(/(0x[A-Za-z0-9]*)/);if(i)return e=i[1],!0}return!1}),e}function Sjt(t){let{calls:e,revertData:r}=t,{abi:n,functionName:i,args:o,to:a}=(()=>{let c=e?.filter(u=>!!u.abi);if(c.length===1)return c[0];let l=c.filter(u=>{try{return!!AE({abi:u.abi,data:r})}catch{return!1}});return l.length===1?l[0]:{abi:[],functionName:c.reduce((u,d)=>`${u?`${u} | `:""}${d.functionName}`,""),args:void 0,to:void 0}})(),s=r==="0x"?new CE({functionName:i}):new Hh({abi:n,data:r,functionName:i});return new V8(s,{abi:n,args:o,contractAddress:a,functionName:i})}var yde=D(()=>{Pr();zh();hG();bde();vP();iWe()});function oWe(t){let e={};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),e}var aWe=D(()=>{});function My(t){let e={};return typeof t.callData<"u"&&(e.callData=t.callData),typeof t.callGasLimit<"u"&&(e.callGasLimit=De(t.callGasLimit)),typeof t.factory<"u"&&(e.factory=t.factory),typeof t.factoryData<"u"&&(e.factoryData=t.factoryData),typeof t.initCode<"u"&&(e.initCode=t.initCode),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=De(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=De(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=De(t.nonce)),typeof t.paymaster<"u"&&(e.paymaster=t.paymaster),typeof t.paymasterAndData<"u"&&(e.paymasterAndData=t.paymasterAndData||"0x"),typeof t.paymasterData<"u"&&(e.paymasterData=t.paymasterData),typeof t.paymasterPostOpGasLimit<"u"&&(e.paymasterPostOpGasLimit=De(t.paymasterPostOpGasLimit)),typeof t.paymasterVerificationGasLimit<"u"&&(e.paymasterVerificationGasLimit=De(t.paymasterVerificationGasLimit)),typeof t.preVerificationGas<"u"&&(e.preVerificationGas=De(t.preVerificationGas)),typeof t.sender<"u"&&(e.sender=t.sender),typeof t.signature<"u"&&(e.signature=t.signature),typeof t.verificationGasLimit<"u"&&(e.verificationGasLimit=De(t.verificationGasLimit)),typeof t.authorization<"u"&&(e.eip7702Auth=Ijt(t.authorization)),e}function Ijt(t){return{address:t.address,chainId:De(t.chainId),nonce:De(t.nonce),r:t.r?De(BigInt(t.r),{size:32}):En("0x",{size:32}),s:t.s?De(BigInt(t.s),{size:32}):En("0x",{size:32}),yParity:t.yParity?De(t.yParity,{size:1}):En("0x",{size:32})}}var EP=D(()=>{ar();rl()});var zt=D(()=>{s3();bp();Wj();Ff();P$();sde();cde();uue();bue()});async function q$(t,e){let{chainId:r,entryPointAddress:n,context:i,...o}=e,a=My(o),{paymasterPostOpGasLimit:s,paymasterVerificationGasLimit:c,...l}=await t.request({method:"pm_getPaymasterData",params:[{...a,callGasLimit:a.callGasLimit??"0x0",verificationGasLimit:a.verificationGasLimit??"0x0",preVerificationGas:a.preVerificationGas??"0x0"},n,De(r),i]});return{...l,...s&&{paymasterPostOpGasLimit:Rn(s)},...c&&{paymasterVerificationGasLimit:Rn(c)}}}var gde=D(()=>{Aa();ar();EP()});async function W$(t,e){let{chainId:r,entryPointAddress:n,context:i,...o}=e,a=My(o),{paymasterPostOpGasLimit:s,paymasterVerificationGasLimit:c,...l}=await t.request({method:"pm_getPaymasterStubData",params:[{...a,callGasLimit:a.callGasLimit??"0x0",verificationGasLimit:a.verificationGasLimit??"0x0",preVerificationGas:a.preVerificationGas??"0x0"},n,De(r),i]});return{...l,...s&&{paymasterPostOpGasLimit:Rn(s)},...c&&{paymasterVerificationGasLimit:Rn(c)}}}var wde=D(()=>{Aa();ar();EP()});async function sA(t,e){let r=e,{account:n=t.account,parameters:i=Cjt,stateOverride:o}=r;if(!n)throw new No;let a=Ar(n),s=t,c=r.paymaster??s?.paymaster,l=typeof c=="string"?c:void 0,{getPaymasterStubData:u,getPaymasterData:d}=(()=>{if(c===!0)return{getPaymasterStubData:F=>Fe(s,W$,"getPaymasterStubData")(F),getPaymasterData:F=>Fe(s,q$,"getPaymasterData")(F)};if(typeof c=="object"){let{getPaymasterStubData:F,getPaymasterData:z}=c;return{getPaymasterStubData:z&&F?F:z,getPaymasterData:z&&F?z:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),f=r.paymasterContext?r.paymasterContext:s?.paymasterContext,p={...r,paymaster:l,sender:a.address},[h,b,_,A,C]=await Promise.all([(async()=>r.calls?a.encodeCalls(r.calls.map(F=>{let z=F;return z.abi?{data:Re(z),to:z.to,value:z.value}:z})):r.callData)(),(async()=>{if(!i.includes("factory"))return;if(r.initCode)return{initCode:r.initCode};if(r.factory&&r.factoryData)return{factory:r.factory,factoryData:r.factoryData};let{factory:F,factoryData:z}=await a.getFactoryArgs();return a.entryPoint.version==="0.6"?{initCode:F&&z?xr([F,z]):void 0}:{factory:F,factoryData:z}})(),(async()=>{if(i.includes("fees")){if(typeof r.maxFeePerGas=="bigint"&&typeof r.maxPriorityFeePerGas=="bigint")return p;if(s?.userOperation?.estimateFeesPerGas){let F=await s.userOperation.estimateFeesPerGas({account:a,bundlerClient:s,userOperation:p});return{...p,...F}}try{let F=s.client??t,z=await Fe(F,KG,"estimateFeesPerGas")({chain:F.chain,type:"eip1559"});return{maxFeePerGas:typeof r.maxFeePerGas=="bigint"?r.maxFeePerGas:BigInt(2n*z.maxFeePerGas),maxPriorityFeePerGas:typeof r.maxPriorityFeePerGas=="bigint"?r.maxPriorityFeePerGas:BigInt(2n*z.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(i.includes("nonce"))return typeof r.nonce=="bigint"?r.nonce:a.getNonce()})(),(async()=>{if(i.includes("authorization")){if(typeof r.authorization=="object")return r.authorization;if(a.authorization&&!await a.isDeployed())return{...await f3(a.client,a.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);typeof h<"u"&&(p.callData=h),typeof b<"u"&&(p={...p,...b}),typeof _<"u"&&(p={...p,..._}),typeof A<"u"&&(p.nonce=A),typeof C<"u"&&(p.authorization=C),i.includes("signature")&&(typeof r.signature<"u"?p.signature=r.signature:p.signature=await a.getStubSignature(p)),a.entryPoint.version==="0.6"&&!p.initCode&&(p.initCode="0x");let R;async function M(){return R||(t.chain?t.chain.id:(R=await Fe(t,zi,"getChainId")({}),R))}let U=!1;if(i.includes("paymaster")&&u&&!l&&!r.paymasterAndData){let{isFinal:F=!1,sponsor:z,...N}=await u({chainId:await M(),entryPointAddress:a.entryPoint.address,context:f,...p});U=F,p={...p,...N}}if(a.entryPoint.version==="0.6"&&!p.paymasterAndData&&(p.paymasterAndData="0x"),i.includes("gas")){if(a.userOperation?.estimateGas){let F=await a.userOperation.estimateGas(p);p={...p,...F}}if(typeof p.callGasLimit>"u"||typeof p.preVerificationGas>"u"||typeof p.verificationGasLimit>"u"||p.paymaster&&typeof p.paymasterPostOpGasLimit>"u"||p.paymaster&&typeof p.paymasterVerificationGasLimit>"u"){let F=await Fe(s,J$,"estimateUserOperationGas")({account:a,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:o,...p.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...p});p={...p,callGasLimit:p.callGasLimit??F.callGasLimit,preVerificationGas:p.preVerificationGas??F.preVerificationGas,verificationGasLimit:p.verificationGasLimit??F.verificationGasLimit,paymasterPostOpGasLimit:p.paymasterPostOpGasLimit??F.paymasterPostOpGasLimit,paymasterVerificationGasLimit:p.paymasterVerificationGasLimit??F.paymasterVerificationGasLimit}}}if(i.includes("paymaster")&&d&&!l&&!r.paymasterAndData&&!U){let F=await d({chainId:await M(),entryPointAddress:a.entryPoint.address,context:f,...p});p={...p,...F}}return delete p.calls,delete p.parameters,delete p.paymasterContext,typeof p.paymaster!="string"&&delete p.paymaster,p}var Cjt,Y$=D(()=>{Ji();zt();WG();bp();Hf();tc();Ta();Cn();gde();wde();vde();Cjt=["factory","fees","gas","paymaster","nonce","signature","authorization"]});async function J$(t,e){let{account:r=t.account,entryPointAddress:n,stateOverride:i}=e;if(!r&&!e.sender)throw new No;let o=r?Ar(r):void 0,a=gy(i),s=o?await Fe(t,sA,"prepareUserOperation")({...e,parameters:["authorization","factory","nonce","paymaster","signature"]}):e;try{let c=[My(s),n??o?.entryPoint?.address],l=await t.request({method:"eth_estimateUserOperationGas",params:a?[...c,a]:[...c]});return oWe(l)}catch(c){let l=e.calls;throw K$(c,{...s,...l?{calls:l}:{}})}}var vde=D(()=>{Ji();Hf();Cn();HR();yde();aWe();EP();Y$()});function sWe(t){return t.request({method:"eth_supportedEntryPoints"})}var cWe=D(()=>{});function lWe(t){let e={...t};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.maxFeePerGas&&(e.maxFeePerGas=BigInt(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=BigInt(t.maxPriorityFeePerGas)),t.nonce&&(e.nonce=BigInt(t.nonce)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),e}var uWe=D(()=>{});async function dWe(t,{hash:e}){let r=await t.request({method:"eth_getUserOperationByHash",params:[e]},{dedupe:!0});if(!r)throw new V$({hash:e});let{blockHash:n,blockNumber:i,entryPoint:o,transactionHash:a,userOperation:s}=r;return{blockHash:n,blockNumber:BigInt(i),entryPoint:o,transactionHash:a,userOperation:lWe(s)}}var fWe=D(()=>{vP();uWe()});function pWe(t){let e={...t};return t.actualGasCost&&(e.actualGasCost=BigInt(t.actualGasCost)),t.actualGasUsed&&(e.actualGasUsed=BigInt(t.actualGasUsed)),t.logs&&(e.logs=t.logs.map(r=>Za(r))),t.receipt&&(e.receipt=Rj(e.receipt)),e}var hWe=D(()=>{Kh();Pj()});async function Q$(t,{hash:e}){let r=await t.request({method:"eth_getUserOperationReceipt",params:[e]},{dedupe:!0});if(!r)throw new $$({hash:e});return pWe(r)}var Ede=D(()=>{vP();hWe()});async function mWe(t,e){let{account:r=t.account,entryPointAddress:n}=e;if(!r&&!e.sender)throw new No;let i=r?Ar(r):void 0,o=i?await Fe(t,sA,"prepareUserOperation")(e):e,a=e.signature||await i?.signUserOperation?.(o),s=My({...o,signature:a});try{return await t.request({method:"eth_sendUserOperation",params:[s,n??i?.entryPoint?.address]},{retryCount:0})}catch(c){let l=e.calls;throw K$(c,{...o,...l?{calls:l}:{},signature:a})}}var bWe=D(()=>{Ji();Hf();Cn();yde();EP();Y$()});function yWe(t,e){let{hash:r,pollingInterval:n=t.pollingInterval,retryCount:i,timeout:o=12e4}=e,a=0,s=Xr(["waitForUserOperationReceipt",t.uid,r]);return new Promise((c,l)=>{let u=es(s,{resolve:c,reject:l},d=>{let f=h=>{p(),h(),u()},p=tl(async()=>{i&&a>=i&&f(()=>d.reject(new wP({hash:r})));try{let h=await Fe(t,Q$,"getUserOperationReceipt")({hash:r});f(()=>d.resolve(h))}catch(h){let b=h;b.name!=="UserOperationReceiptNotFoundError"&&f(()=>d.reject(b))}a++},{emitOnBegin:!0,interval:n});return o&&setTimeout(()=>f(()=>d.reject(new wP({hash:r}))),o),p})})}var gWe=D(()=>{Cn();Jh();Iy();Cs();vP();Ede()});function wWe(t){return{estimateUserOperationGas:e=>J$(t,e),getChainId:()=>zi(t),getSupportedEntryPoints:()=>sWe(t),getUserOperation:e=>dWe(t,e),getUserOperationReceipt:e=>Q$(t,e),prepareUserOperation:e=>sA(t,e),sendUserOperation:e=>mWe(t,e),waitForUserOperationReceipt:e=>yWe(t,e)}}var vWe=D(()=>{bp();vde();cWe();fWe();Ede();Y$();bWe();gWe()});function EWe(t){return{getPaymasterData:e=>q$(t,e),getPaymasterStubData:e=>W$(t,e)}}var xWe=D(()=>{gde();wde()});function xP(t){let{client:e,key:r="bundler",name:n="Bundler Client",paymaster:i,paymasterContext:o,transport:a,userOperation:s}=t;return Object.assign(Ny({...t,chain:t.chain??e?.chain,key:r,name:n,transport:a,type:"bundlerClient"}),{client:e,paymaster:i,paymasterContext:o,userOperation:s}).extend(wWe)}var AWe=D(()=>{oP();vWe()});function AP(t){let{key:e="bundler",name:r="Bundler Client",transport:n}=t;return Ny({...t,key:e,name:r,transport:n,type:"PaymasterClient"}).extend(EWe)}var TWe=D(()=>{oP();xWe()});var n5,jf,_We=D(()=>{n5="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",jf="0x0000000071727De22E5E9d8BAf0edAc6f37da032"});var SWe=D(()=>{});var ou=D(()=>{eWe();AWe();TWe();Jqe();_We();Xqe();z$()});function Ade(t){return async(e,r,n,i)=>{try{let o=await t.request(e);return r.result=o,i()}catch(o){return i(o)}}}var IWe,xde,Z$,CWe=D(()=>{nt();Ye();L0();ci();jc();Cf();IWe=ve(Or());jt();ou();xde=t=>(e,r,n,i)=>{if(e.isAAProviderRequest=!0,e.method==="eth_accounts"||e.method==="eth_requestAccounts"){r.result=[t],i();return}n()};Z$=class extends ei{constructor({config:e,state:r,getProviderConfig:n,onNetworkStateChange:i}){super({state:r,config:e}),V(this,"_smartAccount",void 0),V(this,"_publicClient",void 0),V(this,"_bundlerClient",void 0),V(this,"_paymasterClient",void 0),V(this,"getProviderConfig",void 0),this.initialize(),this.getProviderConfig=n,i(o=>{o.chainId!==this.config.chainId&&this.configure({chainId:o.chainId})})}get smartAccount(){return this._smartAccount}get bundlerClient(){return this._bundlerClient}async setupProvider(e,r){let n=this.getProviderConfig(),i=sP({id:Number.parseInt(n.chainId,16),name:n.displayName,rpcUrls:{default:{http:[n.rpcTarget],webSocket:[n.wsTarget]}},blockExplorers:n.blockExplorerUrl?{default:{name:"explorer",url:n.blockExplorerUrl}}:void 0,nativeCurrency:{name:n.tickerName,symbol:n.ticker,decimals:n.decimals||18}});this._publicClient=yP({chain:i,transport:Qh(n.rpcTarget)});let o=new ph;o.push(xde(r)),o.push(Ade(e));let a=b9(o),s=Xh({account:r,chain:i,transport:zf(a)});this._smartAccount=await this.config.smartAccountInit.getSmartAccount({walletClient:s,client:this._publicClient}),this.config.paymasterConfig&&(this._paymasterClient=AP(q(q({},this.config.paymasterConfig),{},{transport:zf(a)}))),this._bundlerClient=xP(q(q({},this.config.bundlerConfig),{},{account:this.smartAccount,client:this._publicClient,transport:zf(a),paymaster:this._paymasterClient})),IWe.default.info("check: this._smartAccount",this.smartAccount.address),this.update({smartAccountAddress:this.smartAccount.address})}async sendTransaction(e,r,n){var i,o,a,s,c,l;if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let u=r,d={account:this.smartAccount,calls:[{to:u.to,value:u.value?BigInt(u.value):void 0,data:u.data}],maxFeePerGas:u.maxFeePerGas?BigInt(u.maxFeePerGas):void 0,maxPriorityFeePerGas:u.maxPriorityFeePerGas?BigInt(u.maxPriorityFeePerGas):void 0,callGasLimit:u.callGasLimit?BigInt(u.callGasLimit):void 0,preVerificationGas:u.preVerificationGas?BigInt(u.preVerificationGas):void 0,verificationGasLimit:u.verificationGasLimit?BigInt(u.verificationGasLimit):void 0,paymasterVerificationGasLimit:u.paymasterVerificationGasLimit?BigInt(u.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:u.paymasterPostOpGasLimit?BigInt(u.paymasterPostOpGasLimit):void 0},f={transactionParams:u,chainId:(i=u.chainId)!==null&&i!==void 0?i:this.getProviderConfig().chainId,createdAt:new Date,status:Wt.approved};this.updateUserOpMeta(e,f);let p=await this.bundlerClient.sendUserOperation(d);this.updateUserOpMeta(e,{userOpHash:p,status:Wt.submitted});let h=await this.bundlerClient.waitForUserOperationReceipt({hash:p});return this.updateUserOpMeta(e,{receipt:{transactionHash:(o=h.receipt)===null||o===void 0?void 0:o.transactionHash,nonce:(a=h.nonce)===null||a===void 0?void 0:a.toString(),gasUsed:Gt((s=h.receipt)===null||s===void 0||(s=s.gasUsed)===null||s===void 0?void 0:s.toString(16)),effectiveGasPrice:Gt((c=h.receipt)===null||c===void 0||(c=c.effectiveGasPrice)===null||c===void 0?void 0:c.toString(16)),type:(l=h.receipt)===null||l===void 0?void 0:l.type,reason:h.reason},status:h.success?Wt.confirmed:Wt.failed}),h.receipt.transactionHash}async signTransaction(e,r,n){var i;if(n.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let o=r,a={transactionParams:o,chainId:(i=o.chainId)!==null&&i!==void 0?i:this.getProviderConfig().chainId,createdAt:new Date,status:Wt.approved};this.updateUserOpMeta(e,a);let s=await this.bundlerClient.prepareUserOperation({account:this.smartAccount,calls:[{to:o.to,value:o.value?BigInt(o.value):void 0,data:o.data}],maxFeePerGas:o.maxFeePerGas?BigInt(o.maxFeePerGas):void 0,maxPriorityFeePerGas:o.maxPriorityFeePerGas?BigInt(o.maxPriorityFeePerGas):void 0,callGasLimit:o.callGasLimit?BigInt(o.callGasLimit):void 0,preVerificationGas:o.preVerificationGas?BigInt(o.preVerificationGas):void 0,verificationGasLimit:o.verificationGasLimit?BigInt(o.verificationGasLimit):void 0,paymasterVerificationGasLimit:o.paymasterVerificationGasLimit?BigInt(o.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:o.paymasterPostOpGasLimit?BigInt(o.paymasterPostOpGasLimit):void 0}),c=await this.smartAccount.signUserOperation(s);return this.updateUserOpMeta(e,{signature:c,status:Wt.signed}),c}async estimateGas(e,r){if(r.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");let n=[{to:e.to,value:e.value?BigInt(e.value):void 0,data:e.data}],i=e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,o=e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,a={account:this.smartAccount,calls:n,maxFeePerGas:i,maxPriorityFeePerGas:o,stateOverride:[{address:this.smartAccount.address,balance:Fue("1")}]},s;this.smartAccount.entryPoint.version!=="0.6"&&(s=await this.smartAccount.getFactoryArgs()),s&&(s.factory&&(a.factory=s.factory),s.factoryData&&(a.factoryData=s.factoryData));let c=await this.bundlerClient.estimateUserOperationGas(a),l={callGasLimit:gr(c.callGasLimit),preVerificationGas:gr(c.preVerificationGas),verificationGasLimit:gr(c.verificationGasLimit)};return c.paymasterVerificationGasLimit&&(l.paymasterVerificationGasLimit=gr(c.paymasterVerificationGasLimit)),c.paymasterPostOpGasLimit&&(l.paymasterPostOpGasLimit=gr(c.paymasterPostOpGasLimit)),l}async signMessage(e,r){if(r.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return this.smartAccount.sign({hash:e})}async signPersonalMessage(e,r){var n;if(r.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return(n=this.smartAccount)===null||n===void 0?void 0:n.signMessage({message:Mr(e)?{raw:e}:e})}async signTypedData(e,r){var n;if(r.toLowerCase()!==this.smartAccount.address.toLowerCase())throw new Error("Invalid address");return(n=this.smartAccount)===null||n===void 0?void 0:n.signTypedData({domain:q(q({},e.domain),{},{verifyingContract:e.domain.verifyingContract,salt:e.domain.salt,chainId:Number(e.domain.chainId)}),primaryType:e.primaryType,types:e.types,message:e.message})}updateUserOpMeta(e,r){let n=this.state.userOperations[e];this.update({userOperations:q(q({},this.state.userOperations),{},{[e]:q(q({},n),r)})})}}});var Tde,Pjt,Ojt,RWe,cA,_de=D(()=>{Ye();ci();Tde=ve(Or()),Pjt=20,Ojt=2,RWe=1e3,cA=class extends mC{constructor({config:e,state:r={},idleTimeTracker:n}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");if(!n)throw new Error("PollingBlockTracker - no idleTimeTracker specified.");super({config:e,state:r}),V(this,"pollingManager",void 0);let i=e.pollingInterval||Pjt,o=e.retryTimeout||Ojt;this.defaultConfig={provider:e.provider,pollingInterval:i*RWe,retryTimeout:o*RWe,setSkipCacheFlag:e.setSkipCacheFlag||!1},this.initialize(),this.pollingManager=new Z0(n,i)}async checkForLatestBlock(){return await this._updateLatestBlock(),this.getLatestBlock()}_start(){this.pollingManager.start(async()=>{await this._synchronize().catch(e=>{this.emit("error",e)})})}_end(){this.pollingManager.stop()}async _synchronize(){try{await this._updateLatestBlock()}catch(e){let r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{Tde.default.error(r)}await yC(this.config.retryTimeout)}}async _updateLatestBlock(){let e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){try{let e=await this.config.provider.request({method:"eth_getBlockByNumber",params:["latest",!1]});return{blockHash:e.hash,idempotencyKey:e.number,timestamp:e.timestamp,baseFeePerGas:e.baseFeePerGas,gasLimit:e.gasLimit}}catch(e){throw Tde.default.error("Polling Block Tracker: ",e),new Error(`PollingBlockTracker - encountered error fetching block:
${e.message}`)}}}});var PWe,X$,OWe=D(()=>{nt();Ye();ci();u8();PWe=ve(Or()),X$=class extends bC{constructor({config:e,state:r,idleTimeTracker:n,onNetworkChanged:i}){super({config:e,state:r}),V(this,"pollingManager",void 0),this.defaultState=q(q({},this.defaultState),{},{commonDenomination:"USD",commonDenominatorPrice:0}),this.initialize(),i(o=>{o.providerConfig.ticker.toUpperCase()!==this.state.nativeCurrency.toUpperCase()&&(this.setNativeCurrency(o.providerConfig.ticker),this.updateConversionRate())}),this.pollingManager=new Z0(n,this.config.pollInterval)}setCommonDenomination(e){this.update({commonDenomination:e})}getCommonDenomination(){return this.state.commonDenomination}setCommonDenominatorPrice(e){this.update({commonDenominatorPrice:e})}getCommonDenominatorPrice(){return this.state.commonDenominatorPrice}async scheduleConversionInterval(){this.pollingManager.start(this.updateConversionRate.bind(this))}async updateConversionRate(){let e=this.getCurrentCurrency(),r=this.getNativeCurrency(),n=this.getCommonDenomination(),i=await this.retrieveConversionRate(r,e,n),o=Number.parseFloat(i[e.toUpperCase()]),a=Number.parseFloat(i[n.toUpperCase()]);o||a?(this.setConversionRate(o),this.setConversionDate(Math.floor(Date.now()/1e3).toString()),e.toUpperCase()===n.toUpperCase()?this.setCommonDenominatorPrice(o):this.setCommonDenominatorPrice(a)):(this.setConversionRate(0),this.setConversionDate("N/A"))}async retrieveConversionRate(e,r,n){try{let i=`${this.config.api}/currency?fsym=${e.toUpperCase()}&tsyms=${r.toUpperCase()}`;return n&&n.toUpperCase()!==r.toUpperCase()&&(i+=`,${n.toUpperCase()}`),await jl(i)}catch(i){PWe.default.error(i,`CurrencyController - updateCommonDenominatorPrice: Failed to query rate for currency: ${e}/ ${r}`)}return{[r.toUpperCase()]:"0",[n.toUpperCase()]:"0"}}}});function $f(t){if(t==null)throw new TypeError("Cannot destructure "+t)}var NWe=D(()=>{});var MWe,Njt,kjt,Mjt,BWe,DWe,LWe,kWe,Bjt,Djt,Ljt,_3,wd,eV,By,UWe,FWe,Sde,Ide,HWe,zWe,GWe,jWe,$We,cc,vd,tV=D(()=>{NWe();nt();J3();L0();om();MWe=ve(ZA()),Njt=["aBase","bBase"],kjt=["aBase","bBase"],Mjt=["multiplicandBase","multiplierBase"],BWe=new ur("1000000000000000000"),DWe=new ur("1000000000"),LWe=new ur("1"),kWe={hex:t=>new ur(ii(t),16),dec:t=>new ur(String(t),10),BN:t=>new ur(t.toString(16),16)},Bjt={WEI:t=>t.div(BWe),GWEI:t=>t.div(DWe),ETH:t=>t.div(LWe)},Djt={WEI:t=>t.times(BWe).dp(0,ur.ROUND_HALF_UP),GWEI:t=>t.times(DWe).dp(9,ur.ROUND_HALF_UP),ETH:t=>t.times(LWe).dp(9,ur.ROUND_HALF_UP)},Ljt={hex:t=>t.toString(16),dec:t=>new ur(t).toString(10),BN:t=>new MWe.default(t.toString(16))},_3=t=>Number.isInteger(t)&&t>1,wd=({value:t,fromNumericBase:e,fromDenomination:r,fromCurrency:n,toNumericBase:i,toDenomination:o,toCurrency:a,numberOfDecimals:s,conversionRate:c,invertConversionRate:l,roundDown:u})=>{let d=e?kWe[e](t):t;if(r&&(d=Bjt[r](d)),n!==a){if(c==null)throw new Error(`Converting from ${n} to ${a} requires a conversionRate, but one was not provided`);let f=kWe.dec(c);l&&(f=new ur(1).div(c)),d=d.times(f)}return o&&(d=Djt[o](d)),s&&(d=d.dp(s,ur.ROUND_HALF_DOWN)),u&&(d=d.dp(u,ur.ROUND_DOWN)),i&&(d=Ljt[i](d)),d},eV=(t,{fromCurrency:e=null,toCurrency:r=e,fromNumericBase:n,toNumericBase:i,fromDenomination:o,toDenomination:a,numberOfDecimals:s,conversionRate:c,invertConversionRate:l})=>e!==r&&!c?0:wd({fromCurrency:e,toCurrency:r,fromNumericBase:n,toNumericBase:i,fromDenomination:o,toDenomination:a,numberOfDecimals:s,conversionRate:c,invertConversionRate:l,value:t}),By=(t,e)=>{if(!_3(e))throw new Error("Must specificy valid base");return typeof t=="string"||t instanceof ur?new ur(t,e):new ur(String(t),e)},UWe=(t,e,r={})=>{let{aBase:n,bBase:i}=r,o=hu(r,Njt);if(!_3(n)||!_3(i))throw new Error("Must specify valid aBase and bBase");let a=By(t,n).plus(By(e,i));return wd(q({value:a},o))},FWe=(t,e,r={})=>{let{aBase:n,bBase:i}=r,o=hu(r,kjt);if(!_3(n)||!_3(i))throw new Error("Must specify valid aBase and bBase");let a=By(t,n).minus(By(e,i));return wd(q({value:a},o))},Sde=(t,e,r={})=>{let{multiplicandBase:n,multiplierBase:i}=r,o=hu(r,Mjt);if(!_3(n)||!_3(i))throw new Error("Must specify valid multiplicandBase and multiplierBase");let a=By(t,n).times(By(e,i));return wd(q({value:a},o))},Ide=(t,e)=>{let r=Object.assign({},($f(e),e)),n=Object.assign({},($f(t),t)),i=wd(q({},n)),o=wd(q({},r));return i.gt(o)},HWe=(t,e)=>{let r=Object.assign({},($f(e),e)),n=Object.assign({},($f(t),t)),i=wd(q({},n)),o=wd(q({},r));return i.lt(o)},zWe=(t,e)=>{let r=Object.assign({},($f(e),e)),n=Object.assign({},($f(t),t));return Ide(q({},n),q({},r))?n.value:r.value},GWe=(t,e)=>{let r=Object.assign({},($f(e),e)),n=Object.assign({},($f(t),t)),i=wd(q({},n)),o=wd(q({},r));return i.isGreaterThanOrEqualTo(o)},jWe=(t,e)=>{let r=Object.assign({},($f(e),e)),n=Object.assign({},($f(t),t)),i=wd(q({},n)),o=wd(q({},r));return i.isLessThanOrEqualTo(o)},$We=(t,e={})=>Sde(t,-1,e),cc=t=>eV(t,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"}),vd=t=>eV(t,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})});function S3(t){let e=cc(new ur(t));return vd(e)}async function VWe(t){let e=await jl(t);return{estimatedBaseFee:S3(e.estimatedBaseFee).toString(10),low:q(q({},e.low),{},{suggestedMaxPriorityFeePerGas:S3(e.low.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:S3(e.low.suggestedMaxFeePerGas).toString(10)}),medium:q(q({},e.medium),{},{suggestedMaxPriorityFeePerGas:S3(e.medium.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:S3(e.medium.suggestedMaxFeePerGas).toString(10)}),high:q(q({},e.high),{},{suggestedMaxPriorityFeePerGas:S3(e.high.suggestedMaxPriorityFeePerGas).toString(10),suggestedMaxFeePerGas:S3(e.high.suggestedMaxFeePerGas).toString(10)})}}async function KWe(t){let r="latest",n=[10,50,95],i=await t.request({method:"eth_feeHistory",params:[10,r,n]}),o=i.baseFeePerGas[i.baseFeePerGas.length-1],a=i.reward.filter(l=>l[0]!=="0x0"||l[1]!=="0x0"||l[2]!=="0x0"),s,c;if(a.length>0)s=a.reduce((l,u)=>({slow:l.slow.plus(new ur(u[0],16)),average:l.average.plus(new ur(u[1],16)),fast:l.fast.plus(new ur(u[2],16))}),{slow:new ur(0),average:new ur(0),fast:new ur(0)}),c=a.length;else{let l=await t.request({method:"eth_maxPriorityFeePerGas"}),u=new ur(l,16);s={slow:u,average:u.multipliedBy(1.1),fast:u.multipliedBy(1.5)},c=1}return{estimatedBaseFee:vd(o).toString(10),high:{maxWaitTimeEstimate:3e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:vd(s.fast.div(c).plus(o).toString(16)).toString(),suggestedMaxPriorityFeePerGas:vd(s.fast.div(c).toString(16)).toString()},medium:{maxWaitTimeEstimate:45e3,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:vd(s.average.div(c).plus(o).toString(16)).toString(),suggestedMaxPriorityFeePerGas:vd(s.average.div(c).toString(16)).toString()},low:{maxWaitTimeEstimate:6e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:vd(s.slow.div(c).plus(o).toString(16)).toString(),suggestedMaxPriorityFeePerGas:vd(s.slow.div(c).toString(16)).toString()}}}async function qWe(t){let e=await jl(t,{referrer:t,referrerPolicy:"no-referrer-when-downgrade",method:"GET"});return{low:e.SafeGasPrice,medium:e.ProposeGasPrice,high:e.FastGasPrice}}async function WWe(t){let e=await t.request({method:Lt.ETH_GET_GAS_PRICE});return{gasPrice:vd(e).toString()}}function YWe(t,e,r){let{low:n,medium:i,high:o,estimatedBaseFee:a}=r,s=new ur(cc(new ur(t)),16),c=new ur(cc(new ur(e)),16),l=new ur(cc(new ur(a)),16),u=ur.min(s,c.minus(l)),d=new ur(cc(new ur(n.suggestedMaxPriorityFeePerGas)),16),f=new ur(cc(new ur(i.suggestedMaxPriorityFeePerGas)),16),p=new ur(cc(new ur(o.suggestedMaxPriorityFeePerGas)),16),h,b;return u.lt(d)?(h=null,b="unknown"):u.gte(d)&&u.lt(f)?(h=n.minWaitTimeEstimate,b=n.maxWaitTimeEstimate):u.gte(f)&&u.lt(p)?(h=i.minWaitTimeEstimate,b=i.maxWaitTimeEstimate):u.eq(p)?(h=o.minWaitTimeEstimate,b=o.maxWaitTimeEstimate):(h=0,b=o.maxWaitTimeEstimate),{lowerTimeBound:h,upperTimeBound:b}}var JWe=D(()=>{nt();u8();om();ui();tV()});var Cde,Ujt,Fjt,rV,QWe=D(()=>{Ye();L0();ci();Cde=ve(Or());ui();JWe();Ujt="https://mock-gas-server.herokuapp.com/",Fjt="https://api.metaswap.codefi.network/gasPrices",rV=class extends ei{constructor({config:e,state:r,idleTimeTracker:n,getNetworkIdentifier:i,getProvider:o,fetchGasEstimates:a=VWe,fetchEthGasPriceEstimate:s=WWe,fetchLegacyGasPriceEstimates:c=qWe,fetchGasEstimatesViaEthFeeHistory:l=KWe,getCurrentNetworkLegacyGasAPICompatibility:u,getCurrentNetworkEIP1559Compatibility:d,getCurrentAccountEIP1559Compatibility:f,onNetworkStateChange:p}){super({config:e,state:r}),V(this,"name","GasFeeController"),V(this,"API_SUPPORTED_CHAINIDS",new Set(["0x1","0x5","0xa4b1","0xa86a","0x2105","0x38","0xfa","0xa","0x89"])),V(this,"provider",void 0),V(this,"currentChainId",void 0),V(this,"getNetworkIdentifier",void 0),V(this,"getProvider",void 0),V(this,"fetchGasEstimates",void 0),V(this,"fetchGasEstimatesViaEthFeeHistory",void 0),V(this,"fetchEthGasPriceEstimate",void 0),V(this,"fetchLegacyGasPriceEstimates",void 0),V(this,"getCurrentNetworkEIP1559Compatibility",void 0),V(this,"getCurrentAccountEIP1559Compatibility",void 0),V(this,"getCurrentNetworkLegacyGasAPICompatibility",void 0),V(this,"pollingManager",void 0),this.getNetworkIdentifier=i,this.getProvider=o,this.fetchGasEstimates=a,this.fetchEthGasPriceEstimate=s,this.fetchLegacyGasPriceEstimates=c,this.getCurrentNetworkEIP1559Compatibility=d,this.getCurrentNetworkLegacyGasAPICompatibility=u,this.getCurrentAccountEIP1559Compatibility=f,this.fetchGasEstimatesViaEthFeeHistory=l,this.defaultConfig={interval:3e4,legacyAPIEndpoint:Fjt,EIP1559APIEndpoint:Ujt},this.defaultState={gasFeeEstimates:{},estimatedGasFeeTimeBounds:{},gasEstimateType:sd.NONE},this.currentChainId=this.getNetworkIdentifier(),this.provider=this.getProvider(),this.initialize(),p(()=>{this.onNetworkStateChange()}),this.pollingManager=new Z0(n,this.config.interval)}async onNetworkStateChange(){this.provider=this.getProvider();let e=this.getNetworkIdentifier();this.currentChainId!==e&&(this.currentChainId=e,await this.fetchGasFeeEstimates())}async resetPolling(){this.stopPolling(),await this.getGasFeeEstimatesAndStartPolling()}async fetchGasFeeEstimates(){return this._fetchGasFeeEstimateData()}async getGasFeeEstimatesAndStartPolling(){await this._fetchGasFeeEstimateData(),this._startPolling()}disconnectPoller(){this.stopPolling()}destroy(){this.stopPolling()}stopPolling(){this.resetState()}async _fetchGasFeeEstimateData(){let e,r=this.getCurrentNetworkLegacyGasAPICompatibility(),n=this.getNetworkIdentifier();if(n==="loading")return;let i;typeof n=="string"&&ha(Gt(n))&&(i=Number.parseInt(n,16));try{e=await this.getEIP1559Compatibility(),Cde.default.info("eip1559 compatible",e)}catch(a){Cde.default.warn(a),e=!1}let o=$c(this.defaultState);try{if(e){let a;try{if(this.API_SUPPORTED_CHAINIDS.has(n))a=await this.fetchGasEstimates(this.config.EIP1559APIEndpoint.replace("<chain_id>",`${i}`));else throw new Error("ChainId not supported by api")}catch{a=await this.fetchGasEstimatesViaEthFeeHistory(this.provider)}let{suggestedMaxPriorityFeePerGas:s,suggestedMaxFeePerGas:c}=a.medium,l=this.getTimeEstimate(s,c);o={gasFeeEstimates:a,estimatedGasFeeTimeBounds:l,gasEstimateType:sd.FEE_MARKET}}else if(r)o={gasFeeEstimates:await this.fetchLegacyGasPriceEstimates(this.config.legacyAPIEndpoint.replace("<chain_id>",`${i}`)),estimatedGasFeeTimeBounds:{},gasEstimateType:sd.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{o={gasFeeEstimates:await this.fetchEthGasPriceEstimate(this.provider),estimatedGasFeeTimeBounds:{},gasEstimateType:sd.ETH_GASPRICE}}catch(a){throw new Error(`Gas fee/price estimation failed. Message: ${a.message}`)}}return this.update(o),o}async _startPolling(){this.pollingManager.start(async()=>{await this._fetchGasFeeEstimateData()})}resetState(){this.update($c(this.defaultState))}async getEIP1559Compatibility(){var e,r;let n=await this.getCurrentNetworkEIP1559Compatibility(),i=(e=(r=this.getCurrentAccountEIP1559Compatibility)===null||r===void 0?void 0:r.call(this))!==null&&e!==void 0?e:!0;return n&&i}getTimeEstimate(e,r){return!this.state.gasFeeEstimates||this.state.gasEstimateType!==sd.FEE_MARKET?{}:YWe(e,r,this.state.gasFeeEstimates)}}});var nV,ZWe=D(()=>{L0();ci();Cf();nV=class extends xC{constructor({config:e,state:r}){super({config:e,state:r}),this.defaultState={wallets:[]},this.initialize()}async signTransaction(e,r){let n=this._getWalletForAccount(r),i=new ql(Gt(n.privateKey)),o=e;return o.signature=i.sign(o.unsignedHash),o}getAccounts(){return this.state.wallets.map(e=>e.publicKey)}importAccount(e){let r=e.padStart(64,"0"),n=Buffer.from(r,"hex"),i=vc(UQ(n)),o=vM(vc(FQ(n))),a=this.state.wallets.find(s=>s.address===o);return a?a.address:(this.update({wallets:[...this.state.wallets,{publicKey:i,privateKey:e,address:o}]}),o)}removeAccount(e){let r=[...this.state.wallets],n=r.findIndex(i=>i.address===e);n!==-1&&(r.splice(n,1),this.update({wallets:r}))}getBufferPrivateKey(e){let r=ii(e);return Buffer.from(r,"hex")}async signMessage(e,r){let n=this._getWalletForAccount(r),i=this.getBufferPrivateKey(n.privateKey),o=c4(Buffer.from(ii(e),"hex"),i);return dH(Buffer.from(v1(o.v)),Buffer.from(o.r),Buffer.from(o.s))}async signPersonalMessage(e,r){let n=this._getWalletForAccount(r),i=new ql(Gt(n.privateKey)),o=ha(e)?Buffer.from(ii(e),"hex"):Buffer.from(e);return i.sign(uz(o)).serialized}async signTypedData(e,r){let n=this._getWalletForAccount(r),i=new ql(Gt(n.privateKey));return delete e.types.EIP712Domain,i.sign(Th.hash(e.domain,e.types,e.message)).serialized}_getWalletForAccount(e){let r=e.toLowerCase(),n=this.state.wallets.find(i=>i.address.toLowerCase()===r);if(!n)throw new Error("Torus Keyring - Unable to find matching address.");return n}}});function iV(t,e){if(!t||typeof t!="string"||!nm(t))throw new Error(`Invalid "${e}" address: ${t} must be a valid string.`)}function lA(t){let{from:e,data:r}=t;if(iV(e,"from"),!r||typeof r!="string")throw new Error(`Invalid message "data": ${r} must be a valid string.`)}function uA(t){try{let e=ii(t);if(e.match(Hjt))return Gt(e)}catch{}return vc(Buffer.from(t,"utf8"))}async function oV(t,e){if(iV(t.from,"from"),!t.data||Array.isArray(t.data)||typeof t.data!="object"&&typeof t.data!="string")throw new Error('Invalid message "data": Must be a valid string or object.');let r;if(typeof t.data=="object")r=t.data;else try{r=JSON.parse(t.data)}catch{throw new Error("Data must be passed as a valid JSON string.")}if(!e)throw new Error("Current chainId cannot be null or undefined.");let{chainId:n}=r.domain;if(n){typeof n=="string"&&(n=parseInt(n,n.startsWith("0x")?16:10));let i=parseInt(e,16);if(Number.isNaN(i))throw new Error(`Cannot sign messages for chainId "${n}", because MetaMask is switching networks.`);if(n!==i)throw new Error(`Provided chainId "${n}" must match the active chainId "${i}"`)}}async function aV(t){let{chainId:e,rpcUrls:r,nativeCurrency:n}=t||{};if(!e)throw new Error("Invalid add chain params: please pass chainId in params");if(!Mr(e))throw new Error("Invalid add chain params: please pass a valid hex chainId in params, for: ex: 0x1");if(!r||r.length===0)throw new Error("params.rpcUrls not provided");if(!n)throw new Error("params.nativeCurrency not provided");let{name:i,symbol:o,decimals:a}=n;if(!i)throw new Error("params.nativeCurrency.name not provided");if(!o)throw new Error("params.nativeCurrency.symbol not provided");if(a===void 0)throw new Error("params.nativeCurrency.decimals not provided");let s=new Q9(r[0],"any"),{chainId:c}=await s.getNetwork();if(Number.parseInt(c.toString())!==Number.parseInt(e,16))throw new Error(`Provided rpc url's chainId version is not matching with provided chainId, expected: ${oo(c)}, received: ${e}`)}function sV(t){let{chainId:e}=t||{};if(!e)throw new Error("Invalid switch chain params: please pass chainId in params");if(!Mr(e)){let[r,n]=e.split(":");if(r!==bi.SOLANA&&r!==bi.EIP155)throw new Error("Invalid switch chain params: invalid namespace");if(!n||isNaN(Number(n)))throw new Error("Invalid switch chain params: invalid chainId")}}var Hjt,I3=D(()=>{L0();ci();Cf();Hjt=/^[0-9A-Fa-f]+$/gu});var XWe,cV,eYe=D(()=>{nt();Ye();ci();XWe=ve(Or());ui();I3();cV=class extends $l{constructor({config:e,state:r,addChain:n}){super({config:e,state:r}),V(this,"name","AddChainController"),V(this,"addChain",void 0),this.addChain=n,this.initialize()}async processAddChain(e){let r=this.getMessage(e);if(!r)throw new Error("Message not found");try{return await this.approveMessage(e,r.messageParams),await this.addChain(r.messageParams),this.updateMessage(q(q({},r),{},{rawSig:JSON.stringify(r.messageParams)})),this.setMessageStatus(e,Jn.SIGNED),null}catch(n){XWe.default.error(n),r.error=n?.message||n?.toString(),this.setMessageStatus(e,Jn.FAILED)}}async addNewUnapprovedMessage(e,r){return await this.addUnapprovedMessage(e,r),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,r){r&&(e.origin=r.origin),await aV(e);let n=e.id||Q0(),i={id:n,messageParams:e,status:Jn.UNAPPROVED,time:Date.now(),type:Lt.ADD_CHAIN};return await this.addMessage(i),this.emit(wf.UNAPPROVED_MESSAGE,{messageData:i,req:r}),n}prepMessageForSigning(e){return Promise.resolve(e)}}});var tYe,lV,rYe=D(()=>{nt();Ye();ci();tYe=ve(Or());ui();I3();lV=class extends $l{constructor({config:e,state:r,signMessage:n}){super({config:e,state:r}),V(this,"name","MessageController"),V(this,"signMessage",void 0),this.signMessage=n,this.initialize()}async processSignMessage(e){let r=this.getMessage(e);if(!r)throw new Error("Message not found");try{let n=await this.approveMessage(e,r.messageParams),i=await this.signMessage(n.data,n.from);return this.updateMessage(q(q({},r),{},{rawSig:i})),this.setMessageStatus(e,Jn.SIGNED),i}catch(n){tYe.default.error(n),r.error=n?.message||n?.toString(),this.setMessageStatus(e,Jn.FAILED)}}async addNewUnapprovedMessage(e,r){return await this.addUnapprovedMessage(e,r),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,r){lA(e),r&&(e.origin=r.origin),e.data=uA(e.data);let n=e.id||Q0(),i={id:n,messageParams:e,status:Jn.UNAPPROVED,time:Date.now(),type:Lt.ETH_SIGN};return await this.addMessage(i),this.emit(wf.UNAPPROVED_MESSAGE,{messageData:i,req:r}),n}prepMessageForSigning(e){return Promise.resolve(e)}}});var nYe,uV,iYe=D(()=>{nt();Ye();ci();nYe=ve(Or());ui();I3();uV=class extends $l{constructor({config:e,state:r,signPersonalMessage:n}){super({config:e,state:r}),V(this,"name","PersonalMessageController"),V(this,"signPersonalMessage",void 0),this.signPersonalMessage=n,this.initialize()}async processSignPersonalMessage(e){let r=this.getMessage(e);if(!r)throw new Error("Message not found");try{let n=await this.approveMessage(e,r.messageParams),i=await this.signPersonalMessage(n.data,n.from);return this.updateMessage(q(q({},r),{},{rawSig:i})),this.setMessageStatus(e,Jn.SIGNED),i}catch(n){nYe.default.error(n),r.error=n?.message||n?.toString(),this.setMessageStatus(e,Jn.FAILED)}}async addNewUnapprovedMessage(e,r){return await this.addUnapprovedMessage(e,r),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,r){lA(e),r&&(e.origin=r.origin),e.data=uA(e.data);let n=e.id||Q0(),i={id:n,messageParams:e,status:Jn.UNAPPROVED,time:Date.now(),type:Lt.PERSONAL_SIGN};return await this.addMessage(i),this.emit(wf.UNAPPROVED_MESSAGE,{messageData:i,req:r}),n}prepMessageForSigning(e){return Promise.resolve(e)}}});var oYe,dV,aYe=D(()=>{nt();Ye();ci();oYe=ve(Or());ui();I3();dV=class extends $l{constructor({config:e,state:r,switchChain:n}){super({config:e,state:r}),V(this,"name","SwitchChainController"),V(this,"switchChain",void 0),this.switchChain=n,this.initialize()}async processSwitchChain(e){let r=this.getMessage(e);if(!r)throw new Error("Message not found");try{return await this.approveMessage(e,r.messageParams),this.switchChain({chainId:r.messageParams.chainId}),this.updateMessage(q(q({},r),{},{rawSig:JSON.stringify(r.messageParams)})),this.setMessageStatus(e,Jn.SIGNED),null}catch(n){oYe.default.error(n),r.error=n?.message||n?.toString(),this.setMessageStatus(e,Jn.FAILED)}}async addNewUnapprovedMessage(e,r){return await this.addUnapprovedMessage(e,r),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,r){sV(e),r&&(e.origin=r.origin);let n=e.id||Q0(),i={id:n,messageParams:e,status:Jn.UNAPPROVED,time:Date.now(),type:Lt.SWITCH_CHAIN};return await this.addMessage(i),this.emit(wf.UNAPPROVED_MESSAGE,{messageData:i,req:r}),n}prepMessageForSigning(e){return Promise.resolve(e)}}});var sYe,fV,cYe=D(()=>{nt();Ye();ci();sYe=ve(Or());ui();I3();fV=class extends $l{constructor({config:e,state:r,signTypedData:n,getNetworkIdentifier:i}){super({config:e,state:r}),V(this,"name","TypedMessageController"),V(this,"signTypedData",void 0),V(this,"getNetworkIdentifier",void 0),this.signTypedData=n,this.getNetworkIdentifier=i,this.initialize()}async processSignTypedMessage(e){let r=this.getMessage(e);if(!r)throw new Error("Message not found");try{let n=await this.approveMessage(e,r.messageParams),i=JSON.parse(n.data),o=await this.signTypedData(i,n.from);return this.updateMessage(q(q({},r),{},{rawSig:o})),this.setMessageStatus(e,Jn.SIGNED),o}catch(n){sYe.default.error(n),r.error=n?.message||n?.toString(),this.setMessageStatus(e,Jn.FAILED)}}async addNewUnapprovedMessage(e,r){return await this.addUnapprovedMessage(e,r),this.waitForFinishStatus(e,this.name)}async addUnapprovedMessage(e,r){let n=this.getNetworkIdentifier();await oV(e,n),typeof e.data!="string"&&(e.data=JSON.stringify(e.data)),r&&(e.origin=r.origin);let i=e.id||Q0(),o={id:i,messageParams:e,status:Jn.UNAPPROVED,time:Date.now(),type:Lt.ETH_SIGN_TYPED_DATA_V4};return await this.addMessage(o),this.emit(wf.UNAPPROVED_MESSAGE,{messageData:o,req:r}),i}prepMessageForSigning(e){return Promise.resolve(e)}}});function Rde({getAccounts:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.GET_ACCOUNTS)return n();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");let o=await t(e);r.result=o})}function Pde({processTransaction:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.ETH_TRANSACTION)return n();if(!t)throw new Error("WalletMiddleware - opts.processTransaction not provided");r.result=await t(e.params,e)})}function Ode({processSignTransaction:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.ETH_SIGN_TRANSACTION)return n();if(!t)throw new Error("WalletMiddleware - opts.processSignTransaction not provided");r.result=await t(e.params,e)})}function Nde({processEstimateUserOperationGas:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.ETH_ESTIMATE_AA_TRANSACTION_GAS)return n();if(!t)throw new Error("WalletMiddleware - opts.processEstimateUserOperationGas not provided");r.result=await t(e.params,e)})}function kde({processEthSignMessage:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.ETH_SIGN)return n();if(!t)throw new Error("WalletMiddleware - opts.processEthSignMessage not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let o=e.params;if(Array.isArray(e.params)){if(e.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [address, message]`);let a=e.params,s=a[0],c=a[1];o={from:s,data:c}}r.result=await t(o,e)})}function Mde({processTypedMessageV4:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.ETH_SIGN_TYPED_DATA_V4)return n();if(!t)throw new Error("WalletMiddleware - opts.processTypedMessageV4 is not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let o=e.params;if(Array.isArray(e.params)){if(e.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [address, typedData]`);let a=e.params,s=a[0],c=a[1];o={from:s,data:c}}r.result=await t(o,e)})}function Bde({processPersonalMessage:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.PERSONAL_SIGN)return n();if(!t)throw new Error("WalletMiddleware - opts.processPersonalMessage is not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let o=e.params;if(Array.isArray(e.params)){if(!(e.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [message, address]`);let a=e.params;if(typeof a[0]=="object"){let{challenge:s,address:c}=a[0];o={from:c,data:s}}else{let s=a[0];o={from:a[1],data:s}}}r.result=await t(o,e)})}function Dde({getPendingNonce:t}){return qo(async(e,r,n)=>{let{params:i,method:o}=e;if(o!==Lt.ETH_GET_TRANSACTION_COUNT)return n();let{blockReference:a}=i;if(a!=="pending")return n();r.result=await t(i,e)})}function Lde(t){let{r:e,s:r,v:n,txReceipt:i,transaction:o,transactionHash:a,accessList:s}=t,{to:c,data:l,nonce:u,gas:d,from:f,value:p,gasPrice:h,maxFeePerGas:b,maxPriorityFeePerGas:_}=o,A={v:n,r:e,s:r,to:c,gas:d,from:f,hash:a,nonce:u,input:l||"0x",value:p||"0x0",accessList:s||null,blockHash:i?.blockHash||null,blockNumber:i?.blockNumber||null,transactionIndex:i?.transactionIndex||null,type:null};return b&&_?(A.maxFeePerGas=b,A.maxPriorityFeePerGas=_,A.type=Xl.FEE_MARKET):(A.gasPrice=h,A.type=Xl.LEGACY),A}function Ude({getPendingTransactionByHash:t}){return qo(async(e,r,n)=>{let{params:i,method:o}=e;if(o!==Lt.ETH_GET_TRANSACTION_BY_HASH)return n();if(!t)throw new Error("WalletMiddleware - opts.getPendingTransactionByHash not provided");let a=await t(i,e);if(!a)return n();r.result=Lde(a)})}function Fde({processSwitchEthereumChain:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.SWITCH_CHAIN)return n();if(!t)throw new Error("WalletMiddleware - opts.processSwitchEthereumChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let o=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [data]`);let[a]=e.params;o=a}r.result=await t(o,e)})}function Hde({processWalletSwitchChain:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==cH.WALLET_SWITCH_CHAIN)return n();if(!t)throw new Error("WalletMiddleware - opts.processWalletSwitchChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let o=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [data]`);let[a]=e.params;o=a}r.result=await t(o,e)})}function zde({processAddEthereumChain:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!==Lt.ADD_CHAIN)return n();if(!t)throw new Error("WalletMiddleware - opts.processAddEthereumChain not provided");if(!(e!=null&&e.params))throw new Error("WalletMiddleware - missing params");let o=e.params;if(Array.isArray(e.params)){if(e.params.length!==1)throw new Error(`WalletMiddleware - incorrect params for ${i} method. expected [data]`);let[a]=e.params;o=a}r.result=await t(o,e)})}function Gde({requestAccounts:t}){return qo(async(e,r,n)=>{let{method:i}=e;if(i!=="eth_requestAccounts")return n();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");let o=await t(e);r.result=o})}function jde({bundlerUrl:t,paymasterUrl:e,providerConfig:r,analytics:n}){let i=[],o=(s,c,l,u)=>{if(!mR.includes(s.method)&&!bR.includes(s.method))return l();let d=s.id,f=Math.floor(Math.random()*1e6);s.id=f,c.id=f,l(p=>{s.id=d,c.id=d,p()})},a=v9({rpcTarget:t,providerConfig:r,analytics:n});if(i.push(o),i.push((s,c,l,u)=>{if(!mR.includes(s.method))return l();a(s,c,l,u)}),e){let s=v9({rpcTarget:e,providerConfig:r,analytics:n});i.push((c,l,u,d)=>{if(!bR.includes(c.method))return u();s(c,l,u,d)})}return d8(i)}function pV(t,e,r){let{requestAccounts:n,getAccounts:i,getPrivateKey:o,getPublicKey:a,processTransaction:s,processSignTransaction:c,processEstimateUserOperationGas:l,processEthSignMessage:u,processTypedMessageV4:d,processPersonalMessage:f,getPendingNonce:p,getPendingTransactionByHash:h,processSwitchEthereumChain:b,processWalletSwitchChain:_,processAddEthereumChain:A,getProviderState:C,aaConfig:R,version:M}=t,U=[sH({version:M,[cH.GET_PROVIDER_STATE]:C}),Gde({requestAccounts:n}),Rde({getAccounts:i}),y9(Lt.ETH_PRIVATE_KEY,o),y9(Lt.PRIVATE_KEY,o),y9(Lt.ETH_PUBLIC_KEY,a),y9(Lt.PUBLIC_KEY,a),Pde({processTransaction:s}),Ode({processSignTransaction:c}),Nde({processEstimateUserOperationGas:l}),kde({processEthSignMessage:u}),Mde({processTypedMessageV4:d}),Bde({processPersonalMessage:f}),Dde({getPendingNonce:p}),Ude({getPendingTransactionByHash:h}),Fde({processSwitchEthereumChain:b}),Hde({processWalletSwitchChain:_}),zde({processAddEthereumChain:A})];return R&&U.push(jde({bundlerUrl:R.bundlerUrl,paymasterUrl:R.paymasterUrl,providerConfig:e,analytics:r})),d8(U)}var $de=D(()=>{ci();jc();ui()});var hYe=de((odn,pYe)=>{pYe.exports=TP;TP.default=TP;TP.stable=dYe;TP.stableStringify=dYe;var hV="[...]",lYe="[Circular]",R3=[],C3=[];function uYe(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function TP(t,e,r,n){typeof n>"u"&&(n=uYe()),Vde(t,"",0,[],void 0,0,n);var i;try{C3.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,fYe(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;R3.length!==0;){var o=R3.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function dA(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),R3.push([n,r,e,i])):C3.push([e,r,t]):(n[r]=t,R3.push([n,r,e]))}function Vde(t,e,r,n,i,o,a){o+=1;var s;if(typeof t=="object"&&t!==null){for(s=0;s<n.length;s++)if(n[s]===t){dA(lYe,t,e,i);return}if(typeof a.depthLimit<"u"&&o>a.depthLimit){dA(hV,t,e,i);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){dA(hV,t,e,i);return}if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)Vde(t[s],s,s,n,t,o,a);else{var c=Object.keys(t);for(s=0;s<c.length;s++){var l=c[s];Vde(t[l],l,s,n,t,o,a)}}n.pop()}}function zjt(t,e){return t<e?-1:t>e?1:0}function dYe(t,e,r,n){typeof n>"u"&&(n=uYe());var i=Kde(t,"",0,[],void 0,0,n)||t,o;try{C3.length===0?o=JSON.stringify(i,e,r):o=JSON.stringify(i,fYe(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;R3.length!==0;){var a=R3.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return o}function Kde(t,e,r,n,i,o,a){o+=1;var s;if(typeof t=="object"&&t!==null){for(s=0;s<n.length;s++)if(n[s]===t){dA(lYe,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof a.depthLimit<"u"&&o>a.depthLimit){dA(hV,t,e,i);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){dA(hV,t,e,i);return}if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)Kde(t[s],s,s,n,t,o,a);else{var c={},l=Object.keys(t).sort(zjt);for(s=0;s<l.length;s++){var u=l[s];Kde(t[u],u,s,n,t,o,a),c[u]=t[u]}if(typeof i<"u")R3.push([i,e,t]),i[e]=c;else return c}n.pop()}}function fYe(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(C3.length>0)for(var n=0;n<C3.length;n++){var i=C3[n];if(i[1]===e&&i[0]===r){r=i[2],C3.splice(n,1);break}}return t.call(this,e,r)}}});function Gjt(t){switch(t){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function jjt(t){switch(t){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return _P.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return _P.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return _P.Block;default:return _P.Never}}function $jt(t){return jjt(t)!==_P.Never}function Vjt(t){if(!t.params)return[];let e=Gjt(t.method);return e===void 0||!Array.isArray(t.params)||e>=t.params.length?t.params:t.method==="eth_getBlockByNumber"?t.params.slice(1):t.params.slice(0,e)}function bYe(t,e){var r;let n=e?Vjt(t):(r=t.params)!==null&&r!==void 0?r:[];return $jt(t.method)?`${t.method}:${(0,mYe.default)(n)}`:null}var mYe,_P,yYe=D(()=>{mYe=ve(hYe()),_P=(function(t){return t.Block="block",t.Fork="fork",t.Never="never",t.Permanent="perma",t})({})});function qde(t){return(e,r,n,i)=>e.method==="eth_chainId"?(r.result=t,i()):e.method==="net_version"?(r.result=Number.parseInt(t,16).toString(10),i()):n()}function Wde(t){return(e,r,n,i)=>e.method==="eth_provider_config"?(r.result=t,i()):n()}function mV(t,e,r,n){let{chainId:i,rpcTarget:o}=t,a=v9({rpcTarget:o,providerConfig:t,analytics:n}),s=Vse(a),c=new cA({config:q(q({},e),{},{provider:s}),state:{},idleTimeTracker:r});return{networkMiddleware:d8([qde(i),Wde(t),u0e({cacheIdentifierForRequest:bYe}),a]),blockTracker:c}}var Yde=D(()=>{nt();ci();jc();_de();yYe()});var Jde,Kjt,bV,gYe=D(()=>{J3();nt();Ye();ci();jc();CC();Jde=ve(Or());ui();$de();Yde();Kjt=["chainId","rpcTarget"],bV=class extends ei{constructor({config:e,state:r,idleTimeTracker:n,analytics:i}){super({config:e,state:r}),V(this,"name","NetworkController"),V(this,"providerProxy",void 0),V(this,"blockTrackerProxy",void 0),V(this,"mutex",new Z1),V(this,"provider",null),V(this,"blockTracker",null),V(this,"baseProviderHandlers",void 0),V(this,"idleTimeTracker",void 0),V(this,"analytics",void 0),this.defaultState={chainId:"loading",properties:{EIPS_1559:void 0},providerConfig:Jc[Zl]},this.analytics=i,this.initialize(),this.idleTimeTracker=n}getNetworkIdentifier(){return this.state.chainId}getNetworkRPCUrl(){return this.state.providerConfig.rpcTarget}initializeProvider(e){return this.baseProviderHandlers=e,this.configureProvider(),this.lookupNetwork(),this.providerProxy}getProvider(){return this.providerProxy}getBlockTracker(){return this.blockTrackerProxy}getProviderConfig(){return this.state.providerConfig}setProviderConfig(e){this.update({providerConfig:q({},e)}),this.refreshNetwork()}async getEIP1559Compatibility(){let{EIPS_1559:e}=this.state.properties;if(e!==void 0)return e;let r=await this.blockTracker.getLatestBlock(),n=r&&r.baseFeePerGas!==void 0;return this.update({properties:{EIPS_1559:n}}),n}async lookupNetwork(){let{chainId:e,rpcTarget:r}=this.getProviderConfig();if(!e||!r||!this.provider){this.update({chainId:"loading",properties:{}});return}let n=await this.mutex.acquire();try{let[i]=await Promise.all([this.provider.request({method:"eth_chainId"}),this.getEIP1559Compatibility()]);Jde.default.info("network fetched chain id",i),this.update({chainId:i}),this.emit("networkDidChange")}catch{this.update({chainId:"loading"})}finally{n()}}configureProvider(){let e=this.getProviderConfig(),{chainId:r,rpcTarget:n}=e,i=hu(e,Kjt);if(!r||!n)throw new Error("chainId and rpcTarget must be provider in providerConfig");this.configureStandardProvider(q({chainId:r,rpcTarget:n},i))}setNetworkClient({networkMiddleware:e,blockTracker:r}){let n=pV(this.baseProviderHandlers,this.getProviderConfig(),this.analytics),i=new ph;i.push(a0e({providerConfig:this.getProviderConfig(),analytics:this.analytics})),i.push(n),i.push(e);let o=b9(i);this.setProvider({provider:o,blockTracker:r})}setProvider({provider:e,blockTracker:r}){this.providerProxy?this.providerProxy.setTarget(e):this.providerProxy=qse(e),this.blockTrackerProxy?this.blockTrackerProxy.setTarget(r):this.blockTrackerProxy=Kse(r,{eventFilter:"skipInternal"}),this.provider=e,e.setMaxListeners(10),this.blockTracker=r}configureStandardProvider(e){let r=mV(e,this.config,this.idleTimeTracker,this.analytics);Jde.default.info("networkClient",r),this.setNetworkClient(r)}refreshNetwork(){this.update({chainId:"loading",properties:{}}),this.configureProvider(),this.lookupNetwork()}}});function SP(t,e=!0){let r={id:t.id||Q0(),from:t.from};for(let n in wYe){let i=n;t[i]&&(r[i]=wYe[i](t[i],e))}return r}function EYe(t,e){return typeof t.chainId<"u"?t.chainId===e:!1}function IP(t){var e,r;return ha(Gt(t==null||(e=t.transaction)===null||e===void 0?void 0:e.maxFeePerGas))&&ha(Gt(t==null||(r=t.transaction)===null||r===void 0?void 0:r.maxPriorityFeePerGas))}function xYe(t){return typeof t.transaction.maxFeePerGas>"u"&&typeof t.transaction.maxPriorityFeePerGas>"u"&&(typeof t.transaction.gasPrice>"u"||ha(Gt(t.transaction.gasPrice)))}function fA(t,e,r){if(typeof t[r]<"u")throw Yn.invalidParams(`Invalid transaction params: specified ${e} but also included ${r}, these cannot be mixed`)}function P3(t,e){if(typeof t[e]!="string")throw Yn.invalidParams(`Invalid transaction params: ${e} is not a string. got: (${t[e]})`)}function Qde(t,e){switch(e){case"maxFeePerGas":case"maxPriorityFeePerGas":if(t.type&&t.type!==Xl.FEE_MARKET)throw Yn.invalidParams(`Invalid transaction envelope type: specified type "${t.type}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${Xl.FEE_MARKET}"`);break;case"gasPrice":default:if(t.type&&t.type===Xl.FEE_MARKET)throw Yn.invalidParams(`Invalid transaction envelope type: specified type "${t.type}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function Zde(t){if(typeof t.from!="string")throw Yn.invalidParams(`Invalid "from" address "${t.from}": not a string.`);if(!nm(t.from))throw Yn.invalidParams('Invalid "from" address.')}function Xde(t){if(t.to==="0x"||t.to===null)if(t.data)delete t.to;else throw Yn.invalidParams('Invalid "to" address.');else if(t.to!==void 0&&!nm(t.to))throw Yn.invalidParams('Invalid "to" address.');return t}function CP(t,e=!0){if(!t||typeof t!="object"||Array.isArray(t))throw Yn.invalidParams("Invalid transaction params: must be an object.");if(!t.to&&!t.data)throw Yn.invalidParams('Invalid transaction params: must specify "data" for contract deployments, or "to" (and optionally "data") for all other types of transactions.');if(IP({transaction:t})&&!e)throw Yn.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559");Object.entries(t).forEach(([r,n])=>{switch(r){case"from":Zde(t);break;case"to":Xde(t);break;case"gasPrice":Qde(t,"gasPrice"),fA(t,"gasPrice","maxFeePerGas"),fA(t,"gasPrice","maxPriorityFeePerGas"),P3(t,"gasPrice");break;case"maxFeePerGas":Qde(t,"maxFeePerGas"),fA(t,"maxFeePerGas","gasPrice"),P3(t,"maxFeePerGas");break;case"maxPriorityFeePerGas":Qde(t,"maxPriorityFeePerGas"),fA(t,"maxPriorityFeePerGas","gasPrice"),P3(t,"maxPriorityFeePerGas");break;case"value":if(P3(t,"value"),n.toString().includes("-"))throw Yn.invalidParams(`Invalid transaction value "${n}": not a positive number.`);if(n.toString().includes("."))throw Yn.invalidParams(`Invalid transaction value of "${n}": number must be in wei.`);break;case"chainId":if(typeof n!="number"&&typeof n!="string")throw Yn.invalidParams(`Invalid transaction params: ${r} is not a Number or hex string. got: (${n})`);break;default:P3(t,r)}})}function RP(t,e=!0){let r=SP(t,e);return CP(r),r}function yV(){return[Wt.rejected,Wt.confirmed,Wt.failed,Wt.dropped]}function efe(t){try{let e=qjt.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:H8}}catch{}try{let e=Wjt.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:aa}}catch{}try{let e=Yjt.parseTransaction({data:t});if(e)return{name:e.name,methodParams:e.args.toArray(),type:Yc}}catch{}}async function pA(t,e){let{data:r,to:n}=t,i="",o=[],a="";try{({name:i,methodParams:o,type:a}=r&&efe(r)||{})}catch(l){vYe.default.debug("Failed to parse transaction data",l)}let s,c="";if(r&&!n)s=rd.DEPLOY_CONTRACT;else{let{contractCode:l,isContractAddress:u}=await tfe(e,n);if(c=l,u){let d=t.value&&Number(t.value)!==0,f=[rd.TOKEN_METHOD_APPROVE,rd.TOKEN_METHOD_TRANSFER,rd.TOKEN_METHOD_TRANSFER_FROM,rd.COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM,rd.SET_APPROVAL_FOR_ALL].find(p=>{var h;return p.toLowerCase()===((h=i)===null||h===void 0?void 0:h.toLowerCase())});s=r&&f&&!d?f:rd.CONTRACT_INTERACTION}else s=rd.SENT_ETHER}return{type:a||iE,category:s,methodParams:o,getCodeResponse:c}}var vYe,qjt,Wjt,Yjt,wYe,tfe,PP=D(()=>{L0();ci();jc();Cf();vYe=ve(Or());U8();ui();qjt=new ip(Z9),Wjt=new ip(Ch),Yjt=new ip(Rh),wYe={from:(t,e=!0)=>e?Gt(t).toLowerCase():Gt(t),to:(t,e=!0)=>e?Gt(t).toLowerCase():Gt(t),nonce:t=>Gt(t),customNonceValue:t=>Gt(t),value:t=>Gt(t),data:t=>Gt(t),gas:t=>Gt(t),gasPrice:t=>Gt(t),type:Gt,maxFeePerGas:Gt,maxPriorityFeePerGas:Gt,callGasLimit:Gt,preVerificationGas:Gt,verificationGasLimit:Gt,paymasterVerificationGasLimit:Gt,paymasterPostOpGasLimit:Gt};tfe=async(t,e)=>{let r;try{r=await t.request({method:Lt.ETH_GET_CODE,params:[e,"latest"]})}catch{r=null}return{contractCode:r,isContractAddress:r?r!=="0x"&&r!=="0x0":!1}}});function TYe(t){return new ur(ii(t),16)}function _Ye(t){return Gt(t.toString(16))}function SYe(t,e){return Jc[e]?`${Jc[e].blockExplorerUrl}/tx/${t}`:""}function wV(t){let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=new Date(t),n=r.getDate(),i=e[r.getMonth()],o=r.getFullYear();return`${n} ${i} ${o}`}function vV(t){return new Date(t).toTimeString().slice(0,8)}function rfe(t,e){return nm(t)}function IYe(t,e){return rfe(t)?vM(t):t}function xV(t,e){return t==null||e===null||e===void 0?null:new ur(t,10).lt(e,10)}function hA(t){let e=t;if(t!=null&&t.startsWith("ipfs")){let r=t.split("ipfs://")[1];e=nfe(r)}return e}function AV(t){return t===Zl?"mainnet":Bz.includes(t)?"testnet":"custom"}var AYe,O3,gV,EV,nfe,TV,OP=D(()=>{nt();L0();ci();om();AYe=ve(Or());PP();ui();O3=t=>{var e;let{transaction:r,lowerCaseSelectedAddress:n,blockExplorerUrl:i}=t,o="";r.type===aa||r.type===Yc?o=r.symbol:r.type===H8?o=gC(Number.parseFloat(r.total_amount),r.symbol,!0):o=gC(Number.parseFloat(r.total_amount),r.type_name,!0);let a=r.type===aa||r.type===Yc||r.isEtherscan?"":gC(Number.parseFloat(r.currency_amount),r.selected_currency,!0);return{id:r.created_at.toString(),date:new Date(r.created_at).toString(),from:r.from,from_aa_address:r.from_aa_address,slicedFrom:typeof r.from=="string"?fH(r.from):"",to:r.to,slicedTo:typeof r.to=="string"?fH(r.to):"",action:n===((e=r.to)===null||e===void 0?void 0:e.toLowerCase())?Yse:Wse,totalAmount:r.total_amount,totalAmountString:o,currencyAmount:r.currency_amount,currencyAmountString:a,amount:`${o} / ${a}`,status:r.status,etherscanLink:i?`${i}/tx/${r.transaction_hash}`:"",chainId:r.chain_id,ethRate:Number.parseFloat(r?.total_amount)&&Number.parseFloat(r?.currency_amount)?`1 ${r.symbol} = ${e0e(Number.parseFloat(r.currency_amount)/Number.parseFloat(r.total_amount))}`:"",currencyUsed:r.selected_currency,type:r.type,type_name:r.type_name,type_image_link:r.type_image_link,transaction_hash:r.transaction_hash,transaction_category:r.transaction_category,isEtherscan:r.isEtherscan,input:r.input||"",token_id:r.token_id||"",contract_address:r.contract_address||"",nonce:r.nonce||"",is_cancel:!!r.is_cancel||!1,gas:r.gas||"",gasPrice:r.gasPrice||""}},gV=async(t,e)=>{try{let r=await e.request({method:Lt.ETH_GET_TRANSACTION_RECEIPT,params:[t]});return r===null?Wt.submitted:r&&r.status==="0x1"?Wt.confirmed:r&&r.status==="0x0"?Wt.rejected:void 0}catch(r){AYe.default.warn("unable to fetch transaction status",r);return}};EV={SIMPLE:Gt("5208"),BASE_TOKEN_ESTIMATE:Gt("186a0")};nfe=t=>`https://infura-ipfs.io/${t}`;TV=async t=>{let{txn:e,lowerCaseSelectedAddress:r,provider:n,chainId:i,blockExplorerUrl:o}=t;return(await Promise.all(e.map(async c=>{var l,u;let{category:d,type:f}=await pA(q(q({},c),{},{data:c.input}),n);return c.transaction_category=c.transaction_category||d,c.type_image_link=((l=Jc[i])===null||l===void 0?void 0:l.logo)||"",c.type_name=(u=Jc[i])===null||u===void 0?void 0:u.ticker,c.type=f,c}))).reduce((c,l)=>{var u,d;let f=l.value?new ur(l.value).div(new ur(10).pow(new ur(l.tokenDecimal||18))).toString():"",p=iE;l.contractAddress!==""&&(l.tokenID?p=l.tokenValue?Yc:aa:p=H8),p===Yc&&(f=l.tokenValue);let h={type:p,type_image_link:l.type_image_link||"n/a",type_name:l.tokenName||((u=Jc[i])===null||u===void 0?void 0:u.ticker)||"n/a",symbol:l.tokenSymbol||((d=Jc[i])===null||d===void 0?void 0:d.ticker),token_id:l.tokenID||"",total_amount:f,created_at:new Date(Number(l.timeStamp)*1e3),from:l.from,to:l.to,transaction_hash:l.hash,status:l.txreceipt_status&&l.txreceipt_status==="0"?Wt.failed:Wt.confirmed,isEtherscan:!0,input:l.input,contract_address:l.contractAddress,transaction_category:l.transaction_category,gas:`0x${new ur(l.gasUsed||0,10).toString(16)}`,gasPrice:`0x${new ur(l.gasPrice||0,10).toString(16)}`,chain_id:i,currency_amount:"",nonce:l.nonce,from_aa_address:"",is_cancel:!1,selected_currency:""};return c.push(O3({transaction:h,lowerCaseSelectedAddress:r,blockExplorerUrl:o})),c},[])}});var ife,mA,ofe=D(()=>{nt();Ye();u8();Cf();ife=ve(Or());U8();ui();OP();mA=class{constructor({chainId:e,contractAddress:r,contractImage:n,contractName:i,contractSymbol:o,nftStandard:a,provider:s,contractDescription:c,contractFallbackLogo:l,contractSupply:u}){V(this,"contractAddress",void 0),V(this,"contractName",void 0),V(this,"contractSymbol",void 0),V(this,"contractImage",void 0),V(this,"contractSupply",void 0),V(this,"contractFallbackLogo",void 0),V(this,"nftStandard",void 0),V(this,"contractDescription",void 0),V(this,"chainId",void 0),V(this,"provider",void 0),V(this,"isSpecial",void 0),this.chainId=e,this.contractAddress=r,this.contractImage=n,this.contractName=i,this.contractSymbol=o,this.nftStandard=a,this.provider=s,this.contractDescription=c,this.contractFallbackLogo=l,this.contractSupply=u}async getNftMetadata(e,r){let n=q({description:"",image:"",name:"",tokenBalance:"",tokenId:"",decimals:"1"},r),[i,o]=await Promise.all([this.getCollectibleTokenURI(n.tokenId,this.nftStandard),n.tokenBalance?Promise.resolve("0"):this.fetchNftBalance(e,n.tokenId)]);n.tokenBalance=n.tokenBalance||o;try{let s=JSON.parse(i);n.image=n.image||hA(s.image),n.name=n.name||s.name,n.description=n.description||s.description,n.decimals=n.decimals||s.decimals}catch(s){ife.default.warn("Token uri is not a valid json object",s)}let a=hA(i);try{if(!n.description||!n.image||!n.name){let s=await jl(a);n.image=n.image||hA(s.image),n.name=n.name||s.name,n.description=n.description||s.description,n.decimals=n.decimals||s.decimals}}catch(s){ife.default.error("Failed to fetch nft metadata",s)}return n}async getContractMetadata(){let e={chainId:this.chainId,contractAddress:this.contractAddress,contractName:this.contractName,contractSymbol:this.contractSymbol,nftStandard:this.nftStandard,contractImage:this.contractImage,contractDescription:this.contractDescription,contractFallbackLogo:this.contractFallbackLogo,contractSupply:this.contractSupply};if(!this.nftStandard){let{standard:r,isSpecial:n}=await this.checkNftStandard();e.nftStandard=r,this.nftStandard=r,this.isSpecial=n}if(!this.contractName||!this.contractSymbol||!this.contractDescription){let r=this.nftStandard===aa?Ch:Rh,n=new Ro(this.contractAddress,r,this.provider),[i,o]=await Promise.all([n.name(),n.symbol()]);e.contractName=i,e.contractSymbol=o,this.contractName||(this.contractName=i),this.contractSymbol||(this.contractSymbol=o)}return e}async fetchNftBalance(e,r){let{standard:n}=await this.checkNftStandard(),i=n===aa?Ch:Rh,o=new Ro(this.contractAddress,i,this.provider);if(n===Yc)return await o.balanceOf(e,r);let a="";try{a=await o.ownerOf(r)}catch{throw new Error("Token id doesn't exists")}return a.toLowerCase()===e.toLowerCase()?"1":"0"}async checkNftStandard(){if(this.nftStandard&&this.isSpecial!==void 0)return;if(Object.prototype.hasOwnProperty.call(Mz,this.contractAddress.toLowerCase()))return this.nftStandard=aa,this.isSpecial=!0,{standard:aa,isSpecial:!0};if(await this.contractSupportsInterface(aa,Nz))return this.nftStandard=aa,this.isSpecial=!1,{standard:aa,isSpecial:!1};if(await this.contractSupportsInterface(Yc,Oz))return this.nftStandard=Yc,this.isSpecial=!1,{standard:Yc,isSpecial:!1};throw new Error("Unsupported nft standard")}async contractSupportsInterface(e,r){let n=e===aa?Ch:Rh;return new Ro(this.contractAddress,n,this.provider).supportsInterface(r)}async getCollectibleTokenURI(e,r=aa){let n=r===aa?"tokenURI":"uri",i=r===aa?Ch:Rh;return new Ro(this.contractAddress,i,this.provider)[n](e)}}});var CYe,afe,Jjt,_V,RYe=D(()=>{nt();Ye();ci();CYe=ve(Do());Cf();afe=ve(Or());ui();ofe();Jjt=180*1e3,_V=class extends ei{constructor({config:e,state:r,provider:n,getCustomNfts:i,getSimpleHashNfts:o,onPreferencesStateChange:a,onNetworkStateChange:s,idleTimeTracker:c}){super({config:e,state:r}),V(this,"name","NftsController"),V(this,"provider",void 0),V(this,"ethersProvider",void 0),V(this,"getCustomNfts",void 0),V(this,"getSimpleHashNfts",void 0),V(this,"pollingManager",void 0),this.provider=n,this.ethersProvider=new op(this.provider,"any"),this.getCustomNfts=i,this.getSimpleHashNfts=o,this.defaultConfig={interval:Jjt,selectedAddress:"",chainId:""},this.defaultState={nfts:{}},this.initialize(),a(l=>{l.selectedAddress!==this.config.selectedAddress&&(this.configure({selectedAddress:l.selectedAddress}),this.restartNftDetection())}),s(l=>{let{chainId:u}=l.providerConfig;u!==this.config.chainId&&(this.configure({chainId:u}),this.restartNftDetection())}),this.pollingManager=new Z0(c,this.config.interval)}get userSelectedAddress(){return this.config.selectedAddress}get userNfts(){var e;return this.userSelectedAddress?(e=this.state.nfts[this.userSelectedAddress])!==null&&e!==void 0?e:[]:[]}startNftDetection(e){this.configure({selectedAddress:e}),this.restartNftDetection()}restartNftDetection(){this.userSelectedAddress&&this.pollingManager.start(()=>{this.detectNewNfts(),this.refreshNftBalances()})}detectNewNfts(){let e=this.userSelectedAddress;if(!e)return;let r=this.config.chainId,n=[];if(!r){this.update({nfts:{[e]:[...n]}});return}if(this.getCustomNfts){let o=this.getCustomNfts(e).reduce((a,s)=>{if(s.network===r){let c={description:"",image:"",name:"",tokenBalance:"",tokenId:s.nft_id,customNftId:s.id.toString()};if(a[s.nft_address])a[s.nft_address].assets.push(c);else{let l={assets:[c],chainId:s.network,contractAddress:s.nft_address,contractName:"",contractSymbol:"",contractImage:"",nftStandard:s.nft_contract_standard,contractDescription:""};a[s.nft_address]=l}}return a},{});n.push(...Object.values(o))}this.update({nfts:{[e]:[...n]}})}async refreshNftBalances(e){let r=this.userSelectedAddress;if(r==="")return;let n=[...this.userNfts],i=[];try{let o=this.config.chainId;if(Dz.includes(o)){let a=await this.getSimpleHashNfts(r,o,e);i.push(...a),this.update({nfts:{[r]:i}})}n.length>0&&this.getNftBalancesUsingHandler(n)}catch(o){afe.default.error(o,"unable to fetch nft balances")}}async getNftBalancesUsingHandler(e){if(!this.userSelectedAddress)return;let r=this.userSelectedAddress,n=e,o=(await Promise.allSettled(n.map(async a=>{try{let s=new mA(q(q({},a),{},{provider:this.ethersProvider})),c=await s.getContractMetadata(),l=await Promise.allSettled(a.assets.map(u=>s.getNftMetadata(r,u)));return q(q({},c),{},{assets:l.filter(u=>u.status==="fulfilled").map(u=>u.value)})}catch(s){afe.default.warn("Invalid contract address while fetching",s);return}}))).filter(a=>a.status==="fulfilled"&&a.value).map(a=>a.value);this.update({nfts:{[r]:(0,CYe.default)(this.userNfts,o)}})}}});var Vf,SV,PYe=D(()=>{Ye();L0();ci();CC();Vf=ve(Or());ui();OP();SV=class extends SC{constructor({config:e,state:r,provider:n,signAuthMessage:i,getProviderConfig:o,setProviderConfig:a,validateSignMessage:s}){super({config:e,state:r,defaultPreferences:{formattedPastTransactions:[],fetchedPastTx:[],paymentTx:[],etherscanTransactions:[]},signAuthMessage:i,validateSignMessage:s}),V(this,"chainNamespace",bi.EIP155),V(this,"_handle",void 0),V(this,"_mutex",new Z1),V(this,"getProviderConfig",void 0),V(this,"setProviderConfig",void 0),V(this,"provider",void 0),this.provider=n,this.getProviderConfig=o,this.setProviderConfig=a}async poll(e){var r;let n=await this._mutex.acquire();e&&this.configure({pollInterval:e}),this._handle&&window.clearTimeout(this._handle);let i=this.state.selectedAddress;i&&(r=this.getAddressState(i))!==null&&r!==void 0&&r.jwtToken&&(await this.sync(i),n(),this._handle=window.setTimeout(()=>{this.poll(this.config.pollInterval)},this.config.pollInterval))}async initPreferences(e){let{address:r,jwtToken:n,calledFromEmbed:i,userInfo:o,rehydrate:a,locale:s="en",type:c,signatures:l,web3AuthClientId:u,web3AuthNetwork:d,loginMode:f,sessionPubKey:p,aaProvider:h,eoaAddress:b,mainAddress:_}=e,{chainId:A}=this.getProviderConfig();await super.init({address:r,userInfo:o,idToken:n,type:c,metadata:{email:o.email,signatures:l,network:d,eoa_address:b,aa_provider:h,chain_id:A,main_address:_}});let{groupedAuthConnectionId:C,authConnectionId:R,userId:M}=o||{};if(!await this.sync(r)){let F=this.getAddressState(r);await this.createUser({selectedCurrency:F.selectedCurrency,theme:F.theme,groupedAuthConnectionId:C,authConnectionId:R,userId:M,locale:s,address:r,type:c,web3AuthNetwork:d,metadata:{aa_provider:h,chain_id:A,eoa_address:b}})}b&&this.updateState({eoaAddress:b},r),this.storeUserLogin({groupedAuthConnectionId:C,authConnectionId:R,userId:M,options:{calledFromEmbed:i,rehydrate:a},address:r,web3AuthClientId:u,web3AuthNetwork:d,sessionPubKey:p,loginMode:f})}getSelectedAddress(){return this.state.selectedAddress}async sync(e){try{let r=await this.getUser(e);if(r){let{default_currency:n,contacts:i,theme:o,locale:a,public_address:s,default_public_address:c,customNetworks:l,customTokens:u,customNfts:d,account_type:f}=r||{};return this.updateState({contacts:i,theme:o,selectedCurrency:n,locale:a,defaultPublicAddress:c||s,customTokens:u,customNfts:d,customNetworks:l,accountType:f},e),!0}return!1}catch(r){if(wC(r))throw r;return Vf.default.error(r),!1}finally{this.getWalletOrders(e).then(r=>{r&&r.length>0&&(this.updateState({fetchedPastTx:[...r]},e),this.calculatePastTx(r,e))}).catch(r=>Vf.default.error(r))}}async patchNewTx(e,r){var n;let i=O3({transaction:e,blockExplorerUrl:this.getBlockExplorerUrl()}),o=((n=this.getAddressState(r))===null||n===void 0?void 0:n.formattedPastTransactions)||[],a=o.findIndex(c=>c.transaction_hash===e.transaction_hash&&c.chainId===e.chain_id);if(e.status===Wt.submitted||e.status===Wt.confirmed)if(a===-1){var s;let c=this.cancelTxCalculate([...o,i]);e.is_cancel=i.is_cancel,e.to=(s=e.to)===null||s===void 0?void 0:s.toLowerCase(),e.from=e.from.toLowerCase(),this.updateState({formattedPastTransactions:c},r),this.postPastTx(e,r)}else i.is_cancel=o[a].is_cancel,o[a]=i,this.updateState({formattedPastTransactions:this.cancelTxCalculate([...o])},r)}recalculatePastTx(e){let r=e||this.state.selectedAddress,n=this.getAddressState(r);n!=null&&n.fetchedPastTx&&this.calculatePastTx(n.fetchedPastTx,r)}async refetchEtherscanTx(e){var r;let n=e||this.state.selectedAddress;if(!n)return[];let i=n?.toLowerCase();if((r=this.getAddressState(n))!==null&&r!==void 0&&r.jwtToken){let{chainId:o}=this.getProviderConfig();if(oE.includes(o)){let a=await this.fetchEtherscanTx({selectedAddress:n,chainId:this.getProviderConfig().chainId}),s=await TV({txn:a,lowerCaseSelectedAddress:i,provider:this.provider,chainId:o,blockExplorerUrl:this.getBlockExplorerUrl()});return Vf.default.info("Formatted Etherscan Response",s),this.updateState({etherscanTransactions:s}),a}}}async fetchEtherscanTx(e){try{let r=await this.wsApiClient.authGet(`etherscan?chainId=${e.chainId}`,this.authCredentials(e.selectedAddress));return Vf.default.info("Etherscan Response API",r),r.success?r.data:[]}catch(r){return Vf.default.error("unable to fetch etherscan tx",r),[]}}async fetchQuote(e){try{let r=await this.wsApiClient.authPost("quote",e,this.authCredentials());return r.success?r.data:[]}catch(r){return Vf.default.error("unable to get swap quote",r),[]}}async getEtherScanTokens(e,r,n){let o=`tokens?chainId=${r}&address=${e}`;return n&&(o+="&skipCache=true"),(await this.wsApiClient.authGet(o,this.authCredentials())).data}async getSimpleHashNfts(e,r,n){let o=`nfts?chainId=${r}&address=${e}`;return n&&(o+="&skipCache=true"),(await this.wsApiClient.authGet(o,this.authCredentials())).data}getCustomTokens(e){var r,n;return(r=(n=this.getAddressState(e))===null||n===void 0?void 0:n.customTokens)!==null&&r!==void 0?r:[]}getCustomNfts(e){var r,n;return(r=(n=this.getAddressState(e))===null||n===void 0?void 0:n.customNfts)!==null&&r!==void 0?r:[]}isChainIdSupported(e,r){return!!this.getChainOptions(e).find(o=>ii(o.chainId)===r)}async addChain(e){if(this.getChainOptions().find(a=>a.chainId===e.chainId))return;let i={displayName:e.chainName,rpcTarget:e.rpcUrls[0],ticker:e.nativeCurrency.symbol,chainId:e.chainId,blockExplorerUrl:e.blockExplorerUrls[0],tickerName:e.nativeCurrency.name,logo:e.nativeCurrency.symbol};if(!await this.addCustomNetwork({network:i}))throw new Error("unable to add custom network")}switchChain(e){let n=this.getChainOptions().find(i=>i.chainId===e.chainId);if(n)this.setProviderConfig(n);else throw new Error(`chainId ${e.chainId} is not supported`)}async addCustomNetwork({network:e}){try{let{selectedAddress:r}=this.state,n={network_name:e.displayName,rpc_url:e.rpcTarget,chain_id:e.chainId,symbol:e.ticker,block_explorer_url:e.blockExplorerUrl||void 0,is_testnet:e.isTestnet||!1,logo:e.logo,symbol_name:e.tickerName},i=await this.wsApiClient.authPost("customnetwork",n,this.authCredentials(r),{useAPIKey:!0});return await this.sync(r),i.data.id}catch{return Vf.default.error("error adding custom network"),null}}async deleteCustomNetwork(e){try{let{selectedAddress:r}=this.state;return await this.wsApiClient.authRemove(`customnetwork/${e}`,{},this.authCredentials(r),{useAPIKey:!0}),await this.sync(r),!0}catch{return Vf.default.error("error deleting custom network"),!1}}async editCustomNetwork({network:e,id:r}){try{let{selectedAddress:n}=this.state,i={network_name:e.displayName,rpc_url:e.rpcTarget,chain_id:e.chainId,symbol:e.ticker||void 0,block_explorer_url:e.blockExplorerUrl||void 0,is_testnet:e.isTestnet||!1};return await this.wsApiClient.authPatch(`customnetwork/${r}`,i,this.authCredentials(n),{useAPIKey:!0}),await this.sync(n),!0}catch{return Vf.default.error("error editing custom network"),!1}}getChainOptions(e=this.state.selectedAddress){var r,n;let{identities:i}=this.state,o=(r=(n=i[e])===null||n===void 0?void 0:n.customNetworks)!==null&&r!==void 0?r:[],a=Object.values(o).reduce((c,l)=>{let u={blockExplorerUrl:l.block_explorer_url,chainId:l.chain_id,displayName:l.network_name,logo:"eth.svg",rpcTarget:l.rpc_url,ticker:l.symbol,tickerName:l.symbol.toUpperCase(),isCustom:!0,id:l.id};return Object.keys(Jc).includes(u.chainId)||c.push(u),c},[]);return[...Object.values(Jc).reduce((c,l)=>(c.push(l),c),[]),...a]}getBlockExplorerUrl(){let r=this.getChainOptions().find(n=>n.chainId===this.getProviderConfig().chainId);return r?`${r.blockExplorerUrl}`:""}async calculatePastTx(e,r){let n=[],i=[],o=r.toLowerCase(),s=this.getChainOptions(r).find(f=>f.chainId===this.getProviderConfig().chainId);for(let f of e){var c;if(s?.chainId===f.chain_id&&f.to&&f.from&&(o===f.from.toLowerCase()||o===((c=f.to)===null||c===void 0?void 0:c.toLowerCase())))if(f.status!=="confirmed")i.push(f);else{let p=O3({transaction:f,lowerCaseSelectedAddress:o,blockExplorerUrl:this.getBlockExplorerUrl()});n.push(p)}}let l=i.map(f=>gV(f.transaction_hash,this.provider).catch(p=>Vf.default.error(p))),u=await Promise.all(l);for(let[f,p]of i.entries()){let h=O3({transaction:p,lowerCaseSelectedAddress:o,blockExplorerUrl:this.getBlockExplorerUrl()});h.status=u[f]||Wt.submitted,n.push(h),o===p.from.toLowerCase()&&h.status&&h.status!==p.status&&this.patchPastTx({id:p.id,status:h.status},r)}let d=this.cancelTxCalculate(n);this.updateState({formattedPastTransactions:[...d]},r)}cancelTxCalculate(e){let r={};for(let n of e)r[n.nonce]?r[n.nonce].push(n):r[n.nonce]=[n];for(let[,n]of Object.entries(r))if(n.length>1){let i=n.sort((a,s)=>{let c=new Date(a.date).getTime();return new Date(s.date).getTime()-c}),o=i[0];o.is_cancel=!0,i.slice(1).forEach(a=>{a.hasCancel=!0,a.status=o.status==="confirmed"?Wt.cancelled:Wt.cancelling,a.cancelDateInitiated=`${vV(new Date(o.date).getTime())} - ${wV(o.date)}`,a.etherscanLink=o.etherscanLink,a.cancelGas=o.gas,a.cancelGasPrice=o.gasPrice})}return e}}});var OYe,bA,sfe=D(()=>{Ye();Cf();OYe=ve(Or());U8();bA=class{constructor({address:e,symbol:r,decimals:n,name:i,provider:o}){V(this,"address",void 0),V(this,"symbol",void 0),V(this,"decimals",void 0),V(this,"name",void 0),V(this,"contract",void 0),this.address=e,this.contract=new Ro(e,Z9,o),this.symbol=r,this.decimals=n,this.name=i}async getSymbol(){return(!this.symbol||this.symbol==="ERC20")&&(this.symbol=await this.contract.symbol()),this.symbol}async getDecimals(){try{return this.decimals||(this.decimals=await this.contract.decimals()),this.decimals}catch(e){return OYe.default.warn(`Could not get decimals for token ${this.address}`,e),0}}async getName(){return this.name||(this.name=await this.contract.name()),this.name}async getUserBalance(e){return this.decimals||await this.getDecimals(),(await this.contract.balanceOf(e)).toString(16)}}});var NYe,yA,IV,kYe=D(()=>{nt();Ye();ci();u8();NYe=ve(Or());ui();yA="eth",IV=class extends ei{constructor({config:e,state:r,idleTimeTracker:n,onPreferencesStateChange:i,onNetworkStateChange:o,onTokensStateChange:a}){super({config:e,state:r}),V(this,"pollingManager",void 0),this.defaultState=q(q({},this.defaultState),{},{contractExchangeRates:{}}),this.initialize(),i(s=>{let{selectedAddress:c}=s;this.configure({selectedAddress:c})}),o(s=>{let{chainId:c,ticker:l}=s.providerConfig;this.configure({chainId:c,nativeCurrency:l})}),a(s=>{let{tokens:c}=s,l=c[this.config.selectedAddress];l?.length>0&&this.config.tokens!==c[this.config.selectedAddress]&&(this.configure({tokens:c[this.config.selectedAddress]}),this.updateExchangeRates())}),this.pollingManager=new Z0(n,this.config.pollInterval)}async scheduleConversionInterval(){this.pollingManager.start(this.updateExchangeRates.bind(this))}async updateExchangeRates(){let e=Uz[this.config.chainId],r={};e?r=await this.fetchExchangeRates(this.config.nativeCurrency,e):(NYe.default.info(`ChainId ${this.config.chainId} not supported by coingecko`),this.config.tokens.forEach(n=>{r[n.tokenAddress]=void 0})),this.update({contractExchangeRates:r})}async fetchExchangeRates(e,r){let n=this.config.tokens.map(c=>c.tokenAddress);if(Lz.has(e.toLowerCase())){let c=await jl(`${this.config.currencyApi}/currency/exchange-rates?platform=${r.platform}&contract_addresses=${n.join(",")}&vs_currencies=${e.toLowerCase()}`),l={};return Object.keys(c).forEach(u=>{l[u]=c[u][e.toLowerCase()]||0}),l}let[o,a]=await Promise.all([jl(`${this.config.currencyApi}/currency/exchange-rates?platform=${r.platform}&contract_addresses=${n.join(",")}&vs_currencies=${yA}`),jl(`${this.config.currencyApi}/currency?fsym=${e.toUpperCase()}&tsyms=${yA.toUpperCase()}`)]),s={};return Object.keys(o).forEach(c=>{s[c]=o[c][yA]*Number.parseFloat(a[yA])||0}),s}}});var cfe,Qjt,CV,MYe=D(()=>{nt();Ye();ci();Cf();cfe=ve(Or());U8();ui();Fce();sfe();Qjt=180*1e3,CV=class extends ei{constructor({config:e,state:r,provider:n,idleTimeTracker:i,getCustomTokens:o,getEtherScanTokens:a,getProviderConfig:s,onPreferencesStateChange:c,onNetworkStateChange:l}){super({config:e,state:r}),V(this,"name","TokensController"),V(this,"provider",void 0),V(this,"ethersProvider",void 0),V(this,"pollingManager",void 0),V(this,"getProviderConfig",void 0),V(this,"getCustomTokens",void 0),V(this,"getEtherScanTokens",void 0),this.provider=n,this.ethersProvider=new op(this.provider,"any"),this.getCustomTokens=o,this.getEtherScanTokens=a,this.getProviderConfig=s,this.defaultConfig={interval:Qjt,selectedAddress:"",chainId:""},this.defaultState={tokens:{}},this.initialize(),c(u=>{u.selectedAddress!==this.config.selectedAddress&&(this.configure({selectedAddress:u.selectedAddress}),this.restartTokenDetection())}),l(u=>{let{chainId:d}=u.providerConfig;d!==this.config.chainId&&(this.configure({chainId:d}),this.restartTokenDetection())}),this.pollingManager=new Z0(i,this.config.interval)}get userSelectedAddress(){return this.config.selectedAddress}get userTokens(){var e;return this.userSelectedAddress?(e=this.state.tokens[this.userSelectedAddress])!==null&&e!==void 0?e:[]:[]}startTokenDetection(e){this.configure({selectedAddress:e}),this.restartTokenDetection()}restartTokenDetection(){this.userSelectedAddress&&this.pollingManager.start(async()=>{this.detectNewTokens(),await this.refreshTokenBalances()})}detectNewTokens(){let e=this.userSelectedAddress;if(!e)return;let r=this.config.chainId,n=[];if(!r){this.update({tokens:{[e]:[...n]}});return}let i=this.getProviderConfig();if(i!=null&&i.isErc20&&i!==null&&i!==void 0&&i.tokenAddress&&n.push({tokenAddress:i.tokenAddress,name:i.tickerName,logo:i.logo,erc20:!0,symbol:i.ticker,decimals:"18",chainId:r}),this.getCustomTokens){let o=this.getCustomTokens(e);n.push(...o.reduce((a,s)=>(s.network===r&&a.push({tokenAddress:s.token_address,name:s.token_name,logo:"eth.svg",erc20:!0,symbol:s.token_symbol,decimals:s.decimals,balance:"",customTokenId:s.id.toString(),chainId:s.network}),a),[]))}this.update({tokens:{[e]:[...n]}})}async refreshTokenBalances(e){let r=this.userSelectedAddress;if(r==="")return;let n=[...this.userTokens];try{let i=[],o=this.config.chainId;if(oE.includes(o)){let s=await this.getEtherScanTokens(r,o,e);i.push(...s)}let a=n.filter(s=>!i.find(c=>{var l,u;return((l=c.tokenAddress)===null||l===void 0?void 0:l.toLocaleLowerCase())===((u=s.tokenAddress)===null||u===void 0?void 0:u.toLocaleLowerCase())}));if(a.length>0){let s=a.map(l=>l.tokenAddress),c=yR[o];if(c){let u=await new Ro(c,X9,this.ethersProvider).balances([r],s);s.forEach((d,f)=>{let p=oo(u[f]);p&&p!=="0x0"&&i.push(q(q({},a[f]),{},{balance:p,chainId:o}))})}else{let l=await this.getTokenBalancesUsingHandler(a);i.push(...l)}}this.update({tokens:{[r]:i}})}catch(i){cfe.default.error(i,"unable to fetch token balances using single call balance address");let o=await this.getTokenBalancesUsingHandler(n);this.update({tokens:{[r]:o}})}}async getTokenBalancesUsingHandler(e){if(!this.userSelectedAddress)return[];let r=e;return(await Promise.allSettled(r.map(async o=>{try{let a=new bA({address:o.tokenAddress,decimals:Number.parseInt(o.decimals),name:o.name,symbol:o.symbol,provider:this.ethersProvider}),s=await a.getUserBalance(this.userSelectedAddress);return{decimals:a.decimals.toString(),erc20:!0,logo:o.logo||"eth.svg",name:a.name,symbol:a.symbol,tokenAddress:a.address,balance:`0x${s}`,customTokenId:o.customTokenId,network:o.chainId,chainId:o.chainId}}catch(a){cfe.default.warn("could not fetch user token balance",a);return}}))).reduce((o,a)=>(a.status==="fulfilled"&&a.value&&o.push(a.value),o),[])}}});var gA,lfe=D(()=>{Ye();CC();ui();gA=class{constructor({provider:e,blockTracker:r,getPendingTransactions:n,getConfirmedTransactions:i}){V(this,"provider",void 0),V(this,"blockTracker",void 0),V(this,"getPendingTransactions",void 0),V(this,"getConfirmedTransactions",void 0),V(this,"lockMap",void 0),this.provider=e,this.blockTracker=r,this.getPendingTransactions=n,this.getConfirmedTransactions=i,this.lockMap={}}async getGlobalLock(){return{releaseLock:await this._lookupMutex("global").acquire()}}async getNonceLock(e){await this._globalMutexFree();let r=await this._takeMutex(e);try{let n={},i=await this._getNetworkNextNonce(e),o=this._getHighestLocallyConfirmed(e),a=i.nonce,s=Math.max(a,o),c=this.getPendingTransactions(e),l=this._getHighestContinuousFrom(c,s);return n.params={highestLocallyConfirmed:o,highestSuggested:s,nextNetworkNonce:a},n.local=l,n.network=i,{nextNonce:Math.max(i.nonce,l.nonce),nonceDetails:n,releaseLock:r}}catch(n){throw r(),n}}async _globalMutexFree(){(await this._lookupMutex("global").acquire())()}async _takeMutex(e){return await this._lookupMutex(e).acquire()}_lookupMutex(e){let r=this.lockMap[e];return r||(r=new Z1,this.lockMap[e]=r),r}async _getNetworkNextNonce(e){let r=await this.blockTracker.getLatestBlock(),n=await this.provider.request({method:Lt.ETH_GET_TRANSACTION_COUNT,params:[e,r.idempotencyKey]}),i=Number.parseInt(n,16);return{name:"network",nonce:i,details:{block:r,baseCount:i}}}_getHighestLocallyConfirmed(e){let r=this.getConfirmedTransactions(e),n=this._getHighestNonce(r);return Number.isInteger(n)?n+1:0}_getHighestNonce(e){let r=e.map(i=>{let{nonce:o}=i.transaction;return Number.parseInt(o,16)});return Math.max.apply(null,r)}_getHighestContinuousFrom(e,r){let n=new Set(e.map(o=>{let{nonce:a}=o.transaction;return Number.parseInt(a,16)})),i=r;for(;n.has(i);)i+=1;return{name:"local",nonce:i,details:{startPoint:r,highest:i}}}}});var RV,wA,ufe=D(()=>{Ye();ci();jc();RV=ve(Or());ui();wA=class extends Q1{constructor({provider:e,nonceTracker:r,approveTransaction:n,publishTransaction:i,getPendingTransactions:o,getConfirmedTransactions:a}){super(),V(this,"DROPPED_BUFFER_COUNT",3),V(this,"nonceTracker",void 0),V(this,"provider",void 0),V(this,"approveTransaction",void 0),V(this,"droppedBlocksBufferByHash",void 0),V(this,"getConfirmedTransactions",void 0),V(this,"getPendingTransactions",void 0),V(this,"publishTransaction",void 0),this.provider=e,this.nonceTracker=r,this.approveTransaction=n,this.publishTransaction=i,this.getPendingTransactions=o,this.getConfirmedTransactions=a,this.droppedBlocksBufferByHash=new Map}async updatePendingTxs(){let e=await this.nonceTracker.getGlobalLock();try{let r=this.getPendingTransactions();await Promise.all(r.map(n=>this._checkPendingTx(n)))}catch(r){RV.default.error("PendingTransactionTracker - Error updating pending transactions"),RV.default.error(r)}e.releaseLock()}async resubmitPendingTxs(e){let r=this.getPendingTransactions();if(r.length!==0)for(let i of r)try{await this._resubmitTx(i,e.idempotencyKey)}catch(o){var n;let a=((n=o.value)===null||n===void 0||(n=n.message)===null||n===void 0?void 0:n.toLowerCase())||o.message.toLowerCase();if(a.includes("replacement transaction underpriced")||a.includes("known transaction")||a.includes("gas price too low to replace")||a.includes("transaction with the same hash was already imported")||a.includes("gateway timeout")||a.includes("nonce too low"))return;i.warning={error:a,message:"There was an error when resubmitting this transaction."},this.emit(io.TX_WARNING,{txMeta:i,txId:i.id})}}async _resubmitTx(e,r){if(e.userOpHash)return;e.firstRetryBlockNumber||this.emit(io.TX_BLOCK_UPDATE,{txMeta:e,latestBlockNumber:r,txId:e.id});let n=e.firstRetryBlockNumber||r,i=Number.parseInt(r,16)-Number.parseInt(n,16),o=e.retryCount||0;if(i<=Math.min(50,2**o))return;if(!("rawTransaction"in e))return this.approveTransaction(e.id);let{rawTransaction:a}=e,s=await this.publishTransaction(a);return this.emit(io.TX_RETRY,{txMeta:e,txId:e.id}),s}async _checkPendingTx(e){let r=e,n=r.transactionHash,i=r.id;if(!(r.status!==Wt.submitted||r.isUserOperation)){if(!n){let o=new Error("We had an error while submitting this transaction, please try again.");o.name="NoTxHashError",this.emit(io.TX_FAILED,{txId:i,error:o});return}if(this._checkIfNonceIsTaken(r)){this.emit(io.TX_DROPPED,{txId:i});return}try{let o=await this.provider.request({method:Lt.ETH_GET_TRANSACTION_RECEIPT,params:[n]});if(o!=null&&o.blockNumber){let{baseFeePerGas:a,timestamp:s}=await this.provider.request({method:Lt.ETH_GET_BLOCK_BY_HASH,params:[o.blockHash,!1]});this.emit(io.TX_CONFIRMED,{txId:i,txReceipt:o,baseFeePerGas:a,blockTimestamp:s});return}}catch(o){RV.default.error("error while loading tx",o),r.warning={error:o.message,message:"There was a problem loading this transaction."},this.emit(io.TX_WARNING,{txMeta:r,txId:i})}await this._checkIfTxWasDropped(r)&&this.emit(io.TX_DROPPED,{txId:i})}}async _checkIfTxWasDropped(e){let{transactionHash:r,transaction:{nonce:n,from:i}}=e,o=await this.provider.request({method:Lt.ETH_GET_TRANSACTION_COUNT,params:[i,"latest"]});if(Number.parseInt(n,16)>=Number.parseInt(o,16))return!1;this.droppedBlocksBufferByHash.has(r)||this.droppedBlocksBufferByHash.set(r,0);let a=this.droppedBlocksBufferByHash.get(r);return a<this.DROPPED_BUFFER_COUNT?(this.droppedBlocksBufferByHash.set(r,a+1),!1):(this.droppedBlocksBufferByHash.delete(r),!0)}_checkIfNonceIsTaken(e){let r=e.transaction.from;return this.getConfirmedTransactions(r).some(i=>i.id===e.id?!1:i.transaction.nonce===e.transaction.nonce)}}});var vA,BYe,EA,dfe=D(()=>{Ye();L0();ci();vA=ve(ZA()),BYe=ve(Or()),EA=class{constructor(e,r){V(this,"provider",void 0),V(this,"blockTracker",void 0),this.provider=e,this.blockTracker=r}async analyzeGasUsage(e){let r=await this.blockTracker.getLatestBlock(),i=new vA.BN(ii(r.gasLimit),16).mul(new vA.BN(19)).div(new vA.BN(20)),o=Gt(i.toString("hex")),a;try{o=await this.estimateTxGas(e)}catch(s){BYe.default.warn(s),a={reason:s.message,errorKey:s.errorKey,debug:{blockNumber:r.idempotencyKey,blockGasLimit:r.gasLimit}}}return{blockGasLimit:r.gasLimit,estimatedGasHex:o,simulationFails:a}}addGasBuffer(e,r,n=1.5){let i=new vA.BN(ii(e),16),a=new vA.BN(ii(r),16).muln(.9),s=i.muln(n);return i.gt(a)?Gt(i.toString("hex")):s.lt(a)?Gt(s.toString("hex")):Gt(a.toString("hex"))}async estimateTxGas(e){let r=$c(e.transaction);return delete r.gasPrice,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,this.provider.request({method:"eth_estimateGas",params:[r]})}}});function OV(t,e){return Xjt.call(t,e)}function NV(t){if(Array.isArray(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)e[r]=""+r;return e}if(Object.keys)return Object.keys(t);var n=[];for(var i in t)OV(t,i)&&n.push(i);return n}function Ns(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function kV(t){for(var e=0,r=t.length,n;e<r;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function Tp(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function NP(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function PV(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)if(PV(t[e]))return!0}else if(typeof t=="object"){for(var n=NV(t),i=n.length,o=0;o<i;o++)if(PV(t[n[o]]))return!0}}return!1}function DYe(t,e){var r=[t];for(var n in e){var i=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof i<"u"&&r.push(n+": "+i)}return r.join(`
`)}var Zjt,Xjt,kP,MP=D(()=>{Zjt=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Xjt=Object.prototype.hasOwnProperty;kP=(function(t){Zjt(e,t);function e(r,n,i,o,a){var s=this.constructor,c=t.call(this,DYe(r,{name:n,index:i,operation:o,tree:a}))||this;return c.name=n,c.index=i,c.operation=o,c.tree=a,Object.setPrototypeOf(c,s.prototype),c.message=DYe(r,{name:n,index:i,operation:o,tree:a}),c}return e})(Error)});var ffe={};lr(ffe,{JsonPatchError:()=>ko,_areEquals:()=>BP,applyOperation:()=>N3,applyPatch:()=>DV,applyReducer:()=>r$t,deepClone:()=>e$t,getValueByPointer:()=>MV,validate:()=>LYe,validator:()=>BV});function MV(t,e){if(e=="")return t;var r={op:"_get",path:e};return N3(t,r),r.value}function N3(t,e,r,n,i,o){if(r===void 0&&(r=!1),n===void 0&&(n=!0),i===void 0&&(i=!0),o===void 0&&(o=0),r&&(typeof r=="function"?r(e,0,t,e.path):BV(e,0)),e.path===""){var a={newDocument:t};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=t,a;if(e.op==="move"||e.op==="copy")return a.newDocument=MV(t,e.from),e.op==="move"&&(a.removed=t),a;if(e.op==="test"){if(a.test=BP(t,e.value),a.test===!1)throw new ko("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a.newDocument=t,a}else{if(e.op==="remove")return a.removed=t,a.newDocument=null,a;if(e.op==="_get")return e.value=t,a;if(r)throw new ko("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,t);return a}}else{n||(t=Ns(t));var s=e.path||"",c=s.split("/"),l=t,u=1,d=c.length,f=void 0,p=void 0,h=void 0;for(typeof r=="function"?h=r:h=BV;;){if(p=c[u],p&&p.indexOf("~")!=-1&&(p=NP(p)),i&&(p=="__proto__"||p=="prototype"&&u>0&&c[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&f===void 0&&(l[p]===void 0?f=c.slice(0,u).join("/"):u==d-1&&(f=e.path),f!==void 0&&h(e,0,t,f)),u++,Array.isArray(l)){if(p==="-")p=l.length;else{if(r&&!kV(p))throw new ko("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,t);kV(p)&&(p=~~p)}if(u>=d){if(r&&e.op==="add"&&p>l.length)throw new ko("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,t);var a=t$t[e.op].call(e,l,p,t);if(a.test===!1)throw new ko("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a}}else if(u>=d){var a=xA[e.op].call(e,l,p,t);if(a.test===!1)throw new ko("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a}if(l=l[p],r&&u<d&&(!l||typeof l!="object"))throw new ko("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,t)}}}function DV(t,e,r,n,i){if(n===void 0&&(n=!0),i===void 0&&(i=!0),r&&!Array.isArray(e))throw new ko("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(t=Ns(t));for(var o=new Array(e.length),a=0,s=e.length;a<s;a++)o[a]=N3(t,e[a],r,!0,i,a),t=o[a].newDocument;return o.newDocument=t,o}function r$t(t,e,r){var n=N3(t,e);if(n.test===!1)throw new ko("Test operation failed","TEST_OPERATION_FAILED",r,e,t);return n.newDocument}function BV(t,e,r,n){if(typeof t!="object"||t===null||Array.isArray(t))throw new ko("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,r);if(xA[t.op]){if(typeof t.path!="string")throw new ko("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,r);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new ko('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,r);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new ko("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new ko("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&PV(t.value))throw new ko("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,r);if(r){if(t.op=="add"){var i=t.path.split("/").length,o=n.split("/").length;if(i!==o+1&&i!==o)throw new ko("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,r)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==n)throw new ko("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,r)}else if(t.op==="move"||t.op==="copy"){var a={op:"_get",path:t.from,value:void 0},s=LYe([a],r);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new ko("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,r)}}}else throw new ko("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,r)}function LYe(t,e,r){try{if(!Array.isArray(t))throw new ko("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)DV(Ns(e),Ns(t),r||!0);else{r=r||BV;for(var n=0;n<t.length;n++)r(t[n],n,e,void 0)}}catch(i){if(i instanceof ko)return i;throw i}}function BP(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),n=Array.isArray(e),i,o,a;if(r&&n){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!BP(t[i],e[i]))return!1;return!0}if(r!=n)return!1;var s=Object.keys(t);if(o=s.length,o!==Object.keys(e).length)return!1;for(i=o;i--!==0;)if(!e.hasOwnProperty(s[i]))return!1;for(i=o;i--!==0;)if(a=s[i],!BP(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}var ko,e$t,xA,t$t,LV=D(()=>{MP();ko=kP,e$t=Ns,xA={add:function(t,e,r){return t[e]=this.value,{newDocument:r}},remove:function(t,e,r){var n=t[e];return delete t[e],{newDocument:r,removed:n}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:function(t,e,r){var n=MV(r,this.path);n&&(n=Ns(n));var i=N3(r,{op:"remove",path:this.from}).removed;return N3(r,{op:"add",path:this.path,value:i}),{newDocument:r,removed:n}},copy:function(t,e,r){var n=MV(r,this.from);return N3(r,{op:"add",path:this.path,value:Ns(n)}),{newDocument:r}},test:function(t,e,r){return{newDocument:r,test:BP(t[e],this.value)}},_get:function(t,e,r){return this.value=t[e],{newDocument:r}}},t$t={add:function(t,e,r){return kV(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:r,index:e}},remove:function(t,e,r){var n=t.splice(e,1);return{newDocument:r,removed:n[0]}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:xA.move,copy:xA.copy,test:xA.test,_get:xA._get}});var bfe={};lr(bfe,{compare:()=>u$t,generate:()=>pfe,observe:()=>l$t,unobserve:()=>c$t});function o$t(t){return hfe.get(t)}function a$t(t,e){return t.observers.get(e)}function s$t(t,e){t.observers.delete(e.callback)}function c$t(t,e){e.unobserve()}function l$t(t,e){var r=[],n,i=o$t(t);if(!i)i=new n$t(t),hfe.set(t,i);else{var o=a$t(i,e);n=o&&o.observer}if(n)return n;if(n={},i.value=Ns(t),e){n.callback=e,n.next=null;var a=function(){pfe(n)},s=function(){clearTimeout(n.next),n.next=setTimeout(a)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return n.patches=r,n.object=t,n.unobserve=function(){pfe(n),clearTimeout(n.next),s$t(i,n),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(e,new i$t(e,n)),n}function pfe(t,e){e===void 0&&(e=!1);var r=hfe.get(t.object);mfe(r.value,t.object,t.patches,"",e),t.patches.length&&DV(r.value,t.patches);var n=t.patches;return n.length>0&&(t.patches=[],t.callback&&t.callback(n)),n}function mfe(t,e,r,n,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=NV(e),a=NV(t),s=!1,c=!1,l=a.length-1;l>=0;l--){var u=a[l],d=t[u];if(OV(e,u)&&!(e[u]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var f=e[u];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?mfe(d,f,r,n+"/"+Tp(u),i):d!==f&&(s=!0,i&&r.push({op:"test",path:n+"/"+Tp(u),value:Ns(d)}),r.push({op:"replace",path:n+"/"+Tp(u),value:Ns(f)}))}else Array.isArray(t)===Array.isArray(e)?(i&&r.push({op:"test",path:n+"/"+Tp(u),value:Ns(d)}),r.push({op:"remove",path:n+"/"+Tp(u)}),c=!0):(i&&r.push({op:"test",path:n,value:t}),r.push({op:"replace",path:n,value:e}),s=!0)}if(!(!c&&o.length==a.length))for(var l=0;l<o.length;l++){var u=o[l];!OV(t,u)&&e[u]!==void 0&&r.push({op:"add",path:n+"/"+Tp(u),value:Ns(e[u])})}}}function u$t(t,e,r){r===void 0&&(r=!1);var n=[];return mfe(t,e,n,"",r),n}var hfe,n$t,i$t,yfe=D(()=>{MP();LV();hfe=new WeakMap,n$t=(function(){function t(e){this.observers=new Map,this.obj=e}return t})(),i$t=(function(){function t(e,r){this.callback=e,this.observer=r}return t})()});var gfe,UYe=D(()=>{LV();yfe();MP();LV();yfe();MP();gfe=Object.assign({},ffe,bfe,{JsonPatchError:kP,deepClone:Ns,escapePathComponent:Tp,unescapePathComponent:NP})});function UV(t,e,r){let n=gfe.compare(t,e);return n[0]&&(r&&(n[0].note=r),n[0].timestamp=Date.now()),n}function FV(t){return $c(t).reduce((r,n)=>gfe.applyPatch(r,n).newDocument)}function DP(t){let e=q({},t);return delete e.history,$c(e)}var wfe=D(()=>{nt();ci();UYe()});var AA,vfe=D(()=>{nt();ci();wfe();PP();AA=class extends IC{constructor({config:e,state:r,getCurrentChainId:n}){super({config:e,state:r,getCurrentChainId:n})}generateTxMeta(e={}){var r;let n=this.getCurrentChainId();if(n==="loading")throw new Error("Torus is having trouble connecting to the network");let i=null;return e.transaction&&typeof e.origin=="string"&&e.origin!=="torus"&&(typeof e.transaction.gasPrice<"u"?i={gasPrice:e.transaction.gasPrice}:(typeof e.transaction.maxFeePerGas<"u"||typeof e.transaction.maxPriorityFeePerGas<"u")&&(i={maxPriorityFeePerGas:e.transaction.maxPriorityFeePerGas,maxFeePerGas:e.transaction.maxFeePerGas}),typeof e.transaction.gas<"u"&&(i=q(q({},i),{},{gas:e.transaction.gas}))),q({id:((r=e.transaction)===null||r===void 0?void 0:r.id)||Q0(),time:Date.now(),status:Wt.unapproved,loadingDefaults:!0,chainId:n,dappSuggestedGasFees:i},e)}addTransactionToState(e){e.transaction&&(e.transaction=RP(e.transaction,!1)),this.once(`${e.id}:signed`,()=>{this.removeAllListeners(`${e.id}:rejected`)}),this.once(`${e.id}:rejected`,()=>{this.removeAllListeners(`${e.id}:signed`)}),e.history=[];let r=DP(e);e.history.push(r);let n=this.getTransactions({filterToCurrentNetwork:!1}),{txHistoryLimit:i}=this.config,o=new Set,a=n.reverse().filter(s=>{let{nonce:c}=s.transaction,{chainId:l,status:u}=s,d=`${c}-${l}`;return o.has(d)?!1:o.size<i-1||yV().includes(u)===!1?(o.add(d),!1):!0}).map(s=>s.id);return this._deleteTransactions(a),this._addTransactionsToState([e]),e}wipeTransactions(e){let{transactions:r}=this.state,n=this.getCurrentChainId();this.update({transactions:AC(r,i=>{let o=f8(i,n);return i.transaction.from===e&&o})})}getTransactions({searchCriteria:e={},initialList:r=void 0,filterToCurrentNetwork:n=!0,limit:i=void 0}={}){let o=this.getCurrentChainId(),a=l0e(e,l=>typeof l=="function"?l:u=>u===l),s=r?c0e(r,"id"):this.state.transactions,c=s0e(Object.values(E9(s,l=>{let u=f8(l,o);if(n&&!u)return!1;for(let[d,f]of Object.entries(a))if(d in l.transaction){if(f(l.transaction[d])===!1)return!1}else if(f(l[d])===!1)return!1;return!0})),"time");if(i!==void 0){let l=new Set,u=[];for(let d=c.length-1;d>-1;d-=1){let f=c[d],{nonce:p}=f.transaction;if(!l.has(p))if(l.size<i)l.add(p);else continue;u.unshift(f)}return u}return c}getApprovedTransactions(e){let r={status:Wt.approved};return e&&(r.from=e),this.getTransactions({searchCriteria:r})}getSubmittedTransactions(e){let r={status:Wt.submitted};return e&&(r.from=e),this.getTransactions({searchCriteria:r})}getPendingTransactions(e){let r=this.getSubmittedTransactions(e),n=this.getApprovedTransactions(e);return[...r,...n]}getConfirmedTransactions(e){let r={status:Wt.confirmed};return e&&(r.from=e),this.getTransactions({searchCriteria:r})}getUnapprovedTxList(){let e=this.getCurrentChainId();return E9(this.state.transactions,r=>{let n=f8(r,e);return r.status===Wt.unapproved&&n})}updateTransactionInState(e,r){e.transaction&&(e.transaction=RP(e.transaction,!1));let n=DP(e),i=FV(e.history),o=UV(i,n,r);o.length>0&&e.history.push(o),this.updateTransaction(e)}_setTransactionStatus(e,r,n){let i=this.getTransaction(e);i&&(i.status=r,this.updateTransactionInState(i),this.emit(io.TX_STATUS_UPDATE,{txId:e,status:r}),this.isFinalState(r)||n?this.emit(`${i.id}:finished`,i):this.emit(`${i.id}:${r}`,e))}}});var Dy,HV,FYe=D(()=>{nt();Ye();L0();ci();jc();om();Cf();Dy=ve(Or());ui();tV();OP();lfe();ufe();dfe();vfe();PP();HV=class extends AA{constructor({config:e,state:r,provider:n,blockTracker:i,signEthTx:o,getCurrentChainId:a,getCurrentNetworkEIP1559Compatibility:s,getCurrentAccountEIP1559Compatibility:c,getSelectedAddress:l,getEIP1559GasFeeEstimates:u}){super({config:e,state:r,getCurrentChainId:a}),V(this,"getSelectedAddress",void 0),V(this,"getEIP1559GasFeeEstimates",void 0),V(this,"nonceTracker",void 0),V(this,"pendingTxTracker",void 0),V(this,"txGasUtil",void 0),V(this,"_getCurrentNetworkEIP1559Compatibility",void 0),V(this,"_getCurrentAccountEIP1559Compatibility",void 0),V(this,"signEthTx",void 0),V(this,"provider",void 0),V(this,"blockTracker",void 0),V(this,"inProcessOfSigning",new Set),V(this,"getUnapprovedTxCount",()=>Object.keys(this.getUnapprovedTxList()).length),V(this,"getPendingTxCount",d=>this.getPendingTransactions(d).length),this.blockTracker=i,this._getCurrentNetworkEIP1559Compatibility=s,this._getCurrentAccountEIP1559Compatibility=c,this.getSelectedAddress=l,this.getEIP1559GasFeeEstimates=u,this.signEthTx=o,this.provider=n,this.txGasUtil=new EA(this.provider,this.blockTracker),this.nonceTracker=new gA({provider:n,blockTracker:i,getConfirmedTransactions:this.getConfirmedTransactions.bind(this),getPendingTransactions:this.getSubmittedTransactions.bind(this)}),this.pendingTxTracker=new wA({provider:n,nonceTracker:this.nonceTracker,getPendingTransactions:this.getPendingTransactions.bind(this),getConfirmedTransactions:this.getConfirmedTransactions.bind(this),approveTransaction:this.approveTransaction.bind(this),publishTransaction:d=>this.provider.request({method:Lt.ETH_SEND_RAW_TRANSACTION,params:[d]})}),this._setupListeners()}addTransactionUnapproved(e){this.addTransactionToState(e),this.emit(`${e.id}:unapproved`,e)}async addNewUnapprovedTransaction(e,r){let n=await this.createTransaction(e,r);return this.processApproval(n)}async processApproval(e){return new Promise((r,n)=>{let i=o=>o.status===Wt.rejected?n(hC.userRejectedRequest("Transaction Signature: User denied message signature")):o.status===Wt.failed?n(Yn.internal(`Transaction Signature: failed to sign message ${o.error}`)):o.status===Wt.signed&&o.isSignOnly?r(o.rawTransaction):o.status===Wt.submitted?r(o.transactionHash):n(Yn.internal(`Transaction Signature: Unknown problem: ${JSON.stringify(e.transaction)}`));this.once(`${e.id}:finished`,i)})}async approveTransaction(e){let r=this.getTransaction(e);if(this.inProcessOfSigning.has(e))return;this.inProcessOfSigning.add(e);let n;try{this.setTxStatusApproved(e);let i=r.transaction.from,{customNonceValue:o}=r.transaction,a=Number(o);n=await this.nonceTracker.getNonceLock(i);let s=n.nextNonce,c=a===0?o:o||s;r.transaction.nonce=Gt(c.toString(16)),r.nonceDetails=n.nonceDetails,this.updateTransactionInState(r,"transactions#approveTransaction"),await this.signTransaction(e,r.isSignOnly),r.isSignOnly||await this.publishTransaction(e),n.releaseLock()}catch(i){try{this.setTxStatusFailed(e,i)}catch(o){Dy.default.error(o)}throw n&&n.releaseLock(),i}finally{this.inProcessOfSigning.delete(e)}}async signTransaction(e,r){let n=this.getTransaction(e),i=this.getCurrentChainId(),o=IP(n)?Xl.FEE_MARKET:Xl.LEGACY,a={type:Number.parseInt(o,16),chainId:i,gasLimit:n.transaction.gas,accessList:n.transaction.accessList,data:n.transaction.data,gasPrice:n.transaction.gasPrice,maxFeePerGas:n.transaction.maxFeePerGas,maxPriorityFeePerGas:n.transaction.maxPriorityFeePerGas,nonce:Number.parseInt(n.transaction.nonce,16),to:n.transaction.to,value:n.transaction.value},s=n.transaction.from,c=np.from(a),l=await this.signEthTx(c,s);n.r=l.signature.r,n.s=l.signature.s,n.v=Gt(l.signature.v.toString(16));let u=l.serialized;return n.rawTransaction=u,this.updateTransactionInState(n,"transactions#signTransaction: add r, s, v values and rawTx"),this.setTxStatusSigned(e,r),u}async publishTransaction(e){let n=this.getTransaction(e).rawTransaction,i;try{i=await this.provider.request({method:Lt.ETH_SEND_RAW_TRANSACTION,params:[n]})}catch(o){if(o.message.toLowerCase().includes("known transaction"))i=vn(Gt(n)),i=Gt(i);else throw o}this.setTxHash(e,i),this.setTxStatusSubmitted(e)}async confirmTransaction(e){let{txId:r,txReceipt:n}=e;Dy.default.info(e,"confirm params");let i=this.getTransaction(r);if(i)try{i.txReceipt=q({},n),this.setTxStatusConfirmed(r),this.markNonceDuplicatesDropped(r),this.updateTransactionInState(i,"transactions#confirmTransaction - add txReceipt")}catch(o){Dy.default.error(o)}}cancelTransaction(e){throw new Error(`Method not implemented. ${e}`)}async getEIP1559Compatibility(e){let r=await this._getCurrentNetworkEIP1559Compatibility(),n=await this._getCurrentAccountEIP1559Compatibility(e);return r&&n}async addTransactionGasDefaults(e){if(e.isUserOperation)return e;let r=e;try{r=await this.addTxGasDefaults(e)}catch(n){throw Dy.default.warn(n),r=this.getTransaction(e.id),r.loadingDefaults=!1,this.updateTransactionInState(e,"Failed to calculate gas defaults."),n}return r.loadingDefaults=!1,this.updateTransactionInState(r,"Added new unapproved transaction."),r}async addTxGasDefaults(e){let r=e.transaction.type!==Xl.LEGACY&&await this.getEIP1559Compatibility(),{gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:o}=await this.getDefaultGasFees(e,r),{gasLimit:a,simulationFails:s}=await this.getDefaultGasLimit(e);return e=this.getTransaction(e.id),s&&(e.simulationFails=s),r?(e.transaction.gasPrice&&!e.transaction.maxFeePerGas&&!e.transaction.maxPriorityFeePerGas?(e.transaction.maxFeePerGas=e.transaction.gasPrice,e.transaction.maxPriorityFeePerGas=xV(typeof o=="string"?ii(o):o,typeof e.transaction.gasPrice=="string"?ii(e.transaction.gasPrice):e.transaction.gasPrice)?o:e.transaction.gasPrice):(i&&!e.transaction.maxFeePerGas&&(e.transaction.maxFeePerGas=i),o&&!e.transaction.maxPriorityFeePerGas&&(e.transaction.maxPriorityFeePerGas=o),n&&!e.transaction.maxFeePerGas&&(e.transaction.maxFeePerGas=n),e.transaction.maxFeePerGas&&!e.transaction.maxPriorityFeePerGas&&(e.transaction.maxPriorityFeePerGas=e.transaction.maxFeePerGas)),delete e.transaction.gasPrice):(delete e.transaction.maxPriorityFeePerGas,delete e.transaction.maxFeePerGas),n&&!e.transaction.gasPrice&&!e.transaction.maxPriorityFeePerGas&&!e.transaction.maxFeePerGas&&(e.transaction.gasPrice=n),a&&!e.transaction.gas&&(e.transaction.gas=a),e}setTxHash(e,r){let n=this.getTransaction(e);n.transactionHash=r,this.updateTransactionInState(n,"transactions#setTxHash")}async getDefaultGasFees(e,r){if(!r&&e.transaction.gasPrice||r&&e.transaction.maxFeePerGas&&e.transaction.maxPriorityFeePerGas)return{};try{let{gasFeeEstimates:i,gasEstimateType:o}=await this.getEIP1559GasFeeEstimates();if(r&&o===sd.FEE_MARKET){let{medium:{suggestedMaxPriorityFeePerGas:a,suggestedMaxFeePerGas:s}={}}=i;if(a&&s)return{maxFeePerGas:Gt(cc(new ur(s)).toString(16)),maxPriorityFeePerGas:Gt(cc(new ur(a)).toString(16))}}else if(o===sd.LEGACY){let{medium:a}=i;return{gasPrice:Gt(cc(new ur(a)).toString(16))}}else if(o===sd.ETH_GASPRICE){let{gasPrice:a}=i;return{gasPrice:Gt(cc(new ur(a)).toString(16))}}}catch(i){Dy.default.error(i)}let n=await this.provider.request({method:Lt.ETH_GET_GAS_PRICE});return{gasPrice:n&&Gt(n)}}async getDefaultGasLimit(e){let r=this.getCurrentChainId(),n=kz[r],i=AV(r);if(e.transaction.gas)return{};if(e.transaction.to&&e.transactionCategory===rd.SENT_ETHER&&i!=="custom"&&!e.transaction.data)return{gasLimit:EV.SIMPLE};let{blockGasLimit:o,estimatedGasHex:a,simulationFails:s}=await this.txGasUtil.analyzeGasUsage(e);return{gasLimit:this.txGasUtil.addGasBuffer(Gt(a),o,n),simulationFails:s}}async createTransaction(e,r){let n=SP(e),i=await this.getEIP1559Compatibility(e.from);CP(n,i);let o=this.generateTxMeta({transaction:n,origin:r.origin}),{type:a,category:s,methodParams:c}=await pA(e,this.provider);return o.contractType=a,o.transactionCategory=s,o.methodParams=c,o.isUserOperation=r.isUserOperation,o.isSignOnly=r.isSignOnly,o.transaction.value=o.transaction.value?Gt(o.transaction.value):"0x0",this.emit(`${o.id}:unapproved`,o),o=this.addTransactionToState(o),o=await this.addTransactionGasDefaults(o),this.emit(io.TX_UNAPPROVED,{txMeta:o,req:r}),o}_setupListeners(){this.setupBlockTrackerListener(),this.pendingTxTracker.on(io.TX_WARNING,e=>{this.updateTransactionInState(e.txMeta)}),this.pendingTxTracker.on(io.TX_DROPPED,e=>this.setTxStatusDropped(e.txId)),this.pendingTxTracker.on(io.TX_BLOCK_UPDATE,({txMeta:e,latestBlockNumber:r})=>{e.firstRetryBlockNumber||(e.firstRetryBlockNumber=r,this.updateTransactionInState(e))}),this.pendingTxTracker.on(io.TX_RETRY,e=>{"retryCount"in e.txMeta||(e.txMeta.retryCount=0),e.txMeta.retryCount+=1,this.updateTransactionInState(e.txMeta)}),this.pendingTxTracker.on(io.TX_FAILED,e=>{this.setTxStatusFailed(e.txId,e.error)}),this.pendingTxTracker.on(io.TX_CONFIRMED,e=>this.confirmTransaction(e))}setupBlockTrackerListener(){let e=!1,r=this.onLatestBlock.bind(this);this.on(io.TX_STATUS_UPDATE,()=>{let n=this.getPendingTransactions();!e&&n.length>0?(this.blockTracker.on("latest",r),e=!0):e&&!n.length&&(this.blockTracker.removeListener("latest",r),e=!1)})}async onLatestBlock(e){try{await this.pendingTxTracker.updatePendingTxs()}catch(r){Dy.default.error(r)}try{await this.pendingTxTracker.resubmitPendingTxs(e)}catch(r){Dy.default.error(r)}}markNonceDuplicatesDropped(e){let r=this.getTransaction(e),{nonce:n,from:i}=r.transaction,o=this.getTransactions({searchCriteria:{from:i,nonce:n}});o.length&&o.forEach(a=>{a.id!==e&&(this.updateTransactionInState(r,"transactions/pending-tx-tracker#event: tx:confirmed reference to confirmed txHash with same nonce"),a.status!==Wt.failed&&this.setTxStatusDropped(a.id))})}}});var _p,TA=D(()=>{zt();rl();_p=async(t,e)=>{let{address:r,entryPointAddress:n,key:i=BigInt(0)}=e;return await Fe(t,ht,"readContract")({address:n,abi:[{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"getNonce",args:[r,i]})}});var d$t,f$t,LP,Efe=D(()=>{jt();zt();rl();d$t="0x60806040526102a28038038091610015826100ae565b6080396040816080019112610093576080516001600160a01b03811681036100935760a0516001600160401b0381116100935782609f82011215610093578060800151610061816100fc565b9361006f60405195866100d9565b81855260a082840101116100935761008e9160a0602086019101610117565b610196565b600080fd5b634e487b7160e01b600052604160045260246000fd5b6080601f91909101601f19168101906001600160401b038211908210176100d457604052565b610098565b601f909101601f19168101906001600160401b038211908210176100d457604052565b6001600160401b0381116100d457601f01601f191660200190565b60005b83811061012a5750506000910152565b818101518382015260200161011a565b6040916020825261015a8151809281602086015260208686019101610117565b601f01601f1916010190565b3d15610191573d90610177826100fc565b9161018560405193846100d9565b82523d6000602084013e565b606090565b600091908291826040516101cd816101bf6020820195639b249f6960e01b87526024830161013a565b03601f1981018352826100d9565b51925af16101d9610166565b906102485760048151116000146101f7576024015160005260206000f35b60405162461bcd60e51b8152602060048201526024808201527f67657453656e64657241646472657373206661696c656420776974686f7574206044820152636461746160e01b6064820152608490fd5b60405162461bcd60e51b815260206004820152602b60248201527f67657453656e6465724164647265737320646964206e6f74207265766572742060448201526a185cc8195e1c1958dd195960aa1b6064820152608490fdfe",f$t=[{inputs:[{internalType:"address",name:"_entryPoint",type:"address"},{internalType:"bytes",name:"initCode",type:"bytes"}],stateMutability:"payable",type:"constructor"}],LP=async(t,e)=>{let{initCode:r,entryPointAddress:n,factory:i,factoryData:o}=e;if(!r&&!i&&!o)throw new Error("Either `initCode` or `factory` and `factoryData` must be provided");let a=r||xr([i,o]),{data:s}=await Fe(t,nu,"call")({data:yd({abi:f$t,bytecode:d$t,args:[n,a]})});if(!s)throw new Error("Failed to get sender address");return Is([{type:"address"}],s)[0]}});async function nl({owner:t,address:e}){if("type"in t&&t.type==="local")return t;let r;if("request"in t){if(!e)try{[e]=await t.request({method:"eth_requestAccounts"})}catch{[e]=await t.request({method:"eth_accounts"})}if(!e)throw new Error("address is required");r=Xh({account:e,transport:zf(t)})}return r||(r=t),mde({address:r.account.address,async signMessage({message:n}){return r.signMessage({message:n})},async signTypedData(n){return Fe(r,gP,"signTypedData")(n)},async signTransaction(n){throw new Error("Smart account signer doesn't need to sign transactions")}})}var k3=D(()=>{jt();rWe();zt();rl()});var HYe,zYe=D(()=>{jt();HYe=async t=>{try{let r=S0({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],data:t}),n=[];for(let i=0;i<r.args[0].length;i++)n.push({to:r.args[0][i],value:r.args[1][i],data:r.args[2][i]});return n}catch{}let e=S0({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],data:t});return[{to:e.args[0],value:e.args[1],data:e.args[2]}]}});var GYe,jYe=D(()=>{jt();GYe=async t=>{if(t.length>1)return Re({abi:[{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"executeBatch",args:[t.map(r=>r.to),t.map(r=>r.value??0n),t.map(r=>r.data??"0x")]});let e=t.length===0?void 0:t[0];if(!e)throw new Error("No calls to encode");return Re({abi:[{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"execute",args:[e.to,e.value??0n,e.data??"0x"]})}});var $Ye,VYe=D(()=>{jt();$Ye=async({bytes:t,index:e,secp256k1VerificationFacetAddress:r})=>Re({abi:[{inputs:[{internalType:"address",name:"_verificationFacet",type:"address"},{internalType:"bytes",name:"_owner",type:"bytes"},{internalType:"uint256",name:"_salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract Barz",name:"barz",type:"address"}],stateMutability:"nonpayable",type:"function"}],functionName:"createAccount",args:[r,t,e]})});async function KYe(t,e,r,n){return t.signTypedData({domain:{chainId:Number(e),name:"Barz",verifyingContract:r,version:"v0.2.0"},types:{BarzMessage:[{name:"message",type:"bytes"}]},message:{message:n},primaryType:"BarzMessage"})}async function xfe(t){let{owner:e,client:r,index:n=0n,address:i,factoryAddress:o=qYe.factoryAddress,secp256k1VerificationFacetAddress:a=qYe.secp256k1VerificationFacetAddress}=t,s=await nl({owner:e}),c=i,l={address:t.entryPoint?.address??n5,abi:e5,version:t.entryPoint?.version??"0.6"},u,d=async()=>u||(u=r.chain?r.chain.id:await Fe(r,zi,"getChainId")({}),u),f=async()=>({factory:o,factoryData:await $Ye({bytes:s.address,secp256k1VerificationFacetAddress:a,index:n})});return iu({client:r,entryPoint:l,getFactoryArgs:f,async getAddress(){if(c)return c;let{factory:p,factoryData:h}=await f();return c=await LP(r,{factory:p,factoryData:h,entryPointAddress:l.address}),c},async encodeCalls(p){return GYe(p)},async decodeCalls(p){return HYe(p)},async getNonce(p){return _p(r,{address:await this.getAddress(),entryPointAddress:l.address,key:t?.nonceKey??p?.key})},async getStubSignature(){return"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"},async sign({hash:p}){return this.signMessage({message:p})},async signMessage({message:p}){return KYe(s,await d(),await this.getAddress(),sc(p))},async signTypedData(p){return KYe(s,await d(),await this.getAddress(),Os(p))},async signUserOperation(p){let{chainId:h=await d(),...b}=p;return p3(r,{account:s,message:{raw:r5({userOperation:{...b,sender:b.sender??await this.getAddress(),signature:"0x"},entryPointAddress:l.address,entryPointVersion:l.version,chainId:h})}})}})}var qYe,WYe=D(()=>{jt();zt();TA();ou();rl();Efe();k3();zYe();jYe();VYe();qYe={secp256k1VerificationFacetAddress:"0x81b9E3689390C7e74cF526594A105Dea21a8cdD5",factoryAddress:"0x729c310186a57833f622630a16d13f710b83272a"}});function M3(t){let r=S0({abi:[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],data:t}),n=r.args[0],i=r.args[1],o=Ni(n,0,1),a=Ni(n,1,2),s=Ni(n,3,7),c=Ni(n,7),l;switch(BigInt(o)){case BigInt(0):l="call";break;case BigInt(1):l="batchcall";break;case BigInt(255):l="delegatecall";break;default:throw new Error("Invalid call type")}let u={type:l,revertOnError:BigInt(a)===BigInt(1),selector:s,context:c};if(u.type==="batchcall"){let[h]=Is([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],i);return{mode:u,callData:h.map(b=>({to:b.target,value:b.value,data:b.callData}))}}let d=Qa(Ni(i,0,20)),f=BigInt(Ni(i,20,52)),p=rn(i)>52?Ni(i,52):"0x";return{mode:u,callData:[{to:d,value:f,data:p}]}}var zV=D(()=>{jt()});function p$t(t){switch(t){case"call":return"0x00";case"batchcall":return"0x01";case"delegatecall":return"0xff"}}function Afe({type:t,revertOnError:e,selector:r,context:n}){return Gi(["bytes1","bytes1","bytes4","bytes4","bytes22"],[gr(ti(p$t(t),{size:1})),gr(ti(e?"0x01":"0x00",{size:1})),gr(ti("0x0",{size:4})),gr(ti(r??"0x",{size:4})),gr(ti(n??"0x",{size:22}))])}var YYe=D(()=>{jt()});function B3({mode:t,callData:e}){if(e.length>1&&t?.type!=="batchcall")throw new Error(`mode ${JSON.stringify(t)} does not supported for batchcall calldata`);let r=[{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}];if(e.length>1)return Re({abi:r,functionName:"execute",args:[Afe(t),pr([{name:"executionBatch",type:"tuple[]",components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],[e.map(i=>({target:i.to,value:i.value??0n,callData:i.data??"0x"}))])]});let n=e.length===0?void 0:e[0];if(!n)throw new Error("No calls to encode");return Re({abi:r,functionName:"execute",args:[Afe(t),jn([n.to,gr(n.value??0n,{size:32}),n.data??"0x"])]})}var GV=D(()=>{jt();YYe()});var JYe,QYe=D(()=>{zt();JYe=async(t,e)=>!!await Gf(t,{address:e})});var ZYe=D(()=>{k3()});var XYe=D(()=>{});var eJe=D(()=>{});var tJe=D(()=>{});var rJe=D(()=>{});var nJe=D(()=>{});var iJe=D(()=>{});var oJe=D(()=>{});var aJe=D(()=>{});var sJe=D(()=>{});var cJe=D(()=>{});var lJe=D(()=>{});var uJe,T$t,dJe,_$t,npn,fJe=D(()=>{uJe=6,T$t=32,dJe=4096,_$t=T$t*dJe,npn=_$t*uJe-1-1*dJe*uJe});var pJe=D(()=>{});var hJe=D(()=>{});var mJe=D(()=>{});var bJe=D(()=>{});var yJe=D(()=>{});var gJe=D(()=>{});var wJe=D(()=>{});var M$t,B$t,D$t,L$t,vJe,EJe,xJe,U$t,F$t,ipn,opn,apn,spn,AJe=D(()=>{M$t=44032,B$t=4352,D$t=4449,L$t=4519,vJe=19,EJe=21,xJe=28,U$t=EJe*xJe,F$t=vJe*U$t,ipn=M$t+F$t,opn=B$t+vJe,apn=D$t+EJe,spn=L$t+xJe});var TJe=D(()=>{AJe()});var _Je=D(()=>{});var SJe=D(()=>{});var IJe=D(()=>{});var CJe=D(()=>{});var RJe=D(()=>{});var PJe=D(()=>{});var OJe=D(()=>{});var NJe=D(()=>{OJe()});var kJe=D(()=>{});var il,Tfe,_fe,Sfe,Ife,Cfe,Rfe,Pfe,Ofe,Nfe,kfe,Mfe,Bfe,MJe=D(()=>{il=class extends Error{constructor(e){let{cause:r,code:n,message:i,data:o,stack:a}=e;super(i,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=r,this.code=n,this.data=o,this.stack=a??""}},Tfe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Missing or invalid parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}};Object.defineProperty(Tfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});_fe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Requested resource not found."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}};Object.defineProperty(_fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});Sfe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Requested resource not available."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}};Object.defineProperty(Sfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});Ife=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Transaction creation failed."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}};Object.defineProperty(Ife,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});Cfe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Method is not implemented."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}};Object.defineProperty(Cfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});Rfe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Rate limit exceeded."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}};Object.defineProperty(Rfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});Pfe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"JSON-RPC version not supported."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}};Object.defineProperty(Pfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});Ofe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Input is not a valid JSON-RPC request."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}};Object.defineProperty(Ofe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});Nfe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Method does not exist."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}};Object.defineProperty(Nfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});kfe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Invalid method parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}};Object.defineProperty(kfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});Mfe=class t extends il{constructor(e={}){super({cause:e.cause,code:t.code,data:e.data,message:e.message??"Internal JSON-RPC error.",stack:e.stack}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalError"})}};Object.defineProperty(Mfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});Bfe=class t extends il{constructor(e={}){super({code:t.code,data:e.data,message:e.message??"Failed to parse JSON-RPC response."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}};Object.defineProperty(Bfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700})});var lc,Dfe,Lfe,Ufe,Ffe,Hfe,zfe,Gfe,jfe,$fe,Vfe,Kfe,qfe,Wfe,BJe=D(()=>{ore();lc=class extends Error{constructor(e,r){super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=r}},Dfe=class extends lc{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}};Object.defineProperty(Dfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});Lfe=class extends lc{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}};Object.defineProperty(Lfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});Ufe=class extends lc{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}};Object.defineProperty(Ufe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});Ffe=class extends lc{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}};Object.defineProperty(Ffe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});Hfe=class extends lc{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}};Object.defineProperty(Hfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});zfe=class extends lc{constructor({message:e="An error occurred when attempting to switch chain."}={}){super(4902,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.SwitchChainError"})}};Object.defineProperty(zfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});Gfe=class extends lc{constructor({message:e="This Wallet does not support a capability that was not marked as optional."}={}){super(5700,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedNonOptionalCapabilityError"})}};Object.defineProperty(Gfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});jfe=class extends lc{constructor({message:e="This Wallet does not support the requested chain ID."}={}){super(5710,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedChainIdError"})}};Object.defineProperty(jfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});$fe=class extends lc{constructor({message:e="There is already a bundle submitted with this ID."}={}){super(5720,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DuplicateIdError"})}};Object.defineProperty($fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});Vfe=class extends lc{constructor({message:e="This bundle id is unknown / has not been submitted."}={}){super(5730,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnknownBundleIdError"})}};Object.defineProperty(Vfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});Kfe=class extends lc{constructor({message:e="The call bundle is too large for the Wallet to process."}={}){super(5740,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.BundleTooLargeError"})}};Object.defineProperty(Kfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});qfe=class extends lc{constructor({message:e="The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."}={}){super(5750,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicReadyWalletRejectedUpgradeError"})}};Object.defineProperty(qfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});Wfe=class extends lc{constructor({message:e="The wallet does not support atomic execution but the request requires it."}={}){super(5760,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicityNotSupportedError"})}};Object.defineProperty(Wfe,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760})});var DJe=D(()=>{});var LJe=D(()=>{});var UJe=D(()=>{});var FJe=D(()=>{});var HJe=D(()=>{});var zJe=D(()=>{});var GJe=D(()=>{});var jJe=D(()=>{});var $Je=D(()=>{});var VJe=D(()=>{});var KJe=D(()=>{});var qJe=D(()=>{});var WJe=D(()=>{});var YJe=D(()=>{});var JJe=D(()=>{});var QJe=D(()=>{});var ZJe=D(()=>{});var UP=D(()=>{XYe();rde();eJe();tJe();nde();v$();bP();rJe();nJe();fP();iJe();aJe();sJe();zqe();cJe();fJe();hJe();uj();mJe();bJe();yJe();Wh();$ue();gJe();wJe();TJe();Lf();_Je();a$();IJe();ac();CJe();bx();RJe();lJe();PJe();NJe();kJe();BJe();PKe();oJe();DJe();LJe();MJe();UJe();SJe();Gqe();Yqe();FJe();pP();HJe();pJe();GJe();jJe();$Je();VJe();KJe();qJe();WJe();YJe();SWe();JJe();zJe();jqe();QJe();Jle();ZJe()});async function XJe(t){let{chainId:e,entryPoint:r,validAfter:n=0,validUntil:i=0,safe4337ModuleAddress:o,version:a,owners:s,signatures:c,account:l,...u}=t,{safe4337ModuleAddress:d}=Qfe(a,r.version,{safe4337ModuleAddress:o}),f={safe:u.sender,callData:u.callData,nonce:u.nonce,initCode:u.initCode??"0x",maxFeePerGas:u.maxFeePerGas,maxPriorityFeePerGas:u.maxPriorityFeePerGas,preVerificationGas:u.preVerificationGas,verificationGasLimit:u.verificationGasLimit,callGasLimit:u.callGasLimit,paymasterAndData:u.paymasterAndData??"0x",validAfter:n,validUntil:i,entryPoint:r.address};if("initCode"in u&&(f.paymasterAndData=u.paymasterAndData??"0x"),"factory"in u){if(u.factory&&u.factoryData&&(f.initCode=jn([u.factory,u.factoryData])),!u.sender)throw new Error("Sender is required");f.paymasterAndData=tQe({...u,sender:u.sender})}let p=Ed(l)?l:await nl({owner:l}),h=Ed(p)?t.safeWebAuthnSharedSignerAddress:p.address;if(!h)throw new Error("no signer found");let b=[];if(c)try{b=Is([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],c)[0]}catch{b=Is([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"}],name:"signatures",type:"tuple[]"}],c)[0].map(C=>({...C,dynamic:!1}))}let _=[...b,{signer:h,dynamic:Ed(p),data:await(async()=>{if(Ed(p)){let A=Os({domain:{chainId:e,verifyingContract:d},types:r.version==="0.6"?Yfe:Jfe,primaryType:"SafeOp",message:f});return jV({owner:p,hash:A})}return p.signTypedData({domain:{chainId:e,verifyingContract:d},types:r.version==="0.6"?Yfe:Jfe,primaryType:"SafeOp",message:f})})()}];return _.length!==s.length?pr([{components:[{type:"address",name:"signer"},{type:"bytes",name:"data"},{type:"bool",name:"dynamic"}],name:"signatures",type:"tuple[]"}],[_]):Gi(["uint48","uint48","bytes"],[n,i,FP(_)])}var FP,jV,eQe=D(()=>{UP();jt();ZYe();Zfe();FP=t=>{t.sort((i,o)=>i.signer.toLowerCase().localeCompare(o.signer.toLowerCase()));let e=65,r="0x",n="";for(let i of t)if(i.dynamic){let o=(t.length*e+n.length/2).toString(16).padStart(64,"0"),a=(i.data.slice(2).length/2).toString(16).padStart(64,"0"),s=`${i.signer.slice(2).padStart(64,"0")}${o}00`,c=`${a}${i.data.slice(2)}`;r+=s,n+=c}else r+=i.data.slice(2);return r+=n,r},jV=async({owner:t,hash:e})=>{let{signature:r,webauthn:n}=await t.sign({hash:e}),i=Dx.fromHex(r),o=n.clientDataJSON.match(/^\{"type":"webauthn.get","challenge":"[A-Za-z0-9\-_]{43}",(.*)\}$/);if(!o)throw new Error("challenge not found in client data JSON");let[,a]=o;return pr([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],[n.authenticatorData,a,[BigInt(i.r),BigInt(i.s)]])}});function tQe(t){return t.paymaster?xr([t.paymaster,En(gr(t.paymasterVerificationGasLimit||BigInt(0)),{size:16}),En(gr(t.paymasterPostOpGasLimit||BigInt(0)),{size:16}),t.paymasterData||"0x"]):"0x"}function oQe(t){return t.erc7579LaunchpadAddress!==void 0}async function e1e(t){let{client:e,owners:r,address:n,threshold:i=BigInt(r.length),version:o,safe4337ModuleAddress:a,safeProxyFactoryAddress:s,safeSingletonAddress:c,erc7579LaunchpadAddress:l,saltNonce:u=BigInt(0),validUntil:d=0,validAfter:f=0,nonceKey:p,paymentToken:h,payment:b,paymentReceiver:_,onchainIdentifier:A}=t,C=await Promise.all(r.map(async W=>"account"in W?W.account:"request"in W?nl({owner:W}):W)),R=await Promise.all(r.filter(W=>!!("type"in W&&W.type==="local"||"request"in W||"account"in W||Ed(W))).map(W=>Ed(W)?W:nl({owner:W}))),M={address:t.entryPoint?.address??jf,abi:(t.entryPoint?.version??"0.7")==="0.6"?e5:t5,version:t.entryPoint?.version??"0.7"},U,F,z,N,k=[],O=[],w=[],S=[],T=[],m=[],y=0;oQe(t)||(U=t.safeModuleSetupAddress,F=t.multiSendAddress,z=t.multiSendCallOnlyAddress,N=t.safeModules,k=t.setupTransactions??[]),oQe(t)&&(O=t.validators??[],w=t.executors??[],S=t.fallbacks??[],T=t.hooks??[],m=t.attesters??[],y=t.attestersThreshold??0);let{safeModuleSetupAddress:E,safe4337ModuleAddress:v,safeProxyFactoryAddress:x,safeSingletonAddress:g,multiSendAddress:P,multiSendCallOnlyAddress:B,safeWebAuthnSharedSignerAddress:I,safeP256VerifierAddress:L}=Qfe(o,M.version,{safeModuleSetupAddress:U,safe4337ModuleAddress:a,safeProxyFactoryAddress:s,safeSingletonAddress:c,multiSendAddress:F,multiSendCallOnlyAddress:z,safeWebAuthnSharedSignerAddress:t.safeWebAuthnSharedSignerAddress,safeP256VerifierAddress:t.safeP256VerifierAddress}),G=n,H,$=async()=>H||(H=e.chain?e.chain.id:await Fe(e,zi,"getChainId")({}),H);return iu({client:e,entryPoint:M,getFactoryArgs:async()=>({factory:x,factoryData:await EVt({owners:C,threshold:i,safeModuleSetupAddress:E,safe4337ModuleAddress:v,safeSingletonAddress:g,safeWebAuthnSharedSignerAddress:I,safeP256VerifierAddress:L,multiSendAddress:P,erc7579LaunchpadAddress:l,saltNonce:u,setupTransactions:k,safeModules:N,validators:O,executors:w,fallbacks:S,hooks:T,attesters:m,attestersThreshold:y,paymentToken:h,payment:b,paymentReceiver:_})}),async getAddress(){return G||(G=await AVt({client:e,owners:C,threshold:i,safeModuleSetupAddress:E,safe4337ModuleAddress:v,safeProxyFactoryAddress:x,safeSingletonAddress:g,safeWebAuthnSharedSignerAddress:I,safeP256VerifierAddress:L,multiSendAddress:P,erc7579LaunchpadAddress:l,saltNonce:u,setupTransactions:k,safeModules:N,validators:O,executors:w,fallbacks:S,hooks:T,attesters:m,attestersThreshold:y,paymentToken:h,payment:b,paymentReceiver:_}),G)},async encodeCalls(W){let J=W.length>1;if(l){if(!await JYe(e,await this.getAddress())){let xe=cQe({safe4337ModuleAddress:v,safeSingletonAddress:g,erc7579LaunchpadAddress:l,safeWebAuthnSharedSignerAddress:I,owners:C,threshold:i,validators:O,executors:w,fallbacks:S,hooks:T,attesters:m,attestersThreshold:y});return Re({abi:rQe,functionName:"setupSafe",args:[{...xe,validators:xe.validators.map(me=>({module:me.address,initData:me.context})),callData:B3({mode:{type:J?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:W})}]})}return B3({mode:{type:J?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:W})}let X,te,re,le=0;if(J)X=B,te=BigInt(0),re=sQe(W.map(ae=>({to:ae.to,value:ae.value??0n,data:ae.data??"0x",operation:0}))),le=1;else{let ae=W.length===0?void 0:W[0];if(!ae)throw new Error("No calls to encode");X=ae.to,re=ae.data??"0x",te=ae.value??0n}let ce=Re({abi:nQe,functionName:"executeUserOpWithErrorString",args:[X,te,re,le]});return A?xr([ce,A]):ce},async decodeCalls(W){try{let le=S0({abi:rQe,data:W});return M3(le.args[0].callData).callData}catch{}try{return M3(W).callData}catch{}let J=S0({abi:nQe,data:W}),X=J.args[0],te=J.args[1],re=J.args[2];if(X===B){let ce=S0({abi:aQe,data:re}).args[0],ae=[],xe=0,me=rn(ce);for(;xe<me;){xe+=1;let Se=Qa(Ni(ce,xe,xe+20));xe+=20;let vt=BigInt(Ni(ce,xe,xe+32));xe+=32;let Qe=Number(BigInt(Ni(ce,xe,xe+32))*BigInt(2));xe+=32;let Ve=Ni(ce,xe,xe+Qe);xe+=Qe,ae.push({to:Se,value:vt,data:Ve})}return ae}return[{to:X,value:te,data:re}]},async getNonce(W){return _p(e,{address:await this.getAddress(),entryPointAddress:M.address,key:p??W?.key})},async getStubSignature(){let W=C.map(J=>{let X=I,te=!0,re="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c";if(Ed(J)?re=pr([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"signature",type:"uint256[2]"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'"origin":"http://somelargdomainheresothatwehaveenoughbytes.com","crossOrigin":false',[44941127272049826721201904734628716258498742255959991581049806490182030242267n,9910254599581058084911561569808925251374718953855182016200087235935345969636n]]):(X=J.address,te=!1),!X)throw new Error("No signer found");return{signer:X,data:re,dynamic:te}});return Gi(["uint48","uint48","bytes"],[0,0,FP(W)])},async sign({hash:W}){return this.signMessage({message:W})},async signMessage({message:W}){if(R.length<Number(i))throw new Error("Owners length mismatch, currently not supported");if(l&&o==="1.5.0")throw new Error("Safe 7579 & version 1.5.0 are not compatible");let J=Os({domain:{chainId:await $(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:Xfe(W)}}),X=await Promise.all(R.map(async re=>{let le=I,ce,ae=!0;if(Ed(re)?ce=await jV({owner:re,hash:J}):(le=re.address,ce=iQe("eth_sign",await re.signMessage({message:{raw:ti(J)}})),ae=!1),!le)throw new Error("no signer found");return{signer:le,dynamic:ae,data:ce}})),te=FP(X);return l?xr([ji,te]):te},async signTypedData(W){if(R.length<Number(i))throw new Error("Owners length mismatch, currently not supported");if(l&&o==="1.5.0")throw new Error("Safe 7579 & version 1.5.0 are not compatible");let J=await Promise.all(R.map(async te=>{let re=I,le,ce=!0;if(!Ed(te))re=te.address,le=iQe("eth_signTypedData",await te.signTypedData({domain:{chainId:await $(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:Xfe(W)}})),ce=!1;else{let ae=Os({domain:{chainId:await $(),verifyingContract:await this.getAddress()},types:{SafeMessage:[{name:"message",type:"bytes"}]},primaryType:"SafeMessage",message:{message:Xfe(W)}});le=await jV({owner:te,hash:ae})}if(!re)throw new Error("no signer found");return{signer:re,dynamic:ce,data:le}})),X=FP(J);return l?xr([ji,X]):X},async signUserOperation(W){let{chainId:J=await $(),...X}=W;if(R.length<Number(i))throw new Error("Owners length mismatch use SafeSmartAccount.signUserOperation from `permissionless/accounts/safe`");let te;for(let re of R)te=await XJe({...X,version:o,entryPoint:M,owners:R,account:re,chainId:J,signatures:te,validAfter:f,validUntil:d,safe4337ModuleAddress:v,safeWebAuthnSharedSignerAddress:I});if(!te)throw new Error("No signatures found");return te}})}var aQe,pVt,hVt,mVt,bVt,yVt,gVt,rQe,nQe,Yfe,Jfe,wVt,iQe,Xfe,vVt,sQe,cQe,Ed,lQe,EVt,Qfe,xVt,AVt,Zfe=D(()=>{UP();jt();ou();zt();rl();TA();zV();GV();QYe();k3();eQe();aQe=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],pVt=[{type:"function",name:"initSafe7579",inputs:[{name:"safe7579",type:"address",internalType:"address"},{name:"executors",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"fallbacks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"hooks",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"attesters",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint8",internalType:"uint8"}],outputs:[],stateMutability:"nonpayable"}],hVt=[{type:"function",name:"preValidationSetup",inputs:[{name:"initHash",type:"bytes32",internalType:"bytes32"},{name:"to",type:"address",internalType:"address"},{name:"preInit",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],mVt=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],bVt=[{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"}],yVt=[{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"}],gVt=[{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],rQe=[{type:"function",name:"setupSafe",inputs:[{name:"initData",type:"tuple",internalType:"struct Safe7579Launchpad.InitData",components:[{name:"singleton",type:"address",internalType:"address"},{name:"owners",type:"address[]",internalType:"address[]"},{name:"threshold",type:"uint256",internalType:"uint256"},{name:"setupTo",type:"address",internalType:"address"},{name:"setupData",type:"bytes",internalType:"bytes"},{name:"safe7579",type:"address",internalType:"contract ISafe7579"},{name:"validators",type:"tuple[]",internalType:"struct ModuleInit[]",components:[{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}]},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"}],nQe=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"}],Yfe={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint256",name:"callGasLimit"},{type:"uint256",name:"verificationGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint256",name:"maxFeePerGas"},{type:"uint256",name:"maxPriorityFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},Jfe={SafeOp:[{type:"address",name:"safe"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint128",name:"verificationGasLimit"},{type:"uint128",name:"callGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint128",name:"maxPriorityFeePerGas"},{type:"uint128",name:"maxFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"uint48",name:"validAfter"},{type:"uint48",name:"validUntil"},{type:"address",name:"entryPoint"}]},wVt={"1.4.1":{"0.6":{SAFE_MODULE_SETUP_ADDRESS:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",SAFE_4337_MODULE_ADDRESS:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2"},"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",SAFE_SINGLETON_ADDRESS:"0x41675C099F32341bf84BFc5382aF534df5C7461a",MULTI_SEND_ADDRESS:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",MULTI_SEND_CALL_ONLY_ADDRESS:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}},"1.5.0":{"0.7":{SAFE_MODULE_SETUP_ADDRESS:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",SAFE_4337_MODULE_ADDRESS:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",SAFE_PROXY_FACTORY_ADDRESS:"0x14F2982D601c9458F93bd70B218933A6f8165e7b",SAFE_SINGLETON_ADDRESS:"0xFf51A5898e281Db6DfC7855790607438dF2ca44b",MULTI_SEND_ADDRESS:"0x218543288004CD07832472D464648173c77D7eB7",MULTI_SEND_CALL_ONLY_ADDRESS:"0xA83c336B20401Af773B6219BA5027174338D1836",WEB_AUTHN_SHARED_SIGNER_ADDRESS:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",SAFE_P256_VERIFIER_ADDRESS:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"}}},iQe=(t,e)=>{let r=[0,1,27,28],n=27,i=Number.parseInt(e.slice(-2),16);if(!r.includes(i))throw new Error("Invalid signature");return t==="eth_sign"&&(i<n&&(i+=n),i+=4),t==="eth_signTypedData"&&i<n&&(i+=n),e.slice(0,-2)+i.toString(16)},Xfe=t=>{let e=t;return typeof e=="string"||e.raw?sc(e):Os(t)},vVt=t=>Gi(["uint8","address","uint256","uint256","bytes"],[t.operation,t.to,t.value,BigInt(t.data.slice(2).length/2),t.data]).slice(2),sQe=t=>{let e=`0x${t.map(r=>vVt(r)).join("")}`;return Re({abi:aQe,functionName:"multiSend",args:[e]})},cQe=({safe4337ModuleAddress:t,safeSingletonAddress:e,erc7579LaunchpadAddress:r,safeWebAuthnSharedSignerAddress:n,owners:i,validators:o,executors:a,fallbacks:s,hooks:c,attesters:l,threshold:u,attestersThreshold:d})=>{let f=i.map(h=>{if("type"in h&&h.type==="webAuthn"){if(!n)throw new Error("safeWebAuthnSharedSignerAddress not defined");return n}if("address"in h&&h.address)return h.address;throw new Error("Incorrect owner found")});return{singleton:e,owners:f,threshold:u,setupTo:r,setupData:Re({abi:pVt,functionName:"initSafe7579",args:[t,a.map(h=>({module:h.address,initData:h.context})),s.map(h=>({module:h.address,initData:h.context})),c.map(h=>({module:h.address,initData:h.context})),l.sort((h,b)=>h.toLowerCase().localeCompare(b.toLowerCase())),d]}),safe7579:t,validators:o}},Ed=t=>"type"in t&&t.type==="webAuthn",lQe=async({owners:t,threshold:e,safeModuleSetupAddress:r,safe4337ModuleAddress:n,safeWebAuthnSharedSignerAddress:i,safeP256VerifierAddress:o,multiSendAddress:a,safeSingletonAddress:s,erc7579LaunchpadAddress:c,setupTransactions:l=[],safeModules:u=[],validators:d=[],executors:f=[],fallbacks:p=[],hooks:h=[],attesters:b=[],attestersThreshold:_=0,paymentToken:A=ji,payment:C=BigInt(0),paymentReceiver:R=ji})=>{if(c){let N=cQe({safe4337ModuleAddress:n,safeSingletonAddress:s,safeWebAuthnSharedSignerAddress:i,erc7579LaunchpadAddress:c,owners:t,validators:d,executors:f,fallbacks:p,threshold:e,hooks:h,attesters:b,attestersThreshold:_}),k=Bt(pr([{internalType:"address",name:"singleton",type:"address"},{internalType:"address[]",name:"owners",type:"address[]"},{internalType:"uint256",name:"threshold",type:"uint256"},{internalType:"address",name:"setupTo",type:"address"},{internalType:"bytes",name:"setupData",type:"bytes"},{internalType:"contract ISafe7579",name:"safe7579",type:"address"},{internalType:"struct ModuleInit[]",name:"validators",type:"tuple[]",components:[{internalType:"address",name:"module",type:"address"},{internalType:"bytes",name:"initData",type:"bytes"}]}],[N.singleton,N.owners,N.threshold,N.setupTo,N.setupData,N.safe7579,N.validators.map(O=>({module:O.address,initData:O.context}))]));return Re({abi:hVt,functionName:"preValidationSetup",args:[k,ji,"0x"]})}let M=t.reduce((N,k)=>Ed(k)?k:N,void 0),U=t.map(N=>{if(Ed(N)){if(!i)throw new Error("safeWebAuthnSharedSignerAddress not defined");return i}if("address"in N&&N.address)return N.address;throw new Error("Incorrect owner found")}),F=[{to:r,data:Re({abi:mVt,functionName:"enableModules",args:[[n,...u]]}),value:BigInt(0),operation:1}];if(M&&i&&o){let N=Ox.fromHex(M.publicKey);F.push({to:i,data:Re({abi:bVt,functionName:"configure",args:[{x:N.x,y:N.y,verifiers:BigInt(o)}]}),value:BigInt(0),operation:1})}for(let N of l)F.push({...N,operation:0});let z=sQe(F);return Re({abi:yVt,functionName:"setup",args:[U,e,a,z,n,A,C,R]})};EVt=async({owners:t,threshold:e,safeModuleSetupAddress:r,safe4337ModuleAddress:n,safeSingletonAddress:i,erc7579LaunchpadAddress:o,safeWebAuthnSharedSignerAddress:a,safeP256VerifierAddress:s,multiSendAddress:c,paymentToken:l,payment:u,paymentReceiver:d,saltNonce:f=BigInt(0),setupTransactions:p=[],safeModules:h=[],validators:b=[],executors:_=[],fallbacks:A=[],hooks:C=[],attesters:R=[],attestersThreshold:M=0})=>{let U=await lQe({owners:t,threshold:e,safeModuleSetupAddress:r,safeWebAuthnSharedSignerAddress:a,safeP256VerifierAddress:s,safe4337ModuleAddress:n,multiSendAddress:c,setupTransactions:p,safeSingletonAddress:i,safeModules:h,erc7579LaunchpadAddress:o,validators:b,executors:_,fallbacks:A,hooks:C,attesters:R,attestersThreshold:M,paymentToken:l,payment:u,paymentReceiver:d});return Re({abi:gVt,functionName:"createProxyWithNonce",args:[o??i,U,f]})},Qfe=(t,e,{addModuleLibAddress:r,safeModuleSetupAddress:n,safe4337ModuleAddress:i,safeProxyFactoryAddress:o,safeSingletonAddress:a,multiSendAddress:s,multiSendCallOnlyAddress:c,safeWebAuthnSharedSignerAddress:l,safeP256VerifierAddress:u})=>{let d=wVt[t][e];if(!d)throw new Error(`Safe version ${t} does not support EntryPoint version ${e}`);let f=n??r??d.SAFE_MODULE_SETUP_ADDRESS,p=i??d.SAFE_4337_MODULE_ADDRESS,h=o??d.SAFE_PROXY_FACTORY_ADDRESS,b=a??d.SAFE_SINGLETON_ADDRESS,_=s??d.MULTI_SEND_ADDRESS,A=c??d.MULTI_SEND_CALL_ONLY_ADDRESS,C=l??d.WEB_AUTHN_SHARED_SIGNER_ADDRESS,R=u??d.SAFE_P256_VERIFIER_ADDRESS;return{safeModuleSetupAddress:f,safe4337ModuleAddress:p,safeProxyFactoryAddress:h,safeSingletonAddress:b,multiSendAddress:_,multiSendCallOnlyAddress:A,safeWebAuthnSharedSignerAddress:C,safeP256VerifierAddress:R}};xVt=[{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],AVt=async({client:t,owners:e,threshold:r,safeModuleSetupAddress:n,safe4337ModuleAddress:i,safeProxyFactoryAddress:o,safeSingletonAddress:a,multiSendAddress:s,safeWebAuthnSharedSignerAddress:c,safeP256VerifierAddress:l,erc7579LaunchpadAddress:u,paymentToken:d,payment:f,paymentReceiver:p,setupTransactions:h=[],safeModules:b=[],saltNonce:_=BigInt(0),validators:A=[],executors:C=[],fallbacks:R=[],hooks:M=[],attesters:U=[],attestersThreshold:F=0})=>{let z=await ht(t,{abi:xVt,address:o,functionName:"proxyCreationCode"}),N=await lQe({owners:e,threshold:r,safeModuleSetupAddress:n,safe4337ModuleAddress:i,safeWebAuthnSharedSignerAddress:c,safeP256VerifierAddress:l,multiSendAddress:s,setupTransactions:h,safeSingletonAddress:a,safeModules:b,erc7579LaunchpadAddress:u,validators:A,executors:C,fallbacks:R,hooks:M,attesters:U,attestersThreshold:F,paymentToken:d,payment:f,paymentReceiver:p}),k=Gi(["bytes","uint256"],[z,Rn(u??a)]),O=Bt(Gi(["bytes32","uint256"],[Bt(Gi(["bytes"],[N])),_]));return l3({from:o,salt:O,bytecode:k,opcode:"CREATE2"})}});var HP,uQe,$V=D(()=>{HP=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Operation",name:"",type:"uint8"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Call[]",name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"}],uQe=[{inputs:[{internalType:"contract IKernelValidator",name:"_defaultValidator",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"}]});var dQe,fQe,pQe=D(()=>{dQe=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"}],fQe=[{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"},{name:"initConfig",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"}]});var hQe,mQe=D(()=>{hQe=[{type:"function",name:"createAccount",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}]});var bQe,yQe=D(()=>{bQe=[{type:"function",name:"deployWithFactory",inputs:[{name:"factory",type:"address",internalType:"contract KernelFactory"},{name:"createData",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"}]});var t1e,gQe,KV,VV,r1e=D(()=>{t1e="0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c",gQe="0x00000000",KV={ROOT:"0x00",VALIDATOR:"0x01",PERMISSION:"0x02"};(function(t){t.DEFAULT="0x00",t.ENABLE="0x01"})(VV||(VV={}))});var au,_A=D(()=>{au=t=>/0\.2\.\d+/.test(t)});var wQe,vQe=D(()=>{jt();zV();$V();_A();wQe=({kernelVersion:t,callData:e})=>{if(au(t)){let r=S0({abi:HP,data:e});if(r.functionName==="executeBatch")return r.args[0].map(n=>({to:n.to,value:n.value,data:n.data}));if(r.functionName==="execute"){let[n,i,o]=r.args;return[{to:n,value:i,data:o}]}throw new Error("Invalid function name")}return M3(e).callData}});var EQe,xQe=D(()=>{jt();GV();$V();_A();EQe=({kernelVersion:t,calls:e})=>{if(au(t)){if(e.length>1)return Re({abi:HP,functionName:"executeBatch",args:[e.map(n=>({to:n.to,value:n.value??0n,data:n.data??"0x"}))]});let r=e.length===0?void 0:e[0];if(!r)throw new Error("No calls to encode");return Re({abi:HP,functionName:"execute",args:[r.to,r.value??0n,r.data??"0x",0]})}return B3({mode:{type:e.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:e})}});var AQe,TQe=D(()=>{jt();r1e();_A();AQe=(t,e,r=0n)=>{if(au(t))return r;if(r>Ile)throw new Error(`nonce key must be equal or less than 2 bytes(maxUint16) for Kernel version ${t}`);let n=VV.DEFAULT,i=KV.ROOT,o=En(jn([n,i,e,gr(r,{size:2})]),{size:24});return BigInt(o)}});var i5,qV=D(()=>{i5=t=>t.type==="webAuthn"});var zP,n1e=D(()=>{jt();jt();_A();zP=(t,{accountAddress:e,kernelVersion:r,chainId:n})=>{let i=lP({domain:{name:"Kernel",version:r,chainId:n,verifyingContract:e}}),o=au(r)?t:Bt(pr([{type:"bytes32"},{type:"bytes32"}],[Bt(Ja("Kernel(bytes32 hash)")),t]));return Bt(jn(["0x1901",i,o]))}});async function GP({message:t,owner:e,accountAddress:r,kernelVersion:n,chainId:i}){if(i5(e)){let a;if(typeof t=="string")a=zP(sc(t),{kernelVersion:n,accountAddress:r,chainId:i});else if("raw"in t&&typeof t.raw=="string")a=t.raw;else if("raw"in t&&t.raw instanceof Uint8Array)a=t.raw.toString();else throw new Error("Unsupported message format");let{signature:s,webauthn:c}=await e.sign({hash:a}),l=Dx.fromHex(s);return pr([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],[c.authenticatorData,c.clientDataJSON,BigInt(c.typeIndex),BigInt(l.r),BigInt(l.s),!1])}if(n==="0.2.1"||n==="0.2.2")return e.signMessage({message:t});let o=zP(sc(t),{kernelVersion:n,accountAddress:r,chainId:i});return e.signMessage({message:{raw:o}})}var i1e=D(()=>{UP();jt();qV();n1e()});async function _Qe(t){let{owner:e,accountAddress:r,kernelVersion:n,chainId:i,...o}=t;if((n==="0.2.1"||n==="0.2.2")&&!i5(e))return e.signTypedData({...o});let{message:a,primaryType:s,types:c,domain:l}=o,u={EIP712Domain:Ep({domain:l}),...c};Zh({domain:l,message:a,primaryType:s,types:u});let d=Os({message:a,primaryType:s,types:u,domain:l}),f=zP(d,{kernelVersion:n,accountAddress:r,chainId:i});return i5(e)?GP({message:{raw:f},owner:e,accountAddress:r,kernelVersion:n,chainId:i}):e.signMessage({message:{raw:f}})}var SQe=D(()=>{jt();qV();i1e();n1e()});async function IQe(t){let{client:e,address:r,index:n=0n,version:i,validatorAddress:o,factoryAddress:a,metaFactoryAddress:s,accountLogicAddress:c,useMetaFactory:l=!0,eip7702:u=!1}=t,d=(()=>{if(u&&"owner"in t)return[t.owner];if("owners"in t)return t.owners;throw new Error("Invalid parameters")})(),f=d[0].type==="webAuthn",p=await(f?d[0]:nl({owner:d[0]})),h=(()=>{let O=t.entryPoint?.address??jf,w=t.entryPoint?.version??"0.7",S=t5;return w==="0.6"&&(S=e5),{address:O,abi:S,version:w}})(),b=SVt(h.version,i,u),{accountLogicAddress:_,validatorAddress:A,factoryAddress:C,metaFactoryAddress:R}=IVt({validatorAddress:o,accountLogicAddress:c,factoryAddress:a,metaFactoryAddress:s,kernelVersion:b,isWebAuthn:f});if(!A)throw new Error("Validator address is required");let M=async O=>PVt({entryPointVersion:h.version,kernelVersion:b,validatorData:await RVt(p),index:n,factoryAddress:C,accountLogicAddress:_,validatorAddress:A,useMetaFactory:O}),U,F=async()=>U||(U=e.chain?e.chain.id:await Fe(e,zi,"getChainId")({}),U),z=O=>async()=>({factory:h.version==="0.6"||O===!1?C:R,factoryData:await M(O)}),{accountAddress:N,getFactoryArgs:k}=await(async()=>{if(u)return{accountAddress:p.address,getFactoryArgs:async()=>({factory:void 0,factoryData:void 0})};let O=z(l==="optional"?!0:l);if(r&&l!=="optional")return{accountAddress:r,getFactoryArgs:O};let{factory:w,factoryData:S}=await O(),T=await LP(e,{factory:w,factoryData:S,entryPointAddress:h.address});if(r===T)return{accountAddress:T,getFactoryArgs:O};if(l==="optional"&&T===ji){O=z(!1);let{factory:m,factoryData:y}=await O();T=await LP(e,{factory:m,factoryData:y,entryPointAddress:h.address})}return{accountAddress:T,getFactoryArgs:O}})();return iu({client:e,entryPoint:h,getFactoryArgs:k,extend:u?{implementation:_}:void 0,authorization:u?{address:_,account:p}:void 0,async getAddress(){return N},async encodeCalls(O){return EQe({calls:O,kernelVersion:b})},async decodeCalls(O){return wQe({callData:O,kernelVersion:b})},async getNonce(O){return _p(e,{address:await this.getAddress(),entryPointAddress:h.address,key:AQe(b,A,t.nonceKey??0n)})},async getStubSignature(){return au(b)?jn([gQe,t1e]):i5(p)?pr([{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"string"},{name:"responseTypeLocation",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"},{name:"usePrecompiled",type:"bool"}],["0x49960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97631d00000000",'{"type":"webauthn.get","challenge":"tbxXNFS9X_4Byr1cMwqKrIGB-_30a0QhZ6y7ucM0BOE","origin":"http://localhost:3000","crossOrigin":false, "other_keys_can_be_added_here":"do not compare clientDataJSON against a template. See https://goo.gl/yabPex"}',1n,44941127272049826721201904734628716258498742255959991581049806490182030242267n,9910254599581058084911561569808925251374718953855182016200087235935345969636n,!1]):t1e},async sign({hash:O}){return this.signMessage({message:O})},async signMessage({message:O}){if(u)throw new Error("Kernel with EIP-7702 isn't 1271 compliant");let w=await GP({owner:p,message:O,accountAddress:await this.getAddress(),kernelVersion:b,chainId:await F()});return au(b)?w:jn([WV(A),w])},async signTypedData(O){if(u)throw new Error("Kernel with EIP-7702 isn't 1271 compliant");let w=await _Qe({owner:p,chainId:await F(),...O,accountAddress:await this.getAddress(),kernelVersion:b});return au(b)?w:jn([WV(A),w])},async signUserOperation(O){let{chainId:w=await F(),...S}=O,T=r5({userOperation:{...S,sender:S.sender??await this.getAddress(),signature:"0x"},entryPointAddress:h.address,entryPointVersion:h.version,chainId:w}),m=i5(p)?await GP({owner:p,message:{raw:T},chainId:w,accountAddress:await this.getAddress(),kernelVersion:b}):await p.signMessage({message:{raw:T}});return au(b)?jn(["0x00000000",m]):m}})}var TVt,_Vt,SVt,IVt,WV,CVt,RVt,PVt,CQe=D(()=>{UP();jt();ou();zt();rl();TA();Efe();k3();$V();pQe();mQe();yQe();r1e();vQe();xQe();TQe();_A();qV();i1e();SQe();TVt=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"}],_Vt={"0.2.1":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xf048AD83CB2dfd6037A43902a2A5Be04e53cd2Eb",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.2":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0x0DA6a956B9488eD4dd761E59f52FDc6c8068E6B5",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.3":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xD3F582F6B4814E989Ee8E96bc3175320B5A540ab",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.2.4":{ECDSA_VALIDATOR:"0xd9AB5096a832b9ce79914329DAEE236f8Eea0390",ACCOUNT_LOGIC:"0xd3082872F8B06073A021b4602e022d5A070d7cfC",FACTORY_ADDRESS:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3"},"0.3.0-beta":{ECDSA_VALIDATOR:"0x8104e3Ad430EA6d354d013A6789fDFc71E671c43",ACCOUNT_LOGIC:"0x94F097E1ebEB4ecA3AAE54cabb08905B239A7D27",FACTORY_ADDRESS:"0x6723b44Abeec4E71eBE3232BD5B455805baDD22f",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"},"0.3.1":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xBAC849bB641841b44E965fB01A4Bf5F074f84b4D",FACTORY_ADDRESS:"0xaac5D4240AF87249B3f71BC8E4A2cae074A3E419",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5",WEB_AUTHN_VALIDATOR:"0xbA45a2BFb8De3D24cA9D7F1B551E14dFF5d690Fd"},"0.3.2":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xD830D15D3dc0C269F3dBAa0F3e8626d33CFdaBe1",FACTORY_ADDRESS:"0x7a1dBAB750f12a90EB1B60D2Ae3aD17D4D81EfFe",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"},"0.3.3":{ECDSA_VALIDATOR:"0x845ADb2C711129d4f3966735eD98a9F09fC4cE57",ACCOUNT_LOGIC:"0xd6CEDDe84be40893d153Be9d467CD6aD37875b28",FACTORY_ADDRESS:"0x2577507b78c2008Ff367261CB6285d44ba5eF2E9",META_FACTORY_ADDRESS:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"}},SVt=(t,e,r)=>r?"0.3.3":e||(t==="0.6"?"0.2.2":"0.3.0-beta"),IVt=({validatorAddress:t,accountLogicAddress:e,factoryAddress:r,metaFactoryAddress:n,kernelVersion:i,isWebAuthn:o})=>{let a=_Vt[i],s=t??(o?a.WEB_AUTHN_VALIDATOR:a.ECDSA_VALIDATOR),c=e??a.ACCOUNT_LOGIC,l=r??a.FACTORY_ADDRESS,u=n??a?.META_FACTORY_ADDRESS??ji;return{validatorAddress:s,accountLogicAddress:c,factoryAddress:l,metaFactoryAddress:u}},WV=t=>jn([KV.VALIDATOR,t]),CVt=({entryPoint:{version:t},kernelVersion:e,validatorData:r,validatorAddress:n})=>t==="0.6"?Re({abi:uQe,functionName:"initialize",args:[n,r]}):e==="0.3.0-beta"?Re({abi:dQe,functionName:"initialize",args:[WV(n),ji,r,"0x"]}):Re({abi:fQe,functionName:"initialize",args:[WV(n),ji,r,"0x",[]]}),RVt=async t=>{if(t.type==="local")return t.address;if(i5(t)){let e=Ox.fromHex(t.publicKey),r=Bt(Rs.fromBytes(k$.toBytes(t.id)));return pr([{components:[{name:"x",type:"uint256"},{name:"y",type:"uint256"}],name:"webAuthnData",type:"tuple"},{name:"authenticatorIdHash",type:"bytes32"}],[{x:e.x,y:e.y},r])}throw new Error("Invalid owner type")},PVt=async({entryPointVersion:t,kernelVersion:e,validatorData:r,index:n,factoryAddress:i,accountLogicAddress:o,validatorAddress:a,useMetaFactory:s})=>{let c=CVt({entryPoint:{version:t},kernelVersion:e,validatorAddress:a,validatorData:r});return t==="0.6"?Re({abi:TVt,functionName:"createAccount",args:[o,c,n]}):s?Re({abi:bQe,functionName:"deployWithFactory",args:[i,c,gr(n,{size:32})]}):Re({abi:hQe,functionName:"createAccount",args:[c,gr(n,{size:32})]})}});async function o1e(t){return IQe({...t,validatorAddress:t.validatorAddress??t.ecdsaValidatorAddress})}var RQe=D(()=>{CQe()});var PQe,D3,OQe=D(()=>{PQe=[{inputs:[{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"},{internalType:"uint256",name:"index",type:"uint256"}],name:"deployCounterFactualAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],D3=[{inputs:[{internalType:"address",name:"handler",type:"address"},{internalType:"address",name:"moduleSetupContract",type:"address"},{internalType:"bytes",name:"moduleSetupData",type:"bytes"}],name:"init",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"eoaOwner",type:"address"}],name:"initForSmartAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"dest",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"func",type:"bytes"}],name:"execute_ncC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"dest",type:"address[]"},{internalType:"uint256[]",name:"value",type:"uint256[]"},{internalType:"bytes[]",name:"func",type:"bytes[]"}],name:"executeBatch_y6U",outputs:[],stateMutability:"nonpayable",type:"function"}]});async function a1e(t){let{owners:e,client:r,index:n=0n,address:i,accountLogicAddress:o=YV.ACCOUNT_V2_0_LOGIC,fallbackHandlerAddress:a=YV.DEFAULT_FALLBACK_HANDLER_ADDRESS,ecdsaModuleAddress:s=YV.ECDSA_OWNERSHIP_REGISTRY_MODULE,factoryAddress:c=YV.FACTORY_ADDRESS}=t,l=await nl({owner:e[0]}),u={address:t.entryPoint?.address??n5,abi:e5,version:t.entryPoint?.version??"0.6"},d=i;return iu({client:r,entryPoint:u,getFactoryArgs:async()=>({factory:c,factoryData:await NVt({owner:l.address,index:n,ecdsaModuleAddress:s})}),async getAddress(){return d||(d=await kVt({owner:l.address,ecdsaModuleAddress:s,factoryAddress:c,accountLogicAddress:o,fallbackHandlerAddress:a,index:n}),d)},async getNonce(p){let h=await this.getAddress();return _p(r,{address:h,entryPointAddress:u.address,key:t?.nonceKey??p?.key})},encodeCalls:async p=>{if(p.length>1)return Re({abi:D3,functionName:"executeBatch_y6U",args:[p.map(b=>b.to),p.map(b=>b.value??0n),p.map(b=>b.data??"0x")]});let h=p.length===0?void 0:p[0];if(!h)throw new Error("No calls to encode");return Re({abi:D3,functionName:"execute_ncC",args:[h.to,h.value??0n,h.data??"0x"]})},decodeCalls:async p=>{let h=S0({abi:D3,data:p});if(h.functionName==="execute_ncC")return[{to:h.args[0],value:h.args[1],data:h.args[2]}];if(h.functionName==="executeBatch_y6U"){let b=[];for(let _=0;_<h.args[0].length;_++)b.push({to:h.args[0][_],value:h.args[1][_],data:h.args[2][_]});return b}throw new Error("Invalid function name")},async getStubSignature(){return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${s.substring(2).padEnd(40,"0")}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:p}){return this.signMessage({message:p})},async signMessage({message:p}){let h=await l.signMessage({message:p}),b=Number.parseInt(h.slice(-2),16);if(![27,28].includes(b)){let _=b+27;h=h.slice(0,-2)+_.toString(16)}return pr([{type:"bytes"},{type:"address"}],[h,s])},async signTypedData(p){let h=await l.signTypedData(p),b=Number.parseInt(h.slice(-2),16);if(![27,28].includes(b)){let _=b+27;h=h.slice(0,-2)+_.toString(16)}return pr([{type:"bytes"},{type:"address"}],[h,s])},async signUserOperation(p){let{chainId:h=r.chain?.id,...b}=p;if(!h)throw new Error("Chain id not found");let _=r5({userOperation:{...b,sender:b.sender??await this.getAddress(),signature:"0x"},entryPointAddress:u.address,entryPointVersion:u.version,chainId:h}),A=await p3(r,{account:l,message:{raw:_}});return pr(Zm("bytes, address"),[A,s])}})}var OVt,YV,NVt,kVt,NQe=D(()=>{jt();ou();zt();TA();k3();OQe();OVt="0x6080346100aa57601f61012038819003918201601f19168301916001600160401b038311848410176100af578084926020946040528339810103126100aa57516001600160a01b0381168082036100aa5715610065573055604051605a90816100c68239f35b60405162461bcd60e51b815260206004820152601e60248201527f496e76616c696420696d706c656d656e746174696f6e206164647265737300006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608060405230546000808092368280378136915af43d82803e156020573d90f35b3d90fdfea2646970667358221220a03b18dce0be0b4c9afe58a9eb85c35205e2cf087da098bbf1d23945bf89496064736f6c63430008110033",YV={ECDSA_OWNERSHIP_REGISTRY_MODULE:"0x0000001c5b32F37F5beA87BDD5374eB2aC54eA8e",FACTORY_ADDRESS:"0x000000a56Aaca3e9a4C479ea6b6CD0DbcB6634F5",ACCOUNT_V2_0_LOGIC:"0x0000002512019Dafb59528B82CB92D3c5D2423aC",DEFAULT_FALLBACK_HANDLER_ADDRESS:"0x0bBa6d96BD616BedC6BFaa341742FD43c60b83C1"},NVt=async({owner:t,index:e,ecdsaModuleAddress:r})=>{if(!t)throw new Error("Owner account not found");let n=Re({abi:D3,functionName:"initForSmartAccount",args:[t]});return Re({abi:PQe,functionName:"deployCounterFactualAccount",args:[r,n,e]})},kVt=async({factoryAddress:t,accountLogicAddress:e,fallbackHandlerAddress:r,ecdsaModuleAddress:n,owner:i,index:o=BigInt(0)})=>{let a=Re({abi:D3,functionName:"initForSmartAccount",args:[i]}),s=Re({abi:D3,functionName:"init",args:[r,n,a]}),c=Gi(["bytes","uint256"],[OVt,Rn(e)]),l=Bt(Gi(["bytes32","uint256"],[Bt(Gi(["bytes"],[s])),o]));return l3({from:t,salt:l,bytecode:c,opcode:"CREATE2"})}});async function s1e(t){let{owners:e,client:r,index:n=0n,address:i,version:o,factoryAddress:a=MQe.K1_VALIDATOR_FACTORY_ADDRESS,validatorAddress:s=MQe.K1_VALIDATOR_ADDRESS,attesters:c=[],threshold:l=0}=t,u=await nl({owner:e[0]}),d={address:t.entryPoint?.address??jf,abi:t5,version:t.entryPoint?.version??"0.7"},f=i,p=async()=>({factory:a,factoryData:Re({abi:[{name:"createAccount",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"createAccount",args:[u.address,n,c.sort((_,A)=>_.toLowerCase().localeCompare(A.toLowerCase())),l]})}),h,b=async()=>h||(h=r.chain?r.chain.id:await Fe(r,zi,"getChainId")({}),h);return iu({client:r,entryPoint:d,getFactoryArgs:p,async getAddress(){return f||(f=await ht(r,{address:a,abi:[{name:"computeAccountAddress",type:"function",stateMutability:"view",inputs:[{type:"address",name:"eoaOwner"},{type:"uint256",name:"index"},{type:"address[]",name:"attesters"},{type:"uint8",name:"threshold"}],outputs:[{type:"address"}]}],functionName:"computeAccountAddress",args:[u.address,n,c.sort((_,A)=>_.toLowerCase().localeCompare(A.toLowerCase())),l]}),f)},async getNonce(_){let C=(_?.key??0n)%16777215n,M=xr([gr(C,{size:3}),"0x00",s]),U=await this.getAddress();return _p(r,{address:U,entryPointAddress:d.address,key:BigInt(M)})},encodeCalls:async _=>B3({mode:{type:_.length>1?"batchcall":"call",revertOnError:!1,selector:"0x",context:"0x"},callData:_}),async decodeCalls(_){return M3(_).callData},async getStubSignature(){return`0x0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000${s.substring(2).padEnd(40,"0")}000000000000000000000000000000000000000000000000000000000000004181d4b4981670cb18f99f0b4a66446df1bf5b204d24cfcb659bf38ba27a4359b5711649ec2423c5e1247245eba2964679b6a1dbb85c992ae40b9b00c6935b02ff1b00000000000000000000000000000000000000000000000000000000000000`},async sign({hash:_}){return this.signMessage({message:_})},async signMessage({message:_}){let A=kQe(sc(_),{version:o,accountAddress:await this.getAddress(),chainId:await b()}),C=await u.signMessage({message:{raw:A}});return Gi(["address","bytes"],[s,C])},async signTypedData(_){let{message:A,primaryType:C,types:R,domain:M}=_,U={EIP712Domain:Ep({domain:M}),...R};Zh({domain:M,message:A,primaryType:C,types:U});let F=Os({message:A,primaryType:C,types:U,domain:M}),z=kQe(F,{version:o,accountAddress:await this.getAddress(),chainId:await b()}),N=await u.signMessage({message:{raw:z}});return Gi(["address","bytes"],[s,N])},async signUserOperation(_){let{chainId:A=await b(),...C}=_;if(!A)throw new Error("Chain id not found");let R=r5({userOperation:{...C,sender:C.sender??await this.getAddress(),signature:"0x"},entryPointAddress:d.address,entryPointVersion:d.version,chainId:A});return await u.signMessage({message:{raw:R}})}})}var kQe,MQe,BQe=D(()=>{jt();ou();zt();rl();TA();zV();GV();k3();kQe=(t,{accountAddress:e,version:r,chainId:n})=>{let i=lP({domain:{name:"Nexus",version:r,chainId:n,verifyingContract:e}}),o=Bt(pr([{type:"bytes32"},{type:"bytes32"}],[Bt(Ja("PersonalSign(bytes prefixed)")),t]));return Bt(jn(["0x1901",i,o]))},MQe={K1_VALIDATOR_FACTORY_ADDRESS:"0x00000bb19a3579F4D779215dEf97AFbd0e30DB55",K1_VALIDATOR_ADDRESS:"0x00000004171351c442B202678c48D8AB5B321E8f"}});var SA=D(()=>{WYe();Zfe();RQe();NQe();BQe()});var IA,DQe=D(()=>{nt();Ye();SA();ou();ui();IA=class{constructor(e){V(this,"name",so.BICONOMY),V(this,"options",void 0),this.options=e}async getSmartAccount(e){var r,n;return a1e(q(q(q({},this.options||{}),{},{entryPoint:{address:((r=this.options)===null||r===void 0||(r=r.entryPoint)===null||r===void 0?void 0:r.address)||n5,version:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.version)||"0.6"}},e),{},{owners:[e.walletClient],client:e.client}))}}});var CA,LQe=D(()=>{nt();Ye();SA();ui();CA=class{constructor(e){V(this,"name",so.KERNEL),V(this,"options",void 0),this.options=e}async getSmartAccount(e){return o1e(q(q(q({},this.options||{}),e),{},{owners:[e.walletClient],client:e.client}))}}});var MVt,Nn,UQe=D(()=>{MVt=Object.defineProperty,Nn=(t,e)=>{for(var r in e)MVt(t,r,{get:e[r],enumerable:!0})}});var su,Ly,L3,nn,FQe,JV=D(()=>{su={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x00e0251aaA263dfE3B3541B758A82D1CBA1c3B6D",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},Ly={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},L3={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},nn={mainnet:1,polygon:137,bsc:56,optimism:10,arbitrum:42161,linea:59144,base:8453,gnosis:100,sepolia:11155111,lineaSepolia:59141,baseSepolia:84532,megaEthTestnet:6342,chiado:10200,lineaGoerli:59140},FQe={"1.0.0":{[nn.optimism]:L3,[nn.polygon]:L3,[nn.base]:L3,[nn.arbitrum]:L3,[nn.linea]:L3,[nn.sepolia]:{...L3,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},[nn.lineaSepolia]:{...L3,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{[nn.arbitrum]:Ly,[nn.base]:Ly,[nn.linea]:Ly,[nn.optimism]:Ly,[nn.polygon]:Ly,[nn.sepolia]:Ly,[nn.lineaSepolia]:Ly,[nn.baseSepolia]:{...Ly,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{[nn.mainnet]:su,[nn.polygon]:su,[nn.bsc]:su,[nn.optimism]:su,[nn.arbitrum]:su,[nn.linea]:su,[nn.base]:su,[nn.gnosis]:su,[nn.sepolia]:su,[nn.lineaSepolia]:su,[nn.baseSepolia]:su,[nn.megaEthTestnet]:su,[nn.chiado]:su}}});var BVt,Le,DVt,LVt,UVt,FVt,HVt,zVt,GVt,jVt,$Vt,VVt,KVt,qVt,WVt,YVt,JVt,QVt,ZVt,XVt,eKt,tKt,rKt,nKt,iKt,oKt,aKt,sKt,cKt,Vn,lKt,uKt,dKt,fKt,pKt,hKt,mKt,bKt,yKt,gKt,wKt,vKt,EKt,xKt,AKt,TKt,_Kt,SKt,IKt,CKt,I0,RKt,PKt,OKt,NKt,kKt,MKt,BKt,DKt,QV,LKt,UKt,FKt,HKt,zKt,GKt,jKt,$Kt,VKt,KKt,qKt,WKt,YKt,JKt,QKt,ZKt,XKt,eqt,tqt,rqt,nqt,iqt,oqt,aqt,sqt,cqt,lqt,uqt,dqt,fqt,pqt,hqt,mqt,bqt,yqt,gqt,wqt,vqt,Eqt,xqt,Aqt,Tqt,_qt,Sqt,Iqt,Cqt,Rqt,Pqt,Oqt,Nqt,kqt,Mqt,Bqt,Dqt,Lqt,Uqt,Fqt,Hqt,zqt,Gqt,jqt,$qt,c1e,Vqt,Kqt,qqt,Wqt,Yqt,Jqt,Qqt,Zqt,Xqt,eWt,tWt,rWt,nWt,iWt,oWt,aWt,sWt,cWt,lWt,uWt,dWt,fWt,pWt,hWt,mWt,bWt,yWt,gWt,wWt,vWt,EWt,xWt,AWt,TWt,_Wt,SWt,IWt,CWt,RWt,PWt,OWt,NWt,kWt,MWt,BWt,DWt,LWt,UWt,FWt,HWt,zWt,GWt,jWt,$Wt,VWt,KWt,qWt,WWt,YWt,JWt,QWt,ZWt,Qi,XWt,eYt,tYt,rYt,nYt,iYt,oYt,aYt,sYt,cYt,lYt,uYt,dYt,fYt,pYt,hYt,mYt,bYt,yYt,gYt,wYt,vYt,EYt,xYt,AYt,TYt,_Yt,SYt,IYt,CYt,RYt,PYt,OYt,NYt,kYt,MYt,BYt,DYt,LYt,UYt,FYt,HYt,zYt,GYt,jYt,$Yt,VYt,KYt,qYt,WYt,YYt,JYt,QYt,ZYt,XYt,eJt,tJt,rJt,nJt,iJt,oJt,aJt,ol,sJt,cJt,lJt,uJt,dJt,l1e,fJt,pJt,hJt,mJt,bJt,yJt,gJt,wJt,vJt,EJt,xJt,AJt,TJt,_Jt,SJt,IJt,CJt,RJt,PJt,OJt,NJt,kJt,MJt,BJt,DJt,LJt,UJt,FJt,HJt,zJt,GJt,jJt,RA,$Jt,VJt,KJt,qJt,WJt,YJt,JJt,QJt,ZJt,XJt,eQt,tQt,rQt,nQt,iQt,oQt,aQt,sQt,cQt,lQt,uQt,dQt,fQt,pQt,hQt,mQt,bQt,yQt,gQt,wQt,vQt,EQt,xQt,AQt,TQt,_Qt,SQt,IQt,CQt,RQt,PQt,xn,OQt,NQt,kQt,MQt,BQt,wr=D(()=>{BVt=Object.defineProperty,Le=(t,e)=>{for(var r in e)BVt(t,r,{get:e[r],enumerable:!0})},DVt={};Le(DVt,{abi:()=>LVt,bytecode:()=>UVt});LVt=[{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]}],UVt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212204a050c4fa34153d3fae9d282b8c08f593842bb7e1d0caa440348574559167b6a64736f6c63430008170033",FVt={};Le(FVt,{abi:()=>HVt,bytecode:()=>zVt});HVt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedMethods_",type:"bytes4[]",internalType:"bytes4[]"}],stateMutability:"pure"}],zVt="0x608060405234801561001057600080fd5b506107fc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610512565b50505050505050505050565b005b610076610086366004610512565b6100b4565b61009e6100993660046105df565b610197565b6040516100ab9190610621565b60405180910390f35b856100c08160006102e5565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101228160006102e5565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b506101898c8c89896102fc565b505050505050505050505050565b60606000826101a7600482610685565b1580156101b357508015155b6102135760405162461bcd60e51b815260206004820152602b60248201527f416c6c6f7765644d6574686f6473456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610108565b61021e6004826106af565b67ffffffffffffffff811115610236576102366106c3565b60405190808252806020026020018201604052801561025f578160200160208202803683370190505b50925060005b818110156102dc5785818661027b8260046106d9565b92610288939291906106ec565b61029191610716565b8484815181106102a3576102a3610746565b6001600160e01b031990921660209283029190910190910152826102c68161075c565b93506102d590506004826106d9565b9050610265565b50505092915050565b6001600160f81b0319828116908216145b92915050565b366000610309848461045c565b90945092505050600481101561037e5760405162461bcd60e51b815260206004820152603460248201527f416c6c6f7765644d6574686f6473456e666f726365723a696e76616c69642d656044820152730f0cac6eae8d2dedc5ac8c2e8c25ad8cadccee8d60631b6064820152608401610108565b600061038d60048284866106ec565b61039691610716565b905060006103a48888610197565b805190915060005b818110156103fb578281815181106103c6576103c6610746565b60200260200101516001600160e01b031916846001600160e01b031916036103f357505050505050610456565b6001016103ac565b5060405162461bcd60e51b815260206004820152602960248201527f416c6c6f7765644d6574686f6473456e666f726365723a6d6574686f642d6e6f6044820152681d0b585b1b1bddd95960ba1b6064820152608401610108565b50505050565b600080368161046e60148287896106ec565b61047791610775565b60601c935061048a6034601487896106ec565b610493916107a8565b92506104a285603481896106ec565b949793965094505050565b60008083601f8401126104bf57600080fd5b50813567ffffffffffffffff8111156104d757600080fd5b6020830191508360208285010111156104ef57600080fd5b9250929050565b80356001600160a01b038116811461050d57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561053157600080fd5b8a3567ffffffffffffffff8082111561054957600080fd5b6105558e838f016104ad565b909c509a5060208d013591508082111561056e57600080fd5b61057a8e838f016104ad565b909a50985060408d0135975060608d013591508082111561059a57600080fd5b506105a78d828e016104ad565b90965094505060808b013592506105c060a08c016104f6565b91506105ce60c08c016104f6565b90509295989b9194979a5092959850565b600080602083850312156105f257600080fd5b823567ffffffffffffffff81111561060957600080fd5b610615858286016104ad565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156106635783516001600160e01b0319168352928401929184019160010161063d565b50909695505050505050565b634e487b7160e01b600052601260045260246000fd5b6000826106945761069461066f565b500690565b634e487b7160e01b600052601160045260246000fd5b6000826106be576106be61066f565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156102f6576102f6610699565b600080858511156106fc57600080fd5b8386111561070957600080fd5b5050820193919092039150565b6001600160e01b0319813581811691600485101561073e5780818660040360031b1b83161692505b505092915050565b634e487b7160e01b600052603260045260246000fd5b60006001820161076e5761076e610699565b5060010190565b6bffffffffffffffffffffffff19813581811691601485101561073e5760149490940360031b84901b1690921692915050565b803560208310156102f657600019602084900360031b1b169291505056fea26469706673582212200b708c0be5e7b588370a3a50ea4c9e1f7cb79f4e1abc8d9c979a4f6d6867e5ae64736f6c63430008170033",GVt={};Le(GVt,{abi:()=>jVt,bytecode:()=>$Vt});jVt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedTargets_",type:"address[]",internalType:"address[]"}],stateMutability:"pure"}],$Vt="0x608060405234801561001057600080fd5b50610736806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461047b565b50505050505050505050565b005b61007661008636600461047b565b6100b4565b61009e610099366004610548565b61025e565b6040516100ab919061058a565b60405180910390f35b856100c08160006103ae565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101228160006103ae565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b50600061018988886103c5565b5050509050600061019a8e8e61025e565b805190915060005b818110156101ed578281815181106101bc576101bc6105d7565b60200260200101516001600160a01b0316846001600160a01b0316036101e55750505050610250565b6001016101a2565b5060405162461bcd60e51b815260206004820152603160248201527f416c6c6f77656454617267657473456e666f726365723a7461726765742d6164604482015270191c995cdccb5b9bdd0b585b1b1bddd959607a1b6064820152608401610108565b505050505050505050505050565b606060008261026e601482610603565b15801561027a57508015155b6102da5760405162461bcd60e51b815260206004820152602b60248201527f416c6c6f77656454617267657473456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610108565b6102e560148261062d565b67ffffffffffffffff8111156102fd576102fd610641565b604051908082528060200260200182016040528015610326578160200160208202803683370190505b50925060005b818110156103a557858186610342826014610657565b9261034f9392919061066a565b61035891610694565b60601c84848151811061036d5761036d6105d7565b6001600160a01b03909216602092830291909101909101528261038f816106c9565b935061039e9050601482610657565b905061032c565b50505092915050565b6001600160f81b0319828116908216145b92915050565b60008036816103d7601482878961066a565b6103e091610694565b60601c93506103f360346014878961066a565b6103fc916106e2565b925061040b856034818961066a565b949793965094505050565b60008083601f84011261042857600080fd5b50813567ffffffffffffffff81111561044057600080fd5b60208301915083602082850101111561045857600080fd5b9250929050565b80356001600160a01b038116811461047657600080fd5b919050565b60008060008060008060008060008060e08b8d03121561049a57600080fd5b8a3567ffffffffffffffff808211156104b257600080fd5b6104be8e838f01610416565b909c509a5060208d01359150808211156104d757600080fd5b6104e38e838f01610416565b909a50985060408d0135975060608d013591508082111561050357600080fd5b506105108d828e01610416565b90965094505060808b0135925061052960a08c0161045f565b915061053760c08c0161045f565b90509295989b9194979a5092959850565b6000806020838503121561055b57600080fd5b823567ffffffffffffffff81111561057257600080fd5b61057e85828601610416565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156105cb5783516001600160a01b0316835292840192918401916001016105a6565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b600082610612576106126105ed565b500690565b634e487b7160e01b600052601160045260246000fd5b60008261063c5761063c6105ed565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156103bf576103bf610617565b6000808585111561067a57600080fd5b8386111561068757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106c15780818660140360031b1b83161692505b505092915050565b6000600182016106db576106db610617565b5060010190565b803560208310156103bf57600019602084900360031b1b169291505056fea2646970667358221220192854344f7cbe5e3a46630068ff1c57d1382d110f4c7dae36ce8f18206bd1c864736f6c63430008170033",VVt={};Le(VVt,{abi:()=>KVt,bytecode:()=>qVt});KVt=[],qVt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088f05df9a321ebbfd15b9ae491704455fd55c5a0ef490ba4f3111c5cd7aa944764736f6c63430008170033",WVt={};Le(WVt,{abi:()=>YVt,bytecode:()=>JVt});YVt=[],JVt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ba35151db75ea04dd32865d4b2bd18ac453d87dfd60b81ec325260f801c1709564736f6c63430008170033",QVt={};Le(QVt,{abi:()=>ZVt,bytecode:()=>XVt});ZVt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DifferentArgsAndTerms",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"terms",type:"bytes",indexed:!1,internalType:"bytes"},{name:"args",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1}],XVt="0x608060405234801561001057600080fd5b506103b7806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063414c3e3314610051578063a145832a1461006d578063d3eddcc514610051578063ed46336714610051575b600080fd5b61006b61005f366004610249565b50505050505050505050565b005b61006b61007b366004610249565b85600881901b6001600160f81b03198116156100ec5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5088886040516100fd929190610316565b60405180910390208b8b604051610115929190610316565b6040518091039020146101d75783826001600160a01b0316336001600160a01b03167f07fc5f2898fc1f1cf9d6012177b7abb8d010b9e64055979af3a5bcd274e2a11a8e8e8e8e60405161016c949392919061034f565b60405180910390a460405162461bcd60e51b815260206004820152603260248201527f41726773457175616c697479436865636b456e666f726365723a646966666572604482015271656e742d617267732d616e642d7465726d7360701b60648201526084016100e3565b5050505050505050505050565b60008083601f8401126101f657600080fd5b50813567ffffffffffffffff81111561020e57600080fd5b60208301915083602082850101111561022657600080fd5b9250929050565b80356001600160a01b038116811461024457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561026857600080fd5b8a3567ffffffffffffffff8082111561028057600080fd5b61028c8e838f016101e4565b909c509a5060208d01359150808211156102a557600080fd5b6102b18e838f016101e4565b909a50985060408d0135975060608d01359150808211156102d157600080fd5b506102de8d828e016101e4565b90965094505060808b013592506102f760a08c0161022d565b915061030560c08c0161022d565b90509295989b9194979a5092959850565b8183823760009101908152919050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b604081526000610363604083018688610326565b8281036020840152610376818587610326565b97965050505050505056fea264697066735822122078e67ed2011e86335117ad2962f5a7ffbe2179a19bda7b4e0f3c3beff2ca893c64736f6c63430008170033",eKt={};Le(eKt,{abi:()=>tKt,bytecode:()=>rKt});tKt=[],rKt="0x",nKt={};Le(nKt,{abi:()=>iKt,bytecode:()=>oKt});iKt=[{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]}],oKt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122010c6b66ba2fc3a92f070bf47f6d02e68772a73d44eed07c73bca1c9f7fab44e964736f6c63430008170033",aKt={};Le(aKt,{abi:()=>sKt,bytecode:()=>cKt});sKt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"}],cKt="0x",Vn={};Le(Vn,{abi:()=>lKt,bytecode:()=>uKt});lKt=[{type:"receive",stateMutability:"payable"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],uKt="0x",dKt={};Le(dKt,{abi:()=>fKt,bytecode:()=>pKt});fKt=[{type:"constructor",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_swapApiSigner",type:"address",internalType:"address"},{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_metaSwap",type:"address",internalType:"contract IMetaSwap"},{name:"_argsEqualityCheckEnforcer",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"WHITELIST_ENFORCED",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"WHITELIST_NOT_ENFORCED",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"argsEqualityCheckEnforcer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"isAggregatorAllowed",inputs:[{name:"aggregatorIdHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"allowed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isTokenAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}],outputs:[{name:"allowed",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"metaSwap",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IMetaSwap"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setSwapApiSigner",inputs:[{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swapApiSigner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"swapByDelegation",inputs:[{name:"_signatureData",type:"tuple",internalType:"struct DelegationMetaSwapAdapter.SignatureData",components:[{name:"apiData",type:"bytes",internalType:"bytes"},{name:"expiration",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"_delegations",type:"tuple[]",internalType:"struct Delegation[]",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"_useTokenWhitelist",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swapTokens",inputs:[{name:"_aggregatorId",type:"string",internalType:"string"},{name:"_tokenFrom",type:"address",internalType:"contract IERC20"},{name:"_tokenTo",type:"address",internalType:"contract IERC20"},{name:"_recipient",type:"address",internalType:"address"},{name:"_amountFrom",type:"uint256",internalType:"uint256"},{name:"_balanceFromBefore",type:"uint256",internalType:"uint256"},{name:"_swapData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateAllowedAggregatorIds",inputs:[{name:"_aggregatorIds",type:"string[]",internalType:"string[]"},{name:"_statuses",type:"bool[]",internalType:"bool[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateAllowedTokens",inputs:[{name:"_tokens",type:"address[]",internalType:"contract IERC20[]"},{name:"_statuses",type:"bool[]",internalType:"bool[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"_token",type:"address",internalType:"contract IERC20"},{name:"_amount",type:"uint256",internalType:"uint256"},{name:"_recipient",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"ChangedAggregatorIdStatus",inputs:[{name:"aggregatorIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"aggregatorId",type:"string",indexed:!1,internalType:"string"},{name:"status",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ChangedTokenStatus",inputs:[{name:"token",type:"address",indexed:!1,internalType:"contract IERC20"},{name:"status",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SentTokens",inputs:[{name:"token",type:"address",indexed:!0,internalType:"contract IERC20"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SetArgsEqualityCheckEnforcer",inputs:[{name:"newArgsEqualityCheckEnforcer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetMetaSwap",inputs:[{name:"newMetaSwap",type:"address",indexed:!0,internalType:"contract IMetaSwap"}],anonymous:!1},{type:"event",name:"SwapApiSignerUpdated",inputs:[{name:"newSigner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"AggregatorIdIsNotAllowed",inputs:[{name:"aggregatorId",type:"string",internalType:"string"}]},{type:"error",name:"AmountFromMismatch",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"FailedNativeTokenTransfer",inputs:[{name:"recipient",type:"address",internalType:"address"}]},{type:"error",name:"InputLengthsMismatch",inputs:[]},{type:"error",name:"InsufficientTokens",inputs:[]},{type:"error",name:"InvalidApiSignature",inputs:[]},{type:"error",name:"InvalidEmptyDelegations",inputs:[]},{type:"error",name:"InvalidIdenticalTokens",inputs:[]},{type:"error",name:"InvalidSwapFunctionSelector",inputs:[]},{type:"error",name:"InvalidZeroAddress",inputs:[]},{type:"error",name:"MissingArgsEqualityCheckEnforcer",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotLeafDelegator",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]},{type:"error",name:"SignatureExpired",inputs:[]},{type:"error",name:"TokenFromIsNotAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}]},{type:"error",name:"TokenFromMismatch",inputs:[]},{type:"error",name:"TokenToIsNotAllowed",inputs:[{name:"token",type:"address",internalType:"contract IERC20"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],pKt="0x60e06040523480156200001157600080fd5b506040516200306738038062003067833981016040819052620000349162000258565b846001600160a01b0381166200006457604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6200006f81620001d4565b506001600160a01b03841615806200008e57506001600160a01b038316155b80620000a157506001600160a01b038216155b80620000b457506001600160a01b038116155b15620000d35760405163f6b2911f60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0386811691821790925584821660805283821660a05290821660c0526040517fdeeca532e75e413fdd750935f0d28d3686b7e2074831c42f70db2ca0dc7b32d090600090a26040516001600160a01b038416907fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038316907f5a3c783d657606d324917524307587fd272edc5e8b257da020bb6072226b6b2c90600090a26040516001600160a01b038216907fb21681281e4a8a2f3a982e391c6e8b4638d9ccd60e9fa9715dc26c7e3cd15bbe90600090a25050505050620002d8565b600180546001600160a01b0319169055620001ef81620001f2565b50565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0381168114620001ef57600080fd5b600080600080600060a086880312156200027157600080fd5b85516200027e8162000242565b6020870151909550620002918162000242565b6040870151909450620002a48162000242565b6060870151909350620002b78162000242565b6080870151909250620002ca8162000242565b809150509295509295909350565b60805160a05160c051612d356200033260003960008181610288015261136801526000818161033201528181610f4601528181610fd601526110010152600081816103a4015281816109120152610cf30152612d356000f3fe6080604052600436106101235760003560e01c8063ab7180f7116100a0578063ea4d3c9b11610064578063ea4d3c9b14610392578063ea9c6555146103c6578063f2fde38b1461040a578063f9eaee0d1461042a578063fcdea7a91461045a57600080fd5b8063ab7180f7146102aa578063b555ddad14610300578063cb2ef5fe14610320578063d691c96414610354578063e30c39781461037457600080fd5b8063715018a6116100e7578063715018a61461020e57806379ba5097146102235780638da5cb5b1461023857806390ef4d1b14610256578063a42ff9311461027657600080fd5b8063059ba4ee1461012f578063178984911461016c5780636451b418146101ac57806367ebd8a2146101ce57806369328dec146101ee57600080fd5b3661012a57005b600080fd5b34801561013b57600080fd5b5060025461014f906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561017857600080fd5b5061019c610187366004611e85565b60046020526000908152604090205460ff1681565b6040519015158152602001610163565b3480156101b857600080fd5b506101cc6101c7366004612108565b61047a565b005b3480156101da57600080fd5b506101cc6101e9366004612281565b61098c565b3480156101fa57600080fd5b506101cc61020936600461229e565b610a05565b34801561021a57600080fd5b506101cc610a1d565b34801561022f57600080fd5b506101cc610a31565b34801561024457600080fd5b506000546001600160a01b031661014f565b34801561026257600080fd5b506101cc61027136600461232b565b610a75565b34801561028257600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b3480156102b657600080fd5b506102f36040518060400160405280601c81526020017f546f6b656e2d57686974656c6973742d4e6f742d456e666f726365640000000081525081565b60405161016391906123e6565b34801561030c57600080fd5b506101cc61031b36600461232b565b610bcb565b34801561032c57600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b61036761036236600461243a565b610ce6565b60405161016391906124df565b34801561038057600080fd5b506001546001600160a01b031661014f565b34801561039e57600080fd5b5061014f7f000000000000000000000000000000000000000000000000000000000000000081565b3480156103d257600080fd5b506102f360405180604001604052806018815260200177151bdad95b8b55da1a5d195b1a5cdd0b515b999bdc98d95960421b81525081565b34801561041657600080fd5b506101cc610425366004612281565b610e1f565b34801561043657600080fd5b5061019c610445366004612281565b60036020526000908152604090205460ff1681565b34801561046657600080fd5b506101cc6104753660046124f2565b610e90565b61048b610486846125b4565b6110ba565b6000808080806104a361049e898061262a565b611194565b94509450945094509450600087519050806000036104d45760405163478bfa6560e01b815260040160405180910390fd5b836001600160a01b0316856001600160a01b03160361050657604051634e570e4560e01b815260040160405180910390fd5b61051285858a8a61132c565b600460008760405160200161052791906123e6565b60408051601f198184030181529181528151602092830120835290820192909252016000205460ff16610578578560405163b55e93d160e01b815260040161056f91906123e6565b60405180910390fd5b336001600160a01b03168860008151811061059557610595612670565b6020026020010151602001516001600160a01b0316146105c85760405163a711bbaf60e01b815260040160405180910390fd5b60003063fcdea7a98888888d6105df60018961269c565b815181106105ef576105ef612670565b602002602001015160200151896106058d6115b4565b8a60405160240161061c97969594939291906126af565b60408051601f19818403018152918152602080830180516001600160e01b031660e09590951b94909417909352805160028082526060820190925291945060009350909182015b60608152602001906001900390816106635790505090508960405160200161068b919061270f565b604051602081830303815290604052816000815181106106ad576106ad612670565b6020908102919091010152600060405190808252806020026020018201604052801561073957816020015b6107266040518060c0016040528060006001600160a01b0316815260200160006001600160a01b03168152602001600080191681526020016060815260200160008152602001606081525090565b8152602001906001900390816106d85790505b5060405160200161074a919061270f565b6040516020818303038152906040528160018151811061076c5761076c612670565b6020908102919091010152604080516002808252606082019092526000918160200160208202803683370190505090506107a4611639565b816000815181106107b7576107b7612670565b6020026020010181815250506107cb611639565b816001815181106107de576107de612670565b602090810291909101015260408051600280825260608201909252600091816020015b60608152602001906001900390816108015790505090506001600160a01b0389166108635761084030886040518060200160405280600081525061164c565b8160008151811061085357610853612670565b60200260200101819052506108d1565b6040513060248201526044810188905260009060640160408051601f198184030181529190526020810180516001600160e01b031663a9059cbb60e01b17905290506108b18a60008361164c565b826000815181106108c4576108c4612670565b6020026020010181905250505b6108dd3060008661164c565b816001815181106108f0576108f0612670565b602090810291909101015260405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061094b90869086908690600401612841565b600060405180830381600087803b15801561096557600080fd5b505af1158015610979573d6000803e3d6000fd5b5050505050505050505050505050505050565b61099461167b565b6001600160a01b0381166109bb5760405163f6b2911f60e01b815260040160405180910390fd5b600280546001600160a01b0319166001600160a01b0383169081179091556040517fdeeca532e75e413fdd750935f0d28d3686b7e2074831c42f70db2ca0dc7b32d090600090a250565b610a0d61167b565b610a188383836116a8565b505050565b610a2561167b565b610a2f60006117a1565b565b60015433906001600160a01b03168114610a695760405163118cdaa760e01b81526001600160a01b038216600482015260240161056f565b610a72816117a1565b50565b610a7d61167b565b82818114610a9e57604051637e26301b60e11b815260040160405180910390fd5b60005b81811015610bc3576000868683818110610abd57610abd612670565b9050602002810190610acf919061262a565b604051602001610ae09291906128d4565b6040516020818303038152906040528051906020012090506000858584818110610b0c57610b0c612670565b9050602002016020810190610b2191906128f0565b60008381526004602052604090205490915060ff16151581151514610bb9576000828152600460205260409020805460ff1916821515179055817ffe89a7e0da76ce9087f67dbe71c999de74699125edabbdd3ef09b42dafdf9e55898986818110610b8e57610b8e612670565b9050602002810190610ba0919061262a565b84604051610bb09392919061290d565b60405180910390a25b5050600101610aa1565b505050505050565b610bd361167b565b82818114610bf457604051637e26301b60e11b815260040160405180910390fd5b60005b81811015610bc3576000868683818110610c1357610c13612670565b9050602002016020810190610c289190612281565b90506000858584818110610c3e57610c3e612670565b9050602002016020810190610c5391906128f0565b6001600160a01b03831660009081526003602052604090205490915060ff16151581151514610cdc576001600160a01b038216600081815260036020908152604091829020805460ff19168515159081179091558251938452908301527fd0847c60d8132f1d2a3af347506243fa046f163a2c9c6698c43b31e1d7d95bc4910160405180910390a15b5050600101610bf7565b6060336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610d3157604051630692ce8160e21b815260040160405180910390fd5b83600881901b6001600160f81b0319821615610d6c57604051632e5bf3f960e21b81526001600160f81b03198316600482015260240161056f565b6001600160f81b0319811615610da1576040516308c3ee0360e11b81526001600160f81b03198216600482015260240161056f565b600080366000610db189896117ba565b6040805160018082528183019092529498509296509094509250816020015b6060815260200190600190039081610dd0579050509650610df38484848461180b565b87600081518110610e0657610e06612670565b60200260200101819052505050505050505b9392505050565b610e2761167b565b600180546001600160a01b0383166001600160a01b03199091168117909155610e586000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b333014610eb0576040516314e1dbf760e11b815260040160405180910390fd5b600083610ebc896115b4565b610ec6919061269c565b905084811015610ee9576040516378dbf0af60e11b815260040160405180910390fd5b84811115610f0557610f0588610eff878461269c565b886116a8565b6000610f10886115b4565b905060006001600160a01b038a16610f29575085610fff565b604051636eb1769f60e11b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166024830152600091908c169063dd62ed3e90604401602060405180830381865afa158015610f99573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fbd9190612933565b905087811015610ffd57610ffd6001600160a01b038c167f0000000000000000000000000000000000000000000000000000000000000000600019611841565b505b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316635f575529828e8e8e8c8b8b6040518863ffffffff1660e01b81526004016110569695949392919061294c565b6000604051808303818588803b15801561106f57600080fd5b505af1158015611083573d6000803e3d6000fd5b50505050506000826110948b6115b4565b61109e919061269c565b90506110ab8a828b6116a8565b50505050505050505050505050565b806020015142106110de57604051630819bdcd60e01b815260040160405180910390fd5b6000816000015182602001516040516020016110fb929190612996565b604051602081830303815290604052805190602001209050600061114c827f19457468657265756d205369676e6564204d6573736167653a0a3332000000006000908152601c91909152603c902090565b9050600061115e8285604001516118cb565b6002549091506001600160a01b0380831691161461118e57604051626d46e960e31b815260040160405180910390fd5b50505050565b60606000808083816111a9600482898b6129b8565b6111b2916129e2565b90506001600160e01b03198116635f57552960e01b146111e557604051632033702760e11b815260040160405180910390fd5b60006111f4886004818c6129b8565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505082519293506112419284016020908101925084019050612a62565b60408051600060208201819052959c50939a50919750955082918291829182910160408051601f1981840301815290829052611281918a90602001612af9565b6040516020818303038152906040528060200190518101906112a39190612b28565b98505097505050955095509550508a6001600160a01b0316856001600160a01b0316146112e3576040516356cf902d60e01b815260040160405180910390fd5b801580156112fa5750886112f78484612be6565b14155b1561131857604051632f0e599760e11b815260040160405180910390fd5b839950505050505050509295509295909350565b60006001835161133c919061269c565b905082818151811061135057611350612670565b60200260200101516060015151600014806113d857507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168382815181106113a2576113a2612670565b6020026020010151606001516000815181106113c0576113c0612670565b6020026020010151600001516001600160a01b031614155b156113f65760405163113f78d160e31b815260040160405180910390fd5b8115611518576001600160a01b03851660009081526003602052604090205460ff166114405760405163550a4b9360e01b81526001600160a01b038616600482015260240161056f565b6001600160a01b03841660009081526003602052604090205460ff166114845760405163022330e760e61b81526001600160a01b038516600482015260240161056f565b60405180604001604052806018815260200177151bdad95b8b55da1a5d195b1a5cdd0b515b999bdc98d95960421b8152506040516020016114c591906123e6565b6040516020818303038152906040528382815181106114e6576114e6612670565b60200260200101516060015160008151811061150457611504612670565b6020026020010151604001819052506115ad565b6040518060400160405280601c81526020017f546f6b656e2d57686974656c6973742d4e6f742d456e666f726365640000000081525060405160200161155e91906123e6565b60405160208183030381529060405283828151811061157f5761157f612670565b60200260200101516060015160008151811061159d5761159d612670565b6020026020010151604001819052505b5050505050565b60006001600160a01b0382166115cb575047919050565b6040516370a0823160e01b81523060048201526001600160a01b038316906370a0823190602401602060405180830381865afa15801561160f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116339190612933565b92915050565b6000611647818080806118f5565b905090565b606083838360405160200161166393929190612bf9565b60405160208183030381529060405290509392505050565b6000546001600160a01b03163314610a2f5760405163118cdaa760e01b815233600482015260240161056f565b6001600160a01b03831661173b576000816001600160a01b03168360405160006040518083038185875af1925050503d8060008114611703576040519150601f19603f3d011682016040523d82523d6000602084013e611708565b606091505b5050905080611735576040516312988bef60e21b81526001600160a01b038316600482015260240161056f565b5061174f565b61174f6001600160a01b0384168284611960565b806001600160a01b0316836001600160a01b03167f2c42af0ac449800f98313b961b8c9e7d69c3065be5b86449ed4c358e01d3a7808460405161179491815260200190565b60405180910390a3505050565b600180546001600160a01b0319169055610a72816119bf565b60008036816117cc60148287896129b8565b6117d591612c38565b60601c93506117e86034601487896129b8565b6117f191612c6b565b925061180085603481896129b8565b949793965094505050565b60405181838237600038838387895af1611828573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b604051636eb1769f60e11b81523060048201526001600160a01b0383811660248301526000919085169063dd62ed3e90604401602060405180830381865afa158015611891573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118b59190612933565b905061118e84846118c68585612be6565b611a0f565b6000806000806118db8686611a9f565b9250925092506118eb8282611aec565b5090949350505050565b604080516001600160f81b03198087166020830152851660218201526000602282018190526001600160e01b03198516602683015269ffffffffffffffffffff198416602a830152910160405160208183030381529060405261195790612c89565b95945050505050565b6040516001600160a01b03838116602483015260448201839052610a1891859182169063a9059cbb906064015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050611ba9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663095ea7b360e01b179052611a608482611c0c565b61118e576040516001600160a01b03848116602483015260006044830152611a9591869182169063095ea7b39060640161198d565b61118e8482611ba9565b60008060008351604103611ad95760208401516040850151606086015160001a611acb88828585611caf565b955095509550505050611ae5565b50508151600091506002905b9250925092565b6000826003811115611b0057611b00612cb0565b03611b09575050565b6001826003811115611b1d57611b1d612cb0565b03611b3b5760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611b4f57611b4f612cb0565b03611b705760405163fce698f760e01b81526004810182905260240161056f565b6003826003811115611b8457611b84612cb0565b03611ba5576040516335e2f38360e21b81526004810182905260240161056f565b5050565b6000611bbe6001600160a01b03841683611d7e565b90508051600014158015611be3575080806020019051810190611be19190612cc6565b155b15610a1857604051635274afe760e01b81526001600160a01b038416600482015260240161056f565b6000806000846001600160a01b031684604051611c299190612ce3565b6000604051808303816000865af19150503d8060008114611c66576040519150601f19603f3d011682016040523d82523d6000602084013e611c6b565b606091505b5091509150818015611c95575080511580611c95575080806020019051810190611c959190612cc6565b80156119575750505050506001600160a01b03163b151590565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115611cea5750600091506003905082611d74565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa158015611d3e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116611d6a57506000925060019150829050611d74565b9250600091508190505b9450945094915050565b6060610e188383600084600080856001600160a01b03168486604051611da49190612ce3565b60006040518083038185875af1925050503d8060008114611de1576040519150601f19603f3d011682016040523d82523d6000602084013e611de6565b606091505b5091509150611df6868383611e00565b9695505050505050565b606082611e1557611e1082611e5c565b610e18565b8151158015611e2c57506001600160a01b0384163b155b15611e5557604051639996b31560e01b81526001600160a01b038516600482015260240161056f565b5080610e18565b805115611e6c5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b600060208284031215611e9757600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b0381118282101715611ed657611ed6611e9e565b60405290565b60405160c081016001600160401b0381118282101715611ed657611ed6611e9e565b604051601f8201601f191681016001600160401b0381118282101715611f2657611f26611e9e565b604052919050565b60006001600160401b03821115611f4757611f47611e9e565b5060051b60200190565b6001600160a01b0381168114610a7257600080fd5b8035611f7181611f51565b919050565b60006001600160401b03821115611f8f57611f8f611e9e565b50601f01601f191660200190565b600082601f830112611fae57600080fd5b8135611fc1611fbc82611f76565b611efe565b818152846020838601011115611fd657600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f83011261200457600080fd5b81356020612014611fbc83611f2e565b82815260059290921b8401810191818101908684111561203357600080fd5b8286015b848110156120e45780356001600160401b03808211156120575760008081fd5b908801906060828b03601f19018113156120715760008081fd5b612079611eb4565b8784013561208681611f51565b81526040848101358481111561209c5760008081fd5b6120aa8e8b83890101611f9d565b838b0152509184013591838311156120c25760008081fd5b6120d08d8a85880101611f9d565b908201528652505050918301918301612037565b509695505050505050565b8015158114610a7257600080fd5b8035611f71816120ef565b60008060006060848603121561211d57600080fd5b83356001600160401b038082111561213457600080fd5b908501906060828803121561214857600080fd5b909350602090858201358181111561215f57600080fd5b8601601f8101881361217057600080fd5b803561217e611fbc82611f2e565b81815260059190911b8201840190848101908a83111561219d57600080fd5b8584015b83811015612262578035868111156121b857600080fd5b850160c0818e03601f190112156121ce57600080fd5b6121d6611edc565b6121e1898301611f66565b81526121ef60408301611f66565b898201526060820135604082015260808201358881111561220f57600080fd5b61221d8f8b83860101611ff3565b60608301525060a0820135608082015260c0820135888111156122405760008081fd5b61224e8f8b83860101611f9d565b60a0830152508452509186019186016121a1565b50809750505050505050612278604085016120fd565b90509250925092565b60006020828403121561229357600080fd5b8135610e1881611f51565b6000806000606084860312156122b357600080fd5b83356122be81611f51565b92506020840135915060408401356122d581611f51565b809150509250925092565b60008083601f8401126122f257600080fd5b5081356001600160401b0381111561230957600080fd5b6020830191508360208260051b850101111561232457600080fd5b9250929050565b6000806000806040858703121561234157600080fd5b84356001600160401b038082111561235857600080fd5b612364888389016122e0565b9096509450602087013591508082111561237d57600080fd5b5061238a878288016122e0565b95989497509550505050565b60005b838110156123b1578181015183820152602001612399565b50506000910152565b600081518084526123d2816020860160208601612396565b601f01601f19169290920160200192915050565b602081526000610e1860208301846123ba565b60008083601f84011261240b57600080fd5b5081356001600160401b0381111561242257600080fd5b60208301915083602082850101111561232457600080fd5b60008060006040848603121561244f57600080fd5b8335925060208401356001600160401b0381111561246c57600080fd5b612478868287016123f9565b9497909650939450505050565b60008282518085526020808601955060208260051b8401016020860160005b848110156124d257601f198684030189526124c08383516123ba565b988401989250908301906001016124a4565b5090979650505050505050565b602081526000610e186020830184612485565b600080600080600080600080600060e08a8c03121561251057600080fd5b89356001600160401b038082111561252757600080fd5b6125338d838e016123f9565b909b50995060208c0135915061254882611f51565b90975060408b01359061255a82611f51565b90965060608b01359061256c82611f51565b90955060808b0135945060a08b0135935060c08b0135908082111561259057600080fd5b5061259d8c828d016123f9565b915080935050809150509295985092959850929598565b6000606082360312156125c657600080fd5b6125ce611eb4565b82356001600160401b03808211156125e557600080fd5b6125f136838701611f9d565b835260208501356020840152604085013591508082111561261157600080fd5b5061261e36828601611f9d565b60408301525092915050565b6000808335601e1984360301811261264157600080fd5b8301803591506001600160401b0382111561265b57600080fd5b60200191503681900382131561232457600080fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561163357611633612686565b60e0815260006126c260e083018a6123ba565b6001600160a01b0389811660208501528881166040850152871660608401526080830186905260a0830185905282810360c084015261270181856123ba565b9a9950505050505050505050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b8281101561283457603f19888603018452815160c0860160018060a01b038083511688528089840151168989015260408301516040890152606083015160c060608a015282815180855260e08b01915060e08160051b8c010194508b8301925060005b818110156127f85760df198c870301835283518581511687528d81015160608f8901526127c960608901826123ba565b90506040820151915087810360408901526127e481836123ba565b97505050928c0192918c0191600101612799565b50505050506080820151608088015260a0820151915086810360a088015261282081836123ba565b965050509285019290850190600101612736565b5092979650505050505050565b6060815260006128546060830186612485565b82810360208481019190915285518083528682019282019060005b8181101561288b5784518352938301939183019160010161286f565b5050848103604086015261289f8187612485565b98975050505050505050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6020815260006128e86020830184866128ab565b949350505050565b60006020828403121561290257600080fd5b8135610e18816120ef565b6040815260006129216040830185876128ab565b90508215156020830152949350505050565b60006020828403121561294557600080fd5b5051919050565b60808152600061296060808301888a6128ab565b6001600160a01b03871660208401526040830186905282810360608401526129898185876128ab565b9998505050505050505050565b6040815260006129a960408301856123ba565b90508260208301529392505050565b600080858511156129c857600080fd5b838611156129d557600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015612a0a5780818660040360031b1b83161692505b505092915050565b6000612a20611fbc84611f76565b9050828152838383011115612a3457600080fd5b610e18836020830184612396565b600082601f830112612a5357600080fd5b610e1883835160208501612a12565b60008060008060808587031215612a7857600080fd5b84516001600160401b0380821115612a8f57600080fd5b818701915087601f830112612aa357600080fd5b612ab288835160208501612a12565b955060208701519150612ac482611f51565b60408701516060880151929550935080821115612ae057600080fd5b50612aed87828801612a42565b91505092959194509250565b60008351612b0b818460208801612396565b835190830190612b1f818360208801612396565b01949350505050565b60008060008060008060008060006101208a8c031215612b4757600080fd5b8951612b5281611f51565b60208b0151909950612b6381611f51565b60408b0151909850612b7481611f51565b8097505060608a0151955060808a0151945060a08a01516001600160401b03811115612b9f57600080fd5b612bab8c828d01612a42565b94505060c08a0151925060e08a0151612bc381611f51565b6101008b0151909250612bd5816120ef565b809150509295985092959850929598565b8082018082111561163357611633612686565b6bffffffffffffffffffffffff198460601b16815282601482015260008251612c29816034850160208701612396565b91909101603401949350505050565b6bffffffffffffffffffffffff198135818116916014851015612a0a5760149490940360031b84901b1690921692915050565b8035602083101561163357600019602084900360031b1b1692915050565b80516020808301519190811015612caa576000198160200360031b1b821691505b50919050565b634e487b7160e01b600052602160045260246000fd5b600060208284031215612cd857600080fd5b8151610e18816120ef565b60008251612cf5818460208701612396565b919091019291505056fea2646970667358221220e6349ea62bd7b0c0d8eed7da3947908c16ca3383370cc10da3a8b2b40c83b05264736f6c63430008170033",hKt={};Le(hKt,{abi:()=>mKt,bytecode:()=>bKt});mKt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"blockAfterThreshold_",type:"uint128",internalType:"uint128"},{name:"blockBeforeThreshold_",type:"uint128",internalType:"uint128"}],stateMutability:"pure"}],bKt="0x608060405234801561001057600080fd5b506104ed806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610345565b50505050505050505050565b005b610076610086366004610345565b6100c2565b61009e610099366004610412565b61023e565b604080516001600160801b0393841681529290911660208301520160405180910390f35b85600881901b6001600160f81b03198116156101335760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806101418d8d61023e565b90925090506001600160801b038216156101b957816001600160801b031643116101b95760405162461bcd60e51b8152602060048201526024808201527f426c6f636b4e756d626572456e666f726365723a6561726c792d64656c6567616044820152633a34b7b760e11b606482015260840161012a565b6001600160801b0381161561022f57806001600160801b0316431061022f5760405162461bcd60e51b815260206004820152602660248201527f426c6f636b4e756d626572456e666f726365723a657870697265642d64656c6560448201526533b0ba34b7b760d11b606482015260840161012a565b50505050505050505050505050565b600080602083146102a25760405162461bcd60e51b815260206004820152602860248201527f426c6f636b4e756d626572456e666f726365723a696e76616c69642d7465726d6044820152670e65ad8cadccee8d60c31b606482015260840161012a565b6102b0601060008587610454565b6102b99161047e565b60801c91506102cb8360108187610454565b6102d49161047e565b60801c90509250929050565b60008083601f8401126102f257600080fd5b50813567ffffffffffffffff81111561030a57600080fd5b60208301915083602082850101111561032257600080fd5b9250929050565b80356001600160a01b038116811461034057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561036457600080fd5b8a3567ffffffffffffffff8082111561037c57600080fd5b6103888e838f016102e0565b909c509a5060208d01359150808211156103a157600080fd5b6103ad8e838f016102e0565b909a50985060408d0135975060608d01359150808211156103cd57600080fd5b506103da8d828e016102e0565b90965094505060808b013592506103f360a08c01610329565b915061040160c08c01610329565b90509295989b9194979a5092959850565b6000806020838503121561042557600080fd5b823567ffffffffffffffff81111561043c57600080fd5b610448858286016102e0565b90969095509350505050565b6000808585111561046457600080fd5b8386111561047157600080fd5b5050820193919092039150565b6fffffffffffffffffffffffffffffffff1981358181169160108510156104af5780818660100360031b1b83161692505b50509291505056fea2646970667358221220e786ddc75b5e54c089f23ff0a2c6c7b67417725b5021ebc3aa3b2726c852e6cb64736f6c63430008170033",yKt={};Le(yKt,{abi:()=>gKt,bytecode:()=>wKt});gKt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"computeAddress",inputs:[{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"expectedAddress_",type:"address",internalType:"address"},{name:"salt_",type:"bytes32",internalType:"bytes32"},{name:"bytecode_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"},{type:"event",name:"DeployedContract",inputs:[{name:"contractAddress",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"SkippedDeployment",inputs:[{name:"contractAddress",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"DeployedEmptyContract",inputs:[{name:"contractAddress",type:"address",internalType:"address"}]}],wKt="0x608060405234801561001057600080fd5b50610748806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063481286e614610083578063a145832a146100b3578063b99deb0e146100c6578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046104fe565b50505050505050505050565b005b6100966100913660046105cb565b6100e8565b6040516001600160a01b0390911681526020015b60405180910390f35b6100816100c13660046104fe565b6100fd565b6100d96100d43660046105ed565b61026d565b6040516100aa9392919061062f565b60006100f48284610353565b90505b92915050565b85600881901b6001600160f81b031981161561016e5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b50600080600061017e8e8e61026d565b919450925090506001600160a01b0383163b156101d9576040516001600160a01b03841681527f641dafeb23238fae3ef71c64fced975da90c34dede63890507f3dda6b1e0dfef9060200160405180910390a1505050610260565b60006101e58284610360565b9050836001600160a01b0316816001600160a01b03161461025b5760405162461bcd60e51b815260206004820152602a60248201527f4465706c6f796564456e666f726365723a6465706c6f7965642d6164647265736044820152690e65adad2e6dac2e8c6d60b31b6064820152608401610165565b505050505b5050505050505050505050565b6000806060603484116102d05760405162461bcd60e51b815260206004820152602560248201527f4465706c6f796564456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b6064820152608401610165565b6102de601460008688610695565b6102e7916106bf565b60601c92506102fa603460148688610695565b610303916106f4565b91506103128460348188610695565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509598949750919550929350505050565b60006100f48383306103e8565b600061036e60008385610412565b9050806001600160a01b03163b6000036103a6576040516352c7cd4960e11b81526001600160a01b0382166004820152602401610165565b6040516001600160a01b03821681527faf3c4b03f515b5a38f3c238fdc24abf10854a2f27f2a85743a71de17e9bc7e7f9060200160405180910390a192915050565b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b60008347101561043e5760405163392efb2b60e21b815247600482015260248101859052604401610165565b815160000361046057604051631328927760e21b815260040160405180910390fd5b8282516020840186f590506001600160a01b03811661049257604051633a0ba96160e11b815260040160405180910390fd5b9392505050565b60008083601f8401126104ab57600080fd5b50813567ffffffffffffffff8111156104c357600080fd5b6020830191508360208285010111156104db57600080fd5b9250929050565b80356001600160a01b03811681146104f957600080fd5b919050565b60008060008060008060008060008060e08b8d03121561051d57600080fd5b8a3567ffffffffffffffff8082111561053557600080fd5b6105418e838f01610499565b909c509a5060208d013591508082111561055a57600080fd5b6105668e838f01610499565b909a50985060408d0135975060608d013591508082111561058657600080fd5b506105938d828e01610499565b90965094505060808b013592506105ac60a08c016104e2565b91506105ba60c08c016104e2565b90509295989b9194979a5092959850565b600080604083850312156105de57600080fd5b50508035926020909101359150565b6000806020838503121561060057600080fd5b823567ffffffffffffffff81111561061757600080fd5b61062385828601610499565b90969095509350505050565b60018060a01b03841681526000602084602084015260606040840152835180606085015260005b8181101561067257858101830151858201608001528201610656565b506000608082860101526080601f19601f83011685010192505050949350505050565b600080858511156106a557600080fd5b838611156106b257600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106ec5780818660140360031b1b83161692505b505092915050565b803560208310156100f757600019602084900360031b1b169291505056fea264697066735822122012632a27b82f8f9b4b083a1f26c705dcd1ceb840e52519ff7902232eb956870464736f6c63430008170033",vKt={};Le(vKt,{abi:()=>EKt,bytecode:()=>xKt});EKt=[],xKt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212201124664c489cae3f1f240552ace1b72f497b65d8c9bdbce66e0c2b36268dcd2c64736f6c63430008170033",AKt={};Le(AKt,{abi:()=>TKt,bytecode:()=>_Kt});TKt=[{type:"receive",stateMutability:"payable"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"InvalidEIP712NameLength",inputs:[]},{type:"error",name:"InvalidEIP712VersionLength",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UnauthorizedCallContext",inputs:[]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],_Kt="0x",SKt={};Le(SKt,{abi:()=>IKt,bytecode:()=>CKt});IKt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_recipient",type:"address",internalType:"address"},{name:"_tokenId",type:"uint256",internalType:"uint256"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"tokenId_",type:"uint256",internalType:"uint256"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],CKt="0x608060405234801561001057600080fd5b506109cb806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b99deb0e1161005b578063b99deb0e14610122578063d0a3529f1461016b578063d3eddcc51461017e578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c5578063a145832a146100e1578063b5e54492146100f4575b600080fd5b6100b061009b3660046106cb565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610749565b50505050505050505050565b005b6100df6100ef366004610749565b610191565b6101146101023660046106cb565b60006020819052908152604090205481565b6040519081526020016100bc565b610135610130366004610816565b610350565b6040805195151586526001600160a01b03948516602087015292909316918401919091526060830152608082015260a0016100bc565b610114610179366004610858565b61045d565b6100df61018c366004610749565b610476565b85600881901b6101a2816000610661565b6102015760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060008060006102118e8e610350565b50935093509350506000610228338585858c610678565b60008181526001602052604090205490915060ff16156102a25760405162461bcd60e51b815260206004820152602f60248201527f4552433131353542616c616e63654368616e6765456e666f726365723a656e6660448201526e1bdc98d95c8b5a5ccb5b1bd8dad959608a1b60648201526084016101f8565b6000818152600160208190526040808320805460ff191690921790915551627eeac760e11b81526001600160a01b0385811660048301526024820185905286169062fdd58e90604401602060405180830381865afa158015610308573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061032c91906108ad565b60009283526020839052604090922091909155505050505050505050505050505050565b600080808080606986146103c05760405162461bcd60e51b815260206004820152603160248201527f4552433131353542616c616e63654368616e6765456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101f8565b868660008181106103d3576103d36108c6565b909101356001600160f81b031916151595506103f5905060156001888a6108dc565b6103fe91610906565b60601c935061041160296015888a6108dc565b61041a91610906565b60601c925061042d60496029888a6108dc565b6104369161093b565b9150610445866049818a6108dc565b61044e9161093b565b60001c90509295509295909350565b600061046c8686868686610678565b9695505050505050565b60008060008060006104888f8f610350565b9450945094509450945060006104a1338686868d610678565b600081815260016020526040808220805460ff1916905551627eeac760e11b81526001600160a01b03878116600483015260248201879052929350909187169062fdd58e90604401602060405180830381865afa158015610506573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061052a91906108ad565b905086156105bf5760008281526020819052604090205461054c90849061096f565b8110156105ba5760405162461bcd60e51b815260206004820152603660248201527f4552433131353542616c616e63654368616e6765456e666f726365723a65786360448201527565656465642d62616c616e63652d646563726561736560501b60648201526084016101f8565b61064e565b6000828152602081905260409020546105d9908490610982565b81101561064e5760405162461bcd60e51b815260206004820152603a60248201527f4552433131353542616c616e63654368616e6765456e666f726365723a696e7360448201527f756666696369656e742d62616c616e63652d696e63726561736500000000000060648201526084016101f8565b5050505050505050505050505050505050565b6001600160f81b0319828116908216145b92915050565b604080516001600160a01b0396871660208083019190915295871681830152939095166060840152608083019190915260a0808301919091528351808303909101815260c0909101909252815191012090565b6000602082840312156106dd57600080fd5b5035919050565b60008083601f8401126106f657600080fd5b50813567ffffffffffffffff81111561070e57600080fd5b60208301915083602082850101111561072657600080fd5b9250929050565b80356001600160a01b038116811461074457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561076857600080fd5b8a3567ffffffffffffffff8082111561078057600080fd5b61078c8e838f016106e4565b909c509a5060208d01359150808211156107a557600080fd5b6107b18e838f016106e4565b909a50985060408d0135975060608d01359150808211156107d157600080fd5b506107de8d828e016106e4565b90965094505060808b013592506107f760a08c0161072d565b915061080560c08c0161072d565b90509295989b9194979a5092959850565b6000806020838503121561082957600080fd5b823567ffffffffffffffff81111561084057600080fd5b61084c858286016106e4565b90969095509350505050565b600080600080600060a0868803121561087057600080fd5b6108798661072d565b94506108876020870161072d565b93506108956040870161072d565b94979396509394606081013594506080013592915050565b6000602082840312156108bf57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b600080858511156108ec57600080fd5b838611156108f957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156109335780818660140360031b1b83161692505b505092915050565b8035602083101561067257600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561067257610672610959565b808201808211156106725761067261095956fea264697066735822122095ab63871cc701b6845065f3118822a1bb1778b7d93ba045a40145ebc06f19af64736f6c63430008170033",I0={};Le(I0,{abi:()=>RKt,bytecode:()=>PKt});RKt=[{type:"constructor",inputs:[{name:"_owner",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"ANY_DELEGATE",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"ROOT_AUTHORITY",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disabledDelegations",inputs:[{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"isDisabled",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDelegationHash",inputs:[{name:"_input",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DisabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"EnabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"RedeemedDelegation",inputs:[{name:"rootDelegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"SetDomain",inputs:[{name:"domainHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"domainVersion",type:"string",indexed:!1,internalType:"string"},{name:"chainId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"contractAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadyDisabled",inputs:[]},{type:"error",name:"AlreadyEnabled",inputs:[]},{type:"error",name:"BatchDataLengthMismatch",inputs:[]},{type:"error",name:"CannotUseADisabledDelegation",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"EmptySignature",inputs:[]},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]},{type:"error",name:"InvalidAuthority",inputs:[]},{type:"error",name:"InvalidDelegate",inputs:[]},{type:"error",name:"InvalidDelegator",inputs:[]},{type:"error",name:"InvalidEOASignature",inputs:[]},{type:"error",name:"InvalidERC1271Signature",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],PKt="0x6101606040523480156200001257600080fd5b506040516200334f3803806200334f833981016040819052620000359162000384565b60408051808201825260118152702232b632b3b0ba34b7b726b0b730b3b2b960791b602080830191909152825180840190935260018352603160f81b9083015290826001600160a01b038116620000a757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b620000b28162000204565b506001805460ff60a01b19169055620000cd82600262000222565b61012052620000de81600362000222565b61014052815160208084019190912060e052815190820120610100524660a0526200015b60e05161010051604080516000805160206200332f83398151915260208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c0526000620001706200025b565b9050306001600160a01b0316817f04a46d9007577c7ff1e513b900545162ec25d25991ae3dc60cf26ec01a84806d604051806040016040528060118152602001702232b632b3b0ba34b7b726b0b730b3b2b960791b815250604051806040016040528060018152602001603160f81b81525046604051620001f493929190620003fe565b60405180910390a35050620005e5565b600180546001600160a01b03191690556200021f81620002f1565b50565b600060208351101562000242576200023a8362000341565b905062000255565b816200024f8482620004df565b5060ff90505b92915050565b600060c0516001600160a01b0316306001600160a01b031614801562000282575060a05146145b156200028f575060805190565b620002ec60e05161010051604080516000805160206200332f83398151915260208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b905090565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600080829050601f815111156200036f578260405163305a27a960e01b81526004016200009e9190620005ab565b80516200037c82620005c0565b179392505050565b6000602082840312156200039757600080fd5b81516001600160a01b0381168114620003af57600080fd5b9392505050565b6000815180845260005b81811015620003de57602081850181015186830182015201620003c0565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000620004136060830186620003b6565b8281036020840152620004278186620003b6565b915050826040830152949350505050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200046357607f821691505b6020821081036200048457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620004da576000816000526020600020601f850160051c81016020861015620004b55750805b601f850160051c820191505b81811015620004d657828155600101620004c1565b5050505b505050565b81516001600160401b03811115620004fb57620004fb62000438565b62000513816200050c84546200044e565b846200048a565b602080601f8311600181146200054b5760008415620005325750858301515b600019600386901b1c1916600185901b178555620004d6565b600085815260208120601f198616915b828110156200057c578886015182559484019460019091019084016200055b565b50858210156200059b5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b602081526000620003af6020830184620003b6565b80516020808301519190811015620004845760001960209190910360031b1b16919050565b60805160a05160c05160e051610100516101205161014051612cef620006406000396000611bda01526000611bad01526000611b1201526000611aea01526000611a4501526000611a6f01526000611a990152612cef6000f3fe608060405234801561001057600080fd5b506004361061012c5760003560e01c806383ebb771116100ad578063acb8cc4911610071578063acb8cc491461027f578063cef6d2091461029f578063e30c3978146102b2578063f2fde38b146102c3578063ffa1ad74146102d657600080fd5b806383ebb771146102065780638456cb591461020e57806384b0196e146102165780638da5cb5b14610231578063a3f4df7e1461024257600080fd5b806358909ebc116100f457806358909ebc146101b05780635c975abb146101d157806366134607146101e3578063715018a6146101f657806379ba5097146101fe57600080fd5b80631b13cac2146101315780632d40d0521461014d5780633ed01015146101805780633f4ba83a14610195578063499340471461019d575b600080fd5b61013a60001981565b6040519081526020015b60405180910390f35b61017061015b3660046120e6565b60046020526000908152604090205460ff1681565b6040519015158152602001610144565b61019361018e3660046120ff565b6102fa565b005b6101936103f4565b6101936101ab3660046120ff565b610406565b6101b9610a1181565b6040516001600160a01b039091168152602001610144565b600154600160a01b900460ff16610170565b61013a6101f13660046120ff565b6104f6565b61019361050f565b610193610521565b61013a61056a565b610193610579565b61021e610589565b6040516101449796959493929190612190565b6000546001600160a01b03166101b9565b610272604051806040016040528060118152602001702232b632b3b0ba34b7b726b0b730b3b2b960791b81525081565b6040516101449190612229565b610272604051806040016040528060018152602001603160f81b81525081565b6101936102ad366004612287565b6105cf565b6001546001600160a01b03166101b9565b6101936102d136600461233c565b611891565b610272604051806040016040528060058152602001640312e332e360dc1b81525081565b61030a604082016020830161233c565b6001600160a01b03811633146103335760405163b9f0f17160e01b815260040160405180910390fd5b600061033e836104f6565b60008181526004602052604090205490915060ff1661037057604051637952fbad60e11b815260040160405180910390fd5b6000818152600460209081526040909120805460ff191690556103959084018461233c565b6001600160a01b03166103ae604085016020860161233c565b6001600160a01b0316827f3feadce88fc1b49db633a56fd5307ed6ee18734df83bcc4011daa720c9cd95f1866040516103e79190612484565b60405180910390a4505050565b6103fc611902565b61040461192f565b565b610416604082016020830161233c565b6001600160a01b038116331461043f5760405163b9f0f17160e01b815260040160405180910390fd5b600061044a836104f6565b60008181526004602052604090205490915060ff161561047c57604051625ecddb60e01b815260040160405180910390fd5b6000818152600460209081526040909120805460ff191660011790556104a49084018461233c565b6001600160a01b03166104bd604085016020860161233c565b6001600160a01b0316827fea589ba9473ee1fe77d352c7ed919747715a5d22931b972de9b02a907c66d5dd866040516103e79190612484565b600061050961050483612823565b611984565b92915050565b610517611902565b6104046000611a1f565b60015433906001600160a01b0316811461055e5760405163118cdaa760e01b81526001600160a01b03821660048201526024015b60405180910390fd5b61056781611a1f565b50565b6000610574611a38565b905090565b610581611902565b610404611b63565b60006060806000806000606061059d611ba6565b6105a5611bd3565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b6105d7611c00565b8481811415806105e75750808414155b1561060557604051631bcaf69f60e01b815260040160405180910390fd5b6000816001600160401b0381111561061f5761061f612555565b60405190808252806020026020018201604052801561065257816020015b606081526020019060019003908161063d5790505b5090506000826001600160401b0381111561066f5761066f612555565b6040519080825280602002602001820160405280156106a257816020015b606081526020019060019003908161068d5790505b50905060005b83811015610c815760008a8a838181106106c4576106c461282f565b90506020028101906106d69190612845565b8101906106e3919061288b565b905080516000036107d1576040805160008082526020820190925290610765565b6107526040518060c0016040528060006001600160a01b0316815260200160006001600160a01b03168152602001600080191681526020016060815260200160008152602001606081525090565b8152602001906001900390816107045790505b508483815181106107785761077861282f565b602090810291909101015260006040519080825280602002602001820160405280156107ae578160200160208202803683370190505b508383815181106107c1576107c161282f565b6020026020010181905250610c78565b808483815181106107e4576107e461282f565b6020026020010181905250600081516001600160401b0381111561080a5761080a612555565b604051908082528060200260200182016040528015610833578160200160208202803683370190505b509050808484815181106108495761084961282f565b6020026020010181905250336001600160a01b0316826000815181106108715761087161282f565b6020026020010151600001516001600160a01b0316141580156108c65750610a116001600160a01b0316826000815181106108ae576108ae61282f565b6020026020010151600001516001600160a01b031614155b156108e457604051632d618d8160e21b815260040160405180910390fd5b60005b8251811015610ab55760008382815181106109045761090461282f565b6020026020010151905061091781611984565b8383815181106109295761092961282f565b60200260200101818152505080602001516001600160a01b03163b6000036109dc57600061099e61099461095b61056a565b86868151811061096d5761096d61282f565b602002602001015160405161190160f01b8152600281019290925260228201526042902090565b8360a00151611c2b565b905081602001516001600160a01b0316816001600160a01b0316146109d657604051630f6d9e4760e21b815260040160405180910390fd5b50610aac565b60006109fb6109e961056a565b85858151811061096d5761096d61282f565b9050600082602001516001600160a01b0316631626ba7e838560a001516040518363ffffffff1660e01b8152600401610a3592919061293b565b602060405180830381865afa158015610a52573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a76919061295c565b6001600160e01b0319169050630b135d3f60e11b8114610aa95760405163155ff42760e01b815260040160405180910390fd5b50505b506001016108e7565b5060005b8251811015610c755760046000838381518110610ad857610ad861282f565b60209081029190910181015182528101919091526040016000205460ff1615610b14576040516302dd502960e11b815260040160405180910390fd5b60018351610b22919061299c565b8114610c2b5781610b348260016129af565b81518110610b4457610b4461282f565b6020026020010151838281518110610b5e57610b5e61282f565b60200260200101516040015114610b8857604051636f6a1b8760e11b815260040160405180910390fd5b600083610b968360016129af565b81518110610ba657610ba661282f565b6020026020010151600001519050610a116001600160a01b0316816001600160a01b031614158015610c075750806001600160a01b0316848381518110610bef57610bef61282f565b6020026020010151602001516001600160a01b031614155b15610c2557604051632d618d8160e21b815260040160405180910390fd5b50610c6d565b60001960001b838281518110610c4357610c4361282f565b60200260200101516040015114610c6d57604051636f6a1b8760e11b815260040160405180910390fd5b600101610ab9565b50505b506001016106a8565b5060005b83811015610ea6576000838281518110610ca157610ca161282f565b6020026020010151511115610e9e5760005b838281518110610cc557610cc561282f565b602002602001015151811015610e9c576000848381518110610ce957610ce961282f565b60200260200101518281518110610d0257610d0261282f565b602002602001015160600151905060005b8151811015610e92576000828281518110610d3057610d3061282f565b6020026020010151600001519050806001600160a01b031663414c3e33848481518110610d5f57610d5f61282f565b602002602001015160200151858581518110610d7d57610d7d61282f565b6020026020010151604001518f8f8a818110610d9b57610d9b61282f565b905060200201358e8e8b818110610db457610db461282f565b9050602002810190610dc69190612845565b8c8c81518110610dd857610dd861282f565b60200260200101518b81518110610df157610df161282f565b60200260200101518e8d81518110610e0b57610e0b61282f565b60200260200101518c81518110610e2457610e2461282f565b602002602001015160200151336040518963ffffffff1660e01b8152600401610e549897969594939291906129c2565b600060405180830381600087803b158015610e6e57600080fd5b505af1158015610e82573d6000803e3d6000fd5b5050505050806001019050610d13565b5050600101610cb3565b505b600101610c85565b5060005b838110156114ca57828181518110610ec457610ec461282f565b602002602001015151600003610f82573363d691c964898984818110610eec57610eec61282f565b90506020020135888885818110610f0557610f0561282f565b9050602002810190610f179190612845565b6040518463ffffffff1660e01b8152600401610f3593929190612a2d565b6000604051808303816000875af1158015610f54573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610f7c9190810190612a50565b506114c2565b60005b838281518110610f9757610f9761282f565b60200260200101515181101561116e576000848381518110610fbb57610fbb61282f565b60200260200101518281518110610fd457610fd461282f565b602002602001015160600151905060005b81518110156111645760008282815181106110025761100261282f565b6020026020010151600001519050806001600160a01b031663a145832a8484815181106110315761103161282f565b60200260200101516020015185858151811061104f5761104f61282f565b6020026020010151604001518f8f8a81811061106d5761106d61282f565b905060200201358e8e8b8181106110865761108661282f565b90506020028101906110989190612845565b8c8c815181106110aa576110aa61282f565b60200260200101518b815181106110c3576110c361282f565b60200260200101518e8d815181106110dd576110dd61282f565b60200260200101518c815181106110f6576110f661282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016111269897969594939291906129c2565b600060405180830381600087803b15801561114057600080fd5b505af1158015611154573d6000803e3d6000fd5b5050505050806001019050610fe5565b5050600101610f85565b508281815181106111815761118161282f565b6020026020010151600184838151811061119d5761119d61282f565b6020026020010151516111b0919061299c565b815181106111c0576111c061282f565b6020026020010151602001516001600160a01b031663d691c9648989848181106111ec576111ec61282f565b905060200201358888858181106112055761120561282f565b90506020028101906112179190612845565b6040518463ffffffff1660e01b815260040161123593929190612a2d565b6000604051808303816000875af1158015611254573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261127c9190810190612a50565b5060008382815181106112915761129161282f565b60200260200101515190505b80156114c05760008483815181106112b7576112b761282f565b60200260200101516001836112cc919061299c565b815181106112dc576112dc61282f565b60200260200101516060015190506000815190505b80156114ad5760008261130560018461299c565b815181106113155761131561282f565b6020026020010151600001519050806001600160a01b031663d3eddcc584600185611340919061299c565b815181106113505761135061282f565b6020026020010151602001518560018661136a919061299c565b8151811061137a5761137a61282f565b6020026020010151604001518f8f8a8181106113985761139861282f565b905060200201358e8e8b8181106113b1576113b161282f565b90506020028101906113c39190612845565b8c8c815181106113d5576113d561282f565b602002602001015160018c6113ea919061299c565b815181106113fa576113fa61282f565b60200260200101518e8d815181106114145761141461282f565b602002602001015160018d611429919061299c565b815181106114395761143961282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016114699897969594939291906129c2565b600060405180830381600087803b15801561148357600080fd5b505af1158015611497573d6000803e3d6000fd5b5050505050806114a690612b2f565b90506112f1565b5050806114b990612b2f565b905061129d565b505b600101610eaa565b5060005b838110156117465760008382815181106114ea576114ea61282f565b602002602001015151111561173e57600083828151811061150d5761150d61282f565b60200260200101515190505b801561173c5760008483815181106115335761153361282f565b6020026020010151600183611548919061299c565b815181106115585761155861282f565b60200260200101516060015190506000815190505b80156117295760008261158160018461299c565b815181106115915761159161282f565b6020026020010151600001519050806001600160a01b031663ed463367846001856115bc919061299c565b815181106115cc576115cc61282f565b602002602001015160200151856001866115e6919061299c565b815181106115f6576115f661282f565b6020026020010151604001518f8f8a8181106116145761161461282f565b905060200201358e8e8b81811061162d5761162d61282f565b905060200281019061163f9190612845565b8c8c815181106116515761165161282f565b602002602001015160018c611666919061299c565b815181106116765761167661282f565b60200260200101518e8d815181106116905761169061282f565b602002602001015160018d6116a5919061299c565b815181106116b5576116b561282f565b602002602001015160200151336040518963ffffffff1660e01b81526004016116e59897969594939291906129c2565b600060405180830381600087803b1580156116ff57600080fd5b505af1158015611713573d6000803e3d6000fd5b50505050508061172290612b2f565b905061156d565b50508061173590612b2f565b9050611519565b505b6001016114ce565b5060005b838110156118855760008382815181106117665761176661282f565b602002602001015151111561187d5760005b83828151811061178a5761178a61282f565b60200260200101515181101561187b57336001600160a01b03168483815181106117b6576117b661282f565b602002602001015160018685815181106117d2576117d261282f565b6020026020010151516117e5919061299c565b815181106117f5576117f561282f565b6020026020010151602001516001600160a01b03167f40dadaa36c6c2e3d7317e24757451ffb2d603d875f0ad5e92c5dd156573b187386858151811061183d5761183d61282f565b602002602001015184815181106118565761185661282f565b602002602001015160405161186b9190612b46565b60405180910390a3600101611778565b505b60010161174a565b50505050505050505050565b611899611902565b600180546001600160a01b0383166001600160a01b031990911681179091556118ca6000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b6000546001600160a01b031633146104045760405163118cdaa760e01b8152336004820152602401610555565b611937611c55565b6001805460ff60a01b191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b6000807f88c1d2ecf185adf710588203a5f263f0ff61be0d33da39792cde19ba9aa4331e8360000151846020015185604001516119c48760600151611c7f565b6080808901516040805160208101989098526001600160a01b03968716908801529490931660608601529184015260a083015260c082015260e0015b60408051601f1981840301815291905280516020909101209392505050565b600180546001600160a01b031916905561056781611d4a565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611a9157507f000000000000000000000000000000000000000000000000000000000000000046145b15611abb57507f000000000000000000000000000000000000000000000000000000000000000090565b610574604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b611b6b611c00565b6001805460ff60a01b1916600160a01b1790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586119673390565b60606105747f00000000000000000000000000000000000000000000000000000000000000006002611d9a565b60606105747f00000000000000000000000000000000000000000000000000000000000000006003611d9a565b600154600160a01b900460ff16156104045760405163d93c066560e01b815260040160405180910390fd5b600080600080611c3b8686611e45565b925092509250611c4b8282611e92565b5090949350505050565b600154600160a01b900460ff1661040457604051638dfc202b60e01b815260040160405180910390fd5b60008082516001600160401b03811115611c9b57611c9b612555565b604051908082528060200260200182016040528015611cc4578160200160208202803683370190505b50905060005b8351811015611d1a57611cf5848281518110611ce857611ce861282f565b6020026020010151611f4f565b828281518110611d0757611d0761282f565b6020908102919091010152600101611cca565b5080604051602001611d2c9190612c33565b60405160208183030381529060405280519060200120915050919050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b606060ff8314611db457611dad83611fb0565b9050610509565b818054611dc090612c69565b80601f0160208091040260200160405190810160405280929190818152602001828054611dec90612c69565b8015611e395780601f10611e0e57610100808354040283529160200191611e39565b820191906000526020600020905b815481529060010190602001808311611e1c57829003601f168201915b50505050509050610509565b60008060008351604103611e7f5760208401516040850151606086015160001a611e7188828585611fef565b955095509550505050611e8b565b50508151600091506002905b9250925092565b6000826003811115611ea657611ea6612ca3565b03611eaf575050565b6001826003811115611ec357611ec3612ca3565b03611ee15760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611ef557611ef5612ca3565b03611f165760405163fce698f760e01b815260048101829052602401610555565b6003826003811115611f2a57611f2a612ca3565b03611f4b576040516335e2f38360e21b815260048101829052602401610555565b5050565b6000807f80ad7e1b04ee6d994a125f4714ca0720908bd80ed16063ec8aee4b88e9253e2d8360000151846020015180519060200120604051602001611a00939291909283526001600160a01b03919091166020830152604082015260600190565b60606000611fbd836120be565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a084111561202a57506000915060039050826120b4565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa15801561207e573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166120aa575060009250600191508290506120b4565b9250600091508190505b9450945094915050565b600060ff8216601f81111561050957604051632cd44ac360e21b815260040160405180910390fd5b6000602082840312156120f857600080fd5b5035919050565b60006020828403121561211157600080fd5b81356001600160401b0381111561212757600080fd5b820160c0818503121561213957600080fd5b9392505050565b60005b8381101561215b578181015183820152602001612143565b50506000910152565b6000815180845261217c816020860160208601612140565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e060208401526121b160e084018a612164565b83810360408501526121c3818a612164565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b81811015612217578351835292840192918401916001016121fb565b50909c9b505050505050505050505050565b6020815260006121396020830184612164565b60008083601f84011261224e57600080fd5b5081356001600160401b0381111561226557600080fd5b6020830191508360208260051b850101111561228057600080fd5b9250929050565b600080600080600080606087890312156122a057600080fd5b86356001600160401b03808211156122b757600080fd5b6122c38a838b0161223c565b909850965060208901359150808211156122dc57600080fd5b6122e88a838b0161223c565b9096509450604089013591508082111561230157600080fd5b5061230e89828a0161223c565b979a9699509497509295939492505050565b80356001600160a01b038116811461233757600080fd5b919050565b60006020828403121561234e57600080fd5b61213982612320565b6000808335601e1984360301811261236e57600080fd5b83016020810192503590506001600160401b0381111561238d57600080fd5b80360382131561228057600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561247657858403601f19018a52823536899003605e19018112612404578283fd5b880160606001600160a01b0361241983612320565b16865261242887830183612357565b828989015261243a838901828461239c565b92505050604061244c81840184612357565b93508783038289015261246083858361239c565b9d89019d975050509386019350506001016123df565b509198975050505050505050565b6020815260006001600160a01b038061249c85612320565b166020840152806124af60208601612320565b16604084015250604083013560608301526060830135601e198436030181126124d757600080fd5b83016020810190356001600160401b038111156124f357600080fd5b8060051b360382131561250557600080fd5b60c0608085015261251a60e0850182846123c5565b915050608084013560a084015261253460a0850185612357565b848303601f190160c086015261254b83828461239c565b9695505050505050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b038111828210171561258d5761258d612555565b60405290565b60405160c081016001600160401b038111828210171561258d5761258d612555565b604051601f8201601f191681016001600160401b03811182821017156125dd576125dd612555565b604052919050565b60006001600160401b038211156125fe576125fe612555565b5060051b60200190565b60006001600160401b0382111561262157612621612555565b50601f01601f191660200190565b600082601f83011261264057600080fd5b813561265361264e82612608565b6125b5565b81815284602083860101111561266857600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f83011261269657600080fd5b813560206126a661264e836125e5565b82815260059290921b840181019181810190868411156126c557600080fd5b8286015b848110156127745780356001600160401b03808211156126e95760008081fd5b908801906060828b03601f19018113156127035760008081fd5b61270b61256b565b612716888501612320565b81526040808501358481111561272c5760008081fd5b61273a8e8b8389010161262f565b838b0152509184013591838311156127525760008081fd5b6127608d8a8588010161262f565b9082015286525050509183019183016126c9565b509695505050505050565b600060c0828403121561279157600080fd5b612799612593565b90506127a482612320565b81526127b260208301612320565b60208201526040820135604082015260608201356001600160401b03808211156127db57600080fd5b6127e785838601612685565b60608401526080840135608084015260a084013591508082111561280a57600080fd5b506128178482850161262f565b60a08301525092915050565b6000610509368361277f565b634e487b7160e01b600052603260045260246000fd5b6000808335601e1984360301811261285c57600080fd5b8301803591506001600160401b0382111561287657600080fd5b60200191503681900382131561228057600080fd5b6000602080838503121561289e57600080fd5b82356001600160401b03808211156128b557600080fd5b818501915085601f8301126128c957600080fd5b81356128d761264e826125e5565b81815260059190911b830184019084810190888311156128f657600080fd5b8585015b8381101561292e578035858111156129125760008081fd5b6129208b89838a010161277f565b8452509186019186016128fa565b5098975050505050505050565b8281526040602082015260006129546040830184612164565b949350505050565b60006020828403121561296e57600080fd5b81516001600160e01b03198116811461213957600080fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561050957610509612986565b8082018082111561050957610509612986565b60e0815260006129d560e083018b612164565b82810360208401526129e7818b612164565b90508860408401528281036060840152612a0281888a61239c565b608084019690965250506001600160a01b0392831660a0820152911660c09091015295945050505050565b838152604060208201526000612a4760408301848661239c565b95945050505050565b60006020808385031215612a6357600080fd5b82516001600160401b0380821115612a7a57600080fd5b818501915085601f830112612a8e57600080fd5b8151612a9c61264e826125e5565b81815260059190911b83018401908481019088831115612abb57600080fd5b8585015b8381101561292e57805185811115612ad75760008081fd5b8601603f81018b13612ae95760008081fd5b878101516040612afb61264e83612608565b8281528d82848601011115612b105760008081fd5b612b1f838c8301848701612140565b8652505050918601918601612abf565b600081612b3e57612b3e612986565b506000190190565b602080825282516001600160a01b0390811683830152838201518116604080850191909152808501516060808601919091528086015160c06080870152805160e0870181905260009594610100600583901b8901810195919493870193919290890190885b81811015612c055760ff198b8903018352855187815116895289810151858b8b0152612bd9868b0182612164565b918701518a83038b890152919050612bf18183612164565b995050509488019491880191600101612bab565b50505050505050608085015160a085015260a08501519150601f198482030160c0850152612a478183612164565b815160009082906020808601845b83811015612c5d57815185529382019390820190600101612c41565b50929695505050505050565b600181811c90821680612c7d57607f821691505b602082108103612c9d57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052602160045260246000fdfea2646970667358221220ca409e8c9582544b3b8d8c05ed7b77fb8b148a77f098b1aea58f1517227de31d64736f6c634300081700338b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f",OKt={};Le(OKt,{abi:()=>NKt,bytecode:()=>kKt});NKt=[{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]}],kKt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212204f453c45fd8890597438ba3740ed042994be373737c9bd8ac833ff249df3eaab64736f6c63430008170033",MKt={};Le(MKt,{abi:()=>BKt,bytecode:()=>DKt});BKt=[{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],DKt="0x",QV={};Le(QV,{abi:()=>LKt,bytecode:()=>UKt});LKt=[{type:"constructor",inputs:[{name:"implementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"fallback",stateMutability:"payable"},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]}],UKt="0x60806040526040516103f03803806103f08339810160408190526100229161025e565b61002c8282610033565b5050610341565b61003c82610091565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a280511561008557610080828261010c565b505050565b61008d61017f565b5050565b806001600160a01b03163b5f036100cb57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60605f80846001600160a01b0316846040516101289190610326565b5f60405180830381855af49150503d805f8114610160576040519150601f19603f3d011682016040523d82523d5f602084013e610165565b606091505b5090925090506101768583836101a0565b95945050505050565b341561019e5760405163b398979f60e01b815260040160405180910390fd5b565b6060826101b5576101b0826101ff565b6101f8565b81511580156101cc57506001600160a01b0384163b155b156101f557604051639996b31560e01b81526001600160a01b03851660048201526024016100c2565b50805b9392505050565b80511561020f5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b634e487b7160e01b5f52604160045260245ffd5b5f5b8381101561025657818101518382015260200161023e565b50505f910152565b5f806040838503121561026f575f80fd5b82516001600160a01b0381168114610285575f80fd5b60208401519092506001600160401b03808211156102a1575f80fd5b818501915085601f8301126102b4575f80fd5b8151818111156102c6576102c6610228565b604051601f8201601f19908116603f011681019083821181831017156102ee576102ee610228565b81604052828152886020848701011115610306575f80fd5b61031783602083016020880161023c565b80955050505050509250929050565b5f825161033781846020870161023c565b9190910192915050565b60a38061034d5f395ff3fe6080604052600a600c565b005b60186014601a565b6050565b565b5f604b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b365f80375f80365f845af43d5f803e8080156069573d5ff35b3d5ffdfea2646970667358221220fd2cc92935c943d341edacaf5318a0b9ab0185ce62ef72e95ab393ef358730c464736f6c63430008170033",FKt={};Le(FKt,{abi:()=>HKt,bytecode:()=>zKt});HKt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"dataStart_",type:"uint256",internalType:"uint256"},{name:"value_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"}],zKt="0x608060405234801561001057600080fd5b506106dc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046104a2565b50505050505050505050565b005b6100766100863660046104a2565b6100b5565b61009e61009936600461056f565b610198565b6040516100ac9291906105b1565b60405180910390f35b856100c1816000610265565b6101125760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610123816000610265565b61017d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610109565b5061018a8c8c898961027c565b505050505050505050505050565b6000606060218310156102005760405162461bcd60e51b815260206004820152602a60248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d6044820152697465726d732d73697a6560b01b6064820152608401610109565b61020e602060008587610608565b61021791610632565b91506102268360208187610608565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250949792965091945050505050565b6001600160f81b0319828116908216145b92915050565b6000606036600061028d86866103d6565b93509350505061029d8888610198565b80519195509350816102af8287610650565b11156103155760405162461bcd60e51b815260206004820152602f60248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d60448201526e0c6c2d8d8c8c2e8c25ad8cadccee8d608b1b6064820152608401610109565b61036e8386846103258583610650565b9261033293929190610608565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250889250610427915050565b6103cb5760405162461bcd60e51b815260206004820152602860248201527f416c6c6f77656443616c6c64617461456e666f726365723a696e76616c69642d60448201526763616c6c6461746160c01b6064820152608401610109565b505050505050505050565b60008036816103e86014828789610608565b6103f191610671565b60601c9350610404603460148789610608565b61040d91610632565b925061041c8560348189610608565b949793965094505050565b8051602091820120825192909101919091201490565b60008083601f84011261044f57600080fd5b50813567ffffffffffffffff81111561046757600080fd5b60208301915083602082850101111561047f57600080fd5b9250929050565b80356001600160a01b038116811461049d57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156104c157600080fd5b8a3567ffffffffffffffff808211156104d957600080fd5b6104e58e838f0161043d565b909c509a5060208d01359150808211156104fe57600080fd5b61050a8e838f0161043d565b909a50985060408d0135975060608d013591508082111561052a57600080fd5b506105378d828e0161043d565b90965094505060808b0135925061055060a08c01610486565b915061055e60c08c01610486565b90509295989b9194979a5092959850565b6000806020838503121561058257600080fd5b823567ffffffffffffffff81111561059957600080fd5b6105a58582860161043d565b90969095509350505050565b8281526000602060406020840152835180604085015260005b818110156105e6578581018301518582016060015282016105ca565b506000606082860101526060601f19601f830116850101925050509392505050565b6000808585111561061857600080fd5b8386111561062557600080fd5b5050820193919092039150565b8035602083101561027657600019602084900360031b1b1692915050565b8082018082111561027657634e487b7160e01b600052601160045260246000fd5b6bffffffffffffffffffffffff19813581811691601485101561069e5780818660140360031b1b83161692505b50509291505056fea2646970667358221220040ece6946150f16c5413920be7d1b9c5d49d2aae2b6945d7da6faa6f92f5ef664736f6c63430008170033",GKt={};Le(GKt,{abi:()=>jKt,bytecode:()=>$Kt});jKt=[],$Kt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220e387e66c46ba5a334fec27a4edf89a8be9952b587b8297dbf10cb57e8c1726d964736f6c63430008170033",VKt={};Le(VKt,{abi:()=>KKt,bytecode:()=>qKt});KKt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedContract_",type:"address",internalType:"address"},{name:"maxTokens_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"spentMap",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],qKt="0x608060405234801561001057600080fd5b5061081e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780639dd5d9ab14610083578063a145832a146100be578063b99deb0e146100d1578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046105c3565b50505050505050505050565b005b6100ab610091366004610690565b600060208181529281526040808220909352908152205481565b6040519081526020015b60405180910390f35b6100816100cc3660046105c3565b610103565b6100e46100df3660046106ba565b610247565b604080516001600160a01b0390931683526020830191909152016100b5565b8561010f8160006102df565b6101605760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101718160006102df565b6101cb5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610157565b506000806101dc8e8e8b8b8b6102f6565b9150915086856001600160a01b0316336001600160a01b03167fc026e493323d526061a052b5dd562495120e2f648797a48be61966d3a6beec8d858560405161022f929190918252602082015260400190565b60405180910390a45050505050505050505050505050565b600080603483146102a15760405162461bcd60e51b815260206004820152603060248201526000805160206107c983398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b6064820152608401610157565b6102af6014600085876106fc565b6102b891610726565b60601c91506102ca83601481876106fc565b6102d39161075b565b60001c90509250929050565b6001600160f81b0319828116908216145b92915050565b6000806000366000610308888861050d565b9295509350909150506044811461036c5760405162461bcd60e51b815260206004820152603460248201526000805160206107c98339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b6064820152608401610157565b60006103788b8b610247565b965090506001600160a01b03808216908516146103da5760405162461bcd60e51b815260206004820152602c60248201526000805160206107c983398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b6064820152608401610157565b63a9059cbb60e01b6103f06004600085876106fc565b6103f991610779565b6001600160e01b031916146104515760405162461bcd60e51b815260206004820152602a60248201526000805160206107c98339815191526044820152691b1a590b5b595d1a1bd960b21b6064820152608401610157565b61045f6044602484866106fc565b6104689161075b565b336000908152602081815260408083208b8452909152812080549091906104909084906107a7565b9250508190559450858511156104ff5760405162461bcd60e51b815260206004820152602e60248201527f45524332305472616e73666572416d6f756e74456e666f726365723a616c6c6f60448201526d1dd85b98d94b595e18d95959195960921b6064820152608401610157565b505050509550959350505050565b600080368161051f60148287896106fc565b61052891610726565b60601c935061053b6034601487896106fc565b6105449161075b565b925061055385603481896106fc565b949793965094505050565b60008083601f84011261057057600080fd5b50813567ffffffffffffffff81111561058857600080fd5b6020830191508360208285010111156105a057600080fd5b9250929050565b80356001600160a01b03811681146105be57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156105e257600080fd5b8a3567ffffffffffffffff808211156105fa57600080fd5b6106068e838f0161055e565b909c509a5060208d013591508082111561061f57600080fd5b61062b8e838f0161055e565b909a50985060408d0135975060608d013591508082111561064b57600080fd5b506106588d828e0161055e565b90965094505060808b0135925061067160a08c016105a7565b915061067f60c08c016105a7565b90509295989b9194979a5092959850565b600080604083850312156106a357600080fd5b6106ac836105a7565b946020939093013593505050565b600080602083850312156106cd57600080fd5b823567ffffffffffffffff8111156106e457600080fd5b6106f08582860161055e565b90969095509350505050565b6000808585111561070c57600080fd5b8386111561071957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156107535780818660140360031b1b83161692505b505092915050565b803560208310156102f057600019602084900360031b1b1692915050565b6001600160e01b031981358181169160048510156107535760049490940360031b84901b1690921692915050565b808201808211156102f057634e487b7160e01b600052601160045260246000fdfe45524332305472616e73666572416d6f756e74456e666f726365723a696e7661a2646970667358221220936350618a5001f34797bf97c50cd107709e028340c60e13df9fe9a2d10d7fb364736f6c63430008170033",WKt={};Le(WKt,{abi:()=>YKt,bytecode:()=>JKt});YKt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],JKt="0x608060405234801561001057600080fd5b50610d12806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610a20565b50505050505050505050565b005b6100b16100ac366004610aed565b61018e565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df366004610b47565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610a20565b610265565b61016461015f366004610b71565b61034a565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a081018352815481526001820154938101939093526002810154918301829052600381015460608401526004015460808301528291829115610203576101f781610416565b9350935093505061025b565b6000806000610212898961034a565b9350935093505060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061024f81610416565b97509750975050505050505b9450945094915050565b856102718160006104aa565b6102c25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102d38160006104aa565b61032d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102b9565b5061033c8c8c898989886104c1565b505050505050505050505050565b6000808080607485146103a65760405162461bcd60e51b81526020600482015260306024820152600080516020610cbd83398151915260448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016102b9565b6103b4601460008789610bb3565b6103bd91610bdd565b60601c93506103d0603460148789610bb3565b6103d991610c12565b92506103e9605460348789610bb3565b6103f291610c12565b9150610402607460548789610bb3565b61040b91610c12565b939692955090935050565b60008060008360400151421015610435575060009150819050806104a3565b602084015160408501516104499042610c46565b6104539190610c59565b61045e906001610c7b565b90508084606001511415915060008261047b57846080015161047e565b60005b90508085600001511161049257600061049f565b845161049f908290610c46565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60003660006104d0878761096a565b929550935090915050604481146105345760405162461bcd60e51b81526020600482015260346024820152600080516020610cbd8339815191526044820152730d8d2c85acaf0cac6eae8d2dedc5ad8cadccee8d60631b60648201526084016102b9565b6000806000806105448d8d61034a565b9350935093509350866001600160a01b0316846001600160a01b0316146105b05760405162461bcd60e51b815260206004820152602c6024820152600080516020610cbd83398151915260448201526b1b1a590b58dbdb9d1c9858dd60a21b60648201526084016102b9565b63a9059cbb60e01b6105c660046000888a610bb3565b6105cf91610c8e565b6001600160e01b031916146106275760405162461bcd60e51b815260206004820152602a6024820152600080516020610cbd8339815191526044820152691b1a590b5b595d1a1bd960b21b60648201526084016102b9565b336000908152602081815260408083208c8452909152812060028101549091036107e157600082116106a55760405162461bcd60e51b81526020600482015260336024820152600080516020610cbd8339815191526044820152726c69642d7a65726f2d73746172742d6461746560681b60648201526084016102b9565b600084116107025760405162461bcd60e51b81526020600482015260366024820152600080516020610cbd8339815191526044820152751b1a590b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d60521b60648201526084016102b9565b600083116107665760405162461bcd60e51b81526020600482015260386024820152600080516020610cbd83398151915260448201527f6c69642d7a65726f2d706572696f642d6475726174696f6e000000000000000060648201526084016102b9565b814210156107cf5760405162461bcd60e51b815260206004820152603060248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e60448201526f1cd9995c8b5b9bdd0b5cdd185c9d195960821b60648201526084016102b9565b83815560018101839055600281018290555b600080600061082c846040518060a001604052908160008201548152602001600182015481526020016002820154815260200160038201548152602001600482015481525050610416565b919450925090506000610843604460248c8e610bb3565b61084c91610c12565b9050838111156108bb5760405162461bcd60e51b815260206004820152603460248201527f4552433230506572696f645472616e73666572456e666f726365723a7472616e6044820152731cd9995c8b585b5bdd5b9d0b595e18d95959195960621b60648201526084016102b9565b82156108d05760038501829055600060048601555b808560040160008282546108e49190610c7b565b90915550506004850154604080516001600160a01b038c81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a4505050505050505050505050505050505050565b600080368161097c6014828789610bb3565b61098591610bdd565b60601c9350610998603460148789610bb3565b6109a191610c12565b92506109b08560348189610bb3565b949793965094505050565b60008083601f8401126109cd57600080fd5b50813567ffffffffffffffff8111156109e557600080fd5b6020830191508360208285010111156109fd57600080fd5b9250929050565b80356001600160a01b0381168114610a1b57600080fd5b919050565b60008060008060008060008060008060e08b8d031215610a3f57600080fd5b8a3567ffffffffffffffff80821115610a5757600080fd5b610a638e838f016109bb565b909c509a5060208d0135915080821115610a7c57600080fd5b610a888e838f016109bb565b909a50985060408d0135975060608d0135915080821115610aa857600080fd5b50610ab58d828e016109bb565b90965094505060808b01359250610ace60a08c01610a04565b9150610adc60c08c01610a04565b90509295989b9194979a5092959850565b60008060008060608587031215610b0357600080fd5b84359350610b1360208601610a04565b9250604085013567ffffffffffffffff811115610b2f57600080fd5b610b3b878288016109bb565b95989497509550505050565b60008060408385031215610b5a57600080fd5b610b6383610a04565b946020939093013593505050565b60008060208385031215610b8457600080fd5b823567ffffffffffffffff811115610b9b57600080fd5b610ba7858286016109bb565b90969095509350505050565b60008085851115610bc357600080fd5b83861115610bd057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610c0a5780818660140360031b1b83161692505b505092915050565b803560208310156104bb57600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156104bb576104bb610c30565b600082610c7657634e487b7160e01b600052601260045260246000fd5b500490565b808201808211156104bb576104bb610c30565b6001600160e01b03198135818116916004851015610c0a5760049490940360031b84901b169092169291505056fe4552433230506572696f645472616e73666572456e666f726365723a696e7661a264697066735822122078259b929dc2fea71614ebe238bd74e88ff3ea3542e0d11a18122c300122d3f664736f6c63430008170033",QKt={};Le(QKt,{abi:()=>ZKt,bytecode:()=>XKt});ZKt=[{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],XKt="0x",eqt={};Le(eqt,{abi:()=>tqt,bytecode:()=>rqt});tqt=[],rqt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ac220b672ee89e055a56513b249d66df06ecb6da367b913fa0b7b7f3f838634764736f6c63430008170033",nqt={};Le(nqt,{abi:()=>iqt,bytecode:()=>oqt});iqt=[{type:"event",name:"AdminChanged",inputs:[{name:"previousAdmin",type:"address",indexed:!1,internalType:"address"},{name:"newAdmin",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeaconUpgraded",inputs:[{name:"beacon",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"ERC1967InvalidAdmin",inputs:[{name:"admin",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidBeacon",inputs:[{name:"beacon",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]}],oqt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220bf999523a2735d33a4f148563c82738a41cc465257ff9df9a8912b831ab5af9564736f6c63430008170033",aqt={};Le(aqt,{abi:()=>sqt,bytecode:()=>cqt});sqt=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"InvalidEIP712NameLength",inputs:[]},{type:"error",name:"InvalidEIP712VersionLength",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UnauthorizedCallContext",inputs:[]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],cqt="0x6101c060405230610160523480156200001757600080fd5b50604051620031b0380380620031b08339810160408190526200003a91620002b3565b81816040518060400160405280601981526020017f4549503737303253746174656c65737344656c654761746f7200000000000000815250604051806040016040528060018152602001603160f81b8152508181620000a46000836200021560201b90919060201c565b61012052620000b581600162000215565b61014052815160208084019190912060e052815190820120610100524660a0526200014360e05161010051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c0528151601f10156200017057604051631ad9af3960e21b815260040160405180910390fd5b601f8151111562000194576040516309203c9d60e41b815260040160405180910390fd5b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a2505050505050620004db565b600060208351101562000235576200022d836200024e565b905062000248565b8162000242848262000399565b5060ff90505b92915050565b600080829050601f8151111562000285578260405163305a27a960e01b81526004016200027c919062000465565b60405180910390fd5b80516200029282620004b6565b179392505050565b6001600160a01b0381168114620002b057600080fd5b50565b60008060408385031215620002c757600080fd5b8251620002d4816200029a565b6020840151909250620002e7816200029a565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200031d57607f821691505b6020821081036200033e57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111562000394576000816000526020600020601f850160051c810160208610156200036f5750805b601f850160051c820191505b8181101562000390578281556001016200037b565b5050505b505050565b81516001600160401b03811115620003b557620003b5620002f2565b620003cd81620003c6845462000308565b8462000344565b602080601f831160018114620004055760008415620003ec5750858301515b600019600386901b1c1916600185901b17855562000390565b600085815260208120601f198616915b82811015620004365788860151825594840194600190910190840162000415565b5085821015620004555787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620004955785810183015185820160400152820162000477565b506000604082860101526040601f19601f8301168501019250505092915050565b805160208083015191908110156200033e5760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051612bb1620005ff60003960008181610471015281816107f7015281816108c20152818161094001528181610aa401528181610b9a01528181610bf201528181610c7401528181610ce601528181610e1001528181610e8f01528181611015015281816112cd01526115ce01526000818161057a015281816109a301528181610a2601528181610b0701528181610ef201526110590152600081816106190152818161073a015281816107960152818161083f01528181610b4601528181610da7015261162101526000611960015260006119330152600061174c015260006117240152600061167f015260006116a9015260006116d30152612bb16000f3fe6080604052600436106101c65760003560e01c806384b0196e116100f7578063d03c791411610095578063ea4d3c9b11610064578063ea4d3c9b14610568578063ed8101b51461059c578063f23a6e61146105bc578063ffa1ad74146105dc57600080fd5b8063d03c791414610500578063d087d28814610520578063d691c96414610535578063e9ae5c531461055557600080fd5b8063b0d691fe116100d1578063b0d691fe1461045f578063bc197c81146104ab578063c399ec88146104cb578063cef6d209146104e057600080fd5b806384b0196e146103b4578063a3f4df7e146103dc578063acb8cc491461043257600080fd5b80633ed01015116101645780634a58db191161013e5780634a58db19146103645780635c1c6dcd1461036c5780637f07bfdc1461037f57806383ebb7711461039f57600080fd5b80633ed0101514610302578063445140b814610324578063499340471461034457600080fd5b80631626ba7e116101a05780631626ba7e1461026e57806319822f7c1461028e5780632b3afd99146102ae5780633e1b0812146102e257600080fd5b806301ffc9a7146101d257806306394d6714610207578063150b7a021461023557600080fd5b366101cd57005b600080fd5b3480156101de57600080fd5b506101f26101ed366004611fb2565b61060d565b60405190151581526020015b60405180910390f35b34801561021357600080fd5b50610227610222366004611ff5565b6106f9565b6040519081526020016101fe565b34801561024157600080fd5b506102556102503660046120fb565b61072e565b6040516001600160e01b031990911681526020016101fe565b34801561027a57600080fd5b506102556102893660046121ae565b61078a565b34801561029a57600080fd5b506102276102a93660046121f9565b6107ea565b3480156102ba57600080fd5b506102277fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156102ee57600080fd5b506102276102fd366004612246565b61089b565b34801561030e57600080fd5b5061032261031d36600461226f565b610935565b005b34801561033057600080fd5b506101f261033f3660046122a9565b610a0d565b34801561035057600080fd5b5061032261035f36600461226f565b610a99565b610322610b3c565b61032261037a3660046122c2565b610be7565b34801561038b57600080fd5b5061032261039a3660046122fc565b610c69565b3480156103ab57600080fd5b50610227610d46565b3480156103c057600080fd5b506103c9610d55565b6040516101fe979695949392919061236e565b3480156103e857600080fd5b506104256040518060400160405280601981526020017f4549503737303253746174656c65737344656c654761746f720000000000000081525081565b6040516101fe9190612407565b34801561043e57600080fd5b50610425604051806040016040528060018152602001603160f81b81525081565b34801561046b57600080fd5b506104937f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016101fe565b3480156104b757600080fd5b506102556104c6366004612499565b610d9b565b3480156104d757600080fd5b50610227610df8565b3480156104ec57600080fd5b506103226104fb36600461258a565b610e84565b34801561050c57600080fd5b506101f261051b3660046122a9565b610f6b565b34801561052c57600080fd5b50610227610ff6565b6105486105433660046121ae565b61104c565b6040516101fe9190612623565b6103226105633660046121ae565b6112c2565b34801561057457600080fd5b506104937f000000000000000000000000000000000000000000000000000000000000000081565b3480156105a857600080fd5b506102276105b7366004611ff5565b6114d3565b3480156105c857600080fd5b506102556105d7366004612687565b611615565b3480156105e857600080fd5b50610425604051806040016040528060058152602001640312e332e360dc1b81525081565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361065857604051634f81d01360e11b815260040160405180910390fd5b6001600160e01b031982166335a4725960e21b148061068757506001600160e01b03198216630a85bd0160e11b145b806106a257506001600160e01b03198216630271189760e51b145b806106bd57506001600160e01b031982166301ffc9a760e01b145b806106d857506001600160e01b03198216630b135d3f60e11b145b806106f357506001600160e01b03198216633992254760e01b145b92915050565b60006106f3610706611672565b61070f846114d3565b60405161190160f01b8152600281019290925260228201526042902090565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361077957604051634f81d01360e11b815260040160405180910390fd5b50630a85bd0160e11b949350505050565b60006001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001630036107d557604051634f81d01360e11b815260040160405180910390fd5b6107e084848461179d565b90505b9392505050565b6000336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461083557604051636b31ba1560e11b815260040160405180910390fd5b6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361087e57604051634f81d01360e11b815260040160405180910390fd5b6108908461088b866106f9565b611816565b90506107e38261185e565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610911573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f391906126ef565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061096e5750333014155b1561098c57604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed01015906109d8908490600401612837565b600060405180830381600087803b1580156109f257600080fd5b505af1158015610a06573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610a75573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f39190612908565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ad25750333014155b15610af057604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906349934047906109d8908490600401612837565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610b8557604051634f81d01360e11b815260040160405180910390fd5b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b1580156109f257600080fd5b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610c205750333014155b15610c3e57604051630796d94560e01b815260040160405180910390fd5b610c65610c4e602083018361292a565b6020830135610c606040850185612947565b6118f6565b5050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ca25750333014155b15610cc057604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b158015610d2a57600080fd5b505af1158015610d3e573d6000803e3d6000fd5b505050505050565b6000610d50611672565b905090565b600060608060008060006060610d6961192c565b610d71611959565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b60006001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610de657604051634f81d01360e11b815260040160405180910390fd5b5063bc197c8160e01b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015610e60573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d5091906126ef565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ebd5750333014155b15610edb57604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d20990610f31908990899089908990899089906004016129ee565b600060405180830381600087803b158015610f4b57600080fd5b505af1158015610f5f573d6000803e3d6000fd5b50505050505050505050565b600081600881901b603082901b605083901b610f878486611986565b80610f9b5750610f9b84600160f81b611986565b8015610fc15750610fad836000611986565b80610fc15750610fc183600160f81b611986565b8015610fd557506001600160e01b03198216155b8015610fec575069ffffffffffffffffffff198116155b9695505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401610e43565b6060336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461109757604051630692ce8160e21b815260040160405180910390fd5b83600881901b6110ab82600160f81b611986565b15611131573660006110bd8787611998565b90925090506110cd836000611986565b156110e3576110dc8282611a31565b945061112a565b6110f183600160f81b611986565b15611100576110dc8282611af2565b6040516308c3ee0360e11b81526001600160f81b0319841660048201526024015b60405180910390fd5b50506112b9565b61113c826000611986565b15611294576000803660006111518989611c1f565b6040805160018082528183019092529498509296509094509250816020015b606081526020019060019003908161117057905050965060006111938682611986565b156111c7576111a4858585856118f6565b886000815181106111b7576111b7612a57565b602002602001018190525061128a565b6111d586600160f81b611986565b15611265576111e685858585611c70565b896000815181106111f9576111f9612a57565b6020908102919091010152905080611260577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008960008151811061124157611241612a57565b6020026020010151604051611257929190612a6d565b60405180910390a15b61128a565b6040516308c3ee0360e11b81526001600160f81b031987166004820152602401611121565b50505050506112b9565b604051632e5bf3f960e21b81526001600160f81b031983166004820152602401611121565b50509392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906112fb5750333014155b1561131957604051630796d94560e01b815260040160405180910390fd5b82600881901b61132d82600160f81b611986565b156113885736600061133f8686611998565b909250905061134f836000611986565b156113645761135e8282611a31565b50611381565b61137283600160f81b611986565b156111005761135e8282611af2565b5050610a06565b611393826000611986565b15611294576000803660006113a88888611c1f565b93509350935093506113be85600060f81b611986565b156113d5576113cf848484846118f6565b506114ca565b6113e385600160f81b611986565b156114a557604080516001808252818301909252600091816020015b60608152602001906001900390816113ff579050509050600061142486868686611c70565b8360008151811061143757611437612a57565b602090810291909101015290508061149e577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008360008151811061147f5761147f612a57565b6020026020010151604051611495929190612a6d565b60405180910390a15b50506114ca565b6040516308c3ee0360e11b81526001600160f81b031986166004820152602401611121565b50505050610a06565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc18611503602084018461292a565b60208401356115156040860186612947565b604051611523929190612a86565b6040519081900390206115396060870187612947565b604051611547929190612a86565b604051908190039020608087013560a088013560c089013561156c60e08b018b612947565b60405161157a929190612a86565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b60006001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016300361166057604051634f81d01360e11b815260040160405180910390fd5b5063f23a6e6160e01b95945050505050565b6000306001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480156116cb57507f000000000000000000000000000000000000000000000000000000000000000046145b156116f557507f000000000000000000000000000000000000000000000000000000000000000090565b610d50604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b6000306001600160a01b03166117e98585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250611ca192505050565b6001600160a01b0316036118055750630b135d3f60e11b6107e3565b506001600160e01b03199392505050565b6000806118308361182b610100870187612947565b61179d565b90506374eca2c160e11b6001600160e01b03198216016118545760009150506106f3565b5060019392505050565b80156118f357604051600090339060001990849084818181858888f193505050503d80600081146118ab576040519150601f19603f3d011682016040523d82523d6000602084013e6118b0565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a2505b50565b60405181838237600038838387895af1611913573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b6060610d507f00000000000000000000000000000000000000000000000000000000000000006000611ccb565b6060610d507f00000000000000000000000000000000000000000000000000000000000000006001611ccb565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156119d05763ba597e7e6000526004601cfd5b8315611a27578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715611a1e5763ba597e7e6000526004601cfd5b505050826119da575b5050509250929050565b606081806001600160401b03811115611a4c57611a4c612046565b604051908082528060200260200182016040528015611a7f57816020015b6060815260200190600190039081611a6a5790505b50915060005b81811015611aea5736858583818110611aa057611aa0612a57565b9050602002810190611ab29190612a96565b9050611ac4610c4e602083018361292a565b848381518110611ad657611ad6612a57565b602090810291909101015250600101611a85565b505092915050565b606081806001600160401b03811115611b0d57611b0d612046565b604051908082528060200260200182016040528015611b4057816020015b6060815260200190600190039081611b2b5790505b50915060005b81811015611aea5736858583818110611b6157611b61612a57565b9050602002810190611b739190612a96565b90506000611b9e611b87602084018461292a565b6020840135611b996040860186612947565b611c70565b868581518110611bb057611bb0612a57565b6020908102919091010152905080611c15577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110611bf657611bf6612a57565b6020026020010151604051611c0c929190612a6d565b60405180910390a15b5050600101611b46565b6000803681611c316014828789612ab6565b611c3a91612ae0565b60601c9350611c4d603460148789612ab6565b611c5691612b13565b9250611c658560348189612ab6565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080611cb18686611d76565b925092509250611cc18282611dc3565b5090949350505050565b606060ff8314611ce557611cde83611e7c565b90506106f3565b818054611cf190612b31565b80601f0160208091040260200160405190810160405280929190818152602001828054611d1d90612b31565b8015611d6a5780601f10611d3f57610100808354040283529160200191611d6a565b820191906000526020600020905b815481529060010190602001808311611d4d57829003601f168201915b505050505090506106f3565b60008060008351604103611db05760208401516040850151606086015160001a611da288828585611ebb565b955095509550505050611dbc565b50508151600091506002905b9250925092565b6000826003811115611dd757611dd7612b65565b03611de0575050565b6001826003811115611df457611df4612b65565b03611e125760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115611e2657611e26612b65565b03611e475760405163fce698f760e01b815260048101829052602401611121565b6003826003811115611e5b57611e5b612b65565b03610c65576040516335e2f38360e21b815260048101829052602401611121565b60606000611e8983611f8a565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0841115611ef65750600091506003905082611f80565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa158015611f4a573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116611f7657506000925060019150829050611f80565b9250600091508190505b9450945094915050565b600060ff8216601f8111156106f357604051632cd44ac360e21b815260040160405180910390fd5b600060208284031215611fc457600080fd5b81356001600160e01b0319811681146107e357600080fd5b60006101208284031215611fef57600080fd5b50919050565b60006020828403121561200757600080fd5b81356001600160401b0381111561201d57600080fd5b61202984828501611fdc565b949350505050565b6001600160a01b03811681146118f357600080fd5b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b038111828210171561208457612084612046565b604052919050565b600082601f83011261209d57600080fd5b81356001600160401b038111156120b6576120b6612046565b6120c9601f8201601f191660200161205c565b8181528460208386010111156120de57600080fd5b816020850160208301376000918101602001919091529392505050565b6000806000806080858703121561211157600080fd5b843561211c81612031565b9350602085013561212c81612031565b92506040850135915060608501356001600160401b0381111561214e57600080fd5b61215a8782880161208c565b91505092959194509250565b60008083601f84011261217857600080fd5b5081356001600160401b0381111561218f57600080fd5b6020830191508360208285010111156121a757600080fd5b9250929050565b6000806000604084860312156121c357600080fd5b8335925060208401356001600160401b038111156121e057600080fd5b6121ec86828701612166565b9497909650939450505050565b60008060006060848603121561220e57600080fd5b83356001600160401b0381111561222457600080fd5b61223086828701611fdc565b9660208601359650604090950135949350505050565b60006020828403121561225857600080fd5b81356001600160c01b03811681146107e357600080fd5b60006020828403121561228157600080fd5b81356001600160401b0381111561229757600080fd5b820160c081850312156107e357600080fd5b6000602082840312156122bb57600080fd5b5035919050565b6000602082840312156122d457600080fd5b81356001600160401b038111156122ea57600080fd5b8201606081850312156107e357600080fd5b6000806040838503121561230f57600080fd5b823561231a81612031565b946020939093013593505050565b6000815180845260005b8181101561234e57602081850181015186830182015201612332565b506000602082860101526020601f19601f83011685010191505092915050565b60ff60f81b881681526000602060e0602084015261238f60e084018a612328565b83810360408501526123a1818a612328565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156123f5578351835292840192918401916001016123d9565b50909c9b505050505050505050505050565b6020815260006107e36020830184612328565b600082601f83011261242b57600080fd5b813560206001600160401b0382111561244657612446612046565b8160051b61245582820161205c565b928352848101820192828101908785111561246f57600080fd5b83870192505b8483101561248e57823582529183019190830190612475565b979650505050505050565b600080600080600060a086880312156124b157600080fd5b85356124bc81612031565b945060208601356124cc81612031565b935060408601356001600160401b03808211156124e857600080fd5b6124f489838a0161241a565b9450606088013591508082111561250a57600080fd5b61251689838a0161241a565b9350608088013591508082111561252c57600080fd5b506125398882890161208c565b9150509295509295909350565b60008083601f84011261255857600080fd5b5081356001600160401b0381111561256f57600080fd5b6020830191508360208260051b85010111156121a757600080fd5b600080600080600080606087890312156125a357600080fd5b86356001600160401b03808211156125ba57600080fd5b6125c68a838b01612546565b909850965060208901359150808211156125df57600080fd5b6125eb8a838b01612546565b9096509450604089013591508082111561260457600080fd5b5061261189828a01612546565b979a9699509497509295939492505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b8281101561267a57603f19888603018452612668858351612328565b9450928501929085019060010161264c565b5092979650505050505050565b600080600080600060a0868803121561269f57600080fd5b85356126aa81612031565b945060208601356126ba81612031565b9350604086013592506060860135915060808601356001600160401b038111156126e357600080fd5b6125398882890161208c565b60006020828403121561270157600080fd5b5051919050565b6000808335601e1984360301811261271f57600080fd5b83016020810192503590506001600160401b0381111561273e57600080fd5b8036038213156121a757600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561282957858403601f19018a52823536899003605e190181126127b5578283fd5b8801606081356127c481612031565b6001600160a01b031686526127db82880183612708565b82898901526127ed838901828461274d565b9250505060406127ff81840184612708565b93508783038289015261281383858361274d565b9d89019d97505050938601935050600101612790565b509198975050505050505050565b602081526000823561284881612031565b6001600160a01b039081166020848101919091528401359061286982612031565b80821660408501525050604083013560608301526060830135601e1984360301811261289457600080fd5b83016020810190356001600160401b038111156128b057600080fd5b8060051b36038213156128c257600080fd5b60c060808501526128d760e085018284612776565b915050608084013560a08401526128f160a0850185612708565b848303601f190160c0860152610fec83828461274d565b60006020828403121561291a57600080fd5b815180151581146107e357600080fd5b60006020828403121561293c57600080fd5b81356107e381612031565b6000808335601e1984360301811261295e57600080fd5b8301803591506001600160401b0382111561297857600080fd5b6020019150368190038213156121a757600080fd5b6000838385526020808601955060208560051b8301018460005b878110156129e157848303601f190189526129c28288612708565b6129cd85828461274d565b9a86019a94505050908301906001016129a7565b5090979650505050505050565b606081526000612a0260608301888a61298d565b8281036020848101919091528682528791810160005b88811015612a3457833582529282019290820190600101612a18565b508481036040860152612a4881878961298d565b9b9a5050505050505050505050565b634e487b7160e01b600052603260045260246000fd5b8281526040602082015260006107e06040830184612328565b8183823760009101908152919050565b60008235605e19833603018112612aac57600080fd5b9190910192915050565b60008085851115612ac657600080fd5b83861115612ad357600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015611aea5760149490940360031b84901b1690921692915050565b803560208310156106f357600019602084900360031b1b1692915050565b600181811c90821680612b4557607f821691505b602082108103611fef57634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fdfea26469706673582212202a8fc88ef923739742bc7ec1685cd9198a7251cfb58c7e873c821a7e716b2ca664736f6c63430008170033",lqt={};Le(lqt,{abi:()=>uqt,bytecode:()=>dqt});uqt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],dqt="0x608060405234801561001057600080fd5b5061095e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780638678d6ef146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610677565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d33660046106f5565b50505050505050505050565b005b6100f46100ef3660046107c2565b61018d565b6040519081526020016100bc565b6100df6101103660046106f5565b6101a2565b6100f4610123366004610677565b60006020819052908152604090205481565b6101486101433660046107fe565b610353565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df6101883660046106f5565b610440565b600061019a84848461061d565b949350505050565b85600881901b6101b3816000610660565b6102125760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102208d8d610353565b509250925050600061023333848961061d565b60008181526001602052604090205490915060ff16156102ab5760405162461bcd60e51b815260206004820152602d60248201527f455243323042616c616e63654368616e6765456e666f726365723a656e666f7260448201526c18d95c8b5a5ccb5b1bd8dad959609a1b6064820152608401610209565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa15801561030c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103309190610840565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c05760405162461bcd60e51b815260206004820152602f60248201527f455243323042616c616e63654368616e6765456e666f726365723a696e76616c60448201526e0d2c85ae8cae4dae65ad8cadccee8d608b1b6064820152608401610209565b858560008181106103d3576103d3610859565b909101356001600160f81b031916151594506103f5905060156001878961086f565b6103fe91610899565b60601c925061041160296015878961086f565b61041a91610899565b60601c915061042c856029818961086f565b610435916108ce565b939692955090935050565b6000806000806104508e8e610353565b9350935093509350600061046533858a61061d565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104c5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e99190610840565b9050851561057c5760008281526020819052604090205461050b908490610902565b8110156105775760405162461bcd60e51b815260206004820152603460248201527f455243323042616c616e63654368616e6765456e666f726365723a65786365656044820152736465642d62616c616e63652d646563726561736560601b6064820152608401610209565b61060b565b600082815260208190526040902054610596908490610915565b81101561060b5760405162461bcd60e51b815260206004820152603860248201527f455243323042616c616e63654368616e6765456e666f726365723a696e73756660448201527f66696369656e742d62616c616e63652d696e63726561736500000000000000006064820152608401610209565b50505050505050505050505050505050565b604080516001600160a01b039485166020808301919091529390941684820152606080850192909252805180850390920182526080909301909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561068957600080fd5b5035919050565b60008083601f8401126106a257600080fd5b50813567ffffffffffffffff8111156106ba57600080fd5b6020830191508360208285010111156106d257600080fd5b9250929050565b80356001600160a01b03811681146106f057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561071457600080fd5b8a3567ffffffffffffffff8082111561072c57600080fd5b6107388e838f01610690565b909c509a5060208d013591508082111561075157600080fd5b61075d8e838f01610690565b909a50985060408d0135975060608d013591508082111561077d57600080fd5b5061078a8d828e01610690565b90965094505060808b013592506107a360a08c016106d9565b91506107b160c08c016106d9565b90509295989b9194979a5092959850565b6000806000606084860312156107d757600080fd5b6107e0846106d9565b92506107ee602085016106d9565b9150604084013590509250925092565b6000806020838503121561081157600080fd5b823567ffffffffffffffff81111561082857600080fd5b61083485828601610690565b90969095509350505050565b60006020828403121561085257600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561087f57600080fd5b8386111561088c57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108c65780818660140360031b1b83161692505b505092915050565b8035602083101561067157600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610671576106716108ec565b80820180821115610671576106716108ec56fea26469706673582212202ee065285e6d78b8f4f72189bef225cff106ed6fed2f250af767e847d4faa24364736f6c63430008170033",fqt={};Le(fqt,{abi:()=>pqt,bytecode:()=>hqt});pqt=[],hqt="0x60556032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea26469706673582212201dfea0fb90d440a56b093020135bfa0529382b21cf5681ce6bf65b9ef384b15664736f6c63430008170033",mqt={};Le(mqt,{abi:()=>bqt,bytecode:()=>yqt});bqt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_recipient",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"token_",type:"address",internalType:"address"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],yqt="0x608060405234801561001057600080fd5b5061097c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461017a578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c55780635f6f02e0146100e1578063a145832a14610102575b600080fd5b6100b061009b366004610686565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d3366004610704565b50505050505050505050565b005b6100f46100ef3660046107d1565b61018d565b6040519081526020016100bc565b6100df610110366004610704565b6101a4565b6100f4610123366004610686565b60006020819052908152604090205481565b61014861014336600461081c565b610357565b6040516100bc949392919093151584526001600160a01b03928316602085015291166040830152606082015260800190565b6100df610188366004610704565b610445565b600061019b85858585610624565b95945050505050565b85600881901b6101b581600061066f565b6102145760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806102228d8d610357565b50925092505060006102363384848a610624565b60008181526001602052604090205490915060ff16156102af5760405162461bcd60e51b815260206004820152602e60248201527f45524337323142616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b606482015260840161020b565b6000818152600160208190526040808320805460ff1916909217909155516370a0823160e01b81526001600160a01b0384811660048301528516906370a0823190602401602060405180830381865afa158015610310573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610334919061085e565b600092835260208390526040909220919091555050505050505050505050505050565b6000808080604985146103c55760405162461bcd60e51b815260206004820152603060248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b606482015260840161020b565b858560008181106103d8576103d8610877565b909101356001600160f81b031916151594506103fa905060156001878961088d565b610403916108b7565b60601c925061041660296015878961088d565b61041f916108b7565b60601c9150610431856029818961088d565b61043a916108ec565b939692955090935050565b6000806000806104558e8e610357565b9350935093509350600061046b3385858b610624565b600081815260016020526040808220805460ff19169055516370a0823160e01b81526001600160a01b03868116600483015292935090918616906370a0823190602401602060405180830381865afa1580156104cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ef919061085e565b9050851561058357600082815260208190526040902054610511908490610920565b81101561057e5760405162461bcd60e51b815260206004820152603560248201527f45524337323142616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b606482015260840161020b565b610612565b60008281526020819052604090205461059d908490610933565b8110156106125760405162461bcd60e51b815260206004820152603960248201527f45524337323142616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e63726561736500000000000000606482015260840161020b565b50505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152948616818301529290941660608301526080808301919091528351808303909101815260a0909101909252815191012090565b6001600160f81b0319828116908216145b92915050565b60006020828403121561069857600080fd5b5035919050565b60008083601f8401126106b157600080fd5b50813567ffffffffffffffff8111156106c957600080fd5b6020830191508360208285010111156106e157600080fd5b9250929050565b80356001600160a01b03811681146106ff57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561072357600080fd5b8a3567ffffffffffffffff8082111561073b57600080fd5b6107478e838f0161069f565b909c509a5060208d013591508082111561076057600080fd5b61076c8e838f0161069f565b909a50985060408d0135975060608d013591508082111561078c57600080fd5b506107998d828e0161069f565b90965094505060808b013592506107b260a08c016106e8565b91506107c060c08c016106e8565b90509295989b9194979a5092959850565b600080600080608085870312156107e757600080fd5b6107f0856106e8565b93506107fe602086016106e8565b925061080c604086016106e8565b9396929550929360600135925050565b6000806020838503121561082f57600080fd5b823567ffffffffffffffff81111561084657600080fd5b6108528582860161069f565b90969095509350505050565b60006020828403121561087057600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561089d57600080fd5b838611156108aa57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156108e45780818660140360031b1b83161692505b505092915050565b8035602083101561068057600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156106805761068061090a565b808201808211156106805761068061090a56fea26469706673582212201a908643c89c30b103124ac1346de2de7964be6fc4c537dea357364db407b9ad64736f6c63430008170033",gqt={};Le(gqt,{abi:()=>wqt,bytecode:()=>vqt});wqt=[{type:"error",name:"ERC7579DecodingError",inputs:[]}],vqt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220e31e42482ef7832f3e446f04f27415313e49db77c6e6717169033c8535b19d3764736f6c63430008170033",Eqt={};Le(Eqt,{abi:()=>xqt,bytecode:()=>Aqt});xqt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"permittedContract_",type:"address",internalType:"address"},{name:"permittedTokenId_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"}],Aqt="0x608060405234801561001057600080fd5b50610821806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046105ea565b50505050505050505050565b005b6100766100863660046105ea565b6100c1565b61009e6100993660046106bd565b61047c565b604080516001600160a01b03909316835260208301919091520160405180910390f35b856100cd816000610521565b61011e5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61012f816000610521565b6101895760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610115565b506000806101978e8e61047c565b9150915060003660006101aa8c8c610538565b929550935090915050606481101561021b5760405162461bcd60e51b815260206004820152602e60248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d6360448201526d0c2d8d8c8c2e8c25ad8cadccee8d60931b6064820152608401610115565b6000808061022c84600481886106ff565b8101906102399190610729565b919450925090506001600160a01b038316158061025d57506001600160a01b038216155b156102b95760405162461bcd60e51b815260206004820152602660248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d6160448201526564647265737360d01b6064820152608401610115565b60006102c860048287896106ff565b6102d19161076a565b9050886001600160a01b0316876001600160a01b0316146103505760405162461bcd60e51b815260206004820152603360248201527f4552433732315472616e73666572456e666f726365723a756e617574686f72696044820152721e99590b58dbdb9d1c9858dd0b5d185c99d95d606a1b6064820152608401610115565b6001600160e01b031981166323b872dd60e01b1480159061038257506001600160e01b03198116632142170760e11b14155b801561039f57506001600160e01b03198116635c46a7ef60e11b14155b156104015760405162461bcd60e51b815260206004820152602c60248201527f4552433732315472616e73666572456e666f726365723a756e617574686f726960448201526b3d32b216b9b2b632b1ba37b960a11b6064820152608401610115565b8782146104655760405162461bcd60e51b815260206004820152602c60248201527f4552433732315472616e73666572456e666f726365723a756e617574686f726960448201526b1e99590b5d1bdad95b8b5a5960a21b6064820152608401610115565b505050505050505050505050505050505050505050565b600080603483146104e35760405162461bcd60e51b815260206004820152602b60248201527f4552433732315472616e73666572456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b6064820152608401610115565b6104f16014600085876106ff565b6104fa9161079a565b60601c915061050c83601481876106ff565b610515916107cd565b60001c90509250929050565b6001600160f81b0319828116908216145b92915050565b600080368161054a60148287896106ff565b6105539161079a565b60601c93506105666034601487896106ff565b61056f916107cd565b925061057e85603481896106ff565b949793965094505050565b60008083601f84011261059b57600080fd5b50813567ffffffffffffffff8111156105b357600080fd5b6020830191508360208285010111156105cb57600080fd5b9250929050565b6001600160a01b03811681146105e757600080fd5b50565b60008060008060008060008060008060e08b8d03121561060957600080fd5b8a3567ffffffffffffffff8082111561062157600080fd5b61062d8e838f01610589565b909c509a5060208d013591508082111561064657600080fd5b6106528e838f01610589565b909a50985060408d0135975060608d013591508082111561067257600080fd5b5061067f8d828e01610589565b90965094505060808b0135925060a08b013561069a816105d2565b915060c08b01356106aa816105d2565b809150509295989b9194979a5092959850565b600080602083850312156106d057600080fd5b823567ffffffffffffffff8111156106e757600080fd5b6106f385828601610589565b90969095509350505050565b6000808585111561070f57600080fd5b8386111561071c57600080fd5b5050820193919092039150565b60008060006060848603121561073e57600080fd5b8335610749816105d2565b92506020840135610759816105d2565b929592945050506040919091013590565b6001600160e01b031981358181169160048510156107925780818660040360031b1b83161692505b505092915050565b6bffffffffffffffffffffffff1981358181169160148510156107925760149490940360031b84901b1690921692915050565b8035602083101561053257600019602084900360031b1b169291505056fea264697066735822122059baae7c286b09a388772bb8a0feea8851f9a4fec98691fdc00e38b6eb1a59b964736f6c63430008170033",Tqt={};Le(Tqt,{abi:()=>_qt,bytecode:()=>Sqt});_qt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"initialAmount_",type:"uint256",internalType:"uint256"},{name:"maxAmount_",type:"uint256",internalType:"uint256"},{name:"amountPerSecond_",type:"uint256",internalType:"uint256"},{name:"startTime_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"streamingAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"initialAmount",type:"uint256",internalType:"uint256"},{name:"maxAmount",type:"uint256",internalType:"uint256"},{name:"amountPerSecond",type:"uint256",internalType:"uint256"},{name:"startTime",type:"uint256",internalType:"uint256"},{name:"spent",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"initialAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amountPerSecond",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"},{name:"lastUpdateTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Sqt="0x608060405234801561001057600080fd5b50610b7d806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100fb578063fb7d2c5b1461011c57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610910565b50505050505050505050565b005b61009c6100ac366004610910565b610189565b6100c46100bf3660046109dd565b61026e565b604080516001600160a01b0390961686526020860194909452928401919091526060830152608082015260a0015b60405180910390f35b61010e610109366004610a1f565b610365565b6040519081526020016100f2565b61016161012a366004610a1f565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100f2565b856101958160006103d0565b6101e65760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101f78160006103d0565b6102515760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101dd565b506102608c8c898989886103e7565b505050505050505050505050565b600080808080609486146102d85760405162461bcd60e51b815260206004820152602b60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d7460448201526a0cae4dae65ad8cadccee8d60ab1b60648201526084016101dd565b6102e660146000888a610a49565b6102ef91610a73565b60601c945061030260346014888a610a49565b61030b91610aa8565b935061031b60546034888a610a49565b61032491610aa8565b925061033460746054888a610a49565b61033d91610aa8565b915061034d60946074888a610a49565b61035691610aa8565b60001c90509295509295909350565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a081018352815481526001820154938101939093526002810154918301919091526003810154606083015260048101546080830152906103c8906107d9565b949350505050565b6001600160f81b0319828116908216145b92915050565b60003660006103f6878761085a565b929550935090915050604481146104675760405162461bcd60e51b815260206004820152602f60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6560448201526e0f0cac6eae8d2dedc5ad8cadccee8d608b1b60648201526084016101dd565b60008060008060006104798e8e61026e565b94509450945094509450838310156104e55760405162461bcd60e51b815260206004820152602960248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6d604482015268185e0b585b5bdd5b9d60ba1b60648201526084016101dd565b6000811161054c5760405162461bcd60e51b815260206004820152602e60248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d7a60448201526d65726f2d73746172742d74696d6560901b60648201526084016101dd565b876001600160a01b0316856001600160a01b0316146105bd5760405162461bcd60e51b815260206004820152602760248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d636044820152661bdb9d1c9858dd60ca1b60648201526084016101dd565b63a9059cbb60e01b6105d360046000898b610a49565b6105dc91610ac6565b6001600160e01b031916146106415760405162461bcd60e51b815260206004820152602560248201527f455243323053747265616d696e67456e666f726365723a696e76616c69642d6d604482015264195d1a1bd960da1b60648201526084016101dd565b336000908152602081815260408083208d84529091528120600481015490910361067e578481556001810184905560028101839055600381018290555b600061068e604460248a8c610a49565b61069791610aa8565b6040805160a081018252845481526001850154602082015260028501549181019190915260038401546060820152600484015460808201529091506106db906107d9565b81111561073c5760405162461bcd60e51b815260206004820152602960248201527f455243323053747265616d696e67456e666f726365723a616c6c6f77616e63656044820152680b595e18d95959195960ba1b60648201526084016101dd565b808260040160008282546107509190610b0a565b90915550506004820154604080516001600160a01b038a81168252602082018a9052818301899052606082018890526080820187905260a08201939093524260c082015290518e928e169133917f30ceca901166c86cac9d1024230d7f5740b26cce6bdd9bad7b1d6e616904ea639181900360e00190a450505050505050505050505050505050565b600081606001514210156107ef57506000919050565b60008260600151426108019190610b1d565b905060008184604001516108159190610b30565b84516108219190610b0a565b90508360200151811115610836575060208301515b8084608001511061084b575060009392505050565b60808401516103c89082610b1d565b600080368161086c6014828789610a49565b61087591610a73565b60601c9350610888603460148789610a49565b61089191610aa8565b92506108a08560348189610a49565b949793965094505050565b60008083601f8401126108bd57600080fd5b50813567ffffffffffffffff8111156108d557600080fd5b6020830191508360208285010111156108ed57600080fd5b9250929050565b80356001600160a01b038116811461090b57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561092f57600080fd5b8a3567ffffffffffffffff8082111561094757600080fd5b6109538e838f016108ab565b909c509a5060208d013591508082111561096c57600080fd5b6109788e838f016108ab565b909a50985060408d0135975060608d013591508082111561099857600080fd5b506109a58d828e016108ab565b90965094505060808b013592506109be60a08c016108f4565b91506109cc60c08c016108f4565b90509295989b9194979a5092959850565b600080602083850312156109f057600080fd5b823567ffffffffffffffff811115610a0757600080fd5b610a13858286016108ab565b90969095509350505050565b60008060408385031215610a3257600080fd5b610a3b836108f4565b946020939093013593505050565b60008085851115610a5957600080fd5b83861115610a6657600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610aa05780818660140360031b1b83161692505b505092915050565b803560208310156103e157600019602084900360031b1b1692915050565b6001600160e01b03198135818116916004851015610aa05760049490940360031b84901b1690921692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103e1576103e1610af4565b818103818111156103e1576103e1610af4565b80820281158282048414176103e1576103e1610af456fea2646970667358221220d9282c553e448eac7b4631259f5a457c28077fd4d88ef08db72ec3df532e99ed64736f6c63430008170033",Iqt={};Le(Iqt,{abi:()=>Cqt,bytecode:()=>Rqt});Cqt=[{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}],Rqt="0x",Pqt={};Le(Pqt,{abi:()=>Oqt,bytecode:()=>Nqt});Oqt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"callData_",type:"bytes",internalType:"bytes"}],stateMutability:"pure"}],Nqt="0x608060405234801561001057600080fd5b50610559806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610338565b50505050505050505050565b005b610076610086366004610338565b6100b4565b61009e610099366004610405565b61022b565b6040516100ab9190610447565b60405180910390f35b856100c081600061026b565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61012281600061026b565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b5036600061018a8989610282565b935093505050600061019c8f8f61022b565b905082826040516101ae929190610496565b604051809103902081805190602001201461021a5760405162461bcd60e51b815260206004820152602660248201527f457861637443616c6c64617461456e666f726365723a696e76616c69642d63616044820152656c6c6461746160d01b6064820152608401610108565b505050505050505050505050505050565b606082828080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929695505050505050565b6001600160f81b0319828116908216145b92915050565b600080368161029460148287896104a6565b61029d916104d0565b60601c93506102b06034601487896104a6565b6102b991610505565b92506102c885603481896104a6565b949793965094505050565b60008083601f8401126102e557600080fd5b50813567ffffffffffffffff8111156102fd57600080fd5b60208301915083602082850101111561031557600080fd5b9250929050565b80356001600160a01b038116811461033357600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035757600080fd5b8a3567ffffffffffffffff8082111561036f57600080fd5b61037b8e838f016102d3565b909c509a5060208d013591508082111561039457600080fd5b6103a08e838f016102d3565b909a50985060408d0135975060608d01359150808211156103c057600080fd5b506103cd8d828e016102d3565b90965094505060808b013592506103e660a08c0161031c565b91506103f460c08c0161031c565b90509295989b9194979a5092959850565b6000806020838503121561041857600080fd5b823567ffffffffffffffff81111561042f57600080fd5b61043b858286016102d3565b90969095509350505050565b60006020808352835180602085015260005b8181101561047557858101830151858201604001528201610459565b506000604082860101526040601f19601f8301168501019250505092915050565b8183823760009101908152919050565b600080858511156104b657600080fd5b838611156104c357600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156104fd5780818660140360031b1b83161692505b505092915050565b8035602083101561027c57600019602084900360031b1b169291505056fea26469706673582212207ea2be587c5142bd07609ab1e9e3d82af76502619dbab0e88f14c164094d01e564736f6c63430008170033",kqt={};Le(kqt,{abi:()=>Mqt,bytecode:()=>Bqt});Mqt=[{type:"function",name:"aggregateSignatures",inputs:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"aggregatedSignature",type:"bytes",internalType:"bytes"}],stateMutability:"view"},{type:"function",name:"validateSignatures",inputs:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"view"},{type:"function",name:"validateUserOpSignature",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"sigForUserOp",type:"bytes",internalType:"bytes"}],stateMutability:"view"}],Bqt="0x",Dqt={};Le(Dqt,{abi:()=>Lqt,bytecode:()=>Uqt});Lqt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"execution_",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],Uqt="0x608060405234801561001057600080fd5b5061062f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103e9565b50505050505050505050565b005b6100766100863660046103e9565b6100b4565b61009e6100993660046104b6565b610197565b6040516100ab91906104f8565b60405180910390f35b856100c0816000610210565b6101115760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610122816000610210565b61017c5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610108565b506101898c8c8989610227565b505050505050505050505050565b604080516060808201835260008083526020830152918101919091526101bd8383610333565b81818080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050506040860152505060208301526001600160a01b0316815292915050565b6001600160f81b0319828116908216145b92915050565b6000803660006102378686610333565b929650909450925090506001600160a01b038416610259601460008a8c61056c565b61026291610596565b60601c14801561028757508261027c603460148a8c61056c565b610285916105cb565b145b80156102cc5750818160405161029e9291906105e9565b6040519081900390206102b4886034818c61056c565b6040516102c29291906105e9565b6040518091039020145b6103295760405162461bcd60e51b815260206004820152602860248201527f4578616374457865637574696f6e456e666f726365723a696e76616c69642d656044820152673c32b1baba34b7b760c11b6064820152608401610108565b5050505050505050565b6000803681610345601482878961056c565b61034e91610596565b60601c935061036160346014878961056c565b61036a916105cb565b9250610379856034818961056c565b949793965094505050565b60008083601f84011261039657600080fd5b50813567ffffffffffffffff8111156103ae57600080fd5b6020830191508360208285010111156103c657600080fd5b9250929050565b80356001600160a01b03811681146103e457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561040857600080fd5b8a3567ffffffffffffffff8082111561042057600080fd5b61042c8e838f01610384565b909c509a5060208d013591508082111561044557600080fd5b6104518e838f01610384565b909a50985060408d0135975060608d013591508082111561047157600080fd5b5061047e8d828e01610384565b90965094505060808b0135925061049760a08c016103cd565b91506104a560c08c016103cd565b90509295989b9194979a5092959850565b600080602083850312156104c957600080fd5b823567ffffffffffffffff8111156104e057600080fd5b6104ec85828601610384565b90969095509350505050565b6000602080835260018060a01b038451166020840152602084015160408401526040840151606080850152805180608086015260005b8181101561054a5782810184015186820160a00152830161052e565b50600060a0828701015260a0601f19601f830116860101935050505092915050565b6000808585111561057c57600080fd5b8386111561058957600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105c35780818660140360031b1b83161692505b505092915050565b8035602083101561022157600019602084900360031b1b1692915050565b818382376000910190815291905056fea2646970667358221220e961f8992a129634c5841f6f8ff7eac208b6822d2646363c613c0f46bcd65a0b64736f6c63430008170033",Fqt={};Le(Fqt,{abi:()=>Hqt,bytecode:()=>zqt});Hqt=[{type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"}],zqt="0x",Gqt={};Le(Gqt,{abi:()=>jqt,bytecode:()=>$qt});jqt=[{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"disabledDelegations",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDelegationHash",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DisabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"EnabledDelegation",inputs:[{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"delegate",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"RedeemedDelegation",inputs:[{name:"rootDelegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegation",type:"tuple",indexed:!1,internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],anonymous:!1},{type:"event",name:"SetDomain",inputs:[{name:"domainHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"name",type:"string",indexed:!1,internalType:"string"},{name:"domainVersion",type:"string",indexed:!1,internalType:"string"},{name:"chainId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"contractAddress",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadyDisabled",inputs:[]},{type:"error",name:"AlreadyEnabled",inputs:[]},{type:"error",name:"BatchDataLengthMismatch",inputs:[]},{type:"error",name:"CannotUseADisabledDelegation",inputs:[]},{type:"error",name:"EmptySignature",inputs:[]},{type:"error",name:"InvalidAuthority",inputs:[]},{type:"error",name:"InvalidDelegate",inputs:[]},{type:"error",name:"InvalidDelegator",inputs:[]},{type:"error",name:"InvalidEOASignature",inputs:[]},{type:"error",name:"InvalidERC1271Signature",inputs:[]}],$qt="0x",c1e={};Le(c1e,{abi:()=>Vqt,bytecode:()=>Kqt});Vqt=[{type:"receive",stateMutability:"payable"},{type:"function",name:"addStake",inputs:[{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegateAndRevert",inputs:[{name:"target",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"deposits",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getSenderAddress",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"handleAggregatedOps",inputs:[{name:"opsPerAggregator",type:"tuple[]",internalType:"struct IEntryPoint.UserOpsPerAggregator[]",components:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"aggregator",type:"address",internalType:"contract IAggregator"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"handleOps",inputs:[{name:"ops",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"innerHandleOp",inputs:[{name:"callData",type:"bytes",internalType:"bytes"},{name:"opInfo",type:"tuple",internalType:"struct EntryPoint.UserOpInfo",components:[{name:"mUserOp",type:"tuple",internalType:"struct EntryPoint.MemoryUserOp",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"paymasterVerificationGasLimit",type:"uint256",internalType:"uint256"},{name:"paymasterPostOpGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"paymaster",type:"address",internalType:"address"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"prefund",type:"uint256",internalType:"uint256"},{name:"contextOffset",type:"uint256",internalType:"uint256"},{name:"preOpGas",type:"uint256",internalType:"uint256"}]},{name:"context",type:"bytes",internalType:"bytes"}],outputs:[{name:"actualGasCost",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"nonceSequenceNumber",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AccountDeployed",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"factory",type:"address",indexed:!1,internalType:"address"},{name:"paymaster",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeforeExecution",inputs:[],anonymous:!1},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PostOpRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"SignatureAggregatorChanged",inputs:[{name:"aggregator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationEvent",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"paymaster",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"},{name:"actualGasCost",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actualGasUsed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationPrefundTooLow",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"DelegateAndRevert",inputs:[{name:"success",type:"bool",internalType:"bool"},{name:"ret",type:"bytes",internalType:"bytes"}]},{type:"error",name:"FailedOp",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"}]},{type:"error",name:"FailedOpWithRevert",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"},{name:"inner",type:"bytes",internalType:"bytes"}]},{type:"error",name:"PostOpReverted",inputs:[{name:"returnData",type:"bytes",internalType:"bytes"}]},{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]},{type:"error",name:"SenderAddressResult",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"SignatureValidationFailed",inputs:[{name:"aggregator",type:"address",internalType:"address"}]}],Kqt="0x60a0604052604051620000129062000051565b604051809103905ff0801580156200002c573d5f803e3d5ffd5b506001600160a01b031660805234801562000045575f80fd5b5060016002556200005f565b6101ff806200374883390190565b6080516136c96200007f5f395f8181610de0015261271501526136c95ff3fe608060405260043610610107575f3560e01c806370a0823111610092578063b760faf911610062578063b760faf914610425578063bb9fe6bf14610438578063c23a5cea1461044c578063dbed18e01461046b578063fc7e286d1461048a575f80fd5b806370a0823114610394578063765e827f146103c8578063850aaf62146103e75780639b249f6914610406575f80fd5b80631b2e01b8116100d85780631b2e01b8146101ae578063205c2878146101e457806322cdde4c1461020357806335567e1a146102225780635287ce1214610280575f80fd5b806242dc531461011b57806301ffc9a71461014d5780630396cb601461017c5780630bd28e3b1461018f575f80fd5b366101175761011533610530565b005b5f80fd5b348015610126575f80fd5b5061013a610135366004612c4f565b610584565b6040519081526020015b60405180910390f35b348015610158575f80fd5b5061016c610167366004612d06565b610702565b6040519015158152602001610144565b61011561018a366004612d2d565b610789565b34801561019a575f80fd5b506101156101a9366004612d66565b610a14565b3480156101b9575f80fd5b5061013a6101c8366004612d7f565b600160209081525f928352604080842090915290825290205481565b3480156101ef575f80fd5b506101156101fe366004612db2565b610a4a565b34801561020e575f80fd5b5061013a61021d366004612ddc565b610b96565b34801561022d575f80fd5b5061013a61023c366004612d7f565b6001600160a01b0382165f9081526001602090815260408083206001600160c01b038516845290915290819020549082901b67ffffffffffffffff19161792915050565b34801561028b575f80fd5b5061033a61029a366004612e13565b6040805160a0810182525f80825260208201819052918101829052606081018290526080810191909152506001600160a01b03165f9081526020818152604091829020825160a0810184528154815260019091015460ff811615159282019290925261010082046001600160701b031692810192909252600160781b810463ffffffff166060830152600160981b900465ffffffffffff16608082015290565b60405161014491905f60a082019050825182526020830151151560208301526001600160701b03604084015116604083015263ffffffff606084015116606083015265ffffffffffff608084015116608083015292915050565b34801561039f575f80fd5b5061013a6103ae366004612e13565b6001600160a01b03165f9081526020819052604090205490565b3480156103d3575f80fd5b506101156103e2366004612e6e565b610bd7565b3480156103f2575f80fd5b50610115610401366004612ec0565b610d4c565b348015610411575f80fd5b50610115610420366004612f10565b610dc7565b610115610433366004612e13565b610530565b348015610443575f80fd5b50610115610e7e565b348015610457575f80fd5b50610115610466366004612e13565b610fa8565b348015610476575f80fd5b50610115610485366004612e6e565b6111c7565b348015610495575f80fd5b506104ed6104a4366004612e13565b5f602081905290815260409020805460019091015460ff81169061010081046001600160701b031690600160781b810463ffffffff1690600160981b900465ffffffffffff1685565b6040805195865293151560208601526001600160701b039092169284019290925263ffffffff909116606083015265ffffffffffff16608082015260a001610144565b5f61053b82346115ce565b9050816001600160a01b03167f2da466a7b24304f47e87fa2e1e5a81b9831ce54fec19055ce277ca2f39ba42c48260405161057891815260200190565b60405180910390a25050565b5f805a90503330146105dd5760405162461bcd60e51b815260206004820152601760248201527f4141393220696e7465726e616c2063616c6c206f6e6c7900000000000000000060448201526064015b60405180910390fd5b8451606081015160a082015181016127100160405a603f028161060257610602612f4e565b0410156106185763deaddead60e01b5f5260205ffd5b87515f90156106a6575f610631845f01515f8c86611600565b9050806106a4575f610644610800611616565b80519091501561069e57845f01516001600160a01b03168a602001517f1c4fada7374c0a9ee8841fc38afe82932dc0f8e69012e927f061a8bae611a201876020015184604051610695929190612faf565b60405180910390a35b60019250505b505b5f88608001515a86030190506106f4828a8a8a8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250879250611641915050565b9a9950505050505050505050565b5f6001600160e01b0319821663307e35b760e11b148061073257506001600160e01b0319821663122a0e9b60e31b145b8061074d57506001600160e01b0319821663cf28ef9760e01b145b8061076857506001600160e01b03198216633e84f02160e01b145b8061078357506301ffc9a760e01b6001600160e01b03198316145b92915050565b335f90815260208190526040902063ffffffff82166107ea5760405162461bcd60e51b815260206004820152601a60248201527f6d757374207370656369667920756e7374616b652064656c617900000000000060448201526064016105d4565b600181015463ffffffff600160781b9091048116908316101561084f5760405162461bcd60e51b815260206004820152601c60248201527f63616e6e6f7420646563726561736520756e7374616b652074696d650000000060448201526064016105d4565b60018101545f9061086f90349061010090046001600160701b0316612fdb565b90505f81116108b55760405162461bcd60e51b81526020600482015260126024820152711b9bc81cdd185ad9481cdc1958da599a595960721b60448201526064016105d4565b6001600160701b038111156108fd5760405162461bcd60e51b815260206004820152600e60248201526d7374616b65206f766572666c6f7760901b60448201526064016105d4565b6040805160a08101825283548152600160208083018281526001600160701b0386811685870190815263ffffffff8a8116606088018181525f60808a0181815233808352828a52918c90209a518b55965199909801805494519151965165ffffffffffff16600160981b0265ffffffffffff60981b1997909416600160781b029690961669ffffffffffffffffffff60781b1991909516610100026effffffffffffffffffffffffffff0019991515999099166effffffffffffffffffffffffffffff1990941693909317979097179190911691909117179055835185815290810192909252917fa5ae833d0bb1dcd632d98a8b70973e8516812898e19bf27b70071ebc8dc52c01910160405180910390a2505050565b335f9081526001602090815260408083206001600160c01b03851684529091528120805491610a4283612fee565b919050555050565b335f9081526020819052604090208054821115610aa95760405162461bcd60e51b815260206004820152601960248201527f576974686472617720616d6f756e7420746f6f206c617267650000000000000060448201526064016105d4565b8054610ab6908390613006565b8155604080516001600160a01b03851681526020810184905233917fd1c19fbcd4551a5edfb66d43d2e337c04837afda3482b42bdf569a8fccdae5fb910160405180910390a25f836001600160a01b0316836040515f6040518083038185875af1925050503d805f8114610b45576040519150601f19603f3d011682016040523d82523d5f602084013e610b4a565b606091505b5050905080610b905760405162461bcd60e51b81526020600482015260126024820152716661696c656420746f20776974686472617760701b60448201526064016105d4565b50505050565b5f610ba0826117f9565b6040805160208101929092523090820152466060820152608001604051602081830303815290604052805190602001209050919050565b610bdf611811565b815f816001600160401b03811115610bf957610bf9612a5a565b604051908082528060200260200182016040528015610c3257816020015b610c1f6129d0565b815260200190600190039081610c175790505b5090505f5b82811015610ca7575f828281518110610c5257610c52613019565b602002602001015190505f80610c8c848a8a87818110610c7457610c74613019565b9050602002810190610c86919061302d565b85611839565b91509150610c9c8483835f611a3b565b505050600101610c37565b506040515f907fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972908290a15f5b83811015610d2f57610d2381888884818110610cf257610cf2613019565b9050602002810190610d04919061302d565b858481518110610d1657610d16613019565b6020026020010151611bd5565b90910190600101610cd4565b50610d3a8482611e83565b505050610d476001600255565b505050565b5f80846001600160a01b03168484604051610d6892919061304c565b5f60405180830381855af49150503d805f8114610da0576040519150601f19603f3d011682016040523d82523d5f602084013e610da5565b606091505b50915091508181604051632650415560e21b81526004016105d492919061305b565b604051632b870d1b60e11b81525f906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063570e1a3690610e17908690869060040161309d565b6020604051808303815f875af1158015610e33573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610e5791906130b0565b604051633653dc0360e11b81526001600160a01b03821660048201529091506024016105d4565b335f90815260208190526040812060018101549091600160781b90910463ffffffff169003610edc5760405162461bcd60e51b815260206004820152600a6024820152691b9bdd081cdd185ad95960b21b60448201526064016105d4565b600181015460ff16610f245760405162461bcd60e51b8152602060048201526011602482015270616c726561647920756e7374616b696e6760781b60448201526064016105d4565b60018101545f90610f4290600160781b900463ffffffff16426130cb565b60018301805460ff65ffffffffffff60981b011916600160981b65ffffffffffff841690810260ff19169190911790915560405190815290915033907ffa9b3c14cc825c412c9ed81b3ba365a5b459439403f18829e572ed53a4180f0a90602001610578565b335f908152602081905260409020600181015461010090046001600160701b03168061100d5760405162461bcd60e51b81526020600482015260146024820152734e6f207374616b6520746f20776974686472617760601b60448201526064016105d4565b6001820154600160981b900465ffffffffffff1661106d5760405162461bcd60e51b815260206004820152601d60248201527f6d7573742063616c6c20756e6c6f636b5374616b65282920666972737400000060448201526064016105d4565b600182015442600160981b90910465ffffffffffff1611156110d15760405162461bcd60e51b815260206004820152601b60248201527f5374616b65207769746864726177616c206973206e6f7420647565000000000060448201526064016105d4565b600182018054610100600160c81b0319169055604080516001600160a01b03851681526020810183905233917fb7c918e0e249f999e965cafeb6c664271b3f4317d296461500e71da39f0cbda3910160405180910390a25f836001600160a01b0316826040515f6040518083038185875af1925050503d805f8114611171576040519150601f19603f3d011682016040523d82523d5f602084013e611176565b606091505b5050905080610b905760405162461bcd60e51b815260206004820152601860248201527f6661696c656420746f207769746864726177207374616b65000000000000000060448201526064016105d4565b6111cf611811565b815f805b8281101561133657368686838181106111ee576111ee613019565b905060200281019061120091906130f1565b9050365f61120e8380613105565b90925090505f6112246040850160208601612e13565b90505f196001600160a01b0382160161127f5760405162461bcd60e51b815260206004820152601760248201527f4141393620696e76616c69642061676772656761746f7200000000000000000060448201526064016105d4565b6001600160a01b0381161561131a576001600160a01b038116632dd8113384846112ac604089018961314a565b6040518563ffffffff1660e01b81526004016112cb94939291906132ab565b5f6040518083038186803b1580156112e1575f80fd5b505afa9250505080156112f2575060015b61131a5760405163086a9f7560e41b81526001600160a01b03821660048201526024016105d4565b6113248287612fdb565b955050600190930192506111d3915050565b505f816001600160401b0381111561135057611350612a5a565b60405190808252806020026020018201604052801561138957816020015b6113766129d0565b81526020019060019003908161136e5790505b5090505f805b8481101561146057368888838181106113aa576113aa613019565b90506020028101906113bc91906130f1565b9050365f6113ca8380613105565b90925090505f6113e06040850160208601612e13565b9050815f5b8181101561144e575f89898151811061140057611400613019565b602002602001015190505f806114228b898987818110610c7457610c74613019565b9150915061143284838389611a3b565b8a61143c81612fee565b9b5050600190930192506113e5915050565b50506001909401935061138f92505050565b506040517fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972905f90a1505f80805b8581101561158a57368989838181106114a9576114a9613019565b90506020028101906114bb91906130f1565b90506114cd6040820160208301612e13565b6001600160a01b03167f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d60405160405180910390a2365f61150e8380613105565b9092509050805f5b81811015611579576115588885858481811061153457611534613019565b9050602002810190611546919061302d565b8b8b81518110610d1657610d16613019565b6115629088612fdb565b96508761156e81612fee565b985050600101611516565b50506001909301925061148e915050565b506040515f907f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d908290a26115bf8682611e83565b5050505050610d476001600255565b6001600160a01b0382165f908152602081905260408120805482906115f4908590612fdb565b91829055509392505050565b5f805f845160208601878987f195945050505050565b60603d828111156116245750815b604051602082018101604052818152815f602083013e9392505050565b5f805a85519091505f908161165582611f78565b60e08301519091506001600160a01b038116611674578251935061172b565b8093505f8851111561172b57868202955060028a600281111561169957611699613325565b1461172b5760a0830151604051637c627b2160e01b81526001600160a01b03831691637c627b21916116d5908e908d908c908990600401613339565b5f604051808303815f88803b1580156116ec575f80fd5b5087f1935050505080156116fe575060015b61172b575f61170e610800611616565b905080604051632b5e552f60e21b81526004016105d49190613380565b5a60a0840151606085015160808c01519288039990990198019088038082111561175e576064600a828403020498909801975b505060408901518783029650868110156117b75760028b600281111561178657611786613325565b036117a8578096506117978a611fa9565b6117a38a5f898b611ff8565b6117eb565b63deadaa5160e01b5f5260205ffd5b8681036117c486826115ce565b505f808d60028111156117d9576117d9613325565b1490506117e88c828b8d611ff8565b50505b505050505050949350505050565b5f61180382612073565b805190602001209050919050565b600280540361183357604051633ee5aeb560e01b815260040160405180910390fd5b60028055565b5f805f5a845190915061184c8682612128565b61185586610b96565b6020860152604081015161012082015161010083015160a08401516080850151606086015160c0870151861717171717176effffffffffffffffffffffffffffff8111156118e55760405162461bcd60e51b815260206004820152601860248201527f41413934206761732076616c756573206f766572666c6f77000000000000000060448201526064016105d4565b5f6119138460c081015160a08201516080830151606084015160408501516101009095015194010101010290565b90506119228a8a8a8487612234565b9650611935845f015185602001516123c5565b61198b5789604051631101335b60e11b81526004016105d4918152604060208201819052601a908201527f4141323520696e76616c6964206163636f756e74206e6f6e6365000000000000606082015260800190565b825a860311156119e75789604051631101335b60e11b81526004016105d4918152604060208201819052601e908201527f41413236206f76657220766572696669636174696f6e4761734c696d69740000606082015260800190565b60e08401516060906001600160a01b031615611a0e57611a098b8b8b85612411565b975090505b604089018290528060608a015260a08a01355a870301896080018181525050505050505050935093915050565b5f80611a46856125c8565b91509150816001600160a01b0316836001600160a01b031614611aac5785604051631101335b60e11b81526004016105d49181526040602082018190526014908201527320a0991a1039b4b3b730ba3ab9329032b93937b960611b606082015260800190565b8015611b045785604051631101335b60e11b81526004016105d49181526040602082018190526017908201527f414132322065787069726564206f72206e6f7420647565000000000000000000606082015260800190565b5f611b0e856125c8565b925090506001600160a01b03811615611b6a5786604051631101335b60e11b81526004016105d49181526040602082018190526014908201527320a0999a1039b4b3b730ba3ab9329032b93937b960611b606082015260800190565b8115611bcc5786604051631101335b60e11b81526004016105d49181526040602082018190526021908201527f41413332207061796d61737465722065787069726564206f72206e6f742064756060820152606560f81b608082015260a00190565b50505050505050565b5f805a90505f611be6846060015190565b6040519091505f903682611bfd60608a018a61314a565b9150915060605f826003811115611c1357843591505b506372288ed160e01b6001600160e01b0319821601611cc0575f8b8b60200151604051602401611c44929190613392565b60408051601f198184030181529181526020820180516001600160e01b0316638dd7712f60e01b1790525190915030906242dc5390611c8b9084908f908d9060240161345d565b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050925050611d15565b306001600160a01b03166242dc5385858d8b604051602401611ce5949392919061349c565b604051602081830303815290604052915060e01b6020820180516001600160e01b03838183161783525050505091505b60205f8351602085015f305af195505f51985084604052505050505080611e79575f3d80602003611d4a5760205f803e5f5191505b5063deaddead60e01b8103611d9d5787604051631101335b60e11b81526004016105d4918152604060208201819052600f908201526e41413935206f7574206f662067617360881b606082015260800190565b63deadaa5160e01b8103611dec575f86608001515a611dbc9087613006565b611dc69190612fdb565b6040880151909150611dd788611fa9565b611de3885f8385611ff8565b9550611e779050565b855180516020808901519201516001600160a01b0390911691907ff62676f440ff169a3a9afdbf812e89e7f95975ee8e5c31214ffdef631c5f479290611e33610800611616565b604051611e41929190612faf565b60405180910390a35f86608001515a611e5a9087613006565b611e649190612fdb565b9050611e736002888684611641565b9550505b505b5050509392505050565b6001600160a01b038216611ed95760405162461bcd60e51b815260206004820152601860248201527f4141393020696e76616c69642062656e6566696369617279000000000000000060448201526064016105d4565b5f826001600160a01b0316826040515f6040518083038185875af1925050503d805f8114611f22576040519150601f19603f3d011682016040523d82523d5f602084013e611f27565b606091505b5050905080610d475760405162461bcd60e51b815260206004820152601f60248201527f41413931206661696c65642073656e6420746f2062656e65666963696172790060448201526064016105d4565b6101008101516101208201515f9190808203611f95575092915050565b611fa182488301612617565b949350505050565b80518051602080840151928101516040519081526001600160a01b0390921692917f67b4fa9642f42120bf031f3051d1824b0fe25627945b27b8a6a65d5761d5482e910160405180910390a350565b835160e081015181516020808801519301516040516001600160a01b039384169492909316927f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f916120659189908990899093845291151560208401526040830152606082015260800190565b60405180910390a450505050565b6060813560208301355f61209261208d604087018761314a565b61262e565b90505f6120a561208d606088018861314a565b9050608086013560a087013560c08801355f6120c761208d60e08c018c61314a565b604080516001600160a01b039a909a1660208b015289810198909852606089019690965250608087019390935260a086019190915260c085015260e08401526101008084019190915281518084039091018152610120909201905292915050565b6121356020830183612e13565b6001600160a01b03168152602082810135908201526001600160801b036080808401358281166060850152811c604084015260a084013560c0808501919091528401359182166101008401521c610120820152365f61219760e085018561314a565b9092509050801561221a5760348110156121f35760405162461bcd60e51b815260206004820152601d60248201527f4141393320696e76616c6964207061796d6173746572416e644461746100000060448201526064016105d4565b6121fd8282612640565b60a086015260808501526001600160a01b031660e0840152610b90565b5f60e084018190526080840181905260a084015250505050565b825180515f9190612252888761224d60408b018b61314a565b6126a7565b60e08201515f6001600160a01b038216612293576001600160a01b0383165f9081526020819052604090205487811161228d5780880361228f565b5f5b9150505b60208801516040516306608bdf60e21b81526001600160a01b038516916319822f7c9189916122c9918e919087906004016134d2565b6020604051808303815f8887f193505050508015612304575060408051601f3d908101601f19168201909252612301918101906134f6565b60015b61232f5789612314610800611616565b6040516365c8fd4d60e01b81526004016105d492919061350d565b94506001600160a01b0382166123b8576001600160a01b0383165f9081526020819052604090208054808911156123b2578b604051631101335b60e11b81526004016105d49181526040602082018190526017908201527f41413231206469646e2774207061792070726566756e64000000000000000000606082015260800190565b88900390555b5050505095945050505050565b6001600160a01b0382165f90815260016020908152604080832084821c80855292528220805484916001600160401b03831691908561240383612fee565b909155501495945050505050565b60605f805a855160e08101516001600160a01b0381165f9081526020819052604090208054939450919290919087811015612498578a604051631101335b60e11b81526004016105d4918152604060208201819052601e908201527f41413331207061796d6173746572206465706f73697420746f6f206c6f770000606082015260800190565b878103825f01819055505f84608001519050836001600160a01b03166352b7512c828d8d602001518d6040518563ffffffff1660e01b81526004016124df939291906134d2565b5f604051808303815f8887f19350505050801561251d57506040513d5f823e601f3d908101601f1916820160405261251a9190810190613549565b60015b612548578b61252d610800611616565b6040516365c8fd4d60e01b81526004016105d49291906135c4565b9098509650805a870311156125b9578b604051631101335b60e11b81526004016105d49181526040602082018190526027908201527f41413336206f766572207061796d6173746572566572696669636174696f6e47606082015266185cd31a5b5a5d60ca1b608082015260a00190565b50505050505094509492505050565b5f80825f036125db57505f928392509050565b5f6125e584612961565b9050806040015165ffffffffffff1642118061260c5750806020015165ffffffffffff1642105b905194909350915050565b5f8183106126255781612627565b825b9392505050565b5f604051828085833790209392505050565b5f80806126506014828688613600565b61265991613627565b60601c61266a602460148789613600565b6126739161365c565b60801c61268460346024888a613600565b61268d9161365c565b9194506001600160801b0316925060801c90509250925092565b8015610b90578251516001600160a01b0381163b156127125784604051631101335b60e11b81526004016105d4918152604060208201819052601f908201527f414131302073656e64657220616c726561647920636f6e737472756374656400606082015260800190565b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663570e1a36865f01516040015186866040518463ffffffff1660e01b815260040161276992919061309d565b6020604051808303815f8887f1158015612785573d5f803e3d5ffd5b50505050506040513d601f19601f820116820180604052508101906127aa91906130b0565b90506001600160a01b03811661280c5785604051631101335b60e11b81526004016105d4918152604060208201819052601b908201527f4141313320696e6974436f6465206661696c6564206f72204f4f470000000000606082015260800190565b816001600160a01b0316816001600160a01b0316146128765785604051631101335b60e11b81526004016105d491815260406020808301829052908201527f4141313420696e6974436f6465206d7573742072657475726e2073656e646572606082015260800190565b806001600160a01b03163b5f036128d85785604051631101335b60e11b81526004016105d491815260406020808301829052908201527f4141313520696e6974436f6465206d757374206372656174652073656e646572606082015260800190565b5f6128e66014828688613600565b6128ef91613627565b60601c9050826001600160a01b031686602001517fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d83895f015160e001516040516129509291906001600160a01b0392831681529116602082015260400190565b60405180910390a350505050505050565b604080516060810182525f80825260208201819052918101919091528160a081901c65ffffffffffff81165f0361299b575065ffffffffffff5b604080516060810182526001600160a01b03909316835260d09490941c602083015265ffffffffffff16928101929092525090565b6040518060a00160405280612a396040518061014001604052805f6001600160a01b031681526020015f81526020015f81526020015f81526020015f81526020015f81526020015f81526020015f6001600160a01b031681526020015f81526020015f81525090565b81526020015f80191681526020015f81526020015f81526020015f81525090565b634e487b7160e01b5f52604160045260245ffd5b60405160a081016001600160401b0381118282101715612a9057612a90612a5a565b60405290565b60405161014081016001600160401b0381118282101715612a9057612a90612a5a565b604051601f8201601f191681016001600160401b0381118282101715612ae157612ae1612a5a565b604052919050565b5f6001600160401b03821115612b0157612b01612a5a565b50601f01601f191660200190565b6001600160a01b0381168114612b23575f80fd5b50565b8035612b3181612b0f565b919050565b5f8183036101c0811215612b48575f80fd5b612b50612a6e565b915061014080821215612b61575f80fd5b612b69612a96565b9150612b7484612b26565b82526020840135602083015260408401356040830152606084013560608301526080840135608083015260a084013560a083015260c084013560c0830152612bbe60e08501612b26565b60e0830152610100848101359083015261012080850135908301529082528201356020820152610160820135604082015261018082013560608201526101a0909101356080820152919050565b5f8083601f840112612c1b575f80fd5b5081356001600160401b03811115612c31575f80fd5b602083019150836020828501011115612c48575f80fd5b9250929050565b5f805f806102008587031215612c63575f80fd5b84356001600160401b0380821115612c79575f80fd5b818701915087601f830112612c8c575f80fd5b8135612c9f612c9a82612ae9565b612ab9565b818152896020838601011115612cb3575f80fd5b816020850160208301375f602083830101528097505050612cd78860208901612b36565b94506101e0870135915080821115612ced575f80fd5b50612cfa87828801612c0b565b95989497509550505050565b5f60208284031215612d16575f80fd5b81356001600160e01b031981168114612627575f80fd5b5f60208284031215612d3d575f80fd5b813563ffffffff81168114612627575f80fd5b80356001600160c01b0381168114612b31575f80fd5b5f60208284031215612d76575f80fd5b61262782612d50565b5f8060408385031215612d90575f80fd5b8235612d9b81612b0f565b9150612da960208401612d50565b90509250929050565b5f8060408385031215612dc3575f80fd5b8235612dce81612b0f565b946020939093013593505050565b5f60208284031215612dec575f80fd5b81356001600160401b03811115612e01575f80fd5b82016101208185031215612627575f80fd5b5f60208284031215612e23575f80fd5b813561262781612b0f565b5f8083601f840112612e3e575f80fd5b5081356001600160401b03811115612e54575f80fd5b6020830191508360208260051b8501011115612c48575f80fd5b5f805f60408486031215612e80575f80fd5b83356001600160401b03811115612e95575f80fd5b612ea186828701612e2e565b9094509250506020840135612eb581612b0f565b809150509250925092565b5f805f60408486031215612ed2575f80fd5b8335612edd81612b0f565b925060208401356001600160401b03811115612ef7575f80fd5b612f0386828701612c0b565b9497909650939450505050565b5f8060208385031215612f21575f80fd5b82356001600160401b03811115612f36575f80fd5b612f4285828601612c0b565b90969095509350505050565b634e487b7160e01b5f52601260045260245ffd5b5f5b83811015612f7c578181015183820152602001612f64565b50505f910152565b5f8151808452612f9b816020860160208601612f62565b601f01601f19169290920160200192915050565b828152604060208201525f611fa16040830184612f84565b634e487b7160e01b5f52601160045260245ffd5b8082018082111561078357610783612fc7565b5f60018201612fff57612fff612fc7565b5060010190565b8181038181111561078357610783612fc7565b634e487b7160e01b5f52603260045260245ffd5b5f823561011e19833603018112613042575f80fd5b9190910192915050565b818382375f9101908152919050565b8215158152604060208201525f611fa16040830184612f84565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b602081525f611fa1602083018486613075565b5f602082840312156130c0575f80fd5b815161262781612b0f565b65ffffffffffff8181168382160190808211156130ea576130ea612fc7565b5092915050565b5f8235605e19833603018112613042575f80fd5b5f808335601e1984360301811261311a575f80fd5b8301803591506001600160401b03821115613133575f80fd5b6020019150600581901b3603821315612c48575f80fd5b5f808335601e1984360301811261315f575f80fd5b8301803591506001600160401b03821115613178575f80fd5b602001915036819003821315612c48575f80fd5b5f808335601e198436030181126131a1575f80fd5b83016020810192503590506001600160401b038111156131bf575f80fd5b803603821315612c48575f80fd5b5f6101206131eb846131de85612b26565b6001600160a01b03169052565b60208301356020850152613202604084018461318c565b8260408701526132158387018284613075565b92505050613226606084018461318c565b8583036060870152613239838284613075565b925050506080830135608085015260a083013560a085015260c083013560c085015261326860e084018461318c565b85830360e087015261327b838284613075565b9250505061010061328e8185018561318c565b868403838801526132a0848284613075565b979650505050505050565b604080825281018490525f6060600586901b8301810190830187835b8881101561330f57858403605f190183528135368b900361011e190181126132ed575f80fd5b6132f9858c83016131cd565b94505060209283019291909101906001016132c7565b50505082810360208401526132a0818587613075565b634e487b7160e01b5f52602160045260245ffd5b5f6003861061335657634e487b7160e01b5f52602160045260245ffd5b8582526080602083015261336d6080830186612f84565b6040830194909452506060015292915050565b602081525f6126276020830184612f84565b604081525f6133a460408301856131cd565b90508260208301529392505050565b805180516001600160a01b031683526020810151602084015260408101516040840152606081015160608401526080810151608084015260a081015160a084015260c081015160c084015260e081015161341860e08501826001600160a01b03169052565b5061010081810151908401526101209081015190830152602081015161014083015260408101516101608301526060810151610180830152608001516101a090910152565b5f61020080835261347081840187612f84565b905061347f60208401866133b3565b8281036101e08401526134928185612f84565b9695505050505050565b5f6102008083526134b08184018789613075565b90506134bf60208401866133b3565b8281036101e08401526132a08185612f84565b606081525f6134e460608301866131cd565b60208301949094525060400152919050565b5f60208284031215613506575f80fd5b5051919050565b82815260606020820152600d60608201526c10504c8cc81c995d995c9d1959609a1b608082015260a060408201525f611fa160a0830184612f84565b5f806040838503121561355a575f80fd5b82516001600160401b0381111561356f575f80fd5b8301601f8101851361357f575f80fd5b805161358d612c9a82612ae9565b8181528660208385010111156135a1575f80fd5b6135b2826020830160208601612f62565b60209590950151949694955050505050565b82815260606020820152600d60608201526c10504cccc81c995d995c9d1959609a1b608082015260a060408201525f611fa160a0830184612f84565b5f808585111561360e575f80fd5b8386111561361a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156136545780818660140360031b1b83161692505b505092915050565b6fffffffffffffffffffffffffffffffff1981358181169160108510156136545760109490940360031b84901b169092169291505056fea2646970667358221220397996f36f516bad9951ba1f23ade372bdd0ef7639623362f57652a7762031c164736f6c63430008170033608060405234801561000f575f80fd5b506101e28061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063570e1a361461002d575b5f80fd5b61004061003b3660046100e4565b61005c565b6040516001600160a01b03909116815260200160405180910390f35b5f8061006b6014828587610150565b61007491610177565b60601c90505f6100878460148188610150565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525084519495509360209350849250905082850182875af190505f519350806100db575f93505b50505092915050565b5f80602083850312156100f5575f80fd5b823567ffffffffffffffff8082111561010c575f80fd5b818501915085601f83011261011f575f80fd5b81358181111561012d575f80fd5b86602082850101111561013e575f80fd5b60209290920196919550909350505050565b5f808585111561015e575f80fd5b8386111561016a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156101a45780818660140360031b1b83161692505b50509291505056fea264697066735822122078c1aaa9f040f8c523cf2b642dd06415593eec30d2e75021458af7e0c704e6fb64736f6c63430008170033",qqt={};Le(qqt,{abi:()=>Wqt,bytecode:()=>Yqt});Wqt=[{type:"function",name:"executeUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"}],Yqt="0x",Jqt={};Le(Jqt,{abi:()=>Qqt,bytecode:()=>Zqt});Qqt=[{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"onERC1155Received",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],Zqt="0x",Xqt={};Le(Xqt,{abi:()=>eWt,bytecode:()=>tWt});eWt=[{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"balanceOfBatch",inputs:[{name:"accounts",type:"address[]",internalType:"address[]"},{name:"ids",type:"uint256[]",internalType:"uint256[]"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"account",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"safeBatchTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"ids",type:"uint256[]",internalType:"uint256[]"},{name:"values",type:"uint256[]",internalType:"uint256[]"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"ApprovalForAll",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TransferBatch",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"ids",type:"uint256[]",indexed:!1,internalType:"uint256[]"},{name:"values",type:"uint256[]",indexed:!1,internalType:"uint256[]"}],anonymous:!1},{type:"event",name:"TransferSingle",inputs:[{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"URI",inputs:[{name:"value",type:"string",indexed:!1,internalType:"string"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],tWt="0x",rWt={};Le(rWt,{abi:()=>nWt,bytecode:()=>iWt});nWt=[{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"}],iWt="0x",oWt={};Le(oWt,{abi:()=>aWt,bytecode:()=>sWt});aWt=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"approveAndCall",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"approveAndCall",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferAndCall",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferAndCall",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFromAndCall",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFromAndCall",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],sWt="0x",cWt={};Le(cWt,{abi:()=>lWt,bytecode:()=>uWt});lWt=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],uWt="0x",dWt={};Le(dWt,{abi:()=>fWt,bytecode:()=>pWt});fWt=[{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],pWt="0x",hWt={};Le(hWt,{abi:()=>mWt,bytecode:()=>bWt});mWt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"executions_",type:"tuple[]",internalType:"struct Execution[]",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],bWt="0x608060405234801561001057600080fd5b5061083a806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610417565b50505050505050505050565b005b610076610086366004610417565b6100b4565b61009e6100993660046104e4565b6102fd565b6040516100ab9190610526565b60405180910390f35b85600160f81b6001600160f81b03198216146101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6001600160f81b03198116156101835760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b503660006101918989610319565b9150915060006101a18f8f6102fd565b8051909150821461020a5760405162461bcd60e51b815260206004820152602d60248201527f457861637443616c6c646174614261746368456e666f726365723a696e76616c60448201526c69642d62617463682d73697a6560981b606482015260840161010e565b60005b828110156102eb57838382818110610227576102276105e8565b905060200281019061023991906105fe565b61024790604081019061061e565b604051610255929190610665565b604051809103902082828151811061026f5761026f6105e8565b60200260200101516040015180519060200120146102e35760405162461bcd60e51b815260206004820152602b60248201527f457861637443616c6c646174614261746368456e666f726365723a696e76616c60448201526a69642d63616c6c6461746160a81b606482015260840161010e565b60010161020d565b50505050505050505050505050505050565b60606103098383610319565b610312916106e5565b9392505050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156103515763ba597e7e6000526004601cfd5b83156103a8578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c171561039f5763ba597e7e6000526004601cfd5b5050508261035b575b5050509250929050565b60008083601f8401126103c457600080fd5b50813567ffffffffffffffff8111156103dc57600080fd5b6020830191508360208285010111156103f457600080fd5b9250929050565b80356001600160a01b038116811461041257600080fd5b919050565b60008060008060008060008060008060e08b8d03121561043657600080fd5b8a3567ffffffffffffffff8082111561044e57600080fd5b61045a8e838f016103b2565b909c509a5060208d013591508082111561047357600080fd5b61047f8e838f016103b2565b909a50985060408d0135975060608d013591508082111561049f57600080fd5b506104ac8d828e016103b2565b90965094505060808b013592506104c560a08c016103fb565b91506104d360c08c016103fb565b90509295989b9194979a5092959850565b600080602083850312156104f757600080fd5b823567ffffffffffffffff81111561050e57600080fd5b61051a858286016103b2565b90969095509350505050565b600060208083018184528085518083526040925060408601915060408160051b8701018488016000805b848110156105d957898403603f19018652825180516001600160a01b0316855288810151898601528701516060888601819052815190860181905283905b808210156105ac578282018b015187830160800152908a019061058e565b8681016080908101869052988b0198601f909101601f191690960190950194505091870191600101610550565b50919998505050505050505050565b634e487b7160e01b600052603260045260246000fd5b60008235605e1983360301811261061457600080fd5b9190910192915050565b6000808335601e1984360301811261063557600080fd5b83018035915067ffffffffffffffff82111561065057600080fd5b6020019150368190038213156103f457600080fd5b8183823760009101908152919050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff811182821017156106ae576106ae610675565b60405290565b604051601f8201601f1916810167ffffffffffffffff811182821017156106dd576106dd610675565b604052919050565b600067ffffffffffffffff8084111561070057610700610675565b8360051b60206107118183016106b4565b86815291850191818101903684111561072957600080fd5b865b848110156107f8578035868111156107435760008081fd5b880160603682900312156107575760008081fd5b61075f61068b565b610768826103fb565b81528582013586820152604080830135898111156107865760008081fd5b9290920191601f368185011261079c5760008081fd5b83358a8111156107ae576107ae610675565b6107bf818301601f19168a016106b4565b915080825236898287010111156107d65760008081fd5b808986018a84013760009082018901529082015284525091830191830161072b565b5097965050505050505056fea26469706673582212208d28ccd8e989ae016d34ead1b420bc19b8be9eaa747049c2602c587d0a44891264736f6c63430008170033",yWt={};Le(yWt,{abi:()=>gWt,bytecode:()=>wWt});gWt=[{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"}],wWt="0x",vWt={};Le(vWt,{abi:()=>EWt,bytecode:()=>xWt});EWt=[{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"}],xWt="0x",AWt={};Le(AWt,{abi:()=>TWt,bytecode:()=>_Wt});TWt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"executions_",type:"tuple[]",internalType:"struct Execution[]",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"}],_Wt="0x608060405234801561001057600080fd5b50610870806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103e9565b50505050505050505050565b005b6100766100863660046103e9565b6100b4565b61009e6100993660046104b6565b6102cf565b6040516100ab91906104f8565b60405180910390f35b85600160f81b6001600160f81b03198216146101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6001600160f81b03198116156101835760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b5036600061019189896102eb565b9150915060006101a18f8f6102cf565b8051909150821461020b5760405162461bcd60e51b815260206004820152602e60248201527f4578616374457865637574696f6e4261746368456e666f726365723a696e766160448201526d6c69642d62617463682d73697a6560901b606482015260840161010e565b8060405160200161021c91906104f8565b6040516020818303038152906040528051906020012083836040516020016102459291906105ba565b60405160208183030381529060405280519060200120146102be5760405162461bcd60e51b815260206004820152602d60248201527f4578616374457865637574696f6e4261746368456e666f726365723a696e766160448201526c3634b216b2bc32b1baba34b7b760991b606482015260840161010e565b505050505050505050505050505050565b60606102db83836102eb565b6102e49161071b565b9392505050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156103235763ba597e7e6000526004601cfd5b831561037a578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156103715763ba597e7e6000526004601cfd5b5050508261032d575b5050509250929050565b60008083601f84011261039657600080fd5b50813567ffffffffffffffff8111156103ae57600080fd5b6020830191508360208285010111156103c657600080fd5b9250929050565b80356001600160a01b03811681146103e457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561040857600080fd5b8a3567ffffffffffffffff8082111561042057600080fd5b61042c8e838f01610384565b909c509a5060208d013591508082111561044557600080fd5b6104518e838f01610384565b909a50985060408d0135975060608d013591508082111561047157600080fd5b5061047e8d828e01610384565b90965094505060808b0135925061049760a08c016103cd565b91506104a560c08c016103cd565b90509295989b9194979a5092959850565b600080602083850312156104c957600080fd5b823567ffffffffffffffff8111156104e057600080fd5b6104ec85828601610384565b90969095509350505050565b600060208083018184528085518083526040925060408601915060408160051b8701018488016000805b848110156105ab57898403603f19018652825180516001600160a01b0316855288810151898601528701516060888601819052815190860181905283905b8082101561057e578282018b015187830160800152908a0190610560565b8681016080908101869052988b0198601f909101601f191690960190950194505091870191600101610522565b50919998505050505050505050565b60208082528181018390526000906040808401600586901b8501820187855b8881101561069d57878303603f190184528135368b9003605e190181126105ff57600080fd5b8a0160606001600160a01b03610614836103cd565b168552878201358886015286820135601e1983360301811261063557600080fd5b90910187810191903567ffffffffffffffff81111561065357600080fd5b80360383131561066257600080fd5b8188870152808287015260809150808383880137600086820183015295880195601f01601f19169094019093019250908501906001016105d9565b509098975050505050505050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff811182821017156106e4576106e46106ab565b60405290565b604051601f8201601f1916810167ffffffffffffffff81118282101715610713576107136106ab565b604052919050565b600067ffffffffffffffff80841115610736576107366106ab565b8360051b60206107478183016106ea565b86815291850191818101903684111561075f57600080fd5b865b8481101561082e578035868111156107795760008081fd5b8801606036829003121561078d5760008081fd5b6107956106c1565b61079e826103cd565b81528582013586820152604080830135898111156107bc5760008081fd5b9290920191601f36818501126107d25760008081fd5b83358a8111156107e4576107e46106ab565b6107f5818301601f19168a016106ea565b9150808252368982870101111561080c5760008081fd5b808986018a840137600090820189015290820152845250918301918301610761565b5097965050505050505056fea26469706673582212205e0b91ba43666d3d9ebd5eb11438023697fc7df67dea03687ac126f13d8d464564736f6c63430008170033",SWt={};Le(SWt,{abi:()=>IWt,bytecode:()=>CWt});IWt=[{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"error",name:"ExecutionFailed",inputs:[]}],CWt="0x6080604052348015600f57600080fd5b50603f80601d6000396000f3fe6080604052600080fdfea264697066735822122070e8319b78da08f58cb6bf69f50e33c8c919ae6c2113f3ef3b34f1da6bf44c5f64736f6c63430008170033",RWt={};Le(RWt,{abi:()=>PWt,bytecode:()=>OWt});PWt=[{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1}],OWt="0x",NWt={};Le(NWt,{abi:()=>kWt,bytecode:()=>MWt});kWt=[{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],MWt="0x",BWt={};Le(BWt,{abi:()=>DWt,bytecode:()=>LWt});DWt=[{type:"function",name:"approve",inputs:[{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"operator",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1}],LWt="0x",UWt={};Le(UWt,{abi:()=>FWt,bytecode:()=>HWt});FWt=[{type:"function",name:"accountId",inputs:[],outputs:[{name:"accountImplementationId",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"installModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"isModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"additionalContext",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"encodedMode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"supportsModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"uninstallModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"deInitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"ModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"ModuleUninstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1}],HWt="0x",zWt={};Le(zWt,{abi:()=>GWt,bytecode:()=>jWt});GWt=[{type:"function",name:"postOp",inputs:[{name:"mode",type:"uint8",internalType:"enum IPaymaster.PostOpMode"},{name:"context",type:"bytes",internalType:"bytes"},{name:"actualGasCost",type:"uint256",internalType:"uint256"},{name:"actualUserOpFeePerGas",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"validatePaymasterUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"maxCost",type:"uint256",internalType:"uint256"}],outputs:[{name:"context",type:"bytes",internalType:"bytes"},{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"}],jWt="0x",$Wt={};Le($Wt,{abi:()=>VWt,bytecode:()=>KWt});VWt=[{type:"function",name:"addStake",inputs:[{name:"_unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],KWt="0x",qWt={};Le(qWt,{abi:()=>WWt,bytecode:()=>YWt});WWt=[{type:"function",name:"addStake",inputs:[{name:"_unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"delegateAndRevert",inputs:[{name:"target",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getSenderAddress",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"handleAggregatedOps",inputs:[{name:"opsPerAggregator",type:"tuple[]",internalType:"struct IEntryPoint.UserOpsPerAggregator[]",components:[{name:"userOps",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"aggregator",type:"address",internalType:"contract IAggregator"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"handleOps",inputs:[{name:"ops",type:"tuple[]",internalType:"struct PackedUserOperation[]",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"beneficiary",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AccountDeployed",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"factory",type:"address",indexed:!1,internalType:"address"},{name:"paymaster",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"BeforeExecution",inputs:[],anonymous:!1},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PostOpRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"SignatureAggregatorChanged",inputs:[{name:"aggregator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationEvent",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"paymaster",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"},{name:"actualGasCost",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actualGasUsed",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationPrefundTooLow",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"UserOperationRevertReason",inputs:[{name:"userOpHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"},{name:"revertReason",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"DelegateAndRevert",inputs:[{name:"success",type:"bool",internalType:"bool"},{name:"ret",type:"bytes",internalType:"bytes"}]},{type:"error",name:"FailedOp",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"}]},{type:"error",name:"FailedOpWithRevert",inputs:[{name:"opIndex",type:"uint256",internalType:"uint256"},{name:"reason",type:"string",internalType:"string"},{name:"inner",type:"bytes",internalType:"bytes"}]},{type:"error",name:"PostOpReverted",inputs:[{name:"returnData",type:"bytes",internalType:"bytes"}]},{type:"error",name:"SenderAddressResult",inputs:[{name:"sender",type:"address",internalType:"address"}]},{type:"error",name:"SignatureValidationFailed",inputs:[{name:"aggregator",type:"address",internalType:"address"}]}],YWt="0x",JWt={};Le(JWt,{abi:()=>QWt,bytecode:()=>ZWt});QWt=[{type:"function",name:"adapters",inputs:[{name:"id",type:"string",internalType:"string"}],outputs:[{name:"",type:"tuple",internalType:"struct IMetaSwap.Adapter",components:[{name:"addr",type:"address",internalType:"address"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"data",type:"bytes",internalType:"bytes"}]}],stateMutability:"view"},{type:"function",name:"removeAdapter",inputs:[{name:"aggregatorId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setAdapter",inputs:[{name:"aggregatorId",type:"string",internalType:"string"},{name:"addr",type:"address",internalType:"address"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"swap",inputs:[{name:"aggregatorId",type:"string",internalType:"string"},{name:"tokenFrom",type:"address",internalType:"contract IERC20"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"}],ZWt="0x",Qi={};Le(Qi,{abi:()=>XWt,bytecode:()=>eYt});XWt=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"addKey",inputs:[{name:"_keyId",type:"string",internalType:"string"},{name:"_x",type:"uint256",internalType:"uint256"},{name:"_y",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getKey",inputs:[{name:"_keyId",type:"string",internalType:"string"}],outputs:[{name:"x_",type:"uint256",internalType:"uint256"},{name:"y_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getKeyIdHashes",inputs:[],outputs:[{name:"",type:"bytes32[]",internalType:"bytes32[]"}],stateMutability:"view"},{type:"function",name:"getKeyIdHashesCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"reinitialize",inputs:[{name:"_version",type:"uint8",internalType:"uint8"},{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"},{name:"_deleteP256Keys",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeKey",inputs:[{name:"_keyId",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"_newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateSigners",inputs:[{name:"_owner",type:"address",internalType:"address"},{name:"_keyIds",type:"string[]",internalType:"string[]"},{name:"_xValues",type:"uint256[]",internalType:"uint256[]"},{name:"_yValues",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AddedP256Key",inputs:[{name:"keyIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"keyId",type:"string",indexed:!1,internalType:"string"},{name:"x",type:"uint256",indexed:!1,internalType:"uint256"},{name:"y",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"RemovedP256Key",inputs:[{name:"keyIdHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"x",type:"uint256",indexed:!1,internalType:"uint256"},{name:"y",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"CannotRemoveLastSigner",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InputLengthsMismatch",inputs:[{name:"keyIdsLength",type:"uint256",internalType:"uint256"},{name:"xValuesLength",type:"uint256",internalType:"uint256"},{name:"yValuesLength",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidEmptyKey",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"KeyAlreadyExists",inputs:[{name:"keyIdHash",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"KeyDoesNotExist",inputs:[{name:"keyIdHash",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"KeyNotOnCurve",inputs:[{name:"x",type:"uint256",internalType:"uint256"},{name:"y",type:"uint256",internalType:"uint256"}]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"SignersCannotBeEmpty",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],eYt="0x6101c0604052306080523480156200001657600080fd5b506040516200556538038062005565833981016040819052620000399162000319565b81816040518060400160405280600f81526020016e243cb13934b22232b632a3b0ba37b960891b815250604051806040016040528060018152602001603160f81b815250818162000095600083620001ca60201b90919060201c565b61014052620000a6816001620001ca565b61016052815160208084019190912061010052815190820120610120524660c052620001366101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0526200014962000203565b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a250505050505062000541565b6000602083511015620001ea57620001e283620002b7565b9050620001fd565b81620001f78482620003ff565b5060ff90505b92915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff1615620002545760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b0390811614620002b45780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b600080829050601f81511115620002ee578260405163305a27a960e01b8152600401620002e59190620004cb565b60405180910390fd5b8051620002fb826200051c565b179392505050565b6001600160a01b0381168114620002b457600080fd5b600080604083850312156200032d57600080fd5b82516200033a8162000303565b60208401519092506200034d8162000303565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806200038357607f821691505b602082108103620003a457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620003fa576000816000526020600020601f850160051c81016020861015620003d55750805b601f850160051c820191505b81811015620003f657828155600101620003e1565b5050505b505050565b81516001600160401b038111156200041b576200041b62000358565b62000433816200042c84546200036e565b84620003aa565b602080601f8311600181146200046b5760008415620004525750858301515b600019600386901b1c1916600185901b178555620003f6565b600085815260208120601f198616915b828110156200049c578886015182559484019460019091019084016200047b565b5085821015620004bb5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620004fb57858101830151858201604001528201620004dd565b506000604082860101526040601f19601f8301168501019250505092915050565b80516020808301519190811015620003a45760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051614eeb6200067a6000396000818161068c0152818161091e015281816109cb01528181610abe01528181610b3c01528181610ca001528181610d5501528181610de001528181610e5001528181610f3c01528181610ff701528181611069015281816112c301528181611342015281816113ab015281816114a60152818161156501528181611a1b01528181611d0e01528181611d7c0152612d4e0152600081816107ff01528181610b9f01528181610c2201528181610d030152818161140e01526117ac0152600061275a0152600061272d01526000611f3e01526000611f1601526000611e7101526000611e9b01526000611ec5015260008181612190015281816121b901526126100152614eeb6000f3fe6080604052600436106102765760003560e01c80638da5cb5b1161014f578063c8561e73116100c1578063e9ae5c531161007a578063e9ae5c53146107da578063ea4d3c9b146107ed578063ed8101b514610821578063f23a6e6114610841578063f2fde38b14610861578063ffa1ad741461088157600080fd5b8063c8561e7314610710578063cef6d20914610730578063d087d28814610750578063d37aec9214610765578063d5d33b551461079a578063d691c964146107ba57600080fd5b8063acb8cc4911610113578063acb8cc491461061c578063ad3cb1cc14610649578063b0d691fe1461067a578063b3c65015146106ae578063bc197c81146106db578063c399ec88146106fb57600080fd5b80638da5cb5b1461054d5780638ebf95331461058c578063a24c8f32146105ac578063a3f4df7e146105bf578063aaf10f421461060757600080fd5b8063445140b8116101e85780635c1c6dcd116101ac5780635c1c6dcd146104a8578063715018a6146104bb57806378a68ecf146104d05780637f07bfdc146104f057806383ebb7711461051057806384b0196e1461052557600080fd5b8063445140b81461043857806349934047146104585780634a58db19146104785780634f1ef2861461048057806352d1902d1461049357600080fd5b806319822f7c1161023a57806319822f7c146103605780631c03010a146103805780632b3afd99146103a25780632ffeaad6146103d65780633e1b0812146103f85780633ed010151461041857600080fd5b806301ffc9a71461028257806306394d67146102b7578063074feff3146102e5578063150b7a02146103075780631626ba7e1461034057600080fd5b3661027d57005b600080fd5b34801561028e57600080fd5b506102a261029d366004613d03565b6108b2565b60405190151581526020015b60405180910390f35b3480156102c357600080fd5b506102d76102d2366004613d46565b6108de565b6040519081526020016102ae565b3480156102f157600080fd5b50610305610300366004613ded565b610913565b005b34801561031357600080fd5b50610327610322366004613f5c565b610984565b6040516001600160e01b031990911681526020016102ae565b34801561034c57600080fd5b5061032761035b366004614008565b61099f565b34801561036c57600080fd5b506102d761037b366004614053565b6109be565b34801561038c57600080fd5b50600080516020614e36833981519152546102d7565b3480156103ae57600080fd5b506102d77fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156103e257600080fd5b506103eb610a2e565b6040516102ae91906140a0565b34801561040457600080fd5b506102d76104133660046140d8565b610a97565b34801561042457600080fd5b50610305610433366004614101565b610b31565b34801561044457600080fd5b506102a261045336600461413b565b610c09565b34801561046457600080fd5b50610305610473366004614101565b610c95565b610305610d38565b61030561048e366004614154565b610da2565b34801561049f57600080fd5b506102d7610db8565b6103056104b63660046141a3565b610dd5565b3480156104c757600080fd5b50610305610e45565b3480156104dc57600080fd5b506103056104eb3660046141f6565b610ea8565b3480156104fc57600080fd5b5061030561050b3660046142c8565b610fec565b34801561051c57600080fd5b506102d76110c9565b34801561053157600080fd5b5061053a6110d8565b6040516102ae9796959493929190614344565b34801561055957600080fd5b50600080516020614e16833981519152546001600160a01b03165b6040516001600160a01b0390911681526020016102ae565b34801561059857600080fd5b506103056105a7366004613ded565b61111e565b6103056105ba366004614154565b610daa565b3480156105cb57600080fd5b506105fa6040518060400160405280600f81526020016e243cb13934b22232b632a3b0ba37b960891b81525081565b6040516102ae91906143dd565b34801561061357600080fd5b5061057461123a565b34801561062857600080fd5b506105fa604051806040016040528060018152602001603160f81b81525081565b34801561065557600080fd5b506105fa604051806040016040528060058152602001640352e302e360dc1b81525081565b34801561068657600080fd5b506105747f000000000000000000000000000000000000000000000000000000000000000081565b3480156106ba57600080fd5b506106c361125b565b6040516001600160401b0390911681526020016102ae565b3480156106e757600080fd5b506103276106f636600461446f565b61128e565b34801561070757600080fd5b506102d76112ab565b34801561071c57600080fd5b5061030561072b36600461451c565b611337565b34801561073c57600080fd5b5061030561074b36600461456c565b6113a0565b34801561075c57600080fd5b506102d7611487565b34801561077157600080fd5b50610785610780366004614605565b6114dd565b604080519283526020830191909152016102ae565b3480156107a657600080fd5b506103056107b5366004614605565b61155a565b6107cd6107c8366004614008565b61179f565b6040516102ae9190614646565b6103056107e8366004614008565b611a10565b3480156107f957600080fd5b506105747f000000000000000000000000000000000000000000000000000000000000000081565b34801561082d57600080fd5b506102d761083c366004613d46565b611c13565b34801561084d57600080fd5b5061032761085c3660046146aa565b611d55565b34801561086d57600080fd5b5061030561087c366004614712565b611d71565b34801561088d57600080fd5b506105fa604051806040016040528060058152602001640312e332e360dc1b81525081565b60006108bd82611dd4565b806108d857506001600160e01b031982166307f5828d60e41b145b92915050565b60006108d86108eb611e64565b6108f484611c13565b60405161190160f01b8152600281019290925260228201526042902090565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061094c5750333014155b1561096a57604051630796d94560e01b815260040160405180910390fd5b61097b878787878787876001611f8f565b50505050505050565b600061098e612185565b50630a85bd0160e11b949350505050565b60006109a9612185565b6109b484848461222a565b90505b9392505050565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610a0957604051636b31ba1560e11b815260040160405180910390fd5b610a11612185565b610a2384610a1e866108de565b61244e565b90506109b782612496565b60606000600080516020614e1683398151915260028101805460408051602080840282018101909252828152939450830182828015610a8c57602002820191906000526020600020905b815481526020019060010190808311610a78575b505050505091505090565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610b0d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d8919061472f565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610b6a5750333014155b15610b8857604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed0101590610bd4908490600401614877565b600060405180830381600087803b158015610bee57600080fd5b505af1158015610c02573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610c71573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d89190614953565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610cce5750333014155b15610cec57604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690634993404790610bd4908490600401614877565b610d40612185565b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b158015610bee57600080fd5b610daa61252d565b610db482826125ea565b5050565b6000610dc2612605565b50600080516020614e5683398151915290565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610e1e57604051636b31ba1560e11b815260040160405180910390fd5b610db4610e2e6020830183614712565b6020830135610e406040850185614970565b61264e565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610e7e5750333014155b15610e9c57604051630796d94560e01b815260040160405180910390fd5b610ea66000612684565b565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805460ff8b81169291600160401b90041680610ef2575080546001600160401b03808416911610155b15610f105760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b178155336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610f6a5750333014155b15610f8857604051630796d94560e01b815260040160405180910390fd5b610f988a8a8a8a8a8a8a8a611f8f565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15050505050505050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906110255750333014155b1561104357604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156110ad57600080fd5b505af11580156110c1573d6000803e3d6000fd5b505050505050565b60006110d3611e64565b905090565b6000606080600080600060606110ec612726565b6110f4612753565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff1615906001600160401b03166000811580156111635750825b90506000826001600160401b0316600114801561117f5750303b155b90508115801561118d575080155b156111ab5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156111d557845460ff60401b1916600160401b1785555b6111e68c8c8c8c8c8c8c6000611f8f565b831561122c57845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050505050505050565b60006110d3600080516020614e56833981519152546001600160a01b031690565b60006110d37ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00546001600160401b031690565b6000611298612185565b5063bc197c8160e01b5b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015611313573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110d3919061472f565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906113705750333014155b1561138e57604051630796d94560e01b815260040160405180910390fd5b61139a84848484612780565b50505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906113d95750333014155b156113f757604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061144d90899089908990899089908990600401614a17565b600060405180830381600087803b15801561146757600080fd5b505af115801561147b573d6000803e3d6000fd5b50505050505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a906044016112f6565b60008080600080516020614e1683398151915290506000816001016000878760405160200161150d929190614a80565b60408051601f198184030181529181528151602092830120835282820193909352908201600020825180840190935280548084526001909101549290910182905297909650945050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906115935750333014155b156115b157604051630796d94560e01b815260040160405180910390fd5b604051600080516020614e16833981519152906000906115d79085908590602001614a80565b60408051601f198184030181528282528051602091820120600081815260018088018452908490208585019094528354808652930154918401829052935081158015611621575080155b1561164757604051631a36430d60e31b8152600481018590526024015b60405180910390fd5b6002850154600181148015611664575085546001600160a01b0316155b156116825760405163c4c8547360e01b815260040160405180910390fd5b60005b611690600183614aa6565b81101561171557858760020182815481106116ad576116ad614ab9565b90600052602060002001540361170d57600287016116cc600184614aa6565b815481106116dc576116dc614ab9565b90600052602060002001548760020182815481106116fc576116fc614ab9565b600091825260209091200155611715565b600101611685565b508560020180548061172957611729614acf565b60008281526020808220830160001990810183905590920190925586825260018881018252604080842084815590910192909255815185815290810184905286917facf0e8088062f44f734bbcb5223794fd8bb6f6db1c199cb6a72df119d002a71b910160405180910390a25050505050505050565b6060336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146117ea57604051630692ce8160e21b815260040160405180910390fd5b83600881901b6117fe82600160f81b6128fd565b1561187f57366000611810878761290f565b90925090506118208360006128fd565b156118365761182f82826129a8565b9450611878565b61184483600160f81b6128fd565b156118535761182f8282612a69565b6040516308c3ee0360e11b81526001600160f81b03198416600482015260240161163e565b5050611a07565b61188a8260006128fd565b156119e25760008036600061189f8989612b96565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816118be57905050965060006118e186826128fd565b15611915576118f28585858561264e565b8860008151811061190557611905614ab9565b60200260200101819052506119d8565b61192386600160f81b6128fd565b156119b35761193485858585612be7565b8960008151811061194757611947614ab9565b60209081029190910101529050806119ae577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb760008960008151811061198f5761198f614ab9565b60200260200101516040516119a5929190614ae5565b60405180910390a15b6119d8565b6040516308c3ee0360e11b81526001600160f81b03198716600482015260240161163e565b5050505050611a07565b604051632e5bf3f960e21b81526001600160f81b03198316600482015260240161163e565b50509392505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611a5957604051636b31ba1560e11b815260040160405180910390fd5b82600881901b611a6d82600160f81b6128fd565b15611ac857366000611a7f868661290f565b9092509050611a8f8360006128fd565b15611aa457611a9e82826129a8565b50611ac1565b611ab283600160f81b6128fd565b1561185357611a9e8282612a69565b5050610c02565b611ad38260006128fd565b156119e257600080366000611ae88888612b96565b9350935093509350611afe85600060f81b6128fd565b15611b1557611b0f8484848461264e565b50611c0a565b611b2385600160f81b6128fd565b15611be557604080516001808252818301909252600091816020015b6060815260200190600190039081611b3f5790505090506000611b6486868686612be7565b83600081518110611b7757611b77614ab9565b6020908102919091010152905080611bde577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb7600083600081518110611bbf57611bbf614ab9565b6020026020010151604051611bd5929190614ae5565b60405180910390a15b5050611c0a565b6040516308c3ee0360e11b81526001600160f81b03198616600482015260240161163e565b50505050610c02565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc18611c436020840184614712565b6020840135611c556040860186614970565b604051611c63929190614a80565b604051908190039020611c796060870187614970565b604051611c87929190614a80565b604051908190039020608087013560a088013560c0890135611cac60e08b018b614970565b604051611cba929190614a80565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b6000611d5f612185565b5063f23a6e6160e01b95945050505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611daa5750333014155b15611dc857604051630796d94560e01b815260040160405180910390fd5b611dd181612684565b50565b6000611dde612185565b6001600160e01b031982166335a4725960e21b1480611e0d57506001600160e01b03198216630a85bd0160e11b145b80611e2857506001600160e01b03198216630271189760e51b145b80611e4357506001600160e01b031982166301ffc9a760e01b145b806108d8575050630b135d3f60e11b6001600160e01b03198216145b919050565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015611ebd57507f000000000000000000000000000000000000000000000000000000000000000046145b15611ee757507f000000000000000000000000000000000000000000000000000000000000000090565b6110d3604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b856001600160a01b038916158015611fa5575080155b8015611fae5750815b15611fcc576040516312da594d60e11b815260040160405180910390fd5b8085141580611fdb5750808314155b1561200a5760405163a297991b60e01b815260048101829052602481018690526044810184905260640161163e565b81156120ff57600080516020614e3683398151915254600080516020614e168339815191529080156120fc5760005b818110156120ed57600083600201828154811061205857612058614ab9565b6000918252602080832090910154808352600180880180845260408086208151808301835281548152938101805485880190815286895293909652869055949093558051925193519194509284927facf0e8088062f44f734bbcb5223794fd8bb6f6db1c199cb6a72df119d002a71b926120db9290918252602082015260400190565b60405180910390a25050600101612039565b506120fc600283016000613cd1565b50505b60005b818110156121705761216889898381811061211f5761211f614ab9565b90506020028101906121319190614970565b89898581811061214357612143614ab9565b9050602002013588888681811061215c5761215c614ab9565b90506020020135612780565b600101612102565b5061217a89612684565b505050505050505050565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148061220c57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316612200600080516020614e56833981519152546001600160a01b031690565b6001600160a01b031614155b15610ea65760405163703e46dd60e11b815260040160405180910390fd5b60008160418190036122c757600080516020614e16833981519152546001600160a01b03166001600160a01b03166122988686868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250612c1892505050565b6001600160a01b0316036122b65750630b135d3f60e11b90506109b7565b506001600160e01b031990506109b7565b60608110156122e157506001600160e01b031990506109b7565b600080516020614e1683398151915260006122ff6020828789614afe565b61230891614b28565b60008181526001808501602090815260409283902083518085019094528054808552920154908301529192509015801561234457506020810151155b1561235e57506001600160e01b031993506109b792505050565b8360601480156123b257506123b28888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050855160208701519092509050612c42565b156123cb5750630b135d3f60e11b93506109b792505050565b8360601415801561242057506124208888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050855160208701519092509050612ce0565b156124395750630b135d3f60e11b93506109b792505050565b506001600160e01b031993506109b792505050565b60008061246883612463610100870187614970565b61222a565b90506374eca2c160e11b6001600160e01b031982160161248c5760009150506108d8565b5060019392505050565b8015611dd157604051600090339060001990849084818181858888f193505050503d80600081146124e3576040519150601f19603f3d011682016040523d82523d6000602084013e6124e8565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a25050565b600080516020614e3683398151915254600080516020614e168339815191529060005b818110156125a05782600101600084600201838154811061257357612573614ab9565b60009182526020808320909101548352820192909252604001812081815560019081019190915501612550565b506125af600283016000613cd1565b81546001600160a01b03191682556040517feb09d532980c3cc73dcad99b80e264204a667a54cbb7b63ec8d68dcb1c7096be90600090a15050565b6125f2612185565b6125fb82612d43565b610db48282612d9a565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610ea65760405163703e46dd60e11b815260040160405180910390fd5b60405181838237600038838387895af161266b573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b600080516020614e3683398151915254600080516020614e16833981519152901580156126b857506001600160a01b038216155b156126d65760405163c4c8547360e01b815260040160405180910390fd5b80546001600160a01b031981166001600160a01b03848116918217845560405192169182907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3505050565b60606110d37f00000000000000000000000000000000000000000000000000000000000000006000612e5c565b60606110d37f00000000000000000000000000000000000000000000000000000000000000006001612e5c565b61278a8282612f07565b6127b1576040516313c3d61f60e01b8152600481018390526024810182905260440161163e565b600084846040516020016127c6929190614a80565b6040516020818303038152906040528051906020012090508484905060000361280257604051637e25658160e11b815260040160405180910390fd5b60008181527fa2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694901602052604090208054600080516020614e1683398151915291901515806128525750600181015415155b15612873576040516361db108160e01b81526004810184905260240161163e565b604080518082018252868152602080820187815260008781526001808801845285822094518555915193820193909355600286018054918201815583529120018490555183907fd00539cb08a7c24166308150d64d603150c01baf89d3d3e4c6063d6db7c6983d906128ec908a908a908a908a90614b46565b60405180910390a250505050505050565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156129475763ba597e7e6000526004601cfd5b831561299e578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156129955763ba597e7e6000526004601cfd5b50505082612951575b5050509250929050565b606081806001600160401b038111156129c3576129c3613e99565b6040519080825280602002602001820160405280156129f657816020015b60608152602001906001900390816129e15790505b50915060005b81811015612a615736858583818110612a1757612a17614ab9565b9050602002810190612a299190614b6d565b9050612a3b610e2e6020830183614712565b848381518110612a4d57612a4d614ab9565b6020908102919091010152506001016129fc565b505092915050565b606081806001600160401b03811115612a8457612a84613e99565b604051908082528060200260200182016040528015612ab757816020015b6060815260200190600190039081612aa25790505b50915060005b81811015612a615736858583818110612ad857612ad8614ab9565b9050602002810190612aea9190614b6d565b90506000612b15612afe6020840184614712565b6020840135612b106040860186614970565b612be7565b868581518110612b2757612b27614ab9565b6020908102919091010152905080612b8c577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612b6d57612b6d614ab9565b6020026020010151604051612b83929190614ae5565b60405180910390a15b5050600101612abd565b6000803681612ba86014828789614afe565b612bb191614b8d565b60601c9350612bc4603460148789614afe565b612bcd91614b28565b9250612bdc8560348189614afe565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080612c288686612f6a565b925092509250612c388282612fb7565b5090949350505050565b6000806000612c5086613070565b915091506000600288604051602001612c6b91815260200190565b60408051601f1981840301815290829052612c8591614bc0565b602060405180830381855afa158015612ca2573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190612cc5919061472f565b9050612cd48184848989613092565b98975050505050505050565b600080612cec85613241565b9050612d3986604051602001612d0491815260200190565b60408051601f198184030181529181528301516060840151608085015160a086015160c0870151875160208901518c8c6132bf565b9695505050505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590612d7c5750333014155b15611dd157604051630796d94560e01b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015612df4575060408051601f3d908101601f19168201909252612df19181019061472f565b60015b612e1c57604051634c9c8ce360e01b81526001600160a01b038316600482015260240161163e565b600080516020614e568339815191528114612e4d57604051632a87526960e21b81526004810182905260240161163e565b612e57838361345d565b505050565b606060ff8314612e7657612e6f836134b3565b90506108d8565b818054612e8290614bd2565b80601f0160208091040260200160405190810160405280929190818152602001828054612eae90614bd2565b8015612efb5780601f10612ed057610100808354040283529160200191612efb565b820191906000526020600020905b815481529060010190602001808311612ede57829003601f168201915b505050505090506108d8565b60006109b76ffffffffeffffffffffffffffffffffff60601b197fffffffff00000001000000000000000000000000fffffffffffffffffffffffc7f5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b86866134f2565b60008060008351604103612fa45760208401516040850151606086015160001a612f968882858561359d565b955095509550505050612fb0565b50508151600091506002905b9250925092565b6000826003811115612fcb57612fcb614c06565b03612fd4575050565b6001826003811115612fe857612fe8614c06565b036130065760405163f645eedf60e01b815260040160405180910390fd5b600282600381111561301a5761301a614c06565b0361303b5760405163fce698f760e01b81526004810182905260240161163e565b600382600381111561304f5761304f614c06565b03610db4576040516335e2f38360e21b81526004810182905260240161163e565b600080828060200190518101906130879190614c1c565b909590945092505050565b60006130bf60027fffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551614c60565b8411156130ce575060006112a2565b6040805160208101889052908101869052606081018590526080810184905260a0810183905260009060c00160405160208183030381529060405290506000806101006001600160a01b0316836040516131289190614bc0565b600060405180830381855afa9150503d8060008114613163576040519150601f19603f3d011682016040523d82523d6000602084013e613168565b606091505b5080519193509150151582801561317c5750805b156131a35781806020019051810190613195919061472f565b6001149450505050506112a2565b60405163a1f3128160e01b8152600481018b9052602481018a905260448101899052606481018890526084810187905273__$b8f96b288d4d0429e38b8ed50fd423070f$__9063a1f312819060a401602060405180830381865af415801561320f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132339190614953565b9a9950505050505050505050565b6132836040518060e001604052806000815260200160008152602001606081526020016000151581526020016060815260200160608152602001600081525090565b818060200190518101906132979190614cc7565b60c089015260a088015260808701521515606086015260408501526020840152825250919050565b600060258a5110806132f957506132f78a6020815181106132e2576132e2614ab9565b01602001516001600160f81b0319168a61366c565b155b1561330657506000613233565b6000886133128d6136d2565b8960405160200161332593929190614d86565b60408051601f198184030181528282019091526015825274113a3cb832911d113bb2b130baba34371733b2ba1160591b6020830152915061336781838a6138df565b61337657600092505050613233565b60006002836040516133889190614bc0565b602060405180830381855afa1580156133a5573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906133c8919061472f565b9050600060028e836040516020016133e1929190614dc9565b60408051601f19818403018152908290526133fb91614bc0565b602060405180830381855afa158015613418573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061343b919061472f565b905061344a818a8a8a8a613092565b9f9e505050505050505050505050505050565b6134668261398e565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a28051156134ab57612e5782826139f3565b610db4613a60565b606060006134c083613a7f565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600082158015613500575081155b8061350b5750858310155b806135165750858210155b15613523575060006112a2565b6000868061353357613533614c4a565b83840990506000878061354857613548614c4a565b888061355657613556614c4a565b888709898061356757613567614c4a565b878b8061357657613576614c4a565b898a0909089050878061358b5761358b614c4a565b86820891909114979650505050505050565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08411156135d85750600091506003905082613662565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa15801561362c573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661365857506000925060019150829050613662565b9250600091508190505b9450945094915050565b6000600160f81b83811614613683575060006108d8565b8180156136965750600160fa1b83811614155b156136a3575060006108d8565b600160fb1b838116146136c957600f60fc1b600160fc1b8416016136c9575060006108d8565b50600192915050565b606060006136df83613aa7565b9050600081905060006002825111801561372a575081600283516137039190614aa6565b8151811061371357613713614ab9565b6020910101516001600160f81b031916603d60f81b145b1561373757506002613782565b60018251118015613779575081600183516137529190614aa6565b8151811061376257613762614ab9565b6020910101516001600160f81b031916603d60f81b145b15613782575060015b60008183516137919190614aa6565b90506000816001600160401b038111156137ad576137ad613e99565b6040519080825280601f01601f1916602001820160405280156137d7576020820181803683370190505b50905060005b828110156138d4578481815181106137f7576137f7614ab9565b01602001516001600160f81b031916602b60f81b0361384357602d60f81b82828151811061382757613827614ab9565b60200101906001600160f81b031916908160001a9053506138cc565b84818151811061385557613855614ab9565b01602001516001600160f81b031916602f60f81b0361388557605f60f81b82828151811061382757613827614ab9565b84818151811061389757613897614ab9565b602001015160f81c60f81b8282815181106138b4576138b4614ab9565b60200101906001600160f81b031916908160001a9053505b6001016137dd565b509695505050505050565b825182516000918591859190845b8281101561397f57816139008289614deb565b10613913576000955050505050506109b7565b8361391e8289614deb565b8151811061392e5761392e614ab9565b602001015160f81c60f81b6001600160f81b03191685828151811061395557613955614ab9565b01602001516001600160f81b03191614613977576000955050505050506109b7565b6001016138ed565b50600198975050505050505050565b806001600160a01b03163b6000036139c457604051634c9c8ce360e01b81526001600160a01b038216600482015260240161163e565b600080516020614e5683398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b031684604051613a109190614bc0565b600060405180830381855af49150503d8060008114613a4b576040519150601f19603f3d011682016040523d82523d6000602084013e613a50565b606091505b50915091506112a2858383613acd565b3415610ea65760405163b398979f60e01b815260040160405180910390fd5b600060ff8216601f8111156108d857604051632cd44ac360e21b815260040160405180910390fd5b60606108d882604051806060016040528060408152602001614e76604091396001613b29565b606082613ae257613add82613ca8565b6109b7565b8151158015613af957506001600160a01b0384163b155b15613b2257604051639996b31560e01b81526001600160a01b038516600482015260240161163e565b50806109b7565b60608351600003613b4957506040805160208101909152600081526109b7565b600082613b7a57600385516004613b609190614dfe565b613b6b906002614deb565b613b759190614c60565b613b9f565b600385516002613b8a9190614deb565b613b949190614c60565b613b9f906004614dfe565b90506000816001600160401b03811115613bbb57613bbb613e99565b6040519080825280601f01601f191660200182016040528015613be5576020820181803683370190505b50905060018501602082018788518901602081018051600082525b82841015613c5b576003840193508351603f8160121c168701518653600186019550603f81600c1c168701518653600186019550603f8160061c168701518653600186019550603f8116870151865350600185019450613c00565b905250508515613c9c57600388510660018114613c7f5760028114613c9257613c9a565b603d6001830353603d6002830353613c9a565b603d60018303535b505b50909695505050505050565b805115613cb85780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b5080546000825590600052602060002090810190611dd191905b80821115613cff5760008155600101613ceb565b5090565b600060208284031215613d1557600080fd5b81356001600160e01b0319811681146109b757600080fd5b60006101208284031215613d4057600080fd5b50919050565b600060208284031215613d5857600080fd5b81356001600160401b03811115613d6e57600080fd5b613d7a84828501613d2d565b949350505050565b6001600160a01b0381168114611dd157600080fd5b8035611e5f81613d82565b60008083601f840112613db457600080fd5b5081356001600160401b03811115613dcb57600080fd5b6020830191508360208260051b8501011115613de657600080fd5b9250929050565b60008060008060008060006080888a031215613e0857600080fd5b8735613e1381613d82565b965060208801356001600160401b0380821115613e2f57600080fd5b613e3b8b838c01613da2565b909850965060408a0135915080821115613e5457600080fd5b613e608b838c01613da2565b909650945060608a0135915080821115613e7957600080fd5b50613e868a828b01613da2565b989b979a50959850939692959293505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715613ed757613ed7613e99565b604052919050565b60006001600160401b03821115613ef857613ef8613e99565b50601f01601f191660200190565b600082601f830112613f1757600080fd5b8135613f2a613f2582613edf565b613eaf565b818152846020838601011115613f3f57600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215613f7257600080fd5b8435613f7d81613d82565b93506020850135613f8d81613d82565b92506040850135915060608501356001600160401b03811115613faf57600080fd5b613fbb87828801613f06565b91505092959194509250565b60008083601f840112613fd957600080fd5b5081356001600160401b03811115613ff057600080fd5b602083019150836020828501011115613de657600080fd5b60008060006040848603121561401d57600080fd5b8335925060208401356001600160401b0381111561403a57600080fd5b61404686828701613fc7565b9497909650939450505050565b60008060006060848603121561406857600080fd5b83356001600160401b0381111561407e57600080fd5b61408a86828701613d2d565b9660208601359650604090950135949350505050565b6020808252825182820181905260009190848201906040850190845b81811015613c9c578351835292840192918401916001016140bc565b6000602082840312156140ea57600080fd5b81356001600160c01b03811681146109b757600080fd5b60006020828403121561411357600080fd5b81356001600160401b0381111561412957600080fd5b820160c081850312156109b757600080fd5b60006020828403121561414d57600080fd5b5035919050565b6000806040838503121561416757600080fd5b823561417281613d82565b915060208301356001600160401b0381111561418d57600080fd5b61419985828601613f06565b9150509250929050565b6000602082840312156141b557600080fd5b81356001600160401b038111156141cb57600080fd5b8201606081850312156109b757600080fd5b8015158114611dd157600080fd5b8035611e5f816141dd565b600080600080600080600080600060c08a8c03121561421457600080fd5b893560ff8116811461422557600080fd5b985061423360208b01613d97565b975060408a01356001600160401b038082111561424f57600080fd5b61425b8d838e01613da2565b909950975060608c013591508082111561427457600080fd5b6142808d838e01613da2565b909750955060808c013591508082111561429957600080fd5b506142a68c828d01613da2565b90945092506142b9905060a08b016141eb565b90509295985092959850929598565b600080604083850312156142db57600080fd5b82356142e681613d82565b946020939093013593505050565b60005b8381101561430f5781810151838201526020016142f7565b50506000910152565b600081518084526143308160208601602086016142f4565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e0602084015261436560e084018a614318565b8381036040850152614377818a614318565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156143cb578351835292840192918401916001016143af565b50909c9b505050505050505050505050565b6020815260006109b76020830184614318565b600082601f83011261440157600080fd5b813560206001600160401b0382111561441c5761441c613e99565b8160051b61442b828201613eaf565b928352848101820192828101908785111561444557600080fd5b83870192505b848310156144645782358252918301919083019061444b565b979650505050505050565b600080600080600060a0868803121561448757600080fd5b853561449281613d82565b945060208601356144a281613d82565b935060408601356001600160401b03808211156144be57600080fd5b6144ca89838a016143f0565b945060608801359150808211156144e057600080fd5b6144ec89838a016143f0565b9350608088013591508082111561450257600080fd5b5061450f88828901613f06565b9150509295509295909350565b6000806000806060858703121561453257600080fd5b84356001600160401b0381111561454857600080fd5b61455487828801613fc7565b90989097506020870135966040013595509350505050565b6000806000806000806060878903121561458557600080fd5b86356001600160401b038082111561459c57600080fd5b6145a88a838b01613da2565b909850965060208901359150808211156145c157600080fd5b6145cd8a838b01613da2565b909650945060408901359150808211156145e657600080fd5b506145f389828a01613da2565b979a9699509497509295939492505050565b6000806020838503121561461857600080fd5b82356001600160401b0381111561462e57600080fd5b61463a85828601613fc7565b90969095509350505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b8281101561469d57603f1988860301845261468b858351614318565b9450928501929085019060010161466f565b5092979650505050505050565b600080600080600060a086880312156146c257600080fd5b85356146cd81613d82565b945060208601356146dd81613d82565b9350604086013592506060860135915060808601356001600160401b0381111561470657600080fd5b61450f88828901613f06565b60006020828403121561472457600080fd5b81356109b781613d82565b60006020828403121561474157600080fd5b5051919050565b6000808335601e1984360301811261475f57600080fd5b83016020810192503590506001600160401b0381111561477e57600080fd5b803603821315613de657600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561486957858403601f19018a52823536899003605e190181126147f5578283fd5b88016060813561480481613d82565b6001600160a01b0316865261481b82880183614748565b828989015261482d838901828461478d565b92505050604061483f81840184614748565b93508783038289015261485383858361478d565b9d89019d975050509386019350506001016147d0565b509198975050505050505050565b602081526000823561488881613d82565b6001600160a01b03908116602084810191909152840135906148a982613d82565b80821660408501525050604083013560608301526060830135601e198436030181126148d457600080fd5b83016020810190356001600160401b038111156148f057600080fd5b8060051b360382131561490257600080fd5b60c0608085015261491760e0850182846147b6565b915050608084013560a084015261493160a0850185614748565b848303601f190160c0860152612d3983828461478d565b8051611e5f816141dd565b60006020828403121561496557600080fd5b81516109b7816141dd565b6000808335601e1984360301811261498757600080fd5b8301803591506001600160401b038211156149a157600080fd5b602001915036819003821315613de657600080fd5b6000838385526020808601955060208560051b8301018460005b87811015614a0a57848303601f190189526149eb8288614748565b6149f685828461478d565b9a86019a94505050908301906001016149d0565b5090979650505050505050565b606081526000614a2b60608301888a6149b6565b8281036020848101919091528682528791810160005b88811015614a5d57833582529282019290820190600101614a41565b508481036040860152614a718187896149b6565b9b9a5050505050505050505050565b8183823760009101908152919050565b634e487b7160e01b600052601160045260246000fd5b818103818111156108d8576108d8614a90565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b8281526040602082015260006109b46040830184614318565b60008085851115614b0e57600080fd5b83861115614b1b57600080fd5b5050820193919092039150565b803560208310156108d857600019602084900360031b1b1692915050565b606081526000614b5a60608301868861478d565b6020830194909452506040015292915050565b60008235605e19833603018112614b8357600080fd5b9190910192915050565b6bffffffffffffffffffffffff198135818116916014851015612a615760149490940360031b84901b1690921692915050565b60008251614b838184602087016142f4565b600181811c90821680614be657607f821691505b602082108103613d4057634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b600080600060608486031215614c3157600080fd5b8351925060208401519150604084015190509250925092565b634e487b7160e01b600052601260045260246000fd5b600082614c7d57634e487b7160e01b600052601260045260246000fd5b500490565b600082601f830112614c9357600080fd5b8151614ca1613f2582613edf565b818152846020838601011115614cb657600080fd5b613d7a8260208301602087016142f4565b600080600080600080600080610100898b031215614ce457600080fd5b88519750602089015196506040890151955060608901516001600160401b0380821115614d1057600080fd5b614d1c8c838d01614c82565b9650614d2a60808c01614948565b955060a08b0151915080821115614d4057600080fd5b614d4c8c838d01614c82565b945060c08b0151915080821115614d6257600080fd5b50614d6f8b828c01614c82565b92505060e089015190509295985092959890939650565b60008451614d988184602089016142f4565b845190830190614dac8183602089016142f4565b8451910190614dbf8183602088016142f4565b0195945050505050565b60008351614ddb8184602088016142f4565b9190910191825250602001919050565b808201808211156108d8576108d8614a90565b80820281158282048414176108d8576108d8614a9056fea2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694900a2b1bcb5e16cee2a8898b49cb0c3605e70c16f429f6002ed8b1bc5612a694902360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2fa2646970667358221220d641f685fbc825f5c1c752f10b46c0f81d9143a8b41e10871b92196f03c53fe864736f6c63430008170033",tYt={};Le(tYt,{abi:()=>rYt,bytecode:()=>nYt});rYt=[],nYt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212203d81846f7dee1e1b6ac5ec7facf37349f677e4fb70664eb5852e6414aa31b93064736f6c63430008170033",iYt={};Le(iYt,{abi:()=>oYt,bytecode:()=>aYt});oYt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getIsUsed",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegator",type:"address",internalType:"address"},{name:"_id",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"id_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"UsedId",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],aYt="0x608060405234801561001057600080fd5b50610518806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063595dce4814610083578063a145832a146100ab578063b99deb0e146100be578063d3eddcc514610067578063ed46336714610067575b600080fd5b610081610075366004610379565b50505050505050505050565b005b610096610091366004610446565b6100df565b60405190151581526020015b60405180910390f35b6100816100b9366004610379565b610116565b6100d16100cc366004610482565b61028c565b6040519081526020016100a2565b6001600160a01b03808416600090815260208181526040808320938616835292905290812061010e90836102ef565b949350505050565b85600881901b6001600160f81b03198116156101875760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101948c8c61028c565b90506101a13385836100df565b156101ee5760405162461bcd60e51b815260206004820152601a60248201527f4964456e666f726365723a69642d616c72656164792d75736564000000000000604482015260640161017e565b336000908152602081815260408083206001600160a01b03881684528252808320600885901c845290915290208054600160ff84161b179055826001600160a01b0316846001600160a01b0316336001600160a01b03167f6286af1aaf28b34723a53056e5608eabb40c823d1ce093ff371cf08c502431d68460405161027691815260200190565b60405180910390a4505050505050505050505050565b6000602082146102de5760405162461bcd60e51b815260206004820152601f60248201527f4964456e666f726365723a696e76616c69642d7465726d732d6c656e67746800604482015260640161017e565b6102e882846104c4565b9392505050565b600881901c600090815260208390526040902054600160ff83161b1615155b92915050565b60008083601f84011261032657600080fd5b50813567ffffffffffffffff81111561033e57600080fd5b60208301915083602082850101111561035657600080fd5b9250929050565b80356001600160a01b038116811461037457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561039857600080fd5b8a3567ffffffffffffffff808211156103b057600080fd5b6103bc8e838f01610314565b909c509a5060208d01359150808211156103d557600080fd5b6103e18e838f01610314565b909a50985060408d0135975060608d013591508082111561040157600080fd5b5061040e8d828e01610314565b90965094505060808b0135925061042760a08c0161035d565b915061043560c08c0161035d565b90509295989b9194979a5092959850565b60008060006060848603121561045b57600080fd5b6104648461035d565b92506104726020850161035d565b9150604084013590509250925092565b6000806020838503121561049557600080fd5b823567ffffffffffffffff8111156104ac57600080fd5b6104b885828601610314565b90969095509350505050565b8035602083101561030e57600019602084900360031b1b169291505056fea26469706673582212204a96dd3b9054d6055c3a36da342d1ecb848915fb596c41cf0571e73299243bf864736f6c63430008170033",sYt={};Le(sYt,{abi:()=>cYt,bytecode:()=>lYt});cYt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"callCounts",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"count",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"limit_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"IncreasedCount",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"callCount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],lYt="0x608060405234801561001057600080fd5b506104e9806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806319054d8914610067578063414c3e33146100a1578063a145832a146100bd578063b99deb0e146100d0578063d3eddcc5146100a1578063ed463367146100a1575b600080fd5b61008f6100753660046102ec565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100bb6100af36600461035f565b50505050505050505050565b005b6100bb6100cb36600461035f565b6100e3565b61008f6100de36600461042c565b610244565b85600881901b6100f48160006102b9565b6101535760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101608c8c610244565b33600090815260208181526040808320898452909152812080549293509091829061018a9061046e565b91829055509050818111156101ed5760405162461bcd60e51b815260206004820152602360248201527f4c696d6974656443616c6c73456e666f726365723a6c696d69742d657863656560448201526219195960ea1b606482015260840161014a565b604080518381526020810183905287916001600160a01b0387169133917f449da07f2c06c9d1a6b19d2454ffe749e8cf991d22f686e076a1a4844c5ff370910160405180910390a450505050505050505050505050565b6000602082146102a85760405162461bcd60e51b815260206004820152602960248201527f4c696d6974656443616c6c73456e666f726365723a696e76616c69642d7465726044820152680dae65ad8cadccee8d60bb1b606482015260840161014a565b6102b28284610495565b9392505050565b6001600160f81b0319828116908216145b92915050565b80356001600160a01b03811681146102e757600080fd5b919050565b600080604083850312156102ff57600080fd5b610308836102d0565b946020939093013593505050565b60008083601f84011261032857600080fd5b50813567ffffffffffffffff81111561034057600080fd5b60208301915083602082850101111561035857600080fd5b9250929050565b60008060008060008060008060008060e08b8d03121561037e57600080fd5b8a3567ffffffffffffffff8082111561039657600080fd5b6103a28e838f01610316565b909c509a5060208d01359150808211156103bb57600080fd5b6103c78e838f01610316565b909a50985060408d0135975060608d01359150808211156103e757600080fd5b506103f48d828e01610316565b90965094505060808b0135925061040d60a08c016102d0565b915061041b60c08c016102d0565b90509295989b9194979a5092959850565b6000806020838503121561043f57600080fd5b823567ffffffffffffffff81111561045657600080fd5b61046285828601610316565b90969095509350505050565b60006001820161048e57634e487b7160e01b600052601160045260246000fd5b5060010190565b803560208310156102ca57600019602084900360031b1b169291505056fea264697066735822122058fb87f0b8e8aa4745b9ef395d8bd725c313f876828d7be4c479f4049d6644ac64736f6c63430008170033",uYt={};Le(uYt,{abi:()=>dYt,bytecode:()=>fYt});dYt=[{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"}],fYt="0x",pYt={};Le(pYt,{abi:()=>hYt,bytecode:()=>mYt});hYt=[],mYt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220f3b6a0af2d4dff4702805c39f40ed768201654e38f4d05a5ef7ae0498666b77964736f6c63430008170033",bYt={};Le(bYt,{abi:()=>yYt,bytecode:()=>gYt});yYt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationManager",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"initialAmount_",type:"uint256",internalType:"uint256"},{name:"maxAmount_",type:"uint256",internalType:"uint256"},{name:"amountPerSecond_",type:"uint256",internalType:"uint256"},{name:"startTime_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"streamingAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"initialAmount",type:"uint256",internalType:"uint256"},{name:"maxAmount",type:"uint256",internalType:"uint256"},{name:"amountPerSecond",type:"uint256",internalType:"uint256"},{name:"startTime",type:"uint256",internalType:"uint256"},{name:"spent",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"initialAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"maxAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"amountPerSecond",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startTime",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"},{name:"lastUpdateTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],gYt="0x608060405234801561001057600080fd5b506109a4806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063d3eddcc51161005b578063d3eddcc514610082578063ed46336714610082578063ee73d772146100e9578063fb7d2c5b1461010a57600080fd5b8063414c3e3314610082578063a145832a1461009e578063b99deb0e146100b1575b600080fd5b61009c610090366004610765565b50505050505050505050565b005b61009c6100ac366004610765565b610177565b6100c46100bf366004610832565b61025c565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b6100fc6100f7366004610874565b610338565b6040519081526020016100e0565b61014f610118366004610874565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100e0565b856101838160006103a3565b6101d45760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101e58160006103a3565b61023f5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101cb565b5061024e8c8c898989886103ba565b505050505050505050505050565b6000808080608085146102cb5760405162461bcd60e51b815260206004820152603160248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e766044820152700c2d8d2c85ae8cae4dae65ad8cadccee8d607b1b60648201526084016101cb565b6102d960206000878961089e565b6102e2916108c8565b93506102f260406020878961089e565b6102fb916108c8565b925061030b60606040878961089e565b610314916108c8565b915061032460806060878961089e565b61032d916108c8565b939692955090935050565b6001600160a01b0382166000908152602081815260408083208484528252808320815160a0810183528154815260018201549381019390935260028101549183019190915260038101546060830152600481015460808301529061039b9061062e565b949350505050565b6001600160f81b0319828116908216145b92915050565b60006103c685856106af565b50509150506000806000806103db8b8b61025c565b93509350935093508383101561044b5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e7660448201526e185b1a590b5b585e0b585b5bdd5b9d608a1b60648201526084016101cb565b600081116104b85760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a696e76604482015273616c69642d7a65726f2d73746172742d74696d6560601b60648201526084016101cb565b336000908152602081815260408083208a8452909152812060048101549091036104f5578481556001810184905560028101839055600381018290555b6040805160a081018252825481526001830154602082015260028301549181019190915260038201546060820152600482015460808201526105369061062e565b86111561059d5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e53747265616d696e67456e666f726365723a616c6c60448201526e1bddd85b98d94b595e18d959591959608a1b60648201526084016101cb565b858160040160008282546105b191906108fc565b9091555050600481015460408051878152602081018790529081018590526060810184905260808101919091524260a082015288906001600160a01b0389169033907fa4d5df1d290378aabb8f054b2f3100faf35e2266bb7fbe661f947dfc686704ae9060c00160405180910390a4505050505050505050505050565b6000816060015142101561064457506000919050565b6000826060015142610656919061090f565b9050600081846040015161066a9190610922565b845161067691906108fc565b9050836020015181111561068b575060208301515b808460800151106106a0575060009392505050565b608084015161039b908261090f565b60008036816106c1601482878961089e565b6106ca91610939565b60601c93506106dd60346014878961089e565b6106e6916108c8565b92506106f5856034818961089e565b949793965094505050565b60008083601f84011261071257600080fd5b50813567ffffffffffffffff81111561072a57600080fd5b60208301915083602082850101111561074257600080fd5b9250929050565b80356001600160a01b038116811461076057600080fd5b919050565b60008060008060008060008060008060e08b8d03121561078457600080fd5b8a3567ffffffffffffffff8082111561079c57600080fd5b6107a88e838f01610700565b909c509a5060208d01359150808211156107c157600080fd5b6107cd8e838f01610700565b909a50985060408d0135975060608d01359150808211156107ed57600080fd5b506107fa8d828e01610700565b90965094505060808b0135925061081360a08c01610749565b915061082160c08c01610749565b90509295989b9194979a5092959850565b6000806020838503121561084557600080fd5b823567ffffffffffffffff81111561085c57600080fd5b61086885828601610700565b90969095509350505050565b6000806040838503121561088757600080fd5b61089083610749565b946020939093013593505050565b600080858511156108ae57600080fd5b838611156108bb57600080fd5b5050820193919092039150565b803560208310156103b457600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b808201808211156103b4576103b46108e6565b818103818111156103b4576103b46108e6565b80820281158282048414176103b4576103b46108e6565b6bffffffffffffffffffffffff1981358181169160148510156109665780818660140360031b1b83161692505b50509291505056fea264697066735822122052704058a3717c34d4c81be20ba9801f9b76f6f0c65ef9abba014d246806f21f64736f6c63430008170033",wYt={};Le(wYt,{abi:()=>vYt,bytecode:()=>EYt});vYt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],EYt="0x608060405234801561001057600080fd5b50610263806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063d3eddcc51461008b578063e38ad59014610099578063ed4633671461005c575b600080fd5b61007661006a366004610139565b50505050505050505050565b005b610076610086366004610139565b6100b4565b610076610057366004610139565b6100a260005481565b60405190815260200160405180910390f35b6000805490806100c383610206565b919050555050505050505050505050565b60008083601f8401126100e657600080fd5b50813567ffffffffffffffff8111156100fe57600080fd5b60208301915083602082850101111561011657600080fd5b9250929050565b80356001600160a01b038116811461013457600080fd5b919050565b60008060008060008060008060008060e08b8d03121561015857600080fd5b8a3567ffffffffffffffff8082111561017057600080fd5b61017c8e838f016100d4565b909c509a5060208d013591508082111561019557600080fd5b6101a18e838f016100d4565b909a50985060408d0135975060608d01359150808211156101c157600080fd5b506101ce8d828e016100d4565b90965094505060808b013592506101e760a08c0161011d565b91506101f560c08c0161011d565b90509295989b9194979a5092959850565b60006001820161022657634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220bcf0049f14343021d3eb32b64d949a39aec074b673cc386de61163856ad518a964736f6c63430008170033",xYt={};Le(xYt,{abi:()=>AYt,bytecode:()=>TYt});AYt=[],TYt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122074ec8ae00f245173ca026cab4a450417e87849694c5e94ec4fdf9b92eee9682e64736f6c63430008170033",_Yt={};Le(_Yt,{abi:()=>SYt,bytecode:()=>IYt});SYt=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"nonpayable"},{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AddressInsufficientBalance",inputs:[{name:"account",type:"address",internalType:"address"}]},{type:"error",name:"FailedInnerCall",inputs:[]}],IYt="0x60a060405234801561001057600080fd5b50604051610fa1380380610fa183398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b608051610efc6100a560003960008181609c0152818160f8015281816102010152818161030201526103f60152610efc6000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610071578063d3eddcc514610084578063ea4d3c9b14610097578063ed463367146100da575b600080fd5b61006f61006a36600461084c565b6100ed565b005b61006f61007f36600461084c565b6101c7565b61006f61009236600461084c565b6102c8565b6100be7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200160405180910390f35b61006f6100e836600461084c565b6103bc565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461013e5760405162461bcd60e51b815260040161013590610918565b60405180910390fd5b6101bb8a8a8a8a6040518060a001604052808c81526020018b8b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018a90526001600160a01b03808a166040830152881660609091015263414c3e3360e01b6104ac565b50505050505050505050565b85600881901b6001600160f81b03198116156101f55760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461023e5760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b16604083015289166060909101526350a2c19560e11b6104ac565b5050505050505050505050565b85600881901b6001600160f81b03198116156102f65760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461033f5760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b166040830152891660609091015263d3eddcc560e01b6104ac565b85600881901b6001600160f81b03198116156103ea5760405162461bcd60e51b815260040161013590610968565b50336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104335760405162461bcd60e51b815260040161013590610918565b6102bb8b8b8b8b6040518060a001604052808d81526020018c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602081018b90526001600160a01b03808b166040830152891660609091015263ed46336760e01b5b60006104ba86880188610af1565b905060006104ca85870187610cf3565b905081518160000151106105355760405162461bcd60e51b815260206004820152602c60248201527f4c6f676963616c4f7257726170706572456e666f726365723a696e76616c696460448201526b05acee4deeae05ad2dcc8caf60a31b6064820152608401610135565b60008282600001518151811061054d5761054d610ddb565b602002602001015190506000816000015151905080836020015151146105d15760405162461bcd60e51b815260206004820152603360248201527f4c6f676963616c4f7257726170706572456e666f726365723a696e76616c696460448201527205ac6c2eccac2e85ac2e4cee65ad8cadccee8d606b1b6064820152608401610135565b60005b818110156102bb576106a8836000015182815181106105f5576105f5610ddb565b602002602001015160000151878560000151848151811061061857610618610ddb565b6020026020010151602001518760200151858151811061063a5761063a610ddb565b60200260200101518b600001518c602001518d604001518e606001518f608001516040516024016106719796959493929190610e41565b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b0319909316929092179091526106b1565b506001016105d4565b60606106bf838360006106c6565b9392505050565b6060814710156106eb5760405163cd78605960e01b8152306004820152602401610135565b600080856001600160a01b031684866040516107079190610eaa565b60006040518083038185875af1925050503d8060008114610744576040519150601f19603f3d011682016040523d82523d6000602084013e610749565b606091505b5091509150610759868383610763565b9695505050505050565b60608261077857610773826107bf565b6106bf565b815115801561078f57506001600160a01b0384163b155b156107b857604051639996b31560e01b81526001600160a01b0385166004820152602401610135565b50806106bf565b8051156107cf5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b60008083601f8401126107fa57600080fd5b5081356001600160401b0381111561081157600080fd5b60208301915083602082850101111561082957600080fd5b9250929050565b80356001600160a01b038116811461084757600080fd5b919050565b60008060008060008060008060008060e08b8d03121561086b57600080fd5b8a356001600160401b038082111561088257600080fd5b61088e8e838f016107e8565b909c509a5060208d01359150808211156108a757600080fd5b6108b38e838f016107e8565b909a50985060408d0135975060608d01359150808211156108d357600080fd5b506108e08d828e016107e8565b90965094505060808b013592506108f960a08c01610830565b915061090760c08c01610830565b90509295989b9194979a5092959850565b60208082526030908201527f4c6f676963616c4f7257726170706572456e666f726365723a6f6e6c792d646560408201526f3632b3b0ba34b7b716b6b0b730b3b2b960811b606082015260800190565b60208082526025908201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6040820152642d7479706560d81b606082015260800190565b634e487b7160e01b600052604160045260246000fd5b604051602081016001600160401b03811182821017156109e5576109e56109ad565b60405290565b604051606081016001600160401b03811182821017156109e5576109e56109ad565b604080519081016001600160401b03811182821017156109e5576109e56109ad565b604051601f8201601f191681016001600160401b0381118282101715610a5757610a576109ad565b604052919050565b60006001600160401b03821115610a7857610a786109ad565b5060051b60200190565b600082601f830112610a9357600080fd5b81356001600160401b03811115610aac57610aac6109ad565b610abf601f8201601f1916602001610a2f565b818152846020838601011115610ad457600080fd5b816020850160208301376000918101602001919091529392505050565b600060208284031215610b0357600080fd5b6001600160401b0382351115610b1857600080fd5b8135820183601f820112610b2b57600080fd5b610b3d610b388235610a5f565b610a2f565b81358082526020808301929160051b840101861015610b5b57600080fd5b602083015b6020843560051b850101811015610ce9576001600160401b0381351115610b8657600080fd5b6020813585018803601f19011215610b9d57600080fd5b610ba56109c3565b6001600160401b0360208335870101351115610bc057600080fd5b81358501602081013501603f81018913610bd957600080fd5b610be9610b386020830135610a5f565b602082810135808352908201919060051b83016040018b1015610c0b57600080fd5b604083015b6040602085013560051b850101811015610cd6576001600160401b0381351115610c3957600080fd5b803584016060818e03603f19011215610c5157600080fd5b610c596109eb565b610c6560408301610830565b81526001600160401b0360608301351115610c7f57600080fd5b610c928e60406060850135850101610a82565b60208201526001600160401b0360808301351115610caf57600080fd5b610cc28e60406080850135850101610a82565b604082015284525060209283019201610c10565b5083525050835260209283019201610b60565b5095945050505050565b60006020808385031215610d0657600080fd5b82356001600160401b0380821115610d1d57600080fd5b9084019060408287031215610d3157600080fd5b610d39610a0d565b823581528383013582811115610d4e57600080fd5b80840193505086601f840112610d6357600080fd5b8235610d71610b3882610a5f565b81815260059190911b84018501908581019089831115610d9057600080fd5b8686015b83811015610dc857803586811115610dac5760008081fd5b610dba8c8a838b0101610a82565b845250918701918701610d94565b5095830195909552509695505050505050565b634e487b7160e01b600052603260045260246000fd5b60005b83811015610e0c578181015183820152602001610df4565b50506000910152565b60008151808452610e2d816020860160208601610df1565b601f01601f19169290920160200192915050565b60e081526000610e5460e083018a610e15565b8281036020840152610e66818a610e15565b90508760408401528281036060840152610e808188610e15565b608084019690965250506001600160a01b0392831660a0820152911660c090910152949350505050565b60008251610ebc818460208701610df1565b919091019291505056fea2646970667358221220849f3e028a14dd0caba34e88e124f67834a95e85298a8ec49d35e542d61e676b64736f6c63430008170033",CYt={};Le(CYt,{abi:()=>RYt,bytecode:()=>PYt});RYt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHookCallCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],PYt="0x608060405234801561001057600080fd5b5061028c806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780637c46d3c814610083578063a145832a1461009e578063d3eddcc5146100b1578063e38ad590146100c4578063ed46336714610067575b600080fd5b610081610075366004610162565b50505050505050505050565b005b61008c60015481565b60405190815260200160405180910390f35b6100816100ac366004610162565b6100cd565b6100816100bf366004610162565b6100ed565b61008c60005481565b6000805490806100dc8361022f565b919050555050505050505050505050565b600180549060006100dc8361022f565b60008083601f84011261010f57600080fd5b50813567ffffffffffffffff81111561012757600080fd5b60208301915083602082850101111561013f57600080fd5b9250929050565b80356001600160a01b038116811461015d57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561018157600080fd5b8a3567ffffffffffffffff8082111561019957600080fd5b6101a58e838f016100fd565b909c509a5060208d01359150808211156101be57600080fd5b6101ca8e838f016100fd565b909a50985060408d0135975060608d01359150808211156101ea57600080fd5b506101f78d828e016100fd565b90965094505060808b0135925061021060a08c01610146565b915061021e60c08c01610146565b90509295989b9194979a5092959850565b60006001820161024f57634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220fbb59fec9ec7bf6cdda251d9d498ff456d0623f22ca1f4ef5f02ab03744fc44c64736f6c63430008170033",OYt={};Le(OYt,{abi:()=>NYt,bytecode:()=>kYt});NYt=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_argsEqualityCheckEnforcer",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"afterAllHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"argsEqualityCheckEnforcer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"event",name:"ValidatedPayment",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"recipient",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!1,internalType:"address"},{name:"redeemer",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],kYt="0x60c060405234801561001057600080fd5b506040516111b73803806111b783398101604081905261002f9161005e565b6001600160a01b039182166080521660a052610098565b6001600160a01b038116811461005b57600080fd5b50565b6000806040838503121561007157600080fd5b825161007c81610046565b602084015190925061008d81610046565b809150509250929050565b60805160a0516110e66100d16000396000818160a301526103c001526000818161011901528181610273015261065a01526110e66000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063b99deb0e1161005b578063b99deb0e146100e2578063d3eddcc514610082578063ea4d3c9b14610114578063ed4633671461013b57600080fd5b8063414c3e3314610082578063a145832a14610082578063a42ff9311461009e575b600080fd5b61009c6100903660046108d5565b50505050505050505050565b005b6100c57f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100f56100f03660046109a2565b61014e565b604080516001600160a01b0390931683526020830191909152016100d9565b6100c57f000000000000000000000000000000000000000000000000000000000000000081565b61009c6101493660046108d5565b6101fc565b600080603483146101be5760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a696e76616c60448201526e0d2c85ae8cae4dae65ad8cadccee8d608b1b60648201526084015b60405180910390fd5b6101cc6014600085876109e4565b6101d591610a0e565b60601c91506101e783601481876109e4565b6101f091610a43565b60001c90509250929050565b85600881901b61020d8160006107ac565b6102675760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016101b5565b50336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146102fb5760405162461bcd60e51b815260206004820152603260248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a6f6e6c792d6044820152713232b632b3b0ba34b7b716b6b0b730b3b2b960711b60648201526084016101b5565b6000806103088d8d61014e565b9092509050600061031b8b8d018d610c88565b905060008151116103945760405162461bcd60e51b815260206004820152603f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a696e76616c60448201527f69642d616c6c6f77616e63652d64656c65676174696f6e732d6c656e6774680060648201526084016101b5565b6000816000815181106103a9576103a9610dcd565b6020026020010151606001515111801561043057507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316816000815181106103fb576103fb610dcd565b60200260200101516060015160008151811061041957610419610dcd565b6020026020010151600001516001600160a01b0316145b6104a25760405162461bcd60e51b815260206004820152603c60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a6d6973736960448201527f6e672d61726773457175616c697479436865636b456e666f726365720000000060648201526084016101b5565b86856040516020016104d092919091825260601b6bffffffffffffffffffffffff1916602082015260340190565b604051602081830303815290604052816000815181106104f2576104f2610dcd565b60200260200101516060015160008151811061051057610510610dcd565b602090810291909101015160409081019190915280516001808252818301909252600091816020015b6060815260200190600190039081610539579050509050816040516020016105619190610e33565b6040516020818303038152906040528160008151811061058357610583610dcd565b6020908102919091010152604080516001808252818301909252600091816020015b60608152602001906001900390816105a55790505090506105d68585604051806020016040528060008152506107c3565b816000815181106105e9576105e9610dcd565b60209081029190910101526040805160018082528183019092526000918160200160208202803683370190505090506106206107f2565b8160008151811061063357610633610dcd565b602090810291909101015260405163cef6d20960e01b81526001600160a01b0380881631917f00000000000000000000000000000000000000000000000000000000000000009091169063cef6d2099061069590879086908890600401610fbf565b600060405180830381600087803b1580156106af57600080fd5b505af11580156106c3573d6000803e3d6000fd5b505050506001600160a01b038716316106dc8783611029565b8110156107435760405162461bcd60e51b815260206004820152602f60248201527f4e6174697665546f6b656e5061796d656e74456e666f726365723a7061796d6560448201526e1b9d0b5b9bdd0b5c9958d95a5d9959608a1b60648201526084016101b5565b604080516001600160a01b038d811682528c81166020830152918101899052908916908d9033907fac266e0d9b66169d0dc4479d531985bcec62dfd9d7992d0f6865afdbb7baa5e29060600160405180910390a450505050505050505050505050505050505050565b6001600160f81b0319828116908216145b92915050565b60608383836040516020016107da9392919061104a565b60405160208183030381529060405290509392505050565b600061080081808080610805565b905090565b604080516001600160f81b03198087166020830152851660218201526000602282018190526001600160e01b03198516602683015269ffffffffffffffffffff198416602a830152910160405160208183030381529060405261086790611089565b95945050505050565b60008083601f84011261088257600080fd5b50813567ffffffffffffffff81111561089a57600080fd5b6020830191508360208285010111156108b257600080fd5b9250929050565b80356001600160a01b03811681146108d057600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108f457600080fd5b8a3567ffffffffffffffff8082111561090c57600080fd5b6109188e838f01610870565b909c509a5060208d013591508082111561093157600080fd5b61093d8e838f01610870565b909a50985060408d0135975060608d013591508082111561095d57600080fd5b5061096a8d828e01610870565b90965094505060808b0135925061098360a08c016108b9565b915061099160c08c016108b9565b90509295989b9194979a5092959850565b600080602083850312156109b557600080fd5b823567ffffffffffffffff8111156109cc57600080fd5b6109d885828601610870565b90969095509350505050565b600080858511156109f457600080fd5b83861115610a0157600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff198135818116916014851015610a3b5780818660140360031b1b83161692505b505092915050565b803560208310156107bd57600019602084900360031b1b1692915050565b634e487b7160e01b600052604160045260246000fd5b6040516060810167ffffffffffffffff81118282101715610a9a57610a9a610a61565b60405290565b60405160c0810167ffffffffffffffff81118282101715610a9a57610a9a610a61565b604051601f8201601f1916810167ffffffffffffffff81118282101715610aec57610aec610a61565b604052919050565b600067ffffffffffffffff821115610b0e57610b0e610a61565b5060051b60200190565b600082601f830112610b2957600080fd5b813567ffffffffffffffff811115610b4357610b43610a61565b610b56601f8201601f1916602001610ac3565b818152846020838601011115610b6b57600080fd5b816020850160208301376000918101602001919091529392505050565b600082601f830112610b9957600080fd5b81356020610bae610ba983610af4565b610ac3565b82815260059290921b84018101918181019086841115610bcd57600080fd5b8286015b84811015610c7d57803567ffffffffffffffff80821115610bf25760008081fd5b908801906060828b03601f1901811315610c0c5760008081fd5b610c14610a77565b610c1f8885016108b9565b815260408085013584811115610c355760008081fd5b610c438e8b83890101610b18565b838b015250918401359183831115610c5b5760008081fd5b610c698d8a85880101610b18565b908201528652505050918301918301610bd1565b509695505050505050565b60006020808385031215610c9b57600080fd5b823567ffffffffffffffff80821115610cb357600080fd5b818501915085601f830112610cc757600080fd5b8135610cd5610ba982610af4565b81815260059190911b83018401908481019088831115610cf457600080fd5b8585015b83811015610dc057803585811115610d0f57600080fd5b860160c0818c03601f19011215610d265760008081fd5b610d2e610aa0565b610d398983016108b9565b81526040610d488184016108b9565b8a83015260608084013582840152608091508184013589811115610d6c5760008081fd5b610d7a8f8d83880101610b88565b82850152505060a0808401358284015260c0840135915088821115610d9f5760008081fd5b610dad8e8c84870101610b18565b9083015250845250918601918601610cf8565b5098975050505050505050565b634e487b7160e01b600052603260045260246000fd5b60005b83811015610dfe578181015183820152602001610de6565b50506000910152565b60008151808452610e1f816020860160208601610de3565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610f5857603f19888603018452815160c0860160018060a01b038083511688528089840151168989015260408301516040890152606083015160c060608a015282815180855260e08b01915060e08160051b8c010194508b8301925060005b81811015610f1c5760df198c870301835283518581511687528d81015160608f890152610eed6060890182610e07565b9050604082015191508781036040890152610f088183610e07565b97505050928c0192918c0191600101610ebd565b50505050506080820151608088015260a0820151915086810360a0880152610f448183610e07565b965050509285019290850190600101610e5a565b5092979650505050505050565b60008282518085526020808601955060208260051b8401016020860160005b84811015610fb257601f19868403018952610fa0838351610e07565b98840198925090830190600101610f84565b5090979650505050505050565b606081526000610fd26060830186610f65565b82810360208481019190915285518083528682019282019060005b8181101561100957845183529383019391830191600101610fed565b5050848103604086015261101d8187610f65565b98975050505050505050565b808201808211156107bd57634e487b7160e01b600052601160045260246000fd5b6bffffffffffffffffffffffff198460601b1681528260148201526000825161107a816034850160208701610de3565b91909101603401949350505050565b805160208083015191908110156110aa576000198160200360031b1b821691505b5091905056fea264697066735822122085080b51672c95cef1f0b772853b91117f909ad9d873a40d2cad7c2b29f5117c64736f6c63430008170033",MYt={};Le(MYt,{abi:()=>BYt,bytecode:()=>DYt});BYt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],DYt="0x608060405234801561001057600080fd5b50610b57806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063a145832a1161005b578063a145832a1461013e578063b99deb0e14610151578063d3eddcc514610082578063ed4633671461008257600080fd5b8063414c3e33146100825780636a9843f61461009e5780637b91dc78146100d1575b600080fd5b61009c610090366004610893565b50505050505050505050565b005b6100b16100ac366004610960565b61017f565b604080519384529115156020840152908201526060015b60405180910390f35b6101166100df3660046109ba565b6000602081815292815260408082209093529081522080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100c8565b61009c61014c366004610893565b610255565b61016461015f3660046109e4565b61033a565b604080519384526020840192909252908201526060016100c8565b6001600160a01b0383166000908152602081815260408083208784528252808320815160a0810183528154815260018201549381019390935260028101549183018290526003810154606084015260040154608083015282918291156101f4576101e8816103f0565b9350935093505061024b565b6000806000610203898961033a565b92509250925060006040518060a00160405280858152602001848152602001838152602001600081526020016000815250905061023f816103f0565b97509750975050505050505b9450945094915050565b85610261816000610484565b6102b25760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6102c3816000610484565b61031d5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084016102a9565b5061032c8c8c8989898861049b565b505050505050505050505050565b600080806060841461039b5760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152750e474d2dcecc2d8d2c85ae8cae4dae65ad8cadccee8d60531b60648201526084016102a9565b6103a9602060008688610a26565b6103b291610a50565b92506103c2604060208688610a26565b6103cb91610a50565b91506103db606060408688610a26565b6103e491610a50565b60001c90509250925092565b6000806000836040015142101561040f5750600091508190508061047d565b602084015160408501516104239042610a84565b61042d9190610a97565b610438906001610ab9565b905080846060015114159150600082610455578460800151610458565b60005b90508085600001511161046c576000610479565b8451610479908290610a84565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b60006104a785856107dd565b505091505060008060006104bb8a8a61033a565b336000908152602081815260408083208c84529091528120600281015494975092955090935090919003610684576000821161054d5760405162461bcd60e51b81526020600482015260396024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d73746172742d646174650000000000000060648201526084016102a9565b600084116105b15760405162461bcd60e51b815260206004820152603c6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d616d6f756e740000000060648201526084016102a9565b600083116106155760405162461bcd60e51b815260206004820152603e6024820152600080516020610b0283398151915260448201527f723a696e76616c69642d7a65726f2d706572696f642d6475726174696f6e000060648201526084016102a9565b814210156106725760405162461bcd60e51b81526020600482015260366024820152600080516020610b028339815191526044820152751c8e9d1c985b9cd9995c8b5b9bdd0b5cdd185c9d195960521b60648201526084016102a9565b83815560018101839055600281018290555b60008060006106cf846040518060a0016040529081600082015481526020016001820154815260200160028201548152602001600382015481526020016004820154815250506103f0565b925092509250828811156107395760405162461bcd60e51b815260206004820152603a6024820152600080516020610b0283398151915260448201527f723a7472616e736665722d616d6f756e742d657863656564656400000000000060648201526084016102a9565b811561074e5760038401819055600060048501555b878460040160008282546107629190610ab9565b909155505060028401546004850154604080518a8152602081018a90529081019290925260608201524260808201528a906001600160a01b038b169033907f22e1bbd8bc0380d336958afc37cd8cb128d6c43891ed276162c30e8df467734d9060a00160405180910390a45050505050505050505050505050565b60008036816107ef6014828789610a26565b6107f891610acc565b60601c935061080b603460148789610a26565b61081491610a50565b92506108238560348189610a26565b949793965094505050565b60008083601f84011261084057600080fd5b50813567ffffffffffffffff81111561085857600080fd5b60208301915083602082850101111561087057600080fd5b9250929050565b80356001600160a01b038116811461088e57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156108b257600080fd5b8a3567ffffffffffffffff808211156108ca57600080fd5b6108d68e838f0161082e565b909c509a5060208d01359150808211156108ef57600080fd5b6108fb8e838f0161082e565b909a50985060408d0135975060608d013591508082111561091b57600080fd5b506109288d828e0161082e565b90965094505060808b0135925061094160a08c01610877565b915061094f60c08c01610877565b90509295989b9194979a5092959850565b6000806000806060858703121561097657600080fd5b8435935061098660208601610877565b9250604085013567ffffffffffffffff8111156109a257600080fd5b6109ae8782880161082e565b95989497509550505050565b600080604083850312156109cd57600080fd5b6109d683610877565b946020939093013593505050565b600080602083850312156109f757600080fd5b823567ffffffffffffffff811115610a0e57600080fd5b610a1a8582860161082e565b90969095509350505050565b60008085851115610a3657600080fd5b83861115610a4357600080fd5b5050820193919092039150565b8035602083101561049557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561049557610495610a6e565b600082610ab457634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561049557610495610a6e565b6bffffffffffffffffffffffff198135818116916014851015610af95780818660140360031b1b83161692505b50509291505056fe4e6174697665546f6b656e506572696f645472616e73666572456e666f726365a2646970667358221220ddbfb33bfc3119eae666e9c14c2e492d38eed690114f0ed176d6eb49d0bc21a364736f6c63430008170033",LYt={};Le(LYt,{abi:()=>UYt,bytecode:()=>FYt});UYt=[{type:"function",name:"getNonce",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"incrementNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"nonceSequenceNumber",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],FYt="0x",HYt={};Le(HYt,{abi:()=>zYt,bytecode:()=>GYt});zYt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"currentNonce",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"}],outputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"nonce_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"incrementNonce",inputs:[{name:"_delegationManager",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"UsedNonce",inputs:[{name:"delegationManager",type:"address",indexed:!0,internalType:"address"},{name:"delegator",type:"address",indexed:!0,internalType:"address"},{name:"nonce",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],GYt="0x608060405234801561001057600080fd5b5061050e806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063b99deb0e1161005b578063b99deb0e146100eb578063d3eddcc5146100bc578063ed463367146100bc578063f5743c4c146100fe57600080fd5b80632bd4ed2114610082578063414c3e33146100bc578063a145832a146100d8575b600080fd5b6100aa610090366004610314565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100d66100ca366004610390565b50505050505050505050565b005b6100d66100e6366004610390565b610111565b6100aa6100f936600461045d565b61020f565b6100d661010c36600461049f565b61027d565b85600881901b6101228160006102e1565b6101815760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b50600061018e8c8c61020f565b336000908152602081815260408083206001600160a01b038916845290915290205490915081146102015760405162461bcd60e51b815260206004820152601b60248201527f4e6f6e6365456e666f726365723a696e76616c69642d6e6f6e636500000000006044820152606401610178565b505050505050505050505050565b60006020821461026c5760405162461bcd60e51b815260206004820152602260248201527f4e6f6e6365456e666f726365723a696e76616c69642d7465726d732d6c656e676044820152610e8d60f31b6064820152608401610178565b61027682846104ba565b9392505050565b6001600160a01b038116600081815260208181526040808320338085529083529281902080546001810190915590518181529093917fe02d340254c92bc3ad96f0fceb790db939e11c669c1f4c8a549d248f17130b33910160405180910390a35050565b6001600160f81b0319828116908216145b92915050565b80356001600160a01b038116811461030f57600080fd5b919050565b6000806040838503121561032757600080fd5b610330836102f8565b915061033e602084016102f8565b90509250929050565b60008083601f84011261035957600080fd5b50813567ffffffffffffffff81111561037157600080fd5b60208301915083602082850101111561038957600080fd5b9250929050565b60008060008060008060008060008060e08b8d0312156103af57600080fd5b8a3567ffffffffffffffff808211156103c757600080fd5b6103d38e838f01610347565b909c509a5060208d01359150808211156103ec57600080fd5b6103f88e838f01610347565b909a50985060408d0135975060608d013591508082111561041857600080fd5b506104258d828e01610347565b90965094505060808b0135925061043e60a08c016102f8565b915061044c60c08c016102f8565b90509295989b9194979a5092959850565b6000806020838503121561047057600080fd5b823567ffffffffffffffff81111561048757600080fd5b61049385828601610347565b90969095509350505050565b6000602082840312156104b157600080fd5b610276826102f8565b803560208310156102f257600019602084900360031b1b169291505056fea26469706673582212205626dd2329dbdfa25ba379781a5be6c8fc6ae0eb3a22e9122f5d8207bb7de74564736f6c63430008170033",jYt={};Le(jYt,{abi:()=>$Yt,bytecode:()=>VYt});$Yt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getAllTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"tokens_",type:"address[]",internalType:"address[]"},{name:"periodAmounts_",type:"uint256[]",internalType:"uint256[]"},{name:"periodDurations_",type:"uint256[]",internalType:"uint256[]"},{name:"startDates_",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"pure"},{type:"function",name:"getAvailableAmount",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegationManager",type:"address",internalType:"address"},{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_args",type:"bytes",internalType:"bytes"}],outputs:[{name:"availableAmount_",type:"uint256",internalType:"uint256"},{name:"isNewPeriod_",type:"bool",internalType:"bool"},{name:"currentPeriod_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_token",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"_tokenIndex",type:"uint256",internalType:"uint256"}],outputs:[{name:"token_",type:"address",internalType:"address"},{name:"periodAmount_",type:"uint256",internalType:"uint256"},{name:"periodDuration_",type:"uint256",internalType:"uint256"},{name:"startDate_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"periodicAllowances",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"periodAmount",type:"uint256",internalType:"uint256"},{name:"periodDuration",type:"uint256",internalType:"uint256"},{name:"startDate",type:"uint256",internalType:"uint256"},{name:"lastTransferPeriod",type:"uint256",internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"TransferredInPeriod",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"token",type:"address",indexed:!1,internalType:"address"},{name:"periodAmount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"periodDuration",type:"uint256",indexed:!1,internalType:"uint256"},{name:"startDate",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferredInCurrentPeriod",type:"uint256",indexed:!1,internalType:"uint256"},{name:"transferTimestamp",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],VYt="0x608060405234801561001057600080fd5b5061148b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063a145832a11610066578063a145832a1461014b578063d3eddcc5146100c4578063da8081c21461015e578063ed463367146100c4578063f5c7d74e146101c357600080fd5b806319de6ebc14610098578063414c3e33146100c4578063733c0d80146100e05780638572e3191461011d575b600080fd5b6100ab6100a6366004610f6f565b6101e4565b6040516100bb9493929190610fed565b60405180910390f35b6100de6100d2366004611094565b50505050505050505050565b005b6100f36100ee366004611161565b6104b6565b604080516001600160a01b03909516855260208501939093529183015260608201526080016100bb565b61013061012b3660046111ad565b61062a565b604080519384529115156020840152908201526060016100bb565b6100de610159366004611094565b6106fc565b61019b61016c366004611237565b600060208190529081526040902080546001820154600283015460038401546004909401549293919290919085565b604080519586526020860194909452928401919091526060830152608082015260a0016100bb565b6101d66101d1366004611250565b6107de565b6040519081526020016100bb565b6060808080846101f56074826112a8565b15801561020157508015155b6102265760405162461bcd60e51b815260040161021d906112bc565b60405180910390fd5b600061023360748361130d565b90508067ffffffffffffffff81111561024e5761024e611321565b604051908082528060200260200182016040528015610277578160200160208202803683370190505b5095508067ffffffffffffffff81111561029357610293611321565b6040519080825280602002602001820160405280156102bc578160200160208202803683370190505b5094508067ffffffffffffffff8111156102d8576102d8611321565b604051908082528060200260200182016040528015610301578160200160208202803683370190505b5093508067ffffffffffffffff81111561031d5761031d611321565b604051908082528060200260200182016040528015610346578160200160208202803683370190505b50925060005b818110156104aa576000610361826074611337565b905089818a61037182601461134e565b9261037e93929190611361565b6103879161138b565b60601c88838151811061039c5761039c6113c0565b6001600160a01b039092166020928302919091019091015289896103c183601461134e565b906103cd84603461134e565b926103da93929190611361565b6103e3916113d6565b60001c8783815181106103f8576103f86113c0565b6020908102919091010152898961041083603461134e565b9061041c84605461134e565b9261042993929190611361565b610432916113d6565b60001c868381518110610447576104476113c0565b6020908102919091010152898961045f83605461134e565b9061046b84607461134e565b9261047893929190611361565b610481916113d6565b60001c858381518110610496576104966113c0565b60209081029190910101525060010161034c565b50505092959194509250565b60008080808580158015906104d357506104d16074826112a8565b155b6104ef5760405162461bcd60e51b815260040161021d906112bc565b60006104fc60748361130d565b90508087106105505760405162461bcd60e51b815260206004820152602c602482015260008051602061143683398151915260448201526b05ae8ded6cadc5ad2dcc8caf60a31b606482015260840161021d565b600061055d886074611337565b905089818a61056d82601461134e565b9261057a93929190611361565b6105839161138b565b60601c9650898961059583601461134e565b906105a184603461134e565b926105ae93929190611361565b6105b7916113d6565b955089896105c683603461134e565b906105d284605461134e565b926105df93929190611361565b6105e8916113d6565b945089896105f783605461134e565b9061060384607461134e565b9261061093929190611361565b610619916113d6565b60001c935050505093509350935093565b60008060008060008060006106438d8d8d8d8d8d6107f5565b60008481526020818152604091829020825160a081018452815481526001820154928101929092526002810154928201839052600381015460608301526004015460808201529498509296509094509250156106b2576106a28161083c565b97509750975050505050506106f0565b6040805160a0810182528581526020810185905290810183905260006060820181905260808201526106e38161083c565b9850985098505050505050505b96509650969350505050565b856107088160006108d0565b6107545760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d74797065604482015260640161021d565b86600881901b6107658160006108d0565b6107bf5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161021d565b506107d08c8c8c8c8b8b8b8a6108e7565b505050505050505050505050565b60006107ec85858585610e8b565b95945050505050565b60008080808061080786880188611237565b905060006108168a8a846104b6565b91975095509350905061082b8b828e85610e8b565b955050509650965096509692505050565b6000806000836040015142101561085b575060009150819050806108c9565b6020840151604085015161086f90426113f4565b610879919061130d565b61088490600161134e565b9050808460600151141591506000826108a15784608001516108a4565b60005b9050808560000151116108b85760006108c5565b84516108c59082906113f4565b9350505b9193909250565b6001600160f81b0319828116908216145b92915050565b6000806000803660006108fa8a8a610ed5565b935093509350935081819050604403610a0657821561096f5760405162461bcd60e51b8152602060048201526038602482015260008051602061143683398151915260448201527f2d76616c75652d696e2d65726332302d7472616e736665720000000000000000606482015260840161021d565b63a9059cbb60e01b610985600460008486611361565b61098e91611407565b6001600160e01b031916146109e35760405162461bcd60e51b815260206004820152602760248201526000805160206114368339815191526044820152660b5b595d1a1bd960ca1b606482015260840161021d565b92935083926109f6604460248385611361565b6109ff916113d6565b9550610acf565b6000819003610a7f5760008311610a735760405162461bcd60e51b815260206004820152603e602482015260008051602061143683398151915260448201527f2d7a65726f2d76616c75652d696e2d6e61746976652d7472616e736665720000606482015260840161021d565b60009450829550610acf565b60405162461bcd60e51b8152602060048201526031602482015260008051602061143683398151915260448201527005ac6c2d8d85ac8c2e8c25ad8cadccee8d607b1b606482015260840161021d565b5060009250610ae3915050888a018a611237565b9050600080600080610af68f8f876104b6565b9350935093509350836001600160a01b0316866001600160a01b031614610b6f5760405162461bcd60e51b815260206004820152602760248201527f4d756c7469546f6b656e506572696f64456e666f726365723a746f6b656e2d6d6044820152660d2e6dac2e8c6d60cb1b606482015260840161021d565b6000610b7d33888c89610e8b565b60008181526020819052604081206002810154929350919003610d1f5760008311610bf15760405162461bcd60e51b8152602060048201526030602482015260008051602061143683398151915260448201526f2d7a65726f2d73746172742d6461746560801b606482015260840161021d565b60008511610c4b5760405162461bcd60e51b815260206004820152603360248201526000805160206114368339815191526044820152720b5e995c9bcb5c195c9a5bd90b585b5bdd5b9d606a1b606482015260840161021d565b60008411610ca75760405162461bcd60e51b8152602060048201526035602482015260008051602061143683398151915260448201527416bd32b93796b832b934b7b216b23ab930ba34b7b760591b606482015260840161021d565b82421015610d0d5760405162461bcd60e51b815260206004820152602d60248201527f4d756c7469546f6b656e506572696f64456e666f726365723a7472616e73666560448201526c1c8b5b9bdd0b5cdd185c9d1959609a1b606482015260840161021d565b84815560018101849055600281018390555b6000806000610d6a846040518060a00160405290816000820154815260200160018201548152602001600282015481526020016003820154815260200160048201548152505061083c565b925092509250828c1115610dda5760405162461bcd60e51b815260206004820152603160248201527f4d756c7469546f6b656e506572696f64456e666f726365723a7472616e7366656044820152701c8b585b5bdd5b9d0b595e18d959591959607a1b606482015260840161021d565b8115610def5760038401819055600060048501555b8b846004016000828254610e03919061134e565b90915550506004840154604080516001600160a01b038e81168252602082018c90529181018a90526060810189905260808101929092524260a08301528f91908f169033907fb2a345c7f80b4be490c405f4a994faf85384dd05da7d70be0801dc31a8c253af9060c00160405180910390a45050505050505050505050505050505050505050565b604080516001600160a01b03958616602080830191909152949095168582015260608501929092526080808501919091528151808503909101815260a09093019052815191012090565b6000803681610ee76014828789611361565b610ef09161138b565b60601c9350610f03603460148789611361565b610f0c916113d6565b9250610f1b8560348189611361565b949793965094505050565b60008083601f840112610f3857600080fd5b50813567ffffffffffffffff811115610f5057600080fd5b602083019150836020828501011115610f6857600080fd5b9250929050565b60008060208385031215610f8257600080fd5b823567ffffffffffffffff811115610f9957600080fd5b610fa585828601610f26565b90969095509350505050565b60008151808452602080850194506020840160005b83811015610fe257815187529582019590820190600101610fc6565b509495945050505050565b6080808252855190820181905260009060209060a0840190828901845b8281101561102f5781516001600160a01b03168452928401929084019060010161100a565b50505083810360208501526110448188610fb1565b91505082810360408401526110598186610fb1565b9050828103606084015261106d8185610fb1565b979650505050505050565b80356001600160a01b038116811461108f57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156110b357600080fd5b8a3567ffffffffffffffff808211156110cb57600080fd5b6110d78e838f01610f26565b909c509a5060208d01359150808211156110f057600080fd5b6110fc8e838f01610f26565b909a50985060408d0135975060608d013591508082111561111c57600080fd5b506111298d828e01610f26565b90965094505060808b0135925061114260a08c01611078565b915061115060c08c01611078565b90509295989b9194979a5092959850565b60008060006040848603121561117657600080fd5b833567ffffffffffffffff81111561118d57600080fd5b61119986828701610f26565b909790965060209590950135949350505050565b600080600080600080608087890312156111c657600080fd5b863595506111d660208801611078565b9450604087013567ffffffffffffffff808211156111f357600080fd5b6111ff8a838b01610f26565b9096509450606089013591508082111561121857600080fd5b5061122589828a01610f26565b979a9699509497509295939492505050565b60006020828403121561124957600080fd5b5035919050565b6000806000806080858703121561126657600080fd5b61126f85611078565b935061127d60208601611078565b93969395505050506040820135916060013590565b634e487b7160e01b600052601260045260246000fd5b6000826112b7576112b7611292565b500690565b6020808252602d9082015260008051602061143683398151915260408201526c05ae8cae4dae65ad8cadccee8d609b1b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b60008261131c5761131c611292565b500490565b634e487b7160e01b600052604160045260246000fd5b80820281158282048414176108e1576108e16112f7565b808201808211156108e1576108e16112f7565b6000808585111561137157600080fd5b8386111561137e57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156113b85780818660140360031b1b83161692505b505092915050565b634e487b7160e01b600052603260045260246000fd5b803560208310156108e157600019602084900360031b1b1692915050565b818103818111156108e1576108e16112f7565b6001600160e01b031981358181169160048510156113b85760049490940360031b84901b169092169291505056fe4d756c7469546f6b656e506572696f64456e666f726365723a696e76616c6964a264697066735822122024c53d9970ff849bf9025e90cc5d34bfc99b0f5ee6a61ef6c48512264a9b0a3164736f6c63430008170033",KYt={};Le(KYt,{abi:()=>qYt,bytecode:()=>WYt});qYt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceCache",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"balance",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getHashKey",inputs:[{name:"_caller",type:"address",internalType:"address"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"enforceDecrease_",type:"bool",internalType:"bool"},{name:"recipient_",type:"address",internalType:"address"},{name:"amount_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"isLocked",inputs:[{name:"hashKey",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"lock",type:"bool",internalType:"bool"}],stateMutability:"view"}],WYt="0x608060405234801561001057600080fd5b50610824806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b5e544921161005b578063b5e5449214610115578063b99deb0e14610135578063d3eddcc51461016d578063ed463367146100c557600080fd5b806332a16f4e1461008d578063414c3e33146100c5578063a145832a146100e1578063a79a0db5146100f4575b600080fd5b6100b061009b366004610568565b60016020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100df6100d33660046105e6565b50505050505050505050565b005b6100df6100ef3660046105e6565b610180565b6101076101023660046106b3565b6102c6565b6040519081526020016100bc565b610107610123366004610568565b60006020819052908152604090205481565b6101486101433660046106dd565b6102db565b6040805193151584526001600160a01b039092166020840152908201526060016100bc565b6100df61017b3660046105e6565b6103ad565b85600881901b6001600160f81b03198116156101f15760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101fe338661052b565b9050600061020c8d8d6102db565b5060008481526001602052604090205490925060ff161590506102885760405162461bcd60e51b815260206004820152602e60248201527f4e617469766542616c616e63654368616e6765456e666f726365723a656e666f60448201526d1c98d95c8b5a5ccb5b1bd8dad95960921b60648201526084016101e8565b6000918252600160208181526040808520805460ff19169093179092558390529091206001600160a01b039091163190555050505050505050505050565b60006102d2838361052b565b90505b92915050565b60008080603584146103485760405162461bcd60e51b815260206004820152603060248201527f4e617469766542616c616e63654368616e6765456e666f726365723a696e766160448201526f0d8d2c85ae8cae4dae65ad8cadccee8d60831b60648201526084016101e8565b8484600081811061035b5761035b61071f565b909101356001600160f81b0319161515935061037d9050601560018688610735565b6103869161075f565b60601c91506103988460158188610735565b6103a191610794565b60001c90509250925092565b60008060006103bc8d8d6102db565b92509250925060006103ce338861052b565b6000818152600160205260409020805460ff1916905590508315610482576000818152602081905260409020546104069083906107c8565b836001600160a01b031631101561047d5760405162461bcd60e51b815260206004820152603560248201527f4e617469766542616c616e63654368616e6765456e666f726365723a65786365604482015274656465642d62616c616e63652d646563726561736560581b60648201526084016101e8565b61051b565b60008181526020819052604090205461049c9083906107db565b836001600160a01b031631101561051b5760405162461bcd60e51b815260206004820152603960248201527f4e617469766542616c616e63654368616e6765456e666f726365723a696e737560448201527f6666696369656e742d62616c616e63652d696e6372656173650000000000000060648201526084016101e8565b5050505050505050505050505050565b604080516001600160a01b038416602082015290810182905260009060600160405160208183030381529060405280519060200120905092915050565b60006020828403121561057a57600080fd5b5035919050565b60008083601f84011261059357600080fd5b50813567ffffffffffffffff8111156105ab57600080fd5b6020830191508360208285010111156105c357600080fd5b9250929050565b80356001600160a01b03811681146105e157600080fd5b919050565b60008060008060008060008060008060e08b8d03121561060557600080fd5b8a3567ffffffffffffffff8082111561061d57600080fd5b6106298e838f01610581565b909c509a5060208d013591508082111561064257600080fd5b61064e8e838f01610581565b909a50985060408d0135975060608d013591508082111561066e57600080fd5b5061067b8d828e01610581565b90965094505060808b0135925061069460a08c016105ca565b91506106a260c08c016105ca565b90509295989b9194979a5092959850565b600080604083850312156106c657600080fd5b6106cf836105ca565b946020939093013593505050565b600080602083850312156106f057600080fd5b823567ffffffffffffffff81111561070757600080fd5b61071385828601610581565b90969095509350505050565b634e487b7160e01b600052603260045260246000fd5b6000808585111561074557600080fd5b8386111561075257600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff19813581811691601485101561078c5780818660140360031b1b83161692505b505092915050565b803560208310156102d557600019602084900360031b1b1692915050565b634e487b7160e01b600052601160045260246000fd5b818103818111156102d5576102d56107b2565b808201808211156102d5576102d56107b256fea2646970667358221220b33a5c188759ed62e28774f4ab95ff422856e7b7a36f7de87da5f14ed435ece964736f6c63430008170033",YYt={};Le(YYt,{abi:()=>JYt,bytecode:()=>QYt});JYt=[{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],QYt="0x",ZYt={};Le(ZYt,{abi:()=>XYt,bytecode:()=>eJt});XYt=[],eJt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220709bae2a6201f60c7dd916d94e8aed6e76d68870a93207bbf209cbf2ce9581c664736f6c63430008170033",tJt={};Le(tJt,{abi:()=>rJt,bytecode:()=>nJt});rJt=[{type:"function",name:"onERC721Received",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"nonpayable"}],nJt="0x",iJt={};Le(iJt,{abi:()=>oJt,bytecode:()=>aJt});oJt=[{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]}],aJt="0x",ol={};Le(ol,{abi:()=>sJt,bytecode:()=>cJt});sJt=[{type:"function",name:"acceptOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"pendingOwner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"OwnershipTransferStarted",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"OwnableInvalidOwner",inputs:[{name:"owner",type:"address",internalType:"address"}]},{type:"error",name:"OwnableUnauthorizedAccount",inputs:[{name:"account",type:"address",internalType:"address"}]}],cJt="0x",lJt={};Le(lJt,{abi:()=>uJt,bytecode:()=>dJt});uJt=[{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],dJt="0x",l1e={};Le(l1e,{abi:()=>fJt,bytecode:()=>pJt});fJt=[{type:"function",name:"paused",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"Paused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{name:"account",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"error",name:"EnforcedPause",inputs:[]},{type:"error",name:"ExpectedPause",inputs:[]}],pJt="0x",hJt={};Le(hJt,{abi:()=>mJt,bytecode:()=>bJt});mJt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowance_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"spentMap",inputs:[{name:"sender",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"IncreasedSpentMap",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"limit",type:"uint256",indexed:!1,internalType:"uint256"},{name:"spent",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],bJt="0x608060405234801561001057600080fd5b506105cd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e33146100675780639dd5d9ab14610083578063a145832a146100bd578063b99deb0e146100d0578063d3eddcc514610067578063ed46336714610067575b600080fd5b6100816100753660046103a7565b50505050505050505050565b005b6100ab610091366004610474565b600060208181529281526040808220909352908152205481565b60405190815260200160405180910390f35b6100816100cb3660046103a7565b6100e3565b6100ab6100de36600461049e565b6102c5565b856100ef8160006102da565b6101405760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b6101518160006102da565b6101ab5760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610137565b5060006101b88d8d6102c5565b905060006101c689896102f1565b5050336000908152602081815260408083208c845290915281208054929450909250839183906101f79084906104e0565b92505081905590508281111561026c5760405162461bcd60e51b815260206004820152603460248201527f4e6174697665546f6b656e5472616e73666572416d6f756e74456e666f7263656044820152731c8e985b1b1bddd85b98d94b595e18d95959195960621b6064820152608401610137565b604080518481526020810183905289916001600160a01b0389169133917fc026e493323d526061a052b5dd562495120e2f648797a48be61966d3a6beec8d910160405180910390a4505050505050505050505050505050565b60006102d382840184610501565b9392505050565b6001600160f81b0319828116908216145b92915050565b6000803681610303601482878961051a565b61030c91610544565b60601c935061031f60346014878961051a565b61032891610579565b9250610337856034818961051a565b949793965094505050565b60008083601f84011261035457600080fd5b50813567ffffffffffffffff81111561036c57600080fd5b60208301915083602082850101111561038457600080fd5b9250929050565b80356001600160a01b03811681146103a257600080fd5b919050565b60008060008060008060008060008060e08b8d0312156103c657600080fd5b8a3567ffffffffffffffff808211156103de57600080fd5b6103ea8e838f01610342565b909c509a5060208d013591508082111561040357600080fd5b61040f8e838f01610342565b909a50985060408d0135975060608d013591508082111561042f57600080fd5b5061043c8d828e01610342565b90965094505060808b0135925061045560a08c0161038b565b915061046360c08c0161038b565b90509295989b9194979a5092959850565b6000806040838503121561048757600080fd5b6104908361038b565b946020939093013593505050565b600080602083850312156104b157600080fd5b823567ffffffffffffffff8111156104c857600080fd5b6104d485828601610342565b90969095509350505050565b808201808211156102eb57634e487b7160e01b600052601160045260246000fd5b60006020828403121561051357600080fd5b5035919050565b6000808585111561052a57600080fd5b8386111561053757600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105715780818660140360031b1b83161692505b505092915050565b803560208310156102eb57600019602084900360031b1b169291505056fea2646970667358221220242bcbb545bdb30c0cc3054c27d7e861e0e03c97037d12e0a3a635b723f4c96064736f6c63430008170033",yJt={};Le(yJt,{abi:()=>gJt,bytecode:()=>wJt});gJt=[],wJt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220d7aca7990ce9da4d7914667722de1ec02253803fb163d86029328ca9bb504b0164736f6c63430008170033",vJt={};Le(vJt,{abi:()=>EJt,bytecode:()=>xJt});EJt=[{type:"fallback",stateMutability:"nonpayable"}],xJt="0x608060405234801561001057600080fd5b5061022e806100206000396000f3fe608060405234801561001057600080fd5b50600036606060a0821461004057604080516000602082015201604051602081830303815290604052905061017b565b600061004f6020828587610186565b610058916101b0565b9050600061006a604060208688610186565b610073916101b0565b90506000610085606060408789610186565b61008e916101b0565b905060006100a060806060888a610186565b6100a9916101b0565b905060006100bb60a06080898b610186565b6100c4916101b0565b60405163a1f3128160e01b8152600481018790526024810186905260448101859052606481018490526084810182905290915073__$b8f96b288d4d0429e38b8ed50fd423070f$__9063a1f312819060a401602060405180830381865af4158015610133573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061015791906101cf565b60408051911515602083015201604051602081830303815290604052955050505050505b915050805190602001f35b6000808585111561019657600080fd5b838611156101a357600080fd5b5050820193919092039150565b803560208310156101c957600019602084900360031b1b165b92915050565b6000602082840312156101e157600080fd5b815180151581146101f157600080fd5b939250505056fea26469706673582212203dafaa4c8f34ad767d36775120cdf65742956a98b33a9913f2e11f858baf2d9e64736f6c63430008170033",AJt={};Le(AJt,{abi:()=>TJt,bytecode:()=>_Jt});TJt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"targetContract_",type:"address",internalType:"address"}],stateMutability:"pure"},{type:"event",name:"OwnershipTransferEnforced",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"redeemer",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"newOwner",type:"address",indexed:!1,internalType:"address"}],anonymous:!1}],_Jt="0x608060405234801561001057600080fd5b506106af806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461049f565b50505050505050505050565b005b61007661008636600461049f565b6100ba565b61009e61009936600461056c565b6101e7565b6040516001600160a01b03909116815260200160405180910390f35b856100c6816000610252565b6101175760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b610128816000610252565b6101825760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b606482015260840161010e565b5060006101918d8d8a8a610269565b6040516001600160a01b038083168252919250879186169033907f0f026cada0b544ae1cc47ac006f1f4c3d7e94832af22aa0065351de49f9284d79060200160405180910390a450505050505050505050505050565b60006014821461023e5760405162461bcd60e51b815260206004820152602e602482015260008051602061065a83398151915260448201526d0c85ae8cae4dae65ad8cadccee8d60931b606482015260840161010e565b61024882846105ae565b60601c9392505050565b6001600160f81b0319828116908216145b92915050565b60008036600061027986866103e9565b929550935090915050602481146102db5760405162461bcd60e51b8152602060048201526032602482015260008051602061065a8339815191526044820152710c85acaf0cac6eae8d2dedc5ad8cadccee8d60731b606482015260840161010e565b60006102ea60048284866105e3565b6102f39161060d565b90506001600160e01b0319811663f2fde38b60e01b146103545760405162461bcd60e51b8152602060048201526028602482015260008051602061065a833981519152604482015267190b5b595d1a1bd960c21b606482015260840161010e565b60006103608a8a6101e7565b9050846001600160a01b0316816001600160a01b0316146103c45760405162461bcd60e51b815260206004820152602a602482015260008051602061065a833981519152604482015269190b58dbdb9d1c9858dd60b21b606482015260840161010e565b6103d26024600485876105e3565b6103db9161063b565b9a9950505050505050505050565b60008036816103fb60148287896105e3565b610404916105ae565b60601c93506104176034601487896105e3565b6104209161063b565b925061042f85603481896105e3565b949793965094505050565b60008083601f84011261044c57600080fd5b50813567ffffffffffffffff81111561046457600080fd5b60208301915083602082850101111561047c57600080fd5b9250929050565b80356001600160a01b038116811461049a57600080fd5b919050565b60008060008060008060008060008060e08b8d0312156104be57600080fd5b8a3567ffffffffffffffff808211156104d657600080fd5b6104e28e838f0161043a565b909c509a5060208d01359150808211156104fb57600080fd5b6105078e838f0161043a565b909a50985060408d0135975060608d013591508082111561052757600080fd5b506105348d828e0161043a565b90965094505060808b0135925061054d60a08c01610483565b915061055b60c08c01610483565b90509295989b9194979a5092959850565b6000806020838503121561057f57600080fd5b823567ffffffffffffffff81111561059657600080fd5b6105a28582860161043a565b90969095509350505050565b6bffffffffffffffffffffffff1981358181169160148510156105db5780818660140360031b1b83161692505b505092915050565b600080858511156105f357600080fd5b8386111561060057600080fd5b5050820193919092039150565b6001600160e01b031981358181169160048510156105db5760049490940360031b84901b1690921692915050565b8035602083101561026357600019602084900360031b1b169291505056fe4f776e6572736869705472616e73666572456e666f726365723a696e76616c69a2646970667358221220ca5ae6d7f1b90ba5d22d1aa6d07431cba5451fcdcfda2c53ba5014e9bf6c30cc64736f6c63430008170033",SJt={};Le(SJt,{abi:()=>IJt,bytecode:()=>CJt});IJt=[{type:"error",name:"SafeERC20FailedDecreaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"currentAllowance",type:"uint256",internalType:"uint256"},{name:"requestedDecrease",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SafeERC20FailedOperation",inputs:[{name:"token",type:"address",internalType:"address"}]}],CJt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088a0aa059cfc49869da70b79266115a887b85b6bf4a5e84a430f64ac0e13ee7c64736f6c63430008170033",RJt={};Le(RJt,{abi:()=>PJt,bytecode:()=>OJt});PJt=[{type:"function",name:"createSender",inputs:[{name:"initCode",type:"bytes",internalType:"bytes"}],outputs:[{name:"sender",type:"address",internalType:"address"}],stateMutability:"nonpayable"}],OJt="0x608060405234801561000f575f80fd5b506101e28061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063570e1a361461002d575b5f80fd5b61004061003b3660046100e4565b61005c565b6040516001600160a01b03909116815260200160405180910390f35b5f8061006b6014828587610150565b61007491610177565b60601c90505f6100878460148188610150565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92018290525084519495509360209350849250905082850182875af190505f519350806100db575f93505b50505092915050565b5f80602083850312156100f5575f80fd5b823567ffffffffffffffff8082111561010c575f80fd5b818501915085601f83011261011f575f80fd5b81358181111561012d575f80fd5b86602082850101111561013e575f80fd5b60209290920196919550909350505050565b5f808585111561015e575f80fd5b8386111561016a575f80fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156101a45780818660140360031b1b83161692505b50509291505056fea264697066735822122078c1aaa9f040f8c523cf2b642dd06415593eec30d2e75021458af7e0c704e6fb64736f6c63430008170033",NJt={};Le(NJt,{abi:()=>kJt,bytecode:()=>MJt});kJt=[{type:"error",name:"ReentrancyGuardReentrantCall",inputs:[]}],MJt="0x",BJt={};Le(BJt,{abi:()=>DJt,bytecode:()=>LJt});DJt=[{type:"error",name:"SafeCastOverflowedIntDowncast",inputs:[{name:"bits",type:"uint8",internalType:"uint8"},{name:"value",type:"int256",internalType:"int256"}]},{type:"error",name:"SafeCastOverflowedIntToUint",inputs:[{name:"value",type:"int256",internalType:"int256"}]},{type:"error",name:"SafeCastOverflowedUintDowncast",inputs:[{name:"bits",type:"uint8",internalType:"uint8"},{name:"value",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SafeCastOverflowedUintToInt",inputs:[{name:"value",type:"uint256",internalType:"uint256"}]}],LJt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122061ebdeb3510df44a7d9170525bd3fc61f93c656e67274c3f3b4aa33ec92dc13864736f6c63430008170033",UJt={};Le(UJt,{abi:()=>FJt,bytecode:()=>HJt});FJt=[],HJt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212203d65f4321e18e96a0e0a3e6a8d19e56735de368638fd48b184c923bf46a5170f64736f6c63430008170033",zJt={};Le(zJt,{abi:()=>GJt,bytecode:()=>jJt});GJt=[{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]}],jJt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122088910c5f67a05f7b05fc7425f62972b57385080dd0be1e4dea1ea74435bca86f64736f6c63430008170033",RA={};Le(RA,{abi:()=>$Jt,bytecode:()=>VJt});$Jt=[{type:"function",name:"computeAddress",inputs:[{name:"_bytecodeHash",type:"bytes32",internalType:"bytes32"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"deploy",inputs:[{name:"_bytecode",type:"bytes",internalType:"bytes"},{name:"_salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"addr_",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"event",name:"Deployed",inputs:[{name:"addr",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"Create2EmptyBytecode",inputs:[]},{type:"error",name:"Create2FailedDeployment",inputs:[]},{type:"error",name:"Create2InsufficientBalance",inputs:[{name:"balance",type:"uint256",internalType:"uint256"},{name:"needed",type:"uint256",internalType:"uint256"}]},{type:"error",name:"SimpleFactoryEmptyContract",inputs:[{name:"deployed",type:"address",internalType:"address"}]}],VJt="0x608060405234801561001057600080fd5b506102ef806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063481286e61461003b5780634af63f021461006a575b600080fd5b61004e6100493660046101cc565b61007d565b6040516001600160a01b03909116815260200160405180910390f35b61004e610078366004610204565b610090565b60006100898284610115565b9392505050565b600061009e60008385610122565b9050806001600160a01b03163b6000036100db576040516301e3495560e61b81526001600160a01b03821660048201526024015b60405180910390fd5b6040516001600160a01b038216907ff40fcec21964ffb566044d083b4073f29f7f7929110ea19e1b3ebe375d89055e90600090a292915050565b60006100898383306101a2565b60008347101561014e5760405163392efb2b60e21b8152476004820152602481018590526044016100d2565b815160000361017057604051631328927760e21b815260040160405180910390fd5b8282516020840186f590506001600160a01b03811661008957604051633a0ba96160e11b815260040160405180910390fd5b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b600080604083850312156101df57600080fd5b50508035926020909101359150565b634e487b7160e01b600052604160045260246000fd5b6000806040838503121561021757600080fd5b823567ffffffffffffffff8082111561022f57600080fd5b818501915085601f83011261024357600080fd5b813581811115610255576102556101ee565b604051601f8201601f19908116603f0116810190838211818310171561027d5761027d6101ee565b8160405282815288602084870101111561029657600080fd5b82602086016020830137600060209382018401529896909101359650505050505056fea264697066735822122060b446de0182f6cf23546703f0e9eb0c1da6c4f00138f5d151474f865157cd3164736f6c63430008170033",KJt={};Le(KJt,{abi:()=>qJt,bytecode:()=>WJt});qJt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"_redeemer",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"allowedRedeemers_",type:"address[]",internalType:"address[]"}],stateMutability:"pure"}],WJt="0x608060405234801561001057600080fd5b5061064b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a3660046103ae565b50505050505050505050565b005b6100766100863660046103ae565b6100b4565b61009e61009936600461047b565b6101e8565b6040516100ab91906104bd565b60405180910390f35b85600881901b6100c5816000610332565b6101245760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b5060006101318c8c6101e8565b805190915060005b81811015610183578281815181106101535761015361050a565b60200260200101516001600160a01b0316856001600160a01b03160361017b575050506101db565b600101610139565b5060405162461bcd60e51b815260206004820152602660248201527f52656465656d6572456e666f726365723a756e617574686f72697a65642d72656044820152653232b2b6b2b960d11b606482015260840161011b565b5050505050505050505050565b606060008280158015906102045750610202601482610536565b155b61025e5760405162461bcd60e51b815260206004820152602560248201527f52656465656d6572456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b606482015260840161011b565b610269601482610560565b67ffffffffffffffff81111561028157610281610574565b6040519080825280602002602001820160405280156102aa578160200160208202803683370190505b50925060005b81811015610329578581866102c682601461058a565b926102d39392919061059d565b6102dc916105c7565b60601c8484815181106102f1576102f161050a565b6001600160a01b039092166020928302919091019091015282610313816105fc565b9350610322905060148261058a565b90506102b0565b50505092915050565b6001600160f81b0319828116908216145b92915050565b60008083601f84011261035b57600080fd5b50813567ffffffffffffffff81111561037357600080fd5b60208301915083602082850101111561038b57600080fd5b9250929050565b80356001600160a01b03811681146103a957600080fd5b919050565b60008060008060008060008060008060e08b8d0312156103cd57600080fd5b8a3567ffffffffffffffff808211156103e557600080fd5b6103f18e838f01610349565b909c509a5060208d013591508082111561040a57600080fd5b6104168e838f01610349565b909a50985060408d0135975060608d013591508082111561043657600080fd5b506104438d828e01610349565b90965094505060808b0135925061045c60a08c01610392565b915061046a60c08c01610392565b90509295989b9194979a5092959850565b6000806020838503121561048e57600080fd5b823567ffffffffffffffff8111156104a557600080fd5b6104b185828601610349565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b818110156104fe5783516001600160a01b0316835292840192918401916001016104d9565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601260045260246000fd5b60008261054557610545610520565b500690565b634e487b7160e01b600052601160045260246000fd5b60008261056f5761056f610520565b500490565b634e487b7160e01b600052604160045260246000fd5b808201808211156103435761034361054a565b600080858511156105ad57600080fd5b838611156105ba57600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156105f45780818660140360031b1b83161692505b505092915050565b60006001820161060e5761060e61054a565b506001019056fea264697066735822122021c89a0ebcdb2523c453552212243b747d81b7c16f2f3e22d20bb9692240f3a364736f6c63430008170033",YJt={};Le(YJt,{abi:()=>JJt,bytecode:()=>QJt});JJt=[],QJt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212209bac814741dd376ccf59547680acabccb0310545d980db81a1b4c6c7f17cdbc164736f6c63430008170033",ZJt={};Le(ZJt,{abi:()=>XJt,bytecode:()=>eQt});XJt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"_delegationHash",type:"bytes32",internalType:"bytes32"},{name:"_delegator",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"termsData_",type:"tuple",internalType:"struct SpecificActionERC20TransferBatchEnforcer.TermsData",components:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"recipient",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"firstTarget",type:"address",internalType:"address"},{name:"firstCalldata",type:"bytes",internalType:"bytes"}]}],stateMutability:"pure"},{type:"function",name:"usedDelegations",inputs:[{name:"delegationManager",type:"address",internalType:"address"},{name:"delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"used",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"event",name:"DelegationExecuted",inputs:[{name:"delegationManager",type:"address",indexed:!0,internalType:"address"},{name:"delegationHash",type:"bytes32",indexed:!0,internalType:"bytes32"},{name:"delegator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],eQt="0x608060405234801561001057600080fd5b50610ccf806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063414c3e3314610067578063a145832a14610083578063b99deb0e14610096578063b9cf5249146100bf578063d3eddcc514610067578063ed46336714610067575b600080fd5b610081610075366004610958565b50505050505050505050565b005b610081610091366004610958565b6100fa565b6100a96100a4366004610a25565b6106ce565b6040516100b69190610a67565b60405180910390f35b6100ea6100cd366004610af5565b600060208181529281526040808220909352908152205460ff1681565b60405190151581526020016100b6565b8561010981600160f81b610843565b61015a5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61016b816000610843565b6101c55760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610151565b503360009081526020818152604080832088845290915290205460ff1615610245576040805162461bcd60e51b8152602060048201526024810191909152600080516020610c7a83398151915260448201527f456e666f726365723a64656c65676174696f6e2d616c72656164792d757365646064820152608401610151565b336000908152602081815260408083208884529091528120805460ff191660011790553690610274898961085a565b9092509050600281146102dd5760405162461bcd60e51b815260206004820152603b6024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d62617463682d73697a6500000000006064820152608401610151565b60006102e98f8f6106ce565b905080606001516001600160a01b03168383600081811061030c5761030c610b1f565b905060200281019061031e9190610b35565b61032c906020810190610b55565b6001600160a01b031614158061036957508282600081811061035057610350610b1f565b90506020028101906103629190610b35565b6020013515155b806103c757508060800151805190602001208383600081811061038e5761038e610b1f565b90506020028101906103a09190610b35565b6103ae906040810190610b77565b6040516103bc929190610bbe565b604051809103902014155b156104335760405162461bcd60e51b81526020600482015260426024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d66697273742d7472616e736163746960648201526137b760f11b608482015260a401610151565b80516001600160a01b03168383600181811061045157610451610b1f565b90506020028101906104639190610b35565b610471906020810190610b55565b6001600160a01b03161415806104ae57508282600181811061049557610495610b1f565b90506020028101906104a79190610b35565b6020013515155b806104ee5750828260018181106104c7576104c7610b1f565b90506020028101906104d99190610b35565b6104e7906040810190610b77565b9050604414155b80610554575063a9059cbb60e01b8383600181811061050f5761050f610b1f565b90506020028101906105219190610b35565b61052f906040810190610b77565b61053e91600491600091610bce565b61054791610bf8565b6001600160e01b03191614155b806105bf575080602001516001600160a01b03168383600181811061057b5761057b610b1f565b905060200281019061058d9190610b35565b61059b906040810190610b77565b6105aa91602491600491610bce565b6105b391610c28565b6001600160a01b031614155b8061061857508060400151838360018181106105dd576105dd610b1f565b90506020028101906105ef9190610b35565b6105fd906040810190610b77565b61060c91604491602491610bce565b61061591610c28565b14155b156106855760405162461bcd60e51b81526020600482015260436024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d7365636f6e642d7472616e7361637460648201526234b7b760e91b608482015260a401610151565b6040516001600160a01b03881690899033907f76f83a16f9924b51c0c3ad67a44af3e517fbdec68ffa3729776df2ac0f03144090600090a4505050505050505050505050505050565b61071b6040518060a0016040528060006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160006001600160a01b03168152602001606081525090565b605c8210156107805760405162461bcd60e51b815260206004820152603d6024820152600080516020610c7a83398151915260448201527f456e666f726365723a696e76616c69642d7465726d732d6c656e6774680000006064820152608401610151565b61078e601460008486610bce565b61079791610c46565b60601c81526107aa602860148486610bce565b6107b391610c46565b60601c60208201526107c9604860288486610bce565b6107d291610c28565b60408201526107e5605c60488486610bce565b6107ee91610c46565b606090811c9082015261080482605c8186610bce565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505050608082015292915050565b6001600160f81b0319828116908216145b92915050565b366000833580850160208587010360208201945081359350808460051b8301118360401c17156108925763ba597e7e6000526004601cfd5b83156108e9578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c17156108e05763ba597e7e6000526004601cfd5b5050508261089c575b5050509250929050565b60008083601f84011261090557600080fd5b50813567ffffffffffffffff81111561091d57600080fd5b60208301915083602082850101111561093557600080fd5b9250929050565b80356001600160a01b038116811461095357600080fd5b919050565b60008060008060008060008060008060e08b8d03121561097757600080fd5b8a3567ffffffffffffffff8082111561098f57600080fd5b61099b8e838f016108f3565b909c509a5060208d01359150808211156109b457600080fd5b6109c08e838f016108f3565b909a50985060408d0135975060608d01359150808211156109e057600080fd5b506109ed8d828e016108f3565b90965094505060808b01359250610a0660a08c0161093c565b9150610a1460c08c0161093c565b90509295989b9194979a5092959850565b60008060208385031215610a3857600080fd5b823567ffffffffffffffff811115610a4f57600080fd5b610a5b858286016108f3565b90969095509350505050565b6000602080835260018060a01b038085511660208501528060208601511660408501526040850151606085015280606086015116608085015250608084015160a08085015280518060c086015260005b81811015610ad35782810184015186820160e001528301610ab7565b50600060e0828701015260e0601f19601f830116860101935050505092915050565b60008060408385031215610b0857600080fd5b610b118361093c565b946020939093013593505050565b634e487b7160e01b600052603260045260246000fd5b60008235605e19833603018112610b4b57600080fd5b9190910192915050565b600060208284031215610b6757600080fd5b610b708261093c565b9392505050565b6000808335601e19843603018112610b8e57600080fd5b83018035915067ffffffffffffffff821115610ba957600080fd5b60200191503681900382131561093557600080fd5b8183823760009101908152919050565b60008085851115610bde57600080fd5b83861115610beb57600080fd5b5050820193919092039150565b6001600160e01b03198135818116916004851015610c205780818660040360031b1b83161692505b505092915050565b8035602083101561085457600019602084900360031b1b1692915050565b6bffffffffffffffffffffffff198135818116916014851015610c205760149490940360031b84901b169092169291505056fe5370656369666963416374696f6e45524332305472616e736665724261746368a2646970667358221220e8d1de6d5cca88243b7e7a1d3b3a1ae6b1a75dad78f305486212fafaf9e3ca5264736f6c63430008170033",tQt={};Le(tQt,{abi:()=>rQt,bytecode:()=>nQt});rQt=[{type:"receive",stateMutability:"payable"},{type:"function",name:"addStake",inputs:[{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"depositTo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"deposits",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getDepositInfo",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"info",type:"tuple",internalType:"struct IStakeManager.DepositInfo",components:[{name:"deposit",type:"uint256",internalType:"uint256"},{name:"staked",type:"bool",internalType:"bool"},{name:"stake",type:"uint112",internalType:"uint112"},{name:"unstakeDelaySec",type:"uint32",internalType:"uint32"},{name:"withdrawTime",type:"uint48",internalType:"uint48"}]}],stateMutability:"view"},{type:"function",name:"unlockStake",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawStake",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTo",inputs:[{name:"withdrawAddress",type:"address",internalType:"address payable"},{name:"withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Deposited",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalDeposit",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"totalStaked",type:"uint256",indexed:!1,internalType:"uint256"},{name:"unstakeDelaySec",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeUnlocked",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawTime",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeWithdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawn",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"withdrawAddress",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],nQt="0x",iQt={};Le(iQt,{abi:()=>oQt,bytecode:()=>aQt});oQt=[{type:"error",name:"StringsInsufficientHexLength",inputs:[{name:"value",type:"uint256",internalType:"uint256"},{name:"length",type:"uint256",internalType:"uint256"}]}],aQt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ce1bfc0cd5aac1e748b751339a93cc065f5fd20fd73be10a7844adf26543eb8164736f6c63430008170033",sQt={};Le(sQt,{abi:()=>cQt,bytecode:()=>lQt});cQt=[],lQt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122089188054053227534294662d666312081d2f72553264bdfc0ce4a353c15e0f6364736f6c63430008170033",uQt={};Le(uQt,{abi:()=>dQt,bytecode:()=>fQt});dQt=[{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"}],fQt="0x",pQt={};Le(pQt,{abi:()=>hQt,bytecode:()=>mQt});hQt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCallData",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"pure"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"value_",type:"uint256",internalType:"uint256"}],stateMutability:"pure"}],mQt="0x608060405234801561001057600080fd5b506104f8806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a366004610336565b50505050505050505050565b005b610076610086366004610336565b6100b0565b61009e610099366004610403565b6101f8565b60405190815260200160405180910390f35b856100bc816000610269565b61010d5760405162461bcd60e51b815260206004820181905260248201527f436176656174456e666f726365723a696e76616c69642d63616c6c2d7479706560448201526064015b60405180910390fd5b86600881901b61011e816000610269565b6101785760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b6064820152608401610104565b5060006101858888610280565b505091505060006101968e8e6101f8565b9050808211156101e85760405162461bcd60e51b815260206004820152601f60248201527f56616c75654c7465456e666f726365723a76616c75652d746f6f2d68696768006044820152606401610104565b5050505050505050505050505050565b6000602082146102585760405162461bcd60e51b815260206004820152602560248201527f56616c75654c7465456e666f726365723a696e76616c69642d7465726d732d6c6044820152640cadccee8d60db1b6064820152608401610104565b6102628284610445565b9392505050565b6001600160f81b0319828116908216145b92915050565b60008036816102926014828789610463565b61029b9161048d565b60601c93506102ae603460148789610463565b6102b791610445565b92506102c68560348189610463565b949793965094505050565b60008083601f8401126102e357600080fd5b50813567ffffffffffffffff8111156102fb57600080fd5b60208301915083602082850101111561031357600080fd5b9250929050565b80356001600160a01b038116811461033157600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035557600080fd5b8a3567ffffffffffffffff8082111561036d57600080fd5b6103798e838f016102d1565b909c509a5060208d013591508082111561039257600080fd5b61039e8e838f016102d1565b909a50985060408d0135975060608d01359150808211156103be57600080fd5b506103cb8d828e016102d1565b90965094505060808b013592506103e460a08c0161031a565b91506103f260c08c0161031a565b90509295989b9194979a5092959850565b6000806020838503121561041657600080fd5b823567ffffffffffffffff81111561042d57600080fd5b610439858286016102d1565b90969095509350505050565b8035602083101561027a57600019602084900360031b1b1692915050565b6000808585111561047357600080fd5b8386111561048057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156104ba5780818660140360031b1b83161692505b50509291505056fea26469706673582212201b32f956e1bfeecade9436bbfc83066c0610b5679c49ae7d06d58eaeb4e24ff564736f6c63430008170033",bQt={};Le(bQt,{abi:()=>yQt,bytecode:()=>gQt});yQt=[{type:"function",name:"PAYMASTER_DATA_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PAYMASTER_POSTOP_GAS_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PAYMASTER_VALIDATION_GAS_OFFSET",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],gQt="0x60a7610034600b8282823980515f1a60731461002857634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106046575f3560e01c806325093e1b14604a578063b29a8ff4146063578063ede3150214606a575b5f80fd5b6051602481565b60405190815260200160405180910390f35b6051601481565b605160348156fea2646970667358221220e3e47e9c438ff94c86dca42d7dcd69637923bbba71e55fc90068fd2fbb4991dc64736f6c63430008170033",wQt={};Le(wQt,{abi:()=>vQt,bytecode:()=>EQt});vQt=[{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"newImplementation",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]}],EQt="0x",xQt={};Le(xQt,{abi:()=>AQt,bytecode:()=>TQt});AQt=[{type:"function",name:"afterAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"afterHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeAllHook",inputs:[{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"beforeHook",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"},{name:"",type:"bytes",internalType:"bytes"},{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"",type:"bytes",internalType:"bytes"},{name:"",type:"bytes32",internalType:"bytes32"},{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[],stateMutability:"view"},{type:"function",name:"getTermsInfo",inputs:[{name:"_terms",type:"bytes",internalType:"bytes"}],outputs:[{name:"timestampAfterThreshold_",type:"uint128",internalType:"uint128"},{name:"timestampBeforeThreshold_",type:"uint128",internalType:"uint128"}],stateMutability:"pure"}],TQt="0x608060405234801561001057600080fd5b506104e7806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063414c3e331461005c578063a145832a14610078578063b99deb0e1461008b578063d3eddcc51461005c578063ed4633671461005c575b600080fd5b61007661006a36600461033f565b50505050505050505050565b005b61007661008636600461033f565b6100c2565b61009e61009936600461040c565b61023a565b604080516001600160801b0393841681529290911660208301520160405180910390f35b85600881901b6001600160f81b03198116156101335760405162461bcd60e51b815260206004820152602560248201527f436176656174456e666f726365723a696e76616c69642d657865637574696f6e6044820152642d7479706560d81b60648201526084015b60405180910390fd5b506000806101418d8d61023a565b90925090506001600160801b038216156101b857816001600160801b031642116101b85760405162461bcd60e51b815260206004820152602260248201527f54696d657374616d70456e666f726365723a6561726c792d64656c656761746960448201526137b760f11b606482015260840161012a565b6001600160801b0381161561022b57806001600160801b0316421061022b5760405162461bcd60e51b8152602060048201526024808201527f54696d657374616d70456e666f726365723a657870697265642d64656c6567616044820152633a34b7b760e11b606482015260840161012a565b50505050505050505050505050565b6000806020831461029c5760405162461bcd60e51b815260206004820152602660248201527f54696d657374616d70456e666f726365723a696e76616c69642d7465726d732d6044820152650d8cadccee8d60d31b606482015260840161012a565b6102a9836010818761044e565b6102b291610478565b60801c90506102c560106000858761044e565b6102ce91610478565b60801c91509250929050565b60008083601f8401126102ec57600080fd5b50813567ffffffffffffffff81111561030457600080fd5b60208301915083602082850101111561031c57600080fd5b9250929050565b80356001600160a01b038116811461033a57600080fd5b919050565b60008060008060008060008060008060e08b8d03121561035e57600080fd5b8a3567ffffffffffffffff8082111561037657600080fd5b6103828e838f016102da565b909c509a5060208d013591508082111561039b57600080fd5b6103a78e838f016102da565b909a50985060408d0135975060608d01359150808211156103c757600080fd5b506103d48d828e016102da565b90965094505060808b013592506103ed60a08c01610323565b91506103fb60c08c01610323565b90509295989b9194979a5092959850565b6000806020838503121561041f57600080fd5b823567ffffffffffffffff81111561043657600080fd5b610442858286016102da565b90969095509350505050565b6000808585111561045e57600080fd5b8386111561046b57600080fd5b5050820193919092039150565b6fffffffffffffffffffffffffffffffff1981358181169160108510156104a95780818660100360031b1b83161692505b50509291505056fea2646970667358221220493f1dd46bf21857fc13b6e41e6f29c1c53fbb939ca84fcd1536c7cf1000d18064736f6c63430008170033",_Qt={};Le(_Qt,{abi:()=>SQt,bytecode:()=>IQt});SQt=[{type:"fallback",stateMutability:"payable"}],IQt="0x",CQt={};Le(CQt,{abi:()=>RQt,bytecode:()=>PQt});RQt=[],PQt="0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122034801a6b4534dfc9cfe9c8b31e018c344c3329b6bf478762f2158ce5781d2b7a64736f6c63430008170033",xn={};Le(xn,{abi:()=>OQt,bytecode:()=>NQt});OQt=[{type:"constructor",inputs:[{name:"_delegationManager",type:"address",internalType:"contract IDelegationManager"},{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"MAX_NUMBER_OF_SIGNERS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"PACKED_USER_OP_TYPEHASH",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"UPGRADE_INTERFACE_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"addDeposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"addSigner",inputs:[{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"delegationManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IDelegationManager"}],stateMutability:"view"},{type:"function",name:"disableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"enableDelegation",inputs:[{name:"_delegation",type:"tuple",internalType:"struct Delegation",components:[{name:"delegate",type:"address",internalType:"address"},{name:"delegator",type:"address",internalType:"address"},{name:"authority",type:"bytes32",internalType:"bytes32"},{name:"caveats",type:"tuple[]",internalType:"struct Caveat[]",components:[{name:"enforcer",type:"address",internalType:"address"},{name:"terms",type:"bytes",internalType:"bytes"},{name:"args",type:"bytes",internalType:"bytes"}]},{name:"salt",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"_execution",type:"tuple",internalType:"struct Execution",components:[{name:"target",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"callData",type:"bytes",internalType:"bytes"}]}],outputs:[],stateMutability:"payable"},{type:"function",name:"execute",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"_mode",type:"bytes32",internalType:"ModeCode"},{name:"_executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData_",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"getDeposit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getDomainHash",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getImplementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getInitializedVersion",inputs:[],outputs:[{name:"",type:"uint64",internalType:"uint64"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"_key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getPackedUserOperationTypedDataHash",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"getSigners",inputs:[],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"getSignersCount",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getThreshold",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isDelegationDisabled",inputs:[{name:"_delegationHash",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isSigner",inputs:[{name:"_addr",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"_hash",type:"bytes32",internalType:"bytes32"},{name:"_signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"magicValue_",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"proxiableUUID",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"redeemDelegations",inputs:[{name:"_permissionContexts",type:"bytes[]",internalType:"bytes[]"},{name:"_modes",type:"bytes32[]",internalType:"ModeCode[]"},{name:"_executionCallDatas",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"reinitialize",inputs:[{name:"_version",type:"uint64",internalType:"uint64"},{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"},{name:"_clearSigners",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"removeSigner",inputs:[{name:"_oldSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"replaceSigner",inputs:[{name:"_oldSigner",type:"address",internalType:"address"},{name:"_newSigner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"supportsInterface",inputs:[{name:"_interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"updateMultiSigParameters",inputs:[{name:"_signers",type:"address[]",internalType:"address[]"},{name:"_threshold",type:"uint256",internalType:"uint256"},{name:"_clearSigners",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"updateThreshold",inputs:[{name:"_threshold",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeToAndCall",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeToAndCallAndRetainStorage",inputs:[{name:"_newImplementation",type:"address",internalType:"address"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validateUserOp",inputs:[{name:"_userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"",type:"bytes32",internalType:"bytes32"},{name:"_missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"withdrawDeposit",inputs:[{name:"_withdrawAddress",type:"address",internalType:"address payable"},{name:"_withdrawAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"AddedSigner",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ClearedStorage",inputs:[],anonymous:!1},{type:"event",name:"EIP712DomainChanged",inputs:[],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1,internalType:"uint64"}],anonymous:!1},{type:"event",name:"RemovedSigner",inputs:[{name:"signer",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ReplacedSigner",inputs:[{name:"oldSigner",type:"address",indexed:!0,internalType:"address"},{name:"newSigner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"SentPrefund",inputs:[{name:"sender",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"},{name:"success",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"SetDelegationManager",inputs:[{name:"newDelegationManager",type:"address",indexed:!0,internalType:"contract IDelegationManager"}],anonymous:!1},{type:"event",name:"SetEntryPoint",inputs:[{name:"entryPoint",type:"address",indexed:!0,internalType:"contract IEntryPoint"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"UpdatedThreshold",inputs:[{name:"threshold",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AddressEmptyCode",inputs:[{name:"target",type:"address",internalType:"address"}]},{type:"error",name:"AlreadyASigner",inputs:[]},{type:"error",name:"ECDSAInvalidSignature",inputs:[]},{type:"error",name:"ECDSAInvalidSignatureLength",inputs:[{name:"length",type:"uint256",internalType:"uint256"}]},{type:"error",name:"ECDSAInvalidSignatureS",inputs:[{name:"s",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"ERC1967InvalidImplementation",inputs:[{name:"implementation",type:"address",internalType:"address"}]},{type:"error",name:"ERC1967NonPayable",inputs:[]},{type:"error",name:"ExecutionFailed",inputs:[]},{type:"error",name:"FailedInnerCall",inputs:[]},{type:"error",name:"InsufficientSigners",inputs:[]},{type:"error",name:"InvalidInitialization",inputs:[]},{type:"error",name:"InvalidShortString",inputs:[]},{type:"error",name:"InvalidSignerAddress",inputs:[]},{type:"error",name:"InvalidThreshold",inputs:[]},{type:"error",name:"NotASigner",inputs:[]},{type:"error",name:"NotDelegationManager",inputs:[]},{type:"error",name:"NotEntryPoint",inputs:[]},{type:"error",name:"NotEntryPointOrSelf",inputs:[]},{type:"error",name:"NotInitializing",inputs:[]},{type:"error",name:"NotSelf",inputs:[]},{type:"error",name:"StringTooLong",inputs:[{name:"str",type:"string",internalType:"string"}]},{type:"error",name:"TooManySigners",inputs:[]},{type:"error",name:"UUPSUnauthorizedCallContext",inputs:[]},{type:"error",name:"UUPSUnsupportedProxiableUUID",inputs:[{name:"slot",type:"bytes32",internalType:"bytes32"}]},{type:"error",name:"UnsupportedCallType",inputs:[{name:"callType",type:"bytes1",internalType:"CallType"}]},{type:"error",name:"UnsupportedExecType",inputs:[{name:"execType",type:"bytes1",internalType:"ExecType"}]}],NQt="0x6101c0604052306080523480156200001657600080fd5b506040516200492838038062004928833981016040819052620000399162000392565b81816040518060400160405280601181526020017026bab63a34a9b4b3a232b632a3b0ba37b960791b815250604051806040016040528060018152602001603160f81b8152508181620000976000836200021f60201b90919060201c565b61014052620000a88160016200021f565b61016052815160208084019190912061010052815190820120610120524660c052620001386101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0526200014b62000258565b6001600160a01b038085166101808190529084166101a0526040517fb2e8eb88b584ae71ef4e854c10847f4d39bd93e52599f147bfb4dcc8de52014d90600090a26040516001600160a01b038416907fee8699dc0e27105da2653bdba54be0edcaadc3e33890a3ad705517ffe9bf0a9990600090a2505050506000620001d66200030c60201b60201c565b600019600282018190556040519081529091507f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d039060200160405180910390a1505050620005ba565b60006020835110156200023f57620002378362000330565b905062000252565b816200024c848262000478565b5060ff90505b92915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff1615620002a95760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b0390811614620003095780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b7fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c0090565b600080829050601f8151111562000367578260405163305a27a960e01b81526004016200035e919062000544565b60405180910390fd5b8051620003748262000595565b179392505050565b6001600160a01b03811681146200030957600080fd5b60008060408385031215620003a657600080fd5b8251620003b3816200037c565b6020840151909250620003c6816200037c565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680620003fc57607f821691505b6020821081036200041d57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111562000473576000816000526020600020601f850160051c810160208610156200044e5750805b601f850160051c820191505b818110156200046f578281556001016200045a565b5050505b505050565b81516001600160401b03811115620004945762000494620003d1565b620004ac81620004a58454620003e7565b8462000423565b602080601f831160018114620004e45760008415620004cb5750858301515b600019600386901b1c1916600185901b1785556200046f565b600085815260208120601f198616915b828110156200051557888601518255948401946001909101908401620004f4565b5085821015620005345787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b81811015620005745785810183015185820160400152820162000556565b506000604082860101526040601f19601f8301168501019250505092915050565b805160208083015191908110156200041d5760001960209190910360031b1b16919050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a051614235620006f3600039600081816106d8015281816109cd01528181610c2d01528181610cb701528181610d3501528181610e9901528181610f4e01528181610fd90152818161115e0152818161124e015281816113010152818161137301528181611523015281816115a20152818161169d0152818161195501528181611a4b01528181611c6101528181611e64015281816120da0152612d0d01526000818161084a01528181610d9801528181610e1b01528181610efc0152818161160501526116e1015260006129970152600061296a015260006122be01526000612296015260006121f10152600061221b0152600061224501526000818161214801528181612171015261267101526142356000f3fe6080604052600436106102815760003560e01c806394cf795e1161014f578063cef6d209116100c1578063e9ae5c531161007a578063e9ae5c5314610825578063ea4d3c9b14610838578063eb12d61e1461086c578063ed8101b51461088c578063f23a6e61146108ac578063ffa1ad74146108cc57600080fd5b8063cef6d2091461075c578063d087d2881461077c578063d691c96414610791578063d7d7442f146107b1578063e3d9109f146107d1578063e75235b8146107f157600080fd5b8063acb8cc4911610113578063acb8cc4914610668578063ad3cb1cc14610695578063b0d691fe146106c6578063b3c65015146106fa578063bc197c8114610727578063c399ec881461074757600080fd5b806394cf795e1461059a578063a0c1deb4146105bc578063a24c8f32146105de578063a3f4df7e146105f1578063aaf10f421461063b57600080fd5b806349934047116101f357806365ee81d8116101ac57806365ee81d8146104b757806378979a80146104d75780637df73e27146104f75780637f07bfdc1461053d57806383ebb7711461055d57806384b0196e1461057257600080fd5b806349934047146104345780634a58db19146104545780634f1ef2861461045c57806352d1902d1461046f5780635c1c6dcd1461048457806360b5bb3f1461049757600080fd5b806319822f7c1161024557806319822f7c1461036b5780632b3afd991461038b5780633e1b0812146103bf5780633ed01015146103df578063445140b8146103ff5780634891161f1461041f57600080fd5b806301ffc9a71461028d57806306394d67146102c25780630e316ab7146102f0578063150b7a02146103125780631626ba7e1461034b57600080fd5b3661028857005b600080fd5b34801561029957600080fd5b506102ad6102a8366004613309565b6108fd565b60405190151581526020015b60405180910390f35b3480156102ce57600080fd5b506102e26102dd36600461334c565b61098d565b6040519081526020016102b9565b3480156102fc57600080fd5b5061031061030b36600461339d565b6109c2565b005b34801561031e57600080fd5b5061033261032d36600461346f565b610be6565b6040516001600160e01b031990911681526020016102b9565b34801561035757600080fd5b50610332610366366004613522565b610c01565b34801561037757600080fd5b506102e261038636600461356d565b610c20565b34801561039757600080fd5b506102e27fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1881565b3480156103cb57600080fd5b506102e26103da3660046135ba565b610c90565b3480156103eb57600080fd5b506103106103fa3660046135e3565b610d2a565b34801561040b57600080fd5b506102ad61041a36600461361d565b610e02565b34801561042b57600080fd5b506102e2601e81565b34801561044057600080fd5b5061031061044f3660046135e3565b610e8e565b610310610f31565b61031061046a366004613636565b610f9b565b34801561047b57600080fd5b506102e2610fb1565b610310610492366004613685565b610fce565b3480156104a357600080fd5b506103106104b2366004613703565b61103e565b3480156104c357600080fd5b506103106104d236600461375c565b611153565b3480156104e357600080fd5b506103106104f23660046137ba565b6111bc565b34801561050357600080fd5b506102ad61051236600461339d565b6001600160a01b031660009081526000805160206141c0833981519152602052604090205460ff1690565b34801561054957600080fd5b50610310610558366004613836565b6112f6565b34801561056957600080fd5b506102e26113d3565b34801561057e57600080fd5b506105876113e2565b6040516102b997969594939291906138b2565b3480156105a657600080fd5b506105af611428565b6040516102b9919061394b565b3480156105c857600080fd5b506000805160206141a0833981519152546102e2565b6103106105ec366004613636565b610fa3565b3480156105fd57600080fd5b5061062e6040518060400160405280601181526020017026bab63a34a9b4b3a232b632a3b0ba37b960791b81525081565b6040516102b99190613998565b34801561064757600080fd5b5061065061149b565b6040516001600160a01b0390911681526020016102b9565b34801561067457600080fd5b5061062e604051806040016040528060018152602001603160f81b81525081565b3480156106a157600080fd5b5061062e604051806040016040528060058152602001640352e302e360dc1b81525081565b3480156106d257600080fd5b506106507f000000000000000000000000000000000000000000000000000000000000000081565b34801561070657600080fd5b5061070f6114bc565b6040516001600160401b0390911681526020016102b9565b34801561073357600080fd5b50610332610742366004613a2a565b6114ef565b34801561075357600080fd5b506102e261150b565b34801561076857600080fd5b50610310610777366004613ad7565b611597565b34801561078857600080fd5b506102e261167e565b6107a461079f366004613522565b6116d4565b6040516102b99190613b70565b3480156107bd57600080fd5b506103106107cc36600461361d565b61194a565b3480156107dd57600080fd5b506103106107ec366004613bd4565b611a40565b3480156107fd57600080fd5b507fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c02546102e2565b610310610833366004613522565b611c56565b34801561084457600080fd5b506106507f000000000000000000000000000000000000000000000000000000000000000081565b34801561087857600080fd5b5061031061088736600461339d565b611e59565b34801561089857600080fd5b506102e26108a736600461334c565b611fdf565b3480156108b857600080fd5b506103326108c7366004613c0d565b612121565b3480156108d857600080fd5b5061062e604051806040016040528060058152602001640312e332e360dc1b81525081565b600061090761213d565b6001600160e01b031982166335a4725960e21b148061093657506001600160e01b03198216630a85bd0160e11b145b8061095157506001600160e01b03198216630271189760e51b145b8061096c57506001600160e01b031982166301ffc9a760e01b145b8061098757506001600160e01b03198216630b135d3f60e11b145b92915050565b600061098761099a6121e4565b6109a384611fdf565b60405161190160f01b8152600281019290925260228201526042902090565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906109fb5750333014155b15610a1957604051630796d94560e01b815260040160405180910390fd5b6001600160a01b03811660009081526000805160206141c0833981519152602081905260409091205460ff16610a625760405163da0357f760e01b815260040160405180910390fd5b600181015460028201548103610a8b576040516361774dcf60e11b815260040160405180910390fd5b60005b610a99600183613c8b565b811015610b6357836001600160a01b0316836001018281548110610abf57610abf613c9e565b6000918252602090912001546001600160a01b031603610b5b5782600101600183610aea9190613c8b565b81548110610afa57610afa613c9e565b6000918252602090912001546001840180546001600160a01b039092169183908110610b2857610b28613c9e565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550610b63565b600101610a8e565b5081600101805480610b7757610b77613cb4565b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b038516808352908490526040808320805460ff191690555190917fb0073c14ccc2332b5b461c0d2fb94366f38d3954a82745e74827aa0811c9f98191a2505050565b6000610bf061213d565b50630a85bd0160e11b949350505050565b6000610c0b61213d565b610c1684848461230f565b90505b9392505050565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610c6b57604051636b31ba1560e11b815260040160405180910390fd5b610c7361213d565b610c8584610c808661098d565b6124ae565b9050610c19826124f6565b604051631aab3f0d60e11b81523060048201526001600160c01b03821660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401602060405180830381865afa158015610d06573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109879190613cca565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610d635750333014155b15610d8157604051630796d94560e01b815260040160405180910390fd5b604051633ed0101560e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690633ed0101590610dcd908490600401613e12565b600060405180830381600087803b158015610de757600080fd5b505af1158015610dfb573d6000803e3d6000fd5b5050505050565b6040516316a0682960e11b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632d40d05290602401602060405180830381865afa158015610e6a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109879190613eed565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590610ec75750333014155b15610ee557604051630796d94560e01b815260040160405180910390fd5b604051634993404760e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690634993404790610dcd908490600401613e12565b610f3961213d565b60405163b760faf960e01b81523060048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b760faf99034906024016000604051808303818588803b158015610de757600080fd5b610fa361258e565b610fad828261264b565b5050565b6000610fbb612666565b506000805160206141e083398151915290565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461101757604051636b31ba1560e11b815260040160405180910390fd5b610fad611027602083018361339d565b60208301356110396040850185613f0a565b6126af565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff1615906001600160401b03166000811580156110835750825b90506000826001600160401b0316600114801561109f5750303b155b9050811580156110ad575080155b156110cb5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156110f557845460ff60401b1916600160401b1785555b61110288888860006126e5565b831561114957845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d2906020015b60405180910390a15b5050505050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061118c5750333014155b156111aa57604051630796d94560e01b815260040160405180910390fd5b6111b6848484846126e5565b50505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054869190600160401b900460ff1680611204575080546001600160401b03808416911610155b156112225760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b178155336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061127c5750333014155b1561129a57604051630796d94560e01b815260040160405180910390fd5b6112a6868686866126e5565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a150505050505050565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161480159061132f5750333014155b1561134d57604051630796d94560e01b815260040160405180910390fd5b60405163040b850f60e31b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b1580156113b757600080fd5b505af11580156113cb573d6000803e3d6000fd5b505050505050565b60006113dd6121e4565b905090565b6000606080600080600060606113f6612963565b6113fe612990565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b606060006000805160206141c08339815191526001810180546040805160208084028201810190925282815293945083018282801561149057602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611472575b505050505091505090565b60006113dd6000805160206141e0833981519152546001600160a01b031690565b60006113dd7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00546001600160401b031690565b60006114f961213d565b5063bc197c8160e01b95945050505050565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a08231906024015b602060405180830381865afa158015611573573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113dd9190613cca565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906115d05750333014155b156115ee57604051630796d94560e01b815260040160405180910390fd5b60405163cef6d20960e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cef6d2099061164490899089908990899089908990600401613fb1565b600060405180830381600087803b15801561165e57600080fd5b505af1158015611672573d6000803e3d6000fd5b50505050505050505050565b604051631aab3f0d60e11b8152306004820152600060248201819052907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906335567e1a90604401611556565b6060336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461171f57604051630692ce8160e21b815260040160405180910390fd5b83600881901b61173382600160f81b6129bd565b156117b95736600061174587876129cf565b90925090506117558360006129bd565b1561176b576117648282612a68565b94506117b2565b61177983600160f81b6129bd565b15611788576117648282612b29565b6040516308c3ee0360e11b81526001600160f81b0319841660048201526024015b60405180910390fd5b5050611941565b6117c48260006129bd565b1561191c576000803660006117d98989612c56565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816117f8579050509650600061181b86826129bd565b1561184f5761182c858585856126af565b8860008151811061183f5761183f613c9e565b6020026020010181905250611912565b61185d86600160f81b6129bd565b156118ed5761186e85858585612ca7565b8960008151811061188157611881613c9e565b60209081029190910101529050806118e8577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb76000896000815181106118c9576118c9613c9e565b60200260200101516040516118df92919061401a565b60405180910390a15b611912565b6040516308c3ee0360e11b81526001600160f81b0319871660048201526024016117a9565b5050505050611941565b604051632e5bf3f960e21b81526001600160f81b0319831660048201526024016117a9565b50509392505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148015906119835750333014155b156119a157604051630796d94560e01b815260040160405180910390fd5b806000036119c25760405163aabd5a0960e01b815260040160405180910390fd5b6000805160206141a0833981519152546000805160206141c083398151915290821115611a025760405163aabd5a0960e01b815260040160405180910390fd5b600281018290556040518281527f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d039060200160405180910390a15050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611a795750333014155b15611a9757604051630796d94560e01b815260040160405180910390fd5b6001600160a01b0381161580611ab657506001600160a01b0381163b15155b15611ad457604051634501a91960e01b815260040160405180910390fd5b6001600160a01b03821660009081526000805160206141c0833981519152602081905260409091205460ff16611b1d5760405163da0357f760e01b815260040160405180910390fd5b6001600160a01b03821660009081526020829052604090205460ff1615611b5757604051631985f4ab60e31b815260040160405180910390fd5b600181015460005b81811015611bf157846001600160a01b0316836001018281548110611b8657611b86613c9e565b6000918252602090912001546001600160a01b031603611be95783836001018281548110611bb657611bb6613c9e565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550611bf1565b600101611b5f565b506001600160a01b03808516600081815260208590526040808220805460ff199081169091559387168083528183208054909516600117909455517f53a7b6f060162826746b07f3ff5cc66b83afad3bc9a57c9f34d7802901c6e8299190a350505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611c9f57604051636b31ba1560e11b815260040160405180910390fd5b82600881901b611cb382600160f81b6129bd565b15611d0e57366000611cc586866129cf565b9092509050611cd58360006129bd565b15611cea57611ce48282612a68565b50611d07565b611cf883600160f81b6129bd565b1561178857611ce48282612b29565b5050610dfb565b611d198260006129bd565b1561191c57600080366000611d2e8888612c56565b9350935093509350611d4485600060f81b6129bd565b15611d5b57611d55848484846126af565b50611e50565b611d6985600160f81b6129bd565b15611e2b57604080516001808252818301909252600091816020015b6060815260200190600190039081611d855790505090506000611daa86868686612ca7565b83600081518110611dbd57611dbd613c9e565b6020908102919091010152905080611e24577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb7600083600081518110611e0557611e05613c9e565b6020026020010151604051611e1b92919061401a565b60405180910390a15b5050611e50565b6040516308c3ee0360e11b81526001600160f81b0319861660048201526024016117a9565b50505050610dfb565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590611e925750333014155b15611eb057604051630796d94560e01b815260040160405180910390fd5b6001600160a01b0381161580611ecf57506001600160a01b0381163b15155b15611eed57604051634501a91960e01b815260040160405180910390fd5b6000805160206141a0833981519152546000805160206141c083398151915290601d1901611f2e57604051630dc92ed360e11b815260040160405180910390fd5b6001600160a01b03821660009081526020829052604090205460ff1615611f6857604051631985f4ab60e31b815260040160405180910390fd5b6001818101805480830182556000918252602080832090910180546001600160a01b0319166001600160a01b038716908117909155808352908490526040808320805460ff191690941790935591517f82b74755d483f0688b80354268454667c377a5684e64a4dbb6820fc11a6276d49190a25050565b60007fbc37962d8bd1d319c95199bdfda6d3f92baa8903a61b32d5f4ec1f4b36a3bc1861200f602084018461339d565b60208401356120216040860186613f0a565b60405161202f929190614033565b6040519081900390206120456060870187613f0a565b604051612053929190614033565b604051908190039020608087013560a088013560c089013561207860e08b018b613f0a565b604051612086929190614033565b60408051918290038220602083019a909a526001600160a01b03988916908201526060810196909652608086019490945260a085019290925260c084015260e08301526101008201526101208101929092527f00000000000000000000000000000000000000000000000000000000000000001661014082015261016001604051602081830303815290604052805190602001209050919050565b600061212b61213d565b5063f23a6e6160e01b95945050505050565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614806121c457507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166121b86000805160206141e0833981519152546001600160a01b031690565b6001600160a01b031614155b156121e25760405163703e46dd60e11b815260040160405180910390fd5b565b6000306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801561223d57507f000000000000000000000000000000000000000000000000000000000000000046145b1561226757507f000000000000000000000000000000000000000000000000000000000000000090565b6113dd604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b7fb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c02546000906000805160206141c08339815191529061235090604190614043565b831461236757506001600160e01b03199050610c19565b600061237460418561405a565b600283015490915060008080805b858110156124965760008a8a612399604185614043565b9060416123a786600161407c565b6123b19190614043565b926123be9392919061408f565b8080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092935061240292508e9150839050612cd8565b9350846001600160a01b0316846001600160a01b031611158061243e57506001600160a01b03841660009081526020899052604090205460ff16155b1561245c57506001600160e01b03199750610c199650505050505050565b82612466816140b9565b9350508583106124885750630b135d3f60e11b9750610c199650505050505050565b509192508291600101612382565b506001600160e01b03199a9950505050505050505050565b6000806124c8836124c3610100870187613f0a565b61230f565b90506374eca2c160e11b6001600160e01b03198216016124ec576000915050610987565b5060019392505050565b801561258b57604051600090339060001990849084818181858888f193505050503d8060008114612543576040519150601f19603f3d011682016040523d82523d6000602084013e612548565b606091505b505060408051848152821515602082015291925033917fa427c7d47f24d01b170779a7600b1d4c0d7cdbabaa0f19c4f0e6182053ffc931910160405180910390a2505b50565b6000805160206141a0833981519152546000805160206141c08339815191529060005b81811015612608578260000160008460010183815481106125d4576125d4613c9e565b60009182526020808320909101546001600160a01b031683528201929092526040019020805460ff191690556001016125b1565b506126176001830160006132d7565b6000600283018190556040517feb09d532980c3cc73dcad99b80e264204a667a54cbb7b63ec8d68dcb1c7096be9190a15050565b61265361213d565b61265c82612d02565b610fad8282612d59565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146121e25760405163703e46dd60e11b815260040160405180910390fd5b60405181838237600038838387895af16126cc573d6000823e3d81fd5b3d8152602081013d6000823e3d01604052949350505050565b6000805160206141a08339815191525483906000805160206141c08339815191529060008461271d57612718828561407c565b61271f565b835b905085158061272d57508086115b1561274b5760405163aabd5a0960e01b815260040160405180910390fd5b601e81111561276d57604051630dc92ed360e11b815260040160405180910390fd5b84156128015760005b828110156127f257600084600101828154811061279557612795613c9e565b60009182526020808320909101546001600160a01b0316808352908790526040808320805460ff191690555190925082917fb0073c14ccc2332b5b461c0d2fb94366f38d3954a82745e74827aa0811c9f98191a250600101612776565b506128016001840160006132d7565b60005b8481101561292b57600089898381811061282057612820613c9e565b9050602002016020810190612835919061339d565b6001600160a01b03811660009081526020879052604090205490915060ff161561287257604051631985f4ab60e31b815260040160405180910390fd5b6001600160a01b038116158061289157506001600160a01b0381163b15155b156128af57604051634501a91960e01b815260040160405180910390fd5b6001858101805480830182556000918252602080832090910180546001600160a01b0319166001600160a01b038616908117909155808352908890526040808320805460ff191690941790935591517f82b74755d483f0688b80354268454667c377a5684e64a4dbb6820fc11a6276d49190a250600101612804565b50600283018690556040518681527f78c34957a47c9ef62a6f6f2f8720f71e2394a6438100e7e20d139c3cbe774d0390602001611140565b60606113dd7f00000000000000000000000000000000000000000000000000000000000000006000612e1b565b60606113dd7f00000000000000000000000000000000000000000000000000000000000000006001612e1b565b6001600160f81b031990811691161490565b366000833580850160208587010360208201945081359350808460051b8301118360401c1715612a075763ba597e7e6000526004601cfd5b8315612a5e578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715612a555763ba597e7e6000526004601cfd5b50505082612a11575b5050509250929050565b606081806001600160401b03811115612a8357612a836133ba565b604051908082528060200260200182016040528015612ab657816020015b6060815260200190600190039081612aa15790505b50915060005b81811015612b215736858583818110612ad757612ad7613c9e565b9050602002810190612ae991906140d2565b9050612afb611027602083018361339d565b848381518110612b0d57612b0d613c9e565b602090810291909101015250600101612abc565b505092915050565b606081806001600160401b03811115612b4457612b446133ba565b604051908082528060200260200182016040528015612b7757816020015b6060815260200190600190039081612b625790505b50915060005b81811015612b215736858583818110612b9857612b98613c9e565b9050602002810190612baa91906140d2565b90506000612bd5612bbe602084018461339d565b6020840135612bd06040860186613f0a565b612ca7565b868581518110612be757612be7613c9e565b6020908102919091010152905080612c4c577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612c2d57612c2d613c9e565b6020026020010151604051612c4392919061401a565b60405180910390a15b5050600101612b7d565b6000803681612c68601482878961408f565b612c71916140f2565b60601c9350612c8460346014878961408f565b612c8d91614125565b9250612c9c856034818961408f565b949793965094505050565b604051600090828482376000388483888a5af191503d8152602081013d6000823e3d81016040525094509492505050565b600080600080612ce88686612ec6565b925092509250612cf88282612f13565b5090949350505050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801590612d3b5750333014155b1561258b57604051630796d94560e01b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015612db3575060408051601f3d908101601f19168201909252612db091810190613cca565b60015b612ddb57604051634c9c8ce360e01b81526001600160a01b03831660048201526024016117a9565b6000805160206141e08339815191528114612e0c57604051632a87526960e21b8152600481018290526024016117a9565b612e168383612fcc565b505050565b606060ff8314612e3557612e2e83613022565b9050610987565b818054612e4190614143565b80601f0160208091040260200160405190810160405280929190818152602001828054612e6d90614143565b8015612eba5780601f10612e8f57610100808354040283529160200191612eba565b820191906000526020600020905b815481529060010190602001808311612e9d57829003601f168201915b50505050509050610987565b60008060008351604103612f005760208401516040850151606086015160001a612ef288828585613061565b955095509550505050612f0c565b50508151600091506002905b9250925092565b6000826003811115612f2757612f27614177565b03612f30575050565b6001826003811115612f4457612f44614177565b03612f625760405163f645eedf60e01b815260040160405180910390fd5b6002826003811115612f7657612f76614177565b03612f975760405163fce698f760e01b8152600481018290526024016117a9565b6003826003811115612fab57612fab614177565b03610fad576040516335e2f38360e21b8152600481018290526024016117a9565b612fd582613130565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561301a57612e168282613195565b610fad61320b565b6060600061302f8361322a565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600080807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a084111561309c5750600091506003905082613126565b604080516000808252602082018084528a905260ff891692820192909252606081018790526080810186905260019060a0016020604051602081039080840390855afa1580156130f0573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b03811661311c57506000925060019150829050613126565b9250600091508190505b9450945094915050565b806001600160a01b03163b60000361316657604051634c9c8ce360e01b81526001600160a01b03821660048201526024016117a9565b6000805160206141e083398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b0316846040516131b2919061418d565b600060405180830381855af49150503d80600081146131ed576040519150601f19603f3d011682016040523d82523d6000602084013e6131f2565b606091505b5091509150613202858383613252565b95945050505050565b34156121e25760405163b398979f60e01b815260040160405180910390fd5b600060ff8216601f81111561098757604051632cd44ac360e21b815260040160405180910390fd5b60608261326757613262826132ae565b610c19565b815115801561327e57506001600160a01b0384163b155b156132a757604051639996b31560e01b81526001600160a01b03851660048201526024016117a9565b5080610c19565b8051156132be5780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b508054600082559060005260206000209081019061258b91905b8082111561330557600081556001016132f1565b5090565b60006020828403121561331b57600080fd5b81356001600160e01b031981168114610c1957600080fd5b6000610120828403121561334657600080fd5b50919050565b60006020828403121561335e57600080fd5b81356001600160401b0381111561337457600080fd5b61338084828501613333565b949350505050565b6001600160a01b038116811461258b57600080fd5b6000602082840312156133af57600080fd5b8135610c1981613388565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b03811182821017156133f8576133f86133ba565b604052919050565b600082601f83011261341157600080fd5b81356001600160401b0381111561342a5761342a6133ba565b61343d601f8201601f19166020016133d0565b81815284602083860101111561345257600080fd5b816020850160208301376000918101602001919091529392505050565b6000806000806080858703121561348557600080fd5b843561349081613388565b935060208501356134a081613388565b92506040850135915060608501356001600160401b038111156134c257600080fd5b6134ce87828801613400565b91505092959194509250565b60008083601f8401126134ec57600080fd5b5081356001600160401b0381111561350357600080fd5b60208301915083602082850101111561351b57600080fd5b9250929050565b60008060006040848603121561353757600080fd5b8335925060208401356001600160401b0381111561355457600080fd5b613560868287016134da565b9497909650939450505050565b60008060006060848603121561358257600080fd5b83356001600160401b0381111561359857600080fd5b6135a486828701613333565b9660208601359650604090950135949350505050565b6000602082840312156135cc57600080fd5b81356001600160c01b0381168114610c1957600080fd5b6000602082840312156135f557600080fd5b81356001600160401b0381111561360b57600080fd5b820160c08185031215610c1957600080fd5b60006020828403121561362f57600080fd5b5035919050565b6000806040838503121561364957600080fd5b823561365481613388565b915060208301356001600160401b0381111561366f57600080fd5b61367b85828601613400565b9150509250929050565b60006020828403121561369757600080fd5b81356001600160401b038111156136ad57600080fd5b820160608185031215610c1957600080fd5b60008083601f8401126136d157600080fd5b5081356001600160401b038111156136e857600080fd5b6020830191508360208260051b850101111561351b57600080fd5b60008060006040848603121561371857600080fd5b83356001600160401b0381111561372e57600080fd5b61373a868287016136bf565b909790965060209590950135949350505050565b801515811461258b57600080fd5b6000806000806060858703121561377257600080fd5b84356001600160401b0381111561378857600080fd5b613794878288016136bf565b9095509350506020850135915060408501356137af8161374e565b939692955090935050565b6000806000806000608086880312156137d257600080fd5b85356001600160401b0380821682146137ea57600080fd5b9095506020870135908082111561380057600080fd5b5061380d888289016136bf565b9095509350506040860135915060608601356138288161374e565b809150509295509295909350565b6000806040838503121561384957600080fd5b823561385481613388565b946020939093013593505050565b60005b8381101561387d578181015183820152602001613865565b50506000910152565b6000815180845261389e816020860160208601613862565b601f01601f19169290920160200192915050565b60ff60f81b881681526000602060e060208401526138d360e084018a613886565b83810360408501526138e5818a613886565b606085018990526001600160a01b038816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156139395783518352928401929184019160010161391d565b50909c9b505050505050505050505050565b6020808252825182820181905260009190848201906040850190845b8181101561398c5783516001600160a01b031683529284019291840191600101613967565b50909695505050505050565b602081526000610c196020830184613886565b600082601f8301126139bc57600080fd5b813560206001600160401b038211156139d7576139d76133ba565b8160051b6139e68282016133d0565b9283528481018201928281019087851115613a0057600080fd5b83870192505b84831015613a1f57823582529183019190830190613a06565b979650505050505050565b600080600080600060a08688031215613a4257600080fd5b8535613a4d81613388565b94506020860135613a5d81613388565b935060408601356001600160401b0380821115613a7957600080fd5b613a8589838a016139ab565b94506060880135915080821115613a9b57600080fd5b613aa789838a016139ab565b93506080880135915080821115613abd57600080fd5b50613aca88828901613400565b9150509295509295909350565b60008060008060008060608789031215613af057600080fd5b86356001600160401b0380821115613b0757600080fd5b613b138a838b016136bf565b90985096506020890135915080821115613b2c57600080fd5b613b388a838b016136bf565b90965094506040890135915080821115613b5157600080fd5b50613b5e89828a016136bf565b979a9699509497509295939492505050565b600060208083016020845280855180835260408601915060408160051b87010192506020870160005b82811015613bc757603f19888603018452613bb5858351613886565b94509285019290850190600101613b99565b5092979650505050505050565b60008060408385031215613be757600080fd5b8235613bf281613388565b91506020830135613c0281613388565b809150509250929050565b600080600080600060a08688031215613c2557600080fd5b8535613c3081613388565b94506020860135613c4081613388565b9350604086013592506060860135915060808601356001600160401b03811115613c6957600080fd5b613aca88828901613400565b634e487b7160e01b600052601160045260246000fd5b8181038181111561098757610987613c75565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052603160045260246000fd5b600060208284031215613cdc57600080fd5b5051919050565b6000808335601e19843603018112613cfa57600080fd5b83016020810192503590506001600160401b03811115613d1957600080fd5b80360382131561351b57600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b88811015613e0457858403601f19018a52823536899003605e19018112613d90578283fd5b880160608135613d9f81613388565b6001600160a01b03168652613db682880183613ce3565b8289890152613dc88389018284613d28565b925050506040613dda81840184613ce3565b935087830382890152613dee838583613d28565b9d89019d97505050938601935050600101613d6b565b509198975050505050505050565b6020815260008235613e2381613388565b6001600160a01b0390811660208481019190915284013590613e4482613388565b80821660408501525050604083013560608301526060830135601e19843603018112613e6f57600080fd5b83016020810190356001600160401b03811115613e8b57600080fd5b8060051b3603821315613e9d57600080fd5b60c06080850152613eb260e085018284613d51565b915050608084013560a0840152613ecc60a0850185613ce3565b848303601f190160c0860152613ee3838284613d28565b9695505050505050565b600060208284031215613eff57600080fd5b8151610c198161374e565b6000808335601e19843603018112613f2157600080fd5b8301803591506001600160401b03821115613f3b57600080fd5b60200191503681900382131561351b57600080fd5b6000838385526020808601955060208560051b8301018460005b87811015613fa457848303601f19018952613f858288613ce3565b613f90858284613d28565b9a86019a9450505090830190600101613f6a565b5090979650505050505050565b606081526000613fc560608301888a613f50565b8281036020848101919091528682528791810160005b88811015613ff757833582529282019290820190600101613fdb565b50848103604086015261400b818789613f50565b9b9a5050505050505050505050565b828152604060208201526000610c166040830184613886565b8183823760009101908152919050565b808202811582820484141761098757610987613c75565b60008261407757634e487b7160e01b600052601260045260246000fd5b500490565b8082018082111561098757610987613c75565b6000808585111561409f57600080fd5b838611156140ac57600080fd5b5050820193919092039150565b6000600182016140cb576140cb613c75565b5060010190565b60008235605e198336030181126140e857600080fd5b9190910192915050565b6bffffffffffffffffffffffff198135818116916014851015612b215760149490940360031b84901b1690921692915050565b8035602083101561098757600019602084900360031b1b1692915050565b600181811c9082168061415757607f821691505b60208210810361334657634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b600082516140e881846020870161386256feb005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c01b005e320c74f68de39b3d9025549122b8b117c48474f537aac49c12147b61c00360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbca26469706673582212205fc6fdc85503c31560366339056f5ba5c2624d0697f326aa98f14cda48fe6f7164736f6c63430008170033",kQt={};Le(kQt,{abi:()=>MQt,bytecode:()=>BQt});MQt=[{type:"function",name:"verify",inputs:[{name:"message",type:"bytes32",internalType:"bytes32"},{name:"r",type:"uint256",internalType:"uint256"},{name:"s",type:"uint256",internalType:"uint256"},{name:"qx",type:"uint256",internalType:"uint256"},{name:"qy",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}],BQt="0x610c9761003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100355760003560e01c8063a1f312811461003a575b600080fd5b61004d610048366004610bf0565b610061565b604051901515815260200160405180910390f35b600084158061007e5750600080516020610c428339815191528510155b80610087575083155b806100a05750600080516020610c428339815191528410155b156100ad5750600061020a565b6100fe600160601b63ffffffff60c01b03196bfffffffffffffffffffffffd63ffffffff60c01b03197f5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b8686610213565b151560000361010f5750600061020a565b600061011a856102be565b90506000600080516020610c4283398151915282890990506000600080516020610c42833981519152838909905060006040518060c00160405280888152602001878152602001600160601b63ffffffff60c01b031981526020016bfffffffffffffffffffffffd63ffffffff60c01b031981526020017f6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c29681526020017f4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5815250905060006101ea828585610337565b509050600080516020610c428339815191528a8103820815955050505050505b95945050505050565b600082158015610221575081155b8061022c5750858310155b806102375750858210155b156102445750600061020a565b6000868061025457610254610c2b565b83840990506000878061026957610269610c2b565b888061027757610277610c2b565b888709898061028857610288610c2b565b878b8061029757610297610c2b565b898a090908905087806102ac576102ac610c2b565b86820891909114979650505050505050565b600060405160208152602080820152602060408201528260608201527fffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc63254f6080820152600080516020610c4283398151915260a082015260208160c0836005600019fa610330576107fe60405260206040fd5b5192915050565b600080600160ff1b8415801561034b575083155b1561035d576000809250925050610be8565b60008061080060405101604052604088015161082060405101526108206040510151610466565b6000806000808886600209898182098a8188098b82840992508b8c8d8c8d098f098d8e8b8c096003090895508b8b840993508b8a830994508b8c8260028f03098d8889090896508b8c828e03890887099150508a818c8a8509089450505082890392509650965096509692505050565b9086039086828186890908955086818803888588090894506000806000808a898a0993508a89850992508a84880991508a83890990508a84860996508a8b8860028e03098c858e038e8e8f09080893508a8a8c868e038a080994508a8b84880986089250975097509750979350505050565b60a0898101516080808c01516040519182015291820152600160c0820181905260e0909101526104a760608a01518260018060a08e015160808f0151610384565b95509350955095506104d683838789610100604051019081526020810191909152604081019190915260600152565b6104ed8160a08b015160808c015186868a8c6103f4565b955093509550955061051c83838789610180604051019081526020810191909152604081019190915260600152565b61054c60018060208c015160008d0151610200604051019081526020810191909152604081019190915260600152565b6080890151955060a089015194506105728160208b015160008c01516001808a8c6103f4565b95509350955095506105a183838789610280604051019081526020810191909152604081019190915260600152565b6105b88160a08b015160808c015186868a8c6103f4565b95509350955095506105e783838789610300604051019081526020810191909152604081019190915260600152565b6105fe8160a08b015160808c015186868a8c6103f4565b955093509550955061062d83838789610380604051019081526020810191909152604081019190915260600152565b600089015195506020890151945061064e60608a015182600180898b610384565b955093509550955061067d83838789610400604051019081526020810191909152604081019190915260600152565b6106948160a08b015160808c015186868a8c6103f4565b95509350955095506106c383838789610480604051019081526020810191909152604081019190915260600152565b6106da8160a08b015160808c015186868a8c6103f4565b955093509550955061070983838789610500604051019081526020810191909152604081019190915260600152565b6107208160a08b015160808c015186868a8c6103f4565b955093509550955061074f83838789610580604051019081526020810191909152604081019190915260600152565b6104006040510151955061042060405101519450610440604051015191506104606040510151925061078e8160208b015160008c015186868a8c6103f4565b95509350955095506107bd83838789610600604051019081526020810191909152604081019190915260600152565b6107d48160a08b015160808c015186868a8c6103f4565b955093509550955061080383838789610680604051019081526020810191909152604081019190915260600152565b61081a8160a08b015160808c015186868a8c6103f4565b955093509550955061084983838789610700604051019081526020810191909152604081019190915260600152565b6108608160a08b015160808c015186868a8c6103f4565b95509350955095505061089082828688610780604051019081526020810191909152604081019190915260600152565b600091505b816108d5578286161560010360031b8360011c87161560010360021b018388161560010360011b8460011c891615600103010191508260021c9250610895565b506040805160079290921b82018051602082015192820151606090920151610820850151919750929550919290915b8415610b7d5780866002098181820982818a09838284099250838487880960608f015109848186878e8f09600309089050848885099750848784099650600285039a508485838d0986838409089a5084858387038d088209925050508281848a850908830397508291508790506002098181820982818a09838284099250838487880960608f015109848186878e8f09600309089050848885099750848784099650600285039a508485838d0986838409089a5084858387038d088209925050508281848a850908975050508488161560010360031b8560011c89161560010360021b01858a161560010360011b8660011c8b1615600103010180610a0d575094850394610b72565b60071b828101805160609091015161086085015284610a48579083016020810151604082015160609092015192995097509094509250610b72565b82836108608601518a09848885602001880151090861084085015290830160400151908280838b0984038487840908610840850151610b005780610b005783896002860309925083838409905083818b09610840860152838184099250838487880960608f0151099150838285868d8e09600309089150838784099650838682099550838461084087015160028703098584850908995083848b8603610840880151088309905083848a850982089850505050610b72565b83818209915083818309905083838584890909955083838b0992508361086086015185838a09099650838485846002880309850985838703876108408a01516108408b01510908089950838284099150838482866108608901518d090985610840880151878e89038708090898505050505b8460021c9450610904565b61088060408190526108e085905260208082526108a08190526108c08190526001198301610900526109208390529092508260c0816005600019fa610bc8576107ff60405260206040fd5b808251870995508082518409925080838409925080838809965050505050505b935093915050565b600080600080600060a08688031215610c0857600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b634e487b7160e01b600052601260045260246000fdfeffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551a26469706673582212202032a0a92437c4c7498b5f3dbbeea2851a22a8974a563aed836730aa07e1cdda64736f6c63430008170033"});function u1e(t){return`0x${Vi(t)}`}function HQe(t){return os(t.slice(2))}var zQe=D(()=>{Na()});function d1e(t){let e=typeof t=="string"?HQe(t):t,r=e.slice(0,32),n=e.slice(32,64);return{r:BigInt(u1e(r)),s:BigInt(u1e(n))}}var GQe=D(()=>{zQe()});var jQe=D(()=>{GQe()});function KQe(t,e=jQt){let r=$Qt[e][t];if(r)return r;let n=FQe[e]?.[t];if(!n)throw new Error(`No contracts found for version ${e} chain ${t}`);return VQt(n)}function VQt(t){return{DelegationManager:t.DelegationManager,EntryPoint:t.EntryPoint,SimpleFactory:t.SimpleFactory,implementations:{MultiSigDeleGatorImpl:t.MultiSigDeleGatorImpl,HybridDeleGatorImpl:t.HybridDeleGatorImpl},caveatEnforcers:{AllowedCalldataEnforcer:t.AllowedCalldataEnforcer,AllowedMethodsEnforcer:t.AllowedMethodsEnforcer,AllowedTargetsEnforcer:t.AllowedTargetsEnforcer,ArgsEqualityCheckEnforcer:t.ArgsEqualityCheckEnforcer,BlockNumberEnforcer:t.BlockNumberEnforcer,DeployedEnforcer:t.DeployedEnforcer,ERC20BalanceChangeEnforcer:t.ERC20BalanceChangeEnforcer,ERC20TransferAmountEnforcer:t.ERC20TransferAmountEnforcer,ERC20StreamingEnforcer:t.ERC20StreamingEnforcer,ERC721BalanceChangeEnforcer:t.ERC721BalanceChangeEnforcer,ERC721TransferEnforcer:t.ERC721TransferEnforcer,ERC1155BalanceChangeEnforcer:t.ERC1155BalanceChangeEnforcer,IdEnforcer:t.IdEnforcer,LimitedCallsEnforcer:t.LimitedCallsEnforcer,NonceEnforcer:t.NonceEnforcer,TimestampEnforcer:t.TimestampEnforcer,ValueLteEnforcer:t.ValueLteEnforcer,NativeTokenTransferAmountEnforcer:t.NativeTokenTransferAmountEnforcer,NativeBalanceChangeEnforcer:t.NativeBalanceChangeEnforcer,NativeTokenStreamingEnforcer:t.NativeTokenStreamingEnforcer,NativeTokenPaymentEnforcer:t.NativeTokenPaymentEnforcer,OwnershipTransferEnforcer:t.OwnershipTransferEnforcer,RedeemerEnforcer:t.RedeemerEnforcer,SpecificActionERC20TransferBatchEnforcer:t.SpecificActionERC20TransferBatchEnforcer,ERC20PeriodTransferEnforcer:t.ERC20PeriodTransferEnforcer,NativeTokenPeriodTransferEnforcer:t.NativeTokenPeriodTransferEnforcer,ExactCalldataBatchEnforcer:t.ExactCalldataBatchEnforcer,ExactCalldataEnforcer:t.ExactCalldataEnforcer,ExactExecutionEnforcer:t.ExactExecutionEnforcer,ExactExecutionBatchEnforcer:t.ExactExecutionBatchEnforcer,MultiTokenPeriodEnforcer:t.MultiTokenPeriodEnforcer}}}function JQe(t,e,r,n){let i=Bt(Gi(["string"],[t])),{r:o,s:a}=d1e(e);for(;a>KQt;)a=WQe-a;let[s,c]=qQt(r),{userVerified:l}=JQt(n),u=WQt(r);return pr(YQe,[i,o,a,n,l,s,c,u])}function JQt(t){return{userVerified:(Buffer.from(t.slice(2),"hex").readUInt8(YQt)&4)!==0}}var jP,f1e,$Qe,DQt,LQt,UQt,ZV,$P,Lhn,FQt,Fhn,cu,uc,HQt,p1e,zQt,zhn,GQt,VQe,jQt,$Qt,qQe,WQe,KQt,YQe,qQt,WQt,YQt,QQe,QQt,h1e,lu=D(()=>{JV();wr();jt();JV();jt();jt();JV();jQe();jt();jt();jP=(t=ji,e=0n,r="0x")=>({target:t,value:e,callData:r}),f1e="0x0000000000000000000000000000000000000000000000000000000000000000",$Qe="0x0100000000000000000000000000000000000000000000000000000000000000",DQt=[{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"callData"}],LQt=t=>Gi(["address","uint256","bytes"],[t.target,t.value,t.callData]),UQt=t=>pr([{components:DQt,name:"executions",type:"tuple[]"}],[t]),ZV=t=>{if(t.length==0)throw new Error("Error while getting the execution calldatas, executions is empty");if(t.length==1){let e=t[0];return LQt(e)}return UQt(t)},$P=t=>{if(t.length==0)throw new Error("Error while getting the execution calldatas, executionsBatch is empty");return t.map(ZV)},Lhn={[nn.mainnet]:"https://etherscan.io",[nn.optimism]:"https://optimistic.etherscan.io",[nn.polygon]:"https://polygonscan.com",[nn.base]:"https://basescan.org",[nn.arbitrum]:"https://arbiscan.io",[nn.linea]:"https://lineascan.build",[nn.sepolia]:"https://sepolia.etherscan.io",[nn.lineaSepolia]:"https://sepolia.lineascan.build"},FQt=[{type:"address",name:"enforcer"},{type:"bytes",name:"terms"},{type:"bytes",name:"args"}],Fhn=Bt(gr("Caveat(address enforcer,bytes terms)")),cu=(t=>(t[t.MultiSig=0]="MultiSig",t[t.Hybrid=1]="Hybrid",t))(cu||{}),uc=t=>{let e=t.caveats.map(n=>({enforcer:Qa(n.enforcer),terms:n.terms,args:n.args})),r=t.salt==="0x"?0n:BigInt(t.salt);return{delegate:Qa(t.delegate),delegator:Qa(t.delegator),authority:t.authority===void 0?zQt:t.authority,caveats:e,salt:r,signature:t.signature}},HQt=t=>{let e=t.map(uc);return pr([{components:GQt,name:"delegations",type:"tuple[]"}],[e])},p1e=t=>t.map(r=>HQt(r)),zQt="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",zhn=Bt(gr("Delegation(address delegate,address delegator,bytes32 authority,Caveat[] caveats,uint256 salt)Caveat(address enforcer,bytes terms)")),GQt=[{type:"address",name:"delegate"},{type:"address",name:"delegator"},{type:"bytes32",name:"authority"},{type:"tuple[]",name:"caveats",components:FQt},{type:"uint256",name:"salt"},{type:"bytes",name:"signature"}],VQe={Caveat:[{name:"enforcer",type:"address"},{name:"terms",type:"bytes"}],Delegation:[{name:"delegate",type:"address"},{name:"delegator",type:"address"},{name:"authority",type:"bytes32"},{name:"caveats",type:"Caveat[]"},{name:"salt",type:"uint256"}]},jQt="1.3.0",$Qt={"1.0.0":{},"1.1.0":{},"1.2.0":{},"1.3.0":{}};qQe={PackedUserOperation:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"entryPoint",type:"address"}]},WQe=115792089210356248762697446949407573529996955224135760342422259061068512044369n,KQt=WQe/2n,YQe=Zm("bytes32, uint256, uint256, bytes, bool, string, string, uint256"),qQt=t=>{try{let{challenge:e}=JSON.parse(t);if(e===void 0)throw new Error('No "challenge" found in the input string');return t.split(e)}catch(e){throw new Error('No "challenge" found in the input string',{cause:e})}},WQt=t=>{try{let e=t.indexOf('"type":');if(e===-1)throw new Error('No "type" found in the input string');return BigInt(e)}catch(e){throw new Error('No "type" found in the input string',{cause:e})}};YQt=32;QQe=t=>{let e=Bt(Gi(["string"],["AuthenticatorData"])),i=xr([e,"0x05","0x00000000"]),o=Bt(Gi(["string"],[t])),a=57896044605178124381348723474703786764998477612067880171211129530534256022184n;return pr(YQe,[o,a,a,i,!0,'{"type":"webauthn.get","challenge":"','","origin":"passkey-domain","crossOrigin":false}',1n])},QQt=["ECDSA"],h1e=({signatures:t})=>{if(t.length===0)return"0x";for(let{type:r}of t)if(!QQt.includes(r))throw new Error(`Invalid signature type: ${r}`);let e=[...t].sort((r,n)=>r.signer.localeCompare(n.signer));return xr(e.map(({signature:r})=>r))}});async function lZe({client:t,contractAddress:e}){let r=await Gf(t,{address:e});return!!r&&r!=="0x"}async function NZt({client:t,contractAddress:e,expectedImplementationAddress:r}){return await lZe({client:t,contractAddress:e})?await cZe({client:t,contractAddress:e})===r:!1}async function y1e(t){let{client:e,client:{chain:r},implementation:n}=t;if(!r)throw new Error("Chain not specified");let i=ZQt({implementation:n,signatory:t.signatory}),o=t.environment??KQe(r.id),a=n===cu.Hybrid?"HybridDeleGator":"MultiSigDeleGator",s,c;if(t.address)c=void 0,s=t.address;else{let C=await kZt({factory:o.SimpleFactory,implementations:o.implementations,implementation:n,deployParams:t.deployParams,deploySalt:t.deploySalt});s=C.address,c=C.factoryData}let l={abi:t5,address:o.EntryPoint,version:$Zt},u=async()=>{if(c===void 0)throw new Error("Deploy params were not provided, so factory args cannot be inferred");return{factoryData:c,factory:o.SimpleFactory}},d=C=>{let{delegation:R,chainId:M}=C,U=uc({...R,signature:"0x"});return i.signTypedData({domain:{chainId:M||r.id,name:"DelegationManager",version:"1",verifyingContract:o.DelegationManager},types:VQe,primaryType:"Delegation",message:U})},f=async C=>{let{chainId:R}=C,M=m3({sender:s,...C,signature:"0x"});return await i.signTypedData({domain:{chainId:R||r.id,name:a,version:"1",verifyingContract:s},types:qQe,primaryType:"PackedUserOperation",message:{...M,entryPoint:l.address}})},p=n===cu.Hybrid?Qi.abi:xn.abi;return await iu({abi:p,client:e,entryPoint:l,environment:o,getAddress:async()=>s,getFactoryArgs:u,encodeCalls:async C=>GZt(s,C),getNonce:()=>vZe({client:e,entryPoint:o.EntryPoint,contractAddress:s,key:0n}),signUserOperation:f,signDelegation:d,...i})}var b1e,ZQt,ZQe,XQe,XQt,eZt,eZe,tZt,rZt,nZt,tZe,iZt,oZt,aZt,sZt,cZt,lZt,rZe,uZt,dZt,fZt,nZe,pZt,hZt,mZt,bZt,yZt,gZt,wZt,vZt,EZt,xZt,iZe,oZe,aZe,AZt,TZt,sZe,_Zt,SZt,IZt,CZt,cZe,RZt,PZt,OZt,uZe,kZt,dZe,fZe,MZt,BZt,pZe,DZt,LZt,hZe,UZt,mZe,bZe,FZt,yZe,gZe,HZt,zZt,GZt,jZt,m1e,wZe,vZe,$Zt,EZe,xZe,VZt,KZt,AZe,qZt,WZt,TZe,YZt,JZt,_Ze,SZe,QZt,ZZt,IZe,XZt,eXt,tXt,rXt,nXt,iXt,CZe,RZe,PZe,oXt,aXt,sXt,OZe,cXt,lXt,uXt,NZe,dXt,fXt,pXt,hXt,mXt,bXt,kZe,yXt,gXt,wXt,vXt,EXt,MZe,xXt,AXt,BZe,TXt,_Xt,DZe,LZe,SXt,IXt,UZe,CXt,RXt,FZe,PXt,OXt,HZe,zZe,GZe,NXt,jZe,$Ze,VZe,kXt,MXt,KZe,qZe,BXt,DXt,WZe,YZe,JZe,LXt,QZe,ZZe,zbn,Gbn,jbn,$bn,XZe=D(()=>{UQe();lu();ou();lu();jt();lu();lu();jt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();jt();lu();wr();zt();wr();zt();wr();zt();wr();zt();wr();zt();wr();zt();wr();jt();zt();zt();jt();lu();jt();wr();lu();zt();jt();wr();lu();zt();jt();wr();zt();jt();wr();lu();zt();jt();wr();zt();wr();zt();jt();wr();zt();lu();jt();wr();zt();lu();jt();wr();zt();lu();wr();zt();wr();zt();zt();zt();zt();wr();zt();wr();zt();wr();zt();wr();zt();wr();zt();wr();zt();wr();zt();wr();zt();wr();zt();wr();zt();jt();wr();zt();jt();wr();zt();jt();wr();zt();wr();zt();jt();zt();jt();zt();wr();zt();b1e="0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",ZQt=t=>{let{implementation:e}=t;if(e===cu.Hybrid)return XQt(t.signatory);if(e===cu.MultiSig)return eZt(t.signatory);throw new Error(`Implementation type '${e}' not supported`)},ZQe=t=>({signMessage:t.walletClient.signMessage,signTypedData:e=>t.walletClient.signTypedData(e),getStubSignature:async()=>b1e}),XQe=t=>({signMessage:t.account.signMessage,signTypedData:t.account.signTypedData,getStubSignature:async()=>b1e}),XQt=t=>{if("walletClient"in t)return ZQe(t);if("account"in t){let{signMessage:e,signTypedData:r,getStubSignature:n}=XQe(t);if(!e)throw new Error("Account does not support signMessage");if(!r)throw new Error("Account does not support signTypedData");return{signMessage:e,signTypedData:r,getStubSignature:n}}else{let{keyId:e,webAuthnAccount:r}=t;if(r.type!=="webAuthn")throw new Error("Account is not a webAuthn account");let n=({signature:s,webauthn:c})=>JQe(e,s,c.clientDataJSON,c.authenticatorData);return{signMessage:async s=>r.signMessage(s).then(n),signTypedData:async s=>r.signTypedData(s).then(n),getStubSignature:async()=>QQe(e)}}},eZt=t=>{let e=t.map(o=>{let a,s,c;if("walletClient"in o){let{signMessage:l,signTypedData:u}=ZQe(o);a=l,s=u,c=o.walletClient.account.address}else{let{signMessage:l,signTypedData:u}=XQe(o);if(!l)throw new Error("Account does not support signMessage");if(!u)throw new Error("Account does not support signTypedData");a=l,s=u,c=o.account.address}return{address:c,individualSignMessage:a,individualSignTypedData:s}});return{signMessage:async o=>{let a=e.map(async({individualSignMessage:c,address:l})=>({signature:await c(o),signer:l,type:"ECDSA"})),s=await Promise.all(a);return h1e({signatures:s})},signTypedData:async o=>{let a=e.map(async({individualSignTypedData:c,address:l})=>({signature:await c(o),signer:l,type:"ECDSA"})),s=await Promise.all(a);return h1e({signatures:s})},getStubSignature:async()=>xr(e.map(()=>b1e))}},eZe={};Nn(eZe,{addKey:()=>rZt,initializeHybridDeleGator:()=>tZe,reinitializeHybridDeleGator:()=>oZt,removeKey:()=>sZt,updateSigners:()=>lZt});tZt=({client:t,hybridDeleGatorAddress:e,p256Owner:r})=>rr(t,{address:e,abi:Qi.abi,functionName:"addKey",args:[r.keyId,r.x,r.y]}),rZt=({p256Owner:t})=>Re({abi:Qi.abi,functionName:"addKey",args:[t.keyId,t.x,t.y]}),nZt=({client:t,hybridDeleGatorAddress:e,eoaOwner:r,p256Owners:n})=>rr(t,{address:e,abi:Qi.abi,functionName:"initialize",args:[r,n.map(i=>i.keyId),n.map(i=>i.x),n.map(i=>i.y)]}),tZe=({eoaOwner:t,p256Owners:e})=>Re({abi:Qi.abi,functionName:"initialize",args:[t,e.map(r=>r.keyId),e.map(r=>r.x),e.map(r=>r.y)]}),iZt=({client:t,hybridDeleGatorAddress:e,version:r,eoaOwner:n,p256Owners:i,removeExistingP256Owners:o})=>rr(t,{address:e,abi:Qi.abi,functionName:"reinitialize",args:[r,n,i.map(a=>a.keyId),i.map(a=>a.x),i.map(a=>a.y),o]}),oZt=({version:t,eoaOwner:e,p256Owners:r,removeExistingP256Owners:n})=>Re({abi:Qi.abi,functionName:"reinitialize",args:[t,e,r.map(i=>i.keyId),r.map(i=>i.x),r.map(i=>i.y),n]}),aZt=({client:t,hybridDeleGatorAddress:e,keyId:r})=>rr(t,{address:e,abi:Qi.abi,functionName:"removeKey",args:[r]}),sZt=({keyId:t})=>Re({abi:Qi.abi,functionName:"removeKey",args:[t]}),cZt=({client:t,hybridDeleGatorAddress:e,eoaOwner:r,p256Owners:n})=>rr(t,{address:e,abi:Qi.abi,functionName:"updateSigners",args:[r,n.map(i=>i.keyId),n.map(i=>i.x),n.map(i=>i.y)]}),lZt=({eoaOwner:t,p256Owners:e})=>Re({abi:Qi.abi,functionName:"updateSigners",args:[t,e.map(r=>r.keyId),e.map(r=>r.x),e.map(r=>r.y)]}),rZe={};Nn(rZe,{addSigner:()=>dZt,initializeMultiSigDeleGator:()=>nZe,reinitializeMultiSigDeleGator:()=>hZt,removeSigner:()=>bZt,replaceSigner:()=>gZt,updateMultiSigParameters:()=>xZt,updateThreshold:()=>vZt});uZt=({client:t,multiSigDeleGatorAddress:e,signer:r})=>rr(t,{address:e,abi:xn.abi,functionName:"addSigner",args:[r]}),dZt=({signer:t})=>Re({abi:xn.abi,functionName:"addSigner",args:[t]}),fZt=({client:t,multiSigDeleGatorAddress:e,owners:r,threshold:n})=>rr(t,{address:e,abi:xn.abi,functionName:"initialize",args:[r,n]}),nZe=({owners:t,threshold:e})=>Re({abi:xn.abi,functionName:"initialize",args:[t,e]}),pZt=({client:t,multiSigDeleGatorAddress:e,version:r,owners:n,threshold:i,removeExistingOwners:o})=>rr(t,{address:e,abi:xn.abi,functionName:"reinitialize",args:[r,n,i,o]}),hZt=({version:t,owners:e,threshold:r,removeExistingOwners:n})=>Re({abi:xn.abi,functionName:"reinitialize",args:[t,e,r,n]}),mZt=({client:t,multiSigDeleGatorAddress:e,signer:r})=>rr(t,{address:e,abi:xn.abi,functionName:"removeSigner",args:[r]}),bZt=({signer:t})=>Re({abi:xn.abi,functionName:"removeSigner",args:[t]}),yZt=({client:t,multiSigDeleGatorAddress:e,oldSigner:r,newSigner:n})=>rr(t,{address:e,abi:xn.abi,functionName:"replaceSigner",args:[r,n]}),gZt=({oldSigner:t,newSigner:e})=>Re({abi:xn.abi,functionName:"replaceSigner",args:[t,e]}),wZt=({client:t,multiSigDeleGatorAddress:e,threshold:r})=>rr(t,{address:e,abi:xn.abi,functionName:"updateThreshold",args:[r]}),vZt=({threshold:t})=>Re({abi:xn.abi,functionName:"updateThreshold",args:[t]}),EZt=({client:t,multiSigDeleGatorAddress:e,owners:r,threshold:n,removeExistingOwners:i})=>rr(t,{address:e,abi:xn.abi,functionName:"updateMultiSigParameters",args:[r,n,i]}),xZt=({owners:t,threshold:e,removeExistingOwners:r})=>Re({abi:xn.abi,functionName:"updateMultiSigParameters",args:[t,e,r]}),iZe={};Nn(iZe,{create2Deploy:()=>aZe});oZe=({client:t,factoryAddress:e,creationCode:r,salt:n})=>rr(t,{address:e,abi:RA.abi,functionName:"deploy",args:[r,n]}),aZe=(t,e)=>Re({abi:RA.abi,functionName:"deploy",args:[t,e]}),AZt=async({client:t,factoryAddress:e,creationCode:r,salt:n})=>{let{request:i}=await oZe({client:t,factoryAddress:e,creationCode:r,salt:n});return $n(t,i)},TZt={};Nn(TZt,{encodeProxyCreationCode:()=>uZe,isContractDeployed:()=>lZe,isImplementationExpected:()=>NZt});sZe={};Nn(sZe,{getDelegationManager:()=>_Zt,getDeposit:()=>SZt,getEntryPoint:()=>IZt,getNonce:()=>CZt,getProxyImplementation:()=>cZe,getProxyVersion:()=>RZt,isValidSignature:()=>PZt});_Zt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:Vn.abi,functionName:"delegationManager"}),SZt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:Vn.abi,functionName:"getDeposit"}),IZt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:Vn.abi,functionName:"entryPoint"}),CZt=async({client:t,contractAddress:e,key:r})=>await ht(t,{address:e,abi:Vn.abi,functionName:"getNonce",args:r?[r]:void 0}),cZe=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:Vn.abi,functionName:"getImplementation"}),RZt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:Vn.abi,functionName:"getInitializedVersion"}),PZt=async({client:t,contractAddress:e,hash:r,signature:n})=>await ht(t,{address:e,abi:Vn.abi,functionName:"isValidSignature",args:[r,n]}),OZt=({hash:t,signature:e})=>Re({abi:Vn.abi,functionName:"isValidSignature",args:[t,e]});uZe=({implementationAddress:t,initcode:e})=>yd({abi:QV.abi,args:[t,e],bytecode:QV.bytecode}),kZt=async({factory:t,implementations:e,implementation:r,deployParams:n,deploySalt:i})=>{let o,a;switch(r){case cu.Hybrid:let[d,f,p,h]=n;o=e.HybridDeleGatorImpl;let b=f.map((C,R)=>({keyId:C,x:p[R],y:h[R]}));a=tZe({eoaOwner:d,p256Owners:b});break;case cu.MultiSig:let[_,A]=n;o=e.MultiSigDeleGatorImpl,a=nZe({owners:_,threshold:A});break;default:throw new Error(`Implementation type '${r}' not supported`)}let s=En(i,{dir:"left",size:32}),c=uZe({implementationAddress:o,initcode:a}),l=l3({bytecode:c,from:t,opcode:"CREATE2",salt:s});return{factoryData:aZe(c,s),address:l}},dZe={};Nn(dZe,{disableDelegation:()=>BZt,enableDelegation:()=>LZt,execute:()=>mZe,executeWithMode:()=>yZe,isValidSignature:()=>OZt,upgradeToAndCall:()=>zZt});fZe=({client:t,delegationManagerAddress:e,delegation:r})=>{let n=Vn.abi,i=uc(r);return rr(t,{address:e,abi:n,functionName:"disableDelegation",args:[i]})},MZt=async({client:t,delegationManagerAddress:e,delegation:r})=>{let{request:n}=await fZe({client:t,delegationManagerAddress:e,delegation:r});return $n(t,n)},BZt=({delegation:t})=>{let e=uc(t);return Re({abi:Vn.abi,functionName:"disableDelegation",args:[e]})},pZe=({client:t,delegationManagerAddress:e,delegation:r})=>{let n=Vn.abi,i=uc(r);return rr(t,{address:e,abi:n,functionName:"enableDelegation",args:[i]})},DZt=async({client:t,delegationManagerAddress:e,delegation:r})=>{let{request:n}=await pZe({client:t,delegationManagerAddress:e,delegation:r});return $n(t,n)},LZt=({delegation:t})=>{let e=uc(t);return Re({abi:Vn.abi,functionName:"enableDelegation",args:[e]})},hZe=({client:t,contractAddress:e,execution:r})=>rr(t,{address:e,abi:Vn.abi,functionName:"execute",args:[r]}),UZt=async({client:t,contractAddress:e,execution:r})=>{let{request:n}=await hZe({client:t,contractAddress:e,execution:r});return $n(t,n)},mZe=({execution:t})=>Re({abi:Vn.abi,functionName:"execute",args:[t]}),bZe=({client:t,contractAddress:e,mode:r,executions:n})=>rr(t,{address:e,abi:Vn.abi,functionName:"execute",args:[r,ZV(n)]}),FZt=async({client:t,contractAddress:e,mode:r,executions:n})=>{let{request:i}=await bZe({client:t,contractAddress:e,mode:r,executions:n});return $n(t,i)},yZe=({mode:t,executions:e})=>Re({abi:Vn.abi,functionName:"execute",args:[t,ZV(e)]}),gZe=({client:t,contractAddress:e,implementation:r,data:n})=>rr(t,{address:e,abi:Vn.abi,functionName:"upgradeToAndCall",args:[r,n]}),HZt=async({client:t,contractAddress:e,implementation:r,data:n})=>{let{request:i}=await gZe({client:t,contractAddress:e,implementation:r,data:n});return $n(t,i)},zZt=({implementation:t,data:e})=>Re({abi:Vn.abi,functionName:"upgradeToAndCall",args:[t,e]}),GZt=async(t,e)=>{if(e.length===1){let r=e[0];if(r.to===t&&!m1e(r))return r.data||"0x"}return jZt(e)},jZt=t=>{if(t.length===1&&!m1e(t[0])){let{to:n,value:i,data:o}=t[0],a=jP(n,i,o);return mZe({execution:a})}let e=t.map(n=>{if(m1e(n)){let{permissionsContext:i,delegationManager:o}=n,a=Re({abi:I0.abi,functionName:"redeemDelegations",args:[[i],[f1e],$P([[jP(n.to,n.value,n.data)]])]});return jP(o,0n,a)}else{let{to:i,value:o,data:a}=n;return jP(i,o,a)}}),r=t.length===1?f1e:$Qe;return yZe({mode:r,executions:e})},m1e=t=>"permissionsContext"in t&&"delegationManager"in t,wZe={};Nn(wZe,{entryPointGetNonce:()=>vZe});vZe=async({client:t,entryPoint:e,contractAddress:r,key:n})=>await ht(t,{address:e,abi:c1e.abi,functionName:"getNonce",args:[r,n]}),$Zt="0.7";EZe={};Nn(EZe,{disableDelegation:()=>KZt,enableDelegation:()=>WZt,redeemDelegations:()=>JZt});xZe=({client:t,delegationManagerAddress:e,delegation:r})=>{let n=I0.abi,i=uc(r);return rr(t,{address:e,abi:n,functionName:"disableDelegation",args:[i]})},VZt=async({client:t,delegationManagerAddress:e,delegation:r})=>{let{request:n}=await xZe({client:t,delegationManagerAddress:e,delegation:r});return $n(t,n)},KZt=({delegation:t})=>{let e=uc(t);return Re({abi:I0.abi,functionName:"disableDelegation",args:[e]})},AZe=({client:t,delegationManagerAddress:e,delegation:r})=>{let n=I0.abi,i=uc(r);return rr(t,{address:e,abi:n,functionName:"enableDelegation",args:[i]})},qZt=async({client:t,delegationManagerAddress:e,delegation:r})=>{let{request:n}=await AZe({client:t,delegationManagerAddress:e,delegation:r});return $n(t,n)},WZt=({delegation:t})=>{let e=uc(t);return Re({abi:I0.abi,functionName:"enableDelegation",args:[e]})},TZe=({client:t,delegationManagerAddress:e,delegations:r,modes:n,executions:i})=>{let o=I0.abi;return rr(t,{address:e,abi:o,functionName:"redeemDelegations",args:[p1e(r),n,$P(i)]})},YZt=async({client:t,delegationManagerAddress:e,delegations:r,modes:n,executions:i})=>{let{request:o}=await TZe({client:t,delegationManagerAddress:e,delegations:r,modes:n,executions:i});return $n(t,o)},JZt=({delegations:t,modes:e,executions:r})=>Re({abi:I0.abi,functionName:"redeemDelegations",args:[p1e(t),e,$P(r)]}),_Ze={};Nn(_Ze,{disableDelegation:()=>VZt,enableDelegation:()=>qZt,redeemDelegations:()=>YZt});SZe={};Nn(SZe,{getAnyDelegate:()=>QZt,getRootAuthority:()=>ZZt});QZt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:I0.abi,functionName:"ANY_DELEGATE"}),ZZt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:I0.abi,functionName:"ROOT_AUTHORITY"}),IZe={};Nn(IZe,{disableDelegation:()=>xZe,enableDelegation:()=>AZe,redeemDelegations:()=>TZe});XZt={};Nn(XZt,{ANY_DELEGATE:()=>iXt,DOMAIN_VERSION:()=>rXt,NAME:()=>eXt,ROOT_AUTHORITY:()=>nXt,VERSION:()=>tXt});eXt="DelegationManager",tXt="1.3.0",rXt="1",nXt="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",iXt="0x0000000000000000000000000000000000000a11",CZe={};Nn(CZe,{disableDelegation:()=>MZt,enableDelegation:()=>DZt,execute:()=>UZt,executeWithMode:()=>FZt,upgradeToAndCall:()=>HZt});RZe={};Nn(RZe,{disableDelegation:()=>fZe,enableDelegation:()=>pZe,execute:()=>hZe,executeWithMode:()=>bZe,upgradeToAndCall:()=>gZe});PZe={};Nn(PZe,{getContractName:()=>oXt,getContractVersion:()=>aXt,getDomainVersion:()=>sXt});oXt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:[{type:"function",name:"NAME",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"NAME"}),aXt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:[{type:"function",name:"VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"VERSION"}),sXt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:[{type:"function",name:"DOMAIN_VERSION",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"}],functionName:"DOMAIN_VERSION"}),OZe={};Nn(OZe,{getKey:()=>cXt,getKeyIdHashes:()=>lXt,getKeyIdHashesCount:()=>uXt});cXt=async({client:t,hybridDeleGatorAddress:e,keyId:r})=>await ht(t,{address:e,abi:Qi.abi,functionName:"getKey",args:[r]}),lXt=async({client:t,hybridDeleGatorAddress:e})=>await ht(t,{address:e,abi:Qi.abi,functionName:"getKeyIdHashes"}),uXt=async({client:t,hybridDeleGatorAddress:e})=>await ht(t,{address:e,abi:Qi.abi,functionName:"getKeyIdHashesCount"}),NZe={};Nn(NZe,{addKey:()=>tZt,initializeHybridDeleGator:()=>nZt,reinitializeHybridDeleGator:()=>iZt,removeKey:()=>aZt,updateSigners:()=>cZt});dXt={};Nn(dXt,{ANY_DELEGATE:()=>bXt,DOMAIN_VERSION:()=>hXt,NAME:()=>fXt,ROOT_AUTHORITY:()=>mXt,VERSION:()=>pXt});fXt="HybridDeleGator",pXt="1.3.0",hXt="1",mXt="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",bXt="0x0000000000000000000000000000000000000a11",kZe={};Nn(kZe,{getMaxNumberOfSigners:()=>EXt,getSigners:()=>yXt,getSignersCount:()=>gXt,getThreshold:()=>wXt,isSigner:()=>vXt});yXt=async({client:t,multiSigDeleGatorAddress:e})=>await ht(t,{address:e,abi:xn.abi,functionName:"getSigners"}),gXt=async({client:t,multiSigDeleGatorAddress:e})=>await ht(t,{address:e,abi:xn.abi,functionName:"getSignersCount"}),wXt=async({client:t,multiSigDeleGatorAddress:e})=>await ht(t,{address:e,abi:xn.abi,functionName:"getThreshold"}),vXt=async({client:t,multiSigDeleGatorAddress:e,signer:r})=>await ht(t,{address:e,abi:xn.abi,functionName:"isSigner",args:[r]}),EXt=async({client:t,multiSigDeleGatorAddress:e})=>await ht(t,{address:e,abi:xn.abi,functionName:"MAX_NUMBER_OF_SIGNERS"}),MZe={};Nn(MZe,{addSigner:()=>uZt,initializeMultiSigDeleGator:()=>fZt,reinitializeMultiSigDeleGator:()=>pZt,removeSigner:()=>mZt,replaceSigner:()=>yZt,updateMultiSigParameters:()=>EZt,updateThreshold:()=>wZt});xXt={};Nn(xXt,{MAX_NUMBER_OF_SIGNERS:()=>AXt});AXt=30,BZe={};Nn(BZe,{getOwner:()=>_Xt,getPendingOwner:()=>TXt});TXt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:ol.abi,functionName:"pendingOwner"}),_Xt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:ol.abi,functionName:"owner"}),DZe={};Nn(DZe,{acceptOwnership:()=>PXt,renounceOwnership:()=>CXt,transferOwnership:()=>SXt});LZe=({client:t,contractAddress:e,account:r})=>rr(t,{address:e,abi:ol.abi,functionName:"transferOwnership",args:[r]}),SXt=async({client:t,contractAddress:e,account:r})=>{let{request:n}=await LZe({client:t,contractAddress:e,account:r});return $n(t,n)},IXt=t=>Re({abi:ol.abi,functionName:"transferOwnership",args:[t]}),UZe=({client:t,contractAddress:e})=>rr(t,{address:e,abi:ol.abi,functionName:"renounceOwnership"}),CXt=async({client:t,contractAddress:e})=>{let{request:r}=await UZe({client:t,contractAddress:e});return $n(t,r)},RXt=()=>Re({abi:ol.abi,functionName:"renounceOwnership"}),FZe=({client:t,contractAddress:e})=>rr(t,{address:e,abi:ol.abi,functionName:"acceptOwnership"}),PXt=async({client:t,contractAddress:e})=>{let{request:r}=await FZe({client:t,contractAddress:e});return $n(t,r)},OXt=()=>Re({abi:ol.abi,functionName:"acceptOwnership"}),HZe={};Nn(HZe,{acceptOwnership:()=>OXt,renounceOwnership:()=>RXt,transferOwnership:()=>IXt});zZe={};Nn(zZe,{acceptOwnership:()=>FZe,renounceOwnership:()=>UZe,transferOwnership:()=>LZe});GZe={};Nn(GZe,{isPaused:()=>NXt});NXt=async({client:t,contractAddress:e})=>await ht(t,{address:e,abi:l1e.abi,functionName:"paused"}),jZe={};Nn(jZe,{pause:()=>kXt,unpause:()=>BXt});$Ze=[{type:"function",name:"pause",inputs:[],outputs:[],stateMutability:"nonpayable"}],VZe=({client:t,contractAddress:e})=>rr(t,{address:e,abi:$Ze,functionName:"pause"}),kXt=async({client:t,contractAddress:e})=>{let{request:r}=await VZe({client:t,contractAddress:e});return $n(t,r)},MXt=()=>Re({abi:$Ze,functionName:"pause"}),KZe=[{type:"function",name:"unpause",inputs:[],outputs:[],stateMutability:"nonpayable"}],qZe=({client:t,contractAddress:e})=>rr(t,{address:e,abi:KZe,functionName:"unpause"}),BXt=async({client:t,contractAddress:e})=>{let{request:r}=await qZe({client:t,contractAddress:e});return $n(t,r)},DXt=()=>Re({abi:KZe,functionName:"unpause"}),WZe={};Nn(WZe,{pause:()=>MXt,unpause:()=>DXt});YZe={};Nn(YZe,{pause:()=>VZe,unpause:()=>qZe});JZe={};Nn(JZe,{getCreate2Address:()=>LXt});LXt=(t,e,r,n)=>ht(t,{address:e,abi:RA.abi,functionName:"computeAddress",args:[r,n]}),QZe={};Nn(QZe,{create2Deploy:()=>oZe});ZZe={};Nn(ZZe,{create2Deploy:()=>AZt});zbn={...eZe,...rZe,...EZe,...dZe,...HZe,...WZe,...iZe},Gbn={..._Ze,...DZe,...jZe,...ZZe,...CZe},jbn={...OZe,...kZe,...sZe,...SZe,...wZe,...PZe,...BZe,...GZe,...JZe},$bn={...NZe,...MZe,...IZe,...RZe,...zZe,...YZe,...QZe}});function UXt(t){return t===cu.Hybrid}var PA,eXe=D(()=>{nt();Ye();XZe();ui();PA=class{constructor(e){V(this,"name",so.METAMASK),V(this,"options",void 0),this.options=e}async getSmartAccount(e){var r,n,i,o,a,s,c,l,u,d,f,p,h,b;let _={walletClient:e.walletClient,webAuthnAccount:(r=this.options)===null||r===void 0||(r=r.hybridParams)===null||r===void 0?void 0:r.webAuthnAccount,keyId:(n=this.options)===null||n===void 0||(n=n.hybridParams)===null||n===void 0?void 0:n.keyId},A=[{walletClient:e.walletClient},...(((i=this.options)===null||i===void 0||(i=i.multiSigParams)===null||i===void 0?void 0:i.additionalSignerWalletClients)||[]).map(z=>({walletClient:z}))],[C]=await e.walletClient.getAddresses(),R=[C,[...((o=this.options)===null||o===void 0||(o=o.hybridParams)===null||o===void 0?void 0:o.p256KeyIds)||[]],[...((a=this.options)===null||a===void 0||(a=a.hybridParams)===null||a===void 0?void 0:a.p256XValues)||[]],[...((s=this.options)===null||s===void 0||(s=s.hybridParams)===null||s===void 0?void 0:s.p256YValues)||[]]],M=[[C,...((c=this.options)===null||c===void 0||(c=c.multiSigParams)===null||c===void 0?void 0:c.additionalSignerAddresses)||[]],(l=(u=this.options)===null||u===void 0||(u=u.multiSigParams)===null||u===void 0?void 0:u.threshold)!==null&&l!==void 0?l:BigInt(1+(((d=this.options)===null||d===void 0||(d=d.multiSigParams)===null||d===void 0||(d=d.additionalSignerWalletClients)===null||d===void 0?void 0:d.length)||0))],U={client:e.client,deploySalt:(f=(p=this.options)===null||p===void 0?void 0:p.deploySalt)!==null&&f!==void 0?f:"0x0"},F=(h=(b=this.options)===null||b===void 0?void 0:b.implementation)!==null&&h!==void 0?h:cu.Hybrid;if(UXt(F)){let z=q(q({},U),{},{implementation:F,deployParams:R,signatory:_});return y1e(z)}else{let z=q(q({},U),{},{implementation:F,deployParams:M,signatory:A});return y1e(z)}}}});var OA,tXe=D(()=>{nt();Ye();SA();ou();ui();OA=class{constructor(e){V(this,"name",so.NEXUS),V(this,"options",void 0),this.options=e}async getSmartAccount(e){var r,n,i;return s1e(q(q(q({},this.options||{}),{},{entryPoint:{address:((r=this.options)===null||r===void 0||(r=r.entryPoint)===null||r===void 0?void 0:r.address)||jf,version:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.version)||"0.7"},version:((i=this.options)===null||i===void 0?void 0:i.version)||"1.0.0"},e),{},{owners:[e.walletClient],client:e.client}))}}});var NA,rXe=D(()=>{nt();Ye();SA();ou();ui();NA=class{constructor(e){V(this,"name",so.SAFE),V(this,"options",void 0),this.options=e}async getSmartAccount(e){var r,n,i;return e1e(q(q(q({},this.options||{}),{},{entryPoint:{address:((r=this.options)===null||r===void 0||(r=r.entryPoint)===null||r===void 0?void 0:r.address)||jf,version:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.version)||"0.7"},version:((i=this.options)===null||i===void 0?void 0:i.version)||"1.4.1"},e),{},{owners:[e.walletClient],client:e.client}))}}});var kA,nXe=D(()=>{nt();Ye();SA();ou();ui();kA=class{constructor(e){V(this,"name",so.TRUST),V(this,"options",void 0),this.options=e}async getSmartAccount(e){var r,n;return xfe(q(q(q({},this.options||{}),{},{entryPoint:{address:((r=this.options)===null||r===void 0||(r=r.entryPoint)===null||r===void 0?void 0:r.address)||n5,version:((n=this.options)===null||n===void 0||(n=n.entryPoint)===null||n===void 0?void 0:n.version)||"0.6"}},e),{},{owner:e.walletClient,client:e.client}))}}});var U3={};lr(U3,{ARBITRUM_MAINNET_CHAIN_ID:()=>ty,ARBITRUM_TESTNET_CHAIN_ID:()=>fR,AVALANCHE_MAINNET_CHAIN_ID:()=>Nh,AVALANCHE_TESTNET_CHAIN_ID:()=>dR,AccountAbstractionController:()=>Z$,AccountTrackerController:()=>Hz,AddChainController:()=>cV,BASE_CHAIN_ID:()=>F8,BASE_TESTNET_CHAIN_ID:()=>pR,BNToHex:()=>_Ye,BSC_MAINNET_CHAIN_ID:()=>Oh,BSC_TESTNET_CHAIN_ID:()=>uR,BUNDLER_METHOD_TYPES:()=>mR,BiconomySmartAccount:()=>IA,CELO_MAINNET_CHAIN_ID:()=>eE,CHAIN_ID_TO_GAS_LIMIT_BUFFER_MAP:()=>kz,COINGECKO_PLATFORMS_CHAIN_CODE_MAP:()=>Uz,COINGECKO_SUPPORTED_CURRENCIES:()=>Lz,CONTRACT_TYPE_ERC1155:()=>Yc,CONTRACT_TYPE_ERC20:()=>H8,CONTRACT_TYPE_ERC721:()=>aa,CONTRACT_TYPE_ETH:()=>iE,CurrencyController:()=>X$,DEFAULT_CURRENCY:()=>yA,ERC1155_INTERFACE_ID:()=>Oz,ERC721_ENUMERABLE_INTERFACE_ID:()=>uGe,ERC721_INTERFACE_ID:()=>Nz,ERC721_METADATA_INTERFACE_ID:()=>lGe,GAS_ESTIMATE_TYPES:()=>sd,GAS_LIMITS:()=>EV,GasFeeController:()=>rV,KernelSmartAccount:()=>CA,KeyringController:()=>nV,LINEA_CHAIN_ID:()=>tE,LINEA_SEPOLIA_CHAIN_ID:()=>hR,LOCALHOST:()=>cGe,MAINNET_CHAIN_ID:()=>Zl,METHOD_TYPES:()=>Lt,MM_NFT_API_SUPPORTED_CHAINS:()=>Dz,MM_TOKEN_API_SUPPORTED_CHAINS:()=>oE,MessageController:()=>lV,MetamaskSmartAccount:()=>PA,NetworkController:()=>bV,NexusSmartAccount:()=>OA,NftHandler:()=>mA,NftsController:()=>_V,NonceTracker:()=>gA,OLD_ERC721_LIST:()=>Mz,OPTIMISM_MAINNET_CHAIN_ID:()=>kh,OPTIMISM_TESTNET_CHAIN_ID:()=>nE,PAYMASTER_METHOD_TYPES:()=>bR,POLYGON_AMOY_CHAIN_ID:()=>lR,POLYGON_CHAIN_ID:()=>Ph,PendingTransactionTracker:()=>wA,PersonalMessageController:()=>uV,PollingBlockTracker:()=>cA,PreferencesController:()=>SV,SEPOLIA_CHAIN_ID:()=>rE,SMART_ACCOUNT:()=>so,SUPPORTED_NETWORKS:()=>Jc,SafeSmartAccount:()=>NA,SwitchChainController:()=>dV,TEST_CHAINS:()=>Bz,TRANSACTION_ENVELOPE_TYPES:()=>Xl,TokenHandler:()=>bA,TokenRatesController:()=>IV,TokensController:()=>CV,TransactionController:()=>HV,TransactionGasUtil:()=>EA,TransactionStateManager:()=>AA,TrustSmartAccount:()=>kA,TypedMessageController:()=>fV,XDAI_CHAIN_ID:()=>Uce,addCurrencies:()=>UWe,addEtherscanTransactions:()=>TV,bnLessThan:()=>xV,conversionGTE:()=>GWe,conversionGreaterThan:()=>Ide,conversionLTE:()=>jWe,conversionLessThan:()=>HWe,conversionMax:()=>zWe,conversionUtil:()=>eV,createAAMiddleware:()=>jde,createChainIdMiddleware:()=>qde,createEthereumMiddleware:()=>pV,createGetAccountsMiddleware:()=>Rde,createJsonRpcClient:()=>mV,createPendingNonceMiddleware:()=>Dde,createPendingTxMiddleware:()=>Ude,createProcessAddEthereumChain:()=>zde,createProcessEstimateUserOperationGasMiddleware:()=>Nde,createProcessEthSignMessage:()=>kde,createProcessPersonalMessage:()=>Bde,createProcessSignTransactionMiddleware:()=>Ode,createProcessSwitchEthereumChain:()=>Fde,createProcessTransactionMiddleware:()=>Pde,createProcessTypedMessageV4:()=>Mde,createProcessWalletSwitchChain:()=>Hde,createProviderConfigMiddleware:()=>Wde,createRequestAccountsMiddleware:()=>Gde,decGWEIToHexWEI:()=>cc,determineTransactionType:()=>pA,ensureFieldIsString:()=>P3,ensureMutuallyExclusiveFieldsNotProvided:()=>fA,eoaInterceptorMiddleware:()=>xde,eoaProviderAsMiddleware:()=>Ade,erc1155Abi:()=>Rh,erc20Abi:()=>Z9,erc721Abi:()=>Ch,formatDate:()=>wV,formatPastTx:()=>O3,formatTime:()=>vV,formatTxMetaForRpcResult:()=>Lde,generateHistoryEntry:()=>UV,getBigNumber:()=>By,getChainType:()=>AV,getEthTxStatus:()=>gV,getEtherScanHashLink:()=>SYe,getFinalStates:()=>yV,getIpfsEndpoint:()=>nfe,hexToBn:()=>TYe,hexWEIToDecGWEI:()=>vd,isAddressByChainId:()=>rfe,isEIP1559Transaction:()=>IP,isLegacyTransaction:()=>xYe,multiplyCurrencies:()=>Sde,normalizeAndValidateTxParams:()=>RP,normalizeMessageData:()=>uA,normalizeTxParameters:()=>SP,parseStandardTokenTransactionData:()=>efe,readAddressAsContract:()=>tfe,replayHistory:()=>FV,sanitizeNftMetdataUrl:()=>hA,singleBalanceCheckerAbi:()=>X9,snapshotFromTxMeta:()=>DP,subtractCurrencies:()=>FWe,toChecksumAddressByChainId:()=>IYe,toNegative:()=>$We,transactionMatchesNetwork:()=>EYe,validateAddChainData:()=>aV,validateAddress:()=>iV,validateFrom:()=>Zde,validateRecipient:()=>Xde,validateSignMessageData:()=>lA,validateSwitchChainData:()=>sV,validateTxParameters:()=>CP,validateTypedSignMessageDataV4:()=>oV});var Sp=D(()=>{dGe();CWe();_de();OWe();QWe();ZWe();eYe();rYe();iYe();aYe();cYe();I3();$de();Yde();gYe();ofe();RYe();PYe();sfe();kYe();MYe();lfe();ufe();FYe();dfe();wfe();vfe();PP();U8();ui();tV();OP();DQe();LQe();eXe();tXe();rXe();nXe()});async function iXe({eoaProvider:t,handlers:e}){let[r]=await t.request({method:Lt.GET_ACCOUNTS});async function n(p,h){if(typeof p=="string"&&p.length>0){let _=(await e.getAccounts(h)).map(C=>C.toLowerCase()),A=p.toLowerCase();if(_.includes(A))return A}throw Lr.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function i(p,h){if(p.toLowerCase()===r.toLowerCase())return r;let[b]=await e.getAccounts(h);if(p.toLowerCase()===b.toLowerCase())return r;throw Lr.invalidParams({message:"Invalid parameters: must provide valid sender address."})}async function o(p,h){h.result=await e.getAccounts(p)}async function a(p,h){if(!e.getPrivateKey)throw Lr.methodNotSupported();h.result=await e.getPrivateKey(p)}async function s(p,h){if(!e.processTransaction)throw Lr.methodNotSupported();let b=p.params[0]||{from:""};b.from=await n(b.from,p),h.result=e.processTransaction(b,p)}async function c(p,h){let b=p.params[0]||{from:""};b.from&&(b.from=await i(b.from,p)),h.result=await e.processSignTransaction(b,p)}async function l(p,h){let b=p.params,_=p.params[2]||{};if(Array.isArray(p.params)){if(p.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${p.method} method. expected [address, message]`);let A=p.params,C=A[0],R=A[1];b={from:C,data:R}}b=q(q({},_),b),h.result=await e.processEthSignMessage(b,p)}async function u(p,h){if(!(p!=null&&p.params))throw new Error("WalletMiddleware - missing params");let b=p.params;if(Array.isArray(p.params)){if(p.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${p.method} method. expected [address, typedData]`);let _=p.params,A=_[0],C=_[1];b={from:A,data:C}}h.result=await e.processTypedMessageV4(b,p)}async function d(p,h){let b=p.params,_=p.params[2]||{};if(Array.isArray(p.params)){if(!(p.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${p.method} method. expected [message, address]`);let A=p.params;if(typeof A[0]=="object"){let{challenge:C,address:R}=A[0];b={from:R,data:C}}else{let C=A[0];b={from:A[1],data:C}}}b=q(q({},_),b),h.result=await e.processPersonalMessage(b,p)}async function f(p,h){if(!e.getPublicKey)throw Lr.methodNotSupported();h.result=await e.getPublicKey(p)}return Ud({eth_accounts:tn(o),eth_requestAccounts:tn(o),eth_private_key:tn(a),private_key:tn(a),eth_public_key:tn(f),public_key:tn(f),eth_sendTransaction:tn(s),eth_signTransaction:tn(c),eth_sign:tn(l),eth_signTypedData_v4:tn(u),personal_sign:tn(d)})}async function oXe({aaProvider:t}){async function e(n,i){let[,o]=await t.request({method:Lt.GET_ACCOUNTS});i.result=[o]}async function r(n,i){let[,o]=await t.request({method:Lt.ETH_REQUEST_ACCOUNTS});i.result=[o]}return Ud({eth_accounts:tn(e),eth_requestAccounts:tn(r)})}function g1e(t){return async(e,r,n,i)=>{try{let o=await t.request(e);return r.result=o,i()}catch(o){return i(o)}}}var aXe=D(()=>{nt();Sp();_i()});function sXe({bundlerClient:t,smartAccount:e,chain:r,eoaProvider:n}){let i=Xh({account:e,chain:r,transport:Qh()});return{getAccounts:async o=>{let[a,s]=await Promise.all([e.getAddress(),n.request({method:"eth_accounts"})]);return Be.info("smartAccounts",a),Be.info("eoaAccounts",s),[a,...s]},getPrivateKey:async o=>{throw Fo.custom({message:"Smart accounts do not have private key",code:4903})},getPublicKey:async o=>{throw Fo.custom({message:"Smart accounts do not have a public key. Use address instead.",code:4903})},processTransaction:async o=>{o.input&&!o.data&&(o.data=Gt(o.input));let{to:a,value:s,data:c}=o,l={account:e,calls:[{to:a,value:BigInt(s),data:c}]},u=await t.sendUserOperation(l),d=await t.waitForUserOperationReceipt({hash:u});if(!d.success)throw Fo.custom({message:d.reason,code:4905});return d.receipt.transactionHash},processSignTransaction:async o=>{let{to:a,value:s,data:c}=o,l=await t.prepareUserOperation({account:e,calls:[{to:a,value:BigInt(s),data:c}]});return await e.signUserOperation({callData:l.callData,callGasLimit:l.callGasLimit,maxFeePerGas:l.maxFeePerGas,maxPriorityFeePerGas:l.maxPriorityFeePerGas,nonce:l.nonce,preVerificationGas:l.preVerificationGas,verificationGasLimit:l.verificationGasLimit,signature:l.signature})},processEthSignMessage:async(o,a)=>n.request(a),processPersonalMessage:async(o,a)=>{let s=o.data;return i.signMessage({account:e,message:ha(s)?{raw:s}:s})},processTypedMessageV4:async(o,a)=>{try{let s=typeof o.data=="string"?JSON.parse(o.data):o.data;return await i.signTypedData({account:e,domain:q(q({},s.domain),{},{verifyingContract:s.domain.verifyingContract,salt:s.domain.salt,chainId:Number(s.domain.chainId)}),primaryType:s.primaryType,types:s.types,message:s.message})}catch(s){throw Fo.custom({message:s instanceof Error?s.message:"Failed to sign typed data",code:4905})}}}}var cXe=D(()=>{nt();L0();_i();jt();jd()});var lXe,VP,uXe,dXe,fXe=D(()=>{nt();Ye();Sp();_i();jt();ou();aXe();cXe();ag();Ho();ma();VP=class extends xc{constructor({config:e,state:r}){super({config:e,state:r}),V(this,"PROVIDER_CHAIN_NAMESPACE",pt.EIP155),V(this,"_smartAccount",void 0),V(this,"_publicClient",void 0),V(this,"_bundlerClient",void 0),V(this,"_paymasterClient",void 0),V(this,"_useProviderAsTransport",void 0),this.update({chainId:e.chain.chainId})}get smartAccount(){return this._smartAccount}get bundlerClient(){return this._bundlerClient}get paymasterClient(){return this._paymasterClient}get publicClient(){return this._publicClient}async enable(){if(!this.state.eoaProvider)throw Fo.custom({message:"eoaProvider is not found in state, please pass it",code:4902});return await this.setupProvider(this.state.eoaProvider),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){var r;let{currentChain:n}=this,{chainNamespace:i}=n;if(i!==this.PROVIDER_CHAIN_NAMESPACE)throw tt.incompatibleChainNameSpace("Invalid chain namespace");let o=this.config.smartAccountChainsConfig.find(A=>A.chainId===n.chainId);if(!o)throw tt.invalidProviderConfigError(`Bundler and paymaster config not found for chain ${n.chainId}`);let{bundlerConfig:a,paymasterConfig:s}=o,c=sP({id:Number.parseInt(n.chainId,16),name:n.displayName,rpcUrls:{default:{http:[n.rpcTarget],webSocket:[n.wsTarget]}},blockExplorers:n.blockExplorerUrl?{default:{name:"explorer",url:n.blockExplorerUrl}}:void 0,nativeCurrency:{name:n.tickerName,symbol:n.ticker,decimals:n.decimals||18}});this._publicClient=yP({chain:c,transport:Qh(n.rpcTarget)});let[l]=await e.request({method:Lt.ETH_REQUEST_ACCOUNTS}),u=Xh({account:l,chain:c,transport:zf(e)});if(this._smartAccount=await this.config.smartAccountInit.getSmartAccount({walletClient:u,client:this._publicClient}),s){var d;this._paymasterClient=AP(q(q({},s),{},{transport:this._useProviderAsTransport?zf(e):(d=s.transport)!==null&&d!==void 0?d:Qh(s.url)}))}this._bundlerClient=xP(q(q({},a),{},{account:this.smartAccount,client:this._publicClient,transport:this._useProviderAsTransport?zf(e):(r=a.transport)!==null&&r!==void 0?r:Qh(a.url),paymaster:this._paymasterClient}));let f=sXe({bundlerClient:this._bundlerClient,smartAccount:this._smartAccount,chain:c,eoaProvider:e}),p=new zs,h=await iXe({eoaProvider:e,handlers:f});p.push(h);let b=g1e(e);p.push(b);let _=wl(p);this.updateProviderEngineProxy(_),e.once("chainChanged",A=>{this.update({chainId:A}),this.setupChainSwitchMiddleware(),this.emit("chainChanged",A)})}async updateAccount(e){throw Fo.unsupportedMethod("updateAccount. Please call it on eoaProvider")}async switchChain(e){throw Fo.unsupportedMethod("switchChain. Please call it on eoaProvider")}async lookupNetwork(){throw Fo.unsupportedMethod("lookupNetwork. Please call it on eoaProvider")}async setupChainSwitchMiddleware(){return this.setupProvider(this.state.eoaProvider)}};lXe=VP;V(VP,"getProviderInstance",async t=>{let e=new lXe({config:t});return e._useProviderAsTransport=t.useProviderAsTransport,await e.setupProvider(t.eoaProvider),e.update({eoaProvider:t.eoaProvider}),e});uXe=async({accountAbstractionConfig:t,chain:e,chains:r,provider:n,useProviderAsTransport:i})=>{let o,{smartAccountType:a,chains:s}=t,{smartAccountConfig:c}=s.find(l=>l.chainId===e.chainId)||{};switch(a){case so.BICONOMY:{let{BiconomySmartAccount:l}=await Promise.resolve().then(()=>(Sp(),U3));o=new l(c);break}case so.KERNEL:{let{KernelSmartAccount:l}=await Promise.resolve().then(()=>(Sp(),U3));o=new l(c);break}case so.NEXUS:{let{NexusSmartAccount:l}=await Promise.resolve().then(()=>(Sp(),U3));o=new l(c);break}case so.SAFE:{let{SafeSmartAccount:l}=await Promise.resolve().then(()=>(Sp(),U3));o=new l(c);break}case so.TRUST:{let{TrustSmartAccount:l}=await Promise.resolve().then(()=>(Sp(),U3));o=new l(c);break}case so.METAMASK:{let{MetamaskSmartAccount:l}=await Promise.resolve().then(()=>(Sp(),U3));o=new l(c);break}default:throw new Error("Smart account type not supported")}return VP.getProviderInstance({eoaProvider:n,smartAccountInit:o,chain:e,chains:r,smartAccountChainsConfig:s,useProviderAsTransport:i})},dXe=async t=>{let e=new zs,r=await oXe({aaProvider:t});return e.push(r),e.push(g1e(t)),wl(e)}});var pXe={};lr(pXe,{BiconomySmartAccount:()=>IA,KernelSmartAccount:()=>CA,MetamaskSmartAccount:()=>PA,NexusSmartAccount:()=>OA,SMART_ACCOUNT:()=>so,SafeSmartAccount:()=>NA,TrustSmartAccount:()=>kA,accountAbstractionProvider:()=>uXe,toEoaProvider:()=>dXe});var hXe=D(()=>{fXe();Sp()});var Pet={};lr(Pet,{default:()=>z1e,modal:()=>Cet,passwordless:()=>Ret});var Cet,Ret,z1e,G1e=D(()=>{Cet={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue",allChains:"All Chains","connect-wallet.more-wallets":"More Wallets",connectYourWallet:"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.search-subtext":"Try search instead","external.search-text":"Don't see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you'd like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version",getWallet:"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!",resendCode:"Resend Code",resendTimer:" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},Ret={"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","error-invalid-test-account":"Invalid test account","something-wrong-error":"Something went wrong"},z1e={modal:Cet,passwordless:Ret}});var Bet=de((y3n,gK)=>{(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=n(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return e.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)t.call(i,a)&&i[a]&&(o=n(o,a));return o}function n(i,o){return o?i?i+" "+o:i+o:i}typeof gK<"u"&&gK.exports?(e.default=e,gK.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var Ttt=de((iO,GA)=>{var Atr=200,tpe="__lodash_hash_undefined__",SK=1,ttt=2,rtt=9007199254740991,wK="[object Arguments]",W1e="[object Array]",Ttr="[object AsyncFunction]",ntt="[object Boolean]",itt="[object Date]",ott="[object Error]",att="[object Function]",_tr="[object GeneratorFunction]",vK="[object Map]",stt="[object Number]",Str="[object Null]",zA="[object Object]",$et="[object Promise]",Itr="[object Proxy]",ctt="[object RegExp]",EK="[object Set]",ltt="[object String]",Ctr="[object Symbol]",Rtr="[object Undefined]",Y1e="[object WeakMap]",utt="[object ArrayBuffer]",xK="[object DataView]",Ptr="[object Float32Array]",Otr="[object Float64Array]",Ntr="[object Int8Array]",ktr="[object Int16Array]",Mtr="[object Int32Array]",Btr="[object Uint8Array]",Dtr="[object Uint8ClampedArray]",Ltr="[object Uint16Array]",Utr="[object Uint32Array]",Ftr=/[\\^$.*+?()[\]{}|]/g,Htr=/^\[object .+?Constructor\]$/,ztr=/^(?:0|[1-9]\d*)$/,$i={};$i[Ptr]=$i[Otr]=$i[Ntr]=$i[ktr]=$i[Mtr]=$i[Btr]=$i[Dtr]=$i[Ltr]=$i[Utr]=!0;$i[wK]=$i[W1e]=$i[utt]=$i[ntt]=$i[xK]=$i[itt]=$i[ott]=$i[att]=$i[vK]=$i[stt]=$i[zA]=$i[ctt]=$i[EK]=$i[ltt]=$i[Y1e]=!1;var dtt=typeof global=="object"&&global&&global.Object===Object&&global,Gtr=typeof self=="object"&&self&&self.Object===Object&&self,c5=dtt||Gtr||Function("return this")(),ftt=typeof iO=="object"&&iO&&!iO.nodeType&&iO,Vet=ftt&&typeof GA=="object"&&GA&&!GA.nodeType&&GA,ptt=Vet&&Vet.exports===ftt,V1e=ptt&&dtt.process,Ket=(function(){try{return V1e&&V1e.binding&&V1e.binding("util")}catch{}})(),qet=Ket&&Ket.isTypedArray;function jtr(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function $tr(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Vtr(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Ktr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function qtr(t){return function(e){return t(e)}}function Wtr(t,e){return t.has(e)}function Ytr(t,e){return t?.[e]}function Jtr(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Qtr(t,e){return function(r){return t(e(r))}}function Ztr(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Xtr=Array.prototype,err=Function.prototype,IK=Object.prototype,K1e=c5["__core-js_shared__"],htt=err.toString,Op=IK.hasOwnProperty,Wet=(function(){var t=/[^.]+$/.exec(K1e&&K1e.keys&&K1e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),mtt=IK.toString,trr=RegExp("^"+htt.call(Op).replace(Ftr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yet=ptt?c5.Buffer:void 0,AK=c5.Symbol,Jet=c5.Uint8Array,btt=IK.propertyIsEnumerable,rrr=Xtr.splice,z3=AK?AK.toStringTag:void 0,Qet=Object.getOwnPropertySymbols,nrr=Yet?Yet.isBuffer:void 0,irr=Qtr(Object.keys,Object),J1e=jA(c5,"DataView"),oO=jA(c5,"Map"),Q1e=jA(c5,"Promise"),Z1e=jA(c5,"Set"),X1e=jA(c5,"WeakMap"),aO=jA(Object,"create"),orr=$3(J1e),arr=$3(oO),srr=$3(Q1e),crr=$3(Z1e),lrr=$3(X1e),Zet=AK?AK.prototype:void 0,q1e=Zet?Zet.valueOf:void 0;function G3(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function urr(){this.__data__=aO?aO(null):{},this.size=0}function drr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function frr(t){var e=this.__data__;if(aO){var r=e[t];return r===tpe?void 0:r}return Op.call(e,t)?e[t]:void 0}function prr(t){var e=this.__data__;return aO?e[t]!==void 0:Op.call(e,t)}function hrr(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=aO&&e===void 0?tpe:e,this}G3.prototype.clear=urr;G3.prototype.delete=drr;G3.prototype.get=frr;G3.prototype.has=prr;G3.prototype.set=hrr;function l5(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mrr(){this.__data__=[],this.size=0}function brr(t){var e=this.__data__,r=CK(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():rrr.call(e,r,1),--this.size,!0}function yrr(t){var e=this.__data__,r=CK(e,t);return r<0?void 0:e[r][1]}function grr(t){return CK(this.__data__,t)>-1}function wrr(t,e){var r=this.__data__,n=CK(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}l5.prototype.clear=mrr;l5.prototype.delete=brr;l5.prototype.get=yrr;l5.prototype.has=grr;l5.prototype.set=wrr;function j3(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function vrr(){this.size=0,this.__data__={hash:new G3,map:new(oO||l5),string:new G3}}function Err(t){var e=RK(this,t).delete(t);return this.size-=e?1:0,e}function xrr(t){return RK(this,t).get(t)}function Arr(t){return RK(this,t).has(t)}function Trr(t,e){var r=RK(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}j3.prototype.clear=vrr;j3.prototype.delete=Err;j3.prototype.get=xrr;j3.prototype.has=Arr;j3.prototype.set=Trr;function TK(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new j3;++e<r;)this.add(t[e])}function _rr(t){return this.__data__.set(t,tpe),this}function Srr(t){return this.__data__.has(t)}TK.prototype.add=TK.prototype.push=_rr;TK.prototype.has=Srr;function zy(t){var e=this.__data__=new l5(t);this.size=e.size}function Irr(){this.__data__=new l5,this.size=0}function Crr(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Rrr(t){return this.__data__.get(t)}function Prr(t){return this.__data__.has(t)}function Orr(t,e){var r=this.__data__;if(r instanceof l5){var n=r.__data__;if(!oO||n.length<Atr-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new j3(n)}return r.set(t,e),this.size=r.size,this}zy.prototype.clear=Irr;zy.prototype.delete=Crr;zy.prototype.get=Rrr;zy.prototype.has=Prr;zy.prototype.set=Orr;function Nrr(t,e){var r=_K(t),n=!r&&qrr(t),i=!r&&!n&&epe(t),o=!r&&!n&&!i&&Att(t),a=r||n||i||o,s=a?Ktr(t.length,String):[],c=s.length;for(var l in t)(e||Op.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Grr(l,c)))&&s.push(l);return s}function CK(t,e){for(var r=t.length;r--;)if(wtt(t[r][0],e))return r;return-1}function krr(t,e,r){var n=e(t);return _K(t)?n:$tr(n,r(t))}function cO(t){return t==null?t===void 0?Rtr:Str:z3&&z3 in Object(t)?Hrr(t):Krr(t)}function Xet(t){return sO(t)&&cO(t)==wK}function ytt(t,e,r,n,i){return t===e?!0:t==null||e==null||!sO(t)&&!sO(e)?t!==t&&e!==e:Mrr(t,e,r,n,ytt,i)}function Mrr(t,e,r,n,i,o){var a=_K(t),s=_K(e),c=a?W1e:Hy(t),l=s?W1e:Hy(e);c=c==wK?zA:c,l=l==wK?zA:l;var u=c==zA,d=l==zA,f=c==l;if(f&&epe(t)){if(!epe(e))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new zy),a||Att(t)?gtt(t,e,r,n,i,o):Urr(t,e,c,r,n,i,o);if(!(r&SK)){var p=u&&Op.call(t,"__wrapped__"),h=d&&Op.call(e,"__wrapped__");if(p||h){var b=p?t.value():t,_=h?e.value():e;return o||(o=new zy),i(b,_,r,n,o)}}return f?(o||(o=new zy),Frr(t,e,r,n,i,o)):!1}function Brr(t){if(!xtt(t)||$rr(t))return!1;var e=vtt(t)?trr:Htr;return e.test($3(t))}function Drr(t){return sO(t)&&Ett(t.length)&&!!$i[cO(t)]}function Lrr(t){if(!Vrr(t))return irr(t);var e=[];for(var r in Object(t))Op.call(t,r)&&r!="constructor"&&e.push(r);return e}function gtt(t,e,r,n,i,o){var a=r&SK,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var u=-1,d=!0,f=r&ttt?new TK:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var p=t[u],h=e[u];if(n)var b=a?n(h,p,u,e,t,o):n(p,h,u,t,e,o);if(b!==void 0){if(b)continue;d=!1;break}if(f){if(!Vtr(e,function(_,A){if(!Wtr(f,A)&&(p===_||i(p,_,r,n,o)))return f.push(A)})){d=!1;break}}else if(!(p===h||i(p,h,r,n,o))){d=!1;break}}return o.delete(t),o.delete(e),d}function Urr(t,e,r,n,i,o,a){switch(r){case xK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case utt:return!(t.byteLength!=e.byteLength||!o(new Jet(t),new Jet(e)));case ntt:case itt:case stt:return wtt(+t,+e);case ott:return t.name==e.name&&t.message==e.message;case ctt:case ltt:return t==e+"";case vK:var s=Jtr;case EK:var c=n&SK;if(s||(s=Ztr),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;n|=ttt,a.set(t,e);var u=gtt(s(t),s(e),n,i,o,a);return a.delete(t),u;case Ctr:if(q1e)return q1e.call(t)==q1e.call(e)}return!1}function Frr(t,e,r,n,i,o){var a=r&SK,s=ett(t),c=s.length,l=ett(e),u=l.length;if(c!=u&&!a)return!1;for(var d=c;d--;){var f=s[d];if(!(a?f in e:Op.call(e,f)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var h=!0;o.set(t,e),o.set(e,t);for(var b=a;++d<c;){f=s[d];var _=t[f],A=e[f];if(n)var C=a?n(A,_,f,e,t,o):n(_,A,f,t,e,o);if(!(C===void 0?_===A||i(_,A,r,n,o):C)){h=!1;break}b||(b=f=="constructor")}if(h&&!b){var R=t.constructor,M=e.constructor;R!=M&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof M=="function"&&M instanceof M)&&(h=!1)}return o.delete(t),o.delete(e),h}function ett(t){return krr(t,Jrr,zrr)}function RK(t,e){var r=t.__data__;return jrr(e)?r[typeof e=="string"?"string":"hash"]:r.map}function jA(t,e){var r=Ytr(t,e);return Brr(r)?r:void 0}function Hrr(t){var e=Op.call(t,z3),r=t[z3];try{t[z3]=void 0;var n=!0}catch{}var i=mtt.call(t);return n&&(e?t[z3]=r:delete t[z3]),i}var zrr=Qet?function(t){return t==null?[]:(t=Object(t),jtr(Qet(t),function(e){return btt.call(t,e)}))}:Qrr,Hy=cO;(J1e&&Hy(new J1e(new ArrayBuffer(1)))!=xK||oO&&Hy(new oO)!=vK||Q1e&&Hy(Q1e.resolve())!=$et||Z1e&&Hy(new Z1e)!=EK||X1e&&Hy(new X1e)!=Y1e)&&(Hy=function(t){var e=cO(t),r=e==zA?t.constructor:void 0,n=r?$3(r):"";if(n)switch(n){case orr:return xK;case arr:return vK;case srr:return $et;case crr:return EK;case lrr:return Y1e}return e});function Grr(t,e){return e=e??rtt,!!e&&(typeof t=="number"||ztr.test(t))&&t>-1&&t%1==0&&t<e}function jrr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function $rr(t){return!!Wet&&Wet in t}function Vrr(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||IK;return t===r}function Krr(t){return mtt.call(t)}function $3(t){if(t!=null){try{return htt.call(t)}catch{}try{return t+""}catch{}}return""}function wtt(t,e){return t===e||t!==t&&e!==e}var qrr=Xet((function(){return arguments})())?Xet:function(t){return sO(t)&&Op.call(t,"callee")&&!btt.call(t,"callee")},_K=Array.isArray;function Wrr(t){return t!=null&&Ett(t.length)&&!vtt(t)}var epe=nrr||Zrr;function Yrr(t,e){return ytt(t,e)}function vtt(t){if(!xtt(t))return!1;var e=cO(t);return e==att||e==_tr||e==Ttr||e==Itr}function Ett(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rtt}function xtt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function sO(t){return t!=null&&typeof t=="object"}var Att=qet?qtr(qet):Drr;function Jrr(t){return Wrr(t)?Nrr(t):Lrr(t)}function Qrr(){return[]}function Zrr(){return!1}GA.exports=Yrr});var Ctt=de((Stt,Itt)=>{var _tt=(function(){var t=function(C,R){var M=236,U=17,F=C,z=r[R],N=null,k=0,O=null,w=[],S={},T=function(H,$){k=F*4+17,N=(function(K){for(var W=new Array(K),J=0;J<K;J+=1){W[J]=new Array(K);for(var X=0;X<K;X+=1)W[J][X]=null}return W})(k),m(0,0),m(k-7,0),m(0,k-7),v(),E(),g(H,$),F>=7&&x(H),O==null&&(O=I(F,z,w)),P(O,$)},m=function(H,$){for(var K=-1;K<=7;K+=1)if(!(H+K<=-1||k<=H+K))for(var W=-1;W<=7;W+=1)$+W<=-1||k<=$+W||(0<=K&&K<=6&&(W==0||W==6)||0<=W&&W<=6&&(K==0||K==6)||2<=K&&K<=4&&2<=W&&W<=4?N[H+K][$+W]=!0:N[H+K][$+W]=!1)},y=function(){for(var H=0,$=0,K=0;K<8;K+=1){T(!0,K);var W=i.getLostPoint(S);(K==0||H>W)&&(H=W,$=K)}return $},E=function(){for(var H=8;H<k-8;H+=1)N[H][6]==null&&(N[H][6]=H%2==0);for(var $=8;$<k-8;$+=1)N[6][$]==null&&(N[6][$]=$%2==0)},v=function(){for(var H=i.getPatternPosition(F),$=0;$<H.length;$+=1)for(var K=0;K<H.length;K+=1){var W=H[$],J=H[K];if(N[W][J]==null)for(var X=-2;X<=2;X+=1)for(var te=-2;te<=2;te+=1)X==-2||X==2||te==-2||te==2||X==0&&te==0?N[W+X][J+te]=!0:N[W+X][J+te]=!1}},x=function(H){for(var $=i.getBCHTypeNumber(F),K=0;K<18;K+=1){var W=!H&&($>>K&1)==1;N[Math.floor(K/3)][K%3+k-8-3]=W}for(var K=0;K<18;K+=1){var W=!H&&($>>K&1)==1;N[K%3+k-8-3][Math.floor(K/3)]=W}},g=function(H,$){for(var K=z<<3|$,W=i.getBCHTypeInfo(K),J=0;J<15;J+=1){var X=!H&&(W>>J&1)==1;J<6?N[J][8]=X:J<8?N[J+1][8]=X:N[k-15+J][8]=X}for(var J=0;J<15;J+=1){var X=!H&&(W>>J&1)==1;J<8?N[8][k-J-1]=X:J<9?N[8][15-J-1+1]=X:N[8][15-J-1]=X}N[k-8][8]=!H},P=function(H,$){for(var K=-1,W=k-1,J=7,X=0,te=i.getMaskFunction($),re=k-1;re>0;re-=2)for(re==6&&(re-=1);;){for(var le=0;le<2;le+=1)if(N[W][re-le]==null){var ce=!1;X<H.length&&(ce=(H[X]>>>J&1)==1);var ae=te(W,re-le);ae&&(ce=!ce),N[W][re-le]=ce,J-=1,J==-1&&(X+=1,J=7)}if(W+=K,W<0||k<=W){W-=K,K=-K;break}}},B=function(H,$){for(var K=0,W=0,J=0,X=new Array($.length),te=new Array($.length),re=0;re<$.length;re+=1){var le=$[re].dataCount,ce=$[re].totalCount-le;W=Math.max(W,le),J=Math.max(J,ce),X[re]=new Array(le);for(var ae=0;ae<X[re].length;ae+=1)X[re][ae]=255&H.getBuffer()[ae+K];K+=le;var xe=i.getErrorCorrectPolynomial(ce),me=a(X[re],xe.getLength()-1),Se=me.mod(xe);te[re]=new Array(xe.getLength()-1);for(var ae=0;ae<te[re].length;ae+=1){var vt=ae+Se.getLength()-te[re].length;te[re][ae]=vt>=0?Se.getAt(vt):0}}for(var Qe=0,ae=0;ae<$.length;ae+=1)Qe+=$[ae].totalCount;for(var Ve=new Array(Qe),kt=0,ae=0;ae<W;ae+=1)for(var re=0;re<$.length;re+=1)ae<X[re].length&&(Ve[kt]=X[re][ae],kt+=1);for(var ae=0;ae<J;ae+=1)for(var re=0;re<$.length;re+=1)ae<te[re].length&&(Ve[kt]=te[re][ae],kt+=1);return Ve},I=function(H,$,K){for(var W=s.getRSBlocks(H,$),J=c(),X=0;X<K.length;X+=1){var te=K[X];J.put(te.getMode(),4),J.put(te.getLength(),i.getLengthInBits(te.getMode(),H)),te.write(J)}for(var re=0,X=0;X<W.length;X+=1)re+=W[X].dataCount;if(J.getLengthInBits()>re*8)throw"code length overflow. ("+J.getLengthInBits()+">"+re*8+")";for(J.getLengthInBits()+4<=re*8&&J.put(0,4);J.getLengthInBits()%8!=0;)J.putBit(!1);for(;!(J.getLengthInBits()>=re*8||(J.put(M,8),J.getLengthInBits()>=re*8));)J.put(U,8);return B(J,W)};S.addData=function(H,$){$=$||"Byte";var K=null;switch($){case"Numeric":K=l(H);break;case"Alphanumeric":K=u(H);break;case"Byte":K=d(H);break;case"Kanji":K=f(H);break;default:throw"mode:"+$}w.push(K),O=null},S.isDark=function(H,$){if(H<0||k<=H||$<0||k<=$)throw H+","+$;return N[H][$]},S.getModuleCount=function(){return k},S.make=function(){if(F<1){for(var H=1;H<40;H++){for(var $=s.getRSBlocks(H,z),K=c(),W=0;W<w.length;W++){var J=w[W];K.put(J.getMode(),4),K.put(J.getLength(),i.getLengthInBits(J.getMode(),H)),J.write(K)}for(var X=0,W=0;W<$.length;W++)X+=$[W].dataCount;if(K.getLengthInBits()<=X*8)break}F=H}T(!1,y())},S.createTableTag=function(H,$){H=H||2,$=typeof $>"u"?H*4:$;var K="";K+='<table style="',K+=" border-width: 0px; border-style: none;",K+=" border-collapse: collapse;",K+=" padding: 0px; margin: "+$+"px;",K+='">',K+="<tbody>";for(var W=0;W<S.getModuleCount();W+=1){K+="<tr>";for(var J=0;J<S.getModuleCount();J+=1)K+='<td style="',K+=" border-width: 0px; border-style: none;",K+=" border-collapse: collapse;",K+=" padding: 0px; margin: 0px;",K+=" width: "+H+"px;",K+=" height: "+H+"px;",K+=" background-color: ",K+=S.isDark(W,J)?"#000000":"#ffffff",K+=";",K+='"/>';K+="</tr>"}return K+="</tbody>",K+="</table>",K},S.createSvgTag=function(H,$,K,W){var J={};typeof arguments[0]=="object"&&(J=arguments[0],H=J.cellSize,$=J.margin,K=J.alt,W=J.title),H=H||2,$=typeof $>"u"?H*4:$,K=typeof K=="string"?{text:K}:K||{},K.text=K.text||null,K.id=K.text?K.id||"qrcode-description":null,W=typeof W=="string"?{text:W}:W||{},W.text=W.text||null,W.id=W.text?W.id||"qrcode-title":null;var X=S.getModuleCount()*H+$*2,te,re,le,ce,ae="",xe;for(xe="l"+H+",0 0,"+H+" -"+H+",0 0,-"+H+"z ",ae+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',ae+=J.scalable?"":' width="'+X+'px" height="'+X+'px"',ae+=' viewBox="0 0 '+X+" "+X+'" ',ae+=' preserveAspectRatio="xMinYMin meet"',ae+=W.text||K.text?' role="img" aria-labelledby="'+L([W.id,K.id].join(" ").trim())+'"':"",ae+=">",ae+=W.text?'<title id="'+L(W.id)+'">'+L(W.text)+"</title>":"",ae+=K.text?'<description id="'+L(K.id)+'">'+L(K.text)+"</description>":"",ae+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',ae+='<path d="',le=0;le<S.getModuleCount();le+=1)for(ce=le*H+$,te=0;te<S.getModuleCount();te+=1)S.isDark(le,te)&&(re=te*H+$,ae+="M"+re+","+ce+xe);return ae+='" stroke="transparent" fill="black"/>',ae+="</svg>",ae},S.createDataURL=function(H,$){H=H||2,$=typeof $>"u"?H*4:$;var K=S.getModuleCount()*H+$*2,W=$,J=K-$;return A(K,K,function(X,te){if(W<=X&&X<J&&W<=te&&te<J){var re=Math.floor((X-W)/H),le=Math.floor((te-W)/H);return S.isDark(le,re)?0:1}else return 1})},S.createImgTag=function(H,$,K){H=H||2,$=typeof $>"u"?H*4:$;var W=S.getModuleCount()*H+$*2,J="";return J+="<img",J+=' src="',J+=S.createDataURL(H,$),J+='"',J+=' width="',J+=W,J+='"',J+=' height="',J+=W,J+='"',K&&(J+=' alt="',J+=L(K),J+='"'),J+="/>",J};var L=function(H){for(var $="",K=0;K<H.length;K+=1){var W=H.charAt(K);switch(W){case"<":$+="&lt;";break;case">":$+="&gt;";break;case"&":$+="&amp;";break;case'"':$+="&quot;";break;default:$+=W;break}}return $},G=function(H){var $=1;H=typeof H>"u"?$*2:H;var K=S.getModuleCount()*$+H*2,W=H,J=K-H,X,te,re,le,ce,ae={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},xe={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},me="";for(X=0;X<K;X+=2){for(re=Math.floor((X-W)/$),le=Math.floor((X+1-W)/$),te=0;te<K;te+=1)ce="\u2588",W<=te&&te<J&&W<=X&&X<J&&S.isDark(re,Math.floor((te-W)/$))&&(ce=" "),W<=te&&te<J&&W<=X+1&&X+1<J&&S.isDark(le,Math.floor((te-W)/$))?ce+=" ":ce+="\u2588",me+=H<1&&X+1>=J?xe[ce]:ae[ce];me+=`
`}return K%2&&H>0?me.substring(0,me.length-K-1)+Array(K+1).join("\u2580"):me.substring(0,me.length-1)};return S.createASCII=function(H,$){if(H=H||1,H<2)return G($);H-=1,$=typeof $>"u"?H*2:$;var K=S.getModuleCount()*H+$*2,W=$,J=K-$,X,te,re,le,ce=Array(H+1).join("\u2588\u2588"),ae=Array(H+1).join("  "),xe="",me="";for(X=0;X<K;X+=1){for(re=Math.floor((X-W)/H),me="",te=0;te<K;te+=1)le=1,W<=te&&te<J&&W<=X&&X<J&&S.isDark(re,Math.floor((te-W)/H))&&(le=0),me+=le?ce:ae;for(re=0;re<H;re+=1)xe+=me+`
`}return xe.substring(0,xe.length-1)},S.renderTo2dContext=function(H,$){$=$||2;for(var K=S.getModuleCount(),W=0;W<K;W++)for(var J=0;J<K;J++)H.fillStyle=S.isDark(W,J)?"black":"white",H.fillRect(W*$,J*$,$,$)},S};t.stringToBytesFuncs={default:function(C){for(var R=[],M=0;M<C.length;M+=1){var U=C.charCodeAt(M);R.push(U&255)}return R}},t.stringToBytes=t.stringToBytesFuncs.default,t.createStringToBytes=function(C,R){var M=(function(){for(var F=b(C),z=function(){var E=F.read();if(E==-1)throw"eof";return E},N=0,k={};;){var O=F.read();if(O==-1)break;var w=z(),S=z(),T=z(),m=String.fromCharCode(O<<8|w),y=S<<8|T;k[m]=y,N+=1}if(N!=R)throw N+" != "+R;return k})(),U=63;return function(F){for(var z=[],N=0;N<F.length;N+=1){var k=F.charCodeAt(N);if(k<128)z.push(k);else{var O=M[F.charAt(N)];typeof O=="number"?(O&255)==O?z.push(O):(z.push(O>>>8),z.push(O&255)):z.push(U)}}return z}};var e={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},r={L:1,M:0,Q:3,H:2},n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i=(function(){var C=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],R=1335,M=7973,U=21522,F={},z=function(N){for(var k=0;N!=0;)k+=1,N>>>=1;return k};return F.getBCHTypeInfo=function(N){for(var k=N<<10;z(k)-z(R)>=0;)k^=R<<z(k)-z(R);return(N<<10|k)^U},F.getBCHTypeNumber=function(N){for(var k=N<<12;z(k)-z(M)>=0;)k^=M<<z(k)-z(M);return N<<12|k},F.getPatternPosition=function(N){return C[N-1]},F.getMaskFunction=function(N){switch(N){case n.PATTERN000:return function(k,O){return(k+O)%2==0};case n.PATTERN001:return function(k,O){return k%2==0};case n.PATTERN010:return function(k,O){return O%3==0};case n.PATTERN011:return function(k,O){return(k+O)%3==0};case n.PATTERN100:return function(k,O){return(Math.floor(k/2)+Math.floor(O/3))%2==0};case n.PATTERN101:return function(k,O){return k*O%2+k*O%3==0};case n.PATTERN110:return function(k,O){return(k*O%2+k*O%3)%2==0};case n.PATTERN111:return function(k,O){return(k*O%3+(k+O)%2)%2==0};default:throw"bad maskPattern:"+N}},F.getErrorCorrectPolynomial=function(N){for(var k=a([1],0),O=0;O<N;O+=1)k=k.multiply(a([1,o.gexp(O)],0));return k},F.getLengthInBits=function(N,k){if(1<=k&&k<10)switch(N){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw"mode:"+N}else if(k<27)switch(N){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw"mode:"+N}else if(k<41)switch(N){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw"mode:"+N}else throw"type:"+k},F.getLostPoint=function(N){for(var k=N.getModuleCount(),O=0,w=0;w<k;w+=1)for(var S=0;S<k;S+=1){for(var T=0,m=N.isDark(w,S),y=-1;y<=1;y+=1)if(!(w+y<0||k<=w+y))for(var E=-1;E<=1;E+=1)S+E<0||k<=S+E||y==0&&E==0||m==N.isDark(w+y,S+E)&&(T+=1);T>5&&(O+=3+T-5)}for(var w=0;w<k-1;w+=1)for(var S=0;S<k-1;S+=1){var v=0;N.isDark(w,S)&&(v+=1),N.isDark(w+1,S)&&(v+=1),N.isDark(w,S+1)&&(v+=1),N.isDark(w+1,S+1)&&(v+=1),(v==0||v==4)&&(O+=3)}for(var w=0;w<k;w+=1)for(var S=0;S<k-6;S+=1)N.isDark(w,S)&&!N.isDark(w,S+1)&&N.isDark(w,S+2)&&N.isDark(w,S+3)&&N.isDark(w,S+4)&&!N.isDark(w,S+5)&&N.isDark(w,S+6)&&(O+=40);for(var S=0;S<k;S+=1)for(var w=0;w<k-6;w+=1)N.isDark(w,S)&&!N.isDark(w+1,S)&&N.isDark(w+2,S)&&N.isDark(w+3,S)&&N.isDark(w+4,S)&&!N.isDark(w+5,S)&&N.isDark(w+6,S)&&(O+=40);for(var x=0,S=0;S<k;S+=1)for(var w=0;w<k;w+=1)N.isDark(w,S)&&(x+=1);var g=Math.abs(100*x/k/k-50)/5;return O+=g*10,O},F})(),o=(function(){for(var C=new Array(256),R=new Array(256),M=0;M<8;M+=1)C[M]=1<<M;for(var M=8;M<256;M+=1)C[M]=C[M-4]^C[M-5]^C[M-6]^C[M-8];for(var M=0;M<255;M+=1)R[C[M]]=M;var U={};return U.glog=function(F){if(F<1)throw"glog("+F+")";return R[F]},U.gexp=function(F){for(;F<0;)F+=255;for(;F>=256;)F-=255;return C[F]},U})();function a(C,R){if(typeof C.length>"u")throw C.length+"/"+R;var M=(function(){for(var F=0;F<C.length&&C[F]==0;)F+=1;for(var z=new Array(C.length-F+R),N=0;N<C.length-F;N+=1)z[N]=C[N+F];return z})(),U={};return U.getAt=function(F){return M[F]},U.getLength=function(){return M.length},U.multiply=function(F){for(var z=new Array(U.getLength()+F.getLength()-1),N=0;N<U.getLength();N+=1)for(var k=0;k<F.getLength();k+=1)z[N+k]^=o.gexp(o.glog(U.getAt(N))+o.glog(F.getAt(k)));return a(z,0)},U.mod=function(F){if(U.getLength()-F.getLength()<0)return U;for(var z=o.glog(U.getAt(0))-o.glog(F.getAt(0)),N=new Array(U.getLength()),k=0;k<U.getLength();k+=1)N[k]=U.getAt(k);for(var k=0;k<F.getLength();k+=1)N[k]^=o.gexp(o.glog(F.getAt(k))+z);return a(N,0).mod(F)},U}var s=(function(){var C=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],R=function(F,z){var N={};return N.totalCount=F,N.dataCount=z,N},M={},U=function(F,z){switch(z){case r.L:return C[(F-1)*4+0];case r.M:return C[(F-1)*4+1];case r.Q:return C[(F-1)*4+2];case r.H:return C[(F-1)*4+3];default:return}};return M.getRSBlocks=function(F,z){var N=U(F,z);if(typeof N>"u")throw"bad rs block @ typeNumber:"+F+"/errorCorrectionLevel:"+z;for(var k=N.length/3,O=[],w=0;w<k;w+=1)for(var S=N[w*3+0],T=N[w*3+1],m=N[w*3+2],y=0;y<S;y+=1)O.push(R(T,m));return O},M})(),c=function(){var C=[],R=0,M={};return M.getBuffer=function(){return C},M.getAt=function(U){var F=Math.floor(U/8);return(C[F]>>>7-U%8&1)==1},M.put=function(U,F){for(var z=0;z<F;z+=1)M.putBit((U>>>F-z-1&1)==1)},M.getLengthInBits=function(){return R},M.putBit=function(U){var F=Math.floor(R/8);C.length<=F&&C.push(0),U&&(C[F]|=128>>>R%8),R+=1},M},l=function(C){var R=e.MODE_NUMBER,M=C,U={};U.getMode=function(){return R},U.getLength=function(N){return M.length},U.write=function(N){for(var k=M,O=0;O+2<k.length;)N.put(F(k.substring(O,O+3)),10),O+=3;O<k.length&&(k.length-O==1?N.put(F(k.substring(O,O+1)),4):k.length-O==2&&N.put(F(k.substring(O,O+2)),7))};var F=function(N){for(var k=0,O=0;O<N.length;O+=1)k=k*10+z(N.charAt(O));return k},z=function(N){if("0"<=N&&N<="9")return N.charCodeAt(0)-48;throw"illegal char :"+N};return U},u=function(C){var R=e.MODE_ALPHA_NUM,M=C,U={};U.getMode=function(){return R},U.getLength=function(z){return M.length},U.write=function(z){for(var N=M,k=0;k+1<N.length;)z.put(F(N.charAt(k))*45+F(N.charAt(k+1)),11),k+=2;k<N.length&&z.put(F(N.charAt(k)),6)};var F=function(z){if("0"<=z&&z<="9")return z.charCodeAt(0)-48;if("A"<=z&&z<="Z")return z.charCodeAt(0)-65+10;switch(z){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+z}};return U},d=function(C){var R=e.MODE_8BIT_BYTE,M=C,U=t.stringToBytes(C),F={};return F.getMode=function(){return R},F.getLength=function(z){return U.length},F.write=function(z){for(var N=0;N<U.length;N+=1)z.put(U[N],8)},F},f=function(C){var R=e.MODE_KANJI,M=C,U=t.stringToBytesFuncs.SJIS;if(!U)throw"sjis not supported.";(function(N,k){var O=U(N);if(O.length!=2||(O[0]<<8|O[1])!=k)throw"sjis not supported."})("\u53CB",38726);var F=U(C),z={};return z.getMode=function(){return R},z.getLength=function(N){return~~(F.length/2)},z.write=function(N){for(var k=F,O=0;O+1<k.length;){var w=(255&k[O])<<8|255&k[O+1];if(33088<=w&&w<=40956)w-=33088;else if(57408<=w&&w<=60351)w-=49472;else throw"illegal char at "+(O+1)+"/"+w;w=(w>>>8&255)*192+(w&255),N.put(w,13),O+=2}if(O<k.length)throw"illegal char at "+(O+1)},z},p=function(){var C=[],R={};return R.writeByte=function(M){C.push(M&255)},R.writeShort=function(M){R.writeByte(M),R.writeByte(M>>>8)},R.writeBytes=function(M,U,F){U=U||0,F=F||M.length;for(var z=0;z<F;z+=1)R.writeByte(M[z+U])},R.writeString=function(M){for(var U=0;U<M.length;U+=1)R.writeByte(M.charCodeAt(U))},R.toByteArray=function(){return C},R.toString=function(){var M="";M+="[";for(var U=0;U<C.length;U+=1)U>0&&(M+=","),M+=C[U];return M+="]",M},R},h=function(){var C=0,R=0,M=0,U="",F={},z=function(k){U+=String.fromCharCode(N(k&63))},N=function(k){if(!(k<0)){if(k<26)return 65+k;if(k<52)return 97+(k-26);if(k<62)return 48+(k-52);if(k==62)return 43;if(k==63)return 47}throw"n:"+k};return F.writeByte=function(k){for(C=C<<8|k&255,R+=8,M+=1;R>=6;)z(C>>>R-6),R-=6},F.flush=function(){if(R>0&&(z(C<<6-R),C=0,R=0),M%3!=0)for(var k=3-M%3,O=0;O<k;O+=1)U+="="},F.toString=function(){return U},F},b=function(C){var R=C,M=0,U=0,F=0,z={};z.read=function(){for(;F<8;){if(M>=R.length){if(F==0)return-1;throw"unexpected end of file./"+F}var k=R.charAt(M);if(M+=1,k=="=")return F=0,-1;if(k.match(/^\s$/))continue;U=U<<6|N(k.charCodeAt(0)),F+=6}var O=U>>>F-8&255;return F-=8,O};var N=function(k){if(65<=k&&k<=90)return k-65;if(97<=k&&k<=122)return k-97+26;if(48<=k&&k<=57)return k-48+52;if(k==43)return 62;if(k==47)return 63;throw"c:"+k};return z},_=function(C,R){var M=C,U=R,F=new Array(C*R),z={};z.setPixel=function(w,S,T){F[S*M+w]=T},z.write=function(w){w.writeString("GIF87a"),w.writeShort(M),w.writeShort(U),w.writeByte(128),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(255),w.writeByte(255),w.writeByte(255),w.writeString(","),w.writeShort(0),w.writeShort(0),w.writeShort(M),w.writeShort(U),w.writeByte(0);var S=2,T=k(S);w.writeByte(S);for(var m=0;T.length-m>255;)w.writeByte(255),w.writeBytes(T,m,255),m+=255;w.writeByte(T.length-m),w.writeBytes(T,m,T.length-m),w.writeByte(0),w.writeString(";")};var N=function(w){var S=w,T=0,m=0,y={};return y.write=function(E,v){if(E>>>v)throw"length over";for(;T+v>=8;)S.writeByte(255&(E<<T|m)),v-=8-T,E>>>=8-T,m=0,T=0;m=E<<T|m,T=T+v},y.flush=function(){T>0&&S.writeByte(m)},y},k=function(w){for(var S=1<<w,T=(1<<w)+1,m=w+1,y=O(),E=0;E<S;E+=1)y.add(String.fromCharCode(E));y.add(String.fromCharCode(S)),y.add(String.fromCharCode(T));var v=p(),x=N(v);x.write(S,m);var g=0,P=String.fromCharCode(F[g]);for(g+=1;g<F.length;){var B=String.fromCharCode(F[g]);g+=1,y.contains(P+B)?P=P+B:(x.write(y.indexOf(P),m),y.size()<4095&&(y.size()==1<<m&&(m+=1),y.add(P+B)),P=B)}return x.write(y.indexOf(P),m),x.write(T,m),x.flush(),v.toByteArray()},O=function(){var w={},S=0,T={};return T.add=function(m){if(T.contains(m))throw"dup key:"+m;w[m]=S,S+=1},T.size=function(){return S},T.indexOf=function(m){return w[m]},T.contains=function(m){return typeof w[m]<"u"},T};return z},A=function(C,R,M){for(var U=_(C,R),F=0;F<R;F+=1)for(var z=0;z<C;z+=1)U.setPixel(z,F,M(z,F));var N=p();U.write(N);for(var k=h(),O=N.toByteArray(),w=0;w<O.length;w+=1)k.writeByte(O[w]);return k.flush(),"data:image/gif;base64,"+k};return t})();(function(){_tt.stringToBytesFuncs["UTF-8"]=function(t){function e(r){for(var n=[],i=0;i<r.length;i++){var o=r.charCodeAt(i);o<128?n.push(o):o<2048?n.push(192|o>>6,128|o&63):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|o&63):(i++,o=65536+((o&1023)<<10|r.charCodeAt(i)&1023),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63))}return n}return e(t)}})();(function(t){typeof define=="function"&&define.amd?define([],t):typeof Stt=="object"&&(Itt.exports=t())})(function(){return _tt})});var Rtt=de(Gy=>{"use strict";var Xrr=Gy&&Gy.__extends||(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),npe=Gy&&Gy.__assign||function(){return npe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},npe.apply(this,arguments)};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.QRCode=void 0;var enr=Ttt(),tnr=Ctt(),rpe=mO("react"),rnr=(function(t){Xrr(e,t);function e(r){var n=t.call(this,r)||this;return n.canvasRef=rpe.createRef(),n}return e.prototype.download=function(r,n){if(this.canvasRef.current){var i=void 0;switch(r){case"jpg":i="image/jpeg";break;case"webp":i="image/webp";break;case"png":default:i="image/png";break}var o=this.canvasRef.current.toDataURL(i,1),a=document.createElement("a");a.download=n??"react-qrcode-logo",a.href=o,a.click()}},e.prototype.utf16to8=function(r){var n="",i,o,a=r.length;for(i=0;i<a;i++)o=r.charCodeAt(i),o>=1&&o<=127?n+=r.charAt(i):o>2047?(n+=String.fromCharCode(224|o>>12&15),n+=String.fromCharCode(128|o>>6&63),n+=String.fromCharCode(128|o>>0&63)):(n+=String.fromCharCode(192|o>>6&31),n+=String.fromCharCode(128|o>>0&63));return n},e.prototype.drawRoundedSquare=function(r,n,i,o,a,s,c,l){l.lineWidth=r,l.fillStyle=a,l.strokeStyle=a,i+=r/2,n+=r/2,o-=r,Array.isArray(s)||(s=[s,s,s,s]),s=s.map(function(h){return h=Math.min(h,o/2),h<0?0:h});var u=s[0]||0,d=s[1]||0,f=s[2]||0,p=s[3]||0;l.beginPath(),l.moveTo(n+u,i),l.lineTo(n+o-d,i),d&&l.quadraticCurveTo(n+o,i,n+o,i+d),l.lineTo(n+o,i+o-f),f&&l.quadraticCurveTo(n+o,i+o,n+o-f,i+o),l.lineTo(n+p,i+o),p&&l.quadraticCurveTo(n,i+o,n,i+o-p),l.lineTo(n,i+u),u&&l.quadraticCurveTo(n,i,n+u,i),l.closePath(),l.stroke(),c&&l.fill()},e.prototype.drawPositioningPattern=function(r,n,i,o,a,s,c){c===void 0&&(c=[0,0,0,0]);var l=Math.ceil(n),u,d;typeof c!="number"&&!Array.isArray(c)?(u=c.outer||0,d=c.inner||0):(u=c,d=u);var f,p;typeof s!="string"?(f=s.outer,p=s.inner):(f=s,p=s);var h=o*n+i,b=a*n+i,_=n*7;this.drawRoundedSquare(l,b,h,_,f,u,!1,r),_=n*3,h+=n*2,b+=n*2,this.drawRoundedSquare(l,b,h,_,p,d,!0,r)},e.prototype.isInPositioninZone=function(r,n,i){return i.some(function(o){return n>=o.row&&n<=o.row+7&&r>=o.col&&r<=o.col+7})},e.prototype.transformPixelLengthIntoNumberOfCells=function(r,n){return r/n},e.prototype.isCoordinateInImage=function(r,n,i,o,a,s,c,l){if(l){var u=2,d=this.transformPixelLengthIntoNumberOfCells(a,c),f=this.transformPixelLengthIntoNumberOfCells(s,c),p=this.transformPixelLengthIntoNumberOfCells(i,c)-1,h=this.transformPixelLengthIntoNumberOfCells(o,c)-1;return n>=d-u&&n<=d+p+u&&r>=f-u&&r<=f+h+u}else return!1},e.prototype.shouldComponentUpdate=function(r){return!enr(this.props,r)},e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.update=function(){var r,n=this.props,i=n.value,o=n.ecLevel,a=n.enableCORS,s=n.bgColor,c=n.fgColor,l=n.logoImage,u=n.logoOpacity,d=n.logoOnLoad,f=n.removeQrCodeBehindLogo,p=n.qrStyle,h=n.eyeRadius,b=n.eyeColor,_=n.logoPaddingStyle,A=+this.props.size,C=+this.props.quietZone,R=this.props.logoWidth?+this.props.logoWidth:0,M=this.props.logoHeight?+this.props.logoHeight:0,U=this.props.logoPadding?+this.props.logoPadding:0,F=tnr(0,o);F.addData(this.utf16to8(i)),F.make();var z=(r=this.canvasRef)===null||r===void 0?void 0:r.current,N=z.getContext("2d"),k=A+2*C,O=F.getModuleCount(),w=A/O,S=window.devicePixelRatio||1;z.height=z.width=k*S,N.scale(S,S),N.fillStyle=s,N.fillRect(0,0,k,k);var T=C,m=[{row:0,col:0},{row:0,col:O-7},{row:O-7,col:0}];if(N.strokeStyle=c,p==="dots"){N.fillStyle=c;for(var y=w/2,E=0;E<O;E++)for(var v=0;v<O;v++)F.isDark(E,v)&&!this.isInPositioninZone(E,v,m)&&(N.beginPath(),N.arc(Math.round(v*w)+y+T,Math.round(E*w)+y+T,y/100*75,0,2*Math.PI,!1),N.closePath(),N.fill())}else if(p==="fluid"){for(var y=Math.ceil(w/2),E=0;E<O;E++)for(var v=0;v<O;v++)if(F.isDark(E,v)&&!this.isInPositioninZone(E,v,m)){var x=[!1,!1,!1,!1];E>0&&!F.isDark(E-1,v)&&v>0&&!F.isDark(E,v-1)&&(x[0]=!0),E>0&&!F.isDark(E-1,v)&&v<O-1&&!F.isDark(E,v+1)&&(x[1]=!0),E<O-1&&!F.isDark(E+1,v)&&v<O-1&&!F.isDark(E,v+1)&&(x[2]=!0),E<O-1&&!F.isDark(E+1,v)&&v>0&&!F.isDark(E,v-1)&&(x[3]=!0);var g=Math.ceil((v+1)*w)-Math.floor(v*w),P=Math.ceil((E+1)*w)-Math.floor(E*w);N.fillStyle=c,N.beginPath(),N.arc(Math.round(v*w)+y+T,Math.round(E*w)+y+T,y,0,2*Math.PI,!1),N.closePath(),N.fill(),x[0]||N.fillRect(Math.round(v*w)+T,Math.round(E*w)+T,g/2,P/2),x[1]||N.fillRect(Math.round(v*w)+T+Math.floor(g/2),Math.round(E*w)+T,g/2,P/2),x[2]||N.fillRect(Math.round(v*w)+T+Math.floor(g/2),Math.round(E*w)+T+Math.floor(P/2),g/2,P/2),x[3]||N.fillRect(Math.round(v*w)+T,Math.round(E*w)+T+Math.floor(P/2),g/2,P/2)}}else for(var E=0;E<O;E++)for(var v=0;v<O;v++)if(F.isDark(E,v)&&!this.isInPositioninZone(E,v,m)){N.fillStyle=c;var g=Math.ceil((v+1)*w)-Math.floor(v*w),P=Math.ceil((E+1)*w)-Math.floor(E*w);N.fillRect(Math.round(v*w)+T,Math.round(E*w)+T,g,P)}for(var B=0;B<3;B++){var I=m[B],E=I.row,v=I.col,L=h,G=void 0;Array.isArray(L)&&(L=L[B]),typeof L=="number"&&(L=[L,L,L,L]),b?Array.isArray(b)?G=b[B]:G=b:G=c,this.drawPositioningPattern(N,w,T,E,v,G,L)}if(l){var H=new Image;a&&(H.crossOrigin="Anonymous"),H.onload=function($){N.save();var K=R||A*.2,W=M||K,J=(A-K)/2,X=(A-W)/2;if(f||U){N.beginPath(),N.strokeStyle=s,N.fillStyle=s;var te=K+2*U,re=W+2*U,le=J+T-U,ce=X+T-U;if(_==="circle"){var ae=le+te/2,xe=ce+re/2;N.ellipse(ae,xe,te/2,re/2,0,0,2*Math.PI),N.stroke(),N.fill()}else N.fillRect(le,ce,te,re)}N.globalAlpha=u,N.drawImage(H,J+T,X+T,K,W),N.restore(),d&&d($)},H.src=l}},e.prototype.render=function(){var r,n=+this.props.size+2*+this.props.quietZone;return rpe.createElement("canvas",{id:(r=this.props.id)!==null&&r!==void 0?r:"react-qrcode-logo",height:n,width:n,style:npe({height:n+"px",width:n+"px"},this.props.style),ref:this.canvasRef})},e.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},e})(rpe.Component);Gy.QRCode=rnr});var Ert={};lr(Ert,{default:()=>Eir,modal:()=>wrt,passwordless:()=>vrt});var wrt,vrt,Eir,xrt=D(()=>{wrt={"adapter-loader.message":"Best\xE4tigen Sie Ihr {{adapter}}-Konto, um fortzufahren","adapter-loader.message1":"Best\xE4tigen Sie Ihr {{adapter}}","adapter-loader.message2":"Konto fortzusetzen",allChains:"Alle Kettens","connect-wallet.more-wallets":"Mehr Wallets",connectYourWallet:"Ihre Wallet verbinden","errors-invalid-email":"Ung\xFCltige E-Mail","errors-invalid-number":"Ung\xFCltige Telefonnummer","errors-invalid-number-email":"Ung\xFCltige E-Mail-Adresse oder Telefonnummer","errors-required":"Erforderlich","external.all-wallets":"Alle Geldb\xF6rsen","external.back":"Zur\xFCck","external.connect":"Fahren Sie mit einer Brieftasche fort","external.connect-wallet":"Wallet verbinden","external.continue":"Fahren Sie mit der externen Wallet fort","external.continue-custom":"Fahren Sie mit {{wallet}} fort","external.dont-have":"Haben nicht","external.get":"Erhalten","external.get-wallet":"Wallet erhalten","external.install-browser-extension":"Installieren Sie die {{browser}}-Erweiterung","external.install-mobile-app":"Installieren Sie die {{os}}-App","external.installed":"Installiert","external.no-wallets-found":"Keine Wallets gefunden","external.search-subtext":"Versuchen Sie es stattdessen mit der Suche","external.search-text":"Sie sehen Ihr Portemonnaie nicht?","external.search-wallet":"Suche durch {{count}} Geldb\xF6rsen...","external.select-chain":"Kette ausw\xE4hlen","external.select-chain-description":"Diese {{wallet}}-Brieftasche unterst\xFCtzt mehrere Ketten. W\xE4hlen Sie die Kette aus, mit der Sie verbinden m\xF6chten","external.title":"Externe Geldb\xF6rse","external.walletconnect-connect":"Verbinden","external.walletconnect-copy":"Scannen Sie den QR-Code mit einer WalletConnect-kompatiblen Geldb\xF6rse oder klicken Sie, um den Link zu kopieren","external.walletconnect-subtitle":"Scannen Sie den QR-Code mit einer WalletConnect-kompatiblen Geldb\xF6rse","footer.and":"und","footer.by-signing-in":"Durch das Anmelden stimmen Sie unseren","footer.message":"Selbstverwahrungs-Login durch","footer.message-new":"Selbstversorgung \xFCber","footer.policy":"Datenschutzrichtlinie","footer.privacy-policy":"Datenschutzerkl\xE4rung","footer.terms":"Nutzungsbedingungen","footer.terms-of-service":"Nutzungsbedingungen","footer.terms-service":"Nutzungsbedingungen","footer.version":"Versio\u0301n",getWallet:"Wallet holen","header-subtitle":"W\xE4hlen Sie eine der folgenden Optionen aus, um fortzufahren","header-subtitle-name":"Ihre {{appName}}-Brieftasche mit einem Klick","header-subtitle-new":"Ihre Blockchain-Brieftasche mit einem Klick","header-title":"Einloggen","header-tooltip-desc":"Die Brieftasche dient als Konto zum Speichern und Verwalten Ihrer digitalen Assets auf der Blockchain.","header-tooltip-title":"Brieftasche","network.add-request":"Diese Website fordert das Hinzuf\xFCgen eines Netzwerks an","network.cancel":"Abbrechen","network.from":"Von","network.proceed":"Fortfahren","network.switch-request":"Diese Website fordert einen Netzwerkwechsel an","network.to":"Zu","otp.email-subtext":"Bitte geben Sie den 6-stelligen \xDCberpr\xFCfungscodes ein","otp.email-subtext-example":"die an Ihre E-Mail {{email}} gesendet wurde","otp.email-title":"Email-\xDCberpr\xFCfung","otp.mobile-subtext":"Geben Sie den OTP ein, der an","otp.mobile-title":"OTP-\xDCberpr\xFCfung","otp.success":"Sie sind mit Ihrem Konto verbunden!","passkey.add":"Passkey hinzuf\xFCgen","passkey.haveExisting":"Haben Sie bereits einen passkey?","passkey.learn-more":"Erfahren Sie mehr","passkey.or":"oder","passkey.register-desc":"Mit passkeys k\xF6nnen Sie Ihre Identit\xE4t durch Ihr Gesicht, Ihren Fingerabdruck oder Sicherheitsschl\xFCssel \xFCberpr\xFCfen.","passkey.register-title":"Registrieren Sie Passkey","passkey.use":"Ich habe einen passkey","passwordless.title":"Mit {{title}} fortfahren","popup.phone-body":"Ihr L\xE4ndercode wird automatisch erkannt, aber wenn Sie eine Telefonnummer aus einem anderen Land verwenden, m\xFCssen Sie den richtigen L\xE4ndercode manuell eingeben.","popup.phone-header":"Telefonnummer und L\xE4ndercode","post-loading.connected":"Sie sind mit Ihrem Konto verbunden","post-loading.something-wrong":"Etwas ist schief gelaufen!",resendCode:"Code erneut senden",resendTimer:" {{timer}} Sekunden sp\xE4ter erneut senden","social.continue":"Weitermachen mit","social.continueCustom":"Fahren Sie mit {{adapter}} fort","social.email":"E-Mail","social.email-continue":"Weitermachen mit E-Mail","social.email-new":"name@example.com","social.passwordless-cta":"Weitermachen","social.passwordless-login":"Anmeldung","social.passwordless-title":"E-Mail/Telefon","social.phone":"Telefon","social.policy":"Wir speichern keine Daten im Zusammenhang mit Ihren Social Logins.","social.sign-in":"Anmelden","social.sms":"Mobiltelefon","social.sms-continue":"Mit Mobilger\xE4t fortfahren","social.sms-invalid-number":"Ung\xFCltige Telefonnummer","social.sms-placeholder-text":"Z.B.:","social.view-less":"Weniger anzeigen","social.view-less-socials":"Weniger anzeigen socials","social.view-more":"Mehr anzeigen","social.view-more-socials":"Weitere socials anzeigen"},vrt={"error-invalid-link":"Ung\xFCltiger \xDCberpr\xFCfungsverbindung oder Link ist abgelaufen","error-invalid-origin":"Etwas ist schief gelaufen, Fehlercode: E002","error-invalid-otp":"Ung\xFCltiges OTP, bitte versuchen Sie es erneut","error-invalid-params":"Fehlende oder ung\xFCltige Parameter","error-max-retry-limit-reached":"Sie haben die Grenze f\xFCr falsche Versuche erreicht. Bitte starten Sie den Fluss erneut neu, um die \xDCberpr\xFCfung abzuschlie\xDFen.","error-new-link-generated-heading":"Neuer Verifizierungslink","error-no-mail-generated":"Keine Mail generiert. Bitte initiieren Sie zuerst den passwortlosen Fluss.","error-no-sms-generated":"Kein OTP erzeugt. Bitte initiieren Sie zuerst den passwortlosen Fluss.","error-otp-expired":"OTP abgelaufen","error-plan-limit-reached":"E411. Grenze erreicht","error-recaptcha-verification-failed":"Die Captcha-\xDCberpr\xFCfung ist fehlgeschlagen. Bitte versuchen Sie es erneut.","error-sending-sms-failed":"Es gab einen Fehler beim Senden einer SMS. Bitte versuche es erneut.","error-invalid-test-account":"Ung\xFCltiges Testkonto","something-wrong-error":"Etwas ist schief gelaufen"},Eir={modal:wrt,passwordless:vrt}});var _rt={};lr(_rt,{default:()=>xir,modal:()=>Art,passwordless:()=>Trt});var Art,Trt,xir,Srt=D(()=>{Art={"adapter-loader.message":"{{adapter}} \u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u78BA\u8A8D\u3057\u3066\u7D9A\u884C\u3059\u308B","adapter-loader.message1":"{{adapter}} \u3092\u78BA\u8A8D\u3059\u308B","adapter-loader.message2":"\u7D9A\u884C\u3059\u308B\u30A2\u30AB\u30A6\u30F3\u30C8",allChains:"\u3059\u3079\u3066\u306E\u30C1\u30A7\u30FC\u30F3","connect-wallet.more-wallets":"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u3082\u3063\u3068\u898B\u308B",connectYourWallet:"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u63A5\u7D9A","errors-invalid-email":"\u7121\u52B9\u306A\u96FB\u5B50\u30E1\u30FC\u30EB","errors-invalid-number":"\u7121\u52B9\u306A\u96FB\u8A71\u756A\u53F7","errors-invalid-number-email":"\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u307E\u305F\u306F\u96FB\u8A71\u756A\u53F7","errors-required":"\u5FC5\u9808","external.all-wallets":"\u3059\u3079\u3066\u306E\u30A6\u30A9\u30EC\u30C3\u30C8","external.back":"\u623B\u308B","external.connect":"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u7D9A\u3051\u308B","external.connect-wallet":"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u63A5\u7D9A","external.continue":"\u5916\u90E8\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u7D9A\u884C\u3059\u308B","external.continue-custom":"{{wallet}}\u3092\u7D9A\u3051\u307E\u3059","external.dont-have":"\u6301\u3063\u3066\u3044\u306A\u3044","external.get":"\u53D6\u5F97","external.get-wallet":"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u53D6\u5F97","external.install-browser-extension":"{{browser}} \u62E1\u5F35\u6A5F\u80FD\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","external.install-mobile-app":"{{os}}\u30A2\u30D7\u30EA\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB","external.installed":"\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u6E08\u307F","external.no-wallets-found":"\u30A6\u30A9\u30EC\u30C3\u30C8\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093","external.search-subtext":"\u4EE3\u308F\u308A\u306B\u691C\u7D22\u3057\u3066\u307F\u3066\u304F\u3060\u3055\u3044","external.search-text":"\u8CA1\u5E03\u304C\u898B\u3048\u307E\u305B\u3093\u304B\uFF1F","external.search-wallet":"{{count}} \u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u691C\u7D22...","external.select-chain":"\u30C1\u30A7\u30FC\u30F3\u3092\u9078\u629E","external.select-chain-description":"\u3053\u306E {{wallet}} \u30A6\u30A9\u30EC\u30C3\u30C8\u306F\u8907\u6570\u306E\u30C1\u30A7\u30FC\u30F3\u3092\u30B5\u30DD\u30FC\u30C8\u3057\u3066\u3044\u307E\u3059\u3002\u63A5\u7D9A\u3057\u305F\u3044\u30C1\u30A7\u30FC\u30F3\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044","external.title":"\u5916\u90E8\u30A6\u30A9\u30EC\u30C3\u30C8","external.walletconnect-connect":"\u63A5\u7D9A\u3059\u308B","external.walletconnect-copy":"WalletConnect \u304C\u30B5\u30DD\u30FC\u30C8\u3059\u308B\u30A6\u30A9\u30EC\u30C3\u30C8\u3067 QR \u30B3\u30FC\u30C9\u3092\u30B9\u30AD\u30E3\u30F3\u3059\u308B\u304B\u3001\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30B3\u30D4\u30FC\u3057\u307E\u3059\u3002","external.walletconnect-subtitle":"WalletConnect\u5BFE\u5FDC\u30A6\u30A9\u30EC\u30C3\u30C8\u3067QR\u30B3\u30FC\u30C9\u3092\u30B9\u30AD\u30E3\u30F3\u3057\u3066\u304F\u3060\u3055\u3044","footer.and":"\u304A\u3088\u3073","footer.by-signing-in":"\u30B5\u30A4\u30F3\u30A4\u30F3\u3059\u308B\u3068\u3001\u79C1\u305F\u3061\u306E","footer.message":"\u81EA\u5DF1\u4FDD\u7BA1\u30ED\u30B0\u30A4\u30F3 by","footer.message-new":"\u7D4C\u7531\u306E\u81EA\u7ACB","footer.policy":"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC","footer.privacy-policy":"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC","footer.terms":"\u5229\u7528\u898F\u7D04","footer.terms-of-service":"\u5229\u7528\u898F\u7D04","footer.terms-service":"\u5229\u7528\u898F\u7D04","footer.version":"\u30D0\u30FC\u30B8\u30E7\u30F3",getWallet:"\u30A6\u30A9\u30EC\u30C3\u30C8\u3092\u53D6\u5F97","header-subtitle":"\u7D9A\u884C\u3059\u308B\u305F\u3081\u306B\u4EE5\u4E0B\u306E\u30AA\u30D7\u30B7\u30E7\u30F3\u306E\u3044\u305A\u308C\u304B\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044","header-subtitle-name":"\u30EF\u30F3\u30AF\u30EA\u30C3\u30AF\u3067 {{appName}} \u30A6\u30A9\u30EC\u30C3\u30C8","header-subtitle-new":"\u30EF\u30F3\u30AF\u30EA\u30C3\u30AF\u3067\u3042\u306A\u305F\u306E\u30D6\u30ED\u30C3\u30AF\u30C1\u30A7\u30FC\u30F3\u30A6\u30A9\u30EC\u30C3\u30C8","header-title":"\u30ED\u30B0\u30A4\u30F3","header-tooltip-desc":"\u30A6\u30A9\u30EC\u30C3\u30C8\u306F\u3001\u30D6\u30ED\u30C3\u30AF\u30C1\u30A7\u30FC\u30F3\u4E0A\u3067\u30C7\u30B8\u30BF\u30EB\u8CC7\u7523\u3092\u4FDD\u5B58\u304A\u3088\u3073\u7BA1\u7406\u3059\u308B\u305F\u3081\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u3068\u3057\u3066\u6A5F\u80FD\u3057\u307E\u3059\u3002","header-tooltip-title":"\u30A6\u30A9\u30EC\u30C3\u30C8","network.add-request":"\u3053\u306E\u30B5\u30A4\u30C8\u306F\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306E\u8FFD\u52A0\u3092\u30EA\u30AF\u30A8\u30B9\u30C8\u3057\u3066\u3044\u307E\u3059","network.cancel":"\u30AD\u30E3\u30F3\u30BB\u30EB","network.from":"\u304B\u3089","network.proceed":"\u9032\u3080","network.switch-request":"\u3053\u306E\u30B5\u30A4\u30C8\u306F\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306E\u5207\u308A\u66FF\u3048\u3092\u8981\u6C42\u3057\u3066\u3044\u307E\u3059","network.to":"\u3078","otp.email-subtext":"6\u6841\u306E\u691C\u8A3C\u30B3\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044","otp.email-subtext-example":"{{email}}\u306B\u9001\u4FE1\u3055\u308C\u305F\u3082\u306E\u3067\u3059","otp.email-title":"\u30E1\u30FC\u30EB \u691C\u8A3C","otp.mobile-subtext":"OTP \u691C\u8A3C","otp.mobile-title":"OTP \u691C\u8A3C","otp.success":"\u3042\u306A\u305F\u306F\u3042\u306A\u305F\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u306B\u63A5\u7D9A\u3055\u308C\u3066\u3044\u307E\u3059!","passkey.add":"{\u30D1\u30B9}\u3092\u8FFD\u52A0","passkey.haveExisting":"\u65E2\u5B58\u306E passkey \u3092\u304A\u6301\u3061\u3067\u3059\u304B?","passkey.learn-more":"\u3082\u3063\u3068\u8A73\u3057\u304F\u77E5\u308B","passkey.or":"\u307E\u305F\u306F","passkey.register-desc":"passkeys \u3092\u4F7F\u7528\u3059\u308B\u3068\u3001\u9854\u3001\u6307\u7D0B\u3001\u307E\u305F\u306F\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3 \u30AD\u30FC\u3092\u4F7F\u7528\u3057\u3066\u672C\u4EBA\u78BA\u8A8D\u3092\u884C\u3046\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002","passkey.register-title":"Passkey \u3092\u767B\u9332\u3059\u308B","passkey.use":"Passkey \u3092\u6301\u3063\u3066\u3044\u307E\u3059","passwordless.title":"{{title}} \u3067\u7D9A\u884C","popup.phone-body":"\u56FD\u30B3\u30FC\u30C9\u306F\u81EA\u52D5\u7684\u306B\u691C\u51FA\u3055\u308C\u307E\u3059\u304C\u3001\u7570\u306A\u308B\u56FD\u306E\u96FB\u8A71\u756A\u53F7\u3092\u4F7F\u7528\u3059\u308B\u5834\u5408\u306F\u3001\u6B63\u3057\u3044\u56FD\u30B3\u30FC\u30C9\u3092\u624B\u52D5\u3067\u5165\u529B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002","popup.phone-header":"\u96FB\u8A71\u756A\u53F7\u3068\u56FD\u30B3\u30FC\u30C9","post-loading.connected":"\u30A2\u30AB\u30A6\u30F3\u30C8\u306B\u63A5\u7D9A\u3055\u308C\u3066\u3044\u307E\u3059","post-loading.something-wrong":"\u4F55\u304B\u304C\u3046\u307E\u304F\u3044\u304B\u306A\u304B\u3063\u305F\uFF01",resendCode:"\u30B3\u30FC\u30C9\u3092\u518D\u9001\u4FE1",resendTimer:" {{timer}} \u79D2\u5F8C\u306B\u518D\u9001\u4FE1","social.continue":"\u7D9A\u3051\u308B","social.continueCustom":"{{adapter}}\u3092\u7D9A\u3051\u307E\u3059","social.email":"E\u30E1\u30FC\u30EB","social.email-continue":"\u30E1\u30FC\u30EB\u3067\u7D9A\u884C","social.email-new":"name@example.com","social.passwordless-cta":"\u7D9A\u3051\u308B","social.passwordless-login":"\u30ED\u30B0\u30A4\u30F3","social.passwordless-title":"\u30E1\u30FC\u30EB/\u96FB\u8A71","social.phone":"\u96FB\u8A71","social.policy":"\u30BD\u30FC\u30B7\u30E3\u30EB\u30ED\u30B0\u30A4\u30F3\u306B\u95A2\u9023\u3059\u308B\u30C7\u30FC\u30BF\u306F\u4FDD\u5B58\u3055\u308C\u307E\u305B\u3093\u3002","social.sign-in":"\u30ED\u30B0\u30A4\u30F3","social.sms":"\u30E2\u30D0\u30A4\u30EB","social.sms-continue":"\u30E2\u30D0\u30A4\u30EB\u3067\u7D9A\u884C","social.sms-invalid-number":"\u7121\u52B9\u306A\u96FB\u8A71\u756A\u53F7","social.sms-placeholder-text":"\u4F8B:","social.view-less":"\u8868\u793A\u304C\u5C11\u306A\u304F\u306A\u308A\u307E\u3059","social.view-less-socials":"\u8868\u793A\u3092\u6E1B\u3089\u3059 socials","social.view-more":"\u3082\u3063\u3068\u898B\u308B","social.view-more-socials":"\u3082\u3063\u3068\u898B\u308B socials"},Trt={"error-invalid-link":"\u7121\u52B9\u306A\u691C\u8A3C\u30EA\u30F3\u30AF\u307E\u305F\u306F\u30EA\u30F3\u30AF\u304C\u671F\u9650\u5207\u308C\u306B\u306A\u308A\u307E\u3057\u305F","error-invalid-origin":"\u4F55\u304B\u304C\u3046\u307E\u304F\u3044\u304B\u306A\u304B\u3063\u305F, \u30A8\u30E9\u30FC\u30B3\u30FC\u30C9: E002","error-invalid-otp":"\u7121\u52B9\u306AOTP\u3001\u3082\u3046\u4E00\u5EA6\u3084\u308A\u76F4\u3057\u3066\u304F\u3060\u3055\u3044","error-invalid-params":"\u30D1\u30E9\u30E1\u30FC\u30BF\u30FC\u306E\u6B20\u843D\u307E\u305F\u306F\u7121\u52B9\u306A\u30D1\u30E9\u30E1\u30FC\u30BF\u30FC","error-max-retry-limit-reached":"\u9593\u9055\u3063\u305F\u8A66\u307F\u306E\u5236\u9650\u306B\u9054\u3057\u307E\u3057\u305F\u3002\u78BA\u8A8D\u3092\u5B8C\u4E86\u3059\u308B\u306B\u306F\u3001\u30D5\u30ED\u30FC\u3092\u3082\u3046\u4E00\u5EA6\u518D\u8D77\u52D5\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-new-link-generated-heading":"\u65B0\u3057\u3044\u691C\u8A3C\u30EA\u30F3\u30AF\u304C\u751F\u6210\u3055\u308C\u307E\u3057\u305F","error-no-mail-generated":"\u30E1\u30FC\u30EB\u304C\u751F\u6210\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u6700\u521D\u306B\u30D1\u30B9\u30EF\u30FC\u30C9\u30EC\u30B9\u30D5\u30ED\u30FC\u3092\u958B\u59CB\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-no-sms-generated":"OTP\u751F\u6210\u306F\u3042\u308A\u307E\u305B\u3093\u3002\u6700\u521D\u306B\u30D1\u30B9\u30EF\u30FC\u30C9\u30EC\u30B9\u30D5\u30ED\u30FC\u3092\u958B\u59CB\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-otp-expired":"OTP\u306E\u6709\u52B9\u671F\u9650\u304C\u5207\u308C\u307E\u3057\u305F","error-plan-limit-reached":"E411. \u5236\u9650\u306B\u9054\u3057\u307E\u3057\u305F","error-recaptcha-verification-failed":"Captcha \u691C\u8A3C\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u8A66\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-sending-sms-failed":"SMS\u306E\u9001\u4FE1\u30A8\u30E9\u30FC\u304C\u3042\u308A\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u3084\u308A\u76F4\u3057\u3066\u304F\u3060\u3055\u3044\u3002","error-invalid-test-account":"\u7121\u52B9\u306A\u30C6\u30B9\u30C8\u30A2\u30AB\u30A6\u30F3\u30C8","something-wrong-error":"\u4F55\u304B\u304C\u3046\u307E\u304F\u3044\u304B\u306A\u304B\u3063\u305F"},xir={modal:Art,passwordless:Trt}});var Rrt={};lr(Rrt,{default:()=>Air,modal:()=>Irt,passwordless:()=>Crt});var Irt,Crt,Air,Prt=D(()=>{Irt={"adapter-loader.message":"\uACC4\uC18D\uD558\uB824\uBA74 {{adapter}} \uACC4\uC815\uC744 \uC778\uC99D\uD558\uC138\uC694","adapter-loader.message1":"{{adapter}}\uB97C \uC778\uC99D\uD558\uC138\uC694","adapter-loader.message2":"\uACC4\uC18D\uD560 \uACC4\uC815",allChains:"\uBAA8\uB4E0 \uCCB4\uC778","connect-wallet.more-wallets":"\uB354 \uB9CE\uC740 \uC9C0\uAC11",connectYourWallet:"\uC9C0\uAC11 \uC5F0\uACB0","errors-invalid-email":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC774\uBA54\uC77C","errors-invalid-number":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC804\uD654\uBC88\uD638","errors-invalid-number-email":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC774\uBA54\uC77C \uB610\uB294 \uC804\uD654\uBC88\uD638","errors-required":"\uD544\uC218","external.all-wallets":"\uBAA8\uB4E0 \uC9C0\uAC11","external.back":"\uB4A4\uB85C","external.connect":"\uC9C0\uAC11\uC73C\uB85C \uACC4\uC18D\uD558\uAE30","external.connect-wallet":"\uC9C0\uAC11 \uC5F0\uACB0","external.continue":"\uC678\uBD80 \uC9C0\uAC11\uC73C\uB85C \uACC4\uC18D\uD558\uAE30","external.continue-custom":"{{wallet}}\uB85C \uACC4\uC18D\uD558\uAE30","external.dont-have":"\uC5C6\uC74C","external.get":"\uBC1B\uAE30","external.get-wallet":"\uC9C0\uAC11 \uBC1B\uAE30","external.install-browser-extension":"{{browser}} \uD655\uC7A5 \uD504\uB85C\uADF8\uB7A8 \uC124\uCE58","external.install-mobile-app":"{{os}} \uC571 \uC124\uCE58","external.installed":"\uC124\uCE58 \uC644\uB8CC","external.no-wallets-found":"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.","external.search-subtext":"\uAC80\uC0C9\uD574\uBCF4\uC138\uC694","external.search-text":"\uC9C0\uAC11\uC774 \uBCF4\uC774\uC9C0 \uC54A\uB098\uC694?","external.search-wallet":"{{count}}\uAC1C\uC758 \uC9C0\uAC11\uC744 \uAC80\uC0C9 \uC911\uC785\uB2C8\uB2E4...","external.select-chain":"\uCCB4\uC778 \uC120\uD0DD","external.select-chain-description":"\uC774 {{wallet}} \uC9C0\uAC11\uC740 \uC5EC\uB7EC \uCCB4\uC778\uC744 \uC9C0\uC6D0\uD569\uB2C8\uB2E4. \uC5F0\uACB0\uD558\uB824\uB294 \uCCB4\uC778\uC744 \uC120\uD0DD\uD558\uC138\uC694","external.title":"\uC678\uBD80 \uC9C0\uAC11","external.walletconnect-connect":"\uC5F0\uACB0","external.walletconnect-copy":"WalletConnect \uD638\uD658 \uC9C0\uAC11\uC73C\uB85C QR \uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uAC70\uB098 \uB9C1\uD06C\uB97C \uD074\uB9AD\uD558\uC5EC \uBCF5\uC0AC\uD558\uC138\uC694.","external.walletconnect-subtitle":"WalletConnect \uD638\uD658 \uC9C0\uAC11\uC73C\uB85C QR \uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694","footer.and":"\uBC0F","footer.by-signing-in":"\uB85C\uADF8\uC778\uD558\uBA74 \uC6B0\uB9AC\uC758","footer.message":"\uC790\uAC00 \uAD00\uB9AC\uD615 \uB85C\uADF8\uC778","footer.message-new":"\uC140\uD504 \uCEE4\uC2A4\uD130\uB514","footer.policy":"\uAC1C\uC778\uC815\uBCF4 \uCC98\uB9AC\uBC29\uCE68","footer.privacy-policy":"\uAC1C\uC778\uC815\uBCF4 \uCDE8\uAE09 \uBC29\uCE68","footer.terms":"\uC774\uC6A9 \uC57D\uAD00","footer.terms-of-service":"\uC774\uC6A9 \uC57D\uAD00","footer.terms-service":"\uC11C\uBE44\uC2A4 \uC57D\uAD00","footer.version":"\uBC84\uC804",getWallet:"\uC9C0\uAC11 \uAC00\uC838\uC624\uAE30","header-subtitle":"\uACC4\uC18D\uD558\uB824\uBA74 \uB2E4\uC74C \uC911 \uD558\uB098\uB97C \uC120\uD0DD\uD558\uC138\uC694","header-subtitle-name":"\uD55C \uBC88\uC758 \uD074\uB9AD\uC73C\uB85C {{appName}} \uC9C0\uAC11 \uC774\uC6A9\uD558\uAE30","header-subtitle-new":"\uD55C \uBC88\uC758 \uD074\uB9AD\uC73C\uB85C \uBE14\uB85D\uCCB4\uC778 \uC9C0\uAC11 \uC774\uC6A9\uD558\uAE30","header-title":"\uB85C\uADF8\uC778","header-tooltip-desc":"\uC774 \uC9C0\uAC11\uC740 \uBE14\uB85D\uCCB4\uC778 \uC0C1\uC5D0\uC11C \uB514\uC9C0\uD138 \uC790\uC0B0\uC744 \uBCF4\uAD00\uD558\uACE0 \uAD00\uB9AC\uD558\uB294 \uB370 \uC0AC\uC6A9\uB418\uB294 \uACC4\uC815\uC785\uB2C8\uB2E4.","header-tooltip-title":"\uC9C0\uAC11","network.add-request":"\uC774 \uC0AC\uC774\uD2B8\uC5D0\uC11C \uB124\uD2B8\uC6CC\uD06C \uCD94\uAC00\uB97C \uC694\uCCAD\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4","network.cancel":"\uCDE8\uC18C","network.from":"\uBCF4\uB0B8 \uC0AC\uB78C","network.proceed":"\uACC4\uC18D","network.switch-request":"\uC774 \uC0AC\uC774\uD2B8\uC5D0\uC11C \uB124\uD2B8\uC6CC\uD06C \uC804\uD658\uC744 \uC694\uCCAD\uD558\uACE0 \uC788\uC2B5\uB2C8\uB2E4","network.to":"\uBC1B\uB294 \uC0AC\uB78C","otp.email-subtext":"6\uC790\uB9AC \uC778\uC99D \uCF54\uB4DC\uB97C \uC785\uB825\uD558\uC138\uC694","otp.email-subtext-example":"{{email}}\uC5D0 \uC804\uC1A1\uB41C \uAC83\uC785\uB2C8\uB2E4","otp.email-title":"\uC774\uBA54\uC77C \uAC80\uC99D","otp.mobile-subtext":"OTP \uAC80\uC99D","otp.mobile-title":"OTP \uAC80\uC99D","otp.success":"\uB2F9\uC2E0\uC740 \uB2F9\uC2E0\uC758 \uACC4\uC815\uC5D0 \uC5F0\uACB0\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4!","passkey.add":"Passkey \uCD94\uAC00","passkey.haveExisting":"\uAE30\uC874 passkey\uAC00 \uC788\uB098\uC694?","passkey.learn-more":"\uB354 \uC54C\uC544\uBCF4\uAE30","passkey.or":"\uB610\uB294","passkey.register-desc":"passkeys \uC0AC\uC6A9 \uC2DC \uC5BC\uAD74, \uC9C0\uBB38 \uB610\uB294 \uBCF4\uC548 \uD0A4\uB97C \uD1B5\uD574 \uBCF8\uC778\uC784\uC744 \uC778\uC99D\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.","passkey.register-title":"Passkey \uB4F1\uB85D","passkey.use":"\uAE30\uC874 Passkey \uC0AC\uC6A9\uD558\uAE30","passwordless.title":"{{title}} \uB85C \uACC4\uC18D\uD558\uAE30","popup.phone-body":"\uAD6D\uAC00 \uCF54\uB4DC\uB294 \uC790\uB3D9\uC73C\uB85C \uAC10\uC9C0\uB429\uB2C8\uB2E4. \uADF8\uB7EC\uB098 \uB2E4\uB978 \uAD6D\uAC00\uC758 \uC804\uD654\uBC88\uD638\uB97C \uC0AC\uC6A9\uD558\uB294 \uACBD\uC6B0, \uC62C\uBC14\uB978 \uAD6D\uAC00 \uCF54\uB4DC\uB97C \uC218\uB3D9\uC73C\uB85C \uC785\uB825\uD574\uC57C \uD569\uB2C8\uB2E4.","popup.phone-header":"\uC804\uD654\uBC88\uD638 \uBC0F \uAD6D\uAC00 \uCF54\uB4DC","post-loading.connected":"\uACC4\uC815\uC5D0 \uC5F0\uACB0\uB418\uC5C8\uC2B5\uB2C8\uB2E4","post-loading.something-wrong":"\uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4!",resendCode:"\uCF54\uB4DC \uB2E4\uC2DC \uBCF4\uB0B4\uAE30",resendTimer:" {{timer}} \uCD08 \uD6C4 \uB2E4\uC2DC \uBCF4\uB0B4\uAE30","social.continue":"\uACC4\uC18D\uD558\uAE30","social.continueCustom":"{{adapter}}\uB85C \uACC4\uC18D\uD558\uAE30","social.email":"\uC774\uBA54\uC77C","social.email-continue":"\uC774\uBA54\uC77C\uB85C \uACC4\uC18D\uD558\uAE30","social.email-new":"name@example.com","social.passwordless-cta":"\uACC4\uC18D","social.passwordless-login":"\uB85C\uADF8\uC778","social.passwordless-title":"\uC774\uBA54\uC77C/\uC804\uD654\uBC88\uD638","social.phone":"\uC804\uD654\uBC88\uD638","social.policy":"\uC800\uD76C\uB294 \uC18C\uC15C \uB85C\uADF8\uC778\uACFC \uAD00\uB828\uB41C \uC5B4\uB5A0\uD55C \uB370\uC774\uD130\uB3C4 \uC800\uC7A5\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.","social.sign-in":"\uB85C\uADF8\uC778","social.sms":"\uBAA8\uBC14\uC77C","social.sms-continue":"\uBAA8\uBC14\uC77C\uB85C \uACC4\uC18D\uD558\uAE30","social.sms-invalid-number":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC804\uD654\uBC88\uD638","social.sms-placeholder-text":"\uC608\uC2DC:","social.view-less":"\uAC04\uB7B5\uD788 \uBCF4\uAE30","social.view-less-socials":"Socials \uAC04\uB7B5\uD788 \uBCF4\uAE30","social.view-more":"\uB354\uBCF4\uAE30","social.view-more-socials":"Socials \uB354\uBCF4\uAE30"},Crt={"error-invalid-link":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC778\uC99D \uB9C1\uD06C\uC774\uAC70\uB098 \uB9C1\uD06C\uAC00 \uB9CC\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4","error-invalid-origin":"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4, \uC624\uB958 \uCF54\uB4DC: E002","error-invalid-otp":"\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 OTP\uC785\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.","error-invalid-params":"\uB204\uB77D\uB418\uC5C8\uAC70\uB098 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uC815\uBCF4\uC785\uB2C8\uB2E4.","error-max-retry-limit-reached":"\uC798\uBABB\uB41C \uC2DC\uB3C4 \uD69F\uC218\uB97C \uCD08\uACFC\uD588\uC2B5\uB2C8\uB2E4. \uC778\uC99D\uC744 \uC644\uB8CC\uD558\uB824\uBA74 \uC808\uCC28\uB97C \uB2E4\uC2DC \uC2DC\uC791\uD574 \uC8FC\uC138\uC694.","error-new-link-generated-heading":"\uC0C8 \uC778\uC99D \uB9C1\uD06C\uAC00 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","error-no-mail-generated":"\uBA54\uC77C\uC774 \uC0DD\uC131\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uBE44\uBC00\uBC88\uD638\uAC00 \uC5C6\uB294 \uC808\uCC28\uBD80\uD130 \uC2DC\uC791\uD574 \uC8FC\uC138\uC694.","error-no-sms-generated":"OTP\uAC00 \uC0DD\uC131\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uBE44\uBC00\uBC88\uD638\uAC00 \uC5C6\uB294 \uC808\uCC28\uBD80\uD130 \uC2DC\uC791\uD574 \uC8FC\uC138\uC694.","error-otp-expired":"OTP\uAC00 \uB9CC\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4","error-plan-limit-reached":"E411. \uC81C\uD55C\uC5D0 \uB3C4\uB2EC\uD588\uC2B5\uB2C8\uB2E4","error-recaptcha-verification-failed":"Captcha \uC778\uC99D\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.","error-sending-sms-failed":"SMS \uC804\uC1A1 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.","error-invalid-test-account":"\uC798\uBABB\uB41C \uD14C\uC2A4\uD2B8 \uACC4\uC815\uC785\uB2C8\uB2E4","something-wrong-error":"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4"},Air={modal:Irt,passwordless:Crt}});var krt={};lr(krt,{default:()=>Tir,modal:()=>Ort,passwordless:()=>Nrt});var Ort,Nrt,Tir,Mrt=D(()=>{Ort={"adapter-loader.message":"\u9A8C\u8BC1\u60A8\u7684{{adapter}}\u5E10\u6237\u4EE5\u7EE7\u7EED","adapter-loader.message1":"\u5728\u60A8\u7684{{adapter}}\u4E0A\u9A8C\u8BC1","adapter-loader.message2":"\u5E10\u53F7\u7EE7\u7EED",allChains:"\u6240\u6709\u94FE","connect-wallet.more-wallets":"\u67E5\u770B\u66F4\u591A\u94B1\u5305",connectYourWallet:"\u8FDE\u63A5\u60A8\u7684\u94B1\u5305","errors-invalid-email":"\u65E0\u6548\u7684\u7535\u5B50\u90AE\u4EF6","errors-invalid-number":"\u7535\u8BDD\u53F7\u7801\u65E0\u6548","errors-invalid-number-email":"\u65E0\u6548\u7684\u7535\u5B50\u90AE\u4EF6\u6216\u7535\u8BDD\u53F7\u7801","errors-required":"\u5FC5\u586B","external.all-wallets":"\u6240\u6709\u94B1\u5305","external.back":"\u8FD4\u56DE","external.connect":"\u7EE7\u7EED\u4F7F\u7528\u94B1\u5305","external.connect-wallet":"\u8FDE\u63A5\u94B1\u5305","external.continue":"\u7EE7\u7EED\u4F7F\u7528\u5916\u90E8\u94B1\u5305","external.continue-custom":"\u7EE7\u7EED\u4F7F\u7528{{wallet}}","external.dont-have":"\u6CA1\u6709","external.get":"\u83B7\u53D6","external.get-wallet":"\u83B7\u53D6\u94B1\u5305","external.install-browser-extension":"\u5B89\u88C5{{browser}}\u6269\u5C55","external.install-mobile-app":"\u5B89\u88C5{{os}}\u5E94\u7528","external.installed":"\u5DF2\u5B89\u88C5","external.no-wallets-found":"\u6CA1\u6709\u627E\u5230\u94B1\u5305","external.search-subtext":"\u5C1D\u8BD5\u6539\u4E3A\u641C\u7D22","external.search-text":"\u6CA1\u770B\u5230\u4F60\u7684\u94B1\u5305\u5417\uFF1F","external.search-wallet":"\u641C\u7D22{{count}}\u4E2A\u94B1\u5305...","external.select-chain":"\u9009\u62E9\u94FE","external.select-chain-description":"\u8FD9\u4E2A {{wallet}} \u94B1\u5305\u652F\u6301\u591A\u79CD\u94FE\u3002\u9009\u62E9\u60A8\u60F3\u8981\u8FDE\u63A5\u7684\u94FE","external.title":"\u5916\u90E8\u94B1\u5305","external.walletconnect-connect":"\u8FDE\u63A5","external.walletconnect-copy":"\u4F7F\u7528\u652F\u6301 WalletConnect \u7684\u94B1\u5305\u626B\u63CF QR \u7801\u6216\u70B9\u51FB\u590D\u5236\u94FE\u63A5","external.walletconnect-subtitle":"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF QR \u7801","footer.and":"\u548C","footer.by-signing-in":"\u767B\u5F55\u5373\u8868\u793A\u60A8\u540C\u610F\u6211\u4EEC\u7684","footer.message":"\u81EA\u6258\u7BA1\u767B\u5F55\u7531","footer.message-new":"\u81EA\u6211castody\u901A\u8FC7","footer.policy":"\u9690\u79C1\u653F\u7B56","footer.privacy-policy":"\u9690\u79C1\u653F\u7B56","footer.terms":"\u4F7F\u7528\u6761\u6B3E","footer.terms-of-service":"\u4F7F\u7528\u6761\u6B3E","footer.terms-service":"\u670D\u52A1\u6761\u6B3E","footer.version":"\u7248\u672C",getWallet:"\u83B7\u53D6\u94B1\u5305","header-subtitle":"\u9009\u62E9\u4EE5\u4E0B\u9009\u9879\u4EE5\u7EE7\u7EED","header-subtitle-name":"\u4E00\u952E\u70B9\u51FB\u60A8\u7684 {{appName}} \u94B1\u5305","header-subtitle-new":"\u4E00\u952E\u70B9\u51FB\u60A8\u7684\u533A\u5757\u94FE\u94B1\u5305","header-title":"\u767B\u5F55","header-tooltip-desc":"\u94B1\u5305\u4F5C\u4E3A\u4E00\u4E2A\u8D26\u6237\u7528\u4E8E\u5728\u533A\u5757\u94FE\u4E0A\u5B58\u50A8\u548C\u7BA1\u7406\u60A8\u7684\u6570\u5B57\u8D44\u4EA7\u3002","header-tooltip-title":"\u94B1\u5305","network.add-request":"\u6B64\u7AD9\u70B9\u6B63\u5728\u8BF7\u6C42\u6DFB\u52A0\u7F51\u7EDC","network.cancel":"\u53D6\u6D88","network.from":"\u4ECE","network.proceed":"\u7EE7\u7EED","network.switch-request":"\u6B64\u7AD9\u70B9\u6B63\u5728\u8BF7\u6C42\u5207\u6362\u7F51\u7EDC","network.to":"\u81F3","otp.email-subtext":"\u8BF7\u8F93\u51656\u4F4D\u9A8C\u8BC1\u7801","otp.email-subtext-example":"{{email}} \u53D1\u9001\u7684","otp.email-title":"\u7535\u5B50\u90AE\u4EF6\u9A8C\u8BC1","otp.mobile-subtext":"\u8F93\u5165 OTP \u9A8C\u8BC1","otp.mobile-title":"OTP \u9A8C\u8BC1","otp.success":"\u60A8\u5DF2\u8FDE\u63A5\u5230\u60A8\u7684\u5E10\u6237\uFF01","passkey.add":"\u6DFB\u52A0Passkey","passkey.haveExisting":"\u5DF2\u6709 passkey \u5417\uFF1F","passkey.learn-more":"\u4E86\u89E3\u66F4\u591A","passkey.or":"\u6216\u8005","passkey.register-desc":"\u4F7F\u7528passkeys\uFF0C\u60A8\u53EF\u4EE5\u901A\u8FC7\u9762\u90E8\u3001\u6307\u7EB9\u6216\u5B89\u5168\u5BC6\u94A5\u9A8C\u8BC1\u60A8\u7684\u8EAB\u4EFD\u3002","passkey.register-title":"\u6CE8\u518CPasskey","passkey.use":"\u6211\u6709\u4E00\u4E2APasskey","passwordless.title":"\u7EE7\u7EED\u4F7F\u7528 {{title}}","popup.phone-body":"\u60A8\u7684\u56FD\u5BB6\u4EE3\u7801\u5C06\u81EA\u52A8\u68C0\u6D4B\u5230\uFF0C\u4F46\u5982\u679C\u60A8\u4F7F\u7528\u5176\u4ED6\u56FD\u5BB6/\u5730\u533A\u7684\u7535\u8BDD\u53F7\u7801\uFF0C\u60A8\u9700\u8981\u624B\u52A8\u8F93\u5165\u6B63\u786E\u7684\u56FD\u5BB6\u4EE3\u7801\u3002","popup.phone-header":"\u7535\u8BDD\u53F7\u7801\u548C\u56FD\u5BB6\u4EE3\u7801","post-loading.connected":"\u60A8\u4E0E\u60A8\u7684\u5E10\u6237\u6709\u8054\u7CFB","post-loading.something-wrong":"\u51FA\u4E86\u4E9B\u95EE\u9898\uFF01",resendCode:"\u91CD\u65B0\u53D1\u9001\u4EE3\u7801",resendTimer:" {{timer}} \u79D2\u540E\u91CD\u65B0\u53D1\u9001","social.continue":"\u7EE7\u7EED","social.continueCustom":"\u7EE7\u7EED\u4F7F\u7528{{adapter}}","social.email":"\u7535\u5B50\u90AE\u4EF6","social.email-continue":"\u7EE7\u7EED\u4F7F\u7528\u7535\u5B50\u90AE\u4EF6","social.email-new":"name@example.com","social.passwordless-cta":"\u7EE7\u7EED","social.passwordless-login":"\u767B\u5F55","social.passwordless-title":"\u7535\u5B50\u90AE\u4EF6/\u7535\u8BDD","social.phone":"\u7535\u8BDD","social.policy":"\u6211\u4EEC\u4E0D\u5B58\u50A8\u4E0E\u60A8\u7684\u793E\u4EA4\u767B\u5F55\u76F8\u5173\u7684\u4EFB\u4F55\u6570\u636E\u3002","social.sign-in":"\u767B\u5F55","social.sms":"\u79FB\u52A8","social.sms-continue":"\u7EE7\u7EED\u4F7F\u7528\u79FB\u52A8\u8BBE\u5907","social.sms-invalid-number":"\u65E0\u6548\u7684\u7535\u8BDD\u53F7\u7801","social.sms-placeholder-text":"\u4F8B\u5982\uFF1A","social.view-less":"\u5C11\u67E5\u770B","social.view-less-socials":"\u67E5\u770B\u66F4\u5C11socials","social.view-more":"\u67E5\u770B\u66F4\u591A","social.view-more-socials":"\u67E5\u770B\u66F4\u591Asocials"},Nrt={"error-invalid-link":"\u65E0\u6548\u7684\u9A8C\u8BC1\u94FE\u63A5\u6216\u94FE\u63A5\u5DF2\u8FC7\u671F","error-invalid-origin":"\u51FA\u95EE\u9898\u4E86, \u9519\u8BEF\u4EE3\u7801: E002","error-invalid-otp":"\u65E0\u6548\u7684OTP\uFF0C\u8BF7\u91CD\u8BD5","error-invalid-params":"\u7F3A\u5931\u6216\u65E0\u6548\u53C2\u6570","error-max-retry-limit-reached":"\u60A8\u5DF2\u7ECF\u8FBE\u5230\u4E86\u9519\u8BEF\u7684\u5C1D\u8BD5\u7684\u6781\u9650\u3002\u8BF7\u518D\u6B21\u91CD\u65B0\u542F\u52A8\u6D41\u7A0B\u4EE5\u5B8C\u6210\u9A8C\u8BC1\u3002","error-new-link-generated-heading":"\u751F\u6210\u7684\u65B0\u9A8C\u8BC1\u94FE\u63A5","error-no-mail-generated":"\u6CA1\u6709\u751F\u6210\u90AE\u4EF6\u3002\u8BF7\u5148\u542F\u52A8\u65E0\u5BC6\u7801\u6D41\u3002","error-no-sms-generated":"\u6CA1\u6709\u751F\u6210OTP\u3002\u8BF7\u5148\u542F\u52A8\u65E0\u5BC6\u7801\u6D41\u3002","error-otp-expired":"OTP\u8FC7\u671F","error-plan-limit-reached":"E411. \u9650\u5236\u5DF2\u8FBE\u5230","error-recaptcha-verification-failed":"Captcha \u9A8C\u8BC1\u5931\u8D25\u3002\u8BF7\u518D\u8BD5\u4E00\u6B21\u3002","error-sending-sms-failed":"\u53D1\u9001\u77ED\u4FE1\u7684\u9519\u8BEF\u3002\u8BF7\u518D\u8BD5\u4E00\u904D\u3002","error-invalid-test-account":"\u6D4B\u8BD5\u8D26\u6237\u65E0\u6548","something-wrong-error":"\u51FA\u95EE\u9898\u4E86"},Tir={modal:Ort,passwordless:Nrt}});var Lrt={};lr(Lrt,{default:()=>_ir,modal:()=>Brt,passwordless:()=>Drt});var Brt,Drt,_ir,Urt=D(()=>{Brt={"adapter-loader.message":"Verifica tu cuenta {{adapter}} para continuar","adapter-loader.message1":"Verifique su {{adapter}}","adapter-loader.message2":"cuenta para continuar",allChains:"Todas las cadenas","connect-wallet.more-wallets":"M\xE1s carteras",connectYourWallet:"Conecte su portefeuille","errors-invalid-email":"Correo electr\xF3nico no v\xE1lido","errors-invalid-number":"N\xFAmero de tel\xE9fono no v\xE1lido","errors-invalid-number-email":"Correo electr\xF3nico o n\xFAmero de tel\xE9fono no v\xE1lido","errors-required":"Campo obligatorio","external.all-wallets":"Todas las billeteras","external.back":"Atr\xE1s","external.connect":"Conectar con la billetera","external.connect-wallet":"Conectar billetera","external.continue":"Continuar con billetera externa","external.continue-custom":"Continuar con {{wallet}}","external.dont-have":"No tiene","external.get":"Obtener","external.get-wallet":"Obtener billetera","external.install-browser-extension":"Instalar extensi\xF3n {{browser}}","external.install-mobile-app":"Instalar aplicaci\xF3n {{os}}","external.installed":"Instalado","external.no-wallets-found":"No se encontraron billeteras","external.search-subtext":"Intenta buscar en su lugar","external.search-text":"\xBFNo ves tu billetera?","external.search-wallet":"Buscar a trav\xE9s de {{count}} billeteras...","external.select-chain":"Seleccionar cadena","external.select-chain-description":"Este {{wallet}} billetera soporta varias cadenas. Seleccione la cadena que desea conectar","external.title":"Billetera Externa","external.walletconnect-connect":"Conectar","external.walletconnect-copy":"Escanee el c\xF3digo QR con una billetera compatible con WalletConnect o haga clic para copiar el enlace","external.walletconnect-subtitle":"Escanear el c\xF3digo QR con una billetera compatible con WalletConnect","footer.and":"y","footer.by-signing-in":"Al iniciar sesi\xF3n, acepta nuestros","footer.message":"Inicio de sesi\xF3n con autocustodia por","footer.message-new":"Autocustodia a trav\xE9s de","footer.policy":"Pol\xEDtica de privacidad","footer.privacy-policy":"Pol\xEDtica de privacidad","footer.terms":"T\xE9rminos de Uso","footer.terms-of-service":"T\xE9rminos de uso","footer.terms-service":"T\xE9rminos de servicio","footer.version":"Versi\xF3n",getWallet:"Obtener billetera","header-subtitle":"Seleccione una de las siguientes opciones para continuar","header-subtitle-name":"Su billetera {{appName}} con un solo clic","header-subtitle-new":"Su billetera blockchain con un solo clic","header-title":"Iniciar sesi\xF3n","header-tooltip-desc":"La billetera sirve como una cuenta para almacenar y administrar sus activos digitales en la blockchain.","header-tooltip-title":"Billetera","network.add-request":"Este sitio est\xE1 solicitando agregar una red","network.cancel":"Cancelar","network.from":"De","network.proceed":"Continuar","network.switch-request":"Este sitio est\xE1 solicitando cambiar de red","network.to":"A","otp.email-subtext":"Por favor, ingrese el c\xF3digo de verificaci\xF3n de 6 d\xEDgitos","otp.email-subtext-example":"que fue enviado a su email {{email}}","otp.email-title":"Verificaci\xF3n de email","otp.mobile-subtext":"Verificaci\xF3n OTP","otp.mobile-title":"Verificaci\xF3n OTP","otp.success":"\xA1Est\xE1s conectado a tu cuenta!","passkey.add":"A\xF1adir Passkey","passkey.haveExisting":"\xBFTiene un passkey existente?","passkey.learn-more":"Aprende m\xE1s","passkey.or":"o","passkey.register-desc":"Con passkeys, puedes verificar tu identidad a trav\xE9s de tu rostro, huella digital o claves de seguridad.","passkey.register-title":"Registrarse Passkey","passkey.use":"Tengo una Passkey","passwordless.title":"Continuar con {{title}}","popup.phone-body":"Su c\xF3digo de pa\xEDs se detectar\xE1 autom\xE1ticamente, pero si est\xE1 utilizando un n\xFAmero de tel\xE9fono de otro pa\xEDs, deber\xE1 ingresar manualmente el c\xF3digo de pa\xEDs correcto.","popup.phone-header":"N\xFAmero de tel\xE9fono y c\xF3digo de pa\xEDs","post-loading.connected":"Est\xE1s conectado con tu cuenta","post-loading.something-wrong":"\xA1Algo sali\xF3 mal!",resendCode:"Reenviar c\xF3digo",resendTimer:" Reenviar en {{timer}} segundos","social.continue":"Continuar con","social.continueCustom":"Continuar con {{adapter}}","social.email":"Correo electr\xF3nico","social.email-continue":"Continuar con correo electr\xF3nico","social.email-new":"nombre@ejemplo.com","social.passwordless-cta":"Continuar","social.passwordless-login":"Acceso","social.passwordless-title":"Email/Tel\xE9fono","social.phone":"Tel\xE9fono","social.policy":"No almacenamos ning\xFAn dato relacionado con sus inicios de sesi\xF3n sociales.","social.sign-in":"Iniciar sesi\xF3n","social.sms":"M\xF3vil","social.sms-continue":"Continuar con m\xF3vil","social.sms-invalid-number":"N\xFAmero de tel\xE9fono inv\xE1lido","social.sms-placeholder-text":"Por ej.:","social.view-less":"Ver menos","social.view-less-socials":"Ver menos socials","social.view-more":"Ver m\xE1s","social.view-more-socials":"Ver m\xE1s socials"},Drt={"error-invalid-link":"El enlace o el enlace de verificaci\xF3n ha expirado","error-invalid-origin":"Algo sali\xF3 mal, c\xF3digo de error: E002","error-invalid-otp":"OTP no v\xE1lido, intente nuevamente","error-invalid-params":"Par\xE1metros faltantes o no v\xE1lidos","error-max-retry-limit-reached":"Has alcanzado el l\xEDmite para intentos incorrectos. Reinicie el proceso para completar la verificaci\xF3n.","error-new-link-generated-heading":"Nuevo enlace de verificaci\xF3n generado","error-no-mail-generated":"No se gener\xF3 el correo. Inicie primero el proceso sin contrase\xF1a.","error-no-sms-generated":"No se gener\xF3 OTP. Inicie primero el proceso sin contrase\xF1a.","error-otp-expired":"OTP expir\xF3","error-plan-limit-reached":"E411. L\xEDmite alcanzado","error-recaptcha-verification-failed":"La verificaci\xF3n de Captcha ha fallado. Por favor, int\xE9ntelo de nuevo.","error-sending-sms-failed":"Hubo un error al enviar el SMS. Int\xE9ntalo de nuevo.","error-invalid-test-account":"Cuenta de prueba no v\xE1lida","something-wrong-error":"Algo sali\xF3 mal"},_ir={modal:Brt,passwordless:Drt}});var zrt={};lr(zrt,{default:()=>Sir,modal:()=>Frt,passwordless:()=>Hrt});var Frt,Hrt,Sir,Grt=D(()=>{Frt={"adapter-loader.message":"V\xE9rifiez votre compte {{adapter}} pour continuer","adapter-loader.message1":"V\xE9rifiez votre {{adapter}}","adapter-loader.message2":"compte pour continuer",allChains:"Toutes les cha\xEEnes","connect-wallet.more-wallets":"Plus de portefeuilles",connectYourWallet:"Connectez votre portefeuille","errors-invalid-email":"E-mail invalide","errors-invalid-number":"Num\xE9ro de t\xE9l\xE9phone invalide","errors-invalid-number-email":"Adresse e-mail ou num\xE9ro de t\xE9l\xE9phone invalide","errors-required":"Champ obligatoire","external.all-wallets":"Toutes les billeteras","external.back":"Retour","external.connect":"Continuer avec un portefeuille","external.connect-wallet":"Connecter le portefeuille","external.continue":"Continuer avec le portefeuille externe","external.continue-custom":"Continuer avec {{wallet}}","external.dont-have":"N'avez pas","external.get":"Obtenir","external.get-wallet":"Obtenir un portefeuille","external.installed":"Install\xE9","external.no-wallets-found":"Aucun portefeuille trouv\xE9","external.search-subtext":"Essayez plut\xF4t de rechercher","external.search-text":"Vous ne voyez pas votre portefeuille ?","external.search-wallet":"Rechercher parmi {{count}} portefeuilles...","external.select-chain":"S\xE9lectionner la cha\xEEne","external.select-chain-description":"Cette {{wallet}} portefeuille prend en charge plusieurs cha\xEEnes. S\xE9lectionnez la cha\xEEne que vous souhaitez connecter","external.title":"Portefeuille externe","external.walletconnect-connect":"Se connecter","external.walletconnect-copy":"Scannez le code QR avec un portefeuille compatible WalletConnect ou cliquez pour copier le lien","external.walletconnect-subtitle":"Scannez le code QR avec un portefeuille compatible WalletConnect","footer.and":"et","footer.by-signing-in":"En vous connectant, vous acceptez nos","footer.message":"Connexion en autonomie par","footer.message-new":"Auto-cuir via","footer.policy":"Politique de confidentialit\xE9","footer.privacy-policy":"Politique de confidentialit\xE9","footer.terms":"Conditions d'utilisation","footer.terms-of-service":"Conditions d'utilisation","footer.terms-service":"Conditions d'utilisation","footer.version":"Version",getWallet:"Obtenir le portefeuille","header-subtitle":"S\xE9lectionnez l'une des options suivantes pour continuer","header-subtitle-name":"Votre portefeuille {{appName}} en un clic","header-subtitle-new":"Votre portefeuille blockchain en un clic","header-title":"Se connecter","header-tooltip-desc":"Le portefeuille sert de compte pour stocker et g\xE9rer vos actifs num\xE9riques sur la blockchain.","header-tooltip-title":"Portefeuille","network.add-request":"Ce site demande d'ajouter un r\xE9seau","network.cancel":"Annuler","network.from":"De","network.proceed":"Continuer","network.switch-request":"Ce site demande de changer de r\xE9seau","network.to":"\xC0","otp.email-subtext":"Veuillez entrer le code de v\xE9rification 6 chiffres","otp.email-subtext-example":"qui a \xE9t\xE9 envoy\xE9 \xE0 votre email {{email}}","otp.email-title":"V\xE9rification de l'email","otp.mobile-subtext":"Entrez le OTP envoy\xE9 \xE0","otp.mobile-title":"V\xE9rification OTP","otp.success":"Vous \xEAtes connect\xE9 \xE0 votre compte!","passkey.add":"Ajouter Passkey","passkey.haveExisting":"Vous disposez d\xE9j\xE0 d'un passkey\xA0?","passkey.learn-more":"Apprendre encore plus","passkey.or":"ou","passkey.register-desc":"Avec passkeys, vous pouvez v\xE9rifier votre identit\xE9 gr\xE2ce \xE0 votre visage, vos empreintes digitales ou vos cl\xE9s de s\xE9curit\xE9.","passkey.register-title":"Inscrivez-vous Passkey","passkey.use":"J'ai un passkey","passwordless.title":"Continuer avec {{title}}","popup.phone-body":"Votre code pays sera d\xE9tect\xE9 automatiquement, mais si vous utilisez un num\xE9ro de t\xE9l\xE9phone d'un autre pays, vous devrez saisir manuellement le bon code pays.","popup.phone-header":"Num\xE9ro de t\xE9l\xE9phone et code pays","post-loading.connected":"Vous \xEAtes connect\xE9 avec votre compte","post-loading.something-wrong":"Quelque chose s'est mal pass\xE9!",resendCode:"Renvoyer le code",resendTimer:" Renvoyer dans {{timer}} secondes","social.continue":"Continuer avec","social.continueCustom":"Continuer avec {{adapter}}","social.email":"Email","social.email-continue":"Continuer avec l'email","social.email-new":"nom@exemple.com","social.passwordless-cta":"Continuer","social.passwordless-login":"Se connecter","social.passwordless-title":"Email/T\xE9l\xE9phone","social.phone":"T\xE9l\xE9phone","social.policy":"Nous ne stockons aucune donn\xE9e li\xE9e \xE0 vos connexions sociales.","social.sign-in":"Connexion","social.sms":"Mobile","social.sms-continue":"Continuer avec le mobile","social.sms-invalid-number":"Num\xE9ro de t\xE9l\xE9phone invalide","social.sms-placeholder-text":"Par exemple :","social.view-less":"Voir moins","social.view-less-socials":"Voir moins socials","social.view-more":"Voir plus","social.view-more-socials":"Voir plus socials"},Hrt={"error-invalid-link":"Lien de v\xE9rification invalide ou lien expir\xE9","error-invalid-origin":"Quelque chose s'est mal pass\xE9, code d'erreur: E002","error-invalid-otp":"OTP non valide, veuillez r\xE9essayer","error-invalid-params":"Param\xE8tres manquants ou invalides.","error-max-retry-limit-reached":"Vous avez atteint la limite pour les tentatives erron\xE9es. Veuillez red\xE9marrer le flux pour terminer la v\xE9rification.","error-new-link-generated-heading":"Nouveau lien de v\xE9rification g\xE9n\xE9r\xE9","error-no-mail-generated":"Aucun courrier g\xE9n\xE9r\xE9. Veuillez d'abord lancer le flux sans mot de passe.","error-no-sms-generated":"Aucun OTP g\xE9n\xE9r\xE9. Veuillez d'abord lancer le flux sans mot de passe.","error-otp-expired":"OTP expir\xE9","error-plan-limit-reached":"E411. Limite atteinte","error-recaptcha-verification-failed":"La v\xE9rification Captcha a \xE9chou\xE9. Veuillez r\xE9essayer.","error-sending-sms-failed":"Une erreur s'est produite lors de l'envoi d'un SMS. Veuillez r\xE9essayer.","error-invalid-test-account":"Compte de test non valide","something-wrong-error":"Quelque chose s'est mal pass\xE9"},Sir={modal:Frt,passwordless:Hrt}});var Vrt={};lr(Vrt,{default:()=>Iir,modal:()=>jrt,passwordless:()=>$rt});var jrt,$rt,Iir,Krt=D(()=>{jrt={"adapter-loader.message":"Verifique a sua conta {{adapter}} para continuar","adapter-loader.message1":"Verifique o(a) seu/sua {{adapter}}","adapter-loader.message2":"conta para continuar",allChains:"Todas as cadeias","connect-wallet.more-wallets":"Mais carteiras",connectYourWallet:"Conecte seu portefeuille","errors-invalid-email":"E-mail inv\xE1lido","errors-invalid-number":"N\xFAmero de telefone inv\xE1lido","errors-invalid-number-email":"Email ou n\xFAmero de telefone inv\xE1lido","errors-required":"Obrigat\xF3rio","external.all-wallets":"Todas as carteiras","external.back":"Voltar","external.connect":"Continuar com uma carteira","external.connect-wallet":"Conectar carteira","external.continue":"Continuar com carteira externa","external.continue-custom":"Continue com o {{wallet}}","external.dont-have":"N\xE3o tem","external.get":"Obter","external.get-wallet":"Obter carteira","external.install-browser-extension":"Instalar extens\xE3o {{browser}}","external.install-mobile-app":"Instalar aplicativo {{os}}","external.installed":"Instalado","external.no-wallets-found":"Nenhuma carteira encontrada","external.search-subtext":"Tente pesquisar","external.search-text":"N\xE3o v\xEA sua carteira?","external.search-wallet":"Pesquisar atrav\xE9s de {{count}} carteiras...","external.select-chain":"Selecionar cadeia","external.select-chain-description":"Este {{wallet}} carteira suporta v\xE1rias cadeias. Selecione a cadeia que voc\xEA gostaria de conectar","external.title":"Carteira Externa","external.walletconnect-connect":"Conectar","external.walletconnect-copy":"Digitalize o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect ou clique para copiar o link","external.walletconnect-subtitle":"Digitalize o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect","footer.and":"e","footer.by-signing-in":"Ao se conectar, voc\xEA concorda com nossos","footer.message":"Login de autocust\xF3dia por","footer.message-new":"Autoconfian\xE7a via","footer.policy":"Pol\xEDtica de Privacidade","footer.privacy-policy":"Pol\xEDtica de privacidade","footer.terms":"Termos de Uso","footer.terms-of-service":"Termos de uso","footer.terms-service":"Termos de Servi\xE7o","footer.version":"Vers\xE3o",getWallet:"Obter carteira","header-subtitle":"Selecione uma das seguintes op\xE7\xF5es para continuar","header-subtitle-name":"Sua carteira {{appName}} com um clique","header-subtitle-new":"Sua carteira de blockchain com um clique","header-title":"Entrar","header-tooltip-desc":"A carteira serve como uma conta para armazenar e gerenciar seus ativos digitais na blockchain.","header-tooltip-title":"Carteira","network.add-request":"Este site est\xE1 solicitando adicionar uma rede","network.cancel":"Cancelar","network.from":"De","network.proceed":"Prosseguir","network.switch-request":"Este site est\xE1 solicitando trocar de rede","network.to":"Para","otp.email-subtext":"Por favor, insira o c\xF3digo de verifica\xE7\xE3o de 6 d\xEDgitos","otp.email-subtext-example":"que foi enviado para o seu email {{email}}","otp.email-title":"Verifica\xE7\xE3o de email","otp.mobile-subtext":"Verifique o OTP enviado para","otp.mobile-title":"Verifica\xE7\xE3o OTP","otp.success":"Voc\xEA est\xE1 conectado ao seu conta!","passkey.add":"Adicionar Passkey","passkey.haveExisting":"Voc\xEA j\xE1 possui um passkey?","passkey.learn-more":"Saber mais","passkey.or":"ou","passkey.register-desc":"Com passkeys, voc\xEA pode verificar sua identidade por meio de seu rosto, impress\xE3o digital ou chaves de seguran\xE7a.","passkey.register-title":"Registre-se Passkey","passkey.use":"Eu tenho uma passkey","passwordless.title":"Continuar com {{title}}","popup.phone-body":"O c\xF3digo do seu pa\xEDs ser\xE1 detectado automaticamente, mas se estiver usando um n\xFAmero de telefone de um pa\xEDs diferente, voc\xEA precisar\xE1 inserir manualmente o c\xF3digo correto do pa\xEDs.","popup.phone-header":"N\xFAmero de telefone e c\xF3digo do pa\xEDs","post-loading.connected":"Voc\xEA est\xE1 conectado com sua conta","post-loading.something-wrong":"Algo deu errado!",resendCode:"Reenviar c\xF3digo",resendTimer:" Reenviar em {{timer}} segundos","social.continue":"Continuar com","social.continueCustom":"Continue com o {{adapter}}","social.email":"Email","social.email-continue":"Continuar com email","social.email-new":"nome@exemplo.com","social.passwordless-cta":"Continuar","social.passwordless-login":"Conecte-se","social.passwordless-title":"Email/Telefone","social.phone":"Telefone","social.policy":"N\xE3o armazenamos nenhum dado relacionado ao seu login por rede social.","social.sign-in":"Entrar","social.sms":"M\xF3vel","social.sms-continue":"Continuar com o celular","social.sms-invalid-number":"N\xFAmero de telefone inv\xE1lido","social.sms-placeholder-text":"Por exemplo:","social.view-less":"Ver menos","social.view-less-socials":"Ver menos socials","social.view-more":"Ver mais","social.view-more-socials":"Ver mais socials"},$rt={"error-invalid-link":"Link de verifica\xE7\xE3o inv\xE1lido ou link expirado","error-invalid-origin":"Algo deu errado, c\xF3digo de erro: E002","error-invalid-otp":"OTP inv\xE1lido, por favor tente novamente","error-invalid-params":"Par\xE2metros ausentes ou inv\xE1lidos","error-max-retry-limit-reached":"Voc\xEA atingiu o limite para tentativas erradas. Reinicie o fluxo novamente para concluir a verifica\xE7\xE3o.","error-new-link-generated-heading":"Novo link de verifica\xE7\xE3o gerado","error-no-mail-generated":"Nenhum correio gerado. Inicie o fluxo sem senha primeiro.","error-no-sms-generated":"Nenhum OTP gerado. Inicie o fluxo sem senha primeiro.","error-otp-expired":"OTP expirou","error-plan-limit-reached":"E411. Limite atingido","error-recaptcha-verification-failed":"A verifica\xE7\xE3o Captcha falhou. Por favor, tente novamente.","error-sending-sms-failed":"Houve um erro de envio de um SMS. Por favor, tente novamente.","error-invalid-test-account":"Conta de teste inv\xE1lida","something-wrong-error":"Algo deu errado"},Iir={modal:jrt,passwordless:$rt}});var Yrt={};lr(Yrt,{default:()=>Cir,modal:()=>qrt,passwordless:()=>Wrt});var qrt,Wrt,Cir,Jrt=D(()=>{qrt={"adapter-loader.message":"Verifieer uw {{adapter}}-account om door te gaan","adapter-loader.message1":"Verifieer uw {{adapter}}","adapter-loader.message2":"account om door te gaan",allChains:"Alle ketens","connect-wallet.more-wallets":"Meer portemonnees",connectYourWallet:"Uw portemonnee verbinden","errors-invalid-email":"Ongeldig e-mailadres","errors-invalid-number":"Ongeldig telefoonnummer","errors-invalid-number-email":"Ongeldig e-mailadres of telefoonnummer","errors-required":"Vereist","external.all-wallets":"Alle portemonnees","external.back":"Terug","external.connect":"Ga verder met een portemonnee","external.connect-wallet":"Verbinden met portemonnee","external.continue":"Ga verder met externe portemonnee","external.continue-custom":"Doorgaan met {{wallet}}","external.dont-have":"Heb niet","external.get":"Krijgen","external.get-wallet":"Portemonnee krijgen","external.install-browser-extension":"{{browser}}-extensie installeren","external.install-mobile-app":"Installeer {{os}}-app","external.installed":"Ge\xEFnstalleerd","external.no-wallets-found":"Geen portefeuilles gevonden","external.search-subtext":"Probeer in plaats daarvan te zoeken","external.search-text":"Ziet u uw portemonnee niet?","external.search-wallet":"Zoeken door {{count}} portemonnees...","external.select-chain":"Ketting selecteren","external.select-chain-description":"Deze {{wallet}} portemonnee ondersteunt meerdere ketens. Selecteer welke ketting u wilt verbinden","external.title":"Externe portemonnee","external.walletconnect-connect":"Verbinden","external.walletconnect-copy":"Scan de QR-code met een WalletConnect-compatibele portemonnee of klik op de QR-code om de link naar je klembord te kopi\xEBren.","external.walletconnect-subtitle":"Scan de QR-code met een WalletConnect-compatibele portemonnee","footer.and":"en","footer.by-signing-in":"Door in te loggen, gaat u akkoord met onze","footer.message":"Zelfbeheerde login door","footer.message-new":"Zelfkusten via","footer.policy":"Privacybeleid","footer.privacy-policy":"Privacy Policy","footer.terms":"Gebruiksvoorwaarden","footer.terms-of-service":"Gebruiksvoorwaarden","footer.terms-service":"Gebruiksvoorwaarden","footer.version":"Versie",getWallet:"Portemonnee ophalen","header-subtitle":"Selecteer een van de volgende opties om door te gaan","header-subtitle-name":"Uw {{appName}}-portemonnee met \xE9\xE9n klik","header-subtitle-new":"Uw blockchain-portemonnee met \xE9\xE9n klik","header-title":"Aanmelden","header-tooltip-desc":"De portemonnee dient als een account om uw digitale activa op de blockchain op te slaan en te beheren.","header-tooltip-title":"Portemonnee","network.add-request":"Deze site vraagt om een netwerk toe te voegen","network.cancel":"Annuleren","network.from":"Van","network.proceed":"Doorgaan","network.switch-request":"Deze site vraagt om over te schakelen naar een ander netwerk","network.to":"Naar","otp.email-subtext":"Voer de 6-cijferige verificatiecode in","otp.email-subtext-example":"{{email}} adres is verstuurd","otp.email-title":"Email Verificatie","otp.mobile-subtext":"OTP Verificatie","otp.mobile-title":"OTP Verificatie","otp.success":"U bent verbonden met uw account!","passkey.add":"Passkey toevoegen","passkey.haveExisting":"Heeft u een bestaande passkey?","passkey.learn-more":"Kom meer te weten","passkey.or":"of","passkey.register-desc":"Met passkeys kunt u uw identiteit verifi\xEBren via uw gezicht, vingerafdruk of beveiligingssleutels.","passkey.register-title":"Registreer Passkey","passkey.use":"Ik heb een passkey","passwordless.title":"Doorgaan met {{title}}","popup.phone-body":"Uw landcode wordt automatisch gedetecteerd, maar als u een telefoonnummer uit een ander land gebruikt, moet u handmatig de juiste landcode invoeren.","popup.phone-header":"Telefoonnummer en landcode","post-loading.connected":"U bent verbonden met uw account","post-loading.something-wrong":"Er is iets fout gegaan!",resendCode:"Code opnieuw verzenden",resendTimer:" Opnieuw verzenden in {{timer}} seconden","social.continue":"Doorgaan met","social.continueCustom":"Doorgaan met {{adapter}}","social.email":"E-mail","social.email-continue":"Doorgaan met e-mail","social.email-new":"naam@voorbeeld.com","social.passwordless-cta":"Doorgaan","social.passwordless-login":"Log in","social.passwordless-title":"E-mail/Telefoon","social.phone":"Telefoon","social.policy":"We slaan geen gegevens op die verband houden met uw sociale logins.","social.sign-in":"Inloggen","social.sms":"Mobiel","social.sms-continue":"Doorgaan met mobiel","social.sms-invalid-number":"Ongeldig telefoonnummer","social.sms-placeholder-text":"Bijv.:","social.view-less":"Minder bekijken","social.view-less-socials":"Bekijk minder socials","social.view-more":"Meer bekijken","social.view-more-socials":"Bekijk meer socials"},Wrt={"error-invalid-link":"Ongeldige verificatielink of link verlopen","error-invalid-origin":"Er is iets misgegaan, foutcode: E002","error-invalid-otp":"Ongeldige OTP, probeer het opnieuw","error-invalid-params":"Ontbrekende of ongeldige parameters","error-max-retry-limit-reached":"U heeft de limiet voor verkeerde pogingen bereikt. Start de stroom opnieuw om de verificatie te voltooien.","error-new-link-generated-heading":"Nieuwe verificatielink gegenereerd","error-no-mail-generated":"Geen e-mail gegenereerd. Start eerst de wachtwoordloze flow.","error-no-sms-generated":"Geen OTP gegenereerd. Start eerst de wachtwoordloze flow.","error-otp-expired":"OTP verlopen","error-plan-limit-reached":"E411. Limiet bereikt","error-recaptcha-verification-failed":"Er is iets misgegaan tijdens het verifi\xEBren. Probeer het opnieuw door de pagina te laden.","error-sending-sms-failed":"Er is een fout opgetreden bij het verzenden van een sms. Probeer het opnieuw.","error-invalid-test-account":"Ongeldig testaccount","something-wrong-error":"Er is iets misgegaan"},Cir={modal:qrt,passwordless:Wrt}});var Xrt={};lr(Xrt,{default:()=>Rir,modal:()=>Qrt,passwordless:()=>Zrt});var Qrt,Zrt,Rir,ent=D(()=>{Qrt={"adapter-loader.message":"Devam etmek i\xE7in {{adapter}} hesab\u0131n\u0131z\u0131 do\u011Frula","adapter-loader.message1":"{{adapter}} do\u011Frula","adapter-loader.message2":"devam edecek hesap",allChains:"T\xFCm zincirler","connect-wallet.more-wallets":"Daha fazla c\xFCzdan",connectYourWallet:"C\xFCzdan\u0131n\u0131z\u0131 ba\u011Flay\u0131n","errors-invalid-email":"Ge\xE7ersiz E-posta","errors-invalid-number":"Ge\xE7ersiz Telefon Numaras\u0131","errors-invalid-number-email":"Ge\xE7ersiz E-posta veya Telefon Numaras\u0131","errors-required":"Zorunlu","external.all-wallets":"T\xFCm c\xFCzdanlar","external.back":"Geri","external.connect":"C\xFCzdanla devam et","external.connect-wallet":"C\xFCzdan\u0131 Ba\u011Fla","external.continue":"Harici c\xFCzdanla devam et","external.continue-custom":"{{wallet}} ile devam et","external.dont-have":"Yok","external.get":"Al","external.get-wallet":"C\xFCzdan Al","external.install-browser-extension":"{{browser}} uzant\u0131s\u0131n\u0131 y\xFCkle","external.install-mobile-app":"{{os}} uygulamas\u0131n\u0131 y\xFCkle","external.installed":"Y\xFCklendi","external.no-wallets-found":"C\xFCzdan bulunamad\u0131","external.search-subtext":"Bunun yerine aramay\u0131 deneyin","external.search-text":"C\xFCzdan\u0131n\u0131z\u0131 g\xF6rm\xFCyor musunuz?","external.search-wallet":"{{count}} c\xFCzdan ara...","external.select-chain":"Zincir se\xE7","external.select-chain-description":"Bu {{wallet}} c\xFCzdan birden fazla zincir destekler. \u0130stedi\u011Finiz zinciri se\xE7in","external.title":"Harici C\xFCzdan","external.walletconnect-connect":"Ba\u011Fla","external.walletconnect-copy":"WalletConnect destekli bir c\xFCzdanla QR kodu taray\u0131n veya ba\u011Flant\u0131y\u0131 kopyalay\u0131n","external.walletconnect-subtitle":"QR kodunu WalletConnect uyumlu bir c\xFCzdanla taray\u0131n","footer.and":"ve","footer.by-signing-in":"Giri\u015F yapmak, bizimle ilgili \u015Fartlar\u0131 kabul etti\u011Finiz anlam\u0131na gelir.","footer.message":"\xD6z-y\xF6netimli giri\u015F yapan:","footer.message-new":"Kendi kendine velayet","footer.policy":"Gizlilik Politikas\u0131","footer.privacy-policy":"Gizlilik Politikas\u0131","footer.terms":"Kullan\u0131m \u015Eartlar\u0131","footer.terms-of-service":"Kullan\u0131m \u015Eartlar\u0131","footer.terms-service":"Hizmet \u015Eartlar\u0131","footer.version":"Versiyon",getWallet:"C\xFCzdan\u0131 al","header-subtitle":"Devam etmek i\xE7in se\xE7eneklerden birini i\u015Faretle","header-subtitle-name":"Tek t\u0131klama ile {{appName}} c\xFCzdan\u0131n\u0131z","header-subtitle-new":"Tek t\u0131klama ile blockchain c\xFCzdan\u0131n\u0131z","header-title":"Giri\u015F yap","header-tooltip-desc":"C\xFCzdan, dijital varl\u0131klar\u0131n\u0131z\u0131 blockchain'de saklama ve y\xF6netme g\xF6revi g\xF6r\xFCr.","header-tooltip-title":"C\xFCzdan","network.add-request":"Bu site bir a\u011F eklemek istiyor","network.cancel":"\u0130ptal","network.from":"Nereden","network.proceed":"Devam","network.switch-request":"Bu site a\u011F de\u011Fi\u015Ftirmeyi talep ediyor","network.to":"Nereye","otp.email-subtext":"6 haneli do\u011Frulama kodunu giriniz","otp.email-subtext-example":"{{email}} adresine g\xF6nderildi","otp.email-title":"Email Do\u011Frulama","otp.mobile-subtext":"OTP Do\u011Frulama","otp.mobile-title":"OTP Do\u011Frulama","otp.success":"Hesab\u0131n\u0131za ba\u011Fland\u0131n\u0131z!","passkey.add":"Passkey ekle","passkey.haveExisting":"Mevcut bir passkey'\u0131n\u0131z m\u0131 var?","passkey.learn-more":"Daha fazla bilgi edin","passkey.or":"veya","passkey.register-desc":"passkeys ile kimli\u011Finizi y\xFCz\xFCn\xFCz, parmak iziniz veya g\xFCvenlik anahtarlar\u0131n\u0131z arac\u0131l\u0131\u011F\u0131yla do\u011Frulayabilirsiniz.","passkey.register-title":"Passkey'\u0131 kaydedin","passkey.use":"Bir passkey'im var","passwordless.title":"{{title}} ile devam et","popup.phone-body":"\xDClke kodunuz otomatik olarak alg\u0131lanacakt\u0131r, ancak farkl\u0131 bir \xFClkeden bir telefon numaras\u0131 kullan\u0131yorsan\u0131z, do\u011Fru \xFClke kodunu manuel olarak girmeniz gerekir.","popup.phone-header":"Telefon numaras\u0131 ve \xFClke kodu","post-loading.connected":"Hesab\u0131n\u0131zla ba\u011Fland\u0131n\u0131z","post-loading.something-wrong":"Bir \u015Feyler ters gitti!",resendCode:"Kodu tekrar g\xF6nder",resendTimer:" {{timer}} saniye sonra tekrar g\xF6nder","social.continue":"Devam et: ","social.continueCustom":"{{adapter}} ile devam et","social.email":"E-posta","social.email-continue":"E-posta ile devam et","social.email-new":"isim@ornek.com","social.passwordless-cta":"Devam et","social.passwordless-login":"Giri\u015F yapmak","social.passwordless-title":"E-posta/Telefon","social.phone":"Telefon","social.policy":"Sosyal medya giri\u015Flerinizle ilgili hi\xE7bir veriyi saklam\u0131yoruz.","social.sign-in":"Giri\u015F yap","social.sms":"Mobil Telefon","social.sms-continue":"Telefon ile devam et","social.sms-invalid-number":"Ge\xE7ersiz telefon numaras\u0131","social.sms-placeholder-text":"\xD6rne\u011Fin:","social.view-less":"Daha az g\xF6r\xFCnt\xFCle","social.view-less-socials":"Daha az socials g\xF6r\xFCnt\xFCle","social.view-more":"Daha fazla g\xF6r\xFCnt\xFCle","social.view-more-socials":"Daha fazlas\u0131n\u0131 g\xF6r\xFCnt\xFCle socials"},Zrt={"error-invalid-link":"Hatal\u0131 ya da s\xFCresi ge\xE7mi\u015F do\u011Frulama linki","error-invalid-origin":"Bir \u015Feyler ters gitti, hata kodu: E002","error-invalid-otp":"Hatal\u0131 OTP, l\xFCtfen tekrar deneyin.","error-invalid-params":"Eksik ya da hatal\u0131 parametreler var.","error-max-retry-limit-reached":"Hatal\u0131 deneme limitine ula\u015Ft\u0131n\u0131z. Do\u011Frulamay\u0131 tamamlamak i\xE7in l\xFCtfen ak\u0131\u015F\u0131 ba\u015Ftan ba\u015Flat\u0131n.","error-new-link-generated-heading":"Yeni do\u011Frulama linki olu\u015Fturuldu.","error-no-mail-generated":"E-posta olu\u015Fturulmad\u0131. L\xFCtfen \xF6nce \u015Fifresiz ak\u0131\u015F\u0131 ba\u015Flat\u0131n.","error-no-sms-generated":"OTP olu\u015Fturulmad\u0131. L\xFCtfen \xF6nce \u015Fifresiz ak\u0131\u015F\u0131 ba\u015Flat\u0131n.","error-otp-expired":"OTP'nin s\xFCresi ge\xE7ti.","error-plan-limit-reached":"E411. S\u0131n\u0131r a\u015F\u0131ld\u0131","error-recaptcha-verification-failed":"Captcha do\u011Frulama hatas\u0131. L\xFCtfen tekrar deneyin.","error-sending-sms-failed":"SMS g\xF6nderilirken bir hata oldu. L\xFCtfen tekrar deneyin.","error-invalid-test-account":"Ge\xE7ersiz test hesab\u0131","something-wrong-error":"Bir \u015Feyler ters gitti"},Rir={modal:Qrt,passwordless:Zrt}});var xd,bpe=D(()=>{xd={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});function Ky(t,e,r){return Math.min(Math.max(e,t),r)}function $K(t){let e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}var tnt,sl,Y3,rnt=D(()=>{bpe();tnt=Object.create(null);for(let t in xd)Object.hasOwn(xd,t)&&(tnt[xd[t]]=t);sl={to:{},get:{}};sl.get=function(t){let e=t.slice(0,3).toLowerCase(),r,n;switch(e){case"hsl":{r=sl.get.hsl(t),n="hsl";break}case"hwb":{r=sl.get.hwb(t),n="hwb";break}default:{r=sl.get.rgb(t),n="rgb";break}}return r?{model:n,value:r}:null};sl.get.rgb=function(t){if(!t)return null;let e=/^#([a-f\d]{3,4})$/i,r=/^#([a-f\d]{6})([a-f\d]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,a=[0,0,0,1],s,c,l;if(s=t.match(r)){for(l=s[2],s=s[1],c=0;c<3;c++){let u=c*2;a[c]=Number.parseInt(s.slice(u,u+2),16)}l&&(a[3]=Number.parseInt(l,16)/255)}else if(s=t.match(e)){for(s=s[1],l=s[3],c=0;c<3;c++)a[c]=Number.parseInt(s[c]+s[c],16);l&&(a[3]=Number.parseInt(l+l,16)/255)}else if(s=t.match(n)){for(c=0;c<3;c++)a[c]=Number.parseInt(s[c+1],10);s[4]&&(a[3]=s[5]?Number.parseFloat(s[4])*.01:Number.parseFloat(s[4]))}else if(s=t.match(i)){for(c=0;c<3;c++)a[c]=Math.round(Number.parseFloat(s[c+1])*2.55);s[4]&&(a[3]=s[5]?Number.parseFloat(s[4])*.01:Number.parseFloat(s[4]))}else return(s=t.match(o))?s[1]==="transparent"?[0,0,0,0]:Object.hasOwn(xd,s[1])?(a=xd[s[1]],a[3]=1,a):null:null;for(c=0;c<3;c++)a[c]=Ky(a[c],0,255);return a[3]=Ky(a[3],0,1),a};sl.get.hsl=function(t){if(!t)return null;let e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){let n=Number.parseFloat(r[4]),i=(Number.parseFloat(r[1])%360+360)%360,o=Ky(Number.parseFloat(r[2]),0,100),a=Ky(Number.parseFloat(r[3]),0,100),s=Ky(Number.isNaN(n)?1:n,0,1);return[i,o,a,s]}return null};sl.get.hwb=function(t){if(!t)return null;let e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){let n=Number.parseFloat(r[4]),i=(Number.parseFloat(r[1])%360+360)%360,o=Ky(Number.parseFloat(r[2]),0,100),a=Ky(Number.parseFloat(r[3]),0,100),s=Ky(Number.isNaN(n)?1:n,0,1);return[i,o,a,s]}return null};sl.to.hex=function(...t){return"#"+$K(t[0])+$K(t[1])+$K(t[2])+(t[3]<1?$K(Math.round(t[3]*255)):"")};sl.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};sl.to.rgb.percent=function(...t){let e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};sl.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};sl.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};sl.to.keyword=function(...t){return tnt[t.slice(0,3)]};Y3=sl});function YA(t){let e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function JA(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}function Pir(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}var nnt,Rt,d5,u5,ype=D(()=>{bpe();nnt={};for(let t of Object.keys(xd))nnt[xd[t]]=t;Rt={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},d5=Rt,u5=(6/29)**3;for(let t of Object.keys(Rt)){if(!("channels"in Rt[t]))throw new Error("missing channels property: "+t);if(!("labels"in Rt[t]))throw new Error("missing channel labels property: "+t);if(Rt[t].labels.length!==Rt[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=Rt[t];delete Rt[t].channels,delete Rt[t].labels,Object.defineProperty(Rt[t],"channels",{value:e}),Object.defineProperty(Rt[t],"labels",{value:r})}Rt.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=o-i,s,c;switch(o){case i:{s=0;break}case e:{s=(r-n)/a;break}case r:{s=2+(n-e)/a;break}case n:{s=4+(e-r)/a;break}}s=Math.min(s*60,360),s<0&&(s+=360);let l=(i+o)/2;return o===i?c=0:l<=.5?c=a/(o+i):c=a/(2-o-i),[s,c*100,l*100]};Rt.rgb.hsv=function(t){let e,r,n,i,o,a=t[0]/255,s=t[1]/255,c=t[2]/255,l=Math.max(a,s,c),u=l-Math.min(a,s,c),d=function(f){return(l-f)/6/u+1/2};if(u===0)i=0,o=0;else{switch(o=u/l,e=d(a),r=d(s),n=d(c),l){case a:{i=n-r;break}case s:{i=1/3+e-n;break}case c:{i=2/3+r-e;break}}i<0?i+=1:i>1&&(i-=1)}return[i*360,o*100,l*100]};Rt.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=Rt.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};Rt.rgb.oklab=function(t){let e=JA(t[0]/255),r=JA(t[1]/255),n=JA(t[2]/255),i=Math.cbrt(.4122214708*e+.5363325363*r+.0514459929*n),o=Math.cbrt(.2119034982*e+.6806995451*r+.1073969566*n),a=Math.cbrt(.0883024619*e+.2817188376*r+.6299787005*n),s=.2104542553*i+.793617785*o-.0040720468*a,c=1.9779984951*i-2.428592205*o+.4505937099*a,l=.0259040371*i+.7827717662*o-.808675766*a;return[s*100,c*100,l*100]};Rt.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),o=(1-e-i)/(1-i)||0,a=(1-r-i)/(1-i)||0,s=(1-n-i)/(1-i)||0;return[o*100,a*100,s*100,i*100]};Rt.rgb.keyword=function(t){let e=nnt[t];if(e)return e;let r=Number.POSITIVE_INFINITY,n;for(let i of Object.keys(xd)){let o=xd[i],a=Pir(t,o);a<r&&(r=a,n=i)}return n};Rt.keyword.rgb=function(t){return xd[t]};Rt.rgb.xyz=function(t){let e=JA(t[0]/255),r=JA(t[1]/255),n=JA(t[2]/255),i=e*.4124564+r*.3575761+n*.1804375,o=e*.2126729+r*.7151522+n*.072175,a=e*.0193339+r*.119192+n*.9503041;return[i*100,o*100,a*100]};Rt.rgb.lab=function(t){let e=Rt.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>u5?r**(1/3):7.787*r+16/116,n=n>u5?n**(1/3):7.787*n+16/116,i=i>u5?i**(1/3):7.787*i+16/116;let o=116*n-16,a=500*(r-n),s=200*(n-i);return[o,a,s]};Rt.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o;if(r===0)return o=n*255,[o,o,o];let a=n<.5?n*(1+r):n+r-n*r,s=2*n-a,c=[0,0,0];for(let l=0;l<3;l++)i=e+1/3*-(l-1),i<0&&i++,i>1&&i--,6*i<1?o=s+(a-s)*6*i:2*i<1?o=a:3*i<2?o=s+(a-s)*(2/3-i)*6:o=s,c[l]=o*255;return c};Rt.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let a=(n+r)/2,s=n===0?2*i/(o+i):2*r/(n+r);return[e,s*100,a*100]};Rt.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*n*(1-r),s=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,a];case 1:return[s,n,a];case 2:return[a,n,c];case 3:return[a,s,n];case 4:return[c,a,n];case 5:return[n,a,s]}};Rt.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,a;a=(2-r)*n;let s=(2-r)*i;return o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[e,o*100,a*100]};Rt.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let a=Math.floor(6*e),s=1-n;o=6*e-a,(a&1)!==0&&(o=1-o);let c=r+o*(s-r),l,u,d;switch(a){default:case 6:case 0:{l=s,u=c,d=r;break}case 1:{l=c,u=s,d=r;break}case 2:{l=r,u=s,d=c;break}case 3:{l=r,u=c,d=s;break}case 4:{l=c,u=r,d=s;break}case 5:{l=s,u=r,d=c;break}}return[l*255,u*255,d*255]};Rt.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,r*(1-i)+i),s=1-Math.min(1,n*(1-i)+i);return[o*255,a*255,s*255]};Rt.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,a;return i=e*3.2404542+r*-1.5371385+n*-.4985314,o=e*-.969266+r*1.8760108+n*.041556,a=e*.0556434+r*-.2040259+n*1.0572252,i=YA(i),o=YA(o),a=YA(a),[i*255,o*255,a*255]};Rt.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>u5?e**(1/3):7.787*e+16/116,r=r>u5?r**(1/3):7.787*r+16/116,n=n>u5?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(e-r),a=200*(r-n);return[i,o,a]};Rt.xyz.oklab=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=Math.cbrt(.8189330101*e+.3618667424*r-.1288597137*n),o=Math.cbrt(.0329845436*e+.9293118715*r+.0361456387*n),a=Math.cbrt(.0482003018*e+.2643662691*r+.633851707*n),s=.2104542553*i+.793617785*o-.0040720468*a,c=1.9779984951*i-2.428592205*o+.4505937099*a,l=.0259040371*i+.7827717662*o-.808675766*a;return[s*100,c*100,l*100]};Rt.oklab.oklch=function(t){return Rt.lab.lch(t)};Rt.oklab.xyz=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=(.999999998*e+.396337792*r+.215803758*n)**3,o=(1.000000008*e-.105561342*r-.063854175*n)**3,a=(1.000000055*e-.089484182*r-1.291485538*n)**3,s=1.227013851*i-.55779998*o+.281256149*a,c=-.040580178*i+1.11225687*o-.071676679*a,l=-.076381285*i-.421481978*o+1.58616322*a;return[s*100,c*100,l*100]};Rt.oklab.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=(e+.3963377774*r+.2158037573*n)**3,o=(e-.1055613458*r-.0638541728*n)**3,a=(e-.0894841775*r-1.291485548*n)**3,s=YA(4.0767416621*i-3.3077115913*o+.2309699292*a),c=YA(-1.2684380046*i+2.6097574011*o-.3413193965*a),l=YA(-.0041960863*i-.7034186147*o+1.707614701*a);return[s*255,c*255,l*255]};Rt.oklch.oklab=function(t){return Rt.lch.lab(t)};Rt.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,o,a;o=(e+16)/116,i=r/500+o,a=o-n/200;let s=o**3,c=i**3,l=a**3;return o=s>u5?s:(o-16/116)/7.787,i=c>u5?c:(i-16/116)/7.787,a=l>u5?l:(a-16/116)/7.787,i*=95.047,o*=100,a*=108.883,[i,o,a]};Rt.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(r*r+n*n);return[e,a,i]};Rt.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,o=r*Math.cos(i),a=r*Math.sin(i);return[e,o,a]};Rt.rgb.ansi16=function(t,e=null){let[r,n,i]=t,o=e===null?Rt.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(a+=60),a};Rt.hsv.ansi16=function(t){return Rt.rgb.ansi16(Rt.hsv.rgb(t),t[2])};Rt.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e>>4===r>>4&&r>>4===n>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};Rt.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(Math.trunc(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};Rt.ansi256.rgb=function(t){if(t=t[0],t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};Rt.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(r.length)+r};Rt.hex.rgb=function(t){let e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=[...r].map(s=>s+s).join(""));let n=Number.parseInt(r,16),i=n>>16&255,o=n>>8&255,a=n&255;return[i,o,a]};Rt.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),a=i-o,s,c=a<1?o/(1-a):0;return a<=0?s=0:i===e?s=(r-n)/a%6:i===r?s=2+(n-e)/a:s=4+(e-r)/a,s/=6,s%=1,[s*360,a*100,c*100]};Rt.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};Rt.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};Rt.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,a=o%1,s=1-a,c=0;switch(Math.floor(o)){case 0:{i[0]=1,i[1]=a,i[2]=0;break}case 1:{i[0]=s,i[1]=1,i[2]=0;break}case 2:{i[0]=0,i[1]=1,i[2]=a;break}case 3:{i[0]=0,i[1]=s,i[2]=1;break}case 4:{i[0]=a,i[1]=0,i[2]=1;break}default:i[0]=1,i[1]=0,i[2]=s}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};Rt.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};Rt.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};Rt.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};Rt.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};Rt.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Rt.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Rt.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Rt.gray.hsl=function(t){return[0,0,t[0]]};Rt.gray.hsv=Rt.gray.hsl;Rt.gray.hwb=function(t){return[0,100,t[0]]};Rt.gray.cmyk=function(t){return[0,0,0,t[0]]};Rt.gray.lab=function(t){return[t[0],0,0]};Rt.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(n.length)+n};Rt.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});function Oir(){let t={},e=Object.keys(d5);for(let{length:r}=e,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function Nir(t){let e=Oir(),r=[t];for(e[t].distance=0;r.length>0;){let n=r.pop(),i=Object.keys(d5[n]);for(let{length:o}=i,a=0;a<o;a++){let s=i[a],c=e[s];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,r.unshift(s))}}return e}function kir(t,e){return function(r){return e(t(r))}}function Mir(t,e){let r=[e[t].parent,t],n=d5[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=kir(d5[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}function Bir(t){let e=Nir(t),r={},n=Object.keys(e);for(let{length:i}=n,o=0;o<i;o++){let a=n[o];e[a].parent!==null&&(r[a]=Mir(a,e))}return r}var int,ont=D(()=>{ype();int=Bir});function Lir(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function Uir(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let{length:o}=i,a=0;a<o;a++)i[a]=Math.round(i[a]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}var QA,Dir,cl,ant=D(()=>{ype();ont();QA={},Dir=Object.keys(d5);for(let t of Dir){QA[t]={},Object.defineProperty(QA[t],"channels",{value:d5[t].channels}),Object.defineProperty(QA[t],"labels",{value:d5[t].labels});let e=int(t),r=Object.keys(e);for(let n of r){let i=e[n];QA[t][n]=Uir(i),QA[t][n].raw=Lir(i)}}cl=QA});var cnt={};lr(cnt,{default:()=>Gir});function rs(t,e){if(!(this instanceof rs))return new rs(t,e);if(e&&e in snt&&(e=null),e&&!(e in cl))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof rs)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){let i=Y3.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=cl[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=cl[this.model].channels;let i=Array.prototype.slice.call(t,0,n);this.color=vpe(i,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let o=i.sort().join("");if(!(o in gpe))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=gpe[o];let{labels:a}=cl[this.model],s=[];for(r=0;r<a.length;r++)s.push(t[a[r]]);this.color=vpe(s)}if(wpe[this.model])for(n=cl[this.model].channels,r=0;r<n;r++){let i=wpe[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function Fir(t,e){return Number(t.toFixed(e))}function Hir(t){return function(e){return Fir(e,t)}}function Mo(t,e,r){t=Array.isArray(t)?t:[t];for(let n of t)(wpe[n]||=[])[e]=r;return t=t[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function Ra(t){return function(e){return Math.max(0,Math.min(t,e))}}function zir(t){return Array.isArray(t)?t:[t]}function vpe(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}var snt,gpe,wpe,Gir,lnt=D(()=>{rnt();ant();snt=["keyword","gray","hex"],gpe={};for(let t of Object.keys(cl))gpe[[...cl[t].labels].sort().join("")]=t;wpe={};rs.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in Y3.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:[...e.color,this.valpha];return Y3.to[e.model](...r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:[...e.color,this.valpha];return Y3.to.rgb.percent(...r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let t={},{channels:e}=cl[this.model],{labels:r}=cl[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new rs([...this.color.map(Hir(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new rs([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Mo("rgb",0,Ra(255)),green:Mo("rgb",1,Ra(255)),blue:Mo("rgb",2,Ra(255)),hue:Mo(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Mo("hsl",1,Ra(100)),lightness:Mo("hsl",2,Ra(100)),saturationv:Mo("hsv",1,Ra(100)),value:Mo("hsv",2,Ra(100)),chroma:Mo("hcg",1,Ra(100)),gray:Mo("hcg",2,Ra(100)),white:Mo("hwb",1,Ra(100)),wblack:Mo("hwb",2,Ra(100)),cyan:Mo("cmyk",0,Ra(100)),magenta:Mo("cmyk",1,Ra(100)),yellow:Mo("cmyk",2,Ra(100)),black:Mo("cmyk",3,Ra(100)),x:Mo("xyz",0,Ra(95.047)),y:Mo("xyz",1,Ra(100)),z:Mo("xyz",2,Ra(108.833)),l:Mo("lab",0,Ra(100)),a:Mo("lab",1),b:Mo("lab",2),keyword(t){return t!==void 0?new rs(t):cl[this.model].keyword(this.color)},hex(t){return t!==void 0?new rs(t):Y3.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new rs(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),Y3.to.hex(...e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,n]of t.entries()){let i=n/255;e[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return rs.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,a=r.alpha()-n.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,c=1-s;return rs.rgb(s*r.red()+c*n.red(),s*r.green()+c*n.green(),s*r.blue()+c*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let t of Object.keys(cl)){if(snt.includes(t))continue;let{channels:e}=cl[t];rs.prototype[t]=function(...r){return this.model===t?new rs(this):r.length>0?new rs(r,t):new rs([...zir(cl[this.model][t].raw(this.color)),this.valpha],t)},rs[t]=function(...r){let n=r[0];return typeof n=="number"&&(n=vpe(r,e)),new rs(n,t)}}Gir=rs});J3();nt();Ye();Ho();_i();var XV=ve(Do());function Nve(t,e){return JSON.parse(t,(r,n)=>{var i,o,a;let s=n;return((i=s)===null||i===void 0?void 0:i.__type)==="bigint"&&(s=BigInt(s.value)),((o=s)===null||o===void 0?void 0:o.__type)==="Map"&&(s=new Map(s.value)),(a=void 0)!==null&&a!==void 0?a:s})}var kve=t=>({getItem(e){if(typeof window>"u")return null;let r=Dht(document.cookie,e);return r??null},setItem(e,r){if(typeof window>"u")return;let n=`${e}=${r};path=/;samesite=Lax`;t!=null&&t.expiry&&typeof t.expiry=="number"&&(n+=`; expires=${new Date(Date.now()+t.expiry).toUTCString()}`),n+="; secure",document.cookie=n},removeItem(e){typeof window>"u"||(document.cookie=`${e}=;max-age=-1;path=/`)}});function Dht(t,e){let r=t.split("; ").find(n=>n.startsWith(`${e}=`));if(r)return r.substring(e.length+1)}l4();u4();og();uZ();nt();Ye();SY();_i();var jM=ve(Do());PM();X7();lm();m6();ku();ma();jd();Ho();var kZ=class extends E1{constructor(e){super(e),V(this,"name",it.AUTH),V(this,"connectorNamespace",Zo.MULTICHAIN),V(this,"type",ba.IN_APP),V(this,"authInstance",null),V(this,"status",Oe.NOT_READY),V(this,"privateKeyProvider",null),V(this,"authOptions",void 0),V(this,"loginSettings",{authConnection:""}),V(this,"wsSettings",void 0),V(this,"wsEmbedInstance",null),V(this,"authConnectionConfig",[]),V(this,"wsEmbedInstancePromise",null),this.authOptions=e.connectorSettings,this.loginSettings=e.loginSettings||{authConnection:""},this.wsSettings=e.walletServicesSettings||{},this.authConnectionConfig=e.authConnectionConfig||[]}get provider(){if(this.status!==Oe.NOT_READY){var e;if((e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw new Error("Not implemented")}async init(e){let{chains:r}=this.coreOptions,{chainId:n}=e,i=r.find(d=>d.chainId===n);if(super.checkInitializationRequirements({chainConfig:i}),!this.coreOptions.clientId)throw tt.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw tt.invalidParams("authOptions is required before auth's initialization");if(this.authConnectionConfig.length===0)throw tt.invalidParams("authConnectionConfig is required before auth's initialization");let o=this.authOptions.uxMode===Zi.REDIRECT;this.authOptions=q(q({},this.authOptions),{},{replaceUrlOnRedirect:o,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new f7(q(q({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:gl.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(d=>!d.isDefault),mfaSettings:this.coreOptions.mfaSettings})),Be.debug("initializing auth connector init",this.authOptions);let a=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(i.chainNamespace){case pt.EIP155:case pt.SOLANA:{var s,c,l,u;let{default:d}=await Promise.resolve().then(()=>(dg(),q9e));this.wsEmbedInstance=new d({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});let f=r.filter(h=>h.chainNamespace===pt.EIP155||h.chainNamespace===pt.SOLANA),p=q(q(q({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel),{},{logoLight:((s=this.wsSettings.whiteLabel)===null||s===void 0?void 0:s.logoLight)||((c=this.authOptions.whiteLabel)===null||c===void 0?void 0:c.logoLight)||"",logoDark:((l=this.wsSettings.whiteLabel)===null||l===void 0?void 0:l.logoDark)||((u=this.authOptions.whiteLabel)===null||u===void 0?void 0:u.logoDark)||""});this.wsEmbedInstancePromise=this.wsEmbedInstance.init(q(q({},this.wsSettings),{},{chains:f,chainId:n,whiteLabel:q(q({},p),{},{logoLight:p.logoLight||"",logoDark:p.logoDark||""})})).then(()=>{this.wsEmbedInstancePromise=null});break}case pt.XRPL:throw Xe.connectionError("Private key provider is required for XRPL");default:{let{CommonPrivateKeyProvider:d}=await Promise.resolve().then(()=>(Q9e(),J9e));this.privateKeyProvider=new d({config:{chain:i,chains:this.coreOptions.chains}})}}Be.debug("initializing auth connector"),await a,this.status=Oe.READY,this.emit(ot.READY,it.AUTH);try{let{sessionId:d}=this.authInstance||{};if(d&&(e.autoConnect||o))this.rehydrated=!0,await this.connect({chainId:e.chainId});else if(!d&&e.autoConnect)throw Xe.connectionError("Failed to rehydrate")}catch(d){this.emit(ot.REHYDRATION_ERROR,d)}}async connect(e){super.checkConnectionRequirements(),this.status=Oe.CONNECTING,this.emit(ot.CONNECTING,q(q({},e),{},{connector:it.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(n){var r;throw Be.error("Failed to connect with auth provider",n),this.status=Oe.READY,this.emit(ot.ERRORED,n),n!=null&&(r=n.message)!==null&&r!==void 0&&r.includes("user closed popup")?Xe.popupClosed():n instanceof ro?n:Xe.connectionError("Failed to login with auth",n)}}async enableMFA(e={authConnection:""}){if(this.status!==Oe.CONNECTED)throw Xe.notConnectedError("Not connected with wallet");if(!this.authInstance)throw tt.notReady("authInstance is not ready");try{let r=await this.authInstance.enableMFA(e);r&&this.emit(ot.MFA_ENABLED,r)}catch(r){throw Be.error("Failed to enable MFA with auth provider",r),r instanceof ro?r:Xe.connectionError("Failed to enable MFA with auth",r)}}async manageMFA(e={authConnection:""}){if(this.status!==Oe.CONNECTED)throw Xe.notConnectedError("Not connected with wallet");if(!this.authInstance)throw tt.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(r){throw Be.error("Failed to manage MFA with auth provider",r),r instanceof ro?r:Xe.connectionError("Failed to manage MFA with auth",r)}}async disconnect(e={cleanup:!1}){if(this.status!==Oe.CONNECTED)throw Xe.notConnectedError("Not connected with wallet");if(!this.authInstance)throw tt.notReady("authInstance is not ready");this.status=Oe.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=Oe.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=Oe.READY,this.rehydrated=!1,this.emit(ot.DISCONNECTED)}async getIdentityToken(){if(this.status!==Oe.CONNECTED)throw Xe.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==Oe.CONNECTED)throw Xe.notConnectedError("Not connected with wallet");if(!this.authInstance)throw tt.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,r=!1){super.checkSwitchChainRequirements(e,r);let{chainId:n}=e,{chainId:i}=this.provider,{chainNamespace:o}=this.getChain(i),{chainNamespace:a}=this.getChain(n);if(i!==n)if(o===pt.SOLANA||o===pt.EIP155){var s;if(a!==pt.SOLANA&&a!==pt.EIP155)throw Xe.connectionError("Cannot switch to other chain namespace");let l=`${a}:${Number(e.chainId)}`;await((s=this.wsEmbedInstance.provider)===null||s===void 0?void 0:s.request({method:"wallet_switchChain",params:{chainId:l}}))}else{var c;if(o!==a)throw Xe.connectionError("Cannot switch to other chain namespace");await((c=this.privateKeyProvider)===null||c===void 0?void 0:c.switchChain(e))}}async cleanup(){if(!this.authInstance)throw tt.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){let{authConnection:r,authConnectionId:n,groupedAuthConnectionId:i}=e;return this.authConnectionConfig.find(a=>i&&n?a.authConnection===r&&a.groupedAuthConnectionId===i&&a.authConnectionId===n:n?a.authConnection===r&&a.authConnectionId===n:a.authConnection===r&&a.isDefault)}getChain(e){return this.coreOptions.chains.find(r=>r.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw Xe.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(e){var r,n;if(!this.authInstance)throw tt.notReady("authInstance is not ready");let i=this.coreOptions.chains.find(l=>l.chainId===e.chainId);if(!i)throw Xe.connectionError("Chain config is not available");let{chainNamespace:o}=i,a=o===pt.EIP155||o===pt.SOLANA?(r=this.authInstance)===null||r===void 0?void 0:r.sessionId:this._getFinalPrivKey();if(e.idToken&&(e.extraLoginOptions=q(q({},e.extraLoginOptions),{},{id_token:e.idToken})),!a||(n=e.extraLoginOptions)!==null&&n!==void 0&&n.id_token){var s;this.loginSettings.curve=lY.OTHER;let l=(0,jM.default)(this.loginSettings,e);(s=e.extraLoginOptions)!==null&&s!==void 0&&s.id_token?await this.connectWithJwtLogin(l):await this.connectWithSocialLogin(l)}if(o===pt.EIP155||o===pt.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;let{sessionId:l,sessionNamespace:u}=this.authInstance||{};if(l&&await this.wsEmbedInstance.loginWithSessionId({sessionId:l,sessionNamespace:u})){var c;this.status=Oe.CONNECTED,this.emit(ot.CONNECTED,{connector:it.AUTH,reconnected:this.rehydrated,provider:this.provider}),(c=this.wsEmbedInstance)===null||c===void 0||c.provider.on("accountsChanged",(f=[])=>{f.length===0&&this.status===Oe.CONNECTED&&this.disconnect({cleanup:!1})})}}else{let l=this._getFinalPrivKey();l&&(await this.privateKeyProvider.setupProvider(l,e.chainId),this.status=Oe.CONNECTED,this.emit(ot.CONNECTED,{connector:it.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var r,n;let i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection))throw Xe.connectionError("Invalid auth connection.");let o=q(q(q({},i.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||((r=e.extraLoginOptions)===null||r===void 0?void 0:r.login_hint)}),a=s2(),s=Ou(e);s.extraLoginOptions=q(q({},s.extraLoginOptions||{}),{},{login_hint:e.loginHint||((n=e.extraLoginOptions)===null||n===void 0?void 0:n.login_hint)}),delete s.chainId;let c={authConnection:e.authConnection,authConnectionId:i.authConnectionId,clientId:i.clientId||o.client_id,groupedAuthConnectionId:i.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:o,customState:{nonce:a,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(s),version:kw.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork},l=tY(c),u=new Rd({url:l.finalURL,timeout:0});if(this.authOptions.uxMode===Zi.REDIRECT)return u.redirect(this.authOptions.replaceUrlOnRedirect);let d=!1;return new Promise((f,p)=>{u.open().catch(b=>{Be.error("Error during login with social",b),this.authInstance.postLoginCancelledMessage(a),p(b)});let h=new I2({sameIpCheck:!0});h.subscribe(`web3auth-login-${a}`).then(b=>{let _=JSON.parse(b||"{}");return _?.message==="login_finished"&&(_!=null&&_.error&&(this.authInstance.postLoginCancelledMessage(a),p(_.error)),d=!0,h.cleanup(),u.close()),!0}).catch(b=>{Be.error("Error during login with social",b)}),u.once("close",()=>{d||(h.cleanup(),this.authInstance.postLoginCancelledMessage(a),p(Xe.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(s,a).then(f).catch(b=>{if(b instanceof ro)throw b;p(Xe.connectionError(b instanceof Error?b.message:b||"Failed to login with social"))})})}connectWithJwtLogin(e){var r,n;let i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection)&&!e.authConnectionId)throw Xe.connectionError("Invalid auth connection.");i!=null&&i.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});let o=Ou(e),a=q(q({},i?.jwtParameters||{}),e.extraLoginOptions||{}),s;if(e.loginHint||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.login_hint){var c;s=e.loginHint||((c=e.extraLoginOptions)===null||c===void 0?void 0:c.login_hint)}else if((n=e.extraLoginOptions)!==null&&n!==void 0&&n.id_token){let{payload:l}=Kve(e.extraLoginOptions.id_token);s=Gp(l,o.authConnection,a.userIdField,a.isUserIdCaseSensitive)}else throw Xe.connectionError("Invalid login hint or id_token");return o.extraLoginOptions=q(q({},a),{},{login_hint:s}),delete o.chainId,this.authInstance.postLoginInitiatedMessage(o)}},Z9e=t=>({projectConfig:e,coreOptions:r})=>{var n,i,o,a;let s={},{whitelist:c,sessionTime:l}=e;c&&(s.originData=c.signed_urls),r.sessionTime?s.sessionTime=r.sessionTime:l&&(s.sessionTime=l),(n=r.uiConfig)!==null&&n!==void 0&&n.uxMode&&(s.uxMode=r.uiConfig.uxMode);let u=r.uiConfig||{};s.whiteLabel=u;let d=jM.default.all([{uxMode:Zi.POPUP,buildEnv:r.authBuildEnv||Bd.PRODUCTION},s,t?.connectorSettings||{}]),f=jM.default.all([u,((i=r.walletServicesConfig)===null||i===void 0?void 0:i.whiteLabel)||{}]),p=q(q({},r.walletServicesConfig),{},{whiteLabel:f,accountAbstractionConfig:r.accountAbstractionConfig,enableLogging:r.enableLogging}),h=(o=(a=r.walletServicesConfig)===null||a===void 0?void 0:a.enableKeyExport)!==null&&o!==void 0?o:!0;return r.privateKeyProvider&&r.privateKeyProvider.setKeyExportFlag(h),new kZ({connectorSettings:d,walletServicesSettings:p,loginSettings:q(q({},t?.loginSettings||{}),{},{mfaLevel:r.mfaLevel}),coreOptions:r,authConnectionConfig:e.embeddedWalletAuth})};nt();Ye();var _ee=ve(eEe()),e0=ve(oEe()),vo=ve(wEe()),$4=ve(xEe());eB();DN();var pmt=Tpe({});function Ie(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(l){try{c(n.next(l))}catch(u){o(u)}}function s(l){try{c(n.throw(l))}catch(u){o(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof r?u:new r((function(d){d(u)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}var G0=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},S1=[],Fu=[],hmt=typeof Uint8Array<"u"?Uint8Array:Array,See=!1;function oTe(){See=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)S1[e]=t[e],Fu[t.charCodeAt(e)]=e;Fu[45]=62,Fu[95]=63}function mmt(t,e,r){for(var n,i,o=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(S1[(i=n)>>18&63]+S1[i>>12&63]+S1[i>>6&63]+S1[63&i]);return o.join("")}function GEe(t){var e;See||oTe();for(var r=t.length,n=r%3,i="",o=[],a=16383,s=0,c=r-n;s<c;s+=a)o.push(mmt(t,s,s+a>c?c:s+a));return n===1?(e=t[r-1],i+=S1[e>>2],i+=S1[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=S1[e>>10],i+=S1[e>>4&63],i+=S1[e<<2&63],i+="="),o.push(i),o.join("")}function tB(t,e,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?i-1:0,f=r?-1:1,p=t[e+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+t[e+d],d+=f,u-=8);if(o===0)o=1-l;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=l}return(p?-1:1)*a*Math.pow(2,o-n)}function aTe(t,e,r,n,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*c-1)*Math.pow(2,i),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[r+p]=255&a,p+=h,a/=256,l-=8);t[r+p-h]|=128*b}var bmt={}.toString,sTe=Array.isArray||function(t){return bmt.call(t)=="[object Array]"};Pe.TYPED_ARRAY_SUPPORT=G0.TYPED_ARRAY_SUPPORT===void 0||G0.TYPED_ARRAY_SUPPORT;var ymt=HB();function HB(){return Pe.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function A6(t,e){if(HB()<e)throw new RangeError("Invalid typed array length");return Pe.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Pe.prototype:(t===null&&(t=new Pe(e)),t.length=e),t}function Pe(t,e,r){if(!(Pe.TYPED_ARRAY_SUPPORT||this instanceof Pe))return new Pe(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return MX(this,t)}return cTe(this,t,e,r)}function cTe(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?(function(i,o,a,s){if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(s||0))throw new RangeError("'length' is out of bounds");return o=a===void 0&&s===void 0?new Uint8Array(o):s===void 0?new Uint8Array(o,a):new Uint8Array(o,a,s),Pe.TYPED_ARRAY_SUPPORT?(i=o).__proto__=Pe.prototype:i=YZ(i,o),i})(t,e,r,n):typeof e=="string"?(function(i,o,a){if(typeof a=="string"&&a!==""||(a="utf8"),!Pe.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var s=0|uTe(o,a);i=A6(i,s);var c=i.write(o,a);return c!==s&&(i=i.slice(0,c)),i})(t,e,r):(function(i,o){if(I1(o)){var a=0|Iee(o.length);return(i=A6(i,a)).length===0||o.copy(i,0,0,a),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(s=o.length)!=s?A6(i,0):YZ(i,o);if(o.type==="Buffer"&&sTe(o.data))return YZ(i,o.data)}var s;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")})(t,e)}function lTe(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function MX(t,e){if(lTe(e),t=A6(t,e<0?0:0|Iee(e)),!Pe.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function YZ(t,e){var r=e.length<0?0:0|Iee(e.length);t=A6(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function Iee(t){if(t>=HB())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+HB().toString(16)+" bytes");return 0|t}function I1(t){return!(t==null||!t._isBuffer)}function uTe(t,e){if(I1(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return zB(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return hTe(t).length;default:if(n)return zB(t).length;e=(""+e).toLowerCase(),n=!0}}function gmt(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Imt(this,e,r);case"utf8":case"utf-8":return fTe(this,e,r);case"ascii":return _mt(this,e,r);case"latin1":case"binary":return Smt(this,e,r);case"base64":return Tmt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Cmt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function pg(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function jEe(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof e=="string"&&(e=Pe.from(e,n)),I1(e))return e.length===0?-1:$Ee(t,e,r,n,i);if(typeof e=="number")return e&=255,Pe.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):$Ee(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function $Ee(t,e,r,n,i){var o,a=1,s=t.length,c=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,r/=2}function l(p,h){return a===1?p[h]:p.readUInt16BE(h*a)}if(i){var u=-1;for(o=r;o<s;o++)if(l(t,o)===l(e,u===-1?0:o-u)){if(u===-1&&(u=o),o-u+1===c)return u*a}else u!==-1&&(o-=o-u),u=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(l(t,o+f)!==l(e,f)){d=!1;break}if(d)return o}return-1}function wmt(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function vmt(t,e,r,n){return vD(zB(e,t.length-r),t,r,n)}function dTe(t,e,r,n){return vD((function(i){for(var o=[],a=0;a<i.length;++a)o.push(255&i.charCodeAt(a));return o})(e),t,r,n)}function Emt(t,e,r,n){return dTe(t,e,r,n)}function xmt(t,e,r,n){return vD(hTe(e),t,r,n)}function Amt(t,e,r,n){return vD((function(i,o){for(var a,s,c,l=[],u=0;u<i.length&&!((o-=2)<0);++u)s=(a=i.charCodeAt(u))>>8,c=a%256,l.push(c),l.push(s);return l})(e,t.length-r),t,r,n)}function Tmt(t,e,r){return e===0&&r===t.length?GEe(t):GEe(t.slice(e,r))}function fTe(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,c,l=t[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=r)switch(d){case 1:l<128&&(u=l);break;case 2:(192&(o=t[i+1]))==128&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],a=t[i+2],(192&o)==128&&(192&a)==128&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}u===null?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return(function(f){var p=f.length;if(p<=VEe)return String.fromCharCode.apply(String,f);for(var h="",b=0;b<p;)h+=String.fromCharCode.apply(String,f.slice(b,b+=VEe));return h})(n)}Pe.poolSize=8192,Pe._augment=function(t){return t.__proto__=Pe.prototype,t},Pe.from=function(t,e,r){return cTe(null,t,e,r)},Pe.TYPED_ARRAY_SUPPORT&&(Pe.prototype.__proto__=Uint8Array.prototype,Pe.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Pe[Symbol.species]),Pe.alloc=function(t,e,r){return(function(n,i,o,a){return lTe(i),i<=0?A6(n,i):o!==void 0?typeof a=="string"?A6(n,i).fill(o,a):A6(n,i).fill(o):A6(n,i)})(null,t,e,r)},Pe.allocUnsafe=function(t){return MX(null,t)},Pe.allocUnsafeSlow=function(t){return MX(null,t)},Pe.isBuffer=mTe,Pe.compare=function(t,e){if(!I1(t)||!I1(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},Pe.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Pe.concat=function(t,e){if(!sTe(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Pe.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Pe.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!I1(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Pe.byteLength=uTe,Pe.prototype._isBuffer=!0,Pe.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)pg(this,e,e+1);return this},Pe.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)pg(this,e,e+3),pg(this,e+1,e+2);return this},Pe.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)pg(this,e,e+7),pg(this,e+1,e+6),pg(this,e+2,e+5),pg(this,e+3,e+4);return this},Pe.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?fTe(this,0,t):gmt.apply(this,arguments)},Pe.prototype.equals=function(t){if(!I1(t))throw new TypeError("Argument must be a Buffer");return this===t||Pe.compare(this,t)===0},Pe.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Pe.prototype.compare=function(t,e,r,n,i){if(!I1(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r),u=0;u<s;++u)if(c[u]!==l[u]){o=c[u],a=l[u];break}return o<a?-1:a<o?1:0},Pe.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},Pe.prototype.indexOf=function(t,e,r){return jEe(this,t,e,r,!0)},Pe.prototype.lastIndexOf=function(t,e,r){return jEe(this,t,e,r,!1)},Pe.prototype.write=function(t,e,r,n){if(e===void 0)n="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((r===void 0||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return wmt(this,t,e,r);case"utf8":case"utf-8":return vmt(this,t,e,r);case"ascii":return dTe(this,t,e,r);case"latin1":case"binary":return Emt(this,t,e,r);case"base64":return xmt(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Amt(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Pe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var VEe=4096;function _mt(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function Smt(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Imt(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=Pmt(t[o]);return i}function Cmt(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function za(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function _c(t,e,r,n,i,o){if(!I1(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function rB(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function nB(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function pTe(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function KEe(t,e,r,n,i){return i||pTe(t,0,r,4),aTe(t,e,r,n,23,4),r+4}function qEe(t,e,r,n,i){return i||pTe(t,0,r,8),aTe(t,e,r,n,52,8),r+8}Pe.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=e===void 0?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Pe.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Pe.prototype;else{var i=e-t;r=new Pe(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},Pe.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||za(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},Pe.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||za(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Pe.prototype.readUInt8=function(t,e){return e||za(t,1,this.length),this[t]},Pe.prototype.readUInt16LE=function(t,e){return e||za(t,2,this.length),this[t]|this[t+1]<<8},Pe.prototype.readUInt16BE=function(t,e){return e||za(t,2,this.length),this[t]<<8|this[t+1]},Pe.prototype.readUInt32LE=function(t,e){return e||za(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Pe.prototype.readUInt32BE=function(t,e){return e||za(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Pe.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||za(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Pe.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||za(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Pe.prototype.readInt8=function(t,e){return e||za(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Pe.prototype.readInt16LE=function(t,e){e||za(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Pe.prototype.readInt16BE=function(t,e){e||za(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Pe.prototype.readInt32LE=function(t,e){return e||za(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Pe.prototype.readInt32BE=function(t,e){return e||za(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Pe.prototype.readFloatLE=function(t,e){return e||za(t,4,this.length),tB(this,t,!0,23,4)},Pe.prototype.readFloatBE=function(t,e){return e||za(t,4,this.length),tB(this,t,!1,23,4)},Pe.prototype.readDoubleLE=function(t,e){return e||za(t,8,this.length),tB(this,t,!0,52,8)},Pe.prototype.readDoubleBE=function(t,e){return e||za(t,8,this.length),tB(this,t,!1,52,8)},Pe.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||_c(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Pe.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||_c(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Pe.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,1,255,0),Pe.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Pe.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,2,65535,0),Pe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):rB(this,t,e,!0),e+2},Pe.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,2,65535,0),Pe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):rB(this,t,e,!1),e+2},Pe.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,4,4294967295,0),Pe.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):nB(this,t,e,!0),e+4},Pe.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,4,4294967295,0),Pe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):nB(this,t,e,!1),e+4},Pe.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);_c(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&s===0&&this[e+o-1]!==0&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},Pe.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);_c(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&s===0&&this[e+o+1]!==0&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},Pe.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,1,127,-128),Pe.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Pe.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,2,32767,-32768),Pe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):rB(this,t,e,!0),e+2},Pe.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,2,32767,-32768),Pe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):rB(this,t,e,!1),e+2},Pe.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,4,2147483647,-2147483648),Pe.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):nB(this,t,e,!0),e+4},Pe.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||_c(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Pe.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):nB(this,t,e,!1),e+4},Pe.prototype.writeFloatLE=function(t,e,r){return KEe(this,t,e,!0,r)},Pe.prototype.writeFloatBE=function(t,e,r){return KEe(this,t,e,!1,r)},Pe.prototype.writeDoubleLE=function(t,e,r){return qEe(this,t,e,!0,r)},Pe.prototype.writeDoubleBE=function(t,e,r){return qEe(this,t,e,!1,r)},Pe.prototype.copy=function(t,e,r,n){if(r||(r=0),n||n===0||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!Pe.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},Pe.prototype.fill=function(t,e,r,n){if(typeof t=="string"){if(typeof e=="string"?(n=e,e=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Pe.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else typeof t=="number"&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(o=e;o<r;++o)this[o]=t;else{var a=I1(t)?t:zB(new Pe(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var Rmt=/[^+\/0-9A-Za-z-_]/g;function Pmt(t){return t<16?"0"+t.toString(16):t.toString(16)}function zB(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function hTe(t){return(function(e){var r,n,i,o,a,s;See||oTe();var c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=e[c-2]==="="?2:e[c-1]==="="?1:0,s=new hmt(3*c/4-a),i=a>0?c-4:c;var l=0;for(r=0,n=0;r<i;r+=4,n+=3)o=Fu[e.charCodeAt(r)]<<18|Fu[e.charCodeAt(r+1)]<<12|Fu[e.charCodeAt(r+2)]<<6|Fu[e.charCodeAt(r+3)],s[l++]=o>>16&255,s[l++]=o>>8&255,s[l++]=255&o;return a===2?(o=Fu[e.charCodeAt(r)]<<2|Fu[e.charCodeAt(r+1)]>>4,s[l++]=255&o):a===1&&(o=Fu[e.charCodeAt(r)]<<10|Fu[e.charCodeAt(r+1)]<<4|Fu[e.charCodeAt(r+2)]>>2,s[l++]=o>>8&255,s[l++]=255&o),s})((function(e){if((e=(function(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")})(e).replace(Rmt,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e})(t))}function vD(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function mTe(t){return t!=null&&(!!t._isBuffer||WEe(t)||(function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&WEe(e.slice(0,0))})(t))}function WEe(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var Omt=Object.freeze({__proto__:null,Buffer:Pe,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Pe.alloc(+t)},isBuffer:mTe,kMaxLength:ymt}),Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ED(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function W_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})})),r}var S4={},Cl={},Qs={};function GB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function bTe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function yTe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Cee(t,...e){if(!yTe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function gTe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");GB(t.outputLen),GB(t.blockLen)}function wTe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vTe(t,e){Cee(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.isBytes=yTe,Qs.number=GB,Qs.bool=bTe,Qs.bytes=Cee,Qs.hash=gTe,Qs.exists=wTe,Qs.output=vTe;var Nmt={number:GB,bool:bTe,bytes:Cee,hash:gTe,exists:wTe,output:vTe};Qs.default=Nmt,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=n,t.hexToBytes=a,t.hexToNumber=s,t.bytesToNumberBE=function(d){return s(n(d))},t.numberToBytesBE=function(d,f){return a(d.toString(16).padStart(2*f,"0"))},t.asyncLoop=async function(d,f,p){let h=Date.now();for(let b=0;b<d;b++){p(b);let _=Date.now()-h;_>=0&&_<f||(await(0,t.nextTick)(),h+=_)}},t.utf8ToBytes=c,t.bytesToUtf8=function(d){return new TextDecoder().decode(d)},t.toBytes=function(d){if(typeof d=="string")d=c(d);else{if(!(0,e.isBytes)(d))throw new Error("Uint8Array expected, got "+typeof d);d=u(d)}return d},t.concatBytes=function(...d){let f=0;for(let h=0;h<d.length;h++){let b=d[h];(0,e.bytes)(b),f+=b.length}let p=new Uint8Array(f);for(let h=0,b=0;h<d.length;h++){let _=d[h];p.set(_,b),b+=_.length}return p},t.checkOpts=function(d,f){if(f==null||typeof f!="object")throw new Error("options must be defined");return Object.assign(d,f)},t.equalBytes=function(d,f){if(d.length!==f.length)return!1;let p=0;for(let h=0;h<d.length;h++)p|=d[h]^f[h];return p===0},t.setBigUint64=l,t.u64Lengths=function(d,f){let p=new Uint8Array(16),h=(0,t.createView)(p);return l(h,0,BigInt(f?f.length:0),!0),l(h,8,BigInt(d.length),!0),p},t.isAligned32=function(d){return d.byteOffset%4==0},t.copyBytes=u,t.clean=function(...d){for(let f=0;f<d.length;f++)d[f].fill(0)};let e=Qs;if(t.u8=d=>new Uint8Array(d.buffer,d.byteOffset,d.byteLength),t.u16=d=>new Uint16Array(d.buffer,d.byteOffset,Math.floor(d.byteLength/2)),t.u32=d=>new Uint32Array(d.buffer,d.byteOffset,Math.floor(d.byteLength/4)),t.createView=d=>new DataView(d.buffer,d.byteOffset,d.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");let r=Array.from({length:256},((d,f)=>f.toString(16).padStart(2,"0")));function n(d){(0,e.bytes)(d);let f="";for(let p=0;p<d.length;p++)f+=r[d[p]];return f}let i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(d){return d>=i._0&&d<=i._9?d-i._0:d>=i._A&&d<=i._F?d-(i._A-10):d>=i._a&&d<=i._f?d-(i._a-10):void 0}function a(d){if(typeof d!="string")throw new Error("hex string expected, got "+typeof d);let f=d.length,p=f/2;if(f%2)throw new Error("padded hex string expected, got unpadded hex of length "+f);let h=new Uint8Array(p);for(let b=0,_=0;b<p;b++,_+=2){let A=o(d.charCodeAt(_)),C=o(d.charCodeAt(_+1));if(A===void 0||C===void 0){let R=d[_]+d[_+1];throw new Error('hex string expected, got non-hex character "'+R+'" at index '+_)}h[b]=16*A+C}return h}function s(d){if(typeof d!="string")throw new Error("hex string expected, got "+typeof d);return BigInt(d===""?"0":`0x${d}`)}function c(d){if(typeof d!="string")throw new Error("string expected, got "+typeof d);return new Uint8Array(new TextEncoder().encode(d))}t.nextTick=async()=>{},t.Hash=class{};function l(d,f,p,h){if(typeof d.setBigUint64=="function")return d.setBigUint64(f,p,h);let b=BigInt(32),_=BigInt(4294967295),A=Number(p>>b&_),C=Number(p&_),R=h?4:0,M=h?0:4;d.setUint32(f+R,A,h),d.setUint32(f+M,C,h)}function u(d){return Uint8Array.from(d)}t.wrapCipher=(d,f)=>(Object.assign(f,d),f)})(Cl);var N_={},Ga={};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.AEAD_TAG_LENGTH=Ga.XCHACHA20_NONCE_LENGTH=Ga.CURVE25519_PUBLIC_KEY_SIZE=Ga.ETH_PUBLIC_KEY_SIZE=Ga.UNCOMPRESSED_PUBLIC_KEY_SIZE=Ga.COMPRESSED_PUBLIC_KEY_SIZE=Ga.SECRET_KEY_LENGTH=void 0,Ga.SECRET_KEY_LENGTH=32,Ga.COMPRESSED_PUBLIC_KEY_SIZE=33,Ga.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Ga.ETH_PUBLIC_KEY_SIZE=64,Ga.CURVE25519_PUBLIC_KEY_SIZE=32,Ga.XCHACHA20_NONCE_LENGTH=24,Ga.AEAD_TAG_LENGTH=16,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=Ga,r=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};t.ECIES_CONFIG=new r,t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var n={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in n)return n[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}})(N_);var JZ={},jB={},xD={},ETe={},Ree={},iB={};Object.defineProperty(iB,"__esModule",{value:!0}),iB.crypto=void 0,iB.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=o,t.managedNonce=function(c){return(0,r.number)(c.nonceLength),(l,...u)=>({encrypt(d,...f){let{nonceLength:p}=c,h=i(p),b=c(l,h,...u).encrypt(d,...f),_=(0,n.concatBytes)(h,b);return b.fill(0),_},decrypt(d,...f){let{nonceLength:p}=c,h=d.subarray(0,p),b=d.subarray(p);return c(l,h,...u).decrypt(b,...f)}})};let e=iB,r=Qs,n=Cl;function i(c=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(c));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(c);throw new Error("crypto.getRandomValues must be defined")}function o(){if(e.crypto&&typeof e.crypto.subtle=="object"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error("crypto.subtle must be defined")}t.utils={async encrypt(c,l,u,d){let f=o(),p=await f.importKey("raw",c,l,!0,["encrypt"]),h=await f.encrypt(u,p,d);return new Uint8Array(h)},async decrypt(c,l,u,d){let f=o(),p=await f.importKey("raw",c,l,!0,["decrypt"]),h=await f.decrypt(u,p,d);return new Uint8Array(h)}};let a={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function s(c){return(l,u,d)=>{(0,r.bytes)(l),(0,r.bytes)(u);let f={name:c,length:8*l.length},p=(function(h,b,_){if(h===a.CBC)return{name:a.CBC,iv:b};if(h===a.CTR)return{name:a.CTR,counter:b,length:64};if(h===a.GCM)return _?{name:a.GCM,iv:b,additionalData:_}:{name:a.GCM,iv:b};throw new Error("unknown aes block mode")})(c,u,d);return{encrypt:h=>((0,r.bytes)(h),t.utils.encrypt(l,f,p,h)),decrypt:h=>((0,r.bytes)(h),t.utils.decrypt(l,f,p,h))}}}t.cbc=s(a.CBC),t.ctr=s(a.CTR),t.gcm=s(a.GCM)})(Ree);var xTe={},ja={},T6={},_l={};function $B(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function ATe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function TTe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Pee(t,...e){if(!TTe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function _Te(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$B(t.outputLen),$B(t.blockLen)}function STe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ITe(t,e){Pee(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(_l,"__esModule",{value:!0}),_l.isBytes=TTe,_l.number=$B,_l.bool=ATe,_l.bytes=Pee,_l.hash=_Te,_l.exists=STe,_l.output=ITe;var kmt={number:$B,bool:ATe,bytes:Pee,hash:_Te,exists:STe,output:ITe};_l.default=kmt;var R6={},oB={};Object.defineProperty(oB,"__esModule",{value:!0}),oB.crypto=void 0,oB.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"},t.byteSwap32=function(l){for(let u=0;u<l.length;u++)l[u]=(0,t.byteSwap)(l[u])},t.bytesToHex=function(l){(0,r.bytes)(l);let u="";for(let d=0;d<l.length;d++)u+=n[l[d]];return u},t.hexToBytes=function(l){if(typeof l!="string")throw new Error("hex string expected, got "+typeof l);let u=l.length,d=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);let f=new Uint8Array(d);for(let p=0,h=0;p<d;p++,h+=2){let b=o(l.charCodeAt(h)),_=o(l.charCodeAt(h+1));if(b===void 0||_===void 0){let A=l[h]+l[h+1];throw new Error('hex string expected, got non-hex character "'+A+'" at index '+h)}f[p]=16*b+_}return f},t.asyncLoop=async function(l,u,d){let f=Date.now();for(let p=0;p<l;p++){d(p);let h=Date.now()-f;h>=0&&h<u||(await(0,t.nextTick)(),f+=h)}},t.utf8ToBytes=a,t.toBytes=s,t.concatBytes=function(...l){let u=0;for(let f=0;f<l.length;f++){let p=l[f];(0,r.bytes)(p),u+=p.length}let d=new Uint8Array(u);for(let f=0,p=0;f<l.length;f++){let h=l[f];d.set(h,p),p+=h.length}return d},t.checkOpts=function(l,u){if(u!==void 0&&c.call(u)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(l,u)},t.wrapConstructor=function(l){let u=f=>l().update(s(f)).digest(),d=l();return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=()=>l(),u},t.wrapConstructorWithOpts=function(l){let u=(f,p)=>l(p).update(s(f)).digest(),d=l({});return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=f=>l(f),u},t.wrapXOFConstructorWithOpts=function(l){let u=(f,p)=>l(p).update(s(f)).digest(),d=l({});return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=f=>l(f),u},t.randomBytes=function(l=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(l));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(l);throw new Error("crypto.getRandomValues must be defined")};let e=oB,r=_l;t.u8=l=>new Uint8Array(l.buffer,l.byteOffset,l.byteLength),t.u32=l=>new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4)),t.createView=l=>new DataView(l.buffer,l.byteOffset,l.byteLength),t.rotr=(l,u)=>l<<32-u|l>>>u,t.rotl=(l,u)=>l<<u|l>>>32-u>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=l=>l<<24&4278190080|l<<8&16711680|l>>>8&65280|l>>>24&255,t.byteSwapIfBE=t.isLE?l=>l:l=>(0,t.byteSwap)(l);let n=Array.from({length:256},((l,u)=>u.toString(16).padStart(2,"0"))),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(l){return l>=i._0&&l<=i._9?l-i._0:l>=i._A&&l<=i._F?l-(i._A-10):l>=i._a&&l<=i._f?l-(i._a-10):void 0}function a(l){if(typeof l!="string")throw new Error("utf8ToBytes expected string, got "+typeof l);return new Uint8Array(new TextEncoder().encode(l))}function s(l){return typeof l=="string"&&(l=a(l)),(0,r.bytes)(l),l}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};let c={}.toString})(R6),Object.defineProperty(T6,"__esModule",{value:!0}),T6.HashMD=T6.Maj=T6.Chi=void 0;var QZ=_l,p_=R6;T6.Chi=(t,e,r)=>t&e^~t&r;T6.Maj=(t,e,r)=>t&e^t&r^e&r;T6.HashMD=class extends p_.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,p_.createView)(this.buffer)}update(t){(0,QZ.exists)(this);let{view:e,buffer:r,blockLen:n}=this,i=(t=(0,p_.toBytes)(t)).length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a!==n)r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(e,0),this.pos=0);else{let s=(0,p_.createView)(t);for(;n<=i-o;o+=n)this.process(s,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,QZ.exists)(this),(0,QZ.output)(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let u=o;u<n;u++)e[u]=0;(function(u,d,f,p){if(typeof u.setBigUint64=="function")return u.setBigUint64(d,f,p);let h=BigInt(32),b=BigInt(4294967295),_=Number(f>>h&b),A=Number(f&b),C=p?4:0,R=p?0:4;u.setUint32(d+C,_,p),u.setUint32(d+R,A,p)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=(0,p_.createView)(t),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=s/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)a.setUint32(4*u,l[u],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return t.length=n,t.pos=a,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}};var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.add5L=Cr.add5H=Cr.add4H=Cr.add4L=Cr.add3H=Cr.add3L=Cr.rotlBL=Cr.rotlBH=Cr.rotlSL=Cr.rotlSH=Cr.rotr32L=Cr.rotr32H=Cr.rotrBL=Cr.rotrBH=Cr.rotrSL=Cr.rotrSH=Cr.shrSL=Cr.shrSH=Cr.toBig=void 0,Cr.fromBig=Oee,Cr.split=CTe,Cr.add=GTe;var aB=BigInt(2**32-1),BX=BigInt(32);function Oee(t,e=!1){return e?{h:Number(t&aB),l:Number(t>>BX&aB)}:{h:0|Number(t>>BX&aB),l:0|Number(t&aB)}}function CTe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:a}=Oee(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}var RTe=(t,e)=>BigInt(t>>>0)<<BX|BigInt(e>>>0);Cr.toBig=RTe;var PTe=(t,e,r)=>t>>>r;Cr.shrSH=PTe;var OTe=(t,e,r)=>t<<32-r|e>>>r;Cr.shrSL=OTe;var NTe=(t,e,r)=>t>>>r|e<<32-r;Cr.rotrSH=NTe;var kTe=(t,e,r)=>t<<32-r|e>>>r;Cr.rotrSL=kTe;var MTe=(t,e,r)=>t<<64-r|e>>>r-32;Cr.rotrBH=MTe;var BTe=(t,e,r)=>t>>>r-32|e<<64-r;Cr.rotrBL=BTe;var DTe=(t,e)=>e;Cr.rotr32H=DTe;var LTe=(t,e)=>t;Cr.rotr32L=LTe;var UTe=(t,e,r)=>t<<r|e>>>32-r;Cr.rotlSH=UTe;var FTe=(t,e,r)=>e<<r|t>>>32-r;Cr.rotlSL=FTe;var HTe=(t,e,r)=>e<<r-32|t>>>64-r;Cr.rotlBH=HTe;var zTe=(t,e,r)=>t<<r-32|e>>>64-r;function GTe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}}Cr.rotlBL=zTe;var jTe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);Cr.add3L=jTe;var $Te=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;Cr.add3H=$Te;var VTe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);Cr.add4L=VTe;var KTe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0;Cr.add4H=KTe;var qTe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0);Cr.add5L=qTe;var WTe=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;Cr.add5H=WTe;var Mmt={fromBig:Oee,split:CTe,toBig:RTe,shrSH:PTe,shrSL:OTe,rotrSH:NTe,rotrSL:kTe,rotrBH:MTe,rotrBL:BTe,rotr32H:DTe,rotr32L:LTe,rotlSH:UTe,rotlSL:FTe,rotlBH:HTe,rotlBL:zTe,add:GTe,add3L:jTe,add3H:$Te,add4L:VTe,add4H:KTe,add5H:WTe,add5L:qTe};Cr.default=Mmt,Object.defineProperty(ja,"__esModule",{value:!0}),ja.sha384=ja.sha512_256=ja.sha512_224=ja.sha512=ja.SHA384=ja.SHA512_256=ja.SHA512_224=ja.SHA512=void 0;var Bmt=T6,Vr=Cr,sB=R6,[Dmt,Lmt]=Vr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),bm=new Uint32Array(80),ym=new Uint32Array(80),xg=class extends Bmt.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:p,Gl:h,Hh:b,Hl:_}=this;return[e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_]}set(e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_){this.Ah=0|e,this.Al=0|r,this.Bh=0|n,this.Bl=0|i,this.Ch=0|o,this.Cl=0|a,this.Dh=0|s,this.Dl=0|c,this.Eh=0|l,this.El=0|u,this.Fh=0|d,this.Fl=0|f,this.Gh=0|p,this.Gl=0|h,this.Hh=0|b,this.Hl=0|_}process(e,r){for(let R=0;R<16;R++,r+=4)bm[R]=e.getUint32(r),ym[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){let M=0|bm[R-15],U=0|ym[R-15],F=Vr.default.rotrSH(M,U,1)^Vr.default.rotrSH(M,U,8)^Vr.default.shrSH(M,U,7),z=Vr.default.rotrSL(M,U,1)^Vr.default.rotrSL(M,U,8)^Vr.default.shrSL(M,U,7),N=0|bm[R-2],k=0|ym[R-2],O=Vr.default.rotrSH(N,k,19)^Vr.default.rotrBH(N,k,61)^Vr.default.shrSH(N,k,6),w=Vr.default.rotrSL(N,k,19)^Vr.default.rotrBL(N,k,61)^Vr.default.shrSL(N,k,6),S=Vr.default.add4L(z,w,ym[R-7],ym[R-16]),T=Vr.default.add4H(S,F,O,bm[R-7],bm[R-16]);bm[R]=0|T,ym[R]=0|S}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:p,Fl:h,Gh:b,Gl:_,Hh:A,Hl:C}=this;for(let R=0;R<80;R++){let M=Vr.default.rotrSH(d,f,14)^Vr.default.rotrSH(d,f,18)^Vr.default.rotrBH(d,f,41),U=Vr.default.rotrSL(d,f,14)^Vr.default.rotrSL(d,f,18)^Vr.default.rotrBL(d,f,41),F=d&p^~d&b,z=f&h^~f&_,N=Vr.default.add5L(C,U,z,Lmt[R],ym[R]),k=Vr.default.add5H(N,A,M,F,Dmt[R],bm[R]),O=0|N,w=Vr.default.rotrSH(n,i,28)^Vr.default.rotrBH(n,i,34)^Vr.default.rotrBH(n,i,39),S=Vr.default.rotrSL(n,i,28)^Vr.default.rotrBL(n,i,34)^Vr.default.rotrBL(n,i,39),T=n&o^n&s^o&s,m=i&a^i&c^a&c;A=0|b,C=0|_,b=0|p,_=0|h,p=0|d,h=0|f,{h:d,l:f}=Vr.default.add(0|l,0|u,0|k,0|O),l=0|s,u=0|c,s=0|o,c=0|a,o=0|n,a=0|i;let y=Vr.default.add3L(O,S,m);n=Vr.default.add3H(y,k,w,T),i=0|y}({h:n,l:i}=Vr.default.add(0|this.Ah,0|this.Al,0|n,0|i)),{h:o,l:a}=Vr.default.add(0|this.Bh,0|this.Bl,0|o,0|a),{h:s,l:c}=Vr.default.add(0|this.Ch,0|this.Cl,0|s,0|c),{h:l,l:u}=Vr.default.add(0|this.Dh,0|this.Dl,0|l,0|u),{h:d,l:f}=Vr.default.add(0|this.Eh,0|this.El,0|d,0|f),{h:p,l:h}=Vr.default.add(0|this.Fh,0|this.Fl,0|p,0|h),{h:b,l:_}=Vr.default.add(0|this.Gh,0|this.Gl,0|b,0|_),{h:A,l:C}=Vr.default.add(0|this.Hh,0|this.Hl,0|A,0|C),this.set(n,i,o,a,s,c,l,u,d,f,p,h,b,_,A,C)}roundClean(){bm.fill(0),ym.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ja.SHA512=xg;var VB=class extends xg{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}};ja.SHA512_224=VB;var KB=class extends xg{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}};ja.SHA512_256=KB;var qB=class extends xg{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};ja.SHA384=qB,ja.sha512=(0,sB.wrapConstructor)((()=>new xg)),ja.sha512_224=(0,sB.wrapConstructor)((()=>new VB)),ja.sha512_256=(0,sB.wrapConstructor)((()=>new KB)),ja.sha384=(0,sB.wrapConstructor)((()=>new qB));var DX={},C4={},Wn={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.notImplemented=Yr.bitMask=void 0,Yr.isBytes=WB,Yr.abytes=YB,Yr.abool=function(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)},Yr.bytesToHex=ZZ,Yr.numberToHexUnpadded=YEe,Yr.hexToNumber=XZ,Yr.hexToBytes=TB,Yr.bytesToNumberBE=function(t){return XZ(ZZ(t))},Yr.bytesToNumberLE=function(t){return YB(t),XZ(ZZ(Uint8Array.from(t).reverse()))},Yr.numberToBytesBE=QEe,Yr.numberToBytesLE=function(t,e){return QEe(t,e).reverse()},Yr.numberToVarBytesBE=function(t){return TB(YEe(t))},Yr.ensureBytes=function(t,e,r){let n;if(typeof e=="string")try{n=TB(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else{if(!WB(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n},Yr.concatBytes=ZEe,Yr.equalBytes=function(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0},Yr.utf8ToBytes=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))},Yr.inRange=XEe,Yr.aInRange=function(t,e,r,n){if(!XEe(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)},Yr.bitLen=function(t){let e;for(e=0;t>LX;t>>=AB,e+=1);return e},Yr.bitGet=function(t,e){return t>>BigInt(e)&AB},Yr.bitSet=function(t,e,r){return t|(r?AB:LX)<<BigInt(e)},Yr.createHmacDrbg=function(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=tX(t),i=tX(t),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...u)=>r(i,n,...u),c=(u=tX())=>{i=s(exe([0]),u),n=s(),u.length!==0&&(i=s(exe([1]),u),n=s())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0,d=[];for(;u<e;){n=s();let f=n.slice();d.push(f),u+=n.length}return ZEe(...d)};return(u,d)=>{let f;for(a(),c(u);!(f=d(l()));)c();return a(),f}},Yr.validateObject=function(t,e,r={}){let n=(i,o,a)=>{let s=Hmt[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=t[i];if(!(a&&c===void 0||s(c,t)))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t},Yr.memoized=function(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}};var LX=BigInt(0),AB=BigInt(1),Umt=BigInt(2);function WB(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function YB(t){if(!WB(t))throw new Error("Uint8Array expected")}var Fmt=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function ZZ(t){YB(t);let e="";for(let r=0;r<t.length;r++)e+=Fmt[t[r]];return e}function YEe(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function XZ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var y6={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function JEe(t){return t>=y6._0&&t<=y6._9?t-y6._0:t>=y6._A&&t<=y6._F?t-(y6._A-10):t>=y6._a&&t<=y6._f?t-(y6._a-10):void 0}function TB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=JEe(t.charCodeAt(o)),s=JEe(t.charCodeAt(o+1));if(a===void 0||s===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=16*a+s}return n}function QEe(t,e){return TB(t.toString(16).padStart(2*e,"0"))}function ZEe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];YB(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var eX=t=>typeof t=="bigint"&&LX<=t;function XEe(t,e,r){return eX(t)&&eX(e)&&eX(r)&&e<=t&&t<r}Yr.bitMask=t=>(Umt<<BigInt(t-1))-AB;var tX=t=>new Uint8Array(t),exe=t=>Uint8Array.from(t),Hmt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||WB(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};Yr.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.isNegativeLE=void 0,Wn.mod=Tl,Wn.pow=YTe,Wn.pow2=function(t,e,r){let n=t;for(;e-- >$a;)n*=n,n%=r;return n},Wn.invert=cB,Wn.tonelliShanks=JTe,Wn.FpSqrt=nxe,Wn.validateField=function(t){let e=Gmt.reduce(((r,n)=>(r[n]="function",r)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,xl.validateObject)(t,e)},Wn.FpPow=ixe,Wn.FpInvertBatch=oxe,Wn.FpDiv=function(t,e,r){return t.mul(e,typeof r=="bigint"?cB(r,t.ORDER):t.inv(r))},Wn.FpLegendre=axe,Wn.FpIsSquare=function(t){let e=axe(t.ORDER);return r=>{let n=e(t,r);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}},Wn.nLength=rX,Wn.Field=function(t,e,r=!1,n={}){if(t<=$a)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=rX(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=nxe(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:(0,xl.bitMask)(i),ZERO:$a,ONE:Si,create:c=>Tl(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof c);return $a<=c&&c<t},is0:c=>c===$a,isOdd:c=>(c&Si)===Si,neg:c=>Tl(-c,t),eql:(c,l)=>c===l,sqr:c=>Tl(c*c,t),add:(c,l)=>Tl(c+l,t),sub:(c,l)=>Tl(c-l,t),mul:(c,l)=>Tl(c*l,t),pow:(c,l)=>ixe(s,c,l),div:(c,l)=>Tl(c*cB(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>cB(c,t),sqrt:n.sqrt||(c=>a(s,c)),invertBatch:c=>oxe(s,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?(0,xl.numberToBytesLE)(c,o):(0,xl.numberToBytesBE)(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?(0,xl.bytesToNumberLE)(c):(0,xl.bytesToNumberBE)(c)}});return Object.freeze(s)},Wn.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)},Wn.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r},Wn.hashToPrivateScalar=function(t,e,r=!1){t=(0,xl.ensureBytes)("privateHash",t);let n=t.length,i=rX(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let o=r?(0,xl.bytesToNumberLE)(t):(0,xl.bytesToNumberBE)(t);return Tl(o,e-Si)+Si},Wn.getFieldBytesLength=FX,Wn.getMinHashLength=sxe,Wn.mapHashToField=function(t,e,r=!1){let n=t.length,i=FX(e),o=sxe(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let a=Tl(r?(0,xl.bytesToNumberBE)(t):(0,xl.bytesToNumberLE)(t),e-Si)+Si;return r?(0,xl.numberToBytesLE)(a,i):(0,xl.numberToBytesBE)(a,i)};var xl=Yr,$a=BigInt(0),Si=BigInt(1),Pm=BigInt(2),zmt=BigInt(3),UX=BigInt(4),txe=BigInt(5),rxe=BigInt(8);function Tl(t,e){let r=t%e;return r>=$a?r:e+r}function YTe(t,e,r){if(r<=$a||e<$a)throw new Error("Expected power/modulo > 0");if(r===Si)return $a;let n=Si;for(;e>$a;)e&Si&&(n=n*t%r),t=t*t%r,e>>=Si;return n}function cB(t,e){if(t===$a||e<=$a)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Tl(t,e),n=e,i=$a,o=Si;for(;r!==$a;){let a=n%r,s=i-o*(n/r);n=r,r=a,i=o,o=s}if(n!==Si)throw new Error("invert: does not exist");return Tl(i,e)}function JTe(t){let e=(t-Si)/Pm,r,n,i;for(r=t-Si,n=0;r%Pm===$a;r/=Pm,n++);for(i=Pm;i<t&&YTe(i,e,t)!==t-Si;i++);if(n===1){let a=(t+Si)/UX;return function(s,c){let l=s.pow(c,a);if(!s.eql(s.sqr(l),c))throw new Error("Cannot find square root");return l}}let o=(r+Si)/Pm;return function(a,s){if(a.pow(s,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,l=a.pow(a.mul(a.ONE,i),r),u=a.pow(s,o),d=a.pow(s,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let f=1;for(let h=a.sqr(d);f<c&&!a.eql(h,a.ONE);f++)h=a.sqr(h);let p=a.pow(l,Si<<BigInt(c-f-1));l=a.sqr(p),u=a.mul(u,p),d=a.mul(d,l),c=f}return u}}function nxe(t){if(t%UX===zmt){let e=(t+Si)/UX;return function(r,n){let i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%rxe===txe){let e=(t-txe)/rxe;return function(r,n){let i=r.mul(n,Pm),o=r.pow(i,e),a=r.mul(n,o),s=r.mul(r.mul(a,Pm),o),c=r.mul(a,r.sub(s,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return JTe(t)}BigInt(9),BigInt(16);Wn.isNegativeLE=(t,e)=>(Tl(t,e)&Si)===Si;var Gmt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ixe(t,e,r){if(r<$a)throw new Error("Expected power > 0");if(r===$a)return t.ONE;if(r===Si)return e;let n=t.ONE,i=e;for(;r>$a;)r&Si&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Si;return n}function oxe(t,e){let r=new Array(e.length),n=e.reduce(((o,a,s)=>t.is0(a)?o:(r[s]=o,t.mul(o,a))),t.ONE),i=t.inv(n);return e.reduceRight(((o,a,s)=>t.is0(a)?o:(r[s]=t.mul(o,r[s]),t.mul(o,a))),i),r}function axe(t){let e=(t-Si)/Pm;return(r,n)=>r.pow(n,e)}function rX(t,e){let r=e!==void 0?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function FX(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function sxe(t){let e=FX(t);return e+Math.ceil(e/2)}Object.defineProperty(C4,"__esModule",{value:!0}),C4.wNAF=function(t,e){let r=(o,a)=>{let s=a.negate();return o?s:a},n=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>(n(o),{windows:Math.ceil(e/o)+1,windowSize:2**(o-1)});return{constTimeNegate:r,unsafeLadder(o,a){let s=t.ZERO,c=o;for(;a>jmt;)a&nX&&(s=s.add(c)),c=c.double(),a>>=nX;return s},precomputeWindow(o,a){let{windows:s,windowSize:c}=i(a),l=[],u=o,d=u;for(let f=0;f<s;f++){d=u,l.push(d);for(let p=1;p<c;p++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(o,a,s){let{windows:c,windowSize:l}=i(o),u=t.ZERO,d=t.BASE,f=BigInt(2**o-1),p=2**o,h=BigInt(o);for(let b=0;b<c;b++){let _=b*l,A=Number(s&f);s>>=h,A>l&&(A-=p,s+=nX);let C=_,R=_+Math.abs(A)-1,M=b%2!=0,U=A<0;A===0?d=d.add(r(M,a[C])):u=u.add(r(U,a[R]))}return{p:u,f:d}},wNAFCached(o,a,s){let c=uxe.get(o)||1,l=iX.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&iX.set(o,s(l))),this.wNAF(c,l,a)},setWindowSize(o,a){n(a),uxe.set(o,a),iX.delete(o)}}},C4.pippenger=function(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach(((u,d)=>{if(!e.isValid(u))throw new Error(`wrong scalar at index ${d}`)})),r.forEach(((u,d)=>{if(!(u instanceof t))throw new Error(`wrong point at index ${d}`)}));let i=(0,lxe.bitLen)(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,s=new Array(a+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/o)*o,l=t.ZERO;for(let u=c;u>=0;u-=o){s.fill(t.ZERO);for(let f=0;f<n.length;f++){let p=n[f],h=Number(p>>BigInt(u)&BigInt(a));s[h]=s[h].add(r[f])}let d=t.ZERO;for(let f=s.length-1,p=t.ZERO;f>0;f--)p=p.add(s[f]),d=d.add(p);if(l=l.add(d),u!==0)for(let f=0;f<o;f++)l=l.double()}return l},C4.validateBasic=function(t){return(0,cxe.validateField)(t.Fp),(0,lxe.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,cxe.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};var cxe=Wn,lxe=Yr,jmt=BigInt(0),nX=BigInt(1),iX=new WeakMap,uxe=new WeakMap;Object.defineProperty(DX,"__esModule",{value:!0}),DX.twistedEdwards=function(t){let e=(function(T){let m=(0,oX.validateBasic)(T);return Sc.validateObject(T,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...m})})(t),{Fp:r,n,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:c}=e,l=lB<<BigInt(8*s)-Ic,u=r.create,d=(0,dxe.Field)(e.n,e.nBitLength),f=e.uvRatio||((T,m)=>{try{return{isValid:!0,value:r.sqrt(T*r.inv(m))}}catch{return{isValid:!1,value:Jd}}}),p=e.adjustScalarBytes||(T=>T),h=e.domain||((T,m,y)=>{if((0,Al.abool)("phflag",y),m.length||y)throw new Error("Contexts/pre-hash are not supported");return T});function b(T,m){Sc.aInRange("coordinate "+T,m,Jd,l)}function _(T){if(!(T instanceof R))throw new Error("ExtendedPoint expected")}let A=(0,Al.memoized)(((T,m)=>{let{ex:y,ey:E,ez:v}=T,x=T.is0();m==null&&(m=x?$mt:r.inv(v));let g=u(y*m),P=u(E*m),B=u(v*m);if(x)return{x:Jd,y:Ic};if(B!==Ic)throw new Error("invZ was invalid");return{x:g,y:P}})),C=(0,Al.memoized)((T=>{let{a:m,d:y}=e;if(T.is0())throw new Error("bad point: ZERO");let{ex:E,ey:v,ez:x,et:g}=T,P=u(E*E),B=u(v*v),I=u(x*x),L=u(I*I),G=u(P*m);if(u(I*u(G+B))!==u(L+u(y*u(P*B))))throw new Error("bad point: equation left != right (1)");if(u(E*v)!==u(x*g))throw new Error("bad point: equation left != right (2)");return!0}));class R{constructor(m,y,E,v){this.ex=m,this.ey=y,this.ez=E,this.et=v,b("x",m),b("y",y),b("z",E),b("t",v),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(m){if(m instanceof R)throw new Error("extended point not allowed");let{x:y,y:E}=m||{};return b("x",y),b("y",E),new R(y,E,Ic,u(y*E))}static normalizeZ(m){let y=r.invertBatch(m.map((E=>E.ez)));return m.map(((E,v)=>E.toAffine(y[v]))).map(R.fromAffine)}static msm(m,y){return(0,oX.pippenger)(R,d,m,y)}_setWindowSize(m){F.setWindowSize(this,m)}assertValidity(){C(this)}equals(m){_(m);let{ex:y,ey:E,ez:v}=this,{ex:x,ey:g,ez:P}=m,B=u(y*P),I=u(x*v),L=u(E*P),G=u(g*v);return B===I&&L===G}is0(){return this.equals(R.ZERO)}negate(){return new R(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:m}=e,{ex:y,ey:E,ez:v}=this,x=u(y*y),g=u(E*E),P=u(lB*u(v*v)),B=u(m*x),I=y+E,L=u(u(I*I)-x-g),G=B+g,H=G-P,$=B-g,K=u(L*H),W=u(G*$),J=u(L*$),X=u(H*G);return new R(K,W,X,J)}add(m){_(m);let{a:y,d:E}=e,{ex:v,ey:x,ez:g,et:P}=this,{ex:B,ey:I,ez:L,et:G}=m;if(y===BigInt(-1)){let me=u((x-v)*(I+B)),Se=u((x+v)*(I-B)),vt=u(Se-me);if(vt===Jd)return this.double();let Qe=u(g*lB*G),Ve=u(P*lB*L),kt=Ve+Qe,Ze=Se+me,et=Ve-Qe,on=u(kt*vt),Me=u(Ze*et),rt=u(kt*et),Ir=u(vt*Ze);return new R(on,Me,Ir,rt)}let H=u(v*B),$=u(x*I),K=u(P*E*G),W=u(g*L),J=u((v+x)*(B+I)-H-$),X=W-K,te=W+K,re=u($-y*H),le=u(J*X),ce=u(te*re),ae=u(J*re),xe=u(X*te);return new R(le,ce,xe,ae)}subtract(m){return this.add(m.negate())}wNAF(m){return F.wNAFCached(this,m,R.normalizeZ)}multiply(m){let y=m;Sc.aInRange("scalar",y,Ic,n);let{p:E,f:v}=this.wNAF(y);return R.normalizeZ([E,v])[0]}multiplyUnsafe(m){let y=m;return Sc.aInRange("scalar",y,Jd,n),y===Jd?U:this.equals(U)||y===Ic?this:this.equals(M)?this.wNAF(y).p:F.unsafeLadder(this,y)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return F.unsafeLadder(this,n).is0()}toAffine(m){return A(this,m)}clearCofactor(){let{h:m}=e;return m===Ic?this:this.multiplyUnsafe(m)}static fromHex(m,y=!1){let{d:E,a:v}=e,x=r.BYTES;m=(0,Al.ensureBytes)("pointHex",m,x),(0,Al.abool)("zip215",y);let g=m.slice(),P=m[x-1];g[x-1]=-129&P;let B=Sc.bytesToNumberLE(g),I=y?l:r.ORDER;Sc.aInRange("pointHex.y",B,Jd,I);let L=u(B*B),G=u(L-Ic),H=u(E*L-v),{isValid:$,value:K}=f(G,H);if(!$)throw new Error("Point.fromHex: invalid y coordinate");let W=(K&Ic)===Ic,J=(128&P)!=0;if(!y&&K===Jd&&J)throw new Error("Point.fromHex: x=0 and x_0=1");return J!==W&&(K=u(-K)),R.fromAffine({x:K,y:B})}static fromPrivateKey(m){return k(m).point}toRawBytes(){let{x:m,y}=this.toAffine(),E=Sc.numberToBytesLE(y,r.BYTES);return E[E.length-1]|=m&Ic?128:0,E}toHex(){return Sc.bytesToHex(this.toRawBytes())}}R.BASE=new R(e.Gx,e.Gy,Ic,u(e.Gx*e.Gy)),R.ZERO=new R(Jd,Ic,Ic,Jd);let{BASE:M,ZERO:U}=R,F=(0,oX.wNAF)(R,8*s);function z(T){return(0,dxe.mod)(T,n)}function N(T){return z(Sc.bytesToNumberLE(T))}function k(T){let m=s;T=(0,Al.ensureBytes)("private key",T,m);let y=(0,Al.ensureBytes)("hashed private key",o(T),2*m),E=p(y.slice(0,m)),v=y.slice(m,2*m),x=N(E),g=M.multiply(x),P=g.toRawBytes();return{head:E,prefix:v,scalar:x,point:g,pointBytes:P}}function O(T=new Uint8Array,...m){let y=Sc.concatBytes(...m);return N(o(h(y,(0,Al.ensureBytes)("context",T),!!i)))}let w=Vmt;return M._setWindowSize(8),{CURVE:e,getPublicKey:function(T){return k(T).pointBytes},sign:function(T,m,y={}){T=(0,Al.ensureBytes)("message",T),i&&(T=i(T));let{prefix:E,scalar:v,pointBytes:x}=k(m),g=O(y.context,E,T),P=M.multiply(g).toRawBytes(),B=z(g+O(y.context,P,x,T)*v);Sc.aInRange("signature.s",B,Jd,n);let I=Sc.concatBytes(P,Sc.numberToBytesLE(B,r.BYTES));return(0,Al.ensureBytes)("result",I,2*s)},verify:function(T,m,y,E=w){let{context:v,zip215:x}=E,g=r.BYTES;T=(0,Al.ensureBytes)("signature",T,2*g),m=(0,Al.ensureBytes)("message",m),x!==void 0&&(0,Al.abool)("zip215",x),i&&(m=i(m));let P=Sc.bytesToNumberLE(T.slice(g,2*g)),B,I,L;try{B=R.fromHex(y,x),I=R.fromHex(T.slice(0,g),x),L=M.multiplyUnsafe(P)}catch{return!1}if(!x&&B.isSmallOrder())return!1;let G=O(v,I.toRawBytes(),B.toRawBytes(),m);return I.add(B.multiplyUnsafe(G)).subtract(L).clearCofactor().equals(R.ZERO)},ExtendedPoint:R,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>a(r.BYTES),precompute:(T=8,m=R.BASE)=>(m._setWindowSize(T),m.multiply(BigInt(3)),m)}}};var oX=C4,dxe=Wn,Sc=Yr,Al=Yr,Jd=BigInt(0),Ic=BigInt(1),lB=BigInt(2),$mt=BigInt(8),Vmt={zip215:!0},_m={};Object.defineProperty(_m,"__esModule",{value:!0}),_m.expand_message_xmd=QTe,_m.expand_message_xof=ZTe,_m.hash_to_field=aX,_m.isogenyMap=function(t,e){let r=e.map((n=>Array.from(n).reverse()));return(n,i)=>{let[o,a,s,c]=r.map((l=>l.reduce(((u,d)=>t.add(t.mul(u,n),d)))));return n=t.div(o,a),i=t.mul(i,t.div(s,c)),{x:n,y:i}}},_m.createHasher=function(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let o=aX(n,2,{...r,DST:r.DST,...i}),a=t.fromAffine(e(o[0])),s=t.fromAffine(e(o[1])),c=a.add(s).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){let o=aX(n,1,{...r,DST:r.encodeDST,...i}),a=t.fromAffine(e(o[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let o of n)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);let i=t.fromAffine(e(n)).clearCofactor();return i.assertValidity(),i}}};var Kmt=Wn,Js=Yr,qmt=Js.bytesToNumberBE;function Sm(t,e){if(k_(t),k_(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function Wmt(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function k_(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function QTe(t,e,r,n){(0,Js.abytes)(t),(0,Js.abytes)(e),k_(r),e.length>255&&(e=n((0,Js.concatBytes)((0,Js.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");let s=(0,Js.concatBytes)(e,Sm(e.length,1)),c=Sm(0,o),l=Sm(r,2),u=new Array(a),d=n((0,Js.concatBytes)(c,t,l,Sm(0,1),s));u[0]=n((0,Js.concatBytes)(d,Sm(1,1),s));for(let f=1;f<=a;f++){let p=[Wmt(d,u[f-1]),Sm(f+1,1),s];u[f]=n((0,Js.concatBytes)(...p))}return(0,Js.concatBytes)(...u).slice(0,r)}function ZTe(t,e,r,n,i){if((0,Js.abytes)(t),(0,Js.abytes)(e),k_(r),e.length>255){let o=Math.ceil(2*n/8);e=i.create({dkLen:o}).update((0,Js.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Sm(r,2)).update(e).update(Sm(e.length,1)).digest()}function aX(t,e,r){(0,Js.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:o,hash:a,expand:s,DST:c}=r;(0,Js.abytes)(t),k_(e);let l=typeof c=="string"?(0,Js.utf8ToBytes)(c):c,u=n.toString(2).length,d=Math.ceil((u+i)/8),f=e*o*d,p;if(s==="xmd")p=QTe(t,l,f,a);else if(s==="xof")p=ZTe(t,l,f,i,a);else{if(s!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');p=t}let h=new Array(e);for(let b=0;b<e;b++){let _=new Array(o);for(let A=0;A<o;A++){let C=d*(A+b*o),R=p.subarray(C,C+d);_[A]=(0,Kmt.mod)(qmt(R),n)}h[b]=_}return h}var HX={};Object.defineProperty(HX,"__esModule",{value:!0}),HX.montgomery=function(t){let e=(function(b){return(0,gm.validateObject)(b,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...b})})(t),{P:r}=e,n=b=>(0,fxe.mod)(b,r),i=e.montgomeryBits,o=Math.ceil(i/8),a=e.nByteLength,s=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>(0,fxe.pow)(b,r-BigInt(2),r));function l(b,_,A){let C=n(b*(_-A));return[_=n(_-C),A=n(A+C)]}let u=(e.a-BigInt(2))/BigInt(4);function d(b){return(0,gm.numberToBytesLE)(n(b),o)}function f(b,_){let A=(function(M){let U=(0,gm.ensureBytes)("u coordinate",M,o);return a===32&&(U[31]&=127),(0,gm.bytesToNumberLE)(U)})(_),C=(function(M){let U=(0,gm.ensureBytes)("scalar",M),F=U.length;if(F!==o&&F!==a)throw new Error(`Expected ${o} or ${a} bytes, got ${F}`);return(0,gm.bytesToNumberLE)(s(U))})(b),R=(function(M,U){(0,gm.aInRange)("u",M,x4,r),(0,gm.aInRange)("scalar",U,x4,r);let F=U,z=M,N,k=sX,O=x4,w=M,S=sX,T=x4;for(let y=BigInt(i-1);y>=x4;y--){let E=F>>y&sX;T^=E,N=l(T,k,w),k=N[0],w=N[1],N=l(T,O,S),O=N[0],S=N[1],T=E;let v=k+O,x=n(v*v),g=k-O,P=n(g*g),B=x-P,I=w+S,L=n((w-S)*v),G=n(I*g),H=L+G,$=L-G;w=n(H*H),S=n(z*n($*$)),k=n(x*P),O=n(B*(x+n(u*B)))}N=l(T,k,w),k=N[0],w=N[1],N=l(T,O,S),O=N[0],S=N[1];let m=c(O);return n(k*m)})(A,C);if(R===x4)throw new Error("Invalid private or public key received");return d(R)}let p=d(e.Gu);function h(b){return f(b,p)}return{scalarMult:f,scalarMultBase:h,getSharedSecret:(b,_)=>f(b,_),getPublicKey:b=>h(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:p}};var fxe=Wn,gm=Yr,x4=BigInt(0),sX=BigInt(1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=F,t.edwardsToMontgomeryPriv=function(G){let H=M.hash(G.subarray(0,32));return M.adjustScalarBytes(H).subarray(0,32)};let e=ja,r=R6,n=DX,i=_m,o=Wn,a=HX,s=Yr,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),d=BigInt(1),f=BigInt(2),p=BigInt(3),h=BigInt(5),b=BigInt(8);function _(G){let H=BigInt(10),$=BigInt(20),K=BigInt(40),W=BigInt(80),J=c,X=G*G%J*G%J,te=(0,o.pow2)(X,f,J)*X%J,re=(0,o.pow2)(te,d,J)*G%J,le=(0,o.pow2)(re,h,J)*re%J,ce=(0,o.pow2)(le,H,J)*le%J,ae=(0,o.pow2)(ce,$,J)*ce%J,xe=(0,o.pow2)(ae,K,J)*ae%J,me=(0,o.pow2)(xe,W,J)*xe%J,Se=(0,o.pow2)(me,W,J)*xe%J,vt=(0,o.pow2)(Se,H,J)*le%J;return{pow_p_5_8:(0,o.pow2)(vt,f,J)*G%J,b2:X}}function A(G){return G[0]&=248,G[31]&=127,G[31]|=64,G}function C(G,H){let $=c,K=(0,o.mod)(H*H*H,$),W=_(G*(0,o.mod)(K*K*H,$)).pow_p_5_8,J=(0,o.mod)(G*K*W,$),X=(0,o.mod)(H*J*J,$),te=J,re=(0,o.mod)(J*l,$),le=X===G,ce=X===(0,o.mod)(-G,$),ae=X===(0,o.mod)(-G*l,$);return le&&(J=te),(ce||ae)&&(J=re),(0,o.isNegativeLE)(J,$)&&(J=(0,o.mod)(-J,$)),{isValid:le||ce,value:J}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];let R=(0,o.Field)(c,void 0,!0),M={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:R,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:b,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:r.randomBytes,adjustScalarBytes:A,uvRatio:C};function U(G,H,$){if(H.length>255)throw new Error("Context is too big");return(0,r.concatBytes)((0,r.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([$?1:0,H.length]),H,G)}function F(G){let{y:H}=t.ed25519.ExtendedPoint.fromHex(G),$=BigInt(1);return R.toBytes(R.create(($+H)*R.inv($-H)))}t.ed25519=(0,n.twistedEdwards)(M),t.ed25519ctx=(0,n.twistedEdwards)({...M,domain:U}),t.ed25519ph=(0,n.twistedEdwards)(Object.assign({},M,{domain:U,prehash:e.sha512})),t.x25519=(0,a.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:G=>{let H=c,{pow_p_5_8:$,b2:K}=_(G);return(0,o.mod)((0,o.pow2)($,p,H)*K,H)},adjustScalarBytes:A,randomBytes:r.randomBytes}),t.edwardsToMontgomery=F;let z=(R.ORDER+p)/b,N=R.pow(f,z),k=R.sqrt(R.neg(R.ONE)),O=(0,o.FpSqrtEven)(R,R.neg(BigInt(486664)));function w(G){let{xMn:H,xMd:$,yMn:K,yMd:W}=(function(xe){let me=(R.ORDER-h)/b,Se=BigInt(486662),vt=R.sqr(xe);vt=R.mul(vt,f);let Qe=R.add(vt,R.ONE),Ve=R.neg(Se),kt=R.sqr(Qe),Ze=R.mul(kt,Qe),et=R.mul(vt,Se);et=R.mul(et,Ve),et=R.add(et,kt),et=R.mul(et,Ve);let on=R.sqr(Ze);kt=R.sqr(on),on=R.mul(on,Ze),on=R.mul(on,et),kt=R.mul(kt,on);let Me=R.pow(kt,me);Me=R.mul(Me,on);let rt=R.mul(Me,k);kt=R.sqr(Me),kt=R.mul(kt,Ze);let Ir=R.eql(kt,et),yt=R.cmov(rt,Me,Ir),ut=R.mul(Ve,vt),Hn=R.mul(Me,xe);Hn=R.mul(Hn,N);let St=R.mul(Hn,k),qt=R.mul(et,vt);kt=R.sqr(Hn),kt=R.mul(kt,Ze);let Bi=R.eql(kt,qt),Jt=R.cmov(St,Hn,Bi);kt=R.sqr(yt),kt=R.mul(kt,Ze);let Ht=R.eql(kt,et),ns=R.cmov(ut,Ve,Ht),$t=R.cmov(Jt,yt,Ht),Qt=R.isOdd($t);return $t=R.cmov($t,R.neg($t),Ht!==Qt),{xMn:ns,xMd:Qe,yMn:$t,yMd:d}})(G),J=R.mul(H,W);J=R.mul(J,O);let X=R.mul($,K),te=R.sub(H,$),re=R.add(H,$),le=R.mul(X,re),ce=R.eql(le,R.ZERO);J=R.cmov(J,R.ZERO,ce),X=R.cmov(X,R.ONE,ce),te=R.cmov(te,R.ONE,ce),re=R.cmov(re,R.ONE,ce);let ae=R.invertBatch([X,re]);return{x:R.mul(J,ae[0]),y:R.mul(te,ae[1])}}let S=(0,i.createHasher)(t.ed25519.ExtendedPoint,(G=>w(G[0])),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:R.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});function T(G){if(!(G instanceof L))throw new Error("RistrettoPoint expected")}t.hashToCurve=S.hashToCurve,t.encodeToCurve=S.encodeToCurve;let m=l,y=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),E=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),v=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),x=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),g=G=>C(d,G),P=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),B=G=>t.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(G)&P);function I(G){let{d:H}=t.ed25519.CURVE,$=t.ed25519.CURVE.Fp.ORDER,K=t.ed25519.CURVE.Fp.create,W=K(m*G*G),J=K((W+d)*v),X=BigInt(-1),te=K((X-H*W)*K(W+H)),{isValid:re,value:le}=C(J,te),ce=K(le*G);(0,o.isNegativeLE)(ce,$)||(ce=K(-ce)),re||(le=ce),re||(X=W);let ae=K(X*(W-d)*x-te),xe=le*le,me=K((le+le)*te),Se=K(ae*y),vt=K(d-xe),Qe=K(d+xe);return new t.ed25519.ExtendedPoint(K(me*Qe),K(vt*Se),K(Se*Qe),K(me*vt))}class L{constructor(H){this.ep=H}static fromAffine(H){return new L(t.ed25519.ExtendedPoint.fromAffine(H))}static hashToCurve(H){H=(0,s.ensureBytes)("ristrettoHash",H,64);let $=I(B(H.slice(0,32))),K=I(B(H.slice(32,64)));return new L($.add(K))}static fromHex(H){H=(0,s.ensureBytes)("ristrettoHex",H,32);let{a:$,d:K}=t.ed25519.CURVE,W=t.ed25519.CURVE.Fp.ORDER,J=t.ed25519.CURVE.Fp.create,X="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",te=B(H);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(te,32),H)||(0,o.isNegativeLE)(te,W))throw new Error(X);let re=J(te*te),le=J(d+$*re),ce=J(d-$*re),ae=J(le*le),xe=J(ce*ce),me=J($*K*ae-xe),{isValid:Se,value:vt}=g(J(me*xe)),Qe=J(vt*ce),Ve=J(vt*Qe*me),kt=J((te+te)*Qe);(0,o.isNegativeLE)(kt,W)&&(kt=J(-kt));let Ze=J(le*Ve),et=J(kt*Ze);if(!Se||(0,o.isNegativeLE)(et,W)||Ze===u)throw new Error(X);return new L(new t.ed25519.ExtendedPoint(kt,Ze,d,et))}toRawBytes(){let{ex:H,ey:$,ez:K,et:W}=this.ep,J=t.ed25519.CURVE.Fp.ORDER,X=t.ed25519.CURVE.Fp.create,te=X(X(K+$)*X(K-$)),re=X(H*$),le=X(re*re),{value:ce}=g(X(te*le)),ae=X(ce*te),xe=X(ce*re),me=X(ae*xe*W),Se;if((0,o.isNegativeLE)(W*me,J)){let Qe=X($*m),Ve=X(H*m);H=Qe,$=Ve,Se=X(ae*E)}else Se=xe;(0,o.isNegativeLE)(H*me,J)&&($=X(-$));let vt=X((K-$)*Se);return(0,o.isNegativeLE)(vt,J)&&(vt=X(-vt)),(0,s.numberToBytesLE)(vt,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(H){T(H);let{ex:$,ey:K}=this.ep,{ex:W,ey:J}=H.ep,X=t.ed25519.CURVE.Fp.create,te=X($*J)===X(K*W),re=X(K*J)===X($*W);return te||re}add(H){return T(H),new L(this.ep.add(H.ep))}subtract(H){return T(H),new L(this.ep.subtract(H.ep))}multiply(H){return new L(this.ep.multiply(H))}multiplyUnsafe(H){return new L(this.ep.multiplyUnsafe(H))}double(){return new L(this.ep.double())}negate(){return new L(this.ep.negate())}}t.RistrettoPoint=(L.BASE||(L.BASE=new L(t.ed25519.ExtendedPoint.BASE)),L.ZERO||(L.ZERO=new L(t.ed25519.ExtendedPoint.ZERO)),L),t.hashToRistretto255=(G,H)=>{let $=H.DST,K=typeof $=="string"?(0,r.utf8ToBytes)($):$,W=(0,i.expand_message_xmd)(G,K,64,e.sha512);return L.hashToCurve(W)},t.hash_to_ristretto255=t.hashToRistretto255})(xTe);var XTe={},_6={};Object.defineProperty(_6,"__esModule",{value:!0}),_6.sha224=_6.sha256=_6.SHA256=void 0;var cX=T6,Lu=R6,Ymt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vm=new Uint32Array(64),M_=class extends cX.HashMD{constructor(){super(64,32,8,!1),this.A=0|wm[0],this.B=0|wm[1],this.C=0|wm[2],this.D=0|wm[3],this.E=0|wm[4],this.F=0|wm[5],this.G=0|wm[6],this.H=0|wm[7]}get(){let{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:c}=this;return[e,r,n,i,o,a,s,c]}set(e,r,n,i,o,a,s,c){this.A=0|e,this.B=0|r,this.C=0|n,this.D=0|i,this.E=0|o,this.F=0|a,this.G=0|s,this.H=0|c}process(e,r){for(let d=0;d<16;d++,r+=4)vm[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let f=vm[d-15],p=vm[d-2],h=(0,Lu.rotr)(f,7)^(0,Lu.rotr)(f,18)^f>>>3,b=(0,Lu.rotr)(p,17)^(0,Lu.rotr)(p,19)^p>>>10;vm[d]=b+vm[d-7]+h+vm[d-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=u+((0,Lu.rotr)(s,6)^(0,Lu.rotr)(s,11)^(0,Lu.rotr)(s,25))+(0,cX.Chi)(s,c,l)+Ymt[d]+vm[d]|0,p=((0,Lu.rotr)(n,2)^(0,Lu.rotr)(n,13)^(0,Lu.rotr)(n,22))+(0,cX.Maj)(n,i,o)|0;u=l,l=c,c=s,s=a+f|0,a=o,o=i,i=n,n=f+p|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,c,l,u)}roundClean(){vm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};_6.SHA256=M_;var zX=class extends M_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};_6.sha256=(0,Lu.wrapConstructor)((()=>new M_)),_6.sha224=(0,Lu.wrapConstructor)((()=>new zX));var _B={},Nee={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;let e=_l,r=R6;class n extends r.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(o);let s=(0,r.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let c=this.blockLen,l=new Uint8Array(c);l.set(s.length>c?o.create().update(s).digest():s);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=o.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),l.fill(0)}update(o){return(0,e.exists)(this),this.iHash.update(o),this}digestInto(o){(0,e.exists)(this),(0,e.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){let o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));let{oHash:a,iHash:s,finished:c,destroyed:l,blockLen:u,outputLen:d}=this;return o.finished=c,o.destroyed=l,o.blockLen=u,o.outputLen=d,o.oHash=a._cloneInto(o.oHash),o.iHash=s._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=n,t.hmac=(i,o,a)=>new n(i,o).update(a).digest(),t.hmac.create=(i,o)=>new n(i,o)})(Nee);var kee={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=void 0,t.weierstrassPoints=p,t.weierstrass=function(b){let _=(function(G){let H=(0,e.validateBasic)(G);return n.validateObject(H,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...H})})(b),{Fp:A,n:C}=_,R=A.BYTES+1,M=2*A.BYTES+1;function U(G){return r.mod(G,C)}function F(G){return r.invert(G,C)}let{ProjectivePoint:z,normPrivateKeyToScalar:N,weierstrassEquation:k,isWithinCurveOrder:O}=p({..._,toBytes(G,H,$){let K=H.toAffine(),W=A.toBytes(K.x),J=n.concatBytes;return(0,i.abool)("isCompressed",$),$?J(Uint8Array.from([H.hasEvenY()?2:3]),W):J(Uint8Array.from([4]),W,A.toBytes(K.y))},fromBytes(G){let H=G.length,$=G[0],K=G.subarray(1);if(H!==R||$!==2&&$!==3){if(H===M&&$===4)return{x:A.fromBytes(K.subarray(0,A.BYTES)),y:A.fromBytes(K.subarray(A.BYTES,2*A.BYTES))};throw new Error(`Point of length ${H} was invalid. Expected ${R} compressed bytes or ${M} uncompressed bytes`)}{let W=n.bytesToNumberBE(K);if(!n.inRange(W,l,A.ORDER))throw new Error("Point is not on curve");let J=k(W),X;try{X=A.sqrt(J)}catch(te){let re=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+re)}return(1&$)==1!=((X&l)===l)&&(X=A.neg(X)),{x:W,y:X}}}}),w=G=>n.bytesToHex(n.numberToBytesBE(G,_.nByteLength));function S(G){return G>C>>l}let T=(G,H,$)=>n.bytesToNumberBE(G.slice(H,$));class m{constructor(H,$,K){this.r=H,this.s=$,this.recovery=K,this.assertValidity()}static fromCompact(H){let $=_.nByteLength;return H=(0,i.ensureBytes)("compactSignature",H,2*$),new m(T(H,0,$),T(H,$,2*$))}static fromDER(H){let{r:$,s:K}=t.DER.toSig((0,i.ensureBytes)("DER",H));return new m($,K)}assertValidity(){n.aInRange("r",this.r,l,C),n.aInRange("s",this.s,l,C)}addRecoveryBit(H){return new m(this.r,this.s,H)}recoverPublicKey(H){let{r:$,s:K,recovery:W}=this,J=x((0,i.ensureBytes)("msgHash",H));if(W==null||![0,1,2,3].includes(W))throw new Error("recovery id invalid");let X=W===2||W===3?$+_.n:$;if(X>=A.ORDER)throw new Error("recovery id 2 or 3 invalid");let te=(1&W)==0?"02":"03",re=z.fromHex(te+w(X)),le=F(X),ce=U(-J*le),ae=U(K*le),xe=z.BASE.multiplyAndAddUnsafe(re,ce,ae);if(!xe)throw new Error("point at infinify");return xe.assertValidity(),xe}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,U(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}let y={isValidPrivateKey(G){try{return N(G),!0}catch{return!1}},normPrivateKeyToScalar:N,randomPrivateKey:()=>{let G=r.getMinHashLength(_.n);return r.mapHashToField(_.randomBytes(G),_.n)},precompute:(G=8,H=z.BASE)=>(H._setWindowSize(G),H.multiply(BigInt(3)),H)};function E(G){let H=n.isBytes(G),$=typeof G=="string",K=(H||$)&&G.length;return H?K===R||K===M:$?K===2*R||K===2*M:G instanceof z}let v=_.bits2int||function(G){let H=n.bytesToNumberBE(G),$=8*G.length-_.nBitLength;return $>0?H>>BigInt($):H},x=_.bits2int_modN||function(G){return U(v(G))},g=n.bitMask(_.nBitLength);function P(G){return n.aInRange(`num < 2^${_.nBitLength}`,G,c,g),n.numberToBytesBE(G,_.nByteLength)}function B(G,H,$=I){if(["recovered","canonical"].some((me=>me in $)))throw new Error("sign() legacy options not supported");let{hash:K,randomBytes:W}=_,{lowS:J,prehash:X,extraEntropy:te}=$;J==null&&(J=!0),G=(0,i.ensureBytes)("msgHash",G),o($),X&&(G=(0,i.ensureBytes)("prehashed msgHash",K(G)));let re=x(G),le=N(H),ce=[P(le),P(re)];if(te!=null&&te!==!1){let me=te===!0?W(A.BYTES):te;ce.push((0,i.ensureBytes)("extraEntropy",me))}let ae=n.concatBytes(...ce),xe=re;return{seed:ae,k2sig:function(me){let Se=v(me);if(!O(Se))return;let vt=F(Se),Qe=z.BASE.multiply(Se).toAffine(),Ve=U(Qe.x);if(Ve===c)return;let kt=U(vt*U(xe+Ve*le));if(kt===c)return;let Ze=(Qe.x===Ve?0:2)|Number(Qe.y&l),et=kt;return J&&S(kt)&&(et=(function(on){return S(on)?U(-on):on})(kt),Ze^=1),new m(Ve,et,Ze)}}}let I={lowS:_.lowS,prehash:!1},L={lowS:_.lowS,prehash:!1};return z.BASE._setWindowSize(8),{CURVE:_,getPublicKey:function(G,H=!0){return z.fromPrivateKey(G).toRawBytes(H)},getSharedSecret:function(G,H,$=!0){if(E(G))throw new Error("first arg must be private key");if(!E(H))throw new Error("second arg must be public key");return z.fromHex(H).multiply(N(G)).toRawBytes($)},sign:function(G,H,$=I){let{seed:K,k2sig:W}=B(G,H,$),J=_;return n.createHmacDrbg(J.hash.outputLen,J.nByteLength,J.hmac)(K,W)},verify:function(G,H,$,K=L){let W=G;if(H=(0,i.ensureBytes)("msgHash",H),$=(0,i.ensureBytes)("publicKey",$),"strict"in K)throw new Error("options.strict was renamed to lowS");o(K);let{lowS:J,prehash:X}=K,te,re;try{if(typeof W=="string"||n.isBytes(W))try{te=m.fromDER(W)}catch(Ve){if(!(Ve instanceof t.DER.Err))throw Ve;te=m.fromCompact(W)}else{if(typeof W!="object"||typeof W.r!="bigint"||typeof W.s!="bigint")throw new Error("PARSE");{let{r:Ve,s:kt}=W;te=new m(Ve,kt)}}re=z.fromHex($)}catch(Ve){if(Ve.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&te.hasHighS())return!1;X&&(H=_.hash(H));let{r:le,s:ce}=te,ae=x(H),xe=F(ce),me=U(ae*xe),Se=U(le*xe),vt=z.BASE.multiplyAndAddUnsafe(re,me,Se)?.toAffine();return vt?U(vt.x)===le:!1},ProjectivePoint:z,Signature:m,utils:y}},t.SWUFpSqrtRatio=h,t.mapToCurveSimpleSWU=function(b,_){if(r.validateField(b),!b.isValid(_.A)||!b.isValid(_.B)||!b.isValid(_.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let A=h(b,_.Z);if(!b.isOdd)throw new Error("Fp.isOdd is not implemented!");return C=>{let R,M,U,F,z,N,k,O;R=b.sqr(C),R=b.mul(R,_.Z),M=b.sqr(R),M=b.add(M,R),U=b.add(M,b.ONE),U=b.mul(U,_.B),F=b.cmov(_.Z,b.neg(M),!b.eql(M,b.ZERO)),F=b.mul(F,_.A),M=b.sqr(U),N=b.sqr(F),z=b.mul(N,_.A),M=b.add(M,z),M=b.mul(M,U),N=b.mul(N,F),z=b.mul(N,_.B),M=b.add(M,z),k=b.mul(R,U);let{isValid:w,value:S}=A(M,N);O=b.mul(R,C),O=b.mul(O,S),k=b.cmov(k,U,w),O=b.cmov(O,S,w);let T=b.isOdd(C)===b.isOdd(O);return O=b.cmov(b.neg(O),O,T),k=b.div(k,F),{x:k,y:O}}};let e=C4,r=Wn,n=Yr,i=Yr;function o(b){b.lowS!==void 0&&(0,i.abool)("lowS",b.lowS),b.prehash!==void 0&&(0,i.abool)("prehash",b.prehash)}let{bytesToNumberBE:a,hexToBytes:s}=n;t.DER={Err:class extends Error{constructor(b=""){super(b)}},_tlv:{encode:(b,_)=>{let{Err:A}=t.DER;if(b<0||b>256)throw new A("tlv.encode: wrong tag");if(1&_.length)throw new A("tlv.encode: unpadded data");let C=_.length/2,R=n.numberToHexUnpadded(C);if(R.length/2&128)throw new A("tlv.encode: long form length too big");let M=C>127?n.numberToHexUnpadded(R.length/2|128):"";return`${n.numberToHexUnpadded(b)}${M}${R}${_}`},decode(b,_){let{Err:A}=t.DER,C=0;if(b<0||b>256)throw new A("tlv.encode: wrong tag");if(_.length<2||_[C++]!==b)throw new A("tlv.decode: wrong tlv");let R=_[C++],M=0;if(128&R){let F=127&R;if(!F)throw new A("tlv.decode(long): indefinite length not supported");if(F>4)throw new A("tlv.decode(long): byte length is too big");let z=_.subarray(C,C+F);if(z.length!==F)throw new A("tlv.decode: length bytes not complete");if(z[0]===0)throw new A("tlv.decode(long): zero leftmost byte");for(let N of z)M=M<<8|N;if(C+=F,M<128)throw new A("tlv.decode(long): not minimal encoding")}else M=R;let U=_.subarray(C,C+M);if(U.length!==M)throw new A("tlv.decode: wrong value length");return{v:U,l:_.subarray(C+M)}}},_int:{encode(b){let{Err:_}=t.DER;if(b<c)throw new _("integer: negative integers are not allowed");let A=n.numberToHexUnpadded(b);if(8&Number.parseInt(A[0],16)&&(A="00"+A),1&A.length)throw new _("unexpected assertion");return A},decode(b){let{Err:_}=t.DER;if(128&b[0])throw new _("Invalid signature integer: negative");if(b[0]===0&&!(128&b[1]))throw new _("Invalid signature integer: unnecessary leading zero");return a(b)}},toSig(b){let{Err:_,_int:A,_tlv:C}=t.DER,R=typeof b=="string"?s(b):b;n.abytes(R);let{v:M,l:U}=C.decode(48,R);if(U.length)throw new _("Invalid signature: left bytes after parsing");let{v:F,l:z}=C.decode(2,M),{v:N,l:k}=C.decode(2,z);if(k.length)throw new _("Invalid signature: left bytes after parsing");return{r:A.decode(F),s:A.decode(N)}},hexFromSig(b){let{_tlv:_,_int:A}=t.DER,C=`${_.encode(2,A.encode(b.r))}${_.encode(2,A.encode(b.s))}`;return _.encode(48,C)}};let c=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(3),f=BigInt(4);function p(b){let _=(function(T){let m=(0,e.validateBasic)(T);n.validateObject(m,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:y,Fp:E,a:v}=m;if(y){if(!E.eql(v,E.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof y!="object"||typeof y.beta!="bigint"||typeof y.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...m})})(b),{Fp:A}=_,C=r.Field(_.n,_.nBitLength),R=_.toBytes||((T,m,y)=>{let E=m.toAffine();return n.concatBytes(Uint8Array.from([4]),A.toBytes(E.x),A.toBytes(E.y))}),M=_.fromBytes||(T=>{let m=T.subarray(1);return{x:A.fromBytes(m.subarray(0,A.BYTES)),y:A.fromBytes(m.subarray(A.BYTES,2*A.BYTES))}});function U(T){let{a:m,b:y}=_,E=A.sqr(T),v=A.mul(E,T);return A.add(A.add(v,A.mul(T,m)),y)}if(!A.eql(A.sqr(_.Gy),U(_.Gx)))throw new Error("bad generator point: equation left != right");function F(T){let{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:E,n:v}=_;if(m&&typeof T!="bigint"){if(n.isBytes(T)&&(T=n.bytesToHex(T)),typeof T!="string"||!m.includes(T.length))throw new Error("Invalid key");T=T.padStart(2*y,"0")}let x;try{x=typeof T=="bigint"?T:n.bytesToNumberBE((0,i.ensureBytes)("private key",T,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof T}`)}return E&&(x=r.mod(x,v)),n.aInRange("private key",x,l,v),x}function z(T){if(!(T instanceof O))throw new Error("ProjectivePoint expected")}let N=(0,i.memoized)(((T,m)=>{let{px:y,py:E,pz:v}=T;if(A.eql(v,A.ONE))return{x:y,y:E};let x=T.is0();m==null&&(m=x?A.ONE:A.inv(v));let g=A.mul(y,m),P=A.mul(E,m),B=A.mul(v,m);if(x)return{x:A.ZERO,y:A.ZERO};if(!A.eql(B,A.ONE))throw new Error("invZ was invalid");return{x:g,y:P}})),k=(0,i.memoized)((T=>{if(T.is0()){if(_.allowInfinityPoint&&!A.is0(T.py))return;throw new Error("bad point: ZERO")}let{x:m,y}=T.toAffine();if(!A.isValid(m)||!A.isValid(y))throw new Error("bad point: x or y not FE");let E=A.sqr(y),v=U(m);if(!A.eql(E,v))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class O{constructor(m,y,E){if(this.px=m,this.py=y,this.pz=E,m==null||!A.isValid(m))throw new Error("x required");if(y==null||!A.isValid(y))throw new Error("y required");if(E==null||!A.isValid(E))throw new Error("z required");Object.freeze(this)}static fromAffine(m){let{x:y,y:E}=m||{};if(!m||!A.isValid(y)||!A.isValid(E))throw new Error("invalid affine point");if(m instanceof O)throw new Error("projective point not allowed");let v=x=>A.eql(x,A.ZERO);return v(y)&&v(E)?O.ZERO:new O(y,E,A.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let y=A.invertBatch(m.map((E=>E.pz)));return m.map(((E,v)=>E.toAffine(y[v]))).map(O.fromAffine)}static fromHex(m){let y=O.fromAffine(M((0,i.ensureBytes)("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return O.BASE.multiply(F(m))}static msm(m,y){return(0,e.pippenger)(O,C,m,y)}_setWindowSize(m){S.setWindowSize(this,m)}assertValidity(){k(this)}hasEvenY(){let{y:m}=this.toAffine();if(A.isOdd)return!A.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){z(m);let{px:y,py:E,pz:v}=this,{px:x,py:g,pz:P}=m,B=A.eql(A.mul(y,P),A.mul(x,v)),I=A.eql(A.mul(E,P),A.mul(g,v));return B&&I}negate(){return new O(this.px,A.neg(this.py),this.pz)}double(){let{a:m,b:y}=_,E=A.mul(y,d),{px:v,py:x,pz:g}=this,P=A.ZERO,B=A.ZERO,I=A.ZERO,L=A.mul(v,v),G=A.mul(x,x),H=A.mul(g,g),$=A.mul(v,x);return $=A.add($,$),I=A.mul(v,g),I=A.add(I,I),P=A.mul(m,I),B=A.mul(E,H),B=A.add(P,B),P=A.sub(G,B),B=A.add(G,B),B=A.mul(P,B),P=A.mul($,P),I=A.mul(E,I),H=A.mul(m,H),$=A.sub(L,H),$=A.mul(m,$),$=A.add($,I),I=A.add(L,L),L=A.add(I,L),L=A.add(L,H),L=A.mul(L,$),B=A.add(B,L),H=A.mul(x,g),H=A.add(H,H),L=A.mul(H,$),P=A.sub(P,L),I=A.mul(H,G),I=A.add(I,I),I=A.add(I,I),new O(P,B,I)}add(m){z(m);let{px:y,py:E,pz:v}=this,{px:x,py:g,pz:P}=m,B=A.ZERO,I=A.ZERO,L=A.ZERO,G=_.a,H=A.mul(_.b,d),$=A.mul(y,x),K=A.mul(E,g),W=A.mul(v,P),J=A.add(y,E),X=A.add(x,g);J=A.mul(J,X),X=A.add($,K),J=A.sub(J,X),X=A.add(y,v);let te=A.add(x,P);return X=A.mul(X,te),te=A.add($,W),X=A.sub(X,te),te=A.add(E,v),B=A.add(g,P),te=A.mul(te,B),B=A.add(K,W),te=A.sub(te,B),L=A.mul(G,X),B=A.mul(H,W),L=A.add(B,L),B=A.sub(K,L),L=A.add(K,L),I=A.mul(B,L),K=A.add($,$),K=A.add(K,$),W=A.mul(G,W),X=A.mul(H,X),K=A.add(K,W),W=A.sub($,W),W=A.mul(G,W),X=A.add(X,W),$=A.mul(K,X),I=A.add(I,$),$=A.mul(te,X),B=A.mul(J,B),B=A.sub(B,$),$=A.mul(J,K),L=A.mul(te,L),L=A.add(L,$),new O(B,I,L)}subtract(m){return this.add(m.negate())}is0(){return this.equals(O.ZERO)}wNAF(m){return S.wNAFCached(this,m,O.normalizeZ)}multiplyUnsafe(m){n.aInRange("scalar",m,c,_.n);let y=O.ZERO;if(m===c)return y;if(m===l)return this;let{endo:E}=_;if(!E)return S.unsafeLadder(this,m);let{k1neg:v,k1:x,k2neg:g,k2:P}=E.splitScalar(m),B=y,I=y,L=this;for(;x>c||P>c;)x&l&&(B=B.add(L)),P&l&&(I=I.add(L)),L=L.double(),x>>=l,P>>=l;return v&&(B=B.negate()),g&&(I=I.negate()),I=new O(A.mul(I.px,E.beta),I.py,I.pz),B.add(I)}multiply(m){let{endo:y,n:E}=_,v,x;if(n.aInRange("scalar",m,l,E),y){let{k1neg:g,k1:P,k2neg:B,k2:I}=y.splitScalar(m),{p:L,f:G}=this.wNAF(P),{p:H,f:$}=this.wNAF(I);L=S.constTimeNegate(g,L),H=S.constTimeNegate(B,H),H=new O(A.mul(H.px,y.beta),H.py,H.pz),v=L.add(H),x=G.add($)}else{let{p:g,f:P}=this.wNAF(m);v=g,x=P}return O.normalizeZ([v,x])[0]}multiplyAndAddUnsafe(m,y,E){let v=O.BASE,x=(P,B)=>B!==c&&B!==l&&P.equals(v)?P.multiply(B):P.multiplyUnsafe(B),g=x(this,y).add(x(m,E));return g.is0()?void 0:g}toAffine(m){return N(this,m)}isTorsionFree(){let{h:m,isTorsionFree:y}=_;if(m===l)return!0;if(y)return y(O,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:y}=_;return m===l?this:y?y(O,this):this.multiplyUnsafe(_.h)}toRawBytes(m=!0){return(0,i.abool)("isCompressed",m),this.assertValidity(),R(O,this,m)}toHex(m=!0){return(0,i.abool)("isCompressed",m),n.bytesToHex(this.toRawBytes(m))}}O.BASE=new O(_.Gx,_.Gy,A.ONE),O.ZERO=new O(A.ZERO,A.ONE,A.ZERO);let w=_.nBitLength,S=(0,e.wNAF)(O,_.endo?Math.ceil(w/2):w);return{CURVE:_,ProjectivePoint:O,normPrivateKeyToScalar:F,weierstrassEquation:U,isWithinCurveOrder:function(T){return n.inRange(T,l,_.n)}}}function h(b,_){let A=b.ORDER,C=c;for(let T=A-l;T%u===c;T/=u)C+=l;let R=C,M=u<<R-l-l,U=M*u,F=(A-l)/U,z=(F-l)/u,N=U-l,k=M,O=b.pow(_,F),w=b.pow(_,(F+l)/u),S=(T,m)=>{let y=O,E=b.pow(m,N),v=b.sqr(E);v=b.mul(v,m);let x=b.mul(T,v);x=b.pow(x,z),x=b.mul(x,E),E=b.mul(x,m),v=b.mul(x,T);let g=b.mul(v,E);x=b.pow(g,k);let P=b.eql(x,b.ONE);E=b.mul(v,w),x=b.mul(g,y),v=b.cmov(E,v,P),g=b.cmov(x,g,P);for(let B=R;B>l;B--){let I=B-u;I=u<<I-l;let L=b.pow(g,I),G=b.eql(L,b.ONE);E=b.mul(v,y),y=b.mul(y,y),L=b.mul(g,y),v=b.cmov(E,v,G),g=b.cmov(L,g,G)}return{isValid:P,value:v}};if(b.ORDER%f===d){let T=(b.ORDER-d)/f,m=b.sqrt(b.neg(_));S=(y,E)=>{let v=b.sqr(E),x=b.mul(y,E);v=b.mul(v,x);let g=b.pow(v,T);g=b.mul(g,x);let P=b.mul(g,m),B=b.mul(b.sqr(g),E),I=b.eql(B,y);return{isValid:I,value:b.cmov(P,g,I)}}}return S}})(kee),Object.defineProperty(_B,"__esModule",{value:!0}),_B.getHash=hxe,_B.createCurve=function(t,e){let r=n=>(0,Qmt.weierstrass)({...t,...hxe(n)});return Object.freeze({...r(e),create:r})};var Jmt=Nee,pxe=R6,Qmt=kee;function hxe(t){return{hash:t,hmac:(e,...r)=>(0,Jmt.hmac)(t,e,(0,pxe.concatBytes)(...r)),randomBytes:pxe.randomBytes}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;let e=_6,r=R6,n=_B,i=_m,o=Wn,a=Yr,s=kee,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(1),d=BigInt(2),f=(x,g)=>(x+g/d)/g;function p(x){let g=c,P=BigInt(3),B=BigInt(6),I=BigInt(11),L=BigInt(22),G=BigInt(23),H=BigInt(44),$=BigInt(88),K=x*x*x%g,W=K*K*x%g,J=(0,o.pow2)(W,P,g)*W%g,X=(0,o.pow2)(J,P,g)*W%g,te=(0,o.pow2)(X,d,g)*K%g,re=(0,o.pow2)(te,I,g)*te%g,le=(0,o.pow2)(re,L,g)*re%g,ce=(0,o.pow2)(le,H,g)*le%g,ae=(0,o.pow2)(ce,$,g)*ce%g,xe=(0,o.pow2)(ae,H,g)*le%g,me=(0,o.pow2)(xe,P,g)*W%g,Se=(0,o.pow2)(me,G,g)*re%g,vt=(0,o.pow2)(Se,B,g)*K%g,Qe=(0,o.pow2)(vt,d,g);if(!h.eql(h.sqr(Qe),x))throw new Error("Cannot find square root");return Qe}let h=(0,o.Field)(c,void 0,void 0,{sqrt:p});t.secp256k1=(0,n.createCurve)({a:BigInt(0),b:BigInt(7),Fp:h,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{let g=l,P=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),B=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),I=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),L=P,G=BigInt("0x100000000000000000000000000000000"),H=f(L*x,g),$=f(-B*x,g),K=(0,o.mod)(x-H*P-$*I,g),W=(0,o.mod)(-H*B-$*L,g),J=K>G,X=W>G;if(J&&(K=g-K),X&&(W=g-W),K>G||W>G)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:J,k1:K,k2neg:X,k2:W}}}},e.sha256);let b=BigInt(0),_={};function A(x,...g){let P=_[x];if(P===void 0){let B=(0,e.sha256)(Uint8Array.from(x,(I=>I.charCodeAt(0))));P=(0,a.concatBytes)(B,B),_[x]=P}return(0,e.sha256)((0,a.concatBytes)(P,...g))}let C=x=>x.toRawBytes(!0).slice(1),R=x=>(0,a.numberToBytesBE)(x,32),M=x=>(0,o.mod)(x,c),U=x=>(0,o.mod)(x,l),F=t.secp256k1.ProjectivePoint,z=(x,g,P)=>F.BASE.multiplyAndAddUnsafe(x,g,P);function N(x){let g=t.secp256k1.utils.normPrivateKeyToScalar(x),P=F.fromPrivateKey(g);return{scalar:P.hasEvenY()?g:U(-g),bytes:C(P)}}function k(x){(0,a.aInRange)("x",x,u,c);let g=M(x*x),P=p(M(g*x+BigInt(7)));P%d!==b&&(P=M(-P));let B=new F(x,P,u);return B.assertValidity(),B}let O=a.bytesToNumberBE;function w(...x){return U(O(A("BIP0340/challenge",...x)))}function S(x){return N(x).bytes}function T(x,g,P=(0,r.randomBytes)(32)){let B=(0,a.ensureBytes)("message",x),{bytes:I,scalar:L}=N(g),G=(0,a.ensureBytes)("auxRand",P,32),H=R(L^O(A("BIP0340/aux",G))),$=A("BIP0340/nonce",H,I,B),K=U(O($));if(K===b)throw new Error("sign failed: k is zero");let{bytes:W,scalar:J}=N(K),X=w(W,I,B),te=new Uint8Array(64);if(te.set(W,0),te.set(R(U(J+X*L)),32),!m(te,B,I))throw new Error("sign: Invalid signature produced");return te}function m(x,g,P){let B=(0,a.ensureBytes)("signature",x,64),I=(0,a.ensureBytes)("message",g),L=(0,a.ensureBytes)("publicKey",P,32);try{let G=k(O(L)),H=O(B.subarray(0,32));if(!(0,a.inRange)(H,u,c))return!1;let $=O(B.subarray(32,64));if(!(0,a.inRange)($,u,l))return!1;let K=w(R(H),C(G),I),W=z(G,$,U(-K));return!(!W||!W.hasEvenY()||W.toAffine().x!==H)}catch{return!1}}t.schnorr={getPublicKey:S,sign:T,verify:m,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:k,pointToBytes:C,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:A,mod:o.mod}};let y=(0,i.isogenyMap)(h,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((x=>x.map((g=>BigInt(g)))))),E=(0,s.mapToCurveSimpleSWU)(h,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:h.create(BigInt("-11"))}),v=(0,i.createHasher)(t.secp256k1.ProjectivePoint,(x=>{let{x:g,y:P}=E(h.create(x[0]));return y(g,P)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:h.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=v.hashToCurve,t.encodeToCurve=v.encodeToCurve})(XTe);var GX={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=Cl;t.remove0x=function(r){return r.startsWith("0x")||r.startsWith("0X")?r.slice(2):r},t.decodeHex=function(r){return(0,e.hexToBytes)((0,t.remove0x)(r))}})(GX),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=Ree,r=xTe,n=XTe,i=N_,o=Ga,a=GX;t.getValidSecret=function(){var u;do u=(0,e.randomBytes)(o.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(u));return u},t.isValidPrivateKey=function(u){return s((0,i.ellipticCurve)(),(function(d){return d.utils.isValidPrivateKey(u)}),(function(){return!0}),(function(){return!0}))},t.getPublicKey=function(u){return s((0,i.ellipticCurve)(),(function(d){return d.getPublicKey(u)}),(function(d){return d.getPublicKey(u)}),(function(d){return d.getPublicKey(u)}))},t.getSharedPoint=function(u,d,f){return s((0,i.ellipticCurve)(),(function(p){return p.getSharedSecret(u,d,f)}),(function(p){return p.getSharedSecret(u,d)}),(function(p){return l(p,u,d)}))},t.convertPublicKeyFormat=function(u,d){return s((0,i.ellipticCurve)(),(function(f){return f.getSharedSecret(BigInt(1),u,d)}),(function(){return u}),(function(){return u}))};function s(u,d,f,p){if(u==="secp256k1")return d(n.secp256k1);if(u==="x25519")return f(r.x25519);if(u==="ed25519")return p(r.ed25519);throw new Error("Not implemented")}t.hexToPublicKey=function(u){var d=(0,a.decodeHex)(u);return s((0,i.ellipticCurve)(),(function(){return c(d)}),(function(){return d}),(function(){return d}))};var c=function(u){if(u.length===o.ETH_PUBLIC_KEY_SIZE){var d=new Uint8Array(1+u.length);return d.set([4]),d.set(u,1),d}return u},l=function(u,d,f){var p=u.utils.getExtendedPublicKey(d).scalar;return u.ExtendedPoint.fromHex(f).multiply(p).toRawBytes()}})(ETe);var e7e={},R4={};Object.defineProperty(R4,"__esModule",{value:!0}),R4.hkdf=void 0,R4.extract=r7e,R4.expand=n7e;var jX=_l,mxe=R6,t7e=Nee;function r7e(t,e,r){return(0,jX.hash)(t),r===void 0&&(r=new Uint8Array(t.outputLen)),(0,t7e.hmac)(t,(0,mxe.toBytes)(r),(0,mxe.toBytes)(e))}var lX=new Uint8Array([0]),bxe=new Uint8Array;function n7e(t,e,r,n=32){if((0,jX.hash)(t),(0,jX.number)(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");let i=Math.ceil(n/t.outputLen);r===void 0&&(r=bxe);let o=new Uint8Array(i*t.outputLen),a=t7e.hmac.create(t,e),s=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let l=0;l<i;l++)lX[0]=l+1,s.update(l===0?bxe:c).update(r).update(lX).digestInto(c),o.set(c,t.outputLen*l),a._cloneInto(s);return a.destroy(),s.destroy(),c.fill(0),lX.fill(0),o.slice(0,n)}R4.hkdf=(t,e,r,n,i)=>n7e(t,r7e(t,e,r),n,i),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=Cl,r=R4,n=_6;t.deriveKey=function(i,o,a){return(0,r.hkdf)(n.sha256,i,o,a,32)},t.getSharedKey=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}})(e7e);var yxe={},B4={},go={},yg={};Object.defineProperty(yg,"__esModule",{value:!0}),yg.polyval=yg.ghash=void 0,yg._toGHASHKey=i7e;var gg=Qs,H0=Cl,w6=16,Mee=new Uint8Array(16),C1=(0,H0.u32)(Mee),Hu=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function i7e(t){t.reverse();let e=1&t[15],r=0;for(let n=0;n<t.length;n++){let i=t[n];t[n]=i>>>1|r,r=(1&i)<<7}return t[0]^=225&-e,t}var JB=class{constructor(e,r){this.blockLen=w6,this.outputLen=w6,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,H0.toBytes)(e),(0,gg.bytes)(e,16);let n=(0,H0.createView)(e),i=n.getUint32(0,!1),o=n.getUint32(4,!1),a=n.getUint32(8,!1),s=n.getUint32(12,!1),c=[];for(let A=0;A<128;A++)c.push({s0:Hu(i),s1:Hu(o),s2:Hu(a),s3:Hu(s)}),{s0:i,s1:o,s2:a,s3:s}={s3:(d=a)<<31|(f=s)>>>1,s2:(u=o)<<31|d>>>1,s1:(l=i)<<31|u>>>1,s0:l>>>1^225<<24&-(1&f)};var l,u,d,f;let p=(A=>A>65536?8:A>1024?4:2)(r||1024);if(![1,2,4,8].includes(p))throw new Error(`ghash: wrong window size=${p}, should be 2, 4 or 8`);this.W=p;let h=128/p,b=this.windowSize=2**p,_=[];for(let A=0;A<h;A++)for(let C=0;C<b;C++){let R=0,M=0,U=0,F=0;for(let z=0;z<p;z++){if(!(C>>>p-z-1&1))continue;let{s0:N,s1:k,s2:O,s3:w}=c[p*A+z];R^=N,M^=k,U^=O,F^=w}_.push({s0:R,s1:M,s2:U,s3:F})}this.t=_}_updateBlock(e,r,n,i){e^=this.s0,r^=this.s1,n^=this.s2,i^=this.s3;let{W:o,t:a,windowSize:s}=this,c=0,l=0,u=0,d=0,f=(1<<o)-1,p=0;for(let h of[e,r,n,i])for(let b=0;b<4;b++){let _=h>>>8*b&255;for(let A=8/o-1;A>=0;A--){let C=_>>>o*A&f,{s0:R,s1:M,s2:U,s3:F}=a[p*s+C];c^=R,l^=M,u^=U,d^=F,p+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=d}update(e){e=(0,H0.toBytes)(e),(0,gg.exists)(this);let r=(0,H0.u32)(e),n=Math.floor(e.length/w6),i=e.length%w6;for(let o=0;o<n;o++)this._updateBlock(r[4*o+0],r[4*o+1],r[4*o+2],r[4*o+3]);return i&&(Mee.set(e.subarray(n*w6)),this._updateBlock(C1[0],C1[1],C1[2],C1[3]),(0,H0.clean)(C1)),this}destroy(){let{t:e}=this;for(let r of e)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(e){(0,gg.exists)(this),(0,gg.output)(e,this),this.finished=!0;let{s0:r,s1:n,s2:i,s3:o}=this,a=(0,H0.u32)(e);return a[0]=r,a[1]=n,a[2]=i,a[3]=o,e}digest(){let e=new Uint8Array(w6);return this.digestInto(e),this.destroy(),e}},$X=class extends JB{constructor(e,r){e=(0,H0.toBytes)(e);let n=i7e((0,H0.copyBytes)(e));super(n,r),(0,H0.clean)(n)}update(e){e=(0,H0.toBytes)(e),(0,gg.exists)(this);let r=(0,H0.u32)(e),n=e.length%w6,i=Math.floor(e.length/w6);for(let o=0;o<i;o++)this._updateBlock(Hu(r[4*o+3]),Hu(r[4*o+2]),Hu(r[4*o+1]),Hu(r[4*o+0]));return n&&(Mee.set(e.subarray(i*w6)),this._updateBlock(Hu(C1[3]),Hu(C1[2]),Hu(C1[1]),Hu(C1[0])),(0,H0.clean)(C1)),this}digestInto(e){(0,gg.exists)(this),(0,gg.output)(e,this),this.finished=!0;let{s0:r,s1:n,s2:i,s3:o}=this,a=(0,H0.u32)(e);return a[0]=r,a[1]=n,a[2]=i,a[3]=o,e.reverse()}};function gxe(t){let e=(n,i)=>t(i,n.length).update((0,H0.toBytes)(n)).digest(),r=t(new Uint8Array(16),0);return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=(n,i)=>t(n,i),e}yg.ghash=gxe(((t,e)=>new JB(t,e))),yg.polyval=gxe(((t,e)=>new $X(t,e))),Object.defineProperty(go,"__esModule",{value:!0}),go.unsafe=go.aeskwp=go.aeskw=go.siv=go.gcm=go.cfb=go.cbc=go.ecb=go.ctr=void 0,go.expandKeyLE=Xd,go.expandKeyDecLE=B_;var gn=Qs,VX=yg,ze=Cl,Rc=16,uB=new Uint8Array(Rc),Zmt=283;function Bee(t){return t<<1^Zmt&-(t>>7)}function P4(t,e){let r=0;for(;e>0;e>>=1)r^=t&-(1&e),t=Bee(t);return r}var KX=(()=>{let t=new Uint8Array(256);for(let r=0,n=1;r<256;r++,n^=Bee(n))t[r]=n;let e=new Uint8Array(256);e[0]=99;for(let r=0;r<255;r++){let n=t[255-r];n|=n<<8,e[t[r]]=255&(n^n>>4^n>>5^n>>6^n>>7^99)}return(0,ze.clean)(t),e})(),Xmt=KX.map(((t,e)=>KX.indexOf(e))),ebt=t=>t<<24|t>>>8,uX=t=>t<<8|t>>>24,QB=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function o7e(t,e){if(t.length!==256)throw new Error("Wrong sbox length");let r=new Uint32Array(256).map(((l,u)=>e(t[u]))),n=r.map(uX),i=n.map(uX),o=i.map(uX),a=new Uint32Array(65536),s=new Uint32Array(65536),c=new Uint16Array(65536);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let d=256*l+u;a[d]=r[l]^n[u],s[d]=i[l]^o[u],c[d]=t[l]<<8|t[u]}return{sbox:t,sbox2:c,T0:r,T1:n,T2:i,T3:o,T01:a,T23:s}}var Dee=o7e(KX,(t=>P4(t,3)<<24|t<<16|t<<8|P4(t,2))),a7e=o7e(Xmt,(t=>P4(t,11)<<24|P4(t,13)<<16|P4(t,9)<<8|P4(t,14))),tbt=(()=>{let t=new Uint8Array(16);for(let e=0,r=1;e<16;e++,r=Bee(r))t[e]=r;return t})();function Xd(t){(0,gn.bytes)(t);let e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);let{sbox2:r}=Dee,n=[];(0,ze.isAligned32)(t)||n.push(t=(0,ze.copyBytes)(t));let i=(0,ze.u32)(t),o=i.length,a=c=>P1(r,c,c,c,c),s=new Uint32Array(e+28);s.set(i);for(let c=o;c<s.length;c++){let l=s[c-1];c%o==0?l=a(ebt(l))^tbt[c/o-1]:o>6&&c%o==4&&(l=a(l)),s[c]=s[c-o]^l}return(0,ze.clean)(...n),s}function B_(t){let e=Xd(t),r=e.slice(),n=e.length,{sbox2:i}=Dee,{T0:o,T1:a,T2:s,T3:c}=a7e;for(let l=0;l<n;l+=4)for(let u=0;u<4;u++)r[l+u]=e[n-l-4+u];(0,ze.clean)(e);for(let l=4;l<n-4;l++){let u=r[l],d=P1(i,u,u,u,u);r[l]=o[255&d]^a[d>>>8&255]^s[d>>>16&255]^c[d>>>24]}return r}function Nm(t,e,r,n,i,o){return t[r<<8&65280|n>>>8&255]^e[i>>>8&65280|o>>>24&255]}function P1(t,e,r,n,i){return t[255&e|65280&r]|t[n>>>16&255|i>>>16&65280]<<16}function z0(t,e,r,n,i){let{sbox2:o,T01:a,T23:s}=Dee,c=0;e^=t[c++],r^=t[c++],n^=t[c++],i^=t[c++];let l=t.length/4-2;for(let u=0;u<l;u++){let d=t[c++]^Nm(a,s,e,r,n,i),f=t[c++]^Nm(a,s,r,n,i,e),p=t[c++]^Nm(a,s,n,i,e,r),h=t[c++]^Nm(a,s,i,e,r,n);e=d,r=f,n=p,i=h}return{s0:t[c++]^P1(o,e,r,n,i),s1:t[c++]^P1(o,r,n,i,e),s2:t[c++]^P1(o,n,i,e,r),s3:t[c++]^P1(o,i,e,r,n)}}function D_(t,e,r,n,i){let{sbox2:o,T01:a,T23:s}=a7e,c=0;e^=t[c++],r^=t[c++],n^=t[c++],i^=t[c++];let l=t.length/4-2;for(let u=0;u<l;u++){let d=t[c++]^Nm(a,s,e,i,n,r),f=t[c++]^Nm(a,s,r,e,i,n),p=t[c++]^Nm(a,s,n,r,e,i),h=t[c++]^Nm(a,s,i,n,r,e);e=d,r=f,n=p,i=h}return{s0:t[c++]^P1(o,e,i,n,r),s1:t[c++]^P1(o,r,e,i,n),s2:t[c++]^P1(o,n,r,e,i),s3:t[c++]^P1(o,i,n,r,e)}}function D4(t,e){if(e===void 0)return new Uint8Array(t);if((0,gn.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,ze.isAligned32)(e))throw new Error("unaligned dst");return e}function s7e(t,e,r,n){(0,gn.bytes)(e,Rc),(0,gn.bytes)(r);let i=r.length;n=D4(i,n);let o=e,a=(0,ze.u32)(o),{s0:s,s1:c,s2:l,s3:u}=z0(t,a[0],a[1],a[2],a[3]),d=(0,ze.u32)(r),f=(0,ze.u32)(n);for(let h=0;h+4<=d.length;h+=4){f[h+0]=d[h+0]^s,f[h+1]=d[h+1]^c,f[h+2]=d[h+2]^l,f[h+3]=d[h+3]^u;let b=1;for(let _=o.length-1;_>=0;_--)b=b+(255&o[_])|0,o[_]=255&b,b>>>=8;({s0:s,s1:c,s2:l,s3:u}=z0(t,a[0],a[1],a[2],a[3]))}let p=Rc*Math.floor(d.length/4);if(p<i){let h=new Uint32Array([s,c,l,u]),b=(0,ze.u8)(h);for(let _=p,A=0;_<i;_++,A++)n[_]=r[_]^b[A];(0,ze.clean)(h)}return n}function O4(t,e,r,n,i){(0,gn.bytes)(r,Rc),(0,gn.bytes)(n),i=D4(n.length,i);let o=r,a=(0,ze.u32)(o),s=(0,ze.createView)(o),c=(0,ze.u32)(n),l=(0,ze.u32)(i),u=e?0:12,d=n.length,f=s.getUint32(u,e),{s0:p,s1:h,s2:b,s3:_}=z0(t,a[0],a[1],a[2],a[3]);for(let C=0;C+4<=c.length;C+=4)l[C+0]=c[C+0]^p,l[C+1]=c[C+1]^h,l[C+2]=c[C+2]^b,l[C+3]=c[C+3]^_,f=f+1>>>0,s.setUint32(u,f,e),{s0:p,s1:h,s2:b,s3:_}=z0(t,a[0],a[1],a[2],a[3]);let A=Rc*Math.floor(c.length/4);if(A<d){let C=new Uint32Array([p,h,b,_]),R=(0,ze.u8)(C);for(let M=A,U=0;M<d;M++,U++)i[M]=n[M]^R[U];(0,ze.clean)(C)}return i}function wxe(t){if((0,gn.bytes)(t),t.length%Rc!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function vxe(t,e,r){(0,gn.bytes)(t);let n=t.length,i=n%Rc;if(!e&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,ze.isAligned32)(t)||(t=(0,ze.copyBytes)(t));let o=(0,ze.u32)(t);if(e){let s=Rc-i;s||(s=Rc),n+=s}let a=D4(n,r);return{b:o,o:(0,ze.u32)(a),out:a}}function Exe(t,e){if(!e)return t;let r=t.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");let n=t[r-1];if(n<=0||n>16)throw new Error("aes/pcks5: wrong padding");let i=t.subarray(0,-n);for(let o=0;o<n;o++)if(t[r-o-1]!==n)throw new Error("aes/pcks5: wrong padding");return i}function xxe(t){let e=new Uint8Array(16),r=(0,ze.u32)(e);e.set(t);let n=Rc-t.length;for(let i=Rc-n;i<Rc;i++)e[i]=n;return r}function c7e(t,e,r,n,i){let o=i==null?0:i.length,a=t.create(r,n.length+o);i&&a.update(i),a.update(n);let s=new Uint8Array(16),c=(0,ze.createView)(s);i&&(0,ze.setBigUint64)(c,0,BigInt(8*o),e),(0,ze.setBigUint64)(c,8,BigInt(8*n.length),e),a.update(s);let l=a.digest();return(0,ze.clean)(s),l}go.ctr=(0,ze.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e){function r(n,i){if((0,gn.bytes)(n),i!==void 0&&((0,gn.bytes)(i),!(0,ze.isAligned32)(i)))throw new Error("unaligned destination");let o=Xd(t),a=(0,ze.copyBytes)(e),s=[o,a];(0,ze.isAligned32)(n)||s.push(n=(0,ze.copyBytes)(n));let c=s7e(o,a,n,i);return(0,ze.clean)(...s),c}return(0,gn.bytes)(t),(0,gn.bytes)(e,Rc),{encrypt:(n,i)=>r(n,i),decrypt:(n,i)=>r(n,i)}})),go.ecb=(0,ze.wrapCipher)({blockSize:16},(function(t,e={}){(0,gn.bytes)(t);let r=!e.disablePadding;return{encrypt(n,i){let{b:o,o:a,out:s}=vxe(n,r,i),c=Xd(t),l=0;for(;l+4<=o.length;){let{s0:u,s1:d,s2:f,s3:p}=z0(c,o[l+0],o[l+1],o[l+2],o[l+3]);a[l++]=u,a[l++]=d,a[l++]=f,a[l++]=p}if(r){let u=xxe(n.subarray(4*l)),{s0:d,s1:f,s2:p,s3:h}=z0(c,u[0],u[1],u[2],u[3]);a[l++]=d,a[l++]=f,a[l++]=p,a[l++]=h}return(0,ze.clean)(c),s},decrypt(n,i){wxe(n);let o=B_(t),a=D4(n.length,i),s=[o];(0,ze.isAligned32)(n)||s.push(n=(0,ze.copyBytes)(n));let c=(0,ze.u32)(n),l=(0,ze.u32)(a);for(let u=0;u+4<=c.length;){let{s0:d,s1:f,s2:p,s3:h}=D_(o,c[u+0],c[u+1],c[u+2],c[u+3]);l[u++]=d,l[u++]=f,l[u++]=p,l[u++]=h}return(0,ze.clean)(...s),Exe(a,r)}}})),go.cbc=(0,ze.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e,r={}){(0,gn.bytes)(t),(0,gn.bytes)(e,16);let n=!r.disablePadding;return{encrypt(i,o){let a=Xd(t),{b:s,o:c,out:l}=vxe(i,n,o),u=e,d=[a];(0,ze.isAligned32)(u)||d.push(u=(0,ze.copyBytes)(u));let f=(0,ze.u32)(u),p=f[0],h=f[1],b=f[2],_=f[3],A=0;for(;A+4<=s.length;)p^=s[A+0],h^=s[A+1],b^=s[A+2],_^=s[A+3],{s0:p,s1:h,s2:b,s3:_}=z0(a,p,h,b,_),c[A++]=p,c[A++]=h,c[A++]=b,c[A++]=_;if(n){let C=xxe(i.subarray(4*A));p^=C[0],h^=C[1],b^=C[2],_^=C[3],{s0:p,s1:h,s2:b,s3:_}=z0(a,p,h,b,_),c[A++]=p,c[A++]=h,c[A++]=b,c[A++]=_}return(0,ze.clean)(...d),l},decrypt(i,o){wxe(i);let a=B_(t),s=e,c=[a];(0,ze.isAligned32)(s)||c.push(s=(0,ze.copyBytes)(s));let l=(0,ze.u32)(s),u=D4(i.length,o);(0,ze.isAligned32)(i)||c.push(i=(0,ze.copyBytes)(i));let d=(0,ze.u32)(i),f=(0,ze.u32)(u),p=l[0],h=l[1],b=l[2],_=l[3];for(let A=0;A+4<=d.length;){let C=p,R=h,M=b,U=_;p=d[A+0],h=d[A+1],b=d[A+2],_=d[A+3];let{s0:F,s1:z,s2:N,s3:k}=D_(a,p,h,b,_);f[A++]=F^C,f[A++]=z^R,f[A++]=N^M,f[A++]=k^U}return(0,ze.clean)(...c),Exe(u,n)}}})),go.cfb=(0,ze.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e){function r(n,i,o){(0,gn.bytes)(n);let a=n.length;o=D4(a,o);let s=Xd(t),c=e,l=[s];(0,ze.isAligned32)(c)||l.push(c=(0,ze.copyBytes)(c)),(0,ze.isAligned32)(n)||l.push(n=(0,ze.copyBytes)(n));let u=(0,ze.u32)(n),d=(0,ze.u32)(o),f=i?d:u,p=(0,ze.u32)(c),h=p[0],b=p[1],_=p[2],A=p[3];for(let R=0;R+4<=u.length;){let{s0:M,s1:U,s2:F,s3:z}=z0(s,h,b,_,A);d[R+0]=u[R+0]^M,d[R+1]=u[R+1]^U,d[R+2]=u[R+2]^F,d[R+3]=u[R+3]^z,h=f[R++],b=f[R++],_=f[R++],A=f[R++]}let C=Rc*Math.floor(u.length/4);if(C<a){({s0:h,s1:b,s2:_,s3:A}=z0(s,h,b,_,A));let R=(0,ze.u8)(new Uint32Array([h,b,_,A]));for(let M=C,U=0;M<a;M++,U++)o[M]=n[M]^R[U];(0,ze.clean)(R)}return(0,ze.clean)(...l),o}return(0,gn.bytes)(t),(0,gn.bytes)(e,16),{encrypt:(n,i)=>r(n,!0,i),decrypt:(n,i)=>r(n,!1,i)}})),go.gcm=(0,ze.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(t,e,r){if((0,gn.bytes)(t),(0,gn.bytes)(e),r!==void 0&&(0,gn.bytes)(r),e.length<8)throw new Error("aes/gcm: invalid nonce length");let n=16;function i(a,s,c){let l=c7e(VX.ghash,!1,a,c,r);for(let u=0;u<s.length;u++)l[u]^=s[u];return l}function o(){let a=Xd(t),s=uB.slice(),c=uB.slice();if(O4(a,!1,c,c,s),e.length===12)c.set(e);else{let l=uB.slice(),u=(0,ze.createView)(l);(0,ze.setBigUint64)(u,8,BigInt(8*e.length),!1);let d=VX.ghash.create(s).update(e).update(l);d.digestInto(c),d.destroy()}return{xk:a,authKey:s,counter:c,tagMask:O4(a,!1,c,uB)}}return{encrypt(a){(0,gn.bytes)(a);let{xk:s,authKey:c,counter:l,tagMask:u}=o(),d=new Uint8Array(a.length+n),f=[s,c,l,u];(0,ze.isAligned32)(a)||f.push(a=(0,ze.copyBytes)(a)),O4(s,!1,l,a,d);let p=i(c,u,d.subarray(0,d.length-n));return f.push(p),d.set(p,a.length),(0,ze.clean)(...f),d},decrypt(a){if((0,gn.bytes)(a),a.length<n)throw new Error("aes/gcm: ciphertext less than tagLen (16)");let{xk:s,authKey:c,counter:l,tagMask:u}=o(),d=[s,c,u,l];(0,ze.isAligned32)(a)||d.push(a=(0,ze.copyBytes)(a));let f=a.subarray(0,-16),p=a.subarray(-16),h=i(c,u,f);if(d.push(h),!(0,ze.equalBytes)(h,p))throw new Error("aes/gcm: invalid ghash tag");let b=O4(s,!1,l,f);return(0,ze.clean)(...d),b}}}));var dB=(t,e,r)=>n=>{if(!Number.isSafeInteger(n)||e>n||n>r)throw new Error(`${t}: invalid value=${n}, must be [${e}..${r}]`)};function l7e(t){return t!=null&&typeof t=="object"&&(t instanceof Uint32Array||t.constructor.name==="Uint32Array")}function u7e(t,e){if((0,gn.bytes)(e,16),!l7e(t))throw new Error("_encryptBlock accepts result of expandKeyLE");let r=(0,ze.u32)(e),{s0:n,s1:i,s2:o,s3:a}=z0(t,r[0],r[1],r[2],r[3]);return r[0]=n,r[1]=i,r[2]=o,r[3]=a,e}function d7e(t,e){if((0,gn.bytes)(e,16),!l7e(t))throw new Error("_decryptBlock accepts result of expandKeyLE");let r=(0,ze.u32)(e),{s0:n,s1:i,s2:o,s3:a}=D_(t,r[0],r[1],r[2],r[3]);return r[0]=n,r[1]=i,r[2]=o,r[3]=a,e}go.siv=(0,ze.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(t,e,r){let n=dB("AAD",0,68719476736),i=dB("plaintext",0,2**36),o=dB("nonce",12,12),a=dB("ciphertext",16,2**36+16);function s(){let u=Xd(t),d=new Uint8Array(t.length),f=new Uint8Array(16),p=[u,d],h=e;(0,ze.isAligned32)(h)||p.push(h=(0,ze.copyBytes)(h));let b=(0,ze.u32)(h),_=0,A=b[0],C=b[1],R=b[2],M=0;for(let F of[f,d].map(ze.u32)){let z=(0,ze.u32)(F);for(let N=0;N<z.length;N+=2){let{s0:k,s1:O}=z0(u,_,A,C,R);z[N+0]=k,z[N+1]=O,_=++M}}let U={authKey:f,encKey:Xd(d)};return(0,ze.clean)(...p),U}function c(u,d,f){let p=c7e(VX.polyval,!0,d,f,r);for(let R=0;R<12;R++)p[R]^=e[R];p[15]&=127;let h=(0,ze.u32)(p),b=h[0],_=h[1],A=h[2],C=h[3];return{s0:b,s1:_,s2:A,s3:C}=z0(u,b,_,A,C),h[0]=b,h[1]=_,h[2]=A,h[3]=C,p}function l(u,d,f){let p=(0,ze.copyBytes)(d);p[15]|=128;let h=O4(u,!0,p,f);return(0,ze.clean)(p),h}return(0,gn.bytes)(t,16,24,32),(0,gn.bytes)(e),o(e.length),r!==void 0&&((0,gn.bytes)(r),n(r.length)),{encrypt(u){(0,gn.bytes)(u),i(u.length);let{encKey:d,authKey:f}=s(),p=c(d,f,u),h=[d,f,p];(0,ze.isAligned32)(u)||h.push(u=(0,ze.copyBytes)(u));let b=new Uint8Array(u.length+16);return b.set(p,u.length),b.set(l(d,p,u)),(0,ze.clean)(...h),b},decrypt(u){(0,gn.bytes)(u),a(u.length);let d=u.subarray(-16),{encKey:f,authKey:p}=s(),h=[f,p];(0,ze.isAligned32)(u)||h.push(u=(0,ze.copyBytes)(u));let b=l(f,d,u.subarray(0,-16)),_=c(f,p,b);if(h.push(_),!(0,ze.equalBytes)(d,_))throw(0,ze.clean)(...h),new Error("invalid polyval tag");return(0,ze.clean)(...h),b}}}));var ZB={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");let r=Xd(t);if(e.length===16)u7e(r,e);else{let n=(0,ze.u32)(e),i=n[0],o=n[1];for(let a=0,s=1;a<6;a++)for(let c=2;c<n.length;c+=2,s++){let{s0:l,s1:u,s2:d,s3:f}=z0(r,i,o,n[c],n[c+1]);i=l,o=u^QB(s),n[c]=d,n[c+1]=f}n[0]=i,n[1]=o}r.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");let r=B_(t),n=e.length/8-1;if(n===1)d7e(r,e);else{let i=(0,ze.u32)(e),o=i[0],a=i[1];for(let s=0,c=6*n;s<6;s++)for(let l=2*n;l>=1;l-=2,c--){a^=QB(c);let{s0:u,s1:d,s2:f,s3:p}=D_(r,o,a,i[l],i[l+1]);o=u,a=d,i[l]=f,i[l+1]=p}i[0]=o,i[1]=a}r.fill(0)}},Axe=new Uint8Array(8).fill(166);go.aeskw=(0,ze.wrapCipher)({blockSize:8},(t=>({encrypt(e){if((0,gn.bytes)(e),!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(e.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");let r=(0,ze.concatBytes)(Axe,e);return ZB.encrypt(t,r),r},decrypt(e){if((0,gn.bytes)(e),e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");let r=(0,ze.copyBytes)(e);if(ZB.decrypt(t,r),!(0,ze.equalBytes)(r.subarray(0,8),Axe))throw new Error("integrity check failed");return r.subarray(0,8).fill(0),r.subarray(8)}})));var Txe=2790873510;go.aeskwp=(0,ze.wrapCipher)({blockSize:8},(t=>({encrypt(e){if((0,gn.bytes)(e),!e.length)throw new Error("invalid plaintext length");let r=8*Math.ceil(e.length/8),n=new Uint8Array(8+r);n.set(e,8);let i=(0,ze.u32)(n);return i[0]=Txe,i[1]=QB(e.length),ZB.encrypt(t,n),n},decrypt(e){if((0,gn.bytes)(e),e.length<16)throw new Error("invalid ciphertext length");let r=(0,ze.copyBytes)(e),n=(0,ze.u32)(r);ZB.decrypt(t,r);let i=QB(n[1])>>>0,o=8*Math.ceil(i/8);if(n[0]!==Txe||r.length-8!==o)throw new Error("integrity check failed");for(let a=i;a<o;a++)if(r[8+a]!==0)throw new Error("integrity check failed");return r.subarray(0,8).fill(0),r.subarray(8,8+i)}}))),go.unsafe={expandKeyLE:Xd,expandKeyDecLE:B_,encrypt:z0,decrypt:D_,encryptBlock:u7e,decryptBlock:d7e,ctrCounter:s7e,ctr32:O4},Object.defineProperty(B4,"__esModule",{value:!0}),B4.aes256cbc=B4.aes256gcm=void 0;var f7e=go;B4.aes256gcm=function(t,e,r){return(0,f7e.gcm)(t,e,r)};B4.aes256cbc=function(t,e,r){return(0,f7e.cbc)(t,e)};var XB={},p7e={},N4={};Object.defineProperty(N4,"__esModule",{value:!0}),N4.sigma=void 0,N4.rotl=function(t,e){return t<<e|t>>>32-e},N4.createCipher=function(t,e){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:a}=(0,Uu.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return(0,g6.number)(i),(0,g6.number)(a),(0,g6.bool)(o),(0,g6.bool)(r),(s,c,l,u,d=0)=>{(0,g6.bytes)(s),(0,g6.bytes)(c),(0,g6.bytes)(l);let f=l.length;if(u===void 0&&(u=new Uint8Array(f)),(0,g6.bytes)(u),(0,g6.number)(d),d<0||d>=_xe)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);let p=[],h,b,_=s.length;if(_===32)p.push(h=(0,Uu.copyBytes)(s)),b=m7e;else{if(_!==16||!r)throw new Error(`arx: invalid 32-byte key, got length=${_}`);h=new Uint8Array(32),h.set(s),h.set(s,16),b=ibt,p.push(h)}dX(c)||p.push(c=(0,Uu.copyBytes)(c));let A=(0,Uu.u32)(h);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(b,A,(0,Uu.u32)(c.subarray(0,16)),A),c=c.subarray(16)}let C=16-i;if(C!==c.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){let M=new Uint8Array(12);M.set(c,o?0:12-c.length),c=M,p.push(c)}let R=(0,Uu.u32)(c);return(function(M,U,F,z,N,k,O,w){let S=N.length,T=new Uint8Array(fB),m=(0,Uu.u32)(T),y=dX(N)&&dX(k),E=y?(0,Uu.u32)(N):Sxe,v=y?(0,Uu.u32)(k):Sxe;for(let x=0;x<S;O++){if(M(U,F,z,m,O,w),O>=_xe)throw new Error("arx: counter overflow");let g=Math.min(fB,S-x);if(y&&g===fB){let P=x/4;if(x%4!=0)throw new Error("arx: invalid block position");for(let B,I=0;I<obt;I++)B=P+I,v[B]=E[B]^m[I];x+=fB}else{for(let P,B=0;B<g;B++)P=x+B,k[P]=N[P]^T[B];x+=g}}})(t,b,A,R,l,u,d,a),(0,Uu.clean)(...p),u}};var g6=Qs,Uu=Cl,h7e=t=>Uint8Array.from(t.split("").map((e=>e.charCodeAt(0)))),rbt=h7e("expand 16-byte k"),nbt=h7e("expand 32-byte k"),ibt=(0,Uu.u32)(rbt),m7e=(0,Uu.u32)(nbt);function dX(t){return t.byteOffset%4==0}N4.sigma=m7e.slice();var fB=64,obt=16,_xe=2**32-1,Sxe=new Uint32Array,x_={};Object.defineProperty(x_,"__esModule",{value:!0}),x_.poly1305=void 0,x_.wrapConstructorWithKey=b7e;var pB=Qs,g_=Cl,ds=(t,e)=>255&t[e++]|(255&t[e++])<<8,qX=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,g_.toBytes)(e),(0,pB.bytes)(e,32);let r=ds(e,0),n=ds(e,2),i=ds(e,4),o=ds(e,6),a=ds(e,8),s=ds(e,10),c=ds(e,12),l=ds(e,14);this.r[0]=8191&r,this.r[1]=8191&(r>>>13|n<<3),this.r[2]=7939&(n>>>10|i<<6),this.r[3]=8191&(i>>>7|o<<9),this.r[4]=255&(o>>>4|a<<12),this.r[5]=a>>>1&8190,this.r[6]=8191&(a>>>14|s<<2),this.r[7]=8065&(s>>>11|c<<5),this.r[8]=8191&(c>>>8|l<<8),this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ds(e,16+2*u)}process(e,r,n=!1){let i=n?0:2048,{h:o,r:a}=this,s=a[0],c=a[1],l=a[2],u=a[3],d=a[4],f=a[5],p=a[6],h=a[7],b=a[8],_=a[9],A=ds(e,r+0),C=ds(e,r+2),R=ds(e,r+4),M=ds(e,r+6),U=ds(e,r+8),F=ds(e,r+10),z=ds(e,r+12),N=ds(e,r+14),k=o[0]+(8191&A),O=o[1]+(8191&(A>>>13|C<<3)),w=o[2]+(8191&(C>>>10|R<<6)),S=o[3]+(8191&(R>>>7|M<<9)),T=o[4]+(8191&(M>>>4|U<<12)),m=o[5]+(U>>>1&8191),y=o[6]+(8191&(U>>>14|F<<2)),E=o[7]+(8191&(F>>>11|z<<5)),v=o[8]+(8191&(z>>>8|N<<8)),x=o[9]+(N>>>5|i),g=0,P=g+k*s+O*(5*_)+w*(5*b)+S*(5*h)+T*(5*p);g=P>>>13,P&=8191,P+=m*(5*f)+y*(5*d)+E*(5*u)+v*(5*l)+x*(5*c),g+=P>>>13,P&=8191;let B=g+k*c+O*s+w*(5*_)+S*(5*b)+T*(5*h);g=B>>>13,B&=8191,B+=m*(5*p)+y*(5*f)+E*(5*d)+v*(5*u)+x*(5*l),g+=B>>>13,B&=8191;let I=g+k*l+O*c+w*s+S*(5*_)+T*(5*b);g=I>>>13,I&=8191,I+=m*(5*h)+y*(5*p)+E*(5*f)+v*(5*d)+x*(5*u),g+=I>>>13,I&=8191;let L=g+k*u+O*l+w*c+S*s+T*(5*_);g=L>>>13,L&=8191,L+=m*(5*b)+y*(5*h)+E*(5*p)+v*(5*f)+x*(5*d),g+=L>>>13,L&=8191;let G=g+k*d+O*u+w*l+S*c+T*s;g=G>>>13,G&=8191,G+=m*(5*_)+y*(5*b)+E*(5*h)+v*(5*p)+x*(5*f),g+=G>>>13,G&=8191;let H=g+k*f+O*d+w*u+S*l+T*c;g=H>>>13,H&=8191,H+=m*s+y*(5*_)+E*(5*b)+v*(5*h)+x*(5*p),g+=H>>>13,H&=8191;let $=g+k*p+O*f+w*d+S*u+T*l;g=$>>>13,$&=8191,$+=m*c+y*s+E*(5*_)+v*(5*b)+x*(5*h),g+=$>>>13,$&=8191;let K=g+k*h+O*p+w*f+S*d+T*u;g=K>>>13,K&=8191,K+=m*l+y*c+E*s+v*(5*_)+x*(5*b),g+=K>>>13,K&=8191;let W=g+k*b+O*h+w*p+S*f+T*d;g=W>>>13,W&=8191,W+=m*u+y*l+E*c+v*s+x*(5*_),g+=W>>>13,W&=8191;let J=g+k*_+O*b+w*h+S*p+T*f;g=J>>>13,J&=8191,J+=m*d+y*u+E*l+v*c+x*s,g+=J>>>13,J&=8191,g=(g<<2)+g|0,g=g+P|0,P=8191&g,g>>>=13,B+=g,o[0]=P,o[1]=B,o[2]=I,o[3]=L,o[4]=G,o[5]=H,o[6]=$,o[7]=K,o[8]=W,o[9]=J}finalize(){let{h:e,pad:r}=this,n=new Uint16Array(10),i=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=i,i=e[s]>>>13,e[s]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let s=1;s<10;s++)n[s]=e[s]+i,i=n[s]>>>13,n[s]&=8191;n[9]-=8192;let o=(1^i)-1;for(let s=0;s<10;s++)n[s]&=o;o=~o;for(let s=0;s<10;s++)e[s]=e[s]&o|n[s];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let a=e[0]+r[0];e[0]=65535&a;for(let s=1;s<8;s++)a=(e[s]+r[s]|0)+(a>>>16)|0,e[s]=65535&a;(0,g_.clean)(n)}update(e){(0,pB.exists)(this);let{buffer:r,blockLen:n}=this,i=(e=(0,g_.toBytes)(e)).length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a!==n)r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(r,0,!1),this.pos=0);else for(;n<=i-o;o+=n)this.process(e,o)}return this}destroy(){(0,g_.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,pB.exists)(this),(0,pB.output)(e,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let a=0;a<8;a++)e[o++]=n[a]>>>0,e[o++]=n[a]>>>8;return e}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}};function b7e(t){let e=(n,i)=>t(i).update((0,g_.toBytes)(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}x_.poly1305=b7e((t=>new qX(t))),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=a;let e=N4,r=Qs,n=x_,i=Cl;function o(d,f,p,h,b,_=20){let A=d[0],C=d[1],R=d[2],M=d[3],U=f[0],F=f[1],z=f[2],N=f[3],k=f[4],O=f[5],w=f[6],S=f[7],T=b,m=p[0],y=p[1],E=p[2],v=A,x=C,g=R,P=M,B=U,I=F,L=z,G=N,H=k,$=O,K=w,W=S,J=T,X=m,te=y,re=E;for(let ce=0;ce<_;ce+=2)v=v+B|0,J=(0,e.rotl)(J^v,16),H=H+J|0,B=(0,e.rotl)(B^H,12),v=v+B|0,J=(0,e.rotl)(J^v,8),H=H+J|0,B=(0,e.rotl)(B^H,7),x=x+I|0,X=(0,e.rotl)(X^x,16),$=$+X|0,I=(0,e.rotl)(I^$,12),x=x+I|0,X=(0,e.rotl)(X^x,8),$=$+X|0,I=(0,e.rotl)(I^$,7),g=g+L|0,te=(0,e.rotl)(te^g,16),K=K+te|0,L=(0,e.rotl)(L^K,12),g=g+L|0,te=(0,e.rotl)(te^g,8),K=K+te|0,L=(0,e.rotl)(L^K,7),P=P+G|0,re=(0,e.rotl)(re^P,16),W=W+re|0,G=(0,e.rotl)(G^W,12),P=P+G|0,re=(0,e.rotl)(re^P,8),W=W+re|0,G=(0,e.rotl)(G^W,7),v=v+I|0,re=(0,e.rotl)(re^v,16),K=K+re|0,I=(0,e.rotl)(I^K,12),v=v+I|0,re=(0,e.rotl)(re^v,8),K=K+re|0,I=(0,e.rotl)(I^K,7),x=x+L|0,J=(0,e.rotl)(J^x,16),W=W+J|0,L=(0,e.rotl)(L^W,12),x=x+L|0,J=(0,e.rotl)(J^x,8),W=W+J|0,L=(0,e.rotl)(L^W,7),g=g+G|0,X=(0,e.rotl)(X^g,16),H=H+X|0,G=(0,e.rotl)(G^H,12),g=g+G|0,X=(0,e.rotl)(X^g,8),H=H+X|0,G=(0,e.rotl)(G^H,7),P=P+B|0,te=(0,e.rotl)(te^P,16),$=$+te|0,B=(0,e.rotl)(B^$,12),P=P+B|0,te=(0,e.rotl)(te^P,8),$=$+te|0,B=(0,e.rotl)(B^$,7);let le=0;h[le++]=A+v|0,h[le++]=C+x|0,h[le++]=R+g|0,h[le++]=M+P|0,h[le++]=U+B|0,h[le++]=F+I|0,h[le++]=z+L|0,h[le++]=N+G|0,h[le++]=k+H|0,h[le++]=O+$|0,h[le++]=w+K|0,h[le++]=S+W|0,h[le++]=T+J|0,h[le++]=m+X|0,h[le++]=y+te|0,h[le++]=E+re|0}function a(d,f,p,h){let b=d[0],_=d[1],A=d[2],C=d[3],R=f[0],M=f[1],U=f[2],F=f[3],z=f[4],N=f[5],k=f[6],O=f[7],w=p[0],S=p[1],T=p[2],m=p[3];for(let E=0;E<20;E+=2)b=b+R|0,w=(0,e.rotl)(w^b,16),z=z+w|0,R=(0,e.rotl)(R^z,12),b=b+R|0,w=(0,e.rotl)(w^b,8),z=z+w|0,R=(0,e.rotl)(R^z,7),_=_+M|0,S=(0,e.rotl)(S^_,16),N=N+S|0,M=(0,e.rotl)(M^N,12),_=_+M|0,S=(0,e.rotl)(S^_,8),N=N+S|0,M=(0,e.rotl)(M^N,7),A=A+U|0,T=(0,e.rotl)(T^A,16),k=k+T|0,U=(0,e.rotl)(U^k,12),A=A+U|0,T=(0,e.rotl)(T^A,8),k=k+T|0,U=(0,e.rotl)(U^k,7),C=C+F|0,m=(0,e.rotl)(m^C,16),O=O+m|0,F=(0,e.rotl)(F^O,12),C=C+F|0,m=(0,e.rotl)(m^C,8),O=O+m|0,F=(0,e.rotl)(F^O,7),b=b+M|0,m=(0,e.rotl)(m^b,16),k=k+m|0,M=(0,e.rotl)(M^k,12),b=b+M|0,m=(0,e.rotl)(m^b,8),k=k+m|0,M=(0,e.rotl)(M^k,7),_=_+U|0,w=(0,e.rotl)(w^_,16),O=O+w|0,U=(0,e.rotl)(U^O,12),_=_+U|0,w=(0,e.rotl)(w^_,8),O=O+w|0,U=(0,e.rotl)(U^O,7),A=A+F|0,S=(0,e.rotl)(S^A,16),z=z+S|0,F=(0,e.rotl)(F^z,12),A=A+F|0,S=(0,e.rotl)(S^A,8),z=z+S|0,F=(0,e.rotl)(F^z,7),C=C+R|0,T=(0,e.rotl)(T^C,16),N=N+T|0,R=(0,e.rotl)(R^N,12),C=C+R|0,T=(0,e.rotl)(T^C,8),N=N+T|0,R=(0,e.rotl)(R^N,7);let y=0;h[y++]=b,h[y++]=_,h[y++]=A,h[y++]=C,h[y++]=w,h[y++]=S,h[y++]=T,h[y++]=m}t.chacha20orig=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,extendNonceFn:a,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:12});let s=new Uint8Array(16),c=(d,f)=>{d.update(f);let p=f.length%16;p&&d.update(s.subarray(p))},l=new Uint8Array(32);function u(d,f,p,h,b){let _=d(f,p,l),A=n.poly1305.create(_);b&&c(A,b),c(A,h);let C=new Uint8Array(16),R=(0,i.createView)(C);(0,i.setBigUint64)(R,0,BigInt(b?b.length:0),!0),(0,i.setBigUint64)(R,8,BigInt(h.length),!0),A.update(C);let M=A.digest();return(0,i.clean)(_,C),M}t._poly1305_aead=d=>(f,p,h)=>((0,r.bytes)(f,32),(0,r.bytes)(p),{encrypt(_,A){let C=_.length,R=C+16;A?(0,r.bytes)(A,R):A=new Uint8Array(R),d(f,p,_,A,1);let M=u(d,f,p,A.subarray(0,-16),h);return A.set(M,C),(0,i.clean)(M),A},decrypt(_,A){let C=_.length,R=C-16;if(C<16)throw new Error("encrypted data must be at least 16 bytes");A?(0,r.bytes)(A,R):A=new Uint8Array(R);let M=_.subarray(0,-16),U=_.subarray(-16),F=u(d,f,p,M,h);if(!(0,i.equalBytes)(U,F))throw new Error("invalid tag");return d(f,p,M,A,1),(0,i.clean)(F),A}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))})(p7e),Object.defineProperty(XB,"__esModule",{value:!0}),XB.xchacha20=void 0;var A4,Ixe,h_,abt=p7e;XB.xchacha20=function(t,e,r){return(0,abt.xchacha20poly1305)(t,e,r)},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=Cl,r=Ree,n=B4,i=XB,o=N_,a=Ga;t.symEncrypt=function(u,d,f){return s(c,u,d,f)};function s(u,d,f,p){var h=(0,o.symmetricAlgorithm)();if(h==="aes-256-gcm")return u(n.aes256gcm,d,f,(0,o.symmetricNonceLength)(),a.AEAD_TAG_LENGTH,p);if(h==="xchacha20")return u(i.xchacha20,d,f,a.XCHACHA20_NONCE_LENGTH,a.AEAD_TAG_LENGTH,p);if(h==="aes-256-cbc")return u(n.aes256cbc,d,f,16,0);throw new Error("Not implemented")}function c(u,d,f,p,h,b){var _=(0,r.randomBytes)(p),A=u(d,_,b).encrypt(f);if(h===0)return(0,e.concatBytes)(_,A);var C=A.length-h,R=A.subarray(0,C),M=A.subarray(C);return(0,e.concatBytes)(_,M,R)}function l(u,d,f,p,h,b){var _=f.subarray(0,p),A=u(d,Uint8Array.from(_),b),C=f.subarray(p);if(h===0)return A.decrypt(C);var R=C.subarray(0,h),M=C.subarray(h);return A.decrypt((0,e.concatBytes)(M,R))}t.symDecrypt=function(u,d,f){return s(l,u,d,f)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt})(yxe),A4=xD,Ixe=Gu&&Gu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h_=Gu&&Gu.__exportStar||function(t,e){for(var r in t)r==="default"||Object.prototype.hasOwnProperty.call(e,r)||Ixe(e,t,r)},Object.defineProperty(A4,"__esModule",{value:!0}),h_(ETe,A4),h_(e7e,A4),h_(GX,A4),h_(yxe,A4);var L_={};Object.defineProperty(L_,"__esModule",{value:!0}),L_.PublicKey=void 0;var Cxe=Cl,hB=xD,sbt=(function(){function t(e){this.data=(0,hB.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,hB.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return Pe.from((0,hB.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return Pe.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,Cxe.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,r){r===void 0&&(r=!1);var n=r?this.data:this.uncompressed,i=e.multiply(this,r);return(0,hB.getSharedKey)(n,i)},t.prototype.equals=function(e){return(0,Cxe.equalBytes)(this.data,e.data)},t})();L_.PublicKey=sbt,Object.defineProperty(jB,"__esModule",{value:!0}),jB.PrivateKey=void 0;var Rxe=Cl,T4=xD,cbt=L_,lbt=(function(){function t(e){if(e===void 0)this.data=(0,T4.getValidSecret)();else{if(!(0,T4.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new cbt.PublicKey((0,T4.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,T4.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return Pe.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,Rxe.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,r){r===void 0&&(r=!1);var n=r?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,r);return(0,T4.getSharedKey)(n,i)},t.prototype.multiply=function(e,r){return r===void 0&&(r=!1),(0,T4.getSharedPoint)(this.data,e.compressed,r)},t.prototype.equals=function(e){return(0,Rxe.equalBytes)(this.data,e.data)},t})();jB.PrivateKey=lbt,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=jB;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var r=L_;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return r.PublicKey}})})(JZ),(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(s,c){var l=new n.PrivateKey,u=s instanceof Uint8Array?new n.PublicKey(s):n.PublicKey.fromHex(s),d=l.encapsulate(u,(0,r.isHkdfKeyCompressed)()),f=(0,r.isEphemeralKeyCompressed)()?l.publicKey.compressed:l.publicKey.uncompressed,p=(0,i.symEncrypt)(d,c);return Pe.from((0,e.concatBytes)(f,p))},t.decrypt=function(s,c){var l=s instanceof Uint8Array?new n.PrivateKey(s):n.PrivateKey.fromHex(s),u=(0,r.ephemeralKeySize)(),d=new n.PublicKey(c.subarray(0,u)),f=c.subarray(u),p=d.decapsulate(l,(0,r.isHkdfKeyCompressed)());return Pe.from((0,i.symDecrypt)(p,f))};var e=Cl,r=N_,n=JZ,i=xD,o=N_;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var a=JZ;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return a.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return a.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}})(S4);var y7e=(0,e0.default)("KeyExchange:Layer"),g7e=(0,e0.default)("SocketService:Layer"),w7e=(0,e0.default)("Ecies:Layer"),v7e=(0,e0.default)("RemoteCommunication:Layer");y7e.color="##95c44e",g7e.color="#f638d7",w7e.color="#465b9c",v7e.color="#47a2be";var ge={KeyExchange:y7e,SocketService:g7e,Ecies:w7e,RemoteCommunication:v7e},m_,mB=[],fX=[],C6=(t,e)=>Ie(void 0,void 0,void 0,(function*(){m_=e,fX.push(t),(function(r){return Ie(this,void 0,void 0,(function*(){if(!m_||!r)return;(function(){let a=fX;fX=mB,mB=a})();let n=m_.endsWith("/")?`${m_}evt`:`${m_}/evt`,i=Object.assign({},r);if(delete i.params,r.params)for(let[a,s]of Object.entries(r.params))i[a]=s;let o=JSON.stringify(i);ge.RemoteCommunication(`[sendBufferedEvents] Sending ${mB.length} analytics events to ${n}`);try{let a=yield(0,_ee.default)(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}),s=yield a.text();ge.RemoteCommunication(`[sendBufferedEvents] Response: ${s}`),mB.length=0}catch{}}))})(t).catch((()=>{}))})),A_=class{constructor(e){this.enabled=!0,e?.debug&&e0.default.enable("Ecies:Layer"),this.ecies=e?.privateKey?S4.PrivateKey.fromHex(e.privateKey):new S4.PrivateKey,ge.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),ge.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),ge.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new S4.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,r){let n=e;if(this.enabled)try{ge.Ecies("[ECIES: encrypt()] using otherPublicKey",r);let i=Pe.from(e),o=S4.encrypt(r,i);n=Pe.from(o).toString("base64")}catch(i){throw ge.Ecies("[ECIES: encrypt()] error encrypt:",i),ge.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),ge.Ecies("[ECIES: encrypt()] data: ",e),ge.Ecies("[ECIES: encrypt()] otherkey: ",r),i}return n}decrypt(e){let r=e;if(this.enabled)try{ge.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());let n=Pe.from(e.toString(),"base64");r=S4.decrypt(this.ecies.toHex(),n).toString()}catch(n){throw ge.Ecies("[ECIES: decrypt()] error decrypt",n),ge.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),ge.Ecies("[ECIES: decrypt()] encryptedData: ",e),n}return r}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){ge.Ecies("[ECIES: toString()]",this.getKeyInfo())}},Dm={name:"@metamask/sdk-communication-layer",version:"0.33.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk.git",directory:"packages/sdk-communication-layer"},main:"dist/node/cjs/metamask-sdk-communication-layer.js",unpkg:"dist/browser/umd/metamask-sdk-communication-layer.js",module:"dist/node/es/metamask-sdk-communication-layer.js",browser:"dist/browser/es/metamask-sdk-communication-layer.js","react-native":"dist/react-native/es/metamask-sdk-communication-layer.js",types:"dist/types/src/index.d.ts",files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types","build:clean":"yarn clean && yarn build",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs",dev:'concurrently "tsc --watch" "rollup -c --bundleConfigAsCjs -w"',"build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",size:"size-limit",clean:"rimraf ./dist",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk-communication-layer","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore","publish:preview":"yarn npm publish --tag preview",prepack:"../../scripts/prepack.sh",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:coverage":"jest --coverage","test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":"jest",watch:"rollup -c --bundleConfigAsCjs -w"},dependencies:{"@metamask/sdk-analytics":"workspace:*",bufferutil:"^4.0.8","date-fns":"^2.29.3",debug:"^4.3.4","utf-8-validate":"^5.0.2",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@rollup/plugin-commonjs":"^25.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.4","@size-limit/preset-big-lib":"^11.0.2","@types/jest":"^29.2.4","@types/node":"^20.1.3","@types/uuid":"^9.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0",concurrently:"^9.1.2","cross-fetch":"^4.0.0",eciesjs:"^0.4.11",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0",eventemitter2:"^6.4.9",jest:"^29.3.1",prettier:"^2.3.0",rimraf:"^3.0.2",rollup:"^4.26.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-node-globals":"^1.4.0","rollup-plugin-peer-deps-external":"^2.2.4","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.1.6","socket.io-client":"^4.5.1","stream-browserify":"^3.0.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^5.6.3"},peerDependencies:{"cross-fetch":"^4.0.0",eciesjs:"*",eventemitter2:"^6.4.9","readable-stream":"^3.6.2","socket.io-client":"^4.5.1"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"@lavamoat/preinstall-always-fail":!1,canvas:!0,"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,bufferutil:!1,"utf-8-validate":!1}}},H4="https://metamask-sdk.api.cx.metamask.io/",ubt=["websocket"],z4=6048e5,dbt=3e3,Ys={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_SWITCHETHEREUMCHAIN:"wallet_switchEthereumChain",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},fbt=[Ys.METAMASK_CONNECTSIGN,Ys.METAMASK_CONNECTWITH,Ys.METAMASK_OPEN,Ys.METAMASK_BATCH,Ys.PERSONAL_SIGN,Ys.WALLET_REQUESTPERMISSIONS,Ys.WALLET_REVOKEPERMISSIONS,Ys.WALLET_WATCHASSET,Ys.ETH_SENDTRANSACTION,Ys.ETH_SIGNTYPEDDATA,Ys.ETH_SIGNTYPEDDATA_V3,Ys.ETH_SIGNTYPEDDATA_V4,Ys.ETH_SIGNTRANSACTION,Ys.ETH_SIGN,Ys.PERSONAL_EC_RECOVER];function Y_(t){return fbt.includes(t)}function E7e(t){let{context:e}=t;ge.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var ps,Ge,eD,qn,no,zo,_4;(_4=ps||(ps={})).DISCONNECTED="disconnected",_4.WAITING="waiting",_4.TIMEOUT="timeout",_4.LINKED="linked",_4.PAUSED="paused",_4.TERMINATED="terminated",(function(t){t.KEY_INFO="key_info",t.SERVICE_STATUS="service_status",t.PROVIDER_UPDATE="provider_update",t.RPC_UPDATE="rpc_update",t.KEYS_EXCHANGED="keys_exchanged",t.JOIN_CHANNEL="join_channel",t.PUBLIC_KEY="public_key",t.CHANNEL_CREATED="channel_created",t.CLIENTS_CONNECTED="clients_connected",t.CLIENTS_DISCONNECTED="clients_disconnected",t.CLIENTS_WAITING="clients_waiting",t.CLIENTS_READY="clients_ready",t.REJECTED="rejected",t.WALLET_INIT="wallet_init",t.CHANNEL_PERSISTENCE="channel_persistence",t.CONFIG="config",t.MESSAGE_ACK="ack",t.SOCKET_DISCONNECTED="socket_disconnected",t.SOCKET_RECONNECT="socket_reconnect",t.OTP="otp",t.SDK_RPC_CALL="sdk_rpc_call",t.AUTHORIZED="authorized",t.CONNECTION_STATUS="connection_status",t.MESSAGE="message",t.TERMINATE="terminate"})(Ge||(Ge={})),(eD||(eD={})).KEY_EXCHANGE="key_exchange",(function(t){t.KEY_HANDSHAKE_START="key_handshake_start",t.KEY_HANDSHAKE_CHECK="key_handshake_check",t.KEY_HANDSHAKE_SYN="key_handshake_SYN",t.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",t.KEY_HANDSHAKE_ACK="key_handshake_ACK",t.KEY_HANDSHAKE_WALLET="key_handshake_wallet",t.KEY_HANDSHAKE_NONE="none"})(qn||(qn={}));var WX=class extends $4.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:r,context:n,ecies:i,logging:o}){super(),this.keysExchanged=!1,this.step=qn.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=n,this.communicationLayer=e,i?.privateKey&&r&&(ge.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${r} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new A_(Object.assign(Object.assign({},i),{debug:o?.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=o?.keyExchangeLayer===!0,r&&this.setOtherPublicKey(r),this.communicationLayer.on(eD.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){let{relayPersistence:r}=this.communicationLayer.remote.state;if(ge.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${r}`,e),r)return void ge.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");let{message:n}=e;this.keysExchanged&&ge.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(Ge.KEY_INFO,n.type),n.type===qn.KEY_HANDSHAKE_SYN?(this.checkStep([qn.KEY_HANDSHAKE_NONE,qn.KEY_HANDSHAKE_ACK]),ge.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",n),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:qn.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch((i=>{ge.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)})),this.setStep(qn.KEY_HANDSHAKE_ACK)):n.type===qn.KEY_HANDSHAKE_SYNACK?(this.checkStep([qn.KEY_HANDSHAKE_SYNACK,qn.KEY_HANDSHAKE_ACK,qn.KEY_HANDSHAKE_NONE]),ge.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:qn.KEY_HANDSHAKE_ACK}).catch((i=>{ge.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)})),this.keysExchanged=!0,this.setStep(qn.KEY_HANDSHAKE_ACK),this.emit(Ge.KEYS_EXCHANGED)):n.type===qn.KEY_HANDSHAKE_ACK&&(ge.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([qn.KEY_HANDSHAKE_ACK,qn.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(qn.KEY_HANDSHAKE_ACK),this.emit(Ge.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new A_(e)}clean(){ge.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(qn.KEY_HANDSHAKE_NONE),this.emit(Ge.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:r}){let{relayPersistence:n,protocolVersion:i}=this.communicationLayer.remote.state,o=i>=2;n?ge.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(ge.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${r} relayPersistence=${n} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==qn.KEY_HANDSHAKE_NONE&&this.step!==qn.KEY_HANDSHAKE_SYNACK)||r?(ge.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${r}) -- step=${this.step}`,this.step),this.clean(),this.setStep(qn.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:qn.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch((a=>{ge.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",a)}))):ge.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&r!==!0?ge.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):o?this.communicationLayer.sendMessage({type:qn.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch((a=>{ge.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",a)})):(this.communicationLayer.sendMessage({type:qn.KEY_HANDSHAKE_START}).catch((a=>{ge.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",a)})),this.clean()))}setStep(e){this.step=e,this.emit(Ge.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:r}){this.otherPublicKey=r,this.myECIES=new A_({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){ge.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){let e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}};(function(t){t.TERMINATE="terminate",t.ANSWER="answer",t.OFFER="offer",t.CANDIDATE="candidate",t.JSONRPC="jsonrpc",t.WALLET_INFO="wallet_info",t.WALLET_INIT="wallet_init",t.ORIGINATOR_INFO="originator_info",t.PAUSE="pause",t.OTP="otp",t.AUTHORIZED="authorized",t.PING="ping",t.READY="ready"})(no||(no={})),(function(t){t.REQUEST="sdk_connect_request_started",t.REQUEST_MOBILE="sdk_connect_request_started_mobile",t.RECONNECT="sdk_reconnect_request_started",t.CONNECTED="sdk_connection_established",t.CONNECTED_MOBILE="sdk_connection_established_mobile",t.AUTHORIZED="sdk_connection_authorized",t.REJECTED="sdk_connection_rejected",t.TERMINATED="sdk_connection_terminated",t.DISCONNECTED="sdk_disconnected",t.SDK_USE_EXTENSION="sdk_use_extension",t.SDK_RPC_REQUEST="sdk_rpc_request",t.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",t.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",t.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",t.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"})(zo||(zo={}));var SB=(t,e,r)=>Ie(void 0,void 0,void 0,(function*(){var n,i,o,a,s,c;let{remote:l,state:u}=t,{channelId:d,isOriginator:f}=u;if(e==="error_terminated")return ge.SocketService(`handleJoinChannelResults: Channel ${d} terminated`),void t.emit(Ge.TERMINATE);if(!r)return void ge.SocketService(`handleJoinChannelResults: No result for channel ${d}`);let{persistence:p,walletKey:h,rejected:b}=r;if(ge.SocketService(`handleJoinChannelResults: Channel ${d} persistence=${p} walletKey=${h} rejected=${b}`),b)return ge.SocketService(`handleJoinChannelResults: Channel ${d} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Ge.REJECTED,{channelId:d}),void t.remote.emitServiceStatusEvent();if(h&&!(!((n=l.state.channelConfig)===null||n===void 0)&&n.otherKey)){t.getKeyExchange().setOtherPublicKey(h),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Ge.AUTHORIZED);let{communicationLayer:_,storageManager:A}=l.state,C=Object.assign(Object.assign({},l.state.channelConfig),{channelId:(o=l.state.channelId)!==null&&o!==void 0?o:"",validUntil:Date.now()+z4,localKey:_?.getKeyInfo().ecies.private,otherKey:h});t.sendMessage({type:qn.KEY_HANDSHAKE_ACK}).catch((R=>{})),(a=t.state.socket)===null||a===void 0||a.emit(no.PING,{id:d,clientType:f?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield A?.persistChannelConfig(C),l.emitServiceStatusEvent(),l.setConnectionStatus(ps.LINKED)}p&&(t.emit(Ge.CHANNEL_PERSISTENCE),(s=t.state.keyExchange)===null||s===void 0||s.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Ge.AUTHORIZED),C6(Object.assign(Object.assign({id:d??"",event:f?zo.CONNECTED:zo.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Dm.version,walletVersion:(c=t.remote.state.walletInfo)===null||c===void 0?void 0:c.version}),u.communicationServerUrl).catch((_=>{})))})),L4=t=>new Promise((e=>{setTimeout(e,t)})),Pxe=(t,e,...r)=>Ie(void 0,[t,e,...r],void 0,(function*(n,i,o=200){let a,s=Date.now(),c=!1;for(;!c;){if(c=Date.now()-s>3e5,a=i[n],a.elapsedTime!==void 0)return a;yield L4(o)}throw new Error(`RPC ${n} timed out`)})),YX=t=>Ie(void 0,void 0,void 0,(function*(){let{state:e}=t,{socket:r,channelId:n,context:i,isOriginator:o,isReconnecting:a}=e;if(a)return ge.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",t),!1;if(!r)return ge.SocketService("[SocketService: reconnectSocket()] socket is not defined",t),!1;if(!n)return!1;let{connected:s}=r;e.isReconnecting=!0,e.reconnectionAttempts=0,ge.SocketService(`[SocketService: reconnectSocket()] connected=${s} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(ge.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield L4(200),r.connected)return ge.SocketService("Socket already connected --- ping to retrieve messages"),r.emit(no.PING,{id:n,clientType:o?"dapp":"wallet",context:"on_channel_config",message:""}),!0;e.resumed=!0,r.connect(),t.emit(Ge.SOCKET_RECONNECT);try{if(yield new Promise(((c,l)=>{r.emit(Ge.JOIN_CHANNEL,{channelId:n,context:`${i}connect_again`,clientType:o?"dapp":"wallet"},((u,d)=>Ie(void 0,void 0,void 0,(function*(){try{yield SB(t,u,d),c()}catch(f){l(f)}}))))})),yield L4(100),r.connected)return ge.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(c){ge.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,c)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield L4(200))}return ge.SocketService("Failed to reconnect after 3 attempts"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}}));function x7e(t,e){return Ie(this,void 0,void 0,(function*(){var r;let n=(r=t.state.keyExchange)===null||r===void 0?void 0:r.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?"dapp":"wallet",message:n,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return ge.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===no.TERMINATE&&(t.state.manualDisconnect=!0),new Promise(((o,a)=>{var s;(s=t.state.socket)===null||s===void 0||s.emit(Ge.MESSAGE,i,((c,l)=>{var u;c&&(ge.SocketService(`[SocketService: encryptAndSendMessage()] error=${c}`),a(c)),ge.SocketService("[encryptAndSendMessage] response",l),o((u=l?.success)!==null&&u!==void 0&&u)}))}))}))}var k4;(function(t){t.RPC_CHECK="rpcCheck",t.SKIPPED_RPC="skippedRpc"})(k4||(k4={}));var A7e=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map((t=>t.toLowerCase())),pbt=[{event:Ge.CLIENTS_CONNECTED,handler:function(t,e){return r=>Ie(this,void 0,void 0,(function*(){var n,i,o,a,s,c,l,u,d,f,p;let h=(i=(n=t.remote.state.channelConfig)===null||n===void 0?void 0:n.relayPersistence)!==null&&i!==void 0&&i;if(ge.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${h} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(Ge.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(ge.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged()} -- backward compatibility`),(c=t.state.keyExchange)===null||c===void 0||c.start({isOriginator:(l=t.state.isOriginator)!==null&&l!==void 0&&l})),t.state.resumed=!1;else if(t.state.clientsPaused)ge.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!t.state.isOriginator){let b=!h;ge.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(u=t.state.keyExchange)===null||u===void 0?void 0:u.areKeysExchanged()} -- force=${b} -- backward compatibility`),ge.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(d=t.state.keyExchange)===null||d===void 0?void 0:d.areKeysExchanged()} -- force=${b} -- backward compatibility`),(f=t.state.keyExchange)===null||f===void 0||f.start({isOriginator:(p=t.state.isOriginator)!==null&&p!==void 0&&p,force:b})}t.state.clientsConnected=!0,t.state.clientsPaused=!1}))}},{event:Ge.CHANNEL_CREATED,handler:function(t,e){return r=>{ge.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,r),t.emit(Ge.CHANNEL_CREATED,r)}}},{event:Ge.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var r;t.state.clientsConnected=!1,ge.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?ge.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((r=t.state.keyExchange)===null||r===void 0||r.clean()),t.emit(Ge.CLIENTS_DISCONNECTED,e))}}},{event:Ge.CONFIG,handler:function(t,e){return r=>Ie(this,void 0,void 0,(function*(){var n,i,o;ge.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,r);let{persistence:a,walletKey:s}=r;t.state.isOriginator&&t.remote.state.channelConfig?(r.walletKey&&!t.remote.state.channelConfig.otherKey&&(ge.SocketService(`Setting wallet key ${s}`),t.remote.state.channelConfig.otherKey=s,t.getKeyExchange().setOtherPublicKey(r.walletKey),(n=t.state.keyExchange)===null||n===void 0||n.setKeysExchanged(!0),yield t.remote.sendMessage({type:qn.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:no.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),a!==!0||t.remote.state.channelConfig.relayPersistence||(ge.SocketService(`Setting relay persistence ${a}`),t.remote.state.channelConfig.relayPersistence=a,t.remote.state.relayPersistence=!0,t.remote.emit(Ge.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(Ge.AUTHORIZED),yield(o=t.remote.state.storageManager)===null||o===void 0?void 0:o.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||r.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(Ge.CHANNEL_PERSISTENCE))}))}},{event:Ge.MESSAGE,handler:function(t,e){return r=>{var n,i,o,a,s,c,l,u,d,f,p,h,b,_,A,C,R,M;let{ackId:U,message:F,error:z}=r,N=(n=t.remote.state.relayPersistence)!==null&&n!==void 0&&n;if(ge.SocketService(`[SocketService handleMessage()]  relayPersistence=${N}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),z)throw ge.SocketService(`
      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${z}`),new Error(z);let k=typeof F=="string";if(!k&&F?.type===qn.KEY_HANDSHAKE_START)return N?void 0:(ge.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,F),void((o=t.state.keyExchange)===null||o===void 0||o.start({isOriginator:(a=t.state.isOriginator)!==null&&a!==void 0&&a,force:!0})));if(!k&&(!((s=F?.type)===null||s===void 0)&&s.startsWith("key_handshake")))return N?void 0:(ge.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,F),void t.emit(eD.KEY_EXCHANGE,{message:F,context:t.state.context}));if(k&&!(!((c=t.state.keyExchange)===null||c===void 0)&&c.areKeysExchanged())){let S=!1;try{ge.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(l=t.state.keyExchange)===null||l===void 0||l.decryptMessage(F),S=!0}catch(T){ge.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,T)}if(!S)return t.state.isOriginator?(d=t.state.keyExchange)===null||d===void 0||d.start({isOriginator:(f=t.state.isOriginator)!==null&&f!==void 0&&f}):t.sendMessage({type:qn.KEY_HANDSHAKE_START}).catch((T=>{})),void ge.SocketService(`Message ignored because invalid key exchange status. step=${(p=t.state.keyExchange)===null||p===void 0?void 0:p.getKeyInfo().step}`,(h=t.state.keyExchange)===null||h===void 0?void 0:h.getKeyInfo(),F);ge.SocketService("Invalid key exchange status detected --- updating it."),(u=t.state.keyExchange)===null||u===void 0||u.setKeysExchanged(!0)}else if(!k&&F?.type)return void t.emit(Ge.MESSAGE,F);if(!k)return void t.emit(Ge.MESSAGE,F);let O=(b=t.state.keyExchange)===null||b===void 0?void 0:b.decryptMessage(F),w=JSON.parse(O??"{}");if(U&&U?.length>0&&(ge.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${U} channelId=${e}`),(_=t.state.socket)===null||_===void 0||_.emit(Ge.MESSAGE_ACK,{ackId:U,channelId:e,clientType:t.state.isOriginator?"dapp":"wallet"})),t.state.clientsPaused=w?.type===no.PAUSE,t.state.isOriginator&&w.data){let S=w.data,T=t.state.rpcMethodTracker[S.id];if(T){let m=Date.now()-T.timestamp;ge.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${S.id} method=${T.method} responseTime=${m}`,w),t.remote.state.analytics&&A7e.includes(T.method.toLowerCase())&&C6(Object.assign(Object.assign({id:(A=t.remote.state.channelId)!==null&&A!==void 0?A:"",event:zo.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:Dm.version},t.remote.state.originatorInfo),{walletVersion:(C=t.remote.state.walletInfo)===null||C===void 0?void 0:C.version,params:{method:T.method,from:"mobile"}}),t.remote.state.communicationServerUrl).catch((E=>{})),Y_(T.method)&&vo.analytics.track(S.error?S.error.code===4001?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:T.method});let y=Object.assign(Object.assign({},T),{result:S.result,error:S.error?{code:(R=S.error)===null||R===void 0?void 0:R.code,message:(M=S.error)===null||M===void 0?void 0:M.message}:void 0,elapsedTime:m});t.state.rpcMethodTracker[S.id]=y,t.emit(Ge.RPC_UPDATE,y)}}t.emit(Ge.MESSAGE,{message:w})}}},{event:Ge.REJECTED,handler:function(t,e){return r=>Ie(this,void 0,void 0,(function*(){var n;t.state.isOriginator&&!t.remote.state.ready?(ge.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),C6(Object.assign(Object.assign({id:e,event:zo.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:Dm.version,walletVersion:(n=t.remote.state.walletInfo)===null||n===void 0?void 0:n.version}),t.remote.state.communicationServerUrl).catch((i=>{})),vo.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Ge.REJECTED,{channelId:e}),t.remote.setConnectionStatus(ps.DISCONNECTED)):ge.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)}))}},{event:"clients_waiting_to_join",handler:function(t,e){return r=>{ge.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,r),t.emit(Ge.CLIENTS_WAITING,r)}}}],hbt=[{event:Ge.KEY_INFO,handler:function(t){return e=>{ge.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",e),t.emit(Ge.KEY_INFO,e)}}},{event:Ge.KEYS_EXCHANGED,handler:function(t){return()=>{var e,r,n;ge.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);let{channelConfig:i}=t.remote.state;if(i){let a=t.getKeyExchange().getKeyInfo().ecies;i.localKey=a.private,i.otherKey=a.otherPubKey,t.remote.state.channelConfig=i,(r=t.remote.state.storageManager)===null||r===void 0||r.persistChannelConfig(i).catch((s=>{}))}t.emit(Ge.KEYS_EXCHANGED,{keysExchanged:(n=t.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged(),isOriginator:t.state.isOriginator});let o={keyInfo:t.getKeyInfo()};t.emit(Ge.SERVICE_STATUS,o)}}}];function Oxe(t,e){ge.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);let{socket:r}=t.state,{keyExchange:n}=t.state;r&&t.state.isOriginator&&(t.state.debug&&(r?.io.on("error",(i=>{ge.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)})),r?.io.on("reconnect",(i=>{ge.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),YX(t).catch((o=>{}))})),r?.io.on("reconnect_error",(i=>{ge.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)})),r?.io.on("reconnect_failed",(()=>{ge.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)}))),r?.on("disconnect",(i=>(ge.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),(function(o){return a=>{ge.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${o.state.manualDisconnect}`,a),o.state.manualDisconnect||(o.emit(Ge.SOCKET_DISCONNECTED),YX(o).catch((s=>{})))}})(t)(i))))),pbt.forEach((({event:i,handler:o})=>{r?.on(`${i}-${e}`,o(t,e))})),hbt.forEach((({event:i,handler:o})=>{n?.on(i,o(t))})),t.state.setupChannelListeners=!0}var JX=class extends $4.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;let{reconnect:r,communicationLayerPreference:n,communicationServerUrl:i,context:o,remote:a,logging:s}=e;this.state.resumed=r,this.state.context=o,this.state.isOriginator=a.state.isOriginator,this.state.communicationLayerPreference=n,this.state.debug=s?.serviceLayer===!0,this.remote=a,s?.serviceLayer===!0&&e0.default.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==H4&&s?.plaintext===!0,ge.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;let{otherPublicKey:r,ecies:n,logging:i}=this.options,o={autoConnect:!1,transports:ubt,withCredentials:!0},a=this.state.communicationServerUrl;ge.SocketService(`[SocketService: initSocket()] Socket IO url: ${a}`),this.state.socket=Wp(a,o),(function(c){if(typeof window<"u"&&typeof document<"u"&&(ge.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,c),!c.state.focusListenerAdded)){let l=()=>{ge.SocketService("Document has focus --- reconnecting socket"),YX(c).catch((u=>{}))};window.addEventListener("focus",l),c.state.focusListenerAdded=!0,c.state.removeFocusListener=()=>{window.removeEventListener("focus",l),c.state.focusListenerAdded=!1}}})(this);let s={communicationLayer:this,otherPublicKey:r,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:"",ecies:n,logging:i};this.state.keyExchange=new WX(s)}resetKeys(){return ge.SocketService("[SocketService: resetKeys()] Resetting keys."),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){var r,n,i;if(ge.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(r=e.state.socket)===null||r===void 0?void 0:r.connected)throw new Error("socket already connected");(n=e.state.socket)===null||n===void 0||n.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;let o=Yd();e.state.channelId=o,Oxe(e,o),yield new Promise(((s,c)=>{var l;(l=e.state.socket)===null||l===void 0||l.emit(Ge.JOIN_CHANNEL,{channelId:o,context:`${e.state.context}createChannel`,clientType:"dapp"},((u,d)=>Ie(this,void 0,void 0,(function*(){try{yield SB(e,u,d),s()}catch(f){c(f)}}))))}));let a=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:o,pubKey:a?.ecies.public||"",privKey:a?.ecies.private||""}}))})(this)}))}connectToChannel({channelId:e,withKeyExchange:r=!1,authorized:n}){return(function(i){return Ie(this,arguments,void 0,(function*({options:o,instance:a}){let{channelId:s,authorized:c,withKeyExchange:l}=o,{state:u,remote:d}=a,{isOriginator:f=!1,socket:p,keyExchange:h}=u,{channelConfig:b}=d.state;if(p?.connected)throw new Error("socket already connected");if(f&&b?.relayPersistence){let{localKey:_,otherKey:A}=b;_&&A&&h?.setRelayPersistence({localKey:_,otherKey:A})}return Object.assign(u,{manualDisconnect:!1,withKeyExchange:l,isOriginator:f,channelId:s}),p?.connect(),Oxe(a,s),!f&&c&&(h?.setKeysExchanged(!0),Object.assign(d.state,{ready:!0,authorized:!0})),new Promise((_=>{var A;let C=(A=h?.getKeyInfo())===null||A===void 0?void 0:A.ecies.public;p?.emit(Ge.JOIN_CHANNEL,{channelId:s,context:`${u.context}_connectToChannel`,clientType:f?"dapp":"wallet",publicKey:c&&!f?C:void 0},((R,M)=>Ie(this,void 0,void 0,(function*(){yield SB(a,R,M),_()}))))}))}))})({options:{channelId:e,withKeyExchange:r,authorized:n},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,r;(r=(e=this).state.socket)===null||r===void 0||r.emit(Ge.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:qn.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return Ie(this,void 0,void 0,(function*(){return(function(r,n){return Ie(this,void 0,void 0,(function*(){var i,o,a;if(!r.state.channelId)throw ge.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(ge.SocketService(`[SocketService: handleSendMessage()] context=${r.state.context} areKeysExchanged=${(i=r.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),(o=n?.type)===null||o===void 0?void 0:o.startsWith("key_handshake"))return(function(c,l){var u;ge.SocketService(`[SocketService: handleKeyHandshake()] context=${c.state.context}`,l),(u=c.state.socket)===null||u===void 0||u.emit(Ge.MESSAGE,{id:c.state.channelId,context:c.state.context,clientType:c.state.isOriginator?"dapp":"wallet",message:l})})(r,n),!0;(function(c,l){var u;if(!(!((u=c.state.keyExchange)===null||u===void 0)&&u.areKeysExchanged())&&!c.remote.state.relayPersistence)throw ge.SocketService(`[SocketService: validateKeyExchange()] context=${c.state.context} ERROR keys not exchanged`,l),new Error("Keys not exchanged BBB")})(r,n),(function(c,l){var u;let d=(u=l?.method)!==null&&u!==void 0?u:"",f=l?.id;c.state.isOriginator&&f&&(c.state.rpcMethodTracker[f]={id:f,timestamp:Date.now(),method:d},c.emit(Ge.RPC_UPDATE,c.state.rpcMethodTracker[f]))})(r,n);let s=yield x7e(r,n);return r.remote.state.analytics&&r.remote.state.isOriginator&&n.method&&A7e.includes(n.method.toLowerCase())&&C6({id:(a=r.remote.state.channelId)!==null&&a!==void 0?a:"",event:zo.SDK_RPC_REQUEST,params:{method:n.method,from:"mobile"}},r.remote.state.communicationServerUrl).catch((c=>{})),r.remote.state.isOriginator&&n.method&&Y_(n.method)&&vo.analytics.track("sdk_action_requested",{action:n.method}),(function(c,l){return Ie(this,void 0,void 0,(function*(){var u;let d=l?.id,f=(u=l?.method)!==null&&u!==void 0?u:"";if(c.state.isOriginator&&d)try{let p=Pxe(d,c.state.rpcMethodTracker,200).then((_=>({type:k4.RPC_CHECK,result:_}))),h=Ie(this,void 0,void 0,(function*(){let _=yield(C=>Ie(void 0,[C],void 0,(function*({rpcId:R,instance:M}){for(;M.state.lastRpcId===R||M.state.lastRpcId===void 0;)yield L4(200);return M.state.lastRpcId})))({instance:c,rpcId:d}),A=yield Pxe(_,c.state.rpcMethodTracker,200);return{type:k4.SKIPPED_RPC,result:A}})),b=yield Promise.race([p,h]);if(b.type===k4.RPC_CHECK){let _=b.result;ge.SocketService(`[SocketService:handleRpcReplies()] id=${l.id} ${f} ( ${_.elapsedTime} ms)`,_.result)}else{if(b.type!==k4.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${d}`);{let _=Object.assign(Object.assign({},c.state.rpcMethodTracker[d]),{error:new Error("SDK_CONNECTION_ISSUE")});c.emit(Ge.RPC_UPDATE,_);let A={data:Object.assign(Object.assign({},_),{jsonrpc:"2.0"}),name:"metamask-provider"};c.emit(Ge.MESSAGE,{message:A})}}}catch(p){throw p}}))})(r,n).catch((c=>{})),s}))})(this,e)}))}ping(){return(function(e){return Ie(this,void 0,void 0,(function*(){var r,n;ge.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(r=e.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged()}`),(n=e.state.socket)===null||n===void 0||n.emit(no.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})}))})(this)}pause(){return(function(e){return Ie(this,void 0,void 0,(function*(){var r,n;ge.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((r=e.state.keyExchange)===null||r===void 0)&&r.areKeysExchanged()&&(yield e.sendMessage({type:no.PAUSE})),(n=e.state.socket)===null||n===void 0||n.disconnect()}))})(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return(function(e){return Ie(this,void 0,void 0,(function*(){let{state:r,remote:n}=e,{socket:i,channelId:o,context:a,keyExchange:s,isOriginator:c}=r,{isOriginator:l}=n.state;if(ge.SocketService(`[SocketService: resume()] channelId=${o} context=${a} connected=${i?.connected} manualDisconnect=${r.manualDisconnect} resumed=${r.resumed} keysExchanged=${s?.areKeysExchanged()}`),!o)throw ge.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i?.connected?(ge.SocketService("[SocketService: resume()] already connected."),i.emit(no.PING,{id:o,clientType:l?"dapp":"wallet",context:"on_channel_config",message:""}),n.hasRelayPersistence()||s?.areKeysExchanged()||(c?yield e.sendMessage({type:no.READY}):s?.start({isOriginator:!1}))):(i?.connect(),ge.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i?.connected}`),i?.emit(Ge.JOIN_CHANNEL,{channelId:o,context:`${a}_resume`,clientType:l?"dapp":"wallet"},((u,d)=>Ie(this,void 0,void 0,(function*(){try{yield SB(e,u,d)}catch{}}))))),r.manualDisconnect=!1,r.resumed=!0}))})(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return(function(r,n){var i,o,a,s,c;ge.SocketService(`[SocketService: disconnect()] context=${r.state.context}`,n),n?.terminate&&((o=(i=r.state).removeFocusListener)===null||o===void 0||o.call(i),r.state.channelId=n.channelId,(a=r.state.socket)===null||a===void 0||a.removeAllListeners(),(s=r.state.keyExchange)===null||s===void 0||s.clean(),r.remote.state.ready=!1,r.state.socket=void 0,r.state.rpcMethodTracker={}),r.state.manualDisconnect=!0,(c=r.state.socket)===null||c===void 0||c.disconnect()})(this,e)}},Ag,Zs,Nxe;function mbt(t){return()=>Ie(this,void 0,void 0,(function*(){var e,r,n;let{state:i}=t;if(i.authorized)return;yield Ie(this,void 0,void 0,(function*(){for(;!i.walletInfo;)yield L4(500)}));let o="7.3".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||"");if(ge.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(r=i.walletInfo)===null||r===void 0?void 0:r.version} compareValue=${o}`),o!==1)return;let a=i.platformType===Zs.MobileWeb||i.platformType===Zs.ReactNative||i.platformType===Zs.MetaMaskMobileWebview;ge.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${a} channel=${i.channelId} walletVersion=${(n=i.walletInfo)===null||n===void 0?void 0:n.version}`),a&&(i.authorized=!0,t.emit(Ge.AUTHORIZED))}))}function bbt(t){return e=>{let{state:r}=t;ge.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${r.context} on 'channel_created' channelId=${e}`),t.emit(Ge.CHANNEL_CREATED,e)}}function ybt(t,e){return()=>{var r,n,i,o;let{state:a}=t;ge.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${a.channelId} keysExchanged=${(n=(r=a.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||n===void 0?void 0:n.keysExchanged}`),a.analytics&&C6(Object.assign(Object.assign({id:(i=a.channelId)!==null&&i!==void 0?i:"",event:a.reconnection?zo.RECONNECT:a.isOriginator?zo.REQUEST:zo.REQUEST_MOBILE},a.originatorInfo),{commLayer:e,sdkVersion:a.sdkVersion,walletVersion:(o=a.walletInfo)===null||o===void 0?void 0:o.version,commLayerVersion:Dm.version}),a.communicationServerUrl).catch((s=>{})),a.isOriginator&&!a.reconnection&&vo.analytics.track("sdk_connection_established",{transport_type:"websocket"}),a.clientsConnected=!0,a.originatorInfoSent=!1,t.emit(Ge.CLIENTS_CONNECTED)}}function gbt(t){return e=>{let{state:r}=t;ge.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${r.context} on 'clients_disconnected' channelId=${e}`),r.relayPersistence||(r.clientsConnected=!1,r.ready=!1,r.authorized=!1),t.emit(Ge.CLIENTS_DISCONNECTED,r.channelId),t.setConnectionStatus(ps.DISCONNECTED)}}function wbt(t){return e=>{var r;let{state:n}=t;if(ge.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${n.context} on 'clients_waiting' numberUsers=${e} ready=${n.ready} autoStarted=${n.originatorConnectStarted}`),t.setConnectionStatus(ps.WAITING),t.emit(Ge.CLIENTS_WAITING,e),n.originatorConnectStarted){ge.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${n.originatorConnectStarted} timeout`,n.autoConnectOptions);let i=((r=n.autoConnectOptions)===null||r===void 0?void 0:r.timeout)||3e3,o=setTimeout((()=>{ge.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,n.autoConnectOptions),n.originatorConnectStarted=!1,n.ready||t.setConnectionStatus(ps.TIMEOUT),clearTimeout(o)}),i)}}}function vbt(t,e){return r=>{var n,i,o,a,s,c,l,u;let{state:d}=t;if(ge.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${d.context} on commLayer.'keys_exchanged' channel=${d.channelId}`,r),(i=(n=d.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){let f=Object.assign(Object.assign({},d.channelConfig),{channelId:(o=d.channelId)!==null&&o!==void 0?o:"",validUntil:((a=d.channelConfig)===null||a===void 0?void 0:a.validUntil)||z4,localKey:d.communicationLayer.getKeyInfo().ecies.private,otherKey:d.communicationLayer.getKeyInfo().ecies.otherPubKey});(s=d.storageManager)===null||s===void 0||s.persistChannelConfig(f).catch((p=>{})),t.setConnectionStatus(ps.LINKED)}(function(f,p){var h,b,_,A,C,R,M,U;let{state:F}=f;ge.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${F.channelId}`,p);let z=Object.assign(Object.assign({},F.channelConfig),{channelId:(h=F.channelId)!==null&&h!==void 0?h:"",validUntil:(_=(b=F.channelConfig)===null||b===void 0?void 0:b.validUntil)!==null&&_!==void 0?_:0,relayPersistence:F.relayPersistence,localKey:(C=(A=F.communicationLayer)===null||A===void 0?void 0:A.state.keyExchange)===null||C===void 0?void 0:C.getKeyInfo().ecies.private,otherKey:(M=(R=F.communicationLayer)===null||R===void 0?void 0:R.state.keyExchange)===null||M===void 0?void 0:M.getKeyInfo().ecies.otherPubKey,lastActive:p.getTime()});(U=F.storageManager)===null||U===void 0||U.persistChannelConfig(z)})(t,new Date),d.analytics&&d.channelId&&C6(Object.assign(Object.assign({id:d.channelId,event:r.isOriginator?zo.CONNECTED:zo.CONNECTED_MOBILE},d.originatorInfo),{sdkVersion:d.sdkVersion,commLayer:e,commLayerVersion:Dm.version,walletVersion:(c=d.walletInfo)===null||c===void 0?void 0:c.version}),d.communicationServerUrl).catch((f=>{})),d.isOriginator=r.isOriginator,r.isOriginator||((l=d.communicationLayer)===null||l===void 0||l.sendMessage({type:no.READY}),d.ready=!0,d.paused=!1),r.isOriginator&&!d.originatorInfoSent&&((u=d.communicationLayer)===null||u===void 0||u.sendMessage({type:no.ORIGINATOR_INFO,originatorInfo:d.originatorInfo,originator:d.originatorInfo}),d.originatorInfoSent=!0)}}function Ebt(t){return e=>{let r=e;e.message&&(r=r.message),(function(n,i){let{state:o}=i;if(ge.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${o.context} on 'message' typeof=${typeof n}`,n),i.state.ready=!0,o.isOriginator||n.type!==no.ORIGINATOR_INFO)if(o.isOriginator&&n.type===no.WALLET_INFO)(function(a,s){let{state:c}=a;c.walletInfo=s.walletInfo,c.paused=!1})(i,n);else{if(o.isOriginator&&n.type===no.WALLET_INIT)(function(a,s){return Ie(this,void 0,void 0,(function*(){var c,l,u;let{state:d}=a;if(d.isOriginator){let f=s.data||{};if(typeof f=="object"&&"accounts"in f&&"chainId"in f&&"walletKey"in f)try{let{channelConfig:p}=a.state;if(ge.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(p,null,2)),p){let h=f.accounts,b=f.chainId,_=f.walletKey,A,C=!1;"deeplinkProtocol"in f&&(C=!!f.deeplinkProtocol,a.state.deeplinkProtocolAvailable=C),"walletVersion"in f&&(A=f.walletVersion),yield(c=a.state.storageManager)===null||c===void 0?void 0:c.persistChannelConfig(Object.assign(Object.assign({},p),{otherKey:_,walletVersion:A,deeplinkProtocolAvailable:C,relayPersistence:!0})),yield(l=a.state.storageManager)===null||l===void 0?void 0:l.persistAccounts(h),yield(u=a.state.storageManager)===null||u===void 0?void 0:u.persistChainId(b)}a.emit(Ge.WALLET_INIT,{accounts:f.accounts,chainId:f.chainId})}catch{}}}))})(i,n).catch((a=>{ge.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${a}`)}));else if(n.type===no.TERMINATE)(function(a){return Ie(this,void 0,void 0,(function*(){let{state:s}=a;s.isOriginator&&(yield T7e({options:{terminate:!0,sendMessage:!1},instance:a}),a.emit(Ge.TERMINATE))}))})(i).catch((a=>{ge.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${a}`)}));else if(n.type===no.PAUSE)(function(a){let{state:s}=a;s.paused=!0,a.setConnectionStatus(ps.PAUSED)})(i);else if(n.type===no.READY&&o.isOriginator)(function(a){let{state:s}=a;a.setConnectionStatus(ps.LINKED);let c=s.paused;s.paused=!1,a.emit(Ge.CLIENTS_READY,{isOriginator:s.isOriginator,walletInfo:s.walletInfo}),c&&(s.authorized=!0,a.emit(Ge.AUTHORIZED))})(i);else{if(n.type===no.OTP&&o.isOriginator)return void(function(a,s){var c;let{state:l}=a;a.emit(Ge.OTP,s.otpAnswer),"6.6".localeCompare(((c=l.walletInfo)===null||c===void 0?void 0:c.version)||"")===1&&a.emit(Ge.SDK_RPC_CALL,{method:Ys.ETH_REQUESTACCOUNTS,params:[]})})(i,n);n.type===no.AUTHORIZED&&o.isOriginator&&(function(a){let{state:s}=a;s.authorized=!0,a.emit(Ge.AUTHORIZED)})(i)}i.emit(Ge.MESSAGE,n)}else(function(a,s){var c;let{state:l}=a;(c=l.communicationLayer)===null||c===void 0||c.sendMessage({type:no.WALLET_INFO,walletInfo:l.walletInfo}),l.originatorInfo=s.originatorInfo||s.originator,a.emit(Ge.CLIENTS_READY,{isOriginator:l.isOriginator,originatorInfo:l.originatorInfo}),l.paused=!1})(i,n)})(r,t)}}function xbt(t){return()=>{let{state:e}=t;ge.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),e.ready=!1,e.authorized=!1,E7e(e),t.emitServiceStatusEvent({context:"socket_reconnect"})}}function Abt(t){return()=>{let{state:e}=t;ge.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),e.ready=!1}}function Tbt(t){return()=>Ie(this,void 0,void 0,(function*(){var e,r,n,i,o,a,s;let{state:c}=t;ge.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${c.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(Ge.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(Ge.AUTHORIZED),t.emit(Ge.CLIENTS_READY),t.emit(Ge.CHANNEL_PERSISTENCE);try{c.channelConfig=Object.assign(Object.assign({},c.channelConfig),{localKey:(r=c.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getKeyInfo().ecies.private,otherKey:(n=c.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getOtherPublicKey(),channelId:(i=c.channelId)!==null&&i!==void 0?i:"",validUntil:(a=(o=c.channelConfig)===null||o===void 0?void 0:o.validUntil)!==null&&a!==void 0?a:z4,relayPersistence:!0}),yield(s=c.storageManager)===null||s===void 0?void 0:s.persistChannelConfig(c.channelConfig)}catch{}}))}function kxe({communicationLayerPreference:t,otherPublicKey:e,reconnect:r,ecies:n,communicationServerUrl:i=H4,instance:o}){var a,s,c,l,u,d,f,p,h,b,_;let{state:A}=o;if(ge.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(A,null,2)),t!==Ag.SOCKET)throw new Error("Invalid communication protocol");A.communicationLayer=new JX({communicationLayerPreference:t,otherPublicKey:e,reconnect:r,transports:A.transports,communicationServerUrl:i,context:A.context,ecies:n,logging:A.logging,remote:o});let C=typeof document<"u"&&document.URL||"",R=typeof document<"u"&&document.title||"";!((a=A.dappMetadata)===null||a===void 0)&&a.url&&(C=A.dappMetadata.url),!((s=A.dappMetadata)===null||s===void 0)&&s.name&&(R=A.dappMetadata.name);let M=(d=(l=(c=A.dappMetadata)===null||c===void 0?void 0:c.name)!==null&&l!==void 0?l:(u=A.dappMetadata)===null||u===void 0?void 0:u.url)!==null&&d!==void 0?d:"N/A",U=typeof window<"u"&&window.location!==void 0&&(f=window.location.hostname)!==null&&f!==void 0?f:M,F={url:C,title:R,source:(p=A.dappMetadata)===null||p===void 0?void 0:p.source,dappId:U,anonId:A.anonId,icon:((h=A.dappMetadata)===null||h===void 0?void 0:h.iconUrl)||((b=A.dappMetadata)===null||b===void 0?void 0:b.base64Icon),platform:A.platformType,apiVersion:Dm.version,connector:(_=A.dappMetadata)===null||_===void 0?void 0:_.connector};A.originatorInfo=F;let z={[Ge.AUTHORIZED]:mbt(o),[Ge.MESSAGE]:Ebt(o),[Ge.CHANNEL_PERSISTENCE]:Tbt(o),[Ge.CLIENTS_CONNECTED]:ybt(o,t),[Ge.KEYS_EXCHANGED]:vbt(o,t),[Ge.SOCKET_DISCONNECTED]:Abt(o),[Ge.SOCKET_RECONNECT]:xbt(o),[Ge.CLIENTS_DISCONNECTED]:gbt(o),[Ge.KEY_INFO]:()=>{},[Ge.CHANNEL_CREATED]:bbt(o),[Ge.CLIENTS_WAITING]:wbt(o),[Ge.RPC_UPDATE]:N=>{o.emit(Ge.RPC_UPDATE,N)}};for(let[N,k]of Object.entries(z))try{A.communicationLayer.on(N,k)}catch{}}function T7e(t){return Ie(this,arguments,void 0,(function*({options:e,instance:r}){let{state:n}=r;return ge.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${n.channelId}`,e),new Promise(((i,o)=>{var a,s,c,l,u,d;e?.terminate?(r.state.ready&&C6({id:(a=r.state.channelId)!==null&&a!==void 0?a:"",event:zo.TERMINATED},r.state.communicationServerUrl).catch((f=>{})),n.ready=!1,n.paused=!1,(s=n.storageManager)===null||s===void 0||s.terminate((c=n.channelId)!==null&&c!==void 0?c:""),r.state.terminated=!0,e.sendMessage?!((l=n.communicationLayer)===null||l===void 0)&&l.getKeyInfo().keysExchanged&&r.state.communicationLayer&&x7e(r.state.communicationLayer,{type:no.TERMINATE}).then((()=>{i(!0)})).catch((f=>{o(f)})):i(!0),n.authorized=!1,n.relayPersistence=!1,n.channelId=Yd(),e.channelId=n.channelId,n.channelConfig=void 0,n.originatorConnectStarted=!1,(u=n.communicationLayer)===null||u===void 0||u.disconnect(e),r.setConnectionStatus(ps.TERMINATED)):((d=n.communicationLayer)===null||d===void 0||d.disconnect(e),r.setConnectionStatus(ps.DISCONNECTED),i(!0))}))}))}(Ag||(Ag={})).SOCKET="socket",(function(t){t.NonBrowser="nodejs",t.MetaMaskMobileWebview="in-app-browser",t.DesktopWeb="web-desktop",t.MobileWeb="web-mobile",t.ReactNative="react-native"})(Zs||(Zs={}));var QX=class extends $4.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:H4,context:"",persist:!1,clientsConnected:!1,sessionDuration:z4,originatorConnectStarted:!1,debug:!1,_connectionStatus:ps.DISCONNECTED},this._options=e;let{anonId:r,platformType:n,communicationLayerPreference:i,otherPublicKey:o,reconnect:a,walletInfo:s,dappMetadata:c,protocolVersion:l,transports:u,context:d,relayPersistence:f,ecies:p,analytics:h=!1,storage:b,sdkVersion:_,communicationServerUrl:A=H4,logging:C,autoConnect:R={timeout:dbt}}=e;this.state.anonId=r,this.state.otherPublicKey=o,this.state.dappMetadata=c,this.state.walletInfo=s,this.state.transports=u,this.state.platformType=n,this.state.analytics=h,this.state.protocolVersion=l??1,this.state.isOriginator=!o,this.state.relayPersistence=f,this.state.communicationServerUrl=A,this.state.context=d,this.state.terminated=!1,this.state.sdkVersion=_,this.setMaxListeners(50),this.setConnectionStatus(ps.DISCONNECTED),b?.duration&&(this.state.sessionDuration=z4),this.state.storageOptions=b,this.state.autoConnectOptions=R,this.state.debug=C?.remoteLayer===!0,C?.remoteLayer===!0&&e0.default.enable("RemoteCommunication:Layer"),C?.serviceLayer===!0&&e0.default.enable("SocketService:Layer"),C?.eciesLayer===!0&&e0.default.enable("ECIES:Layer"),C?.keyExchangeLayer===!0&&e0.default.enable("KeyExchange:Layer"),this.state.logging=C,b?.storageManager&&(this.state.storageManager=b.storageManager),ge.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${l} relayPersistence=${f} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${o} reconnect=${a}`),this.state.isOriginator||kxe({communicationLayerPreference:i,otherPublicKey:o,reconnect:a,ecies:p,communicationServerUrl:A,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return Ie(this,void 0,void 0,(function*(){var e;if(this.state.storageManager){let r=yield this.state.storageManager.getPersistedChannelConfig({});r&&(this.state.channelConfig=r,this.state.channelId=r.channelId,this.state.deeplinkProtocolAvailable=(e=r.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,r.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(ps.LINKED),yield this.connectToChannel({channelId:r.channelId})))}kxe({communicationLayerPreference:Ag.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})}))}originatorSessionConnect(){return Ie(this,void 0,void 0,(function*(){return yield(function(e){return Ie(this,void 0,void 0,(function*(){var r;let{state:n}=e;if(!n.storageManager)return void ge.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");let i=yield n.storageManager.getPersistedChannelConfig({});if(ge.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${n.originatorConnectStarted} channelConfig`,i),(r=n.communicationLayer)===null||r===void 0?void 0:r.isConnected())return ge.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return n.channelConfig=i,n.originatorConnectStarted=!0,n.channelId=i?.channelId,n.reconnection=!0,i;ge.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}n.originatorConnectStarted=!1}))})(this)}))}generateChannelIdConnect(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){var r,n,i,o,a,s;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(!((r=e.communicationLayer)===null||r===void 0)&&r.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(n=e.storageManager)===null||n===void 0||n.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(o=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||o===void 0?void 0:o.ecies.private,pubKey:(s=(a=e.communicationLayer)===null||a===void 0?void 0:a.getKeyInfo())===null||s===void 0?void 0:s.ecies.public};ge.RemoteCommunication("[RemoteCommunication: generateChannelId()]");let c=yield e.communicationLayer.createChannel();ge.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",c);let l=Object.assign(Object.assign({},e.channelConfig),{channelId:c.channelId,localKey:c.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=c.channelId,e.channelConfig=l,{channelId:e.channelId,pubKey:c.pubKey,privKey:c.privKey}}))})(this.state)}))}clean(){return E7e(this.state)}connectToChannel({channelId:e,withKeyExchange:r,authorized:n}){return(function(i){return Ie(this,arguments,void 0,(function*({channelId:o,withKeyExchange:a,authorized:s,state:c}){var l,u,d;if(!Wd(o))throw ge.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} invalid channel channelId=${o}`),new Error(`Invalid channel ${o}`);if(ge.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} channelId=${o} withKeyExchange=${a}`),(l=c.communicationLayer)===null||l===void 0?void 0:l.isConnected())return void ge.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} already connected - interrupt connection.`);c.channelId=o,yield(u=c.communicationLayer)===null||u===void 0?void 0:u.connectToChannel({channelId:o,authorized:s,withKeyExchange:a});let f=Object.assign(Object.assign({},c.channelConfig),{channelId:o,validUntil:Date.now()+c.sessionDuration});c.channelConfig=f,(d=c.storageManager)===null||d===void 0||d.persistChannelConfig(f)}))})({channelId:e,authorized:n,withKeyExchange:r,state:this.state})}sendMessage(e){return Ie(this,void 0,void 0,(function*(){let r=this.state.isOriginator&&e.method&&Y_(e.method);r&&vo.analytics.track("sdk_action_requested",{action:e.method});try{return yield(function(n,i){return Ie(this,void 0,void 0,(function*(){var o,a;let{state:s}=n;ge.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context} paused=${s.paused} ready=${s.ready} relayPersistence=${s.relayPersistence} authorized=${s.authorized} socket=${(o=s.communicationLayer)===null||o===void 0?void 0:o.isConnected()} clientsConnected=${s.clientsConnected} status=${s._connectionStatus}`,i),s.relayPersistence||s.ready&&(!((a=s.communicationLayer)===null||a===void 0)&&a.isConnected())&&s.clientsConnected||(ge.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise((c=>{n.once(Ge.CLIENTS_READY,c)})),ge.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${s.context}  AFTER SKIP / READY -- sending pending message`));try{return yield(function(l,u){return Ie(this,void 0,void 0,(function*(){return new Promise((d=>{var f;let{state:p}=l;ge.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${p.context} ready=${p.ready} authorized=${p.authorized} method=${u.method}`),!p.isOriginator||p.authorized||p.relayPersistence?(f=p.communicationLayer)===null||f===void 0||f.sendMessage(u).then((h=>{d(h)})).catch((h=>{d(!1)})):l.once(Ge.AUTHORIZED,(()=>{var h;ge.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${p.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(h=p.communicationLayer)===null||h===void 0||h.sendMessage(u).then((b=>{d(b)})).catch((b=>{d(!1)}))}))}))}))})(n,i)}catch(c){throw c}}))})(this,e)}catch(n){throw r&&vo.analytics.track("sdk_action_failed",{action:e.method}),n}}))}testStorage(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){var r;let n=yield(r=e.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();ge.RemoteCommunication("[RemoteCommunication: testStorage()] res",n)}))})(this.state)}))}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return Ie(this,void 0,void 0,(function*(){var e;ge.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()}))}testLogger(){ge.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),ge.SocketService(`testLogger() channel=${this.state.channelId}`),ge.Ecies(`testLogger() channel=${this.state.channelId}`),ge.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;ge.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(Ge.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(Ge.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var r;let n=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange();if(!n)throw new Error("KeyExchange is not initialized.");n.getOtherPublicKey()!==e&&n.setOtherPublicKey(e)}pause(){return Ie(this,void 0,void 0,(function*(){var e;ge.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus(ps.PAUSED)}))}getVersion(){return Dm.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){var r;let{state:n}=e;ge.RemoteCommunication(`[RemoteCommunication: resume()] channel=${n.channelId}`),yield(r=n.communicationLayer)===null||r===void 0?void 0:r.resume(),e.setConnectionStatus(ps.LINKED)}))})(this)}))}encrypt(e){var r,n,i;let o=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange(),a=o?.getOtherPublicKey();if(!a)throw new Error("KeyExchange not completed");return(i=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,a)}decrypt(e){var r,n,i;if(!(!((r=this.state.communicationLayer)===null||r===void 0)&&r.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return(function(r){return Ie(this,arguments,void 0,(function*({channelId:n,state:i}){var o,a,s;if(!Wd(n))throw ge.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${n}`),new Error(`Invalid channel ${n}`);if(i.isOriginator)return void ge.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${n}`);let{socket:c}=(a=(o=i.communicationLayer)===null||o===void 0?void 0:o.state)!==null&&a!==void 0?a:{};c?.connected||(ge.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),c?.connect()),C6(Object.assign(Object.assign({id:n,event:zo.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:Dm.version,walletVersion:(s=i.walletInfo)===null||s===void 0?void 0:s.version}),i.communicationServerUrl).catch((l=>{})),yield new Promise(((l,u)=>{c?.emit(Ge.REJECTED,{channelId:n},((d,f)=>{ge.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${c?.id}`,{error:d,response:f}),d?u(d):l(f)}))}))}))})({channelId:e,state:this.state})}disconnect(e){return Ie(this,void 0,void 0,(function*(){return T7e({options:e,instance:this})}))}};(function(t){t.RENEW="renew",t.LINK="link"})(Nxe||(Nxe={}));var _bt="ERC721",Sbt="ERC1155",wo={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID "${t}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function Ibt(t){let e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(r,n,i)=>{e.ethDecryptDeprecation||r.method!=="eth_decrypt"?e.ethGetEncryptionPublicKeyDeprecation||r.method!=="eth_getEncryptionPublicKey"?!e.walletWatchAssetNFTExperimental&&r.method==="wallet_watchAsset"&&[_bt,Sbt].includes(r.params?.type||"")&&(t.warn(wo.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(wo.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(wo.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var _7e=4294967295,Mxe=Math.floor(Math.random()*_7e);function Cbt(){return(t,e,r,n)=>{let i=t.id,o=Mxe=(Mxe+1)%_7e;t.id=o,e.id=o,r((a=>{t.id=i,e.id=i,a()}))}}var Lee=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Om=(t,e,r)=>(Lee(t,e,"read from private field"),r?r.call(t):e.get(t)),Zd=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},bB=(t,e,r,n)=>(Lee(t,e,"write to private field"),e.set(t,r),r),F0=(t,e,r)=>(Lee(t,e,"access private method"),r),Im={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},Bxe={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function Dxe(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var tD=(t,e)=>Object.hasOwnProperty.call(t,e),ZX=class extends TypeError{constructor(e,r){let n,{message:i,explanation:o,...a}=e,{path:s}=e,c=s.length===0?i:`At path: ${s.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function I6(t){return typeof t=="object"&&t!=null}function B1(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Rbt(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:a}=r,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${B1(n)}\``}=t;return{value:n,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*Lxe(t,e,r,n){(function(i){return I6(i)&&typeof i[Symbol.iterator]=="function"})(t)||(t=[t]);for(let i of t){let o=Rbt(i,e,r,n);o&&(yield o)}}function*Uee(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:a=!1}=r,s={path:n,branch:i};if(o&&(t=e.coercer(t,s),a&&e.type!=="type"&&I6(e.schema)&&I6(t)&&!Array.isArray(t)))for(let l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(let l of e.validator(t,s))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of e.entries(t,s)){let f=Uee(u,d,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:o,mask:a,message:r.message});for(let p of f)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):o&&(u=p[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):I6(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(let l of e.refiner(t,s))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}var Il=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:a=(c=>c),entries:s=function*(){}}=e;this.type=r,this.schema=n,this.entries=s,this.coercer=a,this.validator=i?(c,l)=>Lxe(i(c,l),l,this,c):()=>[],this.refiner=o?(c,l)=>Lxe(o(c,l),l,this,c):()=>[]}assert(e,r){return S7e(e,this,r)}create(e,r){return I7e(e,this,r)}is(e){return V4(e,this)}mask(e,r){return(function(n,i,o){let a=U_(n,i,{coerce:!0,mask:!0,message:o});if(a[0])throw a[0];return a[1]})(e,this,r)}validate(e,r={}){return U_(e,this,r)}};function S7e(t,e,r){let n=U_(t,e,{message:r});if(n[0])throw n[0]}function I7e(t,e,r){let n=U_(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function V4(t,e){return!U_(t,e)[0]}function U_(t,e,r={}){let n=Uee(t,e,r),i=(function(o){let{done:a,value:s}=o.next();return a?void 0:s})(n);return i[0]?[new ZX(i[0],(function*(){for(let a of n)a[0]&&(yield a[0])})),void 0]:[void 0,i[1]]}function Lm(t,e){return new Il({type:t,schema:null,validator:e})}function Uxe(t){let e;return new Il({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator:(r,n)=>(e??(e=t()),e.validator(r,n)),coercer:(r,n)=>(e??(e=t()),e.coercer(r,n)),refiner:(r,n)=>(e??(e=t()),e.refiner(r,n))})}function C7e(t){return new Il({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${B1(e)}`})}function R7e(t){let e=B1(t),r=typeof t;return new Il({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${B1(n)}`})}function P7e(){return Lm("number",(t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${B1(t)}`))}function O7e(t){let e=t?Object.keys(t):[],r=Lm("never",(()=>!1));return new Il({type:"object",schema:t||null,*entries(n){if(t&&I6(n)){let i=new Set(Object.keys(n));for(let o of e)i.delete(o),yield[o,n[o],t[o]];for(let o of i)yield[o,n[o],r]}},validator:n=>I6(n)||`Expected an object, but received: ${B1(n)}`,coercer:n=>I6(n)?{...n}:n})}function Fxe(t){return new Il({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function N7e(t,e){return new Il({type:"record",schema:null,*entries(r){if(I6(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator:r=>I6(r)||`Expected an object, but received: ${B1(r)}`})}function Um(){return Lm("string",(t=>typeof t=="string"||`Expected a string, but received: ${B1(t)}`))}function AD(t){let e=t.map((r=>r.type)).join(" | ");return new Il({type:"union",schema:null,coercer(r){for(let n of t){let[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){let i=[];for(let o of t){let[...a]=Uee(r,o,n),[s]=a;if(!s[0])return[];for(let[c]of a)c&&i.push(c)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${B1(r)}`,...i]}})}function Pbt(t){return(function(e){return(function(r){return typeof r=="object"&&r!==null&&"message"in r})(e)&&typeof e.message=="string"?e.message:e==null?"":String(e)})(t).replace(/\.$/u,"")}function Obt(t,e){return r=t,typeof r?.prototype?.constructor?.name=="string"?new t({message:e}):t({message:e});var r}var Nbt=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function k7e(){throw new Error("setTimeout has not been defined")}function M7e(){throw new Error("clearTimeout has not been defined")}var Em=k7e,xm=M7e;function B7e(t){if(Em===setTimeout)return setTimeout(t,0);if((Em===k7e||!Em)&&setTimeout)return Em=setTimeout,setTimeout(t,0);try{return Em(t,0)}catch{try{return Em.call(null,t,0)}catch{return Em.call(this,t,0)}}}typeof G0.setTimeout=="function"&&(Em=setTimeout),typeof G0.clearTimeout=="function"&&(xm=clearTimeout);var wg,S6=[],U4=!1,IB=-1;function kbt(){U4&&wg&&(U4=!1,wg.length?S6=wg.concat(S6):IB=-1,S6.length&&D7e())}function D7e(){if(!U4){var t=B7e(kbt);U4=!0;for(var e=S6.length;e;){for(wg=S6,S6=[];++IB<e;)wg&&wg[IB].run();IB=-1,e=S6.length}wg=null,U4=!1,(function(r){if(xm===clearTimeout)return clearTimeout(r);if((xm===M7e||!xm)&&clearTimeout)return xm=clearTimeout,clearTimeout(r);try{return xm(r)}catch{try{return xm.call(null,r)}catch{return xm.call(this,r)}}})(t)}}function L7e(t,e){this.fun=t,this.array=e}L7e.prototype.run=function(){this.fun.apply(null,this.array)};function _g(){}var Mbt=_g,Bbt=_g,Dbt=_g,Lbt=_g,Ubt=_g,Fbt=_g,Hbt=_g,I4=G0.performance||{},zbt=I4.now||I4.mozNow||I4.msNow||I4.oNow||I4.webkitNow||function(){return new Date().getTime()},Gbt=new Date,Sn={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];S6.push(new L7e(t,e)),S6.length!==1||U4||B7e(D7e)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Mbt,addListener:Bbt,once:Dbt,off:Lbt,removeListener:Ubt,removeAllListeners:Fbt,emit:Hbt,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*zbt.call(I4),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Gbt)/1e3}},F_=t=>O7e(t);function Hxe({path:t,branch:e}){let r=t[t.length-1];return tD(e[e.length-2],r)}function rD(t){return new Il({...t,type:`optional ${t.type}`,validator:(e,r)=>!Hxe(r)||t.validator(e,r),refiner:(e,r)=>!Hxe(r)||t.refiner(e,r)})}var yB,zxe,Gxe,nD=AD([R7e(null),Lm("boolean",(t=>typeof t=="boolean")),Lm("finite number",(t=>V4(t,P7e())&&Number.isFinite(t))),Um(),C7e(Uxe((()=>nD))),N7e(Um(),Uxe((()=>nD)))]),H_=(yB=nD,zxe=Lm("any",(()=>!0)),Gxe=t=>((function(e,r,n="Assertion failed",i=Nbt){try{S7e(e,r)}catch(o){throw Obt(i,`${n}: ${Pbt(o)}.`)}})(t,nD),JSON.parse(JSON.stringify(t,((e,r)=>{if(e!=="__proto__"&&e!=="constructor")return r})))),new Il({...yB,coercer:(t,e)=>V4(t,zxe)?yB.coercer(Gxe(t,e),e):yB.coercer(t,e)}));function XX(t){try{return(function(e){I7e(e,H_)})(t),!0}catch{return!1}}var T_=R7e("2.0"),CB=(function(t){return new Il({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})})(AD([P7e(),Um()])),eee=F_({code:Lm("integer",(t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${B1(t)}`)),message:Um(),data:rD(H_),stack:rD(Um())}),U7e=AD([N7e(Um(),H_),C7e(H_)]),jbt=F_({id:CB,jsonrpc:T_,method:Um(),params:rD(U7e)}),$bt=F_({jsonrpc:T_,method:Um(),params:rD(U7e)});function jxe(t){return V4(t,jbt)}function $xe(t){return V4(t,eee)}O7e({id:CB,jsonrpc:T_,result:Fxe(Lm("unknown",(()=>!0))),error:Fxe(eee)}),AD([F_({id:CB,jsonrpc:T_,result:H_}),F_({id:CB,jsonrpc:T_,error:eee})]);var Vxe=Im.internal,Vbt="Unspecified error message. This is a bug, please report it.",Kbt={code:Vxe,message:F7e(Vxe)},qbt="Unspecified server error.";function F7e(t,e=Vbt){if((function(r){return Number.isInteger(r)})(t)){let r=t.toString();if(tD(Bxe,r))return Bxe[r].message;if((function(n){return n>=-32099&&n<=-32e3})(t))return qbt}return e}function Kxe(t,{fallbackError:e=Kbt,shouldIncludeStack:r=!0}={}){if(!$xe(e))throw new Error("Must provide fallback error with integer number code and string message.");let n=(function(i,o){if(i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function")return i.serialize();if($xe(i))return i;let a=H7e(i);return{...o,data:{cause:a}}})(t,e);return r||delete n.stack,n}function H7e(t){return Array.isArray(t)?t.map((e=>XX(e)?e:Dxe(e)?qxe(e):null)):Dxe(t)?qxe(t):XX(t)?t:null}function qxe(t){return Object.getOwnPropertyNames(t).reduce(((e,r)=>{let n=t[r];return XX(n)&&(e[r]=n),e}),{})}var z7e=w_;w_.default=w_,w_.stable=Wxe,w_.stableStringify=Wxe;var iD="[...]",G7e="[Circular]",Tg=[],vg=[];function j7e(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function w_(t,e,r,n){var i;n===void 0&&(n=j7e()),tee(t,"",0,[],void 0,0,n);try{i=vg.length===0?JSON.stringify(t,e,r):JSON.stringify(t,$7e(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Tg.length!==0;){var o=Tg.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function F4(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Tg.push([n,r,e,i])):vg.push([e,r,t]):(n[r]=t,Tg.push([n,r,e]))}function tee(t,e,r,n,i,o,a){var s;if(o+=1,typeof t=="object"&&t!==null){for(s=0;s<n.length;s++)if(n[s]===t)return void F4(G7e,t,e,i);if(a.depthLimit!==void 0&&o>a.depthLimit||a.edgesLimit!==void 0&&r+1>a.edgesLimit)return void F4(iD,t,e,i);if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)tee(t[s],s,s,n,t,o,a);else{var c=Object.keys(t);for(s=0;s<c.length;s++){var l=c[s];tee(t[l],l,s,n,t,o,a)}}n.pop()}}function Wbt(t,e){return t<e?-1:t>e?1:0}function Wxe(t,e,r,n){n===void 0&&(n=j7e());var i,o=ree(t,"",0,[],void 0,0,n)||t;try{i=vg.length===0?JSON.stringify(o,e,r):JSON.stringify(o,$7e(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Tg.length!==0;){var a=Tg.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return i}function ree(t,e,r,n,i,o,a){var s;if(o+=1,typeof t=="object"&&t!==null){for(s=0;s<n.length;s++)if(n[s]===t)return void F4(G7e,t,e,i);try{if(typeof t.toJSON=="function")return}catch{return}if(a.depthLimit!==void 0&&o>a.depthLimit||a.edgesLimit!==void 0&&r+1>a.edgesLimit)return void F4(iD,t,e,i);if(n.push(t),Array.isArray(t))for(s=0;s<t.length;s++)ree(t[s],s,s,n,t,o,a);else{var c={},l=Object.keys(t).sort(Wbt);for(s=0;s<l.length;s++){var u=l[s];ree(t[u],u,s,n,t,o,a),c[u]=t[u]}if(i===void 0)return c;Tg.push([i,e,t]),i[e]=c}n.pop()}}function $7e(t){return t=t!==void 0?t:function(e,r){return r},function(e,r){if(vg.length>0)for(var n=0;n<vg.length;n++){var i=vg[n];if(i[1]===e&&i[0]===r){r=i[2],vg.splice(n,1);break}}return t.call(this,e,r)}}var Ybt=ED(z7e),v6=class extends Error{constructor(t,e,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||typeof e!="string")throw new Error('"message" must be a non-empty string.');super(e),this.code=t,r!==void 0&&(this.data=r)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,(function(e){if(typeof e!="object"||e===null)return!1;try{let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}catch{return!1}})(this.data)&&(t.data.cause=H7e(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return Ybt(this.serialize(),Jbt,2)}};function Jbt(t,e){if(e!=="[Circular]")return e}var __=t=>Qbt(Im.invalidRequest,t);function Qbt(t,e){let[r,n]=(function(i){if(i){if(typeof i=="string")return[i];if(typeof i=="object"&&!Array.isArray(i)){let{message:o,data:a}=i;if(o&&typeof o!="string")throw new Error("Must specify string message.");return[o??void 0,a]}}return[]})(e);return new v6(t,r??F7e(t),n)}var V7e={};function Am(){}function Kn(){Kn.init.call(this)}function K7e(t){return t._maxListeners===void 0?Kn.defaultMaxListeners:t._maxListeners}function Yxe(t,e,r,n){var i,o,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]):(o=t._events=new Am,t._eventsCount=0),a){if(typeof a=="function"?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),!a.warned&&(i=K7e(t))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,(function(c){typeof console.warn=="function"?console.warn(c):console.log(c)})(s)}}else a=o[e]=r,++t._eventsCount;return t}function Jxe(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function Qxe(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}function b_(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}Am.prototype=Object.create(null),Kn.EventEmitter=Kn,Kn.usingDomains=!1,Kn.prototype.domain=void 0,Kn.prototype._events=void 0,Kn.prototype._maxListeners=void 0,Kn.defaultMaxListeners=10,Kn.init=function(){this.domain=null,Kn.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Am,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Kn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Kn.prototype.getMaxListeners=function(){return K7e(this)},Kn.prototype.emit=function(t){var e,r,n,i,o,a,s,c=t==="error";if(a=this._events)c=c&&a.error==null;else if(!c)return!1;if(s=this.domain,c){if(e=arguments[1],!s){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=s,e.domainThrown=!1,s.emit("error",e),!1}if(!(r=a[t]))return!1;var u=typeof r=="function";switch(n=arguments.length){case 1:(function(d,f,p){if(f)d.call(p);else for(var h=d.length,b=b_(d,h),_=0;_<h;++_)b[_].call(p)})(r,u,this);break;case 2:(function(d,f,p,h){if(f)d.call(p,h);else for(var b=d.length,_=b_(d,b),A=0;A<b;++A)_[A].call(p,h)})(r,u,this,arguments[1]);break;case 3:(function(d,f,p,h,b){if(f)d.call(p,h,b);else for(var _=d.length,A=b_(d,_),C=0;C<_;++C)A[C].call(p,h,b)})(r,u,this,arguments[1],arguments[2]);break;case 4:(function(d,f,p,h,b,_){if(f)d.call(p,h,b,_);else for(var A=d.length,C=b_(d,A),R=0;R<A;++R)C[R].call(p,h,b,_)})(r,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];(function(d,f,p,h){if(f)d.apply(p,h);else for(var b=d.length,_=b_(d,b),A=0;A<b;++A)_[A].apply(p,h)})(r,u,this,i)}return!0},Kn.prototype.addListener=function(t,e){return Yxe(this,t,e,!1)},Kn.prototype.on=Kn.prototype.addListener,Kn.prototype.prependListener=function(t,e){return Yxe(this,t,e,!0)},Kn.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,Jxe(this,t,e)),this},Kn.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Jxe(this,t,e)),this},Kn.prototype.removeListener=function(t,e){var r,n,i,o,a;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[t]))return this;if(r===e||r.listener&&r.listener===e)--this._eventsCount==0?this._events=new Am:(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(i=-1,o=r.length;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;if(r.length===1){if(r[0]=void 0,--this._eventsCount==0)return this._events=new Am,this;delete n[t]}else(function(s,c){for(var l=c,u=l+1,d=s.length;u<d;l+=1,u+=1)s[l]=s[u];s.pop()})(r,i);n.removeListener&&this.emit("removeListener",t,a||e)}return this},Kn.prototype.off=function(t,e){return this.removeListener(t,e)},Kn.prototype.removeAllListeners=function(t){var e,r;if(!(r=this._events))return this;if(!r.removeListener)return arguments.length===0?(this._events=new Am,this._eventsCount=0):r[t]&&(--this._eventsCount==0?this._events=new Am:delete r[t]),this;if(arguments.length===0){for(var n,i=Object.keys(r),o=0;o<i.length;++o)(n=i[o])!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new Am,this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},Kn.prototype.listeners=function(t){var e,r,n=this._events;return r=n&&(e=n[t])?typeof e=="function"?[e.listener||e]:(function(i){for(var o=new Array(i.length),a=0;a<o.length;++a)o[a]=i[a].listener||i[a];return o})(e):[],r},Kn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Qxe.call(t,e)},Kn.prototype.listenerCount=Qxe,Kn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Fee=W_(Object.freeze({__proto__:null,EventEmitter:Kn,default:Kn}));Object.defineProperty(V7e,"__esModule",{value:!0});var Zbt=Fee;function Zxe(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout((()=>{throw n}))}}var Xbt=class extends Zbt.EventEmitter{emit(t,...e){let r=t==="error",n=this._events;if(n!==void 0)r=r&&n.error===void 0;else if(!r)return!1;if(r){let o;if(e.length>0&&([o]=e),o instanceof Error)throw o;let a=new Error("Unhandled error."+(o?` (${o.message})`:""));throw a.context=o,a}let i=n[t];if(i===void 0)return!1;if(typeof i=="function")Zxe(i,this,e);else{let o=i.length,a=(function(s){let c=s.length,l=new Array(c);for(let u=0;u<c;u+=1)l[u]=s[u];return l})(i);for(let s=0;s<o;s+=1)Zxe(a[s],this,e)}return!0}},oD,Cm,M4,v_,RB,PB,nee,OB,iee,pX,Xxe,NB,oee,hX,eAe,S_,aD,mX,tAe,q7e=V7e.default=Xbt,Qd=class kB extends q7e{constructor({notificationHandler:e}={}){super(),Zd(this,v_),Zd(this,PB),Zd(this,OB),Zd(this,oD,!1),Zd(this,Cm,void 0),Zd(this,M4,void 0),bB(this,Cm,[]),bB(this,M4,e)}destroy(){Om(this,Cm).forEach((e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()})),bB(this,Cm,[]),bB(this,oD,!0)}push(e){F0(this,v_,RB).call(this),Om(this,Cm).push(e)}handle(e,r){if(F0(this,v_,RB).call(this),r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?F0(this,PB,nee).call(this,e,r):F0(this,PB,nee).call(this,e):r?F0(this,OB,iee).call(this,e,r):this._promiseHandle(e)}asMiddleware(){return F0(this,v_,RB).call(this),async(e,r,n,i)=>{var o,a;try{let[s,c,l]=await F0(o=kB,NB,oee).call(o,e,r,Om(this,Cm));return c?(await F0(a=kB,S_,aD).call(a,l),i(s)):n((async u=>{var d;try{await F0(d=kB,S_,aD).call(d,l)}catch(f){return u(f)}return u()}))}catch(s){return i(s)}}}async _promiseHandle(e){return new Promise(((r,n)=>{F0(this,OB,iee).call(this,e,((i,o)=>{i&&o===void 0?n(i):r(o)})).catch(n)}))}};oD=new WeakMap,Cm=new WeakMap,M4=new WeakMap,v_=new WeakSet,RB=function(){if(Om(this,oD))throw new Error("This engine is destroyed and can no longer be used.")},PB=new WeakSet,nee=async function(t,e){try{if(t.length===0){let n=[{id:null,jsonrpc:"2.0",error:new v6(Im.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return e?e(null,n):n}let r=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter((n=>n!==void 0));return e?e(null,r):r}catch(r){if(e)return e(r);throw r}},OB=new WeakSet,iee=async function(t,e){var r;if(!t||Array.isArray(t)||typeof t!="object"){let a=new v6(Im.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(a,{id:null,jsonrpc:"2.0",error:a})}if(typeof t.method!="string"){let a=new v6(Im.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return Om(this,M4)&&!jxe(t)?e(null):e(a,{id:t.id??null,jsonrpc:"2.0",error:a})}if(Om(this,M4)&&V4(t,$bt)&&!jxe(t)){try{await Om(this,M4).call(this,t)}catch(a){return e(a)}return e(null)}let n=null,i={...t},o={id:i.id,jsonrpc:i.jsonrpc};try{await F0(r=Qd,pX,Xxe).call(r,i,o,Om(this,Cm))}catch(a){n=a}return n&&(delete o.result,o.error||(o.error=Kxe(n))),e(n,o)},pX=new WeakSet,Xxe=async function(t,e,r){var n,i,o;let[a,s,c]=await F0(n=Qd,NB,oee).call(n,t,e,r);if(F0(i=Qd,mX,tAe).call(i,t,e,s),await F0(o=Qd,S_,aD).call(o,c),a)throw a},NB=new WeakSet,oee=async function(t,e,r){var n;let i=[],o=null,a=!1;for(let s of r)if([o,a]=await F0(n=Qd,hX,eAe).call(n,t,e,s,i),a)break;return[o,a,i.reverse()]},hX=new WeakSet,eAe=async function(t,e,r,n){return new Promise((i=>{let o=s=>{let c=s||e.error;c&&(e.error=Kxe(c)),i([c,!0])},a=s=>{e.error?o(e.error):(s&&(typeof s!="function"&&o(new v6(Im.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof s}" for request:
${bX(t)}`,{request:t})),n.push(s)),i([null,!1]))};try{r(t,e,a,o)}catch(s){o(s)}}))},S_=new WeakSet,aD=async function(t){for(let e of t)await new Promise(((r,n)=>{e((i=>i?n(i):r()))}))},mX=new WeakSet,tAe=function(t,e,r){if(!tD(e,"result")&&!tD(e,"error"))throw new v6(Im.internal,`JsonRpcEngine: Response has no error or result for request:
${bX(t)}`,{request:t});if(!r)throw new v6(Im.internal,`JsonRpcEngine: Nothing ended request:
${bX(t)}`,{request:t})},Zd(Qd,pX),Zd(Qd,NB),Zd(Qd,hX),Zd(Qd,S_),Zd(Qd,mX);var eyt=Qd;function bX(t){return JSON.stringify(t,null,2)}var W7e=Object.freeze(["eth_subscription"]),tyt=(t=console)=>[Cbt(),ryt(t),Ibt(t)];function ryt(t){return(e,r,n)=>{typeof e.method=="string"&&e.method||(r.error=__({message:"The request 'method' must be a non-empty string.",data:e})),n((i=>{let{error:o}=r;return o&&t.error(`MetaMask - RPC Error: ${o.message}`,o),i()}))}}var MB=(t,e,r=!0)=>(n,i)=>{n||i.error?e(n||i.error):!r||Array.isArray(i)?t(i):t(i.result)},Y7e=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),J7e=()=>{};async function rAe(t,e){try{let r=await(async function(){return{name:nyt(window),icon:await iyt(window)}})();t.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:r},J7e)}catch(r){e.error({message:wo.errors.sendSiteMetadata(),originalError:r})}}function nyt(t){let{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function iyt(t){let{document:e}=t,r=e.querySelectorAll('head > link[rel~="icon"]');for(let n of Array.from(r))if(n&&await oyt(n.href))return n.href;return null}async function oyt(t){return new Promise(((e,r)=>{try{let n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){r(n)}}))}var Q7e=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},R1=(t,e,r)=>(Q7e(t,e,"read from private field"),r?r.call(t):e.get(t)),aee=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},E6=(t,e,r,n)=>(Q7e(t,e,"write to private field"),e.set(t,r),r);function nAe(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout((()=>{throw n}))}}var see=class extends Kn{emit(e,...r){let n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;let s=new Error("Unhandled error."+(a?` (${a.message})`:""));throw s.context=a,s}let o=i[e];if(o===void 0)return!1;if(typeof o=="function")nAe(o,this,r);else{let a=o.length,s=(function(c){let l=c.length,u=new Array(l);for(let d=0;d<l;d+=1)u[d]=c[d];return u})(o);for(let c=0;c<a;c+=1)nAe(s[c],this,r)}return!0}},Tm,mg,ayt=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(i=n;i--!=0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(i=n;i--!=0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!=0;){var a=o[i];if(!t(e[a],r[a]))return!1}return!0}return e!=e&&r!=r},syt=ED(ayt),Z7e=class X7e extends see{constructor({logger:e=console,maxEventListeners:r=100,rpcMiddleware:n=[]}={}){super(),aee(this,Tm,void 0),aee(this,mg,void 0),this._log=e,this.setMaxListeners(r),this._state={...X7e._defaultState},E6(this,mg,null),E6(this,Tm,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);let i=new eyt;n.forEach((o=>i.push(o))),this._rpcEngine=i}get chainId(){return R1(this,Tm)}get selectedAddress(){return R1(this,mg)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw __({message:wo.errors.invalidRequestArgs(),data:e});let{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw __({message:wo.errors.invalidRequestMethod(),data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw __({message:wo.errors.invalidRequestParams(),data:e});let i=n==null?{method:r}:{method:r,params:n};return new Promise(((o,a)=>{this._rpcRequest(i,MB(o,a))}))}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){let{accounts:r,chainId:n,isUnlocked:i,networkVersion:o}=e;this._handleConnect(n),this._handleChainChanged({chainId:n,networkVersion:o}),this._handleUnlockStateChanged({accounts:r,isUnlocked:i}),this._handleAccountsChanged(r)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,r){let n=r;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),e.method!=="eth_accounts"&&e.method!=="eth_requestAccounts"||(n=(i,o)=>{this._handleAccountsChanged(o.result??[],e.method==="eth_accounts"),r(i,o)})),this._rpcEngine.handle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(wo.info.connected(e)))}_handleDisconnect(e,r){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let n;this._state.isConnected=!1,e?(n=new v6(1013,r??wo.errors.disconnected()),this._log.debug(n)):(n=new v6(1011,r??wo.errors.permanentlyDisconnected()),this._log.error(n),E6(this,Tm,null),this._state.accounts=null,E6(this,mg,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleChainChanged({chainId:e}={}){Y7e(e)?(this._handleConnect(e),e!==R1(this,Tm)&&(E6(this,Tm,e),this._state.initialized&&this.emit("chainChanged",R1(this,Tm)))):this._log.error(wo.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,r=!1){let n=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),n=[]);for(let i of e)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),n=[];break}if(!syt(this._state.accounts,n)&&(r&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",n),this._state.accounts=n,R1(this,mg)!==n[0]&&E6(this,mg,n[0]||null),this._state.initialized)){let i=[...n];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:r}={}){typeof r=="boolean"?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};Tm=new WeakMap,mg=new WeakMap,Z7e._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var iAe,oAe,cyt=Z7e,cee={exports:{}};function e_e(){return oAe?iAe:(oAe=1,iAe=Fee.EventEmitter)}var Hee,zee=W_(Omt);Hee=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t};var t_e=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},lyt=/%[sdj%]/g;function TD(t){if(!z_(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(k1(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(t).replace(lyt,(function(s){if(s==="%%")return"%";if(r>=i)return s;switch(s){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return s}})),a=n[r];r<i;a=n[++r])J_(a)||!Sg(a)?o+=" "+a:o+=" "+k1(a);return o}function Gee(t,e){if(O1(G0.process))return function(){return Gee(t,e).apply(this,arguments)};if(Sn.noDeprecation===!0)return t;var r=!1;return function(){if(!r){if(Sn.throwDeprecation)throw new Error(e);Sn.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var yX,gB={};function r_e(t){return O1(yX)&&(yX=Sn.env.NODE_DEBUG||""),t=t.toUpperCase(),!gB[t]&&(new RegExp("\\b"+t+"\\b","i").test(yX)?gB[t]=function(){var e=TD.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:gB[t]=function(){}),gB[t]}function k1(t,e){var r={seen:[],stylize:dyt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_D(e)?r.showHidden=e:e&&Kee(r,e),O1(r.showHidden)&&(r.showHidden=!1),O1(r.depth)&&(r.depth=2),O1(r.colors)&&(r.colors=!1),O1(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=uyt),sD(r,t,r.depth)}function uyt(t,e){var r=k1.styles[e];return r?"\x1B["+k1.colors[r][0]+"m"+t+"\x1B["+k1.colors[r][1]+"m":t}function dyt(t,e){return t}function sD(t,e,r){if(t.customInspect&&e&&R_(e.inspect)&&e.inspect!==k1&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return z_(n)||(n=sD(t,n,r)),n}var i=(function(f,p){if(O1(p))return f.stylize("undefined","undefined");if(z_(p)){var h="'"+JSON.stringify(p).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(h,"string")}if($ee(p))return f.stylize(""+p,"number");if(_D(p))return f.stylize(""+p,"boolean");if(J_(p))return f.stylize("null","null")})(t,e);if(i)return i;var o=Object.keys(e),a=(function(f){var p={};return f.forEach((function(h,b){p[h]=!0})),p})(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),C_(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return gX(e);if(o.length===0){if(R_(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(I_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(cD(e))return t.stylize(Date.prototype.toString.call(e),"date");if(C_(e))return gX(e)}var c,l="",u=!1,d=["{","}"];return jee(e)&&(u=!0,d=["[","]"]),R_(e)&&(l=" [Function"+(e.name?": "+e.name:"")+"]"),I_(e)&&(l=" "+RegExp.prototype.toString.call(e)),cD(e)&&(l=" "+Date.prototype.toUTCString.call(e)),C_(e)&&(l=" "+gX(e)),o.length!==0||u&&e.length!=0?r<0?I_(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=u?(function(f,p,h,b,_){for(var A=[],C=0,R=p.length;C<R;++C)c_e(p,String(C))?A.push(wX(f,p,h,b,String(C),!0)):A.push("");return _.forEach((function(M){M.match(/^\d+$/)||A.push(wX(f,p,h,b,M,!0))})),A})(t,e,r,a,o):o.map((function(f){return wX(t,e,r,a,f,u)})),t.seen.pop(),(function(f,p,h){var b=f.reduce((function(_,A){return A.indexOf(`
`),_+A.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return b>60?h[0]+(p===""?"":p+`
 `)+" "+f.join(`,
  `)+" "+h[1]:h[0]+p+" "+f.join(", ")+" "+h[1]})(c,l,d)):d[0]+l+d[1]}function gX(t){return"["+Error.prototype.toString.call(t)+"]"}function wX(t,e,r,n,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),c_e(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=J_(r)?sD(t,c.value,null):sD(t,c.value,r-1)).indexOf(`
`)>-1&&(s=o?s.split(`
`).map((function(l){return"  "+l})).join(`
`).substr(2):`
`+s.split(`
`).map((function(l){return"   "+l})).join(`
`)):s=t.stylize("[Circular]","special")),O1(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function jee(t){return Array.isArray(t)}function _D(t){return typeof t=="boolean"}function J_(t){return t===null}function n_e(t){return t==null}function $ee(t){return typeof t=="number"}function z_(t){return typeof t=="string"}function i_e(t){return typeof t=="symbol"}function O1(t){return t===void 0}function I_(t){return Sg(t)&&Vee(t)==="[object RegExp]"}function Sg(t){return typeof t=="object"&&t!==null}function cD(t){return Sg(t)&&Vee(t)==="[object Date]"}function C_(t){return Sg(t)&&(Vee(t)==="[object Error]"||t instanceof Error)}function R_(t){return typeof t=="function"}function o_e(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function a_e(t){return Pe.isBuffer(t)}function Vee(t){return Object.prototype.toString.call(t)}function vX(t){return t<10?"0"+t.toString(10):t.toString(10)}k1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},k1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var fyt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function s_e(){var t,e;console.log("%s - %s",(t=new Date,e=[vX(t.getHours()),vX(t.getMinutes()),vX(t.getSeconds())].join(":"),[t.getDate(),fyt[t.getMonth()],e].join(" ")),TD.apply(null,arguments))}function Kee(t,e){if(!e||!Sg(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function c_e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var bg=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function qee(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(bg&&t[bg]){var e;if(typeof(e=t[bg])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,bg,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var r,n,i=new Promise((function(s,c){r=s,n=c})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(s,c){s?n(s):r(c)}));try{t.apply(this,o)}catch(s){n(s)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),bg&&Object.defineProperty(e,bg,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,t_e(t))}function pyt(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function l_e(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,r).then((function(s){Sn.nextTick(a.bind(null,null,s))}),(function(s){Sn.nextTick(pyt.bind(null,s,a))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,t_e(t)),e}qee.custom=bg;var EX,aAe,xX,sAe,hyt={inherits:Hee,_extend:Kee,log:s_e,isBuffer:a_e,isPrimitive:o_e,isFunction:R_,isError:C_,isDate:cD,isObject:Sg,isRegExp:I_,isUndefined:O1,isSymbol:i_e,isString:z_,isNumber:$ee,isNullOrUndefined:n_e,isNull:J_,isBoolean:_D,isArray:jee,inspect:k1,deprecate:Gee,format:TD,debuglog:r_e,promisify:qee,callbackify:l_e},u_e=W_(Object.freeze({__proto__:null,_extend:Kee,callbackify:l_e,debuglog:r_e,default:hyt,deprecate:Gee,format:TD,inherits:Hee,inspect:k1,isArray:jee,isBoolean:_D,isBuffer:a_e,isDate:cD,isError:C_,isFunction:R_,isNull:J_,isNullOrUndefined:n_e,isNumber:$ee,isObject:Sg,isPrimitive:o_e,isRegExp:I_,isString:z_,isSymbol:i_e,isUndefined:O1,log:s_e,promisify:qee}));function myt(){if(aAe)return EX;function t(c,l){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(c);l&&(d=d.filter((function(f){return Object.getOwnPropertyDescriptor(c,f).enumerable}))),u.push.apply(u,d)}return u}function e(c){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?t(Object(u),!0).forEach((function(d){r(c,d,u[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach((function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(u,d))}))}return c}function r(c,l,u){return(l=i(l))in c?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u,c}function n(c,l,u){return l&&(function(d,f){for(var p=0;p<f.length;p++){var h=f[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,i(h.key),h)}})(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var l=(function(u,d){if(typeof u!="object"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var p=f.call(u,d||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(u)})(c,"string");return typeof l=="symbol"?l:String(l)}aAe=1;var o=zee.Buffer,a=u_e.inspect,s=a&&a.custom||"inspect";return EX=(function(){function c(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return n(c,[{key:"push",value:function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=l+u.data;return d}},{key:"concat",value:function(l){if(this.length===0)return o.alloc(0);for(var u,d,f,p=o.allocUnsafe(l>>>0),h=this.head,b=0;h;)u=h.data,d=p,f=b,o.prototype.copy.call(u,d,f),b+=h.data.length,h=h.next;return p}},{key:"consume",value:function(l,u){var d;return l<this.head.data.length?(d=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):d=l===this.head.data.length?this.shift():u?this._getString(l):this._getBuffer(l),d}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var u=this.head,d=1,f=u.data;for(l-=f.length;u=u.next;){var p=u.data,h=l>p.length?p.length:l;if(h===p.length?f+=p:f+=p.slice(0,l),(l-=h)===0){h===p.length?(++d,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=p.slice(h));break}++d}return this.length-=d,f}},{key:"_getBuffer",value:function(l){var u=o.allocUnsafe(l),d=this.head,f=1;for(d.data.copy(u),l-=d.data.length;d=d.next;){var p=d.data,h=l>p.length?p.length:l;if(p.copy(u,u.length-l,0,h),(l-=h)===0){h===p.length?(++f,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=p.slice(h));break}++f}return this.length-=f,u}},{key:s,value:function(l,u){return a(this,e(e({},u),{},{depth:0,customInspect:!1}))}}]),c})(),EX}function d_e(){if(sAe)return xX;function t(n,i){r(n,i),e(n)}function e(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function r(n,i){n.emit("error",i)}return sAe=1,xX={destroy:function(n,i){var o=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(i?i(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Sn.nextTick(r,this,n)):Sn.nextTick(r,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,(function(c){!i&&c?o._writableState?o._writableState.errorEmitted?Sn.nextTick(e,o):(o._writableState.errorEmitted=!0,Sn.nextTick(t,o,c)):Sn.nextTick(t,o,c):i?(Sn.nextTick(e,o),i(c)):Sn.nextTick(e,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(n,i){var o=n._readableState,a=n._writableState;o&&o.autoDestroy||a&&a.autoDestroy?n.destroy(i):n.emit("error",i)}},xX}var Ig={},cAe,lAe,f_e={};function Bu(t,e,r){r||(r=Error);var n=(function(i){var o,a;function s(c,l,u){return i.call(this,(function(d,f,p){return typeof e=="string"?e:e(d,f,p)})(c,l,u))||this}return a=i,(o=s).prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a,s})(r);n.prototype.name=r.name,n.prototype.code=t,f_e[t]=n}function uAe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(n){return String(n)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function p_e(){if(lAe)return cAe;lAe=1;var t=Ig.codes.ERR_INVALID_OPT_VALUE;return cAe={getHighWaterMark:function(e,r,n,i){var o=(function(a,s,c){return a.highWaterMark!=null?a.highWaterMark:s?a[c]:null})(r,i,n);if(o!=null){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new t(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}Bu("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),Bu("ERR_INVALID_ARG_TYPE",(function(t,e,r){var n,i,o;if(typeof e=="string"&&(i="not ",e.substr(0,i.length)===i)?(n="must not be",e=e.replace(/^not /,"")):n="must be",(function(s,c,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-c.length,l)===c})(t," argument"))o="The ".concat(t," ").concat(n," ").concat(uAe(e,"type"));else{var a=(function(s,c,l){return typeof l!="number"&&(l=0),!(l+c.length>s.length)&&s.indexOf(c,l)!==-1})(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(uAe(e,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),Bu("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Bu("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),Bu("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Bu("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),Bu("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Bu("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Bu("ERR_STREAM_WRITE_AFTER_END","write after end"),Bu("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Bu("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),Bu("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ig.codes=f_e;var AX,dAe,TX,fAe,_X,pAe,byt=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},Q_=W_(Object.freeze({__proto__:null,default:byt}));function yyt(){if(dAe)return AX;function t(e){try{if(!Gu.localStorage)return!1}catch{return!1}var r=Gu.localStorage[e];return r!=null&&String(r).toLowerCase()==="true"}return dAe=1,AX=function(e,r){if(t("noDeprecation"))return e;var n=!1;return function(){if(!n){if(t("throwDeprecation"))throw new Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return e.apply(this,arguments)}},AX}function h_e(){if(fAe)return TX;function t(S){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(m,y,E){var v=m.entry;for(m.entry=null;v;){var x=v.callback;y.pendingcb--,x(E),v=v.next}y.corkedRequestsFree.next=m})(T,S)}}var e;fAe=1,TX=U,U.WritableState=M;var r={deprecate:yyt()},n=e_e(),i=zee.Buffer,o=(Gu!==void 0?Gu:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a,s=d_e(),c=p_e().getHighWaterMark,l=Ig.codes,u=l.ERR_INVALID_ARG_TYPE,d=l.ERR_METHOD_NOT_IMPLEMENTED,f=l.ERR_MULTIPLE_CALLBACK,p=l.ERR_STREAM_CANNOT_PIPE,h=l.ERR_STREAM_DESTROYED,b=l.ERR_STREAM_NULL_VALUES,_=l.ERR_STREAM_WRITE_AFTER_END,A=l.ERR_UNKNOWN_ENCODING,C=s.errorOrDestroy;function R(){}function M(S,T,m){e=e||G4(),S=S||{},typeof m!="boolean"&&(m=T instanceof e),this.objectMode=!!S.objectMode,m&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=c(this,S,"writableHighWaterMark",m),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var y=S.decodeStrings===!1;this.decodeStrings=!y,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(E){(function(v,x){var g=v._writableState,P=g.sync,B=g.writecb;if(typeof B!="function")throw new f;if((function(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0})(g),x)(function(L,G,H,$,K){--G.pendingcb,H?(Sn.nextTick(K,$),Sn.nextTick(w,L,G),L._writableState.errorEmitted=!0,C(L,$)):(K($),L._writableState.errorEmitted=!0,C(L,$),w(L,G))})(v,g,P,x,B);else{var I=k(g)||v.destroyed;I||g.corked||g.bufferProcessing||!g.bufferedRequest||N(v,g),P?Sn.nextTick(z,v,g,I,B):z(v,g,I,B)}})(T,E)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function U(S){var T=this instanceof(e=e||G4());if(!T&&!a.call(U,this))return new U(S);this._writableState=new M(S,this,T),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),n.call(this)}function F(S,T,m,y,E,v,x){T.writelen=y,T.writecb=x,T.writing=!0,T.sync=!0,T.destroyed?T.onwrite(new h("write")):m?S._writev(E,T.onwrite):S._write(E,v,T.onwrite),T.sync=!1}function z(S,T,m,y){m||(function(E,v){v.length===0&&v.needDrain&&(v.needDrain=!1,E.emit("drain"))})(S,T),T.pendingcb--,y(),w(S,T)}function N(S,T){T.bufferProcessing=!0;var m=T.bufferedRequest;if(S._writev&&m&&m.next){var y=T.bufferedRequestCount,E=new Array(y),v=T.corkedRequestsFree;v.entry=m;for(var x=0,g=!0;m;)E[x]=m,m.isBuf||(g=!1),m=m.next,x+=1;E.allBuffers=g,F(S,T,!0,T.length,E,"",v.finish),T.pendingcb++,T.lastBufferedRequest=null,v.next?(T.corkedRequestsFree=v.next,v.next=null):T.corkedRequestsFree=new t(T),T.bufferedRequestCount=0}else{for(;m;){var P=m.chunk,B=m.encoding,I=m.callback;if(F(S,T,!1,T.objectMode?1:P.length,P,B,I),m=m.next,T.bufferedRequestCount--,T.writing)break}m===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=m,T.bufferProcessing=!1}function k(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function O(S,T){S._final((function(m){T.pendingcb--,m&&C(S,m),T.prefinished=!0,S.emit("prefinish"),w(S,T)}))}function w(S,T){var m=k(T);if(m&&((function(E,v){v.prefinished||v.finalCalled||(typeof E._final!="function"||v.destroyed?(v.prefinished=!0,E.emit("prefinish")):(v.pendingcb++,v.finalCalled=!0,Sn.nextTick(O,E,v)))})(S,T),T.pendingcb===0&&(T.finished=!0,S.emit("finish"),T.autoDestroy))){var y=S._readableState;(!y||y.autoDestroy&&y.endEmitted)&&S.destroy()}return m}return Q_(U,n),M.prototype.getBuffer=function(){for(var S=this.bufferedRequest,T=[];S;)T.push(S),S=S.next;return T},(function(){try{Object.defineProperty(M.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(S){return!!a.call(this,S)||this===U&&S&&S._writableState instanceof M}})):a=function(S){return S instanceof this},U.prototype.pipe=function(){C(this,new p)},U.prototype.write=function(S,T,m){var y,E=this._writableState,v=!1,x=!E.objectMode&&(y=S,i.isBuffer(y)||y instanceof o);return x&&!i.isBuffer(S)&&(S=(function(g){return i.from(g)})(S)),typeof T=="function"&&(m=T,T=null),x?T="buffer":T||(T=E.defaultEncoding),typeof m!="function"&&(m=R),E.ending?(function(g,P){var B=new _;C(g,B),Sn.nextTick(P,B)})(this,m):(x||(function(g,P,B,I){var L;return B===null?L=new b:typeof B=="string"||P.objectMode||(L=new u("chunk",["string","Buffer"],B)),!L||(C(g,L),Sn.nextTick(I,L),!1)})(this,E,S,m))&&(E.pendingcb++,v=(function(g,P,B,I,L,G){if(!B){var H=(function(J,X,te){return J.objectMode||J.decodeStrings===!1||typeof X!="string"||(X=i.from(X,te)),X})(P,I,L);I!==H&&(B=!0,L="buffer",I=H)}var $=P.objectMode?1:I.length;P.length+=$;var K=P.length<P.highWaterMark;if(K||(P.needDrain=!0),P.writing||P.corked){var W=P.lastBufferedRequest;P.lastBufferedRequest={chunk:I,encoding:L,isBuf:B,callback:G,next:null},W?W.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else F(g,P,!1,$,I,L,G);return K})(this,E,x,S,T,m)),v},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||N(this,S))},U.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new A(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(S,T,m){m(new d("_write()"))},U.prototype._writev=null,U.prototype.end=function(S,T,m){var y=this._writableState;return typeof S=="function"?(m=S,S=null,T=null):typeof T=="function"&&(m=T,T=null),S!=null&&this.write(S,T),y.corked&&(y.corked=1,this.uncork()),y.ending||(function(E,v,x){v.ending=!0,w(E,v),x&&(v.finished?Sn.nextTick(x):E.once("finish",x)),v.ended=!0,E.writable=!1})(this,y,m),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),U.prototype.destroy=s.destroy,U.prototype._undestroy=s.undestroy,U.prototype._destroy=function(S,T){T(S)},TX}function G4(){if(pAe)return _X;pAe=1;var t=Object.keys||function(l){var u=[];for(var d in l)u.push(d);return u};_X=a;var e=m_e(),r=h_e();Q_(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var o=n[i];a.prototype[o]||(a.prototype[o]=r.prototype[o])}function a(l){if(!(this instanceof a))return new a(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||Sn.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),_X}var gyt=Pe.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function BB(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),(function(e){if(e&&!gyt(e))throw new Error("Unknown encoding: "+e)})(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=vyt;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Eyt;break;default:return void(this.write=wyt)}this.charBuffer=new Pe(6),this.charReceived=0,this.charLength=0}function wyt(t){return t.toString(this.encoding)}function vyt(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function Eyt(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}BB.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(t=t.slice(r,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived);var i;if(n=(e+=t.toString(this.encoding,0,n)).length-1,(i=e.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,n)}return e},BB.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(e==1&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},BB.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e};var hAe=W_(Object.freeze({__proto__:null,StringDecoder:BB})),mAe=Ig.codes.ERR_STREAM_PREMATURE_CLOSE;function xyt(){}var SX,bAe,yAe,gAe,IX,wAe,Wee=function t(e,r,n){if(typeof r=="function")return t(e,null,r);r||(r={}),n=(function(h){var b=!1;return function(){if(!b){b=!0;for(var _=arguments.length,A=new Array(_),C=0;C<_;C++)A[C]=arguments[C];h.apply(this,A)}}})(n||xyt);var i=r.readable||r.readable!==!1&&e.readable,o=r.writable||r.writable!==!1&&e.writable,a=function(){e.writable||c()},s=e._writableState&&e._writableState.finished,c=function(){o=!1,s=!0,i||n.call(e)},l=e._readableState&&e._readableState.endEmitted,u=function(){i=!1,l=!0,o||n.call(e)},d=function(h){n.call(e,h)},f=function(){var h;return i&&!l?(e._readableState&&e._readableState.ended||(h=new mAe),n.call(e,h)):o&&!s?(e._writableState&&e._writableState.ended||(h=new mAe),n.call(e,h)):void 0},p=function(){e.req.on("finish",c)};return(function(h){return h.setHeader&&typeof h.abort=="function"})(e)?(e.on("complete",c),e.on("abort",f),e.req?p():e.on("request",p)):o&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",u),e.on("finish",c),r.error!==!1&&e.on("error",d),e.on("close",f),function(){e.removeListener("complete",c),e.removeListener("abort",f),e.removeListener("request",p),e.req&&e.req.removeListener("finish",c),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",c),e.removeListener("end",u),e.removeListener("error",d),e.removeListener("close",f)}};function Ayt(){if(bAe)return SX;var t;function e(b,_,A){return(_=(function(C){var R=(function(M,U){if(typeof M!="object"||M===null)return M;var F=M[Symbol.toPrimitive];if(F!==void 0){var z=F.call(M,U||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(M)})(C,"string");return typeof R=="symbol"?R:String(R)})(_))in b?Object.defineProperty(b,_,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[_]=A,b}bAe=1;var r=Wee,n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),a=Symbol("ended"),s=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(b,_){return{value:b,done:_}}function d(b){var _=b[n];if(_!==null){var A=b[l].read();A!==null&&(b[s]=null,b[n]=null,b[i]=null,_(u(A,!1)))}}function f(b){Sn.nextTick(d,b)}var p=Object.getPrototypeOf((function(){})),h=Object.setPrototypeOf((e(t={get stream(){return this[l]},next:function(){var b=this,_=this[o];if(_!==null)return Promise.reject(_);if(this[a])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise((function(M,U){Sn.nextTick((function(){b[o]?U(b[o]):M(u(void 0,!0))}))}));var A,C=this[s];if(C)A=new Promise((function(M,U){return function(F,z){M.then((function(){U[a]?F(u(void 0,!0)):U[c](F,z)}),z)}})(C,this));else{var R=this[l].read();if(R!==null)return Promise.resolve(u(R,!1));A=new Promise(this[c])}return this[s]=A,A}},Symbol.asyncIterator,(function(){return this})),e(t,"return",(function(){var b=this;return new Promise((function(_,A){b[l].destroy(null,(function(C){C?A(C):_(u(void 0,!0))}))}))})),t),p);return SX=function(b){var _,A=Object.create(h,(e(_={},l,{value:b,writable:!0}),e(_,n,{value:null,writable:!0}),e(_,i,{value:null,writable:!0}),e(_,o,{value:null,writable:!0}),e(_,a,{value:b._readableState.endEmitted,writable:!0}),e(_,c,{value:function(C,R){var M=A[l].read();M?(A[s]=null,A[n]=null,A[i]=null,C(u(M,!1))):(A[n]=C,A[i]=R)},writable:!0}),_));return A[s]=null,r(b,(function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var R=A[i];return R!==null&&(A[s]=null,A[n]=null,A[i]=null,R(C)),void(A[o]=C)}var M=A[n];M!==null&&(A[s]=null,A[n]=null,A[i]=null,M(u(void 0,!0))),A[a]=!0})),b.on("readable",f.bind(null,A)),A},SX}function m_e(){if(wAe)return IX;var t;wAe=1,IX=U,U.ReadableState=M,Fee.EventEmitter;var e=function(I,L){return I.listeners(L).length},r=e_e(),n=zee.Buffer,i=(Gu!==void 0?Gu:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,a=u_e;o=a&&a.debuglog?a.debuglog("stream"):function(){};var s,c,l,u=myt(),d=d_e(),f=p_e().getHighWaterMark,p=Ig.codes,h=p.ERR_INVALID_ARG_TYPE,b=p.ERR_STREAM_PUSH_AFTER_EOF,_=p.ERR_METHOD_NOT_IMPLEMENTED,A=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Q_(U,r);var C=d.errorOrDestroy,R=["error","close","destroy","pause","resume"];function M(I,L,G){t=t||G4(),I=I||{},typeof G!="boolean"&&(G=L instanceof t),this.objectMode=!!I.objectMode,G&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=f(this,I,"readableHighWaterMark",G),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(s||(s=hAe.StringDecoder),this.decoder=new s(I.encoding),this.encoding=I.encoding)}function U(I){if(t=t||G4(),!(this instanceof U))return new U(I);var L=this instanceof t;this._readableState=new M(I,this,L),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),r.call(this)}function F(I,L,G,H,$){o("readableAddChunk",L);var K,W=I._readableState;if(L===null)W.reading=!1,(function(J,X){if(o("onEofChunk"),!X.ended){if(X.decoder){var te=X.decoder.end();te&&te.length&&(X.buffer.push(te),X.length+=X.objectMode?1:te.length)}X.ended=!0,X.sync?O(J):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,w(J)))}})(I,W);else if($||(K=(function(J,X){var te;re=X,n.isBuffer(re)||re instanceof i||typeof X=="string"||X===void 0||J.objectMode||(te=new h("chunk",["string","Buffer","Uint8Array"],X));var re;return te})(W,L)),K)C(I,K);else if(W.objectMode||L&&L.length>0)if(typeof L=="string"||W.objectMode||Object.getPrototypeOf(L)===n.prototype||(L=(function(J){return n.from(J)})(L)),H)W.endEmitted?C(I,new A):z(I,W,L,!0);else if(W.ended)C(I,new b);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!G?(L=W.decoder.write(L),W.objectMode||L.length!==0?z(I,W,L,!1):S(I,W)):z(I,W,L,!1)}else H||(W.reading=!1,S(I,W));return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function z(I,L,G,H){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,I.emit("data",G)):(L.length+=L.objectMode?1:G.length,H?L.buffer.unshift(G):L.buffer.push(G),L.needReadable&&O(I)),S(I,L)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),U.prototype.destroy=d.destroy,U.prototype._undestroy=d.undestroy,U.prototype._destroy=function(I,L){L(I)},U.prototype.push=function(I,L){var G,H=this._readableState;return H.objectMode?G=!0:typeof I=="string"&&((L=L||H.defaultEncoding)!==H.encoding&&(I=n.from(I,L),L=""),G=!0),F(this,I,L,!1,G)},U.prototype.unshift=function(I){return F(this,I,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(I){s||(s=hAe.StringDecoder);var L=new s(I);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,H="";G!==null;)H+=L.write(G.data),G=G.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var N=1073741824;function k(I,L){return I<=0||L.length===0&&L.ended?0:L.objectMode?1:I!=I?L.flowing&&L.length?L.buffer.head.data.length:L.length:(I>L.highWaterMark&&(L.highWaterMark=(function(G){return G>=N?G=N:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G})(I)),I<=L.length?I:L.ended?L.length:(L.needReadable=!0,0))}function O(I){var L=I._readableState;o("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(o("emitReadable",L.flowing),L.emittedReadable=!0,Sn.nextTick(w,I))}function w(I){var L=I._readableState;o("emitReadable_",L.destroyed,L.length,L.ended),L.destroyed||!L.length&&!L.ended||(I.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,v(I)}function S(I,L){L.readingMore||(L.readingMore=!0,Sn.nextTick(T,I,L))}function T(I,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var G=L.length;if(o("maybeReadMore read 0"),I.read(0),G===L.length)break}L.readingMore=!1}function m(I){var L=I._readableState;L.readableListening=I.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:I.listenerCount("data")>0&&I.resume()}function y(I){o("readable nexttick read 0"),I.read(0)}function E(I,L){o("resume",L.reading),L.reading||I.read(0),L.resumeScheduled=!1,I.emit("resume"),v(I),L.flowing&&!L.reading&&I.read(0)}function v(I){var L=I._readableState;for(o("flow",L.flowing);L.flowing&&I.read()!==null;);}function x(I,L){return L.length===0?null:(L.objectMode?G=L.buffer.shift():!I||I>=L.length?(G=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.first():L.buffer.concat(L.length),L.buffer.clear()):G=L.buffer.consume(I,L.decoder),G);var G}function g(I){var L=I._readableState;o("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,Sn.nextTick(P,L,I))}function P(I,L){if(o("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,L.readable=!1,L.emit("end"),I.autoDestroy)){var G=L._writableState;(!G||G.autoDestroy&&G.finished)&&L.destroy()}}function B(I,L){for(var G=0,H=I.length;G<H;G++)if(I[G]===L)return G;return-1}return U.prototype.read=function(I){o("read",I),I=parseInt(I,10);var L=this._readableState,G=I;if(I!==0&&(L.emittedReadable=!1),I===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return o("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?g(this):O(this),null;if((I=k(I,L))===0&&L.ended)return L.length===0&&g(this),null;var H,$=L.needReadable;return o("need readable",$),(L.length===0||L.length-I<L.highWaterMark)&&o("length less than watermark",$=!0),L.ended||L.reading?o("reading or ended",$=!1):$&&(o("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(I=k(G,L))),(H=I>0?x(I,L):null)===null?(L.needReadable=L.length<=L.highWaterMark,I=0):(L.length-=I,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),G!==I&&L.ended&&g(this)),H!==null&&this.emit("data",H),H},U.prototype._read=function(I){C(this,new _("_read()"))},U.prototype.pipe=function(I,L){var G=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=I;break;case 1:H.pipes=[H.pipes,I];break;default:H.pipes.push(I)}H.pipesCount+=1,o("pipe count=%d opts=%j",H.pipesCount,L);var $=(!L||L.end!==!1)&&I!==Sn.stdout&&I!==Sn.stderr?W:ae;function K(xe,me){o("onunpipe"),xe===G&&me&&me.hasUnpiped===!1&&(me.hasUnpiped=!0,o("cleanup"),I.removeListener("close",le),I.removeListener("finish",ce),I.removeListener("drain",J),I.removeListener("error",re),I.removeListener("unpipe",K),G.removeListener("end",W),G.removeListener("end",ae),G.removeListener("data",te),X=!0,!H.awaitDrain||I._writableState&&!I._writableState.needDrain||J())}function W(){o("onend"),I.end()}H.endEmitted?Sn.nextTick($):G.once("end",$),I.on("unpipe",K);var J=(function(xe){return function(){var me=xe._readableState;o("pipeOnDrain",me.awaitDrain),me.awaitDrain&&me.awaitDrain--,me.awaitDrain===0&&e(xe,"data")&&(me.flowing=!0,v(xe))}})(G);I.on("drain",J);var X=!1;function te(xe){o("ondata");var me=I.write(xe);o("dest.write",me),me===!1&&((H.pipesCount===1&&H.pipes===I||H.pipesCount>1&&B(H.pipes,I)!==-1)&&!X&&(o("false write response, pause",H.awaitDrain),H.awaitDrain++),G.pause())}function re(xe){o("onerror",xe),ae(),I.removeListener("error",re),e(I,"error")===0&&C(I,xe)}function le(){I.removeListener("finish",ce),ae()}function ce(){o("onfinish"),I.removeListener("close",le),ae()}function ae(){o("unpipe"),G.unpipe(I)}return G.on("data",te),(function(xe,me,Se){if(typeof xe.prependListener=="function")return xe.prependListener(me,Se);xe._events&&xe._events[me]?Array.isArray(xe._events[me])?xe._events[me].unshift(Se):xe._events[me]=[Se,xe._events[me]]:xe.on(me,Se)})(I,"error",re),I.once("close",le),I.once("finish",ce),I.emit("pipe",G),H.flowing||(o("pipe resume"),G.resume()),I},U.prototype.unpipe=function(I){var L=this._readableState,G={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return I&&I!==L.pipes||(I||(I=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,I&&I.emit("unpipe",this,G)),this;if(!I){var H=L.pipes,$=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var K=0;K<$;K++)H[K].emit("unpipe",this,{hasUnpiped:!1});return this}var W=B(L.pipes,I);return W===-1||(L.pipes.splice(W,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),I.emit("unpipe",this,G)),this},U.prototype.on=function(I,L){var G=r.prototype.on.call(this,I,L),H=this._readableState;return I==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):I==="readable"&&(H.endEmitted||H.readableListening||(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,o("on readable",H.length,H.reading),H.length?O(this):H.reading||Sn.nextTick(y,this))),G},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(I,L){var G=r.prototype.removeListener.call(this,I,L);return I==="readable"&&Sn.nextTick(m,this),G},U.prototype.removeAllListeners=function(I){var L=r.prototype.removeAllListeners.apply(this,arguments);return I!=="readable"&&I!==void 0||Sn.nextTick(m,this),L},U.prototype.resume=function(){var I=this._readableState;return I.flowing||(o("resume"),I.flowing=!I.readableListening,(function(L,G){G.resumeScheduled||(G.resumeScheduled=!0,Sn.nextTick(E,L,G))})(this,I)),I.paused=!1,this},U.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},U.prototype.wrap=function(I){var L=this,G=this._readableState,H=!1;for(var $ in I.on("end",(function(){if(o("wrapped end"),G.decoder&&!G.ended){var W=G.decoder.end();W&&W.length&&L.push(W)}L.push(null)})),I.on("data",(function(W){o("wrapped data"),G.decoder&&(W=G.decoder.write(W)),G.objectMode&&W==null||(G.objectMode||W&&W.length)&&(L.push(W)||(H=!0,I.pause()))})),I)this[$]===void 0&&typeof I[$]=="function"&&(this[$]=(function(W){return function(){return I[W].apply(I,arguments)}})($));for(var K=0;K<R.length;K++)I.on(R[K],this.emit.bind(this,R[K]));return this._read=function(W){o("wrapped _read",W),H&&(H=!1,I.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return c===void 0&&(c=Ayt()),c(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),U._fromList=x,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(U.from=function(I,L){return l===void 0&&(l=gAe?yAe:(gAe=1,yAe=function(){throw new Error("Readable.from is not available in the browser")})),l(U,I,L)}),IX}var b_e=x6,SD=Ig.codes,Tyt=SD.ERR_METHOD_NOT_IMPLEMENTED,_yt=SD.ERR_MULTIPLE_CALLBACK,Syt=SD.ERR_TRANSFORM_ALREADY_TRANSFORMING,Iyt=SD.ERR_TRANSFORM_WITH_LENGTH_0,DB=G4();function Cyt(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new _yt);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function x6(t){if(!(this instanceof x6))return new x6(t);DB.call(this,t),this._transformState={afterTransform:Cyt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ryt)}function Ryt(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?vAe(this,null,null):this._flush((function(e,r){vAe(t,e,r)}))}function vAe(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Iyt;if(t._transformState.transforming)throw new Syt;return t.push(null)}Q_(x6,DB),x6.prototype.push=function(t,e){return this._transformState.needTransform=!1,DB.prototype.push.call(this,t,e)},x6.prototype._transform=function(t,e,r){r(new Tyt("_transform()"))},x6.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},x6.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},x6.prototype._destroy=function(t,e){DB.prototype._destroy.call(this,t,(function(r){e(r)}))};var CX,Pyt=G_,y_e=b_e;function G_(t){if(!(this instanceof G_))return new G_(t);y_e.call(this,t)}Q_(G_,y_e),G_.prototype._transform=function(t,e,r){r(null,t)};var g_e=Ig.codes,Oyt=g_e.ERR_MISSING_ARGS,Nyt=g_e.ERR_STREAM_DESTROYED;function EAe(t){if(t)throw t}function xAe(t){t()}function kyt(t,e){return t.pipe(e)}var Myt=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=(function(a){return a.length?typeof a[a.length-1]!="function"?EAe:a.pop():EAe})(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Oyt("streams");var o=e.map((function(a,s){var c=s<e.length-1;return(function(l,u,d,f){f=(function(b){var _=!1;return function(){_||(_=!0,b.apply(void 0,arguments))}})(f);var p=!1;l.on("close",(function(){p=!0})),CX===void 0&&(CX=Wee),CX(l,{readable:u,writable:d},(function(b){if(b)return f(b);p=!0,f()}));var h=!1;return function(b){if(!p&&!h)return h=!0,(function(_){return _.setHeader&&typeof _.abort=="function"})(l)?l.abort():typeof l.destroy=="function"?l.destroy():void f(b||new Nyt("pipe"))}})(a,c,s>0,(function(l){n||(n=l),l&&o.forEach(xAe),c||(o.forEach(xAe),i(n))}))}));return e.reduce(kyt)};(function(t,e){(e=cee.exports=m_e()).Stream=e,e.Readable=e,e.Writable=h_e(),e.Duplex=G4(),e.Transform=b_e,e.PassThrough=Pyt,e.finished=Wee,e.pipeline=Myt})(0,cee.exports);var j4=cee.exports;function Byt(t={}){let e={},r=new j4.Duplex({objectMode:!0,read:()=>{},write:function(o,a,s){let c=null;try{o.id?(function(l){let{id:u}=l;if(u===null)return;let d=e[u];if(!d)return void console.warn(`StreamMiddleware - Unknown response id "${u}"`);delete e[u],Object.assign(d.res,l),setTimeout(d.end)})(o):(function(l){t?.retryOnMessage&&l.method===t.retryOnMessage&&Object.values(e).forEach((({req:u,retryCount:d=0})=>{if(!u.id)return;if(d>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${u.id}"`);let f=e[u.id];f&&(f.retryCount=d+1),i(u)})),n.emit("notification",l)})(o)}catch(l){c=l}s(c)}}),n=new q7e;return{events:n,middleware:(o,a,s,c)=>{e[o.id]={req:o,res:a,next:s,end:c},i(o)},stream:r};function i(o){r.push(o)}}var lD={},lee={exports:{}},Dyt=function t(e,r){if(e&&r)return t(e)(r);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(i){n[i]=e[i]})),n;function n(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];var a=e.apply(this,i),s=i[i.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach((function(c){a[c]=s[c]})),a}},AAe=Dyt;function wB(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function TAe(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}lee.exports=AAe(wB),lee.exports.strict=AAe(TAe),wB.proto=wB((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return wB(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return TAe(this)},configurable:!0})}));var Lyt=lee.exports,uD={};Object.defineProperty(uD,"__esModule",{value:!0}),uD.Substream=void 0;var Uyt=j4,uee=class extends Uyt.Duplex{constructor({parent:e,name:r}){super({objectMode:!0}),this._parent=e,this._name=r}_read(){}_write(e,r,n){this._parent.push({name:this._name,data:e}),n()}};uD.Substream=uee;var Fyt=Gu&&Gu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lD,"__esModule",{value:!0}),lD.ObjectMultiplex=void 0;var RX=j4,Hyt=Fyt(Lyt),zyt=uD,_Ae=Symbol("IGNORE_SUBSTREAM"),Gyt=class extends RX.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already ended`);if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);let e=new zyt.Substream({parent:this,name:t});return this._substreams[t]=e,(function(r,n){let i=(0,Hyt.default)(n);(0,RX.finished)(r,{readable:!1},i),(0,RX.finished)(r,{writable:!1},i)})(this,(r=>e.destroy(r||void 0))),e}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=_Ae}_read(){}_write(t,e,r){let{name:n,data:i}=t;if(!n)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),r();let o=this._substreams[n];return o?(o!==_Ae&&o.push(i),r()):(console.warn(`ObjectMultiplex - orphaned data for stream "${n}"`),r())}};lD.ObjectMultiplex=Gyt;var jyt=ED(lD.ObjectMultiplex),T1=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";T1.writable=t=>T1(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",T1.readable=t=>T1(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",T1.duplex=t=>T1.writable(t)&&T1.readable(t),T1.transform=t=>T1.duplex(t)&&typeof t._transform=="function";var _1,$yt=T1,Vyt=class extends cyt{constructor(t,{jsonRpcStreamName:e,logger:r=console,maxEventListeners:n=100,rpcMiddleware:i=[]}){if(super({logger:r,maxEventListeners:n,rpcMiddleware:i}),!$yt.duplex(t))throw new Error(wo.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);let o=new jyt;j4.pipeline(t,o,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=Byt({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),j4.pipeline(this._jsonRpcConnection.stream,o.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",(a=>{let{method:s,params:c}=a;s==="metamask_accountsChanged"?this._handleAccountsChanged(c):s==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(c):s==="metamask_chainChanged"?this._handleChainChanged(c):W7e.includes(s)?this.emit("message",{type:s,data:c}):s==="METAMASK_STREAM_FAILURE"&&t.destroy(new Error(wo.errors.permanentlyDisconnected()))}))}async _initializeStateAsync(){let t;try{t=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let r=`MetaMask: Lost connection to "${t}".`;e?.stack&&(r+=`
${e.stack}`),this._log.warn(r),this.listenerCount("error")>0&&this.emit("error",r),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){Y7e(t)&&(r=>!!r&&typeof r=="string")(e)?e==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(wo.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},Kyt=class extends Vyt{constructor(t,{jsonRpcStreamName:e="metamask-provider",logger:r=console,maxEventListeners:n=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:r,maxEventListeners:n,rpcMiddleware:tyt(r)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},aee(this,_1,void 0),this._initializeStateAsync(),E6(this,_1,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(o=>{let{method:a}=o;W7e.includes(a)&&(this.emit("data",o),this.emit("notification",o.params.result))})),i)if(document.readyState==="complete")rAe(this._rpcEngine,this._log);else{let o=()=>{rAe(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",o)};window.addEventListener("DOMContentLoaded",o)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(wo.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(wo.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),R1(this,_1)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(wo.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),R1(this,_1)&&!t&&E6(this,_1,null)}_warnOfDeprecation(t){this._sentWarnings?.events[t]===!1&&(this._log.warn(wo.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(wo.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((t,e)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},MB(t,e))}catch(r){e(r)}}))}send(t,e){return this._sentWarnings.send||(this._log.warn(wo.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!="string"||e&&!Array.isArray(e)?t&&typeof t=="object"&&typeof e=="function"?this._rpcRequest(t,e):this._sendSync(t):new Promise(((r,n)=>{try{this._rpcRequest({method:t,params:e},MB(r,n,!1))}catch(i){n(i)}}))}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(t,J7e),e=!0;break;case"net_version":e=R1(this,_1)??null;break;default:throw new Error(wo.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((t=>{this.on("_initialized",(()=>t()))})),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw __({message:"Batch requests must be made with an array of request objects.",data:t});return new Promise(((e,r)=>{this._rpcRequest(t,MB(e,r))}))}},{get:(t,e,...r)=>(this._sentWarnings.experimentalMethods||(this._log.warn(wo.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...r))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==R1(this,_1)&&(E6(this,_1,e),this._state.initialized&&this.emit("networkChanged",R1(this,_1)))}};_1=new WeakMap;var Ee=(0,e0.default)("MM_SDK"),SAe;Ee.color="#FFAC1C";var w_e={},Mm={};Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.EthereumProviderError=Mm.EthereumRpcError=void 0;var qyt=z7e,dD=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return qyt.default(this.serialize(),Wyt,2)}};Mm.EthereumRpcError=dD;function Wyt(t,e){if(e!=="[Circular]")return e}Mm.EthereumProviderError=class extends dD{constructor(t,e,r){if(!(function(n){return Number.isInteger(n)&&n>=1e3&&n<=4999})(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,r)}};var Yee={},Rm={};Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.errorValues=Rm.errorCodes=void 0,Rm.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Rm.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let e=Rm,r=Mm,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:a(n)};function a(d,f=i){if(Number.isInteger(d)){let p=d.toString();if(u(e.errorValues,p))return e.errorValues[p].message;if(c(d))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return f}function s(d){if(!Number.isInteger(d))return!1;let f=d.toString();return!!e.errorValues[f]||!!c(d)}function c(d){return d>=-32099&&d<=-32e3}function l(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function u(d,f){return Object.prototype.hasOwnProperty.call(d,f)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=a,t.isValidCode=s,t.serializeError=function(d,{fallbackError:f=o,shouldIncludeStack:p=!1}={}){var h,b;if(!f||!Number.isInteger(f.code)||typeof f.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof r.EthereumRpcError)return d.serialize();let _={};if(d&&typeof d=="object"&&!Array.isArray(d)&&u(d,"code")&&s(d.code)){let C=d;_.code=C.code,C.message&&typeof C.message=="string"?(_.message=C.message,u(C,"data")&&(_.data=C.data)):(_.message=a(_.code),_.data={originalError:l(d)})}else{_.code=f.code;let C=(h=d)===null||h===void 0?void 0:h.message;_.message=C&&typeof C=="string"?C:f.message,_.data={originalError:l(d)}}let A=(b=d)===null||b===void 0?void 0:b.stack;return p&&d&&A&&typeof A=="string"&&(_.stack=A),_}})(Yee);var fD={};Object.defineProperty(fD,"__esModule",{value:!0}),fD.ethErrors=void 0;var Jee=Mm,v_e=Yee,Ws=Rm;function Du(t,e){let[r,n]=E_e(e);return new Jee.EthereumRpcError(t,r||v_e.getMessageFromCode(t),n)}function y_(t,e){let[r,n]=E_e(e);return new Jee.EthereumProviderError(t,r||v_e.getMessageFromCode(t),n)}function E_e(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){let{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}fD.ethErrors={rpc:{parse:t=>Du(Ws.errorCodes.rpc.parse,t),invalidRequest:t=>Du(Ws.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Du(Ws.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Du(Ws.errorCodes.rpc.methodNotFound,t),internal:t=>Du(Ws.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Du(e,t)},invalidInput:t=>Du(Ws.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Du(Ws.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Du(Ws.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Du(Ws.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Du(Ws.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Du(Ws.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>y_(Ws.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>y_(Ws.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>y_(Ws.errorCodes.provider.unsupportedMethod,t),disconnected:t=>y_(Ws.errorCodes.provider.disconnected,t),chainDisconnected:t=>y_(Ws.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Jee.EthereumProviderError(e,r,n)}}},(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;let e=Mm;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});let r=Yee;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});let n=fD;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});let i=Rm;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(w_e);var x_e={exports:{}};x_e.exports=(function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var a in n)r.d(o,a,function(s){return n[s]}.bind(null,a));return o},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=90)})({17:function(t,e,r){e.__esModule=!0,e.default=void 0;var n=r(18),i=(function(){function o(){}return o.getFirstMatch=function(a,s){var c=s.match(a);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(a,s){var c=s.match(a);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(a,s,c){if(a.test(s))return c},o.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(a){var s=a.split(".").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(a){var s=a.split(".").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(s.push(0),!(s[0]===1&&s[1]<5))return s[0]===1&&s[1]<6?"Cupcake":s[0]===1&&s[1]>=6?"Donut":s[0]===2&&s[1]<2?"Eclair":s[0]===2&&s[1]===2?"Froyo":s[0]===2&&s[1]>2?"Gingerbread":s[0]===3?"Honeycomb":s[0]===4&&s[1]<1?"Ice Cream Sandwich":s[0]===4&&s[1]<4?"Jelly Bean":s[0]===4&&s[1]>=4?"KitKat":s[0]===5?"Lollipop":s[0]===6?"Marshmallow":s[0]===7?"Nougat":s[0]===8?"Oreo":s[0]===9?"Pie":void 0},o.getVersionPrecision=function(a){return a.split(".").length},o.compareVersions=function(a,s,c){c===void 0&&(c=!1);var l=o.getVersionPrecision(a),u=o.getVersionPrecision(s),d=Math.max(l,u),f=0,p=o.map([a,s],(function(h){var b=d-o.getVersionPrecision(h),_=h+new Array(b+1).join(".0");return o.map(_.split("."),(function(A){return new Array(20-A.length).join("0")+A})).reverse()}));for(c&&(f=d-Math.min(l,u)),d-=1;d>=f;){if(p[0][d]>p[1][d])return 1;if(p[0][d]===p[1][d]){if(d===f)return 0;d-=1}else if(p[0][d]<p[1][d])return-1}},o.map=function(a,s){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(a,s);for(c=0;c<a.length;c+=1)l.push(s(a[c]));return l},o.find=function(a,s){var c,l;if(Array.prototype.find)return Array.prototype.find.call(a,s);for(c=0,l=a.length;c<l;c+=1){var u=a[c];if(s(u,c))return u}},o.assign=function(a){for(var s,c,l=a,u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];if(Object.assign)return Object.assign.apply(Object,[a].concat(d));var p=function(){var h=d[s];typeof h=="object"&&h!==null&&Object.keys(h).forEach((function(b){l[b]=h[b]}))};for(s=0,c=d.length;s<c;s+=1)p();return a},o.getBrowserAlias=function(a){return n.BROWSER_ALIASES_MAP[a]},o.getBrowserTypeByAlias=function(a){return n.BROWSER_MAP[a]||""},o})();e.default=i,t.exports=e.default},18:function(t,e,r){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18);function a(c,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}var s=(function(){function c(){}var l,u,d;return c.getParser=function(f,p){if(p===void 0&&(p=!1),typeof f!="string")throw new Error("UserAgent should be a string");return new i.default(f,p)},c.parse=function(f){return new i.default(f).getResult()},l=c,d=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(u=null)&&a(l.prototype,u),d&&a(l,d),c})();e.default=s,t.exports=e.default},91:function(t,e,r){e.__esModule=!0,e.default=void 0;var n=c(r(92)),i=c(r(93)),o=c(r(94)),a=c(r(95)),s=c(r(17));function c(u){return u&&u.__esModule?u:{default:u}}var l=(function(){function u(f,p){if(p===void 0&&(p=!1),f==null||f==="")throw new Error("UserAgent parameter can't be empty");this._ua=f,this.parsedResult={},p!==!0&&this.parse()}var d=u.prototype;return d.getUA=function(){return this._ua},d.test=function(f){return f.test(this._ua)},d.parseBrowser=function(){var f=this;this.parsedResult.browser={};var p=s.default.find(n.default,(function(h){if(typeof h.test=="function")return h.test(f);if(h.test instanceof Array)return h.test.some((function(b){return f.test(b)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},d.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},d.getBrowserName=function(f){return f?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},d.getBrowserVersion=function(){return this.getBrowser().version},d.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},d.parseOS=function(){var f=this;this.parsedResult.os={};var p=s.default.find(i.default,(function(h){if(typeof h.test=="function")return h.test(f);if(h.test instanceof Array)return h.test.some((function(b){return f.test(b)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},d.getOSName=function(f){var p=this.getOS().name;return f?String(p).toLowerCase()||"":p||""},d.getOSVersion=function(){return this.getOS().version},d.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},d.getPlatformType=function(f){f===void 0&&(f=!1);var p=this.getPlatform().type;return f?String(p).toLowerCase()||"":p||""},d.parsePlatform=function(){var f=this;this.parsedResult.platform={};var p=s.default.find(o.default,(function(h){if(typeof h.test=="function")return h.test(f);if(h.test instanceof Array)return h.test.some((function(b){return f.test(b)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},d.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},d.getEngineName=function(f){return f?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},d.parseEngine=function(){var f=this;this.parsedResult.engine={};var p=s.default.find(a.default,(function(h){if(typeof h.test=="function")return h.test(f);if(h.test instanceof Array)return h.test.some((function(b){return f.test(b)}));throw new Error("Browser's test function is not valid")}));return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},d.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},d.getResult=function(){return s.default.assign({},this.parsedResult)},d.satisfies=function(f){var p=this,h={},b=0,_={},A=0;if(Object.keys(f).forEach((function(k){var O=f[k];typeof O=="string"?(_[k]=O,A+=1):typeof O=="object"&&(h[k]=O,b+=1)})),b>0){var C=Object.keys(h),R=s.default.find(C,(function(k){return p.isOS(k)}));if(R){var M=this.satisfies(h[R]);if(M!==void 0)return M}var U=s.default.find(C,(function(k){return p.isPlatform(k)}));if(U){var F=this.satisfies(h[U]);if(F!==void 0)return F}}if(A>0){var z=Object.keys(_),N=s.default.find(z,(function(k){return p.isBrowser(k,!0)}));if(N!==void 0)return this.compareVersion(_[N])}},d.isBrowser=function(f,p){p===void 0&&(p=!1);var h=this.getBrowserName().toLowerCase(),b=f.toLowerCase(),_=s.default.getBrowserTypeByAlias(b);return p&&_&&(b=_.toLowerCase()),b===h},d.compareVersion=function(f){var p=[0],h=f,b=!1,_=this.getBrowserVersion();if(typeof _=="string")return f[0]===">"||f[0]==="<"?(h=f.substr(1),f[1]==="="?(b=!0,h=f.substr(2)):p=[],f[0]===">"?p.push(1):p.push(-1)):f[0]==="="?h=f.substr(1):f[0]==="~"&&(b=!0,h=f.substr(1)),p.indexOf(s.default.compareVersions(_,h,b))>-1},d.isOS=function(f){return this.getOSName(!0)===String(f).toLowerCase()},d.isPlatform=function(f){return this.getPlatformType(!0)===String(f).toLowerCase()},d.isEngine=function(f){return this.getEngineName(!0)===String(f).toLowerCase()},d.is=function(f,p){return p===void 0&&(p=!1),this.isBrowser(f,p)||this.isOS(f)||this.isPlatform(f)},d.some=function(f){var p=this;return f===void 0&&(f=[]),f.some((function(h){return p.is(h)}))},u})();e.default=l,t.exports=e.default},92:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(s){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(s){var c={name:"Opera"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(s){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(s){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(s){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(s){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(s){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(s){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(s){var c={name:"Opera Coast"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(s){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(s){var c={name:"UC Browser"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(s){var c={name:"Maxthon"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(s){var c={name:"Epiphany"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(s){var c={name:"Puffin"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(s){var c={name:"Sleipnir"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(s){var c={name:"K-Meleon"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(s){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(s){var c={name:/qqbrowserlite/i.test(s)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(s){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(s){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(s){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(s){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(s){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(s){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(s){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(s){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(s){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var c={name:"BlackBerry"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(o,s)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(s){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(s){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(s){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(s){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(s){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(s){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(s){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s)||i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(s){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(s){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){var c=!s.test(/like android/i),l=s.test(/android/i);return c&&l},describe:function(s){var c={name:"Android Browser"},l=i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(s){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(s){var c={name:"Safari"},l=i.default.getFirstMatch(o,s);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(s){var c=s.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,s),version:i.default.getSecondMatch(c,s)}}}];e.default=a,t.exports=e.default},93:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/Roku\/DVP/],describe:function(s){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(s){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(s){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s),l=i.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s){var c={name:o.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(s){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),u={name:o.OS_MAP.MacOS,version:c};return l&&(u.versionName=l),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(s){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(s){var c=!s.test(/like android/i),l=s.test(/android/i);return c&&l},describe:function(s){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s),l=i.default.getAndroidVersionName(c),u={name:o.OS_MAP.Android,version:c};return l&&(u.versionName=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(s){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s),l={name:o.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s)||i.default.getFirstMatch(/\bbb(\d+)/i,s);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(s){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(s){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s);return{name:o.OS_MAP.PlayStation4,version:c}}}];e.default=a,t.exports=e.default},94:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s){var c=i.default.getFirstMatch(/(can-l01)/i,s)&&"Nova",l={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(s){var c=s.test(/ipod|iphone/i),l=s.test(/like (ipod|iphone)/i);return c&&!l},describe:function(s){var c=i.default.getFirstMatch(/(ipod|iphone)/i,s);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s){return s.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s){var c=Number(String(s.getOSVersion()).split(".")[0]);return s.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(s){return s.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(s){return s.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s){return s.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(s){return s.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(s){return s.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=a,t.exports=e.default},95:function(t,e,r){e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),a=[{test:function(s){return s.getBrowserName(!0)==="microsoft edge"},describe:function(s){if(/\sedg\//i.test(s))return{name:o.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(s){var c={name:o.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){return s.test(/presto/i)},describe:function(s){var c={name:o.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:function(s){var c=s.test(/gecko/i),l=s.test(/like gecko/i);return c&&!l},describe:function(s){var c={name:o.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s){var c={name:o.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s);return l&&(c.version=l),c}}];e.default=a,t.exports=e.default}});var A_e=ED(x_e.exports),Cc={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"},ef=class t{constructor({shouldSetOnWindow:e,connectionStream:r,shouldSendMetadata:n=!1,shouldShimWeb3:i,sdkInstance:o}){let a=new dee({connectionStream:r,shouldSendMetadata:n,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),s=new Proxy(a,{deleteProperty:()=>!0});if(this.provider=s,this.sdkInstance=o,e&&typeof window<"u")try{c=a,window.ethereum=c,window.dispatchEvent(new Event("ethereum#initialized"))}catch(l){Ee("[Ethereum] Unable to set global provider - window.ethereum may be read-only",l)}var c;if(i&&typeof window<"u")try{(function(l,u=console){let d=!1,f=!1;if(!window.web3){let p="__isMetaMaskShim__",h={currentProvider:l};Object.defineProperty(h,p,{value:!0,enumerable:!0,configurable:!1,writable:!1}),h=new Proxy(h,{get:(b,_,...A)=>(_!=="currentProvider"||d?_==="currentProvider"||_===p||f||(f=!0,u.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),l.request({method:"metamask_logWeb3ShimUsage"}).catch((C=>{u.debug("MetaMask: Failed to log web3 shim usage.",C)}))):(d=!0,u.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(b,_,...A)),set:(...b)=>(u.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...b))}),Object.defineProperty(window,"web3",{value:h,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(l){Ee("[Ethereum] Unable to shim web3 - window.web3 may be read-only",l)}this.provider.on("display_uri",(l=>{this.sdkInstance.emit(Cc.DisplayURI,l)})),this.provider.on("_initialized",(()=>{let l={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(Cc.Initialized,l),Ee("[Ethereum: constructor()] provider initialized",l)}))}static init(e){var r;return Ee("[Ethereum: init()] Initializing Ethereum service"),this.instance=new t(e),(r=this.instance)===null||r===void 0?void 0:r.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}},pD=class t{constructor({useDeepLink:e,preferredOpenLink:r,debug:n=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=r,this.state.debug=n}openDeeplink(e,r,n){return(function(i,o,a,s){let{state:c}=i;Ee(`[PlatfformManager: openDeeplink()] universalLink --> ${o}`),Ee(`[PlatfformManager: openDeeplink()] deepLink --> ${a}`);try{if(c.preferredOpenLink)return void c.preferredOpenLink(c.useDeeplink?a:o,s);if(Ee(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${c.useDeeplink} link=${c.useDeeplink?a:o}`),c.useDeeplink)typeof window<"u"&&(window.location.href=a);else if(typeof document<"u"){let l=document.createElement("a");l.href=o,l.target="_self",l.rel="noreferrer noopener",l.click()}}catch(l){console.log("[PlatfformManager: openDeeplink()] can't open link",l)}})(this,e,r,n)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<"u"&&window?.navigator&&((e=window.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"}isMetaMaskInstalled(){return(function(){let e=ef.getProvider()||window?.ethereum;return Ee(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e?.isMetaMask} isConnected=${e?.isConnected()}`),e?.isMetaMask&&e?.isConnected()})()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,r;let n=A_e.parse(window.navigator.userAgent);return((e=n?.platform)===null||e===void 0?void 0:e.type)==="mobile"||((r=n?.platform)===null||r===void 0?void 0:r.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===Zs.MobileWeb}static isNotBrowser(){var e;return typeof window>"u"||!window?.navigator||G0!==void 0&&((e=G0?.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"||navigator?.product==="ReactNative"}isNotBrowser(){return t.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return t.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return(function(e){let{state:r}=e;return r.platformType?r.platformType:e.isReactNative()?Zs.ReactNative:e.isNotBrowser()?Zs.NonBrowser:e.isMetaMaskMobileWebView()?Zs.MetaMaskMobileWebview:e.isMobile()?Zs.MobileWeb:Zs.DesktopWeb})(this)}},T_e=t=>Ie(void 0,void 0,void 0,(function*(){if(pD.isBrowser()){let{StorageManagerWeb:r}=yield Promise.resolve().then((function(){return g2t}));return new r(t)}let e={persistChannelConfig:()=>Ie(void 0,void 0,void 0,(function*(){})),getPersistedChannelConfig:()=>Ie(void 0,void 0,void 0,(function*(){})),persistAccounts:()=>Ie(void 0,void 0,void 0,(function*(){})),getCachedAccounts:()=>Ie(void 0,void 0,void 0,(function*(){return[]})),persistChainId:()=>Ie(void 0,void 0,void 0,(function*(){})),getCachedChainId:()=>Ie(void 0,void 0,void 0,(function*(){})),terminate:()=>Ie(void 0,void 0,void 0,(function*(){}))};return Promise.resolve(e)})),dee=class extends Kyt{constructor({connectionStream:e,shouldSendMetadata:r,autoRequestAccounts:n=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:r}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},Ee(`[SDKProvider: constructor()] autoRequestAccounts=${n}`),this.state.autoRequestAccounts=n}forceInitializeState(){return Ie(this,void 0,void 0,(function*(){return Ee(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()}))}_setConnected(){Ee("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;let{accounts:r}=this._state;return r&&r.length!==0?((e=r[0])===null||e===void 0?void 0:e.toLowerCase())||"":(Ee("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,r){return this._handleAccountsChanged(e,r)}handleDisconnect({terminate:e=!1}){(function({terminate:r=!1,instance:n}){let{state:i}=n;Ee(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${r}`,n),r&&(n._state.accounts=null,n._state.isUnlocked=!1,n._state.isPermanentlyDisconnected=!0,n._state.initialized=!1),n._handleAccountsChanged([]),n._state.isConnected=!1,n.emit("disconnect",w_e.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return Ie(this,void 0,void 0,(function*(){return(function(e){var r,n;return Ie(this,void 0,void 0,(function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});let{state:i}=e,o;if(i.providerStateRequested)Ee("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let a;i.providerStateRequested=!0;let s=null,c=!1,l=!1,u=yield T_e({enabled:!0});if(u){let d=yield u.getPersistedChannelConfig({});c=(r=d?.relayPersistence)!==null&&r!==void 0&&r,a=yield u.getCachedChainId();let f=yield u.getCachedAccounts();f.length>0&&(s=f[0])}if(Ee(`[SDKProvider: initializeStateAsync()] relayPersistence=${c}`,{relayPersistence:c,cachedChainId:a,cachedSelectedAddress:s}),c)if(a&&s)o={accounts:[s],chainId:a,isUnlocked:!1},l=!0;else try{o=yield e.request({method:"metamask_getProviderState"})}catch(d){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",d),void(i.providerStateRequested=!1)}if(((n=o?.accounts)===null||n===void 0?void 0:n.length)===0)if(e.getSelectedAddress())o.accounts=[e.getSelectedAddress()];else{Ee("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");let d=yield e.request({method:"eth_requestAccounts",params:[]});o.accounts=d}e._initializeState(o),i.providerStateRequested=!1,l&&(e._state.isConnected=!0,e.emit("connect",{chainId:o?.chainId}))}}))})(this)}))}_initializeState(e){return Ee("[SDKProvider: _initializeState()]",e),(function(r,n,i){return Ee("[SDKProvider: initializeState()] set state._initialized to false"),r._state.initialized=!1,n(i)})(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:r}={}){this.state.chainId=e,this.state.networkVersion=r,(function({instance:n,chainId:i,networkVersion:o,superHandleChainChanged:a}){Ee(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${o}`);let s=o;o||(Ee("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),s="1"),i!==SAe&&(vo.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(i??"0x1",16)}`}),SAe=i),n._state.isConnected=!0,n.emit("connect",{chainId:i}),a({chainId:i,networkVersion:s})})({instance:this,chainId:e,networkVersion:r,superHandleChainChanged:super._handleChainChanged.bind(this)})}},j_,Cg={name:"@metamask/sdk",version:"0.33.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-analytics":"workspace:*","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"^4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(t){t.INPAGE="metamask-inpage",t.CONTENT_SCRIPT="metamask-contentscript",t.PROVIDER="metamask-provider"})(j_||(j_={}));var IAe="direct",$_="https://metamask.app.link/connect",V_="metamask://connect",CAe={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},Yyt=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,Xt={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},K_={[Xt.ETH_REQUESTACCOUNTS]:!0,[Xt.ETH_SENDTRANSACTION]:!0,[Xt.ETH_SIGNTRANSACTION]:!0,[Xt.ETH_SIGN]:!0,[Xt.PERSONAL_SIGN]:!0,[Xt.ETH_ACCOUNTS]:!1,[Xt.ETH_CHAINID]:!1,[Xt.PERSONAL_SIGN]:!0,[Xt.ETH_SIGNTYPEDDATA]:!0,[Xt.ETH_SIGNTYPEDDATA_V3]:!0,[Xt.ETH_SIGNTYPEDDATA_V4]:!0,[Xt.WALLET_REQUESTPERMISSIONS]:!0,[Xt.WALLET_GETPERMISSIONS]:!0,[Xt.WALLET_WATCHASSET]:!0,[Xt.WALLET_ADDETHEREUMCHAIN]:!0,[Xt.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[Xt.METAMASK_CONNECTSIGN]:!0,[Xt.METAMASK_CONNECTWITH]:!0,[Xt.PERSONAL_EC_RECOVER]:!0,[Xt.METAMASK_BATCH]:!0,[Xt.METAMASK_OPEN]:!0},Jyt=Object.keys(K_).filter((t=>K_[t]===!0)).map((t=>t.toLowerCase())),__e=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map((t=>t.toLowerCase())),PX=".sdk-comm",hD="providerType",fee=".MMSDK_cached_address",pee=".MMSDK_cached_chainId",A1={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},Qyt=1e6,M1;(function(t){t.TERMINATE="terminate",t.EXTENSION="extension",t.INITIALIZED="initialized"})(M1||(M1={}));var Zyt=typeof window<"u"&&window.localStorage;function Xyt({instance:t,msg:e}){return Ie(this,void 0,void 0,(function*(){if(t._initialized||(Ee("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield t.init()),Ee(`[MetaMaskSDK: connectAndSign()] activeProvider=${t.activeProvider}`),!t.activeProvider)throw new Error("SDK state invalid -- undefined provider");let r=/^0x([0-9A-Fa-f]{2})*$/u.test(e)?e:(function(n){let i;if(Pe!==void 0)i=Pe.from(n,"utf8").toString("hex");else if(typeof TextEncoder<"u"){let o=new TextEncoder().encode(n);i=Array.from(o).map((a=>a.toString(16).padStart(2,"0"))).join("")}else{if(typeof G0!="object"||!("Buffer"in G0))throw new Error("Unable to convert string to hex: No available method.");i=G0.Buffer.from(n,"utf8").toString("hex")}return`0x${i}`})(e);return t.activeProvider.request({method:Xt.METAMASK_CONNECTWITH,params:[{method:Xt.PERSONAL_SIGN,params:[r]}]})}))}function RAe(t){var e,r;return Ie(this,void 0,void 0,(function*(){Ee("[MetaMaskSDK: connectWithExtensionProvider()] ",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{let n=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:"eth_requestAccounts"});Ee(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${n}`)}catch(n){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",n)}localStorage.setItem(hD,"extension"),t.extensionActive=!0,t.emit(Cc.ProviderUpdate,M1.EXTENSION),t.options.enableAnalytics&&((r=t.analytics)===null||r===void 0||r.send({event:zo.SDK_USE_EXTENSION}))}))}function mD(t){let e;if(Pe!==void 0)e=Pe.from(t,"utf8").toString("base64");else if(typeof btoa=="function")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,((r,n)=>String.fromCharCode(parseInt(n,16)))));else{if(typeof G0!="object"||!("Buffer"in G0))throw new Error("Unable to base64 encode: No available method.");e=G0.Buffer.from(t,"utf8").toString("base64")}return e}function e2t(t,e,r,n){var i,o,a,s,c,l,u,d,f,p,h,b,_,A,C,R,M,U,F,z;return Ie(this,void 0,void 0,(function*(){let N=(i=t.state.remote)===null||i===void 0?void 0:i.isReady(),k=(o=t.state.remote)===null||o===void 0?void 0:o.isConnected(),O=(a=t.state.remote)===null||a===void 0?void 0:a.isPaused(),w=ef.getProvider(),S=(s=t.state.remote)===null||s===void 0?void 0:s.getChannelId(),T=(c=t.state.remote)===null||c===void 0?void 0:c.isAuthorized(),{deeplinkProtocol:m}=t.state,{method:y,data:E,triggeredInstaller:v}=(B=>{var I,L,G,H;let $;Pe.isBuffer(B)?($=B.toJSON(),$._isBuffer=!0):$=B;let K=(I=$?.data)===null||I===void 0?void 0:I.method,W=!1;return typeof((L=$?.data)===null||L===void 0?void 0:L.params)=="object"&&((H=(G=$?.data)===null||G===void 0?void 0:G.params)===null||H===void 0?void 0:H.__triggeredInstaller)===!0&&(W=!0,$.data.params=$.data.params.wrappedParams),{method:K,data:$,triggeredInstaller:W}})(e);if(Ee(`[RCPMS: write()] method='${y}' isRemoteReady=${N} channelId=${S} isSocketConnected=${k} isRemotePaused=${O} providerConnected=${w.isConnected()}`,e),!S)return y!==Xt.METAMASK_GETPROVIDERSTATE&&Ee(`[RCPMS: write()] ${y} --> channelId is undefined`),n(new Error("disconnected"));Ee(`[RCPMS: write()] remote.isPaused()=${(l=t.state.remote)===null||l===void 0?void 0:l.isPaused()} authorized=${T} ready=${N} socketConnected=${k}`,e);let x=(u=t.state.platformManager)===null||u===void 0?void 0:u.isSecure(),g=(f=(d=t.state.platformManager)===null||d===void 0?void 0:d.isMobileWeb())!==null&&f!==void 0&&f,P=(h=(p=t.state.remote)===null||p===void 0?void 0:p.hasDeeplinkProtocol())!==null&&h!==void 0&&h&&g&&T;try{if(!v){let L=JSON.stringify(E?.data);if(L.length>Qyt)return n(new Error(`Message size ${L.length} exceeds maximum allowed size of 1000000 bytes`));(b=t.state.remote)===null||b===void 0||b.sendMessage(E?.data).then((()=>{Ee(`[RCPMS: _write()] ${y} sent successfully`)})).catch((G=>{Ee("[RCPMS: _write()] error sending message",G)}))}if(!x)return Ee(`[RCPMS: _write()] unsecure platform for method ${y} -- return callback`),n();if(v)return Ee("[RCPMS: _write()] prevent deeplink -- installation completed separately."),n();let B=(C=(A=(_=t.state.remote)===null||_===void 0?void 0:_.getKeyInfo())===null||A===void 0?void 0:A.ecies.public)!==null&&C!==void 0?C:"",I=encodeURI(`channelId=${S}&pubkey=${B}&comm=socket&t=d&v=2`);if(P){let L=JSON.stringify(E?.data),G=(R=t.state.remote)===null||R===void 0?void 0:R.encrypt(L);if(!G)return Ee("[RCPMS: _write()] error encrypting message"),n(new Error("RemoteCommunicationPostMessageStream - disconnected"));I+=`&scheme=${m}&rpc=${mD(G)}`}if(!(!((M=t.state.platformManager)===null||M===void 0)&&M.isMetaMaskInstalled()))return Ee("[RCPMS: _write()] prevent deeplink until installation is completed."),n();K_[y]?(Ee(`[RCPMS: _write()] redirect link for '${y}' socketConnected=${k} connect?${I}`),(U=t.state.platformManager)===null||U===void 0||U.openDeeplink(`${$_}?${I}`,`${V_}?${I}`,"_self")):!((F=t.state.remote)===null||F===void 0)&&F.isPaused()?(Ee(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${y}`),(z=t.state.platformManager)===null||z===void 0||z.openDeeplink(`${$_}?redirect=true&${I}`,`${V_}?redirect=true&${I}`,"_self")):Ee(`[RCPMS: _write()] method ${y} doesn't need redirect.`)}catch(B){return Ee("[RCPMS: _write()] error sending message",B),n(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return n()}))}var hee=class extends j4.Duplex{constructor({name:e,remote:r,deeplinkProtocol:n,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=r,this.state.deeplinkProtocol=n,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(Ge.MESSAGE,this._onMessage)}_write(e,r,n){return Ie(this,void 0,void 0,(function*(){return e2t(this,e,0,n)}))}_read(){}_onMessage(e){return(function(r,n){try{if(Ee("[RCPMS: onMessage()] message",n),!n||typeof n!="object"||typeof n?.data!="object")return;if(!n?.name)return void Ee("[RCPMS: onMessage()] ignore message without name",n);if(n?.name!==j_.PROVIDER)return void Ee(`[RCPMS: onMessage()] ignore message with wrong name message=${n}`);if(Pe.isBuffer(n)){let i=Pe.from(n);r.push(i)}else r.push(n)}catch(i){Ee(`[RCPMS: onMessage()] ignore message error err=${i}`)}})(this,e)}start(){}},PAe=1,S_e=t=>new Promise((e=>{setTimeout((()=>{e(!0)}),t)})),t2t=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:r,shouldShimWeb3:n,platformManager:i,installer:o,sdk:a,remoteConnection:s,debug:c})=>Ie(void 0,void 0,void 0,(function*(){var l,u;let d=(({name:O,remoteConnection:w})=>{if(!w||!w?.getConnector())throw new Error("Missing remote connection parameter");return new hee({name:O,remote:w?.getConnector(),deeplinkProtocol:w?.state.deeplinkProtocol,platformManager:w?.getPlatformManager()})})({name:j_.INPAGE,target:j_.CONTENT_SCRIPT,platformManager:i,communicationLayerPreference:e,remoteConnection:s}),f=i.getPlatformType(),p=a.options.dappMetadata,h=`Sdk/Javascript SdkVersion/${Cg.version} Platform/${f} dApp/${(l=p.url)!==null&&l!==void 0?l:p.name} dAppTitle/${p.name}`,b=null,_=null,A=(u=a.options.storage)===null||u===void 0?void 0:u.storageManager;if(A){try{let O=yield A.getCachedAccounts();O.length>0&&(b=O[0])}catch(O){console.error(`[initializeMobileProvider] failed to get cached addresses: ${O}`)}try{let O=yield A.getCachedChainId();O&&(_=O)}catch(O){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${O}`)}}Ee(`[initializeMobileProvider] cachedAccountAddress: ${b}, cachedChainId: ${_}`);let C=!(!r||f===Zs.NonBrowser||f===Zs.ReactNative),R=ef.init({shouldSetOnWindow:C,connectionStream:d,shouldShimWeb3:n,sdkInstance:a}),M=!1,U=O=>{M=O},F=()=>M,z=(O,w,S,T)=>Ie(void 0,void 0,void 0,(function*(){var m,y,E,v,x,g,P,B,I;let L=ef.getProvider();if(M){L.emit("display_uri",s?.state.qrcodeLink||""),s?.showActiveModal();let re=F();for(;re;){let le=F(),ce=s?.isAuthorized();re=le&&!ce,Ee(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${le} authorized: ${ce}`),yield S_e(1e3)}return Ee("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),S(...w)}let G=i.isMetaMaskInstalled(),H=s?.isConnected(),$=null,K=null,W=null;if($=(m=L.getSelectedAddress())!==null&&m!==void 0?m:b,W=L.getChainId()||_,$&&A&&$!==b&&A.persistAccounts([$]).catch((re=>{console.error(`[initializeMobileProvider] failed to persist account: ${re}`)})),W&&(_=W,A&&A.persistChainId(W).catch((re=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${re}`)}))),Ee("[initializeMobileProvider: sendRequest()]",{selectedAddress:$,chainId:W}),T&&Ee(`[initializeMobileProvider: sendRequest()] method=${O} ongoing=${M} selectedAddress=${$} isInstalled=${G} checkInstallationOnAllCalls=${t} socketConnected=${H}`),$&&O.toLowerCase()===Xt.ETH_ACCOUNTS.toLowerCase())return[$];if(W&&O.toLowerCase()===Xt.ETH_CHAINID.toLowerCase())return W;let J=[Xt.ETH_REQUESTACCOUNTS,Xt.WALLET_REQUESTPERMISSIONS,Xt.METAMASK_CONNECTSIGN,Xt.METAMASK_CONNECTWITH],X=!K_[O],te=(y=a.options.readonlyRPCMap)===null||y===void 0?void 0:y[W];if(te&&X)try{let re=(E=w?.[0])===null||E===void 0?void 0:E.params,le=yield(({rpcEndpoint:ce,method:ae,sdkInfo:xe,params:me})=>Ie(void 0,void 0,void 0,(function*(){let Se=JSON.stringify({jsonrpc:"2.0",method:ae,params:me,id:(PAe+=1,PAe)}),vt={Accept:"application/json","Content-Type":"application/json"},Qe;ce.includes("infura")&&(vt["Metamask-Sdk-Info"]=xe);try{Qe=yield(0,_ee.default)(ce,{method:"POST",headers:vt,body:Se})}catch(Ve){throw Ve instanceof Error?new Error(`Failed to fetch from RPC: ${Ve.message}`):new Error(`Failed to fetch from RPC: ${Ve}`)}if(!Qe.ok)throw new Error(`Server responded with a status of ${Qe.status}`);return(yield Qe.json()).result})))({rpcEndpoint:te,sdkInfo:h,method:O,params:re||[]});return T&&Ee(`initializeProvider::ReadOnlyRPCResponse ${le}`),le}catch(re){console.warn(`[initializeMobileProvider: sendRequest()] method=${O} readOnlyRPCRequest failed:`,re)}if((!G||G&&!H)&&O!==Xt.METAMASK_GETPROVIDERSTATE){let re=((v=w?.[0])===null||v===void 0?void 0:v.params)||[];if(J.indexOf(O)!==-1||t){U(!0);let le=O===Xt.METAMASK_CONNECTWITH,ce=`${Date.now()}`;try{yield o.start({wait:!1,connectWith:le?{method:O,id:ce,params:re}:void 0}),yield new Promise(((ae,xe)=>{s?.isAuthorized()&&(Ee("[initializeMobileProvider: sendRequest()] already authorized"),ae(!0)),s?.getConnector().once(Ge.AUTHORIZED,(()=>{ae(!0)})),a.once(Ge.PROVIDER_UPDATE,(me=>{Ee(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${me}`),me===M1.EXTENSION?xe(Ge.PROVIDER_UPDATE):xe(new Error("Connection Terminated"))}))}))}catch(ae){if(M1.EXTENSION===ae){if(Ee(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${O} on the active provider`),O.toLowerCase()===Xt.METAMASK_CONNECTSIGN.toLowerCase()){let xe=yield(x=a.getProvider())===null||x===void 0?void 0:x.request({method:Xt.ETH_REQUESTACCOUNTS,params:[]});if(!xe.length)throw new Error("SDK state invalid -- undefined accounts");let me=yield(g=a.getProvider())===null||g===void 0?void 0:g.request({method:Xt.PERSONAL_SIGN,params:[re[0],xe[0]]});return a.emit(Cc.ConnectWithResponse,me),me}if(O.toLowerCase()===Xt.METAMASK_CONNECTWITH.toLowerCase()){let[xe]=re,me=yield(({method:Se,sdk:vt,params:Qe})=>Ie(void 0,void 0,void 0,(function*(){var Ve,kt,Ze,et;if(!vt.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");Ee("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",Se,Qe);let on=yield(Ve=vt.getProvider())===null||Ve===void 0?void 0:Ve.request({method:Xt.ETH_REQUESTACCOUNTS,params:[]});if(!on.length)throw new Error("SDK state invalid -- undefined accounts");if(Se?.toLowerCase()===Xt.PERSONAL_SIGN.toLowerCase()){let Me={method:Se,params:[Qe[0],on[0]]};return yield(kt=vt.getProvider())===null||kt===void 0?void 0:kt.request(Me)}if(Se?.toLowerCase()===Xt.ETH_SENDTRANSACTION.toLowerCase()){let Me={method:Se,params:[Object.assign(Object.assign({},Qe[0]),{from:on[0]})]};return yield(Ze=vt.getProvider())===null||Ze===void 0?void 0:Ze.request(Me)}return __e.includes(Se.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${Se} -- not handled by the extension -- call separately`),on):yield(et=vt.getProvider())===null||et===void 0?void 0:et.request({method:Se,params:Qe})})))({method:xe.method,sdk:a,params:xe.params});return a.emit(Cc.ConnectWithResponse,me),me}return Ee(`[initializeMobileProvider: sendRequest()] sending '${O}' on active provider`,re),yield(P=a.getProvider())===null||P===void 0?void 0:P.request({method:O,params:re})}throw ae===Ge.REJECTED?(s?.closeModal(),(B=a.getProvider())===null||B===void 0||B.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(Ee(`[initializeMobileProvider: sendRequest()] failed to start installer: ${ae}`),ae)}finally{U(!1)}if(O===Xt.ETH_REQUESTACCOUNTS)return K=yield new Promise((ae=>{let xe=setInterval((()=>{let{accounts:me}=L.getState();me&&(clearInterval(xe),ae(me))}),100)})),Ee(`[initializeMobileProvider: sendRequest()] selectedAddress: ${$} --- SKIP rpc call`),K;if(O===Xt.METAMASK_CONNECTWITH)try{let ae=0,xe=5,me=({resolve:Ve,reject:kt})=>{ae+=1;let Ze=s?.getConnector().getRPCMethodTracker(),et=Ze?.[ce];return Ee(`TRACKER: update method ${ce}`,et),et?.result?(Ee("[initializeMobileProvider: sendRequest()] found result",et.result),a.emit(Cc.ConnectWithResponse,et.result),void Ve(et.result)):et?.error?(Ee("[initializeMobileProvider: sendRequest()] found error",et.error),void kt(et.error)):ae>=xe?(Ee("[initializeMobileProvider: sendRequest()] max message count reached without result"),void kt(new Error("Max message count reached without result"))):void Ee("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")},Se,vt,Qe=yield new Promise(((Ve,kt)=>{let Ze=s?.getConnector().getRPCMethodTracker();Ee(`TRACKER: method ${ce}`,Ze),Ze?.[ce].result?(Ee("[initializeMobileProvider: sendRequest()] found result",Ze?.[ce].result),Ve(Ze?.[ce].result)):Ze?.[ce].error&&(Ee("[initializeMobileProvider: sendRequest()] found error",Ze?.[ce].error),kt(Ze?.[ce].error)),vt=()=>me({resolve:Ve,reject:kt}),Se=s?.getConnector().on(Ge.RPC_UPDATE,vt)}));return vt&&Se?.off(Ge.RPC_UPDATE,vt),Ee("TRACKER: result",Qe),Qe}catch(ae){throw Ee("[initializeMobileProvider: sendRequest()] error:",ae),ae}return w[0]&&typeof w[0]=="object"&&(w[0].params={__triggeredInstaller:!0,wrappedParams:w[0].params}),S(...w)}if(i.isSecure()&&K_[O])return S(...w);if(a.isExtensionActive())return Ee(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${O}' to it`,w,re),yield(I=a.getProvider())===null||I===void 0?void 0:I.request({method:O,params:re});throw Ee(`[initializeMobileProvider: sendRequest()] method=${O} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{let re=yield S(...w);if(Ee(`[initializeMobileProvider: sendRequest()] method=${O} rpcResponse`,re),O===Xt.WALLET_REQUESTPERMISSIONS){let le=re.reduce(((ce,ae)=>{var xe;if(ae.parentCapability==="eth_accounts"){let me=(xe=ae.caveats.find((Se=>Se.type==="restrictReturnedAccounts")))===null||xe===void 0?void 0:xe.value;me&&ce.push(...me)}return ce}),[]);Ee("[initializeMobileProvider: sendRequest()] accountsToPersist:",le),le.length>0&&(L.handleAccountsChanged(le,!1),A?.persistAccounts(le))}return re}catch(re){throw console.error("[initializeMobileProvider: sendRequest()] error:",re),re}})),{request:N}=R;R.request=(...O)=>Ie(void 0,void 0,void 0,(function*(){return z(O?.[0].method,O,N,c)}));let{send:k}=R;return R.send=(...O)=>Ie(void 0,void 0,void 0,(function*(){return z(O?.[0],O,k,c)})),Ee("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),d.start(),R}));function r2t(t){var e,r,n,i;return Ie(this,void 0,void 0,(function*(){let{options:o}=t,a={communicationLayerPreference:(e=o.communicationLayerPreference)!==null&&e!==void 0?e:Ag.SOCKET,platformManager:t.platformManager,sdk:t,checkInstallationOnAllCalls:o.checkInstallationOnAllCalls,injectProvider:(r=o.injectProvider)===null||r===void 0||r,shouldShimWeb3:(n=o.shouldShimWeb3)===null||n===void 0||n,extensionOnly:(i=o.extensionOnly)===null||i===void 0||i,installer:t.installer,remoteConnection:t.remoteConnection,debug:t.debug},s=yield t2t(a);t.activeProvider=s,(function(c){var l,u,d,f;(u=(l=c.remoteConnection)===null||l===void 0?void 0:l.getConnector())===null||u===void 0||u.on(Cc.ConnectionStatus,(p=>{c.emit(Cc.ConnectionStatus,p)})),(f=(d=c.remoteConnection)===null||d===void 0?void 0:d.getConnector())===null||f===void 0||f.on(Cc.ServiceStatus,(p=>{c.emit(Cc.ServiceStatus,p)}))})(t)}))}var n2t="sdk",mee=class{constructor({serverUrl:e,enabled:r,originatorInfo:n}){this.serverURL=H4,this.serverURL=e,this.originatorInfo=n,this.enabled=r==null||r}send({event:e,params:r}){if(!this.enabled)return;let n=Object.assign(Object.assign({id:n2t,event:e,sdkVersion:Cg.version},this.originatorInfo),{params:r});Ee(`[Analytics: send()] event: ${e}`,n),C6(n,this.serverURL).catch((i=>{Ee(`[Analytics: send()] error: ${i}`)}))}},i2t=()=>{if(typeof document>"u")return;let t,e=document.getElementsByTagName("link");for(let r=0;r<e.length;r++)e[r].getAttribute("rel")!=="icon"&&e[r].getAttribute("rel")!=="shortcut icon"||(t=e[r].getAttribute("href"));return t},o2t=163400;function OAe(t){var e,r,n;let{dappMetadata:i}=t,o=(function({url:u,name:d}){var f;let p=u+d,h=mD(p);if(!localStorage)return"";let b=(f=localStorage.getItem(h))!==null&&f!==void 0?f:"";if(!b){b=Yd();try{localStorage.setItem(h,b)}catch{return""}}return b})({url:(e=i?.url)!==null&&e!==void 0?e:"no_url",name:(r=i?.name)!==null&&r!==void 0?r:"no_name"}),a=(n=t.platformManager)===null||n===void 0?void 0:n.getPlatformType(),s=a===Zs.DesktopWeb,c=a===Zs.MetaMaskMobileWebview,l="N/A";return s?l="extension":c&&(l="mobile"),{id:o,from:l}}var vB=(t,e,r)=>{if(Y_(t))if(r||e&&typeof e=="object"&&e!==null&&"error"in e){let n=r||e?.error;n&&n.code===4001?vo.analytics.track("sdk_action_rejected",{action:t}):vo.analytics.track("sdk_action_failed",{action:t})}else vo.analytics.track("sdk_action_succeeded",{action:t})},bee=({provider:t,sdkInstance:e})=>{if("state"in t)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(t,{get:(r,n)=>n==="request"?function(i){var o,a;return Ie(this,void 0,void 0,(function*(){Ee("[wrapExtensionProvider()] Overwriting request method",i);let{method:s,params:c}=i,l=Jyt.includes(s.toLowerCase()),{id:u,from:d}=OAe(e);if(l&&((o=e.analytics)===null||o===void 0||o.send({event:zo.SDK_RPC_REQUEST,params:{method:s,from:d,id:u}})),Y_(s)&&vo.analytics.track("sdk_action_requested",{action:s}),s===Xt.METAMASK_BATCH&&Array.isArray(c))return(({target:h,args:b,trackEvent:_,sdkInstance:A})=>Ie(void 0,void 0,void 0,(function*(){var C,R;if(b.method!=="metamask_batch")throw new Error("Invalid usage");let M=[],U=(C=b?.params)!==null&&C!==void 0?C:[];for(let N of U){let k=yield h?.request({method:N.method,params:N.params});M.push(k)}let{id:F,from:z}=OAe(A);_&&((R=A.analytics)===null||R===void 0||R.send({event:zo.SDK_RPC_REQUEST_DONE,params:{method:b.method,from:z,id:F}}));for(let N of M)vB(b.method,N,null);return M})))({target:r,args:i,trackEvent:l,sdkInstance:e});if(s.toLowerCase()===Xt.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(c))return(({target:h,params:b})=>Ie(void 0,void 0,void 0,(function*(){let _,A=null;try{let C=yield h.request({method:Xt.ETH_REQUESTACCOUNTS,params:[]});if(!C.length)throw new Error("SDK state invalid -- undefined accounts");return _=yield h.request({method:Xt.PERSONAL_SIGN,params:[b[0],C[0]]}),_}catch(C){throw A=C,C}finally{vB(Xt.PERSONAL_SIGN,_,A)}})))({target:r,params:c});if(s.toLowerCase()===Xt.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(c))return(({target:h,params:b})=>Ie(void 0,void 0,void 0,(function*(){let[_]=b,A=_.method,C=_.params,R,M=null;try{let U=yield h.request({method:Xt.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(U)||!U.length)throw new Error("SDK state invalid -- undefined accounts");return A?.toLowerCase()===Xt.PERSONAL_SIGN.toLowerCase()?(R=yield h.request({method:A,params:[C[0],U[0]]}),R):A?.toLowerCase()===Xt.ETH_SENDTRANSACTION.toLowerCase()?(R=yield h.request({method:A,params:[Object.assign(Object.assign({},C[0]),{from:U[0]})]}),R):__e.includes(A.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${A} -- not handled by the extension -- call separately`),R=U,R):(R=yield h.request({method:A,params:C}),R)}catch(U){throw M=U,U}finally{vB(A,R,M)}})))({target:r,params:c});let f,p=null;try{return f=yield r.request(i),f}catch(h){throw p=h,h}finally{l&&((a=e.analytics)===null||a===void 0||a.send({event:zo.SDK_RPC_REQUEST_DONE,params:{method:s,from:d,id:u}})),vB(s,f,p)}}))}:n==="getChainId"?function(){return t.chainId}:n==="getNetworkVersion"?function(){return t.networkVersion}:n==="getSelectedAddress"?function(){return t.selectedAddress}:n==="isConnected"?function(){return t._state.isConnected}:r[n]})},bD;function a2t({mustBeMetaMask:t,sdkInstance:e}){return Ie(this,void 0,void 0,(function*(){if(typeof window>"u")throw new Error("window not available");try{let r=yield new Promise(((n,i)=>{let o=setTimeout((()=>{i(new Error("eip6963RequestProvider timed out"))}),500);window.addEventListener(bD.Announce,(a=>{let s=a,{detail:{info:c,provider:l}={}}=s,{name:u,rdns:d,uuid:f}=c??{};Yyt.test(f)&&u.startsWith(CAe.NAME)&&CAe.RDNS.includes(d)&&(clearTimeout(o),n(l))})),window.dispatchEvent(new Event(bD.Request))}));return bee({provider:r,sdkInstance:e})}catch{if(!t&&window.ethereum)return bee({provider:window.ethereum,sdkInstance:e});throw new Error("Provider not found")}}))}(function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"})(bD||(bD={}));var s2t=t=>Ie(void 0,void 0,void 0,(function*(){let{options:e}=t,{infuraAPIKey:r}=e;if(!r)return;let n={"0x1":`https://mainnet.infura.io/v3/${r}`,"0x5":`https://goerli.infura.io/v3/${r}`,"0xaa36a7":`https://sepolia.infura.io/v3/${r}`,"0xe708":`https://linea-mainnet.infura.io/v3/${r}`,"0xe704":`https://linea-goerli.infura.io/v3/${r}`,"0x89":`https://polygon-mainnet.infura.io/v3/${r}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${r}`,"0x45":`https://optimism-mainnet.infura.io/v3/${r}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${r}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${r}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${r}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${r}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${r}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${r}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${r}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${r}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${r}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${r}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${r}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${r}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${r}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${r}`};t.options.readonlyRPCMap?t.options.readonlyRPCMap=Object.assign(Object.assign({},t.options.readonlyRPCMap),n):t.options.readonlyRPCMap=n})),c2t=t=>Ie(void 0,void 0,void 0,(function*(){let{options:e}=t,{readonlyRPCMap:r}=e;if(r)try{Ee("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",r),t.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}}));function l2t(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(l){try{c(n.next(l))}catch(u){o(u)}}function s(l){try{c(n.throw(l))}catch(u){o(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof r?u:new r((function(d){d(u)}))).then(a,s)}c((n=n.apply(t,[])).next())}))}function u2t(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return(function(u){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(d){u=[6,d],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}})([c,l])}}}var NAe="INSTALLED",kAe="NOT_INSTALLED",MAe="REGISTERED",BAe="REGISTERING",DAe="RELOADING",LAe={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},EB="REGISTRATION_IN_PROGRESS",UAe="FORWARDER_ID",d2t=(function(){function t(e){var r=e===void 0?{}:e,n=r.forwarderOrigin,i=n===void 0?"https://fwd.metamask.io":n,o=r.forwarderMode,a=o===void 0?t.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=a,this.state=t.isMetaMaskInstalled()?NAe:kAe;var s=t._detectBrowser();this.downloadUrl=s?LAe[s]:LAe.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),a===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(EB)==="true"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type==="metamask:reload"?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},t.prototype._onMessageFromForwarder=function(e){return l2t(this,0,void 0,(function(){return u2t(this,(function(r){switch(r.label){case 0:switch(this.state){case DAe:return[3,1];case kAe:return[3,2];case NAe:return[3,3];case BAe:return[3,5];case MAe:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=DAe,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=BAe,[4,t._register()];case 4:return r.sent(),this.state=MAe,e.source.postMessage({type:"metamask:registrationCompleted"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),r.label=8;case 8:return[2]}}))}))},t.prototype.startOnboarding=function(){sessionStorage.setItem(EB,"true"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(EB)==="true"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),t._removeForwarder()),sessionStorage.setItem(EB,"false"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},t._injectForwarder=function(e){var r=document.body,n=document.createElement("iframe");n.setAttribute("height","0"),n.setAttribute("width","0"),n.setAttribute("style","display: none;"),n.setAttribute("src",e),n.setAttribute("id",UAe),r.insertBefore(n,r.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(UAe))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=A_e.parse(window.navigator.userAgent);return e.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},t.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},t})();function f2t(t,{wait:e=!1}){return Ie(this,void 0,void 0,(function*(){return Ee(`[MetamaskInstaller: startInstaller()] wait=${e}`),e&&(yield S_e(1e3)),yield t.checkInstallation()}))}var yee=class{constructor({remote:e,preferDesktop:r,platformManager:n,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=r,this.state.platformManager=n,this.state.debug=i}startDesktopOnboarding(){return(function(){return Ie(this,void 0,void 0,(function*(){Ee("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new d2t().startOnboarding()}))})()}redirectToProperInstall(){return Ie(this,void 0,void 0,(function*(){return(function(e){var r,n;return Ie(this,void 0,void 0,(function*(){let{state:i}=e,o=(r=i.platformManager)===null||r===void 0?void 0:r.getPlatformType();if(Ee(`[MetamaskInstaller: redirectToProperInstall()] platform=${o}`),o===Zs.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(n=i.remote)===null||n===void 0?void 0:n.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(a){throw i.isInstalling=!1,a}return!0}))})(this)}))}checkInstallation(){return Ie(this,void 0,void 0,(function*(){return(function(e){var r;return Ie(this,void 0,void 0,(function*(){let{state:n}=e,i=(r=n.platformManager)===null||r===void 0?void 0:r.isMetaMaskInstalled();return Ee(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())}))})(this)}))}start({wait:e=!1,connectWith:r}){return Ie(this,void 0,void 0,(function*(){this.state.connectWith=r,Ee(`[MetaMaskInstaller: start()] wait=${e}`,r),yield f2t(this,{wait:e})}))}},yD=class{constructor({debug:e,sdkVersion:r}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=r}loadComponent(e){return Ie(this,void 0,void 0,(function*(){if(!this.defined[e]){this.defined[e]=!0;try{let r=yield Promise.resolve().then((function(){return V2t}));console.log("loader",r),r.defineCustomElements()}catch(r){console.error(`Failed to load ${e} modal:`,r)}}}))}renderInstallModal(e){var r;return Ie(this,void 0,void 0,(function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");let n=document.createElement("mm-install-modal");n.link=e.link,n.preferDesktop=e.preferDesktop,n.sdkVersion=(r=e.sdkVersion)!==null&&r!==void 0?r:this.sdkVersion,n.addEventListener("close",(({detail:{shouldTerminate:i}})=>e.onClose(i))),n.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),n.addEventListener("trackAnalytics",(i=>{var o;return(o=e.onAnalyticsEvent)===null||o===void 0?void 0:o.call(e,i.detail)})),e.parentElement.appendChild(n)}))}renderSelectModal(e){var r;return Ie(this,void 0,void 0,(function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");let n=document.createElement("mm-select-modal");n.link=e.link,n.sdkVersion=(r=e.sdkVersion)!==null&&r!==void 0?r:this.sdkVersion,n.preferDesktop=e.preferDesktop,n.addEventListener("close",(({detail:{shouldTerminate:i}})=>e.onClose(i))),n.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(n),setTimeout((()=>this.updateQRCode(e.link)),100)}))}renderPendingModal(e){var r;return Ie(this,void 0,void 0,(function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");let n=document.createElement("mm-pending-modal");n.sdkVersion=(r=e.sdkVersion)!==null&&r!==void 0?r:this.sdkVersion,n.displayOTP=e.displayOTP,n.addEventListener("close",e.onClose),n.addEventListener("updateOTPValue",(({detail:{otpValue:i}})=>e.updateOTPValue(i))),e.onDisconnect&&n.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(n)}))}updateOTPValue(e){let r=()=>{var n;let i=(n=this.containers.pending)===null||n===void 0?void 0:n.querySelector("mm-pending-modal");return!!i&&(i.otpCode=e,!0)};setTimeout((()=>{r()}),800)}updateQRCode(e){var r,n;let i=(r=this.containers.install)===null||r===void 0?void 0:r.querySelector("mm-install-modal");if(i)i.link=e;else{let o=(n=this.containers.select)===null||n===void 0?void 0:n.querySelector("mm-select-modal");o&&(o.link=e)}}unmount(){Object.entries(this.containers).forEach((([e,r])=>{var n;(n=r?.parentNode)===null||n===void 0||n.removeChild(r),this.containers[e]=void 0}))}},p2t=({link:t,debug:e,installer:r,terminate:n,connectWithExtension:i,preferDesktop:o,onAnalyticsEvent:a})=>{let s=null,c=null;Ee("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),Ee(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),Ee(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --ios`),Ee(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --android`),Ee(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${t}"`);let l=u=>{var d;Ee("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",u,c),c?.parentNode&&((d=c.parentNode)===null||d===void 0||d.removeChild(c)),c=null,s=null,u===!0&&n?.()};return{mount:u=>{if(Ee("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",c),c)return c.style.display="block",void(s==null||s.updateQRCode(u));s=new yD({debug:e,sdkVersion:Cg.version}),c=document.createElement("div"),document.body.appendChild(c),window.extension?s.renderSelectModal({parentElement:c,connectWithExtension:()=>{l(),i?.()},onClose:l,link:t,preferDesktop:o!=null&&o}).catch((d=>{console.error(d)})):s.renderInstallModal({parentElement:c,preferDesktop:o!=null&&o,link:t,metaMaskInstaller:r,onClose:l,onAnalyticsEvent:a}).catch((d=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",d)}))},unmount:l}},h2t=({onDisconnect:t,debug:e})=>{let r=null,n=null,i=()=>{Ee("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",r),r?.parentNode&&r.parentNode.removeChild(r),r=null,n=null},o=s=>{Ee("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",s),n&&n.updateOTPValue(s)},a=({displayOTP:s}={displayOTP:!0})=>{Ee("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",r),r?r.style.display="block":(n=new yD({debug:e,sdkVersion:Cg.version}),r=document.createElement("div"),document.body.appendChild(r),n.renderPendingModal({parentElement:r,onClose:i,onDisconnect:t,updateOTPValue:o,displayOTP:s}).catch((c=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",c)})))};return a(),{mount:a,unmount:i,updateOTPValue:o}};function I_e(t,e){var r,n,i,o;t.connector||(Ee("[RemoteConnection: initializeConnector()] initialize connector"),t.connector=new QX({anonId:e.anonId,platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:Cg.version,context:"dapp",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(Ee("[RemoteConnection: initializeConnector()] reset background timer",e.timer),(n=(r=e.timer)===null||r===void 0?void 0:r.stopBackgroundTimer)===null||n===void 0||n.call(r),(o=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||o===void 0||o.call(i,(()=>!1),1e4)))}function gee(t){t.listeners.forEach((({event:e,handler:r})=>{var n;(n=t.connector)===null||n===void 0||n.off(e,r)})),t.listeners=[]}function m2t(t,e,r){return Ie(this,void 0,void 0,(function*(){let n=setTimeout((()=>{vo.analytics.track("sdk_connection_failed",{transport_type:"websocket"})}),6e4);return new Promise(((i,o)=>{if(!t.connector)return void o(new Error("No connector available"));Ee("[RemoteConnection: connectWithModalInstaller()]",{state:t,options:e,linkParams:r});let a=`${t.useDeeplink?V_:$_}?${r}`;(function(s,c,l){var u,d,f,p;s.installModal=(d=(u=c.modals).install)===null||d===void 0?void 0:d.call(u,{link:l,preferDesktop:s.preferDesktop,installer:c.getMetaMaskInstaller(),terminate:()=>{Ee("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),c.sdk.terminate().catch((h=>{console.warn("[MMSDK] failed to terminate connection",h)}))},debug:s.developerMode,connectWithExtension:()=>{var h;return(h=c.connectWithExtensionProvider)===null||h===void 0||h.call(c),!1},onAnalyticsEvent:({event:h,params:b})=>{var _,A,C;let R=Object.assign(Object.assign({},b),{sdkVersion:c.sdk.getVersion(),dappId:(_=c.dappMetadata)===null||_===void 0?void 0:_.name,source:c._source,url:(A=c.dappMetadata)===null||A===void 0?void 0:A.url});(C=s.analytics)===null||C===void 0||C.send({event:h,params:R})}}),(p=(f=s.installModal)===null||f===void 0?void 0:f.mount)===null||p===void 0||p.call(f,l)})(t,e,a),e.sdk.once(Ge.PROVIDER_UPDATE,(s=>Ie(this,void 0,void 0,(function*(){if(Ee("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),s===M1.TERMINATE){let c={code:4001,message:"User rejected the request."};return clearTimeout(n),void o(c)}o(s)})))),t.connector.once(Ge.AUTHORIZED,(()=>{clearTimeout(n),i()})),t.connector.once(Ge.REJECTED,(()=>{clearTimeout(n),o(Ge.REJECTED)})),t.connector.once(Ge.CLIENTS_READY,(()=>Ie(this,void 0,void 0,(function*(){Ee("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(n),i()}))))}))}))}function C_e(t,e){function r(n,i){var o;(o=t.connector)===null||o===void 0||o.on(n,i),t.listeners.push({event:n,handler:i})}t.connector&&(gee(t),r(Ge.WALLET_INIT,(({accounts:n,chainId:i})=>Ie(this,void 0,void 0,(function*(){Ee(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${n} chainId=${i}`);let o=ef.getProvider();o._setConnected();let a={accounts:n,chainId:i,isUnlocked:!1};o._initializeState(a),o.emit("chainChanged",i),o.emit("accountsChanged",n)})))),r(Ge.AUTHORIZED,(()=>Ie(this,void 0,void 0,(function*(){var n,i,o,a;try{Ee("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",t.pendingModal,t.installModal);let s=ef.getProvider();s._setConnected(),(i=(n=t.pendingModal)===null||n===void 0?void 0:n.unmount)===null||i===void 0||i.call(n),(a=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||a===void 0||a.call(o,!1),t.otpAnswer=void 0,t.authorized=!0,Ee("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",s.getState()),yield s.forceInitializeState()}catch{}})))),r(Ge.TERMINATE,(()=>{var n,i,o,a,s;(i=(n=t.pendingModal)===null||n===void 0?void 0:n.unmount)===null||i===void 0||i.call(n),(a=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||a===void 0||a.call(o,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(s=t.connector)===null||s===void 0||s.disconnect({terminate:!0}),t.authorized=!1,ef.getProvider().handleDisconnect({terminate:!0}),gee(t),Ee("[RemoteConnection: setupListeners()] All listeners cleaned up")})))}function b2t(t,e,{initialCheck:r,connectWith:n}={}){var i,o,a,s,c,l,u,d,f,p,h,b,_,A,C,R,M,U,F;return Ie(this,void 0,void 0,(function*(){try{if(I_e(t,e),!t.connector)throw new Error("no connector defined");C_e(t);let z=ef.getProvider();t.authorized=!1,z.emit("connecting");let N=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();Ee(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${r}`,N);let k=(o=N?.channelId)!==null&&o!==void 0?o:"",O=(s=(a=t.connector.getKeyInfo())===null||a===void 0?void 0:a.ecies.public)!==null&&s!==void 0?s:"",w=(l=(c=t.connector.getKeyInfo())===null||c===void 0?void 0:c.ecies.private)!==null&&l!==void 0?l:"";if(r&&!N)return Promise.resolve();if(!N&&!r){let H=yield t.connector.generateChannelIdConnect();k=(u=H.channelId)!==null&&u!==void 0?u:"",O=(d=H.pubKey)!==null&&d!==void 0?d:"",w=(f=H.privKey)!==null&&f!==void 0?f:"";let $=Date.now();(p=t.connector.state.storageManager)===null||p===void 0||p.persistChannelConfig({channelId:k,localKey:w,lastActive:$,validUntil:$+z4})}if(r&&N?.channelId)return!((h=t.connector)===null||h===void 0)&&h.isConnected()||(Ee(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${r}`,N),yield(b=t.connector)===null||b===void 0?void 0:b.connectToChannel({channelId:k})),Promise.resolve();N&&!(!((_=t.connector)===null||_===void 0)&&_.isConnected())&&(Ee("[RemoteConnection: startConnection()] reconnecting to channel",N),yield(A=t.connector)===null||A===void 0?void 0:A.connectToChannel({channelId:k}));let S=!((C=t.platformManager)===null||C===void 0)&&C.isSecure()?"":"&t=q",T=Cg.version,{iconUrl:m,name:y,url:E,scheme:v}=e.dappMetadata||{},x=(R=t.platformManager)===null||R===void 0?void 0:R.getPlatformType(),g="N/A";typeof window<"u"&&window.location&&window.location.hostname?g=window.location.hostname:y!==void 0?g=y:E!==void 0&&(g=E);let P={url:E??"",title:y??"",icon:m,scheme:v??"",apiVersion:T,dappId:g||E||"N/A",anonId:e.anonId,platform:x??"",source:(M=e._source)!==null&&M!==void 0?M:""},B=mD(JSON.stringify(P)),I=`channelId=${k}&v=2&comm=${(U=t.communicationLayerPreference)!==null&&U!==void 0?U:""}&pubkey=${O}${S}&originatorInfo=${B}`;if(n){I+=`&rpc=${mD(JSON.stringify(n))}`;let H=t.connector.getRPCMethodTracker();H&&(H[`${n.id}`]=Object.assign(Object.assign({},n),{id:`${n.id}`,timestamp:Date.now()}))}let L=encodeURI(I),G=`${t.useDeeplink?V_:$_}?${I}`;if(t.qrcodeLink=G,t.developerMode&&Ee(`[RemoteConnection: startConnection()] qrcodeLink=${L}`),z.emit("display_uri",G),vo.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),(F=t.platformManager)===null||F===void 0?void 0:F.isSecure()){let H=setTimeout((()=>{vo.analytics.track("sdk_connection_failed",{transport_type:"websocket"})}),6e4);return yield(function($,K){var W,J;return Ie(this,void 0,void 0,(function*(){let X=`${$_}?${K}`,te=`${V_}?${K}`;(J=(W=$.platformManager)===null||W===void 0?void 0:W.openDeeplink)===null||J===void 0||J.call(W,X,te,"_self")}))})(t,L),new Promise((($,K)=>{var W,J,X;if(!((W=t.connector)===null||W===void 0)&&W.isAuthorized())return clearTimeout(H),void $();(J=t.connector)===null||J===void 0||J.once(Ge.AUTHORIZED,(()=>{clearTimeout(H),$()})),(X=t.connector)===null||X===void 0||X.once(Ge.REJECTED,(()=>{clearTimeout(H),K(Ge.REJECTED)}))}))}return m2t(t,e,L)}catch(z){throw console.error("[startConnection] error",z),z}}))}var wee=class{constructor(e){var r,n,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;let o=((r=e.logging)===null||r===void 0?void 0:r.developerMode)===!0||((n=e.logging)===null||n===void 0?void 0:n.sdk)===!0;this.state.developerMode=o,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=p2t),e.modals.otp||(e.modals.otp=h2t)}startConnection(e){return Ie(this,void 0,void 0,(function*(){return b2t(this.state,this.options,e)}))}initRemoteCommunication({sdkInstance:e}){var r,n,i;return Ie(this,void 0,void 0,(function*(){let o=yield(n=(r=e.options.storage)===null||r===void 0?void 0:r.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();if(!this.options.ecies){let a={privateKey:o?.localKey};this.options.ecies=a}I_e(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),C_e(this.state,this.options)}))}showActiveModal(){return(function(e){var r,n,i,o;e.authorized?Ee("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?(n=(r=e.pendingModal).mount)===null||n===void 0||n.call(r):e.installModal&&((o=(i=e.installModal).mount)===null||o===void 0||o.call(i,e.qrcodeLink||""))})(this.state)}closeModal(){var e,r,n,i;(r=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||r===void 0||r.call(e),(i=(n=this.state.installModal)===null||n===void 0?void 0:n.unmount)===null||i===void 0||i.call(n,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var r,n,i;Ee("[RemoteConnection: disconnect()]",e),e?.terminate&&(ef.getProvider().handleDisconnect({terminate:!0}),(n=(r=this.state.pendingModal)===null||r===void 0?void 0:r.unmount)===null||n===void 0||n.call(r),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),(function(o){Ee("[RemoteConnection: cleanupConnector()] cleaning up connector"),o.connector&&(gee(o),o.connector.disconnect({terminate:!0}).catch((a=>{Ee("[RemoteConnection: cleanupConnector()] error disconnecting connector",a)})))})(this.state)}};function y2t(t){var e,r,n,i,o,a,s,c,l,u,d;return Ie(this,void 0,void 0,(function*(){let{options:f}=t;if(f.logging=(e=f.logging)!==null&&e!==void 0?e:{},f.communicationLayerPreference=(r=f.communicationLayerPreference)!==null&&r!==void 0?r:Ag.SOCKET,f.enableDebug!==void 0&&(e0.default.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),f.enableAnalytics=(n=f.enableAnalytics)===null||n===void 0||n,f.injectProvider=(i=f.injectProvider)===null||i===void 0||i,f.shouldShimWeb3=(o=f.shouldShimWeb3)===null||o===void 0||o,f.extensionOnly=(a=f.extensionOnly)===null||a===void 0||a,f.useDeeplink=(s=f.useDeeplink)===null||s===void 0||s,f.storage=(c=f.storage)!==null&&c!==void 0?c:{enabled:!0},f.headless){(0,e0.default)("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");let C=()=>{},R={install:()=>({mount:C,unmount:C})},M={installer:C};f.modals=R,f.ui=M}let p=((l=f.logging)===null||l===void 0?void 0:l.developerMode)===!0;t.debug=((u=f.logging)===null||u===void 0?void 0:u.sdk)||p,Ee("[MetaMaskSDK: performSDKInitialization()] options",t.options);let h=Object.assign({},f.logging);p&&(h.sdk=!0,h.eciesLayer=!0,h.keyExchangeLayer=!0,h.remoteLayer=!0,h.serviceLayer=!0,h.plaintext=!0),yield(function(C){var R;return Ie(this,void 0,void 0,(function*(){let{options:M}=C;C.platformManager=new pD({useDeepLink:(R=M.useDeeplink)!==null&&R!==void 0&&R,preferredOpenLink:M.openDeeplink,debug:C.debug})}))})(t),yield(function(C){var R,M,U,F,z;return Ie(this,void 0,void 0,(function*(){let{options:N}=C,k=(R=C.platformManager)===null||R===void 0?void 0:R.getPlatformType();C.analytics=new mee({serverUrl:(M=N.communicationServerUrl)!==null&&M!==void 0?M:H4,enabled:N.enableAnalytics,originatorInfo:{url:(U=N.dappMetadata.url)!==null&&U!==void 0?U:"",title:(F=N.dappMetadata.name)!==null&&F!==void 0?F:"",dappId:C.getDappId(),platform:k??"",source:(z=N._source)!==null&&z!==void 0?z:"",anonId:""}})}))})(t),yield(function(C){var R,M,U;return Ie(this,void 0,void 0,(function*(){if(!C.options.enableAnalytics||!(!((R=C.platformManager)===null||R===void 0)&&R.isBrowser())&&!(!((M=C.platformManager)===null||M===void 0)&&M.isReactNative()))return;let F=C.getVersion(),z=C.getDappId(),N=yield C.getAnonId(),k=(U=C.platformManager)===null||U===void 0?void 0:U.getPlatformType(),O=C.options._source;vo.analytics.setGlobalProperty("sdk_version",F),vo.analytics.setGlobalProperty("dapp_id",z),vo.analytics.setGlobalProperty("anon_id",N),vo.analytics.setGlobalProperty("platform",k),vo.analytics.setGlobalProperty("integration_type",O),vo.analytics.enable(),vo.analytics.track("sdk_initialized",{})}))})(t),yield(function(C){var R;return Ie(this,void 0,void 0,(function*(){let{options:M}=C;((R=M.storage)===null||R===void 0?void 0:R.enabled)!==!0||M.storage.storageManager||(M.storage.storageManager=yield T_e(M.storage))}))})(t),yield(function(C){return Ie(this,void 0,void 0,(function*(){let{options:R}=C,M=/^(http|https):\/\/[^\s]*$/;if(R.dappMetadata){R.dappMetadata.iconUrl&&!M.test(R.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),R.dappMetadata.iconUrl=void 0),R.dappMetadata.base64Icon&&R.dappMetadata.base64Icon.length>o2t&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),R.dappMetadata.base64Icon=void 0),R.dappMetadata.url&&!M.test(R.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");let U=i2t();if(U&&!R.dappMetadata.iconUrl&&!R.dappMetadata.base64Icon){let F=`${window.location.protocol}//${window.location.host}${U}`;R.dappMetadata.iconUrl=F}}C.dappMetadata=R.dappMetadata}))})(t),yield s2t(t),yield c2t(t);let{metamaskBrowserExtension:b,preferExtension:_,shouldReturn:A}=yield(function(C){var R,M,U,F;return Ie(this,void 0,void 0,(function*(){let{options:z}=C,N,k=!1,O=!1;if(typeof window<"u"&&window.ethereum&&!(!((R=C.platformManager)===null||R===void 0)&&R.isMetaMaskMobileWebView())){k=localStorage.getItem(hD)==="extension";try{N=yield a2t({mustBeMetaMask:!0,sdkInstance:C}),window.extension=N,N.on(A1.CHAIN_CHANGED,(w=>{Ee(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${w}`),C.sdkProvider&&C.getMobileProvider().emit(A1.CHAIN_CHANGED,w)})),N.on(A1.ACCOUNTS_CHANGED,(w=>Ie(this,void 0,void 0,(function*(){var S;Ee(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${w}`);let T=!!C.sdkProvider,m=!!C.extensionActive;if(T&&C.getMobileProvider().emit(A1.ACCOUNTS_CHANGED,w),m&&w?.length===0&&(yield(S=C.getProvider())===null||S===void 0?void 0:S.request({method:Xt.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield C.terminate()}catch(y){Ee("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",y)}})))),N.on(A1.DISCONNECT,(w=>{Ee(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${w}`),C.sdkProvider&&C.getMobileProvider().emit(A1.DISCONNECT,w)})),N.on(A1.CONNECT,(w=>{Ee(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${w}`),C.sdkProvider&&C.getMobileProvider().emit(A1.CONNECT,w)})),N.on(A1.CONNECTED,(w=>{Ee("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",w),C.sdkProvider&&C.getMobileProvider().emit(A1.CONNECTED,w)}))}catch{window.extension=void 0}}else!((M=C.platformManager)===null||M===void 0)&&M.isMetaMaskMobileWebView()&&((U=C.analytics)===null||U===void 0||U.send({event:zo.SDK_USE_INAPP_BROWSER}),C.activeProvider=bee({provider:window.ethereum,sdkInstance:C}),C._initialized=!0,O=!0);return N&&z.extensionOnly&&(Ee("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(F=C.analytics)===null||F===void 0||F.send({event:zo.SDK_USE_EXTENSION}),C.activeProvider=N,C.extensionActive=!0,C.extension=N,C._initialized=!0,O=!0),{preferExtension:k,shouldReturn:O,metamaskBrowserExtension:N}}))})(t);if(A)Ee("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield(function(C,R){var M,U,F,z,N;return Ie(this,void 0,void 0,(function*(){let{options:k}=C,O=Object.assign({},k.logging);C.remoteConnection=new wee({anonId:yield C.getAnonId(),preferDesktop:(M=k.preferDesktop)!==null&&M!==void 0&&M,communicationLayerPreference:(U=k.communicationLayerPreference)!==null&&U!==void 0?U:Ag.SOCKET,analytics:C.analytics,dappMetadata:k.dappMetadata,_source:k._source,enableAnalytics:(F=k.enableAnalytics)===null||F===void 0||F,timer:k.timer,sdk:C,platformManager:C.platformManager,transports:k.transports,communicationServerUrl:k.communicationServerUrl,storage:(z=k.storage)!==null&&z!==void 0?z:{enabled:!0},getMetaMaskInstaller:()=>{if(!C.installer)throw new Error("Invalid SDK status -- installer not initialized");return C.installer},logging:O,connectWithExtensionProvider:R===void 0?void 0:()=>RAe(C),modals:Object.assign(Object.assign({},k.modals),{onPendingModalDisconnect:C.terminate.bind(C)})}),yield C.remoteConnection.initRemoteCommunication({sdkInstance:C}),C.installer=new yee({remote:C.remoteConnection,preferDesktop:(N=k.preferDesktop)!==null&&N!==void 0&&N,platformManager:C.platformManager,debug:C.debug})}))})(t,b),yield r2t(t),yield(function(C,R){var M,U;return Ie(this,void 0,void 0,(function*(){let{options:F}=C;R?(Ee("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(M=C.analytics)===null||M===void 0||M.send({event:zo.SDK_EXTENSION_UTILIZED}),RAe(C).catch((z=>{console.warn("Can't connect with MetaMask extension...",z),localStorage.removeItem(hD)}))):F.checkInstallationImmediately&&(!((U=C.platformManager)===null||U===void 0)&&U.isDesktopWeb()?(Ee("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),C.connect().catch((z=>{Ee(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${z}`)}))):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),C._initialized=!0}))})(t,_);try{yield(d=t.remoteConnection)===null||d===void 0?void 0:d.startConnection({initialCheck:!0})}catch(C){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",C)}t.emit(Cc.ProviderUpdate,M1.INITIALIZED)}}))}var gD=class extends $4.default{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:IAe,i18nOptions:{enabled:!1}}){var r,n,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",e0.default.disable();let o=((r=e.logging)===null||r===void 0?void 0:r.developerMode)===!0;if((!((n=e.logging)===null||n===void 0)&&n.sdk||o)&&e0.default.enable("MM_SDK"),Ee("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=e.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=IAe),this.init().then((()=>{Ee("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)})).catch((a=>{console.error("[MetaMaskSDK: constructor()] error during initialization",a)}))}init(){return Ie(this,void 0,void 0,(function*(){return(function(e){var r;return Ie(this,void 0,void 0,(function*(){if(typeof window<"u"&&(!((r=window.mmsdk)===null||r===void 0)&&r.isInitialized()))return Ee("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return Ee("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return Ee("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=y2t(e),yield e.sdkInitPromise}catch(n){throw console.error(n),n}return e.sdkInitPromise}))})(this)}))}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<"u"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return Ie(this,void 0,void 0,(function*(){return(function(e){return Ie(this,void 0,void 0,(function*(){if(e._initialized||(Ee("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),Ee(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");let r=e.activeProvider.getSelectedAddress();return r?[r]:e.activeProvider.request({method:Xt.ETH_REQUESTACCOUNTS,params:[]})}))})(this)}))}connectAndSign({msg:e}){return Ie(this,void 0,void 0,(function*(){return Xyt({instance:this,msg:e})}))}connectWith(e){return Ie(this,void 0,void 0,(function*(){return(function({instance:r,rpc:n}){return Ie(this,void 0,void 0,(function*(){if(r._initialized||(Ee("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield r.init()),Ee(`[MetaMaskSDK: connectWith()] method: ${n.method} rpc=${n}`),!r.activeProvider)throw new Error("SDK state invalid -- undefined provider");return r.activeProvider.request({method:Xt.METAMASK_CONNECTWITH,params:[n]})}))})({instance:this,rpc:e})}))}resume(){return(function(e){var r,n,i;return Ie(this,void 0,void 0,(function*(){if(!(!((n=(r=e.remoteConnection)===null||r===void 0?void 0:r.getConnector())===null||n===void 0)&&n.isReady()))return Ee("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());Ee("[MetaMaskSDK: resume()] channel is ready")}))})(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return(function(e){var r,n,i;return Ie(this,void 0,void 0,(function*(){if(!(!((r=e.platformManager)===null||r===void 0)&&r.isMetaMaskMobileWebView())){if(Zyt&&(window.localStorage.removeItem(hD),window.localStorage.removeItem(pee),window.localStorage.removeItem(fee)),e.extensionActive){try{yield(n=e.activeProvider)===null||n===void 0?void 0:n.request({method:Xt.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(o){Ee("[MetaMaskSDK: terminate()] error revoking permissions",o)}return e.options.extensionOnly?(e.emit(Cc.ProviderUpdate,M1.TERMINATE),void Ee("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(Cc.ProviderUpdate,M1.TERMINATE))}e.emit(Cc.ProviderUpdate,M1.TERMINATE),Ee(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}}))})(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;let r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!r)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return r}getChannelId(){var e,r;return(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||r===void 0?void 0:r.channelId}getRPCHistory(){var e,r;return(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0?void 0:r.getRPCMethodTracker()}getVersion(){return Cg.version}getDappId(){var e,r,n,i;return typeof window>"u"||window.location===void 0?(i=(r=(e=this.options.dappMetadata)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:(n=this.options.dappMetadata)===null||n===void 0?void 0:n.url)!==null&&i!==void 0?i:"N/A":window.location.hostname}getAnonId(){var e,r;return Ie(this,void 0,void 0,(function*(){if(this._anonId)return this._anonId;let n;return n=!((e=this.platformManager)===null||e===void 0)&&e.isBrowser()?this.getBrowserAnonId():!((r=this.platformManager)===null||r===void 0)&&r.isReactNative()?yield this.getReactNativeAnonId():Yd(),this._anonId=n,n}))}getBrowserAnonId(){let e=this.ANON_ID_STORAGE_KEY;try{let r=localStorage.getItem(e);if(r)return r;let n=Yd();return localStorage.setItem(e,n),n}catch(r){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",r),Yd()}}getReactNativeAnonId(){return Ie(this,void 0,void 0,(function*(){let e=this.ANON_ID_STORAGE_KEY;try{let r=mO("@react-native-async-storage/async-storage").default,n=yield r.getItem(e);if(n)return n;let i=Yd();return yield r.setItem(e,i),i}catch(r){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",r),Yd()}}))}getWalletStatus(){var e,r;return(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0?void 0:r.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,r;(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0||r.ping()}_keyCheck(){var e,r;(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0||r.keyCheck()}_getServiceStatus(){var e,r;return(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0?void 0:r.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,r;(r=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||r===void 0||r.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,r){return super.emit(e,r)}on(e,r){return super.on(e,r)}},g2t=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return Ie(this,void 0,void 0,(function*(){let e=JSON.stringify(t);Ee(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem(PX,e)}))}getPersistedChannelConfig(){return Ie(this,void 0,void 0,(function*(){let t;try{if(Ee(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem(PX),Ee("[StorageManagerWeb: getPersistedChannelConfig()]",t),!t)return;let e=JSON.parse(t);return Ee("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",e),e}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}}))}persistAccounts(t){return Ie(this,void 0,void 0,(function*(){Ee(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);let e=JSON.stringify(t);localStorage.setItem(fee,e)}))}getCachedAccounts(){return Ie(this,void 0,void 0,(function*(){try{let t=localStorage.getItem(fee);return t?JSON.parse(t):[]}catch(t){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",t),t}}))}persistChainId(t){return Ie(this,void 0,void 0,(function*(){Ee(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(pee,t)}))}getCachedChainId(){return Ie(this,void 0,void 0,(function*(){try{let t=localStorage.getItem(pee);return t??void 0}catch(t){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",t),t}}))}terminate(){return Ie(this,void 0,void 0,(function*(){Ee(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(PX)}))}}}),w2t="hydrated",v2t=!1,E2t=!1,x2t=!0,A2t=Object.defineProperty,Qee=new WeakMap,km=t=>Qee.get(t),Zee=(t,e)=>Qee.set(e.$lazyInstance$=t,e),FAe=(t,e)=>e in t,Eg=(t,e)=>(0,console.error)(t,e),OX=new Map,LB=new Map,R_e="slot-fb{display:contents}slot-fb[hidden]{display:none}",ID=typeof window<"u"?window:{},N1=ID.document||{head:{}},fs={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,r,n)=>t.addEventListener(e,r,n),rel:(t,e,r,n)=>t.removeEventListener(e,r,n),ce:(t,e)=>new CustomEvent(t,e)},P_e=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),vee=!1,HAe=[],O_e=[],T2t=(t,e)=>r=>{t.push(r),vee||(vee=!0,4&fs.$flags$?Xee(Eee):fs.raf(Eee))},zAe=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(r){Eg(r)}t.length=0},Eee=()=>{zAe(HAe),zAe(O_e),(vee=HAe.length>0)&&fs.raf(Eee)},Xee=t=>(e=>Promise.resolve(e))().then(t),_2t=T2t(O_e),GAe={},ete=t=>(t=typeof t)=="object"||t==="function";function N_e(t){var e,r,n;return(n=(r=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:r.getAttribute("content"))!=null?n:void 0}((t,e)=>{for(var r in e)A2t(t,r,{get:e[r],enumerable:!0})})({},{err:()=>k_e,map:()=>S2t,ok:()=>xee,unwrap:()=>I2t,unwrapErr:()=>C2t});var xee=t=>({isOk:!0,isErr:!1,value:t}),k_e=t=>({isOk:!1,isErr:!0,value:t});function S2t(t,e){if(t.isOk){let r=e(t.value);return r instanceof Promise?r.then((n=>xee(n))):xee(r)}if(t.isErr){let r=t.value;return k_e(r)}throw"should never get here"}var UB,tte,I2t=t=>{if(t.isOk)return t.value;throw t.value},C2t=t=>{if(t.isErr)return t.value;throw t.value},Te=(t,e,...r)=>{let n=null,i=!1,o=!1,a=[],s=l=>{for(let u=0;u<l.length;u++)n=l[u],Array.isArray(n)?s(n):n!=null&&typeof n!="boolean"&&((i=typeof t!="function"&&!ete(n))&&(n=String(n)),i&&o?a[a.length-1].$text$+=n:a.push(i?wD(null,n):n),o=i)};if(s(r),e){let l=e.className||e.class;l&&(e.class=typeof l!="object"?l:Object.keys(l).filter((u=>l[u])).join(" "))}if(typeof t=="function")return t(e===null?{}:e,a,P2t);let c=wD(t,null);return c.$attrs$=e,a.length>0&&(c.$children$=a),c},wD=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),R2t={},P2t={forEach:(t,e)=>t.map(jAe).forEach(e),map:(t,e)=>t.map(jAe).map(e).map(O2t)},jAe=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),O2t=t=>{if(typeof t.vtag=="function"){let r={...t.vattrs};return t.vkey&&(r.key=t.vkey),t.vname&&(r.name=t.vname),Te(t.vtag,r,...t.vchildren||[])}let e=wD(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},CD=t=>km(t).$hostElement$,Bm=(t,e,r)=>{let n=CD(t);return{emit:i=>M_e(n,e,{bubbles:!!(4&r),composed:!!(2&r),cancelable:!!(1&r),detail:i})}},M_e=(t,e,r)=>{let n=fs.ce(e,r);return t.dispatchEvent(n),n},$Ae=new WeakMap,N2t=t=>{let e=t.$cmpMeta$,r=t.$hostElement$,n=e.$flags$,i=(e.$tagName$,()=>{}),o=((a,s,c)=>{var l;let u=B_e(s),d=LB.get(u);if(a=a.nodeType===11?a:N1,d)if(typeof d=="string"){a=a.head||a;let f,p=$Ae.get(a);if(p||$Ae.set(a,p=new Set),!p.has(u)){{f=N1.createElement("style"),f.innerHTML=d;let h=(l=fs.$nonce$)!=null?l:N_e(N1);if(h!=null&&f.setAttribute("nonce",h),!(1&s.$flags$))if(a.nodeName==="HEAD"){let b=a.querySelectorAll("link[rel=preconnect]"),_=b.length>0?b[b.length-1].nextSibling:a.querySelector("style");a.insertBefore(f,_)}else if("host"in a)if(P_e){let b=new CSSStyleSheet;b.replaceSync(d),a.adoptedStyleSheets=[b,...a.adoptedStyleSheets]}else{let b=a.querySelector("style");b?b.innerHTML=d+b.innerHTML:a.prepend(f)}else a.append(f);1&s.$flags$&&a.nodeName!=="HEAD"&&a.insertBefore(f,null)}4&s.$flags$&&(f.innerHTML+=R_e),p&&p.add(u)}}else a.adoptedStyleSheets.includes(d)||(a.adoptedStyleSheets=[...a.adoptedStyleSheets,d]);return u})(r.shadowRoot?r.shadowRoot:r.getRootNode(),e);10&n&&2&n&&(r["s-sc"]=o,r.classList.add(o+"-h")),i()},B_e=(t,e)=>"sc-"+t.$tagName$,VAe=(t,e,r,n,i,o)=>{if(r!==n){let a=FAe(t,e),s=e.toLowerCase();if(e==="class"){let c=t.classList,l=KAe(r),u=KAe(n);c.remove(...l.filter((d=>d&&!u.includes(d)))),c.add(...u.filter((d=>d&&!l.includes(d))))}else if(e==="style"){for(let c in r)n&&n[c]!=null||(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(let c in n)r&&n[c]===r[c]||(c.includes("-")?t.style.setProperty(c,n[c]):t.style[c]=n[c])}else if(a||e[0]!=="o"||e[1]!=="n"){let c=ete(n);if((a||c&&n!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=n;else{let l=n??"";e==="list"?a=!1:r!=null&&t[e]==l||(typeof t.__lookupSetter__(e)=="function"?t[e]=l:t.setAttribute(e,l))}}catch{}n==null||n===!1?n===!1&&t.getAttribute(e)!==""||t.removeAttribute(e):(!a||4&o||i)&&!c&&(n=n===!0?"":n,t.setAttribute(e,n))}else if(e=e[2]==="-"?e.slice(3):FAe(ID,s)?s.slice(2):s[2]+e.slice(3),r||n){let c=e.endsWith(D_e);e=e.replace(M2t,""),r&&fs.rel(t,e,r,c),n&&fs.ael(t,e,n,c)}}},k2t=/\s/,KAe=t=>t?t.split(k2t):[],D_e="Capture",M2t=new RegExp(D_e+"$"),L_e=(t,e,r)=>{let n=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||GAe,o=e.$attrs$||GAe;for(let a of qAe(Object.keys(i)))a in o||VAe(n,a,i[a],void 0,r,e.$flags$);for(let a of qAe(Object.keys(o)))VAe(n,a,i[a],o[a],r,e.$flags$)};function qAe(t){return t.includes("ref")?[...t.filter((e=>e!=="ref")),"ref"]:t}var U_e=!1,zu=!1,rte=(t,e,r,n)=>{let i=e.$children$[r],o,a,s=0;if(i.$text$!==null)o=i.$elm$=N1.createTextNode(i.$text$);else{if(zu||(zu=i.$tag$==="svg"),o=i.$elm$=N1.createElementNS(zu?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!U_e&&E2t&&2&i.$flags$?"slot-fb":i.$tag$),zu&&i.$tag$==="foreignObject"&&(zu=!1),L_e(null,i,zu),o.getRootNode().querySelector("body")&&v2t&&(c=>c!=null)(UB)&&o["s-si"]!==UB&&o.classList.add(o["s-si"]=UB),i.$children$)for(s=0;s<i.$children$.length;++s)a=rte(t,i,s),a&&o.appendChild(a);i.$tag$==="svg"?zu=!1:o.tagName==="foreignObject"&&(zu=!0)}return o["s-hn"]=tte,o},WAe=(t,e,r,n,i,o)=>{let a,s=t;for(s.shadowRoot&&s.tagName===tte&&(s=s.shadowRoot);i<=o;++i)n[i]&&(a=rte(null,r,i),a&&(n[i].$elm$=a,FB(s,a,e)))},YAe=(t,e,r)=>{for(let n=e;n<=r;++n){let i=t[n];if(i){let o=i.$elm$;o&&o.remove()}}},xB=(t,e,r=!1)=>t.$tag$===e.$tag$,E_=(t,e,r=!1)=>{let n=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,a=e.$tag$,s=e.$text$;s===null?(L_e(t,e,zu=a==="svg"||a!=="foreignObject"&&zu),i!==null&&o!==null?((c,l,u,d,f=!1)=>{let p,h=0,b=0,_=l.length-1,A=l[0],C=l[_],R=d.length-1,M=d[0],U=d[R];for(;h<=_&&b<=R;)A==null?A=l[++h]:C==null?C=l[--_]:M==null?M=d[++b]:U==null?U=d[--R]:xB(A,M,f)?(E_(A,M,f),A=l[++h],M=d[++b]):xB(C,U,f)?(E_(C,U,f),C=l[--_],U=d[--R]):xB(A,U,f)?(E_(A,U,f),FB(c,A.$elm$,C.$elm$.nextSibling),A=l[++h],U=d[--R]):xB(C,M,f)?(E_(C,M,f),FB(c,C.$elm$,A.$elm$),C=l[--_],M=d[++b]):(p=rte(l&&l[b],u,b),M=d[++b],p&&FB(A.$elm$.parentNode,p,A.$elm$));h>_?WAe(c,d[R+1]==null?null:d[R+1].$elm$,u,d,b,R):b>R&&YAe(l,h,_)})(n,i,e,o,r):o!==null?(t.$text$!==null&&(n.textContent=""),WAe(n,null,e,o,0,o.length-1)):!r&&x2t&&i!==null&&YAe(i,0,i.length-1),zu&&a==="svg"&&(zu=!1)):t.$text$!==s&&(n.data=s)},FB=(t,e,r)=>t?.insertBefore(e,r),B2t=(t,e,r=!1)=>{let n=t.$hostElement$,i=t.$cmpMeta$,o=t.$vnode$||wD(null,null),a=(s=e)&&s.$tag$===R2t?e:Te(null,null,e);var s;if(tte=n.tagName,r&&a.$attrs$)for(let c of Object.keys(a.$attrs$))n.hasAttribute(c)&&!["key","ref","style","class"].includes(c)&&(a.$attrs$[c]=n[c]);a.$tag$=null,a.$flags$|=4,t.$vnode$=a,a.$elm$=o.$elm$=n.shadowRoot||n,UB=n["s-sc"],U_e=(1&i.$flags$)!=0,E_(o,a,r)},F_e=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((r=>t.$onRenderResolve$=r)))},nte=(t,e)=>(t.$flags$|=16,4&t.$flags$?void(t.$flags$|=512):(F_e(t,t.$ancestorComponent$),_2t((()=>D2t(t,e))))),D2t=(t,e)=>{let r=t.$hostElement$,n=(t.$cmpMeta$.$tagName$,()=>{}),i=t.$lazyInstance$;if(!i)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return n(),L2t(void 0,(()=>F2t(t,i,e)))},L2t=(t,e)=>U2t(t)?t.then(e).catch((r=>{console.error(r),e()})):e(),U2t=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",F2t=async(t,e,r)=>{var n;let i=t.$hostElement$,o=(t.$cmpMeta$.$tagName$,()=>{}),a=i["s-rc"];r&&N2t(t);let s=(t.$cmpMeta$.$tagName$,()=>{});H2t(t,e,i,r),a&&(a.map((c=>c())),i["s-rc"]=void 0),s(),o();{let c=(n=i["s-p"])!=null?n:[],l=()=>z2t(t);c.length===0?l():(Promise.all(c).then(l),t.$flags$|=4,c.length=0)}},H2t=(t,e,r,n)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,B2t(t,e,n)}catch(i){Eg(i,t.$hostElement$)}return null},z2t=t=>{t.$cmpMeta$.$tagName$;let e=t.$hostElement$,r=()=>{},n=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?r():(t.$flags$|=64,z_e(e),ite(n,"componentDidLoad"),r(),t.$onReadyResolve$(e),i||H_e()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&Xee((()=>nte(t,!1))),t.$flags$&=-517},H_e=t=>{z_e(N1.documentElement),Xee((()=>M_e(ID,"appload",{detail:{namespace:"sdk-install-modal-web"}})))},ite=(t,e,r)=>{if(t&&t[e])try{return t[e](r)}catch(n){Eg(n)}},z_e=t=>{var e;return t.classList.add((e=w2t)!=null?e:"hydrated")},G2t=(t,e,r,n)=>{let i=km(t);if(!i)throw new Error(`Couldn't find host element for "${n.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);let o=i.$hostElement$,a=i.$instanceValues$.get(e),s=i.$flags$,c=i.$lazyInstance$;var l,u;l=r,u=n.$members$[e][0],r=l==null||ete(l)?l:4&u?l!=="false"&&(l===""||!!l):1&u?String(l):l;let d=Number.isNaN(a)&&Number.isNaN(r);if((!(8&s)||a===void 0)&&r!==a&&!d&&(i.$instanceValues$.set(e,r),c)){if(n.$watchers$&&128&s){let f=n.$watchers$[e];f&&f.map((p=>{try{c[p](r,a,e)}catch(h){Eg(h,o)}}))}(18&s)==2&&nte(i,!1)}},G_e=(t,e,r)=>{var n,i;let o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);let a=Object.entries((n=e.$members$)!=null?n:{});if(a.map((([s,[c]])=>{(31&c||2&r&&32&c)&&Object.defineProperty(o,s,{get(){return l=s,km(this).$instanceValues$.get(l);var l},set(l){G2t(this,s,l,e)},configurable:!0,enumerable:!0})})),1&r){let s=new Map;o.attributeChangedCallback=function(c,l,u){fs.jmp((()=>{var d;let f=s.get(c);if(this.hasOwnProperty(f))u=this[f],delete this[f];else{if(o.hasOwnProperty(f)&&typeof this[f]=="number"&&this[f]==u)return;if(f==null){let p=km(this),h=p?.$flags$;if(h&&!(8&h)&&128&h&&u!==l){let b=p.$lazyInstance$,_=(d=e.$watchers$)==null?void 0:d[c];_?.forEach((A=>{b[A]!=null&&b[A].call(b,u,l,c)}))}return}}this[f]=(u!==null||typeof this[f]!="boolean")&&u}))},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...a.filter((([c,l])=>15&l[0])).map((([c,l])=>{let u=l[1]||c;return s.set(u,c),u}))]))}}return t},j2t=async(t,e,r,n)=>{let i;if((32&e.$flags$)==0){if(e.$flags$|=32,r.$lazyBundleId$){let s=((l,u,d)=>{let f=l.$tagName$.replace(/-/g,"_"),p=l.$lazyBundleId$;if(!p)return;let h=OX.get(p);if(h)return h[f];{let b=_=>(OX.set(p,_),_[f]);if(p==="mm-install-modal_3")return Promise.resolve().then((function(){return igt})).then(b,Eg)}return pmt(`./${p}.entry.js`).then((b=>(OX.set(p,b),b[f])),Eg)})(r);if(s&&"then"in s){let l=()=>{};i=await s,l()}else i=s;if(!i)throw new Error(`Constructor for "${r.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(r.$watchers$=i.watchers,G_e(i,r,2),i.isProxied=!0);let c=(r.$tagName$,()=>{});e.$flags$|=8;try{new i(e)}catch(l){Eg(l)}e.$flags$&=-9,e.$flags$|=128,c(),Aee(e.$lazyInstance$)}else{i=t.constructor;let s=t.localName;customElements.whenDefined(s).then((()=>e.$flags$|=128))}if(i&&i.style){let s;typeof i.style=="string"&&(s=i.style);let c=B_e(r);if(!LB.has(c)){let l=(r.$tagName$,()=>{});((u,d,f)=>{let p=LB.get(u);P_e&&f?(p=p||new CSSStyleSheet,typeof p=="string"?p=d:p.replaceSync(d)):p=d,LB.set(u,p)})(c,s,!!(1&r.$flags$)),l()}}}let o=e.$ancestorComponent$,a=()=>nte(e,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()},Aee=t=>{ite(t,"connectedCallback")},JAe=t=>{ite(t,"disconnectedCallback")},$2t=(t,e={})=>{var r;let n=()=>{},i=[],o=e.exclude||[],a=ID.customElements,s=N1.head,c=s.querySelector("meta[charset]"),l=N1.createElement("style"),u=[],d,f=!0;Object.assign(fs,e),fs.$resourcesUrl$=new URL(e.resourcesUrl||"./",N1.baseURI).href;let p=!1;if(t.map((h=>{h[1].map((b=>{var _;let A={$flags$:b[0],$tagName$:b[1],$members$:b[2],$listeners$:b[3]};4&A.$flags$&&(p=!0),A.$members$=b[2],A.$watchers$=(_=b[4])!=null?_:{};let C=A.$tagName$,R=class extends HTMLElement{constructor(M){if(super(M),this.hasRegisteredEventListeners=!1,((U,F)=>{let z={$flags$:0,$hostElement$:U,$cmpMeta$:F,$instanceValues$:new Map};z.$onReadyPromise$=new Promise((N=>z.$onReadyResolve$=N)),U["s-p"]=[],U["s-rc"]=[],Qee.set(U,z)})(M=this,A),1&A.$flags$)if(M.shadowRoot){if(M.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${A.$tagName$}! Mode is set to ${M.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else M.attachShadow({mode:"open"})}connectedCallback(){km(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),d&&(clearTimeout(d),d=null),f?u.push(this):fs.jmp((()=>(M=>{if((1&fs.$flags$)==0){let U=km(M),F=U.$cmpMeta$,z=(F.$tagName$,()=>{});if(1&U.$flags$)U?.$lazyInstance$?Aee(U.$lazyInstance$):U?.$onReadyPromise$&&U.$onReadyPromise$.then((()=>Aee(U.$lazyInstance$)));else{U.$flags$|=1;{let N=M;for(;N=N.parentNode||N.host;)if(N["s-p"]){F_e(U,U.$ancestorComponent$=N);break}}F.$members$&&Object.entries(F.$members$).map((([N,[k]])=>{if(31&k&&M.hasOwnProperty(N)){let O=M[N];delete M[N],M[N]=O}})),j2t(M,U,F)}z()}})(this)))}disconnectedCallback(){fs.jmp((()=>(async M=>{if((1&fs.$flags$)==0){let U=km(M);U?.$lazyInstance$?JAe(U.$lazyInstance$):U?.$onReadyPromise$&&U.$onReadyPromise$.then((()=>JAe(U.$lazyInstance$)))}})(this)))}componentOnReady(){return km(this).$onReadyPromise$}};A.$lazyBundleId$=h[0],o.includes(C)||a.get(C)||(i.push(C),a.define(C,G_e(R,A,1)))}))})),i.length>0&&(p&&(l.textContent+=R_e),l.textContent+=i.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",l.innerHTML.length)){l.setAttribute("data-styles","");let h=(r=fs.$nonce$)!=null?r:N_e(N1);h!=null&&l.setAttribute("nonce",h),s.insertBefore(l,c?c.nextSibling:s.firstChild)}f=!1,u.length?u.map((h=>h.connectedCallback())):fs.jmp((()=>d=setTimeout(H_e,30))),n()};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var V2t=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<"u")return await void 0,$2t([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],e)},setNonce:t=>fs.$nonce$=t}),K2t={fontFamily:"Roboto, sans-serif"},ote=({className:t},e)=>Te("div",{style:K2t,class:t},e),NX=({Icon:t,text:e})=>Te("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},Te("div",{class:"flexItem1"},Te(t,null)),Te("div",{class:"flexItem11"},Te("span",{style:{lineHeight:"2",color:"black"}},e))),q2t=()=>Te("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),Te("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),W2t=()=>Te("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),Y2t=()=>Te("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),J2t=()=>Te("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Te("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Te("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function ate({version:t}){return Te("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",t?`v${t}`:"unknown")}var ste=()=>Te("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te("rect",{width:"16",height:"16",fill:"white"}),Te("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),cte=()=>Te("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},Te("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function hg(t,e){return t.toString(2).padStart(e,"0")}function QAe(t,e){let r=t%e;return r>=0?r:e+r}function Sl(t,e){return new Array(t).fill(e)}function ZAe(...t){let e=0;for(let n of t)e=Math.max(e,n.length);let r=[];for(let n=0;n<e;n++)for(let i of t)n>=i.length||r.push(i[n]);return new Uint8Array(r)}function XAe(t,e,r){if(r<0||r+e.length>t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[r+n])return!1;return!0}function eTe(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map((r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n}))},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map((r=>{if((function(n){if(!Number.isSafeInteger(n))throw new Error(`Wrong integer: ${n}`)})(r),r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]}))}}}var P_=class t{static size(e,r){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return r!==void 0&&(e={width:Math.min(e.width,r.width),height:Math.min(e.height,r.height)}),e}static fromString(e){let r=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),n=r.length,i=new Array(n),o;for(let a of r){let s=a.split("").map((c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)}));if(o&&s.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${s.length}`);o=s.length,i.push(s)}return o||(o=0),new t({height:n,width:o},i)}constructor(e,r){let{height:n,width:i}=t.size(e);this.data=r||Array.from({length:n},(()=>Sl(i,void 0))),this.height=n,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};let{x:r,y:n}=this.xy(e);return{height:this.height-n,width:this.width-r}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=QAe(e.x,this.width),e.y=QAe(e.y,this.height),e}rect(e,r,n){let{x:i,y:o}=this.xy(e),{height:a,width:s}=t.size(r,this.size({x:i,y:o}));for(let c=0;c<a;c++)for(let l=0;l<s;l++)this.data[o+c][i+l]=typeof n=="function"?n({x:l,y:c},this.data[o+c][i+l]):n;return this}rectRead(e,r,n){return this.rect(e,r,((i,o)=>(n(i,o),o)))}hLine(e,r,n){return this.rect(e,{width:r,height:1},n)}vLine(e,r,n){return this.rect(e,{width:1,height:r},n)}border(e=2,r){let n=this.height+2*e,i=this.width+2*e,o=Sl(e,r),a=Array.from({length:e},(()=>Sl(i,r)));return new t({height:n,width:i},[...a,...this.data.map((s=>[...o,...s,...o])),...a])}embed(e,r){return this.rect(e,r.size(),(({x:n,y:i})=>r.data[i][n]))}rectSlice(e,r=this.size()){let n=new t(t.size(r,this.size(this.xy(e))));return this.rect(e,r,(({x:i,y:o},a)=>n.data[o][i]=a)),n}inverse(){let{height:e,width:r}=this;return new t({height:r,width:e}).rect({x:0,y:0},1/0,(({x:n,y:i})=>this.data[n][i]))}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);let{height:r,width:n}=this;return new t({height:e*r,width:e*n}).rect({x:0,y:0},1/0,(({x:i,y:o})=>this.data[Math.floor(o/e)][Math.floor(i/e)]))}clone(){return new t(this.size()).rect({x:0,y:0},this.size(),(({x:e,y:r})=>this.data[r][e]))}assertDrawn(){this.rectRead(0,1/0,((e,r)=>{if(typeof r!="boolean")throw new Error("Invalid color type="+typeof r)}))}toString(){return this.data.map((e=>e.map((r=>r===void 0?"?":r?"X":" ")).join(""))).join(`
`)}toASCII(){let{height:e,width:r,data:n}=this,i="";for(let o=0;o<e;o+=2){for(let a=0;a<r;a++){let s=n[o][a],c=o+1>=e||n[o+1][a];s||c?!s&&c?i+="\u2580":s&&!c?i+="\u2584":s&&c&&(i+=" "):i+="\u2588"}i+=`
`}return i}toTerm(){let e="\x1B[0m",r=`\x1B[1;47m  ${e}`,n=`\x1B[40m  ${e}`;return this.data.map((i=>i.map((o=>o?n:r)).join(""))).join(`
`)}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,(({x:r,y:n},i)=>{i&&(e+=`<rect x="${r}" y="${n}" width="1" height="1" />`)})),e+="</svg>",e}toGIF(){let e=s=>[255&s,s>>>8&255],r=[...e(this.width),...e(this.height)],n=[];this.rectRead(0,1/0,((s,c)=>n.push(+(c===!0))));let i=126,o=[71,73,70,56,55,97,...r,246,0,0,255,255,255,...Sl(381,0),44,0,0,0,0,...r,0,7],a=Math.floor(n.length/i);for(let s=0;s<a;s++)o.push(127,128,...n.slice(i*s,i*(s+1)).map((c=>+c)));return o.push(n.length%i+1,128,...n.slice(a*i).map((s=>+s))),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){let{height:r,width:n}=this.size(),i=new Uint8Array(r*n*(e?3:4)),o=0;for(let a=0;a<r;a++)for(let s=0;s<n;s++){let c=this.data[a][s]?0:255;i[o++]=c,i[o++]=c,i[o++]=c,e||(i[o++]=255)}return{height:r,width:n,data:i}}},tTe=["low","medium","quartile","high"],rTe=["numeric","alphanumeric","byte","kanji","eci"],Q2t=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Z2t={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},X2t={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Xs={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];let e=Xs.size.encode(t)-6-1,r=e-6,n=Math.ceil(r/28),i=Math.floor(r/n);i%2?i+=1:r%n*2>=n&&(i+=2);let o=[6];for(let a=1;a<n;a++)o.push(e-(n-a)*i);return o.push(e),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){let r=Xs.ECCode[t]<<3|e,n=r;for(let i=0;i<10;i++)n=n<<1^1335*(n>>9);return(r<<10|n)^Xs.formatMask},versionBits(t){let e=t;for(let r=0;r<12;r++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:eTe("0123456789"),alphanumerc:eTe("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][Xs.sizeType(t)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){let r=Q2t[t-1],n=Z2t[e][t-1],i=X2t[e][t-1],o=Math.floor(r/i)-n,a=i-r%i;return{words:n,numBlocks:i,shortBlocks:a,blockLen:o,capacity:8*(r-n*i),total:(n+o)*i+i-a}}},Tee=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],Nt={tables:(t=>{let e=Sl(256,0),r=Sl(256,0);for(let n=0,i=1;n<256;n++)e[n]=i,r[i]=n,i<<=1,256&i&&(i^=285);return{exp:e,log:r}})(),exp:t=>Nt.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return Nt.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:Nt.tables.exp[(Nt.tables.log[t]+Nt.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>Nt.tables.exp[Nt.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return Nt.tables.exp[255-Nt.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: wrong length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let r=Sl(t+1,0);return r[0]=e,Nt.polynomial(r)},degree:t=>t.length-1,coefficient:(t,e)=>t[Nt.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];let r=Sl(t.length+e.length-1,0);for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[n+i]=Nt.add(r[n+i],Nt.mul(t[n],e[i]));return Nt.polynomial(r)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;let r=Sl(t.length,0);for(let n=0;n<t.length;n++)r[n]=Nt.mul(t[n],e);return Nt.polynomial(r)},mulPolyMonomial(t,e,r){if(e<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(r==0)return[0];let n=Sl(t.length+e,0);for(let i=0;i<t.length;i++)n[i]=Nt.mul(t[i],r);return Nt.polynomial(n)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let r=t,n=e;r.length>n.length&&([r,n]=[n,r]);let i=Sl(n.length,0),o=n.length-r.length,a=n.slice(0,o);for(let s=0;s<a.length;s++)i[s]=a[s];for(let s=o;s<n.length;s++)i[s]=Nt.add(r[s-o],n[s]);return Nt.polynomial(i)},remainderPoly(t,e){let r=Array.from(t);for(let n=0;n<t.length-e.length+1;n++){let i=r[n];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(r[n+o]=Nt.add(r[n+o],Nt.mul(e[o],i)))}return r.slice(t.length-e.length+1,r.length)},divisorPoly(t){let e=[1];for(let r=0;r<t;r++)e=Nt.mulPoly(e,[1,Nt.pow(2,r)]);return e},evalPoly(t,e){if(e==0)return Nt.coefficient(t,0);let r=t[0];for(let n=1;n<t.length;n++)r=Nt.add(Nt.mul(e,r),t[n]);return r},euclidian(t,e,r){Nt.degree(t)<Nt.degree(e)&&([t,e]=[e,t]);let n=t,i=e,o=[0],a=[1];for(;2*Nt.degree(i)>=r;){let l=n,u=o;if(n=i,o=a,n[0]===0)throw new Error("rLast[0] === 0");i=l;let d=[0],f=Nt.inv(n[0]);for(;Nt.degree(i)>=Nt.degree(n)&&i[0]!==0;){let p=Nt.degree(i)-Nt.degree(n),h=Nt.mul(i[0],f);d=Nt.addPoly(d,Nt.monomial(p,h)),i=Nt.addPoly(i,Nt.mulPolyMonomial(n,p,h))}if(d=Nt.mulPoly(d,o),a=Nt.addPoly(d,u),Nt.degree(i)>=Nt.degree(n))throw new Error(`Division failed r: ${i}, rLast: ${n}`)}let s=Nt.coefficient(a,0);if(s==0)throw new Error("sigmaTilde(0) was zero");let c=Nt.inv(s);return[Nt.mulPolyScalar(a,c),Nt.mulPolyScalar(i,c)]}};function egt(t,e){let{words:r,shortBlocks:n,numBlocks:i,blockLen:o,total:a}=Xs.capacity(t,e),s=(c=r,{encode(l){let u=Nt.divisorPoly(c),d=Array.from(l);return d.push(...u.slice(0,-1).fill(0)),Uint8Array.from(Nt.remainderPoly(d,u))},decode(l){let u=l.slice(),d=Nt.polynomial(Array.from(l)),f=Sl(c,0),p=!1;for(let R=0;R<c;R++){let M=Nt.evalPoly(d,Nt.exp(R));f[f.length-1-R]=M,M!==0&&(p=!0)}if(!p)return u;f=Nt.polynomial(f);let h=Nt.monomial(c,1),[b,_]=Nt.euclidian(h,f,c),A=Sl(Nt.degree(b),0),C=0;for(let R=1;R<256&&C<A.length;R++)Nt.evalPoly(b,R)===0&&(A[C++]=Nt.inv(R));if(C!==A.length)throw new Error("RS.decode: wrong errors number");for(let R=0;R<A.length;R++){let M=u.length-1-Nt.log(A[R]);if(M<0)throw new Error("RS.decode: wrong error location");let U=Nt.inv(A[R]),F=1;for(let z=0;z<A.length;z++)R!==z&&(F=Nt.mul(F,Nt.add(1,Nt.mul(A[z],U))));u[M]=Nt.add(u[M],Nt.mul(Nt.evalPoly(_,U),Nt.inv(F)))}return u}});var c;return{encode(l){let u=[],d=[];for(let b=0;b<i;b++){let _=o+(b<n?0:1);u.push(l.subarray(0,_)),d.push(s.encode(l.subarray(0,_))),l=l.subarray(_)}let f=ZAe(...u),p=ZAe(...d),h=new Uint8Array(f.length+p.length);return h.set(f),h.set(p,f.length),h},decode(l){if(l.length!==a)throw new Error(`interleave.decode: len(data)=${l.length}, total=${a}`);let u=[];for(let p=0;p<i;p++){let h=p<n;u.push(new Uint8Array(r+o+(h?0:1)))}let d=0;for(let p=0;p<o;p++)for(let h=0;h<i;h++)u[h][p]=l[d++];for(let p=n;p<i;p++)u[p][o]=l[d++];for(let p=o;p<o+r;p++)for(let h=0;h<i;h++){let b=h<n;u[h][p+(b?0:1)]=l[d++]}let f=[];for(let p of u)f.push(...Array.from(s.decode(p)).slice(0,-r));return Uint8Array.from(f)}}}function nTe(t,e,r,n){let i="",o=r.length;if(n==="numeric"){let d=Xs.alphabet.numeric.decode(r.split("")),f=d.length;for(let p=0;p<f-2;p+=3)i+=hg(100*d[p]+10*d[p+1]+d[p+2],10);f%3==1?i+=hg(d[f-1],4):f%3==2&&(i+=hg(10*d[f-2]+d[f-1],7))}else if(n==="alphanumeric"){let d=Xs.alphabet.alphanumerc.decode(r.split("")),f=d.length;for(let p=0;p<f-1;p+=2)i+=hg(45*d[p]+d[p+1],11);f%2==1&&(i+=hg(d[f-1],6))}else{if(n!=="byte")throw new Error("encode: unsupported type");{let d=(function(f){if(typeof f!="string")throw new Error("utf8ToBytes expected string, got "+typeof f);return new Uint8Array(new TextEncoder().encode(f))})(r);o=d.length,i=Array.from(d).map((f=>hg(f,8))).join("")}}let{capacity:a}=Xs.capacity(t,e),s=hg(o,Xs.lengthBits(t,n)),c=Xs.modeBits[n]+s+i;if(c.length>a)throw new Error("Capacity overflow");c+="0".repeat(Math.min(4,Math.max(0,a-c.length))),c.length%8&&(c+="0".repeat(8-c.length%8));let l="1110110000010001";for(let d=0;c.length!==a;d++)c+=l[d%16];let u=Uint8Array.from(c.match(/(.{8})/g).map((d=>+`0b${d}`)));return egt(t,e).encode(u)}function iTe(t,e,r,n,i=!1){let o=(function(c,l,u,d=!1){let f=Xs.size.encode(c),p=new P_(f+2),h=new P_(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);p=p.embed(0,h).embed({x:-h.width,y:0},h).embed({x:0,y:-h.height},h),p=p.rectSlice(1,f);let b=new P_(1).rect(0,1,!0).border(1,!1).border(1,!0),_=Xs.alignmentPatterns(c);for(let A of _)for(let C of _)p.data[A][C]===void 0&&p.embed({x:C-2,y:A-2},b);p=p.hLine({x:0,y:6},1/0,(({x:A},C)=>C===void 0?A%2==0:C)).vLine({x:6,y:0},1/0,(({y:A},C)=>C===void 0?A%2==0:C));{let A=Xs.formatBits(l,u),C=R=>!d&&(A>>R&1)==1;for(let R=0;R<6;R++)p.data[R][8]=C(R);for(let R=6;R<8;R++)p.data[R+1][8]=C(R);for(let R=8;R<15;R++)p.data[f-15+R][8]=C(R);for(let R=0;R<8;R++)p.data[8][f-R-1]=C(R);for(let R=8;R<9;R++)p.data[8][15-R-1+1]=C(R);for(let R=9;R<15;R++)p.data[8][15-R-1]=C(R);p.data[f-8][8]=!d}if(c>=7){let A=Xs.versionBits(c);for(let C=0;C<18;C+=1){let R=!d&&(A>>C&1)==1,M=Math.floor(C/3),U=C%3+f-8-3;p.data[M][U]=R,p.data[U][M]=R}}return p})(t,e,n,i),a=0,s=8*r.length;if((function(c,l,u){let d=c.height,f=Tee[l],p=-1,h=d-1;for(let b=d-1;b>0;b-=2){for(b==6&&(b=5);;h+=p){for(let _=0;_<2;_+=1){let A=b-_;c.data[h][A]===void 0&&u(A,h,f(A,h))}if(h+p<0||h+p>=d)break}p=-p}})(o,n,((c,l,u)=>{let d=!1;a<s&&(d=(r[a>>>3]>>(7-a&7)&1)!=0,a++),o.data[l][c]=d!==u})),a!==s)throw new Error("QR: bytes left after draw");return o}function tgt(t){let e=t.inverse(),r=p=>{let h=0;for(let b,_=0,A=1;_<p.length;_++)b===p[_]&&(A++,_!==p.length-1)||(A>=5&&(h+=A-5+3),b=p[_],A=1);return h},n=0;t.data.forEach((p=>n+=r(p))),e.data.forEach((p=>n+=r(p)));let i=0,o=t.data,a=t.width-1,s=t.height-1;for(let p=0;p<a;p++)for(let h=0;h<s;h++){let b=p+1,_=h+1;o[p][h]===o[b][h]&&o[b][h]===o[p][_]&&o[b][h]===o[b][_]&&(i+=3)}let c=p=>{let h=[!0,!1,!0,!0,!0,!1,!0],b=[!1,!1,!1,!1],_=[...h,...b],A=[...b,...h],C=0;for(let R=0;R<p.length;R++)XAe(p,_,R)&&(C+=40),XAe(p,A,R)&&(C+=40);return C},l=0;for(let p of t.data)l+=c(p);for(let p of e.data)l+=c(p);let u=0;t.rectRead(0,1/0,((p,h)=>u+=h?1:0));let d=u/(t.height*t.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return n+i+l+f}function j_e(t,e="raw",r={}){let n=r.ecc!==void 0?r.ecc:"medium";(function(u){if(!tTe.includes(u))throw new Error(`Invalid error correction mode=${u}. Expected: ${tTe}`)})(n);let i=r.encoding!==void 0?r.encoding:(function(u){let d="numeric";for(let f of u)if(!Xs.alphabet.numeric.has(f)&&(d="alphanumeric",!Xs.alphabet.alphanumerc.has(f)))return"byte";return d})(t);(function(u){if(!rTe.includes(u))throw new Error(`Encoding: invalid mode=${u}. Expected: ${rTe}`);if(u==="kanji"||u==="eci")throw new Error(`Encoding: ${u} is not supported (yet?).`)})(i),r.mask!==void 0&&(function(u){if(![0,1,2,3,4,5,6,7].includes(u)||!Tee[u])throw new Error(`Invalid mask=${u}. Expected number [0..7]`)})(r.mask);let o,a=r.version,s=new Error("Unknown error");if(a!==void 0)(function(u){if(!Number.isSafeInteger(u)||u<1||u>40)throw new Error(`Invalid version=${u}. Expected number [1..40]`)})(a),o=nTe(a,n,t,i);else for(let u=1;u<=40;u++)try{o=nTe(u,n,t,i),a=u;break}catch(d){s=d}if(!a||!o)throw s;let c=(function(u,d,f,p){if(p===void 0){let h=(function(){let b,_=1/0;return{add(A,C){A>=_||(b=C,_=A)},get:()=>b,score:()=>_}})();for(let b=0;b<Tee.length;b++)h.add(tgt(iTe(u,d,f,b,!0)),b);p=h.get()}if(p===void 0)throw new Error("Cannot find mask");return iTe(u,d,f,p)})(a,n,o,r.mask);c.assertDrawn();let l=r.border===void 0?2:r.border;if(!Number.isSafeInteger(l))throw new Error("Wrong border type="+typeof l);if(c=c.border(l,!1),r.scale!==void 0&&(c=c.scale(r.scale)),e==="raw")return c.data;if(e==="ascii")return c.toASCII();if(e==="svg")return c.toSVG();if(e==="gif")return c.toGIF();if(e==="term")return c.toTerm();throw new Error(`Unknown output: ${e}`)}var kX={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}},q_=class{constructor(e){var r;this.translations=kX,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(r=e?.baseUrl)!==null&&r!==void 0?r:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some((r=>r.toLowerCase().startsWith("en"))))return"en";let e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){let r=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(r)}async loadTranslations(e){let r=e.split("-")[0];if(r!=="en"&&this.supportedLocales.includes(r))try{let n=`${this.baseUrl}/${r}.json`,i=await fetch(n);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(n){console.warn(`\u274C Failed to load ${r} translations, falling back to English:`,n),this.translations=kX}else this.translations=kX}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,r){let n=e.split("."),i=r;for(let o of n){if(typeof i!="object")return"";i=i[o]}return typeof i=="string"?i:""}},O_;(function(t){t.SDK_MODAL_VIEWED="sdk_modal_viewed",t.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",t.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(O_||(O_={}));var $_e=class{constructor(t){Zee(this,t),this.close=Bm(this,"close",7),this.startDesktopOnboarding=Bm(this,"startDesktopOnboarding",7),this.trackAnalytics=Bm(this,"trackAnalytics",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new q_}componentDidLoad(){this.trackAnalytics.emit({event:O_.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:O_.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:O_.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;let t=n=>this.i18nInstance.t(n),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=j_e(this.link,"svg",{ecc:"medium",scale:2});return Te(ote,{className:"install-model"},Te("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Te("div",{class:"modal"},Te("div",{class:"closeButtonContainer"},Te("div",{class:"right"},Te("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Te(ste,null)))),Te("div",{class:"logoContainer"},Te(cte,null)),Te("div",null,Te("div",{class:"tabcontainer"},Te("div",{class:"flexContainer"},Te("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(e===1?"tabactive":"")},t("DESKTOP")),Te("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(e===2?"tabactive":"")},t("MOBILE")))),Te("div",{style:{display:e===1?"none":"block"}},Te("div",{class:"flexContainer"},Te("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},r&&Te("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:r}),Te("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT")," ",Te("br",null),Te("span",{class:"blue"},Te("b",null,t("META_MASK_MOBILE_APP"))))))),Te("div",{style:{display:e===2?"none":"block"}},Te("div",{class:"item"},Te(NX,{Icon:W2t,text:t("INSTALL_MODAL.TRUSTED_BY_USERS")})),Te("div",{class:"item"},Te(NX,{Icon:q2t,text:t("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),Te("div",{class:"item"},Te(NX,{Icon:Y2t,text:t("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),Te("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},Te(J2t,null),Te("span",{class:"installExtensionText"},t("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),Te(ate,{version:this.sdkVersion})))}get el(){return CD(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};$_e.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var V_e=class{constructor(t){Zee(this,t),this.close=Bm(this,"close",7),this.disconnect=Bm(this,"disconnect",7),this.updateOTPValue=Bm(this,"updateOTPValue",7),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new q_}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;let e=(t=this.displayOTP)===null||t===void 0||t,r=this.sdkVersion,n=i=>this.i18nInstance.t(i);return Te(ote,{className:"pending-modal"},Te("div",{class:"backdrop",onClick:()=>this.onClose()}),Te("div",{class:"modal"},Te("div",{class:"closeButtonContainer"},Te("div",{class:"right"},Te("span",{class:"closeButton",onClick:()=>this.onClose()},Te(ste,null)))),Te("div",{class:"logoContainer"},Te(cte,null)),Te("div",null,Te("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},Te("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},n(e?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),Te("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),e&&Te("div",{class:"notice"},"* ",n("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),Te("div",{style:{marginTop:"20px"}},Te("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},n("PENDING_MODAL.DISCONNECT")))),Te(ate,{version:r})))}get el(){return CD(this)}};V_e.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var rgt=()=>Te("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),ngt=()=>Te("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te("rect",{width:"400",height:"300",fill:"white"}),Te("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),Te("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),Te("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),Te("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),Te("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),Te("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),Te("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),Te("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),Te("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),Te("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),Te("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),Te("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),Te("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),Te("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),Te("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),Te("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),Te("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),Te("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),Te("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),Te("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),Te("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),Te("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),K_e=class{constructor(t){Zee(this,t),this.close=Bm(this,"close",7),this.connectWithExtension=Bm(this,"connectWithExtension",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new q_,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;let t=i=>this.i18nInstance.t(i),e=this.sdkVersion,r=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=j_e(this.link,"svg",{ecc:"medium",scale:2});return Te(ote,{className:"select-modal"},Te("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Te("div",{class:"modal"},Te("div",{class:"closeButtonContainer"},Te("div",{class:"right"},Te("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Te(ste,null)))),Te("div",{class:"logoContainer"},Te(cte,null)),Te("div",null,Te("div",{class:"tabcontainer"},Te("div",{class:"flexContainer"},Te("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(r===1?"tabactive":"")},t("DESKTOP")),Te("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(r===2?"tabactive":"")},t("MOBILE")))),Te("div",{style:{display:r===1?"none":"block"}},Te("div",{class:"flexContainer"},Te("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},Te("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:n}),Te("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT"),Te("br",null),Te("span",{class:"blue"},Te("b",null,t("META_MASK_MOBILE_APP"))))))),Te("div",{style:{display:r===2?"none":"block"}},Te("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},Te(ngt,null)),Te("div",{class:"extensionLabel"},t("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),Te("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},Te(rgt,null),Te("span",{class:"installExtensionText"},t("CONNECT_WITH_EXTENSION"))))),Te(ate,{version:e})))}get el(){return CD(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};K_e.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var igt=Object.freeze({__proto__:null,mm_install_modal:$_e,mm_pending_modal:V_e,mm_select_modal:K_e});Ho();var q_e=ve(Do());PM();og();u4();lte();m6();ku();lm();ma();var ute=class extends J4{constructor(e){super(e),V(this,"connectorNamespace",Zo.EIP155),V(this,"currentChainNamespace",pt.EIP155),V(this,"type",ba.EXTERNAL),V(this,"name",it.METAMASK),V(this,"status",Oe.NOT_READY),V(this,"metamaskProvider",null),V(this,"metamaskSDK",null),V(this,"metamaskOptions",void 0),V(this,"analytics",void 0),this.metamaskOptions=e.connectorSettings,this.analytics=e.analytics}get provider(){return this.status!==Oe.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var r;await super.init(e);let n=this.coreOptions.chains.find(c=>c.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:n});let i=await RM(window),o={name:CM(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:i},a=(0,q_e.default)(this.metamaskOptions||{},{dappMetadata:o});this.metamaskSDK=new gD(q(q({},a),{},{_source:"web3auth",useDeeplink:(r=a.useDeeplink)!==null&&r!==void 0?r:!0}));let s=await this.metamaskSDK.init();s&&(this.metamaskSDK=s),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=Oe.READY,this.emit(ot.READY,it.METAMASK);try{if(e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,Xe.connectionError("Failed to rehydrate.")}catch(c){this.emit(ot.REHYDRATION_ERROR,c)}}async connect({chainId:e}){if(super.checkConnectionRequirements(),!this.metamaskSDK)throw Xe.notConnectedError("Connector is not initialized");let r=this.coreOptions.chains.find(d=>d.chainId===e);if(!r)throw Xe.connectionError("Chain config is not available");let n=!this.isInjected&&!this.rehydrated,i=Date.now(),o={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:Vd(r),chain_name:r?.displayName,chain_namespace:r?.chainNamespace};try{if(this.status!==Oe.CONNECTING){var a;this.status=Oe.CONNECTING,this.emit(ot.CONNECTING,{connector:it.METAMASK}),!this.metamaskSDK.isExtensionActive()&&(a=this.metamaskOptions)!==null&&a!==void 0&&a.headless&&this.metamaskSDK.getProvider().on("display_uri",p=>{this.updateConnectorData({uri:p})}),await this.metamaskSDK.connect()}if(this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw Xe.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==r.chainId&&await this.switchChain(r,!0);let f=p=>{p.length===0&&this.disconnect()};if(this.metamaskProvider.on("accountsChanged",f),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=Oe.CONNECTED,n){var s,c;(s=this.analytics)===null||s===void 0||s.track(Ur.CONNECTION_STARTED,o),(c=this.analytics)===null||c===void 0||c.track(Ur.CONNECTION_COMPLETED,q(q({},o),{},{duration:Date.now()-i}))}return this.emit(ot.CONNECTED,{connector:it.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider}),this.metamaskProvider}catch(d){if(this.status=Oe.READY,this.rehydrated||this.emit(ot.ERRORED,d),this.rehydrated=!1,n){var l,u;(l=this.analytics)===null||l===void 0||l.track(Ur.CONNECTION_STARTED,o),(u=this.analytics)===null||u===void 0||u.track(Ur.CONNECTION_FAILED,q(q(q({},o),H7(d)),{},{duration:Date.now()-i}))}throw d instanceof ro?d:Xe.connectionError("Failed to login with MetaMask wallet",d)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw Xe.connectionError("MetaMask provider is not available");await super.disconnectSession(),typeof this.metamaskProvider.removeAllListeners<"u"&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=Oe.NOT_READY,this.metamaskProvider=null):this.status=Oe.READY,await super.disconnect()}async getUserInfo(){if(this.status!==Oe.CONNECTED)throw Xe.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,r=!1){super.checkSwitchChainRequirements(e,r);let n=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await n()}catch(i){if(i?.code===4902){let o=this.coreOptions.chains.find(a=>a.chainId===e.chainId&&[pt.EIP155,pt.SOLANA].includes(a.chainNamespace));await this.addChain(o),await n()}else throw i}}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw Xe.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}},W_e=t=>({coreOptions:e,analytics:r})=>new ute({connectorSettings:t,coreOptions:e,analytics:r});Ye();_i();nt();Ho();var PD=q(q({},pt),{},{MULTICHAIN:"multichain"}),ju={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},Q4=q({},ju),dte={WALLET_SERVICES:"wallet-services",NFT_CHECKOUT:"nft-checkout"},ogt={SOLANA:"solana"},C4r=q(q({},dte),ogt);Ye();ma();var t0=class t extends ro{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,r="",n){return new t(e,`${t.messages[e]}${r}`,n)}static notInitialized(e="",r){return t.fromCode(5210,e,r)}static unsupportedConnector(e="",r){return t.fromCode(5211,e,r)}static providerRequired(e="",r){return t.fromCode(5212,e,r)}static web3authRequired(e="",r){return t.fromCode(5213,e,r)}static web3AuthNotConnected(e="",r){return t.fromCode(5214,e,r)}static alreadyInitialized(e="",r){return t.fromCode(5216,e,r)}static unsupportedChainNamespace(e="",r){return t.fromCode(5218,e,r)}static differentWeb3AuthNetwork(e="",r){return t.fromCode(5219,e,r)}static invalidParams(e="",r){return t.fromCode(5220,e,r)}static web3authNotInitialized(e="",r){return t.fromCode(5221,e,r)}static invalidSession(e="",r){return t.fromCode(5222,e,r)}static walletPluginNotConnected(e="",r){return t.fromCode(5223,e,r)}};V(t0,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});var fte=class t extends ro{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"NFTCheckoutPluginError"})}static fromCode(e,r="",n){return new t(e,`${t.messages[e]}${r}`,n)}static notInitialized(e="",r){return t.fromCode(6210,e,r)}static providerRequired(e="",r){return t.fromCode(6212,e,r)}static web3authRequired(e="",r){return t.fromCode(6213,e,r)}static web3AuthNotConnected(e="",r){return t.fromCode(6214,e,r)}static pluginNotConnected(e="",r){return t.fromCode(6223,e,r)}};V(fte,"messages",{6210:"NFT Checkout Plugin is not initialized",6212:"Provider is required..",6213:"Web3Auth instance is required while initialization.",6214:"Web3Auth is not connected.",6223:"NFT Checkout plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});lm();Ho();ku();jd();u4();var pte=class extends gc{constructor(...e){super(...e),V(this,"name",dte.WALLET_SERVICES),V(this,"status",ju.DISCONNECTED),V(this,"SUPPORTED_CONNECTORS",[it.AUTH]),V(this,"pluginNamespace",PD.MULTICHAIN),V(this,"wsEmbedInstance",void 0),V(this,"provider",null),V(this,"web3auth",null),V(this,"isInitialized",!1),V(this,"analytics",void 0)}get proxyProvider(){var e;return(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(e,r,n){if(this.isInitialized)return;if(!e)throw t0.web3authRequired();if(e.provider&&!this.SUPPORTED_CONNECTORS.includes(e.connectedConnectorName))throw t0.notInitialized();let i=e.currentChain;if(![pt.EIP155,pt.SOLANA].includes(i?.chainNamespace))throw t0.unsupportedChainNamespace();e.provider&&(this.provider=e.provider),this.web3auth=e,this.analytics=n;let o=e.getConnector(it.AUTH);if(!o||!o.wsEmbed)throw t0.web3AuthNotConnected();this.wsEmbedInstance=o.wsEmbed,this.isInitialized=!0,this.status=ju.READY,this.emit(Q4.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw t0.notInitialized();if(this.emit(Q4.CONNECTING),this.status=ju.CONNECTING,!this.provider){var e;(e=this.web3auth)!==null&&e!==void 0&&e.provider&&(this.provider=this.web3auth.provider)}if(this.web3auth.status!==Oe.CONNECTED)throw t0.web3AuthNotConnected();if(!this.web3auth.provider)throw t0.providerRequired();try{this.emit(Q4.CONNECTED),this.status=ju.CONNECTED}catch(r){Be.error(r),this.status=ju.ERRORED,this.emit(Q4.ERRORED,{error:r.message||"Something went wrong"})}}async showWalletConnectScanner(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw t0.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Ur.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:e?.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showCheckout(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw t0.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Ur.WALLET_CHECKOUT_CLICKED,{is_visible:e?.show,receive_wallet_address_enabled:!!(e!=null&&e.receiveWalletAddress),token_list:e?.tokenList,fiat_list:e?.fiatList}),this.wsEmbedInstance.showCheckout(e)}async showWalletUi(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw t0.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Ur.WALLET_UI_CLICKED,{is_visible:e?.show,path:e?.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var r,n;if(!((r=this.wsEmbedInstance)!==null&&r!==void 0&&r.isLoggedIn))throw t0.walletPluginNotConnected();return(n=this.analytics)===null||n===void 0||n.track(Ur.WALLET_SWAP_CLICKED,{is_visible:e?.show,from_token:e?.fromToken,to_token:e?.toToken,from_value_enabled:!!(e!=null&&e.fromValue),to_address_enabled:!!(e!=null&&e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return(e=this.wsEmbedInstance)===null||e===void 0?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==ju.CONNECTED)throw t0.invalidSession("Wallet Services plugin is not connected");(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(Q4.DISCONNECTED),this.status=ju.DISCONNECTED}},Y_e=()=>()=>new pte;Z_();ku();ma();jd();lm();m6();var FXt=["walletScope"],KP=class extends gc{constructor(e,r){if(super(),V(this,"coreOptions",void 0),V(this,"status",Oe.NOT_READY),V(this,"aaProvider",null),V(this,"connectors",[]),V(this,"commonJRPCProvider",null),V(this,"analytics",void 0),V(this,"plugins",{}),V(this,"storage",void 0),V(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),V(this,"loginMode",p6.NO_MODAL),!e.clientId)throw tt.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?Be.enableAll():Be.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new G7,this.analytics.setGlobalProperties({integration_type:oZ.NATIVE_SDK}),this.loadState(r),this.state.idToken&&this.coreOptions.ssr&&(this.status=Oe.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(r=>r.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==Oe.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||((e=this.coreOptions.chains)===null||e===void 0||(e=e[0])===null||e===void 0?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,(e=this.currentChain)===null||e===void 0?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}set provider(e){throw new Error("Not implemented")}async init(e){let r=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:j7.WEB_NO_MODAL,sdk_version:J7,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let n={};try{var i,o;let{signal:s}=e||{},c;try{var a;c=await K7({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:(a=this.coreOptions.accountAbstractionConfig)===null||a===void 0?void 0:a.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(u){let d=await Yp(u);throw Be.error("Failed to fetch project configurations",d),tt.notReady("failed to fetch project configurations",d)}this.initAccountAbstractionConfig(c),this.initChainsConfig(c),this.initCachedConnectorAndChainId(),this.initUIConfig(c),this.initWalletServicesConfig(c),this.analytics.setGlobalProperties({team_id:c.teamId}),n=this.getInitializationTrackData(),await Nu(()=>this.setupCommonJRPCProvider(),s),this.on(ot.CONNECTORS_UPDATED,async({connectors:u})=>{await Nu(()=>Promise.all(u.map(this.setupConnector.bind(this))),s,()=>{var f;((f=this.connectors)===null||f===void 0?void 0:f.length)>0&&this.cleanup()}),this.status===Oe.NOT_READY&&(this.status=Oe.READY,this.emit(ot.READY))}),await Nu(()=>this.loadConnectors({projectConfig:c}),s),await Nu(()=>this.initPlugins(),s);let l=this.getConnector(it.AUTH);n=q(q({},n),{},{connectors:this.connectors.map(u=>u.name),plugins:Object.keys(this.plugins),auth_ux_mode:(l==null||(i=l.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(Ur.SDK_INITIALIZATION_COMPLETED,q(q({},n),{},{duration:Date.now()-r}))}catch(s){if(s instanceof DOMException&&s.name==="AbortError")return;throw this.analytics.track(Ur.SDK_INITIALIZATION_FAILED,q(q(q({},n),h6(s)),{},{duration:Date.now()-r})),Be.error("Failed to initialize modal",s),s}}getConnector(e,r){return this.connectors.find(n=>n.name!==e?!1:r?n.connectorNamespace===Zo.MULTICHAIN?!0:n.connectorNamespace===r:!0)||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(let e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var r;if(e.chainId===((r=this.currentChain)===null||r===void 0?void 0:r.chainId))return;if(!this.coreOptions.chains.find(i=>i.chainId===e.chainId))throw tt.invalidParams("Invalid chainId");if(this.status===Oe.CONNECTED&&this.connectedConnector){await this.connectedConnector.switchChain(e);return}if(this.commonJRPCProvider){await this.commonJRPCProvider.switchChain(e);return}throw tt.notReady("No wallet is ready")}async connectTo(e,r,n){this.loginMode=n||"no-modal";let i=this.getConnector(e,r?.chainNamespace);if(!i||!this.commonJRPCProvider)throw tt.notFound(`Please add wallet connector for ${e} wallet, before connecting`);let o=this.getInitialChainIdForConnector(i),a=q(q({},r),{},{chainId:o.chainId}),s=Date.now(),c;if(e===it.AUTH){var l;let u=r,d=i.getOAuthProviderConfig({authConnection:u.authConnection,authConnectionId:u.authConnectionId,groupedAuthConnectionId:u.groupedAuthConnectionId});c={connector:e,connector_type:i.type,chain_id:Vd(o),chain_name:o.displayName,chain_namespace:o.chainNamespace,auth_connection:u.authConnection,auth_connection_id:u.authConnectionId,group_auth_connection_id:u.groupedAuthConnectionId,mfa_level:u.mfaLevel,wallet_key_enabled:u.getWalletKey,extra_login_options_enabled:!!u.extraLoginOptions,dapp_share_enabled:!!u.dappShare,curve:u.curve,auth_dapp_url:u.dappUrl,is_sfa:!!u.idToken,is_default_auth_connection:d?.isDefault,auth_ux_mode:(l=i.authInstance)===null||l===void 0||(l=l.options)===null||l===void 0?void 0:l.uxMode}}else c={connector:e,connector_type:i.type,is_injected:i.isInjected,chain_id:Vd(o),chain_name:o.displayName,chain_namespace:o.chainNamespace};return this.analytics.track(Ur.CONNECTION_STARTED,c),new Promise((u,d)=>{let f=()=>{this.off(ot.CONNECTED,p),this.off(ot.ERRORED,h)},p=async()=>{let b=await i.getUserInfo();this.analytics.track(Ur.CONNECTION_COMPLETED,q(q({},c),{},{is_mfa_enabled:b?.isMfaEnabled,duration:Date.now()-s})),f(),u(this.provider)},h=async b=>{this.analytics.track(Ur.CONNECTION_FAILED,q(q(q({},c),h6(b)),{},{duration:Date.now()-s})),f(),d(b)};this.once(ot.CONNECTED,p),this.once(ot.ERRORED,h),i.connect(a),this.setCurrentChain(o.chainId)})}async logout(e={cleanup:!1}){if(this.status!==Oe.CONNECTED||!this.connectedConnector)throw Xe.notConnectedError("No wallet is connected");await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if(Be.debug("Getting user info",this.status,(e=this.connectedConnector)===null||e===void 0?void 0:e.name),this.status!==Oe.CONNECTED||!this.connectedConnector)throw Xe.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(e){var r;if(this.status!==Oe.CONNECTED||!this.connectedConnector)throw Xe.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==it.AUTH)throw Xe.unsupportedOperation("EnableMFA is not supported for this connector.");let n=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(r=n.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode};try{this.analytics.track(Ur.MFA_ENABLEMENT_STARTED,i),await this.connectedConnector.enableMFA(e)}catch(o){throw this.analytics.track(Ur.MFA_ENABLEMENT_FAILED,q(q({},i),h6(o))),o}}async manageMFA(e){var r;if(this.status!==Oe.CONNECTED||!this.connectedConnector)throw Xe.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==it.AUTH)throw Xe.unsupportedOperation("ManageMFA is not supported for this connector.");let n=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(r=n.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode};try{this.analytics.track(Ur.MFA_MANAGEMENT_SELECTED,i),await this.connectedConnector.manageMFA(e)}catch(o){throw this.analytics.track(Ur.MFA_MANAGEMENT_FAILED,q(q({},i),h6(o))),o}}async getIdentityToken(){if(this.status!==Oe.CONNECTED||!this.connectedConnector)throw Xe.notConnectedError("No wallet is connected");let e={connector:this.connectedConnector.name};try{this.analytics.track(Ur.IDENTITY_TOKEN_STARTED,e);let r=await this.connectedConnector.getIdentityToken();return this.analytics.track(Ur.IDENTITY_TOKEN_COMPLETED,e),r}catch(r){throw this.analytics.track(Ur.IDENTITY_TOKEN_FAILED,q(q({},e),h6(r))),r}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){let r=new Map,n=[...e.chains||[],...this.coreOptions.chains||[]];for(let a of n){let s=r.get(a.chainId);s?r.set(a.chainId,q(q({},s),a)):r.set(a.chainId,a)}if(this.coreOptions.chains=Array.from(r.values()),this.coreOptions.chains.length===0)throw Be.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),tt.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");let i=new Set(Object.values(pt));for(let a of this.coreOptions.chains){if(!a.chainNamespace||!i.has(a.chainNamespace))throw Be.error(`Please provide a valid chainNamespace in chains for chain ${a.chainId}`),tt.invalidParams(`Please provide a valid chainNamespace in chains for chain ${a.chainId}`);if(a.chainNamespace!==pt.OTHER&&!V7(a.chainId))throw Be.error(`Please provide a valid chainId in chains for chain ${a.chainId}`),tt.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${a.chainId}`);if(a.chainNamespace!==pt.OTHER)try{new URL(a.rpcTarget)}catch(s){throw Be.error(`Please provide a valid rpcTarget in chains for chain ${a.chainId}`,s),tt.invalidParams(`Please provide a valid rpcTarget in chains for chain ${a.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(this.coreOptions.accountAbstractionConfig.chains.length===0)throw Be.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),tt.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(let a of this.coreOptions.accountAbstractionConfig.chains){if(!V7(a.chainId))throw Be.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${a.chainId}`),tt.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${a.chainId}`);try{var o;new URL((o=a.bundlerConfig)===null||o===void 0?void 0:o.url)}catch(s){throw Be.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${a.chainId}`,s),tt.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${a.chainId}`)}if(!r.has(a.chainId))throw Be.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${a.chainId}`),tt.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${a.chainId}`)}}}initAccountAbstractionConfig(e){var r;if(!!!(this.coreOptions.accountAbstractionConfig||e?.smartAccounts))return;let i=e?.smartAccounts||{},{walletScope:o}=i,a=hu(i,FXt),s=new Map,c=[...a?.chains||[],...((r=this.coreOptions.accountAbstractionConfig)===null||r===void 0?void 0:r.chains)||[]];for(let l of c){let u=s.get(l.chainId);u?s.set(l.chainId,q(q({},u),l)):s.set(l.chainId,l)}this.coreOptions.accountAbstractionConfig=q(q({},(0,XV.default)(a||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(s.values())}),this.coreOptions.useAAWithExternalWallet===void 0&&(this.coreOptions.useAAWithExternalWallet=o===iZ.ALL)}initUIConfig(e){this.coreOptions.uiConfig=XV.default.all([{mode:"light",uxMode:Zi.POPUP},EY(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initCachedConnectorAndChainId(){let e=this.state.currentChainId,r=e&&this.coreOptions.chains.some(i=>i.chainId===e);if(this.coreOptions.defaultChainId&&!V7(this.coreOptions.defaultChainId))throw tt.invalidParams("Please provide a valid defaultChainId in constructor");let n=r?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:n})}initWalletServicesConfig(e){var r,n,i,o,a,s;let{enableKeyExport:c,walletUi:l}=e,{enablePortfolioWidget:u=!1,enableTokenDisplay:d=!0,enableNftDisplay:f=!0,enableWalletConnect:p=!0,enableBuyButton:h=!0,enableSendButton:b=!0,enableSwapButton:_=!0,enableReceiveButton:A=!0,enableShowAllTokensButton:C=!0,enableConfirmationModal:R=!1,portfolioWidgetPosition:M=VQ.BOTTOM_LEFT,defaultPortfolio:U="token"}=l||{},F={showWidgetButton:u,hideNftDisplay:!f,hideTokenDisplay:!d,hideTransfers:!b,hideTopup:!h,hideReceive:!A,hideSwap:!_,hideShowAllTokens:!C,hideWalletConnect:!p,buttonPosition:M,defaultPortfolio:U},z=XV.default.all([F,((r=this.coreOptions.walletServicesConfig)===null||r===void 0?void 0:r.whiteLabel)||{}]),N=(n=(i=this.coreOptions.walletServicesConfig)===null||i===void 0?void 0:i.confirmationStrategy)!==null&&n!==void 0?n:R?xM.MODAL:xM.AUTO_APPROVE,k=(o=(a=(s=this.coreOptions.walletServicesConfig)===null||s===void 0?void 0:s.enableKeyExport)!==null&&a!==void 0?a:c)!==null&&o!==void 0?o:!0;this.coreOptions.walletServicesConfig=q(q({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:N,whiteLabel:q(q({},z),{},{logoLight:z?.logoLight||"",logoDark:z?.logoDark||""}),enableKeyExport:k})}getInitializationTrackData(){try{var e,r,n,i,o;let a=(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(c=>c.chainId===this.coreOptions.defaultChainId),s=Array.from(new Set((r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(c=>$7(c.rpcTarget)))).filter(Boolean);return q(q(q({chain_ids:(n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(c=>Vd(c)),chain_names:(i=this.coreOptions.chains)===null||i===void 0?void 0:i.map(c=>c.displayName),chain_rpc_targets:s,default_chain_id:a?Vd(a):void 0,default_chain_name:a?.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:(o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},Y7(this.coreOptions.uiConfig)),sZ(this.coreOptions.accountAbstractionConfig)),cZ(this.coreOptions.walletServicesConfig))}catch(a){return Be.error("Failed to get initialization track data",a),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await cm.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{let r=this.getInitialChainIdForConnector(e),n=this.checkIfAutoConnect(e);await e.init({autoConnect:n,chainId:r.chainId})}catch(r){Be.error(r,e.name)}}async loadConnectors({projectConfig:e,modalMode:r}){var n;let i=[...this.coreOptions.connectors||[],Z9e()],o={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},a=!!e.externalWalletAuth,s=a&&((n=this.coreOptions.multiInjectedProviderDiscovery)!==null&&n!==void 0?n:!0),c=new Set(this.coreOptions.chains.map(u=>u.chainNamespace));if(s&&W7()){if(c.has(pt.SOLANA)){let{createSolanaMipd:u,hasSolanaWalletStandardFeatures:d,walletStandardConnector:f}=await Promise.resolve().then(()=>(lCe(),cCe)),p=u();p.on("register",async(...h)=>{let b=h.filter(d).map(_=>f(_)(o));this.setConnectors(b)}),i.push(...p.get().filter(h=>d(h)).map(f))}if(c.has(pt.EIP155)){let{createMipd:u,injectedEvmConnector:d}=await Promise.resolve().then(()=>(yCe(),bCe)),f=u();f.subscribe(p=>{let h=p.map(b=>d(b)(o));this.setConnectors(h)}),i.push(...f.getProviders().map(d))}}if(W7()&&(c.has(pt.EIP155)||c.has(pt.SOLANA))&&i.push(W_e(r?{headless:!0}:void 0)),W7()&&a&&(c.has(pt.SOLANA)||c.has(pt.EIP155))){let{walletConnectV2Connector:u}=await Promise.resolve().then(()=>(_Le(),TLe));i.push(u())}let l=i.map(u=>u(o));this.setConnectors(l)}async initPlugins(){let{chains:e,plugins:r}=this.coreOptions,n=r||[];e.some(o=>o.chainNamespace===pt.EIP155||o.chainNamespace===pt.SOLANA)&&n.push(Y_e());for(let o of n){let a=o();this.plugins[a.name]||(this.plugins[a.name]=a)}}setConnectors(e){let r=o=>`${o.connectorNamespace}-${o.name}`,n=new Set(this.connectors.map(r)),i=e.map(o=>{let a=r(o);return n.has(a)?null:(n.add(a),o)}).filter(o=>o!==null);i.length>0&&(this.connectors=[...this.connectors,...i],this.emit(ot.CONNECTORS_UPDATED,{connectors:i}))}subscribeToConnectorEvents(e){e.on(ot.CONNECTED,async r=>{var n,i;if(!this.commonJRPCProvider)throw tt.notFound("CommonJrpcProvider not found");let{provider:o}=r;if(this.coreOptions.ssr)try{let u=await e.getIdentityToken();if(!u.idToken)throw Xe.connectionError("No idToken found");this.setState({idToken:u.idToken})}catch(u){Be.error(u),this.status=Oe.ERRORED,this.emit(ot.ERRORED,u,this.loginMode);return}let a=o.provider||o,{accountAbstractionConfig:s}=this.coreOptions;if(((n=this.currentChain)===null||n===void 0?void 0:n.chainNamespace)===pt.EIP155&&(s==null||(i=s.chains)===null||i===void 0?void 0:i.some(u=>{var d;return u.chainId===((d=this.currentChain)===null||d===void 0?void 0:d.chainId)}))&&(r.connector===it.AUTH||this.coreOptions.useAAWithExternalWallet)){var l;let{accountAbstractionProvider:u,toEoaProvider:d}=await Promise.resolve().then(()=>(hXe(),pXe)),f=r.connector===it.AUTH?await d(o):o,p=new Set((s==null||(l=s.chains)===null||l===void 0?void 0:l.map(b=>b.chainId))||[]),h=await u({accountAbstractionConfig:s,provider:f,chain:this.currentChain,chains:this.coreOptions.chains.filter(b=>p.has(b.chainId)),useProviderAsTransport:r.connector===it.AUTH});this.aaProvider=h,r.connector!==it.AUTH&&this.coreOptions.useAAWithExternalWallet&&(a=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(a),this.setState({connectedConnectorName:r.connector}),this.cacheWallet(r.connector),this.status=Oe.CONNECTED,Be.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins(r),this.emit(ot.CONNECTED,q(q({},r),{},{loginMode:this.loginMode}))}),e.on(ot.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=Oe.READY;let r=this.state.cachedConnector;this.connectedConnectorName===r&&this.clearCache(),Be.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async n=>{if(n.SUPPORTED_CONNECTORS.includes(e.name)&&n.status===ju.CONNECTED)return n.disconnect().catch(i=>{i.code!==5211&&Be.error(i)})})),this.setState({connectedConnectorName:null}),this.emit(ot.DISCONNECTED)}),e.on(ot.CONNECTING,r=>{this.status=Oe.CONNECTING,this.emit(ot.CONNECTING,r),Be.debug("connecting",this.status,this.connectedConnectorName)}),e.on(ot.ERRORED,r=>{this.status=Oe.ERRORED,this.clearCache(),this.emit(ot.ERRORED,r,this.loginMode),Be.debug("errored",this.status,this.connectedConnectorName)}),e.on(ot.REHYDRATION_ERROR,r=>{this.status=Oe.READY,this.clearCache(),this.emit(ot.REHYDRATION_ERROR,r)}),e.on(ot.CONNECTOR_DATA_UPDATED,r=>{Be.debug("connector data updated",r),this.emit(ot.CONNECTOR_DATA_UPDATED,r)}),e.on(ot.CACHE_CLEAR,r=>{Be.debug("connector cache clear",r),this.clearCache()}),e.on(ot.MFA_ENABLED,r=>{var n;Be.debug("mfa enabled",r);let i=this.connectedConnector;this.analytics.track(Ur.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:(n=i.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode,is_mfa_enabled:r}),this.emit(ot.MFA_ENABLED,r)})}checkInitRequirements(){if(this.status===Oe.READY)throw tt.notReady("Connector is already initialized")}checkIfAutoConnect(e){var r;let n=this.cachedConnector===e.name;return n&&(r=this.currentChain)!==null&&r!==void 0&&r.chainNamespace&&(e.connectorNamespace===Zo.MULTICHAIN?n=!0:n=e.connectorNamespace===this.currentChain.chainNamespace),n}getInitialChainIdForConnector(e){var r;let n=this.currentChain;if(((r=n)===null||r===void 0?void 0:r.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==Zo.MULTICHAIN&&(n=this.coreOptions.chains.find(i=>i.chainNamespace===e.connectorNamespace),!n))throw tt.invalidParams(`No chain found for ${e.connectorNamespace}`);return n}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e===this.currentChainId)return;if(!this.coreOptions.chains.find(n=>n.chainId===e))throw tt.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}connectToPlugins(e){Object.values(this.plugins).map(async r=>{try{var n;if(!r.SUPPORTED_CONNECTORS.includes(e.connector)||r.pluginNamespace!==PD.MULTICHAIN&&r.pluginNamespace!==((n=this.currentChain)===null||n===void 0?void 0:n.chainNamespace)||r.status===ju.CONNECTED)return;await r.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await r.connect()}catch(i){if(i.code===5211)return;Be.error(i)}})}setState(e){this.state=q(q({},this.state),e),this.storage.setItem(SM,JSON.stringify(this.state))}loadState(e){if(e){this.state=e;return}let r=this.storage.getItem(SM);r&&(this.state=Nve(r))}getStorageMethod(){return this.coreOptions.ssr||this.coreOptions.storageType==="cookies"?kve({expiry:this.coreOptions.sessionTime}):this.coreOptions.storageType==="session"&&K4("sessionStorage")?window.sessionStorage:this.coreOptions.storageType==="local"&&K4("localStorage")?window.localStorage:new Mw}};u4();m6();Ho();ku();l4();ma();jd();og();lm();var w1e="10.2.0",v1e={hideWalletDiscovery:!1,connectors:{[d4.AUTH]:{label:"Auth",showOnModal:!0}}},E1e="https://assets.web3auth.io/v1/wallet-registry.json";nt();Ye();Jp();var di={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Ip={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},HXt={[di.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[di.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[di.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[di.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[di.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"};var zXt={[di.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:Ip.SAPPHIRE_MAINNET},[di.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:Ip.SAPPHIRE_MAINNET},[di.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:Ip.SAPPHIRE_MAINNET},[di.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:Ip.SAPPHIRE_MAINNET},[di.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:Ip.SAPPHIRE_DEVNET}},GXt={[di.MAINNET]:"mainnet",[di.TESTNET]:"goerli",[di.CYAN]:"polygon-mainnet",[di.AQUA]:"polygon-mainnet",[di.CELESTE]:"polygon-mainnet"},jXt={[Ip.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[Ip.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[di.MAINNET]:"https://api.web3auth.io/signer-service",[di.TESTNET]:"https://api.web3auth.io/signer-service",[di.CYAN]:"https://api.web3auth.io/signer-polygon-service",[di.AQUA]:"https://api.web3auth.io/signer-polygon-service",[di.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},$Xt={[di.MAINNET]:"https://api.web3auth.io/metadata-service",[di.TESTNET]:"https://api.web3auth.io/metadata-service",[di.CYAN]:"https://api.web3auth.io/metadata-service",[di.AQUA]:"https://api.web3auth.io/metadata-service",[di.CELESTE]:"https://api.web3auth.io/metadata-service"};nt();var x1e=ve(Do()),tK=ve(Or()),eK=tK.default.getLogger("http-helpers");eK.setLevel(tK.levels.INFO);var mXe="torus-default",bXe="",VXt="x-api-key",KXt="x-embed-host",yXe=null,qXt=[],WXt=[];async function gXe(t,e){let r=null;try{r=new URL(t)}catch{}return yXe&&r&&(qXt.includes(r.origin)||WXt.includes(r.pathname))?await yXe.startSpan({name:t,op:"http.client"},async()=>await fetch(t,e)):fetch(t,e)}function wXe(){let t={};return mXe&&(t[VXt]=mXe),bXe&&(t[KXt]=bXe),t}function vXe(t){eK.info(`Response: ${t.status} ${t.statusText}`),eK.info(`Url: ${t.url}`)}function YXt(t){let e=t.headers.get("x-web3-correlation-id");e&&eK.info(`Request tracing with traceID = ${e}`)}var JXt=async(t,e)=>{let r=null;try{let n=new Promise((o,a)=>{r=setTimeout(()=>{a(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},EXe=async(t,e={},r={})=>{let n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=q(q({},n.headers),wXe())),e.method="GET";let i=(0,x1e.default)(n,e),o=await gXe(t,i);if(o.ok){let a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw vXe(o),o},qP=(t,e={},r={},n={})=>{let i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=q(q({},i.headers),wXe())),r.method="POST";let o=(0,x1e.default)(i,r);return n.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),JXt(n.timeout||6e4,gXe(t,o).then(a=>{if(n.logTracingHeader&&YXt(a),a.ok){let s=a.headers.get("content-type");return s!=null&&s.includes("application/json")?a.json():a.text()}throw vXe(a),a}))};nt();var xXe=di,AXe=Ip,A1e=q(q({},AXe),xXe);var Cp={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"};var QXt=1e3*10;var dc={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},T1e={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"};var _Xe=ve(Da());function TXe(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function ZXt(t){let e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}var WP=class extends _Xe.EventEmitter{emit(e,...r){let n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;let s=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw s.context=a,s}let o=i[e];if(o===void 0)return!1;if(typeof o=="function")TXe(o,this,r);else{let a=o.length,s=ZXt(o);for(let c=0;c<a;c+=1)TXe(s[c],this,r)}return!0}};function _1e(t,e=3,r=50,n="black",i=0,o=20,a="#0346ff"){let s=[],c;for(c=0;c<e;c+=1)s.push(t(a).rotate((c+1)/e*-i).saturate((c+1)/e*(o/100)).mix(t(n),r/100*(c+1)/e).hex());return s}function SXe(t,e){let r=_1e(t,3,50,"black",0,20,e),n=_1e(t,6,85,"white",0,20,e);return[...r.reverse(),e,...n]}function S1e(t,e,r){if(r.primary){let n=SXe(t,r.primary);e.style.setProperty("--app-primary-900",n[0]),e.style.setProperty("--app-primary-800",n[1]),e.style.setProperty("--app-primary-700",n[2]),e.style.setProperty("--app-primary-600",n[3]),e.style.setProperty("--app-primary-500",n[4]),e.style.setProperty("--app-primary-400",n[5]),e.style.setProperty("--app-primary-300",n[6]),e.style.setProperty("--app-primary-200",n[7]),e.style.setProperty("--app-primary-100",n[8]),e.style.setProperty("--app-primary-50",n[9])}r.onPrimary&&e.style.setProperty("--app-on-primary",r.onPrimary)}var KK=ve(Do());function YP(t){return t.charAt(0).toUpperCase()+t.slice(1)}var XXt=new Set([Je.CUSTOM,Je.PASSKEYS,Je.TELEGRAM,Je.AUTHENTICATOR]),rK=Object.values(Je).filter(t=>!XXt.has(t)),IXe=rK.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=YP(e),t),{}),CXe={[Cp.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[Cp.STAGING]:"https://api.web3auth.io/passwordless-service",[Cp.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[Cp.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},RXe="d5f0c15c-eeda-4f9c-934a-d8e0348e83b2";var JP={MODAL_VISIBILITY:"MODAL_VISIBILITY"},ki={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"},F3=(function(t){return t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t})({});nt();Ye();function PXe(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var eer=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}`;PXe(eer);var unt=ve(hT());import{createRoot as jir}from"react-dom/client";var OXe=t=>({ui_modal_login_methods_order:t?.loginMethodsOrder,ui_modal_z_index:t?.modalZIndex,ui_modal_display_errors_on_modal:t?.displayErrorsOnModal,ui_modal_login_grid_col:t?.loginGridCol,ui_modal_primary_button:t?.primaryButton,ui_modal_widget_type:t?.widgetType,ui_modal_target_id_used:!!t?.targetId,ui_modal_logo_alignment:t?.logoAlignment,ui_modal_border_radius_type:t?.borderRadiusType,ui_modal_button_radius_type:t?.buttonRadiusType,ui_modal_sign_in_methods:t?.signInMethods,ui_modal_add_previous_login_hint:t?.addPreviousLoginHint,ui_modal_display_installed_external_wallets:t?.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:t?.displayExternalWalletsCount});nt();var yrt=ve(Do());import{useMemo as Mp,useState as vir,useEffect as mpe}from"react";var o5={LOGIN:"login",CONNECT_WALLET:"connect_wallet"},Kf={CONNECT_WALLET:"Connect Your Wallet",SELECTED_WALLET:"Selected Wallet"},nK="https://images.web3auth.io/web3auth-logo-w.svg",iK="https://images.web3auth.io/web3auth-logo-w-light.svg",NXe="https://images.web3auth.io/login-wallet-connect.svg",kXe="#0364FF",MXe="#FFFFFF",BXe={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}};import{useState as Mer,useEffect as Ber}from"react";function DXe(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=DXe(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ter(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=DXe(t))&&(n&&(n+=" "),n+=e);return n}var LXe=ter;var rer=t=>{let e=ier(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{let s=a.split("-");return s[0]===""&&s.length!==1&&s.shift(),GXe(s,e)||ner(a)},getConflictingClassGroupIds:(a,s)=>{let c=r[a]||[];return s&&n[a]?[...c,...n[a]]:c}}},GXe=(t,e)=>{if(t.length===0)return e.classGroupId;let r=t[0],n=e.nextPart.get(r),i=n?GXe(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;let o=t.join("-");return e.validators.find(({validator:a})=>a(o))?.classGroupId},UXe=/^\[(.+)\]$/,ner=t=>{if(UXe.test(t)){let e=UXe.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},ier=t=>{let{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(let i in r)R1e(r[i],n,i,e);return n},R1e=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){let o=i===""?e:FXe(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(oer(i)){R1e(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{R1e(a,FXe(e,o),r,n)})})},FXe=(t,e)=>{let r=t;return e.split("-").forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},oer=t=>t.isThemeGetter,aer=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map,i=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}};var ser=t=>{let{prefix:e,experimentalParseClassName:r}=t,n=i=>{let o=[],a=0,s=0,c=0,l;for(let h=0;h<i.length;h++){let b=i[h];if(a===0&&s===0){if(b===":"){o.push(i.slice(c,h)),c=h+1;continue}if(b==="/"){l=h;continue}}b==="["?a++:b==="]"?a--:b==="("?s++:b===")"&&s--}let u=o.length===0?i:i.substring(c),d=cer(u),f=d!==u,p=l&&l>c?l-c:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}};if(e){let i=e+":",o=n;n=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){let i=n;n=o=>r({className:o,parseClassName:i})}return n},cer=t=>t.endsWith("!")?t.substring(0,t.length-1):t.startsWith("!")?t.substring(1):t,ler=t=>{let e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;let i=[],o=[];return n.forEach(a=>{a[0]==="["||e[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},uer=t=>({cache:aer(t.cacheSize),parseClassName:ser(t),sortModifiers:ler(t),...rer(t)}),der=/\s+/,fer=(t,e)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=e,a=[],s=t.trim().split(der),c="";for(let l=s.length-1;l>=0;l-=1){let u=s[l],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:b}=r(u);if(d){c=u+(c.length>0?" "+c:c);continue}let _=!!b,A=n(_?h.substring(0,b):h);if(!A){if(!_){c=u+(c.length>0?" "+c:c);continue}if(A=n(h),!A){c=u+(c.length>0?" "+c:c);continue}_=!1}let C=o(f).join(":"),R=p?C+"!":C,M=R+A;if(a.includes(M))continue;a.push(M);let U=i(A,_);for(let F=0;F<U.length;++F){let z=U[F];a.push(R+z)}c=u+(c.length>0?" "+c:c)}return c};function per(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=jXe(e))&&(n&&(n+=" "),n+=r);return n}var jXe=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=jXe(t[n]))&&(r&&(r+=" "),r+=e);return r};function her(t,...e){let r,n,i,o=a;function a(c){let l=e.reduce((u,d)=>d(u),t());return r=uer(l),n=r.cache.get,i=r.cache.set,o=s,s(c)}function s(c){let l=n(c);if(l)return l;let u=fer(c,r);return i(c,u),u}return function(){return o(per.apply(null,arguments))}}var Sa=t=>{let e=r=>r[t]||[];return e.isThemeGetter=!0,e},$Xe=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,VXe=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mer=/^\d+\/\d+$/,ber=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yer=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ger=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wer=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ver=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,MA=t=>mer.test(t),Qr=t=>!!t&&!Number.isNaN(Number(t)),Uy=t=>!!t&&Number.isInteger(Number(t)),I1e=t=>t.endsWith("%")&&Qr(t.slice(0,-1)),a5=t=>ber.test(t),Eer=()=>!0,xer=t=>yer.test(t)&&!ger.test(t),KXe=()=>!1,Aer=t=>wer.test(t),Ter=t=>ver.test(t),_er=t=>!Ut(t)&&!Ft(t),Ser=t=>BA(t,YXe,KXe),Ut=t=>$Xe.test(t),H3=t=>BA(t,JXe,xer),C1e=t=>BA(t,Oer,Qr),HXe=t=>BA(t,qXe,KXe),Ier=t=>BA(t,WXe,Ter),oK=t=>BA(t,QXe,Aer),Ft=t=>VXe.test(t),QP=t=>DA(t,JXe),Cer=t=>DA(t,Ner),zXe=t=>DA(t,qXe),Rer=t=>DA(t,YXe),Per=t=>DA(t,WXe),aK=t=>DA(t,QXe,!0),BA=(t,e,r)=>{let n=$Xe.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},DA=(t,e,r=!1)=>{let n=VXe.exec(t);return n?n[1]?e(n[1]):r:!1},qXe=t=>t==="position"||t==="percentage",WXe=t=>t==="image"||t==="url",YXe=t=>t==="length"||t==="size"||t==="bg-size",JXe=t=>t==="length",Oer=t=>t==="number",Ner=t=>t==="family-name",QXe=t=>t==="shadow";var ker=()=>{let t=Sa("color"),e=Sa("font"),r=Sa("text"),n=Sa("font-weight"),i=Sa("tracking"),o=Sa("leading"),a=Sa("breakpoint"),s=Sa("container"),c=Sa("spacing"),l=Sa("radius"),u=Sa("shadow"),d=Sa("inset-shadow"),f=Sa("text-shadow"),p=Sa("drop-shadow"),h=Sa("blur"),b=Sa("perspective"),_=Sa("aspect"),A=Sa("ease"),C=Sa("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...M(),Ft,Ut],F=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],N=()=>[Ft,Ut,c],k=()=>[MA,"full","auto",...N()],O=()=>[Uy,"none","subgrid",Ft,Ut],w=()=>["auto",{span:["full",Uy,Ft,Ut]},Uy,Ft,Ut],S=()=>[Uy,"auto",Ft,Ut],T=()=>["auto","min","max","fr",Ft,Ut],m=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],y=()=>["start","end","center","stretch","center-safe","end-safe"],E=()=>["auto",...N()],v=()=>[MA,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],x=()=>[t,Ft,Ut],g=()=>[...M(),zXe,HXe,{position:[Ft,Ut]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",Rer,Ser,{size:[Ft,Ut]}],I=()=>[I1e,QP,H3],L=()=>["","none","full",l,Ft,Ut],G=()=>["",Qr,QP,H3],H=()=>["solid","dashed","dotted","double"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[Qr,I1e,zXe,HXe],W=()=>["","none",h,Ft,Ut],J=()=>["none",Qr,Ft,Ut],X=()=>["none",Qr,Ft,Ut],te=()=>[Qr,Ft,Ut],re=()=>[MA,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[a5],breakpoint:[a5],color:[Eer],container:[a5],"drop-shadow":[a5],ease:["in","out","in-out"],font:[_er],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[a5],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[a5],shadow:[a5],spacing:["px",Qr],text:[a5],"text-shadow":[a5],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",MA,Ut,Ft,_]}],container:["container"],columns:[{columns:[Qr,Ut,Ft,s]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Uy,"auto",Ft,Ut]}],basis:[{basis:[MA,"full","auto",s,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qr,MA,"auto","initial","none",Ut]}],grow:[{grow:["",Qr,Ft,Ut]}],shrink:[{shrink:["",Qr,Ft,Ut]}],order:[{order:[Uy,"first","last","none",Ft,Ut]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:w()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:w()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...m(),"normal"]}],"justify-items":[{"justify-items":[...y(),"normal"]}],"justify-self":[{"justify-self":["auto",...y()]}],"align-content":[{content:["normal",...m()]}],"align-items":[{items:[...y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...y(),{baseline:["","last"]}]}],"place-content":[{"place-content":m()}],"place-items":[{"place-items":[...y(),"baseline"]}],"place-self":[{"place-self":["auto",...y()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:v()}],w:[{w:[s,"screen",...v()]}],"min-w":[{"min-w":[s,"screen","none",...v()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...v()]}],h:[{h:["screen","lh",...v()]}],"min-h":[{"min-h":["screen","lh","none",...v()]}],"max-h":[{"max-h":["screen","lh",...v()]}],"font-size":[{text:["base",r,QP,H3]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ft,C1e]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",I1e,Ut]}],"font-family":[{font:[Cer,Ut,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ft,Ut]}],"line-clamp":[{"line-clamp":[Qr,"none",Ft,C1e]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",Ft,Ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ft,Ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:x()}],"text-color":[{text:x()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qr,"from-font","auto",Ft,H3]}],"text-decoration-color":[{decoration:x()}],"underline-offset":[{"underline-offset":[Qr,"auto",Ft,Ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft,Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft,Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:g()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Uy,Ft,Ut],radial:["",Ft,Ut],conic:[Uy,Ft,Ut]},Per,Ier]}],"bg-color":[{bg:x()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:x()}],"gradient-via":[{via:x()}],"gradient-to":[{to:x()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:x()}],"border-color-x":[{"border-x":x()}],"border-color-y":[{"border-y":x()}],"border-color-s":[{"border-s":x()}],"border-color-e":[{"border-e":x()}],"border-color-t":[{"border-t":x()}],"border-color-r":[{"border-r":x()}],"border-color-b":[{"border-b":x()}],"border-color-l":[{"border-l":x()}],"divide-color":[{divide:x()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qr,Ft,Ut]}],"outline-w":[{outline:["",Qr,QP,H3]}],"outline-color":[{outline:x()}],shadow:[{shadow:["","none",u,aK,oK]}],"shadow-color":[{shadow:x()}],"inset-shadow":[{"inset-shadow":["none",d,aK,oK]}],"inset-shadow-color":[{"inset-shadow":x()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:x()}],"ring-offset-w":[{"ring-offset":[Qr,H3]}],"ring-offset-color":[{"ring-offset":x()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":x()}],"text-shadow":[{"text-shadow":["none",f,aK,oK]}],"text-shadow-color":[{"text-shadow":x()}],opacity:[{opacity:[Qr,Ft,Ut]}],"mix-blend":[{"mix-blend":[...$(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qr]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":x()}],"mask-image-linear-to-color":[{"mask-linear-to":x()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":x()}],"mask-image-t-to-color":[{"mask-t-to":x()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":x()}],"mask-image-r-to-color":[{"mask-r-to":x()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":x()}],"mask-image-b-to-color":[{"mask-b-to":x()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":x()}],"mask-image-l-to-color":[{"mask-l-to":x()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":x()}],"mask-image-x-to-color":[{"mask-x-to":x()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":x()}],"mask-image-y-to-color":[{"mask-y-to":x()}],"mask-image-radial":[{"mask-radial":[Ft,Ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":x()}],"mask-image-radial-to-color":[{"mask-radial-to":x()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Qr]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":x()}],"mask-image-conic-to-color":[{"mask-conic-to":x()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:g()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ft,Ut]}],filter:[{filter:["","none",Ft,Ut]}],blur:[{blur:W()}],brightness:[{brightness:[Qr,Ft,Ut]}],contrast:[{contrast:[Qr,Ft,Ut]}],"drop-shadow":[{"drop-shadow":["","none",p,aK,oK]}],"drop-shadow-color":[{"drop-shadow":x()}],grayscale:[{grayscale:["",Qr,Ft,Ut]}],"hue-rotate":[{"hue-rotate":[Qr,Ft,Ut]}],invert:[{invert:["",Qr,Ft,Ut]}],saturate:[{saturate:[Qr,Ft,Ut]}],sepia:[{sepia:["",Qr,Ft,Ut]}],"backdrop-filter":[{"backdrop-filter":["","none",Ft,Ut]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[Qr,Ft,Ut]}],"backdrop-contrast":[{"backdrop-contrast":[Qr,Ft,Ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qr,Ft,Ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qr,Ft,Ut]}],"backdrop-invert":[{"backdrop-invert":["",Qr,Ft,Ut]}],"backdrop-opacity":[{"backdrop-opacity":[Qr,Ft,Ut]}],"backdrop-saturate":[{"backdrop-saturate":[Qr,Ft,Ut]}],"backdrop-sepia":[{"backdrop-sepia":["",Qr,Ft,Ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ft,Ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qr,"initial",Ft,Ut]}],ease:[{ease:["linear","initial",A,Ft,Ut]}],delay:[{delay:[Qr,Ft,Ut]}],animate:[{animate:["none",C,Ft,Ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ft,Ut]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:te()}],"skew-x":[{"skew-x":te()}],"skew-y":[{"skew-y":te()}],transform:[{transform:[Ft,Ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:x()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:x()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft,Ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft,Ut]}],fill:[{fill:["none",...x()]}],"stroke-w":[{stroke:[Qr,QP,H3,C1e]}],stroke:[{stroke:["none",...x()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}};var ZXe=her(ker);var P1e=new Map;function hr(...t){let e=JSON.stringify(t);if(P1e.has(e))return P1e.get(e);let r=ZXe(LXe(t));return P1e.set(e,r),r}var XXe=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},eet=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},tet=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},ret=t=>t.charAt(0).toUpperCase()+t.slice(1),fo=t=>`https://images.web3auth.io/login-modal/${t}.svg`,net="https://api.web3auth.io/passwordless-service",iet=async()=>{try{let t=await EXe(`${net}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return Be.error("error getting user country",t),null}},oet=async t=>{try{let e=await qP(`${net}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e:{success:!1,parsed_number:"",country_flag:""}}catch(e){return Be.error("error validating phone number",e),e.status===400?{success:!1,parsed_number:"",country_flag:""}:{success:!1,parsed_number:"",country_flag:""}}},sK=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(T1e,e)?e:dc.en};function aet(t){let e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}var set=t=>{if(!t)return"passwordless.something-wrong-error";switch(t){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}};import{jsxs as Der,jsx as O1e}from"react/jsx-runtime";function cet(t){let{open:e=!0,padding:r=!0,shadow:n=!0,border:i=!1,showCloseIcon:o=!1,onClose:a,children:s,borderRadius:c="large"}=t,[l,u]=Mer(!1);Ber(()=>{e?setTimeout(()=>{u(!0)},50):u(!1)},[e]);let d=()=>{a&&a()};return l?Der("div",{className:hr("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":l,"w3a--translate-y-[100vh]":!l,"w3a--p-4":r,"w3a--shadow-xl sm:w3a--shadow-lg":n,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":c==="large","w3a--rounded-2xl":c==="medium","w3a--rounded-none":c==="small"}),children:[o&&O1e("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:O1e("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:d,className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:O1e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),s]}):null}import{useState as Ler,useEffect as Uer,useMemo as uet}from"react";import{jsx as cK,jsxs as Fer}from"react/jsx-runtime";function det(t){let{children:e,open:r,onClose:n,placement:i="center",padding:o=!0,shadow:a=!0,border:s=!1,showCloseIcon:c=!0,borderRadius:l="large"}=t,[u,d]=Ler(!1);Uer(()=>{r?(document.body.style.overflow="hidden",setTimeout(()=>{d(!0)},50)):(d(!1),document.body.style.overflow="")},[r]);let f=uet(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),p=uet(()=>f[i],[i,f]),h=()=>{n&&n()};return cK("div",{className:hr("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",p,{"w3a--w-screen w3a--h-screen":u,"w3a--w-0 w3a--h-0 w3a--delay-500":!u}),children:Fer("div",{className:hr("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":u,"w3a--translate-y-[100vh]":!u,"w3a--p-4":o,"w3a--shadow-xl sm:w3a--shadow-lg":a,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":s,"w3a--rounded-[30px]":l==="large","w3a--rounded-2xl":l==="medium","w3a--rounded-none":l==="small"}),children:[c&&cK("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:cK("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:h,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:cK("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),e]})})}nt();import{useContext as yir,useState as GK,useMemo as pu,useCallback as gir}from"react";import{useTranslation as wir}from"react-i18next";import{createContext as Her}from"react";var Rp=Her({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:F3.SUCCESS},setBodyState:()=>{},setToast:()=>{}});import{createContext as zer}from"react";var Fy=zer({isDark:!0});var _r=t=>typeof t=="string",ZP=()=>{let t,e,r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},fet=t=>t==null?"":""+t,Ger=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},jer=/###/g,pet=t=>t&&t.indexOf("###")>-1?t.replace(jer,"."):t,het=t=>!t||_r(t),XP=(t,e,r)=>{let n=_r(e)?e.split("."):e,i=0;for(;i<n.length-1;){if(het(t))return{};let o=pet(n[i]);!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return het(t)?{}:{obj:t,k:pet(n[i])}},met=(t,e,r)=>{let{obj:n,k:i}=XP(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let o=e[e.length-1],a=e.slice(0,e.length-1),s=XP(t,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=XP(t,a,Object),s?.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=r},$er=(t,e,r,n)=>{let{obj:i,k:o}=XP(t,e,Object);i[o]=i[o]||[],i[o].push(r)},uK=(t,e)=>{let{obj:r,k:n}=XP(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Ver=(t,e,r)=>{let n=uK(t,r);return n!==void 0?n:uK(e,r)},Tet=(t,e,r)=>{for(let n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?_r(t[n])||t[n]instanceof String||_r(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Tet(t[n],e[n],r):t[n]=e[n]);return t},LA=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),Ker={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},qer=t=>_r(t)?t.replace(/[&<>"'\/]/g,e=>Ker[e]):t,k1e=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let r=this.regExpMap.get(e);if(r!==void 0)return r;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}},Wer=[" ",",","?","!",";"],Yer=new k1e(20),Jer=(t,e,r)=>{e=e||"",r=r||"";let n=Wer.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;let i=Yer.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`),o=!i.test(t);if(!o){let a=t.indexOf(r);a>0&&!i.test(t.substring(0,a))&&(o=!0)}return o},M1e=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let n=e.split(r),i=t;for(let o=0;o<n.length;){if(!i||typeof i!="object")return;let a,s="";for(let c=o;c<n.length;++c)if(c!==o&&(s+=r),s+=n[c],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;o+=c-o+1;break}i=a}return i},eO=t=>t?.replace("_","-"),Qer={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},B1e=class t{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||Qer,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(_r(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Pp=new B1e,UA=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let a=0;a<o;a++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let a=0;a<o;a++)i.apply(i,[e,...r])})}},dK=class extends UA{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){let o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):_r(n)&&o?s.push(...n.split(o)):s.push(n)));let c=uK(this.data,s);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),c||!a||!_r(n)?c:M1e(this.data?.[e]?.[r],n,o)}addResource(e,r,n,i,o={silent:!1}){let a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=[e,r];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),met(this.data,s,i),o.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(let o in n)(_r(n[o])||Array.isArray(n[o]))&&this.addResource(e,r,o,n[o],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,o,a={silent:!1,skipCopy:!1}){let s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let c=uK(this.data,s)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Tet(c,n,o):c={...c,...n},met(this.data,s,c),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}},_et={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(o=>{e=this.processors[o]?.process(e,r,n,i)??e}),e}},Iet=Symbol("i18next/PATH_KEY");function Zer(){let t=[],e=Object.create(null),r;return e.get=(n,i)=>(r?.revoke?.(),i===Iet?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function D1e(t,e){let{[Iet]:r}=t(Zer());return r.join(e?.keySeparator??".")}var bet={},yet=t=>!_r(t)&&typeof t!="boolean"&&typeof t!="number",fK=class t extends UA{constructor(e,r={}){super(),Ger(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Pp.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){let n={...r};return e==null?!1:this.resolve(e,n)?.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Jer(e,n,i);if(a&&!s){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:_r(o)?[o]:o};let l=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),e=l.join(i)}return{key:e,namespaces:_r(o)?[o]:o}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=D1e(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:c}=this.extractFromKey(e[e.length-1],i),l=c[c.length-1],u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");let d=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return f?o?{res:`${l}${u}${s}`,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${u}${s}`:o?{res:s,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:s;let p=this.resolve(e,i),h=p?.res,b=p?.usedKey||s,_=p?.exactUsedKey||s,A=["[object Number]","[object Function]","[object RegExp]"],C=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,M=i.count!==void 0&&!_r(i.count),U=t.hasDefaultValue(i),F=M?this.pluralResolver.getSuffix(d,i.count,i):"",z=i.ordinal&&M?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",N=M&&!i.ordinal&&i.count===0,k=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${F}`]||i[`defaultValue${z}`]||i.defaultValue,O=h;R&&!h&&U&&(O=k);let w=yet(O),S=Object.prototype.toString.apply(O);if(R&&O&&w&&A.indexOf(S)<0&&!(_r(C)&&Array.isArray(O))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,O,{...i,ns:c}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(p.res=T,p.usedParams=this.getUsedParamsDetails(i),p):T}if(a){let T=Array.isArray(O),m=T?[]:{},y=T?_:b;for(let E in O)if(Object.prototype.hasOwnProperty.call(O,E)){let v=`${y}${a}${E}`;U&&!h?m[E]=this.translate(v,{...i,defaultValue:yet(k)?k[E]:void 0,joinArrays:!1,ns:c}):m[E]=this.translate(v,{...i,joinArrays:!1,ns:c}),m[E]===v&&(m[E]=O[E])}h=m}}else if(R&&_r(C)&&Array.isArray(h))h=h.join(C),h&&(h=this.extendTranslation(h,e,i,n));else{let T=!1,m=!1;!this.isValidLookup(h)&&U&&(T=!0,h=k),this.isValidLookup(h)||(m=!0,h=s);let E=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&m?void 0:h,v=U&&k!==h&&this.options.updateMissing;if(m||T||v){if(this.logger.log(v?"updateKey":"missingKey",d,l,s,v?k:h),a){let B=this.resolve(s,{...i,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let x=[],g=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&g&&g[0])for(let B=0;B<g.length;B++)x.push(g[B]);else this.options.saveMissingTo==="all"?x=this.languageUtils.toResolveHierarchy(i.lng||this.language):x.push(i.lng||this.language);let P=(B,I,L)=>{let G=U&&L!==h?L:E;this.options.missingKeyHandler?this.options.missingKeyHandler(B,l,I,G,v,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(B,l,I,G,v,i),this.emit("missingKey",B,l,I,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?x.forEach(B=>{let I=this.pluralResolver.getSuffixes(B,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&I.indexOf(`${this.options.pluralSeparator}zero`)<0&&I.push(`${this.options.pluralSeparator}zero`),I.forEach(L=>{P([B],s+L,i[`defaultValue${L}`]||k)})}):P(x,s,k))}h=this.extendTranslation(h,e,i,p,n),m&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${l}${u}${s}`),(m||T)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${u}${s}`:s,T?h:void 0,i))}return o?(p.res=h,p.usedParams=this.getUsedParamsDetails(i),p):h}extendTranslation(e,r,n,i,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});let c=_r(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(c){let d=e.match(this.interpolator.nestingRegexp);l=d&&d.length}let u=n.replace&&!_r(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,n.lng||this.language||i.usedLng,n),c){let d=e.match(this.interpolator.nestingRegexp),f=d&&d.length;l<f&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...d)=>o?.[0]===d[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${r[0]}`),null):this.translate(...d,r),n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,s=_r(a)?[a]:a;return e!=null&&s?.length&&n.applyPostProcessor!==!1&&(e=_et.handle(s,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,o,a,s;return _r(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;let l=this.extractFromKey(c,r),u=l.key;i=u;let d=l.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let f=r.count!==void 0&&!_r(r.count),p=f&&!r.ordinal&&r.count===0,h=r.context!==void 0&&(_r(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);d.forEach(_=>{this.isValidLookup(n)||(s=_,!bet[`${b[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(s)&&(bet[`${b[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(A=>{if(this.isValidLookup(n))return;a=A;let C=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,u,A,_,r);else{let M;f&&(M=this.pluralResolver.getSuffix(A,r.count,r));let U=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(r.ordinal&&M.indexOf(F)===0&&C.push(u+M.replace(F,this.options.pluralSeparator)),C.push(u+M),p&&C.push(u+U)),h){let z=`${u}${this.options.contextSeparator||"_"}${r.context}`;C.push(z),f&&(r.ordinal&&M.indexOf(F)===0&&C.push(z+M.replace(F,this.options.pluralSeparator)),C.push(z+M),p&&C.push(z+U))}}let R;for(;R=C.pop();)this.isValidLookup(n)||(o=R,n=this.getResource(A,_,R,r))}))})}),{res:n,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){let r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!_r(e.replace),i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(let o of r)delete i[o]}return i}static hasDefaultValue(e){let r="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}},pK=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Pp.create("languageUtils")}getScriptPartFromCode(e){if(e=eO(e),!e||e.indexOf("-")<0)return null;let r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=eO(e),!e||e.indexOf("-")<0)return e;let r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(_r(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;let i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;let i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;let o=this.getLanguagePartFromCode(n);if(this.isSupportedCode(o))return r=o;r=this.options.supportedLngs.find(a=>{if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&(a.indexOf("-")>0&&o.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===o||a.indexOf(o)===0&&o.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),_r(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){let n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return _r(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):_r(e)&&o(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}},get={zero:0,one:1,two:2,few:3,many:4,other:5},wet={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})},L1e=class{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Pp.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){let n=eO(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),wet;if(!e.match(/-|_/))return wet;let c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,r)}return this.pluralRulesCache[o]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,o)=>get[i]-get[o]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){let i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}},vet=(t,e,r,n=".",i=!0)=>{let o=Ver(t,e,r);return!o&&i&&_r(r)&&(o=M1e(t,r,n),o===void 0&&(o=M1e(e,r,n))),o},N1e=t=>t.replace(/\$/g,"$$$$"),U1e=class{constructor(e={}){this.logger=Pp.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:c,formatSeparator:l,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:h,nestingSuffixEscaped:b,nestingOptionsSeparator:_,maxReplaces:A,alwaysFormat:C}=e.interpolation;this.escape=r!==void 0?r:qer,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?LA(o):a||"{{",this.suffix=s?LA(s):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?LA(f):p||LA("$t("),this.nestingSuffix=h?LA(h):b||LA(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=A||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let o,a,s,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=p=>{if(p.indexOf(this.formatSeparator)<0){let A=vet(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,n,{...i,...r,interpolationkey:p}):A}let h=p.split(this.formatSeparator),b=h.shift().trim(),_=h.join(this.formatSeparator).trim();return this.format(vet(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...i,...r,interpolationkey:b})};this.resetRegExp();let u=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>N1e(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?N1e(this.escape(p)):N1e(p)}].forEach(p=>{for(s=0;o=p.regex.exec(e);){let h=o[1].trim();if(a=l(h),a===void 0)if(typeof u=="function"){let _=u(e,o,i);a=_r(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,h))a="";else if(d){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${h} for interpolating ${e}`),a="";else!_r(a)&&!this.useRawValueToEscape&&(a=fet(a));let b=p.safeValue(a);if(e=e.replace(o[0],b),d?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,o,a,s=(c,l)=>{let u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;let d=c.split(new RegExp(`${u}[ ]*{`)),f=`{${d[1]}`;c=d[0],f=this.interpolate(f,a);let p=f.match(/'/g),h=f.match(/"/g);((p?.length??0)%2===0&&!h||h.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),l&&(a={...l,...a})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${u}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!_r(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(l!==-1&&(c=i[1].slice(l).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),o=r(s.call(this,i[1].trim(),a),a),o&&i[0]===e&&!_r(o))return o;_r(o)||(o=fet(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),c.length&&(o=c.reduce((u,d)=>this.format(u,d,n.lng,{...n,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}},Xer=t=>{let e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){let n=t.split("(");e=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(a=>{if(a){let[s,...c]=a.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),u=s.trim();r[u]||(r[u]=l),l==="false"&&(r[u]=!1),l==="true"&&(r[u]=!0),isNaN(l)||(r[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:r}},Eet=t=>{let e={};return(r,n,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});let a=n+JSON.stringify(o),s=e[a];return s||(s=t(eO(n),i),e[a]=s),s(r)}},etr=t=>(e,r,n)=>t(eO(r),n)(e),F1e=class{constructor(e={}){this.logger=Pp.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";let n=r.cacheInBuiltFormats?Eet:etr;this.formats={number:n((i,o)=>{let a=new Intl.NumberFormat(i,{...o});return s=>a.format(s)}),currency:n((i,o)=>{let a=new Intl.NumberFormat(i,{...o,style:"currency"});return s=>a.format(s)}),datetime:n((i,o)=>{let a=new Intl.DateTimeFormat(i,{...o});return s=>a.format(s)}),relativetime:n((i,o)=>{let a=new Intl.RelativeTimeFormat(i,{...o});return s=>a.format(s,o.range||"day")}),list:n((i,o)=>{let a=new Intl.ListFormat(i,{...o});return s=>a.format(s)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Eet(r)}format(e,r,n,i={}){let o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(s=>s.indexOf(")")>-1)){let s=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,s)].join(this.formatSeparator)}return o.reduce((s,c)=>{let{formatName:l,formatOptions:u}=Xer(c);if(this.formats[l]){let d=s;try{let f=i?.formatParams?.[i.interpolationkey]||{},p=f.locale||f.lng||i.locale||i.lng||n;d=this.formats[l](s,p,{...u,...i,...f})}catch(f){this.logger.warn(f)}return d}else this.logger.warn(`there was no format function for ${l}`);return s},e)}},ttr=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},H1e=class extends UA{constructor(e,r,n,i={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Pp.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){let o={},a={},s={},c={};return e.forEach(l=>{let u=!0;r.forEach(d=>{let f=`${l}|${d}`;!n.reload&&this.store.hasResourceBundle(l,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,u=!1,a[f]===void 0&&(a[f]=!0),o[f]===void 0&&(o[f]=!0),c[d]===void 0&&(c[d]=!0)))}),u||(s[l]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){let i=e.split("|"),o=i[0],a=i[1];r&&this.emit("failedLoading",o,a,r),!r&&n&&this.store.addResourceBundle(o,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);let s={};this.queue.forEach(c=>{$er(c.loaded,[o],a),ttr(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{s[l]||(s[l]={});let u=c.loaded[l];u.length&&u.forEach(d=>{s[l][d]===void 0&&(s[l][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,i=0,o=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:o,callback:a});return}this.readingCalls++;let s=(l,u)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(l&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,o*2,a)},o);return}a(l,u)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let l=c(e,r);l&&typeof l.then=="function"?l.then(u=>s(null,u)).catch(s):s(null,l)}catch(l){s(l)}return}return c(e,r,s)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();_r(e)&&(e=this.languageUtils.toResolveHierarchy(e)),_r(r)&&(r=[r]);let o=this.queueLoad(e,r,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){let n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${r}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${r}loaded namespace ${o} for language ${i}`,s),this.loaded(e,a,s)})}saveMissing(e,r,n,i,o,a={},s=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){let c={...a,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let u;l.length===5?u=l(e,r,n,i,c):u=l(e,r,n,i),u&&typeof u.then=="function"?u.then(d=>s(null,d)).catch(s):s(null,u)}catch(u){s(u)}else l(e,r,n,i,s,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}},xet=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),_r(t[1])&&(e.defaultValue=t[1]),_r(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Aet=t=>(_r(t.ns)&&(t.ns=[t.ns]),_r(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),_r(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),lK=()=>{},rtr=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})},hK=class t extends UA{constructor(e={},r){if(super(),this.options=Aet(e),this.services={},this.logger=Pp,this.modules={external:[]},rtr(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(_r(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let n=xet();this.options={...n,...this.options,...Aet(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Pp.init(i(this.modules.logger),this.options):Pp.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=F1e;let u=new pK(this.options);this.store=new dK(this.options.resources,this.options);let d=this.services;d.logger=Pp,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new L1e(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(d.formatter=i(l),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new U1e(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new H1e(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...h)=>{this.emit(p,...h)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new fK(this.services,this.options),this.translator.on("*",(p,...h)=>{this.emit(p,...h)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=lK),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...u)=>this.store[l](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...u)=>(this.store[l](...u),this)});let s=ZP(),c=()=>{let l=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(d),r(u,d)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),s}loadResources(e,r=lK){let n=r,i=_r(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let o=[],a=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(l=>{l!=="cimode"&&o.indexOf(l)<0&&o.push(l)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload?.forEach?.(s=>a(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(s)})}else n(null)}reloadResources(e,r,n){let i=ZP();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=lK),this.services.backendConnector.reload(e,r,o=>{i.resolve(),n(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_et.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){let n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;let n=ZP();this.emit("languageChanging",e);let i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},o=(s,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...l)=>this.t(...l)),r&&r(s,(...l)=>this.t(...l))},a=s=>{!e&&!s&&this.services.languageDetector&&(s=[]);let c=_r(s)?s:s&&s[0],l=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(_r(s)?[s]:s);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector?.cacheUserLanguage?.(l)),this.loadResources(l,u=>{o(u,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){let i=(o,a,...s)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([o,a].concat(s)):c={...a},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);let l=this.options.keySeparator||".",u;return c.keyPrefix&&Array.isArray(o)?u=o.map(d=>(typeof d=="function"&&(d=D1e(d,{...this.options,...a})),`${c.keyPrefix}${l}${d}`)):(typeof o=="function"&&(o=D1e(o,{...this.options,...a})),u=c.keyPrefix?`${c.keyPrefix}${l}${o}`:o),this.t(u,c)};return _r(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let a=(s,c)=>{let l=this.services.backendConnector.state[`${s}|${c}`];return l===-1||l===0||l===2};if(r.precheck){let s=r.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(o,e)))}loadNamespaces(e,r){let n=ZP();return this.options.ns?(_r(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){let n=ZP();_r(e)&&(e=[e]);let i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let o=i.getTextInfo();if(o&&o.direction)return o.direction}}catch{}let r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new pK(xet());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new t(e,r)}cloneInstance(e={},r=lK){let n=e.forkResourceStore;n&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},o=new t(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){let s=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},c[l]=Object.keys(c[l]).reduce((u,d)=>(u[d]={...c[l][d]},u),c[l]),c),{});o.store=new dK(s,i),o.services.resourceStore=o.store}return o.translator=new fK(o.services,i),o.translator.on("*",(s,...c)=>{o.emit(s,...c)}),o.init(i,r),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},ks=hK.createInstance();ks.createInstance=hK.createInstance;var T8n=ks.createInstance,_8n=ks.dir,S8n=ks.init,I8n=ks.loadResources,C8n=ks.reloadResources,R8n=ks.use,P8n=ks.changeLanguage,O8n=ks.getFixedT,N8n=ks.t,k8n=ks.exists,M8n=ks.setDefaultNamespace,B8n=ks.hasLoadedNamespace,D8n=ks.loadNamespaces,L8n=ks.loadLanguages;G1e();import{initReactI18next as ntr}from"react-i18next";var mr=ks.createInstance();mr.use(ntr).init({resources:{en:{translation:z1e}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});import{jsxs as Oet,Fragment as itr,jsx as mK}from"react/jsx-runtime";function j1e({isShown:t,onClose:e,children:r,uiConfig:n}){let{borderRadiusType:i="large"}=n;return Oet(itr,{children:[mK("div",{className:hr("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),onClick:e,"aria-hidden":"true",role:"button"}),Oet("div",{className:hr(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col 
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${t?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),children:[mK("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:mK("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:e,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:mK("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),r]})]})}nt();import{useContext as ktt,useState as K3,useMemo as Np}from"react";import{createContext as otr}from"react";var FA=otr({analytics:void 0});import{useMemo as atr}from"react";import{useTranslation as str}from"react-i18next";import{jsx as tO,jsxs as ctr}from"react/jsx-runtime";function Net(t){let{isDark:e,isLoading:r,selectedChain:n,setSelectedChain:i,chainNamespace:o}=t,[a]=str(void 0,{i18n:mr}),s=atr(()=>{let c=[{id:"all",name:"modal.allChains",icon:""}];for(let l of o)(l===pt.EIP155||l===pt.SOLANA)&&c.push({id:l,name:l===pt.EIP155?"EVM":l,icon:l===pt.EIP155?"ethereum":l});return c},[o]);return r?tO("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:s.length}).map((c,l)=>tO("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${l}`))}):tO("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:s.map(c=>ctr("button",{type:"button",className:hr("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":n===c.id}),onClick:()=>i(c.id),children:[c.icon&&tO("img",{src:fo(e?`${c.icon}-dark`:`${c.icon}-light`),alt:c.name,className:"w3a--size-5 w3a--object-contain"}),tO("span",{className:"first-letter:w3a--capitalize",children:a(c.name)})]},c.id))})}import{useTranslation as ltr}from"react-i18next";import{jsxs as utr,jsx as rO}from"react/jsx-runtime";function bK(t){let{onBackClick:e,currentPage:r,selectedButton:n}=t,[i]=ltr(void 0,{i18n:mr});return utr("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[rO("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>{e&&e()},children:rO("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:rO("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),rO("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:r===Kf.SELECTED_WALLET?n?.displayName:r===Kf.CONNECT_WALLET?i("modal.connectYourWallet"):r}),rO("div",{className:"w3a--z-[-1] w3a--size-5"})]})}import{useState as gtr}from"react";import{useTranslation as zet}from"react-i18next";var s5={SOCIAL:"social",WALLET:"wallet"};import{useContext as dtr,useMemo as ket}from"react";import{jsx as yK}from"react/jsx-runtime";function Ia(t){let{id:e="",isButton:r=!1,imageData:n="",height:i="auto",width:o="auto",extension:a="svg",darkImageId:s="",darkHoverImageId:c="",imageId:l,hoverImageId:u,fallbackImageId:d}=t,{isDark:f}=dtr(Fy),p=ket(()=>f&&s?s:l,[f,s,l]),h=ket(()=>f&&c?c:u,[f,c,u]);return r?n?yK("img",{id:e,src:n,height:i,width:o,alt:u,className:hr("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):yK("img",{id:e,src:`https://images.web3auth.io/${h}.${a}`,height:i,width:o,alt:u,className:hr("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):n?yK("img",{id:e,src:n,height:i,width:o,alt:l,className:hr("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:b})=>{if(d){let _=b;_.onerror=null,_.src=`https://images.web3auth.io/${d}.svg`}}}):yK("img",{id:e,src:`https://images.web3auth.io/${p}.${a}`,height:i,width:o,alt:l,className:hr("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:b})=>{if(d){let _=b;_.onerror=null,_.src=`https://images.web3auth.io/${d}.svg`}}})}import{jsxs as ftr,jsx as $1e}from"react/jsx-runtime";function ptr(t,e,r){let n=t===Je.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===Je.APPLE||t===Je.GITHUB||t===Je.TWITTER?n:`login-${t}-active`;return r?$1e(Ia,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):$1e(Ia,{width:"20",imageId:n,hoverImageId:i})}function Met(t){let{text:e,showIcon:r,showText:n,method:i,isDark:o,isPrimaryBtn:a,onClick:s,children:c,btnStyle:l,buttonRadius:u="pill"}=t;return ftr("button",{type:"button",onClick:d=>s&&s(d),className:hr("w3a--btn",l,{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[r&&ptr(i,o,a),n&&$1e("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e}),c]})}var Uet=ve(Bet());import{useContext as htr,useMemo as Det}from"react";import{useTranslation as mtr}from"react-i18next";import{jsxs as Let,jsx as nO}from"react/jsx-runtime";function Fet(t){let[e]=mtr(void 0,{i18n:mr}),{deviceDetails:r,button:n,walletConnectUri:i,onClick:o,label:a,buttonRadius:s}=t,c=htr(Fy),l=Det(()=>r.platform!=="desktop"&&n.href&&n.hasWalletConnect&&!n.isInstalled,[r,n]),u=Det(()=>n.href?aet({uri:i,link:n.href}):i,[n,i]),d=()=>{u&&l?window.open(u,"_blank"):o&&o()};return Let("button",{type:"button",className:(0,Uet.default)(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"}),onClick:d,children:[Let("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[nO("figure",{className:"w3a--size-5",children:nO(Ia,{imageData:n.icon,imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:n.imgExtension||"webp"})}),nO("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:a})]}),n.hasInjectedWallet&&nO("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e("modal.external.installed")}),nO("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:fo(c?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}import{jsxs as btr,Fragment as ytr,jsx as Het}from"react/jsx-runtime";function HA(t){let{type:e,props:r}=t,n=r,i=r,{text:o,showIcon:a,showText:s,method:c,isDark:l,isPrimaryBtn:u,onClick:d,children:f,btnStyle:p,buttonRadius:h}=n,{label:b,onClick:_,button:A,deviceDetails:C,walletConnectUri:R,buttonRadius:M}=i;return btr(ytr,{children:[e===s5.SOCIAL&&Het(Met,{text:o,showIcon:a,showText:s,method:c,isDark:l,isPrimaryBtn:u,onClick:d,btnStyle:p,buttonRadius:h,children:f}),e===s5.WALLET&&Het(Fet,{label:b,walletConnectUri:R,onClick:_,button:A,deviceDetails:C,buttonRadius:M})]})}import{jsxs as Get,Fragment as wtr,jsx as uu}from"react/jsx-runtime";function vtr(){let[t]=zet(void 0,{i18n:mr});return uu("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:t("modal.external.no-wallets-found")})}function Etr(t){let{externalButtons:e,isLoading:r,handleWalletClick:n,deviceDetails:i,walletConnectUri:o,buttonRadius:a}=t;return r?uu("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((s,c)=>uu("div",{className:hr("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"})},`loader-${c}`))}):uu("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:e.map(s=>uu(HA,{type:s5.WALLET,props:{label:s.displayName,onClick:()=>n(s),button:s,deviceDetails:i,walletConnectUri:o,buttonRadius:a}},s.name))})}function xtr(t){let{totalExternalWalletsCount:e,initialWalletCount:r,handleMoreWallets:n,isLoading:i,isDark:o,buttonRadius:a}=t,[s]=zet(void 0,{i18n:mr}),c=()=>{n&&n()};return i&&r<e?uu("div",{className:hr("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"})}):Get("button",{type:"button",className:hr("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"}),onClick:c,children:[uu("img",{src:fo(o?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),uu("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s("modal.connect-wallet.more-wallets")}),uu("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e-r})]})}function jet(t){let{externalButtons:e,isLoading:r,totalExternalWalletsCount:n,initialWalletCount:i,handleWalletClick:o,handleMoreWallets:a,isDark:s,deviceDetails:c,walletConnectUri:l,buttonRadius:u}=t,[d,f]=gtr(!0),p=()=>{f(!1),a()};return Get(wtr,{children:[uu("ul",{className:hr("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!d}),children:e.length===0?uu(vtr,{}):uu(Etr,{externalButtons:e,isLoading:r,handleWalletClick:o,deviceDetails:c,walletConnectUri:l,buttonRadius:u})}),d&&n>15&&!r&&i<n&&uu(xtr,{totalExternalWalletsCount:n,initialWalletCount:i,handleMoreWallets:p,isLoading:r,isDark:s,buttonRadius:u})]})}nt();var Ptt=ve(hT()),Ott=ve(Rtt());import{useContext as nnr,useMemo as inr}from"react";import{useTranslation as onr}from"react-i18next";import{jsxs as PK,jsx as V3}from"react/jsx-runtime";function OK(t){var e;let[r]=onr(void 0,{i18n:mr}),{bodyState:n,setBodyState:i}=nnr(Rp),{qrCodeValue:o,isDark:a,selectedButton:s,logoImage:c,primaryColor:l}=t,u=inr(()=>typeof window>"u"?!1:Ptt.default.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),d=document.documentElement,f="#FFFFFF",p="#000000",h=((e=getComputedStyle(d))===null||e===void 0||(e=e.getPropertyValue("--app-gray-800"))===null||e===void 0?void 0:e.trim())||"#1f2a37",b=l&&l.toLowerCase()==="#ffffff"?"#000000":l;return PK("div",{className:"w3a--contents",children:[o?PK("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[V3("div",{className:"w3a--relative w3a--flex w3a--size-[300px] w3a--items-center w3a--justify-center w3a--rounded-2xl",children:V3(Ott.QRCode,{size:u?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:c||NXe,value:o,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:a?f:b,bgColor:a?h:f,fgColor:a?f:p})}),V3("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:r("modal.external.walletconnect-copy")})]}):V3("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:V3(Ia,{imageId:`login-${s.name}`,hoverImageId:`login-${s.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:s.imgExtension})}),PK("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[PK("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[r("modal.external.dont-have")," ",V3("span",{children:s?.displayName}),"?"]}),V3("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{i(q(q({},n),{},{installLinks:{show:!0,wallet:s}}))},children:r("modal.external.get-wallet")})]})]})}import{useState as anr}from"react";import{useTranslation as snr}from"react-i18next";import{jsx as cnr}from"react/jsx-runtime";function Ntt(t){let{totalExternalWalletCount:e,isLoading:r,walletSearch:n,handleWalletSearch:i,buttonRadius:o}=t,[a,s]=anr(!1),[c]=snr(void 0,{i18n:mr});return cnr("input",{type:"text",value:n,onInput:u=>{i(u),s(!0)},onFocus:u=>{u.target.placeholder="",s(!0)},onBlur:u=>{u.target.placeholder=c("modal.external.search-wallet",{count:e}),s(!1)},placeholder:r?c("modal.external.search-wallet-loading"):c("modal.external.search-wallet",{count:e}),disabled:r,className:hr("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",a&&"!w3a--border-app-primary-600",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})})}import{jsxs as Mtt,jsx as lO}from"react/jsx-runtime";function Btt(t){var e;let{isDark:r,config:n,walletConnectUri:i,metamaskConnectUri:o,walletRegistry:a,allExternalButtons:s,customConnectorButtons:c,connectorVisibilityMap:l,deviceDetails:u,buttonRadius:d="pill",chainNamespace:f,onBackClick:p,handleExternalWalletClick:h,handleWalletDetailsHeight:b}=t,{bodyState:_,setBodyState:A}=ktt(Rp),{analytics:C}=ktt(FA),[R,M]=K3(Kf.CONNECT_WALLET),[U,F]=K3(!1),[z]=K3(!1),[N,k]=K3(null),[O,w]=K3(""),[S,T]=K3("all"),[m,y]=K3(!1),E=()=>{if(!U&&R===Kf.CONNECT_WALLET&&p){p(!1);return}U&&(M(Kf.CONNECT_WALLET),F(!1),b())},v=Np(()=>a&&Object.keys(a.default||{}).length>0&&Object.keys(a.others||{}).length>0,[a]),x=Np(()=>{let te=new Set;return c.concat(s).filter(re=>te.has(re.name)?!1:(te.add(re.name),!0))},[s,c]),g=Np(()=>new Set(Object.keys(a.default)),[a]),P=Np(()=>{let te=[...s.filter(le=>le.hasInjectedWallet&&g.has(le.name)),...c,...s.filter(le=>!le.hasInjectedWallet&&g.has(le.name))].sort((le,ce)=>le.name===it.METAMASK&&ce.name===it.METAMASK?le.hasInjectedWallet?-1:ce.hasInjectedWallet?1:le.isInstalled?-1:ce.isInstalled?1:0:le.name===it.METAMASK?-1:ce.name===it.METAMASK?1:0),re=new Set;return te.filter(le=>re.has(le.name)?!1:(re.add(le.name),!0)).filter(le=>{var ce;return S==="all"||((ce=le.chainNamespaces)===null||ce===void 0?void 0:ce.includes(S))})},[s,c,g,S]),B=Np(()=>{let te=l;return Object.keys(n).reduce((re,le)=>(le!==it.WALLET_CONNECT_V2&&te[le]&&re.push({name:le,displayName:n[le].label||le,hasInjectedWallet:n[le].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),re),[])},[l,n]),I=te=>{let re=te.target.value;w(re)},L=te=>{T(te),y(!1)},G=Np(()=>v?[...x.filter(te=>te.hasInjectedWallet),...x.filter(te=>!te.hasInjectedWallet)].sort((te,re)=>te.name===it.METAMASK?-1:1).filter(te=>S==="all"||te.chainNamespaces.includes(S)).filter(te=>te.name.toLowerCase().includes(O.toLowerCase())):B,[v,B,O,x,S]),H=Np(()=>v&&!O&&!m?P:G,[v,O,G,P,m]),$=Np(()=>G.length,[G]),K=Np(()=>m?$:v?P.length:B.length,[v,P,B,m,$]),W=te=>{if(C?.track(Ur.EXTERNAL_WALLET_SELECTED,{connector:te.isInstalled?te.name:te.hasWalletConnect?it.WALLET_CONNECT_V2:"",wallet_name:te.displayName,is_installed:te.isInstalled,is_injected:te.hasInjectedWallet,chain_namespaces:te.chainNamespaces,has_wallet_connect:te.hasWalletConnect,has_install_links:te.hasInstallLinks,has_wallet_registry_item:!!te.walletRegistryItem,total_external_wallets:x.length}),te.isInstalled){var re;if(te.name===it.METAMASK&&!te.hasInjectedWallet&&u.platform==="desktop"){h({connector:te.name}),k(te),F(!0),M(Kf.SELECTED_WALLET),b();return}if(((re=te.chainNamespaces)===null||re===void 0?void 0:re.length)>1){A(q(q({},_),{},{multiChainSelector:{show:!0,wallet:te}}));return}h({connector:te.name});return}else te.hasWalletConnect?(k(te),F(!0),M(Kf.SELECTED_WALLET),b()):A(q(q({},_),{},{installLinks:{show:!0,wallet:te}}))},J=()=>{y(!0)},X=Np(()=>U?N.name===it.METAMASK&&!N.hasInjectedWallet?o:i:null,[o,N,U,i]);return Mtt("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[lO(bK,{onBackClick:E,currentPage:R,selectedButton:N}),U?lO(OK,{qrCodeValue:X,isDark:r,selectedButton:N,primaryColor:(e=N.walletRegistryItem)===null||e===void 0?void 0:e.primaryColor,logoImage:`https://images.web3auth.io/login-${N.name}.${N.imgExtension}`}):Mtt("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[lO(Net,{isDark:r,isLoading:z,selectedChain:S,setSelectedChain:L,chainNamespace:f}),lO(Ntt,{totalExternalWalletCount:$,isLoading:z,walletSearch:O,handleWalletSearch:I,buttonRadius:d}),lO(jet,{externalButtons:H,isLoading:z,totalExternalWalletsCount:$,initialWalletCount:K,handleWalletClick:W,handleMoreWallets:J,isDark:r,deviceDetails:u,walletConnectUri:i,buttonRadius:d})]})]})}import{useTranslation as lnr}from"react-i18next";import{jsxs as ipe,jsx as kp}from"react/jsx-runtime";var Dtt=t=>{let{isDark:e,wallet:r,handleExternalWalletClick:n}=t,[i]=lnr(void 0,{i18n:mr}),o=r.chainNamespaces.sort().map(a=>({chainNamespace:a,displayName:a==="eip155"?"EVM":a,imageId:`chain-${a==="eip155"?"evm":a}`}));return ipe("div",{children:[kp("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:kp("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),kp("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:kp(Ia,{imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:r.imgExtension})}),kp("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500",children:i("modal.external.select-chain-description",{wallet:r.displayName})}),kp("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:o.map(({chainNamespace:a,displayName:s,imageId:c})=>kp("li",{children:ipe("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>n({connector:r.name,chainNamespace:a}),children:[ipe("div",{className:"w3a--flex w3a--items-center",children:[kp(Ia,{imageId:c,hoverImageId:c,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),kp("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm first-letter:w3a--capitalize",children:s})]}),kp("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:fo(e?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},a))})]})};import{useTranslation as unr}from"react-i18next";import{jsxs as uO,Fragment as dnr,jsx as ope}from"react/jsx-runtime";function Ltt({privacyPolicy:t,termsOfService:e}){let[r]=unr(void 0,{i18n:mr});return uO("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(t||e)&&uO("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[r("modal.footer.by-signing-in")," ",e&&uO("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[r("modal.footer.terms-of-service")," "]}),t&&uO(dnr,{children:[r("modal.footer.and")," ",ope("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:r("modal.footer.privacy-policy")})]})]}),uO("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[ope("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),ope("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}import{useEffect as pnr,useMemo as hnr}from"react";import{useTranslation as mnr}from"react-i18next";import{jsxs as fnr,jsx as ape}from"react/jsx-runtime";var $A=()=>fnr("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[ape("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),ape("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),ape("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});import{jsxs as VA,jsx as C0}from"react/jsx-runtime";function bnr(t){let[e]=mnr(void 0,{i18n:mr}),{connector:r,appLogo:n,connectorName:i}=t,o=hnr(()=>r==="twitter"?C0(Ia,{imageId:"login-x-dark"}):C0(Ia,{imageId:`login-${r}`,height:"40",width:"40"}),[r]);return VA("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[VA("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[C0("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:C0("img",{src:n,alt:"",className:"w3a--size-full w3a--object-contain"})}),C0($A,{}),o]}),VA("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[C0("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message1",{adapter:i})}),C0("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message2",{adapter:i})})]})]})}function ynr(t){let{message:e}=t;return VA("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[C0("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:C0("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),C0("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function gnr(t){let{message:e}=t;return VA("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[C0("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:C0("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),C0("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function Utt(t){let{connector:e,connectorName:r,modalStatus:n,onClose:i,appLogo:o,message:a}=t;return pnr(()=>{n===ki.CONNECTED&&setTimeout(()=>{i()},1e3)},[n,i]),VA("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[n===ki.CONNECTING&&C0(bnr,{connector:e,connectorName:r,appLogo:o}),n===ki.CONNECTED&&C0(ynr,{message:a}),n===ki.ERRORED&&C0(gnr,{message:a})]})}nt();function du(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NK(t,e){return NK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},NK(t,e)}function Ftt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,NK(t,e)}import*as qA from"react";var wnr=Object.defineProperty,vnr=Object.defineProperties,Enr=Object.getOwnPropertyDescriptors,DK=Object.getOwnPropertySymbols,jtt=Object.prototype.hasOwnProperty,$tt=Object.prototype.propertyIsEnumerable,spe=(t,e,r)=>e in t?wnr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fu=(t,e)=>{for(var r in e||(e={}))jtt.call(e,r)&&spe(t,r,e[r]);if(DK)for(var r of DK(e))$tt.call(e,r)&&spe(t,r,e[r]);return t},Vtt=(t,e)=>vnr(t,Enr(e)),xnr=(t,e)=>{var r={};for(var n in t)jtt.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&DK)for(var n of DK(t))e.indexOf(n)<0&&$tt.call(t,n)&&(r[n]=t[n]);return r},ts=(t,e,r)=>(spe(t,typeof e!="symbol"?e+"":e,r),r),KA=(t,e,r)=>new Promise((n,i)=>{var o=c=>{try{s(r.next(c))}catch(l){i(l)}},a=c=>{try{s(r.throw(c))}catch(l){i(l)}},s=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,a);s((r=r.apply(t,e)).next())}),Anr="hCaptcha-script",BK="hCaptchaOnLoad",Htt="script-error",q3="@hCaptcha/loader";function Tnr(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,r])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(r))}`).join("&")}function Ktt(t){let e=t&&t.ownerDocument||document,r=e.defaultView||e.parentWindow||window;return{document:e,window:r}}function qtt(t){return t||document.head}function _nr(t){var e;t.setTag("source",q3),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",fu({},Snr())),t.setContext("device",Vtt(fu({},Inr()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function Snr(){var t,e,r,n,i,o;let a=navigator.userAgent,s,c;return a.indexOf("Firefox")!==-1?(s="Firefox",c=(t=a.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):a.indexOf("Edg")!==-1?(s="Microsoft Edge",c=(e=a.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):a.indexOf("Chrome")!==-1&&a.indexOf("Safari")!==-1?(s="Chrome",c=(r=a.match(/Chrome\/([\d.]+)/))==null?void 0:r[1]):a.indexOf("Safari")!==-1&&a.indexOf("Chrome")===-1?(s="Safari",c=(n=a.match(/Version\/([\d.]+)/))==null?void 0:n[1]):a.indexOf("Opera")!==-1||a.indexOf("OPR")!==-1?(s="Opera",c=(i=a.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:i[2]):a.indexOf("MSIE")!==-1||a.indexOf("Trident")!==-1?(s="Internet Explorer",c=(o=a.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:o[2]):(s="Unknown",c="Unknown"),{name:s,version:c}}function Inr(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let r;return/Mobile|iPhone|iPod|Android/i.test(t)?r="Mobile":/Tablet|iPad/i.test(t)?r="Tablet":r="Desktop",{model:e,family:e,device:r}}var Cnr=class Wtt{constructor(e){ts(this,"_parent"),ts(this,"breadcrumbs",[]),ts(this,"context",{}),ts(this,"extra",{}),ts(this,"tags",{}),ts(this,"request"),ts(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new Wtt(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,r){return this.extra[e]=r,this}removeExtra(e){return delete this.extra[e],this}setContext(e,r){return typeof r.type>"u"&&(r.type=e),this.context[e]=r,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=fu(fu({},this.tags),e),this}setTag(e,r){return this.tags[e]=r,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],r=this;for(;r;)e.push(r),r=r.parent;return e.reverse().reduce((n,i)=>{var o;return n.breadcrumbs=[...(o=n.breadcrumbs)!=null?o:[],...i.breadcrumbs],n.extra=fu(fu({},n.extra),i.extra),n.contexts=fu(fu({},n.contexts),i.context),n.tags=fu(fu({},n.tags),i.tags),i.user&&(n.user=i.user),i.request&&(n.request=i.request),n},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},Rnr=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pnr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Onr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Nnr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,kK="?",ztt="An unknown error occurred",knr="0.0.4";function Mnr(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function R0(t){return(t+256).toString(16).substring(1)}function Bnr(){let t=Mnr(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,R0(t[0])+R0(t[1])+R0(t[2])+R0(t[3])+"-"+R0(t[4])+R0(t[5])+"-"+R0(t[6])+R0(t[7])+"-"+R0(t[8])+R0(t[9])+"-"+R0(t[10])+R0(t[11])+R0(t[12])+R0(t[13])+R0(t[14])+R0(t[15])}var Dnr=[[Rnr,"chrome"],[Onr,"winjs"],[Pnr,"gecko"]];function Lnr(t){var e,r,n,i;if(!t.stack)return null;let o=[],a=(n=(r=(e=t.stack).split)==null?void 0:r.call(e,`
`))!=null?n:[];for(let s=0;s<a.length;++s){let c=null,l=null,u=null;for(let[d,f]of Dnr)if(l=d.exec(a[s]),l){u=f;break}if(!(!l||!u)){if(u==="chrome")c={filename:(i=l[2])!=null&&i.startsWith("address at ")?l[2].substring(11):l[2],function:l[1]||kK,lineno:l[3]?+l[3]:null,colno:l[4]?+l[4]:null};else if(u==="winjs")c={filename:l[2],function:l[1]||kK,lineno:+l[3],colno:l[4]?+l[4]:null};else if(u==="gecko")s===0&&!l[5]&&t.columnNumber!==void 0&&o.length>0&&(o[0].column=t.columnNumber+1),c={filename:l[3],function:l[1]||kK,lineno:l[4]?+l[4]:null,colno:l[5]?+l[5]:null};else continue;!c.function&&c.lineno&&(c.function=kK),o.push(c)}}return o.length?o.reverse():null}function Unr(t){let e=Lnr(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function Fnr(t){let e=Nnr.exec(t),r=e?e.slice(1):[];if(r.length!==6)throw new Error("Invalid DSN");let n=r[5].split("/"),i=n.slice(0,-1).join("/");return r[0]+"://"+r[3]+(r[4]?":"+r[4]:"")+(i?"/"+i:"")+"/api/"+n.pop()+"/envelope/?sentry_version=7&sentry_key="+r[1]+(r[2]?"&sentry_secret="+r[2]:"")}function Hnr(t,e,r){var n,i;let o=fu({event_id:Bnr().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:knr},environment:e,release:r,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){o.message=(i=(n=t.error)==null?void 0:n.message)!=null?i:"Unknown error",o.fingerprint=[o.message];let a=[],s=t.error;for(let c=0;c<5&&s&&(a.push(Unr(s)),!(!s.cause||!(s.cause instanceof Error)));c++)s=s.cause;o.exception={values:a.reverse()}}return t.type==="message"&&(o.message=t.message,o.level=t.level),o}function znr(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let r=t,{message:n}=r,i=xnr(r,["message"]),o=new Error(typeof n=="string"?n:ztt);return Object.assign(o,i)}let e=new Error(ztt);return Object.assign(e,{cause:t})}function Gnr(t,e,r){return KA(this,null,function*(){var n,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let o;if(r){let c=new AbortController;o=c.signal,setTimeout(()=>c.abort(),r)}let a=yield fetch(t,Vtt(fu({},e),{signal:o})),s=yield a.text();return{status:a.status,body:s}}return yield new Promise((o,a)=>{var s,c;let l=new XMLHttpRequest;if(l.open((s=e?.method)!=null?s:"GET",t),l.onload=()=>o({status:l.status,body:l.responseText}),l.onerror=()=>a(new Error("XHR Network Error")),e?.headers)for(let[u,d]of Object.entries(e.headers))l.setRequestHeader(u,d);if(r){let u=setTimeout(()=>{l.abort(),a(new Error("Request timed out"))},r);l.onloadend=()=>{clearTimeout(u)}}l.send((c=e?.body)==null?void 0:c.toString())})}catch(o){return{status:0,body:(i=(n=o?.toString)==null?void 0:n.call(o))!=null?i:"Unknown error"}}})}var al,cpe=(al=class{constructor(t){ts(this,"apiURL"),ts(this,"dsn"),ts(this,"environment"),ts(this,"release"),ts(this,"sampleRate"),ts(this,"debug"),ts(this,"_scope"),ts(this,"shouldBuffer",!1),ts(this,"bufferlimit",20),ts(this,"buffer",[]);var e,r,n,i,o;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(r=t.debug)!=null?r:!1,this._scope=(n=t.scope)!=null?n:new Cnr,this.apiURL=Fnr(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(i=t.buffer)!=null?i:!1,this.bufferlimit=(o=t.bufferLimit)!=null?o:20}static init(t){al._instance||(al._instance=new al(t))}static get instance(){if(!al._instance)throw new Error("Sentry has not been initialized");return al._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return al.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){al.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:znr(t),scope:e??this._scope})}static captureException(t,e){al.instance.captureException(t,e)}captureMessage(t,e="info",r){this.captureEvent({type:"message",level:e,message:t,scope:r??this._scope})}static captureMessage(t,e="info",r){al.instance.captureMessage(t,e,r)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return KA(this,null,function*(){try{this.log("Sending sentry event",t);let r=Hnr(t,this.environment,this.release),n={event_id:r.event_id,dsn:this.dsn},i={type:"event"},o=JSON.stringify(n)+`
`+JSON.stringify(i)+`
`+JSON.stringify(r),a=yield Gnr(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:o},e);this.log("Sentry response",a.status),a.status!==200&&(console.log(a.body),console.error("Failed to send event to Sentry",a))}catch(r){console.error("Failed to send event",r)}})}flush(t=5e3){return KA(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(r=>this.sendEvent(r,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return al.instance.flush(t)}static reset(){al._instance=void 0}},ts(al,"_instance"),al),jnr="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",$nr="2.0.1",Vnr="production";function Knr(t=!0){if(!t)return Gtt();cpe.init({dsn:jnr,release:$nr,environment:Vnr});let e=cpe.scope;return _nr(e),Gtt(e)}function Gtt(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&cpe.captureException(e,t)}}}function qnr({scriptLocation:t,query:e,loadAsync:r=!0,crossOrigin:n="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:o=!0,secureApi:a=!1,scriptSource:s=""}={},c){let l=qtt(t),u=Ktt(l);return new Promise((d,f)=>{let p=u.document.createElement("script");p.id=Anr,s?p.src=`${s}?onload=${BK}`:a?p.src=`${i}/1/secure-api.js?onload=${BK}`:p.src=`${i}/1/api.js?onload=${BK}`,p.crossOrigin=n,p.async=r;let h=(b,_)=>{try{!a&&o&&l.removeChild(p),_(b)}catch(A){f(A)}};p.onload=b=>h(b,d),p.onerror=b=>{c&&c(p.src),h(b,f)},p.src+=e!==""?`&${e}`:"",l.appendChild(p)})}var MK=[];function Wnr(t={cleanup:!0},e){try{e.addBreadcrumb({category:q3,message:"hCaptcha loader params",data:t});let r=qtt(t.scriptLocation),n=Ktt(r),i=MK.find(({scope:a})=>a===n.window);if(i)return e.addBreadcrumb({category:q3,message:"hCaptcha already loaded"}),i.promise;let o=new Promise((a,s)=>KA(this,null,function*(){try{n.window[BK]=()=>{e.addBreadcrumb({category:q3,message:"hCaptcha script called onload function"}),a(n.window.hcaptcha)};let c=Tnr({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});yield qnr(fu({query:c},t),l=>{e.captureRequest({url:l,method:"GET"})}),e.addBreadcrumb({category:q3,message:"hCaptcha loaded",data:i})}catch{e.addBreadcrumb({category:q3,message:"hCaptcha failed to load"});let l=MK.findIndex(u=>u.scope===n.window);l!==-1&&MK.splice(l,1),s(new Error(Htt))}}));return MK.push({promise:o,scope:n.window}),o}catch(r){return e.captureException(r),Promise.reject(new Error(Htt))}}function Ytt(t,e,r=0){return KA(this,null,function*(){let n=r<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield Wnr(t,e)}catch(i){return e.addBreadcrumb({category:q3,message:n}),r>=2?(e.captureException(i),Promise.reject(i)):(r+=1,Ytt(t,e,r))}})}function Jtt(){return KA(this,arguments,function*(t={}){let e=Knr(t.sentry);return yield Ytt(t,e)})}function lpe(t){var e=t&&t.ownerDocument||document,r=e.defaultView||e.parentWindow||window;return{document:e,window:r}}function upe(t){return t||document.head}var Ynr=(function(t){Ftt(e,t);function e(n){var i;return i=t.call(this,n)||this,i._hcaptcha=void 0,i.renderCaptcha=i.renderCaptcha.bind(du(i)),i.resetCaptcha=i.resetCaptcha.bind(du(i)),i.removeCaptcha=i.removeCaptcha.bind(du(i)),i.isReady=i.isReady.bind(du(i)),i._onReady=null,i.loadCaptcha=i.loadCaptcha.bind(du(i)),i.handleOnLoad=i.handleOnLoad.bind(du(i)),i.handleSubmit=i.handleSubmit.bind(du(i)),i.handleExpire=i.handleExpire.bind(du(i)),i.handleError=i.handleError.bind(du(i)),i.handleOpen=i.handleOpen.bind(du(i)),i.handleClose=i.handleClose.bind(du(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(du(i)),i.ref=qA.createRef(),i.apiScriptRequested=!1,i.sentryHub=null,i.captchaId="",i.state={isApiReady:!1,isRemoved:!1,elementId:n.id},i}var r=e.prototype;return r.componentDidMount=function(){var i=this,o=upe(this.props.scriptLocation),a=lpe(o);this._hcaptcha=a.window.hcaptcha||void 0;var s=typeof this._hcaptcha<"u";if(s){this.setState({isApiReady:!0},function(){i.renderCaptcha()});return}this.loadCaptcha()},r.componentWillUnmount=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&(i.reset(o),i.remove(o))},r.shouldComponentUpdate=function(i,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},r.componentDidUpdate=function(i){var o=this,a=["sitekey","size","theme","tabindex","languageOverride","endpoint"],s=a.every(function(c){return i[c]===o.props[c]});s||this.removeCaptcha(function(){o.renderCaptcha()})},r.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,o=i.apihost,a=i.assethost,s=i.endpoint,c=i.host,l=i.imghost,u=i.languageOverride,d=i.reCaptchaCompat,f=i.reportapi,p=i.sentry,h=i.custom,b=i.loadAsync,_=i.scriptLocation,A=i.scriptSource,C=i.secureApi,R=i.cleanup,M=R===void 0?!0:R,U={render:"explicit",apihost:o,assethost:a,endpoint:s,hl:u,host:c,imghost:l,recaptchacompat:d===!1?"off":null,reportapi:f,sentry:p,custom:h,loadAsync:b,scriptLocation:_,scriptSource:A,secureApi:C,cleanup:M};Jtt(U).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},r.renderCaptcha=function(i){var o=this,a=this.props.onReady,s=this.state.isApiReady,c=this.captchaId;if(!(!s||c)){var l=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),u=this._hcaptcha,d=u.render(this.ref.current,l);this.captchaId=d,this.setState({isRemoved:!1},function(){i&&i(),a&&a(),o._onReady&&o._onReady(d)})}},r.resetCaptcha=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&i.reset(o)},r.removeCaptcha=function(i){var o=this,a=this._hcaptcha,s=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){o.captchaId="",a.remove(s),i&&i()})},r.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){var o=upe(i.props.scriptLocation),a=lpe(o);i._hcaptcha=a.window.hcaptcha,i.renderCaptcha(function(){var s=i.props.onLoad;s&&s()})})},r.handleSubmit=function(i){var o=this.props.onVerify,a=this.state.isRemoved,s=this._hcaptcha,c=this.captchaId;if(!(typeof s>"u"||a)){var l=s.getResponse(c),u=s.getRespKey(c);o&&o(l,u)}},r.handleExpire=function(){var i=this.props.onExpire,o=this._hcaptcha,a=this.captchaId;this.isReady()&&(o.reset(a),i&&i())},r.handleError=function(i){var o=this.props.onError,a=this._hcaptcha,s=this.captchaId;this.isReady()&&a.reset(s),o&&o(i)},r.isReady=function(){var i=this.state,o=i.isApiReady,a=i.isRemoved;return o&&!a},r.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},r.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},r.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},r.execute=function(i){var o=this;i===void 0&&(i=null),i=typeof i=="object"?i:null;try{var a=this._hcaptcha,s=this.captchaId;if(!this.isReady()){var c,l=new Promise(function(u,d){o._onReady=function(f){try{var p=o._hcaptcha;i&&i.async?p.execute(f,i).then(u).catch(d):u(p.execute(f,i))}catch(h){d(h)}}});return(c=i)!=null&&c.async?l:null}return a.execute(s,i)}catch(u){return i&&i.async?Promise.reject(u):null}},r.close=function(){var i=this._hcaptcha,o=this.captchaId;if(this.isReady())return i.close(o)},r.setData=function(i){var o=this._hcaptcha,a=this.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),o.setData(a,i))},r.getResponse=function(){var i=this._hcaptcha;return i.getResponse(this.captchaId)},r.getRespKey=function(){var i=this._hcaptcha;return i.getRespKey(this.captchaId)},r.render=function(){var i=this.state.elementId;return qA.createElement("div",{ref:this.ref,id:i})},e})(qA.Component),Qtt=Ynr;import{useContext as drt,useState as P0,useRef as fir,useEffect as frt,useMemo as zK}from"react";import{useTranslation as pir}from"react-i18next";Ye();Ye();var WA=class{constructor(e){if(V(this,"authBaseApiUrl",void 0),V(this,"passwordlessParams",void 0),V(this,"trackingIdentifier",void 0),V(this,"version",`web3auth-${w1e.split(".")[0]}`),!e.authConnection)throw tt.invalidParams("authConnection is required");if(!e.web3authClientId)throw tt.invalidParams("web3authClientId is required");if(!e.loginHint)throw tt.invalidParams("loginHint is required");if(!e.network)throw tt.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=Cp.PRODUCTION),this.authBaseApiUrl=`${CXe[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===Je.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===Je.SMS_PASSWORDLESS)return"Mobile";throw tt.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===Je.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===Je.SMS_PASSWORDLESS)return"sms";throw tt.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return pw("sessionStorage")}get whiteLabelParams(){var e;let{uiConfig:r}=this.passwordlessParams;if(!r)return{};let{appName:n,appUrl:i,defaultLanguage:o,mode:a,logoLight:s,logoDark:c,theme:l}=r,u=(e=a==="dark"?c:s)!==null&&e!==void 0?e:"";return{mode:a??"light",name:n??"",url:i??"",language:o??"en",logo:u.includes(".svg")?"":u,theme:l??{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{let n=await qP(`${this.authBaseApiUrl}/passwordless/start`,e);if(n&&n.success){var r;this.trackingId=(r=n.data)===null||r===void 0?void 0:r.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return n}catch(n){return this.handleError(n)}}async verify(e){try{let r=await qP(`${this.authBaseApiUrl}/passwordless/verify`,e);return r.success?(this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:r.id_token}}):{success:!1,error:r.message}}catch(r){return this.handleError(r)}}async handleError(e){let r;if(e.status===429)r="passwordless.error-too-many-requests";else try{let n=await e.json();r=n.error_code?set(n.error_code):n.message}catch{r="passwordless.something-wrong-error"}return{success:!1,error:r}}};var LK=class extends WA{constructor(e){var r;super(e),V(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=(r=window.sessionStorage.getItem("trackingId"))!==null&&r!==void 0?r:void 0)}async sendVerificationCode({captchaToken:e}){let{loginHint:r,network:n,web3authClientId:i}=this.passwordlessParams,o={client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:r,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:n,flow_type:Pw.code,captcha_token:e};return super.start(o)}async verifyCode(e){let{loginHint:r,network:n,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:r,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:n,flow_type:Pw.code};return super.verify(o)}};nt();var UK=class extends WA{constructor(e){if(super(e),this.sessionStorageAvailable){var r;this.trackingId=(r=window.sessionStorage.getItem("trackingId"))!==null&&r!==void 0?r:void 0}}async sendVerificationCode({captchaToken:e}){let{loginHint:r,network:n,web3authClientId:i}=this.passwordlessParams,o=q({client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:r,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:n},e&&{captcha_token:e});return super.start(o)}async verifyCode(e){let{loginHint:r,network:n,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:r,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:n};return super.verify(o)}};var Ztt=(t,e)=>{switch(t){case Je.EMAIL_PASSWORDLESS:return new LK(e);case Je.SMS_PASSWORDLESS:return new UK(e);default:throw tt.invalidParams(`Unsupported auth connection: ${t}`)}};var Jnr="test_account_",Qnr="@example.com",Znr="+1-555",Xtt=(t,e)=>{if(t===Je.EMAIL_PASSWORDLESS)return e.startsWith(Jnr)&&e.endsWith(Qnr);if(t===Je.SMS_PASSWORDLESS)return e.startsWith(Znr);throw tt.invalidParams(`Unsupported auth connection: ${t}`)};import{useState as Xnr,useMemo as eir}from"react";import{jsxs as ert,jsx as tir}from"react/jsx-runtime";var trt=({children:t,content:e,isDark:r=!1,hideHint:n=!1})=>{let[i,o]=Xnr(!1),a=()=>{o(!0)},s=()=>{o(!1)},c=eir(()=>({borderTop:"8px solid transparent",borderRight:"none",borderBottom:"8px solid transparent",borderLeft:`8px solid ${r?"#ffffff":"#1f2a37"}`,left:"0%",top:"calc(100% - 8px)"}),[r]);return ert("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:a,onMouseLeave:s,onFocus:a,onBlur:s,onClick:s,children:[t,i&&!n&&ert("div",{"data-popover":!0,role:"tooltip",className:hr("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",r?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[e,tir("div",{className:"w3a--absolute",style:c})]})]})};import{jsx as fc,jsxs as FK,Fragment as dpe}from"react/jsx-runtime";function rrt(t,e,r){let n=t===Je.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===Je.APPLE||t===Je.GITHUB||t===Je.TWITTER?n:`login-${t}-active`;return FK(dpe,{children:[fc("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${r}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),fc("img",{id:"login-img",src:`https://images.web3auth.io/${n}${r}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function nrt(t){let{visibleRow:e,otherRow:r,isDark:n,canShowMore:i,handleSocialLoginClick:o,handleExpandSocialLogins:a,buttonRadius:s}=t,c=()=>e.length===1?"w3a--grid-cols-1":e.length===2?"w3a--grid-cols-2":e.length===3?"w3a--grid-cols-3":"w3a--grid-cols-4";return e.length!==0&&r?.length===0?fc("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:FK("div",{className:hr("w3a--grid w3a--w-full w3a--gap-x-2",c()),children:[e.filter((l,u)=>e.length===4?u<=3:u<3).map(l=>fc(trt,{content:"Last Login",isDark:n,hideHint:!0,children:fc(HA,{type:s5.SOCIAL,props:{showText:!1,method:l.method,isDark:n,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:fc(dpe,{children:rrt(l.method,n,".svg")}),onClick:()=>o({connector:l.connector,loginParams:l.loginParams}),buttonRadius:s}},l.method)},l.method)),i&&e.length>4&&fc(HA,{type:s5.SOCIAL,props:{showIcon:!1,onClick:a,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:fc("img",{src:fo(n?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:s}})]})}):FK("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[fc("button",{type:"button",className:"w3a--appearance-none",onClick:()=>a(),children:fc("img",{src:fo(n?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),fc("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:r.map(l=>fc("div",{className:"w3a--h-11 w3a--w-full",children:fc(HA,{type:s5.SOCIAL,props:{method:l.method,isDark:n,isPrimaryBtn:!1,onClick:()=>o({connector:l.connector,loginParams:l.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:s,children:FK(dpe,{children:[rrt(l.method,n,".svg"),fc("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:l.name}),fc("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:fo(n?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},l.method))})]})}import{useMemo as art}from"react";import{useTranslation as air}from"react-i18next";import{forwardRef as rir,useState as irt,useRef as nir,useEffect as ort}from"react";import{useTranslation as iir}from"react-i18next";import{jsxs as oir,jsx as jy}from"react/jsx-runtime";var fpe=rir(({length:t,loading:e,resendTimer:r=60,onComplete:n,onChange:i,error:o=!1,success:a=!1,disabled:s=!1,classes:c,helperText:l="",onResendTimer:u,showCta:d=!0,showTimer:f=!0,autoFocus:p=!1,placeholder:h="",autoComplete:b="one-time-code",type:_="text",resendBtnText:A=""},C)=>{let[R,M]=irt(Array(t).fill("")),[U,F]=irt(r??0),[z]=iir(void 0,{i18n:mr}),N=nir([]),k=E=>/^\d$/.test(E)&&E.trim().length===1,O=(E,v)=>{if(E.key==="Backspace"||E.key==="Delete"){E.preventDefault();let B=[...R];if(R[v]!=="")B[v]="";else if(v>0){var x;(x=N.current[v-1])===null||x===void 0||x.focus(),B[v-1]=""}M(B),i&&i(B.join(""))}else if(E.key==="ArrowLeft"){var g;E.preventDefault(),(g=N.current[v-1])===null||g===void 0||g.focus()}else if(E.key==="ArrowRight"){var P;E.preventDefault(),(P=N.current[v+1])===null||P===void 0||P.focus()}else(E.key===" "||E.key==="Spacebar"||E.key==="Space"||!k(E.key)&&N.current[v+1])&&(E.preventDefault(),N.current[v+1].value="")},w=(E,v)=>{E.preventDefault();let{value:x}=E.target;if(x&&x.length>1&&x.length===t){var g;let B=x.split(""),I=[...R];B.forEach((L,G)=>{I[G]=L}),M(I),(g=N.current[B.length===t?t-1:B.length])===null||g===void 0||g.focus(),n&&t===I.length&&n(I.join(""))}else if(k(x)){let B=[...R].slice(0,t);B[v]=x,M(B);let I=B.join("");if(v<t-1&&N.current[v+1]){var P;(P=N.current[v+1])===null||P===void 0||P.focus()}i&&i(x),n&&t===I.length&&n(I)}},S=E=>{E.preventDefault();let v=E.clipboardData.getData("text").slice(0,t);if(v&&/^\d+$/.test(v)){var x;let g=v.split(""),P=[...R];g.forEach((B,I)=>{P[I]=B}),M(P),(x=N.current[g.length===t?t-1:g.length])===null||x===void 0||x.focus(),n&&t===P.length&&n(P.join(""))}},T=()=>{F(r||0),u&&u()};ort(()=>{let E=null;return d&&f&&(E=window.setInterval(()=>{U>0?F(v=>v-1):clearInterval(E)},1e3)),()=>{clearInterval(E)}},[U]),ort(()=>{if(N&&p){var E;(E=N.current)===null||E===void 0||E[0].focus()}},[p]);let m=hr("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":o,"w3a--text-app-green-500 dark:w3a--text-app-green-400":a},c?.helperText),y=new Date().getFullYear();return oir("div",{className:hr("w3a--flex w3a--flex-col w3a--items-center",c?.root),ref:C,children:[jy("form",{className:hr("w3a--flex w3a--space-x-2",c?.inputContainer),children:R.map((E,v)=>{var x,g,P;return jy("input",{id:`${y+v}`,type:_,value:E,autoComplete:b,placeholder:Array.isArray(h)?h[v]:h,inputMode:"numeric",onInput:B=>w(B,v),onKeyUp:B=>O(B,v),onPaste:S,className:hr("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",a&&((x=c?.success)!==null&&x!==void 0?x:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),o&&((g=c?.error)!==null&&g!==void 0?g:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),s&&((P=c?.disabled)!==null&&P!==void 0?P:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),c?.input),ref:B=>{N.current[v]=B},disabled:s},`${y+v}`)})}),l&&jy("p",{className:m,children:l}),e&&jy("div",{className:"w3a--mt-3",children:jy($A,{})}),d&&!e&&jy("div",{className:hr("w3a--flex w3a--items-center w3a--mt-3",c?.ctaContainer),children:U>0&&f?jy("span",{className:hr("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",c?.timerText),children:z("modal.resendTimer",{timer:U})}):jy("button",{type:"button",className:hr("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",c?.resendBtnText),onClick:T,disabled:U>0&&f,children:A||z("modal.resendCode")})})]})});fpe.displayName="OtpInput";import{jsx as qf,jsxs as HK,Fragment as sir}from"react/jsx-runtime";function cir(t){let{setShowOtpFlow:e,handleOtpComplete:r,authConnection:n,loginHint:i="",errorMessage:o,otpLoading:a,countryFlag:s}=t,c=art(()=>n===Je.SMS_PASSWORDLESS,[n]),[l]=air(void 0,{i18n:mr}),u=art(()=>{if(n===Je.EMAIL_PASSWORDLESS)return i;let[d,f]=i.includes("-")?i.split("-"):["",i],p=`${f}`.slice(-Math.floor(f.length/2)).padStart(`${f}`.length,"*");return`${s} ${d} ${p}`},[i,n,s]);return HK(sir,{children:[qf("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:qf("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>e(!1),children:qf("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:qf("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),HK("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[qf("img",{src:fo(c?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),HK("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[qf("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:l(c?"modal.otp.mobile-title":"modal.otp.email-title")}),HK("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[qf("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l(c?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),qf("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c?u:l("modal.otp.email-subtext-example",{email:u})})]})]}),qf(fpe,{length:6,onComplete:r,error:!!o,helperText:o,loading:a,disabled:a})]})]})}function srt(t){let{otpLoading:e,setShowOtpFlow:r,handleOtpComplete:n,authConnection:i,loginHint:o,errorMessage:a,countryFlag:s}=t;return qf("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:qf(cir,{errorMessage:a,setShowOtpFlow:r,handleOtpComplete:n,authConnection:i,loginHint:o,otpLoading:e,countryFlag:s})})}import{useRef as lir,useState as crt,useEffect as lrt}from"react";import{useTranslation as uir}from"react-i18next";import{jsxs as ppe,jsx as W3,Fragment as dir}from"react/jsx-runtime";function urt(t){let{isModalVisible:e,isPasswordLessCtaClicked:r,setIsPasswordLessCtaClicked:n,title:i,placeholder:o,handleFormSubmit:a,errorMessage:s,isDark:c,isPasswordLessLoading:l,buttonRadius:u}=t,[d]=uir(void 0,{i18n:mr}),f=lir(null),[p,h]=crt(""),[b,_]=crt(!1),A=M=>{h(M.target.value),_(!0)},C=M=>{let{key:U}=M;U==="Enter"&&(a(p),_(!1))},R=M=>{M.preventDefault(),M.stopPropagation(),a(p),_(!1)};return lrt(()=>{e||n(!1)},[e,n]),lrt(()=>{if(r){var M;(M=f.current)===null||M===void 0||M.focus()}},[r]),r?ppe(dir,{children:[ppe("div",{className:hr("w3a--input",b&&"!w3a--border-app-primary-600",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[W3("input",{ref:f,onInput:A,value:p,placeholder:o,onFocus:()=>{_(!0)},onBlur:M=>{M.target.placeholder=`${o}`,_(!1)},type:"text",className:hr("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:M=>C(M),disabled:l}),l&&W3($A,{}),p&&!l&&W3("button",{type:"button",className:"w3a--appearance-none",onClick:R,children:W3("img",{src:fo(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),s&&!b&&r&&W3("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:s})]}):ppe("button",{type:"button",className:hr("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),onClick:()=>{n(!0)},children:[W3("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:d("modal.passwordless.title",{title:i})}),W3("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:fo(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}import{jsx as Ca,jsxs as $y}from"react/jsx-runtime";var hir=[Je.SMS_PASSWORDLESS,Je.EMAIL_PASSWORDLESS,Je.AUTHENTICATOR,Je.PASSKEYS,Je.TELEGRAM,Je.CUSTOM];function prt(t){let{web3authClientId:e,web3authNetwork:r,authBuildEnv:n,appLogo:i,isModalVisible:o,handleSocialLoginHeight:a,socialLoginsConfig:s,installedExternalWalletConfig:c,isDark:l,handleSocialLoginClick:u,totalExternalWallets:d,isEmailPasswordLessLoginVisible:f,isSmsPasswordLessLoginVisible:p,handleExternalWalletBtnClick:h,handleExternalWalletClick:b,areSocialLoginsVisible:_,showPasswordLessInput:A,showExternalWalletButton:C,showExternalWalletCount:R,showInstalledExternalWallets:M,logoAlignment:U="center",buttonRadius:F="pill",deviceDetails:z}=t,[N]=pir(void 0,{i18n:mr}),{bodyState:k,setBodyState:O}=drt(Rp),{analytics:w}=drt(FA),[S,T]=P0(""),[m,y]=P0(""),[E,v]=P0(""),[x,g]=P0(""),[P,B]=P0(!1),[I,L]=P0(!1),[G,H]=P0([]),[$,K]=P0([]),[W,J]=P0(!1),[X,te]=P0(!1),[re,le]=P0(void 0),[ce,ae]=P0(void 0),[xe,me]=P0(!1),[Se,vt]=P0(!1),[Qe,Ve]=P0(!1),[kt,Ze]=P0(""),et=fir(null),on=()=>{B(Ue=>!Ue),J(!1),a()};frt(()=>{let Ue=Object.keys(s.loginMethods).filter(dt=>s.loginMethods[dt].showOnModal),Hr=[],bt=[],Tt=(s.loginMethodsOrder||[]).reduce((dt,Vt,is)=>(dt[Vt]=is,dt),{}),Zr=Object.keys(s.loginMethods).filter(dt=>!!s.loginMethods[dt].showOnModal&&!hir.includes(dt)).sort((dt,Vt)=>{var is,Pt;let sr=(s.loginMethodsOrder||[]).length,Y=(is=Tt[dt])!==null&&is!==void 0?is:sr,Z=(Pt=Tt[Vt])!==null&&Pt!==void 0?Pt:sr,{mainOption:Q}=s.loginMethods[dt]||{},{mainOption:j}=s.loginMethods[Vt]||{};return Q&&j?Y-Z:Q?-1:j?1:Y-Z});Zr.forEach((dt,Vt)=>{var is;let Pt=s.loginMethods[dt],sr=YP(Pt.name||dt),Y=Vt+1,Z=(s==null||(is=s.uiConfig)===null||is===void 0?void 0:is.primaryButton)==="socialLogin"&&Y===1,Q=Zr.length;(Q>=4?Y>0&&Y<=Q:Y>0&&Y<4)&&Hr.push({method:dt,isDark:l,isPrimaryBtn:Z,name:sr,connector:s.connector,loginParams:{authConnection:Pt.authConnection||dt,authConnectionId:Pt.authConnectionId,groupedAuthConnectionId:Pt.groupedAuthConnectionId,extraLoginOptions:Pt.extraLoginOptions,name:sr,login_hint:""},order:Y}),bt.push({method:dt,isDark:l,isPrimaryBtn:Z,name:sr==="Twitter"?"X":sr,connector:s.connector,loginParams:{authConnection:dt,authConnectionId:Pt.authConnectionId,groupedAuthConnectionId:Pt.groupedAuthConnectionId,extraLoginOptions:Pt.extraLoginOptions,name:sr,login_hint:""},order:Y})}),H(Hr),K(bt),L(Ue.length>4)},[s,l,F]);let Me=async(Ue,Hr)=>{try{let Tt=Ztt(Ue,{loginHint:Hr,web3authClientId:e,network:r,uiConfig:s.uiConfig,authConnection:Ue,authBuildEnv:n}),Zr;if(!Xtt(Ue,Hr)){var bt;let Vt=await((bt=et.current)===null||bt===void 0?void 0:bt.execute({async:!0}));if(!Vt)throw Xe.connectionError("Captcha token is required");Zr=Vt.response}let dt=await Tt.sendVerificationCode({captchaToken:Zr});if(dt!=null&&dt.error){v(N(dt.error));return}le(Ue),te(!0),ae(Tt)}catch(Tt){Be.error(Tt)}finally{me(!1)}},rt=async Ue=>{if(me(!0),f&&Ue.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){let bt=s.loginMethods[Je.EMAIL_PASSWORDLESS];return bt.isDefault?u({connector:s.connector,loginParams:{authConnection:Je.EMAIL_PASSWORDLESS,authConnectionId:bt.authConnectionId,groupedAuthConnectionId:bt.groupedAuthConnectionId,extraLoginOptions:bt.extraLoginOptions,loginHint:Ue,name:"Email"}}):Me(Je.EMAIL_PASSWORDLESS,Ue)}if(p){let Hr=Ue.startsWith("+")?Ue:`${S}${Ue}`,bt=await oet(Hr);if(bt.success){let Tt=typeof bt.parsed_number=="string"?bt.parsed_number:Hr,Zr=s.loginMethods[Je.SMS_PASSWORDLESS];return Zr.isDefault?u({connector:s.connector,loginParams:{authConnection:Je.SMS_PASSWORDLESS,authConnectionId:Zr.authConnectionId,groupedAuthConnectionId:Zr.groupedAuthConnectionId,extraLoginOptions:Zr.extraLoginOptions,loginHint:Tt,name:"Mobile"}}):(y(bt.country_flag),Me(Je.SMS_PASSWORDLESS,Tt))}}v(ut),me(!1)},Ir=zK(()=>N(f&&p?"modal.social.passwordless-title":f?"modal.social.email":"modal.social.phone"),[f,p,N]),yt=zK(()=>f&&p?"+(00)123456/name@example.com":f?"name@example.com":"+(00)123456",[f,p]),ut=zK(()=>N(f&&p?"modal.errors-invalid-number-email":f?"modal.errors-invalid-email":"modal.errors-invalid-number"),[f,p,N]);frt(()=>{p&&(async()=>{let Hr=await iet();Hr&&Hr.dialCode&&T(Hr.dialCode)})()},[p]);let Hn=Ue=>{w?.track(Ur.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:d,installed_external_wallets:Bi.length}),J(!1),Ue.preventDefault(),h&&h(!0)},St=async Ue=>{vt(!0),x&&g("");try{var Hr;let Tt=s.loginMethods[re],Zr=await ce?.verifyCode(Ue);if(Zr!=null&&Zr.error){g(N(Zr.error));return}if(Zr!=null&&(Hr=Zr.data)!==null&&Hr!==void 0&&Hr.id_token){var bt;return u({connector:s.connector,loginParams:{authConnection:re,authConnectionId:Tt.authConnectionId,groupedAuthConnectionId:Tt.groupedAuthConnectionId,extraLoginOptions:q(q({},Tt.extraLoginOptions),{},{id_token:(bt=Zr.data)===null||bt===void 0?void 0:bt.id_token}),loginHint:ce.passwordlessParams.loginHint,name:ce.name}})}}catch(Tt){Be.error(Tt)}finally{vt(!1)}},qt=Ue=>{var Hr;if(w?.track(Ur.EXTERNAL_WALLET_SELECTED,{connector:Ue.name,wallet_name:Ue.displayName,is_installed:Ue.isInstalled,is_injected:Ue.hasInjectedWallet,chain_namespaces:Ue.chainNamespaces,has_wallet_connect:Ue.hasWalletConnect,has_install_links:Ue.hasInstallLinks,has_wallet_registry_item:!!Ue.walletRegistryItem,total_external_wallets:d}),Ue.name===it.METAMASK&&!Ue.hasInjectedWallet&&z.platform==="desktop"){b({connector:Ue.name}),O(q(q({},k),{},{metamaskQrCode:{show:!0,wallet:Ue}}));return}((Hr=Ue.chainNamespaces)===null||Hr===void 0?void 0:Hr.length)>1?O(q(q({},k),{},{multiChainSelector:{show:!0,wallet:Ue}})):b({connector:Ue.name})},Bi=zK(()=>M?c:c.filter(Ue=>Ue.name===it.METAMASK),[c,M]);if(X)return Ca(srt,{otpLoading:Se,loginHint:ce?.passwordlessParams.loginHint,setShowOtpFlow:te,authConnection:re,handleOtpComplete:St,errorMessage:x,countryFlag:m});let Jt=(Ue=[])=>Ca(nrt,{otherRow:Ue,isDark:l,visibleRow:G,canShowMore:I,handleSocialLoginClick:u,socialLoginsConfig:s,handleExpandSocialLogins:on,buttonRadius:F},"social-login-section"),Ht=()=>Ca(urt,{isModalVisible:o,isPasswordLessCtaClicked:W,setIsPasswordLessCtaClicked:J,title:Ir,placeholder:yt,handleFormSubmit:rt,errorMessage:E,isDark:l,buttonRadius:F,isPasswordLessLoading:xe},"passwordless-section"),ns=()=>$y("div",{className:hr("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[Bi.length>0&&Bi.map(Ue=>$y("button",{type:"button",className:hr("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":F==="pill","w3a--rounded-lg":F==="rounded","w3a--rounded-none":F==="square"}),onClick:()=>qt(Ue),children:[Ca("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:Ue.displayName}),$y("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[Ue.hasInjectedWallet&&Ca("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:N("modal.external.installed")}),Ca("figure",{className:"w3a--size-5",children:Ca(Ia,{imageData:Ue.icon,imageId:`login-${Ue.name}`,hoverImageId:`login-${Ue.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:Ue.imgExtension||"webp"})})]}),Ca("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:fo(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},Ue.name)),d>3&&$y("button",{type:"button",className:hr("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":F==="pill","w3a--rounded-lg":F==="rounded","w3a--rounded-none":F==="square"}),onClick:Hn,children:[Ca("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:N("modal.external.all-wallets")}),R&&d>0&&Ca("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:d-1}),Ca("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:fo(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),$t=[iK,nK].includes(i)?"":i,Qt=Ue=>$y("div",{className:hr("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",$t?"w3a--my-2":"w3a--my-4"),children:[Ca("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),Ca("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),Ca("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${Ue}`),ll=()=>{var Ue;let Hr={social:Jt,passwordless:Ht,externalWallets:ns},bt={social:_,passwordless:A,externalWallets:C},Tt=((Ue=s.uiConfig)===null||Ue===void 0?void 0:Ue.signInMethods)||["social","passwordless","externalWallets"];Object.entries(bt).forEach(([dt,Vt])=>{Vt&&!Tt.includes(dt)&&Tt.push(dt)});let Zr=Tt.map(dt=>bt[dt]&&Hr[dt]()).filter(Boolean);if(Zr.length===3){let dt=Tt.findIndex(Vt=>Vt==="externalWallets");dt===0?Zr.splice(1,0,Qt(1)):dt===1?(Zr.splice(1,0,Qt(1)),Zr.splice(3,0,Qt(2))):dt===2&&Zr.splice(2,0,Qt(1))}else Zr.length===2&&bt.externalWallets&&Zr.splice(1,0,Qt(1));return Zr},br=()=>Jt($);return $y("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[$y("div",{className:hr("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6",U==="center"?"":"w3a--w-full"),children:[$t&&Ca("figure",{className:hr("w3a--mx-auto w3a--h-12 w3a--w-[200px]",U==="center"?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:Ca("img",{src:$t,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),Ca("p",{className:hr("w3a--text-app-gray-900 dark:w3a--text-app-white",U==="center"?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",$t?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:N("modal.social.sign-in")})]}),Ca(Qtt,{ref:et,sitekey:RXe,size:"invisible",languageOverride:s.uiConfig.defaultLanguage,theme:s.uiConfig.theme,onOpen:()=>Ve(!0),onClose:()=>Ve(!1),onError:()=>Ze("passwordless.captcha-default-error"),onChalExpired:()=>Ze("passwordless.captcha-default-error")}),kt&&Qe&&Ca("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:N(kt)}),!Qe&&$y("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!P&&ll(),P&&br()]})]})}import{useContext as mir,useEffect as bir}from"react";import{jsxs as hrt,jsx as dO}from"react/jsx-runtime";var mrt=()=>{let{toast:t,setToast:e}=mir(Rp);if(bir(()=>{t.message&&setTimeout(()=>{e({message:"",type:F3.SUCCESS})},3e3)},[t.message,e]),!t.message)return null;let r={success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"},n={success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"};return hrt("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${r[t.type]}`,children:[dO("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:dO("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e({message:"",type:F3.SUCCESS}),className:n[t.type],children:dO("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),hrt("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:[dO("p",{className:n[t.type],children:"x"}),dO("p",{children:t.message})]})]})};import{jsx as Mi,jsxs as Vy,Fragment as brt}from"react/jsx-runtime";function hpe(t){var e,r,n,i,o,a,s;let{setModalState:c,modalState:l,handleExternalWalletBtnClick:u,chainNamespaces:d,walletRegistry:f,appLogo:p,onCloseLoader:h,handleSocialLoginClick:b,showPasswordLessInput:_,showExternalWalletButton:A,socialLoginsConfig:C,areSocialLoginsVisible:R,isEmailPrimary:M,isExternalPrimary:U,showExternalWalletPage:F,isEmailPasswordLessLoginVisible:z,isSmsPasswordLessLoginVisible:N,preHandleExternalWalletClick:k,uiConfig:O,deviceDetails:w}=t,{logoAlignment:S="center",buttonRadiusType:T="pill",privacyPolicy:m="",tncLink:y="",displayInstalledExternalWallets:E=!0,displayExternalWalletsCount:v=!0}=O,[x]=wir(void 0,{i18n:mr}),{isDark:g}=yir(Fy),[P,B]=GK({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[I,L]=GK({message:"",type:F3.SUCCESS}),[G,H]=GK(!1),[$,K]=GK(!1),W=Me=>{c(q(q({},l),{},{currentPage:o5.CONNECT_WALLET})),u&&u(Me)},J=Me=>{c(q(q({},l),{},{currentPage:o5.LOGIN})),u&&u(Me)},X=pu(()=>{var Me;if(w.platform==="desktop")return[];let rt=((Me=P.installLinks)===null||Me===void 0||(Me=Me.wallet)===null||Me===void 0||(Me=Me.walletRegistryItem)===null||Me===void 0?void 0:Me.app)||{};return Object.keys(rt).reduce((yt,ut)=>{if(!["android","ios"].includes(ut))return yt;let Hn=rt[ut];if(!Hn)return yt;let St=eet(ut,Hn);if(!St)return yt;let qt=`${ut}-light`,Bi=`${ut}-dark`;return yt.push(Mi("li",{className:"w3a--w-full",children:Mi("a",{href:St,rel:"noopener noreferrer",target:"_blank",children:Vy("button",{type:"button",className:hr("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":T==="pill","w3a--rounded-lg":T==="rounded","w3a--rounded-none":T==="square"}),children:[Mi(Ia,{imageId:qt,darkImageId:Bi,hoverImageId:qt,darkHoverImageId:Bi,height:"28",width:"28",isButton:!0}),Mi("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:x("modal.external.install-mobile-app",{os:tet(ut)})}),Mi("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:fo(g?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},St)),yt},[])},[(e=P.installLinks)===null||e===void 0||(e=e.wallet)===null||e===void 0||(e=e.walletRegistryItem)===null||e===void 0?void 0:e.app,w.platform,g,x,T]),te=pu(()=>{var Me;if(w.platform!=="desktop")return[];let rt=w.browser==="brave"?"chrome":w.browser,Ir=((Me=P.installLinks)===null||Me===void 0||(Me=Me.wallet)===null||Me===void 0||(Me=Me.walletRegistryItem)===null||Me===void 0?void 0:Me.app)||{},yt=Ir.browser&&Ir.browser.includes(rt)?Ir.browser:void 0,ut=Ir[rt]||yt,Hn=ut?XXe(rt,ut):null;return[Hn?Mi("li",{children:Mi("a",{href:Hn,rel:"noopener noreferrer",target:"_blank",children:Vy("button",{type:"button",className:hr("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":T==="pill","w3a--rounded-lg":T==="rounded","w3a--rounded-none":T==="square"}),children:[Mi(Ia,{imageId:w.browser,darkImageId:w.browser,hoverImageId:w.browser,darkHoverImageId:w.browser,height:"30",width:"30",isButton:!0}),Mi("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:x("modal.external.install-browser-extension",{browser:ret(w.browser)})}),Mi("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:fo(g?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},Hn):null,...X]},[(r=P.installLinks)===null||r===void 0||(r=r.wallet)===null||r===void 0||(r=r.walletRegistryItem)===null||r===void 0?void 0:r.app,w.browser,w.platform,g,X,T,x]),re=pu(()=>l.externalWalletsConfig,[l.externalWalletsConfig]),le=pu(()=>{let Me={};return Object.keys(re).forEach(rt=>{var Ir;Me[rt]=!!(!((Ir=re[rt])===null||Ir===void 0)&&Ir.showOnModal)}),Me},[re]),ce=pu(()=>Object.keys(f?.default||{}).length>0||Object.keys(f?.others||{}).length>0,[f]),ae=gir(Me=>Object.keys(Me).reduce((rt,Ir)=>{var yt,ut,Hn;if(le[Ir]===!1)return rt;let St=Me[Ir],qt="";if(w.platform!=="desktop"){var Bi,Jt;let Ue=St==null||(Bi=St.mobile)===null||Bi===void 0?void 0:Bi.universal,Hr=St==null||(Jt=St.mobile)===null||Jt===void 0?void 0:Jt.native;qt=Ue||Hr}let Ht=re[Ir],ns=Ht?.chainNamespaces||[],$t=new Set((yt=St.chains)===null||yt===void 0?void 0:yt.map(Ue=>Ue.split(":")[0])),Qt=new Set((ut=St.injected)===null||ut===void 0?void 0:ut.map(Ue=>Ue.namespace)),ll=d.filter(Ue=>$t.has(Ue)||Qt.has(Ue)||ns.includes(Ue)),br={name:Ir,displayName:St.name,href:qt,hasInjectedWallet:Ht?.isInjected||!1,isInstalled:!!Ht,hasWalletConnect:ce&&((Hn=St.walletConnect)===null||Hn===void 0||(Hn=Hn.sdks)===null||Hn===void 0?void 0:Hn.includes("sign_v2")),hasInstallLinks:Object.keys(St.app||{}).length>0,walletRegistryItem:St,imgExtension:St.imgExtension||"svg",icon:Ht?.icon,chainNamespaces:ll};return!br.hasInjectedWallet&&!br.hasWalletConnect&&!br.hasInstallLinks||ll.length===0||rt.push(br),rt},[]),[le,d,re,w.platform,ce]),xe=pu(()=>[...ae(f.default),...ae(f.others)],[ae,f.default,f.others]),me=pu(()=>{let Me=Object.keys(re).reduce((Ir,yt)=>{if(yt===it.WALLET_CONNECT_V2||!le[yt])return Ir;let ut=re[yt];return Ir.push({name:yt,displayName:ut?.label||yt,hasInjectedWallet:ut?.isInjected||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:ut?.icon,chainNamespaces:ut?.chainNamespaces||[]}),Ir},[]),rt=Me.findIndex(Ir=>Ir.name===it.METAMASK&&!Ir.hasInjectedWallet);if(rt!==-1){let Ir=Me[rt],yt=xe.find(ut=>ut.name===it.METAMASK);yt||(yt=ae({[it.METAMASK]:BXe})[0]),yt&&Me.splice(rt,1,q(q({},yt),{},{chainNamespaces:Ir.chainNamespaces,isInstalled:!0}))}return Me},[xe,re,le,ae]),Se=pu(()=>me.filter(Me=>!Me.hasInjectedWallet),[me]),vt=pu(()=>me.sort((rt,Ir)=>rt.name===it.METAMASK?-1:1).slice(0,E?3:1),[me,E]),Qe=pu(()=>{let Me=new Set;return xe.concat(me).filter(rt=>Me.has(rt.name)?!1:(Me.add(rt.name),!0)).length},[xe,me]),Ve=()=>{H(Me=>!Me)},kt=()=>{K(Me=>!Me)},Ze=pu(()=>{var Me;let rt=m||y;if(l.status!==ki.INITIALIZED)return"530px";if($||(Me=P.metamaskQrCode)!==null&&Me!==void 0&&Me.show)return rt?"640px":"588px";if(l.currentPage===o5.CONNECT_WALLET)return rt?"640px":"580px";if(G)return rt?"644px":"588px";if(vt.length===1)return rt?"560px":"530px";if(vt.length>1){let Ir=500+(vt.length-1)*58;return rt?`${Ir+60}px`:`${Ir+16}px`}return"539px"},[m,y,l.status,l.currentPage,$,(n=P.metamaskQrCode)===null||n===void 0?void 0:n.show,G,vt.length]),et=pu(()=>({bodyState:P,setBodyState:B,toast:I,setToast:L}),[P,B,I,L]),on=pu(()=>l.status!==ki.INITIALIZED,[l.status]);return Mi(Rp.Provider,{value:et,children:Vy("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[Vy("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:Ze},children:[Mi("div",{className:"w3a--modal-curtain"}),Vy("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[on?Mi(Utt,{connector:l.detailedLoaderConnector,connectorName:l.detailedLoaderConnectorName,modalStatus:l.status,onClose:h,appLogo:p}):Mi(brt,{children:(i=P.metamaskQrCode)!==null&&i!==void 0&&i.show?Vy("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[Mi(bK,{onBackClick:()=>B(q(q({},P),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:Kf.SELECTED_WALLET,selectedButton:P.metamaskQrCode.wallet}),Mi(OK,{qrCodeValue:l.metamaskConnectUri,isDark:g,selectedButton:P.metamaskQrCode.wallet,primaryColor:(o=P.metamaskQrCode.wallet.walletRegistryItem)===null||o===void 0?void 0:o.primaryColor,logoImage:`https://images.web3auth.io/login-${P.metamaskQrCode.wallet.name}.${P.metamaskQrCode.wallet.imgExtension}`})]}):Vy(brt,{children:[l.currentPage===o5.LOGIN&&F&&l.status===ki.INITIALIZED&&Mi(prt,{web3authClientId:l.web3authClientId,web3authNetwork:l.web3authNetwork,authBuildEnv:l.authBuildEnv,isModalVisible:l.modalVisibility,isDark:g,appLogo:p,showPasswordLessInput:_,showExternalWalletButton:A,showExternalWalletCount:v,showInstalledExternalWallets:E,socialLoginsConfig:C,areSocialLoginsVisible:R,isEmailPrimary:M,isExternalPrimary:U,installedExternalWalletConfig:vt,isEmailPasswordLessLoginVisible:z,isSmsPasswordLessLoginVisible:N,totalExternalWallets:Qe,logoAlignment:S,buttonRadius:T,deviceDetails:w,handleSocialLoginClick:b,handleExternalWalletBtnClick:W,handleSocialLoginHeight:Ve,handleExternalWalletClick:k}),l.currentPage===o5.CONNECT_WALLET&&!F&&l.status===ki.INITIALIZED&&Mi(Btt,{isDark:g,walletConnectUri:l.walletConnectUri,metamaskConnectUri:l.metamaskConnectUri,config:l.externalWalletsConfig,walletRegistry:f,allExternalButtons:xe,connectorVisibilityMap:le,customConnectorButtons:Se,deviceDetails:w,chainNamespace:d,buttonRadius:T,handleWalletDetailsHeight:kt,onBackClick:J,handleExternalWalletClick:k})]})}),Mi(Ltt,{privacyPolicy:m,termsOfService:y}),((a=P.multiChainSelector)===null||a===void 0?void 0:a.show)&&Mi(j1e,{uiConfig:O,isShown:P.multiChainSelector.show,onClose:()=>B(q(q({},P),{},{multiChainSelector:{show:!1,wallet:null}})),children:Mi(Dtt,{isDark:g,wallet:P.multiChainSelector.wallet,handleExternalWalletClick:Me=>{k(Me),B(q(q({},P),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),((s=P.installLinks)===null||s===void 0?void 0:s.show)&&Vy(j1e,{uiConfig:O,isShown:P.installLinks.show,onClose:()=>B(q(q({},P),{},{installLinks:{show:!1,wallet:null}})),children:[Mi("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:x("modal.getWallet")}),Mi("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:Mi(Ia,{imageId:`login-${P.installLinks.wallet.name}`,hoverImageId:`login-${P.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:P.installLinks.wallet.imgExtension})}),Mi("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:w.platform==="desktop"?te:X})]})]})]}),Mi(mrt,{})]})})}import{jsx as jK}from"react/jsx-runtime";function grt(t){let{stateListener:e,handleSocialLoginClick:r,handleExternalWalletClick:n,handleShowExternalWallets:i,closeModal:o,appLogo:a,appName:s,chainNamespaces:c,walletRegistry:l,uiConfig:u,deviceDetails:d}=t,{widgetType:f}=u,p=Mp(()=>f===f6.EMBED,[f]),[h,b]=vir({externalWalletsVisibility:!1,status:ki.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:o5.LOGIN,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:A1e.SAPPHIRE_MAINNET,authBuildEnv:Cp.PRODUCTION});mpe(()=>{b(m=>q(q({},m),{},{modalVisibility:p}))},[p]),mpe(()=>{e.on("STATE_UPDATED",m=>{Be.debug("state updated",m),b(y=>Ou((0,yrt.default)(y,m,{arrayMerge:(v,x)=>x})))}),e.emit("MOUNTED")},[e]);let _=m=>{let{connector:y}=m;b(E=>q(q({},E),{},{detailedLoaderConnector:y,detailedLoaderAdapterName:Z7[y]})),n&&n(m)},A=m=>{let{loginParams:y}=m;b(E=>q(q({},E),{},{detailedLoaderConnector:y.authConnection,detailedLoaderConnectorName:y.name})),r(m)},C=Mp(()=>{var m,y;return h.showExternalWalletsOnly||Object.keys(((m=h.socialLoginsConfig)===null||m===void 0?void 0:m.loginMethods)||{}).length===0?!1:Object.entries(((y=h.socialLoginsConfig)===null||y===void 0?void 0:y.loginMethods)||{}).some(([v,x])=>v!==Je.EMAIL_PASSWORDLESS&&x.showOnModal!==!1)},[h]),R=Mp(()=>{var m;return(m=h.socialLoginsConfig)===null||m===void 0||(m=m.loginMethods[Je.EMAIL_PASSWORDLESS])===null||m===void 0?void 0:m.showOnModal},[h.socialLoginsConfig]),M=Mp(()=>{var m;return(m=h.socialLoginsConfig)===null||m===void 0||(m=m.loginMethods[Je.SMS_PASSWORDLESS])===null||m===void 0?void 0:m.showOnModal},[h.socialLoginsConfig]),U=Mp(()=>{var m;return((m=h.socialLoginsConfig)===null||m===void 0||(m=m.uiConfig)===null||m===void 0?void 0:m.primaryButton)==="emailLogin"},[h.socialLoginsConfig]),F=Mp(()=>{var m;return((m=h.socialLoginsConfig)===null||m===void 0||(m=m.uiConfig)===null||m===void 0?void 0:m.primaryButton)==="externalLogin"},[h.socialLoginsConfig]),z=Mp(()=>R||M,[R,M]),N=Mp(()=>h.hasExternalWallets||!!h.externalWalletsConfig[it.METAMASK],[h]),k=Mp(()=>(C||z||!!h.externalWalletsConfig[it.METAMASK])&&!h.externalWalletsVisibility,[C,z,h]),O=m=>{b(y=>q(q({},y),{},{externalWalletsVisibility:m})),m&&i&&i(h.externalWalletsInitialized)},w=()=>{b(m=>q(q({},m),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:o5.LOGIN})),o()},S=()=>{h.status===ki.CONNECTED&&b(q(q({},h),{},{modalVisibility:!1,externalWalletsVisibility:!1})),h.status===ki.ERRORED&&b(q(q({},h),{},{modalVisibility:!0,status:ki.INITIALIZED}))},T=Mp(()=>h.status===ki.INITIALIZED||h.status===ki.CONNECTED||h.status===ki.ERRORED,[h.status]);return mpe(()=>{if(h.modalVisibility&&typeof h.externalWalletsConfig=="object"){var m;(((m=h.externalWalletsConfig[it.WALLET_CONNECT_V2])===null||m===void 0?void 0:m.showOnModal)||!1)!==!1&&!h.walletConnectUri&&typeof n=="function"&&n({connector:it.WALLET_CONNECT_V2})}},[h,n]),f===f6.MODAL?jK(det,{open:h.modalVisibility,placement:"center",padding:!1,showCloseIcon:T,onClose:w,borderRadius:u.borderRadiusType,children:h.modalVisibility&&jK(hpe,{appLogo:a,appName:s,chainNamespaces:c,walletRegistry:l,showPasswordLessInput:z,showExternalWalletButton:N,handleSocialLoginClick:m=>A(m),socialLoginsConfig:h.socialLoginsConfig,areSocialLoginsVisible:C,isEmailPrimary:U,isExternalPrimary:F,showExternalWalletPage:k,handleExternalWalletBtnClick:O,modalState:h,preHandleExternalWalletClick:_,setModalState:b,onCloseLoader:S,isEmailPasswordLessLoginVisible:R,isSmsPasswordLessLoginVisible:M,uiConfig:u,deviceDetails:d})}):jK(cet,{open:h.modalVisibility,padding:!1,onClose:w,borderRadius:u.borderRadiusType,children:h.modalVisibility&&jK(hpe,{chainNamespaces:c,walletRegistry:l,appLogo:a,appName:s,showPasswordLessInput:z,showExternalWalletButton:N,handleSocialLoginClick:m=>A(m),socialLoginsConfig:h.socialLoginsConfig,areSocialLoginsVisible:C,isEmailPrimary:U,isExternalPrimary:F,showExternalWalletPage:k,handleExternalWalletBtnClick:O,modalState:h,preHandleExternalWalletClick:_,setModalState:b,onCloseLoader:S,isEmailPasswordLessLoginVisible:R,isSmsPasswordLessLoginVisible:M,uiConfig:u,deviceDetails:d})})}import{jsx as Epe}from"react/jsx-runtime";function $ir(t){let e=document.getElementById("w3a-parent-container");e&&e.remove();let r=document.createElement("section");r.classList.add("w3a-parent-container"),r.setAttribute("id","w3a-parent-container"),r.style.zIndex=t,r.style.position="relative",document.body.appendChild(r)}function Vir(t){let e=document.getElementById(t);if(!e){Be.error(`Element with ID ${t} not found`);return}e.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>'}var VK=class{constructor(e,r){if(V(this,"uiConfig",void 0),V(this,"stateEmitter",void 0),V(this,"chainNamespaces",void 0),V(this,"walletRegistry",void 0),V(this,"callbacks",void 0),V(this,"externalWalletsConfig",void 0),V(this,"analytics",void 0),V(this,"initModal",async()=>{let n={isDark:this.isDark},i=this.uiConfig.defaultLanguage||dc.en;return i===dc.de?Promise.resolve().then(()=>(xrt(),Ert)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.ja?Promise.resolve().then(()=>(Srt(),_rt)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.ko?Promise.resolve().then(()=>(Prt(),Rrt)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.zh?Promise.resolve().then(()=>(Mrt(),krt)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.es?Promise.resolve().then(()=>(Urt(),Lrt)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.fr?Promise.resolve().then(()=>(Grt(),zrt)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.pt?Promise.resolve().then(()=>(Krt(),Vrt)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.nl?Promise.resolve().then(()=>(Jrt(),Yrt)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.tr?Promise.resolve().then(()=>(ent(),Xrt)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}):i===dc.en&&Promise.resolve().then(()=>(G1e(),Pet)).then(o=>(mr.addResourceBundle(i,"translation",o.default),mr.changeLanguage(i))).catch(o=>{Be.error(o)}),new Promise(o=>{var a,s,c;if(this.stateEmitter.once("MOUNTED",()=>(Be.info("rendered"),this.setState({status:ki.INITIALIZED,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),o())),this.uiConfig.widgetType===f6.MODAL)$ir(this.uiConfig.modalZIndex);else if(this.uiConfig.widgetType===f6.EMBED)Vir(this.uiConfig.targetId);else throw tt.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);let l=document.getElementById("w3a-parent-container");n.isDark?l.classList.add("w3a--dark"):l.classList.remove("w3a--dark"),jir(l).render(Epe(Fy.Provider,{value:n,children:Epe(FA.Provider,{value:{analytics:this.analytics},children:Epe(grt,{stateListener:this.stateEmitter,appLogo:n.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig})})}));let d=((a=this.uiConfig)===null||a===void 0||(a=a.theme)===null||a===void 0?void 0:a.primary)===kXe&&((s=this.uiConfig.theme)===null||s===void 0?void 0:s.onPrimary)===MXe;(c=this.uiConfig)!==null&&c!==void 0&&c.theme&&!d&&Promise.resolve().then(()=>(lnt(),cnt)).then(({default:f})=>{let p=document.getElementById("w3a-parent-container");S1e(f,p,this.uiConfig.theme)}).catch(f=>{Be.error(f)})})}),V(this,"addSocialLogins",(n,i,o,a)=>{this.setState({socialLoginsConfig:{connector:n,loginMethods:i,loginMethodsOrder:o,uiConfig:a}}),Be.info("addSocialLogins",n,i,o,a)}),V(this,"addWalletLogins",(n,i)=>{this.externalWalletsConfig=n;let o=!!n[it.METAMASK];this.setState({externalWalletsConfig:n,externalWalletsInitialized:!!i.externalWalletsInitialized,showExternalWalletsOnly:!!i.showExternalWalletsOnly,externalWalletsVisibility:o?!1:!!i.externalWalletsVisibility})}),V(this,"open",()=>{var n,i,o;this.setState({modalVisibility:!0}),(n=this.analytics)===null||n===void 0||n.track(Ur.LOGIN_MODAL_OPENED,q(q({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys((i=this.walletRegistry)===null||i===void 0?void 0:i.default).length+Object.keys((o=this.walletRegistry)===null||o===void 0?void 0:o.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},Y7(this.uiConfig)),OXe(this.uiConfig))),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),V(this,"closeModal",()=>{var n;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),(n=this.analytics)===null||n===void 0||n.track(Ur.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),V(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),V(this,"handleShowExternalWallets",n=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:n})}),V(this,"handleExternalWalletClick",n=>{Be.info("external wallet clicked",n);let{connector:i,chainNamespace:o}=n;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:i,loginParams:{chainNamespace:o}})}),V(this,"handleSocialLoginClick",n=>{var i;Be.info("social login clicked",n);let{connector:o,loginParams:a}=n;(i=this.analytics)===null||i===void 0||i.track(Ur.SOCIAL_LOGIN_SELECTED,{connector:o,auth_connection:a.authConnection,auth_connection_id:a.authConnectionId,group_auth_connection_id:a.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:o,loginParams:a})}),V(this,"setState",n=>{this.stateEmitter.emit("STATE_UPDATED",n)}),V(this,"handleConnectorData",n=>{if(n.connectorName===it.WALLET_CONNECT_V2){let i=n.data;i.uri&&this.setState({walletConnectUri:i.uri})}if(n.connectorName===it.METAMASK){let i=n.data;i.uri&&this.setState({metamaskConnectUri:i.uri})}}),V(this,"subscribeCoreEvents",n=>{n.on(ot.CONNECTING,i=>{var o;if(Be.info("connecting with connector",i),i?.connector===it.WALLET_CONNECT_V2)return;let a=(o=this.externalWalletsConfig)===null||o===void 0||(o=o[it.METAMASK])===null||o===void 0?void 0:o.isInjected;i?.connector===it.METAMASK&&!a&&this.deviceDetails.platform==="desktop"||this.setState({status:ki.CONNECTING})}),n.on(ot.CONNECTED,i=>{Be.debug("connected with connector",i),!i.reconnected&&i.loginMode===p6.MODAL?this.setState({status:ki.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"}):this.setState({status:ki.CONNECTED})}),n.on(ot.ERRORED,(i,o)=>{Be.error("error",i,i.message),o!==p6.NO_MODAL&&(i.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:i.message||"modal.post-loading.something-wrong",status:ki.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:ki.INITIALIZED}))}),n.on(ot.DISCONNECTED,()=>{this.setState({status:ki.INITIALIZED,externalWalletsVisibility:!1})}),n.on(ot.CONNECTOR_DATA_UPDATED,i=>{this.handleConnectorData(i)})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=iK),e.logoLight||(this.uiConfig.logoLight=nK),e.mode||(this.uiConfig.mode="light"),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=sK(e.defaultLanguage)),e.widgetType||(this.uiConfig.widgetType=f6.MODAL),e.widgetType===f6.EMBED&&!e.targetId)throw Be.error("targetId is required for embed widget"),tt.invalidParams("targetId is required for embed widget");this.stateEmitter=new WP,this.chainNamespaces=e.chainNamespaces,this.walletRegistry=e.walletRegistry,this.callbacks=r,this.analytics=e.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if(typeof window>"u")return{platform:"mobile",browser:"chrome",os:"ios"};let e=unt.default.getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}};var fO=class extends KP{constructor(e,r){super(e,r),V(this,"loginModal",void 0),V(this,"options",void 0),V(this,"modalConfig",Ou(v1e)),V(this,"onInitExternalWallets",async n=>{n.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(i=>i.name===it.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),V(this,"onSocialLogin",async n=>{try{await this.connectTo(it.AUTH,n.loginParams,p6.MODAL)}catch(i){Be.error(`Error while connecting to connector: ${n.connector}`,i)}}),V(this,"onExternalWalletLogin",async n=>{try{var i;let o=this.getConnector(n.connector,(i=n.loginParams)===null||i===void 0?void 0:i.chainNamespace);if(o.name===it.WALLET_CONNECT_V2){let s=this.getInitialChainIdForConnector(o);await o.connect({chainId:s.chainId})}else await this.connectTo(n.connector,n.loginParams,p6.MODAL)}catch(o){Be.error(`Error while connecting to connector: ${n.connector}`,o)}}),V(this,"onModalVisibility",async n=>{Be.debug("is login modal visible",n),this.emit(JP.MODAL_VISIBILITY,n);let i=this.getConnector(it.WALLET_CONNECT_V2);if(i){let o=i?.status;if(Be.debug("trying refreshing wc session",n,o),n&&(o===Oe.READY||o===Oe.CONNECTING)){Be.debug("refreshing wc session");try{let a=this.getInitialChainIdForConnector(i);i.connect({chainId:a.chainId})}catch(a){Be.error("Error while disconnecting to wallet connect in core",a)}}!n&&this.status===Oe.CONNECTED&&(o===Oe.READY||o===Oe.CONNECTING)&&(Be.debug("this stops wc connector from trying to reconnect once proposal expires"),i.status=Oe.READY)}}),V(this,"getChainNamespaces",()=>{var n;return[...new Set(((n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(i=>i.chainNamespace))||[])]}),this.options=q({},e),this.options.uiConfig||(this.options.uiConfig={logoLight:"",logoDark:""}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),Be.info("modalConfig",this.modalConfig)}async init(e){let r=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:j7.WEB_MODAL,sdk_version:J7,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let n={};try{var i,o;let{signal:a}=e||{};super.checkInitRequirements();let{projectConfig:s,walletRegistry:c}=await this.getProjectAndWalletConfig();this.initUIConfig(s),super.initAccountAbstractionConfig(s),super.initChainsConfig(s),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(s),this.analytics.setGlobalProperties({team_id:s.teamId}),n=this.getInitializationTrackData();let{filteredWalletRegistry:l,disabledExternalWallets:u}=this.filterWalletRegistry(c,s);this.loginModal=new VK(q(q({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:l,analytics:this.analytics}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility}),await Nu(()=>this.loginModal.initModal(),a),await Nu(()=>this.setupCommonJRPCProvider(),a),this.on(ot.CONNECTORS_UPDATED,({connectors:f})=>{Nu(()=>this.initConnectors({connectors:f,projectConfig:s,disabledExternalWallets:u}),a,()=>{var h;Be.debug("init aborted"),((h=this.connectors)===null||h===void 0?void 0:h.length)>0&&super.cleanup()})}),await Nu(()=>super.loadConnectors({projectConfig:s,modalMode:!0}),a),await Nu(()=>super.initPlugins(),a);let d=this.getConnector(it.AUTH);n=q(q({},n),{},{connectors:this.connectors.map(f=>f.name),plugins:Object.keys(this.plugins),auth_ux_mode:(d==null||(i=d.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(Ur.SDK_INITIALIZATION_COMPLETED,q(q({},n),{},{duration:Date.now()-r}))}catch(a){if(a instanceof DOMException&&a.name==="AbortError")return;throw this.analytics.track(Ur.SDK_INITIALIZATION_FAILED,q(q(q({},n),h6(a)),{},{duration:Date.now()-r})),Be.error("Failed to initialize modal",a),a}}async connect(){if(!this.loginModal)throw tt.notReady("Login modal is not initialized");return this.connectedConnectorName&&this.status===Oe.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,r)=>{let n=()=>(this.removeListener(ot.ERRORED,i),this.removeListener(JP.MODAL_VISIBILITY,o),e(this.provider)),i=a=>(this.removeListener(ot.CONNECTED,n),this.removeListener(JP.MODAL_VISIBILITY,o),r(a)),o=a=>{if(!a&&this.status!==Oe.CONNECTED)return this.removeListener(ot.CONNECTED,n),this.removeListener(ot.ERRORED,i),r(new Error("User closed the modal"))};this.once(ot.CONNECTED,n),this.once(ot.ERRORED,i),this.once(JP.MODAL_VISIBILITY,o)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=(0,KK.default)(Ou(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=sK(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light");let r=KK.default.all([e.loginModal||{},this.options.uiConfig],{arrayMerge:(s,c)=>c});this.options.uiConfig=q(q({},r),{},{logoLight:r.logoLight||"",logoDark:r.logoDark||""});let n=e.embeddedWalletAuth.filter(s=>s.isDefault).map(s=>s.authConnection),i=[...this.options.uiConfig.loginMethodsOrder||[],...n],o=[],a=new Set;for(let s of i)a.has(s)||(a.add(s),o.push(s));this.options.uiConfig.loginMethodsOrder=o}getInitializationTrackData(){var e,r,n,i,o,a,s,c,l,u,d,f,p,h,b,_,A;return q(q({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:(e=this.modalConfig)===null||e===void 0?void 0:e.hideWalletDiscovery,modal_connectors:Object.keys(((r=this.modalConfig)===null||r===void 0?void 0:r.connectors)||{}),modal_auth_connector_login_methods:Object.keys(((n=this.modalConfig)===null||n===void 0||(n=n.connectors)===null||n===void 0||(n=n[it.AUTH])===null||n===void 0?void 0:n.loginMethods)||{}),ui_login_methods_order:(i=this.options.uiConfig)===null||i===void 0?void 0:i.loginMethodsOrder,ui_modal_z_index:(o=this.options.uiConfig)===null||o===void 0?void 0:o.modalZIndex,ui_display_errors_on_modal:(a=this.options.uiConfig)===null||a===void 0?void 0:a.displayErrorsOnModal,ui_login_grid_col:(s=this.options.uiConfig)===null||s===void 0?void 0:s.loginGridCol,ui_primary_button:(c=this.options.uiConfig)===null||c===void 0?void 0:c.primaryButton,ui_modal_widget_type:(l=this.options.uiConfig)===null||l===void 0?void 0:l.widgetType,ui_modal_target_id_used:!!(!((u=this.options.uiConfig)===null||u===void 0)&&u.targetId),ui_modal_logo_alignment:(d=this.options.uiConfig)===null||d===void 0?void 0:d.logoAlignment,ui_modal_border_radius_type:(f=this.options.uiConfig)===null||f===void 0?void 0:f.borderRadiusType,ui_modal_button_radius_type:(p=this.options.uiConfig)===null||p===void 0?void 0:p.buttonRadiusType,ui_modal_sign_in_methods:(h=this.options.uiConfig)===null||h===void 0?void 0:h.signInMethods,ui_modal_add_previous_login_hint:(b=this.options.uiConfig)===null||b===void 0?void 0:b.addPreviousLoginHint,ui_modal_display_installed_external_wallets:(_=this.options.uiConfig)===null||_===void 0?void 0:_.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:(A=this.options.uiConfig)===null||A===void 0?void 0:A.displayExternalWalletsCount})}filterWalletRegistry(e,r){let{disableAllRecommendedWallets:n,disableAllOtherWallets:i,disabledWallets:o}=r.externalWalletAuth||{},a=new Set(o||[]);n&&Object.keys(e.default).forEach(c=>a.add(c)),i&&Object.keys(e.others).forEach(c=>a.add(c)),a.delete(it.METAMASK);let s=Ou(e);return a.forEach(c=>{delete s.default[c],delete s.others[c]}),{disabledExternalWallets:a,filteredWalletRegistry:s}}async getProjectAndWalletConfig(){var e,r;let[n,i]=await Promise.allSettled([K7({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:(e=this.options.accountAbstractionConfig)===null||e===void 0?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),aZ(E1e)]);if(n.status==="rejected"){let c=await Yp(n.reason);throw Be.error("Failed to fetch project configurations",c),tt.notReady("failed to fetch project configurations",c)}let o=n.value,a={others:{},default:{}};return!!o.externalWalletAuth&&!((r=this.modalConfig)!==null&&r!==void 0&&r.hideWalletDiscovery)&&(i.status==="fulfilled"?a=i.value:Be.error("Failed to fetch wallet registry",i.reason)),{projectConfig:o,walletRegistry:a}}async initConnectors({connectors:e,projectConfig:r,disabledExternalWallets:n}){let i=await this.filterConnectors({projectConfig:r,disabledExternalWallets:n}),{hasInAppConnectors:o,hasExternalConnectors:a}=await this.checkConnectorAvailability(i),s=e.filter(c=>i.includes(c.name));await this.initInAppAndCachedConnectors(s),a&&(o?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(s.filter(c=>c.type===ba.EXTERNAL&&c.name!==it.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(s.filter(c=>c.type===ba.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===Oe.NOT_READY&&(this.status=Oe.READY,this.emit(ot.READY))}async filterConnectors({projectConfig:e,disabledExternalWallets:r}){var n;let i={},o=new Map;for(let u of e.embeddedWalletAuth||[]){let{isDefault:d,authConnection:f,groupedAuthConnectionId:p,authConnectionId:h}=u;d&&(i[f]={name:IXe[f],authConnection:f,authConnectionId:h,groupedAuthConnectionId:p,extraLoginOptions:u.jwtParameters,isDefault:!0,showOnModal:!0}),o.set(p||h,u)}let a={[it.AUTH]:{label:it.AUTH,loginMethods:i}};(n=this.modalConfig)!==null&&n!==void 0&&(n=n.connectors)!==null&&n!==void 0&&n[it.AUTH]&&(this.modalConfig.connectors[it.AUTH].loginMethods||(this.modalConfig.connectors[it.AUTH].loginMethods={}));let s=new Set(rK);return Object.keys(this.modalConfig.connectors[it.AUTH].loginMethods).forEach(u=>{let d=this.modalConfig.connectors[it.AUTH].loginMethods[u],{authConnectionId:f,groupedAuthConnectionId:p}=d;if(!s.has(u))throw tt.invalidParams(`Invalid auth connection: ${u}`);if(p||f){if(!o.has(p||f))throw tt.invalidParams(`Invalid auth connection config, authConnection: ${u}. Missing AuthConnectionConfig from the dashboard.`);let h=o.get(p||f);this.modalConfig.connectors[it.AUTH].loginMethods[u]={authConnection:h.authConnection,authConnectionId:h.authConnectionId,groupedAuthConnectionId:h.groupedAuthConnectionId,isDefault:h.isDefault||!1,extraLoginOptions:q(q({},h.jwtParameters),d.extraLoginOptions)}}}),this.modalConfig.connectors=(0,KK.default)(a,Ou(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(u=>u.name)])].map(u=>{var d,f,p;let h={label:Z7[u]||u.split("-").map(YP).join(" "),showOnModal:!0};this.modalConfig.connectors[u]=q(q({},h),((d=this.modalConfig)===null||d===void 0||(d=d.connectors)===null||d===void 0?void 0:d[u])||{});let b=this.getConnector(u);Be.debug("connector config",u,(f=this.modalConfig.connectors)===null||f===void 0||(f=f[u])===null||f===void 0?void 0:f.showOnModal,b);let _=(p=this.modalConfig.connectors)===null||p===void 0?void 0:p[u];if(!b){if(_.showOnModal)throw tt.invalidParams(`Connector ${u} is not configured`);return}if(!_.showOnModal)return;let A=!!e.externalWalletAuth;if(!(b.type===ba.EXTERNAL&&b.name!==it.METAMASK&&(!A||r.has(u)))){if(u===it.WALLET_CONNECT_V2){var C;if(!A||(C=this.modalConfig)!==null&&C!==void 0&&C.hideWalletDiscovery)return}return this.modalConfig.connectors[u]=_,u}}).filter(u=>u!==void 0)}async checkConnectorAvailability(e){let r=this.connectors.some(i=>{var o,a;return i.type!==ba.IN_APP||((o=this.modalConfig.connectors)===null||o===void 0||(o=o[i.name])===null||o===void 0?void 0:o.showOnModal)!==!0?!1:!!(!((a=this.modalConfig.connectors)!==null&&a!==void 0&&(a=a[i.name])!==null&&a!==void 0&&a.loginMethods)||Object.values(this.modalConfig.connectors[i.name].loginMethods).some(s=>s.showOnModal))});Be.debug(r,this.connectors,e,"hasInAppWallets");let n=e.some(i=>{var o,a;return i===it.WALLET_CONNECT_V2?!0:((o=this.getConnector(i))===null||o===void 0?void 0:o.type)===ba.EXTERNAL&&((a=this.modalConfig.connectors)===null||a===void 0||(a=a[i])===null||a===void 0?void 0:a.showOnModal)});return{hasInAppConnectors:r,hasExternalConnectors:n}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async r=>{let n=r.name;try{if(r.status!==Oe.NOT_READY||this.cachedConnector!==n&&r.type===ba.EXTERNAL)return;this.subscribeToConnectorEvents(r);let c=this.getInitialChainIdForConnector(r),l=super.checkIfAutoConnect(r);if(await r.init({autoConnect:l,chainId:c.chainId}),r.type===ba.IN_APP){var i,o,a,s;Be.info("connectorInitResults",n);let u=((i=this.modalConfig.connectors[n])===null||i===void 0?void 0:i.loginMethods)||{};this.loginModal.addSocialLogins(n,u,((o=this.options.uiConfig)===null||o===void 0?void 0:o.loginMethodsOrder)||rK,q(q({},this.options.uiConfig),{},{loginGridCol:((a=this.options.uiConfig)===null||a===void 0?void 0:a.loginGridCol)||3,primaryButton:((s=this.options.uiConfig)===null||s===void 0?void 0:s.primaryButton)||"socialLogin"}))}}catch(c){Be.error(c,"error while initializing connector ",n)}}))}async initExternalConnectors(e,r){let n={},i={};e.forEach(async o=>{let a=o.name;if(Be.debug("init external wallet",this.cachedConnector,a,o.status),i[a]||(i[a]=new Set),o.connectorNamespace===Zo.MULTICHAIN?this.getChainNamespaces().forEach(s=>i[a].add(s)):i[a].add(o.connectorNamespace),o.status===Oe.NOT_READY&&this.cachedConnector!==a)try{this.subscribeToConnectorEvents(o);let s=this.getInitialChainIdForConnector(o);await o.init({autoConnect:this.cachedConnector===a,chainId:s.chainId})}catch(s){Be.error(s,"error while initializing connector",a)}if([Oe.NOT_READY,Oe.READY,Oe.CONNECTING,Oe.CONNECTED].includes(o.status)){let s=this.modalConfig.connectors[a];n[a]=q(q({},s),{},{isInjected:o.isInjected,icon:o.icon,chainNamespaces:Array.from(i[a])}),this.loginModal.addWalletLogins(n,{showExternalWalletsOnly:!!r.showExternalWalletsOnly,externalWalletsVisibility:!!r.externalWalletsVisibility,externalWalletsInitialized:!!r.externalWalletsInitialized})}})}};var fnt=window.NEO_CONFIG??{},Kir=fnt.web3auth?.client_id||"REPLACE_ME",qir=fnt.web3auth?.network||"sapphire_mainnet",dnt=new fO({clientId:Kir,web3AuthNetwork:qir,uiConfig:{logoLight:"https://flowpaypix.netlify.app/assets/logos/flowpay-logo.png",logoDark:"https://flowpaypix.netlify.app/assets/logos/flowpay-logo.png",loginMethodsOrder:["google"],displayErrorsOnModal:!1,addPreviousLoginHint:!1,displayInstalledExternalWallets:!1,displayExternalWalletsCount:!1,mode:"light",loginGridCol:2,primaryButton:"socialLogin"},modalConfig:{hideWalletDiscovery:!0,connectors:{auth:{label:"Login",loginMethods:{google:{}}}}}}),xpe=!1;async function Ape(){if(!xpe)try{await dnt.init(),window.__web3auth=dnt,xpe=!0,console.log("\u2705 Web3Auth smart inicializado")}catch(t){console.error("\u274C Web3Auth falhou:",t),window.__web3auth=null}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ape):Ape();async function Wir(){if(xpe||await Ape(),!window.__web3auth)return!1;try{let t=await window.__web3auth.connect();return window.__provider=t,!!t}catch(t){return console.error("\u274C Falha ao conectar:",t),!1}}async function Yir(){if(window.__web3auth)try{await window.__web3auth.logout(),window.__provider=null,console.log("\u2705 Desconectado")}catch(t){console.error("\u274C Falha ao desconectar:",t)}}window.connectWallet=Wir;window.disconnectWallet=Yir;export{Wir as connectWallet,Yir as disconnectWallet};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

tslib/tslib.es6.js:
tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@walletconnect/relay-auth/dist/index.es.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@walletconnect/utils/dist/index.es.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

fast-json-patch/module/helpers.mjs:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2022 Joachim Wester
   * MIT licensed
   *)

fast-json-patch/module/duplex.mjs:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2021 Joachim Wester
   * MIT license
   *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
*/
