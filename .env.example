# ============================================
# FlowPay - Environment Configuration
# Copy to .env and fill in your real values.
# ============================================

# ============================================
# CORE (REQUIRED)
# ============================================

NODE_ENV=production
PORT=4321
URL=http://localhost:4321

# Admin panel password
ADMIN_PASSWORD=change_me_in_production

# Session token signing — generate with: openssl rand -hex 64
TOKEN_SECRET=generate_with_openssl_rand_hex_64

# ============================================
# PIX PAYMENTS — WOOVI / OPENPIX (REQUIRED)
# ============================================
# https://app.woovi.com — get your API credentials

WOOVI_API_KEY=your_woovi_api_key
WOOVI_WEBHOOK_SECRET=your_webhook_secret
WOOVI_API_URL=https://api.woovi.com

# Webhook HMAC verification
FLOWPAY_WEBHOOK_SECRET=generate_with_openssl_rand_hex_32

# ============================================
# CORS — ALLOWED ORIGINS
# ============================================

ALLOWED_ORIGINS_PROD=https://flowpay.cash,https://www.flowpay.cash
ALLOWED_ORIGINS_STAGING=http://localhost:4321

# ============================================
# EMAIL — SMTP (optional, for magic links)
# ============================================

# SMTP_HOST=smtp.resend.com
# SMTP_PORT=465
# SMTP_USER=resend
# SMTP_PASS=your_resend_api_key
# SMTP_FROM=FlowPay <noreply@send.flowpay.cash>
# RESEND_FALLBACK_FROM=FlowPay <noreply@flowpay.cash>
# EMAIL_DOMAIN_CHECK_TTL_MS=600000

# Alternative: Resend HTTP API
# RESEND_API_KEY=your_resend_api_key

# Admin notification email — receives alerts on new registrations, approvals and rejections
# ADMIN_NOTIFY_EMAIL=seu@email.com

# ============================================
# OBSERVABILITY — SENTRY
# ============================================
# SENTRY_DSN=https://7794b30fca5fa43d77da7314bdc29748@o4510916616519680.ingest.us.sentry.io/4510916639653888
# PUBLIC_SENTRY_DSN=https://7794b30fca5fa43d77da7314bdc29748@o4510916616519680.ingest.us.sentry.io/4510916639653888
# PUBLIC_ENV=production
# PUBLIC_SENTRY_RELEASE=flowpay@1.0.1

# ============================================
# CRYPTO SETTLEMENT (optional)
# ============================================
# Only needed if offering on-chain USDT settlement

# USDT_SETTLEMENT_NETWORK=polygon
# USDT_CONTRACT_ADDRESS=0xc2132D05D31c914a87C6611C10748AEb04B58e8F
# SERVICE_WALLET_ADDRESS=0x...
# SERVICE_WALLET_PRIVATE_KEY=0x...
# MERCHANT_WALLET_ADDRESS=0x...
# CONVERSION_FEE_PERCENT=0.5
# LIQUIDITY_PROVIDER_NAME=manual

# ============================================
# BLOCKCHAIN RPC (optional)
# ============================================

# QUICKNODE_BASE_RPC=https://your-endpoint.base-mainnet.quiknode.pro/your-token/
# QUICKNODE_API_KEY=your_quicknode_api_key
# INFURA_API_KEY=your_infura_api_key

# ============================================
# WEB3 AUTH (optional — for wallet login)
# ============================================

# WEB3AUTH_CLIENT_ID=your_web3auth_client_id
# WALLETCONNECT_PROJECT_ID=your_walletconnect_project_id

# ============================================
# RATE LIMITING — REDIS (optional)
# ============================================
# Redis-backed rate limiting. Falls back to in-memory if not set.
# In Railway: add a Redis service and link it — REDIS_URL is injected automatically.
# REDIS_URL=redis://default:password@hostname:6379

# ============================================
# NOTIFICATIONS (optional)
# ============================================

# TELEGRAM_BOT_TOKEN=your_bot_token
# TELEGRAM_CHAT_ID=your_chat_id

# ============================================
# LOGGING
# ============================================

LOG_LEVEL=info
RATE_LIMIT_MAX=100

# ============================================
# NEO TUNNEL (optional)
# ============================================
TUNNEL_SECRET=your_tunnel_secret_here
