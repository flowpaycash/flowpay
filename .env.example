# ============================================
# FLOWPay - Configuracao de Ambiente Soberano
# Copie para .env e configure suas chaves reais.
# ============================================

# ============================================
# WOOVI / OPENPIX API (OBRIGATORIO)
# ============================================
# Credenciais da Woovi/OpenPix - https://app.woovi.com
WOOVI_API_KEY=your_woovi_app_id_here
WOOVI_WEBHOOK_SECRET=your_webhook_secret_here
WOOVI_API_URL=https://api.woovi.com
# IPs oficiais da Woovi para webhooks (separados por virgula)
# WOOVI_ALLOWED_IPS=179.190.27.5,179.190.27.6,186.224.205.214,181.192.114.64
# Assinatura do webhook FlowPay (HMAC)
FLOWPAY_SIGNATURE_SECRET=your_signature_secret_here
FLOWPAY_WEBHOOK_SECRET=your_webhook_secret_hex_here

# Aliases de compatibilidade
APP_ID=your_woovi_client_id
FLOWPAY_API_URL=https://flowpay.cash
FLOWPAY_API_KEY=your_flowpay_api_key_here

# ============================================
# SEGURANCA & AUTENTICACAO (OBRIGATORIO)
# ============================================
# Senha do painel admin (TROCAR EM PRODUCAO!)
ADMIN_PASSWORD=change_me_in_production
# Secret para assinar session tokens (HMAC-SHA256) - gere com: openssl rand -hex 64
TOKEN_SECRET=generate_with_openssl_rand_hex_64
# Alias (mesmo valor que TOKEN_SECRET)
FLOWPAY_JWT_SECRET=same_as_TOKEN_SECRET

# ============================================
# WEB3AUTH & WALLETCONNECT (SIWE Login)
# ============================================
# Web3Auth Dashboard: https://dashboard.web3auth.io
WEB3AUTH_CLIENT_ID=your_web3auth_client_id
# WalletConnect Cloud: https://cloud.walletconnect.com
WALLETCONNECT_PROJECT_ID=your_walletconnect_project_id

# ============================================
# CORS - ORIGENS PERMITIDAS
# ============================================
ALLOWED_ORIGINS_PROD=https://flowpay.cash,https://www.flowpay.cash,https://your-app.up.railway.app
ALLOWED_ORIGINS_STAGING=https://staging.your-app.up.railway.app

# ============================================
# AMBIENTE & DEPLOY (RAILWAY)
# ============================================
# No Railway, o NODE_ENV ja deve vir como production
NODE_ENV=production
URL=https://flowpay.cash
PORT=4321

# ============================================
# BRIDGE: NEOBOT (Unlock Service)
# ============================================
NEOBOT_API_KEY=your_neobot_api_key
NEOBOT_URL=https://your-neobot.up.railway.app

# ============================================
# BRIDGE: NEXUS (Notification Service)
# ============================================
NEXUS_API_URL=https://nexus.neoprotocol.space/api
NEXUS_SECRET=your_nexus_hmac_secret_hex
# Override se o endpoint de webhook for diferente
# NEXUS_WEBHOOK_URL=https://nexus.neoprotocol.space/api/webhooks/flowpay

# ============================================
# NOTIFICACOES (TELEGRAM)
# ============================================
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# ============================================
# BLOCKCHAIN: QUICKNODE
# ============================================
QUICKNODE_API_KEY=your_quicknode_api_key
QUICKNODE_BASE_RPC=https://your-endpoint.base-mainnet.quiknode.pro/your-key/
# RPCs adicionais (opcionais)
# QUICKNODE_POLYGON_RPC=https://...
# QUICKNODE_BSC_RPC=https://...
# QUICKNODE_ETHEREUM_RPC=https://...
# QUICKNODE_ARBITRUM_URL=https://...
# QUICKNODE_OPTIMISM_URL=https://...
# QuickNode REST services
QUICKNODE_IPFS_REST=https://api.quicknode.com/ipfs/v1
QUICKNODE_KV_REST=https://api.quicknode.com/kv/v1
# QUICKNODE_FUNCTIONS_REST=https://api.quicknode.com/functions/v1
# QUICKNODE_STREAMS_REST=https://api.quicknode.com/streams/v1
# QUICKNODE_WEBHOOKS_REST=https://api.quicknode.com/webhooks/v1
QUICKNODE_WEBHOOK_SECRET=your_quicknode_webhook_secret

# ============================================
# BLOCKCHAIN: INFURA
# ============================================
INFURA_API_KEY=your_infura_api_key
INFURA_POLYGON_RPC=https://polygon-mainnet.infura.io/v3/your_infura_api_key
INFURA_GAS_API=https://gas.api.infura.io/v3/your_infura_api_key

# ============================================
# SETTLEMENT & CRYPTO
# ============================================
# Rede para liquidacao USDT (polygon, bsc, base)
USDT_SETTLEMENT_NETWORK=polygon
# Contratos de stablecoin
USDT_CONTRACT_ADDRESS=0xc2132D05D31c914a87C6611C10748AEb04B58e8F
USDC_CONTRACT_ADDRESS=0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174
# Carteira de servico (para settlement automatico)
SERVICE_WALLET_ADDRESS=0x...
SERVICE_WALLET_PRIVATE_KEY=0x...
# Carteira merchant (para receber pagamentos on-chain)
MERCHANT_WALLET_ADDRESS=0x...
# Proof-of-Existence (PoE) writer
BLOCKCHAIN_WRITER_ADDRESS=0x...
BLOCKCHAIN_WRITER_PRIVATE_KEY=0x...
PROOF_CONTRACT_ADDRESS=0x...
# Taxa de conversao e rate
CONVERSION_FEE_PERCENT=0.5
# BRL_TO_USD_RATE=5.0
# Bundler para Smart Accounts (Account Abstraction)
# BUNDLER_URL=https://...

# Liquidity Provider (manual ou API)
LIQUIDITY_PROVIDER_NAME=manual
# LIQUIDITY_PROVIDER_TYPE=api
# LIQUIDITY_PROVIDER_URL=https://...
# LIQUIDITY_PROVIDER_API_KEY=your_lp_key
# LIQUIDITY_PROVIDER_FALLBACK_NAME=...
# LIQUIDITY_PROVIDER_FALLBACK_TYPE=...
# LIQUIDITY_PROVIDER_FALLBACK_API_KEY=...

# ============================================
# NEO PROTOCOL (Chaves de Servico)
# ============================================
# MIO Identity
MIO_API_URL=https://id.neoprotocol.space
# Chaves privadas dos servicos Neo (gere com: openssl rand -hex 32, prefixe com 0x)
NEO_CORE_PRIVATE_KEY=0x...
NEO_GATEWAY_PRIVATE_KEY=0x...
NEO_SKILLS_PRIVATE_KEY=0x...
NEO_FACTORY_PRIVATE_KEY=0x...
NEO_FLOWPAY_PRIVATE_KEY=0x...
NEO_ASI1_PRIVATE_KEY=0x...
NEO_TELEGRAM_PRIVATE_KEY=0x...
NEO_WHATSAPP_PRIVATE_KEY=0x...
NEO_IPFS_PRIVATE_KEY=0x...

# ============================================
# INTEGRACAO EXTERNA (OPCIONAL)
# ============================================
NOTION_API_KEY=your_notion_api_key
CLAWDBOT_GATEWAY_TOKEN=your_gateway_token
RESEND_API_KEY=your_resend_api_key

# ============================================
# EMAIL (SMTP - para Magic Links em producao)
# ============================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# ============================================
# LOGGING & PERFORMANCE
# ============================================
LOG_LEVEL=info
RATE_LIMIT_MAX=100
# VERBOSE=true

# ============================================
# PERSISTENCIA (SQLite / Railway Volume)
# ============================================
# No Railway, crie um VOLUME montado em /app/data
# O banco persiste em /app/data/flowpay/flowpay.db
