---
import Layout from "../../layouts/Layout.astro";
---

<Layout title="Verificar Acesso — FLOWPay">
  <link rel="stylesheet" href="/css/styles.css" />

  <main class="auth-shell">
    <section class="card auth-card">
      <h1>Verificando Acesso</h1>
      <p class="muted">Aguarde enquanto validamos seu link...</p>

      <div id="verification-status">
        <p>Verificando token...</p>
      </div>

      <div id="verification-result" style="display: none;">
        <div id="success-message" style="display: none;">
          <p style="color: #28a745;">✅ Acesso verificado com sucesso!</p>
          <p>Redirecionando para o painel...</p>
        </div>

        <div id="error-message" style="display: none;">
          <p style="color: #dc3545;">❌ Falha na verificação</p>
          <p id="error-details"></p>
          <button class="primary" onclick="window.location.href='/login'"
            >Voltar ao Login</button
          >
        </div>
      </div>
    </section>
  </main>

  <div id="nf-toasts" class="nf-toasts"></div>

  <script is:inline type="module" src="/assets/js/auth-verify.js"></script>
</Layout>
